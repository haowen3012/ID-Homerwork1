<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering</title>
<!--Generated on Mon May 27 04:04:43 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2402.07630v3/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S1" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S2" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S3" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Formalization</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S4" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Proposed GraphQA Benchmark</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S4.SS1" title="In 4 Proposed GraphQA Benchmark ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Data Format</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S4.SS2" title="In 4 Proposed GraphQA Benchmark ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Description of Datasets</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S5" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>G-Retriever</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S5.SS1" title="In 5 G-Retriever ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Indexing</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S5.SS2" title="In 5 G-Retriever ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S5.SS3" title="In 5 G-Retriever ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Subgraph Construction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S5.SS4" title="In 5 G-Retriever ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4 </span>Answer Generation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S6" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S6.SS1" title="In 6 Experiments ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1 </span>Experiment Setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S6.SS2" title="In 6 Experiments ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2 </span>Main Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S6.SS3" title="In 6 Experiments ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.3 </span>Efficiency Evaluation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S6.SS4" title="In 6 Experiments ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.4 </span>Mitigation of Hallucination</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S6.SS5" title="In 6 Experiments ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.5 </span>Ablation Study</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S7" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A1" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Impact Statements</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Experiment</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.SS1" title="In Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.1 </span>Implementation Settings</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.SS2" title="In Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.2 </span>Details of Model Configurations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.SS3" title="In Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.3 </span>Details of Ablation Study</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.SS4" title="In Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.4 </span>The Choice of Graph Encoder</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.SS5" title="In Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.5 </span>The Choice of LLM</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A3" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>GraphQA Benchmark</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A4" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Graph Retrieval-Augmented Generation (GraphRAG)</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A4.SS1" title="In Appendix D Graph Retrieval-Augmented Generation (GraphRAG) ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.1 </span>Comparison with Existing GraphRAG Methods</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A4.SS2" title="In Appendix D Graph Retrieval-Augmented Generation (GraphRAG) ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.2 </span>The Impact of K for Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A4.SS3" title="In Appendix D Graph Retrieval-Augmented Generation (GraphRAG) ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.3 </span>The Choice of Similarity Function</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A4.SS4" title="In Appendix D Graph Retrieval-Augmented Generation (GraphRAG) ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.4 </span>The Quality of Retrieval</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A5" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Discussion on the Complexity</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A5.SS1" title="In Appendix E Discussion on the Complexity ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E.1 </span>The integration of GNNs, LLMs and GraphRAG</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A5.SS2" title="In Appendix E Discussion on the Complexity ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E.2 </span>Computational Resources</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A6" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">F </span>Hallucination in Graph LLMs</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A7" title="In G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">G </span>Demonstrations</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and
<br class="ltx_break"/>Question Answering</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiaoxin He<sup class="ltx_sup" id="id14.14.id1"><span class="ltx_text ltx_font_italic" id="id14.14.id1.1">1</span></sup>
 Yijun Tian<sup class="ltx_sup" id="id15.15.id2"><span class="ltx_text ltx_font_italic" id="id15.15.id2.1">2</span></sup>
 Yifei Sun<sup class="ltx_sup" id="id16.16.id3"><span class="ltx_text ltx_font_italic" id="id16.16.id3.1">1</span></sup>
 Nitesh V. Chawla<sup class="ltx_sup" id="id17.17.id4"><span class="ltx_text ltx_font_italic" id="id17.17.id4.1">2</span></sup>
 Thomas Laurent<sup class="ltx_sup" id="id18.18.id5">3</sup>
<br class="ltx_break"/> 
<span class="ltx_text ltx_font_bold" id="id6.6.1">Yann LeCun<sup class="ltx_sup" id="id6.6.1.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id6.6.1.1.1">4,5</span></sup></span>
 <span class="ltx_text ltx_font_bold" id="id7.7.2">Xavier Bresson<sup class="ltx_sup" id="id7.7.2.1"><span class="ltx_text ltx_font_medium" id="id7.7.2.1.1">1</span></sup></span>
 <span class="ltx_text ltx_font_bold" id="id8.8.3">Bryan Hooi<sup class="ltx_sup" id="id8.8.3.1"><span class="ltx_text ltx_font_medium" id="id8.8.3.1.1">1</span></sup></span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id19.19.id6">{xiaoxin, yifeisun, xaviercs, bhooi}@comp.nus.edu.sg
<br class="ltx_break"/>{yijun.tian, nchawla}@nd.edu,</span>
<span class="ltx_text ltx_font_typewriter" id="id20.20.id7">tlaurent@lmu.edu, yann@cs.nyu.edu</span>
<br class="ltx_break"/><sup class="ltx_sup" id="id21.21.id8">1</sup>National University of Singapore   
<sup class="ltx_sup" id="id22.22.id9">2</sup>University of Notre Dame <sup class="ltx_sup" id="id23.23.id10">3</sup>Loyola Marymount University 
<br class="ltx_break"/><sup class="ltx_sup" id="id24.24.id11">4</sup>New York University <sup class="ltx_sup" id="id25.25.id12">5</sup>Meta AI
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id26.id1">Given a graph with textual attributes, we enable users to ‘chat with their graph’: that is, to ask questions about the graph using a conversational interface. In response to a user’s questions, our method provides textual replies and highlights the relevant parts of the graph. While existing works integrate large language models (LLMs) and graph neural networks (GNNs) in various ways, they mostly focus on either conventional graph tasks (such as node, edge, and graph classification), or on answering simple graph queries on small or synthetic graphs. In contrast, we develop a flexible question-answering framework targeting real-world textual graphs, applicable to multiple applications including scene graph understanding, common sense reasoning, and knowledge graph reasoning. Toward this goal, we first develop a Graph Question Answering (GraphQA) benchmark with data collected from different tasks. Then, we propose our <span class="ltx_text ltx_font_italic" id="id26.id1.1">G-Retriever</span> method, introducing the first retrieval-augmented generation (RAG) approach for general textual graphs, which can be fine-tuned to enhance graph understanding via soft prompting. To resist hallucination and to allow for textual graphs that greatly exceed the LLM’s context window size, <span class="ltx_text ltx_font_italic" id="id26.id1.2">G-Retriever</span> performs RAG over a graph by formulating this task as a Prize-Collecting Steiner Tree optimization problem. Empirical evaluations show that our method outperforms baselines on textual graph tasks from multiple domains, scales well with larger graph sizes, and mitigates hallucination. <span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Our codes and datasets are available at: <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/XiaoxinHe/G-Retriever" title="">https://github.com/XiaoxinHe/G-Retriever</a></span></span></span></p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="183" id="S1.F1.g1" src="x1.png" width="544"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F1.2.1.1" style="font-size:90%;">Figure 1</span>: </span><span class="ltx_text" id="S1.F1.3.2" style="font-size:90%;">We develop a flexible question-answering framework targeting real-world textual graph applications via a unified conversational interface. Presented here are examples showcasing the model’s adeptness in handling generative and creative queries in practical graph-related tasks: common sense reasoning, scene understanding, and knowledge graph reasoning, respectively.</span></figcaption>
</figure>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1"><span class="ltx_text ltx_font_bold" id="S1.p1.1.1">Graphs and Large Language Models (LLMs).</span> The advent of LLMs has significantly shaped the artificial intelligence landscape. As these models are applied to increasingly diverse tasks, their ability to process complex structured data will be increasingly vital. In particular, in our interconnected world, a significant portion of real-world data inherently possesses a graph structure, such as the Web, e-commerce, recommendation systems, knowledge graphs, and many others. Moreover, many of these involve graphs with textual attributes (<em class="ltx_emph ltx_font_italic" id="S1.p1.1.2">i.e.,</em> <em class="ltx_emph ltx_font_italic" id="S1.p1.1.3">textual graphs</em>), making them well-suited for LLM-centric methods. This has spurred interest in combining graph-based technologies, particularly graph neural networks (GNNs), with LLMs to enhance their reasoning on graphs <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib44" title="">44</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib15" title="">15</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib24" title="">24</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1"><span class="ltx_text ltx_font_bold" id="S1.p2.1.1">The Present Work: Enabling ‘Chat With Your Graph’.</span> While existing works integrate LLMs and GNNs in various ways, they mostly focus on conventional graph tasks such as node, edge and graph classification <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib8" title="">8</a>]</cite>, or answering simple questions on small or synthetic graphs <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib44" title="">44</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib31" title="">31</a>]</cite>. In contrast, we develop a flexible question-answering framework targeting complex and real-world graphs. This framework enables users to ‘chat with their graph’ via a unified conversational interface,
representing a leap towards intuitive interaction with graph data, as demonstrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1"><span class="ltx_text ltx_font_bold" id="S1.p3.1.1">The Need for a Comprehensive GraphQA Benchmark.</span>
Question answering (QA) is a fundamentally important task in natural language processing, serving as a key benchmark for assessing LLMs and providing a unified interface for various capabilities. Despite extensive research in QA, a comprehensive benchmark specifically tailored for the graph modality is lacking. In contrast to existing benchmarks that focus on basic graph-based reasoning tasks such as node degree, edge existence, and shortest path <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib6" title="">6</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib44" title="">44</a>]</cite>, our benchmark addresses complex and real-world graph applications including common sense reasoning, scene understanding, and knowledge graph reasoning (refer to Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S4.F2" title="Figure 2 ‣ 4 Proposed GraphQA Benchmark ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">2</span></a>). This is vital for measuring progress toward a model capable of answering a wide range of questions about graphs from diverse applications.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1"><span class="ltx_text ltx_font_bold" id="S1.p4.1.1">New Architecture for GraphQA.</span>
To enable effective and efficient graph QA, even on large graphs, we propose <span class="ltx_text ltx_font_italic" id="S1.p4.1.2">G-Retriever</span>, a new framework combining the strengths of GNNs, LLMs, and RAG (Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S5.F3" title="Figure 3 ‣ 5 G-Retriever ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">3</span></a>). Next, we will discuss the motivation, strengths, and details of our model.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1"><span class="ltx_text ltx_font_bold" id="S1.p5.1.1">Tackling Hallucination in Graph LLMs.</span> LLMs are prone to hallucination, a phenomenon where the generated content is factually inaccurate or nonsensical <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib12" title="">12</a>]</cite>. We validate the presence of this issue in graph settings. In particular, we employ a baseline method that adapts MiniGPT-4 <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib57" title="">57</a>]</cite> to graphs, where a frozen LLM interacts with a trainable GNN that encodes graph data as a soft prompt, as in GraphToken <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib31" title="">31</a>]</cite>. Our findings, shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S1.T1" title="Table 1 ‣ 1 Introduction ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">1</span></a>, indicate that hallucination, an important problem in text-based LLMs, is also prevalent in Graph LLMs. This may be attributed to the baseline’s inability to recall the entire graph structure from a single graph embedding, leading to the generation of incorrect nodes or edges during the QA task. In contrast, by employing RAG for direct information retrieval from the actual graph, our <span class="ltx_text ltx_font_italic" id="S1.p5.1.2">G-Retriever</span> mitigates this issue, as substantiated by Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S1.T1" title="Table 1 ‣ 1 Introduction ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1"><span class="ltx_text ltx_font_bold" id="S1.p6.1.1">Enhancing Scalability and Efficiency in Graph LLMs.</span> Recent research endeavors have explored translating graphs into natural language, such as by flattening nodes and edges into a text sequence, enabling their processing by LLMs for graph-based tasks <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib56" title="">56</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib6" title="">6</a>]</cite>. However, this method faces critical scalability issues. Converting a graph with thousands of nodes and edges into a text sequence results in an excessive number of tokens, surpassing the input capacity of many LLMs. An alternative of truncating the graph text sequence to fit the LLM’s input token limit leads to loss of information and response quality. <span class="ltx_text ltx_font_italic" id="S1.p6.1.2">G-Retriever</span> overcomes these issues with its RAG component, which allows for effective scaling to larger graphs by selectively retrieving only relevant parts of the graph.</p>
</div>
<figure class="ltx_table" id="S1.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S1.T1.6.1.1" style="font-size:90%;">Table 1</span>: </span><span class="ltx_text" id="S1.T1.7.2" style="font-size:90%;">Observation and mitigation of hallucination in graph LLMs.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S1.T1.4">
<tr class="ltx_tr" id="S1.T1.1.1">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="S1.T1.1.1.2" rowspan="2" style="width:113.8pt;">
<span class="ltx_inline-block ltx_align_top" id="S1.T1.1.1.2.1">
<span class="ltx_p" id="S1.T1.1.1.2.1.1"><span class="ltx_text" id="S1.T1.1.1.2.1.1.1" style="font-size:70%;">User</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="S1.T1.1.1.1" style="width:256.1pt;">
<span class="ltx_inline-block ltx_align_top" id="S1.T1.1.1.1.1">
<span class="ltx_block ltx_minipage ltx_align_middle" id="S1.T1.1.1.1.1.1" style="width:130.1pt;"><img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_landscape" height="329" id="S1.T1.1.1.1.1.1.g1" src="x2.png" width="664"/>
</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S1.T1.4.5">
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S1.T1.4.5.1" style="width:256.1pt;">
<span class="ltx_inline-block ltx_align_top" id="S1.T1.4.5.1.1">
<span class="ltx_p" id="S1.T1.4.5.1.1.1"><span class="ltx_text" id="S1.T1.4.5.1.1.1.1" style="font-size:70%;">What kind of animal is in the bushes? </span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.5.1.1.1.2" style="font-size:70%;">Answer the question and list the nodes or edges from the graph that support your answer.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S1.T1.4.4">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S1.T1.4.4.4" style="width:113.8pt;">
<span class="ltx_inline-block ltx_align_top" id="S1.T1.4.4.4.1">
<span class="ltx_p" id="S1.T1.4.4.4.1.1"><span class="ltx_text" id="S1.T1.4.4.4.1.1.1" style="font-size:70%;">LLM w/ Graph Prompt Tuning</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S1.T1.4.4.3" style="width:256.1pt;">
<span class="ltx_inline-block ltx_align_top" id="S1.T1.4.4.3.3">
<span class="ltx_p" id="S1.T1.4.4.3.3.3"><span class="ltx_text" id="S1.T1.4.4.3.3.3.4" style="font-size:70%;color:#FF0000;">[Incorrect response with hallucinated nodes and edges]</span><span class="ltx_text" id="S1.T1.4.4.3.3.3.5" style="font-size:70%;"> </span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.4.3.3.3.6" style="font-size:70%;">The animal in the bushes is a deer.</span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.4.3.3.3.7" style="font-size:70%;">Nodes:</span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.4.3.3.3.8" style="font-size:70%;">* </span><span class="ltx_text" id="S1.T1.4.4.3.3.3.9" style="font-size:70%;color:#FF0000;">Deer (node 1)</span><span class="ltx_text" id="S1.T1.4.4.3.3.3.10" style="font-size:70%;"> </span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.4.3.3.3.11" style="font-size:70%;">* Bushes (node 2)</span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.4.3.3.3.12" style="font-size:70%;">Edges:</span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.4.3.3.3.13" style="font-size:70%;">* </span><span class="ltx_text" id="S1.T1.2.2.1.1.1.1" style="font-size:70%;color:#FF0000;">Deer <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S1.T1.2.2.1.1.1.1.m1.1"><semantics id="S1.T1.2.2.1.1.1.1.m1.1a"><mo id="S1.T1.2.2.1.1.1.1.m1.1.1" mathcolor="#FF0000" stretchy="false" xref="S1.T1.2.2.1.1.1.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S1.T1.2.2.1.1.1.1.m1.1b"><ci id="S1.T1.2.2.1.1.1.1.m1.1.1.cmml" xref="S1.T1.2.2.1.1.1.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.2.2.1.1.1.1.m1.1c">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S1.T1.2.2.1.1.1.1.m1.1d">→</annotation></semantics></math> Bushes (edge 1)
<br class="ltx_break"/></span><span class="ltx_text" id="S1.T1.4.4.3.3.3.14" style="font-size:70%;">* </span><span class="ltx_text" id="S1.T1.3.3.2.2.2.2" style="font-size:70%;color:#FF0000;">Deer <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S1.T1.3.3.2.2.2.2.m1.1"><semantics id="S1.T1.3.3.2.2.2.2.m1.1a"><mo id="S1.T1.3.3.2.2.2.2.m1.1.1" mathcolor="#FF0000" stretchy="false" xref="S1.T1.3.3.2.2.2.2.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S1.T1.3.3.2.2.2.2.m1.1b"><ci id="S1.T1.3.3.2.2.2.2.m1.1.1.cmml" xref="S1.T1.3.3.2.2.2.2.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.3.3.2.2.2.2.m1.1c">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S1.T1.3.3.2.2.2.2.m1.1d">→</annotation></semantics></math> Grass (edge 2)
<br class="ltx_break"/></span><span class="ltx_text" id="S1.T1.4.4.3.3.3.15" style="font-size:70%;">* </span><span class="ltx_text" id="S1.T1.4.4.3.3.3.3" style="font-size:70%;color:#FF0000;">Bushes <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S1.T1.4.4.3.3.3.3.m1.1"><semantics id="S1.T1.4.4.3.3.3.3.m1.1a"><mo id="S1.T1.4.4.3.3.3.3.m1.1.1" mathcolor="#FF0000" stretchy="false" xref="S1.T1.4.4.3.3.3.3.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S1.T1.4.4.3.3.3.3.m1.1b"><ci id="S1.T1.4.4.3.3.3.3.m1.1.1.cmml" xref="S1.T1.4.4.3.3.3.3.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.4.4.3.3.3.3.m1.1c">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S1.T1.4.4.3.3.3.3.m1.1d">→</annotation></semantics></math> Grass (edge 3)</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S1.T1.4.6">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb ltx_border_t" id="S1.T1.4.6.1" style="width:113.8pt;">
<span class="ltx_inline-block ltx_align_top" id="S1.T1.4.6.1.1">
<span class="ltx_p" id="S1.T1.4.6.1.1.1"><span class="ltx_text ltx_font_italic" id="S1.T1.4.6.1.1.1.1" style="font-size:70%;">G-Retriever</span><span class="ltx_text" id="S1.T1.4.6.1.1.1.2" style="font-size:70%;"> (Ours)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb ltx_border_t" id="S1.T1.4.6.2" style="width:256.1pt;">
<span class="ltx_inline-block ltx_align_top" id="S1.T1.4.6.2.1">
<span class="ltx_p" id="S1.T1.4.6.2.1.1"><span class="ltx_text" id="S1.T1.4.6.2.1.1.1" style="font-size:70%;color:#0000FF;">[Correct response with accurate node and edge references]</span><span class="ltx_text" id="S1.T1.4.6.2.1.1.2" style="font-size:70%;"> </span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.6.2.1.1.3" style="font-size:70%;">Based on the information provided in the graph, the animal in the bushes is an elephant.</span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.6.2.1.1.4" style="font-size:70%;">The nodes that support this answer are:</span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.6.2.1.1.5" style="font-size:70%;">* Node 1: The </span><span class="ltx_text" id="S1.T1.4.6.2.1.1.6" style="font-size:70%;color:#0000FF;">elephant</span><span class="ltx_text" id="S1.T1.4.6.2.1.1.7" style="font-size:70%;"> is mentioned in the first line of the graph.</span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.6.2.1.1.8" style="font-size:70%;">The edges that support this answer are:</span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.6.2.1.1.9" style="font-size:70%;">* The edge </span><span class="ltx_text" id="S1.T1.4.6.2.1.1.10" style="font-size:70%;color:#0000FF;">connects the elephant to the bushes</span><span class="ltx_text" id="S1.T1.4.6.2.1.1.11" style="font-size:70%;">, indicating that the elephant is in the bushes.</span>
<br class="ltx_break"/><span class="ltx_text" id="S1.T1.4.6.2.1.1.12" style="font-size:70%;">Therefore, the answer to the question is: The animal in the bushes is an elephant.</span></span>
</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1"><span class="ltx_text ltx_font_bold" id="S1.p7.1.1">Tailoring the RAG Approach to Graphs.</span> Existing RAG methodologies are primarily designed for simpler data types or knowledge graphs, where information is retrieved in a manner isolated from the graph structure <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib7" title="">7</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib1" title="">1</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib36" title="">36</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib16" title="">16</a>]</cite>. Hence, we introduce a new retrieval approach for general textual graphs. Notably, we formulate subgraph retrieval as a Prize-Collecting Steiner Tree (PCST) optimization problem, which takes the neighborhood information into account during retrieval. This also allows the return of a subgraph most relevant to a query, thereby improving explainability.</p>
</div>
<div class="ltx_para" id="S1.p8">
<p class="ltx_p" id="S1.p8.1">The contributions of this paper are outlined as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i1.p1.1.1">Pioneering the integration of Graph RAG.</span> We present the first retrieval approach for general textual graph tasks, which greatly enhances scalability and efficiency.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i2.p1.1.1">Enabling ‘Chat with Your Graph’.</span> We develop a flexible question answering framework to handle complex and real-world textual graphs through a unified conversational interface.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i3.p1.1.1">Introducing A Novel GraphQA Benchmark.</span> We introduce a diverse benchmark targeted at real-world graph question answering, filling a crucial research gap.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i4.p1.1.1">Empirical Findings.</span> We demonstrate the efficiency and effectiveness of <span class="ltx_text ltx_font_italic" id="S1.I1.i4.p1.1.2">G-Retriever</span> in multiple domains and present the significant finding of hallucination in graph LLMs.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1"><span class="ltx_text ltx_font_bold" id="S2.p1.1.1">Graphs and Large Language Models.</span> A significant body of research has emerged at the intersection of graph-based techniques and LLMs <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib30" title="">30</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib24" title="">24</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib15" title="">15</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib44" title="">44</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib54" title="">54</a>]</cite>. This exploration spans diverse aspects, ranging from the design of general graph models <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib47" title="">47</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib25" title="">25</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib51" title="">51</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib19" title="">19</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib40" title="">40</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib31" title="">31</a>]</cite>, and multi-modal architectures <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib23" title="">23</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib49" title="">49</a>]</cite> to practical applications. Noteworthy applications include fundamental graph reasoning <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib52" title="">52</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib3" title="">3</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib56" title="">56</a>]</cite>, node classification <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib8" title="">8</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib11" title="">11</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib39" title="">39</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib5" title="">5</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib50" title="">50</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib4" title="">4</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib33" title="">33</a>]</cite>, graph classification/regression <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib32" title="">32</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib55" title="">55</a>]</cite>, and leveraging LLMs for knowledge graph-related tasks <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib41" title="">41</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib14" title="">14</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib29" title="">29</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1"><span class="ltx_text ltx_font_bold" id="S2.p2.1.1">Retrieval-Augmented Generation (RAG).</span>
The concept of Retrieval-Augmented Generation, initially proposed by <cite class="ltx_cite ltx_citemacro_citet">Lewis et al. [<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib21" title="">21</a>]</cite>, has gained increased attention for its ability to mitigate the issue of hallucination within LLMs and enhance trustworthiness and explainability <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib7" title="">7</a>]</cite>.
Despite its success in language-related tasks, the application of retrieval-based approaches to general graph tasks remains largely unexplored. Most existing work focuses primarily on the knowledge graph <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib38" title="">38</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib1" title="">1</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib36" title="">36</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib16" title="">16</a>]</cite>.
Our research is the first to apply a retrieval-based approach to general graph tasks, marking a novel advancement in the field and demonstrating the versatility of RAG beyond language processing.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1"><span class="ltx_text ltx_font_bold" id="S2.p3.1.1">Parameter-Efficient Fine-Tuning (PEFT).</span> The field of LLMs has witnessed significant advancements through various parameter-efficient fine-tuning techniques. These methodologies have played a crucial role in refining LLMs, boosting their performance while minimizing the need for extensive parameter training. Notable among these techniques are prompt tuning, as introduced by <cite class="ltx_cite ltx_citemacro_citet">Lester et al. [<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib20" title="">20</a>]</cite>, and prefix tuning, proposed by <cite class="ltx_cite ltx_citemacro_citet">Li and Liang [<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib22" title="">22</a>]</cite>. Furthermore, methods like LoRA <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib10" title="">10</a>]</cite>, and the LLaMA-adapter <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib53" title="">53</a>]</cite>, have been influential. These advancements in PEFT have laid the foundation for the development of sophisticated multimodal models. Prominent examples in this domain include MiniGPT-4 <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib57" title="">57</a>]</cite>, LLaVA <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib26" title="">26</a>]</cite>, and NExT-Chat <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib46" title="">46</a>]</cite>.
There are also emerging efforts in applying PEFT to graph LLMs, such as GraphLLM <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib3" title="">3</a>]</cite> and GraphToken <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib31" title="">31</a>]</cite> for basic graph reasoing tasks and GNP <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib41" title="">41</a>]</cite> for multi-option QA on knowledge graphs.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Formalization</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">This section establishes the notation and formalizes key concepts related to textual graphs, language models for text encoding, and large language models and prompt tuning.</p>
</div>
<div class="ltx_para" id="S3.p2">
<p class="ltx_p" id="S3.p2.10"><span class="ltx_text ltx_font_bold" id="S3.p2.10.1">Textual Graphs.</span> A textual graph is a graph where nodes and edges possess textual attributes.
Formally, it can be defined as <math alttext="G=(V,E,\{x_{n}\}_{n\in V},\{x_{e}\}_{e\in E})" class="ltx_Math" display="inline" id="S3.p2.1.m1.4"><semantics id="S3.p2.1.m1.4a"><mrow id="S3.p2.1.m1.4.4" xref="S3.p2.1.m1.4.4.cmml"><mi id="S3.p2.1.m1.4.4.4" xref="S3.p2.1.m1.4.4.4.cmml">G</mi><mo id="S3.p2.1.m1.4.4.3" xref="S3.p2.1.m1.4.4.3.cmml">=</mo><mrow id="S3.p2.1.m1.4.4.2.2" xref="S3.p2.1.m1.4.4.2.3.cmml"><mo id="S3.p2.1.m1.4.4.2.2.3" stretchy="false" xref="S3.p2.1.m1.4.4.2.3.cmml">(</mo><mi id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml">V</mi><mo id="S3.p2.1.m1.4.4.2.2.4" xref="S3.p2.1.m1.4.4.2.3.cmml">,</mo><mi id="S3.p2.1.m1.2.2" xref="S3.p2.1.m1.2.2.cmml">E</mi><mo id="S3.p2.1.m1.4.4.2.2.5" xref="S3.p2.1.m1.4.4.2.3.cmml">,</mo><msub id="S3.p2.1.m1.3.3.1.1.1" xref="S3.p2.1.m1.3.3.1.1.1.cmml"><mrow id="S3.p2.1.m1.3.3.1.1.1.1.1" xref="S3.p2.1.m1.3.3.1.1.1.1.2.cmml"><mo id="S3.p2.1.m1.3.3.1.1.1.1.1.2" stretchy="false" xref="S3.p2.1.m1.3.3.1.1.1.1.2.cmml">{</mo><msub id="S3.p2.1.m1.3.3.1.1.1.1.1.1" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1.cmml"><mi id="S3.p2.1.m1.3.3.1.1.1.1.1.1.2" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.p2.1.m1.3.3.1.1.1.1.1.1.3" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1.3.cmml">n</mi></msub><mo id="S3.p2.1.m1.3.3.1.1.1.1.1.3" stretchy="false" xref="S3.p2.1.m1.3.3.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.p2.1.m1.3.3.1.1.1.3" xref="S3.p2.1.m1.3.3.1.1.1.3.cmml"><mi id="S3.p2.1.m1.3.3.1.1.1.3.2" xref="S3.p2.1.m1.3.3.1.1.1.3.2.cmml">n</mi><mo id="S3.p2.1.m1.3.3.1.1.1.3.1" xref="S3.p2.1.m1.3.3.1.1.1.3.1.cmml">∈</mo><mi id="S3.p2.1.m1.3.3.1.1.1.3.3" xref="S3.p2.1.m1.3.3.1.1.1.3.3.cmml">V</mi></mrow></msub><mo id="S3.p2.1.m1.4.4.2.2.6" xref="S3.p2.1.m1.4.4.2.3.cmml">,</mo><msub id="S3.p2.1.m1.4.4.2.2.2" xref="S3.p2.1.m1.4.4.2.2.2.cmml"><mrow id="S3.p2.1.m1.4.4.2.2.2.1.1" xref="S3.p2.1.m1.4.4.2.2.2.1.2.cmml"><mo id="S3.p2.1.m1.4.4.2.2.2.1.1.2" stretchy="false" xref="S3.p2.1.m1.4.4.2.2.2.1.2.cmml">{</mo><msub id="S3.p2.1.m1.4.4.2.2.2.1.1.1" xref="S3.p2.1.m1.4.4.2.2.2.1.1.1.cmml"><mi id="S3.p2.1.m1.4.4.2.2.2.1.1.1.2" xref="S3.p2.1.m1.4.4.2.2.2.1.1.1.2.cmml">x</mi><mi id="S3.p2.1.m1.4.4.2.2.2.1.1.1.3" xref="S3.p2.1.m1.4.4.2.2.2.1.1.1.3.cmml">e</mi></msub><mo id="S3.p2.1.m1.4.4.2.2.2.1.1.3" stretchy="false" xref="S3.p2.1.m1.4.4.2.2.2.1.2.cmml">}</mo></mrow><mrow id="S3.p2.1.m1.4.4.2.2.2.3" xref="S3.p2.1.m1.4.4.2.2.2.3.cmml"><mi id="S3.p2.1.m1.4.4.2.2.2.3.2" xref="S3.p2.1.m1.4.4.2.2.2.3.2.cmml">e</mi><mo id="S3.p2.1.m1.4.4.2.2.2.3.1" xref="S3.p2.1.m1.4.4.2.2.2.3.1.cmml">∈</mo><mi id="S3.p2.1.m1.4.4.2.2.2.3.3" xref="S3.p2.1.m1.4.4.2.2.2.3.3.cmml">E</mi></mrow></msub><mo id="S3.p2.1.m1.4.4.2.2.7" stretchy="false" xref="S3.p2.1.m1.4.4.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.4b"><apply id="S3.p2.1.m1.4.4.cmml" xref="S3.p2.1.m1.4.4"><eq id="S3.p2.1.m1.4.4.3.cmml" xref="S3.p2.1.m1.4.4.3"></eq><ci id="S3.p2.1.m1.4.4.4.cmml" xref="S3.p2.1.m1.4.4.4">𝐺</ci><vector id="S3.p2.1.m1.4.4.2.3.cmml" xref="S3.p2.1.m1.4.4.2.2"><ci id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1">𝑉</ci><ci id="S3.p2.1.m1.2.2.cmml" xref="S3.p2.1.m1.2.2">𝐸</ci><apply id="S3.p2.1.m1.3.3.1.1.1.cmml" xref="S3.p2.1.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.p2.1.m1.3.3.1.1.1.2.cmml" xref="S3.p2.1.m1.3.3.1.1.1">subscript</csymbol><set id="S3.p2.1.m1.3.3.1.1.1.1.2.cmml" xref="S3.p2.1.m1.3.3.1.1.1.1.1"><apply id="S3.p2.1.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p2.1.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.p2.1.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.p2.1.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.p2.1.m1.3.3.1.1.1.1.1.1.3">𝑛</ci></apply></set><apply id="S3.p2.1.m1.3.3.1.1.1.3.cmml" xref="S3.p2.1.m1.3.3.1.1.1.3"><in id="S3.p2.1.m1.3.3.1.1.1.3.1.cmml" xref="S3.p2.1.m1.3.3.1.1.1.3.1"></in><ci id="S3.p2.1.m1.3.3.1.1.1.3.2.cmml" xref="S3.p2.1.m1.3.3.1.1.1.3.2">𝑛</ci><ci id="S3.p2.1.m1.3.3.1.1.1.3.3.cmml" xref="S3.p2.1.m1.3.3.1.1.1.3.3">𝑉</ci></apply></apply><apply id="S3.p2.1.m1.4.4.2.2.2.cmml" xref="S3.p2.1.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.p2.1.m1.4.4.2.2.2.2.cmml" xref="S3.p2.1.m1.4.4.2.2.2">subscript</csymbol><set id="S3.p2.1.m1.4.4.2.2.2.1.2.cmml" xref="S3.p2.1.m1.4.4.2.2.2.1.1"><apply id="S3.p2.1.m1.4.4.2.2.2.1.1.1.cmml" xref="S3.p2.1.m1.4.4.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.p2.1.m1.4.4.2.2.2.1.1.1.1.cmml" xref="S3.p2.1.m1.4.4.2.2.2.1.1.1">subscript</csymbol><ci id="S3.p2.1.m1.4.4.2.2.2.1.1.1.2.cmml" xref="S3.p2.1.m1.4.4.2.2.2.1.1.1.2">𝑥</ci><ci id="S3.p2.1.m1.4.4.2.2.2.1.1.1.3.cmml" xref="S3.p2.1.m1.4.4.2.2.2.1.1.1.3">𝑒</ci></apply></set><apply id="S3.p2.1.m1.4.4.2.2.2.3.cmml" xref="S3.p2.1.m1.4.4.2.2.2.3"><in id="S3.p2.1.m1.4.4.2.2.2.3.1.cmml" xref="S3.p2.1.m1.4.4.2.2.2.3.1"></in><ci id="S3.p2.1.m1.4.4.2.2.2.3.2.cmml" xref="S3.p2.1.m1.4.4.2.2.2.3.2">𝑒</ci><ci id="S3.p2.1.m1.4.4.2.2.2.3.3.cmml" xref="S3.p2.1.m1.4.4.2.2.2.3.3">𝐸</ci></apply></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.4c">G=(V,E,\{x_{n}\}_{n\in V},\{x_{e}\}_{e\in E})</annotation><annotation encoding="application/x-llamapun" id="S3.p2.1.m1.4d">italic_G = ( italic_V , italic_E , { italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_n ∈ italic_V end_POSTSUBSCRIPT , { italic_x start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_e ∈ italic_E end_POSTSUBSCRIPT )</annotation></semantics></math>, where <math alttext="V" class="ltx_Math" display="inline" id="S3.p2.2.m2.1"><semantics id="S3.p2.2.m2.1a"><mi id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml">V</mi><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><ci id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1">𝑉</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">V</annotation><annotation encoding="application/x-llamapun" id="S3.p2.2.m2.1d">italic_V</annotation></semantics></math> and <math alttext="E" class="ltx_Math" display="inline" id="S3.p2.3.m3.1"><semantics id="S3.p2.3.m3.1a"><mi id="S3.p2.3.m3.1.1" xref="S3.p2.3.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S3.p2.3.m3.1b"><ci id="S3.p2.3.m3.1.1.cmml" xref="S3.p2.3.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.3.m3.1c">E</annotation><annotation encoding="application/x-llamapun" id="S3.p2.3.m3.1d">italic_E</annotation></semantics></math> represent the sets of nodes and edges, respectively. Additionally, <math alttext="x_{n}\in D^{L_{n}}" class="ltx_Math" display="inline" id="S3.p2.4.m4.1"><semantics id="S3.p2.4.m4.1a"><mrow id="S3.p2.4.m4.1.1" xref="S3.p2.4.m4.1.1.cmml"><msub id="S3.p2.4.m4.1.1.2" xref="S3.p2.4.m4.1.1.2.cmml"><mi id="S3.p2.4.m4.1.1.2.2" xref="S3.p2.4.m4.1.1.2.2.cmml">x</mi><mi id="S3.p2.4.m4.1.1.2.3" xref="S3.p2.4.m4.1.1.2.3.cmml">n</mi></msub><mo id="S3.p2.4.m4.1.1.1" xref="S3.p2.4.m4.1.1.1.cmml">∈</mo><msup id="S3.p2.4.m4.1.1.3" xref="S3.p2.4.m4.1.1.3.cmml"><mi id="S3.p2.4.m4.1.1.3.2" xref="S3.p2.4.m4.1.1.3.2.cmml">D</mi><msub id="S3.p2.4.m4.1.1.3.3" xref="S3.p2.4.m4.1.1.3.3.cmml"><mi id="S3.p2.4.m4.1.1.3.3.2" xref="S3.p2.4.m4.1.1.3.3.2.cmml">L</mi><mi id="S3.p2.4.m4.1.1.3.3.3" xref="S3.p2.4.m4.1.1.3.3.3.cmml">n</mi></msub></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.4.m4.1b"><apply id="S3.p2.4.m4.1.1.cmml" xref="S3.p2.4.m4.1.1"><in id="S3.p2.4.m4.1.1.1.cmml" xref="S3.p2.4.m4.1.1.1"></in><apply id="S3.p2.4.m4.1.1.2.cmml" xref="S3.p2.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.p2.4.m4.1.1.2.1.cmml" xref="S3.p2.4.m4.1.1.2">subscript</csymbol><ci id="S3.p2.4.m4.1.1.2.2.cmml" xref="S3.p2.4.m4.1.1.2.2">𝑥</ci><ci id="S3.p2.4.m4.1.1.2.3.cmml" xref="S3.p2.4.m4.1.1.2.3">𝑛</ci></apply><apply id="S3.p2.4.m4.1.1.3.cmml" xref="S3.p2.4.m4.1.1.3"><csymbol cd="ambiguous" id="S3.p2.4.m4.1.1.3.1.cmml" xref="S3.p2.4.m4.1.1.3">superscript</csymbol><ci id="S3.p2.4.m4.1.1.3.2.cmml" xref="S3.p2.4.m4.1.1.3.2">𝐷</ci><apply id="S3.p2.4.m4.1.1.3.3.cmml" xref="S3.p2.4.m4.1.1.3.3"><csymbol cd="ambiguous" id="S3.p2.4.m4.1.1.3.3.1.cmml" xref="S3.p2.4.m4.1.1.3.3">subscript</csymbol><ci id="S3.p2.4.m4.1.1.3.3.2.cmml" xref="S3.p2.4.m4.1.1.3.3.2">𝐿</ci><ci id="S3.p2.4.m4.1.1.3.3.3.cmml" xref="S3.p2.4.m4.1.1.3.3.3">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m4.1c">x_{n}\in D^{L_{n}}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.4.m4.1d">italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ∈ italic_D start_POSTSUPERSCRIPT italic_L start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="x_{e}\in D^{L_{e}}" class="ltx_Math" display="inline" id="S3.p2.5.m5.1"><semantics id="S3.p2.5.m5.1a"><mrow id="S3.p2.5.m5.1.1" xref="S3.p2.5.m5.1.1.cmml"><msub id="S3.p2.5.m5.1.1.2" xref="S3.p2.5.m5.1.1.2.cmml"><mi id="S3.p2.5.m5.1.1.2.2" xref="S3.p2.5.m5.1.1.2.2.cmml">x</mi><mi id="S3.p2.5.m5.1.1.2.3" xref="S3.p2.5.m5.1.1.2.3.cmml">e</mi></msub><mo id="S3.p2.5.m5.1.1.1" xref="S3.p2.5.m5.1.1.1.cmml">∈</mo><msup id="S3.p2.5.m5.1.1.3" xref="S3.p2.5.m5.1.1.3.cmml"><mi id="S3.p2.5.m5.1.1.3.2" xref="S3.p2.5.m5.1.1.3.2.cmml">D</mi><msub id="S3.p2.5.m5.1.1.3.3" xref="S3.p2.5.m5.1.1.3.3.cmml"><mi id="S3.p2.5.m5.1.1.3.3.2" xref="S3.p2.5.m5.1.1.3.3.2.cmml">L</mi><mi id="S3.p2.5.m5.1.1.3.3.3" xref="S3.p2.5.m5.1.1.3.3.3.cmml">e</mi></msub></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.5.m5.1b"><apply id="S3.p2.5.m5.1.1.cmml" xref="S3.p2.5.m5.1.1"><in id="S3.p2.5.m5.1.1.1.cmml" xref="S3.p2.5.m5.1.1.1"></in><apply id="S3.p2.5.m5.1.1.2.cmml" xref="S3.p2.5.m5.1.1.2"><csymbol cd="ambiguous" id="S3.p2.5.m5.1.1.2.1.cmml" xref="S3.p2.5.m5.1.1.2">subscript</csymbol><ci id="S3.p2.5.m5.1.1.2.2.cmml" xref="S3.p2.5.m5.1.1.2.2">𝑥</ci><ci id="S3.p2.5.m5.1.1.2.3.cmml" xref="S3.p2.5.m5.1.1.2.3">𝑒</ci></apply><apply id="S3.p2.5.m5.1.1.3.cmml" xref="S3.p2.5.m5.1.1.3"><csymbol cd="ambiguous" id="S3.p2.5.m5.1.1.3.1.cmml" xref="S3.p2.5.m5.1.1.3">superscript</csymbol><ci id="S3.p2.5.m5.1.1.3.2.cmml" xref="S3.p2.5.m5.1.1.3.2">𝐷</ci><apply id="S3.p2.5.m5.1.1.3.3.cmml" xref="S3.p2.5.m5.1.1.3.3"><csymbol cd="ambiguous" id="S3.p2.5.m5.1.1.3.3.1.cmml" xref="S3.p2.5.m5.1.1.3.3">subscript</csymbol><ci id="S3.p2.5.m5.1.1.3.3.2.cmml" xref="S3.p2.5.m5.1.1.3.3.2">𝐿</ci><ci id="S3.p2.5.m5.1.1.3.3.3.cmml" xref="S3.p2.5.m5.1.1.3.3.3">𝑒</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.5.m5.1c">x_{e}\in D^{L_{e}}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.5.m5.1d">italic_x start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ∈ italic_D start_POSTSUPERSCRIPT italic_L start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math> denote sequential text associate with a node <math alttext="n\in V" class="ltx_Math" display="inline" id="S3.p2.6.m6.1"><semantics id="S3.p2.6.m6.1a"><mrow id="S3.p2.6.m6.1.1" xref="S3.p2.6.m6.1.1.cmml"><mi id="S3.p2.6.m6.1.1.2" xref="S3.p2.6.m6.1.1.2.cmml">n</mi><mo id="S3.p2.6.m6.1.1.1" xref="S3.p2.6.m6.1.1.1.cmml">∈</mo><mi id="S3.p2.6.m6.1.1.3" xref="S3.p2.6.m6.1.1.3.cmml">V</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.6.m6.1b"><apply id="S3.p2.6.m6.1.1.cmml" xref="S3.p2.6.m6.1.1"><in id="S3.p2.6.m6.1.1.1.cmml" xref="S3.p2.6.m6.1.1.1"></in><ci id="S3.p2.6.m6.1.1.2.cmml" xref="S3.p2.6.m6.1.1.2">𝑛</ci><ci id="S3.p2.6.m6.1.1.3.cmml" xref="S3.p2.6.m6.1.1.3">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.6.m6.1c">n\in V</annotation><annotation encoding="application/x-llamapun" id="S3.p2.6.m6.1d">italic_n ∈ italic_V</annotation></semantics></math> or an edge <math alttext="e\in E" class="ltx_Math" display="inline" id="S3.p2.7.m7.1"><semantics id="S3.p2.7.m7.1a"><mrow id="S3.p2.7.m7.1.1" xref="S3.p2.7.m7.1.1.cmml"><mi id="S3.p2.7.m7.1.1.2" xref="S3.p2.7.m7.1.1.2.cmml">e</mi><mo id="S3.p2.7.m7.1.1.1" xref="S3.p2.7.m7.1.1.1.cmml">∈</mo><mi id="S3.p2.7.m7.1.1.3" xref="S3.p2.7.m7.1.1.3.cmml">E</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.7.m7.1b"><apply id="S3.p2.7.m7.1.1.cmml" xref="S3.p2.7.m7.1.1"><in id="S3.p2.7.m7.1.1.1.cmml" xref="S3.p2.7.m7.1.1.1"></in><ci id="S3.p2.7.m7.1.1.2.cmml" xref="S3.p2.7.m7.1.1.2">𝑒</ci><ci id="S3.p2.7.m7.1.1.3.cmml" xref="S3.p2.7.m7.1.1.3">𝐸</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.7.m7.1c">e\in E</annotation><annotation encoding="application/x-llamapun" id="S3.p2.7.m7.1d">italic_e ∈ italic_E</annotation></semantics></math>, where <math alttext="D" class="ltx_Math" display="inline" id="S3.p2.8.m8.1"><semantics id="S3.p2.8.m8.1a"><mi id="S3.p2.8.m8.1.1" xref="S3.p2.8.m8.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.p2.8.m8.1b"><ci id="S3.p2.8.m8.1.1.cmml" xref="S3.p2.8.m8.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.8.m8.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.p2.8.m8.1d">italic_D</annotation></semantics></math> represents the vocabulary, and <math alttext="L_{n}" class="ltx_Math" display="inline" id="S3.p2.9.m9.1"><semantics id="S3.p2.9.m9.1a"><msub id="S3.p2.9.m9.1.1" xref="S3.p2.9.m9.1.1.cmml"><mi id="S3.p2.9.m9.1.1.2" xref="S3.p2.9.m9.1.1.2.cmml">L</mi><mi id="S3.p2.9.m9.1.1.3" xref="S3.p2.9.m9.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.9.m9.1b"><apply id="S3.p2.9.m9.1.1.cmml" xref="S3.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.p2.9.m9.1.1.1.cmml" xref="S3.p2.9.m9.1.1">subscript</csymbol><ci id="S3.p2.9.m9.1.1.2.cmml" xref="S3.p2.9.m9.1.1.2">𝐿</ci><ci id="S3.p2.9.m9.1.1.3.cmml" xref="S3.p2.9.m9.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.9.m9.1c">L_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.9.m9.1d">italic_L start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="L_{e}" class="ltx_Math" display="inline" id="S3.p2.10.m10.1"><semantics id="S3.p2.10.m10.1a"><msub id="S3.p2.10.m10.1.1" xref="S3.p2.10.m10.1.1.cmml"><mi id="S3.p2.10.m10.1.1.2" xref="S3.p2.10.m10.1.1.2.cmml">L</mi><mi id="S3.p2.10.m10.1.1.3" xref="S3.p2.10.m10.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.10.m10.1b"><apply id="S3.p2.10.m10.1.1.cmml" xref="S3.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.p2.10.m10.1.1.1.cmml" xref="S3.p2.10.m10.1.1">subscript</csymbol><ci id="S3.p2.10.m10.1.1.2.cmml" xref="S3.p2.10.m10.1.1.2">𝐿</ci><ci id="S3.p2.10.m10.1.1.3.cmml" xref="S3.p2.10.m10.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.10.m10.1c">L_{e}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.10.m10.1d">italic_L start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math> signify the length of the text associated with the respective node or edge.</p>
</div>
<div class="ltx_para" id="S3.p3">
<p class="ltx_p" id="S3.p3.2"><span class="ltx_text ltx_font_bold" id="S3.p3.2.1">Language Models for Text Encoding.</span>
In the context of textual graphs, language models (LMs) are essential for encoding the text attributes associated with nodes and edges, thereby learning representations that capture their semantic meaning.
For a node <math alttext="n" class="ltx_Math" display="inline" id="S3.p3.1.m1.1"><semantics id="S3.p3.1.m1.1a"><mi id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><ci id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.p3.1.m1.1d">italic_n</annotation></semantics></math> with text attributes <math alttext="x_{n}\in D^{L_{n}}" class="ltx_Math" display="inline" id="S3.p3.2.m2.1"><semantics id="S3.p3.2.m2.1a"><mrow id="S3.p3.2.m2.1.1" xref="S3.p3.2.m2.1.1.cmml"><msub id="S3.p3.2.m2.1.1.2" xref="S3.p3.2.m2.1.1.2.cmml"><mi id="S3.p3.2.m2.1.1.2.2" xref="S3.p3.2.m2.1.1.2.2.cmml">x</mi><mi id="S3.p3.2.m2.1.1.2.3" xref="S3.p3.2.m2.1.1.2.3.cmml">n</mi></msub><mo id="S3.p3.2.m2.1.1.1" xref="S3.p3.2.m2.1.1.1.cmml">∈</mo><msup id="S3.p3.2.m2.1.1.3" xref="S3.p3.2.m2.1.1.3.cmml"><mi id="S3.p3.2.m2.1.1.3.2" xref="S3.p3.2.m2.1.1.3.2.cmml">D</mi><msub id="S3.p3.2.m2.1.1.3.3" xref="S3.p3.2.m2.1.1.3.3.cmml"><mi id="S3.p3.2.m2.1.1.3.3.2" xref="S3.p3.2.m2.1.1.3.3.2.cmml">L</mi><mi id="S3.p3.2.m2.1.1.3.3.3" xref="S3.p3.2.m2.1.1.3.3.3.cmml">n</mi></msub></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.2.m2.1b"><apply id="S3.p3.2.m2.1.1.cmml" xref="S3.p3.2.m2.1.1"><in id="S3.p3.2.m2.1.1.1.cmml" xref="S3.p3.2.m2.1.1.1"></in><apply id="S3.p3.2.m2.1.1.2.cmml" xref="S3.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.p3.2.m2.1.1.2.1.cmml" xref="S3.p3.2.m2.1.1.2">subscript</csymbol><ci id="S3.p3.2.m2.1.1.2.2.cmml" xref="S3.p3.2.m2.1.1.2.2">𝑥</ci><ci id="S3.p3.2.m2.1.1.2.3.cmml" xref="S3.p3.2.m2.1.1.2.3">𝑛</ci></apply><apply id="S3.p3.2.m2.1.1.3.cmml" xref="S3.p3.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.p3.2.m2.1.1.3.1.cmml" xref="S3.p3.2.m2.1.1.3">superscript</csymbol><ci id="S3.p3.2.m2.1.1.3.2.cmml" xref="S3.p3.2.m2.1.1.3.2">𝐷</ci><apply id="S3.p3.2.m2.1.1.3.3.cmml" xref="S3.p3.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="S3.p3.2.m2.1.1.3.3.1.cmml" xref="S3.p3.2.m2.1.1.3.3">subscript</csymbol><ci id="S3.p3.2.m2.1.1.3.3.2.cmml" xref="S3.p3.2.m2.1.1.3.3.2">𝐿</ci><ci id="S3.p3.2.m2.1.1.3.3.3.cmml" xref="S3.p3.2.m2.1.1.3.3.3">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.2.m2.1c">x_{n}\in D^{L_{n}}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.2.m2.1d">italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ∈ italic_D start_POSTSUPERSCRIPT italic_L start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>, an LM encodes these attributes as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="z_{n}=\text{LM}(x_{n})\in\mathbb{R}^{d}," class="ltx_Math" display="block" id="S3.E1.m1.1"><semantics id="S3.E1.m1.1a"><mrow id="S3.E1.m1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><mrow id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><msub id="S3.E1.m1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.1.1.1.1.3.2" xref="S3.E1.m1.1.1.1.1.3.2.cmml">z</mi><mi id="S3.E1.m1.1.1.1.1.3.3" xref="S3.E1.m1.1.1.1.1.3.3.cmml">n</mi></msub><mo id="S3.E1.m1.1.1.1.1.4" xref="S3.E1.m1.1.1.1.1.4.cmml">=</mo><mrow id="S3.E1.m1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.cmml"><mtext id="S3.E1.m1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.3a.cmml">LM</mtext><mo id="S3.E1.m1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E1.m1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.cmml">n</mi></msub><mo id="S3.E1.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.1.1.1.1.5" xref="S3.E1.m1.1.1.1.1.5.cmml">∈</mo><msup id="S3.E1.m1.1.1.1.1.6" xref="S3.E1.m1.1.1.1.1.6.cmml"><mi id="S3.E1.m1.1.1.1.1.6.2" xref="S3.E1.m1.1.1.1.1.6.2.cmml">ℝ</mi><mi id="S3.E1.m1.1.1.1.1.6.3" xref="S3.E1.m1.1.1.1.1.6.3.cmml">d</mi></msup></mrow><mo id="S3.E1.m1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.1b"><apply id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1"><and id="S3.E1.m1.1.1.1.1a.cmml" xref="S3.E1.m1.1.1.1"></and><apply id="S3.E1.m1.1.1.1.1b.cmml" xref="S3.E1.m1.1.1.1"><eq id="S3.E1.m1.1.1.1.1.4.cmml" xref="S3.E1.m1.1.1.1.1.4"></eq><apply id="S3.E1.m1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.1.1.3.2">𝑧</ci><ci id="S3.E1.m1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3">𝑛</ci></apply><apply id="S3.E1.m1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1"><times id="S3.E1.m1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.2"></times><ci id="S3.E1.m1.1.1.1.1.1.3a.cmml" xref="S3.E1.m1.1.1.1.1.1.3"><mtext id="S3.E1.m1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.3">LM</mtext></ci><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply></apply><apply id="S3.E1.m1.1.1.1.1c.cmml" xref="S3.E1.m1.1.1.1"><in id="S3.E1.m1.1.1.1.1.5.cmml" xref="S3.E1.m1.1.1.1.1.5"></in><share href="https://arxiv.org/html/2402.07630v3#S3.E1.m1.1.1.1.1.1.cmml" id="S3.E1.m1.1.1.1.1d.cmml" xref="S3.E1.m1.1.1.1"></share><apply id="S3.E1.m1.1.1.1.1.6.cmml" xref="S3.E1.m1.1.1.1.1.6"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.6.1.cmml" xref="S3.E1.m1.1.1.1.1.6">superscript</csymbol><ci id="S3.E1.m1.1.1.1.1.6.2.cmml" xref="S3.E1.m1.1.1.1.1.6.2">ℝ</ci><ci id="S3.E1.m1.1.1.1.1.6.3.cmml" xref="S3.E1.m1.1.1.1.1.6.3">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.1c">z_{n}=\text{LM}(x_{n})\in\mathbb{R}^{d},</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.1d">italic_z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT = LM ( italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) ∈ blackboard_R start_POSTSUPERSCRIPT italic_d end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.p3.4">where <math alttext="z_{n}" class="ltx_Math" display="inline" id="S3.p3.3.m1.1"><semantics id="S3.p3.3.m1.1a"><msub id="S3.p3.3.m1.1.1" xref="S3.p3.3.m1.1.1.cmml"><mi id="S3.p3.3.m1.1.1.2" xref="S3.p3.3.m1.1.1.2.cmml">z</mi><mi id="S3.p3.3.m1.1.1.3" xref="S3.p3.3.m1.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.3.m1.1b"><apply id="S3.p3.3.m1.1.1.cmml" xref="S3.p3.3.m1.1.1"><csymbol cd="ambiguous" id="S3.p3.3.m1.1.1.1.cmml" xref="S3.p3.3.m1.1.1">subscript</csymbol><ci id="S3.p3.3.m1.1.1.2.cmml" xref="S3.p3.3.m1.1.1.2">𝑧</ci><ci id="S3.p3.3.m1.1.1.3.cmml" xref="S3.p3.3.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.3.m1.1c">z_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.3.m1.1d">italic_z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math> is the output of the LM, and <math alttext="d" class="ltx_Math" display="inline" id="S3.p3.4.m2.1"><semantics id="S3.p3.4.m2.1a"><mi id="S3.p3.4.m2.1.1" xref="S3.p3.4.m2.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.p3.4.m2.1b"><ci id="S3.p3.4.m2.1.1.cmml" xref="S3.p3.4.m2.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.4.m2.1c">d</annotation><annotation encoding="application/x-llamapun" id="S3.p3.4.m2.1d">italic_d</annotation></semantics></math> is the dimension of the output vector.</p>
</div>
<div class="ltx_para" id="S3.p4">
<p class="ltx_p" id="S3.p4.1"><span class="ltx_text ltx_font_bold" id="S3.p4.1.1">Large Language Models and Prompt Tuning.</span>
LLMs have introduced a new paradigm for task-adaptation known as “pre-train, prompt, and predict”, replacing the traditional “pre-train, fine-tune” paradigm. In this paradigm, the LLM is first pre-trained on a large corpus of text data to learn general language representations. Then, rather than fine-tuning the model on task-specific labeled data, the model is prompted with a textual prompt that specifies the task and context. Subsequently, the model generates the output directly based on the prompt and the input.</p>
</div>
<div class="ltx_para" id="S3.p5">
<p class="ltx_p" id="S3.p5.5">The LLM, parameterized by weights <math alttext="\theta" class="ltx_Math" display="inline" id="S3.p5.1.m1.1"><semantics id="S3.p5.1.m1.1a"><mi id="S3.p5.1.m1.1.1" xref="S3.p5.1.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.p5.1.m1.1b"><ci id="S3.p5.1.m1.1.1.cmml" xref="S3.p5.1.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.1.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.p5.1.m1.1d">italic_θ</annotation></semantics></math>, takes a sequence of tokens <math alttext="X" class="ltx_Math" display="inline" id="S3.p5.2.m2.1"><semantics id="S3.p5.2.m2.1a"><mi id="S3.p5.2.m2.1.1" xref="S3.p5.2.m2.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="S3.p5.2.m2.1b"><ci id="S3.p5.2.m2.1.1.cmml" xref="S3.p5.2.m2.1.1">𝑋</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.2.m2.1c">X</annotation><annotation encoding="application/x-llamapun" id="S3.p5.2.m2.1d">italic_X</annotation></semantics></math>, and a prompt <math alttext="P" class="ltx_Math" display="inline" id="S3.p5.3.m3.1"><semantics id="S3.p5.3.m3.1a"><mi id="S3.p5.3.m3.1.1" xref="S3.p5.3.m3.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.p5.3.m3.1b"><ci id="S3.p5.3.m3.1.1.cmml" xref="S3.p5.3.m3.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.3.m3.1c">P</annotation><annotation encoding="application/x-llamapun" id="S3.p5.3.m3.1d">italic_P</annotation></semantics></math> as input, and generates a sequence of tokens <math alttext="Y=\{y_{1},y_{2},\ldots,y_{r}\}" class="ltx_Math" display="inline" id="S3.p5.4.m4.4"><semantics id="S3.p5.4.m4.4a"><mrow id="S3.p5.4.m4.4.4" xref="S3.p5.4.m4.4.4.cmml"><mi id="S3.p5.4.m4.4.4.5" xref="S3.p5.4.m4.4.4.5.cmml">Y</mi><mo id="S3.p5.4.m4.4.4.4" xref="S3.p5.4.m4.4.4.4.cmml">=</mo><mrow id="S3.p5.4.m4.4.4.3.3" xref="S3.p5.4.m4.4.4.3.4.cmml"><mo id="S3.p5.4.m4.4.4.3.3.4" stretchy="false" xref="S3.p5.4.m4.4.4.3.4.cmml">{</mo><msub id="S3.p5.4.m4.2.2.1.1.1" xref="S3.p5.4.m4.2.2.1.1.1.cmml"><mi id="S3.p5.4.m4.2.2.1.1.1.2" xref="S3.p5.4.m4.2.2.1.1.1.2.cmml">y</mi><mn id="S3.p5.4.m4.2.2.1.1.1.3" xref="S3.p5.4.m4.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.p5.4.m4.4.4.3.3.5" xref="S3.p5.4.m4.4.4.3.4.cmml">,</mo><msub id="S3.p5.4.m4.3.3.2.2.2" xref="S3.p5.4.m4.3.3.2.2.2.cmml"><mi id="S3.p5.4.m4.3.3.2.2.2.2" xref="S3.p5.4.m4.3.3.2.2.2.2.cmml">y</mi><mn id="S3.p5.4.m4.3.3.2.2.2.3" xref="S3.p5.4.m4.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.p5.4.m4.4.4.3.3.6" xref="S3.p5.4.m4.4.4.3.4.cmml">,</mo><mi id="S3.p5.4.m4.1.1" mathvariant="normal" xref="S3.p5.4.m4.1.1.cmml">…</mi><mo id="S3.p5.4.m4.4.4.3.3.7" xref="S3.p5.4.m4.4.4.3.4.cmml">,</mo><msub id="S3.p5.4.m4.4.4.3.3.3" xref="S3.p5.4.m4.4.4.3.3.3.cmml"><mi id="S3.p5.4.m4.4.4.3.3.3.2" xref="S3.p5.4.m4.4.4.3.3.3.2.cmml">y</mi><mi id="S3.p5.4.m4.4.4.3.3.3.3" xref="S3.p5.4.m4.4.4.3.3.3.3.cmml">r</mi></msub><mo id="S3.p5.4.m4.4.4.3.3.8" stretchy="false" xref="S3.p5.4.m4.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p5.4.m4.4b"><apply id="S3.p5.4.m4.4.4.cmml" xref="S3.p5.4.m4.4.4"><eq id="S3.p5.4.m4.4.4.4.cmml" xref="S3.p5.4.m4.4.4.4"></eq><ci id="S3.p5.4.m4.4.4.5.cmml" xref="S3.p5.4.m4.4.4.5">𝑌</ci><set id="S3.p5.4.m4.4.4.3.4.cmml" xref="S3.p5.4.m4.4.4.3.3"><apply id="S3.p5.4.m4.2.2.1.1.1.cmml" xref="S3.p5.4.m4.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.p5.4.m4.2.2.1.1.1.1.cmml" xref="S3.p5.4.m4.2.2.1.1.1">subscript</csymbol><ci id="S3.p5.4.m4.2.2.1.1.1.2.cmml" xref="S3.p5.4.m4.2.2.1.1.1.2">𝑦</ci><cn id="S3.p5.4.m4.2.2.1.1.1.3.cmml" type="integer" xref="S3.p5.4.m4.2.2.1.1.1.3">1</cn></apply><apply id="S3.p5.4.m4.3.3.2.2.2.cmml" xref="S3.p5.4.m4.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.p5.4.m4.3.3.2.2.2.1.cmml" xref="S3.p5.4.m4.3.3.2.2.2">subscript</csymbol><ci id="S3.p5.4.m4.3.3.2.2.2.2.cmml" xref="S3.p5.4.m4.3.3.2.2.2.2">𝑦</ci><cn id="S3.p5.4.m4.3.3.2.2.2.3.cmml" type="integer" xref="S3.p5.4.m4.3.3.2.2.2.3">2</cn></apply><ci id="S3.p5.4.m4.1.1.cmml" xref="S3.p5.4.m4.1.1">…</ci><apply id="S3.p5.4.m4.4.4.3.3.3.cmml" xref="S3.p5.4.m4.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.p5.4.m4.4.4.3.3.3.1.cmml" xref="S3.p5.4.m4.4.4.3.3.3">subscript</csymbol><ci id="S3.p5.4.m4.4.4.3.3.3.2.cmml" xref="S3.p5.4.m4.4.4.3.3.3.2">𝑦</ci><ci id="S3.p5.4.m4.4.4.3.3.3.3.cmml" xref="S3.p5.4.m4.4.4.3.3.3.3">𝑟</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.4.m4.4c">Y=\{y_{1},y_{2},\ldots,y_{r}\}</annotation><annotation encoding="application/x-llamapun" id="S3.p5.4.m4.4d">italic_Y = { italic_y start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_y start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT }</annotation></semantics></math> as output. Formally, the probability distribution of the output sequence given the concatenated input sequence and prompt, <em class="ltx_emph ltx_font_italic" id="S3.p5.5.1">i.e.,</em> <math alttext="[P;X]" class="ltx_Math" display="inline" id="S3.p5.5.m5.2"><semantics id="S3.p5.5.m5.2a"><mrow id="S3.p5.5.m5.2.3.2" xref="S3.p5.5.m5.2.3.1.cmml"><mo id="S3.p5.5.m5.2.3.2.1" stretchy="false" xref="S3.p5.5.m5.2.3.1.cmml">[</mo><mi id="S3.p5.5.m5.1.1" xref="S3.p5.5.m5.1.1.cmml">P</mi><mo id="S3.p5.5.m5.2.3.2.2" xref="S3.p5.5.m5.2.3.1.cmml">;</mo><mi id="S3.p5.5.m5.2.2" xref="S3.p5.5.m5.2.2.cmml">X</mi><mo id="S3.p5.5.m5.2.3.2.3" stretchy="false" xref="S3.p5.5.m5.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.p5.5.m5.2b"><list id="S3.p5.5.m5.2.3.1.cmml" xref="S3.p5.5.m5.2.3.2"><ci id="S3.p5.5.m5.1.1.cmml" xref="S3.p5.5.m5.1.1">𝑃</ci><ci id="S3.p5.5.m5.2.2.cmml" xref="S3.p5.5.m5.2.2">𝑋</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.5.m5.2c">[P;X]</annotation><annotation encoding="application/x-llamapun" id="S3.p5.5.m5.2d">[ italic_P ; italic_X ]</annotation></semantics></math>, is defined as</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="p_{\theta}(Y|[P;X])=\prod_{i=1}^{r}p_{\theta}(y_{i}|y_{&lt;i},[P;X])." class="ltx_Math" display="block" id="S3.E2.m1.5"><semantics id="S3.E2.m1.5a"><mrow id="S3.E2.m1.5.5.1" xref="S3.E2.m1.5.5.1.1.cmml"><mrow id="S3.E2.m1.5.5.1.1" xref="S3.E2.m1.5.5.1.1.cmml"><mrow id="S3.E2.m1.5.5.1.1.1" xref="S3.E2.m1.5.5.1.1.1.cmml"><msub id="S3.E2.m1.5.5.1.1.1.3" xref="S3.E2.m1.5.5.1.1.1.3.cmml"><mi id="S3.E2.m1.5.5.1.1.1.3.2" xref="S3.E2.m1.5.5.1.1.1.3.2.cmml">p</mi><mi id="S3.E2.m1.5.5.1.1.1.3.3" xref="S3.E2.m1.5.5.1.1.1.3.3.cmml">θ</mi></msub><mo id="S3.E2.m1.5.5.1.1.1.2" xref="S3.E2.m1.5.5.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.5.5.1.1.1.1.1" xref="S3.E2.m1.5.5.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.5.5.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.5.5.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.5.5.1.1.1.1.1.1" xref="S3.E2.m1.5.5.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.5.5.1.1.1.1.1.1.2" xref="S3.E2.m1.5.5.1.1.1.1.1.1.2.cmml">Y</mi><mo fence="false" id="S3.E2.m1.5.5.1.1.1.1.1.1.1" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S3.E2.m1.5.5.1.1.1.1.1.1.3.2" xref="S3.E2.m1.5.5.1.1.1.1.1.1.3.1.cmml"><mo id="S3.E2.m1.5.5.1.1.1.1.1.1.3.2.1" stretchy="false" xref="S3.E2.m1.5.5.1.1.1.1.1.1.3.1.cmml">[</mo><mi id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml">P</mi><mo id="S3.E2.m1.5.5.1.1.1.1.1.1.3.2.2" xref="S3.E2.m1.5.5.1.1.1.1.1.1.3.1.cmml">;</mo><mi id="S3.E2.m1.2.2" xref="S3.E2.m1.2.2.cmml">X</mi><mo id="S3.E2.m1.5.5.1.1.1.1.1.1.3.2.3" stretchy="false" xref="S3.E2.m1.5.5.1.1.1.1.1.1.3.1.cmml">]</mo></mrow></mrow><mo id="S3.E2.m1.5.5.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.5.5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.5.5.1.1.3" rspace="0.111em" xref="S3.E2.m1.5.5.1.1.3.cmml">=</mo><mrow id="S3.E2.m1.5.5.1.1.2" xref="S3.E2.m1.5.5.1.1.2.cmml"><munderover id="S3.E2.m1.5.5.1.1.2.2" xref="S3.E2.m1.5.5.1.1.2.2.cmml"><mo id="S3.E2.m1.5.5.1.1.2.2.2.2" movablelimits="false" xref="S3.E2.m1.5.5.1.1.2.2.2.2.cmml">∏</mo><mrow id="S3.E2.m1.5.5.1.1.2.2.2.3" xref="S3.E2.m1.5.5.1.1.2.2.2.3.cmml"><mi id="S3.E2.m1.5.5.1.1.2.2.2.3.2" xref="S3.E2.m1.5.5.1.1.2.2.2.3.2.cmml">i</mi><mo id="S3.E2.m1.5.5.1.1.2.2.2.3.1" xref="S3.E2.m1.5.5.1.1.2.2.2.3.1.cmml">=</mo><mn id="S3.E2.m1.5.5.1.1.2.2.2.3.3" xref="S3.E2.m1.5.5.1.1.2.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E2.m1.5.5.1.1.2.2.3" xref="S3.E2.m1.5.5.1.1.2.2.3.cmml">r</mi></munderover><mrow id="S3.E2.m1.5.5.1.1.2.1" xref="S3.E2.m1.5.5.1.1.2.1.cmml"><msub id="S3.E2.m1.5.5.1.1.2.1.3" xref="S3.E2.m1.5.5.1.1.2.1.3.cmml"><mi id="S3.E2.m1.5.5.1.1.2.1.3.2" xref="S3.E2.m1.5.5.1.1.2.1.3.2.cmml">p</mi><mi id="S3.E2.m1.5.5.1.1.2.1.3.3" xref="S3.E2.m1.5.5.1.1.2.1.3.3.cmml">θ</mi></msub><mo id="S3.E2.m1.5.5.1.1.2.1.2" xref="S3.E2.m1.5.5.1.1.2.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.5.5.1.1.2.1.1.1" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.cmml"><mo id="S3.E2.m1.5.5.1.1.2.1.1.1.2" stretchy="false" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.5.5.1.1.2.1.1.1.1" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.cmml"><msub id="S3.E2.m1.5.5.1.1.2.1.1.1.1.4" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.4.cmml"><mi id="S3.E2.m1.5.5.1.1.2.1.1.1.1.4.2" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.4.2.cmml">y</mi><mi id="S3.E2.m1.5.5.1.1.2.1.1.1.1.4.3" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.4.3.cmml">i</mi></msub><mo fence="false" id="S3.E2.m1.5.5.1.1.2.1.1.1.1.3" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.3.cmml">|</mo><mrow id="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.3.cmml"><msub id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.2" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.2" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.1" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.3" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.3.cmml">i</mi></mrow></msub><mo id="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2.3" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.3.cmml">,</mo><mrow id="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2.2.2" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2.2.1.cmml"><mo id="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2.2.2.1" stretchy="false" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2.2.1.cmml">[</mo><mi id="S3.E2.m1.3.3" xref="S3.E2.m1.3.3.cmml">P</mi><mo id="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2.2.2.2" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2.2.1.cmml">;</mo><mi id="S3.E2.m1.4.4" xref="S3.E2.m1.4.4.cmml">X</mi><mo id="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2.2.2.3" stretchy="false" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2.2.1.cmml">]</mo></mrow></mrow></mrow><mo id="S3.E2.m1.5.5.1.1.2.1.1.1.3" stretchy="false" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E2.m1.5.5.1.2" lspace="0em" xref="S3.E2.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.5b"><apply id="S3.E2.m1.5.5.1.1.cmml" xref="S3.E2.m1.5.5.1"><eq id="S3.E2.m1.5.5.1.1.3.cmml" xref="S3.E2.m1.5.5.1.1.3"></eq><apply id="S3.E2.m1.5.5.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1"><times id="S3.E2.m1.5.5.1.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.1.2"></times><apply id="S3.E2.m1.5.5.1.1.1.3.cmml" xref="S3.E2.m1.5.5.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.1.3.1.cmml" xref="S3.E2.m1.5.5.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.5.5.1.1.1.3.2.cmml" xref="S3.E2.m1.5.5.1.1.1.3.2">𝑝</ci><ci id="S3.E2.m1.5.5.1.1.1.3.3.cmml" xref="S3.E2.m1.5.5.1.1.1.3.3">𝜃</ci></apply><apply id="S3.E2.m1.5.5.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E2.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.2">𝑌</ci><list id="S3.E2.m1.5.5.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.5.5.1.1.1.1.1.1.3.2"><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">𝑃</ci><ci id="S3.E2.m1.2.2.cmml" xref="S3.E2.m1.2.2">𝑋</ci></list></apply></apply><apply id="S3.E2.m1.5.5.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.2"><apply id="S3.E2.m1.5.5.1.1.2.2.cmml" xref="S3.E2.m1.5.5.1.1.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.2.2.1.cmml" xref="S3.E2.m1.5.5.1.1.2.2">superscript</csymbol><apply id="S3.E2.m1.5.5.1.1.2.2.2.cmml" xref="S3.E2.m1.5.5.1.1.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.2.2.2.1.cmml" xref="S3.E2.m1.5.5.1.1.2.2">subscript</csymbol><csymbol cd="latexml" id="S3.E2.m1.5.5.1.1.2.2.2.2.cmml" xref="S3.E2.m1.5.5.1.1.2.2.2.2">product</csymbol><apply id="S3.E2.m1.5.5.1.1.2.2.2.3.cmml" xref="S3.E2.m1.5.5.1.1.2.2.2.3"><eq id="S3.E2.m1.5.5.1.1.2.2.2.3.1.cmml" xref="S3.E2.m1.5.5.1.1.2.2.2.3.1"></eq><ci id="S3.E2.m1.5.5.1.1.2.2.2.3.2.cmml" xref="S3.E2.m1.5.5.1.1.2.2.2.3.2">𝑖</ci><cn id="S3.E2.m1.5.5.1.1.2.2.2.3.3.cmml" type="integer" xref="S3.E2.m1.5.5.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S3.E2.m1.5.5.1.1.2.2.3.cmml" xref="S3.E2.m1.5.5.1.1.2.2.3">𝑟</ci></apply><apply id="S3.E2.m1.5.5.1.1.2.1.cmml" xref="S3.E2.m1.5.5.1.1.2.1"><times id="S3.E2.m1.5.5.1.1.2.1.2.cmml" xref="S3.E2.m1.5.5.1.1.2.1.2"></times><apply id="S3.E2.m1.5.5.1.1.2.1.3.cmml" xref="S3.E2.m1.5.5.1.1.2.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.2.1.3.1.cmml" xref="S3.E2.m1.5.5.1.1.2.1.3">subscript</csymbol><ci id="S3.E2.m1.5.5.1.1.2.1.3.2.cmml" xref="S3.E2.m1.5.5.1.1.2.1.3.2">𝑝</ci><ci id="S3.E2.m1.5.5.1.1.2.1.3.3.cmml" xref="S3.E2.m1.5.5.1.1.2.1.3.3">𝜃</ci></apply><apply id="S3.E2.m1.5.5.1.1.2.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.5.5.1.1.2.1.1.1.1.3.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.3">conditional</csymbol><apply id="S3.E2.m1.5.5.1.1.2.1.1.1.1.4.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.2.1.1.1.1.4.1.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.4">subscript</csymbol><ci id="S3.E2.m1.5.5.1.1.2.1.1.1.1.4.2.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.4.2">𝑦</ci><ci id="S3.E2.m1.5.5.1.1.2.1.1.1.1.4.3.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.4.3">𝑖</ci></apply><list id="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.3.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2"><apply id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.2">𝑦</ci><apply id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3"><lt id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.2">absent</csymbol><ci id="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><list id="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2.2.1.cmml" xref="S3.E2.m1.5.5.1.1.2.1.1.1.1.2.2.2.2"><ci id="S3.E2.m1.3.3.cmml" xref="S3.E2.m1.3.3">𝑃</ci><ci id="S3.E2.m1.4.4.cmml" xref="S3.E2.m1.4.4">𝑋</ci></list></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.5c">p_{\theta}(Y|[P;X])=\prod_{i=1}^{r}p_{\theta}(y_{i}|y_{&lt;i},[P;X]).</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.5d">italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_Y | [ italic_P ; italic_X ] ) = ∏ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_y start_POSTSUBSCRIPT &lt; italic_i end_POSTSUBSCRIPT , [ italic_P ; italic_X ] ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.p5.12">Here, <math alttext="y_{&lt;i}" class="ltx_Math" display="inline" id="S3.p5.6.m1.1"><semantics id="S3.p5.6.m1.1a"><msub id="S3.p5.6.m1.1.1" xref="S3.p5.6.m1.1.1.cmml"><mi id="S3.p5.6.m1.1.1.2" xref="S3.p5.6.m1.1.1.2.cmml">y</mi><mrow id="S3.p5.6.m1.1.1.3" xref="S3.p5.6.m1.1.1.3.cmml"><mi id="S3.p5.6.m1.1.1.3.2" xref="S3.p5.6.m1.1.1.3.2.cmml"></mi><mo id="S3.p5.6.m1.1.1.3.1" xref="S3.p5.6.m1.1.1.3.1.cmml">&lt;</mo><mi id="S3.p5.6.m1.1.1.3.3" xref="S3.p5.6.m1.1.1.3.3.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p5.6.m1.1b"><apply id="S3.p5.6.m1.1.1.cmml" xref="S3.p5.6.m1.1.1"><csymbol cd="ambiguous" id="S3.p5.6.m1.1.1.1.cmml" xref="S3.p5.6.m1.1.1">subscript</csymbol><ci id="S3.p5.6.m1.1.1.2.cmml" xref="S3.p5.6.m1.1.1.2">𝑦</ci><apply id="S3.p5.6.m1.1.1.3.cmml" xref="S3.p5.6.m1.1.1.3"><lt id="S3.p5.6.m1.1.1.3.1.cmml" xref="S3.p5.6.m1.1.1.3.1"></lt><csymbol cd="latexml" id="S3.p5.6.m1.1.1.3.2.cmml" xref="S3.p5.6.m1.1.1.3.2">absent</csymbol><ci id="S3.p5.6.m1.1.1.3.3.cmml" xref="S3.p5.6.m1.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.6.m1.1c">y_{&lt;i}</annotation><annotation encoding="application/x-llamapun" id="S3.p5.6.m1.1d">italic_y start_POSTSUBSCRIPT &lt; italic_i end_POSTSUBSCRIPT</annotation></semantics></math> represents the prefix of sequence <math alttext="y" class="ltx_Math" display="inline" id="S3.p5.7.m2.1"><semantics id="S3.p5.7.m2.1a"><mi id="S3.p5.7.m2.1.1" xref="S3.p5.7.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.p5.7.m2.1b"><ci id="S3.p5.7.m2.1.1.cmml" xref="S3.p5.7.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.7.m2.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.p5.7.m2.1d">italic_y</annotation></semantics></math> up to position <math alttext="i-1" class="ltx_Math" display="inline" id="S3.p5.8.m3.1"><semantics id="S3.p5.8.m3.1a"><mrow id="S3.p5.8.m3.1.1" xref="S3.p5.8.m3.1.1.cmml"><mi id="S3.p5.8.m3.1.1.2" xref="S3.p5.8.m3.1.1.2.cmml">i</mi><mo id="S3.p5.8.m3.1.1.1" xref="S3.p5.8.m3.1.1.1.cmml">−</mo><mn id="S3.p5.8.m3.1.1.3" xref="S3.p5.8.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p5.8.m3.1b"><apply id="S3.p5.8.m3.1.1.cmml" xref="S3.p5.8.m3.1.1"><minus id="S3.p5.8.m3.1.1.1.cmml" xref="S3.p5.8.m3.1.1.1"></minus><ci id="S3.p5.8.m3.1.1.2.cmml" xref="S3.p5.8.m3.1.1.2">𝑖</ci><cn id="S3.p5.8.m3.1.1.3.cmml" type="integer" xref="S3.p5.8.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.8.m3.1c">i-1</annotation><annotation encoding="application/x-llamapun" id="S3.p5.8.m3.1d">italic_i - 1</annotation></semantics></math>, and <math alttext="p(y_{i}|y_{&lt;i},[P;X])" class="ltx_Math" display="inline" id="S3.p5.9.m4.3"><semantics id="S3.p5.9.m4.3a"><mrow id="S3.p5.9.m4.3.3" xref="S3.p5.9.m4.3.3.cmml"><mi id="S3.p5.9.m4.3.3.3" xref="S3.p5.9.m4.3.3.3.cmml">p</mi><mo id="S3.p5.9.m4.3.3.2" xref="S3.p5.9.m4.3.3.2.cmml">⁢</mo><mrow id="S3.p5.9.m4.3.3.1.1" xref="S3.p5.9.m4.3.3.1.1.1.cmml"><mo id="S3.p5.9.m4.3.3.1.1.2" stretchy="false" xref="S3.p5.9.m4.3.3.1.1.1.cmml">(</mo><mrow id="S3.p5.9.m4.3.3.1.1.1" xref="S3.p5.9.m4.3.3.1.1.1.cmml"><msub id="S3.p5.9.m4.3.3.1.1.1.4" xref="S3.p5.9.m4.3.3.1.1.1.4.cmml"><mi id="S3.p5.9.m4.3.3.1.1.1.4.2" xref="S3.p5.9.m4.3.3.1.1.1.4.2.cmml">y</mi><mi id="S3.p5.9.m4.3.3.1.1.1.4.3" xref="S3.p5.9.m4.3.3.1.1.1.4.3.cmml">i</mi></msub><mo fence="false" id="S3.p5.9.m4.3.3.1.1.1.3" xref="S3.p5.9.m4.3.3.1.1.1.3.cmml">|</mo><mrow id="S3.p5.9.m4.3.3.1.1.1.2.2" xref="S3.p5.9.m4.3.3.1.1.1.2.3.cmml"><msub id="S3.p5.9.m4.3.3.1.1.1.1.1.1" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1.cmml"><mi id="S3.p5.9.m4.3.3.1.1.1.1.1.1.2" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S3.p5.9.m4.3.3.1.1.1.1.1.1.3" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.cmml"><mi id="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.2" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.1" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.3" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.3.cmml">i</mi></mrow></msub><mo id="S3.p5.9.m4.3.3.1.1.1.2.2.3" xref="S3.p5.9.m4.3.3.1.1.1.2.3.cmml">,</mo><mrow id="S3.p5.9.m4.3.3.1.1.1.2.2.2.2" xref="S3.p5.9.m4.3.3.1.1.1.2.2.2.1.cmml"><mo id="S3.p5.9.m4.3.3.1.1.1.2.2.2.2.1" stretchy="false" xref="S3.p5.9.m4.3.3.1.1.1.2.2.2.1.cmml">[</mo><mi id="S3.p5.9.m4.1.1" xref="S3.p5.9.m4.1.1.cmml">P</mi><mo id="S3.p5.9.m4.3.3.1.1.1.2.2.2.2.2" xref="S3.p5.9.m4.3.3.1.1.1.2.2.2.1.cmml">;</mo><mi id="S3.p5.9.m4.2.2" xref="S3.p5.9.m4.2.2.cmml">X</mi><mo id="S3.p5.9.m4.3.3.1.1.1.2.2.2.2.3" stretchy="false" xref="S3.p5.9.m4.3.3.1.1.1.2.2.2.1.cmml">]</mo></mrow></mrow></mrow><mo id="S3.p5.9.m4.3.3.1.1.3" stretchy="false" xref="S3.p5.9.m4.3.3.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p5.9.m4.3b"><apply id="S3.p5.9.m4.3.3.cmml" xref="S3.p5.9.m4.3.3"><times id="S3.p5.9.m4.3.3.2.cmml" xref="S3.p5.9.m4.3.3.2"></times><ci id="S3.p5.9.m4.3.3.3.cmml" xref="S3.p5.9.m4.3.3.3">𝑝</ci><apply id="S3.p5.9.m4.3.3.1.1.1.cmml" xref="S3.p5.9.m4.3.3.1.1"><csymbol cd="latexml" id="S3.p5.9.m4.3.3.1.1.1.3.cmml" xref="S3.p5.9.m4.3.3.1.1.1.3">conditional</csymbol><apply id="S3.p5.9.m4.3.3.1.1.1.4.cmml" xref="S3.p5.9.m4.3.3.1.1.1.4"><csymbol cd="ambiguous" id="S3.p5.9.m4.3.3.1.1.1.4.1.cmml" xref="S3.p5.9.m4.3.3.1.1.1.4">subscript</csymbol><ci id="S3.p5.9.m4.3.3.1.1.1.4.2.cmml" xref="S3.p5.9.m4.3.3.1.1.1.4.2">𝑦</ci><ci id="S3.p5.9.m4.3.3.1.1.1.4.3.cmml" xref="S3.p5.9.m4.3.3.1.1.1.4.3">𝑖</ci></apply><list id="S3.p5.9.m4.3.3.1.1.1.2.3.cmml" xref="S3.p5.9.m4.3.3.1.1.1.2.2"><apply id="S3.p5.9.m4.3.3.1.1.1.1.1.1.cmml" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p5.9.m4.3.3.1.1.1.1.1.1.1.cmml" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.p5.9.m4.3.3.1.1.1.1.1.1.2.cmml" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1.2">𝑦</ci><apply id="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.cmml" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1.3"><lt id="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.1.cmml" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.2.cmml" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.2">absent</csymbol><ci id="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.3.cmml" xref="S3.p5.9.m4.3.3.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><list id="S3.p5.9.m4.3.3.1.1.1.2.2.2.1.cmml" xref="S3.p5.9.m4.3.3.1.1.1.2.2.2.2"><ci id="S3.p5.9.m4.1.1.cmml" xref="S3.p5.9.m4.1.1">𝑃</ci><ci id="S3.p5.9.m4.2.2.cmml" xref="S3.p5.9.m4.2.2">𝑋</ci></list></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.9.m4.3c">p(y_{i}|y_{&lt;i},[P;X])</annotation><annotation encoding="application/x-llamapun" id="S3.p5.9.m4.3d">italic_p ( italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_y start_POSTSUBSCRIPT &lt; italic_i end_POSTSUBSCRIPT , [ italic_P ; italic_X ] )</annotation></semantics></math> represents the probability of generating token <math alttext="y_{i}" class="ltx_Math" display="inline" id="S3.p5.10.m5.1"><semantics id="S3.p5.10.m5.1a"><msub id="S3.p5.10.m5.1.1" xref="S3.p5.10.m5.1.1.cmml"><mi id="S3.p5.10.m5.1.1.2" xref="S3.p5.10.m5.1.1.2.cmml">y</mi><mi id="S3.p5.10.m5.1.1.3" xref="S3.p5.10.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p5.10.m5.1b"><apply id="S3.p5.10.m5.1.1.cmml" xref="S3.p5.10.m5.1.1"><csymbol cd="ambiguous" id="S3.p5.10.m5.1.1.1.cmml" xref="S3.p5.10.m5.1.1">subscript</csymbol><ci id="S3.p5.10.m5.1.1.2.cmml" xref="S3.p5.10.m5.1.1.2">𝑦</ci><ci id="S3.p5.10.m5.1.1.3.cmml" xref="S3.p5.10.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.10.m5.1c">y_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p5.10.m5.1d">italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> given <math alttext="y_{&lt;i}" class="ltx_Math" display="inline" id="S3.p5.11.m6.1"><semantics id="S3.p5.11.m6.1a"><msub id="S3.p5.11.m6.1.1" xref="S3.p5.11.m6.1.1.cmml"><mi id="S3.p5.11.m6.1.1.2" xref="S3.p5.11.m6.1.1.2.cmml">y</mi><mrow id="S3.p5.11.m6.1.1.3" xref="S3.p5.11.m6.1.1.3.cmml"><mi id="S3.p5.11.m6.1.1.3.2" xref="S3.p5.11.m6.1.1.3.2.cmml"></mi><mo id="S3.p5.11.m6.1.1.3.1" xref="S3.p5.11.m6.1.1.3.1.cmml">&lt;</mo><mi id="S3.p5.11.m6.1.1.3.3" xref="S3.p5.11.m6.1.1.3.3.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p5.11.m6.1b"><apply id="S3.p5.11.m6.1.1.cmml" xref="S3.p5.11.m6.1.1"><csymbol cd="ambiguous" id="S3.p5.11.m6.1.1.1.cmml" xref="S3.p5.11.m6.1.1">subscript</csymbol><ci id="S3.p5.11.m6.1.1.2.cmml" xref="S3.p5.11.m6.1.1.2">𝑦</ci><apply id="S3.p5.11.m6.1.1.3.cmml" xref="S3.p5.11.m6.1.1.3"><lt id="S3.p5.11.m6.1.1.3.1.cmml" xref="S3.p5.11.m6.1.1.3.1"></lt><csymbol cd="latexml" id="S3.p5.11.m6.1.1.3.2.cmml" xref="S3.p5.11.m6.1.1.3.2">absent</csymbol><ci id="S3.p5.11.m6.1.1.3.3.cmml" xref="S3.p5.11.m6.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.11.m6.1c">y_{&lt;i}</annotation><annotation encoding="application/x-llamapun" id="S3.p5.11.m6.1d">italic_y start_POSTSUBSCRIPT &lt; italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="[P;X]" class="ltx_Math" display="inline" id="S3.p5.12.m7.2"><semantics id="S3.p5.12.m7.2a"><mrow id="S3.p5.12.m7.2.3.2" xref="S3.p5.12.m7.2.3.1.cmml"><mo id="S3.p5.12.m7.2.3.2.1" stretchy="false" xref="S3.p5.12.m7.2.3.1.cmml">[</mo><mi id="S3.p5.12.m7.1.1" xref="S3.p5.12.m7.1.1.cmml">P</mi><mo id="S3.p5.12.m7.2.3.2.2" xref="S3.p5.12.m7.2.3.1.cmml">;</mo><mi id="S3.p5.12.m7.2.2" xref="S3.p5.12.m7.2.2.cmml">X</mi><mo id="S3.p5.12.m7.2.3.2.3" stretchy="false" xref="S3.p5.12.m7.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.p5.12.m7.2b"><list id="S3.p5.12.m7.2.3.1.cmml" xref="S3.p5.12.m7.2.3.2"><ci id="S3.p5.12.m7.1.1.cmml" xref="S3.p5.12.m7.1.1">𝑃</ci><ci id="S3.p5.12.m7.2.2.cmml" xref="S3.p5.12.m7.2.2">𝑋</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.12.m7.2c">[P;X]</annotation><annotation encoding="application/x-llamapun" id="S3.p5.12.m7.2d">[ italic_P ; italic_X ]</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.p6">
<p class="ltx_p" id="S3.p6.10">Soft prompt tuning eliminates the need for manual prompt design. Given a series of <math alttext="p" class="ltx_Math" display="inline" id="S3.p6.1.m1.1"><semantics id="S3.p6.1.m1.1a"><mi id="S3.p6.1.m1.1.1" xref="S3.p6.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.p6.1.m1.1b"><ci id="S3.p6.1.m1.1.1.cmml" xref="S3.p6.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.1.m1.1c">p</annotation><annotation encoding="application/x-llamapun" id="S3.p6.1.m1.1d">italic_p</annotation></semantics></math> tokens <math alttext="X=\{x_{1},x_{2},\ldots,x_{p}\}" class="ltx_Math" display="inline" id="S3.p6.2.m2.4"><semantics id="S3.p6.2.m2.4a"><mrow id="S3.p6.2.m2.4.4" xref="S3.p6.2.m2.4.4.cmml"><mi id="S3.p6.2.m2.4.4.5" xref="S3.p6.2.m2.4.4.5.cmml">X</mi><mo id="S3.p6.2.m2.4.4.4" xref="S3.p6.2.m2.4.4.4.cmml">=</mo><mrow id="S3.p6.2.m2.4.4.3.3" xref="S3.p6.2.m2.4.4.3.4.cmml"><mo id="S3.p6.2.m2.4.4.3.3.4" stretchy="false" xref="S3.p6.2.m2.4.4.3.4.cmml">{</mo><msub id="S3.p6.2.m2.2.2.1.1.1" xref="S3.p6.2.m2.2.2.1.1.1.cmml"><mi id="S3.p6.2.m2.2.2.1.1.1.2" xref="S3.p6.2.m2.2.2.1.1.1.2.cmml">x</mi><mn id="S3.p6.2.m2.2.2.1.1.1.3" xref="S3.p6.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.p6.2.m2.4.4.3.3.5" xref="S3.p6.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.p6.2.m2.3.3.2.2.2" xref="S3.p6.2.m2.3.3.2.2.2.cmml"><mi id="S3.p6.2.m2.3.3.2.2.2.2" xref="S3.p6.2.m2.3.3.2.2.2.2.cmml">x</mi><mn id="S3.p6.2.m2.3.3.2.2.2.3" xref="S3.p6.2.m2.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.p6.2.m2.4.4.3.3.6" xref="S3.p6.2.m2.4.4.3.4.cmml">,</mo><mi id="S3.p6.2.m2.1.1" mathvariant="normal" xref="S3.p6.2.m2.1.1.cmml">…</mi><mo id="S3.p6.2.m2.4.4.3.3.7" xref="S3.p6.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.p6.2.m2.4.4.3.3.3" xref="S3.p6.2.m2.4.4.3.3.3.cmml"><mi id="S3.p6.2.m2.4.4.3.3.3.2" xref="S3.p6.2.m2.4.4.3.3.3.2.cmml">x</mi><mi id="S3.p6.2.m2.4.4.3.3.3.3" xref="S3.p6.2.m2.4.4.3.3.3.3.cmml">p</mi></msub><mo id="S3.p6.2.m2.4.4.3.3.8" stretchy="false" xref="S3.p6.2.m2.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p6.2.m2.4b"><apply id="S3.p6.2.m2.4.4.cmml" xref="S3.p6.2.m2.4.4"><eq id="S3.p6.2.m2.4.4.4.cmml" xref="S3.p6.2.m2.4.4.4"></eq><ci id="S3.p6.2.m2.4.4.5.cmml" xref="S3.p6.2.m2.4.4.5">𝑋</ci><set id="S3.p6.2.m2.4.4.3.4.cmml" xref="S3.p6.2.m2.4.4.3.3"><apply id="S3.p6.2.m2.2.2.1.1.1.cmml" xref="S3.p6.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.p6.2.m2.2.2.1.1.1.1.cmml" xref="S3.p6.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.p6.2.m2.2.2.1.1.1.2.cmml" xref="S3.p6.2.m2.2.2.1.1.1.2">𝑥</ci><cn id="S3.p6.2.m2.2.2.1.1.1.3.cmml" type="integer" xref="S3.p6.2.m2.2.2.1.1.1.3">1</cn></apply><apply id="S3.p6.2.m2.3.3.2.2.2.cmml" xref="S3.p6.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.p6.2.m2.3.3.2.2.2.1.cmml" xref="S3.p6.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S3.p6.2.m2.3.3.2.2.2.2.cmml" xref="S3.p6.2.m2.3.3.2.2.2.2">𝑥</ci><cn id="S3.p6.2.m2.3.3.2.2.2.3.cmml" type="integer" xref="S3.p6.2.m2.3.3.2.2.2.3">2</cn></apply><ci id="S3.p6.2.m2.1.1.cmml" xref="S3.p6.2.m2.1.1">…</ci><apply id="S3.p6.2.m2.4.4.3.3.3.cmml" xref="S3.p6.2.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.p6.2.m2.4.4.3.3.3.1.cmml" xref="S3.p6.2.m2.4.4.3.3.3">subscript</csymbol><ci id="S3.p6.2.m2.4.4.3.3.3.2.cmml" xref="S3.p6.2.m2.4.4.3.3.3.2">𝑥</ci><ci id="S3.p6.2.m2.4.4.3.3.3.3.cmml" xref="S3.p6.2.m2.4.4.3.3.3.3">𝑝</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.2.m2.4c">X=\{x_{1},x_{2},\ldots,x_{p}\}</annotation><annotation encoding="application/x-llamapun" id="S3.p6.2.m2.4d">italic_X = { italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT }</annotation></semantics></math>, after being processed by the text embedder, it forms a matrix <math alttext="X_{e}\in\mathbb{R}^{p\times d_{l}}" class="ltx_Math" display="inline" id="S3.p6.3.m3.1"><semantics id="S3.p6.3.m3.1a"><mrow id="S3.p6.3.m3.1.1" xref="S3.p6.3.m3.1.1.cmml"><msub id="S3.p6.3.m3.1.1.2" xref="S3.p6.3.m3.1.1.2.cmml"><mi id="S3.p6.3.m3.1.1.2.2" xref="S3.p6.3.m3.1.1.2.2.cmml">X</mi><mi id="S3.p6.3.m3.1.1.2.3" xref="S3.p6.3.m3.1.1.2.3.cmml">e</mi></msub><mo id="S3.p6.3.m3.1.1.1" xref="S3.p6.3.m3.1.1.1.cmml">∈</mo><msup id="S3.p6.3.m3.1.1.3" xref="S3.p6.3.m3.1.1.3.cmml"><mi id="S3.p6.3.m3.1.1.3.2" xref="S3.p6.3.m3.1.1.3.2.cmml">ℝ</mi><mrow id="S3.p6.3.m3.1.1.3.3" xref="S3.p6.3.m3.1.1.3.3.cmml"><mi id="S3.p6.3.m3.1.1.3.3.2" xref="S3.p6.3.m3.1.1.3.3.2.cmml">p</mi><mo id="S3.p6.3.m3.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S3.p6.3.m3.1.1.3.3.1.cmml">×</mo><msub id="S3.p6.3.m3.1.1.3.3.3" xref="S3.p6.3.m3.1.1.3.3.3.cmml"><mi id="S3.p6.3.m3.1.1.3.3.3.2" xref="S3.p6.3.m3.1.1.3.3.3.2.cmml">d</mi><mi id="S3.p6.3.m3.1.1.3.3.3.3" xref="S3.p6.3.m3.1.1.3.3.3.3.cmml">l</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p6.3.m3.1b"><apply id="S3.p6.3.m3.1.1.cmml" xref="S3.p6.3.m3.1.1"><in id="S3.p6.3.m3.1.1.1.cmml" xref="S3.p6.3.m3.1.1.1"></in><apply id="S3.p6.3.m3.1.1.2.cmml" xref="S3.p6.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.p6.3.m3.1.1.2.1.cmml" xref="S3.p6.3.m3.1.1.2">subscript</csymbol><ci id="S3.p6.3.m3.1.1.2.2.cmml" xref="S3.p6.3.m3.1.1.2.2">𝑋</ci><ci id="S3.p6.3.m3.1.1.2.3.cmml" xref="S3.p6.3.m3.1.1.2.3">𝑒</ci></apply><apply id="S3.p6.3.m3.1.1.3.cmml" xref="S3.p6.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.p6.3.m3.1.1.3.1.cmml" xref="S3.p6.3.m3.1.1.3">superscript</csymbol><ci id="S3.p6.3.m3.1.1.3.2.cmml" xref="S3.p6.3.m3.1.1.3.2">ℝ</ci><apply id="S3.p6.3.m3.1.1.3.3.cmml" xref="S3.p6.3.m3.1.1.3.3"><times id="S3.p6.3.m3.1.1.3.3.1.cmml" xref="S3.p6.3.m3.1.1.3.3.1"></times><ci id="S3.p6.3.m3.1.1.3.3.2.cmml" xref="S3.p6.3.m3.1.1.3.3.2">𝑝</ci><apply id="S3.p6.3.m3.1.1.3.3.3.cmml" xref="S3.p6.3.m3.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.p6.3.m3.1.1.3.3.3.1.cmml" xref="S3.p6.3.m3.1.1.3.3.3">subscript</csymbol><ci id="S3.p6.3.m3.1.1.3.3.3.2.cmml" xref="S3.p6.3.m3.1.1.3.3.3.2">𝑑</ci><ci id="S3.p6.3.m3.1.1.3.3.3.3.cmml" xref="S3.p6.3.m3.1.1.3.3.3.3">𝑙</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.3.m3.1c">X_{e}\in\mathbb{R}^{p\times d_{l}}</annotation><annotation encoding="application/x-llamapun" id="S3.p6.3.m3.1d">italic_X start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT italic_p × italic_d start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math alttext="d_{l}" class="ltx_Math" display="inline" id="S3.p6.4.m4.1"><semantics id="S3.p6.4.m4.1a"><msub id="S3.p6.4.m4.1.1" xref="S3.p6.4.m4.1.1.cmml"><mi id="S3.p6.4.m4.1.1.2" xref="S3.p6.4.m4.1.1.2.cmml">d</mi><mi id="S3.p6.4.m4.1.1.3" xref="S3.p6.4.m4.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p6.4.m4.1b"><apply id="S3.p6.4.m4.1.1.cmml" xref="S3.p6.4.m4.1.1"><csymbol cd="ambiguous" id="S3.p6.4.m4.1.1.1.cmml" xref="S3.p6.4.m4.1.1">subscript</csymbol><ci id="S3.p6.4.m4.1.1.2.cmml" xref="S3.p6.4.m4.1.1.2">𝑑</ci><ci id="S3.p6.4.m4.1.1.3.cmml" xref="S3.p6.4.m4.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.4.m4.1c">d_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.p6.4.m4.1d">italic_d start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> is the dimension of the embedding space. Soft prompts can be represented as parameters <math alttext="P_{e}\in\mathbb{R}^{q\times d_{l}}" class="ltx_Math" display="inline" id="S3.p6.5.m5.1"><semantics id="S3.p6.5.m5.1a"><mrow id="S3.p6.5.m5.1.1" xref="S3.p6.5.m5.1.1.cmml"><msub id="S3.p6.5.m5.1.1.2" xref="S3.p6.5.m5.1.1.2.cmml"><mi id="S3.p6.5.m5.1.1.2.2" xref="S3.p6.5.m5.1.1.2.2.cmml">P</mi><mi id="S3.p6.5.m5.1.1.2.3" xref="S3.p6.5.m5.1.1.2.3.cmml">e</mi></msub><mo id="S3.p6.5.m5.1.1.1" xref="S3.p6.5.m5.1.1.1.cmml">∈</mo><msup id="S3.p6.5.m5.1.1.3" xref="S3.p6.5.m5.1.1.3.cmml"><mi id="S3.p6.5.m5.1.1.3.2" xref="S3.p6.5.m5.1.1.3.2.cmml">ℝ</mi><mrow id="S3.p6.5.m5.1.1.3.3" xref="S3.p6.5.m5.1.1.3.3.cmml"><mi id="S3.p6.5.m5.1.1.3.3.2" xref="S3.p6.5.m5.1.1.3.3.2.cmml">q</mi><mo id="S3.p6.5.m5.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S3.p6.5.m5.1.1.3.3.1.cmml">×</mo><msub id="S3.p6.5.m5.1.1.3.3.3" xref="S3.p6.5.m5.1.1.3.3.3.cmml"><mi id="S3.p6.5.m5.1.1.3.3.3.2" xref="S3.p6.5.m5.1.1.3.3.3.2.cmml">d</mi><mi id="S3.p6.5.m5.1.1.3.3.3.3" xref="S3.p6.5.m5.1.1.3.3.3.3.cmml">l</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p6.5.m5.1b"><apply id="S3.p6.5.m5.1.1.cmml" xref="S3.p6.5.m5.1.1"><in id="S3.p6.5.m5.1.1.1.cmml" xref="S3.p6.5.m5.1.1.1"></in><apply id="S3.p6.5.m5.1.1.2.cmml" xref="S3.p6.5.m5.1.1.2"><csymbol cd="ambiguous" id="S3.p6.5.m5.1.1.2.1.cmml" xref="S3.p6.5.m5.1.1.2">subscript</csymbol><ci id="S3.p6.5.m5.1.1.2.2.cmml" xref="S3.p6.5.m5.1.1.2.2">𝑃</ci><ci id="S3.p6.5.m5.1.1.2.3.cmml" xref="S3.p6.5.m5.1.1.2.3">𝑒</ci></apply><apply id="S3.p6.5.m5.1.1.3.cmml" xref="S3.p6.5.m5.1.1.3"><csymbol cd="ambiguous" id="S3.p6.5.m5.1.1.3.1.cmml" xref="S3.p6.5.m5.1.1.3">superscript</csymbol><ci id="S3.p6.5.m5.1.1.3.2.cmml" xref="S3.p6.5.m5.1.1.3.2">ℝ</ci><apply id="S3.p6.5.m5.1.1.3.3.cmml" xref="S3.p6.5.m5.1.1.3.3"><times id="S3.p6.5.m5.1.1.3.3.1.cmml" xref="S3.p6.5.m5.1.1.3.3.1"></times><ci id="S3.p6.5.m5.1.1.3.3.2.cmml" xref="S3.p6.5.m5.1.1.3.3.2">𝑞</ci><apply id="S3.p6.5.m5.1.1.3.3.3.cmml" xref="S3.p6.5.m5.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.p6.5.m5.1.1.3.3.3.1.cmml" xref="S3.p6.5.m5.1.1.3.3.3">subscript</csymbol><ci id="S3.p6.5.m5.1.1.3.3.3.2.cmml" xref="S3.p6.5.m5.1.1.3.3.3.2">𝑑</ci><ci id="S3.p6.5.m5.1.1.3.3.3.3.cmml" xref="S3.p6.5.m5.1.1.3.3.3.3">𝑙</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.5.m5.1c">P_{e}\in\mathbb{R}^{q\times d_{l}}</annotation><annotation encoding="application/x-llamapun" id="S3.p6.5.m5.1d">italic_P start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT italic_q × italic_d start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math alttext="q" class="ltx_Math" display="inline" id="S3.p6.6.m6.1"><semantics id="S3.p6.6.m6.1a"><mi id="S3.p6.6.m6.1.1" xref="S3.p6.6.m6.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.p6.6.m6.1b"><ci id="S3.p6.6.m6.1.1.cmml" xref="S3.p6.6.m6.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.6.m6.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.p6.6.m6.1d">italic_q</annotation></semantics></math> is the length of the prompt. The prompt is then concatenated with the embedded input, forming a single matrix <math alttext="[P_{e};X_{e}]\in\mathbb{R}^{(q+p)\times d_{l}}" class="ltx_Math" display="inline" id="S3.p6.7.m7.3"><semantics id="S3.p6.7.m7.3a"><mrow id="S3.p6.7.m7.3.3" xref="S3.p6.7.m7.3.3.cmml"><mrow id="S3.p6.7.m7.3.3.2.2" xref="S3.p6.7.m7.3.3.2.3.cmml"><mo id="S3.p6.7.m7.3.3.2.2.3" stretchy="false" xref="S3.p6.7.m7.3.3.2.3.cmml">[</mo><msub id="S3.p6.7.m7.2.2.1.1.1" xref="S3.p6.7.m7.2.2.1.1.1.cmml"><mi id="S3.p6.7.m7.2.2.1.1.1.2" xref="S3.p6.7.m7.2.2.1.1.1.2.cmml">P</mi><mi id="S3.p6.7.m7.2.2.1.1.1.3" xref="S3.p6.7.m7.2.2.1.1.1.3.cmml">e</mi></msub><mo id="S3.p6.7.m7.3.3.2.2.4" xref="S3.p6.7.m7.3.3.2.3.cmml">;</mo><msub id="S3.p6.7.m7.3.3.2.2.2" xref="S3.p6.7.m7.3.3.2.2.2.cmml"><mi id="S3.p6.7.m7.3.3.2.2.2.2" xref="S3.p6.7.m7.3.3.2.2.2.2.cmml">X</mi><mi id="S3.p6.7.m7.3.3.2.2.2.3" xref="S3.p6.7.m7.3.3.2.2.2.3.cmml">e</mi></msub><mo id="S3.p6.7.m7.3.3.2.2.5" stretchy="false" xref="S3.p6.7.m7.3.3.2.3.cmml">]</mo></mrow><mo id="S3.p6.7.m7.3.3.3" xref="S3.p6.7.m7.3.3.3.cmml">∈</mo><msup id="S3.p6.7.m7.3.3.4" xref="S3.p6.7.m7.3.3.4.cmml"><mi id="S3.p6.7.m7.3.3.4.2" xref="S3.p6.7.m7.3.3.4.2.cmml">ℝ</mi><mrow id="S3.p6.7.m7.1.1.1" xref="S3.p6.7.m7.1.1.1.cmml"><mrow id="S3.p6.7.m7.1.1.1.1.1" xref="S3.p6.7.m7.1.1.1.1.1.1.cmml"><mo id="S3.p6.7.m7.1.1.1.1.1.2" stretchy="false" xref="S3.p6.7.m7.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.p6.7.m7.1.1.1.1.1.1" xref="S3.p6.7.m7.1.1.1.1.1.1.cmml"><mi id="S3.p6.7.m7.1.1.1.1.1.1.2" xref="S3.p6.7.m7.1.1.1.1.1.1.2.cmml">q</mi><mo id="S3.p6.7.m7.1.1.1.1.1.1.1" xref="S3.p6.7.m7.1.1.1.1.1.1.1.cmml">+</mo><mi id="S3.p6.7.m7.1.1.1.1.1.1.3" xref="S3.p6.7.m7.1.1.1.1.1.1.3.cmml">p</mi></mrow><mo id="S3.p6.7.m7.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S3.p6.7.m7.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.p6.7.m7.1.1.1.2" rspace="0.222em" xref="S3.p6.7.m7.1.1.1.2.cmml">×</mo><msub id="S3.p6.7.m7.1.1.1.3" xref="S3.p6.7.m7.1.1.1.3.cmml"><mi id="S3.p6.7.m7.1.1.1.3.2" xref="S3.p6.7.m7.1.1.1.3.2.cmml">d</mi><mi id="S3.p6.7.m7.1.1.1.3.3" xref="S3.p6.7.m7.1.1.1.3.3.cmml">l</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p6.7.m7.3b"><apply id="S3.p6.7.m7.3.3.cmml" xref="S3.p6.7.m7.3.3"><in id="S3.p6.7.m7.3.3.3.cmml" xref="S3.p6.7.m7.3.3.3"></in><list id="S3.p6.7.m7.3.3.2.3.cmml" xref="S3.p6.7.m7.3.3.2.2"><apply id="S3.p6.7.m7.2.2.1.1.1.cmml" xref="S3.p6.7.m7.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.p6.7.m7.2.2.1.1.1.1.cmml" xref="S3.p6.7.m7.2.2.1.1.1">subscript</csymbol><ci id="S3.p6.7.m7.2.2.1.1.1.2.cmml" xref="S3.p6.7.m7.2.2.1.1.1.2">𝑃</ci><ci id="S3.p6.7.m7.2.2.1.1.1.3.cmml" xref="S3.p6.7.m7.2.2.1.1.1.3">𝑒</ci></apply><apply id="S3.p6.7.m7.3.3.2.2.2.cmml" xref="S3.p6.7.m7.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.p6.7.m7.3.3.2.2.2.1.cmml" xref="S3.p6.7.m7.3.3.2.2.2">subscript</csymbol><ci id="S3.p6.7.m7.3.3.2.2.2.2.cmml" xref="S3.p6.7.m7.3.3.2.2.2.2">𝑋</ci><ci id="S3.p6.7.m7.3.3.2.2.2.3.cmml" xref="S3.p6.7.m7.3.3.2.2.2.3">𝑒</ci></apply></list><apply id="S3.p6.7.m7.3.3.4.cmml" xref="S3.p6.7.m7.3.3.4"><csymbol cd="ambiguous" id="S3.p6.7.m7.3.3.4.1.cmml" xref="S3.p6.7.m7.3.3.4">superscript</csymbol><ci id="S3.p6.7.m7.3.3.4.2.cmml" xref="S3.p6.7.m7.3.3.4.2">ℝ</ci><apply id="S3.p6.7.m7.1.1.1.cmml" xref="S3.p6.7.m7.1.1.1"><times id="S3.p6.7.m7.1.1.1.2.cmml" xref="S3.p6.7.m7.1.1.1.2"></times><apply id="S3.p6.7.m7.1.1.1.1.1.1.cmml" xref="S3.p6.7.m7.1.1.1.1.1"><plus id="S3.p6.7.m7.1.1.1.1.1.1.1.cmml" xref="S3.p6.7.m7.1.1.1.1.1.1.1"></plus><ci id="S3.p6.7.m7.1.1.1.1.1.1.2.cmml" xref="S3.p6.7.m7.1.1.1.1.1.1.2">𝑞</ci><ci id="S3.p6.7.m7.1.1.1.1.1.1.3.cmml" xref="S3.p6.7.m7.1.1.1.1.1.1.3">𝑝</ci></apply><apply id="S3.p6.7.m7.1.1.1.3.cmml" xref="S3.p6.7.m7.1.1.1.3"><csymbol cd="ambiguous" id="S3.p6.7.m7.1.1.1.3.1.cmml" xref="S3.p6.7.m7.1.1.1.3">subscript</csymbol><ci id="S3.p6.7.m7.1.1.1.3.2.cmml" xref="S3.p6.7.m7.1.1.1.3.2">𝑑</ci><ci id="S3.p6.7.m7.1.1.1.3.3.cmml" xref="S3.p6.7.m7.1.1.1.3.3">𝑙</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.7.m7.3c">[P_{e};X_{e}]\in\mathbb{R}^{(q+p)\times d_{l}}</annotation><annotation encoding="application/x-llamapun" id="S3.p6.7.m7.3d">[ italic_P start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ; italic_X start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ] ∈ blackboard_R start_POSTSUPERSCRIPT ( italic_q + italic_p ) × italic_d start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>. This combined matrix is processed by the self-attention layers in LLM as usual. Training involves maximizing the likelihood of <math alttext="Y" class="ltx_Math" display="inline" id="S3.p6.8.m8.1"><semantics id="S3.p6.8.m8.1a"><mi id="S3.p6.8.m8.1.1" xref="S3.p6.8.m8.1.1.cmml">Y</mi><annotation-xml encoding="MathML-Content" id="S3.p6.8.m8.1b"><ci id="S3.p6.8.m8.1.1.cmml" xref="S3.p6.8.m8.1.1">𝑌</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.8.m8.1c">Y</annotation><annotation encoding="application/x-llamapun" id="S3.p6.8.m8.1d">italic_Y</annotation></semantics></math> through backpropagation, with gradient updates applied solely to <math alttext="P_{e}" class="ltx_Math" display="inline" id="S3.p6.9.m9.1"><semantics id="S3.p6.9.m9.1a"><msub id="S3.p6.9.m9.1.1" xref="S3.p6.9.m9.1.1.cmml"><mi id="S3.p6.9.m9.1.1.2" xref="S3.p6.9.m9.1.1.2.cmml">P</mi><mi id="S3.p6.9.m9.1.1.3" xref="S3.p6.9.m9.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p6.9.m9.1b"><apply id="S3.p6.9.m9.1.1.cmml" xref="S3.p6.9.m9.1.1"><csymbol cd="ambiguous" id="S3.p6.9.m9.1.1.1.cmml" xref="S3.p6.9.m9.1.1">subscript</csymbol><ci id="S3.p6.9.m9.1.1.2.cmml" xref="S3.p6.9.m9.1.1.2">𝑃</ci><ci id="S3.p6.9.m9.1.1.3.cmml" xref="S3.p6.9.m9.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.9.m9.1c">P_{e}</annotation><annotation encoding="application/x-llamapun" id="S3.p6.9.m9.1d">italic_P start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>, while <math alttext="\theta" class="ltx_Math" display="inline" id="S3.p6.10.m10.1"><semantics id="S3.p6.10.m10.1a"><mi id="S3.p6.10.m10.1.1" xref="S3.p6.10.m10.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.p6.10.m10.1b"><ci id="S3.p6.10.m10.1.1.cmml" xref="S3.p6.10.m10.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.10.m10.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.p6.10.m10.1d">italic_θ</annotation></semantics></math> remains fixed.</p>
</div>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Proposed GraphQA Benchmark</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">Our GraphQA represents a comprehensive and diverse benchmark for graph question-answering. It is tailored to assess the capabilities of models in answering a wide range of questions about graphs across diverse domains.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T2.4.1.1" style="font-size:129%;">Table 2</span>: </span><span class="ltx_text" id="S4.T2.5.2" style="font-size:129%;">Summary of datasets used in GraphQA benchmark.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S4.T2.6">
<tr class="ltx_tr" id="S4.T2.6.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T2.6.1.1"><span class="ltx_text" id="S4.T2.6.1.1.1" style="font-size:70%;">Dataset</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.6.1.2"><span class="ltx_text ltx_font_typewriter" id="S4.T2.6.1.2.1" style="font-size:70%;">ExplaGraphs</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.6.1.3"><span class="ltx_text ltx_font_typewriter" id="S4.T2.6.1.3.1" style="font-size:70%;">SceneGraphs</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.6.1.4"><span class="ltx_text ltx_font_typewriter" id="S4.T2.6.1.4.1" style="font-size:70%;">WebQSP</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.6.2.1"><span class="ltx_text" id="S4.T2.6.2.1.1" style="font-size:70%;">#Graphs</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.6.2.2"><span class="ltx_text" id="S4.T2.6.2.2.1" style="font-size:70%;">2,766</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.6.2.3"><span class="ltx_text" id="S4.T2.6.2.3.1" style="font-size:70%;">100,000</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.6.2.4"><span class="ltx_text" id="S4.T2.6.2.4.1" style="font-size:70%;">4,737</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.3">
<td class="ltx_td ltx_align_left" id="S4.T2.6.3.1"><span class="ltx_text" id="S4.T2.6.3.1.1" style="font-size:70%;">Avg. #Nodes</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.3.2"><span class="ltx_text" id="S4.T2.6.3.2.1" style="font-size:70%;">5.17</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.3.3"><span class="ltx_text" id="S4.T2.6.3.3.1" style="font-size:70%;">19.13</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.3.4"><span class="ltx_text" id="S4.T2.6.3.4.1" style="font-size:70%;">1370.89</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.4">
<td class="ltx_td ltx_align_left" id="S4.T2.6.4.1"><span class="ltx_text" id="S4.T2.6.4.1.1" style="font-size:70%;">Avg. #Edges</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.4.2"><span class="ltx_text" id="S4.T2.6.4.2.1" style="font-size:70%;">4.25</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.4.3"><span class="ltx_text" id="S4.T2.6.4.3.1" style="font-size:70%;">68.44</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.4.4"><span class="ltx_text" id="S4.T2.6.4.4.1" style="font-size:70%;">4252.37</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.5">
<td class="ltx_td ltx_align_left" id="S4.T2.6.5.1"><span class="ltx_text" id="S4.T2.6.5.1.1" style="font-size:70%;">Node Attribute</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.5.2"><span class="ltx_text" id="S4.T2.6.5.2.1" style="font-size:70%;">Commonsense concepts</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.5.3">
<span class="ltx_text" id="S4.T2.6.5.3.1" style="font-size:70%;">Object attributes (</span><em class="ltx_emph ltx_font_italic" id="S4.T2.6.5.3.2" style="font-size:70%;">e.g.,</em><span class="ltx_text" id="S4.T2.6.5.3.3" style="font-size:70%;"> color, shape)</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.5.4"><span class="ltx_text" id="S4.T2.6.5.4.1" style="font-size:70%;">Entities in Freebase</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.6">
<td class="ltx_td ltx_align_left" id="S4.T2.6.6.1"><span class="ltx_text" id="S4.T2.6.6.1.1" style="font-size:70%;">Edge Attribute</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.6.2"><span class="ltx_text" id="S4.T2.6.6.2.1" style="font-size:70%;">Commonsense relations</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.6.3">
<span class="ltx_text" id="S4.T2.6.6.3.1" style="font-size:70%;">Relations (</span><em class="ltx_emph ltx_font_italic" id="S4.T2.6.6.3.2" style="font-size:70%;">e.g.,</em><span class="ltx_text" id="S4.T2.6.6.3.3" style="font-size:70%;"> actions, spatial relations)</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.6.4"><span class="ltx_text" id="S4.T2.6.6.4.1" style="font-size:70%;">Relations in Freebase</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.7">
<td class="ltx_td ltx_align_left" id="S4.T2.6.7.1"><span class="ltx_text" id="S4.T2.6.7.1.1" style="font-size:70%;">Task</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.7.2"><span class="ltx_text" id="S4.T2.6.7.2.1" style="font-size:70%;">Common sense reasoning</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.7.3"><span class="ltx_text" id="S4.T2.6.7.3.1" style="font-size:70%;">Scene graph question answering</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.7.4"><span class="ltx_text" id="S4.T2.6.7.4.1" style="font-size:70%;">Knowledge based question answering</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.8">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.6.8.1"><span class="ltx_text" id="S4.T2.6.8.1.1" style="font-size:70%;">Evaluation Matrix</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.6.8.2"><span class="ltx_text" id="S4.T2.6.8.2.1" style="font-size:70%;">Accuracy</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.6.8.3"><span class="ltx_text" id="S4.T2.6.8.3.1" style="font-size:70%;">Accuracy</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.6.8.4"><span class="ltx_text" id="S4.T2.6.8.4.1" style="font-size:70%;">Hit@1</span></td>
</tr>
</table>
</figure>
<figure class="ltx_figure" id="S4.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="185" id="S4.F2.g1" src="x3.png" width="523"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.2.1.1" style="font-size:90%;">Figure 2</span>: </span><span class="ltx_text" id="S4.F2.3.2" style="font-size:90%;">Illustrative examples from the GraphQA benchmark datasets.</span></figcaption>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Data Format</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">Each entry in the GraphQA benchmark consists of a textual graph, a question related to the graph, and one or more corresponding answers, as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S4.F2" title="Figure 2 ‣ 4 Proposed GraphQA Benchmark ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.1">Textual Graphs.</span> The textual graph is converted into a natural language format, resulting in a list of nodes and edges, akin to a CSV file format. It is important to note that while multiple methods exist for textualizing a graph, our focus is not on identifying the optimal solution. Instead, we prioritize a straightforward yet empirically effective approach for representing graphs in natural language, facilitating the benchmark’s use in diverse GraphQA scenarios.</p>
</div>
<div class="ltx_para" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p3.1.1">Questions and Answers.</span> Questions are designed to explore specific elements or relationships within the graph. Answers, residing within the attributes of nodes or edges, often require multi-hop reasoning for accurate identification.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Description of Datasets</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">The GraphQA benchmark integrates three existing datasets: <span class="ltx_text ltx_font_typewriter" id="S4.SS2.p1.1.1">ExplaGraphs</span>, <span class="ltx_text ltx_font_typewriter" id="S4.SS2.p1.1.2">SceneGraphs</span>, and <span class="ltx_text ltx_font_typewriter" id="S4.SS2.p1.1.3">WebQSP</span>. Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S4.T2" title="Table 2 ‣ 4 Proposed GraphQA Benchmark ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">2</span></a> presents the summary statistics of these datasets. It is important to note that these datasets were not originally developed for this work. However, a significant contribution of our research is the standardization and processing of these diverse datasets into a uniform data format suitable for the GraphQA benchmark. These datasets, previously utilized in different contexts, are reintroduced with a new focus tailored for GraphQA. For a detailed comparison with the original datasets, see the Appendix <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A3" title="Appendix C GraphQA Benchmark ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.1.1">ExplaGraphs</span> is a dataset for generative commonsense reasoning, focusing on creating explanation graphs for stance prediction in debates. It offers detailed, unambiguous commonsense-augmented graphs to evaluate arguments supporting or refuting a belief. The primary task is to assess whether arguments are supportive or contradictory, using accuracy as the metric. We have converted the triplet-form provided in <cite class="ltx_cite ltx_citemacro_citet">Saha et al. [<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib35" title="">35</a>]</cite> into a standard graph format.</p>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p3.1.1">SceneGraphs</span>, a visual question answering dataset, includes 100,000 scene graphs. Each graph details objects, attributes, and relations within an image. This dataset challenges users with tasks requiring spatial understanding and multi-step inference. The task is to answer open-ended questions based on a textual description of a scene graph, evaluated on accuracy. We have sampled from the GQA dataset <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib13" title="">13</a>]</cite> and constructed standard graphs from the provided JSON files.</p>
</div>
<div class="ltx_para" id="S4.SS2.p4">
<p class="ltx_p" id="S4.SS2.p4.1"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p4.1.1">WebQSP</span> is a large-scale multi-hop knowledge graph QA dataset consisting of 4,737 questions. It was proposed by <cite class="ltx_cite ltx_citemacro_citet">Yih et al. [<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib48" title="">48</a>]</cite> and, following <cite class="ltx_cite ltx_citemacro_citet">Luo et al. [<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib28" title="">28</a>]</cite>, utilizes a subset of Freebase, encompassing facts within 2-hops of entities mentioned in the questions. The task involves answering questions that require multi-hop reasoning. Given the possibility of multiple answers for the same question, the hit@1 metric is used to assess the precision of the top returned answer.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>G-Retriever</h2>
<figure class="ltx_figure" id="S5.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="191" id="S5.F3.g1" src="x4.png" width="544"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F3.3.1.1" style="font-size:90%;">Figure 3</span>: </span><span class="ltx_text" id="S5.F3.4.2" style="font-size:90%;">Overview of the proposed <span class="ltx_text ltx_font_italic" id="S5.F3.4.2.1">G-Retriever</span>: 1) Indexing: Graphs are indexed for efficient query processing; 2) Retrieval: The most semantically relevant nodes and edges are retrieved, conditioned on the query; 3) Subgraph Construction: A connected subgraph is extracted, covering as many relevant nodes and edges as possible while maintaining a manageable graph size; 4) Generation: An answer is generated using a ‘graph prompt’, a textualized graph, and the query.
</span></figcaption>
</figure>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this section, we introduce <span class="ltx_text ltx_font_italic" id="S5.p1.1.1">G-Retriever</span>, a new architecture tailored for GraphQA, which integrates the strengths of GNNs, LLMs, and RAG. To allow efficient fine-tuning while preserving the LLM’s pretrained language capabilities, we freeze the LLM and use a soft prompting approach on the output of the GNN.
Our RAG-based design mitigates hallucinations through direct retrieval of the graph, while allowing our approach to scale to graphs exceeding the LLM’s context window size. To adapt RAG to graphs, we formulate subgraph retrieval as a PCST optimization problem. This approach also allows us to enhance explainability by returning the retrieved subgraph.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1"><span class="ltx_text ltx_font_italic" id="S5.p2.1.1">G-Retriever</span> comprises four main steps: indexing, retrieval, subgraph construction and generation, as depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S5.F3" title="Figure 3 ‣ 5 G-Retriever ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">3</span></a>. The implementation details of each step are elaborated in the following sections.</p>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Indexing</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">We initiate the RAG approach by generating node and graph embeddings using a pre-trained LM. These embeddings are then stored in a nearest neighbor data structure.</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.4">To elaborate, consider <math alttext="x_{n}\in D^{L_{n}}" class="ltx_Math" display="inline" id="S5.SS1.p2.1.m1.1"><semantics id="S5.SS1.p2.1.m1.1a"><mrow id="S5.SS1.p2.1.m1.1.1" xref="S5.SS1.p2.1.m1.1.1.cmml"><msub id="S5.SS1.p2.1.m1.1.1.2" xref="S5.SS1.p2.1.m1.1.1.2.cmml"><mi id="S5.SS1.p2.1.m1.1.1.2.2" xref="S5.SS1.p2.1.m1.1.1.2.2.cmml">x</mi><mi id="S5.SS1.p2.1.m1.1.1.2.3" xref="S5.SS1.p2.1.m1.1.1.2.3.cmml">n</mi></msub><mo id="S5.SS1.p2.1.m1.1.1.1" xref="S5.SS1.p2.1.m1.1.1.1.cmml">∈</mo><msup id="S5.SS1.p2.1.m1.1.1.3" xref="S5.SS1.p2.1.m1.1.1.3.cmml"><mi id="S5.SS1.p2.1.m1.1.1.3.2" xref="S5.SS1.p2.1.m1.1.1.3.2.cmml">D</mi><msub id="S5.SS1.p2.1.m1.1.1.3.3" xref="S5.SS1.p2.1.m1.1.1.3.3.cmml"><mi id="S5.SS1.p2.1.m1.1.1.3.3.2" xref="S5.SS1.p2.1.m1.1.1.3.3.2.cmml">L</mi><mi id="S5.SS1.p2.1.m1.1.1.3.3.3" xref="S5.SS1.p2.1.m1.1.1.3.3.3.cmml">n</mi></msub></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.1b"><apply id="S5.SS1.p2.1.m1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1"><in id="S5.SS1.p2.1.m1.1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1.1"></in><apply id="S5.SS1.p2.1.m1.1.1.2.cmml" xref="S5.SS1.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.1.1.2.1.cmml" xref="S5.SS1.p2.1.m1.1.1.2">subscript</csymbol><ci id="S5.SS1.p2.1.m1.1.1.2.2.cmml" xref="S5.SS1.p2.1.m1.1.1.2.2">𝑥</ci><ci id="S5.SS1.p2.1.m1.1.1.2.3.cmml" xref="S5.SS1.p2.1.m1.1.1.2.3">𝑛</ci></apply><apply id="S5.SS1.p2.1.m1.1.1.3.cmml" xref="S5.SS1.p2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.1.1.3.1.cmml" xref="S5.SS1.p2.1.m1.1.1.3">superscript</csymbol><ci id="S5.SS1.p2.1.m1.1.1.3.2.cmml" xref="S5.SS1.p2.1.m1.1.1.3.2">𝐷</ci><apply id="S5.SS1.p2.1.m1.1.1.3.3.cmml" xref="S5.SS1.p2.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.1.1.3.3.1.cmml" xref="S5.SS1.p2.1.m1.1.1.3.3">subscript</csymbol><ci id="S5.SS1.p2.1.m1.1.1.3.3.2.cmml" xref="S5.SS1.p2.1.m1.1.1.3.3.2">𝐿</ci><ci id="S5.SS1.p2.1.m1.1.1.3.3.3.cmml" xref="S5.SS1.p2.1.m1.1.1.3.3.3">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.1c">x_{n}\in D^{L_{n}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.1.m1.1d">italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ∈ italic_D start_POSTSUPERSCRIPT italic_L start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math> as the text attributes of node <math alttext="n" class="ltx_Math" display="inline" id="S5.SS1.p2.2.m2.1"><semantics id="S5.SS1.p2.2.m2.1a"><mi id="S5.SS1.p2.2.m2.1.1" xref="S5.SS1.p2.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.2.m2.1b"><ci id="S5.SS1.p2.2.m2.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.2.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.2.m2.1d">italic_n</annotation></semantics></math>. Utilizing a pre-trained LM, such as SentenceBert <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib34" title="">34</a>]</cite>, we apply the LM to <math alttext="x_{n}" class="ltx_Math" display="inline" id="S5.SS1.p2.3.m3.1"><semantics id="S5.SS1.p2.3.m3.1a"><msub id="S5.SS1.p2.3.m3.1.1" xref="S5.SS1.p2.3.m3.1.1.cmml"><mi id="S5.SS1.p2.3.m3.1.1.2" xref="S5.SS1.p2.3.m3.1.1.2.cmml">x</mi><mi id="S5.SS1.p2.3.m3.1.1.3" xref="S5.SS1.p2.3.m3.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.3.m3.1b"><apply id="S5.SS1.p2.3.m3.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.3.m3.1.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1">subscript</csymbol><ci id="S5.SS1.p2.3.m3.1.1.2.cmml" xref="S5.SS1.p2.3.m3.1.1.2">𝑥</ci><ci id="S5.SS1.p2.3.m3.1.1.3.cmml" xref="S5.SS1.p2.3.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.3.m3.1c">x_{n}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.3.m3.1d">italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math>, yielding the representation <math alttext="z_{n}" class="ltx_Math" display="inline" id="S5.SS1.p2.4.m4.1"><semantics id="S5.SS1.p2.4.m4.1a"><msub id="S5.SS1.p2.4.m4.1.1" xref="S5.SS1.p2.4.m4.1.1.cmml"><mi id="S5.SS1.p2.4.m4.1.1.2" xref="S5.SS1.p2.4.m4.1.1.2.cmml">z</mi><mi id="S5.SS1.p2.4.m4.1.1.3" xref="S5.SS1.p2.4.m4.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.4.m4.1b"><apply id="S5.SS1.p2.4.m4.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.4.m4.1.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S5.SS1.p2.4.m4.1.1.2.cmml" xref="S5.SS1.p2.4.m4.1.1.2">𝑧</ci><ci id="S5.SS1.p2.4.m4.1.1.3.cmml" xref="S5.SS1.p2.4.m4.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.4.m4.1c">z_{n}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.4.m4.1d">italic_z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="z_{n}=\text{LM}(x_{n})\in\mathbb{R}^{d}," class="ltx_Math" display="block" id="S5.E3.m1.1"><semantics id="S5.E3.m1.1a"><mrow id="S5.E3.m1.1.1.1" xref="S5.E3.m1.1.1.1.1.cmml"><mrow id="S5.E3.m1.1.1.1.1" xref="S5.E3.m1.1.1.1.1.cmml"><msub id="S5.E3.m1.1.1.1.1.3" xref="S5.E3.m1.1.1.1.1.3.cmml"><mi id="S5.E3.m1.1.1.1.1.3.2" xref="S5.E3.m1.1.1.1.1.3.2.cmml">z</mi><mi id="S5.E3.m1.1.1.1.1.3.3" xref="S5.E3.m1.1.1.1.1.3.3.cmml">n</mi></msub><mo id="S5.E3.m1.1.1.1.1.4" xref="S5.E3.m1.1.1.1.1.4.cmml">=</mo><mrow id="S5.E3.m1.1.1.1.1.1" xref="S5.E3.m1.1.1.1.1.1.cmml"><mtext id="S5.E3.m1.1.1.1.1.1.3" xref="S5.E3.m1.1.1.1.1.1.3a.cmml">LM</mtext><mo id="S5.E3.m1.1.1.1.1.1.2" xref="S5.E3.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E3.m1.1.1.1.1.1.1.1" xref="S5.E3.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S5.E3.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S5.E3.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S5.E3.m1.1.1.1.1.1.1.1.1" xref="S5.E3.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S5.E3.m1.1.1.1.1.1.1.1.1.2" xref="S5.E3.m1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S5.E3.m1.1.1.1.1.1.1.1.1.3" xref="S5.E3.m1.1.1.1.1.1.1.1.1.3.cmml">n</mi></msub><mo id="S5.E3.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S5.E3.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E3.m1.1.1.1.1.5" xref="S5.E3.m1.1.1.1.1.5.cmml">∈</mo><msup id="S5.E3.m1.1.1.1.1.6" xref="S5.E3.m1.1.1.1.1.6.cmml"><mi id="S5.E3.m1.1.1.1.1.6.2" xref="S5.E3.m1.1.1.1.1.6.2.cmml">ℝ</mi><mi id="S5.E3.m1.1.1.1.1.6.3" xref="S5.E3.m1.1.1.1.1.6.3.cmml">d</mi></msup></mrow><mo id="S5.E3.m1.1.1.1.2" xref="S5.E3.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E3.m1.1b"><apply id="S5.E3.m1.1.1.1.1.cmml" xref="S5.E3.m1.1.1.1"><and id="S5.E3.m1.1.1.1.1a.cmml" xref="S5.E3.m1.1.1.1"></and><apply id="S5.E3.m1.1.1.1.1b.cmml" xref="S5.E3.m1.1.1.1"><eq id="S5.E3.m1.1.1.1.1.4.cmml" xref="S5.E3.m1.1.1.1.1.4"></eq><apply id="S5.E3.m1.1.1.1.1.3.cmml" xref="S5.E3.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E3.m1.1.1.1.1.3.1.cmml" xref="S5.E3.m1.1.1.1.1.3">subscript</csymbol><ci id="S5.E3.m1.1.1.1.1.3.2.cmml" xref="S5.E3.m1.1.1.1.1.3.2">𝑧</ci><ci id="S5.E3.m1.1.1.1.1.3.3.cmml" xref="S5.E3.m1.1.1.1.1.3.3">𝑛</ci></apply><apply id="S5.E3.m1.1.1.1.1.1.cmml" xref="S5.E3.m1.1.1.1.1.1"><times id="S5.E3.m1.1.1.1.1.1.2.cmml" xref="S5.E3.m1.1.1.1.1.1.2"></times><ci id="S5.E3.m1.1.1.1.1.1.3a.cmml" xref="S5.E3.m1.1.1.1.1.1.3"><mtext id="S5.E3.m1.1.1.1.1.1.3.cmml" xref="S5.E3.m1.1.1.1.1.1.3">LM</mtext></ci><apply id="S5.E3.m1.1.1.1.1.1.1.1.1.cmml" xref="S5.E3.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E3.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E3.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S5.E3.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E3.m1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S5.E3.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E3.m1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply></apply><apply id="S5.E3.m1.1.1.1.1c.cmml" xref="S5.E3.m1.1.1.1"><in id="S5.E3.m1.1.1.1.1.5.cmml" xref="S5.E3.m1.1.1.1.1.5"></in><share href="https://arxiv.org/html/2402.07630v3#S5.E3.m1.1.1.1.1.1.cmml" id="S5.E3.m1.1.1.1.1d.cmml" xref="S5.E3.m1.1.1.1"></share><apply id="S5.E3.m1.1.1.1.1.6.cmml" xref="S5.E3.m1.1.1.1.1.6"><csymbol cd="ambiguous" id="S5.E3.m1.1.1.1.1.6.1.cmml" xref="S5.E3.m1.1.1.1.1.6">superscript</csymbol><ci id="S5.E3.m1.1.1.1.1.6.2.cmml" xref="S5.E3.m1.1.1.1.1.6.2">ℝ</ci><ci id="S5.E3.m1.1.1.1.1.6.3.cmml" xref="S5.E3.m1.1.1.1.1.6.3">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E3.m1.1c">z_{n}=\text{LM}(x_{n})\in\mathbb{R}^{d},</annotation><annotation encoding="application/x-llamapun" id="S5.E3.m1.1d">italic_z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT = LM ( italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) ∈ blackboard_R start_POSTSUPERSCRIPT italic_d end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS1.p2.5">where <math alttext="d" class="ltx_Math" display="inline" id="S5.SS1.p2.5.m1.1"><semantics id="S5.SS1.p2.5.m1.1a"><mi id="S5.SS1.p2.5.m1.1.1" xref="S5.SS1.p2.5.m1.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.5.m1.1b"><ci id="S5.SS1.p2.5.m1.1.1.cmml" xref="S5.SS1.p2.5.m1.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.5.m1.1c">d</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.5.m1.1d">italic_d</annotation></semantics></math> denotes the dimension of the output vector. Similar preprocessing steps are applied to edges. Refer to Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S5.F3" title="Figure 3 ‣ 5 G-Retriever ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">3</span></a>, Step 1 for an illustrative representation.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Retrieval</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">For retrieval, we employ the same encoding strategy to the query <math alttext="x_{q}" class="ltx_Math" display="inline" id="S5.SS2.p1.1.m1.1"><semantics id="S5.SS2.p1.1.m1.1a"><msub id="S5.SS2.p1.1.m1.1.1" xref="S5.SS2.p1.1.m1.1.1.cmml"><mi id="S5.SS2.p1.1.m1.1.1.2" xref="S5.SS2.p1.1.m1.1.1.2.cmml">x</mi><mi id="S5.SS2.p1.1.m1.1.1.3" xref="S5.SS2.p1.1.m1.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.1.m1.1b"><apply id="S5.SS2.p1.1.m1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.1.m1.1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S5.SS2.p1.1.m1.1.1.2.cmml" xref="S5.SS2.p1.1.m1.1.1.2">𝑥</ci><ci id="S5.SS2.p1.1.m1.1.1.3.cmml" xref="S5.SS2.p1.1.m1.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.1.m1.1c">x_{q}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.1.m1.1d">italic_x start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT</annotation></semantics></math>, to ensure consistent treatment of textual information:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="z_{q}=\text{LM}(x_{q})\in\mathbb{R}^{d}." class="ltx_Math" display="block" id="S5.E4.m1.1"><semantics id="S5.E4.m1.1a"><mrow id="S5.E4.m1.1.1.1" xref="S5.E4.m1.1.1.1.1.cmml"><mrow id="S5.E4.m1.1.1.1.1" xref="S5.E4.m1.1.1.1.1.cmml"><msub id="S5.E4.m1.1.1.1.1.3" xref="S5.E4.m1.1.1.1.1.3.cmml"><mi id="S5.E4.m1.1.1.1.1.3.2" xref="S5.E4.m1.1.1.1.1.3.2.cmml">z</mi><mi id="S5.E4.m1.1.1.1.1.3.3" xref="S5.E4.m1.1.1.1.1.3.3.cmml">q</mi></msub><mo id="S5.E4.m1.1.1.1.1.4" xref="S5.E4.m1.1.1.1.1.4.cmml">=</mo><mrow id="S5.E4.m1.1.1.1.1.1" xref="S5.E4.m1.1.1.1.1.1.cmml"><mtext id="S5.E4.m1.1.1.1.1.1.3" xref="S5.E4.m1.1.1.1.1.1.3a.cmml">LM</mtext><mo id="S5.E4.m1.1.1.1.1.1.2" xref="S5.E4.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E4.m1.1.1.1.1.1.1.1" xref="S5.E4.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S5.E4.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S5.E4.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S5.E4.m1.1.1.1.1.1.1.1.1" xref="S5.E4.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S5.E4.m1.1.1.1.1.1.1.1.1.2" xref="S5.E4.m1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S5.E4.m1.1.1.1.1.1.1.1.1.3" xref="S5.E4.m1.1.1.1.1.1.1.1.1.3.cmml">q</mi></msub><mo id="S5.E4.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S5.E4.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E4.m1.1.1.1.1.5" xref="S5.E4.m1.1.1.1.1.5.cmml">∈</mo><msup id="S5.E4.m1.1.1.1.1.6" xref="S5.E4.m1.1.1.1.1.6.cmml"><mi id="S5.E4.m1.1.1.1.1.6.2" xref="S5.E4.m1.1.1.1.1.6.2.cmml">ℝ</mi><mi id="S5.E4.m1.1.1.1.1.6.3" xref="S5.E4.m1.1.1.1.1.6.3.cmml">d</mi></msup></mrow><mo id="S5.E4.m1.1.1.1.2" lspace="0em" xref="S5.E4.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E4.m1.1b"><apply id="S5.E4.m1.1.1.1.1.cmml" xref="S5.E4.m1.1.1.1"><and id="S5.E4.m1.1.1.1.1a.cmml" xref="S5.E4.m1.1.1.1"></and><apply id="S5.E4.m1.1.1.1.1b.cmml" xref="S5.E4.m1.1.1.1"><eq id="S5.E4.m1.1.1.1.1.4.cmml" xref="S5.E4.m1.1.1.1.1.4"></eq><apply id="S5.E4.m1.1.1.1.1.3.cmml" xref="S5.E4.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E4.m1.1.1.1.1.3.1.cmml" xref="S5.E4.m1.1.1.1.1.3">subscript</csymbol><ci id="S5.E4.m1.1.1.1.1.3.2.cmml" xref="S5.E4.m1.1.1.1.1.3.2">𝑧</ci><ci id="S5.E4.m1.1.1.1.1.3.3.cmml" xref="S5.E4.m1.1.1.1.1.3.3">𝑞</ci></apply><apply id="S5.E4.m1.1.1.1.1.1.cmml" xref="S5.E4.m1.1.1.1.1.1"><times id="S5.E4.m1.1.1.1.1.1.2.cmml" xref="S5.E4.m1.1.1.1.1.1.2"></times><ci id="S5.E4.m1.1.1.1.1.1.3a.cmml" xref="S5.E4.m1.1.1.1.1.1.3"><mtext id="S5.E4.m1.1.1.1.1.1.3.cmml" xref="S5.E4.m1.1.1.1.1.1.3">LM</mtext></ci><apply id="S5.E4.m1.1.1.1.1.1.1.1.1.cmml" xref="S5.E4.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E4.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E4.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S5.E4.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E4.m1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S5.E4.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E4.m1.1.1.1.1.1.1.1.1.3">𝑞</ci></apply></apply></apply><apply id="S5.E4.m1.1.1.1.1c.cmml" xref="S5.E4.m1.1.1.1"><in id="S5.E4.m1.1.1.1.1.5.cmml" xref="S5.E4.m1.1.1.1.1.5"></in><share href="https://arxiv.org/html/2402.07630v3#S5.E4.m1.1.1.1.1.1.cmml" id="S5.E4.m1.1.1.1.1d.cmml" xref="S5.E4.m1.1.1.1"></share><apply id="S5.E4.m1.1.1.1.1.6.cmml" xref="S5.E4.m1.1.1.1.1.6"><csymbol cd="ambiguous" id="S5.E4.m1.1.1.1.1.6.1.cmml" xref="S5.E4.m1.1.1.1.1.6">superscript</csymbol><ci id="S5.E4.m1.1.1.1.1.6.2.cmml" xref="S5.E4.m1.1.1.1.1.6.2">ℝ</ci><ci id="S5.E4.m1.1.1.1.1.6.3.cmml" xref="S5.E4.m1.1.1.1.1.6.3">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E4.m1.1c">z_{q}=\text{LM}(x_{q})\in\mathbb{R}^{d}.</annotation><annotation encoding="application/x-llamapun" id="S5.E4.m1.1d">italic_z start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT = LM ( italic_x start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ) ∈ blackboard_R start_POSTSUPERSCRIPT italic_d end_POSTSUPERSCRIPT .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.8">Next, to identify the most relevant nodes and edges for the current query, we use a k-nearest neighbors retrieval approach. This method yields a set of ‘relevant nodes/edges’ based on the similarity between the query and each node or edge. The retrieval operation is defined as:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}V_{k}&amp;=\text{argtopk}_{n\in V}\text{ cos}(z_{q},z_{n})\\
E_{k}&amp;=\text{argtopk}_{e\in E}\text{ cos}(z_{q},z_{e}),\end{split}" class="ltx_Math" display="block" id="S5.E5.m1.31"><semantics id="S5.E5.m1.31a"><mtable columnspacing="0pt" displaystyle="true" id="S5.E5.m1.31.31.4" rowspacing="0pt"><mtr id="S5.E5.m1.31.31.4a"><mtd class="ltx_align_right" columnalign="right" id="S5.E5.m1.31.31.4b"><msub id="S5.E5.m1.2.2.2.2.2"><mi id="S5.E5.m1.1.1.1.1.1.1" xref="S5.E5.m1.1.1.1.1.1.1.cmml">V</mi><mi id="S5.E5.m1.2.2.2.2.2.2.1" xref="S5.E5.m1.2.2.2.2.2.2.1.cmml">k</mi></msub></mtd><mtd class="ltx_align_left" columnalign="left" id="S5.E5.m1.31.31.4c"><mrow id="S5.E5.m1.30.30.3.29.15.13"><mi id="S5.E5.m1.30.30.3.29.15.13.14" xref="S5.E5.m1.28.28.1.1.1.cmml"></mi><mo id="S5.E5.m1.3.3.3.3.1.1" xref="S5.E5.m1.3.3.3.3.1.1.cmml">=</mo><mrow id="S5.E5.m1.30.30.3.29.15.13.13"><msub id="S5.E5.m1.30.30.3.29.15.13.13.4"><mtext id="S5.E5.m1.4.4.4.4.2.2" xref="S5.E5.m1.4.4.4.4.2.2a.cmml">argtopk</mtext><mrow id="S5.E5.m1.5.5.5.5.3.3.1" xref="S5.E5.m1.5.5.5.5.3.3.1.cmml"><mi id="S5.E5.m1.5.5.5.5.3.3.1.2" xref="S5.E5.m1.5.5.5.5.3.3.1.2.cmml">n</mi><mo id="S5.E5.m1.5.5.5.5.3.3.1.1" xref="S5.E5.m1.5.5.5.5.3.3.1.1.cmml">∈</mo><mi id="S5.E5.m1.5.5.5.5.3.3.1.3" xref="S5.E5.m1.5.5.5.5.3.3.1.3.cmml">V</mi></mrow></msub><mo id="S5.E5.m1.30.30.3.29.15.13.13.3" xref="S5.E5.m1.28.28.1.1.1.cmml">⁢</mo><mtext id="S5.E5.m1.6.6.6.6.4.4" xref="S5.E5.m1.6.6.6.6.4.4a.cmml"> cos</mtext><mo id="S5.E5.m1.30.30.3.29.15.13.13.3a" xref="S5.E5.m1.28.28.1.1.1.cmml">⁢</mo><mrow id="S5.E5.m1.30.30.3.29.15.13.13.2.2"><mo id="S5.E5.m1.7.7.7.7.5.5" stretchy="false" xref="S5.E5.m1.28.28.1.1.1.cmml">(</mo><msub id="S5.E5.m1.29.29.2.28.14.12.12.1.1.1"><mi id="S5.E5.m1.8.8.8.8.6.6" xref="S5.E5.m1.8.8.8.8.6.6.cmml">z</mi><mi id="S5.E5.m1.9.9.9.9.7.7.1" xref="S5.E5.m1.9.9.9.9.7.7.1.cmml">q</mi></msub><mo id="S5.E5.m1.10.10.10.10.8.8" xref="S5.E5.m1.28.28.1.1.1.cmml">,</mo><msub id="S5.E5.m1.30.30.3.29.15.13.13.2.2.2"><mi id="S5.E5.m1.11.11.11.11.9.9" xref="S5.E5.m1.11.11.11.11.9.9.cmml">z</mi><mi id="S5.E5.m1.12.12.12.12.10.10.1" xref="S5.E5.m1.12.12.12.12.10.10.1.cmml">n</mi></msub><mo id="S5.E5.m1.13.13.13.13.11.11" stretchy="false" xref="S5.E5.m1.28.28.1.1.1.cmml">)</mo></mrow></mrow></mrow></mtd></mtr><mtr id="S5.E5.m1.31.31.4d"><mtd class="ltx_align_right" columnalign="right" id="S5.E5.m1.31.31.4e"><msub id="S5.E5.m1.15.15.15.2.2"><mi id="S5.E5.m1.14.14.14.1.1.1" xref="S5.E5.m1.14.14.14.1.1.1.cmml">E</mi><mi id="S5.E5.m1.15.15.15.2.2.2.1" xref="S5.E5.m1.15.15.15.2.2.2.1.cmml">k</mi></msub></mtd><mtd class="ltx_align_left" columnalign="left" id="S5.E5.m1.31.31.4f"><mrow id="S5.E5.m1.31.31.4.30.15.13.13"><mrow id="S5.E5.m1.31.31.4.30.15.13.13.1"><mi id="S5.E5.m1.31.31.4.30.15.13.13.1.3" xref="S5.E5.m1.28.28.1.1.1.cmml"></mi><mo id="S5.E5.m1.16.16.16.3.1.1" xref="S5.E5.m1.16.16.16.3.1.1.cmml">=</mo><mrow id="S5.E5.m1.31.31.4.30.15.13.13.1.2"><msub id="S5.E5.m1.31.31.4.30.15.13.13.1.2.4"><mtext id="S5.E5.m1.17.17.17.4.2.2" xref="S5.E5.m1.17.17.17.4.2.2a.cmml">argtopk</mtext><mrow id="S5.E5.m1.18.18.18.5.3.3.1" xref="S5.E5.m1.18.18.18.5.3.3.1.cmml"><mi id="S5.E5.m1.18.18.18.5.3.3.1.2" xref="S5.E5.m1.18.18.18.5.3.3.1.2.cmml">e</mi><mo id="S5.E5.m1.18.18.18.5.3.3.1.1" xref="S5.E5.m1.18.18.18.5.3.3.1.1.cmml">∈</mo><mi id="S5.E5.m1.18.18.18.5.3.3.1.3" xref="S5.E5.m1.18.18.18.5.3.3.1.3.cmml">E</mi></mrow></msub><mo id="S5.E5.m1.31.31.4.30.15.13.13.1.2.3" xref="S5.E5.m1.28.28.1.1.1.cmml">⁢</mo><mtext id="S5.E5.m1.19.19.19.6.4.4" xref="S5.E5.m1.19.19.19.6.4.4a.cmml"> cos</mtext><mo id="S5.E5.m1.31.31.4.30.15.13.13.1.2.3a" xref="S5.E5.m1.28.28.1.1.1.cmml">⁢</mo><mrow id="S5.E5.m1.31.31.4.30.15.13.13.1.2.2.2"><mo id="S5.E5.m1.20.20.20.7.5.5" stretchy="false" xref="S5.E5.m1.28.28.1.1.1.cmml">(</mo><msub id="S5.E5.m1.31.31.4.30.15.13.13.1.1.1.1.1"><mi id="S5.E5.m1.21.21.21.8.6.6" xref="S5.E5.m1.21.21.21.8.6.6.cmml">z</mi><mi id="S5.E5.m1.22.22.22.9.7.7.1" xref="S5.E5.m1.22.22.22.9.7.7.1.cmml">q</mi></msub><mo id="S5.E5.m1.23.23.23.10.8.8" xref="S5.E5.m1.28.28.1.1.1.cmml">,</mo><msub id="S5.E5.m1.31.31.4.30.15.13.13.1.2.2.2.2"><mi id="S5.E5.m1.24.24.24.11.9.9" xref="S5.E5.m1.24.24.24.11.9.9.cmml">z</mi><mi id="S5.E5.m1.25.25.25.12.10.10.1" xref="S5.E5.m1.25.25.25.12.10.10.1.cmml">e</mi></msub><mo id="S5.E5.m1.26.26.26.13.11.11" stretchy="false" xref="S5.E5.m1.28.28.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S5.E5.m1.27.27.27.14.12.12" xref="S5.E5.m1.28.28.1.1.1.cmml">,</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S5.E5.m1.31b"><apply id="S5.E5.m1.28.28.1.1.1.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><and id="S5.E5.m1.28.28.1.1.1a.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"></and><apply id="S5.E5.m1.28.28.1.1.1b.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><eq id="S5.E5.m1.3.3.3.3.1.1.cmml" xref="S5.E5.m1.3.3.3.3.1.1"></eq><apply id="S5.E5.m1.28.28.1.1.1.6.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><csymbol cd="ambiguous" id="S5.E5.m1.28.28.1.1.1.6.1.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14">subscript</csymbol><ci id="S5.E5.m1.1.1.1.1.1.1.cmml" xref="S5.E5.m1.1.1.1.1.1.1">𝑉</ci><ci id="S5.E5.m1.2.2.2.2.2.2.1.cmml" xref="S5.E5.m1.2.2.2.2.2.2.1">𝑘</ci></apply><apply id="S5.E5.m1.28.28.1.1.1.2.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><times id="S5.E5.m1.28.28.1.1.1.2.3.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"></times><apply id="S5.E5.m1.28.28.1.1.1.2.4.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><csymbol cd="ambiguous" id="S5.E5.m1.28.28.1.1.1.2.4.1.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14">subscript</csymbol><ci id="S5.E5.m1.4.4.4.4.2.2a.cmml" xref="S5.E5.m1.4.4.4.4.2.2"><mtext id="S5.E5.m1.4.4.4.4.2.2.cmml" xref="S5.E5.m1.4.4.4.4.2.2">argtopk</mtext></ci><apply id="S5.E5.m1.5.5.5.5.3.3.1.cmml" xref="S5.E5.m1.5.5.5.5.3.3.1"><in id="S5.E5.m1.5.5.5.5.3.3.1.1.cmml" xref="S5.E5.m1.5.5.5.5.3.3.1.1"></in><ci id="S5.E5.m1.5.5.5.5.3.3.1.2.cmml" xref="S5.E5.m1.5.5.5.5.3.3.1.2">𝑛</ci><ci id="S5.E5.m1.5.5.5.5.3.3.1.3.cmml" xref="S5.E5.m1.5.5.5.5.3.3.1.3">𝑉</ci></apply></apply><ci id="S5.E5.m1.6.6.6.6.4.4a.cmml" xref="S5.E5.m1.6.6.6.6.4.4"><mtext id="S5.E5.m1.6.6.6.6.4.4.cmml" xref="S5.E5.m1.6.6.6.6.4.4"> cos</mtext></ci><interval closure="open" id="S5.E5.m1.28.28.1.1.1.2.2.3.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><apply id="S5.E5.m1.28.28.1.1.1.1.1.1.1.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><csymbol cd="ambiguous" id="S5.E5.m1.28.28.1.1.1.1.1.1.1.1.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14">subscript</csymbol><ci id="S5.E5.m1.8.8.8.8.6.6.cmml" xref="S5.E5.m1.8.8.8.8.6.6">𝑧</ci><ci id="S5.E5.m1.9.9.9.9.7.7.1.cmml" xref="S5.E5.m1.9.9.9.9.7.7.1">𝑞</ci></apply><apply id="S5.E5.m1.28.28.1.1.1.2.2.2.2.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><csymbol cd="ambiguous" id="S5.E5.m1.28.28.1.1.1.2.2.2.2.1.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14">subscript</csymbol><ci id="S5.E5.m1.11.11.11.11.9.9.cmml" xref="S5.E5.m1.11.11.11.11.9.9">𝑧</ci><ci id="S5.E5.m1.12.12.12.12.10.10.1.cmml" xref="S5.E5.m1.12.12.12.12.10.10.1">𝑛</ci></apply></interval><apply id="S5.E5.m1.28.28.1.1.1.2.6.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><csymbol cd="ambiguous" id="S5.E5.m1.28.28.1.1.1.2.6.1.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14">subscript</csymbol><ci id="S5.E5.m1.14.14.14.1.1.1.cmml" xref="S5.E5.m1.14.14.14.1.1.1">𝐸</ci><ci id="S5.E5.m1.15.15.15.2.2.2.1.cmml" xref="S5.E5.m1.15.15.15.2.2.2.1">𝑘</ci></apply></apply></apply><apply id="S5.E5.m1.28.28.1.1.1c.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><eq id="S5.E5.m1.16.16.16.3.1.1.cmml" xref="S5.E5.m1.16.16.16.3.1.1"></eq><share href="https://arxiv.org/html/2402.07630v3#S5.E5.m1.28.28.1.1.1.2.cmml" id="S5.E5.m1.28.28.1.1.1d.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"></share><apply id="S5.E5.m1.28.28.1.1.1.4.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><times id="S5.E5.m1.28.28.1.1.1.4.3.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"></times><apply id="S5.E5.m1.28.28.1.1.1.4.4.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><csymbol cd="ambiguous" id="S5.E5.m1.28.28.1.1.1.4.4.1.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14">subscript</csymbol><ci id="S5.E5.m1.17.17.17.4.2.2a.cmml" xref="S5.E5.m1.17.17.17.4.2.2"><mtext id="S5.E5.m1.17.17.17.4.2.2.cmml" xref="S5.E5.m1.17.17.17.4.2.2">argtopk</mtext></ci><apply id="S5.E5.m1.18.18.18.5.3.3.1.cmml" xref="S5.E5.m1.18.18.18.5.3.3.1"><in id="S5.E5.m1.18.18.18.5.3.3.1.1.cmml" xref="S5.E5.m1.18.18.18.5.3.3.1.1"></in><ci id="S5.E5.m1.18.18.18.5.3.3.1.2.cmml" xref="S5.E5.m1.18.18.18.5.3.3.1.2">𝑒</ci><ci id="S5.E5.m1.18.18.18.5.3.3.1.3.cmml" xref="S5.E5.m1.18.18.18.5.3.3.1.3">𝐸</ci></apply></apply><ci id="S5.E5.m1.19.19.19.6.4.4a.cmml" xref="S5.E5.m1.19.19.19.6.4.4"><mtext id="S5.E5.m1.19.19.19.6.4.4.cmml" xref="S5.E5.m1.19.19.19.6.4.4"> cos</mtext></ci><interval closure="open" id="S5.E5.m1.28.28.1.1.1.4.2.3.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><apply id="S5.E5.m1.28.28.1.1.1.3.1.1.1.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><csymbol cd="ambiguous" id="S5.E5.m1.28.28.1.1.1.3.1.1.1.1.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14">subscript</csymbol><ci id="S5.E5.m1.21.21.21.8.6.6.cmml" xref="S5.E5.m1.21.21.21.8.6.6">𝑧</ci><ci id="S5.E5.m1.22.22.22.9.7.7.1.cmml" xref="S5.E5.m1.22.22.22.9.7.7.1">𝑞</ci></apply><apply id="S5.E5.m1.28.28.1.1.1.4.2.2.2.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14"><csymbol cd="ambiguous" id="S5.E5.m1.28.28.1.1.1.4.2.2.2.1.cmml" xref="S5.E5.m1.30.30.3.29.15.13.14">subscript</csymbol><ci id="S5.E5.m1.24.24.24.11.9.9.cmml" xref="S5.E5.m1.24.24.24.11.9.9">𝑧</ci><ci id="S5.E5.m1.25.25.25.12.10.10.1.cmml" xref="S5.E5.m1.25.25.25.12.10.10.1">𝑒</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E5.m1.31c">\begin{split}V_{k}&amp;=\text{argtopk}_{n\in V}\text{ cos}(z_{q},z_{n})\\
E_{k}&amp;=\text{argtopk}_{e\in E}\text{ cos}(z_{q},z_{e}),\end{split}</annotation><annotation encoding="application/x-llamapun" id="S5.E5.m1.31d">start_ROW start_CELL italic_V start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_CELL start_CELL = argtopk start_POSTSUBSCRIPT italic_n ∈ italic_V end_POSTSUBSCRIPT cos ( italic_z start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT , italic_z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) end_CELL end_ROW start_ROW start_CELL italic_E start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_CELL start_CELL = argtopk start_POSTSUBSCRIPT italic_e ∈ italic_E end_POSTSUBSCRIPT cos ( italic_z start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT , italic_z start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ) , end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS2.p2.7">where <math alttext="z_{n}" class="ltx_Math" display="inline" id="S5.SS2.p2.1.m1.1"><semantics id="S5.SS2.p2.1.m1.1a"><msub id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml"><mi id="S5.SS2.p2.1.m1.1.1.2" xref="S5.SS2.p2.1.m1.1.1.2.cmml">z</mi><mi id="S5.SS2.p2.1.m1.1.1.3" xref="S5.SS2.p2.1.m1.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.1b"><apply id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.1.m1.1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S5.SS2.p2.1.m1.1.1.2.cmml" xref="S5.SS2.p2.1.m1.1.1.2">𝑧</ci><ci id="S5.SS2.p2.1.m1.1.1.3.cmml" xref="S5.SS2.p2.1.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.1c">z_{n}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.1.m1.1d">italic_z start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="z_{e}" class="ltx_Math" display="inline" id="S5.SS2.p2.2.m2.1"><semantics id="S5.SS2.p2.2.m2.1a"><msub id="S5.SS2.p2.2.m2.1.1" xref="S5.SS2.p2.2.m2.1.1.cmml"><mi id="S5.SS2.p2.2.m2.1.1.2" xref="S5.SS2.p2.2.m2.1.1.2.cmml">z</mi><mi id="S5.SS2.p2.2.m2.1.1.3" xref="S5.SS2.p2.2.m2.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.2.m2.1b"><apply id="S5.SS2.p2.2.m2.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.2.m2.1.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S5.SS2.p2.2.m2.1.1.2.cmml" xref="S5.SS2.p2.2.m2.1.1.2">𝑧</ci><ci id="S5.SS2.p2.2.m2.1.1.3.cmml" xref="S5.SS2.p2.2.m2.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.2.m2.1c">z_{e}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.2.m2.1d">italic_z start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math> are the embeddings of node <math alttext="n" class="ltx_Math" display="inline" id="S5.SS2.p2.3.m3.1"><semantics id="S5.SS2.p2.3.m3.1a"><mi id="S5.SS2.p2.3.m3.1.1" xref="S5.SS2.p2.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.3.m3.1b"><ci id="S5.SS2.p2.3.m3.1.1.cmml" xref="S5.SS2.p2.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.3.m3.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.3.m3.1d">italic_n</annotation></semantics></math> and edge <math alttext="e" class="ltx_Math" display="inline" id="S5.SS2.p2.4.m4.1"><semantics id="S5.SS2.p2.4.m4.1a"><mi id="S5.SS2.p2.4.m4.1.1" xref="S5.SS2.p2.4.m4.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.4.m4.1b"><ci id="S5.SS2.p2.4.m4.1.1.cmml" xref="S5.SS2.p2.4.m4.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.4.m4.1c">e</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.4.m4.1d">italic_e</annotation></semantics></math>, respectively.
We use the cosine similarity function, <math alttext="\text{cos}(\cdot,\cdot)" class="ltx_Math" display="inline" id="S5.SS2.p2.5.m5.2"><semantics id="S5.SS2.p2.5.m5.2a"><mrow id="S5.SS2.p2.5.m5.2.3" xref="S5.SS2.p2.5.m5.2.3.cmml"><mtext id="S5.SS2.p2.5.m5.2.3.2" xref="S5.SS2.p2.5.m5.2.3.2a.cmml">cos</mtext><mo id="S5.SS2.p2.5.m5.2.3.1" xref="S5.SS2.p2.5.m5.2.3.1.cmml">⁢</mo><mrow id="S5.SS2.p2.5.m5.2.3.3.2" xref="S5.SS2.p2.5.m5.2.3.3.1.cmml"><mo id="S5.SS2.p2.5.m5.2.3.3.2.1" stretchy="false" xref="S5.SS2.p2.5.m5.2.3.3.1.cmml">(</mo><mo id="S5.SS2.p2.5.m5.1.1" lspace="0em" rspace="0em" xref="S5.SS2.p2.5.m5.1.1.cmml">⋅</mo><mo id="S5.SS2.p2.5.m5.2.3.3.2.2" rspace="0em" xref="S5.SS2.p2.5.m5.2.3.3.1.cmml">,</mo><mo id="S5.SS2.p2.5.m5.2.2" lspace="0em" rspace="0em" xref="S5.SS2.p2.5.m5.2.2.cmml">⋅</mo><mo id="S5.SS2.p2.5.m5.2.3.3.2.3" stretchy="false" xref="S5.SS2.p2.5.m5.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.5.m5.2b"><apply id="S5.SS2.p2.5.m5.2.3.cmml" xref="S5.SS2.p2.5.m5.2.3"><times id="S5.SS2.p2.5.m5.2.3.1.cmml" xref="S5.SS2.p2.5.m5.2.3.1"></times><ci id="S5.SS2.p2.5.m5.2.3.2a.cmml" xref="S5.SS2.p2.5.m5.2.3.2"><mtext id="S5.SS2.p2.5.m5.2.3.2.cmml" xref="S5.SS2.p2.5.m5.2.3.2">cos</mtext></ci><interval closure="open" id="S5.SS2.p2.5.m5.2.3.3.1.cmml" xref="S5.SS2.p2.5.m5.2.3.3.2"><ci id="S5.SS2.p2.5.m5.1.1.cmml" xref="S5.SS2.p2.5.m5.1.1">⋅</ci><ci id="S5.SS2.p2.5.m5.2.2.cmml" xref="S5.SS2.p2.5.m5.2.2">⋅</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.5.m5.2c">\text{cos}(\cdot,\cdot)</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.5.m5.2d">cos ( ⋅ , ⋅ )</annotation></semantics></math>, to measure the similarity between the query representation and the node/edge embeddings. The argtopk operation retrieves the top-k elements based on this similarity, providing a set of nodes <math alttext="V_{k}" class="ltx_Math" display="inline" id="S5.SS2.p2.6.m6.1"><semantics id="S5.SS2.p2.6.m6.1a"><msub id="S5.SS2.p2.6.m6.1.1" xref="S5.SS2.p2.6.m6.1.1.cmml"><mi id="S5.SS2.p2.6.m6.1.1.2" xref="S5.SS2.p2.6.m6.1.1.2.cmml">V</mi><mi id="S5.SS2.p2.6.m6.1.1.3" xref="S5.SS2.p2.6.m6.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.6.m6.1b"><apply id="S5.SS2.p2.6.m6.1.1.cmml" xref="S5.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.6.m6.1.1.1.cmml" xref="S5.SS2.p2.6.m6.1.1">subscript</csymbol><ci id="S5.SS2.p2.6.m6.1.1.2.cmml" xref="S5.SS2.p2.6.m6.1.1.2">𝑉</ci><ci id="S5.SS2.p2.6.m6.1.1.3.cmml" xref="S5.SS2.p2.6.m6.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.6.m6.1c">V_{k}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.6.m6.1d">italic_V start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> and edges <math alttext="E_{k}" class="ltx_Math" display="inline" id="S5.SS2.p2.7.m7.1"><semantics id="S5.SS2.p2.7.m7.1a"><msub id="S5.SS2.p2.7.m7.1.1" xref="S5.SS2.p2.7.m7.1.1.cmml"><mi id="S5.SS2.p2.7.m7.1.1.2" xref="S5.SS2.p2.7.m7.1.1.2.cmml">E</mi><mi id="S5.SS2.p2.7.m7.1.1.3" xref="S5.SS2.p2.7.m7.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.7.m7.1b"><apply id="S5.SS2.p2.7.m7.1.1.cmml" xref="S5.SS2.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.7.m7.1.1.1.cmml" xref="S5.SS2.p2.7.m7.1.1">subscript</csymbol><ci id="S5.SS2.p2.7.m7.1.1.2.cmml" xref="S5.SS2.p2.7.m7.1.1.2">𝐸</ci><ci id="S5.SS2.p2.7.m7.1.1.3.cmml" xref="S5.SS2.p2.7.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.7.m7.1c">E_{k}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.7.m7.1d">italic_E start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> considered most relevant to the query. See Step 2 of Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S5.F3" title="Figure 3 ‣ 5 G-Retriever ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Subgraph Construction</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">This step aims to construct a subgraph that encompasses as many relevant nodes and edges as possible, while keeping the graph size manageable. This approach offers two key benefits: Firstly, it helps to filter out nodes and edges that are not pertinent to the query. This is crucial because irrelevant information can overshadow the useful data, potentially diverting the focus of the subsequent LLM from the information of interest. Secondly, it enhances efficiency; by keeping the graph size manageable, it becomes feasible to translate the graph into natural language and then input it into the LLM for processing. The Prize-Collecting Steiner Tree algorithm <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib2" title="">2</a>]</cite> serves as our primary method for identifying such optimally sized and relevant subgraphs. See Step 3 in Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S5.F3" title="Figure 3 ‣ 5 G-Retriever ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<div class="ltx_para" id="S5.SS3.p2">
<p class="ltx_p" id="S5.SS3.p2.2"><span class="ltx_text ltx_font_bold" id="S5.SS3.p2.2.1">Prize-Collecting Steiner Tree (PCST).</span>
The PCST problem aims to find a connected subgraph that maximizes the total prize values of its nodes while minimizing the total costs of its edges. Our approach assigns higher prize values to nodes and edges more relevant to the query, as measured by cosine similarity. Specifically, the top <math alttext="k" class="ltx_Math" display="inline" id="S5.SS3.p2.1.m1.1"><semantics id="S5.SS3.p2.1.m1.1a"><mi id="S5.SS3.p2.1.m1.1.1" xref="S5.SS3.p2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.1.m1.1b"><ci id="S5.SS3.p2.1.m1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.1.m1.1d">italic_k</annotation></semantics></math> nodes/edges are assigned descending prize values from <math alttext="k" class="ltx_Math" display="inline" id="S5.SS3.p2.2.m2.1"><semantics id="S5.SS3.p2.2.m2.1a"><mi id="S5.SS3.p2.2.m2.1.1" xref="S5.SS3.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.2.m2.1b"><ci id="S5.SS3.p2.2.m2.1.1.cmml" xref="S5.SS3.p2.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.2.m2.1d">italic_k</annotation></semantics></math> down to 1, with the rest assigned zero. The node prize assignment is as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{prize}(n)=\begin{cases}k-i,&amp;\text{if }n\in V_{k}\text{ and }n\text{ is %
the top }i\text{ node},\\
0,&amp;\text{otherwise}.\end{cases}" class="ltx_Math" display="block" id="S5.E6.m1.5"><semantics id="S5.E6.m1.5a"><mrow id="S5.E6.m1.5.6" xref="S5.E6.m1.5.6.cmml"><mrow id="S5.E6.m1.5.6.2" xref="S5.E6.m1.5.6.2.cmml"><mtext id="S5.E6.m1.5.6.2.2" xref="S5.E6.m1.5.6.2.2a.cmml">prize</mtext><mo id="S5.E6.m1.5.6.2.1" xref="S5.E6.m1.5.6.2.1.cmml">⁢</mo><mrow id="S5.E6.m1.5.6.2.3.2" xref="S5.E6.m1.5.6.2.cmml"><mo id="S5.E6.m1.5.6.2.3.2.1" stretchy="false" xref="S5.E6.m1.5.6.2.cmml">(</mo><mi id="S5.E6.m1.5.5" xref="S5.E6.m1.5.5.cmml">n</mi><mo id="S5.E6.m1.5.6.2.3.2.2" stretchy="false" xref="S5.E6.m1.5.6.2.cmml">)</mo></mrow></mrow><mo id="S5.E6.m1.5.6.1" xref="S5.E6.m1.5.6.1.cmml">=</mo><mrow id="S5.E6.m1.4.4" xref="S5.E6.m1.5.6.3.1.cmml"><mo id="S5.E6.m1.4.4.5" xref="S5.E6.m1.5.6.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" id="S5.E6.m1.4.4.4" rowspacing="0pt" xref="S5.E6.m1.5.6.3.1.cmml"><mtr id="S5.E6.m1.4.4.4a" xref="S5.E6.m1.5.6.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S5.E6.m1.4.4.4b" xref="S5.E6.m1.5.6.3.1.cmml"><mrow id="S5.E6.m1.1.1.1.1.1.1.1" xref="S5.E6.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="S5.E6.m1.1.1.1.1.1.1.1.1" xref="S5.E6.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S5.E6.m1.1.1.1.1.1.1.1.1.2" xref="S5.E6.m1.1.1.1.1.1.1.1.1.2.cmml">k</mi><mo id="S5.E6.m1.1.1.1.1.1.1.1.1.1" xref="S5.E6.m1.1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S5.E6.m1.1.1.1.1.1.1.1.1.3" xref="S5.E6.m1.1.1.1.1.1.1.1.1.3.cmml">i</mi></mrow><mo id="S5.E6.m1.1.1.1.1.1.1.1.2" xref="S5.E6.m1.1.1.1.1.1.1.1.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S5.E6.m1.4.4.4c" xref="S5.E6.m1.5.6.3.1.cmml"><mrow id="S5.E6.m1.2.2.2.2.2.1.1" xref="S5.E6.m1.2.2.2.2.2.1.1.1.cmml"><mrow id="S5.E6.m1.2.2.2.2.2.1.1.1" xref="S5.E6.m1.2.2.2.2.2.1.1.1.cmml"><mrow id="S5.E6.m1.2.2.2.2.2.1.1.1.2" xref="S5.E6.m1.2.2.2.2.2.1.1.1.2.cmml"><mtext id="S5.E6.m1.2.2.2.2.2.1.1.1.2.2" xref="S5.E6.m1.2.2.2.2.2.1.1.1.2.2a.cmml">if </mtext><mo id="S5.E6.m1.2.2.2.2.2.1.1.1.2.1" xref="S5.E6.m1.2.2.2.2.2.1.1.1.2.1.cmml">⁢</mo><mi id="S5.E6.m1.2.2.2.2.2.1.1.1.2.3" xref="S5.E6.m1.2.2.2.2.2.1.1.1.2.3.cmml">n</mi></mrow><mo id="S5.E6.m1.2.2.2.2.2.1.1.1.1" xref="S5.E6.m1.2.2.2.2.2.1.1.1.1.cmml">∈</mo><mrow id="S5.E6.m1.2.2.2.2.2.1.1.1.3" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.cmml"><msub id="S5.E6.m1.2.2.2.2.2.1.1.1.3.2" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.2.cmml"><mi id="S5.E6.m1.2.2.2.2.2.1.1.1.3.2.2" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.2.2.cmml">V</mi><mi id="S5.E6.m1.2.2.2.2.2.1.1.1.3.2.3" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.2.3.cmml">k</mi></msub><mo id="S5.E6.m1.2.2.2.2.2.1.1.1.3.1" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.1.cmml">⁢</mo><mtext id="S5.E6.m1.2.2.2.2.2.1.1.1.3.3" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.3a.cmml"> and </mtext><mo id="S5.E6.m1.2.2.2.2.2.1.1.1.3.1a" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.1.cmml">⁢</mo><mi id="S5.E6.m1.2.2.2.2.2.1.1.1.3.4" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.4.cmml">n</mi><mo id="S5.E6.m1.2.2.2.2.2.1.1.1.3.1b" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.1.cmml">⁢</mo><mtext id="S5.E6.m1.2.2.2.2.2.1.1.1.3.5" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.5a.cmml"> is the top </mtext><mo id="S5.E6.m1.2.2.2.2.2.1.1.1.3.1c" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.1.cmml">⁢</mo><mi id="S5.E6.m1.2.2.2.2.2.1.1.1.3.6" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.6.cmml">i</mi><mo id="S5.E6.m1.2.2.2.2.2.1.1.1.3.1d" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.1.cmml">⁢</mo><mtext id="S5.E6.m1.2.2.2.2.2.1.1.1.3.7" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.7a.cmml"> node</mtext></mrow></mrow><mo id="S5.E6.m1.2.2.2.2.2.1.1.2" xref="S5.E6.m1.2.2.2.2.2.1.1.1.cmml">,</mo></mrow></mtd></mtr><mtr id="S5.E6.m1.4.4.4d" xref="S5.E6.m1.5.6.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S5.E6.m1.4.4.4e" xref="S5.E6.m1.5.6.3.1.cmml"><mrow id="S5.E6.m1.3.3.3.3.1.1.3" xref="S5.E6.m1.5.6.3.1.cmml"><mn id="S5.E6.m1.3.3.3.3.1.1.1" xref="S5.E6.m1.3.3.3.3.1.1.1.cmml">0</mn><mo id="S5.E6.m1.3.3.3.3.1.1.3.1" xref="S5.E6.m1.5.6.3.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S5.E6.m1.4.4.4f" xref="S5.E6.m1.5.6.3.1.cmml"><mrow id="S5.E6.m1.4.4.4.4.2.1.3" xref="S5.E6.m1.4.4.4.4.2.1.1a.cmml"><mtext id="S5.E6.m1.4.4.4.4.2.1.1" xref="S5.E6.m1.4.4.4.4.2.1.1.cmml">otherwise</mtext><mo id="S5.E6.m1.4.4.4.4.2.1.3.1" lspace="0em" xref="S5.E6.m1.4.4.4.4.2.1.1a.cmml">.</mo></mrow></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.E6.m1.5b"><apply id="S5.E6.m1.5.6.cmml" xref="S5.E6.m1.5.6"><eq id="S5.E6.m1.5.6.1.cmml" xref="S5.E6.m1.5.6.1"></eq><apply id="S5.E6.m1.5.6.2.cmml" xref="S5.E6.m1.5.6.2"><times id="S5.E6.m1.5.6.2.1.cmml" xref="S5.E6.m1.5.6.2.1"></times><ci id="S5.E6.m1.5.6.2.2a.cmml" xref="S5.E6.m1.5.6.2.2"><mtext id="S5.E6.m1.5.6.2.2.cmml" xref="S5.E6.m1.5.6.2.2">prize</mtext></ci><ci id="S5.E6.m1.5.5.cmml" xref="S5.E6.m1.5.5">𝑛</ci></apply><apply id="S5.E6.m1.5.6.3.1.cmml" xref="S5.E6.m1.4.4"><csymbol cd="latexml" id="S5.E6.m1.5.6.3.1.1.cmml" xref="S5.E6.m1.4.4.5">cases</csymbol><apply id="S5.E6.m1.1.1.1.1.1.1.1.1.cmml" xref="S5.E6.m1.1.1.1.1.1.1.1"><minus id="S5.E6.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E6.m1.1.1.1.1.1.1.1.1.1"></minus><ci id="S5.E6.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E6.m1.1.1.1.1.1.1.1.1.2">𝑘</ci><ci id="S5.E6.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E6.m1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S5.E6.m1.2.2.2.2.2.1.1.1.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1"><in id="S5.E6.m1.2.2.2.2.2.1.1.1.1.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.1"></in><apply id="S5.E6.m1.2.2.2.2.2.1.1.1.2.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.2"><times id="S5.E6.m1.2.2.2.2.2.1.1.1.2.1.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.2.1"></times><ci id="S5.E6.m1.2.2.2.2.2.1.1.1.2.2a.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.2.2"><mtext id="S5.E6.m1.2.2.2.2.2.1.1.1.2.2.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.2.2">if </mtext></ci><ci id="S5.E6.m1.2.2.2.2.2.1.1.1.2.3.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.2.3">𝑛</ci></apply><apply id="S5.E6.m1.2.2.2.2.2.1.1.1.3.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3"><times id="S5.E6.m1.2.2.2.2.2.1.1.1.3.1.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.1"></times><apply id="S5.E6.m1.2.2.2.2.2.1.1.1.3.2.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.2"><csymbol cd="ambiguous" id="S5.E6.m1.2.2.2.2.2.1.1.1.3.2.1.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.2">subscript</csymbol><ci id="S5.E6.m1.2.2.2.2.2.1.1.1.3.2.2.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.2.2">𝑉</ci><ci id="S5.E6.m1.2.2.2.2.2.1.1.1.3.2.3.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.2.3">𝑘</ci></apply><ci id="S5.E6.m1.2.2.2.2.2.1.1.1.3.3a.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.3"><mtext id="S5.E6.m1.2.2.2.2.2.1.1.1.3.3.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.3"> and </mtext></ci><ci id="S5.E6.m1.2.2.2.2.2.1.1.1.3.4.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.4">𝑛</ci><ci id="S5.E6.m1.2.2.2.2.2.1.1.1.3.5a.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.5"><mtext id="S5.E6.m1.2.2.2.2.2.1.1.1.3.5.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.5"> is the top </mtext></ci><ci id="S5.E6.m1.2.2.2.2.2.1.1.1.3.6.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.6">𝑖</ci><ci id="S5.E6.m1.2.2.2.2.2.1.1.1.3.7a.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.7"><mtext id="S5.E6.m1.2.2.2.2.2.1.1.1.3.7.cmml" xref="S5.E6.m1.2.2.2.2.2.1.1.1.3.7"> node</mtext></ci></apply></apply><cn id="S5.E6.m1.3.3.3.3.1.1.1.cmml" type="integer" xref="S5.E6.m1.3.3.3.3.1.1.1">0</cn><ci id="S5.E6.m1.4.4.4.4.2.1.1a.cmml" xref="S5.E6.m1.4.4.4.4.2.1.3"><mtext id="S5.E6.m1.4.4.4.4.2.1.1.cmml" xref="S5.E6.m1.4.4.4.4.2.1.1">otherwise</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E6.m1.5c">\text{prize}(n)=\begin{cases}k-i,&amp;\text{if }n\in V_{k}\text{ and }n\text{ is %
the top }i\text{ node},\\
0,&amp;\text{otherwise}.\end{cases}</annotation><annotation encoding="application/x-llamapun" id="S5.E6.m1.5d">prize ( italic_n ) = { start_ROW start_CELL italic_k - italic_i , end_CELL start_CELL if italic_n ∈ italic_V start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT and italic_n is the top italic_i node , end_CELL end_ROW start_ROW start_CELL 0 , end_CELL start_CELL otherwise . end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS3.p2.3">Edge prizes are assigned similarly. The objective is to identify a subgraph, <math alttext="S^{*}=(V^{*},E^{*})" class="ltx_Math" display="inline" id="S5.SS3.p2.3.m1.2"><semantics id="S5.SS3.p2.3.m1.2a"><mrow id="S5.SS3.p2.3.m1.2.2" xref="S5.SS3.p2.3.m1.2.2.cmml"><msup id="S5.SS3.p2.3.m1.2.2.4" xref="S5.SS3.p2.3.m1.2.2.4.cmml"><mi id="S5.SS3.p2.3.m1.2.2.4.2" xref="S5.SS3.p2.3.m1.2.2.4.2.cmml">S</mi><mo id="S5.SS3.p2.3.m1.2.2.4.3" xref="S5.SS3.p2.3.m1.2.2.4.3.cmml">∗</mo></msup><mo id="S5.SS3.p2.3.m1.2.2.3" xref="S5.SS3.p2.3.m1.2.2.3.cmml">=</mo><mrow id="S5.SS3.p2.3.m1.2.2.2.2" xref="S5.SS3.p2.3.m1.2.2.2.3.cmml"><mo id="S5.SS3.p2.3.m1.2.2.2.2.3" stretchy="false" xref="S5.SS3.p2.3.m1.2.2.2.3.cmml">(</mo><msup id="S5.SS3.p2.3.m1.1.1.1.1.1" xref="S5.SS3.p2.3.m1.1.1.1.1.1.cmml"><mi id="S5.SS3.p2.3.m1.1.1.1.1.1.2" xref="S5.SS3.p2.3.m1.1.1.1.1.1.2.cmml">V</mi><mo id="S5.SS3.p2.3.m1.1.1.1.1.1.3" xref="S5.SS3.p2.3.m1.1.1.1.1.1.3.cmml">∗</mo></msup><mo id="S5.SS3.p2.3.m1.2.2.2.2.4" xref="S5.SS3.p2.3.m1.2.2.2.3.cmml">,</mo><msup id="S5.SS3.p2.3.m1.2.2.2.2.2" xref="S5.SS3.p2.3.m1.2.2.2.2.2.cmml"><mi id="S5.SS3.p2.3.m1.2.2.2.2.2.2" xref="S5.SS3.p2.3.m1.2.2.2.2.2.2.cmml">E</mi><mo id="S5.SS3.p2.3.m1.2.2.2.2.2.3" xref="S5.SS3.p2.3.m1.2.2.2.2.2.3.cmml">∗</mo></msup><mo id="S5.SS3.p2.3.m1.2.2.2.2.5" stretchy="false" xref="S5.SS3.p2.3.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.3.m1.2b"><apply id="S5.SS3.p2.3.m1.2.2.cmml" xref="S5.SS3.p2.3.m1.2.2"><eq id="S5.SS3.p2.3.m1.2.2.3.cmml" xref="S5.SS3.p2.3.m1.2.2.3"></eq><apply id="S5.SS3.p2.3.m1.2.2.4.cmml" xref="S5.SS3.p2.3.m1.2.2.4"><csymbol cd="ambiguous" id="S5.SS3.p2.3.m1.2.2.4.1.cmml" xref="S5.SS3.p2.3.m1.2.2.4">superscript</csymbol><ci id="S5.SS3.p2.3.m1.2.2.4.2.cmml" xref="S5.SS3.p2.3.m1.2.2.4.2">𝑆</ci><times id="S5.SS3.p2.3.m1.2.2.4.3.cmml" xref="S5.SS3.p2.3.m1.2.2.4.3"></times></apply><interval closure="open" id="S5.SS3.p2.3.m1.2.2.2.3.cmml" xref="S5.SS3.p2.3.m1.2.2.2.2"><apply id="S5.SS3.p2.3.m1.1.1.1.1.1.cmml" xref="S5.SS3.p2.3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.3.m1.1.1.1.1.1.1.cmml" xref="S5.SS3.p2.3.m1.1.1.1.1.1">superscript</csymbol><ci id="S5.SS3.p2.3.m1.1.1.1.1.1.2.cmml" xref="S5.SS3.p2.3.m1.1.1.1.1.1.2">𝑉</ci><times id="S5.SS3.p2.3.m1.1.1.1.1.1.3.cmml" xref="S5.SS3.p2.3.m1.1.1.1.1.1.3"></times></apply><apply id="S5.SS3.p2.3.m1.2.2.2.2.2.cmml" xref="S5.SS3.p2.3.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS3.p2.3.m1.2.2.2.2.2.1.cmml" xref="S5.SS3.p2.3.m1.2.2.2.2.2">superscript</csymbol><ci id="S5.SS3.p2.3.m1.2.2.2.2.2.2.cmml" xref="S5.SS3.p2.3.m1.2.2.2.2.2.2">𝐸</ci><times id="S5.SS3.p2.3.m1.2.2.2.2.2.3.cmml" xref="S5.SS3.p2.3.m1.2.2.2.2.2.3"></times></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.3.m1.2c">S^{*}=(V^{*},E^{*})</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.3.m1.2d">italic_S start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT = ( italic_V start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT , italic_E start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT )</annotation></semantics></math>, that optimizes the total prize of nodes and edges, minus the costs associated with the size of the subgraph:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="S^{*}=\underset{\begin{subarray}{c}S\subseteq G,\\
S\text{ is connected}\end{subarray}}{\text{argmax}}\sum_{n\in V_{S}}\text{%
prize}(n)+\sum_{e\in E_{S}}\text{prize}(e)-\text{cost}(S),\," class="ltx_Math" display="block" id="S5.E7.m1.5"><semantics id="S5.E7.m1.5a"><mrow id="S5.E7.m1.5.5.1" xref="S5.E7.m1.5.5.1.1.cmml"><mrow id="S5.E7.m1.5.5.1.1" xref="S5.E7.m1.5.5.1.1.cmml"><msup id="S5.E7.m1.5.5.1.1.2" xref="S5.E7.m1.5.5.1.1.2.cmml"><mi id="S5.E7.m1.5.5.1.1.2.2" xref="S5.E7.m1.5.5.1.1.2.2.cmml">S</mi><mo id="S5.E7.m1.5.5.1.1.2.3" xref="S5.E7.m1.5.5.1.1.2.3.cmml">∗</mo></msup><mo id="S5.E7.m1.5.5.1.1.1" xref="S5.E7.m1.5.5.1.1.1.cmml">=</mo><mrow id="S5.E7.m1.5.5.1.1.3" xref="S5.E7.m1.5.5.1.1.3.cmml"><mrow id="S5.E7.m1.5.5.1.1.3.2" xref="S5.E7.m1.5.5.1.1.3.2.cmml"><mrow id="S5.E7.m1.5.5.1.1.3.2.2" xref="S5.E7.m1.5.5.1.1.3.2.2.cmml"><munder accentunder="true" id="S5.E7.m1.1.1" xref="S5.E7.m1.1.1.cmml"><mtext id="S5.E7.m1.1.1.2" xref="S5.E7.m1.1.1.2a.cmml">argmax</mtext><mtable displaystyle="true" id="S5.E7.m1.1.1.1.1.1.1" rowspacing="0pt" xref="S5.E7.m1.1.1.1.1.2.cmml"><mtr id="S5.E7.m1.1.1.1.1.1.1a" xref="S5.E7.m1.1.1.1.1.2.cmml"><mtd id="S5.E7.m1.1.1.1.1.1.1b" xref="S5.E7.m1.1.1.1.1.2.cmml"><mrow id="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" mathsize="70%" xref="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mo id="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" mathsize="70%" xref="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">⊆</mo><mi id="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" mathsize="70%" xref="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">G</mi></mrow><mo id="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.2" mathsize="70%" xref="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">,</mo></mrow></mtd></mtr><mtr id="S5.E7.m1.1.1.1.1.1.1c" xref="S5.E7.m1.1.1.1.1.2.cmml"><mtd id="S5.E7.m1.1.1.1.1.1.1d" xref="S5.E7.m1.1.1.1.1.2.cmml"><mrow id="S5.E7.m1.1.1.1.1.1.1.2.1.1" xref="S5.E7.m1.1.1.1.1.1.1.2.1.1.cmml"><mi id="S5.E7.m1.1.1.1.1.1.1.2.1.1.2" mathsize="70%" xref="S5.E7.m1.1.1.1.1.1.1.2.1.1.2.cmml">S</mi><mo id="S5.E7.m1.1.1.1.1.1.1.2.1.1.1" xref="S5.E7.m1.1.1.1.1.1.1.2.1.1.1.cmml">⁢</mo><mtext id="S5.E7.m1.1.1.1.1.1.1.2.1.1.3" mathsize="70%" xref="S5.E7.m1.1.1.1.1.1.1.2.1.1.3a.cmml"> is connected</mtext></mrow></mtd></mtr></mtable></munder><mo id="S5.E7.m1.5.5.1.1.3.2.2.1" xref="S5.E7.m1.5.5.1.1.3.2.2.1.cmml">⁢</mo><mrow id="S5.E7.m1.5.5.1.1.3.2.2.2" xref="S5.E7.m1.5.5.1.1.3.2.2.2.cmml"><munder id="S5.E7.m1.5.5.1.1.3.2.2.2.1" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.cmml"><mo id="S5.E7.m1.5.5.1.1.3.2.2.2.1.2" movablelimits="false" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.2.cmml">∑</mo><mrow id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.cmml"><mi id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.2" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.2.cmml">n</mi><mo id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.1" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.1.cmml">∈</mo><msub id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3.cmml"><mi id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3.2" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3.2.cmml">V</mi><mi id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3.3" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3.3.cmml">S</mi></msub></mrow></munder><mrow id="S5.E7.m1.5.5.1.1.3.2.2.2.2" xref="S5.E7.m1.5.5.1.1.3.2.2.2.2.cmml"><mtext id="S5.E7.m1.5.5.1.1.3.2.2.2.2.2" xref="S5.E7.m1.5.5.1.1.3.2.2.2.2.2a.cmml">prize</mtext><mo id="S5.E7.m1.5.5.1.1.3.2.2.2.2.1" xref="S5.E7.m1.5.5.1.1.3.2.2.2.2.1.cmml">⁢</mo><mrow id="S5.E7.m1.5.5.1.1.3.2.2.2.2.3.2" xref="S5.E7.m1.5.5.1.1.3.2.2.2.2.cmml"><mo id="S5.E7.m1.5.5.1.1.3.2.2.2.2.3.2.1" stretchy="false" xref="S5.E7.m1.5.5.1.1.3.2.2.2.2.cmml">(</mo><mi id="S5.E7.m1.2.2" xref="S5.E7.m1.2.2.cmml">n</mi><mo id="S5.E7.m1.5.5.1.1.3.2.2.2.2.3.2.2" stretchy="false" xref="S5.E7.m1.5.5.1.1.3.2.2.2.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S5.E7.m1.5.5.1.1.3.2.1" rspace="0.055em" xref="S5.E7.m1.5.5.1.1.3.2.1.cmml">+</mo><mrow id="S5.E7.m1.5.5.1.1.3.2.3" xref="S5.E7.m1.5.5.1.1.3.2.3.cmml"><munder id="S5.E7.m1.5.5.1.1.3.2.3.1" xref="S5.E7.m1.5.5.1.1.3.2.3.1.cmml"><mo id="S5.E7.m1.5.5.1.1.3.2.3.1.2" movablelimits="false" xref="S5.E7.m1.5.5.1.1.3.2.3.1.2.cmml">∑</mo><mrow id="S5.E7.m1.5.5.1.1.3.2.3.1.3" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3.cmml"><mi id="S5.E7.m1.5.5.1.1.3.2.3.1.3.2" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3.2.cmml">e</mi><mo id="S5.E7.m1.5.5.1.1.3.2.3.1.3.1" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3.1.cmml">∈</mo><msub id="S5.E7.m1.5.5.1.1.3.2.3.1.3.3" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3.3.cmml"><mi id="S5.E7.m1.5.5.1.1.3.2.3.1.3.3.2" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3.3.2.cmml">E</mi><mi id="S5.E7.m1.5.5.1.1.3.2.3.1.3.3.3" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3.3.3.cmml">S</mi></msub></mrow></munder><mrow id="S5.E7.m1.5.5.1.1.3.2.3.2" xref="S5.E7.m1.5.5.1.1.3.2.3.2.cmml"><mtext id="S5.E7.m1.5.5.1.1.3.2.3.2.2" xref="S5.E7.m1.5.5.1.1.3.2.3.2.2a.cmml">prize</mtext><mo id="S5.E7.m1.5.5.1.1.3.2.3.2.1" xref="S5.E7.m1.5.5.1.1.3.2.3.2.1.cmml">⁢</mo><mrow id="S5.E7.m1.5.5.1.1.3.2.3.2.3.2" xref="S5.E7.m1.5.5.1.1.3.2.3.2.cmml"><mo id="S5.E7.m1.5.5.1.1.3.2.3.2.3.2.1" stretchy="false" xref="S5.E7.m1.5.5.1.1.3.2.3.2.cmml">(</mo><mi id="S5.E7.m1.3.3" xref="S5.E7.m1.3.3.cmml">e</mi><mo id="S5.E7.m1.5.5.1.1.3.2.3.2.3.2.2" stretchy="false" xref="S5.E7.m1.5.5.1.1.3.2.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S5.E7.m1.5.5.1.1.3.1" xref="S5.E7.m1.5.5.1.1.3.1.cmml">−</mo><mrow id="S5.E7.m1.5.5.1.1.3.3" xref="S5.E7.m1.5.5.1.1.3.3.cmml"><mtext id="S5.E7.m1.5.5.1.1.3.3.2" xref="S5.E7.m1.5.5.1.1.3.3.2a.cmml">cost</mtext><mo id="S5.E7.m1.5.5.1.1.3.3.1" xref="S5.E7.m1.5.5.1.1.3.3.1.cmml">⁢</mo><mrow id="S5.E7.m1.5.5.1.1.3.3.3.2" xref="S5.E7.m1.5.5.1.1.3.3.cmml"><mo id="S5.E7.m1.5.5.1.1.3.3.3.2.1" stretchy="false" xref="S5.E7.m1.5.5.1.1.3.3.cmml">(</mo><mi id="S5.E7.m1.4.4" xref="S5.E7.m1.4.4.cmml">S</mi><mo id="S5.E7.m1.5.5.1.1.3.3.3.2.2" stretchy="false" xref="S5.E7.m1.5.5.1.1.3.3.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S5.E7.m1.5.5.1.2" xref="S5.E7.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E7.m1.5b"><apply id="S5.E7.m1.5.5.1.1.cmml" xref="S5.E7.m1.5.5.1"><eq id="S5.E7.m1.5.5.1.1.1.cmml" xref="S5.E7.m1.5.5.1.1.1"></eq><apply id="S5.E7.m1.5.5.1.1.2.cmml" xref="S5.E7.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="S5.E7.m1.5.5.1.1.2.1.cmml" xref="S5.E7.m1.5.5.1.1.2">superscript</csymbol><ci id="S5.E7.m1.5.5.1.1.2.2.cmml" xref="S5.E7.m1.5.5.1.1.2.2">𝑆</ci><times id="S5.E7.m1.5.5.1.1.2.3.cmml" xref="S5.E7.m1.5.5.1.1.2.3"></times></apply><apply id="S5.E7.m1.5.5.1.1.3.cmml" xref="S5.E7.m1.5.5.1.1.3"><minus id="S5.E7.m1.5.5.1.1.3.1.cmml" xref="S5.E7.m1.5.5.1.1.3.1"></minus><apply id="S5.E7.m1.5.5.1.1.3.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2"><plus id="S5.E7.m1.5.5.1.1.3.2.1.cmml" xref="S5.E7.m1.5.5.1.1.3.2.1"></plus><apply id="S5.E7.m1.5.5.1.1.3.2.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2"><times id="S5.E7.m1.5.5.1.1.3.2.2.1.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.1"></times><apply id="S5.E7.m1.1.1.cmml" xref="S5.E7.m1.1.1"><list id="S5.E7.m1.1.1.1.1.2.cmml" xref="S5.E7.m1.1.1.1.1.1.1"><matrix id="S5.E7.m1.1.1.1.1.1.1.cmml" xref="S5.E7.m1.1.1.1.1.1.1"><matrixrow id="S5.E7.m1.1.1.1.1.1.1a.cmml" xref="S5.E7.m1.1.1.1.1.1.1"><apply id="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1"><subset id="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1"></subset><ci id="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝐺</ci></apply></matrixrow><matrixrow id="S5.E7.m1.1.1.1.1.1.1b.cmml" xref="S5.E7.m1.1.1.1.1.1.1"><apply id="S5.E7.m1.1.1.1.1.1.1.2.1.1.cmml" xref="S5.E7.m1.1.1.1.1.1.1.2.1.1"><times id="S5.E7.m1.1.1.1.1.1.1.2.1.1.1.cmml" xref="S5.E7.m1.1.1.1.1.1.1.2.1.1.1"></times><ci id="S5.E7.m1.1.1.1.1.1.1.2.1.1.2.cmml" xref="S5.E7.m1.1.1.1.1.1.1.2.1.1.2">𝑆</ci><ci id="S5.E7.m1.1.1.1.1.1.1.2.1.1.3a.cmml" xref="S5.E7.m1.1.1.1.1.1.1.2.1.1.3"><mtext id="S5.E7.m1.1.1.1.1.1.1.2.1.1.3.cmml" mathsize="70%" xref="S5.E7.m1.1.1.1.1.1.1.2.1.1.3"> is connected</mtext></ci></apply></matrixrow></matrix></list><ci id="S5.E7.m1.1.1.2a.cmml" xref="S5.E7.m1.1.1.2"><mtext id="S5.E7.m1.1.1.2.cmml" xref="S5.E7.m1.1.1.2">argmax</mtext></ci></apply><apply id="S5.E7.m1.5.5.1.1.3.2.2.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2"><apply id="S5.E7.m1.5.5.1.1.3.2.2.2.1.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1"><csymbol cd="ambiguous" id="S5.E7.m1.5.5.1.1.3.2.2.2.1.1.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1">subscript</csymbol><sum id="S5.E7.m1.5.5.1.1.3.2.2.2.1.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.2"></sum><apply id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3"><in id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.1.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.1"></in><ci id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.2">𝑛</ci><apply id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3"><csymbol cd="ambiguous" id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3.1.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3">subscript</csymbol><ci id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3.2">𝑉</ci><ci id="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3.3.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.1.3.3.3">𝑆</ci></apply></apply></apply><apply id="S5.E7.m1.5.5.1.1.3.2.2.2.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.2"><times id="S5.E7.m1.5.5.1.1.3.2.2.2.2.1.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.2.1"></times><ci id="S5.E7.m1.5.5.1.1.3.2.2.2.2.2a.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.2.2"><mtext id="S5.E7.m1.5.5.1.1.3.2.2.2.2.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2.2.2.2.2">prize</mtext></ci><ci id="S5.E7.m1.2.2.cmml" xref="S5.E7.m1.2.2">𝑛</ci></apply></apply></apply><apply id="S5.E7.m1.5.5.1.1.3.2.3.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3"><apply id="S5.E7.m1.5.5.1.1.3.2.3.1.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.1"><csymbol cd="ambiguous" id="S5.E7.m1.5.5.1.1.3.2.3.1.1.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.1">subscript</csymbol><sum id="S5.E7.m1.5.5.1.1.3.2.3.1.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.1.2"></sum><apply id="S5.E7.m1.5.5.1.1.3.2.3.1.3.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3"><in id="S5.E7.m1.5.5.1.1.3.2.3.1.3.1.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3.1"></in><ci id="S5.E7.m1.5.5.1.1.3.2.3.1.3.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3.2">𝑒</ci><apply id="S5.E7.m1.5.5.1.1.3.2.3.1.3.3.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3.3"><csymbol cd="ambiguous" id="S5.E7.m1.5.5.1.1.3.2.3.1.3.3.1.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3.3">subscript</csymbol><ci id="S5.E7.m1.5.5.1.1.3.2.3.1.3.3.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3.3.2">𝐸</ci><ci id="S5.E7.m1.5.5.1.1.3.2.3.1.3.3.3.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.1.3.3.3">𝑆</ci></apply></apply></apply><apply id="S5.E7.m1.5.5.1.1.3.2.3.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.2"><times id="S5.E7.m1.5.5.1.1.3.2.3.2.1.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.2.1"></times><ci id="S5.E7.m1.5.5.1.1.3.2.3.2.2a.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.2.2"><mtext id="S5.E7.m1.5.5.1.1.3.2.3.2.2.cmml" xref="S5.E7.m1.5.5.1.1.3.2.3.2.2">prize</mtext></ci><ci id="S5.E7.m1.3.3.cmml" xref="S5.E7.m1.3.3">𝑒</ci></apply></apply></apply><apply id="S5.E7.m1.5.5.1.1.3.3.cmml" xref="S5.E7.m1.5.5.1.1.3.3"><times id="S5.E7.m1.5.5.1.1.3.3.1.cmml" xref="S5.E7.m1.5.5.1.1.3.3.1"></times><ci id="S5.E7.m1.5.5.1.1.3.3.2a.cmml" xref="S5.E7.m1.5.5.1.1.3.3.2"><mtext id="S5.E7.m1.5.5.1.1.3.3.2.cmml" xref="S5.E7.m1.5.5.1.1.3.3.2">cost</mtext></ci><ci id="S5.E7.m1.4.4.cmml" xref="S5.E7.m1.4.4">𝑆</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E7.m1.5c">S^{*}=\underset{\begin{subarray}{c}S\subseteq G,\\
S\text{ is connected}\end{subarray}}{\text{argmax}}\sum_{n\in V_{S}}\text{%
prize}(n)+\sum_{e\in E_{S}}\text{prize}(e)-\text{cost}(S),\,</annotation><annotation encoding="application/x-llamapun" id="S5.E7.m1.5d">italic_S start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT = start_UNDERACCENT start_ARG start_ROW start_CELL italic_S ⊆ italic_G , end_CELL end_ROW start_ROW start_CELL italic_S is connected end_CELL end_ROW end_ARG end_UNDERACCENT start_ARG argmax end_ARG ∑ start_POSTSUBSCRIPT italic_n ∈ italic_V start_POSTSUBSCRIPT italic_S end_POSTSUBSCRIPT end_POSTSUBSCRIPT prize ( italic_n ) + ∑ start_POSTSUBSCRIPT italic_e ∈ italic_E start_POSTSUBSCRIPT italic_S end_POSTSUBSCRIPT end_POSTSUBSCRIPT prize ( italic_e ) - cost ( italic_S ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS3.p2.5">where</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{cost}(S)=|E_{S}|\times C_{e}," class="ltx_Math" display="block" id="S5.E8.m1.2"><semantics id="S5.E8.m1.2a"><mrow id="S5.E8.m1.2.2.1" xref="S5.E8.m1.2.2.1.1.cmml"><mrow id="S5.E8.m1.2.2.1.1" xref="S5.E8.m1.2.2.1.1.cmml"><mrow id="S5.E8.m1.2.2.1.1.3" xref="S5.E8.m1.2.2.1.1.3.cmml"><mtext id="S5.E8.m1.2.2.1.1.3.2" xref="S5.E8.m1.2.2.1.1.3.2a.cmml">cost</mtext><mo id="S5.E8.m1.2.2.1.1.3.1" xref="S5.E8.m1.2.2.1.1.3.1.cmml">⁢</mo><mrow id="S5.E8.m1.2.2.1.1.3.3.2" xref="S5.E8.m1.2.2.1.1.3.cmml"><mo id="S5.E8.m1.2.2.1.1.3.3.2.1" stretchy="false" xref="S5.E8.m1.2.2.1.1.3.cmml">(</mo><mi id="S5.E8.m1.1.1" xref="S5.E8.m1.1.1.cmml">S</mi><mo id="S5.E8.m1.2.2.1.1.3.3.2.2" stretchy="false" xref="S5.E8.m1.2.2.1.1.3.cmml">)</mo></mrow></mrow><mo id="S5.E8.m1.2.2.1.1.2" xref="S5.E8.m1.2.2.1.1.2.cmml">=</mo><mrow id="S5.E8.m1.2.2.1.1.1" xref="S5.E8.m1.2.2.1.1.1.cmml"><mrow id="S5.E8.m1.2.2.1.1.1.1.1" xref="S5.E8.m1.2.2.1.1.1.1.2.cmml"><mo id="S5.E8.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S5.E8.m1.2.2.1.1.1.1.2.1.cmml">|</mo><msub id="S5.E8.m1.2.2.1.1.1.1.1.1" xref="S5.E8.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S5.E8.m1.2.2.1.1.1.1.1.1.2" xref="S5.E8.m1.2.2.1.1.1.1.1.1.2.cmml">E</mi><mi id="S5.E8.m1.2.2.1.1.1.1.1.1.3" xref="S5.E8.m1.2.2.1.1.1.1.1.1.3.cmml">S</mi></msub><mo id="S5.E8.m1.2.2.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S5.E8.m1.2.2.1.1.1.1.2.1.cmml">|</mo></mrow><mo id="S5.E8.m1.2.2.1.1.1.2" rspace="0.222em" xref="S5.E8.m1.2.2.1.1.1.2.cmml">×</mo><msub id="S5.E8.m1.2.2.1.1.1.3" xref="S5.E8.m1.2.2.1.1.1.3.cmml"><mi id="S5.E8.m1.2.2.1.1.1.3.2" xref="S5.E8.m1.2.2.1.1.1.3.2.cmml">C</mi><mi id="S5.E8.m1.2.2.1.1.1.3.3" xref="S5.E8.m1.2.2.1.1.1.3.3.cmml">e</mi></msub></mrow></mrow><mo id="S5.E8.m1.2.2.1.2" xref="S5.E8.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E8.m1.2b"><apply id="S5.E8.m1.2.2.1.1.cmml" xref="S5.E8.m1.2.2.1"><eq id="S5.E8.m1.2.2.1.1.2.cmml" xref="S5.E8.m1.2.2.1.1.2"></eq><apply id="S5.E8.m1.2.2.1.1.3.cmml" xref="S5.E8.m1.2.2.1.1.3"><times id="S5.E8.m1.2.2.1.1.3.1.cmml" xref="S5.E8.m1.2.2.1.1.3.1"></times><ci id="S5.E8.m1.2.2.1.1.3.2a.cmml" xref="S5.E8.m1.2.2.1.1.3.2"><mtext id="S5.E8.m1.2.2.1.1.3.2.cmml" xref="S5.E8.m1.2.2.1.1.3.2">cost</mtext></ci><ci id="S5.E8.m1.1.1.cmml" xref="S5.E8.m1.1.1">𝑆</ci></apply><apply id="S5.E8.m1.2.2.1.1.1.cmml" xref="S5.E8.m1.2.2.1.1.1"><times id="S5.E8.m1.2.2.1.1.1.2.cmml" xref="S5.E8.m1.2.2.1.1.1.2"></times><apply id="S5.E8.m1.2.2.1.1.1.1.2.cmml" xref="S5.E8.m1.2.2.1.1.1.1.1"><abs id="S5.E8.m1.2.2.1.1.1.1.2.1.cmml" xref="S5.E8.m1.2.2.1.1.1.1.1.2"></abs><apply id="S5.E8.m1.2.2.1.1.1.1.1.1.cmml" xref="S5.E8.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E8.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S5.E8.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S5.E8.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S5.E8.m1.2.2.1.1.1.1.1.1.2">𝐸</ci><ci id="S5.E8.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S5.E8.m1.2.2.1.1.1.1.1.1.3">𝑆</ci></apply></apply><apply id="S5.E8.m1.2.2.1.1.1.3.cmml" xref="S5.E8.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S5.E8.m1.2.2.1.1.1.3.1.cmml" xref="S5.E8.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S5.E8.m1.2.2.1.1.1.3.2.cmml" xref="S5.E8.m1.2.2.1.1.1.3.2">𝐶</ci><ci id="S5.E8.m1.2.2.1.1.1.3.3.cmml" xref="S5.E8.m1.2.2.1.1.1.3.3">𝑒</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E8.m1.2c">\text{cost}(S)=|E_{S}|\times C_{e},</annotation><annotation encoding="application/x-llamapun" id="S5.E8.m1.2d">cost ( italic_S ) = | italic_E start_POSTSUBSCRIPT italic_S end_POSTSUBSCRIPT | × italic_C start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS3.p2.4">and <math alttext="C_{e}" class="ltx_Math" display="inline" id="S5.SS3.p2.4.m1.1"><semantics id="S5.SS3.p2.4.m1.1a"><msub id="S5.SS3.p2.4.m1.1.1" xref="S5.SS3.p2.4.m1.1.1.cmml"><mi id="S5.SS3.p2.4.m1.1.1.2" xref="S5.SS3.p2.4.m1.1.1.2.cmml">C</mi><mi id="S5.SS3.p2.4.m1.1.1.3" xref="S5.SS3.p2.4.m1.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.4.m1.1b"><apply id="S5.SS3.p2.4.m1.1.1.cmml" xref="S5.SS3.p2.4.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.4.m1.1.1.1.cmml" xref="S5.SS3.p2.4.m1.1.1">subscript</csymbol><ci id="S5.SS3.p2.4.m1.1.1.2.cmml" xref="S5.SS3.p2.4.m1.1.1.2">𝐶</ci><ci id="S5.SS3.p2.4.m1.1.1.3.cmml" xref="S5.SS3.p2.4.m1.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.4.m1.1c">C_{e}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.4.m1.1d">italic_C start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math> denotes a predefined cost per edge, which is adjustable to control the subgraph size.</p>
</div>
<div class="ltx_para" id="S5.SS3.p3">
<p class="ltx_p" id="S5.SS3.p3.10">The original PCST algorithm is designed for node prizes only. However, given the significance of edge semantics in certain scenarios, we adapt the algorithm to accommodate edge prizes as follows:
Consider an edge e with a cost <math alttext="C_{e}" class="ltx_Math" display="inline" id="S5.SS3.p3.1.m1.1"><semantics id="S5.SS3.p3.1.m1.1a"><msub id="S5.SS3.p3.1.m1.1.1" xref="S5.SS3.p3.1.m1.1.1.cmml"><mi id="S5.SS3.p3.1.m1.1.1.2" xref="S5.SS3.p3.1.m1.1.1.2.cmml">C</mi><mi id="S5.SS3.p3.1.m1.1.1.3" xref="S5.SS3.p3.1.m1.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.1.m1.1b"><apply id="S5.SS3.p3.1.m1.1.1.cmml" xref="S5.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p3.1.m1.1.1.1.cmml" xref="S5.SS3.p3.1.m1.1.1">subscript</csymbol><ci id="S5.SS3.p3.1.m1.1.1.2.cmml" xref="S5.SS3.p3.1.m1.1.1.2">𝐶</ci><ci id="S5.SS3.p3.1.m1.1.1.3.cmml" xref="S5.SS3.p3.1.m1.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.1.m1.1c">C_{e}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.1.m1.1d">italic_C start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math> and a prize <math alttext="P_{e}" class="ltx_Math" display="inline" id="S5.SS3.p3.2.m2.1"><semantics id="S5.SS3.p3.2.m2.1a"><msub id="S5.SS3.p3.2.m2.1.1" xref="S5.SS3.p3.2.m2.1.1.cmml"><mi id="S5.SS3.p3.2.m2.1.1.2" xref="S5.SS3.p3.2.m2.1.1.2.cmml">P</mi><mi id="S5.SS3.p3.2.m2.1.1.3" xref="S5.SS3.p3.2.m2.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.2.m2.1b"><apply id="S5.SS3.p3.2.m2.1.1.cmml" xref="S5.SS3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.p3.2.m2.1.1.1.cmml" xref="S5.SS3.p3.2.m2.1.1">subscript</csymbol><ci id="S5.SS3.p3.2.m2.1.1.2.cmml" xref="S5.SS3.p3.2.m2.1.1.2">𝑃</ci><ci id="S5.SS3.p3.2.m2.1.1.3.cmml" xref="S5.SS3.p3.2.m2.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.2.m2.1c">P_{e}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.2.m2.1d">italic_P start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>. If <math alttext="C_{e}&gt;P_{e}" class="ltx_Math" display="inline" id="S5.SS3.p3.3.m3.1"><semantics id="S5.SS3.p3.3.m3.1a"><mrow id="S5.SS3.p3.3.m3.1.1" xref="S5.SS3.p3.3.m3.1.1.cmml"><msub id="S5.SS3.p3.3.m3.1.1.2" xref="S5.SS3.p3.3.m3.1.1.2.cmml"><mi id="S5.SS3.p3.3.m3.1.1.2.2" xref="S5.SS3.p3.3.m3.1.1.2.2.cmml">C</mi><mi id="S5.SS3.p3.3.m3.1.1.2.3" xref="S5.SS3.p3.3.m3.1.1.2.3.cmml">e</mi></msub><mo id="S5.SS3.p3.3.m3.1.1.1" xref="S5.SS3.p3.3.m3.1.1.1.cmml">&gt;</mo><msub id="S5.SS3.p3.3.m3.1.1.3" xref="S5.SS3.p3.3.m3.1.1.3.cmml"><mi id="S5.SS3.p3.3.m3.1.1.3.2" xref="S5.SS3.p3.3.m3.1.1.3.2.cmml">P</mi><mi id="S5.SS3.p3.3.m3.1.1.3.3" xref="S5.SS3.p3.3.m3.1.1.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.3.m3.1b"><apply id="S5.SS3.p3.3.m3.1.1.cmml" xref="S5.SS3.p3.3.m3.1.1"><gt id="S5.SS3.p3.3.m3.1.1.1.cmml" xref="S5.SS3.p3.3.m3.1.1.1"></gt><apply id="S5.SS3.p3.3.m3.1.1.2.cmml" xref="S5.SS3.p3.3.m3.1.1.2"><csymbol cd="ambiguous" id="S5.SS3.p3.3.m3.1.1.2.1.cmml" xref="S5.SS3.p3.3.m3.1.1.2">subscript</csymbol><ci id="S5.SS3.p3.3.m3.1.1.2.2.cmml" xref="S5.SS3.p3.3.m3.1.1.2.2">𝐶</ci><ci id="S5.SS3.p3.3.m3.1.1.2.3.cmml" xref="S5.SS3.p3.3.m3.1.1.2.3">𝑒</ci></apply><apply id="S5.SS3.p3.3.m3.1.1.3.cmml" xref="S5.SS3.p3.3.m3.1.1.3"><csymbol cd="ambiguous" id="S5.SS3.p3.3.m3.1.1.3.1.cmml" xref="S5.SS3.p3.3.m3.1.1.3">subscript</csymbol><ci id="S5.SS3.p3.3.m3.1.1.3.2.cmml" xref="S5.SS3.p3.3.m3.1.1.3.2">𝑃</ci><ci id="S5.SS3.p3.3.m3.1.1.3.3.cmml" xref="S5.SS3.p3.3.m3.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.3.m3.1c">C_{e}&gt;P_{e}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.3.m3.1d">italic_C start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT &gt; italic_P start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>, it can be treated as a reduced edge cost of <math alttext="C_{e}-P_{e}" class="ltx_Math" display="inline" id="S5.SS3.p3.4.m4.1"><semantics id="S5.SS3.p3.4.m4.1a"><mrow id="S5.SS3.p3.4.m4.1.1" xref="S5.SS3.p3.4.m4.1.1.cmml"><msub id="S5.SS3.p3.4.m4.1.1.2" xref="S5.SS3.p3.4.m4.1.1.2.cmml"><mi id="S5.SS3.p3.4.m4.1.1.2.2" xref="S5.SS3.p3.4.m4.1.1.2.2.cmml">C</mi><mi id="S5.SS3.p3.4.m4.1.1.2.3" xref="S5.SS3.p3.4.m4.1.1.2.3.cmml">e</mi></msub><mo id="S5.SS3.p3.4.m4.1.1.1" xref="S5.SS3.p3.4.m4.1.1.1.cmml">−</mo><msub id="S5.SS3.p3.4.m4.1.1.3" xref="S5.SS3.p3.4.m4.1.1.3.cmml"><mi id="S5.SS3.p3.4.m4.1.1.3.2" xref="S5.SS3.p3.4.m4.1.1.3.2.cmml">P</mi><mi id="S5.SS3.p3.4.m4.1.1.3.3" xref="S5.SS3.p3.4.m4.1.1.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.4.m4.1b"><apply id="S5.SS3.p3.4.m4.1.1.cmml" xref="S5.SS3.p3.4.m4.1.1"><minus id="S5.SS3.p3.4.m4.1.1.1.cmml" xref="S5.SS3.p3.4.m4.1.1.1"></minus><apply id="S5.SS3.p3.4.m4.1.1.2.cmml" xref="S5.SS3.p3.4.m4.1.1.2"><csymbol cd="ambiguous" id="S5.SS3.p3.4.m4.1.1.2.1.cmml" xref="S5.SS3.p3.4.m4.1.1.2">subscript</csymbol><ci id="S5.SS3.p3.4.m4.1.1.2.2.cmml" xref="S5.SS3.p3.4.m4.1.1.2.2">𝐶</ci><ci id="S5.SS3.p3.4.m4.1.1.2.3.cmml" xref="S5.SS3.p3.4.m4.1.1.2.3">𝑒</ci></apply><apply id="S5.SS3.p3.4.m4.1.1.3.cmml" xref="S5.SS3.p3.4.m4.1.1.3"><csymbol cd="ambiguous" id="S5.SS3.p3.4.m4.1.1.3.1.cmml" xref="S5.SS3.p3.4.m4.1.1.3">subscript</csymbol><ci id="S5.SS3.p3.4.m4.1.1.3.2.cmml" xref="S5.SS3.p3.4.m4.1.1.3.2">𝑃</ci><ci id="S5.SS3.p3.4.m4.1.1.3.3.cmml" xref="S5.SS3.p3.4.m4.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.4.m4.1c">C_{e}-P_{e}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.4.m4.1d">italic_C start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT - italic_P start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>. However, if <math alttext="P_{e}&gt;C_{e}" class="ltx_Math" display="inline" id="S5.SS3.p3.5.m5.1"><semantics id="S5.SS3.p3.5.m5.1a"><mrow id="S5.SS3.p3.5.m5.1.1" xref="S5.SS3.p3.5.m5.1.1.cmml"><msub id="S5.SS3.p3.5.m5.1.1.2" xref="S5.SS3.p3.5.m5.1.1.2.cmml"><mi id="S5.SS3.p3.5.m5.1.1.2.2" xref="S5.SS3.p3.5.m5.1.1.2.2.cmml">P</mi><mi id="S5.SS3.p3.5.m5.1.1.2.3" xref="S5.SS3.p3.5.m5.1.1.2.3.cmml">e</mi></msub><mo id="S5.SS3.p3.5.m5.1.1.1" xref="S5.SS3.p3.5.m5.1.1.1.cmml">&gt;</mo><msub id="S5.SS3.p3.5.m5.1.1.3" xref="S5.SS3.p3.5.m5.1.1.3.cmml"><mi id="S5.SS3.p3.5.m5.1.1.3.2" xref="S5.SS3.p3.5.m5.1.1.3.2.cmml">C</mi><mi id="S5.SS3.p3.5.m5.1.1.3.3" xref="S5.SS3.p3.5.m5.1.1.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.5.m5.1b"><apply id="S5.SS3.p3.5.m5.1.1.cmml" xref="S5.SS3.p3.5.m5.1.1"><gt id="S5.SS3.p3.5.m5.1.1.1.cmml" xref="S5.SS3.p3.5.m5.1.1.1"></gt><apply id="S5.SS3.p3.5.m5.1.1.2.cmml" xref="S5.SS3.p3.5.m5.1.1.2"><csymbol cd="ambiguous" id="S5.SS3.p3.5.m5.1.1.2.1.cmml" xref="S5.SS3.p3.5.m5.1.1.2">subscript</csymbol><ci id="S5.SS3.p3.5.m5.1.1.2.2.cmml" xref="S5.SS3.p3.5.m5.1.1.2.2">𝑃</ci><ci id="S5.SS3.p3.5.m5.1.1.2.3.cmml" xref="S5.SS3.p3.5.m5.1.1.2.3">𝑒</ci></apply><apply id="S5.SS3.p3.5.m5.1.1.3.cmml" xref="S5.SS3.p3.5.m5.1.1.3"><csymbol cd="ambiguous" id="S5.SS3.p3.5.m5.1.1.3.1.cmml" xref="S5.SS3.p3.5.m5.1.1.3">subscript</csymbol><ci id="S5.SS3.p3.5.m5.1.1.3.2.cmml" xref="S5.SS3.p3.5.m5.1.1.3.2">𝐶</ci><ci id="S5.SS3.p3.5.m5.1.1.3.3.cmml" xref="S5.SS3.p3.5.m5.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.5.m5.1c">P_{e}&gt;C_{e}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.5.m5.1d">italic_P start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT &gt; italic_C start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>, negative edge costs are not allowed in the original algorithm. Our solution involves replacing edge <math alttext="e" class="ltx_Math" display="inline" id="S5.SS3.p3.6.m6.1"><semantics id="S5.SS3.p3.6.m6.1a"><mi id="S5.SS3.p3.6.m6.1.1" xref="S5.SS3.p3.6.m6.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.6.m6.1b"><ci id="S5.SS3.p3.6.m6.1.1.cmml" xref="S5.SS3.p3.6.m6.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.6.m6.1c">e</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.6.m6.1d">italic_e</annotation></semantics></math> with a ‘virtual node’ <math alttext="v_{e}" class="ltx_Math" display="inline" id="S5.SS3.p3.7.m7.1"><semantics id="S5.SS3.p3.7.m7.1a"><msub id="S5.SS3.p3.7.m7.1.1" xref="S5.SS3.p3.7.m7.1.1.cmml"><mi id="S5.SS3.p3.7.m7.1.1.2" xref="S5.SS3.p3.7.m7.1.1.2.cmml">v</mi><mi id="S5.SS3.p3.7.m7.1.1.3" xref="S5.SS3.p3.7.m7.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.7.m7.1b"><apply id="S5.SS3.p3.7.m7.1.1.cmml" xref="S5.SS3.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS3.p3.7.m7.1.1.1.cmml" xref="S5.SS3.p3.7.m7.1.1">subscript</csymbol><ci id="S5.SS3.p3.7.m7.1.1.2.cmml" xref="S5.SS3.p3.7.m7.1.1.2">𝑣</ci><ci id="S5.SS3.p3.7.m7.1.1.3.cmml" xref="S5.SS3.p3.7.m7.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.7.m7.1c">v_{e}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.7.m7.1d">italic_v start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>, connected to both endpoints of <math alttext="e" class="ltx_Math" display="inline" id="S5.SS3.p3.8.m8.1"><semantics id="S5.SS3.p3.8.m8.1a"><mi id="S5.SS3.p3.8.m8.1.1" xref="S5.SS3.p3.8.m8.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.8.m8.1b"><ci id="S5.SS3.p3.8.m8.1.1.cmml" xref="S5.SS3.p3.8.m8.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.8.m8.1c">e</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.8.m8.1d">italic_e</annotation></semantics></math>. This virtual node is assigned a prize of <math alttext="P_{e}-C_{e}" class="ltx_Math" display="inline" id="S5.SS3.p3.9.m9.1"><semantics id="S5.SS3.p3.9.m9.1a"><mrow id="S5.SS3.p3.9.m9.1.1" xref="S5.SS3.p3.9.m9.1.1.cmml"><msub id="S5.SS3.p3.9.m9.1.1.2" xref="S5.SS3.p3.9.m9.1.1.2.cmml"><mi id="S5.SS3.p3.9.m9.1.1.2.2" xref="S5.SS3.p3.9.m9.1.1.2.2.cmml">P</mi><mi id="S5.SS3.p3.9.m9.1.1.2.3" xref="S5.SS3.p3.9.m9.1.1.2.3.cmml">e</mi></msub><mo id="S5.SS3.p3.9.m9.1.1.1" xref="S5.SS3.p3.9.m9.1.1.1.cmml">−</mo><msub id="S5.SS3.p3.9.m9.1.1.3" xref="S5.SS3.p3.9.m9.1.1.3.cmml"><mi id="S5.SS3.p3.9.m9.1.1.3.2" xref="S5.SS3.p3.9.m9.1.1.3.2.cmml">C</mi><mi id="S5.SS3.p3.9.m9.1.1.3.3" xref="S5.SS3.p3.9.m9.1.1.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.9.m9.1b"><apply id="S5.SS3.p3.9.m9.1.1.cmml" xref="S5.SS3.p3.9.m9.1.1"><minus id="S5.SS3.p3.9.m9.1.1.1.cmml" xref="S5.SS3.p3.9.m9.1.1.1"></minus><apply id="S5.SS3.p3.9.m9.1.1.2.cmml" xref="S5.SS3.p3.9.m9.1.1.2"><csymbol cd="ambiguous" id="S5.SS3.p3.9.m9.1.1.2.1.cmml" xref="S5.SS3.p3.9.m9.1.1.2">subscript</csymbol><ci id="S5.SS3.p3.9.m9.1.1.2.2.cmml" xref="S5.SS3.p3.9.m9.1.1.2.2">𝑃</ci><ci id="S5.SS3.p3.9.m9.1.1.2.3.cmml" xref="S5.SS3.p3.9.m9.1.1.2.3">𝑒</ci></apply><apply id="S5.SS3.p3.9.m9.1.1.3.cmml" xref="S5.SS3.p3.9.m9.1.1.3"><csymbol cd="ambiguous" id="S5.SS3.p3.9.m9.1.1.3.1.cmml" xref="S5.SS3.p3.9.m9.1.1.3">subscript</csymbol><ci id="S5.SS3.p3.9.m9.1.1.3.2.cmml" xref="S5.SS3.p3.9.m9.1.1.3.2">𝐶</ci><ci id="S5.SS3.p3.9.m9.1.1.3.3.cmml" xref="S5.SS3.p3.9.m9.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.9.m9.1c">P_{e}-C_{e}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.9.m9.1d">italic_P start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT - italic_C start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>, and the cost of the two new edges leading to the virtual node is set to zero. This modification effectively mirrors the original problem, as including edge <math alttext="e" class="ltx_Math" display="inline" id="S5.SS3.p3.10.m10.1"><semantics id="S5.SS3.p3.10.m10.1a"><mi id="S5.SS3.p3.10.m10.1.1" xref="S5.SS3.p3.10.m10.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.10.m10.1b"><ci id="S5.SS3.p3.10.m10.1.1.cmml" xref="S5.SS3.p3.10.m10.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.10.m10.1c">e</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.10.m10.1d">italic_e</annotation></semantics></math> in the original graph is analogous to including the virtual node in the modified graph. Finally, we optimize the PCST problem using a near-linear time approach <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib9" title="">9</a>]</cite>.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4 </span>Answer Generation</h3>
<div class="ltx_para" id="S5.SS4.p1">
<p class="ltx_p" id="S5.SS4.p1.1"><span class="ltx_text ltx_font_bold" id="S5.SS4.p1.1.1">Graph Encoder.</span> Let <math alttext="S^{*}=(V^{*},E^{*})" class="ltx_Math" display="inline" id="S5.SS4.p1.1.m1.2"><semantics id="S5.SS4.p1.1.m1.2a"><mrow id="S5.SS4.p1.1.m1.2.2" xref="S5.SS4.p1.1.m1.2.2.cmml"><msup id="S5.SS4.p1.1.m1.2.2.4" xref="S5.SS4.p1.1.m1.2.2.4.cmml"><mi id="S5.SS4.p1.1.m1.2.2.4.2" xref="S5.SS4.p1.1.m1.2.2.4.2.cmml">S</mi><mo id="S5.SS4.p1.1.m1.2.2.4.3" xref="S5.SS4.p1.1.m1.2.2.4.3.cmml">∗</mo></msup><mo id="S5.SS4.p1.1.m1.2.2.3" xref="S5.SS4.p1.1.m1.2.2.3.cmml">=</mo><mrow id="S5.SS4.p1.1.m1.2.2.2.2" xref="S5.SS4.p1.1.m1.2.2.2.3.cmml"><mo id="S5.SS4.p1.1.m1.2.2.2.2.3" stretchy="false" xref="S5.SS4.p1.1.m1.2.2.2.3.cmml">(</mo><msup id="S5.SS4.p1.1.m1.1.1.1.1.1" xref="S5.SS4.p1.1.m1.1.1.1.1.1.cmml"><mi id="S5.SS4.p1.1.m1.1.1.1.1.1.2" xref="S5.SS4.p1.1.m1.1.1.1.1.1.2.cmml">V</mi><mo id="S5.SS4.p1.1.m1.1.1.1.1.1.3" xref="S5.SS4.p1.1.m1.1.1.1.1.1.3.cmml">∗</mo></msup><mo id="S5.SS4.p1.1.m1.2.2.2.2.4" xref="S5.SS4.p1.1.m1.2.2.2.3.cmml">,</mo><msup id="S5.SS4.p1.1.m1.2.2.2.2.2" xref="S5.SS4.p1.1.m1.2.2.2.2.2.cmml"><mi id="S5.SS4.p1.1.m1.2.2.2.2.2.2" xref="S5.SS4.p1.1.m1.2.2.2.2.2.2.cmml">E</mi><mo id="S5.SS4.p1.1.m1.2.2.2.2.2.3" xref="S5.SS4.p1.1.m1.2.2.2.2.2.3.cmml">∗</mo></msup><mo id="S5.SS4.p1.1.m1.2.2.2.2.5" stretchy="false" xref="S5.SS4.p1.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.1.m1.2b"><apply id="S5.SS4.p1.1.m1.2.2.cmml" xref="S5.SS4.p1.1.m1.2.2"><eq id="S5.SS4.p1.1.m1.2.2.3.cmml" xref="S5.SS4.p1.1.m1.2.2.3"></eq><apply id="S5.SS4.p1.1.m1.2.2.4.cmml" xref="S5.SS4.p1.1.m1.2.2.4"><csymbol cd="ambiguous" id="S5.SS4.p1.1.m1.2.2.4.1.cmml" xref="S5.SS4.p1.1.m1.2.2.4">superscript</csymbol><ci id="S5.SS4.p1.1.m1.2.2.4.2.cmml" xref="S5.SS4.p1.1.m1.2.2.4.2">𝑆</ci><times id="S5.SS4.p1.1.m1.2.2.4.3.cmml" xref="S5.SS4.p1.1.m1.2.2.4.3"></times></apply><interval closure="open" id="S5.SS4.p1.1.m1.2.2.2.3.cmml" xref="S5.SS4.p1.1.m1.2.2.2.2"><apply id="S5.SS4.p1.1.m1.1.1.1.1.1.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS4.p1.1.m1.1.1.1.1.1.1.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1">superscript</csymbol><ci id="S5.SS4.p1.1.m1.1.1.1.1.1.2.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1.2">𝑉</ci><times id="S5.SS4.p1.1.m1.1.1.1.1.1.3.cmml" xref="S5.SS4.p1.1.m1.1.1.1.1.1.3"></times></apply><apply id="S5.SS4.p1.1.m1.2.2.2.2.2.cmml" xref="S5.SS4.p1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS4.p1.1.m1.2.2.2.2.2.1.cmml" xref="S5.SS4.p1.1.m1.2.2.2.2.2">superscript</csymbol><ci id="S5.SS4.p1.1.m1.2.2.2.2.2.2.cmml" xref="S5.SS4.p1.1.m1.2.2.2.2.2.2">𝐸</ci><times id="S5.SS4.p1.1.m1.2.2.2.2.2.3.cmml" xref="S5.SS4.p1.1.m1.2.2.2.2.2.3"></times></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.1.m1.2c">S^{*}=(V^{*},E^{*})</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.1.m1.2d">italic_S start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT = ( italic_V start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT , italic_E start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT )</annotation></semantics></math> represent the retrieved subgraph. We use a graph encoder to model the structure of this graph, specifically using a standard Graph Attention Network (GAT) <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib43" title="">43</a>]</cite>. Our approach for encoding the retrieved subgraph is defined as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="h_{g}=\text{POOL}(\text{GNN}_{\phi_{1}}(S^{*}))\in\mathbb{R}^{d_{g}}," class="ltx_Math" display="block" id="S5.E9.m1.1"><semantics id="S5.E9.m1.1a"><mrow id="S5.E9.m1.1.1.1" xref="S5.E9.m1.1.1.1.1.cmml"><mrow id="S5.E9.m1.1.1.1.1" xref="S5.E9.m1.1.1.1.1.cmml"><msub id="S5.E9.m1.1.1.1.1.3" xref="S5.E9.m1.1.1.1.1.3.cmml"><mi id="S5.E9.m1.1.1.1.1.3.2" xref="S5.E9.m1.1.1.1.1.3.2.cmml">h</mi><mi id="S5.E9.m1.1.1.1.1.3.3" xref="S5.E9.m1.1.1.1.1.3.3.cmml">g</mi></msub><mo id="S5.E9.m1.1.1.1.1.4" xref="S5.E9.m1.1.1.1.1.4.cmml">=</mo><mrow id="S5.E9.m1.1.1.1.1.1" xref="S5.E9.m1.1.1.1.1.1.cmml"><mtext id="S5.E9.m1.1.1.1.1.1.3" xref="S5.E9.m1.1.1.1.1.1.3a.cmml">POOL</mtext><mo id="S5.E9.m1.1.1.1.1.1.2" xref="S5.E9.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E9.m1.1.1.1.1.1.1.1" xref="S5.E9.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S5.E9.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S5.E9.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E9.m1.1.1.1.1.1.1.1.1" xref="S5.E9.m1.1.1.1.1.1.1.1.1.cmml"><msub id="S5.E9.m1.1.1.1.1.1.1.1.1.3" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3.cmml"><mtext id="S5.E9.m1.1.1.1.1.1.1.1.1.3.2" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3.2a.cmml">GNN</mtext><msub id="S5.E9.m1.1.1.1.1.1.1.1.1.3.3" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S5.E9.m1.1.1.1.1.1.1.1.1.3.3.2" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3.3.2.cmml">ϕ</mi><mn id="S5.E9.m1.1.1.1.1.1.1.1.1.3.3.3" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></msub></msub><mo id="S5.E9.m1.1.1.1.1.1.1.1.1.2" xref="S5.E9.m1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E9.m1.1.1.1.1.1.1.1.1.1.1" xref="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mo id="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">∗</mo></msup><mo id="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E9.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S5.E9.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E9.m1.1.1.1.1.5" xref="S5.E9.m1.1.1.1.1.5.cmml">∈</mo><msup id="S5.E9.m1.1.1.1.1.6" xref="S5.E9.m1.1.1.1.1.6.cmml"><mi id="S5.E9.m1.1.1.1.1.6.2" xref="S5.E9.m1.1.1.1.1.6.2.cmml">ℝ</mi><msub id="S5.E9.m1.1.1.1.1.6.3" xref="S5.E9.m1.1.1.1.1.6.3.cmml"><mi id="S5.E9.m1.1.1.1.1.6.3.2" xref="S5.E9.m1.1.1.1.1.6.3.2.cmml">d</mi><mi id="S5.E9.m1.1.1.1.1.6.3.3" xref="S5.E9.m1.1.1.1.1.6.3.3.cmml">g</mi></msub></msup></mrow><mo id="S5.E9.m1.1.1.1.2" xref="S5.E9.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E9.m1.1b"><apply id="S5.E9.m1.1.1.1.1.cmml" xref="S5.E9.m1.1.1.1"><and id="S5.E9.m1.1.1.1.1a.cmml" xref="S5.E9.m1.1.1.1"></and><apply id="S5.E9.m1.1.1.1.1b.cmml" xref="S5.E9.m1.1.1.1"><eq id="S5.E9.m1.1.1.1.1.4.cmml" xref="S5.E9.m1.1.1.1.1.4"></eq><apply id="S5.E9.m1.1.1.1.1.3.cmml" xref="S5.E9.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E9.m1.1.1.1.1.3.1.cmml" xref="S5.E9.m1.1.1.1.1.3">subscript</csymbol><ci id="S5.E9.m1.1.1.1.1.3.2.cmml" xref="S5.E9.m1.1.1.1.1.3.2">ℎ</ci><ci id="S5.E9.m1.1.1.1.1.3.3.cmml" xref="S5.E9.m1.1.1.1.1.3.3">𝑔</ci></apply><apply id="S5.E9.m1.1.1.1.1.1.cmml" xref="S5.E9.m1.1.1.1.1.1"><times id="S5.E9.m1.1.1.1.1.1.2.cmml" xref="S5.E9.m1.1.1.1.1.1.2"></times><ci id="S5.E9.m1.1.1.1.1.1.3a.cmml" xref="S5.E9.m1.1.1.1.1.1.3"><mtext id="S5.E9.m1.1.1.1.1.1.3.cmml" xref="S5.E9.m1.1.1.1.1.1.3">POOL</mtext></ci><apply id="S5.E9.m1.1.1.1.1.1.1.1.1.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1"><times id="S5.E9.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1.1.2"></times><apply id="S5.E9.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E9.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S5.E9.m1.1.1.1.1.1.1.1.1.3.2a.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3.2"><mtext id="S5.E9.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3.2">GNN</mtext></ci><apply id="S5.E9.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S5.E9.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S5.E9.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3.3.2">italic-ϕ</ci><cn id="S5.E9.m1.1.1.1.1.1.1.1.1.3.3.3.cmml" type="integer" xref="S5.E9.m1.1.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply><apply id="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.2">𝑆</ci><times id="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E9.m1.1.1.1.1.1.1.1.1.1.1.1.3"></times></apply></apply></apply></apply><apply id="S5.E9.m1.1.1.1.1c.cmml" xref="S5.E9.m1.1.1.1"><in id="S5.E9.m1.1.1.1.1.5.cmml" xref="S5.E9.m1.1.1.1.1.5"></in><share href="https://arxiv.org/html/2402.07630v3#S5.E9.m1.1.1.1.1.1.cmml" id="S5.E9.m1.1.1.1.1d.cmml" xref="S5.E9.m1.1.1.1"></share><apply id="S5.E9.m1.1.1.1.1.6.cmml" xref="S5.E9.m1.1.1.1.1.6"><csymbol cd="ambiguous" id="S5.E9.m1.1.1.1.1.6.1.cmml" xref="S5.E9.m1.1.1.1.1.6">superscript</csymbol><ci id="S5.E9.m1.1.1.1.1.6.2.cmml" xref="S5.E9.m1.1.1.1.1.6.2">ℝ</ci><apply id="S5.E9.m1.1.1.1.1.6.3.cmml" xref="S5.E9.m1.1.1.1.1.6.3"><csymbol cd="ambiguous" id="S5.E9.m1.1.1.1.1.6.3.1.cmml" xref="S5.E9.m1.1.1.1.1.6.3">subscript</csymbol><ci id="S5.E9.m1.1.1.1.1.6.3.2.cmml" xref="S5.E9.m1.1.1.1.1.6.3.2">𝑑</ci><ci id="S5.E9.m1.1.1.1.1.6.3.3.cmml" xref="S5.E9.m1.1.1.1.1.6.3.3">𝑔</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E9.m1.1c">h_{g}=\text{POOL}(\text{GNN}_{\phi_{1}}(S^{*}))\in\mathbb{R}^{d_{g}},</annotation><annotation encoding="application/x-llamapun" id="S5.E9.m1.1d">italic_h start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT = POOL ( GNN start_POSTSUBSCRIPT italic_ϕ start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( italic_S start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT ) ) ∈ blackboard_R start_POSTSUPERSCRIPT italic_d start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS4.p1.2">Here, POOL denotes the mean pooling operation, and <math alttext="d_{g}" class="ltx_Math" display="inline" id="S5.SS4.p1.2.m1.1"><semantics id="S5.SS4.p1.2.m1.1a"><msub id="S5.SS4.p1.2.m1.1.1" xref="S5.SS4.p1.2.m1.1.1.cmml"><mi id="S5.SS4.p1.2.m1.1.1.2" xref="S5.SS4.p1.2.m1.1.1.2.cmml">d</mi><mi id="S5.SS4.p1.2.m1.1.1.3" xref="S5.SS4.p1.2.m1.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.2.m1.1b"><apply id="S5.SS4.p1.2.m1.1.1.cmml" xref="S5.SS4.p1.2.m1.1.1"><csymbol cd="ambiguous" id="S5.SS4.p1.2.m1.1.1.1.cmml" xref="S5.SS4.p1.2.m1.1.1">subscript</csymbol><ci id="S5.SS4.p1.2.m1.1.1.2.cmml" xref="S5.SS4.p1.2.m1.1.1.2">𝑑</ci><ci id="S5.SS4.p1.2.m1.1.1.3.cmml" xref="S5.SS4.p1.2.m1.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.2.m1.1c">d_{g}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.2.m1.1d">italic_d start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT</annotation></semantics></math> is the dimension of the graph encoder.</p>
</div>
<div class="ltx_para" id="S5.SS4.p2">
<p class="ltx_p" id="S5.SS4.p2.2"><span class="ltx_text ltx_font_bold" id="S5.SS4.p2.2.1">Projection Layer.</span> We incorporate a multilayer perceptron (MLP) to align the graph token with the vector space of the LLM:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E10">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\hat{h}_{g}=\text{MLP}_{\phi_{2}}(h_{g})\in\mathbb{R}^{d_{l}}," class="ltx_Math" display="block" id="S5.E10.m1.1"><semantics id="S5.E10.m1.1a"><mrow id="S5.E10.m1.1.1.1" xref="S5.E10.m1.1.1.1.1.cmml"><mrow id="S5.E10.m1.1.1.1.1" xref="S5.E10.m1.1.1.1.1.cmml"><msub id="S5.E10.m1.1.1.1.1.3" xref="S5.E10.m1.1.1.1.1.3.cmml"><mover accent="true" id="S5.E10.m1.1.1.1.1.3.2" xref="S5.E10.m1.1.1.1.1.3.2.cmml"><mi id="S5.E10.m1.1.1.1.1.3.2.2" xref="S5.E10.m1.1.1.1.1.3.2.2.cmml">h</mi><mo id="S5.E10.m1.1.1.1.1.3.2.1" xref="S5.E10.m1.1.1.1.1.3.2.1.cmml">^</mo></mover><mi id="S5.E10.m1.1.1.1.1.3.3" xref="S5.E10.m1.1.1.1.1.3.3.cmml">g</mi></msub><mo id="S5.E10.m1.1.1.1.1.4" xref="S5.E10.m1.1.1.1.1.4.cmml">=</mo><mrow id="S5.E10.m1.1.1.1.1.1" xref="S5.E10.m1.1.1.1.1.1.cmml"><msub id="S5.E10.m1.1.1.1.1.1.3" xref="S5.E10.m1.1.1.1.1.1.3.cmml"><mtext id="S5.E10.m1.1.1.1.1.1.3.2" xref="S5.E10.m1.1.1.1.1.1.3.2a.cmml">MLP</mtext><msub id="S5.E10.m1.1.1.1.1.1.3.3" xref="S5.E10.m1.1.1.1.1.1.3.3.cmml"><mi id="S5.E10.m1.1.1.1.1.1.3.3.2" xref="S5.E10.m1.1.1.1.1.1.3.3.2.cmml">ϕ</mi><mn id="S5.E10.m1.1.1.1.1.1.3.3.3" xref="S5.E10.m1.1.1.1.1.1.3.3.3.cmml">2</mn></msub></msub><mo id="S5.E10.m1.1.1.1.1.1.2" xref="S5.E10.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E10.m1.1.1.1.1.1.1.1" xref="S5.E10.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S5.E10.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S5.E10.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S5.E10.m1.1.1.1.1.1.1.1.1" xref="S5.E10.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S5.E10.m1.1.1.1.1.1.1.1.1.2" xref="S5.E10.m1.1.1.1.1.1.1.1.1.2.cmml">h</mi><mi id="S5.E10.m1.1.1.1.1.1.1.1.1.3" xref="S5.E10.m1.1.1.1.1.1.1.1.1.3.cmml">g</mi></msub><mo id="S5.E10.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S5.E10.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E10.m1.1.1.1.1.5" xref="S5.E10.m1.1.1.1.1.5.cmml">∈</mo><msup id="S5.E10.m1.1.1.1.1.6" xref="S5.E10.m1.1.1.1.1.6.cmml"><mi id="S5.E10.m1.1.1.1.1.6.2" xref="S5.E10.m1.1.1.1.1.6.2.cmml">ℝ</mi><msub id="S5.E10.m1.1.1.1.1.6.3" xref="S5.E10.m1.1.1.1.1.6.3.cmml"><mi id="S5.E10.m1.1.1.1.1.6.3.2" xref="S5.E10.m1.1.1.1.1.6.3.2.cmml">d</mi><mi id="S5.E10.m1.1.1.1.1.6.3.3" xref="S5.E10.m1.1.1.1.1.6.3.3.cmml">l</mi></msub></msup></mrow><mo id="S5.E10.m1.1.1.1.2" xref="S5.E10.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E10.m1.1b"><apply id="S5.E10.m1.1.1.1.1.cmml" xref="S5.E10.m1.1.1.1"><and id="S5.E10.m1.1.1.1.1a.cmml" xref="S5.E10.m1.1.1.1"></and><apply id="S5.E10.m1.1.1.1.1b.cmml" xref="S5.E10.m1.1.1.1"><eq id="S5.E10.m1.1.1.1.1.4.cmml" xref="S5.E10.m1.1.1.1.1.4"></eq><apply id="S5.E10.m1.1.1.1.1.3.cmml" xref="S5.E10.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E10.m1.1.1.1.1.3.1.cmml" xref="S5.E10.m1.1.1.1.1.3">subscript</csymbol><apply id="S5.E10.m1.1.1.1.1.3.2.cmml" xref="S5.E10.m1.1.1.1.1.3.2"><ci id="S5.E10.m1.1.1.1.1.3.2.1.cmml" xref="S5.E10.m1.1.1.1.1.3.2.1">^</ci><ci id="S5.E10.m1.1.1.1.1.3.2.2.cmml" xref="S5.E10.m1.1.1.1.1.3.2.2">ℎ</ci></apply><ci id="S5.E10.m1.1.1.1.1.3.3.cmml" xref="S5.E10.m1.1.1.1.1.3.3">𝑔</ci></apply><apply id="S5.E10.m1.1.1.1.1.1.cmml" xref="S5.E10.m1.1.1.1.1.1"><times id="S5.E10.m1.1.1.1.1.1.2.cmml" xref="S5.E10.m1.1.1.1.1.1.2"></times><apply id="S5.E10.m1.1.1.1.1.1.3.cmml" xref="S5.E10.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E10.m1.1.1.1.1.1.3.1.cmml" xref="S5.E10.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S5.E10.m1.1.1.1.1.1.3.2a.cmml" xref="S5.E10.m1.1.1.1.1.1.3.2"><mtext id="S5.E10.m1.1.1.1.1.1.3.2.cmml" xref="S5.E10.m1.1.1.1.1.1.3.2">MLP</mtext></ci><apply id="S5.E10.m1.1.1.1.1.1.3.3.cmml" xref="S5.E10.m1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S5.E10.m1.1.1.1.1.1.3.3.1.cmml" xref="S5.E10.m1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S5.E10.m1.1.1.1.1.1.3.3.2.cmml" xref="S5.E10.m1.1.1.1.1.1.3.3.2">italic-ϕ</ci><cn id="S5.E10.m1.1.1.1.1.1.3.3.3.cmml" type="integer" xref="S5.E10.m1.1.1.1.1.1.3.3.3">2</cn></apply></apply><apply id="S5.E10.m1.1.1.1.1.1.1.1.1.cmml" xref="S5.E10.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E10.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E10.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S5.E10.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E10.m1.1.1.1.1.1.1.1.1.2">ℎ</ci><ci id="S5.E10.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E10.m1.1.1.1.1.1.1.1.1.3">𝑔</ci></apply></apply></apply><apply id="S5.E10.m1.1.1.1.1c.cmml" xref="S5.E10.m1.1.1.1"><in id="S5.E10.m1.1.1.1.1.5.cmml" xref="S5.E10.m1.1.1.1.1.5"></in><share href="https://arxiv.org/html/2402.07630v3#S5.E10.m1.1.1.1.1.1.cmml" id="S5.E10.m1.1.1.1.1d.cmml" xref="S5.E10.m1.1.1.1"></share><apply id="S5.E10.m1.1.1.1.1.6.cmml" xref="S5.E10.m1.1.1.1.1.6"><csymbol cd="ambiguous" id="S5.E10.m1.1.1.1.1.6.1.cmml" xref="S5.E10.m1.1.1.1.1.6">superscript</csymbol><ci id="S5.E10.m1.1.1.1.1.6.2.cmml" xref="S5.E10.m1.1.1.1.1.6.2">ℝ</ci><apply id="S5.E10.m1.1.1.1.1.6.3.cmml" xref="S5.E10.m1.1.1.1.1.6.3"><csymbol cd="ambiguous" id="S5.E10.m1.1.1.1.1.6.3.1.cmml" xref="S5.E10.m1.1.1.1.1.6.3">subscript</csymbol><ci id="S5.E10.m1.1.1.1.1.6.3.2.cmml" xref="S5.E10.m1.1.1.1.1.6.3.2">𝑑</ci><ci id="S5.E10.m1.1.1.1.1.6.3.3.cmml" xref="S5.E10.m1.1.1.1.1.6.3.3">𝑙</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E10.m1.1c">\hat{h}_{g}=\text{MLP}_{\phi_{2}}(h_{g})\in\mathbb{R}^{d_{l}},</annotation><annotation encoding="application/x-llamapun" id="S5.E10.m1.1d">over^ start_ARG italic_h end_ARG start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT = MLP start_POSTSUBSCRIPT italic_ϕ start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( italic_h start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT ) ∈ blackboard_R start_POSTSUPERSCRIPT italic_d start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS4.p2.1">where <math alttext="d_{l}" class="ltx_Math" display="inline" id="S5.SS4.p2.1.m1.1"><semantics id="S5.SS4.p2.1.m1.1a"><msub id="S5.SS4.p2.1.m1.1.1" xref="S5.SS4.p2.1.m1.1.1.cmml"><mi id="S5.SS4.p2.1.m1.1.1.2" xref="S5.SS4.p2.1.m1.1.1.2.cmml">d</mi><mi id="S5.SS4.p2.1.m1.1.1.3" xref="S5.SS4.p2.1.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p2.1.m1.1b"><apply id="S5.SS4.p2.1.m1.1.1.cmml" xref="S5.SS4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS4.p2.1.m1.1.1.1.cmml" xref="S5.SS4.p2.1.m1.1.1">subscript</csymbol><ci id="S5.SS4.p2.1.m1.1.1.2.cmml" xref="S5.SS4.p2.1.m1.1.1.2">𝑑</ci><ci id="S5.SS4.p2.1.m1.1.1.3.cmml" xref="S5.SS4.p2.1.m1.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p2.1.m1.1c">d_{l}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p2.1.m1.1d">italic_d start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> is the dimension of the LLM’s hidden embedding.</p>
</div>
<div class="ltx_para" id="S5.SS4.p3">
<p class="ltx_p" id="S5.SS4.p3.5"><span class="ltx_text ltx_font_bold" id="S5.SS4.p3.5.1">Text Embedder.</span> To leverage the text-reasoning capabilities of LLMs, we transform the retrieved subgraph <math alttext="S^{*}" class="ltx_Math" display="inline" id="S5.SS4.p3.1.m1.1"><semantics id="S5.SS4.p3.1.m1.1a"><msup id="S5.SS4.p3.1.m1.1.1" xref="S5.SS4.p3.1.m1.1.1.cmml"><mi id="S5.SS4.p3.1.m1.1.1.2" xref="S5.SS4.p3.1.m1.1.1.2.cmml">S</mi><mo id="S5.SS4.p3.1.m1.1.1.3" xref="S5.SS4.p3.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.SS4.p3.1.m1.1b"><apply id="S5.SS4.p3.1.m1.1.1.cmml" xref="S5.SS4.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS4.p3.1.m1.1.1.1.cmml" xref="S5.SS4.p3.1.m1.1.1">superscript</csymbol><ci id="S5.SS4.p3.1.m1.1.1.2.cmml" xref="S5.SS4.p3.1.m1.1.1.2">𝑆</ci><times id="S5.SS4.p3.1.m1.1.1.3.cmml" xref="S5.SS4.p3.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p3.1.m1.1c">S^{*}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p3.1.m1.1d">italic_S start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> into a textual format. This transformation involves flattening the textual attributes of the nodes and edges, as illustrated in the green box in Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S4.F2" title="Figure 2 ‣ 4 Proposed GraphQA Benchmark ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">2</span></a>. We refer to this operation as <math alttext="\text{textualize}(\cdot)" class="ltx_Math" display="inline" id="S5.SS4.p3.2.m2.1"><semantics id="S5.SS4.p3.2.m2.1a"><mrow id="S5.SS4.p3.2.m2.1.2" xref="S5.SS4.p3.2.m2.1.2.cmml"><mtext id="S5.SS4.p3.2.m2.1.2.2" xref="S5.SS4.p3.2.m2.1.2.2a.cmml">textualize</mtext><mo id="S5.SS4.p3.2.m2.1.2.1" xref="S5.SS4.p3.2.m2.1.2.1.cmml">⁢</mo><mrow id="S5.SS4.p3.2.m2.1.2.3.2" xref="S5.SS4.p3.2.m2.1.2.cmml"><mo id="S5.SS4.p3.2.m2.1.2.3.2.1" stretchy="false" xref="S5.SS4.p3.2.m2.1.2.cmml">(</mo><mo id="S5.SS4.p3.2.m2.1.1" lspace="0em" rspace="0em" xref="S5.SS4.p3.2.m2.1.1.cmml">⋅</mo><mo id="S5.SS4.p3.2.m2.1.2.3.2.2" stretchy="false" xref="S5.SS4.p3.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p3.2.m2.1b"><apply id="S5.SS4.p3.2.m2.1.2.cmml" xref="S5.SS4.p3.2.m2.1.2"><times id="S5.SS4.p3.2.m2.1.2.1.cmml" xref="S5.SS4.p3.2.m2.1.2.1"></times><ci id="S5.SS4.p3.2.m2.1.2.2a.cmml" xref="S5.SS4.p3.2.m2.1.2.2"><mtext id="S5.SS4.p3.2.m2.1.2.2.cmml" xref="S5.SS4.p3.2.m2.1.2.2">textualize</mtext></ci><ci id="S5.SS4.p3.2.m2.1.1.cmml" xref="S5.SS4.p3.2.m2.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p3.2.m2.1c">\text{textualize}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p3.2.m2.1d">textualize ( ⋅ )</annotation></semantics></math>. Subsequently, we combine the textualized graph with the query to generate a response. Let <math alttext="x_{q}" class="ltx_Math" display="inline" id="S5.SS4.p3.3.m3.1"><semantics id="S5.SS4.p3.3.m3.1a"><msub id="S5.SS4.p3.3.m3.1.1" xref="S5.SS4.p3.3.m3.1.1.cmml"><mi id="S5.SS4.p3.3.m3.1.1.2" xref="S5.SS4.p3.3.m3.1.1.2.cmml">x</mi><mi id="S5.SS4.p3.3.m3.1.1.3" xref="S5.SS4.p3.3.m3.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p3.3.m3.1b"><apply id="S5.SS4.p3.3.m3.1.1.cmml" xref="S5.SS4.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS4.p3.3.m3.1.1.1.cmml" xref="S5.SS4.p3.3.m3.1.1">subscript</csymbol><ci id="S5.SS4.p3.3.m3.1.1.2.cmml" xref="S5.SS4.p3.3.m3.1.1.2">𝑥</ci><ci id="S5.SS4.p3.3.m3.1.1.3.cmml" xref="S5.SS4.p3.3.m3.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p3.3.m3.1c">x_{q}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p3.3.m3.1d">italic_x start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT</annotation></semantics></math> denote the query; we concatenate it with the textualized graph <math alttext="\text{textualize}(S^{*})" class="ltx_Math" display="inline" id="S5.SS4.p3.4.m4.1"><semantics id="S5.SS4.p3.4.m4.1a"><mrow id="S5.SS4.p3.4.m4.1.1" xref="S5.SS4.p3.4.m4.1.1.cmml"><mtext id="S5.SS4.p3.4.m4.1.1.3" xref="S5.SS4.p3.4.m4.1.1.3a.cmml">textualize</mtext><mo id="S5.SS4.p3.4.m4.1.1.2" xref="S5.SS4.p3.4.m4.1.1.2.cmml">⁢</mo><mrow id="S5.SS4.p3.4.m4.1.1.1.1" xref="S5.SS4.p3.4.m4.1.1.1.1.1.cmml"><mo id="S5.SS4.p3.4.m4.1.1.1.1.2" stretchy="false" xref="S5.SS4.p3.4.m4.1.1.1.1.1.cmml">(</mo><msup id="S5.SS4.p3.4.m4.1.1.1.1.1" xref="S5.SS4.p3.4.m4.1.1.1.1.1.cmml"><mi id="S5.SS4.p3.4.m4.1.1.1.1.1.2" xref="S5.SS4.p3.4.m4.1.1.1.1.1.2.cmml">S</mi><mo id="S5.SS4.p3.4.m4.1.1.1.1.1.3" xref="S5.SS4.p3.4.m4.1.1.1.1.1.3.cmml">∗</mo></msup><mo id="S5.SS4.p3.4.m4.1.1.1.1.3" stretchy="false" xref="S5.SS4.p3.4.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p3.4.m4.1b"><apply id="S5.SS4.p3.4.m4.1.1.cmml" xref="S5.SS4.p3.4.m4.1.1"><times id="S5.SS4.p3.4.m4.1.1.2.cmml" xref="S5.SS4.p3.4.m4.1.1.2"></times><ci id="S5.SS4.p3.4.m4.1.1.3a.cmml" xref="S5.SS4.p3.4.m4.1.1.3"><mtext id="S5.SS4.p3.4.m4.1.1.3.cmml" xref="S5.SS4.p3.4.m4.1.1.3">textualize</mtext></ci><apply id="S5.SS4.p3.4.m4.1.1.1.1.1.cmml" xref="S5.SS4.p3.4.m4.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS4.p3.4.m4.1.1.1.1.1.1.cmml" xref="S5.SS4.p3.4.m4.1.1.1.1">superscript</csymbol><ci id="S5.SS4.p3.4.m4.1.1.1.1.1.2.cmml" xref="S5.SS4.p3.4.m4.1.1.1.1.1.2">𝑆</ci><times id="S5.SS4.p3.4.m4.1.1.1.1.1.3.cmml" xref="S5.SS4.p3.4.m4.1.1.1.1.1.3"></times></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p3.4.m4.1c">\text{textualize}(S^{*})</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p3.4.m4.1d">textualize ( italic_S start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT )</annotation></semantics></math>. We then map the result to an embedding <math alttext="h_{t}" class="ltx_Math" display="inline" id="S5.SS4.p3.5.m5.1"><semantics id="S5.SS4.p3.5.m5.1a"><msub id="S5.SS4.p3.5.m5.1.1" xref="S5.SS4.p3.5.m5.1.1.cmml"><mi id="S5.SS4.p3.5.m5.1.1.2" xref="S5.SS4.p3.5.m5.1.1.2.cmml">h</mi><mi id="S5.SS4.p3.5.m5.1.1.3" xref="S5.SS4.p3.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p3.5.m5.1b"><apply id="S5.SS4.p3.5.m5.1.1.cmml" xref="S5.SS4.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS4.p3.5.m5.1.1.1.cmml" xref="S5.SS4.p3.5.m5.1.1">subscript</csymbol><ci id="S5.SS4.p3.5.m5.1.1.2.cmml" xref="S5.SS4.p3.5.m5.1.1.2">ℎ</ci><ci id="S5.SS4.p3.5.m5.1.1.3.cmml" xref="S5.SS4.p3.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p3.5.m5.1c">h_{t}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p3.5.m5.1d">italic_h start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> using a text embedder, which is the first layer of a pretrained and frozen LLM:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E11">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="h_{t}=\text{TextEmbedder}([\text{textualize}(S^{*});x_{q}])\in\mathbb{R}^{L%
\times{d_{l}}}," class="ltx_Math" display="block" id="S5.E11.m1.1"><semantics id="S5.E11.m1.1a"><mrow id="S5.E11.m1.1.1.1" xref="S5.E11.m1.1.1.1.1.cmml"><mrow id="S5.E11.m1.1.1.1.1" xref="S5.E11.m1.1.1.1.1.cmml"><msub id="S5.E11.m1.1.1.1.1.3" xref="S5.E11.m1.1.1.1.1.3.cmml"><mi id="S5.E11.m1.1.1.1.1.3.2" xref="S5.E11.m1.1.1.1.1.3.2.cmml">h</mi><mi id="S5.E11.m1.1.1.1.1.3.3" xref="S5.E11.m1.1.1.1.1.3.3.cmml">t</mi></msub><mo id="S5.E11.m1.1.1.1.1.4" xref="S5.E11.m1.1.1.1.1.4.cmml">=</mo><mrow id="S5.E11.m1.1.1.1.1.1" xref="S5.E11.m1.1.1.1.1.1.cmml"><mtext id="S5.E11.m1.1.1.1.1.1.3" xref="S5.E11.m1.1.1.1.1.1.3a.cmml">TextEmbedder</mtext><mo id="S5.E11.m1.1.1.1.1.1.2" xref="S5.E11.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E11.m1.1.1.1.1.1.1.1" xref="S5.E11.m1.1.1.1.1.1.cmml"><mo id="S5.E11.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S5.E11.m1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E11.m1.1.1.1.1.1.1.1.1.2" xref="S5.E11.m1.1.1.1.1.1.1.1.1.3.cmml"><mo id="S5.E11.m1.1.1.1.1.1.1.1.1.2.3" stretchy="false" xref="S5.E11.m1.1.1.1.1.1.1.1.1.3.cmml">[</mo><mrow id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mtext id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.3a.cmml">textualize</mtext><mo id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mo id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">∗</mo></msup><mo id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E11.m1.1.1.1.1.1.1.1.1.2.4" xref="S5.E11.m1.1.1.1.1.1.1.1.1.3.cmml">;</mo><msub id="S5.E11.m1.1.1.1.1.1.1.1.1.2.2" xref="S5.E11.m1.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S5.E11.m1.1.1.1.1.1.1.1.1.2.2.2" xref="S5.E11.m1.1.1.1.1.1.1.1.1.2.2.2.cmml">x</mi><mi id="S5.E11.m1.1.1.1.1.1.1.1.1.2.2.3" xref="S5.E11.m1.1.1.1.1.1.1.1.1.2.2.3.cmml">q</mi></msub><mo id="S5.E11.m1.1.1.1.1.1.1.1.1.2.5" stretchy="false" xref="S5.E11.m1.1.1.1.1.1.1.1.1.3.cmml">]</mo></mrow><mo id="S5.E11.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S5.E11.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E11.m1.1.1.1.1.5" xref="S5.E11.m1.1.1.1.1.5.cmml">∈</mo><msup id="S5.E11.m1.1.1.1.1.6" xref="S5.E11.m1.1.1.1.1.6.cmml"><mi id="S5.E11.m1.1.1.1.1.6.2" xref="S5.E11.m1.1.1.1.1.6.2.cmml">ℝ</mi><mrow id="S5.E11.m1.1.1.1.1.6.3" xref="S5.E11.m1.1.1.1.1.6.3.cmml"><mi id="S5.E11.m1.1.1.1.1.6.3.2" xref="S5.E11.m1.1.1.1.1.6.3.2.cmml">L</mi><mo id="S5.E11.m1.1.1.1.1.6.3.1" lspace="0.222em" rspace="0.222em" xref="S5.E11.m1.1.1.1.1.6.3.1.cmml">×</mo><msub id="S5.E11.m1.1.1.1.1.6.3.3" xref="S5.E11.m1.1.1.1.1.6.3.3.cmml"><mi id="S5.E11.m1.1.1.1.1.6.3.3.2" xref="S5.E11.m1.1.1.1.1.6.3.3.2.cmml">d</mi><mi id="S5.E11.m1.1.1.1.1.6.3.3.3" xref="S5.E11.m1.1.1.1.1.6.3.3.3.cmml">l</mi></msub></mrow></msup></mrow><mo id="S5.E11.m1.1.1.1.2" xref="S5.E11.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E11.m1.1b"><apply id="S5.E11.m1.1.1.1.1.cmml" xref="S5.E11.m1.1.1.1"><and id="S5.E11.m1.1.1.1.1a.cmml" xref="S5.E11.m1.1.1.1"></and><apply id="S5.E11.m1.1.1.1.1b.cmml" xref="S5.E11.m1.1.1.1"><eq id="S5.E11.m1.1.1.1.1.4.cmml" xref="S5.E11.m1.1.1.1.1.4"></eq><apply id="S5.E11.m1.1.1.1.1.3.cmml" xref="S5.E11.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E11.m1.1.1.1.1.3.1.cmml" xref="S5.E11.m1.1.1.1.1.3">subscript</csymbol><ci id="S5.E11.m1.1.1.1.1.3.2.cmml" xref="S5.E11.m1.1.1.1.1.3.2">ℎ</ci><ci id="S5.E11.m1.1.1.1.1.3.3.cmml" xref="S5.E11.m1.1.1.1.1.3.3">𝑡</ci></apply><apply id="S5.E11.m1.1.1.1.1.1.cmml" xref="S5.E11.m1.1.1.1.1.1"><times id="S5.E11.m1.1.1.1.1.1.2.cmml" xref="S5.E11.m1.1.1.1.1.1.2"></times><ci id="S5.E11.m1.1.1.1.1.1.3a.cmml" xref="S5.E11.m1.1.1.1.1.1.3"><mtext id="S5.E11.m1.1.1.1.1.1.3.cmml" xref="S5.E11.m1.1.1.1.1.1.3">TextEmbedder</mtext></ci><list id="S5.E11.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.2"><apply id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1"><times id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.3a.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.3"><mtext id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.3">textualize</mtext></ci><apply id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑆</ci><times id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"></times></apply></apply><apply id="S5.E11.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S5.E11.m1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S5.E11.m1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.2.2.2">𝑥</ci><ci id="S5.E11.m1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.2.2.3">𝑞</ci></apply></list></apply></apply><apply id="S5.E11.m1.1.1.1.1c.cmml" xref="S5.E11.m1.1.1.1"><in id="S5.E11.m1.1.1.1.1.5.cmml" xref="S5.E11.m1.1.1.1.1.5"></in><share href="https://arxiv.org/html/2402.07630v3#S5.E11.m1.1.1.1.1.1.cmml" id="S5.E11.m1.1.1.1.1d.cmml" xref="S5.E11.m1.1.1.1"></share><apply id="S5.E11.m1.1.1.1.1.6.cmml" xref="S5.E11.m1.1.1.1.1.6"><csymbol cd="ambiguous" id="S5.E11.m1.1.1.1.1.6.1.cmml" xref="S5.E11.m1.1.1.1.1.6">superscript</csymbol><ci id="S5.E11.m1.1.1.1.1.6.2.cmml" xref="S5.E11.m1.1.1.1.1.6.2">ℝ</ci><apply id="S5.E11.m1.1.1.1.1.6.3.cmml" xref="S5.E11.m1.1.1.1.1.6.3"><times id="S5.E11.m1.1.1.1.1.6.3.1.cmml" xref="S5.E11.m1.1.1.1.1.6.3.1"></times><ci id="S5.E11.m1.1.1.1.1.6.3.2.cmml" xref="S5.E11.m1.1.1.1.1.6.3.2">𝐿</ci><apply id="S5.E11.m1.1.1.1.1.6.3.3.cmml" xref="S5.E11.m1.1.1.1.1.6.3.3"><csymbol cd="ambiguous" id="S5.E11.m1.1.1.1.1.6.3.3.1.cmml" xref="S5.E11.m1.1.1.1.1.6.3.3">subscript</csymbol><ci id="S5.E11.m1.1.1.1.1.6.3.3.2.cmml" xref="S5.E11.m1.1.1.1.1.6.3.3.2">𝑑</ci><ci id="S5.E11.m1.1.1.1.1.6.3.3.3.cmml" xref="S5.E11.m1.1.1.1.1.6.3.3.3">𝑙</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E11.m1.1c">h_{t}=\text{TextEmbedder}([\text{textualize}(S^{*});x_{q}])\in\mathbb{R}^{L%
\times{d_{l}}},</annotation><annotation encoding="application/x-llamapun" id="S5.E11.m1.1d">italic_h start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = TextEmbedder ( [ textualize ( italic_S start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT ) ; italic_x start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ] ) ∈ blackboard_R start_POSTSUPERSCRIPT italic_L × italic_d start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS4.p3.7">where <math alttext="[;]" class="ltx_math_unparsed" display="inline" id="S5.SS4.p3.6.m1.1"><semantics id="S5.SS4.p3.6.m1.1a"><mrow id="S5.SS4.p3.6.m1.1b"><mo id="S5.SS4.p3.6.m1.1.1" stretchy="false">[</mo><mo id="S5.SS4.p3.6.m1.1.2">;</mo><mo id="S5.SS4.p3.6.m1.1.3" stretchy="false">]</mo></mrow><annotation encoding="application/x-tex" id="S5.SS4.p3.6.m1.1c">[;]</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p3.6.m1.1d">[ ; ]</annotation></semantics></math> represents the concatenation operation, and <math alttext="L" class="ltx_Math" display="inline" id="S5.SS4.p3.7.m2.1"><semantics id="S5.SS4.p3.7.m2.1a"><mi id="S5.SS4.p3.7.m2.1.1" xref="S5.SS4.p3.7.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p3.7.m2.1b"><ci id="S5.SS4.p3.7.m2.1.1.cmml" xref="S5.SS4.p3.7.m2.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p3.7.m2.1c">L</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p3.7.m2.1d">italic_L</annotation></semantics></math> is the number of tokens.</p>
</div>
<div class="ltx_para" id="S5.SS4.p4">
<p class="ltx_p" id="S5.SS4.p4.4"><span class="ltx_text ltx_font_bold" id="S5.SS4.p4.4.1">LLM Generation with Graph Prompt Tuning.</span>
The final stage involves generating the answer <math alttext="Y" class="ltx_Math" display="inline" id="S5.SS4.p4.1.m1.1"><semantics id="S5.SS4.p4.1.m1.1a"><mi id="S5.SS4.p4.1.m1.1.1" xref="S5.SS4.p4.1.m1.1.1.cmml">Y</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.1.m1.1b"><ci id="S5.SS4.p4.1.m1.1.1.cmml" xref="S5.SS4.p4.1.m1.1.1">𝑌</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.1.m1.1c">Y</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.1.m1.1d">italic_Y</annotation></semantics></math> given the graph token <math alttext="\hat{h}_{g}" class="ltx_Math" display="inline" id="S5.SS4.p4.2.m2.1"><semantics id="S5.SS4.p4.2.m2.1a"><msub id="S5.SS4.p4.2.m2.1.1" xref="S5.SS4.p4.2.m2.1.1.cmml"><mover accent="true" id="S5.SS4.p4.2.m2.1.1.2" xref="S5.SS4.p4.2.m2.1.1.2.cmml"><mi id="S5.SS4.p4.2.m2.1.1.2.2" xref="S5.SS4.p4.2.m2.1.1.2.2.cmml">h</mi><mo id="S5.SS4.p4.2.m2.1.1.2.1" xref="S5.SS4.p4.2.m2.1.1.2.1.cmml">^</mo></mover><mi id="S5.SS4.p4.2.m2.1.1.3" xref="S5.SS4.p4.2.m2.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.2.m2.1b"><apply id="S5.SS4.p4.2.m2.1.1.cmml" xref="S5.SS4.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS4.p4.2.m2.1.1.1.cmml" xref="S5.SS4.p4.2.m2.1.1">subscript</csymbol><apply id="S5.SS4.p4.2.m2.1.1.2.cmml" xref="S5.SS4.p4.2.m2.1.1.2"><ci id="S5.SS4.p4.2.m2.1.1.2.1.cmml" xref="S5.SS4.p4.2.m2.1.1.2.1">^</ci><ci id="S5.SS4.p4.2.m2.1.1.2.2.cmml" xref="S5.SS4.p4.2.m2.1.1.2.2">ℎ</ci></apply><ci id="S5.SS4.p4.2.m2.1.1.3.cmml" xref="S5.SS4.p4.2.m2.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.2.m2.1c">\hat{h}_{g}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.2.m2.1d">over^ start_ARG italic_h end_ARG start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT</annotation></semantics></math>, acting as a soft prompt, and the text embedder output <math alttext="h_{t}" class="ltx_Math" display="inline" id="S5.SS4.p4.3.m3.1"><semantics id="S5.SS4.p4.3.m3.1a"><msub id="S5.SS4.p4.3.m3.1.1" xref="S5.SS4.p4.3.m3.1.1.cmml"><mi id="S5.SS4.p4.3.m3.1.1.2" xref="S5.SS4.p4.3.m3.1.1.2.cmml">h</mi><mi id="S5.SS4.p4.3.m3.1.1.3" xref="S5.SS4.p4.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.3.m3.1b"><apply id="S5.SS4.p4.3.m3.1.1.cmml" xref="S5.SS4.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS4.p4.3.m3.1.1.1.cmml" xref="S5.SS4.p4.3.m3.1.1">subscript</csymbol><ci id="S5.SS4.p4.3.m3.1.1.2.cmml" xref="S5.SS4.p4.3.m3.1.1.2">ℎ</ci><ci id="S5.SS4.p4.3.m3.1.1.3.cmml" xref="S5.SS4.p4.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.3.m3.1c">h_{t}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.3.m3.1d">italic_h start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.
These inputs are fed through the self-attention layers of a pretrained frozen LLM, with parameter <math alttext="\theta" class="ltx_Math" display="inline" id="S5.SS4.p4.4.m4.1"><semantics id="S5.SS4.p4.4.m4.1a"><mi id="S5.SS4.p4.4.m4.1.1" xref="S5.SS4.p4.4.m4.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.4.m4.1b"><ci id="S5.SS4.p4.4.m4.1.1.cmml" xref="S5.SS4.p4.4.m4.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.4.m4.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.4.m4.1d">italic_θ</annotation></semantics></math>. The generation process is represented as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E12">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="p_{\theta,\phi_{1},\phi_{2}}(Y|S^{*},x_{q})=\prod_{i=1}^{r}p_{\theta,\phi_{1},%
\phi_{2}}(y_{i}|y_{&lt;i},[\hat{h}_{g};h_{t}])," class="ltx_Math" display="block" id="S5.E12.m1.7"><semantics id="S5.E12.m1.7a"><mrow id="S5.E12.m1.7.7.1" xref="S5.E12.m1.7.7.1.1.cmml"><mrow id="S5.E12.m1.7.7.1.1" xref="S5.E12.m1.7.7.1.1.cmml"><mrow id="S5.E12.m1.7.7.1.1.1" xref="S5.E12.m1.7.7.1.1.1.cmml"><msub id="S5.E12.m1.7.7.1.1.1.3" xref="S5.E12.m1.7.7.1.1.1.3.cmml"><mi id="S5.E12.m1.7.7.1.1.1.3.2" xref="S5.E12.m1.7.7.1.1.1.3.2.cmml">p</mi><mrow id="S5.E12.m1.3.3.3.3" xref="S5.E12.m1.3.3.3.4.cmml"><mi id="S5.E12.m1.1.1.1.1" xref="S5.E12.m1.1.1.1.1.cmml">θ</mi><mo id="S5.E12.m1.3.3.3.3.3" xref="S5.E12.m1.3.3.3.4.cmml">,</mo><msub id="S5.E12.m1.2.2.2.2.1" xref="S5.E12.m1.2.2.2.2.1.cmml"><mi id="S5.E12.m1.2.2.2.2.1.2" xref="S5.E12.m1.2.2.2.2.1.2.cmml">ϕ</mi><mn id="S5.E12.m1.2.2.2.2.1.3" xref="S5.E12.m1.2.2.2.2.1.3.cmml">1</mn></msub><mo id="S5.E12.m1.3.3.3.3.4" xref="S5.E12.m1.3.3.3.4.cmml">,</mo><msub id="S5.E12.m1.3.3.3.3.2" xref="S5.E12.m1.3.3.3.3.2.cmml"><mi id="S5.E12.m1.3.3.3.3.2.2" xref="S5.E12.m1.3.3.3.3.2.2.cmml">ϕ</mi><mn id="S5.E12.m1.3.3.3.3.2.3" xref="S5.E12.m1.3.3.3.3.2.3.cmml">2</mn></msub></mrow></msub><mo id="S5.E12.m1.7.7.1.1.1.2" xref="S5.E12.m1.7.7.1.1.1.2.cmml">⁢</mo><mrow id="S5.E12.m1.7.7.1.1.1.1.1" xref="S5.E12.m1.7.7.1.1.1.1.1.1.cmml"><mo id="S5.E12.m1.7.7.1.1.1.1.1.2" stretchy="false" xref="S5.E12.m1.7.7.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E12.m1.7.7.1.1.1.1.1.1" xref="S5.E12.m1.7.7.1.1.1.1.1.1.cmml"><mi id="S5.E12.m1.7.7.1.1.1.1.1.1.4" xref="S5.E12.m1.7.7.1.1.1.1.1.1.4.cmml">Y</mi><mo fence="false" id="S5.E12.m1.7.7.1.1.1.1.1.1.3" xref="S5.E12.m1.7.7.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S5.E12.m1.7.7.1.1.1.1.1.1.2.2" xref="S5.E12.m1.7.7.1.1.1.1.1.1.2.3.cmml"><msup id="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1" xref="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1.cmml"><mi id="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1.2" xref="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mo id="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1.3" xref="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1.3.cmml">∗</mo></msup><mo id="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.3" xref="S5.E12.m1.7.7.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2" xref="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2.cmml"><mi id="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2.2" xref="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2.2.cmml">x</mi><mi id="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2.3" xref="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2.3.cmml">q</mi></msub></mrow></mrow><mo id="S5.E12.m1.7.7.1.1.1.1.1.3" stretchy="false" xref="S5.E12.m1.7.7.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E12.m1.7.7.1.1.3" rspace="0.111em" xref="S5.E12.m1.7.7.1.1.3.cmml">=</mo><mrow id="S5.E12.m1.7.7.1.1.2" xref="S5.E12.m1.7.7.1.1.2.cmml"><munderover id="S5.E12.m1.7.7.1.1.2.2" xref="S5.E12.m1.7.7.1.1.2.2.cmml"><mo id="S5.E12.m1.7.7.1.1.2.2.2.2" movablelimits="false" xref="S5.E12.m1.7.7.1.1.2.2.2.2.cmml">∏</mo><mrow id="S5.E12.m1.7.7.1.1.2.2.2.3" xref="S5.E12.m1.7.7.1.1.2.2.2.3.cmml"><mi id="S5.E12.m1.7.7.1.1.2.2.2.3.2" xref="S5.E12.m1.7.7.1.1.2.2.2.3.2.cmml">i</mi><mo id="S5.E12.m1.7.7.1.1.2.2.2.3.1" xref="S5.E12.m1.7.7.1.1.2.2.2.3.1.cmml">=</mo><mn id="S5.E12.m1.7.7.1.1.2.2.2.3.3" xref="S5.E12.m1.7.7.1.1.2.2.2.3.3.cmml">1</mn></mrow><mi id="S5.E12.m1.7.7.1.1.2.2.3" xref="S5.E12.m1.7.7.1.1.2.2.3.cmml">r</mi></munderover><mrow id="S5.E12.m1.7.7.1.1.2.1" xref="S5.E12.m1.7.7.1.1.2.1.cmml"><msub id="S5.E12.m1.7.7.1.1.2.1.3" xref="S5.E12.m1.7.7.1.1.2.1.3.cmml"><mi id="S5.E12.m1.7.7.1.1.2.1.3.2" xref="S5.E12.m1.7.7.1.1.2.1.3.2.cmml">p</mi><mrow id="S5.E12.m1.6.6.3.3" xref="S5.E12.m1.6.6.3.4.cmml"><mi id="S5.E12.m1.4.4.1.1" xref="S5.E12.m1.4.4.1.1.cmml">θ</mi><mo id="S5.E12.m1.6.6.3.3.3" xref="S5.E12.m1.6.6.3.4.cmml">,</mo><msub id="S5.E12.m1.5.5.2.2.1" xref="S5.E12.m1.5.5.2.2.1.cmml"><mi id="S5.E12.m1.5.5.2.2.1.2" xref="S5.E12.m1.5.5.2.2.1.2.cmml">ϕ</mi><mn id="S5.E12.m1.5.5.2.2.1.3" xref="S5.E12.m1.5.5.2.2.1.3.cmml">1</mn></msub><mo id="S5.E12.m1.6.6.3.3.4" xref="S5.E12.m1.6.6.3.4.cmml">,</mo><msub id="S5.E12.m1.6.6.3.3.2" xref="S5.E12.m1.6.6.3.3.2.cmml"><mi id="S5.E12.m1.6.6.3.3.2.2" xref="S5.E12.m1.6.6.3.3.2.2.cmml">ϕ</mi><mn id="S5.E12.m1.6.6.3.3.2.3" xref="S5.E12.m1.6.6.3.3.2.3.cmml">2</mn></msub></mrow></msub><mo id="S5.E12.m1.7.7.1.1.2.1.2" xref="S5.E12.m1.7.7.1.1.2.1.2.cmml">⁢</mo><mrow id="S5.E12.m1.7.7.1.1.2.1.1.1" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.cmml"><mo id="S5.E12.m1.7.7.1.1.2.1.1.1.2" stretchy="false" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S5.E12.m1.7.7.1.1.2.1.1.1.1" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.cmml"><msub id="S5.E12.m1.7.7.1.1.2.1.1.1.1.4" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.4.cmml"><mi id="S5.E12.m1.7.7.1.1.2.1.1.1.1.4.2" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.4.2.cmml">y</mi><mi id="S5.E12.m1.7.7.1.1.2.1.1.1.1.4.3" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.4.3.cmml">i</mi></msub><mo fence="false" id="S5.E12.m1.7.7.1.1.2.1.1.1.1.3" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.3.cmml">|</mo><mrow id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.3.cmml"><msub id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.cmml"><mi id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.2" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.cmml"><mi id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.2" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.1" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.3" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.3.cmml">i</mi></mrow></msub><mo id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.3" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.3.cmml">,</mo><mrow id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.3.cmml"><mo id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.3" stretchy="false" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.3.cmml">[</mo><msub id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.cmml"><mover accent="true" id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.2" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.2.cmml"><mi id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.2.2" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.2.2.cmml">h</mi><mo id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.2.1" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.2.1.cmml">^</mo></mover><mi id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.3" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.3.cmml">g</mi></msub><mo id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.4" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.3.cmml">;</mo><msub id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2.cmml"><mi id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2.2" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2.2.cmml">h</mi><mi id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2.3" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.5" stretchy="false" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.3.cmml">]</mo></mrow></mrow></mrow><mo id="S5.E12.m1.7.7.1.1.2.1.1.1.3" stretchy="false" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S5.E12.m1.7.7.1.2" xref="S5.E12.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E12.m1.7b"><apply id="S5.E12.m1.7.7.1.1.cmml" xref="S5.E12.m1.7.7.1"><eq id="S5.E12.m1.7.7.1.1.3.cmml" xref="S5.E12.m1.7.7.1.1.3"></eq><apply id="S5.E12.m1.7.7.1.1.1.cmml" xref="S5.E12.m1.7.7.1.1.1"><times id="S5.E12.m1.7.7.1.1.1.2.cmml" xref="S5.E12.m1.7.7.1.1.1.2"></times><apply id="S5.E12.m1.7.7.1.1.1.3.cmml" xref="S5.E12.m1.7.7.1.1.1.3"><csymbol cd="ambiguous" id="S5.E12.m1.7.7.1.1.1.3.1.cmml" xref="S5.E12.m1.7.7.1.1.1.3">subscript</csymbol><ci id="S5.E12.m1.7.7.1.1.1.3.2.cmml" xref="S5.E12.m1.7.7.1.1.1.3.2">𝑝</ci><list id="S5.E12.m1.3.3.3.4.cmml" xref="S5.E12.m1.3.3.3.3"><ci id="S5.E12.m1.1.1.1.1.cmml" xref="S5.E12.m1.1.1.1.1">𝜃</ci><apply id="S5.E12.m1.2.2.2.2.1.cmml" xref="S5.E12.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="S5.E12.m1.2.2.2.2.1.1.cmml" xref="S5.E12.m1.2.2.2.2.1">subscript</csymbol><ci id="S5.E12.m1.2.2.2.2.1.2.cmml" xref="S5.E12.m1.2.2.2.2.1.2">italic-ϕ</ci><cn id="S5.E12.m1.2.2.2.2.1.3.cmml" type="integer" xref="S5.E12.m1.2.2.2.2.1.3">1</cn></apply><apply id="S5.E12.m1.3.3.3.3.2.cmml" xref="S5.E12.m1.3.3.3.3.2"><csymbol cd="ambiguous" id="S5.E12.m1.3.3.3.3.2.1.cmml" xref="S5.E12.m1.3.3.3.3.2">subscript</csymbol><ci id="S5.E12.m1.3.3.3.3.2.2.cmml" xref="S5.E12.m1.3.3.3.3.2.2">italic-ϕ</ci><cn id="S5.E12.m1.3.3.3.3.2.3.cmml" type="integer" xref="S5.E12.m1.3.3.3.3.2.3">2</cn></apply></list></apply><apply id="S5.E12.m1.7.7.1.1.1.1.1.1.cmml" xref="S5.E12.m1.7.7.1.1.1.1.1"><csymbol cd="latexml" id="S5.E12.m1.7.7.1.1.1.1.1.1.3.cmml" xref="S5.E12.m1.7.7.1.1.1.1.1.1.3">conditional</csymbol><ci id="S5.E12.m1.7.7.1.1.1.1.1.1.4.cmml" xref="S5.E12.m1.7.7.1.1.1.1.1.1.4">𝑌</ci><list id="S5.E12.m1.7.7.1.1.1.1.1.1.2.3.cmml" xref="S5.E12.m1.7.7.1.1.1.1.1.1.2.2"><apply id="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1.2">𝑆</ci><times id="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E12.m1.7.7.1.1.1.1.1.1.1.1.1.3"></times></apply><apply id="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2.cmml" xref="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2.1.cmml" xref="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2.2.cmml" xref="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2.2">𝑥</ci><ci id="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2.3.cmml" xref="S5.E12.m1.7.7.1.1.1.1.1.1.2.2.2.3">𝑞</ci></apply></list></apply></apply><apply id="S5.E12.m1.7.7.1.1.2.cmml" xref="S5.E12.m1.7.7.1.1.2"><apply id="S5.E12.m1.7.7.1.1.2.2.cmml" xref="S5.E12.m1.7.7.1.1.2.2"><csymbol cd="ambiguous" id="S5.E12.m1.7.7.1.1.2.2.1.cmml" xref="S5.E12.m1.7.7.1.1.2.2">superscript</csymbol><apply id="S5.E12.m1.7.7.1.1.2.2.2.cmml" xref="S5.E12.m1.7.7.1.1.2.2"><csymbol cd="ambiguous" id="S5.E12.m1.7.7.1.1.2.2.2.1.cmml" xref="S5.E12.m1.7.7.1.1.2.2">subscript</csymbol><csymbol cd="latexml" id="S5.E12.m1.7.7.1.1.2.2.2.2.cmml" xref="S5.E12.m1.7.7.1.1.2.2.2.2">product</csymbol><apply id="S5.E12.m1.7.7.1.1.2.2.2.3.cmml" xref="S5.E12.m1.7.7.1.1.2.2.2.3"><eq id="S5.E12.m1.7.7.1.1.2.2.2.3.1.cmml" xref="S5.E12.m1.7.7.1.1.2.2.2.3.1"></eq><ci id="S5.E12.m1.7.7.1.1.2.2.2.3.2.cmml" xref="S5.E12.m1.7.7.1.1.2.2.2.3.2">𝑖</ci><cn id="S5.E12.m1.7.7.1.1.2.2.2.3.3.cmml" type="integer" xref="S5.E12.m1.7.7.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S5.E12.m1.7.7.1.1.2.2.3.cmml" xref="S5.E12.m1.7.7.1.1.2.2.3">𝑟</ci></apply><apply id="S5.E12.m1.7.7.1.1.2.1.cmml" xref="S5.E12.m1.7.7.1.1.2.1"><times id="S5.E12.m1.7.7.1.1.2.1.2.cmml" xref="S5.E12.m1.7.7.1.1.2.1.2"></times><apply id="S5.E12.m1.7.7.1.1.2.1.3.cmml" xref="S5.E12.m1.7.7.1.1.2.1.3"><csymbol cd="ambiguous" id="S5.E12.m1.7.7.1.1.2.1.3.1.cmml" xref="S5.E12.m1.7.7.1.1.2.1.3">subscript</csymbol><ci id="S5.E12.m1.7.7.1.1.2.1.3.2.cmml" xref="S5.E12.m1.7.7.1.1.2.1.3.2">𝑝</ci><list id="S5.E12.m1.6.6.3.4.cmml" xref="S5.E12.m1.6.6.3.3"><ci id="S5.E12.m1.4.4.1.1.cmml" xref="S5.E12.m1.4.4.1.1">𝜃</ci><apply id="S5.E12.m1.5.5.2.2.1.cmml" xref="S5.E12.m1.5.5.2.2.1"><csymbol cd="ambiguous" id="S5.E12.m1.5.5.2.2.1.1.cmml" xref="S5.E12.m1.5.5.2.2.1">subscript</csymbol><ci id="S5.E12.m1.5.5.2.2.1.2.cmml" xref="S5.E12.m1.5.5.2.2.1.2">italic-ϕ</ci><cn id="S5.E12.m1.5.5.2.2.1.3.cmml" type="integer" xref="S5.E12.m1.5.5.2.2.1.3">1</cn></apply><apply id="S5.E12.m1.6.6.3.3.2.cmml" xref="S5.E12.m1.6.6.3.3.2"><csymbol cd="ambiguous" id="S5.E12.m1.6.6.3.3.2.1.cmml" xref="S5.E12.m1.6.6.3.3.2">subscript</csymbol><ci id="S5.E12.m1.6.6.3.3.2.2.cmml" xref="S5.E12.m1.6.6.3.3.2.2">italic-ϕ</ci><cn id="S5.E12.m1.6.6.3.3.2.3.cmml" type="integer" xref="S5.E12.m1.6.6.3.3.2.3">2</cn></apply></list></apply><apply id="S5.E12.m1.7.7.1.1.2.1.1.1.1.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1"><csymbol cd="latexml" id="S5.E12.m1.7.7.1.1.2.1.1.1.1.3.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.3">conditional</csymbol><apply id="S5.E12.m1.7.7.1.1.2.1.1.1.1.4.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S5.E12.m1.7.7.1.1.2.1.1.1.1.4.1.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.4">subscript</csymbol><ci id="S5.E12.m1.7.7.1.1.2.1.1.1.1.4.2.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.4.2">𝑦</ci><ci id="S5.E12.m1.7.7.1.1.2.1.1.1.1.4.3.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.4.3">𝑖</ci></apply><list id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.3.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2"><apply id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.2">𝑦</ci><apply id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3"><lt id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.1.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.2.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.2">absent</csymbol><ci id="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.3.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><list id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.3.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2"><apply id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1"><csymbol cd="ambiguous" id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.1.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1">subscript</csymbol><apply id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.2.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.2"><ci id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.2.1.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.2.1">^</ci><ci id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.2.2.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.2.2">ℎ</ci></apply><ci id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.3.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.1.1.3">𝑔</ci></apply><apply id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2.2">ℎ</ci><ci id="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S5.E12.m1.7.7.1.1.2.1.1.1.1.2.2.2.2.2.3">𝑡</ci></apply></list></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E12.m1.7c">p_{\theta,\phi_{1},\phi_{2}}(Y|S^{*},x_{q})=\prod_{i=1}^{r}p_{\theta,\phi_{1},%
\phi_{2}}(y_{i}|y_{&lt;i},[\hat{h}_{g};h_{t}]),</annotation><annotation encoding="application/x-llamapun" id="S5.E12.m1.7d">italic_p start_POSTSUBSCRIPT italic_θ , italic_ϕ start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_ϕ start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( italic_Y | italic_S start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT , italic_x start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ) = ∏ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT italic_p start_POSTSUBSCRIPT italic_θ , italic_ϕ start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_ϕ start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_y start_POSTSUBSCRIPT &lt; italic_i end_POSTSUBSCRIPT , [ over^ start_ARG italic_h end_ARG start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT ; italic_h start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ] ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS4.p4.11">where <math alttext="[\hat{h}_{g};h_{t}]" class="ltx_Math" display="inline" id="S5.SS4.p4.5.m1.2"><semantics id="S5.SS4.p4.5.m1.2a"><mrow id="S5.SS4.p4.5.m1.2.2.2" xref="S5.SS4.p4.5.m1.2.2.3.cmml"><mo id="S5.SS4.p4.5.m1.2.2.2.3" stretchy="false" xref="S5.SS4.p4.5.m1.2.2.3.cmml">[</mo><msub id="S5.SS4.p4.5.m1.1.1.1.1" xref="S5.SS4.p4.5.m1.1.1.1.1.cmml"><mover accent="true" id="S5.SS4.p4.5.m1.1.1.1.1.2" xref="S5.SS4.p4.5.m1.1.1.1.1.2.cmml"><mi id="S5.SS4.p4.5.m1.1.1.1.1.2.2" xref="S5.SS4.p4.5.m1.1.1.1.1.2.2.cmml">h</mi><mo id="S5.SS4.p4.5.m1.1.1.1.1.2.1" xref="S5.SS4.p4.5.m1.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S5.SS4.p4.5.m1.1.1.1.1.3" xref="S5.SS4.p4.5.m1.1.1.1.1.3.cmml">g</mi></msub><mo id="S5.SS4.p4.5.m1.2.2.2.4" xref="S5.SS4.p4.5.m1.2.2.3.cmml">;</mo><msub id="S5.SS4.p4.5.m1.2.2.2.2" xref="S5.SS4.p4.5.m1.2.2.2.2.cmml"><mi id="S5.SS4.p4.5.m1.2.2.2.2.2" xref="S5.SS4.p4.5.m1.2.2.2.2.2.cmml">h</mi><mi id="S5.SS4.p4.5.m1.2.2.2.2.3" xref="S5.SS4.p4.5.m1.2.2.2.2.3.cmml">t</mi></msub><mo id="S5.SS4.p4.5.m1.2.2.2.5" stretchy="false" xref="S5.SS4.p4.5.m1.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.5.m1.2b"><list id="S5.SS4.p4.5.m1.2.2.3.cmml" xref="S5.SS4.p4.5.m1.2.2.2"><apply id="S5.SS4.p4.5.m1.1.1.1.1.cmml" xref="S5.SS4.p4.5.m1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS4.p4.5.m1.1.1.1.1.1.cmml" xref="S5.SS4.p4.5.m1.1.1.1.1">subscript</csymbol><apply id="S5.SS4.p4.5.m1.1.1.1.1.2.cmml" xref="S5.SS4.p4.5.m1.1.1.1.1.2"><ci id="S5.SS4.p4.5.m1.1.1.1.1.2.1.cmml" xref="S5.SS4.p4.5.m1.1.1.1.1.2.1">^</ci><ci id="S5.SS4.p4.5.m1.1.1.1.1.2.2.cmml" xref="S5.SS4.p4.5.m1.1.1.1.1.2.2">ℎ</ci></apply><ci id="S5.SS4.p4.5.m1.1.1.1.1.3.cmml" xref="S5.SS4.p4.5.m1.1.1.1.1.3">𝑔</ci></apply><apply id="S5.SS4.p4.5.m1.2.2.2.2.cmml" xref="S5.SS4.p4.5.m1.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS4.p4.5.m1.2.2.2.2.1.cmml" xref="S5.SS4.p4.5.m1.2.2.2.2">subscript</csymbol><ci id="S5.SS4.p4.5.m1.2.2.2.2.2.cmml" xref="S5.SS4.p4.5.m1.2.2.2.2.2">ℎ</ci><ci id="S5.SS4.p4.5.m1.2.2.2.2.3.cmml" xref="S5.SS4.p4.5.m1.2.2.2.2.3">𝑡</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.5.m1.2c">[\hat{h}_{g};h_{t}]</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.5.m1.2d">[ over^ start_ARG italic_h end_ARG start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT ; italic_h start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ]</annotation></semantics></math> concatenates the graph token <math alttext="\hat{h}_{g}" class="ltx_Math" display="inline" id="S5.SS4.p4.6.m2.1"><semantics id="S5.SS4.p4.6.m2.1a"><msub id="S5.SS4.p4.6.m2.1.1" xref="S5.SS4.p4.6.m2.1.1.cmml"><mover accent="true" id="S5.SS4.p4.6.m2.1.1.2" xref="S5.SS4.p4.6.m2.1.1.2.cmml"><mi id="S5.SS4.p4.6.m2.1.1.2.2" xref="S5.SS4.p4.6.m2.1.1.2.2.cmml">h</mi><mo id="S5.SS4.p4.6.m2.1.1.2.1" xref="S5.SS4.p4.6.m2.1.1.2.1.cmml">^</mo></mover><mi id="S5.SS4.p4.6.m2.1.1.3" xref="S5.SS4.p4.6.m2.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.6.m2.1b"><apply id="S5.SS4.p4.6.m2.1.1.cmml" xref="S5.SS4.p4.6.m2.1.1"><csymbol cd="ambiguous" id="S5.SS4.p4.6.m2.1.1.1.cmml" xref="S5.SS4.p4.6.m2.1.1">subscript</csymbol><apply id="S5.SS4.p4.6.m2.1.1.2.cmml" xref="S5.SS4.p4.6.m2.1.1.2"><ci id="S5.SS4.p4.6.m2.1.1.2.1.cmml" xref="S5.SS4.p4.6.m2.1.1.2.1">^</ci><ci id="S5.SS4.p4.6.m2.1.1.2.2.cmml" xref="S5.SS4.p4.6.m2.1.1.2.2">ℎ</ci></apply><ci id="S5.SS4.p4.6.m2.1.1.3.cmml" xref="S5.SS4.p4.6.m2.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.6.m2.1c">\hat{h}_{g}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.6.m2.1d">over^ start_ARG italic_h end_ARG start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT</annotation></semantics></math> and the text embedder output <math alttext="h_{t}" class="ltx_Math" display="inline" id="S5.SS4.p4.7.m3.1"><semantics id="S5.SS4.p4.7.m3.1a"><msub id="S5.SS4.p4.7.m3.1.1" xref="S5.SS4.p4.7.m3.1.1.cmml"><mi id="S5.SS4.p4.7.m3.1.1.2" xref="S5.SS4.p4.7.m3.1.1.2.cmml">h</mi><mi id="S5.SS4.p4.7.m3.1.1.3" xref="S5.SS4.p4.7.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.7.m3.1b"><apply id="S5.SS4.p4.7.m3.1.1.cmml" xref="S5.SS4.p4.7.m3.1.1"><csymbol cd="ambiguous" id="S5.SS4.p4.7.m3.1.1.1.cmml" xref="S5.SS4.p4.7.m3.1.1">subscript</csymbol><ci id="S5.SS4.p4.7.m3.1.1.2.cmml" xref="S5.SS4.p4.7.m3.1.1.2">ℎ</ci><ci id="S5.SS4.p4.7.m3.1.1.3.cmml" xref="S5.SS4.p4.7.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.7.m3.1c">h_{t}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.7.m3.1d">italic_h start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. While <math alttext="\theta" class="ltx_Math" display="inline" id="S5.SS4.p4.8.m4.1"><semantics id="S5.SS4.p4.8.m4.1a"><mi id="S5.SS4.p4.8.m4.1.1" xref="S5.SS4.p4.8.m4.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.8.m4.1b"><ci id="S5.SS4.p4.8.m4.1.1.cmml" xref="S5.SS4.p4.8.m4.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.8.m4.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.8.m4.1d">italic_θ</annotation></semantics></math> is frozen, the graph token <math alttext="\hat{h}_{g}" class="ltx_Math" display="inline" id="S5.SS4.p4.9.m5.1"><semantics id="S5.SS4.p4.9.m5.1a"><msub id="S5.SS4.p4.9.m5.1.1" xref="S5.SS4.p4.9.m5.1.1.cmml"><mover accent="true" id="S5.SS4.p4.9.m5.1.1.2" xref="S5.SS4.p4.9.m5.1.1.2.cmml"><mi id="S5.SS4.p4.9.m5.1.1.2.2" xref="S5.SS4.p4.9.m5.1.1.2.2.cmml">h</mi><mo id="S5.SS4.p4.9.m5.1.1.2.1" xref="S5.SS4.p4.9.m5.1.1.2.1.cmml">^</mo></mover><mi id="S5.SS4.p4.9.m5.1.1.3" xref="S5.SS4.p4.9.m5.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.9.m5.1b"><apply id="S5.SS4.p4.9.m5.1.1.cmml" xref="S5.SS4.p4.9.m5.1.1"><csymbol cd="ambiguous" id="S5.SS4.p4.9.m5.1.1.1.cmml" xref="S5.SS4.p4.9.m5.1.1">subscript</csymbol><apply id="S5.SS4.p4.9.m5.1.1.2.cmml" xref="S5.SS4.p4.9.m5.1.1.2"><ci id="S5.SS4.p4.9.m5.1.1.2.1.cmml" xref="S5.SS4.p4.9.m5.1.1.2.1">^</ci><ci id="S5.SS4.p4.9.m5.1.1.2.2.cmml" xref="S5.SS4.p4.9.m5.1.1.2.2">ℎ</ci></apply><ci id="S5.SS4.p4.9.m5.1.1.3.cmml" xref="S5.SS4.p4.9.m5.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.9.m5.1c">\hat{h}_{g}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.9.m5.1d">over^ start_ARG italic_h end_ARG start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT</annotation></semantics></math> receives gradients, enabling the optimization of the parameters of the graph encoder <math alttext="\phi_{1}" class="ltx_Math" display="inline" id="S5.SS4.p4.10.m6.1"><semantics id="S5.SS4.p4.10.m6.1a"><msub id="S5.SS4.p4.10.m6.1.1" xref="S5.SS4.p4.10.m6.1.1.cmml"><mi id="S5.SS4.p4.10.m6.1.1.2" xref="S5.SS4.p4.10.m6.1.1.2.cmml">ϕ</mi><mn id="S5.SS4.p4.10.m6.1.1.3" xref="S5.SS4.p4.10.m6.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.10.m6.1b"><apply id="S5.SS4.p4.10.m6.1.1.cmml" xref="S5.SS4.p4.10.m6.1.1"><csymbol cd="ambiguous" id="S5.SS4.p4.10.m6.1.1.1.cmml" xref="S5.SS4.p4.10.m6.1.1">subscript</csymbol><ci id="S5.SS4.p4.10.m6.1.1.2.cmml" xref="S5.SS4.p4.10.m6.1.1.2">italic-ϕ</ci><cn id="S5.SS4.p4.10.m6.1.1.3.cmml" type="integer" xref="S5.SS4.p4.10.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.10.m6.1c">\phi_{1}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.10.m6.1d">italic_ϕ start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> and the projection layer <math alttext="\phi_{2}" class="ltx_Math" display="inline" id="S5.SS4.p4.11.m7.1"><semantics id="S5.SS4.p4.11.m7.1a"><msub id="S5.SS4.p4.11.m7.1.1" xref="S5.SS4.p4.11.m7.1.1.cmml"><mi id="S5.SS4.p4.11.m7.1.1.2" xref="S5.SS4.p4.11.m7.1.1.2.cmml">ϕ</mi><mn id="S5.SS4.p4.11.m7.1.1.3" xref="S5.SS4.p4.11.m7.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.11.m7.1b"><apply id="S5.SS4.p4.11.m7.1.1.cmml" xref="S5.SS4.p4.11.m7.1.1"><csymbol cd="ambiguous" id="S5.SS4.p4.11.m7.1.1.1.cmml" xref="S5.SS4.p4.11.m7.1.1">subscript</csymbol><ci id="S5.SS4.p4.11.m7.1.1.2.cmml" xref="S5.SS4.p4.11.m7.1.1.2">italic-ϕ</ci><cn id="S5.SS4.p4.11.m7.1.1.3.cmml" type="integer" xref="S5.SS4.p4.11.m7.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.11.m7.1c">\phi_{2}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.11.m7.1d">italic_ϕ start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> through standard backpropagation.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Experiments</h2>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Experiment Setup</h3>
<div class="ltx_para" id="S6.SS1.p1">
<p class="ltx_p" id="S6.SS1.p1.1">In the indexing step, we use SentenceBert <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib34" title="">34</a>]</cite> as the LM to encode all node and edge attributes. In the generation step, we use the open-source Llama2-7b <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib42" title="">42</a>]</cite> as the LLM and Graph Transformer <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib37" title="">37</a>]</cite> as the graph encoder. Additional details are provided in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.SS1" title="B.1 Implementation Settings ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">B.1</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span>Main Results</h3>
<div class="ltx_para" id="S6.SS2.p1">
<p class="ltx_p" id="S6.SS2.p1.1">In our experiments, we consider three model configurations:
<em class="ltx_emph ltx_font_italic" id="S6.SS2.p1.1.1">1) Inference-only</em>: Using a frozen LLM for direct question answering; <em class="ltx_emph ltx_font_italic" id="S6.SS2.p1.1.2">2) Frozen LLM w/ prompt tuning (PT)</em>: Keeping the parameters of the LLM frozen and adapting only the prompt; <em class="ltx_emph ltx_font_italic" id="S6.SS2.p1.1.3">3) Tuned LLM</em>: Fine-tuning the LLM with LoRA <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib10" title="">10</a>]</cite>. We provide more details in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.SS2" title="B.2 Details of Model Configurations ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">B.2</span></a>.</p>
</div>
<figure class="ltx_table" id="S6.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S6.T3.15.1.1" style="font-size:90%;">Table 3</span>: </span><span class="ltx_text" id="S6.T3.16.2" style="font-size:90%;">Performance comparison across <span class="ltx_text ltx_font_typewriter" id="S6.T3.16.2.1">ExplaGraphs</span>, <span class="ltx_text ltx_font_typewriter" id="S6.T3.16.2.2">SceneGraphs</span>, and <span class="ltx_text ltx_font_typewriter" id="S6.T3.16.2.3">WebQSP</span> datasets for different configurations, including Inference-only, Frozen LLM with prompt tuning (PT), and Tuned LLM settings. Mean scores and standard deviations (mean ± std) are presented. The first best result for each task is highlighted in <span class="ltx_text ltx_font_bold" id="S6.T3.16.2.4">bold</span> and the second best result is highlighted with an <span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T3.16.2.5">underline</span>.
</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T3.8">
<tr class="ltx_tr" id="S6.T3.8.9">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S6.T3.8.9.1"><span class="ltx_text" id="S6.T3.8.9.1.1" style="font-size:80%;">Setting</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S6.T3.8.9.2"><span class="ltx_text" id="S6.T3.8.9.2.1" style="font-size:80%;">Method</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.8.9.3"><span class="ltx_text ltx_font_typewriter" id="S6.T3.8.9.3.1" style="font-size:80%;">ExplaGraphs</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.8.9.4"><span class="ltx_text ltx_font_typewriter" id="S6.T3.8.9.4.1" style="font-size:80%;">SceneGraphs</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.8.9.5"><span class="ltx_text ltx_font_typewriter" id="S6.T3.8.9.5.1" style="font-size:80%;">WebQSP</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.8.10">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S6.T3.8.10.1" rowspan="4"><span class="ltx_text" id="S6.T3.8.10.1.1" style="font-size:80%;">Inference-only</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T3.8.10.2"><span class="ltx_text" id="S6.T3.8.10.2.1" style="font-size:80%;">Zero-shot</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.8.10.3"><span class="ltx_text" id="S6.T3.8.10.3.1" style="font-size:80%;">0.5650</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.8.10.4"><span class="ltx_text" id="S6.T3.8.10.4.1" style="font-size:80%;">0.3974</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.8.10.5"><span class="ltx_text" id="S6.T3.8.10.5.1" style="font-size:80%;">41.06</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.8.11">
<td class="ltx_td ltx_align_left" id="S6.T3.8.11.1">
<span class="ltx_text" id="S6.T3.8.11.1.1" style="font-size:80%;">Zero-CoT </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S6.T3.8.11.1.2.1" style="font-size:80%;">[</span><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib18" title="">18</a><span class="ltx_text" id="S6.T3.8.11.1.3.2" style="font-size:80%;">]</span></cite>
</td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.11.2"><span class="ltx_text" id="S6.T3.8.11.2.1" style="font-size:80%;">0.5704</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.11.3"><span class="ltx_text" id="S6.T3.8.11.3.1" style="font-size:80%;">0.5260</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.11.4"><span class="ltx_text" id="S6.T3.8.11.4.1" style="font-size:80%;">51.30</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.8.12">
<td class="ltx_td ltx_align_left" id="S6.T3.8.12.1">
<span class="ltx_text" id="S6.T3.8.12.1.1" style="font-size:80%;">CoT-BAG </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S6.T3.8.12.1.2.1" style="font-size:80%;">[</span><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib44" title="">44</a><span class="ltx_text" id="S6.T3.8.12.1.3.2" style="font-size:80%;">]</span></cite>
</td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.12.2"><span class="ltx_text" id="S6.T3.8.12.2.1" style="font-size:80%;">0.5794</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.12.3"><span class="ltx_text" id="S6.T3.8.12.3.1" style="font-size:80%;">0.5680</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.12.4"><span class="ltx_text" id="S6.T3.8.12.4.1" style="font-size:80%;">39.60</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.8.13">
<td class="ltx_td ltx_align_left" id="S6.T3.8.13.1">
<span class="ltx_text" id="S6.T3.8.13.1.1" style="font-size:80%;">KAPING </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S6.T3.8.13.1.2.1" style="font-size:80%;">[</span><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib1" title="">1</a><span class="ltx_text" id="S6.T3.8.13.1.3.2" style="font-size:80%;">]</span></cite>
</td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.13.2"><span class="ltx_text" id="S6.T3.8.13.2.1" style="font-size:80%;">0.6227</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.13.3"><span class="ltx_text" id="S6.T3.8.13.3.1" style="font-size:80%;">0.4375</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.13.4"><span class="ltx_text" id="S6.T3.8.13.4.1" style="font-size:80%;">52.64</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.8.14">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S6.T3.8.14.1" rowspan="4"><span class="ltx_text" id="S6.T3.8.14.1.1" style="font-size:80%;">Frozen LLM w/ PT</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T3.8.14.2"><span class="ltx_text" id="S6.T3.8.14.2.1" style="font-size:80%;">Prompt tuning</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.8.14.3"><span class="ltx_text" id="S6.T3.8.14.3.1" style="font-size:80%;">0.5763 ± 0.0243</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.8.14.4"><span class="ltx_text" id="S6.T3.8.14.4.1" style="font-size:80%;">0.6341 ± 0.0024</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.8.14.5"><span class="ltx_text" id="S6.T3.8.14.5.1" style="font-size:80%;">48.34 ± 0.64</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.8.15">
<td class="ltx_td ltx_align_left" id="S6.T3.8.15.1">
<span class="ltx_text" id="S6.T3.8.15.1.1" style="font-size:80%;">GraphToken </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="S6.T3.8.15.1.2.1" style="font-size:80%;">[</span><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib31" title="">31</a><span class="ltx_text" id="S6.T3.8.15.1.3.2" style="font-size:80%;">]</span></cite>
</td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.15.2"><span class="ltx_text" id="S6.T3.8.15.2.1" style="font-size:80%;">0.8508 ± 0.0551</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.15.3"><span class="ltx_text" id="S6.T3.8.15.3.1" style="font-size:80%;">0.4903 ± 0.0105</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.15.4"><span class="ltx_text" id="S6.T3.8.15.4.1" style="font-size:80%;">57.05 ± 0.74</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.8.16">
<td class="ltx_td ltx_align_left" id="S6.T3.8.16.1"><span class="ltx_text ltx_font_italic" id="S6.T3.8.16.1.1" style="font-size:80%;">G-Retriever</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.16.2"><span class="ltx_text" id="S6.T3.8.16.2.1" style="font-size:80%;">0.8516 ± 0.0092</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.16.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T3.8.16.3.1" style="font-size:80%;">0.8131 ± 0.0162</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.16.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T3.8.16.4.1" style="font-size:80%;">70.49 ± 1.21</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.4.4">
<td class="ltx_td ltx_align_left" id="S6.T3.1.1.1"><math alttext="\Delta_{\text{Prompt tuning}}" class="ltx_Math" display="inline" id="S6.T3.1.1.1.m1.1"><semantics id="S6.T3.1.1.1.m1.1a"><msub id="S6.T3.1.1.1.m1.1.1" xref="S6.T3.1.1.1.m1.1.1.cmml"><mi id="S6.T3.1.1.1.m1.1.1.2" mathsize="80%" mathvariant="normal" xref="S6.T3.1.1.1.m1.1.1.2.cmml">Δ</mi><mtext id="S6.T3.1.1.1.m1.1.1.3" mathsize="80%" xref="S6.T3.1.1.1.m1.1.1.3a.cmml">Prompt tuning</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T3.1.1.1.m1.1b"><apply id="S6.T3.1.1.1.m1.1.1.cmml" xref="S6.T3.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T3.1.1.1.m1.1.1.1.cmml" xref="S6.T3.1.1.1.m1.1.1">subscript</csymbol><ci id="S6.T3.1.1.1.m1.1.1.2.cmml" xref="S6.T3.1.1.1.m1.1.1.2">Δ</ci><ci id="S6.T3.1.1.1.m1.1.1.3a.cmml" xref="S6.T3.1.1.1.m1.1.1.3"><mtext id="S6.T3.1.1.1.m1.1.1.3.cmml" mathsize="56%" xref="S6.T3.1.1.1.m1.1.1.3">Prompt tuning</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.1.1.1.m1.1c">\Delta_{\text{Prompt tuning}}</annotation><annotation encoding="application/x-llamapun" id="S6.T3.1.1.1.m1.1d">roman_Δ start_POSTSUBSCRIPT Prompt tuning end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S6.T3.2.2.2">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T3.2.2.2.m1.1"><semantics id="S6.T3.2.2.2.m1.1a"><mo id="S6.T3.2.2.2.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T3.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T3.2.2.2.m1.1b"><ci id="S6.T3.2.2.2.m1.1.1.cmml" xref="S6.T3.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.2.2.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T3.2.2.2.m1.1d">↑</annotation></semantics></math><span class="ltx_text" id="S6.T3.2.2.2.1" style="font-size:80%;"> 47.77%</span>
</td>
<td class="ltx_td ltx_align_center" id="S6.T3.3.3.3">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T3.3.3.3.m1.1"><semantics id="S6.T3.3.3.3.m1.1a"><mo id="S6.T3.3.3.3.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T3.3.3.3.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T3.3.3.3.m1.1b"><ci id="S6.T3.3.3.3.m1.1.1.cmml" xref="S6.T3.3.3.3.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.3.3.3.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T3.3.3.3.m1.1d">↑</annotation></semantics></math><span class="ltx_text" id="S6.T3.3.3.3.1" style="font-size:80%;"> 28.23%</span>
</td>
<td class="ltx_td ltx_align_center" id="S6.T3.4.4.4">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T3.4.4.4.m1.1"><semantics id="S6.T3.4.4.4.m1.1a"><mo id="S6.T3.4.4.4.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T3.4.4.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T3.4.4.4.m1.1b"><ci id="S6.T3.4.4.4.m1.1.1.cmml" xref="S6.T3.4.4.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.4.4.4.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T3.4.4.4.m1.1d">↑</annotation></semantics></math><span class="ltx_text" id="S6.T3.4.4.4.1" style="font-size:80%;"> 45.81%</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T3.8.17">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="S6.T3.8.17.1" rowspan="3"><span class="ltx_text" id="S6.T3.8.17.1.1" style="font-size:80%;">Tuned LLM</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T3.8.17.2"><span class="ltx_text" id="S6.T3.8.17.2.1" style="font-size:80%;">LoRA</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.8.17.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T3.8.17.3.1" style="font-size:80%;">0.8538 ± 0.0353</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.8.17.4"><span class="ltx_text" id="S6.T3.8.17.4.1" style="font-size:80%;">0.7862 ± 0.0031</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.8.17.5"><span class="ltx_text" id="S6.T3.8.17.5.1" style="font-size:80%;">66.03 ± 0.47</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.8.18">
<td class="ltx_td ltx_align_left" id="S6.T3.8.18.1">
<span class="ltx_text ltx_font_italic" id="S6.T3.8.18.1.1" style="font-size:80%;">G-Retriever</span><span class="ltx_text" id="S6.T3.8.18.1.2" style="font-size:80%;"> w/ LoRA</span>
</td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.18.2"><span class="ltx_text ltx_font_bold" id="S6.T3.8.18.2.1" style="font-size:80%;">0.8705 ± 0.0329</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.18.3"><span class="ltx_text ltx_font_bold" id="S6.T3.8.18.3.1" style="font-size:80%;">0.8683 ± 0.0072</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.8.18.4"><span class="ltx_text ltx_font_bold" id="S6.T3.8.18.4.1" style="font-size:80%;">73.79 ± 0.70</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.8.8">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T3.5.5.1"><math alttext="\Delta_{\text{ LoRA}}" class="ltx_Math" display="inline" id="S6.T3.5.5.1.m1.1"><semantics id="S6.T3.5.5.1.m1.1a"><msub id="S6.T3.5.5.1.m1.1.1" xref="S6.T3.5.5.1.m1.1.1.cmml"><mi id="S6.T3.5.5.1.m1.1.1.2" mathsize="80%" mathvariant="normal" xref="S6.T3.5.5.1.m1.1.1.2.cmml">Δ</mi><mtext id="S6.T3.5.5.1.m1.1.1.3" mathsize="80%" xref="S6.T3.5.5.1.m1.1.1.3a.cmml"> LoRA</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T3.5.5.1.m1.1b"><apply id="S6.T3.5.5.1.m1.1.1.cmml" xref="S6.T3.5.5.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T3.5.5.1.m1.1.1.1.cmml" xref="S6.T3.5.5.1.m1.1.1">subscript</csymbol><ci id="S6.T3.5.5.1.m1.1.1.2.cmml" xref="S6.T3.5.5.1.m1.1.1.2">Δ</ci><ci id="S6.T3.5.5.1.m1.1.1.3a.cmml" xref="S6.T3.5.5.1.m1.1.1.3"><mtext id="S6.T3.5.5.1.m1.1.1.3.cmml" mathsize="56%" xref="S6.T3.5.5.1.m1.1.1.3"> LoRA</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.5.5.1.m1.1c">\Delta_{\text{ LoRA}}</annotation><annotation encoding="application/x-llamapun" id="S6.T3.5.5.1.m1.1d">roman_Δ start_POSTSUBSCRIPT LoRA end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.6.6.2">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T3.6.6.2.m1.1"><semantics id="S6.T3.6.6.2.m1.1a"><mo id="S6.T3.6.6.2.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T3.6.6.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T3.6.6.2.m1.1b"><ci id="S6.T3.6.6.2.m1.1.1.cmml" xref="S6.T3.6.6.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.6.6.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T3.6.6.2.m1.1d">↑</annotation></semantics></math><span class="ltx_text" id="S6.T3.6.6.2.1" style="font-size:80%;"> 1.95%</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.7.7.3">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T3.7.7.3.m1.1"><semantics id="S6.T3.7.7.3.m1.1a"><mo id="S6.T3.7.7.3.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T3.7.7.3.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T3.7.7.3.m1.1b"><ci id="S6.T3.7.7.3.m1.1.1.cmml" xref="S6.T3.7.7.3.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.7.7.3.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T3.7.7.3.m1.1d">↑</annotation></semantics></math><span class="ltx_text" id="S6.T3.7.7.3.1" style="font-size:80%;"> 11.74%</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.8.8.4">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T3.8.8.4.m1.1"><semantics id="S6.T3.8.8.4.m1.1a"><mo id="S6.T3.8.8.4.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T3.8.8.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T3.8.8.4.m1.1b"><ci id="S6.T3.8.8.4.m1.1.1.cmml" xref="S6.T3.8.8.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.8.8.4.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T3.8.8.4.m1.1d">↑</annotation></semantics></math><span class="ltx_text" id="S6.T3.8.8.4.1" style="font-size:80%;"> 10.44%</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_para" id="S6.SS2.p2">
<p class="ltx_p" id="S6.SS2.p2.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S6.T3" title="Table 3 ‣ 6.2 Main Results ‣ 6 Experiments ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">3</span></a> demonstrates the effectiveness of our method across three datasets in various configurations. In the inference-only setting, <span class="ltx_text ltx_font_italic" id="S6.SS2.p2.1.1">G-Retriever</span> surpasses all baselines. Notably, LLM can perform even better when no graph knowledge is provided (<em class="ltx_emph ltx_font_italic" id="S6.SS2.p2.1.2">i.e.,</em> question only), which might be attributed to the complexity and potential noise in the knowledge. For frozen LLM with prompt tuning, <span class="ltx_text ltx_font_italic" id="S6.SS2.p2.1.3">G-Retriever</span> outperforms traditional prompt tuning and GraphToken <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib31" title="">31</a>]</cite>, a graph prompt tuning-based method, with average performance increases of 40.6% and 30.8% respectively. Furthermore, when tuned with LoRA, <span class="ltx_text ltx_font_italic" id="S6.SS2.p2.1.4">G-Retriever</span> achieves the best performance.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3 </span>Efficiency Evaluation</h3>
<div class="ltx_para" id="S6.SS3.p1">
<p class="ltx_p" id="S6.SS3.p1.1">The efficiency of our approach is highlighted by the data in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S6.T4" title="Table 4 ‣ 6.3 Efficiency Evaluation ‣ 6 Experiments ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">4</span></a>. Implementing our graph-based retrieval significantly decreases the number of tokens required to describe the graphs in text, reduces the number of nodes in graphs, and speeds up the training process. Specifically, for the <span class="ltx_text ltx_font_typewriter" id="S6.SS3.p1.1.1">SceneGraphs</span> dataset, tokens decreased by 83%, nodes by 74%, and training time by 29%. For the <span class="ltx_text ltx_font_typewriter" id="S6.SS3.p1.1.2">WebQSP</span> dataset, tokens decreased by 99%, nodes by 99%, and training time by 67%. These substantial reductions demonstrate the method’s efficiency and potential in managing large-scale graph data.</p>
</div>
<figure class="ltx_table" id="S6.T4">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S6.T4.10.1.1" style="font-size:113%;">Table 4</span>: </span><span class="ltx_text" id="S6.T4.11.2" style="font-size:113%;">Retrieval on graphs significantly improves efficiency.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T4.6">
<tr class="ltx_tr" id="S6.T4.6.7">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S6.T4.6.7.1" rowspan="2"><span class="ltx_text" id="S6.T4.6.7.1.1" style="font-size:80%;">Dataset</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S6.T4.6.7.2"><span class="ltx_text" id="S6.T4.6.7.2.1" style="font-size:80%;">Before Retrieval (Avg.)</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S6.T4.6.7.3"><span class="ltx_text" id="S6.T4.6.7.3.1" style="font-size:80%;">After Retrieval (Avg.)</span></td>
</tr>
<tr class="ltx_tr" id="S6.T4.6.8">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.6.8.1"><span class="ltx_text" id="S6.T4.6.8.1.1" style="font-size:80%;"># Tokens</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.6.8.2"><span class="ltx_text" id="S6.T4.6.8.2.1" style="font-size:80%;"># Nodes</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.6.8.3"><span class="ltx_text" id="S6.T4.6.8.3.1" style="font-size:80%;">Min/Epoch</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.6.8.4"><span class="ltx_text" id="S6.T4.6.8.4.1" style="font-size:80%;"># Tokens</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.6.8.5"><span class="ltx_text" id="S6.T4.6.8.5.1" style="font-size:80%;"># Nodes</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.6.8.6"><span class="ltx_text" id="S6.T4.6.8.6.1" style="font-size:80%;">Min/Epoch</span></td>
</tr>
<tr class="ltx_tr" id="S6.T4.3.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T4.3.3.4"><span class="ltx_text ltx_font_typewriter" id="S6.T4.3.3.4.1" style="font-size:80%;">SceneGraphs</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.3.3.5"><span class="ltx_text" id="S6.T4.3.3.5.1" style="font-size:80%;">1,396</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.3.3.6"><span class="ltx_text" id="S6.T4.3.3.6.1" style="font-size:80%;">19</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.3.3.7"><span class="ltx_text" id="S6.T4.3.3.7.1" style="font-size:80%;">123.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.1">
<span class="ltx_text" id="S6.T4.1.1.1.1" style="font-size:80%;">235 (</span><math alttext="\downarrow" class="ltx_Math" display="inline" id="S6.T4.1.1.1.m1.1"><semantics id="S6.T4.1.1.1.m1.1a"><mo id="S6.T4.1.1.1.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T4.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T4.1.1.1.m1.1b"><ci id="S6.T4.1.1.1.m1.1.1.cmml" xref="S6.T4.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T4.1.1.1.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S6.T4.1.1.1.m1.1d">↓</annotation></semantics></math><span class="ltx_text" id="S6.T4.1.1.1.2" style="font-size:80%;">83%)</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.2.2.2">
<span class="ltx_text" id="S6.T4.2.2.2.1" style="font-size:80%;">5 (</span><math alttext="\downarrow" class="ltx_Math" display="inline" id="S6.T4.2.2.2.m1.1"><semantics id="S6.T4.2.2.2.m1.1a"><mo id="S6.T4.2.2.2.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T4.2.2.2.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T4.2.2.2.m1.1b"><ci id="S6.T4.2.2.2.m1.1.1.cmml" xref="S6.T4.2.2.2.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T4.2.2.2.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S6.T4.2.2.2.m1.1d">↓</annotation></semantics></math><span class="ltx_text" id="S6.T4.2.2.2.2" style="font-size:80%;">74%)</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.3.3.3">
<span class="ltx_text" id="S6.T4.3.3.3.1" style="font-size:80%;">86.8 (</span><math alttext="\downarrow" class="ltx_Math" display="inline" id="S6.T4.3.3.3.m1.1"><semantics id="S6.T4.3.3.3.m1.1a"><mo id="S6.T4.3.3.3.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T4.3.3.3.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T4.3.3.3.m1.1b"><ci id="S6.T4.3.3.3.m1.1.1.cmml" xref="S6.T4.3.3.3.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T4.3.3.3.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S6.T4.3.3.3.m1.1d">↓</annotation></semantics></math><span class="ltx_text" id="S6.T4.3.3.3.2" style="font-size:80%;">29%)</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T4.6.6">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T4.6.6.4"><span class="ltx_text ltx_font_typewriter" id="S6.T4.6.6.4.1" style="font-size:80%;">WebQSP</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.6.6.5"><span class="ltx_text" id="S6.T4.6.6.5.1" style="font-size:80%;">100,627</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.6.6.6"><span class="ltx_text" id="S6.T4.6.6.6.1" style="font-size:80%;">1,371</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.6.6.7"><span class="ltx_text" id="S6.T4.6.6.7.1" style="font-size:80%;">18.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.4.4.1">
<span class="ltx_text" id="S6.T4.4.4.1.1" style="font-size:80%;">610 (</span><math alttext="\downarrow" class="ltx_Math" display="inline" id="S6.T4.4.4.1.m1.1"><semantics id="S6.T4.4.4.1.m1.1a"><mo id="S6.T4.4.4.1.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T4.4.4.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T4.4.4.1.m1.1b"><ci id="S6.T4.4.4.1.m1.1.1.cmml" xref="S6.T4.4.4.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T4.4.4.1.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S6.T4.4.4.1.m1.1d">↓</annotation></semantics></math><span class="ltx_text" id="S6.T4.4.4.1.2" style="font-size:80%;">99%)</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.5.5.2">
<span class="ltx_text" id="S6.T4.5.5.2.1" style="font-size:80%;">18 (</span><math alttext="\downarrow" class="ltx_Math" display="inline" id="S6.T4.5.5.2.m1.1"><semantics id="S6.T4.5.5.2.m1.1a"><mo id="S6.T4.5.5.2.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T4.5.5.2.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T4.5.5.2.m1.1b"><ci id="S6.T4.5.5.2.m1.1.1.cmml" xref="S6.T4.5.5.2.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T4.5.5.2.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S6.T4.5.5.2.m1.1d">↓</annotation></semantics></math><span class="ltx_text" id="S6.T4.5.5.2.2" style="font-size:80%;">99%)</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.6.6.3">
<span class="ltx_text" id="S6.T4.6.6.3.1" style="font-size:80%;">6.2(</span><math alttext="\downarrow" class="ltx_Math" display="inline" id="S6.T4.6.6.3.m1.1"><semantics id="S6.T4.6.6.3.m1.1a"><mo id="S6.T4.6.6.3.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T4.6.6.3.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T4.6.6.3.m1.1b"><ci id="S6.T4.6.6.3.m1.1.1.cmml" xref="S6.T4.6.6.3.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T4.6.6.3.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S6.T4.6.6.3.m1.1d">↓</annotation></semantics></math><span class="ltx_text" id="S6.T4.6.6.3.2" style="font-size:80%;">67%)</span>
</td>
</tr>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S6.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.4 </span>Mitigation of Hallucination</h3>
<div class="ltx_para" id="S6.SS4.p1">
<p class="ltx_p" id="S6.SS4.p1.1">To evaluate hallucination, we instructed the models to answer graph-related questions, specifically identifying supporting nodes or edges from the graph. We manually reviewed 100 responses from both our method and the baseline (<em class="ltx_emph ltx_font_italic" id="S6.SS4.p1.1.1">i.e.,</em> LLM with graph prompt tuning), verifying the existence of the nodes and edges referenced in the model’s output within the actual graph. Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S6.T6" title="Table 6 ‣ 6.5 Ablation Study ‣ 6 Experiments ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">6</span></a> shows that <span class="ltx_text ltx_font_italic" id="S6.SS4.p1.1.2">G-Retriever</span> significantly reduces hallucinations by 54% compared to the baseline, as our graph retrieval ensures that the data is sourced directly from the actual graph, leading to less hallucination.
See Appendix <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A6" title="Appendix F Hallucination in Graph LLMs ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">F</span></a> for details.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.5 </span>Ablation Study</h3>
<div class="ltx_para" id="S6.SS5.p1">
<p class="ltx_p" id="S6.SS5.p1.1">In this ablation study, we assess the individual impact of key components within our pipeline. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S6.T6" title="Table 6 ‣ 6.5 Ablation Study ‣ 6 Experiments ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">6</span></a>, there are performance drops when any of these components are removed, with the graph encoder and textualized graph showing declines of 22.51% and 19.19%, respectively. This demonstrates their complementary effects in representing the graph in both textual and embedded formats. Additionally, the retrieval on graphs is also important to the overall performance. Further details are available in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.SS3" title="B.3 Details of Ablation Study ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">B.3</span></a>. We also present additional studies on our framework: it is robust to the choice of graph encoders (see Appendix <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.SS4" title="B.4 The Choice of Graph Encoder ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">B.4</span></a>) and benefits from the increased scale of LLMs (see Appendix <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.SS5" title="B.5 The Choice of LLM ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">B.5</span></a>).</p>
</div>
<figure class="ltx_table" id="S6.T6">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_top" id="S6.T6.fig1" style="width:195.1pt;">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S6.T6.fig1.5.1.1" style="font-size:113%;">Table 5</span>: </span><span class="ltx_text" id="S6.T6.fig1.6.2" style="font-size:113%;">Quantitative comparison of hallucination on the <span class="ltx_text ltx_font_typewriter" id="S6.T6.fig1.6.2.1">SceneGraphs</span> dataset. </span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T6.fig1.7">
<tr class="ltx_tr" id="S6.T6.fig1.7.1">
<td class="ltx_td ltx_border_tt" id="S6.T6.fig1.7.1.1"></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S6.T6.fig1.7.1.2"><span class="ltx_text" id="S6.T6.fig1.7.1.2.1" style="font-size:80%;">Baseline</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S6.T6.fig1.7.1.3"><span class="ltx_text ltx_font_italic" id="S6.T6.fig1.7.1.3.1" style="font-size:80%;">G-Retriever</span></td>
</tr>
<tr class="ltx_tr" id="S6.T6.fig1.7.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T6.fig1.7.2.1"><span class="ltx_text" id="S6.T6.fig1.7.2.1.1" style="font-size:80%;">Valid Nodes</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T6.fig1.7.2.2"><span class="ltx_text" id="S6.T6.fig1.7.2.2.1" style="font-size:80%;">31%</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T6.fig1.7.2.3"><span class="ltx_text" id="S6.T6.fig1.7.2.3.1" style="font-size:80%;">77%</span></td>
</tr>
<tr class="ltx_tr" id="S6.T6.fig1.7.3">
<td class="ltx_td ltx_align_left" id="S6.T6.fig1.7.3.1"><span class="ltx_text" id="S6.T6.fig1.7.3.1.1" style="font-size:80%;">Valid Edges</span></td>
<td class="ltx_td ltx_align_left" id="S6.T6.fig1.7.3.2"><span class="ltx_text" id="S6.T6.fig1.7.3.2.1" style="font-size:80%;">12%</span></td>
<td class="ltx_td ltx_align_left" id="S6.T6.fig1.7.3.3"><span class="ltx_text" id="S6.T6.fig1.7.3.3.1" style="font-size:80%;">76%</span></td>
</tr>
<tr class="ltx_tr" id="S6.T6.fig1.7.4">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T6.fig1.7.4.1"><span class="ltx_text" id="S6.T6.fig1.7.4.1.1" style="font-size:80%;">Fully Valid Graphs</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T6.fig1.7.4.2"><span class="ltx_text" id="S6.T6.fig1.7.4.2.1" style="font-size:80%;">8%</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T6.fig1.7.4.3"><span class="ltx_text" id="S6.T6.fig1.7.4.3.1" style="font-size:80%;">62%</span></td>
</tr>
</table>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_top" id="S6.T6.5" style="width:234.2pt;">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S6.T6.5.7.1.1" style="font-size:90%;">Table 6</span>: </span><span class="ltx_text" id="S6.T6.5.8.2" style="font-size:90%;">Ablation study on the <span class="ltx_text ltx_font_typewriter" id="S6.T6.5.8.2.1">WebQSP</span> dataset.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T6.5.5">
<tr class="ltx_tr" id="S6.T6.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S6.T6.1.1.1.2"><span class="ltx_text" id="S6.T6.1.1.1.2.1" style="font-size:80%;">Method</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S6.T6.1.1.1.3"><span class="ltx_text" id="S6.T6.1.1.1.3.1" style="font-size:80%;">Hit@1</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S6.T6.1.1.1.1"><math alttext="\Delta_{\text{{G-Retriever}}}" class="ltx_Math" display="inline" id="S6.T6.1.1.1.1.m1.1"><semantics id="S6.T6.1.1.1.1.m1.1a"><msub id="S6.T6.1.1.1.1.m1.1.1" xref="S6.T6.1.1.1.1.m1.1.1.cmml"><mi id="S6.T6.1.1.1.1.m1.1.1.2" mathsize="80%" mathvariant="normal" xref="S6.T6.1.1.1.1.m1.1.1.2.cmml">Δ</mi><mtext class="ltx_mathvariant_italic" id="S6.T6.1.1.1.1.m1.1.1.3" mathsize="80%" xref="S6.T6.1.1.1.1.m1.1.1.3a.cmml">G-Retriever</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T6.1.1.1.1.m1.1b"><apply id="S6.T6.1.1.1.1.m1.1.1.cmml" xref="S6.T6.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T6.1.1.1.1.m1.1.1.1.cmml" xref="S6.T6.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S6.T6.1.1.1.1.m1.1.1.2.cmml" xref="S6.T6.1.1.1.1.m1.1.1.2">Δ</ci><ci id="S6.T6.1.1.1.1.m1.1.1.3a.cmml" xref="S6.T6.1.1.1.1.m1.1.1.3"><mtext class="ltx_mathvariant_italic" id="S6.T6.1.1.1.1.m1.1.1.3.cmml" mathsize="56%" xref="S6.T6.1.1.1.1.m1.1.1.3">G-Retriever</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T6.1.1.1.1.m1.1c">\Delta_{\text{{G-Retriever}}}</annotation><annotation encoding="application/x-llamapun" id="S6.T6.1.1.1.1.m1.1d">roman_Δ start_POSTSUBSCRIPT G-Retriever end_POSTSUBSCRIPT</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S6.T6.2.2.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T6.2.2.2.2"><span class="ltx_text" id="S6.T6.2.2.2.2.1" style="font-size:80%;">w/o Graph Encoder</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T6.2.2.2.3"><span class="ltx_text" id="S6.T6.2.2.2.3.1" style="font-size:80%;">54.62 ± 0.78</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T6.2.2.2.1">
<math alttext="\downarrow" class="ltx_Math" display="inline" id="S6.T6.2.2.2.1.m1.1"><semantics id="S6.T6.2.2.2.1.m1.1a"><mo id="S6.T6.2.2.2.1.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T6.2.2.2.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T6.2.2.2.1.m1.1b"><ci id="S6.T6.2.2.2.1.m1.1.1.cmml" xref="S6.T6.2.2.2.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T6.2.2.2.1.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S6.T6.2.2.2.1.m1.1d">↓</annotation></semantics></math><span class="ltx_text" id="S6.T6.2.2.2.1.1" style="font-size:80%;"> 22.51%</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T6.3.3.3">
<td class="ltx_td ltx_align_left" id="S6.T6.3.3.3.2"><span class="ltx_text" id="S6.T6.3.3.3.2.1" style="font-size:80%;">w/o Projection Layer</span></td>
<td class="ltx_td ltx_align_left" id="S6.T6.3.3.3.3"><span class="ltx_text" id="S6.T6.3.3.3.3.1" style="font-size:80%;">69.70 ± 0.68</span></td>
<td class="ltx_td ltx_align_left" id="S6.T6.3.3.3.1">
<math alttext="\downarrow" class="ltx_Math" display="inline" id="S6.T6.3.3.3.1.m1.1"><semantics id="S6.T6.3.3.3.1.m1.1a"><mo id="S6.T6.3.3.3.1.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T6.3.3.3.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T6.3.3.3.1.m1.1b"><ci id="S6.T6.3.3.3.1.m1.1.1.cmml" xref="S6.T6.3.3.3.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T6.3.3.3.1.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S6.T6.3.3.3.1.m1.1d">↓</annotation></semantics></math><span class="ltx_text" id="S6.T6.3.3.3.1.1" style="font-size:80%;"> 1.11%</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T6.4.4.4">
<td class="ltx_td ltx_align_left" id="S6.T6.4.4.4.2"><span class="ltx_text" id="S6.T6.4.4.4.2.1" style="font-size:80%;">w/o Textualized Graph</span></td>
<td class="ltx_td ltx_align_left" id="S6.T6.4.4.4.3"><span class="ltx_text" id="S6.T6.4.4.4.3.1" style="font-size:80%;">56.96 ± 1.83</span></td>
<td class="ltx_td ltx_align_left" id="S6.T6.4.4.4.1">
<math alttext="\downarrow" class="ltx_Math" display="inline" id="S6.T6.4.4.4.1.m1.1"><semantics id="S6.T6.4.4.4.1.m1.1a"><mo id="S6.T6.4.4.4.1.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T6.4.4.4.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T6.4.4.4.1.m1.1b"><ci id="S6.T6.4.4.4.1.m1.1.1.cmml" xref="S6.T6.4.4.4.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T6.4.4.4.1.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S6.T6.4.4.4.1.m1.1d">↓</annotation></semantics></math><span class="ltx_text" id="S6.T6.4.4.4.1.1" style="font-size:80%;"> 19.19%</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T6.5.5.5">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T6.5.5.5.2"><span class="ltx_text" id="S6.T6.5.5.5.2.1" style="font-size:80%;">w/o Retrieval</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T6.5.5.5.3"><span class="ltx_text" id="S6.T6.5.5.5.3.1" style="font-size:80%;">63.84 ± 0.41</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T6.5.5.5.1">
<math alttext="\downarrow" class="ltx_Math" display="inline" id="S6.T6.5.5.5.1.m1.1"><semantics id="S6.T6.5.5.5.1.m1.1a"><mo id="S6.T6.5.5.5.1.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T6.5.5.5.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T6.5.5.5.1.m1.1b"><ci id="S6.T6.5.5.5.1.m1.1.1.cmml" xref="S6.T6.5.5.5.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T6.5.5.5.1.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S6.T6.5.5.5.1.m1.1d">↓</annotation></semantics></math><span class="ltx_text" id="S6.T6.5.5.5.1.1" style="font-size:80%;"> 9.43%</span>
</td>
</tr>
</table>
</figure>
</div>
</div>
</figure>
<div class="ltx_para" id="S6.SS5.p2">
<p class="ltx_p" id="S6.SS5.p2.1">Additionally, we include a detailed comparison with existing retrieval methods (see Appendix <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A4" title="Appendix D Graph Retrieval-Augmented Generation (GraphRAG) ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">D</span></a>), a discussion on the complexity (see Appendix <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A5" title="Appendix E Discussion on the Complexity ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">E</span></a>), and demonstrations on how to use <span class="ltx_text ltx_font_italic" id="S6.SS5.p2.1.1">G-Retriever</span> to ‘chat with your graph’ (see Appendix <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A7" title="Appendix G Demonstrations ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">G</span></a>).</p>
</div>
</section>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Conclusion</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">In this work, we introduce a new GraphQA benchmark for real-world graph question answering and present <span class="ltx_text ltx_font_italic" id="S7.p1.1.1">G-Retriever</span>, an architecture adept at complex and creative queries. Experimental results show that <span class="ltx_text ltx_font_italic" id="S7.p1.1.2">G-Retriever</span> surpasses baselines in textual graph tasks across multiple domains, scales effectively with larger graph sizes, and demonstrates resistance to hallucination.</p>
</div>
<div class="ltx_para" id="S7.p2">
<p class="ltx_p" id="S7.p2.1"><span class="ltx_text ltx_font_bold" id="S7.p2.1.1">Limitations and Future Work:</span> Currently, <span class="ltx_text ltx_font_italic" id="S7.p2.1.2">G-Retriever</span> employs a static retrieval component. Future developments could investigate more sophisticated RAG where the retrieval is trainable.</p>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Acknowledgment</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">XB is supported by NUS Grant ID R-252-000-B97-133.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Baek et al. [2023]</span>
<span class="ltx_bibblock">
Jinheon Baek, Alham Fikri Aji, and Amir Saffari.

</span>
<span class="ltx_bibblock">Knowledge-augmented language model prompting for zero-shot knowledge graph question answering.

</span>
<span class="ltx_bibblock">In Bhavana Dalvi Mishra, Greg Durrett, Peter Jansen, Danilo Neves Ribeiro, and Jason Wei, editors, <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">Proceedings of the 1st Workshop on Natural Language Reasoning and Structured Explanations (NLRSE)</em>, pages 78–106, Toronto, Canada, June 2023. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2023.nlrse-1.7</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2023.nlrse-1.7" title="">https://aclanthology.org/2023.nlrse-1.7</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bienstock et al. [1993]</span>
<span class="ltx_bibblock">
Daniel Bienstock, Michel X Goemans, David Simchi-Levi, and David Williamson.

</span>
<span class="ltx_bibblock">A note on the prize collecting traveling salesman problem.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">Mathematical programming</em>, 59(1-3):413–420, 1993.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chai et al. [2023]</span>
<span class="ltx_bibblock">
Ziwei Chai, Tianjie Zhang, Liang Wu, Kaiqiao Han, Xiaohai Hu, Xuanwen Huang, and Yang Yang.

</span>
<span class="ltx_bibblock">Graphllm: Boosting graph reasoning ability of large language model.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">arXiv preprint arXiv:2310.05845</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. [2023a]</span>
<span class="ltx_bibblock">
Zhikai Chen, Haitao Mao, Hang Li, Wei Jin, Hongzhi Wen, Xiaochi Wei, Shuaiqiang Wang, Dawei Yin, Wenqi Fan, Hui Liu, et al.

</span>
<span class="ltx_bibblock">Exploring the potential of large language models (llms) in learning on graphs.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">arXiv preprint arXiv:2307.03393</em>, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. [2023b]</span>
<span class="ltx_bibblock">
Zhikai Chen, Haitao Mao, Hongzhi Wen, Haoyu Han, Wei Jin, Haiyang Zhang, Hui Liu, and Jiliang Tang.

</span>
<span class="ltx_bibblock">Label-free node classification on graphs with large language models (llms).

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:2310.04668</em>, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fatemi et al. [2023]</span>
<span class="ltx_bibblock">
Bahare Fatemi, Jonathan Halcrow, and Bryan Perozzi.

</span>
<span class="ltx_bibblock">Talk like a graph: Encoding graphs for large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">arXiv preprint arXiv:2310.04560</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. [2023]</span>
<span class="ltx_bibblock">
Yunfan Gao, Yun Xiong, Xinyu Gao, Kangxiang Jia, Jinliu Pan, Yuxi Bi, Yi Dai, Jiawei Sun, and Haofen Wang.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for large language models: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2312.10997</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. [2023]</span>
<span class="ltx_bibblock">
Xiaoxin He, Xavier Bresson, Thomas Laurent, Adam Perold, Yann LeCun, and Bryan Hooi.

</span>
<span class="ltx_bibblock">Harnessing explanations: Llm-to-lm interpreter for enhanced text-attributed graph representation learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">arXiv preprint arXiv:2305.19523</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hegde et al. [2015]</span>
<span class="ltx_bibblock">
Chinmay Hegde, Piotr Indyk, and Ludwig Schmidt.

</span>
<span class="ltx_bibblock">A nearly-linear time framework for graph-structured sparsity.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">International Conference on Machine Learning</em>, pages 928–937. PMLR, 2015.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al. [2021]</span>
<span class="ltx_bibblock">
Edward J Hu, Yelong Shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu Wang, and Weizhu Chen.

</span>
<span class="ltx_bibblock">Lora: Low-rank adaptation of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">arXiv preprint arXiv:2106.09685</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. [2023a]</span>
<span class="ltx_bibblock">
Jin Huang, Xingjian Zhang, Qiaozhu Mei, and Jiaqi Ma.

</span>
<span class="ltx_bibblock">Can llms effectively leverage graph structural information: when and why.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:2309.16595</em>, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. [2023b]</span>
<span class="ltx_bibblock">
Lei Huang, Weijiang Yu, Weitao Ma, Weihong Zhong, Zhangyin Feng, Haotian Wang, Qianglong Chen, Weihua Peng, Xiaocheng Feng, Bing Qin, and Ting Liu.

</span>
<span class="ltx_bibblock">A survey on hallucination in large language models: Principles, taxonomy, challenges, and open questions, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hudson and Manning [2019]</span>
<span class="ltx_bibblock">
Drew A Hudson and Christopher D Manning.

</span>
<span class="ltx_bibblock">Gqa: A new dataset for real-world visual reasoning and compositional question answering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">Proceedings of the IEEE/CVF conference on computer vision and pattern recognition</em>, pages 6700–6709, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. [2023]</span>
<span class="ltx_bibblock">
Jinhao Jiang, Kun Zhou, Zican Dong, Keming Ye, Wayne Xin Zhao, and Ji-Rong Wen.

</span>
<span class="ltx_bibblock">Structgpt: A general framework for large language model to reason over structured data.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">arXiv preprint arXiv:2305.09645</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et al. [2023]</span>
<span class="ltx_bibblock">
Bowen Jin, Gang Liu, Chi Han, Meng Jiang, Heng Ji, and Jiawei Han.

</span>
<span class="ltx_bibblock">Large language models on graphs: A comprehensive survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:2312.02783</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang et al. [2023]</span>
<span class="ltx_bibblock">
Minki Kang, Jin Myung Kwak, Jinheon Baek, and Sung Ju Hwang.

</span>
<span class="ltx_bibblock">Knowledge graph-augmented language models for knowledge-grounded dialogue generation, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kipf and Welling [2016]</span>
<span class="ltx_bibblock">
Thomas N Kipf and Max Welling.

</span>
<span class="ltx_bibblock">Semi-supervised classification with graph convolutional networks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">arXiv preprint arXiv:1609.02907</em>, 2016.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kojima et al. [2022]</span>
<span class="ltx_bibblock">
Takeshi Kojima, Shixiang Shane Gu, Machel Reid, Yutaka Matsuo, and Yusuke Iwasawa.

</span>
<span class="ltx_bibblock">Large language models are zero-shot reasoners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">Advances in neural information processing systems</em>, 35:22199–22213, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lei et al. [2023]</span>
<span class="ltx_bibblock">
Bin Lei, Chunhua Liao, Caiwen Ding, et al.

</span>
<span class="ltx_bibblock">Boosting logical reasoning in large language models through a new framework: The graph of thought.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">arXiv preprint arXiv:2308.08614</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lester et al. [2021]</span>
<span class="ltx_bibblock">
Brian Lester, Rami Al-Rfou, and Noah Constant.

</span>
<span class="ltx_bibblock">The power of scale for parameter-efficient prompt tuning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">arXiv preprint arXiv:2104.08691</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. [2020]</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, et al.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Advances in Neural Information Processing Systems</em>, 33:9459–9474, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li and Liang [2021]</span>
<span class="ltx_bibblock">
Xiang Lisa Li and Percy Liang.

</span>
<span class="ltx_bibblock">Prefix-tuning: Optimizing continuous prompts for generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">arXiv preprint arXiv:2101.00190</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. [2023a]</span>
<span class="ltx_bibblock">
Xin Li, Dongze Lian, Zhihe Lu, Jiawang Bai, Zhibo Chen, and Xinchao Wang.

</span>
<span class="ltx_bibblock">Graphadapter: Tuning vision-language models with dual knowledge graph.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">arXiv preprint arXiv:2309.13625</em>, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. [2023b]</span>
<span class="ltx_bibblock">
Yuhan Li, Zhixun Li, Peisong Wang, Jia Li, Xiangguo Sun, Hong Cheng, and Jeffrey Xu Yu.

</span>
<span class="ltx_bibblock">A survey of graph meets large language model: Progress and future directions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">arXiv preprint arXiv:2311.12399</em>, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. [2023a]</span>
<span class="ltx_bibblock">
Hao Liu, Jiarui Feng, Lecheng Kong, Ningyue Liang, Dacheng Tao, Yixin Chen, and Muhan Zhang.

</span>
<span class="ltx_bibblock">One for all: Towards training one graph model for all classification tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">arXiv preprint arXiv:2310.00149</em>, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. [2023b]</span>
<span class="ltx_bibblock">
Haotian Liu, Chunyuan Li, Qingyang Wu, and Yong Jae Lee.

</span>
<span class="ltx_bibblock">Visual instruction tuning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">arXiv preprint arXiv:2304.08485</em>, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Loshchilov and Hutter [2017]</span>
<span class="ltx_bibblock">
Ilya Loshchilov and Frank Hutter.

</span>
<span class="ltx_bibblock">Decoupled weight decay regularization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">arXiv preprint arXiv:1711.05101</em>, 2017.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et al. [2023a]</span>
<span class="ltx_bibblock">
Linhao Luo, Yuan-Fang Li, Gholamreza Haffari, and Shirui Pan.

</span>
<span class="ltx_bibblock">Reasoning on graphs: Faithful and interpretable large language model reasoning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">arXiv preprint arXiv:2310.01061</em>, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et al. [2023b]</span>
<span class="ltx_bibblock">
Linhao Luo, Yuan-Fang Li, Gholamreza Haffari, and Shirui Pan.

</span>
<span class="ltx_bibblock">Reasoning on graphs: Faithful and interpretable large language model reasoning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">arXiv preprint arXiv:2310.01061</em>, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pan et al. [2023]</span>
<span class="ltx_bibblock">
Shirui Pan, Yizhen Zheng, and Yixin Liu.

</span>
<span class="ltx_bibblock">Integrating graphs with large language models: Methods and prospects.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">arXiv preprint arXiv:2310.05499</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Perozzi et al. [2024]</span>
<span class="ltx_bibblock">
Bryan Perozzi, Bahare Fatemi, Dustin Zelle, Anton Tsitsulin, Mehran Kazemi, Rami Al-Rfou, and Jonathan Halcrow.

</span>
<span class="ltx_bibblock">Let your graph do the talking: Encoding structured data for llms.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">arXiv preprint arXiv:2402.05862</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qian et al. [2023]</span>
<span class="ltx_bibblock">
Chen Qian, Huayi Tang, Zhirui Yang, Hong Liang, and Yong Liu.

</span>
<span class="ltx_bibblock">Can large language models empower molecular property prediction?

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">arXiv preprint arXiv:2307.07443</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al. [2023]</span>
<span class="ltx_bibblock">
Yijian Qin, Xin Wang, Ziwei Zhang, and Wenwu Zhu.

</span>
<span class="ltx_bibblock">Disentangled representation learning with large language models for text-attributed graphs.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">arXiv preprint arXiv:2310.18152</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reimers and Gurevych [2019]</span>
<span class="ltx_bibblock">
Nils Reimers and Iryna Gurevych.

</span>
<span class="ltx_bibblock">Sentence-bert: Sentence embeddings using siamese bert-networks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">arXiv preprint arXiv:1908.10084</em>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saha et al. [2021]</span>
<span class="ltx_bibblock">
Swarnadeep Saha, Prateek Yadav, Lisa Bauer, and Mohit Bansal.

</span>
<span class="ltx_bibblock">Explagraphs: An explanation graph generation task for structured commonsense reasoning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">arXiv preprint arXiv:2104.07644</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sen et al. [2023]</span>
<span class="ltx_bibblock">
Priyanka Sen, Sandeep Mavadia, and Amir Saffari.

</span>
<span class="ltx_bibblock">Knowledge graph-augmented language models for complex question answering.

</span>
<span class="ltx_bibblock">In Bhavana Dalvi Mishra, Greg Durrett, Peter Jansen, Danilo Neves Ribeiro, and Jason Wei, editors, <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">Proceedings of the 1st Workshop on Natural Language Reasoning and Structured Explanations (NLRSE)</em>, pages 1–8, Toronto, Canada, June 2023. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2023.nlrse-1.1</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2023.nlrse-1.1" title="">https://aclanthology.org/2023.nlrse-1.1</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et al. [2020]</span>
<span class="ltx_bibblock">
Yunsheng Shi, Zhengjie Huang, Shikun Feng, Hui Zhong, Wenjin Wang, and Yu Sun.

</span>
<span class="ltx_bibblock">Masked label prediction: Unified message passing model for semi-supervised classification.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">arXiv preprint arXiv:2009.03509</em>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al. [2024]</span>
<span class="ltx_bibblock">
Jiashuo Sun, Chengjin Xu, Lumingyuan Tang, Saizhuo Wang, Chen Lin, Yeyun Gong, Lionel Ni, Heung-Yeung Shum, and Jian Guo.

</span>
<span class="ltx_bibblock">Think-on-graph: Deep and responsible reasoning of large language model on knowledge graph.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">The Twelfth International Conference on Learning Representations</em>, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=nnVO1PvbTv" title="">https://openreview.net/forum?id=nnVO1PvbTv</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al. [2023]</span>
<span class="ltx_bibblock">
Shengyin Sun, Yuxiang Ren, Chen Ma, and Xuecang Zhang.

</span>
<span class="ltx_bibblock">Large language models as topological structure enhancers for text-attributed graphs.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">arXiv preprint arXiv:2311.14324</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tang et al. [2023]</span>
<span class="ltx_bibblock">
Jiabin Tang, Yuhao Yang, Wei Wei, Lei Shi, Lixin Su, Suqi Cheng, Dawei Yin, and Chao Huang.

</span>
<span class="ltx_bibblock">Graphgpt: Graph instruction tuning for large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">arXiv preprint arXiv:2310.13023</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tian et al. [2023]</span>
<span class="ltx_bibblock">
Yijun Tian, Huan Song, Zichen Wang, Haozhu Wang, Ziqing Hu, Fang Wang, Nitesh V Chawla, and Panpan Xu.

</span>
<span class="ltx_bibblock">Graph neural prompting with large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">arXiv preprint arXiv:2309.15427</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. [2023]</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">arXiv preprint arXiv:2307.09288</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Veličković et al. [2017]</span>
<span class="ltx_bibblock">
Petar Veličković, Guillem Cucurull, Arantxa Casanova, Adriana Romero, Pietro Lio, and Yoshua Bengio.

</span>
<span class="ltx_bibblock">Graph attention networks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">arXiv preprint arXiv:1710.10903</em>, 2017.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. [2023]</span>
<span class="ltx_bibblock">
Heng Wang, Shangbin Feng, Tianxing He, Zhaoxuan Tan, Xiaochuang Han, and Yulia Tsvetkov.

</span>
<span class="ltx_bibblock">Can language models solve graph problems in natural language?

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">arXiv preprint arXiv:2305.10037</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. [2022]</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">Advances in neural information processing systems</em>, 35:24824–24837, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. [2023]</span>
<span class="ltx_bibblock">
Shengqiong Wu, Hao Fei, Leigang Qu, Wei Ji, and Tat-Seng Chua.

</span>
<span class="ltx_bibblock">Next-gpt: Any-to-any multimodal llm.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">arXiv preprint arXiv:2309.05519</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ye et al. [2023]</span>
<span class="ltx_bibblock">
Ruosong Ye, Caiqi Zhang, Runhui Wang, Shuyuan Xu, and Yongfeng Zhang.

</span>
<span class="ltx_bibblock">Natural language is all a graph needs.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">arXiv preprint arXiv:2308.07134</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yih et al. [2016]</span>
<span class="ltx_bibblock">
Wen-tau Yih, Matthew Richardson, Christopher Meek, Ming-Wei Chang, and Jina Suh.

</span>
<span class="ltx_bibblock">The value of semantic parse labeling for knowledge base question answering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">Proceedings of the 54th Annual Meeting of the Association for Computational Linguistics (Volume 2: Short Papers)</em>, pages 201–206, 2016.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yoon et al. [2023]</span>
<span class="ltx_bibblock">
Minji Yoon, Jing Yu Koh, Bryan Hooi, and Ruslan Salakhutdinov.

</span>
<span class="ltx_bibblock">Multimodal graph learning for generative tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">arXiv preprint arXiv:2310.07478</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. [2023a]</span>
<span class="ltx_bibblock">
Jianxiang Yu, Yuxiang Ren, Chenghua Gong, Jiaqi Tan, Xiang Li, and Xuecang Zhang.

</span>
<span class="ltx_bibblock">Empower text-attributed graphs learning with large language models (llms).

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">arXiv preprint arXiv:2310.09872</em>, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. [2023b]</span>
<span class="ltx_bibblock">
Junchi Yu, Ran He, and Rex Ying.

</span>
<span class="ltx_bibblock">Thought propagation: An analogical approach to complex reasoning with large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib51.1.1">arXiv preprint arXiv:2310.03965</em>, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang [2023]</span>
<span class="ltx_bibblock">
Jiawei Zhang.

</span>
<span class="ltx_bibblock">Graph-toolformer: To empower llms with graph reasoning ability via prompt augmented by chatgpt.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib52.1.1">arXiv preprint arXiv:2304.11116</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. [2023a]</span>
<span class="ltx_bibblock">
Renrui Zhang, Jiaming Han, Aojun Zhou, Xiangfei Hu, Shilin Yan, Pan Lu, Hongsheng Li, Peng Gao, and Yu Qiao.

</span>
<span class="ltx_bibblock">Llama-adapter: Efficient fine-tuning of language models with zero-init attention.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib53.1.1">arXiv preprint arXiv:2303.16199</em>, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. [2023b]</span>
<span class="ltx_bibblock">
Ziwei Zhang, Haoyang Li, Zeyang Zhang, Yijian Qin, Xin Wang, and Wenwu Zhu.

</span>
<span class="ltx_bibblock">Graph meets llms: Towards large graph models, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al. [2023a]</span>
<span class="ltx_bibblock">
Haiteng Zhao, Shengchao Liu, Chang Ma, Hannan Xu, Jie Fu, Zhi-Hong Deng, Lingpeng Kong, and Qi Liu.

</span>
<span class="ltx_bibblock">Gimlet: A unified graph-text model for instruction-based molecule zero-shot learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">bioRxiv</em>, pages 2023–05, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al. [2023b]</span>
<span class="ltx_bibblock">
Jianan Zhao, Le Zhuo, Yikang Shen, Meng Qu, Kai Liu, Michael Bronstein, Zhaocheng Zhu, and Jian Tang.

</span>
<span class="ltx_bibblock">Graphtext: Graph reasoning in text space.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib56.1.1">arXiv preprint arXiv:2310.01089</em>, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al. [2023]</span>
<span class="ltx_bibblock">
Deyao Zhu, Jun Chen, Xiaoqian Shen, Xiang Li, and Mohamed Elhoseiny.

</span>
<span class="ltx_bibblock">Minigpt-4: Enhancing vision-language understanding with advanced large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib57.1.1">arXiv preprint arXiv:2304.10592</em>, 2023.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Impact Statements</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">As LLMs are applied to increasingly diverse tasks, their ability to process complex structured data will be increasingly vital. Our work aims to enhance LLMs’ ability to interact with graph-structured data, while resisting hallucination, thus improving model reliability. We also enhance explainability, both by returning the retrieved subgraph, and through the use of conversational interfaces for ‘chatting with a graph’, which allows for better human-AI interaction and for models to behave in a way that is more well-aligned with human expectations.</p>
</div>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Experiment</h2>
<section class="ltx_subsection" id="A2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Implementation Settings</h3>
<div class="ltx_para" id="A2.SS1.p1">
<p class="ltx_p" id="A2.SS1.p1.1">Experiments are conducted using 2 NVIDIA A100-80G GPUs. Each experiment is replicated four times, utilizing different seeds for each run to ensure robustness and reproducibility.</p>
</div>
<div class="ltx_para" id="A2.SS1.p2">
<p class="ltx_p" id="A2.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="A2.SS1.p2.1.1">Graph Encoder.</span> We use Graph Transformer <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib37" title="">37</a>]</cite> as the GNN backbone. Our configuration employs 4 layers, each with 4 attention heads, and a hidden dimension size of 1024.</p>
</div>
<div class="ltx_para" id="A2.SS1.p3">
<p class="ltx_p" id="A2.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="A2.SS1.p3.1.1">LLM.</span> We use the open-sourced Llama2-7b <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib42" title="">42</a>]</cite> as the LLM backbone. In fine-tuning the LLM with LoRA <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib10" title="">10</a>]</cite>, the lora_r parameter (dimension for LoRA update matrices) is set to 8, and lora_alpha (scaling factor) is set to 16. The dropout rate is set to 0.05. In prompt tuning, the LLM is configured with 10 virtual tokens. The number of max text length is 512, the number of max new tokens, <em class="ltx_emph ltx_font_italic" id="A2.SS1.p3.1.2">i.e.,</em> the maximum numbers of tokens to generate, is 32.</p>
</div>
<div class="ltx_para" id="A2.SS1.p4">
<p class="ltx_p" id="A2.SS1.p4.7"><span class="ltx_text ltx_font_bold" id="A2.SS1.p4.7.1">PCST</span>. For retrieval over graphs via PCST, for the <span class="ltx_text ltx_font_typewriter" id="A2.SS1.p4.7.2">SceneGraphs</span> dataset, we select the top <math alttext="k" class="ltx_Math" display="inline" id="A2.SS1.p4.1.m1.1"><semantics id="A2.SS1.p4.1.m1.1a"><mi id="A2.SS1.p4.1.m1.1.1" xref="A2.SS1.p4.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p4.1.m1.1b"><ci id="A2.SS1.p4.1.m1.1.1.cmml" xref="A2.SS1.p4.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p4.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="A2.SS1.p4.1.m1.1d">italic_k</annotation></semantics></math> nodes and edges, setting <math alttext="k" class="ltx_Math" display="inline" id="A2.SS1.p4.2.m2.1"><semantics id="A2.SS1.p4.2.m2.1a"><mi id="A2.SS1.p4.2.m2.1.1" xref="A2.SS1.p4.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p4.2.m2.1b"><ci id="A2.SS1.p4.2.m2.1.1.cmml" xref="A2.SS1.p4.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p4.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="A2.SS1.p4.2.m2.1d">italic_k</annotation></semantics></math> to 3. Here, the cost of edges, denoted as <math alttext="C_{e}" class="ltx_Math" display="inline" id="A2.SS1.p4.3.m3.1"><semantics id="A2.SS1.p4.3.m3.1a"><msub id="A2.SS1.p4.3.m3.1.1" xref="A2.SS1.p4.3.m3.1.1.cmml"><mi id="A2.SS1.p4.3.m3.1.1.2" xref="A2.SS1.p4.3.m3.1.1.2.cmml">C</mi><mi id="A2.SS1.p4.3.m3.1.1.3" xref="A2.SS1.p4.3.m3.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="A2.SS1.p4.3.m3.1b"><apply id="A2.SS1.p4.3.m3.1.1.cmml" xref="A2.SS1.p4.3.m3.1.1"><csymbol cd="ambiguous" id="A2.SS1.p4.3.m3.1.1.1.cmml" xref="A2.SS1.p4.3.m3.1.1">subscript</csymbol><ci id="A2.SS1.p4.3.m3.1.1.2.cmml" xref="A2.SS1.p4.3.m3.1.1.2">𝐶</ci><ci id="A2.SS1.p4.3.m3.1.1.3.cmml" xref="A2.SS1.p4.3.m3.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p4.3.m3.1c">C_{e}</annotation><annotation encoding="application/x-llamapun" id="A2.SS1.p4.3.m3.1d">italic_C start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>, is set to 1. Regarding the <span class="ltx_text ltx_font_typewriter" id="A2.SS1.p4.7.3">WebQSP</span> dataset, we set <math alttext="k=3" class="ltx_Math" display="inline" id="A2.SS1.p4.4.m4.1"><semantics id="A2.SS1.p4.4.m4.1a"><mrow id="A2.SS1.p4.4.m4.1.1" xref="A2.SS1.p4.4.m4.1.1.cmml"><mi id="A2.SS1.p4.4.m4.1.1.2" xref="A2.SS1.p4.4.m4.1.1.2.cmml">k</mi><mo id="A2.SS1.p4.4.m4.1.1.1" xref="A2.SS1.p4.4.m4.1.1.1.cmml">=</mo><mn id="A2.SS1.p4.4.m4.1.1.3" xref="A2.SS1.p4.4.m4.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p4.4.m4.1b"><apply id="A2.SS1.p4.4.m4.1.1.cmml" xref="A2.SS1.p4.4.m4.1.1"><eq id="A2.SS1.p4.4.m4.1.1.1.cmml" xref="A2.SS1.p4.4.m4.1.1.1"></eq><ci id="A2.SS1.p4.4.m4.1.1.2.cmml" xref="A2.SS1.p4.4.m4.1.1.2">𝑘</ci><cn id="A2.SS1.p4.4.m4.1.1.3.cmml" type="integer" xref="A2.SS1.p4.4.m4.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p4.4.m4.1c">k=3</annotation><annotation encoding="application/x-llamapun" id="A2.SS1.p4.4.m4.1d">italic_k = 3</annotation></semantics></math> for nodes and <math alttext="k=5" class="ltx_Math" display="inline" id="A2.SS1.p4.5.m5.1"><semantics id="A2.SS1.p4.5.m5.1a"><mrow id="A2.SS1.p4.5.m5.1.1" xref="A2.SS1.p4.5.m5.1.1.cmml"><mi id="A2.SS1.p4.5.m5.1.1.2" xref="A2.SS1.p4.5.m5.1.1.2.cmml">k</mi><mo id="A2.SS1.p4.5.m5.1.1.1" xref="A2.SS1.p4.5.m5.1.1.1.cmml">=</mo><mn id="A2.SS1.p4.5.m5.1.1.3" xref="A2.SS1.p4.5.m5.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p4.5.m5.1b"><apply id="A2.SS1.p4.5.m5.1.1.cmml" xref="A2.SS1.p4.5.m5.1.1"><eq id="A2.SS1.p4.5.m5.1.1.1.cmml" xref="A2.SS1.p4.5.m5.1.1.1"></eq><ci id="A2.SS1.p4.5.m5.1.1.2.cmml" xref="A2.SS1.p4.5.m5.1.1.2">𝑘</ci><cn id="A2.SS1.p4.5.m5.1.1.3.cmml" type="integer" xref="A2.SS1.p4.5.m5.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p4.5.m5.1c">k=5</annotation><annotation encoding="application/x-llamapun" id="A2.SS1.p4.5.m5.1d">italic_k = 5</annotation></semantics></math> for edges, with the edge cost, <math alttext="C_{e}" class="ltx_Math" display="inline" id="A2.SS1.p4.6.m6.1"><semantics id="A2.SS1.p4.6.m6.1a"><msub id="A2.SS1.p4.6.m6.1.1" xref="A2.SS1.p4.6.m6.1.1.cmml"><mi id="A2.SS1.p4.6.m6.1.1.2" xref="A2.SS1.p4.6.m6.1.1.2.cmml">C</mi><mi id="A2.SS1.p4.6.m6.1.1.3" xref="A2.SS1.p4.6.m6.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="A2.SS1.p4.6.m6.1b"><apply id="A2.SS1.p4.6.m6.1.1.cmml" xref="A2.SS1.p4.6.m6.1.1"><csymbol cd="ambiguous" id="A2.SS1.p4.6.m6.1.1.1.cmml" xref="A2.SS1.p4.6.m6.1.1">subscript</csymbol><ci id="A2.SS1.p4.6.m6.1.1.2.cmml" xref="A2.SS1.p4.6.m6.1.1.2">𝐶</ci><ci id="A2.SS1.p4.6.m6.1.1.3.cmml" xref="A2.SS1.p4.6.m6.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p4.6.m6.1c">C_{e}</annotation><annotation encoding="application/x-llamapun" id="A2.SS1.p4.6.m6.1d">italic_C start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>, adjusted to 0.5.
For the <span class="ltx_text ltx_font_typewriter" id="A2.SS1.p4.7.4">ExplaGraphs</span> dataset, which is characterized by a small graph size averaging 5.17 nodes and 4.25 edges (as detailed in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S4.T2" title="Table 2 ‣ 4 Proposed GraphQA Benchmark ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">2</span></a>), the entire graph can fit in the LLM’s context window size. Consequently, we aim to retrieve the whole graph by setting <math alttext="k" class="ltx_Math" display="inline" id="A2.SS1.p4.7.m7.1"><semantics id="A2.SS1.p4.7.m7.1a"><mi id="A2.SS1.p4.7.m7.1.1" xref="A2.SS1.p4.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p4.7.m7.1b"><ci id="A2.SS1.p4.7.m7.1.1.cmml" xref="A2.SS1.p4.7.m7.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p4.7.m7.1c">k</annotation><annotation encoding="application/x-llamapun" id="A2.SS1.p4.7.m7.1d">italic_k</annotation></semantics></math> to 0, effectively returning the original graph unaltered.</p>
</div>
<div class="ltx_para" id="A2.SS1.p5">
<p class="ltx_p" id="A2.SS1.p5.1"><span class="ltx_text ltx_font_bold" id="A2.SS1.p5.1.1">Optimization.</span> We use the AdamW <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib27" title="">27</a>]</cite> optimizer. We set the initial learning rate at 1e-5, with a weight decay of 0.05. The learning rate decays with a half-cycle cosine decay after the warm-up period.
The batch size is 4, and the number of epochs is 10. To prevent overfitting and ensure training efficiency, an early stopping mechanism is implemented with a patience setting of 2 epochs.</p>
</div>
</section>
<section class="ltx_subsection" id="A2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Details of Model Configurations</h3>
<div class="ltx_para" id="A2.SS2.p1">
<p class="ltx_p" id="A2.SS2.p1.1">In our experiments, we consider three model configurations:</p>
</div>
<div class="ltx_para" id="A2.SS2.p2">
<p class="ltx_p" id="A2.SS2.p2.1"><em class="ltx_emph ltx_font_italic" id="A2.SS2.p2.1.1">1) Inference-only</em>: Using a frozen LLM for direct question answering with textual graph and question, see Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.F4" title="Figure 4 ‣ B.2 Details of Model Configurations ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<figure class="ltx_figure" id="A2.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="125" id="A2.F4.g1" src="x5.png" width="296"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A2.F4.3.1.1" style="font-size:90%;">Figure 4</span>: </span><span class="ltx_text" id="A2.F4.4.2" style="font-size:90%;">Model configuration <em class="ltx_emph ltx_font_italic" id="A2.F4.4.2.1">1) Inference-only</em>.</span></figcaption>
</figure>
<div class="ltx_para" id="A2.SS2.p3">
<ul class="ltx_itemize" id="A2.I1">
<li class="ltx_item" id="A2.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i1.p1">
<p class="ltx_p" id="A2.I1.i1.p1.1">Zero-shot. In this approach, the model is given a textual graph description and a task description, and is immediately asked to produce the desired output. No additional examples or demonstrations are provided.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i2.p1">
<p class="ltx_p" id="A2.I1.i2.p1.1">Zero-CoT. Zero-shot Chain-of-thought (Zero-CoT) prompting <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib18" title="">18</a>]</cite> is a follow-up to CoT prompting <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib45" title="">45</a>]</cite>, which introduces an incredibly simple zero shot prompt by appending the words "Let’s think step by step." to the end of a question.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i3.p1">
<p class="ltx_p" id="A2.I1.i3.p1.1">CoT-BAG. Build-a-Graph Prompting (BAG) <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib44" title="">44</a>]</cite> is a prompting technique that adds "Let’s construct a graph with the nodes and edges first." after the textual description of the graph is explicitly given.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i4.p1">
<p class="ltx_p" id="A2.I1.i4.p1.1">KAPING. KAPING <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib1" title="">1</a>]</cite> is a zero-shot knowledge-augmented prompting method for knowledge graph question answering. It first retrieves triples related to the question from the graph, then prepends them to the input question in the form of a prompt, which is then forwarded to LLMs to generate the answer.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="A2.SS2.p4">
<p class="ltx_p" id="A2.SS2.p4.1"><em class="ltx_emph ltx_font_italic" id="A2.SS2.p4.1.1">2) Frozen LLM w/ prompt tuning (PT)</em>: Keeping the parameters of the LLM frozen and adapting only the prompt. This includes soft prompt tuning (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.F5.sf1" title="In Figure 5 ‣ B.2 Details of Model Configurations ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">5(a)</span></a>),
GraphToken <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib31" title="">31</a>]</cite>, which is a graph prompt tuning method, and our <span class="ltx_text ltx_font_italic" id="A2.SS2.p4.1.2">G-Retriever</span> method (see Figure<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.F5.sf2" title="In Figure 5 ‣ B.2 Details of Model Configurations ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">5(b)</span></a>).</p>
</div>
<figure class="ltx_figure" id="A2.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A2.F5.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="347" id="A2.F5.sf1.g1" src="x6.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A2.F5.sf1.2.1.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="A2.F5.sf1.3.2" style="font-size:90%;">Prompt Tuning</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A2.F5.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="347" id="A2.F5.sf2.g1" src="x7.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A2.F5.sf2.3.1.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text ltx_font_italic" id="A2.F5.sf2.4.2" style="font-size:90%;">G-Retriever</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A2.F5.3.1.1" style="font-size:90%;">Figure 5</span>: </span><span class="ltx_text" id="A2.F5.4.2" style="font-size:90%;">Model configuration <em class="ltx_emph ltx_font_italic" id="A2.F5.4.2.1">2) Frozen LLM w/ prompt tuning</em>.</span></figcaption>
</figure>
<div class="ltx_para" id="A2.SS2.p5">
<p class="ltx_p" id="A2.SS2.p5.1"><em class="ltx_emph ltx_font_italic" id="A2.SS2.p5.1.1">3) Tuned LLM</em>: Fine-tuning the LLM with LoRA. This includes standard fine-tuning of an LLM for downstream tasks using LoRA (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.F6.sf1" title="In Figure 6 ‣ B.2 Details of Model Configurations ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">6(a)</span></a>) and G-Retriever with LoRA (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.F6.sf2" title="In Figure 6 ‣ B.2 Details of Model Configurations ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">6(b)</span></a>).</p>
</div>
<figure class="ltx_figure" id="A2.F6">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A2.F6.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="350" id="A2.F6.sf1.g1" src="x8.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A2.F6.sf1.2.1.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="A2.F6.sf1.3.2" style="font-size:90%;">LoRA</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A2.F6.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="349" id="A2.F6.sf2.g1" src="x9.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A2.F6.sf2.3.1.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text ltx_font_italic" id="A2.F6.sf2.4.2" style="font-size:90%;">G-Retriever<span class="ltx_text ltx_font_upright" id="A2.F6.sf2.4.2.1"> w/ LoRA</span></span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A2.F6.3.1.1" style="font-size:90%;">Figure 6</span>: </span><span class="ltx_text" id="A2.F6.4.2" style="font-size:90%;">Model configuration <em class="ltx_emph ltx_font_italic" id="A2.F6.4.2.1">3) Tuned LLM</em>.</span></figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>Details of Ablation Study</h3>
<div class="ltx_para" id="A2.SS3.p1">
<p class="ltx_p" id="A2.SS3.p1.1">This section illustrates the modifications made to the original architecture in the ablation study, as presented in Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.F7" title="Figure 7 ‣ B.3 Details of Ablation Study ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
<div class="ltx_para" id="A2.SS3.p2">
<p class="ltx_p" id="A2.SS3.p2.1"><span class="ltx_text ltx_font_bold" id="A2.SS3.p2.1.1">Without Graph Encoder (w/o GraphEncoder):</span> In this setting, we replaced the graph encoder with trainable soft tokens, setting the number of these virtual tokens to 10.</p>
</div>
<div class="ltx_para" id="A2.SS3.p3">
<p class="ltx_p" id="A2.SS3.p3.1"><span class="ltx_text ltx_font_bold" id="A2.SS3.p3.1.1">Without Projection Layer (w/o Projection Layer):</span> Here, we removed the projection layer following the graph encoder. We configured the output dimension of the graph encoder to be 4,096, matching the hidden dimension of Llama2-7b. This allows the output graph token (the yellow token in Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.F7.sf2" title="In Figure 7 ‣ B.3 Details of Ablation Study ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">7(b)</span></a>) to be concatenated directly with the LLM tokens (blue tokens).</p>
</div>
<div class="ltx_para" id="A2.SS3.p4">
<p class="ltx_p" id="A2.SS3.p4.1"><span class="ltx_text ltx_font_bold" id="A2.SS3.p4.1.1">Without Textualized Graph (w/o Textualized Graph):</span> In this configuration, we modified the textual input to the LLM. Rather than using a combination of the question and the textualized graph, we solely used the question.</p>
</div>
<figure class="ltx_figure" id="A2.F7">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A2.F7.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="349" id="A2.F7.sf1.g1" src="x10.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A2.F7.sf1.2.1.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="A2.F7.sf1.3.2" style="font-size:90%;">w/o GraphEncoder</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A2.F7.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="349" id="A2.F7.sf2.g1" src="x11.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A2.F7.sf2.2.1.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text" id="A2.F7.sf2.3.2" style="font-size:90%;">w/o Projection Layer</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A2.F7.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="349" id="A2.F7.sf3.g1" src="x12.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A2.F7.sf3.2.1.1" style="font-size:90%;">(c)</span> </span><span class="ltx_text" id="A2.F7.sf3.3.2" style="font-size:90%;">w/o Textualized Graph</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A2.F7.2.1.1" style="font-size:90%;">Figure 7</span>: </span><span class="ltx_text" id="A2.F7.3.2" style="font-size:90%;">Ablation study configurations.</span></figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A2.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.4 </span>The Choice of Graph Encoder</h3>
<div class="ltx_para" id="A2.SS4.p1">
<p class="ltx_p" id="A2.SS4.p1.1">In addition to the Graph Transformer <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib37" title="">37</a>]</cite>,
we explore other GNNs as the graph encoder, such as GCN <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib17" title="">17</a>]</cite> and the GAT <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib43" title="">43</a>]</cite>. The comparative results of these models on the <span class="ltx_text ltx_font_typewriter" id="A2.SS4.p1.1.1">WebQSP</span> and <span class="ltx_text ltx_font_typewriter" id="A2.SS4.p1.1.2">ExplaGraphs</span> datasets are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.T7" title="Table 7 ‣ B.4 The Choice of Graph Encoder ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
<figure class="ltx_table" id="A2.T7">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 7: </span>Performance of different graph encoders on the <span class="ltx_text ltx_font_typewriter" id="A2.T7.8.1">WebQSP</span> and <span class="ltx_text ltx_font_typewriter" id="A2.T7.9.2">ExplaGraphs</span> datasets.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T7.10">
<tr class="ltx_tr" id="A2.T7.10.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A2.T7.10.1.1"><span class="ltx_text" id="A2.T7.10.1.1.1" style="font-size:90%;">Graph Encoder</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T7.10.1.2"><span class="ltx_text ltx_font_typewriter" id="A2.T7.10.1.2.1" style="font-size:90%;">WebQSP</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T7.10.1.3"><span class="ltx_text ltx_font_typewriter" id="A2.T7.10.1.3.1" style="font-size:90%;">ExplaGraphs</span></td>
</tr>
<tr class="ltx_tr" id="A2.T7.10.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="A2.T7.10.2.1">
<span class="ltx_text" id="A2.T7.10.2.1.1" style="font-size:90%;">GCN </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="A2.T7.10.2.1.2.1" style="font-size:90%;">[</span><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib17" title="">17</a><span class="ltx_text" id="A2.T7.10.2.1.3.2" style="font-size:90%;">]</span></cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T7.10.2.2"><span class="ltx_text" id="A2.T7.10.2.2.1" style="font-size:90%;">70.70</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T7.10.2.3"><span class="ltx_text" id="A2.T7.10.2.3.1" style="font-size:90%;">0.8394</span></td>
</tr>
<tr class="ltx_tr" id="A2.T7.10.3">
<td class="ltx_td ltx_align_left" id="A2.T7.10.3.1">
<span class="ltx_text" id="A2.T7.10.3.1.1" style="font-size:90%;">GAT </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="A2.T7.10.3.1.2.1" style="font-size:90%;">[</span><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib43" title="">43</a><span class="ltx_text" id="A2.T7.10.3.1.3.2" style="font-size:90%;">]</span></cite>
</td>
<td class="ltx_td ltx_align_center" id="A2.T7.10.3.2"><span class="ltx_text" id="A2.T7.10.3.2.1" style="font-size:90%;">70.27</span></td>
<td class="ltx_td ltx_align_center" id="A2.T7.10.3.3"><span class="ltx_text" id="A2.T7.10.3.3.1" style="font-size:90%;">0.8430</span></td>
</tr>
<tr class="ltx_tr" id="A2.T7.10.4">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A2.T7.10.4.1">
<span class="ltx_text" id="A2.T7.10.4.1.1" style="font-size:90%;">Graph Transformer </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text" id="A2.T7.10.4.1.2.1" style="font-size:90%;">[</span><a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib37" title="">37</a><span class="ltx_text" id="A2.T7.10.4.1.3.2" style="font-size:90%;">]</span></cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T7.10.4.2"><span class="ltx_text" id="A2.T7.10.4.2.1" style="font-size:90%;">70.49</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T7.10.4.3"><span class="ltx_text" id="A2.T7.10.4.3.1" style="font-size:90%;">0.8516</span></td>
</tr>
</table>
</figure>
<div class="ltx_para" id="A2.SS4.p2">
<p class="ltx_p" id="A2.SS4.p2.1">The results demonstrate that our proposed method exhibits consistent robustness across different graph encoders. Notably, all three encoders – GCN, GAT, and GraphTransformer – demonstrate competitive and closely aligned performance on the <span class="ltx_text ltx_font_typewriter" id="A2.SS4.p2.1.1">WebQSP</span> dataset, with Hit@1 scores of 70.70, 70.27, and 70.49, respectively. However, the performance differentiation becomes more pronounced on the <span class="ltx_text ltx_font_typewriter" id="A2.SS4.p2.1.2">ExplaGraphs</span> dataset, where GraphTransformer exhibits a superior Hit@1 score of 0.8516, followed by GAT and GCN with scores of 0.8430 and 0.8394, respectively. This variation in performance across the datasets highlights the importance of encoder selection based on the specific characteristics and requirements of the dataset.</p>
</div>
</section>
<section class="ltx_subsection" id="A2.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.5 </span>The Choice of LLM</h3>
<div class="ltx_para" id="A2.SS5.p1">
<p class="ltx_p" id="A2.SS5.p1.1">As for the choice of LLM, we considered both Llama2-7b and Llama2-13b. Our experiments demonstrate that stronger LLMs enhance the effectiveness of our method, as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A2.T8" title="Table 8 ‣ B.5 The Choice of LLM ‣ Appendix B Experiment ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">8</span></a>, indicating that it benefits from the increased scale of the LLMs.</p>
</div>
<figure class="ltx_table" id="A2.T8">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A2.T8.3.1.1" style="font-size:90%;">Table 8</span>: </span><span class="ltx_text" id="A2.T8.4.2" style="font-size:90%;">Performance of different LLMs on the <span class="ltx_text ltx_font_typewriter" id="A2.T8.4.2.1">WebQSP</span> dataset.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T8.5">
<tr class="ltx_tr" id="A2.T8.5.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A2.T8.5.1.1">LLM</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T8.5.1.2">Llama2-7b</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T8.5.1.3">Llama2-13b</td>
</tr>
<tr class="ltx_tr" id="A2.T8.5.2">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A2.T8.5.2.1">Hit@1</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A2.T8.5.2.2">70.49</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A2.T8.5.2.3">75.58</td>
</tr>
</table>
</figure>
</section>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>GraphQA Benchmark</h2>
<figure class="ltx_table" id="A3.T9">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A3.T9.2.1.1" style="font-size:90%;">Table 9</span>: </span><span class="ltx_text" id="A3.T9.3.2" style="font-size:90%;">Comparison of text formats in original datasets and our GraphQA benchmark.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A3.T9.4">
<tr class="ltx_tr" id="A3.T9.4.1">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="A3.T9.4.1.1" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="A3.T9.4.1.1.1">
<span class="ltx_p" id="A3.T9.4.1.1.1.1"><span class="ltx_text" id="A3.T9.4.1.1.1.1.1" style="font-size:50%;">Dataset</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="A3.T9.4.1.2" style="width:199.2pt;">
<span class="ltx_inline-block ltx_align_top" id="A3.T9.4.1.2.1">
<span class="ltx_p" id="A3.T9.4.1.2.1.1"><span class="ltx_text" id="A3.T9.4.1.2.1.1.1" style="font-size:50%;">Original dataset</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="A3.T9.4.1.3" style="width:199.2pt;">
<span class="ltx_inline-block ltx_align_top" id="A3.T9.4.1.3.1">
<span class="ltx_p" id="A3.T9.4.1.3.1.1"><span class="ltx_text" id="A3.T9.4.1.3.1.1.1" style="font-size:50%;">GraphQA Benmark</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T9.4.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A3.T9.4.2.1" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="A3.T9.4.2.1.1">
<span class="ltx_p" id="A3.T9.4.2.1.1.1"><span class="ltx_text ltx_font_typewriter" id="A3.T9.4.2.1.1.1.1" style="font-size:50%;">ExplaGraphs</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A3.T9.4.2.2" style="width:199.2pt;">
<span class="ltx_inline-block ltx_align_top" id="A3.T9.4.2.2.1">
<span class="ltx_p" id="A3.T9.4.2.2.1.1"><span class="ltx_text" id="A3.T9.4.2.2.1.1.1" style="font-size:50%;">(entrapment; capable of; being abused)
(being abused; created by; police)
(police; capable of; harm)
(harm; used for; people)
(people; part of; citizens)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A3.T9.4.2.3" style="width:199.2pt;">
<span class="ltx_inline-block ltx_align_top" id="A3.T9.4.2.3.1">
<span class="ltx_p" id="A3.T9.4.2.3.1.1"><span class="ltx_text" id="A3.T9.4.2.3.1.1.1" style="font-size:50%;">node_id,node_attr</span><span class="ltx_text" id="A3.T9.4.2.3.1.1.2" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.2.3.1.1.3" style="font-size:50%;">0,entrapment</span><span class="ltx_text" id="A3.T9.4.2.3.1.1.4" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.2.3.1.1.5" style="font-size:50%;">1,being abused</span><span class="ltx_text" id="A3.T9.4.2.3.1.1.6" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.2.3.1.1.7" style="font-size:50%;">2,police</span><span class="ltx_text" id="A3.T9.4.2.3.1.1.8" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.2.3.1.1.9" style="font-size:50%;">3,harm</span><span class="ltx_text" id="A3.T9.4.2.3.1.1.10" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.2.3.1.1.11" style="font-size:50%;">4,people</span><span class="ltx_text" id="A3.T9.4.2.3.1.1.12" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.2.3.1.1.13" style="font-size:50%;">5,citizens</span><span class="ltx_text" id="A3.T9.4.2.3.1.1.14" style="font-size:50%;color:#808080;">\n</span></span>
<span class="ltx_p" id="A3.T9.4.2.3.1.2"><span class="ltx_text" id="A3.T9.4.2.3.1.2.1" style="font-size:50%;">src,edge_attr,dst</span><span class="ltx_text" id="A3.T9.4.2.3.1.2.2" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.2.3.1.2.3" style="font-size:50%;">0,capable of,1</span><span class="ltx_text" id="A3.T9.4.2.3.1.2.4" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.2.3.1.2.5" style="font-size:50%;">1,created by,2</span><span class="ltx_text" id="A3.T9.4.2.3.1.2.6" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.2.3.1.2.7" style="font-size:50%;">2,capable of,3</span><span class="ltx_text" id="A3.T9.4.2.3.1.2.8" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.2.3.1.2.9" style="font-size:50%;">3,used for,4</span><span class="ltx_text" id="A3.T9.4.2.3.1.2.10" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.2.3.1.2.11" style="font-size:50%;">4,part of,5</span><span class="ltx_text" id="A3.T9.4.2.3.1.2.12" style="font-size:50%;color:#808080;">\n</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T9.4.3">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A3.T9.4.3.1" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="A3.T9.4.3.1.1">
<span class="ltx_p" id="A3.T9.4.3.1.1.1"><span class="ltx_text ltx_font_typewriter" id="A3.T9.4.3.1.1.1.1" style="font-size:50%;">SceneGraphs</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A3.T9.4.3.2" style="width:199.2pt;">
<span class="ltx_inline-block ltx_align_top" id="A3.T9.4.3.2.1">
<span class="ltx_p" id="A3.T9.4.3.2.1.1"><span class="ltx_text" id="A3.T9.4.3.2.1.1.1" style="font-size:50%;">"width": 500, "objects": "681267": "name": "banana", "h": 34, "relations": ["object": "681262", "name": "to the left of"], "w": 64, "attributes": ["small", "yellow"], "y": 55, "x": 248, "681265": "name": "spots", "h": 16, "relations": [], "w": 26, "attributes": [], "y": 92, "x": 245, "681264": "name": "bananas", "h": 50, "relations": ["object": "681259", "name": "to the left of"], "w": 49, "attributes": ["small", "yellow"], "y": 32, "x": 268, "681263": "name": "picnic", "h": 374, "relations": [], "w": 499, "attributes": ["delicious"], "y": 0, "x": 0, "681262": "name": "straw", "h": 95, "relations": ["object": "681268", "name": "to the right of", "object": "681267", "name": "to the right of", "object": "681253", "name": "to the right of"], "w": 15, "attributes": ["white", "plastic"], "y": 55, "x": 402, "681261": "name": "meat", "h": 27, "relations": ["object": "681255", "name": "on", "object": "681255", "name": "inside"], "w": 24, "attributes": ["small", "brown", "delicious"], "y": 123, "x": 68, "681260": "name": "rice", "h": 57, "relations": ["object": "681255", "name": "on", "object": "681258", "name": "to the left of"], "w": 93, "attributes": ["piled", "white"], "y": 162, "x": 57, "681269": "name": "onions", "h": 16, "relations": [], "w": 24, "attributes": ["green"], "y": 147, "x": 90, "681268": "name": "tablecloth", "h": 374, "relations": ["object": "681262", "name": "to the left of"], "w": 396, "attributes": ["white"], "y": 0, "x": 0, "681258": "name": "bowl", "h": 99, "relations": ["object": "681255", "name": "next to", "object": "681257", "name": "of", "object": "681255", "name": "near", "object": "681256", "name": "to the right of", "object": "681260", "name": "to the right of", "object": "681255", "name": "to the right of"], "w": 115, "attributes": ["full"], "y": 184, "x": 178, "681259": "name": "plantains", "h": 70, "relations": ["object": "681264", "name": "to the right of"], "w": 45, "attributes": ["red"], "y": 0, "x": 346, "681256": "name": "spoon", "h": 65, "relations": ["object": "681255", "name": "on", "object": "681257", "name": "to the left of", "object": "681255", "name": "in", "object": "681258", "name": "to the left of"], "w": 140, "attributes": ["large", "metal", "silver"], "y": 196, "x": 0, "681257": "name": "dish", "h": 81, "relations": ["object": "681258", "name": "inside", "object": "681256", "name": "to the right of", "object": "681258", "name": "in", "object": "681255", "name": "to the right of"], "w": 108, "attributes": ["cream colored"], "y": 199, "x": 187, "681254": "name": "meal", "h": 111, "relations": [], "w": 130, "attributes": [], "y": 121, "x": 58, "681255": "name": "plate", "h": 138, "relations": ["object": "681257", "name": "to the left of", "object": "681254", "name": "of", "object": "681254", "name": "with", "object": "681258", "name": "near", "object": "681258", "name": "to the left of"], "w": 176, "attributes": ["white", "full"], "y": 111, "x": 30, "681253": "name": "banana", "h": 30, "relations": ["object": "681262", "name": "to the left of"], "w": 73, "attributes": ["small", "yellow"], "y": 87, "x": 237, "height": 375</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A3.T9.4.3.3" style="width:199.2pt;">
<span class="ltx_inline-block ltx_align_top" id="A3.T9.4.3.3.1">
<span class="ltx_p" id="A3.T9.4.3.3.1.1"><span class="ltx_text" id="A3.T9.4.3.3.1.1.1" style="font-size:50%;">node_id,node_attr</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.2" style="font-size:50%;">0,"name: banana; attribute: small, yellow; (x,y,w,h): (248, 55, 64, 34)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.3" style="font-size:50%;">1,"name: spots; (x,y,w,h): (245, 92, 26, 16)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.4" style="font-size:50%;">2,"name: bananas; attribute: small, yellow; (x,y,w,h): (268, 32, 49, 50)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.5" style="font-size:50%;">3,"name: picnic; attribute: delicious; (x,y,w,h): (0, 0, 499, 374)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.6" style="font-size:50%;">4,"name: straw; attribute: white, plastic; (x,y,w,h): (402, 55, 15, 95)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.7" style="font-size:50%;">5,"name: meat; attribute: small, brown, delicious; (x,y,w,h): (68, 123, 24, 27)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.8" style="font-size:50%;">6,"name: rice; attribute: piled, white; (x,y,w,h): (57, 162, 93, 57)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.9" style="font-size:50%;">7,"name: onions; attribute: green; (x,y,w,h): (90, 147, 24, 16)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.10" style="font-size:50%;">8,"name: tablecloth; attribute: white; (x,y,w,h): (0, 0, 396, 374)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.11" style="font-size:50%;">9,"name: bowl; attribute: full; (x,y,w,h): (178, 184, 115, 99)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.12" style="font-size:50%;">10,"name: plantains; attribute: red; (x,y,w,h): (346, 0, 45, 70)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.13" style="font-size:50%;">11,"name: spoon; attribute: large, metal, silver; (x,y,w,h): (0, 196, 140, 65)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.14" style="font-size:50%;">12,"name: dish; attribute: cream colored; (x,y,w,h): (187, 199, 108, 81)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.15" style="font-size:50%;">13,"name: meal; (x,y,w,h): (58, 121, 130, 111)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.16" style="font-size:50%;">14,"name: plate; attribute: white, full; (x,y,w,h): (30, 111, 176, 138)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.17" style="font-size:50%;">15,"name: banana; attribute: small, yellow; (x,y,w,h): (237, 87, 73, 30)"</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.18" style="font-size:50%;">src,edge_attr,dst</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.3.3.1.1.19" style="font-size:50%;">0,to the left of,4</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.20" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.21" style="font-size:50%;">2,to the left of,10</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.22" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.23" style="font-size:50%;">4,to the right of,8</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.24" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.25" style="font-size:50%;">4,to the right of,0</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.26" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.27" style="font-size:50%;">4,to the right of,15</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.28" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.29" style="font-size:50%;">5,on,14</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.30" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.31" style="font-size:50%;">5,inside,14</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.32" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.33" style="font-size:50%;">6,on,14</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.34" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.35" style="font-size:50%;">6,to the left of,9</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.36" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.37" style="font-size:50%;">8,to the left of,4</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.38" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.39" style="font-size:50%;">9,next to,14</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.40" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.41" style="font-size:50%;">9,of,12</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.42" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.43" style="font-size:50%;">9,near,14</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.44" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.45" style="font-size:50%;">9,to the right of,11</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.46" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.47" style="font-size:50%;">9,to the right of,6</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.48" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.49" style="font-size:50%;">9,to the right of,14</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.50" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.51" style="font-size:50%;">10,to the right of,2</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.52" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.53" style="font-size:50%;">11,on,14</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.54" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.55" style="font-size:50%;">11,to the left of,12</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.56" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.57" style="font-size:50%;">11,in,14</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.58" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.59" style="font-size:50%;">11,to the left of,9</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.60" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.61" style="font-size:50%;">12,inside,9</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.62" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.63" style="font-size:50%;">12,to the right of,11</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.64" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.65" style="font-size:50%;">12,in,9</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.66" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.67" style="font-size:50%;">12,to the right of,14</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.68" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.69" style="font-size:50%;">14,to the left of,12</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.70" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.71" style="font-size:50%;">14,of,13</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.72" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.73" style="font-size:50%;">14,with,13</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.74" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.75" style="font-size:50%;">14,near,9</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.76" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.77" style="font-size:50%;">14,to the left of,9</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.78" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.3.3.1.1.79" style="font-size:50%;">15,to the left of,4</span><span class="ltx_text" id="A3.T9.4.3.3.1.1.80" style="font-size:50%;color:#808080;">\n</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T9.4.4">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb ltx_border_t" id="A3.T9.4.4.1" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="A3.T9.4.4.1.1">
<span class="ltx_p" id="A3.T9.4.4.1.1.1"><span class="ltx_text ltx_font_typewriter" id="A3.T9.4.4.1.1.1.1" style="font-size:50%;">WebQSP</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb ltx_border_t" id="A3.T9.4.4.2" style="width:199.2pt;">
<span class="ltx_inline-block ltx_align_top" id="A3.T9.4.4.2.1">
<span class="ltx_p" id="A3.T9.4.4.2.1.1"><span class="ltx_text" id="A3.T9.4.4.2.1.1.1" style="font-size:50%;">[[’FedEx Cup’, ’sports.sports_award_type.winners’, ’m.0n1v8cy’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.2" style="font-size:50%;">[’Brandt Snedeker’, ’sports.sports_award_winner.awards’, ’m.0n1v8cy’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.3" style="font-size:50%;">[’FedEx Cup’, ’common.topic.article’, ’m.08q5wy’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.4" style="font-size:50%;">[’FedEx Cup’, ’common.topic.notable_for’, ’g.12559n8g_’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.5" style="font-size:50%;">[’Sports League Award Type’, ’freebase.type_profile.published’, ’Published’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.6" style="font-size:50%;">[’FedEx Cup’, ’common.topic.notable_types’, ’Sports League Award Type’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.7" style="font-size:50%;">[’m.0n1v8cy’, ’sports.sports_award.award_winner’, ’Brandt Snedeker’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.8" style="font-size:50%;">[’Sports League Award Type’, ’type.type.expected_by’, ’Award’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.9" style="font-size:50%;">[’Sports League Award Type’, ’common.topic.article’, ’m.06zxtxj’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.10" style="font-size:50%;">[’2012 PGA Tour’, ’sports.sports_league_season.awards’, ’m.0n1v8cy’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.11" style="font-size:50%;">[’Sports League Award Type’, ’freebase.type_hints.included_types’, ’Topic’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.12" style="font-size:50%;">[’Sports League Award Type’, ’type.type.domain’, ’Sports’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.13" style="font-size:50%;">[’m.0n1v8cy’, ’sports.sports_award.award’, ’FedEx Cup’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.14" style="font-size:50%;">[’Sports League Award Type’,
’freebase.type_profile.strict_included_types’,
’Topic’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.15" style="font-size:50%;">[’Sports League Award Type’, ’freebase.type_profile.kind’, ’Classification’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.16" style="font-size:50%;">[’m.0n1v8cy’, ’sports.sports_award.season’, ’2012 PGA Tour’],</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.2.1.1.17" style="font-size:50%;">[’Sports League Award Type’, ’type.type.properties’, ’Winners’]]</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb ltx_border_t" id="A3.T9.4.4.3" style="width:199.2pt;">
<span class="ltx_inline-block ltx_align_top" id="A3.T9.4.4.3.1">
<span class="ltx_p" id="A3.T9.4.4.3.1.1"><span class="ltx_text" id="A3.T9.4.4.3.1.1.1" style="font-size:50%;">node_id,node_attr</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.2" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.3" style="font-size:50%;">0,fedex cup</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.4" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.5" style="font-size:50%;">1,m.0n1v8cy</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.6" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.7" style="font-size:50%;">2,brandt snedeker</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.8" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.9" style="font-size:50%;">3,m.08q5wy</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.10" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.11" style="font-size:50%;">4,g.12559n8g_</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.12" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.13" style="font-size:50%;">5,sports league award type</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.14" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.15" style="font-size:50%;">6,published</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.16" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.17" style="font-size:50%;">7,award</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.18" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.19" style="font-size:50%;">8,m.06zxtxj</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.20" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.21" style="font-size:50%;">9,2012 pga tour</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.22" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.23" style="font-size:50%;">10,topic</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.24" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.25" style="font-size:50%;">11,sports</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.26" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.27" style="font-size:50%;">12,classification</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.28" style="font-size:50%;color:#808080;">\n </span><span class="ltx_text" id="A3.T9.4.4.3.1.1.29" style="font-size:50%;">13,winners</span><span class="ltx_text" id="A3.T9.4.4.3.1.1.30" style="font-size:50%;color:#808080;">\n</span></span>
<span class="ltx_p" id="A3.T9.4.4.3.1.2"><span class="ltx_text" id="A3.T9.4.4.3.1.2.1" style="font-size:50%;">src,edge_attr,dst</span></span>
<span class="ltx_p" id="A3.T9.4.4.3.1.3"><span class="ltx_text" id="A3.T9.4.4.3.1.3.1" style="font-size:50%;">0,sports.sports_award_type.winners,1</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.2" style="font-size:50%;">2,sports.sports_award_winner.awards,1</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.3" style="font-size:50%;">0,common.topic.article,3</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.4" style="font-size:50%;">0,common.topic.notable_for,4</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.5" style="font-size:50%;">5,freebase.type_profile.published,6</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.6" style="font-size:50%;">0,common.topic.notable_types,5</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.7" style="font-size:50%;">1,sports.sports_award.award_winner,2</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.8" style="font-size:50%;">5,type.type.expected_by,7</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.9" style="font-size:50%;">5,common.topic.article,8</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.10" style="font-size:50%;">9,sports.sports_league_season.awards,1</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.11" style="font-size:50%;">5,freebase.type_hints.included_types,10</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.12" style="font-size:50%;">5,type.type.domain,11</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.13" style="font-size:50%;">1,sports.sports_award.award,0</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.14" style="font-size:50%;">5,freebase.type_profile.strict_included_types,10</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.15" style="font-size:50%;">5,freebase.type_profile.kind,12</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.16" style="font-size:50%;">1,sports.sports_award.season,9</span>
<br class="ltx_break"/><span class="ltx_text" id="A3.T9.4.4.3.1.3.17" style="font-size:50%;">5,type.type.properties,13</span></span>
</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">In this section, we detail how our GraphQA benchmark differs from the original datasets, including the specific processing steps we employed. For concrete examples that illustrate the differences between the raw text in the original dataset and in our GraphQA benchmark, please refer to Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A3.T9" title="Table 9 ‣ Appendix C GraphQA Benchmark ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">9</span></a>.</p>
</div>
<div class="ltx_para" id="A3.p2">
<p class="ltx_p" id="A3.p2.1"><span class="ltx_text ltx_font_typewriter" id="A3.p2.1.1">ExplaGraphs</span>. The original dataset<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>https://explagraphs.github.io/</span></span></span> <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib35" title="">35</a>]</cite> represents relationships using triplets. We have standardized this format by converting the triplets into a graph representation. Specifically, each head and tail in a triplet is transformed into a node, and the relation is transformed into an edge. Since the test dataset labels are not available, we have utilized only the training and validation (val) datasets from the original collection. We further divided these into training, val, and test subsets, using a 6:2:2 ratio.</p>
</div>
<div class="ltx_para" id="A3.p3">
<p class="ltx_p" id="A3.p3.1"><span class="ltx_text ltx_font_typewriter" id="A3.p3.1.1">SceneGraphs</span>. The original GQA dataset is designed for real-world visual reasoning and compositional question answering, aiming to address key shortcomings of previous VQA datasets <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib13" title="">13</a>]</cite>. It comprises 108k images, each associated with a Scene Graph. In our study, we focus differently on graph question answering; hence, we did not utilize the image counterparts, leveraging only the scene graphs from the original dataset. Additionally, the original dataset describes images using JSON files. We simplified the object IDs to suit our research needs. We randomly sampled 100k samples from the original dataset and divided them into training, validation, and test subsets, following a 6:2:2 ratio.</p>
</div>
<div class="ltx_para" id="A3.p4">
<p class="ltx_p" id="A3.p4.1"><span class="ltx_text ltx_font_typewriter" id="A3.p4.1.1">WebQSP</span>. We follow the preprocessing steps from RoG<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>https://huggingface.co/datasets/rmanluo/RoG-webqsp</span></span></span> <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib28" title="">28</a>]</cite>. The original dataset uses a list of triplets format, which we have transformed into our unified graph format. Furthermore, to avoid discrimination between capital and lowercase words, we have converted all words to lowercase. We used the same dataset split as in the original dataset.</p>
</div>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Graph Retrieval-Augmented Generation (GraphRAG)</h2>
<section class="ltx_subsection" id="A4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.1 </span>Comparison with Existing GraphRAG Methods</h3>
<div class="ltx_para" id="A4.SS1.p1">
<p class="ltx_p" id="A4.SS1.p1.1">Most existing GraphRAG methods are designed specifically for knowledge graphs and focus on node, edge, or triples-level retrieval <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib1" title="">1</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib36" title="">36</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib16" title="">16</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib38" title="">38</a>]</cite>. Our method is different in two main ways: 1) It focuses on more general textual graphs, not just knowledge graphs. 2) It enables the return of a subgraph most closely related to a query, rather than a list of top-k triples. The triples in other methods are chosen in isolation from the graph, failing to capture neighborhood information effectively. In contrast, our method takes the context into account during retrieval.</p>
</div>
</section>
<section class="ltx_subsection" id="A4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.2 </span>The Impact of K for Retrieval</h3>
<div class="ltx_para" id="A4.SS2.p1">
<p class="ltx_p" id="A4.SS2.p1.1">We identify the most relevant nodes and edges and use a k-nearest neighbors retrieval approach (see Equation <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S5.E6" title="In 5.3 Subgraph Construction ‣ 5 G-Retriever ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">6</span></a>). Small k values may omit crucial knowledge or information relevant to the query, while large k values could introduce excessive information, distracting the model from the essential details. To evaluate the impact of the number of k, we have conducted additional experiments by varying the choice of k to 3, 5, 10, and 20.</p>
</div>
<figure class="ltx_table" id="A4.T10">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A4.T10.3.1.1" style="font-size:90%;">Table 10</span>: </span><span class="ltx_text" id="A4.T10.4.2" style="font-size:90%;">The impact of k on the <span class="ltx_text ltx_font_typewriter" id="A4.T10.4.2.1">webqsp</span> dataset.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A4.T10.5">
<tr class="ltx_tr" id="A4.T10.5.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A4.T10.5.1.1">k</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T10.5.1.2">3</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T10.5.1.3">5</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T10.5.1.4">10</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T10.5.1.5">20</td>
</tr>
<tr class="ltx_tr" id="A4.T10.5.2">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A4.T10.5.2.1">Hit@1</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A4.T10.5.2.2">0.6977</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A4.T10.5.2.3">0.7063</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A4.T10.5.2.4">0.7248</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A4.T10.5.2.5">0.7039</td>
</tr>
</table>
</figure>
<div class="ltx_para" id="A4.SS2.p2">
<p class="ltx_p" id="A4.SS2.p2.1">As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A4.T10" title="Table 10 ‣ D.2 The Impact of K for Retrieval ‣ Appendix D Graph Retrieval-Augmented Generation (GraphRAG) ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">10</span></a>, the Hit@1 metric initially rises for small k values, peaks at a certain point, and then declines for large k values. Determining the optimal k value can be achieved through techniques like cross-validation using a validation set.</p>
</div>
</section>
<section class="ltx_subsection" id="A4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.3 </span>The Choice of Similarity Function</h3>
<div class="ltx_para" id="A4.SS3.p1">
<p class="ltx_p" id="A4.SS3.p1.1">The choice of similarity function is also important. In this work, we use cosine similarity, a widely adopted metric for measuring vector similarity in models that process vision and language. For instance, CLIP also employs cosine similarity to assess the similarity between text and image features. Although it might not be the optimal choice, we believe that cosine similarity is a general, representative, and valid choice for facilitating fast retrieval tasks.</p>
</div>
</section>
<section class="ltx_subsection" id="A4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.4 </span>The Quality of Retrieval</h3>
<div class="ltx_para" id="A4.SS4.p1">
<p class="ltx_p" id="A4.SS4.p1.1">We quantify the quality of our retrieval method as follows: We examine the retrieval subgraph, and if the label is contained within it, we consider it a successful retrieval. We calculate the retrieval success rate of our method and the retrieval method proposed in KAPING <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib1" title="">1</a>]</cite> on the WebQSP dataset.</p>
</div>
<figure class="ltx_table" id="A4.T11">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A4.T11.3.1.1" style="font-size:90%;">Table 11</span>: </span><span class="ltx_text" id="A4.T11.4.2" style="font-size:90%;">The quality of retrieval methods on the <span class="ltx_text ltx_font_typewriter" id="A4.T11.4.2.1">WebQSP</span> dataset.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A4.T11.5">
<tr class="ltx_tr" id="A4.T11.5.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A4.T11.5.1.1">Method</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T11.5.1.2">Retrieval Accuracy</td>
</tr>
<tr class="ltx_tr" id="A4.T11.5.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T11.5.2.1">KAPING <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib1" title="">1</a>]</cite> (top-k triple retrieval)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T11.5.2.2">60.81</td>
</tr>
<tr class="ltx_tr" id="A4.T11.5.3">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A4.T11.5.3.1"><span class="ltx_text ltx_font_italic" id="A4.T11.5.3.1.1">G-Retriever</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T11.5.3.2">70.49</td>
</tr>
</table>
</figure>
<div class="ltx_para" id="A4.SS4.p2">
<p class="ltx_p" id="A4.SS4.p2.1">As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A4.T11" title="Table 11 ‣ D.4 The Quality of Retrieval ‣ Appendix D Graph Retrieval-Augmented Generation (GraphRAG) ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">11</span></a>, these results validate the effectiveness of our retrieval method. In contrast to the triple-based retrieval in KAPING, which relies on the similarity between triples and the query, our PCST-based subgraph retrieval is more accurate as it takes the graph structure into account. By design, it retrieves connected subgraphs, capturing not just nodes or edges with high relevance scores, but also those that act as "bridges" connecting other highly relevant nodes and edges.</p>
</div>
</section>
</section>
<section class="ltx_appendix" id="A5">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Discussion on the Complexity</h2>
<section class="ltx_subsection" id="A5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">E.1 </span>The integration of GNNs, LLMs and GraphRAG</h3>
<div class="ltx_para" id="A5.SS1.p1">
<p class="ltx_p" id="A5.SS1.p1.1"><span class="ltx_text ltx_font_italic" id="A5.SS1.p1.1.1">G-Retriever</span> is framework integrate the strengths of GNNs, LLMs and GraphRAG. The LLM+X framework, which involves enriching LLMs with multi-modal capabilities by integrating an LLM with an encoder from another modality, is a widely adopted approach. Notable examples include Llava, MiniGPT-4, and Flamingo, among others. They are not complex in terms of understanding or implementation. Regarding the integration of GraphRAG, it does not require training and can be implemented during the preprocessing stage or on the fly. This approach does not significantly increase time complexity or computational complexity. On the contrary, it can substantially reduce the size of the graph (<em class="ltx_emph ltx_font_italic" id="A5.SS1.p1.1.2">e.g.,</em> eliminating 99% of nodes in the <span class="ltx_text ltx_font_typewriter" id="A5.SS1.p1.1.3">WebQSP</span> dataset), which in turn speeds up the overall running time (<em class="ltx_emph ltx_font_italic" id="A5.SS1.p1.1.4">e.g.,</em> reducing it from 18.7 min/epoch to 6.2 min/epoch on the <span class="ltx_text ltx_font_typewriter" id="A5.SS1.p1.1.5">WebQSP</span> dataset).</p>
</div>
</section>
<section class="ltx_subsection" id="A5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">E.2 </span>Computational Resources</h3>
<div class="ltx_para" id="A5.SS2.p1">
<p class="ltx_p" id="A5.SS2.p1.1">Utilizing two A100 GPUs, each with 80GB of memory, we conducted tests on Llama2-7b and <span class="ltx_text ltx_font_typewriter" id="A5.SS2.p1.1.1">WebQSP</span> datasets. Our experiments had a training batch size of 16 and an evaluation batch size of 32, yielding the following results.</p>
</div>
<figure class="ltx_table" id="A5.T12">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A5.T12.3.1.1" style="font-size:90%;">Table 12</span>: </span><span class="ltx_text" id="A5.T12.4.2" style="font-size:90%;">Performance and Efficiency of Various Methods on the <span class="ltx_text ltx_font_typewriter" id="A5.T12.4.2.1">WebQSP</span> dataset.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A5.T12.5">
<tr class="ltx_tr" id="A5.T12.5.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A5.T12.5.1.1">Settting</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A5.T12.5.1.2">Method</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A5.T12.5.1.3">Hit@1</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A5.T12.5.1.4">Time</td>
</tr>
<tr class="ltx_tr" id="A5.T12.5.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="A5.T12.5.2.1" rowspan="2"><span class="ltx_text" id="A5.T12.5.2.1.1">Inference-only</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A5.T12.5.2.2">Question only</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A5.T12.5.2.3">61.16</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A5.T12.5.2.4">31 min</td>
</tr>
<tr class="ltx_tr" id="A5.T12.5.3">
<td class="ltx_td ltx_align_left" id="A5.T12.5.3.1">Textual graph and question</td>
<td class="ltx_td ltx_align_left" id="A5.T12.5.3.2">41.06</td>
<td class="ltx_td ltx_align_left" id="A5.T12.5.3.3">40 min</td>
</tr>
<tr class="ltx_tr" id="A5.T12.5.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="A5.T12.5.4.1" rowspan="2"><span class="ltx_text" id="A5.T12.5.4.1.1">Frozen LLM w/ PT</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A5.T12.5.4.2">Prompt Tuning</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A5.T12.5.4.3">48.34</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A5.T12.5.4.4">18.7 min/epoch</td>
</tr>
<tr class="ltx_tr" id="A5.T12.5.5">
<td class="ltx_td ltx_align_left" id="A5.T12.5.5.1">G-Retriever</td>
<td class="ltx_td ltx_align_left" id="A5.T12.5.5.2">70.49</td>
<td class="ltx_td ltx_align_left" id="A5.T12.5.5.3">6.2 min/epoch</td>
</tr>
<tr class="ltx_tr" id="A5.T12.5.6">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A5.T12.5.6.1" rowspan="2"><span class="ltx_text" id="A5.T12.5.6.1.1">Tuned LLM</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A5.T12.5.6.2">LoRA</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A5.T12.5.6.3">66.03</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A5.T12.5.6.4">19 min/epoch</td>
</tr>
<tr class="ltx_tr" id="A5.T12.5.7">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A5.T12.5.7.1">
<span class="ltx_text ltx_font_italic" id="A5.T12.5.7.1.1">G-Retriever</span> w/ LoRA</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A5.T12.5.7.2">73.79</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A5.T12.5.7.3">6.9 min/epoch</td>
</tr>
</table>
</figure>
<div class="ltx_para" id="A5.SS2.p2">
<p class="ltx_p" id="A5.SS2.p2.1">These results highlight efficiency improvements via graph RAG, which significantly reduces graph size (e.g., eliminating 99% of nodes in the <span class="ltx_text ltx_font_typewriter" id="A5.SS2.p2.1.1">WebQSP</span> dataset) and speeds up running time.</p>
</div>
</section>
</section>
<section class="ltx_appendix" id="A6">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix F </span>Hallucination in Graph LLMs</h2>
<div class="ltx_para" id="A6.p1">
<p class="ltx_p" id="A6.p1.1">In this section, we present quantitative results regarding hallucinations in the <span class="ltx_text ltx_font_typewriter" id="A6.p1.1.1">SceneGraphs</span> dataset.</p>
</div>
<div class="ltx_para" id="A6.p2">
<p class="ltx_p" id="A6.p2.1"><span class="ltx_text ltx_font_bold" id="A6.p2.1.1">Baseline.</span> For our baseline, we adapted MiniGPT-4 <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#bib.bib57" title="">57</a>]</cite> to graph contexts. This approach involves a frozen LLM interacting with a trainable GNN that encodes graph data as a soft prompt, denoted as LLM+Graph Prompt Tuning. We focus on graph prompt tuning as the baseline, instead of converting the graph into text, since the textual representation of the graph is large and consistently exceeds the input token limits of LLMs.</p>
</div>
<div class="ltx_para" id="A6.p3">
<p class="ltx_p" id="A6.p3.1"><span class="ltx_text ltx_font_bold" id="A6.p3.1.1">Experiment Design.</span>
We instructed the LLM to answer graph-related questions and to list nodes or edges in the explanation graph that support its answers. Since standard answers for these questions do not exist, allowing the LLM to respond flexibly, it becomes challenging to evaluate its responses. To address this, we manually examined 100 responses generated by our method and the LLM with graph prompt tuning, verifying whether the nodes and edges referenced in the LLM’s output actually exist in the graph.</p>
</div>
<div class="ltx_para" id="A6.p4">
<p class="ltx_p" id="A6.p4.1"><span class="ltx_text ltx_font_bold" id="A6.p4.1.1">Evaluation Metrics.</span>
We assessed the model’s faithfulness using three metrics: the fraction of valid nodes (denoted as Valid Nodes), the fraction of valid edges (denoted as Valid Edges), and the fraction of times the entire set of nodes and edges cited was valid (denoted as Fully Valid Graphs).</p>
</div>
<div class="ltx_para" id="A6.p5">
<p class="ltx_p" id="A6.p5.1"><span class="ltx_text ltx_font_bold" id="A6.p5.1.1">Results.</span>
The results, as depicted in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S6.T6" title="Table 6 ‣ 6.5 Ablation Study ‣ 6 Experiments ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">6</span></a>, illustrate the comparative effectiveness of the <span class="ltx_text ltx_font_italic" id="A6.p5.1.2">G-Retriever</span> over the baseline LLM+Graph Prompt Tuning method in reducing hallucinations. The LLM+Graph Prompt Tuning approach demonstrated a significantly lower accuracy in referencing graph elements, with only 31% of nodes and 12% of edges being valid, and the entire set of nodes and edges being valid only 8% of the time. In contrast, <span class="ltx_text ltx_font_italic" id="A6.p5.1.3">G-Retriever</span> showed substantial improvements: 77% validity in nodes, 76% in edges, and 62% in the overall validity of referenced node-edge sets. These results underscore the significant reduction in hallucinations with <span class="ltx_text ltx_font_italic" id="A6.p5.1.4">G-Retriever</span>, particularly in the challenging task of accurately citing both nodes and edges in graph-based contexts.</p>
</div>
</section>
<section class="ltx_appendix" id="A7">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix G </span>Demonstrations</h2>
<div class="ltx_para" id="A7.p1">
<p class="ltx_p" id="A7.p1.1">We demonstrate the interaction capabilities of G-Retriever with creative questions on different datasets: <span class="ltx_text ltx_font_typewriter" id="A7.p1.1.1">ExplaGraphs</span>, <span class="ltx_text ltx_font_typewriter" id="A7.p1.1.2">SceneGraphs</span>, and <span class="ltx_text ltx_font_typewriter" id="A7.p1.1.3">WebQSP</span>. These examples are showcased in Tables <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A7.T13" title="Table 13 ‣ Appendix G Demonstrations ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">13</span></a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A7.T14" title="Table 14 ‣ Appendix G Demonstrations ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">14</span></a>, and <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#A7.T15" title="Table 15 ‣ Appendix G Demonstrations ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">15</span></a>, respectively. Additionally, the examples are visualized in Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.07630v3#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ G-Retriever: Retrieval-Augmented Generation for Textual Graph Understanding and Question Answering"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure class="ltx_table" id="A7.T13">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A7.T13.3.1.1" style="font-size:90%;">Table 13</span>: </span><span class="ltx_text" id="A7.T13.4.2" style="font-size:90%;">Example of creative chat on <span class="ltx_text ltx_font_typewriter" id="A7.T13.4.2.1">ExplaGraphs</span>.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A7.T13.5">
<tr class="ltx_tr" id="A7.T13.5.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="A7.T13.5.1.1"><span class="ltx_text" id="A7.T13.5.1.1.1" style="font-size:90%;">Graph</span></td>
<td class="ltx_td ltx_align_justify ltx_border_tt" id="A7.T13.5.1.2">
<span class="ltx_inline-block ltx_align_top" id="A7.T13.5.1.2.1">
<span class="ltx_p" id="A7.T13.5.1.2.1.1"><span class="ltx_text" id="A7.T13.5.1.2.1.1.1" style="font-size:90%;">node_id,node_attr</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.1.2" style="font-size:90%;">0,human</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.1.3" style="font-size:90%;">1,cosmetic surgery</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.1.4" style="font-size:90%;">2,women</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.1.5" style="font-size:90%;">3,change appearance</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.1.6" style="font-size:90%;">4,addiction</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.1.7" style="font-size:90%;">5,searching for perfection</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.1.8" style="font-size:90%;">6,stop</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.1.9" style="font-size:90%;">7,positive</span>
<br class="ltx_break"/></span>
<span class="ltx_p" id="A7.T13.5.1.2.1.2"><span class="ltx_text" id="A7.T13.5.1.2.1.2.1" style="font-size:90%;">src,edge_attr,dst</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.2.2" style="font-size:90%;">0,receives action,1</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.2.3" style="font-size:90%;">2,part of,0</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.2.4" style="font-size:90%;">1,used for,3</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.2.5" style="font-size:90%;">3,capable of,4</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.2.6" style="font-size:90%;">4,created by,5</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.2.7" style="font-size:90%;">4,not capable of,6</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.1.2.1.2.8" style="font-size:90%;">4,is not a,7</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A7.T13.5.2">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="A7.T13.5.2.1"><span class="ltx_text" id="A7.T13.5.2.1.1" style="font-size:90%;">User</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A7.T13.5.2.2">
<span class="ltx_inline-block ltx_align_top" id="A7.T13.5.2.2.1">
<span class="ltx_p" id="A7.T13.5.2.2.1.1"><span class="ltx_text" id="A7.T13.5.2.2.1.1.1" style="font-size:90%;">Write a 500-word argument essay based on the information provided in the explanation graph.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A7.T13.5.3">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="A7.T13.5.3.1"><span class="ltx_text" id="A7.T13.5.3.1.1" style="font-size:90%;">Model</span></td>
<td class="ltx_td ltx_align_justify ltx_border_bb ltx_border_t" id="A7.T13.5.3.2">
<span class="ltx_inline-block ltx_align_top" id="A7.T13.5.3.2.1">
<span class="ltx_p" id="A7.T13.5.3.2.1.1"><span class="ltx_text" id="A7.T13.5.3.2.1.1.1" style="font-size:90%;">The explanation graph provides a detailed analysis of the reasons why women undergo cosmetic surgery. According to the graph, the main reasons include the desire to change one’s appearance, the influence of societal beauty standards, and the addiction to searching for perfection. These reasons are further supported by the various nodes and edges in the graph, which provide additional insights into the motivations and consequences of cosmetic surgery.</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.3.2.1.1.2" style="font-size:90%;">Firstly, the node labeled "human" highlights the fundamental human desire to feel attractive and confident in one’s appearance. This desire is deeply ingrained in our culture, where beauty is often associated with happiness, success, and social acceptance. As a result, many women feel pressure to conform to societal beauty standards, which can lead to feelings of insecurity and low self-esteem. In response to these feelings, some women may turn to cosmetic surgery as a means of improving their appearance and boosting their self-confidence.</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.3.2.1.1.3" style="font-size:90%;">Secondly, the node labeled "women" highlights the gendered nature of cosmetic surgery. While men also undergo cosmetic surgery, the majority of cosmetic surgery patients are women. This is likely due to the fact that women are more likely to be exposed to societal beauty standards and are more likely to internalize these standards. As a result, women may be more likely to feel insecure about their appearance and more likely to seek cosmetic surgery as a means of improving their looks.</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.3.2.1.1.4" style="font-size:90%;">Thirdly, the node labeled "addiction" highlights the potential negative consequences of cosmetic surgery. While some women may initially feel improved confidence and self-esteem after undergoing cosmetic surgery, the graph suggests that this initial boost may not last. In fact, some women may become addicted to the constant pursuit of perfection, leading to a cycle of surgery and dissatisfaction. This can have serious psychological and emotional consequences, including depression, anxiety, and a loss of self-esteem.</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.3.2.1.1.5" style="font-size:90%;">Fourthly, the node labeled "searching for perfection" highlights the unrealistic expectations that many women have about the results of cosmetic surgery. The graph suggests that women may have unrealistic expectations about the ability of cosmetic surgery to improve their appearance and boost their self-esteem. This can lead to disappointment and dissatisfaction with the results of surgery, as well as a continued pursuit of perfection through additional surgery.</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.3.2.1.1.6" style="font-size:90%;">Finally, the node labeled "stop" highlights the importance of critical thinking and self-reflection when it comes to cosmetic surgery. The graph suggests that women should be aware of the potential negative consequences of cosmetic surgery and should carefully consider the reasons why they are undergoing surgery. They should also be aware of the unrealistic expectations that they may have about the results of surgery and should be prepared to address any negative emotions or feelings of dissatisfaction that may arise.</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T13.5.3.2.1.1.7" style="font-size:90%;">In conclusion, the explanation graph provides a detailed analysis of the reasons why women undergo cosmetic surgery. The graph highlights the fundamental human desire to feel attractive and confident in one’s appearance, the gendered nature of cosmetic surgery, the potential negative consequences of cosmetic surgery, and the importance of critical thinking and self-reflection when it comes to surgery. By understanding these reasons and the potential consequences of cosmetic surgery, women can make informed decisions about whether or not to undergo surgery and can work to address any negative emotions or feelings of dissatisfaction that may arise.</span></span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A7.T14">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 14: </span>Example of creative chat on <span class="ltx_text ltx_font_typewriter" id="A7.T14.7.1">SceneGraphs</span>. We utilize GPT-4 to generate an image from the graph, assisting readers in visualizing it</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A7.T14.1">
<tr class="ltx_tr" id="A7.T14.1.2">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="A7.T14.1.2.1"><span class="ltx_text" id="A7.T14.1.2.1.1" style="font-size:90%;">Graph</span></td>
<td class="ltx_td ltx_align_justify ltx_border_tt" id="A7.T14.1.2.2">
<span class="ltx_inline-block ltx_align_top" id="A7.T14.1.2.2.1">
<span class="ltx_p" id="A7.T14.1.2.2.1.1"><span class="ltx_text" id="A7.T14.1.2.2.1.1.1" style="font-size:90%;">node_id,node_attr</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.2" style="font-size:90%;">0,name: head; attribute: black; (x,y,w,h): (386, 185, 8, 4)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.3" style="font-size:90%;">1,name: swimming pool; attribute: small, water; (x,y,w,h): (465, 92, 35, 3)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.4" style="font-size:90%;">2,name: shore; (x,y,w,h): (49, 85, 436, 108)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.5" style="font-size:90%;">3,name: fence; attribute: wired; (x,y,w,h): (11, 158, 167, 46)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.6" style="font-size:90%;">4,name: mountains; attribute: covered; (x,y,w,h): (393, 53, 107, 12)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.7" style="font-size:90%;">5,name: water; attribute: blue; (x,y,w,h): (0, 50, 499, 154)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.8" style="font-size:90%;">6,name: sheep; attribute: walking, grazing; (x,y,w,h): (243, 191, 20, 13)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.9" style="font-size:90%;">7,name: sky; attribute: blue, clear, cloudy; (x,y,w,h): (0, 0, 501, 60)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.10" style="font-size:90%;">8,name: sheep; attribute: white, fluffy; (x,y,w,h): (409, 176, 13, 10)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.11" style="font-size:90%;">9,name: field; attribute: large, green, grassy; (x,y,w,h): (0, 138, 503, 112)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.12" style="font-size:90%;">10,name: grass; (x,y,w,h): (0, 84, 500, 166)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.13" style="font-size:90%;">11,name: sheep; attribute: white, fluffy; (x,y,w,h): (398, 178, 13, 11)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.14" style="font-size:90%;">12,name: sheep; attribute: white, fluffy; (x,y,w,h): (385, 179, 17, 11)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.15" style="font-size:90%;">13,name: sheep; attribute: white, fluffy; (x,y,w,h): (364, 181, 14, 10)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.16" style="font-size:90%;">14,name: shore; attribute: sandy; (x,y,w,h): (190, 123, 171, 12)</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.17" style="font-size:90%;">src, edge_attr, dst</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.2.2.1.1.18" style="font-size:90%;">0,to the left of,11</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.19" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.20" style="font-size:90%;">0,to the right of,13</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.21" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.22" style="font-size:90%;">3,to the left of,6</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.23" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.24" style="font-size:90%;">6,to the right of,3</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.25" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.26" style="font-size:90%;">6,grazing on,10</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.27" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.28" style="font-size:90%;">6,in,9</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.29" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.30" style="font-size:90%;">6,in,10</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.31" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.32" style="font-size:90%;">7,above,5</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.33" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.34" style="font-size:90%;">8,eating,10</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.35" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.36" style="font-size:90%;">8,to the right of,11</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.37" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.38" style="font-size:90%;">8,to the right of,12</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.39" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.40" style="font-size:90%;">11,to the left of,8</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.41" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.42" style="font-size:90%;">11,to the right of,0</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.43" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.44" style="font-size:90%;">11,to the right of,13</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.45" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.46" style="font-size:90%;">11,to the right of,12</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.47" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.48" style="font-size:90%;">11,eating,10</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.49" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.50" style="font-size:90%;">12,eating,10</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.51" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.52" style="font-size:90%;">12,to the left of,8</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.53" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.54" style="font-size:90%;">12,to the right of,13</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.55" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.56" style="font-size:90%;">12,to the left of,11</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.57" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.58" style="font-size:90%;">13,to the left of,0</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.59" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.60" style="font-size:90%;">13,to the left of,11</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.61" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.62" style="font-size:90%;">13,to the left of,12</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.63" style="font-size:90%;color:#808080;">\n </span><span class="ltx_text" id="A7.T14.1.2.2.1.1.64" style="font-size:90%;">13,eating,10</span><span class="ltx_text" id="A7.T14.1.2.2.1.1.65" style="font-size:90%;color:#808080;">\n</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A7.T14.1.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="A7.T14.1.1.2"><span class="ltx_text" id="A7.T14.1.1.2.1" style="font-size:90%;">Image</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A7.T14.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A7.T14.1.1.1.1">
<span class="ltx_block ltx_minipage ltx_align_middle" id="A7.T14.1.1.1.1.1" style="width:130.1pt;"><img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="154" id="A7.T14.1.1.1.1.1.g1" src="extracted/5622408/figs/DALLE_scene_graph.png" width="154"/>
</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A7.T14.1.3">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="A7.T14.1.3.1"><span class="ltx_text" id="A7.T14.1.3.1.1" style="font-size:90%;">User</span></td>
<td class="ltx_td ltx_align_justify ltx_border_t" id="A7.T14.1.3.2">
<span class="ltx_inline-block ltx_align_top" id="A7.T14.1.3.2.1">
<span class="ltx_p" id="A7.T14.1.3.2.1.1"><span class="ltx_text" id="A7.T14.1.3.2.1.1.1" style="font-size:90%;">Write an 500-word advertisement for this place in the scene graph that would make people want to visit it.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A7.T14.1.4">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="A7.T14.1.4.1"><span class="ltx_text" id="A7.T14.1.4.1.1" style="font-size:90%;">Model</span></td>
<td class="ltx_td ltx_align_justify ltx_border_bb ltx_border_t" id="A7.T14.1.4.2">
<span class="ltx_inline-block ltx_align_top" id="A7.T14.1.4.2.1">
<span class="ltx_p" id="A7.T14.1.4.2.1.1"><span class="ltx_text" id="A7.T14.1.4.2.1.1.1" style="font-size:90%;">Sure! Here’s an example of a 500-word advertisement for the place based on the scene graph:</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T14.1.4.2.1.1.2" style="font-size:90%;">"Experience the breathtaking beauty of our place, where the rolling hills meet the sparkling water of the swimming pool. Take a leisurely stroll through the lush green fields, and let the gentle breeze caress your face as you gaze out at the picturesque view. The sheep graze peacefully in the distance, their white coats glistening in the sunlight. The sky is a brilliant blue, with fluffy white clouds drifting lazily across. Come and bask in the serene ambiance of our place, where the natural beauty will leave you in awe."</span></span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A7.T15">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 15: </span>Example of creative conversation on the <span class="ltx_text ltx_font_typewriter" id="A7.T15.6.1">WebQSP</span> dataset.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A7.T15.7">
<tr class="ltx_tr" id="A7.T15.7.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="A7.T15.7.1.1"><span class="ltx_text" id="A7.T15.7.1.1.1" style="font-size:90%;">Graph</span></td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="A7.T15.7.1.2" style="width:455.2pt;">
<span class="ltx_inline-block ltx_align_top" id="A7.T15.7.1.2.1">
<span class="ltx_p" id="A7.T15.7.1.2.1.1"><span class="ltx_text" id="A7.T15.7.1.2.1.1.1" style="font-size:90%;">node_id, node_attr</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.1.2" style="font-size:90%;">8, benjamin franklin</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.1.3" style="font-size:90%;">63, glass harmonica</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.1.4" style="font-size:90%;">98, lightning rod</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.1.5" style="font-size:90%;">99, stealing god’s thunder: benjamin franklin’s lightning rod and the invention of america</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.1.6" style="font-size:90%;">227, benjamin franklin worked with thomas jefferson</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.1.7" style="font-size:90%;">442, franklin stove</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.1.8" style="font-size:90%;">525, bifocals</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.1.9" style="font-size:90%;">706, benjamin franklin drawing electricity from the sky</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.1.10" style="font-size:90%;">1044, prokop diviš</span>
<br class="ltx_break"/></span>
<span class="ltx_p" id="A7.T15.7.1.2.1.2"><span class="ltx_text" id="A7.T15.7.1.2.1.2.1" style="font-size:90%;">src, edge_attr, dst</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.2" style="font-size:90%;">706, visual_art.artwork.art_subject, 8</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.3" style="font-size:90%;">8, base.kwebbase.kwtopic.connections_from, 227</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.4" style="font-size:90%;">8, book.book_subject.works, 99</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.5" style="font-size:90%;">525, law.invention.inventor, 8</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.6" style="font-size:90%;">442, law.invention.inventor, 8</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.7" style="font-size:90%;">98, law.invention.inventor, 1044</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.8" style="font-size:90%;">8, law.inventor.inventions, 98</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.9" style="font-size:90%;">63, law.invention.inventor, 8</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.10" style="font-size:90%;">8, base.argumentmaps.innovator.original_ideas, 442</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.11" style="font-size:90%;">98, law.invention.inventor, 8</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.12" style="font-size:90%;">8, law.inventor.inventions, 525</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.13" style="font-size:90%;">442, base.argumentmaps.original_idea.innovator, 8</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.14" style="font-size:90%;">8, law.inventor.inventions, 442</span>
<br class="ltx_break"/><span class="ltx_text" id="A7.T15.7.1.2.1.2.15" style="font-size:90%;">8, law.inventor.inventions, 63</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A7.T15.7.2">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="A7.T15.7.2.1"><span class="ltx_text" id="A7.T15.7.2.1.1" style="font-size:90%;">User</span></td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="A7.T15.7.2.2" style="width:455.2pt;">
<span class="ltx_inline-block ltx_align_top" id="A7.T15.7.2.2.1">
<span class="ltx_p" id="A7.T15.7.2.2.1.1"><span class="ltx_text" id="A7.T15.7.2.2.1.1.1" style="font-size:90%;">Question: what else did ben franklin invent? Surrounding this question, develop an educational tour through the knowledge graph, highlighting interesting facts and connections in an engaging way.</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A7.T15.7.3">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="A7.T15.7.3.1"><span class="ltx_text" id="A7.T15.7.3.1.1" style="font-size:90%;">Model</span></td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_bb ltx_border_t" id="A7.T15.7.3.2" style="width:455.2pt;">
<span class="ltx_inline-block ltx_align_top" id="A7.T15.7.3.2.1">
<span class="ltx_p" id="A7.T15.7.3.2.1.1"><span class="ltx_text" id="A7.T15.7.3.2.1.1.1" style="font-size:90%;">Great! Based on the provided knowledge graph, here’s an educational tour that highlights interesting facts and connections related to Benjamin Franklin’s inventions and other notable achievements:</span></span>
<span class="ltx_p" id="A7.T15.7.3.2.1.2"><span class="ltx_text" id="A7.T15.7.3.2.1.2.1" style="font-size:90%;">1. Franklin’s Lightning Rod: Start by exploring Franklin’s most famous invention - the lightning rod. Discover how Franklin’s invention protected buildings from lightning strikes and how it changed the way people understood electricity.
Connection: Franklin worked with Thomas Jefferson on the lightning rod, and their collaboration led to the development of the concept of positive and negative charges.</span></span>
<span class="ltx_p" id="A7.T15.7.3.2.1.3"><span class="ltx_text" id="A7.T15.7.3.2.1.3.1" style="font-size:90%;">2. Bifocals: Move on to Franklin’s invention of bifocal glasses. Learn how Franklin’s vision problems inspired him to create a new type of glasses that allowed people to see both near and far objects clearly.
Connection: Franklin’s bifocal glasses were a groundbreaking invention that improved the lives of millions of people around the world.</span></span>
<span class="ltx_p" id="A7.T15.7.3.2.1.4"><span class="ltx_text" id="A7.T15.7.3.2.1.4.1" style="font-size:90%;">3. Franklin Stove: Explore Franklin’s design of the Franklin stove, a cast-iron stove that provided more heat with less fuel. Discover how Franklin’s stove revolutionized heating systems and how it helped to reduce fuel costs for households and businesses.
Connection: Franklin’s stove was an early example of energy efficiency and sustainability, and it paved the way for modern heating systems.</span></span>
<span class="ltx_p" id="A7.T15.7.3.2.1.5"><span class="ltx_text" id="A7.T15.7.3.2.1.5.1" style="font-size:90%;">4. Prokop Diviš: Learn about Franklin’s connection to Prokop Diviš, a Czech inventor who built on Franklin’s work and developed the first electric generator. Discover how Diviš’s invention helped to power the Industrial Revolution and how it changed the way people lived and worked.
Connection: Franklin’s work on the lightning rod inspired Diviš to explore the properties of electricity, and their collaborative efforts helped to advance the field of electrical engineering.</span></span>
<span class="ltx_p" id="A7.T15.7.3.2.1.6"><span class="ltx_text" id="A7.T15.7.3.2.1.6.1" style="font-size:90%;">5. Innovator and Original Ideas: Explore Franklin’s reputation as an innovator and his ability to come up with original ideas. Discover how Franklin’s creativity and curiosity led to many of his inventions and how he was able to see connections between seemingly unrelated things.
Connection: Franklin’s innovative spirit and ability to think outside the box inspired many other inventors and scientists, including Thomas Edison and Nikola Tesla.</span></span>
<span class="ltx_p" id="A7.T15.7.3.2.1.7"><span class="ltx_text" id="A7.T15.7.3.2.1.7.1" style="font-size:90%;">6. Collaboration and Networking: Highlight Franklin’s collaborative approach to invention and his ability to network with other inventors and scientists. Discover how Franklin’s connections with other innovators helped to advance the field of science and technology.
Connection: Franklin’s collaborations with other inventors and scientists, such as Thomas Jefferson and Prokop Diviš, helped to accelerate the pace of innovation and pave the way for future breakthroughs.</span></span>
<span class="ltx_p" id="A7.T15.7.3.2.1.8"><span class="ltx_text" id="A7.T15.7.3.2.1.8.1" style="font-size:90%;">7. Legacy and Impact: Reflect on Franklin’s lasting legacy and the impact of his inventions on modern society. Discover how Franklin’s inventions continue to inspire new generations of inventors and scientists and how they have helped to shape the world we live in today.
Connection: Franklin’s inventions and ideas have had a lasting impact on many fields, including science, technology, and society as a whole. His legacy continues to inspire and motivate people around the world.</span></span>
<span class="ltx_p" id="A7.T15.7.3.2.1.9"><span class="ltx_text" id="A7.T15.7.3.2.1.9.1" style="font-size:90%;">By following this educational tour through the knowledge graph, students will gain a deeper understanding of Benjamin Franklin’s inventions and their impact on modern society. They will also learn about Franklin’s collaborative approach to invention, his innovative spirit, and his ability to think outside the box.</span></span>
</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Mon May 27 04:04:43 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
