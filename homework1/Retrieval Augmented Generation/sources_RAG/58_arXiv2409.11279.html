<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task</title>
<!--Generated on Tue Sep 17 15:24:36 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Embodied AI,  Large Language Model,  Progressive Method,  Retrieval Augmented Generation" lang="en" name="keywords"/>
<base href="/html/2409.11279v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S1" title="In P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S2" title="In P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S2.SS1" title="In 2. Related Work ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Embodied Everyday Task</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S2.SS2" title="In 2. Related Work ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Retrieval Augmented Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S2.SS3" title="In 2. Related Work ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>LLM for Planning</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S3" title="In P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Method</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S3.SS1" title="In 3. Method ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S3.SS2" title="In 3. Method ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Agent Input Information</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S3.SS3" title="In 3. Method ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Planning with LLM</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S3.SS4" title="In 3. Method ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Database Construction and Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S3.SS5" title="In 3. Method ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.5 </span>Progressive Iteration</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4" title="In P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiment</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.SS1" title="In 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Experimental Setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.SS2" title="In 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Comparison Experiment with the State-of-the-art Methods</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.SS3" title="In 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Ablation Study &amp; Parameter Analysis</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S5" title="In P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Weiye Xu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:ustcxwy0271@mail.ustc.edu.cn">ustcxwy0271@mail.ustc.edu.cn</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0005-2302-8721" title="ORCID identifier">0009-0005-2302-8721</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">University of Science and Technology of China, China</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2">Hefei</span><span class="ltx_text ltx_affiliation_country" id="id3.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Min Wang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:wangmin@iai.ustc.edu.cn">wangmin@iai.ustc.edu.cn</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0003-3048-6980" title="ORCID identifier">0000-0003-3048-6980</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.1.id1">Institute of Artificial Intelligence, Hefei Comprehensive National Science Center</span><span class="ltx_text ltx_affiliation_city" id="id5.2.id2">Hefei</span><span class="ltx_text ltx_affiliation_country" id="id6.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Wengang Zhou
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:zhwg@ustc.edu.cn">zhwg@ustc.edu.cn</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0003-1690-9836" title="ORCID identifier">0000-0003-1690-9836</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id7.1.id1">University of Science and Technology of China</span><span class="ltx_text ltx_affiliation_city" id="id8.2.id2">Hefei</span><span class="ltx_text ltx_affiliation_country" id="id9.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Houqiang Li
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:lihq@ustc.edu.cn">lihq@ustc.edu.cn</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0003-2188-3028" title="ORCID identifier">0000-0003-2188-3028</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id10.1.id1">University of Science and Technology of China</span><span class="ltx_text ltx_affiliation_city" id="id11.2.id2">Hefei</span><span class="ltx_text ltx_affiliation_country" id="id12.3.id3">China</span>
</span></span></span>
</div>
<div class="ltx_dates">(2024)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id13.id1">Embodied Everyday Task is a popular task in the embodied AI community, requiring agents to make a sequence of actions based on natural language instructions and visual observations. Traditional learning-based approaches face two challenges. Firstly, natural language instructions often lack explicit task planning. Secondly, extensive training is required to equip models with knowledge of the task environment. Previous works based on Large Language Model (LLM) either suffer from poor performance due to the lack of task-specific knowledge or rely on ground truth as few-shot samples. To address the above limitations, we propose a novel approach called Progressive Retrieval Augmented Generation (P-RAG), which not only effectively leverages the powerful language processing capabilities of LLMs but also progressively accumulates task-specific knowledge without ground-truth. Compared to the conventional RAG methods, which retrieve relevant information from the database in a one-shot manner to assist generation, P-RAG introduces an iterative approach to progressively update the database. In each iteration, P-RAG retrieves the latest database and obtains historical information from the previous interaction as experiential references for the current interaction. Moreover, we also introduce a more granular retrieval scheme that not only retrieves similar tasks but also incorporates retrieval of similar situations to provide more valuable reference experiences. Extensive experiments reveal that P-RAG achieves competitive results without utilizing ground truth and can even further improve performance through self-iterations.</p>
</div>
<div class="ltx_keywords">Embodied AI, Large Language Model, Progressive Method, Retrieval Augmented Generation
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmlicensed</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2024</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmlicensed</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>Proceedings of the 32nd
ACM International Conference on Multimedia; October 28-November 1,
2024; Melbourne, VIC, Australia</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_booktitle" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">booktitle: </span>Proceedings of the 32nd ACM International Conference on
Multimedia (MM ’24), October 28-November 1, 2024, Melbourne, VIC, Australia</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id6"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>10.1145/3664647.3680661</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="id7"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>979-8-4007-0686-8/24/10</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id8"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Computing methodologies Robotic planning</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="533" id="S1.F1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>The framework of our Progressive Retrieval Augmented Generation method. a) The database consists of a list of tuples, each including goal instruction, scene graph, trajectory history, and whether the task is completed. b) The agent with LLM. c) The interactive
environment (MINI-BEHAVIOR or ALFRED). The database will update after each complete interaction between the agent and the environment, equipping the agent with increasingly high-quality experiences. </figcaption>
</figure>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Recent years have witnessed the rapid development of Embodied AI (EAI)
which aims to endow AI agents with the ability to interact with the physical world. Two famous robots in this field from Figure AI and Voxposer <cite class="ltx_cite ltx_citemacro_citep">(Huang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib12" title="">2023b</a>)</cite> are both concentrated on Embodied Everyday Task. Due to the risks and instability inherent in conducting experiments in real environments, researchers often opt to train and test algorithms in simulation platforms. Many simulators abstract and integrate key components of the embodied everyday task into their environments, such as MINI-BEHAVIOR <cite class="ltx_cite ltx_citemacro_citep">(Jin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib14" title="">2023</a>)</cite> and ALFRED <cite class="ltx_cite ltx_citemacro_citep">(Shridhar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib24" title="">2020a</a>)</cite>. In these platforms, embodied everyday task is set by a natural language goal instruction guiding the agent’s objective or offering step-by-step guidance for aligning the robot’s actions with linguistic commands.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Embodied everyday tasks often encounter three main challenges. 1) Dense reward feedback is typically absent, with the environment only signaling task completion after it has been entirely achieved, usually denoted by a reward of either 1 or 0. Tasks like “Cleaning up the kitchen only” in MINI-BEHAVIOR not only feature ambiguous goal instructions without clear subtasks, but also present a challenge for agents due to the difficulty in processing the natural language provided. 2) Another challenge for agents is the variable space of the action in the environment, where actions may not be fixed or there may be invalid actions that cannot be executed in current environment. For example, agents may use cooking or heating to process certain foods, but for everyday household items such as pot plants and shoes, these actions are considered illegal. 3) Certain limitations imposed by real-world circumstances can easily be overlooked. For example, in specific environments, tables may be smaller than usual, unable to accommodate an excessive number of items (in the MINI-BEHAVIOR simulation, each cell is restricted to contain a maximum of three items). However, this information is not commonly known, and even language models trained on textual data may not be aware of such constraints.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Traditional learning-based approaches such as reinforcement learning (RL) can enhance the ability of the model for specific tasks and environments through iterative processes. But they often lack the capability to understand language instructions. The application of large language models (LLM) to embodied everyday task is a highly promising direction. Previous works <cite class="ltx_cite ltx_citemacro_citep">(Vemprala et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib30" title="">2023</a>; Hu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib10" title="">2023</a>)</cite> have mostly focused on prompt design, which incorporates general commonsense knowledge and addresses the issue of understanding language instructions. Nevertheless, they still lack the ability to possess knowledge specific to particular tasks and environments.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">To address the issue of understanding linguistic instructions and imbuing knowledge about specific tasks and situations, we propose a new framework called <span class="ltx_text ltx_font_bold" id="S1.p4.1.1">Progressive Retrieval Augmented Generation</span> (P-RAG) for embodied everyday tasks. It is based on LLM, and designs progressive retrieval to assist in generating actions with specific contextual knowledge iteratively, as shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">1</span></a>. The progressive mechanism can iteratively increase the success rate similar to learning-based approach, without involving any training steps. With the text understanding ability of LLM, P-RAG combines both the advantages of both learning-based approaches and pretrained LLM for planning approaches. Indeed, previous works like LLM-planner <cite class="ltx_cite ltx_citemacro_citep">(Song et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib29" title="">2023</a>)</cite> have also employed retrieval augmented generation with ground few-shot to enhance the agent’s knowledge of specific environments and situations. In comparison, P-RAG has improvements in the following aspects: 1) Instead of using ground-truth action list as few-shot samples, P-RAG utilizes data generated through straightforward interactions with the environment, which is more general for real scenes. 2) In the query, we not only consider searching for trajectory information related to similar tasks but also take into account trajectory information corresponding to similar situations, which provides more valuable context for LLM.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">We validate the effectiveness of P-RAG in planning with extensive experiments for everyday tasks. P-RAG outperforms existing methods in few-shot setting, and it provides an effective approach that can further enhance the online planning performance for embodied everyday tasks. Additionally, P-RAG showcases its ability to generalize across different tasks, enabling it to effectively operate in various planning task. Our contributions can be summarized into the following three points.
1) We introduce a new framework for planning with LLM in embodied everyday task. This framework combines the advantages of LLM’s prior knowledge and language processing capabilities enhancing the efficiency of utilizing interaction data.
2) Instead of relying on ground truth actions as previous methods do, P-RAG enhances its performance solely through historical trajectories obtained from interaction of last round.
3) P-RAG outperforms existing methods in utilizing few-shot training datasets, and even provides a self-iteration approach that further enhances performance of testing tasks.</p>
</div>
<figure class="ltx_figure" id="S1.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="444" id="S1.F2.g1" src="x2.png" width="748"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>The pipeline of P-RAG in each iteration. “#” stands for the form of text. a) The information transmits to the agent consists of the following four parts: natural language goal instruction, observations obtained from the environment, the action space of the agent, and the retrieval results from the database. b) The agent adopts an LLM to plan a series of actions according to the information in (a). If the LLM produces unsatisfactory content, the agent will initiate a reattempt; otherwise, it will utilize a filtering mechanism to extract the requisite actions from the fields. c) The environment receives actions from the agent and returns observations, along with a “done” state denoting whether the task is completed. d) Following the completion of each iteration comprising multiple tasks, the database undergoes an update procedure. During each update, it stores the embedding vector of the goal instruction and the scene graph obtained through observation. e) The database contains the trajectories of previous iterations. f) The interface between the database and the agent’s information involves two main components. Firstly, the current goal instruction and observation of agent are embedded into vectors, which are further used as query in retrieval augmented process. Secondly, the similarity between query and each database item is computed, and the top K relevant database items are returned to agent. </figcaption>
</figure>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Work</h2>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Embodied Everyday Task</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">Embodied Everyday Task aims to establish human-centered AI <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib17" title="">2024</a>)</cite> that serves human needs, goals, and values by simulating daily human tasks like navigation and manipulation. Due to the increasing demand for human-computer interaction, tasks oriented towards ordinary users are becoming more popular, giving rise to some new tasks such as language-conditional navigation and manipulation <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib17" title="">2024</a>; Skirzynski, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib27" title="">2020</a>; Cui et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib9" title="">2023</a>; Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib5" title="">2023b</a>; Zhuang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib42" title="">2022</a>; Zhao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib41" title="">2022</a>)</cite>. These tasks typically involve describing a desired final state using language, requiring algorithms to plan and decompose tasks. The execution process also involves a combination of navigation and manipulation operations. Recently, mainstream approaches to manipulation tasks can roughly be divided into three categories as following: 1) learning-based approaches which needs to train agents in simulation environments <cite class="ltx_cite ltx_citemacro_citep">(Nair et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib20" title="">2022</a>; Yamada et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib34" title="">2021</a>; Zhan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib38" title="">2021</a>)</cite>. 2) LLM-based approaches which leverage the vast knowledge embedded within large language models <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib18" title="">2024</a>; Jin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib15" title="">2024</a>; Hu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib10" title="">2023</a>)</cite>. 3) hybrid methods <cite class="ltx_cite ltx_citemacro_citep">(Sharan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib23" title="">2024</a>)</cite> combined with the above two approaches where LLMs facilitate task decomposition into subtasks, while meta-skills are honed through training to optimize subtask execution strategies.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Retrieval Augmented Generation</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">Retrieval-augmented generation (RAG) is an effective tool for reducing hallucination in large language models like GPT-4 <cite class="ltx_cite ltx_citemacro_citep">(Achiam et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib2" title="">2023</a>)</cite> and improving their performance in generating authentic content. RAG first translates the task description into a query for database retrieval. After obtaining the query results, it integrates them with a prompt for the language model, which then generates the final output. Initially introduced by <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib16" title="">2020</a>)</cite>, this primitive direct approach later became known as Naive RAG (Retrieval-Augmented Generation). It is widely used in various NLP tasks, such as narrative generation <cite class="ltx_cite ltx_citemacro_citep">(Yamazaki et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib35" title="">2023</a>)</cite>, abstract generation <cite class="ltx_cite ltx_citemacro_citep">(Xiuying et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib33" title="">2022</a>; Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib6" title="">2023a</a>; Cheng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib7" title="">2023</a>)</cite>, and code generation <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib39" title="">2023</a>; Yu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib36" title="">2022</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">Retrieval Augmented Generation for planning represents a promising direction. However, only a limited amount of work has been conducted in this area. Previous methods like LLM-Planner <cite class="ltx_cite ltx_citemacro_citep">(Song et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib29" title="">2023</a>)</cite> and RAP <cite class="ltx_cite ltx_citemacro_citep">(Zare et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib37" title="">2024</a>)</cite> have utilized the Retrieval Augmented Generation (RAG) approach for planning. However, in their methodologies, ground-truth planning instruction is employed during the training phase or is either utilized during the few-shot learning phase. There has not yet devised a unified approach for interactive tasks without ground truth guidance, which is a more common setting of interactive task like MINI-BEHAVIOR <cite class="ltx_cite ltx_citemacro_citep">(Jin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib14" title="">2023</a>)</cite>.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3. </span>LLM for Planning</h3>
<figure class="ltx_figure" id="S2.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="252" id="S2.F3.g1" src="x3.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>Database Construction and Retrieval. In P-RAG, both the construction of database and retrieval utilize encoding. 1) During the insertion process, four components are inputted: goal instruction, scene graph, history, and done. Among these, goal instruction and scene graph need to undergo sentence embedding to be stored as vectors in the database. 2) When retrieval is required, the current task’s goal instruction and scene graph are used as queries. They are also encoded to sentence embedding, while simultaneously computing the similarity score between them and the corresponding vectors in the database. The top K historical trajectory information is then returned based on the aggregated similarity scores.</figcaption>
</figure>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.1">Large language models like GPT-3.5 and GPT-4 <cite class="ltx_cite ltx_citemacro_citep">(Achiam et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib2" title="">2023</a>)</cite> have significantly advanced various applications. Unlike common text-only tasks, robotic tasks require more prior knowledge and an understanding of interactions with the physical world <cite class="ltx_cite ltx_citemacro_citep">(Lu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib19" title="">2022</a>; Singh et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib26" title="">2023</a>; Huang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib11" title="">2023a</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib13" title="">2022</a>)</cite>. Large language models (LLMs) are commonly employed for high-level agent planning <cite class="ltx_cite ltx_citemacro_citep">(Vemprala et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib30" title="">2023</a>)</cite>. LLMs applied in planning exhibit distinct two advantages <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib31" title="">2024</a>)</cite> as following. Firstly, pre-trained on textual data, LLMs inherently incorporate substantial prior knowledge of the physical world, enabling them to understand common robotic tasks. Secondly, LLMs excel at handling tasks involving language instructions, which are prevalent in popular applications.</p>
</div>
<div class="ltx_para" id="S2.SS3.p2">
<p class="ltx_p" id="S2.SS3.p2.1">However, LLMs for planning also encounter several challenges: 1) LLMs possess only general knowledge and lack task-specific information concerning specific environments and tasks. 2) the robustness of LLMs’ action outputs is inadequate, sometimes failing to adhere precisely to the required format. 3) LLMs lack comprehensive modeling of the physical world, resulting in decisions that may contravene physical constraints.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Method</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Overview</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">To accomplish embodied everyday task, we propose a new progressive retrieval augmented planning framework named P-RAG, which integrates better task-specific knowledge progressively into the prompt of large language models (LLMs) for planning. The framework of P-RAG is shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">1</span></a>. During each interaction episode, the trajectory of agent is collected to iteratively update a dynamic database, which is retrieved to provide task-relevant knowledge from the previous completed interaction.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1">Specifically, the detailed pipeline in each episode is shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S1.F2" title="Figure 2 ‣ 1. Introduction ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">2</span></a>. First, the agent is provided with four types of information including natural language instruction, observations, the action space, and the retrieval results from database. Then, this information is input to LLM for planning, which outputs a series of actions for solving the embodied every task. After that, the environment responds to the receiving actions and converts to the new state, which provides agent new observations and reward. These new trajectory information for agent will be used to update the database, which stores the timely agent experience. In the next interaction episode, this experiential knowledge in the database can be retrieved based on agent information, returning task-relevant knowledge to the LLM for better planning. This pipeline can be iteratively improved, progressively enhancing planning ability by incorporating more successful trajectory information. The detailed components of this pipeline will be elaborated in the following subsections.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Agent Input Information</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">Four parts of information will be provided to the agent: goal instructions, observations, action space, and retrieval results. Each part of the information will ultimately be transformed into text format and then integrated into coherent prompt delivered to agent.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1">Initially, during the interaction with the task environment, the current task’s goal instruction will be provided, such as “Move a chilled mug to the coffee maker”. During the interaction between P-RAG and the environment, before the agent provides an action, it will first return an observation image to depict the current observed state. We convert the observation image into a scene graph format, which is easier for LLMs to process. We extract the instance labels of all objects from the image and detect the relative relationships between each object, such as “on the top of”, “inside of”, and so on. In detail, we slightly adjust the extraction of the scene graph for different interaction environments. For ALFRED, we utilize tools from ALFWORLD, which include interactive TextWorld environments <cite class="ltx_cite ltx_citemacro_citep">(Côté et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib8" title="">2019</a>)</cite> that mirror embodied worlds in the ALFRED dataset <cite class="ltx_cite ltx_citemacro_citep">(Shridhar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib24" title="">2020a</a>)</cite>, to extract instance-level labels of objects observed in the image directly in front of the robot in the environment. After obtaining the instance labels, we first identify the landmarks among them and designate them as key nodes in the scene graph. Next, we organize these labels into a list format, with the key node being placed as the first node in the list for subsequent encoding steps. For the MINI-BEHAVIOR environment, which utilizes gym-minigrid, we sequentially compare the relative relationships between each object by function API in the environment to obtain a relationship matrix with form of each cell in matrix like “object_1/object_2/relationship: True/False”. After obtaining the relationship matrix, to reduce the length of the context input to the LLM, P-RAG retains only those pairs that are true. The action space is also a crucial component, and the action space provided to the LLM consists of high-level actions. Subsequent steps in section <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S3.SS3" title="3.3. Planning with LLM ‣ 3. Method ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">3.3</span></a> will involve instruction decomposition, where high-level instructions are converted into low-level actions to be provided to the environment.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.1">Another component involves historical trajectory information retrieved from database to provide the agent with references, thereby increasing its task-specific knowledge. The retrieval result includes goal instructions, scene graphs, history, and the done state from the previous interaction history. Among them, the goal instruction and scene graph are in the same format as mentioned above. “History” refers to the sequence of <math alttext="(A_{t},O_{t})" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.2"><semantics id="S3.SS2.p3.1.m1.2a"><mrow id="S3.SS2.p3.1.m1.2.2.2" xref="S3.SS2.p3.1.m1.2.2.3.cmml"><mo id="S3.SS2.p3.1.m1.2.2.2.3" stretchy="false" xref="S3.SS2.p3.1.m1.2.2.3.cmml">(</mo><msub id="S3.SS2.p3.1.m1.1.1.1.1" xref="S3.SS2.p3.1.m1.1.1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.1.1.2.cmml">A</mi><mi id="S3.SS2.p3.1.m1.1.1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.SS2.p3.1.m1.2.2.2.4" xref="S3.SS2.p3.1.m1.2.2.3.cmml">,</mo><msub id="S3.SS2.p3.1.m1.2.2.2.2" xref="S3.SS2.p3.1.m1.2.2.2.2.cmml"><mi id="S3.SS2.p3.1.m1.2.2.2.2.2" xref="S3.SS2.p3.1.m1.2.2.2.2.2.cmml">O</mi><mi id="S3.SS2.p3.1.m1.2.2.2.2.3" xref="S3.SS2.p3.1.m1.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.SS2.p3.1.m1.2.2.2.5" stretchy="false" xref="S3.SS2.p3.1.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.2b"><interval closure="open" id="S3.SS2.p3.1.m1.2.2.3.cmml" xref="S3.SS2.p3.1.m1.2.2.2"><apply id="S3.SS2.p3.1.m1.1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.1.1.2">𝐴</ci><ci id="S3.SS2.p3.1.m1.1.1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.1.1.3">𝑡</ci></apply><apply id="S3.SS2.p3.1.m1.2.2.2.2.cmml" xref="S3.SS2.p3.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.2.2.2.2.1.cmml" xref="S3.SS2.p3.1.m1.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p3.1.m1.2.2.2.2.2.cmml" xref="S3.SS2.p3.1.m1.2.2.2.2.2">𝑂</ci><ci id="S3.SS2.p3.1.m1.2.2.2.2.3.cmml" xref="S3.SS2.p3.1.m1.2.2.2.2.3">𝑡</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.2c">(A_{t},O_{t})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.2d">( italic_A start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_O start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> pairs, providing the agent with entire pairs in the task of previous round. The “done” states indicate whether the task corresponding to these historical pieces of information was completed by the agent at that time.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Planning with LLM</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">The four components of information mentioned above in section <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S3.SS2" title="3.2. Agent Input Information ‣ 3. Method ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">3.2</span></a> will be integrated into a single coherent prompt and provided as input to the LLM. Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S1.F2" title="Figure 2 ‣ 1. Introduction ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">2</span></a> part b illustrates the main workflow of this section, including the LLM, error check, action filter, and decomposition components.
For the first component, we choose GPT-4 and GPT-3.5, renowned for their widespread utilization across various generation tasks, to serve as LLM in P-RAG. The second part involves error checking, where the input consists of the text output from the LLM. It employs regular expression matching and compares the generated actions with those in the action space to ensure adherence to fixed formatting and validity. In the case of invalid actions or non-compliant formatting, a new requirement will be raised for the LLM. Otherwise, the output from the LLM will be passed on to the next component. The third component is the action filter, which extracts the necessary strings from the text generated by the LLM using regular expression matching, providing high-level actions. The final component is decomposition, which translates the high-level actions obtained from the previous component into low-level actions to be executed in the environment. For example, the “navigation” high-level action is decomposed using the Fast Marching Method (FMM) <cite class="ltx_cite ltx_citemacro_citep">(Sethian, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib22" title="">1999</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.1">Specifically, FMM is a numerical technique designed to tackle boundary value problems arising from the Eikonal equation <cite class="ltx_cite ltx_citemacro_citep">(Sethian, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib22" title="">1999</a>)</cite>. We employ a simplified and customized FMM as the tool for decomposing the navigation component from high-level action to low-level action in our process. The FMM process used in P-RAG can be summarized as follows: Firstly, we construct a flat model of the environment with different navigable positions. In MINI-BEHAVIOR, we determine whether each cell in the observation can be covered by the agent. Secondly, we set the current point as the source point and the destination point as the sink point. Then, we compute the Euclidean distance from each point to the source point. Finally, starting from the sink point, we search for the point with the minimum distance value within its one-step neighborhood to serve as the next subgoal point.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Database Construction and Retrieval</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">P-RAG interacts with the environment through agents to construct and update a historical trajectory database. It retrieves information from this database to guide the agent. The process iterates over a set of tasks across multiple rounds. The first round focuses on constructing the database. In each subsequent round, P-RAG uses retrieval to enhance action generation capabilities and updates the database based on the interaction history of each round.</p>
</div>
<div class="ltx_para" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.1">The database is initialized as an empty collection. The agent interacts with the environment exclusively through goal instructions and observation obtained from each step. After the completion of all task interactions in the first iteration, a round of interaction between the agent and the environment yields valuable information. This information increases the agent’s knowledge of specific tasks. The database will store this information and update itself with the latest historical trajectory data after each subsequent iteration.</p>
</div>
<div class="ltx_para" id="S3.SS4.p3">
<p class="ltx_p" id="S3.SS4.p3.2">During each round of data update, the database will retain four key pieces of information for each task interaction sequence: the goal instruction, scene graph, historical data, and completion state. The details of database construction and retrieval pipeline is illustrated in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S2.F3" title="Figure 3 ‣ 2.3. LLM for Planning ‣ 2. Related Work ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">3</span></a>. When an agent interacts with the environment during a task, it first receives the environment’s goal instruction <math alttext="I_{g}" class="ltx_Math" display="inline" id="S3.SS4.p3.1.m1.1"><semantics id="S3.SS4.p3.1.m1.1a"><msub id="S3.SS4.p3.1.m1.1.1" xref="S3.SS4.p3.1.m1.1.1.cmml"><mi id="S3.SS4.p3.1.m1.1.1.2" xref="S3.SS4.p3.1.m1.1.1.2.cmml">I</mi><mi id="S3.SS4.p3.1.m1.1.1.3" xref="S3.SS4.p3.1.m1.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.1.m1.1b"><apply id="S3.SS4.p3.1.m1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.1.m1.1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.p3.1.m1.1.1.2.cmml" xref="S3.SS4.p3.1.m1.1.1.2">𝐼</ci><ci id="S3.SS4.p3.1.m1.1.1.3.cmml" xref="S3.SS4.p3.1.m1.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.1.m1.1c">I_{g}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.1.m1.1d">italic_I start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT</annotation></semantics></math> and observation <math alttext="O_{t}" class="ltx_Math" display="inline" id="S3.SS4.p3.2.m2.1"><semantics id="S3.SS4.p3.2.m2.1a"><msub id="S3.SS4.p3.2.m2.1.1" xref="S3.SS4.p3.2.m2.1.1.cmml"><mi id="S3.SS4.p3.2.m2.1.1.2" xref="S3.SS4.p3.2.m2.1.1.2.cmml">O</mi><mi id="S3.SS4.p3.2.m2.1.1.3" xref="S3.SS4.p3.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.2.m2.1b"><apply id="S3.SS4.p3.2.m2.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.2.m2.1.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.p3.2.m2.1.1.2.cmml" xref="S3.SS4.p3.2.m2.1.1.2">𝑂</ci><ci id="S3.SS4.p3.2.m2.1.1.3.cmml" xref="S3.SS4.p3.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.2.m2.1c">O_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.2.m2.1d">italic_O start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. Then it encodes with MiniLM <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib32" title="">2020</a>)</cite> both of them with formula as</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="Q_{goal}=Encode(I_{g})," class="ltx_Math" display="block" id="S3.E1.m1.1"><semantics id="S3.E1.m1.1a"><mrow id="S3.E1.m1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><mrow id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><msub id="S3.E1.m1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.1.1.1.1.3.2" xref="S3.E1.m1.1.1.1.1.3.2.cmml">Q</mi><mrow id="S3.E1.m1.1.1.1.1.3.3" xref="S3.E1.m1.1.1.1.1.3.3.cmml"><mi id="S3.E1.m1.1.1.1.1.3.3.2" xref="S3.E1.m1.1.1.1.1.3.3.2.cmml">g</mi><mo id="S3.E1.m1.1.1.1.1.3.3.1" xref="S3.E1.m1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E1.m1.1.1.1.1.3.3.3" xref="S3.E1.m1.1.1.1.1.3.3.3.cmml">o</mi><mo id="S3.E1.m1.1.1.1.1.3.3.1a" xref="S3.E1.m1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E1.m1.1.1.1.1.3.3.4" xref="S3.E1.m1.1.1.1.1.3.3.4.cmml">a</mi><mo id="S3.E1.m1.1.1.1.1.3.3.1b" xref="S3.E1.m1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E1.m1.1.1.1.1.3.3.5" xref="S3.E1.m1.1.1.1.1.3.3.5.cmml">l</mi></mrow></msub><mo id="S3.E1.m1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E1.m1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.3.cmml">E</mi><mo id="S3.E1.m1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E1.m1.1.1.1.1.1.4" xref="S3.E1.m1.1.1.1.1.1.4.cmml">n</mi><mo id="S3.E1.m1.1.1.1.1.1.2a" xref="S3.E1.m1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E1.m1.1.1.1.1.1.5" xref="S3.E1.m1.1.1.1.1.1.5.cmml">c</mi><mo id="S3.E1.m1.1.1.1.1.1.2b" xref="S3.E1.m1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E1.m1.1.1.1.1.1.6" xref="S3.E1.m1.1.1.1.1.1.6.cmml">o</mi><mo id="S3.E1.m1.1.1.1.1.1.2c" xref="S3.E1.m1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E1.m1.1.1.1.1.1.7" xref="S3.E1.m1.1.1.1.1.1.7.cmml">d</mi><mo id="S3.E1.m1.1.1.1.1.1.2d" xref="S3.E1.m1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E1.m1.1.1.1.1.1.8" xref="S3.E1.m1.1.1.1.1.1.8.cmml">e</mi><mo id="S3.E1.m1.1.1.1.1.1.2e" xref="S3.E1.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E1.m1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.cmml">g</mi></msub><mo id="S3.E1.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.1b"><apply id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1"><eq id="S3.E1.m1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.2"></eq><apply id="S3.E1.m1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.1.1.3.2">𝑄</ci><apply id="S3.E1.m1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3"><times id="S3.E1.m1.1.1.1.1.3.3.1.cmml" xref="S3.E1.m1.1.1.1.1.3.3.1"></times><ci id="S3.E1.m1.1.1.1.1.3.3.2.cmml" xref="S3.E1.m1.1.1.1.1.3.3.2">𝑔</ci><ci id="S3.E1.m1.1.1.1.1.3.3.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3.3">𝑜</ci><ci id="S3.E1.m1.1.1.1.1.3.3.4.cmml" xref="S3.E1.m1.1.1.1.1.3.3.4">𝑎</ci><ci id="S3.E1.m1.1.1.1.1.3.3.5.cmml" xref="S3.E1.m1.1.1.1.1.3.3.5">𝑙</ci></apply></apply><apply id="S3.E1.m1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1"><times id="S3.E1.m1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.2"></times><ci id="S3.E1.m1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.3">𝐸</ci><ci id="S3.E1.m1.1.1.1.1.1.4.cmml" xref="S3.E1.m1.1.1.1.1.1.4">𝑛</ci><ci id="S3.E1.m1.1.1.1.1.1.5.cmml" xref="S3.E1.m1.1.1.1.1.1.5">𝑐</ci><ci id="S3.E1.m1.1.1.1.1.1.6.cmml" xref="S3.E1.m1.1.1.1.1.1.6">𝑜</ci><ci id="S3.E1.m1.1.1.1.1.1.7.cmml" xref="S3.E1.m1.1.1.1.1.1.7">𝑑</ci><ci id="S3.E1.m1.1.1.1.1.1.8.cmml" xref="S3.E1.m1.1.1.1.1.1.8">𝑒</ci><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2">𝐼</ci><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3">𝑔</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.1c">Q_{goal}=Encode(I_{g}),</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.1d">italic_Q start_POSTSUBSCRIPT italic_g italic_o italic_a italic_l end_POSTSUBSCRIPT = italic_E italic_n italic_c italic_o italic_d italic_e ( italic_I start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="Q_{obs,t}=Encode(\mathcal{F}(O_{t}))," class="ltx_Math" display="block" id="S3.E2.m1.3"><semantics id="S3.E2.m1.3a"><mrow id="S3.E2.m1.3.3.1" xref="S3.E2.m1.3.3.1.1.cmml"><mrow id="S3.E2.m1.3.3.1.1" xref="S3.E2.m1.3.3.1.1.cmml"><msub id="S3.E2.m1.3.3.1.1.3" xref="S3.E2.m1.3.3.1.1.3.cmml"><mi id="S3.E2.m1.3.3.1.1.3.2" xref="S3.E2.m1.3.3.1.1.3.2.cmml">Q</mi><mrow id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.3.cmml"><mrow id="S3.E2.m1.2.2.2.2.1" xref="S3.E2.m1.2.2.2.2.1.cmml"><mi id="S3.E2.m1.2.2.2.2.1.2" xref="S3.E2.m1.2.2.2.2.1.2.cmml">o</mi><mo id="S3.E2.m1.2.2.2.2.1.1" xref="S3.E2.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S3.E2.m1.2.2.2.2.1.3" xref="S3.E2.m1.2.2.2.2.1.3.cmml">b</mi><mo id="S3.E2.m1.2.2.2.2.1.1a" xref="S3.E2.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S3.E2.m1.2.2.2.2.1.4" xref="S3.E2.m1.2.2.2.2.1.4.cmml">s</mi></mrow><mo id="S3.E2.m1.2.2.2.2.2" xref="S3.E2.m1.2.2.2.3.cmml">,</mo><mi id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.cmml">t</mi></mrow></msub><mo id="S3.E2.m1.3.3.1.1.2" xref="S3.E2.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E2.m1.3.3.1.1.1" xref="S3.E2.m1.3.3.1.1.1.cmml"><mi id="S3.E2.m1.3.3.1.1.1.3" xref="S3.E2.m1.3.3.1.1.1.3.cmml">E</mi><mo id="S3.E2.m1.3.3.1.1.1.2" xref="S3.E2.m1.3.3.1.1.1.2.cmml">⁢</mo><mi id="S3.E2.m1.3.3.1.1.1.4" xref="S3.E2.m1.3.3.1.1.1.4.cmml">n</mi><mo id="S3.E2.m1.3.3.1.1.1.2a" xref="S3.E2.m1.3.3.1.1.1.2.cmml">⁢</mo><mi id="S3.E2.m1.3.3.1.1.1.5" xref="S3.E2.m1.3.3.1.1.1.5.cmml">c</mi><mo id="S3.E2.m1.3.3.1.1.1.2b" xref="S3.E2.m1.3.3.1.1.1.2.cmml">⁢</mo><mi id="S3.E2.m1.3.3.1.1.1.6" xref="S3.E2.m1.3.3.1.1.1.6.cmml">o</mi><mo id="S3.E2.m1.3.3.1.1.1.2c" xref="S3.E2.m1.3.3.1.1.1.2.cmml">⁢</mo><mi id="S3.E2.m1.3.3.1.1.1.7" xref="S3.E2.m1.3.3.1.1.1.7.cmml">d</mi><mo id="S3.E2.m1.3.3.1.1.1.2d" xref="S3.E2.m1.3.3.1.1.1.2.cmml">⁢</mo><mi id="S3.E2.m1.3.3.1.1.1.8" xref="S3.E2.m1.3.3.1.1.1.8.cmml">e</mi><mo id="S3.E2.m1.3.3.1.1.1.2e" xref="S3.E2.m1.3.3.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.3.3.1.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.3.3.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.3.3.1.1.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.3.3.1.1.1.1.1.1.3" xref="S3.E2.m1.3.3.1.1.1.1.1.1.3.cmml">ℱ</mi><mo id="S3.E2.m1.3.3.1.1.1.1.1.1.2" xref="S3.E2.m1.3.3.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml">O</mi><mi id="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.3.3.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2.m1.3.3.1.2" xref="S3.E2.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.3b"><apply id="S3.E2.m1.3.3.1.1.cmml" xref="S3.E2.m1.3.3.1"><eq id="S3.E2.m1.3.3.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.2"></eq><apply id="S3.E2.m1.3.3.1.1.3.cmml" xref="S3.E2.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.3.1.cmml" xref="S3.E2.m1.3.3.1.1.3">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.3.2.cmml" xref="S3.E2.m1.3.3.1.1.3.2">𝑄</ci><list id="S3.E2.m1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2"><apply id="S3.E2.m1.2.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.2.1"><times id="S3.E2.m1.2.2.2.2.1.1.cmml" xref="S3.E2.m1.2.2.2.2.1.1"></times><ci id="S3.E2.m1.2.2.2.2.1.2.cmml" xref="S3.E2.m1.2.2.2.2.1.2">𝑜</ci><ci id="S3.E2.m1.2.2.2.2.1.3.cmml" xref="S3.E2.m1.2.2.2.2.1.3">𝑏</ci><ci id="S3.E2.m1.2.2.2.2.1.4.cmml" xref="S3.E2.m1.2.2.2.2.1.4">𝑠</ci></apply><ci id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1">𝑡</ci></list></apply><apply id="S3.E2.m1.3.3.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1"><times id="S3.E2.m1.3.3.1.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.1.2"></times><ci id="S3.E2.m1.3.3.1.1.1.3.cmml" xref="S3.E2.m1.3.3.1.1.1.3">𝐸</ci><ci id="S3.E2.m1.3.3.1.1.1.4.cmml" xref="S3.E2.m1.3.3.1.1.1.4">𝑛</ci><ci id="S3.E2.m1.3.3.1.1.1.5.cmml" xref="S3.E2.m1.3.3.1.1.1.5">𝑐</ci><ci id="S3.E2.m1.3.3.1.1.1.6.cmml" xref="S3.E2.m1.3.3.1.1.1.6">𝑜</ci><ci id="S3.E2.m1.3.3.1.1.1.7.cmml" xref="S3.E2.m1.3.3.1.1.1.7">𝑑</ci><ci id="S3.E2.m1.3.3.1.1.1.8.cmml" xref="S3.E2.m1.3.3.1.1.1.8">𝑒</ci><apply id="S3.E2.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1"><times id="S3.E2.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.2"></times><ci id="S3.E2.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.3">ℱ</ci><apply id="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.2">𝑂</ci><ci id="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.3c">Q_{obs,t}=Encode(\mathcal{F}(O_{t})),</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.3d">italic_Q start_POSTSUBSCRIPT italic_o italic_b italic_s , italic_t end_POSTSUBSCRIPT = italic_E italic_n italic_c italic_o italic_d italic_e ( caligraphic_F ( italic_O start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS4.p3.9">where <math alttext="Q_{goal}" class="ltx_Math" display="inline" id="S3.SS4.p3.3.m1.1"><semantics id="S3.SS4.p3.3.m1.1a"><msub id="S3.SS4.p3.3.m1.1.1" xref="S3.SS4.p3.3.m1.1.1.cmml"><mi id="S3.SS4.p3.3.m1.1.1.2" xref="S3.SS4.p3.3.m1.1.1.2.cmml">Q</mi><mrow id="S3.SS4.p3.3.m1.1.1.3" xref="S3.SS4.p3.3.m1.1.1.3.cmml"><mi id="S3.SS4.p3.3.m1.1.1.3.2" xref="S3.SS4.p3.3.m1.1.1.3.2.cmml">g</mi><mo id="S3.SS4.p3.3.m1.1.1.3.1" xref="S3.SS4.p3.3.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p3.3.m1.1.1.3.3" xref="S3.SS4.p3.3.m1.1.1.3.3.cmml">o</mi><mo id="S3.SS4.p3.3.m1.1.1.3.1a" xref="S3.SS4.p3.3.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p3.3.m1.1.1.3.4" xref="S3.SS4.p3.3.m1.1.1.3.4.cmml">a</mi><mo id="S3.SS4.p3.3.m1.1.1.3.1b" xref="S3.SS4.p3.3.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p3.3.m1.1.1.3.5" xref="S3.SS4.p3.3.m1.1.1.3.5.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.3.m1.1b"><apply id="S3.SS4.p3.3.m1.1.1.cmml" xref="S3.SS4.p3.3.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.3.m1.1.1.1.cmml" xref="S3.SS4.p3.3.m1.1.1">subscript</csymbol><ci id="S3.SS4.p3.3.m1.1.1.2.cmml" xref="S3.SS4.p3.3.m1.1.1.2">𝑄</ci><apply id="S3.SS4.p3.3.m1.1.1.3.cmml" xref="S3.SS4.p3.3.m1.1.1.3"><times id="S3.SS4.p3.3.m1.1.1.3.1.cmml" xref="S3.SS4.p3.3.m1.1.1.3.1"></times><ci id="S3.SS4.p3.3.m1.1.1.3.2.cmml" xref="S3.SS4.p3.3.m1.1.1.3.2">𝑔</ci><ci id="S3.SS4.p3.3.m1.1.1.3.3.cmml" xref="S3.SS4.p3.3.m1.1.1.3.3">𝑜</ci><ci id="S3.SS4.p3.3.m1.1.1.3.4.cmml" xref="S3.SS4.p3.3.m1.1.1.3.4">𝑎</ci><ci id="S3.SS4.p3.3.m1.1.1.3.5.cmml" xref="S3.SS4.p3.3.m1.1.1.3.5">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.3.m1.1c">Q_{goal}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.3.m1.1d">italic_Q start_POSTSUBSCRIPT italic_g italic_o italic_a italic_l end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="Q_{obs,t}" class="ltx_Math" display="inline" id="S3.SS4.p3.4.m2.2"><semantics id="S3.SS4.p3.4.m2.2a"><msub id="S3.SS4.p3.4.m2.2.3" xref="S3.SS4.p3.4.m2.2.3.cmml"><mi id="S3.SS4.p3.4.m2.2.3.2" xref="S3.SS4.p3.4.m2.2.3.2.cmml">Q</mi><mrow id="S3.SS4.p3.4.m2.2.2.2.2" xref="S3.SS4.p3.4.m2.2.2.2.3.cmml"><mrow id="S3.SS4.p3.4.m2.2.2.2.2.1" xref="S3.SS4.p3.4.m2.2.2.2.2.1.cmml"><mi id="S3.SS4.p3.4.m2.2.2.2.2.1.2" xref="S3.SS4.p3.4.m2.2.2.2.2.1.2.cmml">o</mi><mo id="S3.SS4.p3.4.m2.2.2.2.2.1.1" xref="S3.SS4.p3.4.m2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S3.SS4.p3.4.m2.2.2.2.2.1.3" xref="S3.SS4.p3.4.m2.2.2.2.2.1.3.cmml">b</mi><mo id="S3.SS4.p3.4.m2.2.2.2.2.1.1a" xref="S3.SS4.p3.4.m2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S3.SS4.p3.4.m2.2.2.2.2.1.4" xref="S3.SS4.p3.4.m2.2.2.2.2.1.4.cmml">s</mi></mrow><mo id="S3.SS4.p3.4.m2.2.2.2.2.2" xref="S3.SS4.p3.4.m2.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p3.4.m2.1.1.1.1" xref="S3.SS4.p3.4.m2.1.1.1.1.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.4.m2.2b"><apply id="S3.SS4.p3.4.m2.2.3.cmml" xref="S3.SS4.p3.4.m2.2.3"><csymbol cd="ambiguous" id="S3.SS4.p3.4.m2.2.3.1.cmml" xref="S3.SS4.p3.4.m2.2.3">subscript</csymbol><ci id="S3.SS4.p3.4.m2.2.3.2.cmml" xref="S3.SS4.p3.4.m2.2.3.2">𝑄</ci><list id="S3.SS4.p3.4.m2.2.2.2.3.cmml" xref="S3.SS4.p3.4.m2.2.2.2.2"><apply id="S3.SS4.p3.4.m2.2.2.2.2.1.cmml" xref="S3.SS4.p3.4.m2.2.2.2.2.1"><times id="S3.SS4.p3.4.m2.2.2.2.2.1.1.cmml" xref="S3.SS4.p3.4.m2.2.2.2.2.1.1"></times><ci id="S3.SS4.p3.4.m2.2.2.2.2.1.2.cmml" xref="S3.SS4.p3.4.m2.2.2.2.2.1.2">𝑜</ci><ci id="S3.SS4.p3.4.m2.2.2.2.2.1.3.cmml" xref="S3.SS4.p3.4.m2.2.2.2.2.1.3">𝑏</ci><ci id="S3.SS4.p3.4.m2.2.2.2.2.1.4.cmml" xref="S3.SS4.p3.4.m2.2.2.2.2.1.4">𝑠</ci></apply><ci id="S3.SS4.p3.4.m2.1.1.1.1.cmml" xref="S3.SS4.p3.4.m2.1.1.1.1">𝑡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.4.m2.2c">Q_{obs,t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.4.m2.2d">italic_Q start_POSTSUBSCRIPT italic_o italic_b italic_s , italic_t end_POSTSUBSCRIPT</annotation></semantics></math> represent the query embedding vector encoded from goal instruction <math alttext="I_{g}" class="ltx_Math" display="inline" id="S3.SS4.p3.5.m3.1"><semantics id="S3.SS4.p3.5.m3.1a"><msub id="S3.SS4.p3.5.m3.1.1" xref="S3.SS4.p3.5.m3.1.1.cmml"><mi id="S3.SS4.p3.5.m3.1.1.2" xref="S3.SS4.p3.5.m3.1.1.2.cmml">I</mi><mi id="S3.SS4.p3.5.m3.1.1.3" xref="S3.SS4.p3.5.m3.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.5.m3.1b"><apply id="S3.SS4.p3.5.m3.1.1.cmml" xref="S3.SS4.p3.5.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.5.m3.1.1.1.cmml" xref="S3.SS4.p3.5.m3.1.1">subscript</csymbol><ci id="S3.SS4.p3.5.m3.1.1.2.cmml" xref="S3.SS4.p3.5.m3.1.1.2">𝐼</ci><ci id="S3.SS4.p3.5.m3.1.1.3.cmml" xref="S3.SS4.p3.5.m3.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.5.m3.1c">I_{g}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.5.m3.1d">italic_I start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT</annotation></semantics></math> and observation <math alttext="O_{t}" class="ltx_Math" display="inline" id="S3.SS4.p3.6.m4.1"><semantics id="S3.SS4.p3.6.m4.1a"><msub id="S3.SS4.p3.6.m4.1.1" xref="S3.SS4.p3.6.m4.1.1.cmml"><mi id="S3.SS4.p3.6.m4.1.1.2" xref="S3.SS4.p3.6.m4.1.1.2.cmml">O</mi><mi id="S3.SS4.p3.6.m4.1.1.3" xref="S3.SS4.p3.6.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.6.m4.1b"><apply id="S3.SS4.p3.6.m4.1.1.cmml" xref="S3.SS4.p3.6.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.6.m4.1.1.1.cmml" xref="S3.SS4.p3.6.m4.1.1">subscript</csymbol><ci id="S3.SS4.p3.6.m4.1.1.2.cmml" xref="S3.SS4.p3.6.m4.1.1.2">𝑂</ci><ci id="S3.SS4.p3.6.m4.1.1.3.cmml" xref="S3.SS4.p3.6.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.6.m4.1c">O_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.6.m4.1d">italic_O start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> at time t. <math alttext="\mathcal{F}" class="ltx_Math" display="inline" id="S3.SS4.p3.7.m5.1"><semantics id="S3.SS4.p3.7.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p3.7.m5.1.1" xref="S3.SS4.p3.7.m5.1.1.cmml">ℱ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.7.m5.1b"><ci id="S3.SS4.p3.7.m5.1.1.cmml" xref="S3.SS4.p3.7.m5.1.1">ℱ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.7.m5.1c">\mathcal{F}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.7.m5.1d">caligraphic_F</annotation></semantics></math> means scene graph extraction module. With these embedding representation of goal instruction and observation, we use cosine similarity to retrieval the most similar task trajectory in task name or in situation. Each set of embedding vectors serves as keys in the historical records, and will undergo similarity computation with the query. The similarity score for the <math alttext="n" class="ltx_Math" display="inline" id="S3.SS4.p3.8.m6.1"><semantics id="S3.SS4.p3.8.m6.1a"><mi id="S3.SS4.p3.8.m6.1.1" xref="S3.SS4.p3.8.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.8.m6.1b"><ci id="S3.SS4.p3.8.m6.1.1.cmml" xref="S3.SS4.p3.8.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.8.m6.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.8.m6.1d">italic_n</annotation></semantics></math>-th interaction in a task dialogue <math alttext="s_{t}" class="ltx_Math" display="inline" id="S3.SS4.p3.9.m7.1"><semantics id="S3.SS4.p3.9.m7.1a"><msub id="S3.SS4.p3.9.m7.1.1" xref="S3.SS4.p3.9.m7.1.1.cmml"><mi id="S3.SS4.p3.9.m7.1.1.2" xref="S3.SS4.p3.9.m7.1.1.2.cmml">s</mi><mi id="S3.SS4.p3.9.m7.1.1.3" xref="S3.SS4.p3.9.m7.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.9.m7.1b"><apply id="S3.SS4.p3.9.m7.1.1.cmml" xref="S3.SS4.p3.9.m7.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.9.m7.1.1.1.cmml" xref="S3.SS4.p3.9.m7.1.1">subscript</csymbol><ci id="S3.SS4.p3.9.m7.1.1.2.cmml" xref="S3.SS4.p3.9.m7.1.1.2">𝑠</ci><ci id="S3.SS4.p3.9.m7.1.1.3.cmml" xref="S3.SS4.p3.9.m7.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.9.m7.1c">s_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.9.m7.1d">italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is calculated as following:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="s_{n}=\text{sim}(Q_{goal},K_{goal})+\max_{t\in[1,N]}\text{sim}(Q_{obs,n},K_{%
obs,t})," class="ltx_Math" display="block" id="S3.E3.m1.7"><semantics id="S3.E3.m1.7a"><mrow id="S3.E3.m1.7.7.1" xref="S3.E3.m1.7.7.1.1.cmml"><mrow id="S3.E3.m1.7.7.1.1" xref="S3.E3.m1.7.7.1.1.cmml"><msub id="S3.E3.m1.7.7.1.1.6" xref="S3.E3.m1.7.7.1.1.6.cmml"><mi id="S3.E3.m1.7.7.1.1.6.2" xref="S3.E3.m1.7.7.1.1.6.2.cmml">s</mi><mi id="S3.E3.m1.7.7.1.1.6.3" xref="S3.E3.m1.7.7.1.1.6.3.cmml">n</mi></msub><mo id="S3.E3.m1.7.7.1.1.5" xref="S3.E3.m1.7.7.1.1.5.cmml">=</mo><mrow id="S3.E3.m1.7.7.1.1.4" xref="S3.E3.m1.7.7.1.1.4.cmml"><mrow id="S3.E3.m1.7.7.1.1.2.2" xref="S3.E3.m1.7.7.1.1.2.2.cmml"><mtext id="S3.E3.m1.7.7.1.1.2.2.4" xref="S3.E3.m1.7.7.1.1.2.2.4a.cmml">sim</mtext><mo id="S3.E3.m1.7.7.1.1.2.2.3" xref="S3.E3.m1.7.7.1.1.2.2.3.cmml">⁢</mo><mrow id="S3.E3.m1.7.7.1.1.2.2.2.2" xref="S3.E3.m1.7.7.1.1.2.2.2.3.cmml"><mo id="S3.E3.m1.7.7.1.1.2.2.2.2.3" stretchy="false" xref="S3.E3.m1.7.7.1.1.2.2.2.3.cmml">(</mo><msub id="S3.E3.m1.7.7.1.1.1.1.1.1.1" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.7.7.1.1.1.1.1.1.1.2" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.2.cmml">Q</mi><mrow id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.2" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.2.cmml">g</mi><mo id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.1" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.3" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.3.cmml">o</mi><mo id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.1a" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.4" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.4.cmml">a</mi><mo id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.1b" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.5" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.5.cmml">l</mi></mrow></msub><mo id="S3.E3.m1.7.7.1.1.2.2.2.2.4" xref="S3.E3.m1.7.7.1.1.2.2.2.3.cmml">,</mo><msub id="S3.E3.m1.7.7.1.1.2.2.2.2.2" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.cmml"><mi id="S3.E3.m1.7.7.1.1.2.2.2.2.2.2" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.2.cmml">K</mi><mrow id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.cmml"><mi id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.2" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.2.cmml">g</mi><mo id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.1" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.3" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.3.cmml">o</mi><mo id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.1a" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.4" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.4.cmml">a</mi><mo id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.1b" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.5" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.5.cmml">l</mi></mrow></msub><mo id="S3.E3.m1.7.7.1.1.2.2.2.2.5" stretchy="false" xref="S3.E3.m1.7.7.1.1.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.7.7.1.1.4.5" xref="S3.E3.m1.7.7.1.1.4.5.cmml">+</mo><mrow id="S3.E3.m1.7.7.1.1.4.4" xref="S3.E3.m1.7.7.1.1.4.4.cmml"><mrow id="S3.E3.m1.7.7.1.1.4.4.4" xref="S3.E3.m1.7.7.1.1.4.4.4.cmml"><munder id="S3.E3.m1.7.7.1.1.4.4.4.1" xref="S3.E3.m1.7.7.1.1.4.4.4.1.cmml"><mi id="S3.E3.m1.7.7.1.1.4.4.4.1.2" xref="S3.E3.m1.7.7.1.1.4.4.4.1.2.cmml">max</mi><mrow id="S3.E3.m1.2.2.2" xref="S3.E3.m1.2.2.2.cmml"><mi id="S3.E3.m1.2.2.2.4" xref="S3.E3.m1.2.2.2.4.cmml">t</mi><mo id="S3.E3.m1.2.2.2.3" xref="S3.E3.m1.2.2.2.3.cmml">∈</mo><mrow id="S3.E3.m1.2.2.2.5.2" xref="S3.E3.m1.2.2.2.5.1.cmml"><mo id="S3.E3.m1.2.2.2.5.2.1" stretchy="false" xref="S3.E3.m1.2.2.2.5.1.cmml">[</mo><mn id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml">1</mn><mo id="S3.E3.m1.2.2.2.5.2.2" xref="S3.E3.m1.2.2.2.5.1.cmml">,</mo><mi id="S3.E3.m1.2.2.2.2" xref="S3.E3.m1.2.2.2.2.cmml">N</mi><mo id="S3.E3.m1.2.2.2.5.2.3" stretchy="false" xref="S3.E3.m1.2.2.2.5.1.cmml">]</mo></mrow></mrow></munder><mo id="S3.E3.m1.7.7.1.1.4.4.4a" lspace="0.167em" xref="S3.E3.m1.7.7.1.1.4.4.4.cmml">⁡</mo><mtext id="S3.E3.m1.7.7.1.1.4.4.4.2" xref="S3.E3.m1.7.7.1.1.4.4.4.2a.cmml">sim</mtext></mrow><mo id="S3.E3.m1.7.7.1.1.4.4.3" xref="S3.E3.m1.7.7.1.1.4.4.3.cmml">⁢</mo><mrow id="S3.E3.m1.7.7.1.1.4.4.2.2" xref="S3.E3.m1.7.7.1.1.4.4.2.3.cmml"><mo id="S3.E3.m1.7.7.1.1.4.4.2.2.3" stretchy="false" xref="S3.E3.m1.7.7.1.1.4.4.2.3.cmml">(</mo><msub id="S3.E3.m1.7.7.1.1.3.3.1.1.1" xref="S3.E3.m1.7.7.1.1.3.3.1.1.1.cmml"><mi id="S3.E3.m1.7.7.1.1.3.3.1.1.1.2" xref="S3.E3.m1.7.7.1.1.3.3.1.1.1.2.cmml">Q</mi><mrow id="S3.E3.m1.4.4.2.2" xref="S3.E3.m1.4.4.2.3.cmml"><mrow id="S3.E3.m1.4.4.2.2.1" xref="S3.E3.m1.4.4.2.2.1.cmml"><mi id="S3.E3.m1.4.4.2.2.1.2" xref="S3.E3.m1.4.4.2.2.1.2.cmml">o</mi><mo id="S3.E3.m1.4.4.2.2.1.1" xref="S3.E3.m1.4.4.2.2.1.1.cmml">⁢</mo><mi id="S3.E3.m1.4.4.2.2.1.3" xref="S3.E3.m1.4.4.2.2.1.3.cmml">b</mi><mo id="S3.E3.m1.4.4.2.2.1.1a" xref="S3.E3.m1.4.4.2.2.1.1.cmml">⁢</mo><mi id="S3.E3.m1.4.4.2.2.1.4" xref="S3.E3.m1.4.4.2.2.1.4.cmml">s</mi></mrow><mo id="S3.E3.m1.4.4.2.2.2" xref="S3.E3.m1.4.4.2.3.cmml">,</mo><mi id="S3.E3.m1.3.3.1.1" xref="S3.E3.m1.3.3.1.1.cmml">n</mi></mrow></msub><mo id="S3.E3.m1.7.7.1.1.4.4.2.2.4" xref="S3.E3.m1.7.7.1.1.4.4.2.3.cmml">,</mo><msub id="S3.E3.m1.7.7.1.1.4.4.2.2.2" xref="S3.E3.m1.7.7.1.1.4.4.2.2.2.cmml"><mi id="S3.E3.m1.7.7.1.1.4.4.2.2.2.2" xref="S3.E3.m1.7.7.1.1.4.4.2.2.2.2.cmml">K</mi><mrow id="S3.E3.m1.6.6.2.2" xref="S3.E3.m1.6.6.2.3.cmml"><mrow id="S3.E3.m1.6.6.2.2.1" xref="S3.E3.m1.6.6.2.2.1.cmml"><mi id="S3.E3.m1.6.6.2.2.1.2" xref="S3.E3.m1.6.6.2.2.1.2.cmml">o</mi><mo id="S3.E3.m1.6.6.2.2.1.1" xref="S3.E3.m1.6.6.2.2.1.1.cmml">⁢</mo><mi id="S3.E3.m1.6.6.2.2.1.3" xref="S3.E3.m1.6.6.2.2.1.3.cmml">b</mi><mo id="S3.E3.m1.6.6.2.2.1.1a" xref="S3.E3.m1.6.6.2.2.1.1.cmml">⁢</mo><mi id="S3.E3.m1.6.6.2.2.1.4" xref="S3.E3.m1.6.6.2.2.1.4.cmml">s</mi></mrow><mo id="S3.E3.m1.6.6.2.2.2" xref="S3.E3.m1.6.6.2.3.cmml">,</mo><mi id="S3.E3.m1.5.5.1.1" xref="S3.E3.m1.5.5.1.1.cmml">t</mi></mrow></msub><mo id="S3.E3.m1.7.7.1.1.4.4.2.2.5" stretchy="false" xref="S3.E3.m1.7.7.1.1.4.4.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E3.m1.7.7.1.2" xref="S3.E3.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.7b"><apply id="S3.E3.m1.7.7.1.1.cmml" xref="S3.E3.m1.7.7.1"><eq id="S3.E3.m1.7.7.1.1.5.cmml" xref="S3.E3.m1.7.7.1.1.5"></eq><apply id="S3.E3.m1.7.7.1.1.6.cmml" xref="S3.E3.m1.7.7.1.1.6"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.1.1.6.1.cmml" xref="S3.E3.m1.7.7.1.1.6">subscript</csymbol><ci id="S3.E3.m1.7.7.1.1.6.2.cmml" xref="S3.E3.m1.7.7.1.1.6.2">𝑠</ci><ci id="S3.E3.m1.7.7.1.1.6.3.cmml" xref="S3.E3.m1.7.7.1.1.6.3">𝑛</ci></apply><apply id="S3.E3.m1.7.7.1.1.4.cmml" xref="S3.E3.m1.7.7.1.1.4"><plus id="S3.E3.m1.7.7.1.1.4.5.cmml" xref="S3.E3.m1.7.7.1.1.4.5"></plus><apply id="S3.E3.m1.7.7.1.1.2.2.cmml" xref="S3.E3.m1.7.7.1.1.2.2"><times id="S3.E3.m1.7.7.1.1.2.2.3.cmml" xref="S3.E3.m1.7.7.1.1.2.2.3"></times><ci id="S3.E3.m1.7.7.1.1.2.2.4a.cmml" xref="S3.E3.m1.7.7.1.1.2.2.4"><mtext id="S3.E3.m1.7.7.1.1.2.2.4.cmml" xref="S3.E3.m1.7.7.1.1.2.2.4">sim</mtext></ci><interval closure="open" id="S3.E3.m1.7.7.1.1.2.2.2.3.cmml" xref="S3.E3.m1.7.7.1.1.2.2.2.2"><apply id="S3.E3.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.7.7.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.2">𝑄</ci><apply id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3"><times id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.2">𝑔</ci><ci id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.3">𝑜</ci><ci id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.4.cmml" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.4">𝑎</ci><ci id="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.5.cmml" xref="S3.E3.m1.7.7.1.1.1.1.1.1.1.3.5">𝑙</ci></apply></apply><apply id="S3.E3.m1.7.7.1.1.2.2.2.2.2.cmml" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.1.1.2.2.2.2.2.1.cmml" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E3.m1.7.7.1.1.2.2.2.2.2.2.cmml" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.2">𝐾</ci><apply id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.cmml" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3"><times id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.1.cmml" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.1"></times><ci id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.2.cmml" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.2">𝑔</ci><ci id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.3.cmml" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.3">𝑜</ci><ci id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.4.cmml" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.4">𝑎</ci><ci id="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.5.cmml" xref="S3.E3.m1.7.7.1.1.2.2.2.2.2.3.5">𝑙</ci></apply></apply></interval></apply><apply id="S3.E3.m1.7.7.1.1.4.4.cmml" xref="S3.E3.m1.7.7.1.1.4.4"><times id="S3.E3.m1.7.7.1.1.4.4.3.cmml" xref="S3.E3.m1.7.7.1.1.4.4.3"></times><apply id="S3.E3.m1.7.7.1.1.4.4.4.cmml" xref="S3.E3.m1.7.7.1.1.4.4.4"><apply id="S3.E3.m1.7.7.1.1.4.4.4.1.cmml" xref="S3.E3.m1.7.7.1.1.4.4.4.1"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.1.1.4.4.4.1.1.cmml" xref="S3.E3.m1.7.7.1.1.4.4.4.1">subscript</csymbol><max id="S3.E3.m1.7.7.1.1.4.4.4.1.2.cmml" xref="S3.E3.m1.7.7.1.1.4.4.4.1.2"></max><apply id="S3.E3.m1.2.2.2.cmml" xref="S3.E3.m1.2.2.2"><in id="S3.E3.m1.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.3"></in><ci id="S3.E3.m1.2.2.2.4.cmml" xref="S3.E3.m1.2.2.2.4">𝑡</ci><interval closure="closed" id="S3.E3.m1.2.2.2.5.1.cmml" xref="S3.E3.m1.2.2.2.5.2"><cn id="S3.E3.m1.1.1.1.1.cmml" type="integer" xref="S3.E3.m1.1.1.1.1">1</cn><ci id="S3.E3.m1.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2">𝑁</ci></interval></apply></apply><ci id="S3.E3.m1.7.7.1.1.4.4.4.2a.cmml" xref="S3.E3.m1.7.7.1.1.4.4.4.2"><mtext id="S3.E3.m1.7.7.1.1.4.4.4.2.cmml" xref="S3.E3.m1.7.7.1.1.4.4.4.2">sim</mtext></ci></apply><interval closure="open" id="S3.E3.m1.7.7.1.1.4.4.2.3.cmml" xref="S3.E3.m1.7.7.1.1.4.4.2.2"><apply id="S3.E3.m1.7.7.1.1.3.3.1.1.1.cmml" xref="S3.E3.m1.7.7.1.1.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.1.1.3.3.1.1.1.1.cmml" xref="S3.E3.m1.7.7.1.1.3.3.1.1.1">subscript</csymbol><ci id="S3.E3.m1.7.7.1.1.3.3.1.1.1.2.cmml" xref="S3.E3.m1.7.7.1.1.3.3.1.1.1.2">𝑄</ci><list id="S3.E3.m1.4.4.2.3.cmml" xref="S3.E3.m1.4.4.2.2"><apply id="S3.E3.m1.4.4.2.2.1.cmml" xref="S3.E3.m1.4.4.2.2.1"><times id="S3.E3.m1.4.4.2.2.1.1.cmml" xref="S3.E3.m1.4.4.2.2.1.1"></times><ci id="S3.E3.m1.4.4.2.2.1.2.cmml" xref="S3.E3.m1.4.4.2.2.1.2">𝑜</ci><ci id="S3.E3.m1.4.4.2.2.1.3.cmml" xref="S3.E3.m1.4.4.2.2.1.3">𝑏</ci><ci id="S3.E3.m1.4.4.2.2.1.4.cmml" xref="S3.E3.m1.4.4.2.2.1.4">𝑠</ci></apply><ci id="S3.E3.m1.3.3.1.1.cmml" xref="S3.E3.m1.3.3.1.1">𝑛</ci></list></apply><apply id="S3.E3.m1.7.7.1.1.4.4.2.2.2.cmml" xref="S3.E3.m1.7.7.1.1.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.1.1.4.4.2.2.2.1.cmml" xref="S3.E3.m1.7.7.1.1.4.4.2.2.2">subscript</csymbol><ci id="S3.E3.m1.7.7.1.1.4.4.2.2.2.2.cmml" xref="S3.E3.m1.7.7.1.1.4.4.2.2.2.2">𝐾</ci><list id="S3.E3.m1.6.6.2.3.cmml" xref="S3.E3.m1.6.6.2.2"><apply id="S3.E3.m1.6.6.2.2.1.cmml" xref="S3.E3.m1.6.6.2.2.1"><times id="S3.E3.m1.6.6.2.2.1.1.cmml" xref="S3.E3.m1.6.6.2.2.1.1"></times><ci id="S3.E3.m1.6.6.2.2.1.2.cmml" xref="S3.E3.m1.6.6.2.2.1.2">𝑜</ci><ci id="S3.E3.m1.6.6.2.2.1.3.cmml" xref="S3.E3.m1.6.6.2.2.1.3">𝑏</ci><ci id="S3.E3.m1.6.6.2.2.1.4.cmml" xref="S3.E3.m1.6.6.2.2.1.4">𝑠</ci></apply><ci id="S3.E3.m1.5.5.1.1.cmml" xref="S3.E3.m1.5.5.1.1">𝑡</ci></list></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.7c">s_{n}=\text{sim}(Q_{goal},K_{goal})+\max_{t\in[1,N]}\text{sim}(Q_{obs,n},K_{%
obs,t}),</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.7d">italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT = sim ( italic_Q start_POSTSUBSCRIPT italic_g italic_o italic_a italic_l end_POSTSUBSCRIPT , italic_K start_POSTSUBSCRIPT italic_g italic_o italic_a italic_l end_POSTSUBSCRIPT ) + roman_max start_POSTSUBSCRIPT italic_t ∈ [ 1 , italic_N ] end_POSTSUBSCRIPT sim ( italic_Q start_POSTSUBSCRIPT italic_o italic_b italic_s , italic_n end_POSTSUBSCRIPT , italic_K start_POSTSUBSCRIPT italic_o italic_b italic_s , italic_t end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS4.p3.16">where <math alttext="Q_{goal}" class="ltx_Math" display="inline" id="S3.SS4.p3.10.m1.1"><semantics id="S3.SS4.p3.10.m1.1a"><msub id="S3.SS4.p3.10.m1.1.1" xref="S3.SS4.p3.10.m1.1.1.cmml"><mi id="S3.SS4.p3.10.m1.1.1.2" xref="S3.SS4.p3.10.m1.1.1.2.cmml">Q</mi><mrow id="S3.SS4.p3.10.m1.1.1.3" xref="S3.SS4.p3.10.m1.1.1.3.cmml"><mi id="S3.SS4.p3.10.m1.1.1.3.2" xref="S3.SS4.p3.10.m1.1.1.3.2.cmml">g</mi><mo id="S3.SS4.p3.10.m1.1.1.3.1" xref="S3.SS4.p3.10.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p3.10.m1.1.1.3.3" xref="S3.SS4.p3.10.m1.1.1.3.3.cmml">o</mi><mo id="S3.SS4.p3.10.m1.1.1.3.1a" xref="S3.SS4.p3.10.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p3.10.m1.1.1.3.4" xref="S3.SS4.p3.10.m1.1.1.3.4.cmml">a</mi><mo id="S3.SS4.p3.10.m1.1.1.3.1b" xref="S3.SS4.p3.10.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p3.10.m1.1.1.3.5" xref="S3.SS4.p3.10.m1.1.1.3.5.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.10.m1.1b"><apply id="S3.SS4.p3.10.m1.1.1.cmml" xref="S3.SS4.p3.10.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.10.m1.1.1.1.cmml" xref="S3.SS4.p3.10.m1.1.1">subscript</csymbol><ci id="S3.SS4.p3.10.m1.1.1.2.cmml" xref="S3.SS4.p3.10.m1.1.1.2">𝑄</ci><apply id="S3.SS4.p3.10.m1.1.1.3.cmml" xref="S3.SS4.p3.10.m1.1.1.3"><times id="S3.SS4.p3.10.m1.1.1.3.1.cmml" xref="S3.SS4.p3.10.m1.1.1.3.1"></times><ci id="S3.SS4.p3.10.m1.1.1.3.2.cmml" xref="S3.SS4.p3.10.m1.1.1.3.2">𝑔</ci><ci id="S3.SS4.p3.10.m1.1.1.3.3.cmml" xref="S3.SS4.p3.10.m1.1.1.3.3">𝑜</ci><ci id="S3.SS4.p3.10.m1.1.1.3.4.cmml" xref="S3.SS4.p3.10.m1.1.1.3.4">𝑎</ci><ci id="S3.SS4.p3.10.m1.1.1.3.5.cmml" xref="S3.SS4.p3.10.m1.1.1.3.5">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.10.m1.1c">Q_{goal}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.10.m1.1d">italic_Q start_POSTSUBSCRIPT italic_g italic_o italic_a italic_l end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="K_{goal}" class="ltx_Math" display="inline" id="S3.SS4.p3.11.m2.1"><semantics id="S3.SS4.p3.11.m2.1a"><msub id="S3.SS4.p3.11.m2.1.1" xref="S3.SS4.p3.11.m2.1.1.cmml"><mi id="S3.SS4.p3.11.m2.1.1.2" xref="S3.SS4.p3.11.m2.1.1.2.cmml">K</mi><mrow id="S3.SS4.p3.11.m2.1.1.3" xref="S3.SS4.p3.11.m2.1.1.3.cmml"><mi id="S3.SS4.p3.11.m2.1.1.3.2" xref="S3.SS4.p3.11.m2.1.1.3.2.cmml">g</mi><mo id="S3.SS4.p3.11.m2.1.1.3.1" xref="S3.SS4.p3.11.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p3.11.m2.1.1.3.3" xref="S3.SS4.p3.11.m2.1.1.3.3.cmml">o</mi><mo id="S3.SS4.p3.11.m2.1.1.3.1a" xref="S3.SS4.p3.11.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p3.11.m2.1.1.3.4" xref="S3.SS4.p3.11.m2.1.1.3.4.cmml">a</mi><mo id="S3.SS4.p3.11.m2.1.1.3.1b" xref="S3.SS4.p3.11.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p3.11.m2.1.1.3.5" xref="S3.SS4.p3.11.m2.1.1.3.5.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.11.m2.1b"><apply id="S3.SS4.p3.11.m2.1.1.cmml" xref="S3.SS4.p3.11.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.11.m2.1.1.1.cmml" xref="S3.SS4.p3.11.m2.1.1">subscript</csymbol><ci id="S3.SS4.p3.11.m2.1.1.2.cmml" xref="S3.SS4.p3.11.m2.1.1.2">𝐾</ci><apply id="S3.SS4.p3.11.m2.1.1.3.cmml" xref="S3.SS4.p3.11.m2.1.1.3"><times id="S3.SS4.p3.11.m2.1.1.3.1.cmml" xref="S3.SS4.p3.11.m2.1.1.3.1"></times><ci id="S3.SS4.p3.11.m2.1.1.3.2.cmml" xref="S3.SS4.p3.11.m2.1.1.3.2">𝑔</ci><ci id="S3.SS4.p3.11.m2.1.1.3.3.cmml" xref="S3.SS4.p3.11.m2.1.1.3.3">𝑜</ci><ci id="S3.SS4.p3.11.m2.1.1.3.4.cmml" xref="S3.SS4.p3.11.m2.1.1.3.4">𝑎</ci><ci id="S3.SS4.p3.11.m2.1.1.3.5.cmml" xref="S3.SS4.p3.11.m2.1.1.3.5">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.11.m2.1c">K_{goal}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.11.m2.1d">italic_K start_POSTSUBSCRIPT italic_g italic_o italic_a italic_l end_POSTSUBSCRIPT</annotation></semantics></math> denote the embedding vectors corresponding to goal instructions, while <math alttext="Q_{obs,n}" class="ltx_Math" display="inline" id="S3.SS4.p3.12.m3.2"><semantics id="S3.SS4.p3.12.m3.2a"><msub id="S3.SS4.p3.12.m3.2.3" xref="S3.SS4.p3.12.m3.2.3.cmml"><mi id="S3.SS4.p3.12.m3.2.3.2" xref="S3.SS4.p3.12.m3.2.3.2.cmml">Q</mi><mrow id="S3.SS4.p3.12.m3.2.2.2.2" xref="S3.SS4.p3.12.m3.2.2.2.3.cmml"><mrow id="S3.SS4.p3.12.m3.2.2.2.2.1" xref="S3.SS4.p3.12.m3.2.2.2.2.1.cmml"><mi id="S3.SS4.p3.12.m3.2.2.2.2.1.2" xref="S3.SS4.p3.12.m3.2.2.2.2.1.2.cmml">o</mi><mo id="S3.SS4.p3.12.m3.2.2.2.2.1.1" xref="S3.SS4.p3.12.m3.2.2.2.2.1.1.cmml">⁢</mo><mi id="S3.SS4.p3.12.m3.2.2.2.2.1.3" xref="S3.SS4.p3.12.m3.2.2.2.2.1.3.cmml">b</mi><mo id="S3.SS4.p3.12.m3.2.2.2.2.1.1a" xref="S3.SS4.p3.12.m3.2.2.2.2.1.1.cmml">⁢</mo><mi id="S3.SS4.p3.12.m3.2.2.2.2.1.4" xref="S3.SS4.p3.12.m3.2.2.2.2.1.4.cmml">s</mi></mrow><mo id="S3.SS4.p3.12.m3.2.2.2.2.2" xref="S3.SS4.p3.12.m3.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p3.12.m3.1.1.1.1" xref="S3.SS4.p3.12.m3.1.1.1.1.cmml">n</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.12.m3.2b"><apply id="S3.SS4.p3.12.m3.2.3.cmml" xref="S3.SS4.p3.12.m3.2.3"><csymbol cd="ambiguous" id="S3.SS4.p3.12.m3.2.3.1.cmml" xref="S3.SS4.p3.12.m3.2.3">subscript</csymbol><ci id="S3.SS4.p3.12.m3.2.3.2.cmml" xref="S3.SS4.p3.12.m3.2.3.2">𝑄</ci><list id="S3.SS4.p3.12.m3.2.2.2.3.cmml" xref="S3.SS4.p3.12.m3.2.2.2.2"><apply id="S3.SS4.p3.12.m3.2.2.2.2.1.cmml" xref="S3.SS4.p3.12.m3.2.2.2.2.1"><times id="S3.SS4.p3.12.m3.2.2.2.2.1.1.cmml" xref="S3.SS4.p3.12.m3.2.2.2.2.1.1"></times><ci id="S3.SS4.p3.12.m3.2.2.2.2.1.2.cmml" xref="S3.SS4.p3.12.m3.2.2.2.2.1.2">𝑜</ci><ci id="S3.SS4.p3.12.m3.2.2.2.2.1.3.cmml" xref="S3.SS4.p3.12.m3.2.2.2.2.1.3">𝑏</ci><ci id="S3.SS4.p3.12.m3.2.2.2.2.1.4.cmml" xref="S3.SS4.p3.12.m3.2.2.2.2.1.4">𝑠</ci></apply><ci id="S3.SS4.p3.12.m3.1.1.1.1.cmml" xref="S3.SS4.p3.12.m3.1.1.1.1">𝑛</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.12.m3.2c">Q_{obs,n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.12.m3.2d">italic_Q start_POSTSUBSCRIPT italic_o italic_b italic_s , italic_n end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="K_{obs,t}" class="ltx_Math" display="inline" id="S3.SS4.p3.13.m4.2"><semantics id="S3.SS4.p3.13.m4.2a"><msub id="S3.SS4.p3.13.m4.2.3" xref="S3.SS4.p3.13.m4.2.3.cmml"><mi id="S3.SS4.p3.13.m4.2.3.2" xref="S3.SS4.p3.13.m4.2.3.2.cmml">K</mi><mrow id="S3.SS4.p3.13.m4.2.2.2.2" xref="S3.SS4.p3.13.m4.2.2.2.3.cmml"><mrow id="S3.SS4.p3.13.m4.2.2.2.2.1" xref="S3.SS4.p3.13.m4.2.2.2.2.1.cmml"><mi id="S3.SS4.p3.13.m4.2.2.2.2.1.2" xref="S3.SS4.p3.13.m4.2.2.2.2.1.2.cmml">o</mi><mo id="S3.SS4.p3.13.m4.2.2.2.2.1.1" xref="S3.SS4.p3.13.m4.2.2.2.2.1.1.cmml">⁢</mo><mi id="S3.SS4.p3.13.m4.2.2.2.2.1.3" xref="S3.SS4.p3.13.m4.2.2.2.2.1.3.cmml">b</mi><mo id="S3.SS4.p3.13.m4.2.2.2.2.1.1a" xref="S3.SS4.p3.13.m4.2.2.2.2.1.1.cmml">⁢</mo><mi id="S3.SS4.p3.13.m4.2.2.2.2.1.4" xref="S3.SS4.p3.13.m4.2.2.2.2.1.4.cmml">s</mi></mrow><mo id="S3.SS4.p3.13.m4.2.2.2.2.2" xref="S3.SS4.p3.13.m4.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p3.13.m4.1.1.1.1" xref="S3.SS4.p3.13.m4.1.1.1.1.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.13.m4.2b"><apply id="S3.SS4.p3.13.m4.2.3.cmml" xref="S3.SS4.p3.13.m4.2.3"><csymbol cd="ambiguous" id="S3.SS4.p3.13.m4.2.3.1.cmml" xref="S3.SS4.p3.13.m4.2.3">subscript</csymbol><ci id="S3.SS4.p3.13.m4.2.3.2.cmml" xref="S3.SS4.p3.13.m4.2.3.2">𝐾</ci><list id="S3.SS4.p3.13.m4.2.2.2.3.cmml" xref="S3.SS4.p3.13.m4.2.2.2.2"><apply id="S3.SS4.p3.13.m4.2.2.2.2.1.cmml" xref="S3.SS4.p3.13.m4.2.2.2.2.1"><times id="S3.SS4.p3.13.m4.2.2.2.2.1.1.cmml" xref="S3.SS4.p3.13.m4.2.2.2.2.1.1"></times><ci id="S3.SS4.p3.13.m4.2.2.2.2.1.2.cmml" xref="S3.SS4.p3.13.m4.2.2.2.2.1.2">𝑜</ci><ci id="S3.SS4.p3.13.m4.2.2.2.2.1.3.cmml" xref="S3.SS4.p3.13.m4.2.2.2.2.1.3">𝑏</ci><ci id="S3.SS4.p3.13.m4.2.2.2.2.1.4.cmml" xref="S3.SS4.p3.13.m4.2.2.2.2.1.4">𝑠</ci></apply><ci id="S3.SS4.p3.13.m4.1.1.1.1.cmml" xref="S3.SS4.p3.13.m4.1.1.1.1">𝑡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.13.m4.2c">K_{obs,t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.13.m4.2d">italic_K start_POSTSUBSCRIPT italic_o italic_b italic_s , italic_t end_POSTSUBSCRIPT</annotation></semantics></math> represent the embedding vectors of scene graph for the <math alttext="n" class="ltx_Math" display="inline" id="S3.SS4.p3.14.m5.1"><semantics id="S3.SS4.p3.14.m5.1a"><mi id="S3.SS4.p3.14.m5.1.1" xref="S3.SS4.p3.14.m5.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.14.m5.1b"><ci id="S3.SS4.p3.14.m5.1.1.cmml" xref="S3.SS4.p3.14.m5.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.14.m5.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.14.m5.1d">italic_n</annotation></semantics></math>-th interaction and the <math alttext="t" class="ltx_Math" display="inline" id="S3.SS4.p3.15.m6.1"><semantics id="S3.SS4.p3.15.m6.1a"><mi id="S3.SS4.p3.15.m6.1.1" xref="S3.SS4.p3.15.m6.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.15.m6.1b"><ci id="S3.SS4.p3.15.m6.1.1.cmml" xref="S3.SS4.p3.15.m6.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.15.m6.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.15.m6.1d">italic_t</annotation></semantics></math>-th interaction, respectively. We select the maximal similarity scores in the <math alttext="t" class="ltx_Math" display="inline" id="S3.SS4.p3.16.m7.1"><semantics id="S3.SS4.p3.16.m7.1a"><mi id="S3.SS4.p3.16.m7.1.1" xref="S3.SS4.p3.16.m7.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.16.m7.1b"><ci id="S3.SS4.p3.16.m7.1.1.cmml" xref="S3.SS4.p3.16.m7.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.16.m7.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.16.m7.1d">italic_t</annotation></semantics></math>-interaction for scene graphs. Ultimately, within the database, P-RAG selects the top K entries as output based on composite score that incorporates both task and scene graph similarities.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5. </span>Progressive Iteration</h3>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.2.1.1">Algorithm 1</span> </span> P-RAG for Planning</figcaption>
<div class="ltx_listing ltx_listing" id="alg1.3">
<div class="ltx_listingline" id="alg1.l0">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l0.1.1.1" style="font-size:80%;">0:</span></span><span class="ltx_text" id="alg1.l0.2" style="font-size:90%;">  </span><math alttext="ENV_{i},i=1,2,...,N_{env}" class="ltx_Math" display="inline" id="alg1.l0.m1.5"><semantics id="alg1.l0.m1.5a"><mrow id="alg1.l0.m1.5.5.2" xref="alg1.l0.m1.5.5.3.cmml"><mrow id="alg1.l0.m1.4.4.1.1" xref="alg1.l0.m1.4.4.1.1.cmml"><mrow id="alg1.l0.m1.4.4.1.1.1.1" xref="alg1.l0.m1.4.4.1.1.1.2.cmml"><mrow id="alg1.l0.m1.4.4.1.1.1.1.1" xref="alg1.l0.m1.4.4.1.1.1.1.1.cmml"><mi id="alg1.l0.m1.4.4.1.1.1.1.1.2" mathsize="90%" xref="alg1.l0.m1.4.4.1.1.1.1.1.2.cmml">E</mi><mo id="alg1.l0.m1.4.4.1.1.1.1.1.1" xref="alg1.l0.m1.4.4.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l0.m1.4.4.1.1.1.1.1.3" mathsize="90%" xref="alg1.l0.m1.4.4.1.1.1.1.1.3.cmml">N</mi><mo id="alg1.l0.m1.4.4.1.1.1.1.1.1a" xref="alg1.l0.m1.4.4.1.1.1.1.1.1.cmml">⁢</mo><msub id="alg1.l0.m1.4.4.1.1.1.1.1.4" xref="alg1.l0.m1.4.4.1.1.1.1.1.4.cmml"><mi id="alg1.l0.m1.4.4.1.1.1.1.1.4.2" mathsize="90%" xref="alg1.l0.m1.4.4.1.1.1.1.1.4.2.cmml">V</mi><mi id="alg1.l0.m1.4.4.1.1.1.1.1.4.3" mathsize="90%" xref="alg1.l0.m1.4.4.1.1.1.1.1.4.3.cmml">i</mi></msub></mrow><mo id="alg1.l0.m1.4.4.1.1.1.1.2" mathsize="90%" xref="alg1.l0.m1.4.4.1.1.1.2.cmml">,</mo><mi id="alg1.l0.m1.1.1" mathsize="90%" xref="alg1.l0.m1.1.1.cmml">i</mi></mrow><mo id="alg1.l0.m1.4.4.1.1.2" mathsize="90%" xref="alg1.l0.m1.4.4.1.1.2.cmml">=</mo><mn id="alg1.l0.m1.4.4.1.1.3" mathsize="90%" xref="alg1.l0.m1.4.4.1.1.3.cmml">1</mn></mrow><mo id="alg1.l0.m1.5.5.2.3" mathsize="90%" xref="alg1.l0.m1.5.5.3a.cmml">,</mo><mrow id="alg1.l0.m1.5.5.2.2.1" xref="alg1.l0.m1.5.5.2.2.2.cmml"><mn id="alg1.l0.m1.2.2" mathsize="90%" xref="alg1.l0.m1.2.2.cmml">2</mn><mo id="alg1.l0.m1.5.5.2.2.1.2" mathsize="90%" xref="alg1.l0.m1.5.5.2.2.2.cmml">,</mo><mi id="alg1.l0.m1.3.3" mathsize="90%" mathvariant="normal" xref="alg1.l0.m1.3.3.cmml">…</mi><mo id="alg1.l0.m1.5.5.2.2.1.3" mathsize="90%" xref="alg1.l0.m1.5.5.2.2.2.cmml">,</mo><msub id="alg1.l0.m1.5.5.2.2.1.1" xref="alg1.l0.m1.5.5.2.2.1.1.cmml"><mi id="alg1.l0.m1.5.5.2.2.1.1.2" mathsize="90%" xref="alg1.l0.m1.5.5.2.2.1.1.2.cmml">N</mi><mrow id="alg1.l0.m1.5.5.2.2.1.1.3" xref="alg1.l0.m1.5.5.2.2.1.1.3.cmml"><mi id="alg1.l0.m1.5.5.2.2.1.1.3.2" mathsize="90%" xref="alg1.l0.m1.5.5.2.2.1.1.3.2.cmml">e</mi><mo id="alg1.l0.m1.5.5.2.2.1.1.3.1" xref="alg1.l0.m1.5.5.2.2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m1.5.5.2.2.1.1.3.3" mathsize="90%" xref="alg1.l0.m1.5.5.2.2.1.1.3.3.cmml">n</mi><mo id="alg1.l0.m1.5.5.2.2.1.1.3.1a" xref="alg1.l0.m1.5.5.2.2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m1.5.5.2.2.1.1.3.4" mathsize="90%" xref="alg1.l0.m1.5.5.2.2.1.1.3.4.cmml">v</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l0.m1.5b"><apply id="alg1.l0.m1.5.5.3.cmml" xref="alg1.l0.m1.5.5.2"><csymbol cd="ambiguous" id="alg1.l0.m1.5.5.3a.cmml" xref="alg1.l0.m1.5.5.2.3">formulae-sequence</csymbol><apply id="alg1.l0.m1.4.4.1.1.cmml" xref="alg1.l0.m1.4.4.1.1"><eq id="alg1.l0.m1.4.4.1.1.2.cmml" xref="alg1.l0.m1.4.4.1.1.2"></eq><list id="alg1.l0.m1.4.4.1.1.1.2.cmml" xref="alg1.l0.m1.4.4.1.1.1.1"><apply id="alg1.l0.m1.4.4.1.1.1.1.1.cmml" xref="alg1.l0.m1.4.4.1.1.1.1.1"><times id="alg1.l0.m1.4.4.1.1.1.1.1.1.cmml" xref="alg1.l0.m1.4.4.1.1.1.1.1.1"></times><ci id="alg1.l0.m1.4.4.1.1.1.1.1.2.cmml" xref="alg1.l0.m1.4.4.1.1.1.1.1.2">𝐸</ci><ci id="alg1.l0.m1.4.4.1.1.1.1.1.3.cmml" xref="alg1.l0.m1.4.4.1.1.1.1.1.3">𝑁</ci><apply id="alg1.l0.m1.4.4.1.1.1.1.1.4.cmml" xref="alg1.l0.m1.4.4.1.1.1.1.1.4"><csymbol cd="ambiguous" id="alg1.l0.m1.4.4.1.1.1.1.1.4.1.cmml" xref="alg1.l0.m1.4.4.1.1.1.1.1.4">subscript</csymbol><ci id="alg1.l0.m1.4.4.1.1.1.1.1.4.2.cmml" xref="alg1.l0.m1.4.4.1.1.1.1.1.4.2">𝑉</ci><ci id="alg1.l0.m1.4.4.1.1.1.1.1.4.3.cmml" xref="alg1.l0.m1.4.4.1.1.1.1.1.4.3">𝑖</ci></apply></apply><ci id="alg1.l0.m1.1.1.cmml" xref="alg1.l0.m1.1.1">𝑖</ci></list><cn id="alg1.l0.m1.4.4.1.1.3.cmml" type="integer" xref="alg1.l0.m1.4.4.1.1.3">1</cn></apply><list id="alg1.l0.m1.5.5.2.2.2.cmml" xref="alg1.l0.m1.5.5.2.2.1"><cn id="alg1.l0.m1.2.2.cmml" type="integer" xref="alg1.l0.m1.2.2">2</cn><ci id="alg1.l0.m1.3.3.cmml" xref="alg1.l0.m1.3.3">…</ci><apply id="alg1.l0.m1.5.5.2.2.1.1.cmml" xref="alg1.l0.m1.5.5.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l0.m1.5.5.2.2.1.1.1.cmml" xref="alg1.l0.m1.5.5.2.2.1.1">subscript</csymbol><ci id="alg1.l0.m1.5.5.2.2.1.1.2.cmml" xref="alg1.l0.m1.5.5.2.2.1.1.2">𝑁</ci><apply id="alg1.l0.m1.5.5.2.2.1.1.3.cmml" xref="alg1.l0.m1.5.5.2.2.1.1.3"><times id="alg1.l0.m1.5.5.2.2.1.1.3.1.cmml" xref="alg1.l0.m1.5.5.2.2.1.1.3.1"></times><ci id="alg1.l0.m1.5.5.2.2.1.1.3.2.cmml" xref="alg1.l0.m1.5.5.2.2.1.1.3.2">𝑒</ci><ci id="alg1.l0.m1.5.5.2.2.1.1.3.3.cmml" xref="alg1.l0.m1.5.5.2.2.1.1.3.3">𝑛</ci><ci id="alg1.l0.m1.5.5.2.2.1.1.3.4.cmml" xref="alg1.l0.m1.5.5.2.2.1.1.3.4">𝑣</ci></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m1.5c">ENV_{i},i=1,2,...,N_{env}</annotation><annotation encoding="application/x-llamapun" id="alg1.l0.m1.5d">italic_E italic_N italic_V start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_i = 1 , 2 , … , italic_N start_POSTSUBSCRIPT italic_e italic_n italic_v end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l0.3" style="font-size:90%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l0a">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l0a.1.1.1" style="font-size:80%;">0:</span></span><span class="ltx_text" id="alg1.l0a.2" style="font-size:90%;">  </span><math alttext="{A_{i,t}}_{t=1,2,...,N}^{i=1,2,...,N_{env}}" class="ltx_Math" display="inline" id="alg1.l0a.m1.10"><semantics id="alg1.l0a.m1.10a"><mmultiscripts id="alg1.l0a.m1.10.11" xref="alg1.l0a.m1.10.11.cmml"><mi id="alg1.l0a.m1.10.11.2.2.2" mathsize="90%" xref="alg1.l0a.m1.10.11.2.2.2.cmml">A</mi><mrow id="alg1.l0a.m1.2.2.2.4" xref="alg1.l0a.m1.2.2.2.3.cmml"><mi id="alg1.l0a.m1.1.1.1.1" mathsize="90%" xref="alg1.l0a.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l0a.m1.2.2.2.4.1" mathsize="90%" xref="alg1.l0a.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l0a.m1.2.2.2.2" mathsize="90%" xref="alg1.l0a.m1.2.2.2.2.cmml">t</mi></mrow><mrow id="alg1.l0a.m1.10.11a" xref="alg1.l0a.m1.10.11.cmml"></mrow><mrow id="alg1.l0a.m1.6.6.4" xref="alg1.l0a.m1.6.6.4.cmml"><mi id="alg1.l0a.m1.6.6.4.6" mathsize="90%" xref="alg1.l0a.m1.6.6.4.6.cmml">t</mi><mo id="alg1.l0a.m1.6.6.4.5" mathsize="90%" xref="alg1.l0a.m1.6.6.4.5.cmml">=</mo><mrow id="alg1.l0a.m1.6.6.4.7.2" xref="alg1.l0a.m1.6.6.4.7.1.cmml"><mn id="alg1.l0a.m1.3.3.1.1" mathsize="90%" xref="alg1.l0a.m1.3.3.1.1.cmml">1</mn><mo id="alg1.l0a.m1.6.6.4.7.2.1" mathsize="90%" xref="alg1.l0a.m1.6.6.4.7.1.cmml">,</mo><mn id="alg1.l0a.m1.4.4.2.2" mathsize="90%" xref="alg1.l0a.m1.4.4.2.2.cmml">2</mn><mo id="alg1.l0a.m1.6.6.4.7.2.2" mathsize="90%" xref="alg1.l0a.m1.6.6.4.7.1.cmml">,</mo><mi id="alg1.l0a.m1.5.5.3.3" mathsize="90%" mathvariant="normal" xref="alg1.l0a.m1.5.5.3.3.cmml">…</mi><mo id="alg1.l0a.m1.6.6.4.7.2.3" mathsize="90%" xref="alg1.l0a.m1.6.6.4.7.1.cmml">,</mo><mi id="alg1.l0a.m1.6.6.4.4" mathsize="90%" xref="alg1.l0a.m1.6.6.4.4.cmml">N</mi></mrow></mrow><mrow id="alg1.l0a.m1.10.10.4" xref="alg1.l0a.m1.10.10.4.cmml"><mi id="alg1.l0a.m1.10.10.4.6" mathsize="90%" xref="alg1.l0a.m1.10.10.4.6.cmml">i</mi><mo id="alg1.l0a.m1.10.10.4.5" mathsize="90%" xref="alg1.l0a.m1.10.10.4.5.cmml">=</mo><mrow id="alg1.l0a.m1.10.10.4.4.1" xref="alg1.l0a.m1.10.10.4.4.2.cmml"><mn id="alg1.l0a.m1.7.7.1.1" mathsize="90%" xref="alg1.l0a.m1.7.7.1.1.cmml">1</mn><mo id="alg1.l0a.m1.10.10.4.4.1.2" mathsize="90%" xref="alg1.l0a.m1.10.10.4.4.2.cmml">,</mo><mn id="alg1.l0a.m1.8.8.2.2" mathsize="90%" xref="alg1.l0a.m1.8.8.2.2.cmml">2</mn><mo id="alg1.l0a.m1.10.10.4.4.1.3" mathsize="90%" xref="alg1.l0a.m1.10.10.4.4.2.cmml">,</mo><mi id="alg1.l0a.m1.9.9.3.3" mathsize="90%" mathvariant="normal" xref="alg1.l0a.m1.9.9.3.3.cmml">…</mi><mo id="alg1.l0a.m1.10.10.4.4.1.4" mathsize="90%" xref="alg1.l0a.m1.10.10.4.4.2.cmml">,</mo><msub id="alg1.l0a.m1.10.10.4.4.1.1" xref="alg1.l0a.m1.10.10.4.4.1.1.cmml"><mi id="alg1.l0a.m1.10.10.4.4.1.1.2" mathsize="90%" xref="alg1.l0a.m1.10.10.4.4.1.1.2.cmml">N</mi><mrow id="alg1.l0a.m1.10.10.4.4.1.1.3" xref="alg1.l0a.m1.10.10.4.4.1.1.3.cmml"><mi id="alg1.l0a.m1.10.10.4.4.1.1.3.2" mathsize="90%" xref="alg1.l0a.m1.10.10.4.4.1.1.3.2.cmml">e</mi><mo id="alg1.l0a.m1.10.10.4.4.1.1.3.1" xref="alg1.l0a.m1.10.10.4.4.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0a.m1.10.10.4.4.1.1.3.3" mathsize="90%" xref="alg1.l0a.m1.10.10.4.4.1.1.3.3.cmml">n</mi><mo id="alg1.l0a.m1.10.10.4.4.1.1.3.1a" xref="alg1.l0a.m1.10.10.4.4.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0a.m1.10.10.4.4.1.1.3.4" mathsize="90%" xref="alg1.l0a.m1.10.10.4.4.1.1.3.4.cmml">v</mi></mrow></msub></mrow></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="alg1.l0a.m1.10b"><apply id="alg1.l0a.m1.10.11.cmml" xref="alg1.l0a.m1.10.11"><csymbol cd="ambiguous" id="alg1.l0a.m1.10.11.1.cmml" xref="alg1.l0a.m1.10.11">superscript</csymbol><apply id="alg1.l0a.m1.10.11.2.cmml" xref="alg1.l0a.m1.10.11"><csymbol cd="ambiguous" id="alg1.l0a.m1.10.11.2.1.cmml" xref="alg1.l0a.m1.10.11">subscript</csymbol><apply id="alg1.l0a.m1.10.11.2.2.cmml" xref="alg1.l0a.m1.10.11"><csymbol cd="ambiguous" id="alg1.l0a.m1.10.11.2.2.1.cmml" xref="alg1.l0a.m1.10.11">subscript</csymbol><ci id="alg1.l0a.m1.10.11.2.2.2.cmml" xref="alg1.l0a.m1.10.11.2.2.2">𝐴</ci><list id="alg1.l0a.m1.2.2.2.3.cmml" xref="alg1.l0a.m1.2.2.2.4"><ci id="alg1.l0a.m1.1.1.1.1.cmml" xref="alg1.l0a.m1.1.1.1.1">𝑖</ci><ci id="alg1.l0a.m1.2.2.2.2.cmml" xref="alg1.l0a.m1.2.2.2.2">𝑡</ci></list></apply><apply id="alg1.l0a.m1.6.6.4.cmml" xref="alg1.l0a.m1.6.6.4"><eq id="alg1.l0a.m1.6.6.4.5.cmml" xref="alg1.l0a.m1.6.6.4.5"></eq><ci id="alg1.l0a.m1.6.6.4.6.cmml" xref="alg1.l0a.m1.6.6.4.6">𝑡</ci><list id="alg1.l0a.m1.6.6.4.7.1.cmml" xref="alg1.l0a.m1.6.6.4.7.2"><cn id="alg1.l0a.m1.3.3.1.1.cmml" type="integer" xref="alg1.l0a.m1.3.3.1.1">1</cn><cn id="alg1.l0a.m1.4.4.2.2.cmml" type="integer" xref="alg1.l0a.m1.4.4.2.2">2</cn><ci id="alg1.l0a.m1.5.5.3.3.cmml" xref="alg1.l0a.m1.5.5.3.3">…</ci><ci id="alg1.l0a.m1.6.6.4.4.cmml" xref="alg1.l0a.m1.6.6.4.4">𝑁</ci></list></apply></apply><apply id="alg1.l0a.m1.10.10.4.cmml" xref="alg1.l0a.m1.10.10.4"><eq id="alg1.l0a.m1.10.10.4.5.cmml" xref="alg1.l0a.m1.10.10.4.5"></eq><ci id="alg1.l0a.m1.10.10.4.6.cmml" xref="alg1.l0a.m1.10.10.4.6">𝑖</ci><list id="alg1.l0a.m1.10.10.4.4.2.cmml" xref="alg1.l0a.m1.10.10.4.4.1"><cn id="alg1.l0a.m1.7.7.1.1.cmml" type="integer" xref="alg1.l0a.m1.7.7.1.1">1</cn><cn id="alg1.l0a.m1.8.8.2.2.cmml" type="integer" xref="alg1.l0a.m1.8.8.2.2">2</cn><ci id="alg1.l0a.m1.9.9.3.3.cmml" xref="alg1.l0a.m1.9.9.3.3">…</ci><apply id="alg1.l0a.m1.10.10.4.4.1.1.cmml" xref="alg1.l0a.m1.10.10.4.4.1.1"><csymbol cd="ambiguous" id="alg1.l0a.m1.10.10.4.4.1.1.1.cmml" xref="alg1.l0a.m1.10.10.4.4.1.1">subscript</csymbol><ci id="alg1.l0a.m1.10.10.4.4.1.1.2.cmml" xref="alg1.l0a.m1.10.10.4.4.1.1.2">𝑁</ci><apply id="alg1.l0a.m1.10.10.4.4.1.1.3.cmml" xref="alg1.l0a.m1.10.10.4.4.1.1.3"><times id="alg1.l0a.m1.10.10.4.4.1.1.3.1.cmml" xref="alg1.l0a.m1.10.10.4.4.1.1.3.1"></times><ci id="alg1.l0a.m1.10.10.4.4.1.1.3.2.cmml" xref="alg1.l0a.m1.10.10.4.4.1.1.3.2">𝑒</ci><ci id="alg1.l0a.m1.10.10.4.4.1.1.3.3.cmml" xref="alg1.l0a.m1.10.10.4.4.1.1.3.3">𝑛</ci><ci id="alg1.l0a.m1.10.10.4.4.1.1.3.4.cmml" xref="alg1.l0a.m1.10.10.4.4.1.1.3.4">𝑣</ci></apply></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0a.m1.10c">{A_{i,t}}_{t=1,2,...,N}^{i=1,2,...,N_{env}}</annotation><annotation encoding="application/x-llamapun" id="alg1.l0a.m1.10d">italic_A start_POSTSUBSCRIPT italic_i , italic_t end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_t = 1 , 2 , … , italic_N end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_i = 1 , 2 , … , italic_N start_POSTSUBSCRIPT italic_e italic_n italic_v end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l0a.3" style="font-size:90%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l1">
<span class="ltx_text" id="alg1.l1.1" style="font-size:90%;">  </span><math alttext="DB\leftarrow\varnothing" class="ltx_Math" display="inline" id="alg1.l1.m1.1"><semantics id="alg1.l1.m1.1a"><mrow id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mrow id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml"><mi id="alg1.l1.m1.1.1.2.2" mathsize="90%" xref="alg1.l1.m1.1.1.2.2.cmml">D</mi><mo id="alg1.l1.m1.1.1.2.1" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.3" mathsize="90%" xref="alg1.l1.m1.1.1.2.3.cmml">B</mi></mrow><mo id="alg1.l1.m1.1.1.1" mathsize="90%" stretchy="false" xref="alg1.l1.m1.1.1.1.cmml">←</mo><mi id="alg1.l1.m1.1.1.3" mathsize="90%" mathvariant="normal" xref="alg1.l1.m1.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><ci id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1.1">←</ci><apply id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2"><times id="alg1.l1.m1.1.1.2.1.cmml" xref="alg1.l1.m1.1.1.2.1"></times><ci id="alg1.l1.m1.1.1.2.2.cmml" xref="alg1.l1.m1.1.1.2.2">𝐷</ci><ci id="alg1.l1.m1.1.1.2.3.cmml" xref="alg1.l1.m1.1.1.2.3">𝐵</ci></apply><emptyset id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">DB\leftarrow\varnothing</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m1.1d">italic_D italic_B ← ∅</annotation></semantics></math><span class="ltx_text" id="alg1.l1.2" style="font-size:90%;">;
</span>
</div>
<div class="ltx_listingline" id="alg1.l2">
<span class="ltx_text" id="alg1.l2.1" style="font-size:90%;">  </span><math alttext="ENV_{i}\leftarrow RESET,i=1,2,...,N_{env}" class="ltx_Math" display="inline" id="alg1.l2.m1.5"><semantics id="alg1.l2.m1.5a"><mrow id="alg1.l2.m1.5.5.2" xref="alg1.l2.m1.5.5.3.cmml"><mrow id="alg1.l2.m1.4.4.1.1" xref="alg1.l2.m1.4.4.1.1.cmml"><mrow id="alg1.l2.m1.4.4.1.1.2" xref="alg1.l2.m1.4.4.1.1.2.cmml"><mi id="alg1.l2.m1.4.4.1.1.2.2" mathsize="90%" xref="alg1.l2.m1.4.4.1.1.2.2.cmml">E</mi><mo id="alg1.l2.m1.4.4.1.1.2.1" xref="alg1.l2.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="alg1.l2.m1.4.4.1.1.2.3" mathsize="90%" xref="alg1.l2.m1.4.4.1.1.2.3.cmml">N</mi><mo id="alg1.l2.m1.4.4.1.1.2.1a" xref="alg1.l2.m1.4.4.1.1.2.1.cmml">⁢</mo><msub id="alg1.l2.m1.4.4.1.1.2.4" xref="alg1.l2.m1.4.4.1.1.2.4.cmml"><mi id="alg1.l2.m1.4.4.1.1.2.4.2" mathsize="90%" xref="alg1.l2.m1.4.4.1.1.2.4.2.cmml">V</mi><mi id="alg1.l2.m1.4.4.1.1.2.4.3" mathsize="90%" xref="alg1.l2.m1.4.4.1.1.2.4.3.cmml">i</mi></msub></mrow><mo id="alg1.l2.m1.4.4.1.1.1" mathsize="90%" stretchy="false" xref="alg1.l2.m1.4.4.1.1.1.cmml">←</mo><mrow id="alg1.l2.m1.4.4.1.1.3" xref="alg1.l2.m1.4.4.1.1.3.cmml"><mi id="alg1.l2.m1.4.4.1.1.3.2" mathsize="90%" xref="alg1.l2.m1.4.4.1.1.3.2.cmml">R</mi><mo id="alg1.l2.m1.4.4.1.1.3.1" xref="alg1.l2.m1.4.4.1.1.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.4.4.1.1.3.3" mathsize="90%" xref="alg1.l2.m1.4.4.1.1.3.3.cmml">E</mi><mo id="alg1.l2.m1.4.4.1.1.3.1a" xref="alg1.l2.m1.4.4.1.1.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.4.4.1.1.3.4" mathsize="90%" xref="alg1.l2.m1.4.4.1.1.3.4.cmml">S</mi><mo id="alg1.l2.m1.4.4.1.1.3.1b" xref="alg1.l2.m1.4.4.1.1.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.4.4.1.1.3.5" mathsize="90%" xref="alg1.l2.m1.4.4.1.1.3.5.cmml">E</mi><mo id="alg1.l2.m1.4.4.1.1.3.1c" xref="alg1.l2.m1.4.4.1.1.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.4.4.1.1.3.6" mathsize="90%" xref="alg1.l2.m1.4.4.1.1.3.6.cmml">T</mi></mrow></mrow><mo id="alg1.l2.m1.5.5.2.3" mathsize="90%" xref="alg1.l2.m1.5.5.3a.cmml">,</mo><mrow id="alg1.l2.m1.5.5.2.2" xref="alg1.l2.m1.5.5.2.2.cmml"><mi id="alg1.l2.m1.5.5.2.2.3" mathsize="90%" xref="alg1.l2.m1.5.5.2.2.3.cmml">i</mi><mo id="alg1.l2.m1.5.5.2.2.2" mathsize="90%" xref="alg1.l2.m1.5.5.2.2.2.cmml">=</mo><mrow id="alg1.l2.m1.5.5.2.2.1.1" xref="alg1.l2.m1.5.5.2.2.1.2.cmml"><mn id="alg1.l2.m1.1.1" mathsize="90%" xref="alg1.l2.m1.1.1.cmml">1</mn><mo id="alg1.l2.m1.5.5.2.2.1.1.2" mathsize="90%" xref="alg1.l2.m1.5.5.2.2.1.2.cmml">,</mo><mn id="alg1.l2.m1.2.2" mathsize="90%" xref="alg1.l2.m1.2.2.cmml">2</mn><mo id="alg1.l2.m1.5.5.2.2.1.1.3" mathsize="90%" xref="alg1.l2.m1.5.5.2.2.1.2.cmml">,</mo><mi id="alg1.l2.m1.3.3" mathsize="90%" mathvariant="normal" xref="alg1.l2.m1.3.3.cmml">…</mi><mo id="alg1.l2.m1.5.5.2.2.1.1.4" mathsize="90%" xref="alg1.l2.m1.5.5.2.2.1.2.cmml">,</mo><msub id="alg1.l2.m1.5.5.2.2.1.1.1" xref="alg1.l2.m1.5.5.2.2.1.1.1.cmml"><mi id="alg1.l2.m1.5.5.2.2.1.1.1.2" mathsize="90%" xref="alg1.l2.m1.5.5.2.2.1.1.1.2.cmml">N</mi><mrow id="alg1.l2.m1.5.5.2.2.1.1.1.3" xref="alg1.l2.m1.5.5.2.2.1.1.1.3.cmml"><mi id="alg1.l2.m1.5.5.2.2.1.1.1.3.2" mathsize="90%" xref="alg1.l2.m1.5.5.2.2.1.1.1.3.2.cmml">e</mi><mo id="alg1.l2.m1.5.5.2.2.1.1.1.3.1" xref="alg1.l2.m1.5.5.2.2.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.5.5.2.2.1.1.1.3.3" mathsize="90%" xref="alg1.l2.m1.5.5.2.2.1.1.1.3.3.cmml">n</mi><mo id="alg1.l2.m1.5.5.2.2.1.1.1.3.1a" xref="alg1.l2.m1.5.5.2.2.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.5.5.2.2.1.1.1.3.4" mathsize="90%" xref="alg1.l2.m1.5.5.2.2.1.1.1.3.4.cmml">v</mi></mrow></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.5b"><apply id="alg1.l2.m1.5.5.3.cmml" xref="alg1.l2.m1.5.5.2"><csymbol cd="ambiguous" id="alg1.l2.m1.5.5.3a.cmml" xref="alg1.l2.m1.5.5.2.3">formulae-sequence</csymbol><apply id="alg1.l2.m1.4.4.1.1.cmml" xref="alg1.l2.m1.4.4.1.1"><ci id="alg1.l2.m1.4.4.1.1.1.cmml" xref="alg1.l2.m1.4.4.1.1.1">←</ci><apply id="alg1.l2.m1.4.4.1.1.2.cmml" xref="alg1.l2.m1.4.4.1.1.2"><times id="alg1.l2.m1.4.4.1.1.2.1.cmml" xref="alg1.l2.m1.4.4.1.1.2.1"></times><ci id="alg1.l2.m1.4.4.1.1.2.2.cmml" xref="alg1.l2.m1.4.4.1.1.2.2">𝐸</ci><ci id="alg1.l2.m1.4.4.1.1.2.3.cmml" xref="alg1.l2.m1.4.4.1.1.2.3">𝑁</ci><apply id="alg1.l2.m1.4.4.1.1.2.4.cmml" xref="alg1.l2.m1.4.4.1.1.2.4"><csymbol cd="ambiguous" id="alg1.l2.m1.4.4.1.1.2.4.1.cmml" xref="alg1.l2.m1.4.4.1.1.2.4">subscript</csymbol><ci id="alg1.l2.m1.4.4.1.1.2.4.2.cmml" xref="alg1.l2.m1.4.4.1.1.2.4.2">𝑉</ci><ci id="alg1.l2.m1.4.4.1.1.2.4.3.cmml" xref="alg1.l2.m1.4.4.1.1.2.4.3">𝑖</ci></apply></apply><apply id="alg1.l2.m1.4.4.1.1.3.cmml" xref="alg1.l2.m1.4.4.1.1.3"><times id="alg1.l2.m1.4.4.1.1.3.1.cmml" xref="alg1.l2.m1.4.4.1.1.3.1"></times><ci id="alg1.l2.m1.4.4.1.1.3.2.cmml" xref="alg1.l2.m1.4.4.1.1.3.2">𝑅</ci><ci id="alg1.l2.m1.4.4.1.1.3.3.cmml" xref="alg1.l2.m1.4.4.1.1.3.3">𝐸</ci><ci id="alg1.l2.m1.4.4.1.1.3.4.cmml" xref="alg1.l2.m1.4.4.1.1.3.4">𝑆</ci><ci id="alg1.l2.m1.4.4.1.1.3.5.cmml" xref="alg1.l2.m1.4.4.1.1.3.5">𝐸</ci><ci id="alg1.l2.m1.4.4.1.1.3.6.cmml" xref="alg1.l2.m1.4.4.1.1.3.6">𝑇</ci></apply></apply><apply id="alg1.l2.m1.5.5.2.2.cmml" xref="alg1.l2.m1.5.5.2.2"><eq id="alg1.l2.m1.5.5.2.2.2.cmml" xref="alg1.l2.m1.5.5.2.2.2"></eq><ci id="alg1.l2.m1.5.5.2.2.3.cmml" xref="alg1.l2.m1.5.5.2.2.3">𝑖</ci><list id="alg1.l2.m1.5.5.2.2.1.2.cmml" xref="alg1.l2.m1.5.5.2.2.1.1"><cn id="alg1.l2.m1.1.1.cmml" type="integer" xref="alg1.l2.m1.1.1">1</cn><cn id="alg1.l2.m1.2.2.cmml" type="integer" xref="alg1.l2.m1.2.2">2</cn><ci id="alg1.l2.m1.3.3.cmml" xref="alg1.l2.m1.3.3">…</ci><apply id="alg1.l2.m1.5.5.2.2.1.1.1.cmml" xref="alg1.l2.m1.5.5.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l2.m1.5.5.2.2.1.1.1.1.cmml" xref="alg1.l2.m1.5.5.2.2.1.1.1">subscript</csymbol><ci id="alg1.l2.m1.5.5.2.2.1.1.1.2.cmml" xref="alg1.l2.m1.5.5.2.2.1.1.1.2">𝑁</ci><apply id="alg1.l2.m1.5.5.2.2.1.1.1.3.cmml" xref="alg1.l2.m1.5.5.2.2.1.1.1.3"><times id="alg1.l2.m1.5.5.2.2.1.1.1.3.1.cmml" xref="alg1.l2.m1.5.5.2.2.1.1.1.3.1"></times><ci id="alg1.l2.m1.5.5.2.2.1.1.1.3.2.cmml" xref="alg1.l2.m1.5.5.2.2.1.1.1.3.2">𝑒</ci><ci id="alg1.l2.m1.5.5.2.2.1.1.1.3.3.cmml" xref="alg1.l2.m1.5.5.2.2.1.1.1.3.3">𝑛</ci><ci id="alg1.l2.m1.5.5.2.2.1.1.1.3.4.cmml" xref="alg1.l2.m1.5.5.2.2.1.1.1.3.4">𝑣</ci></apply></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.5c">ENV_{i}\leftarrow RESET,i=1,2,...,N_{env}</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m1.5d">italic_E italic_N italic_V start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ← italic_R italic_E italic_S italic_E italic_T , italic_i = 1 , 2 , … , italic_N start_POSTSUBSCRIPT italic_e italic_n italic_v end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l2.2" style="font-size:90%;">;
</span>
</div>
<div class="ltx_listingline" id="alg1.l3">
<span class="ltx_text" id="alg1.l3.1" style="font-size:90%;">  </span><span class="ltx_text ltx_font_bold" id="alg1.l3.2" style="font-size:90%;">for</span><span class="ltx_text" id="alg1.l3.3" style="font-size:90%;"> </span><math alttext="iterin[1,ITER]" class="ltx_Math" display="inline" id="alg1.l3.m1.2"><semantics id="alg1.l3.m1.2a"><mrow id="alg1.l3.m1.2.2" xref="alg1.l3.m1.2.2.cmml"><mi id="alg1.l3.m1.2.2.3" mathsize="90%" xref="alg1.l3.m1.2.2.3.cmml">i</mi><mo id="alg1.l3.m1.2.2.2" xref="alg1.l3.m1.2.2.2.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.4" mathsize="90%" xref="alg1.l3.m1.2.2.4.cmml">t</mi><mo id="alg1.l3.m1.2.2.2a" xref="alg1.l3.m1.2.2.2.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.5" mathsize="90%" xref="alg1.l3.m1.2.2.5.cmml">e</mi><mo id="alg1.l3.m1.2.2.2b" xref="alg1.l3.m1.2.2.2.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.6" mathsize="90%" xref="alg1.l3.m1.2.2.6.cmml">r</mi><mo id="alg1.l3.m1.2.2.2c" xref="alg1.l3.m1.2.2.2.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.7" mathsize="90%" xref="alg1.l3.m1.2.2.7.cmml">i</mi><mo id="alg1.l3.m1.2.2.2d" xref="alg1.l3.m1.2.2.2.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.8" mathsize="90%" xref="alg1.l3.m1.2.2.8.cmml">n</mi><mo id="alg1.l3.m1.2.2.2e" xref="alg1.l3.m1.2.2.2.cmml">⁢</mo><mrow id="alg1.l3.m1.2.2.1.1" xref="alg1.l3.m1.2.2.1.2.cmml"><mo id="alg1.l3.m1.2.2.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l3.m1.2.2.1.2.cmml">[</mo><mn id="alg1.l3.m1.1.1" mathsize="90%" xref="alg1.l3.m1.1.1.cmml">1</mn><mo id="alg1.l3.m1.2.2.1.1.3" mathsize="90%" xref="alg1.l3.m1.2.2.1.2.cmml">,</mo><mrow id="alg1.l3.m1.2.2.1.1.1" xref="alg1.l3.m1.2.2.1.1.1.cmml"><mi id="alg1.l3.m1.2.2.1.1.1.2" mathsize="90%" xref="alg1.l3.m1.2.2.1.1.1.2.cmml">I</mi><mo id="alg1.l3.m1.2.2.1.1.1.1" xref="alg1.l3.m1.2.2.1.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.1.1.1.3" mathsize="90%" xref="alg1.l3.m1.2.2.1.1.1.3.cmml">T</mi><mo id="alg1.l3.m1.2.2.1.1.1.1a" xref="alg1.l3.m1.2.2.1.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.1.1.1.4" mathsize="90%" xref="alg1.l3.m1.2.2.1.1.1.4.cmml">E</mi><mo id="alg1.l3.m1.2.2.1.1.1.1b" xref="alg1.l3.m1.2.2.1.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.1.1.1.5" mathsize="90%" xref="alg1.l3.m1.2.2.1.1.1.5.cmml">R</mi></mrow><mo id="alg1.l3.m1.2.2.1.1.4" maxsize="90%" minsize="90%" xref="alg1.l3.m1.2.2.1.2.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.2b"><apply id="alg1.l3.m1.2.2.cmml" xref="alg1.l3.m1.2.2"><times id="alg1.l3.m1.2.2.2.cmml" xref="alg1.l3.m1.2.2.2"></times><ci id="alg1.l3.m1.2.2.3.cmml" xref="alg1.l3.m1.2.2.3">𝑖</ci><ci id="alg1.l3.m1.2.2.4.cmml" xref="alg1.l3.m1.2.2.4">𝑡</ci><ci id="alg1.l3.m1.2.2.5.cmml" xref="alg1.l3.m1.2.2.5">𝑒</ci><ci id="alg1.l3.m1.2.2.6.cmml" xref="alg1.l3.m1.2.2.6">𝑟</ci><ci id="alg1.l3.m1.2.2.7.cmml" xref="alg1.l3.m1.2.2.7">𝑖</ci><ci id="alg1.l3.m1.2.2.8.cmml" xref="alg1.l3.m1.2.2.8">𝑛</ci><interval closure="closed" id="alg1.l3.m1.2.2.1.2.cmml" xref="alg1.l3.m1.2.2.1.1"><cn id="alg1.l3.m1.1.1.cmml" type="integer" xref="alg1.l3.m1.1.1">1</cn><apply id="alg1.l3.m1.2.2.1.1.1.cmml" xref="alg1.l3.m1.2.2.1.1.1"><times id="alg1.l3.m1.2.2.1.1.1.1.cmml" xref="alg1.l3.m1.2.2.1.1.1.1"></times><ci id="alg1.l3.m1.2.2.1.1.1.2.cmml" xref="alg1.l3.m1.2.2.1.1.1.2">𝐼</ci><ci id="alg1.l3.m1.2.2.1.1.1.3.cmml" xref="alg1.l3.m1.2.2.1.1.1.3">𝑇</ci><ci id="alg1.l3.m1.2.2.1.1.1.4.cmml" xref="alg1.l3.m1.2.2.1.1.1.4">𝐸</ci><ci id="alg1.l3.m1.2.2.1.1.1.5.cmml" xref="alg1.l3.m1.2.2.1.1.1.5">𝑅</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.2c">iterin[1,ITER]</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.2d">italic_i italic_t italic_e italic_r italic_i italic_n [ 1 , italic_I italic_T italic_E italic_R ]</annotation></semantics></math><span class="ltx_text" id="alg1.l3.4" style="font-size:90%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l3.5" style="font-size:90%;">do</span><span class="ltx_text" id="alg1.l3.6" style="font-size:90%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l4">
<span class="ltx_text" id="alg1.l4.1" style="font-size:90%;">     </span><span class="ltx_text ltx_font_bold" id="alg1.l4.2" style="font-size:90%;">for</span><span class="ltx_text" id="alg1.l4.3" style="font-size:90%;"> t in [1,N] </span><span class="ltx_text ltx_font_bold" id="alg1.l4.4" style="font-size:90%;">do</span><span class="ltx_text" id="alg1.l4.5" style="font-size:90%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l4a">
<span class="ltx_text" id="alg1.l4a.1" style="font-size:90%;">        </span><math alttext="O_{i,t},I_{i,goal}\leftarrow ENV_{i}(A_{i,t}),i=0,1,2,...N_{env}" class="ltx_Math" display="inline" id="alg1.l4a.m1.11"><semantics id="alg1.l4a.m1.11a"><mrow id="alg1.l4a.m1.11.11.2" xref="alg1.l4a.m1.11.11.3.cmml"><mrow id="alg1.l4a.m1.10.10.1.1" xref="alg1.l4a.m1.10.10.1.1.cmml"><mrow id="alg1.l4a.m1.10.10.1.1.2.2" xref="alg1.l4a.m1.10.10.1.1.2.3.cmml"><msub id="alg1.l4a.m1.10.10.1.1.1.1.1" xref="alg1.l4a.m1.10.10.1.1.1.1.1.cmml"><mi id="alg1.l4a.m1.10.10.1.1.1.1.1.2" mathsize="90%" xref="alg1.l4a.m1.10.10.1.1.1.1.1.2.cmml">O</mi><mrow id="alg1.l4a.m1.2.2.2.4" xref="alg1.l4a.m1.2.2.2.3.cmml"><mi id="alg1.l4a.m1.1.1.1.1" mathsize="90%" xref="alg1.l4a.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l4a.m1.2.2.2.4.1" mathsize="90%" xref="alg1.l4a.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l4a.m1.2.2.2.2" mathsize="90%" xref="alg1.l4a.m1.2.2.2.2.cmml">t</mi></mrow></msub><mo id="alg1.l4a.m1.10.10.1.1.2.2.3" mathsize="90%" xref="alg1.l4a.m1.10.10.1.1.2.3.cmml">,</mo><msub id="alg1.l4a.m1.10.10.1.1.2.2.2" xref="alg1.l4a.m1.10.10.1.1.2.2.2.cmml"><mi id="alg1.l4a.m1.10.10.1.1.2.2.2.2" mathsize="90%" xref="alg1.l4a.m1.10.10.1.1.2.2.2.2.cmml">I</mi><mrow id="alg1.l4a.m1.4.4.2.2" xref="alg1.l4a.m1.4.4.2.3.cmml"><mi id="alg1.l4a.m1.3.3.1.1" mathsize="90%" xref="alg1.l4a.m1.3.3.1.1.cmml">i</mi><mo id="alg1.l4a.m1.4.4.2.2.2" mathsize="90%" xref="alg1.l4a.m1.4.4.2.3.cmml">,</mo><mrow id="alg1.l4a.m1.4.4.2.2.1" xref="alg1.l4a.m1.4.4.2.2.1.cmml"><mi id="alg1.l4a.m1.4.4.2.2.1.2" mathsize="90%" xref="alg1.l4a.m1.4.4.2.2.1.2.cmml">g</mi><mo id="alg1.l4a.m1.4.4.2.2.1.1" xref="alg1.l4a.m1.4.4.2.2.1.1.cmml">⁢</mo><mi id="alg1.l4a.m1.4.4.2.2.1.3" mathsize="90%" xref="alg1.l4a.m1.4.4.2.2.1.3.cmml">o</mi><mo id="alg1.l4a.m1.4.4.2.2.1.1a" xref="alg1.l4a.m1.4.4.2.2.1.1.cmml">⁢</mo><mi id="alg1.l4a.m1.4.4.2.2.1.4" mathsize="90%" xref="alg1.l4a.m1.4.4.2.2.1.4.cmml">a</mi><mo id="alg1.l4a.m1.4.4.2.2.1.1b" xref="alg1.l4a.m1.4.4.2.2.1.1.cmml">⁢</mo><mi id="alg1.l4a.m1.4.4.2.2.1.5" mathsize="90%" xref="alg1.l4a.m1.4.4.2.2.1.5.cmml">l</mi></mrow></mrow></msub></mrow><mo id="alg1.l4a.m1.10.10.1.1.4" mathsize="90%" stretchy="false" xref="alg1.l4a.m1.10.10.1.1.4.cmml">←</mo><mrow id="alg1.l4a.m1.10.10.1.1.3" xref="alg1.l4a.m1.10.10.1.1.3.cmml"><mi id="alg1.l4a.m1.10.10.1.1.3.3" mathsize="90%" xref="alg1.l4a.m1.10.10.1.1.3.3.cmml">E</mi><mo id="alg1.l4a.m1.10.10.1.1.3.2" xref="alg1.l4a.m1.10.10.1.1.3.2.cmml">⁢</mo><mi id="alg1.l4a.m1.10.10.1.1.3.4" mathsize="90%" xref="alg1.l4a.m1.10.10.1.1.3.4.cmml">N</mi><mo id="alg1.l4a.m1.10.10.1.1.3.2a" xref="alg1.l4a.m1.10.10.1.1.3.2.cmml">⁢</mo><msub id="alg1.l4a.m1.10.10.1.1.3.5" xref="alg1.l4a.m1.10.10.1.1.3.5.cmml"><mi id="alg1.l4a.m1.10.10.1.1.3.5.2" mathsize="90%" xref="alg1.l4a.m1.10.10.1.1.3.5.2.cmml">V</mi><mi id="alg1.l4a.m1.10.10.1.1.3.5.3" mathsize="90%" xref="alg1.l4a.m1.10.10.1.1.3.5.3.cmml">i</mi></msub><mo id="alg1.l4a.m1.10.10.1.1.3.2b" xref="alg1.l4a.m1.10.10.1.1.3.2.cmml">⁢</mo><mrow id="alg1.l4a.m1.10.10.1.1.3.1.1" xref="alg1.l4a.m1.10.10.1.1.3.1.1.1.cmml"><mo id="alg1.l4a.m1.10.10.1.1.3.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l4a.m1.10.10.1.1.3.1.1.1.cmml">(</mo><msub id="alg1.l4a.m1.10.10.1.1.3.1.1.1" xref="alg1.l4a.m1.10.10.1.1.3.1.1.1.cmml"><mi id="alg1.l4a.m1.10.10.1.1.3.1.1.1.2" mathsize="90%" xref="alg1.l4a.m1.10.10.1.1.3.1.1.1.2.cmml">A</mi><mrow id="alg1.l4a.m1.6.6.2.4" xref="alg1.l4a.m1.6.6.2.3.cmml"><mi id="alg1.l4a.m1.5.5.1.1" mathsize="90%" xref="alg1.l4a.m1.5.5.1.1.cmml">i</mi><mo id="alg1.l4a.m1.6.6.2.4.1" mathsize="90%" xref="alg1.l4a.m1.6.6.2.3.cmml">,</mo><mi id="alg1.l4a.m1.6.6.2.2" mathsize="90%" xref="alg1.l4a.m1.6.6.2.2.cmml">t</mi></mrow></msub><mo id="alg1.l4a.m1.10.10.1.1.3.1.1.3" maxsize="90%" minsize="90%" xref="alg1.l4a.m1.10.10.1.1.3.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="alg1.l4a.m1.11.11.2.3" mathsize="90%" xref="alg1.l4a.m1.11.11.3a.cmml">,</mo><mrow id="alg1.l4a.m1.11.11.2.2" xref="alg1.l4a.m1.11.11.2.2.cmml"><mi id="alg1.l4a.m1.11.11.2.2.3" mathsize="90%" xref="alg1.l4a.m1.11.11.2.2.3.cmml">i</mi><mo id="alg1.l4a.m1.11.11.2.2.2" mathsize="90%" xref="alg1.l4a.m1.11.11.2.2.2.cmml">=</mo><mrow id="alg1.l4a.m1.11.11.2.2.1.1" xref="alg1.l4a.m1.11.11.2.2.1.2.cmml"><mn id="alg1.l4a.m1.7.7" mathsize="90%" xref="alg1.l4a.m1.7.7.cmml">0</mn><mo id="alg1.l4a.m1.11.11.2.2.1.1.2" mathsize="90%" xref="alg1.l4a.m1.11.11.2.2.1.2.cmml">,</mo><mn id="alg1.l4a.m1.8.8" mathsize="90%" xref="alg1.l4a.m1.8.8.cmml">1</mn><mo id="alg1.l4a.m1.11.11.2.2.1.1.3" mathsize="90%" xref="alg1.l4a.m1.11.11.2.2.1.2.cmml">,</mo><mn id="alg1.l4a.m1.9.9" mathsize="90%" xref="alg1.l4a.m1.9.9.cmml">2</mn><mo id="alg1.l4a.m1.11.11.2.2.1.1.4" mathsize="90%" xref="alg1.l4a.m1.11.11.2.2.1.2.cmml">,</mo><mrow id="alg1.l4a.m1.11.11.2.2.1.1.1" xref="alg1.l4a.m1.11.11.2.2.1.1.1.cmml"><mi id="alg1.l4a.m1.11.11.2.2.1.1.1.2" mathsize="90%" mathvariant="normal" xref="alg1.l4a.m1.11.11.2.2.1.1.1.2.cmml">…</mi><mo id="alg1.l4a.m1.11.11.2.2.1.1.1.1" xref="alg1.l4a.m1.11.11.2.2.1.1.1.1.cmml">⁢</mo><msub id="alg1.l4a.m1.11.11.2.2.1.1.1.3" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.cmml"><mi id="alg1.l4a.m1.11.11.2.2.1.1.1.3.2" mathsize="90%" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.2.cmml">N</mi><mrow id="alg1.l4a.m1.11.11.2.2.1.1.1.3.3" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.cmml"><mi id="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.2" mathsize="90%" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.2.cmml">e</mi><mo id="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.1" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.3" mathsize="90%" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.3.cmml">n</mi><mo id="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.1a" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.4" mathsize="90%" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.4.cmml">v</mi></mrow></msub></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4a.m1.11b"><apply id="alg1.l4a.m1.11.11.3.cmml" xref="alg1.l4a.m1.11.11.2"><csymbol cd="ambiguous" id="alg1.l4a.m1.11.11.3a.cmml" xref="alg1.l4a.m1.11.11.2.3">formulae-sequence</csymbol><apply id="alg1.l4a.m1.10.10.1.1.cmml" xref="alg1.l4a.m1.10.10.1.1"><ci id="alg1.l4a.m1.10.10.1.1.4.cmml" xref="alg1.l4a.m1.10.10.1.1.4">←</ci><list id="alg1.l4a.m1.10.10.1.1.2.3.cmml" xref="alg1.l4a.m1.10.10.1.1.2.2"><apply id="alg1.l4a.m1.10.10.1.1.1.1.1.cmml" xref="alg1.l4a.m1.10.10.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l4a.m1.10.10.1.1.1.1.1.1.cmml" xref="alg1.l4a.m1.10.10.1.1.1.1.1">subscript</csymbol><ci id="alg1.l4a.m1.10.10.1.1.1.1.1.2.cmml" xref="alg1.l4a.m1.10.10.1.1.1.1.1.2">𝑂</ci><list id="alg1.l4a.m1.2.2.2.3.cmml" xref="alg1.l4a.m1.2.2.2.4"><ci id="alg1.l4a.m1.1.1.1.1.cmml" xref="alg1.l4a.m1.1.1.1.1">𝑖</ci><ci id="alg1.l4a.m1.2.2.2.2.cmml" xref="alg1.l4a.m1.2.2.2.2">𝑡</ci></list></apply><apply id="alg1.l4a.m1.10.10.1.1.2.2.2.cmml" xref="alg1.l4a.m1.10.10.1.1.2.2.2"><csymbol cd="ambiguous" id="alg1.l4a.m1.10.10.1.1.2.2.2.1.cmml" xref="alg1.l4a.m1.10.10.1.1.2.2.2">subscript</csymbol><ci id="alg1.l4a.m1.10.10.1.1.2.2.2.2.cmml" xref="alg1.l4a.m1.10.10.1.1.2.2.2.2">𝐼</ci><list id="alg1.l4a.m1.4.4.2.3.cmml" xref="alg1.l4a.m1.4.4.2.2"><ci id="alg1.l4a.m1.3.3.1.1.cmml" xref="alg1.l4a.m1.3.3.1.1">𝑖</ci><apply id="alg1.l4a.m1.4.4.2.2.1.cmml" xref="alg1.l4a.m1.4.4.2.2.1"><times id="alg1.l4a.m1.4.4.2.2.1.1.cmml" xref="alg1.l4a.m1.4.4.2.2.1.1"></times><ci id="alg1.l4a.m1.4.4.2.2.1.2.cmml" xref="alg1.l4a.m1.4.4.2.2.1.2">𝑔</ci><ci id="alg1.l4a.m1.4.4.2.2.1.3.cmml" xref="alg1.l4a.m1.4.4.2.2.1.3">𝑜</ci><ci id="alg1.l4a.m1.4.4.2.2.1.4.cmml" xref="alg1.l4a.m1.4.4.2.2.1.4">𝑎</ci><ci id="alg1.l4a.m1.4.4.2.2.1.5.cmml" xref="alg1.l4a.m1.4.4.2.2.1.5">𝑙</ci></apply></list></apply></list><apply id="alg1.l4a.m1.10.10.1.1.3.cmml" xref="alg1.l4a.m1.10.10.1.1.3"><times id="alg1.l4a.m1.10.10.1.1.3.2.cmml" xref="alg1.l4a.m1.10.10.1.1.3.2"></times><ci id="alg1.l4a.m1.10.10.1.1.3.3.cmml" xref="alg1.l4a.m1.10.10.1.1.3.3">𝐸</ci><ci id="alg1.l4a.m1.10.10.1.1.3.4.cmml" xref="alg1.l4a.m1.10.10.1.1.3.4">𝑁</ci><apply id="alg1.l4a.m1.10.10.1.1.3.5.cmml" xref="alg1.l4a.m1.10.10.1.1.3.5"><csymbol cd="ambiguous" id="alg1.l4a.m1.10.10.1.1.3.5.1.cmml" xref="alg1.l4a.m1.10.10.1.1.3.5">subscript</csymbol><ci id="alg1.l4a.m1.10.10.1.1.3.5.2.cmml" xref="alg1.l4a.m1.10.10.1.1.3.5.2">𝑉</ci><ci id="alg1.l4a.m1.10.10.1.1.3.5.3.cmml" xref="alg1.l4a.m1.10.10.1.1.3.5.3">𝑖</ci></apply><apply id="alg1.l4a.m1.10.10.1.1.3.1.1.1.cmml" xref="alg1.l4a.m1.10.10.1.1.3.1.1"><csymbol cd="ambiguous" id="alg1.l4a.m1.10.10.1.1.3.1.1.1.1.cmml" xref="alg1.l4a.m1.10.10.1.1.3.1.1">subscript</csymbol><ci id="alg1.l4a.m1.10.10.1.1.3.1.1.1.2.cmml" xref="alg1.l4a.m1.10.10.1.1.3.1.1.1.2">𝐴</ci><list id="alg1.l4a.m1.6.6.2.3.cmml" xref="alg1.l4a.m1.6.6.2.4"><ci id="alg1.l4a.m1.5.5.1.1.cmml" xref="alg1.l4a.m1.5.5.1.1">𝑖</ci><ci id="alg1.l4a.m1.6.6.2.2.cmml" xref="alg1.l4a.m1.6.6.2.2">𝑡</ci></list></apply></apply></apply><apply id="alg1.l4a.m1.11.11.2.2.cmml" xref="alg1.l4a.m1.11.11.2.2"><eq id="alg1.l4a.m1.11.11.2.2.2.cmml" xref="alg1.l4a.m1.11.11.2.2.2"></eq><ci id="alg1.l4a.m1.11.11.2.2.3.cmml" xref="alg1.l4a.m1.11.11.2.2.3">𝑖</ci><list id="alg1.l4a.m1.11.11.2.2.1.2.cmml" xref="alg1.l4a.m1.11.11.2.2.1.1"><cn id="alg1.l4a.m1.7.7.cmml" type="integer" xref="alg1.l4a.m1.7.7">0</cn><cn id="alg1.l4a.m1.8.8.cmml" type="integer" xref="alg1.l4a.m1.8.8">1</cn><cn id="alg1.l4a.m1.9.9.cmml" type="integer" xref="alg1.l4a.m1.9.9">2</cn><apply id="alg1.l4a.m1.11.11.2.2.1.1.1.cmml" xref="alg1.l4a.m1.11.11.2.2.1.1.1"><times id="alg1.l4a.m1.11.11.2.2.1.1.1.1.cmml" xref="alg1.l4a.m1.11.11.2.2.1.1.1.1"></times><ci id="alg1.l4a.m1.11.11.2.2.1.1.1.2.cmml" xref="alg1.l4a.m1.11.11.2.2.1.1.1.2">…</ci><apply id="alg1.l4a.m1.11.11.2.2.1.1.1.3.cmml" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l4a.m1.11.11.2.2.1.1.1.3.1.cmml" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3">subscript</csymbol><ci id="alg1.l4a.m1.11.11.2.2.1.1.1.3.2.cmml" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.2">𝑁</ci><apply id="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.cmml" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.3"><times id="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.1.cmml" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.1"></times><ci id="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.2.cmml" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.2">𝑒</ci><ci id="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.3.cmml" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.3">𝑛</ci><ci id="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.4.cmml" xref="alg1.l4a.m1.11.11.2.2.1.1.1.3.3.4">𝑣</ci></apply></apply></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4a.m1.11c">O_{i,t},I_{i,goal}\leftarrow ENV_{i}(A_{i,t}),i=0,1,2,...N_{env}</annotation><annotation encoding="application/x-llamapun" id="alg1.l4a.m1.11d">italic_O start_POSTSUBSCRIPT italic_i , italic_t end_POSTSUBSCRIPT , italic_I start_POSTSUBSCRIPT italic_i , italic_g italic_o italic_a italic_l end_POSTSUBSCRIPT ← italic_E italic_N italic_V start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ( italic_A start_POSTSUBSCRIPT italic_i , italic_t end_POSTSUBSCRIPT ) , italic_i = 0 , 1 , 2 , … italic_N start_POSTSUBSCRIPT italic_e italic_n italic_v end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l4a.2" style="font-size:90%;">;
</span>
</div>
<div class="ltx_listingline" id="alg1.l4b">
<span class="ltx_text" id="alg1.l4b.1" style="font-size:90%;">        </span><math alttext="Q_{obs,i,t}\leftarrow Encode(\mathcal{F}(O_{i,t}))" class="ltx_Math" display="inline" id="alg1.l4b.m1.6"><semantics id="alg1.l4b.m1.6a"><mrow id="alg1.l4b.m1.6.6" xref="alg1.l4b.m1.6.6.cmml"><msub id="alg1.l4b.m1.6.6.3" xref="alg1.l4b.m1.6.6.3.cmml"><mi id="alg1.l4b.m1.6.6.3.2" mathsize="90%" xref="alg1.l4b.m1.6.6.3.2.cmml">Q</mi><mrow id="alg1.l4b.m1.3.3.3.3" xref="alg1.l4b.m1.3.3.3.4.cmml"><mrow id="alg1.l4b.m1.3.3.3.3.1" xref="alg1.l4b.m1.3.3.3.3.1.cmml"><mi id="alg1.l4b.m1.3.3.3.3.1.2" mathsize="90%" xref="alg1.l4b.m1.3.3.3.3.1.2.cmml">o</mi><mo id="alg1.l4b.m1.3.3.3.3.1.1" xref="alg1.l4b.m1.3.3.3.3.1.1.cmml">⁢</mo><mi id="alg1.l4b.m1.3.3.3.3.1.3" mathsize="90%" xref="alg1.l4b.m1.3.3.3.3.1.3.cmml">b</mi><mo id="alg1.l4b.m1.3.3.3.3.1.1a" xref="alg1.l4b.m1.3.3.3.3.1.1.cmml">⁢</mo><mi id="alg1.l4b.m1.3.3.3.3.1.4" mathsize="90%" xref="alg1.l4b.m1.3.3.3.3.1.4.cmml">s</mi></mrow><mo id="alg1.l4b.m1.3.3.3.3.2" mathsize="90%" xref="alg1.l4b.m1.3.3.3.4.cmml">,</mo><mi id="alg1.l4b.m1.1.1.1.1" mathsize="90%" xref="alg1.l4b.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l4b.m1.3.3.3.3.3" mathsize="90%" xref="alg1.l4b.m1.3.3.3.4.cmml">,</mo><mi id="alg1.l4b.m1.2.2.2.2" mathsize="90%" xref="alg1.l4b.m1.2.2.2.2.cmml">t</mi></mrow></msub><mo id="alg1.l4b.m1.6.6.2" mathsize="90%" stretchy="false" xref="alg1.l4b.m1.6.6.2.cmml">←</mo><mrow id="alg1.l4b.m1.6.6.1" xref="alg1.l4b.m1.6.6.1.cmml"><mi id="alg1.l4b.m1.6.6.1.3" mathsize="90%" xref="alg1.l4b.m1.6.6.1.3.cmml">E</mi><mo id="alg1.l4b.m1.6.6.1.2" xref="alg1.l4b.m1.6.6.1.2.cmml">⁢</mo><mi id="alg1.l4b.m1.6.6.1.4" mathsize="90%" xref="alg1.l4b.m1.6.6.1.4.cmml">n</mi><mo id="alg1.l4b.m1.6.6.1.2a" xref="alg1.l4b.m1.6.6.1.2.cmml">⁢</mo><mi id="alg1.l4b.m1.6.6.1.5" mathsize="90%" xref="alg1.l4b.m1.6.6.1.5.cmml">c</mi><mo id="alg1.l4b.m1.6.6.1.2b" xref="alg1.l4b.m1.6.6.1.2.cmml">⁢</mo><mi id="alg1.l4b.m1.6.6.1.6" mathsize="90%" xref="alg1.l4b.m1.6.6.1.6.cmml">o</mi><mo id="alg1.l4b.m1.6.6.1.2c" xref="alg1.l4b.m1.6.6.1.2.cmml">⁢</mo><mi id="alg1.l4b.m1.6.6.1.7" mathsize="90%" xref="alg1.l4b.m1.6.6.1.7.cmml">d</mi><mo id="alg1.l4b.m1.6.6.1.2d" xref="alg1.l4b.m1.6.6.1.2.cmml">⁢</mo><mi id="alg1.l4b.m1.6.6.1.8" mathsize="90%" xref="alg1.l4b.m1.6.6.1.8.cmml">e</mi><mo id="alg1.l4b.m1.6.6.1.2e" xref="alg1.l4b.m1.6.6.1.2.cmml">⁢</mo><mrow id="alg1.l4b.m1.6.6.1.1.1" xref="alg1.l4b.m1.6.6.1.1.1.1.cmml"><mo id="alg1.l4b.m1.6.6.1.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l4b.m1.6.6.1.1.1.1.cmml">(</mo><mrow id="alg1.l4b.m1.6.6.1.1.1.1" xref="alg1.l4b.m1.6.6.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l4b.m1.6.6.1.1.1.1.3" mathsize="90%" xref="alg1.l4b.m1.6.6.1.1.1.1.3.cmml">ℱ</mi><mo id="alg1.l4b.m1.6.6.1.1.1.1.2" xref="alg1.l4b.m1.6.6.1.1.1.1.2.cmml">⁢</mo><mrow id="alg1.l4b.m1.6.6.1.1.1.1.1.1" xref="alg1.l4b.m1.6.6.1.1.1.1.1.1.1.cmml"><mo id="alg1.l4b.m1.6.6.1.1.1.1.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l4b.m1.6.6.1.1.1.1.1.1.1.cmml">(</mo><msub id="alg1.l4b.m1.6.6.1.1.1.1.1.1.1" xref="alg1.l4b.m1.6.6.1.1.1.1.1.1.1.cmml"><mi id="alg1.l4b.m1.6.6.1.1.1.1.1.1.1.2" mathsize="90%" xref="alg1.l4b.m1.6.6.1.1.1.1.1.1.1.2.cmml">O</mi><mrow id="alg1.l4b.m1.5.5.2.4" xref="alg1.l4b.m1.5.5.2.3.cmml"><mi id="alg1.l4b.m1.4.4.1.1" mathsize="90%" xref="alg1.l4b.m1.4.4.1.1.cmml">i</mi><mo id="alg1.l4b.m1.5.5.2.4.1" mathsize="90%" xref="alg1.l4b.m1.5.5.2.3.cmml">,</mo><mi id="alg1.l4b.m1.5.5.2.2" mathsize="90%" xref="alg1.l4b.m1.5.5.2.2.cmml">t</mi></mrow></msub><mo id="alg1.l4b.m1.6.6.1.1.1.1.1.1.3" maxsize="90%" minsize="90%" xref="alg1.l4b.m1.6.6.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="alg1.l4b.m1.6.6.1.1.1.3" maxsize="90%" minsize="90%" xref="alg1.l4b.m1.6.6.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4b.m1.6b"><apply id="alg1.l4b.m1.6.6.cmml" xref="alg1.l4b.m1.6.6"><ci id="alg1.l4b.m1.6.6.2.cmml" xref="alg1.l4b.m1.6.6.2">←</ci><apply id="alg1.l4b.m1.6.6.3.cmml" xref="alg1.l4b.m1.6.6.3"><csymbol cd="ambiguous" id="alg1.l4b.m1.6.6.3.1.cmml" xref="alg1.l4b.m1.6.6.3">subscript</csymbol><ci id="alg1.l4b.m1.6.6.3.2.cmml" xref="alg1.l4b.m1.6.6.3.2">𝑄</ci><list id="alg1.l4b.m1.3.3.3.4.cmml" xref="alg1.l4b.m1.3.3.3.3"><apply id="alg1.l4b.m1.3.3.3.3.1.cmml" xref="alg1.l4b.m1.3.3.3.3.1"><times id="alg1.l4b.m1.3.3.3.3.1.1.cmml" xref="alg1.l4b.m1.3.3.3.3.1.1"></times><ci id="alg1.l4b.m1.3.3.3.3.1.2.cmml" xref="alg1.l4b.m1.3.3.3.3.1.2">𝑜</ci><ci id="alg1.l4b.m1.3.3.3.3.1.3.cmml" xref="alg1.l4b.m1.3.3.3.3.1.3">𝑏</ci><ci id="alg1.l4b.m1.3.3.3.3.1.4.cmml" xref="alg1.l4b.m1.3.3.3.3.1.4">𝑠</ci></apply><ci id="alg1.l4b.m1.1.1.1.1.cmml" xref="alg1.l4b.m1.1.1.1.1">𝑖</ci><ci id="alg1.l4b.m1.2.2.2.2.cmml" xref="alg1.l4b.m1.2.2.2.2">𝑡</ci></list></apply><apply id="alg1.l4b.m1.6.6.1.cmml" xref="alg1.l4b.m1.6.6.1"><times id="alg1.l4b.m1.6.6.1.2.cmml" xref="alg1.l4b.m1.6.6.1.2"></times><ci id="alg1.l4b.m1.6.6.1.3.cmml" xref="alg1.l4b.m1.6.6.1.3">𝐸</ci><ci id="alg1.l4b.m1.6.6.1.4.cmml" xref="alg1.l4b.m1.6.6.1.4">𝑛</ci><ci id="alg1.l4b.m1.6.6.1.5.cmml" xref="alg1.l4b.m1.6.6.1.5">𝑐</ci><ci id="alg1.l4b.m1.6.6.1.6.cmml" xref="alg1.l4b.m1.6.6.1.6">𝑜</ci><ci id="alg1.l4b.m1.6.6.1.7.cmml" xref="alg1.l4b.m1.6.6.1.7">𝑑</ci><ci id="alg1.l4b.m1.6.6.1.8.cmml" xref="alg1.l4b.m1.6.6.1.8">𝑒</ci><apply id="alg1.l4b.m1.6.6.1.1.1.1.cmml" xref="alg1.l4b.m1.6.6.1.1.1"><times id="alg1.l4b.m1.6.6.1.1.1.1.2.cmml" xref="alg1.l4b.m1.6.6.1.1.1.1.2"></times><ci id="alg1.l4b.m1.6.6.1.1.1.1.3.cmml" xref="alg1.l4b.m1.6.6.1.1.1.1.3">ℱ</ci><apply id="alg1.l4b.m1.6.6.1.1.1.1.1.1.1.cmml" xref="alg1.l4b.m1.6.6.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l4b.m1.6.6.1.1.1.1.1.1.1.1.cmml" xref="alg1.l4b.m1.6.6.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l4b.m1.6.6.1.1.1.1.1.1.1.2.cmml" xref="alg1.l4b.m1.6.6.1.1.1.1.1.1.1.2">𝑂</ci><list id="alg1.l4b.m1.5.5.2.3.cmml" xref="alg1.l4b.m1.5.5.2.4"><ci id="alg1.l4b.m1.4.4.1.1.cmml" xref="alg1.l4b.m1.4.4.1.1">𝑖</ci><ci id="alg1.l4b.m1.5.5.2.2.cmml" xref="alg1.l4b.m1.5.5.2.2">𝑡</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4b.m1.6c">Q_{obs,i,t}\leftarrow Encode(\mathcal{F}(O_{i,t}))</annotation><annotation encoding="application/x-llamapun" id="alg1.l4b.m1.6d">italic_Q start_POSTSUBSCRIPT italic_o italic_b italic_s , italic_i , italic_t end_POSTSUBSCRIPT ← italic_E italic_n italic_c italic_o italic_d italic_e ( caligraphic_F ( italic_O start_POSTSUBSCRIPT italic_i , italic_t end_POSTSUBSCRIPT ) )</annotation></semantics></math><span class="ltx_text" id="alg1.l4b.2" style="font-size:90%;">;
</span>
</div>
<div class="ltx_listingline" id="alg1.l4c">
<span class="ltx_text" id="alg1.l4c.1" style="font-size:90%;">        </span><math alttext="Q_{ins,i}\leftarrow Encode(I_{i,goal})" class="ltx_Math" display="inline" id="alg1.l4c.m1.5"><semantics id="alg1.l4c.m1.5a"><mrow id="alg1.l4c.m1.5.5" xref="alg1.l4c.m1.5.5.cmml"><msub id="alg1.l4c.m1.5.5.3" xref="alg1.l4c.m1.5.5.3.cmml"><mi id="alg1.l4c.m1.5.5.3.2" mathsize="90%" xref="alg1.l4c.m1.5.5.3.2.cmml">Q</mi><mrow id="alg1.l4c.m1.2.2.2.2" xref="alg1.l4c.m1.2.2.2.3.cmml"><mrow id="alg1.l4c.m1.2.2.2.2.1" xref="alg1.l4c.m1.2.2.2.2.1.cmml"><mi id="alg1.l4c.m1.2.2.2.2.1.2" mathsize="90%" xref="alg1.l4c.m1.2.2.2.2.1.2.cmml">i</mi><mo id="alg1.l4c.m1.2.2.2.2.1.1" xref="alg1.l4c.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="alg1.l4c.m1.2.2.2.2.1.3" mathsize="90%" xref="alg1.l4c.m1.2.2.2.2.1.3.cmml">n</mi><mo id="alg1.l4c.m1.2.2.2.2.1.1a" xref="alg1.l4c.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="alg1.l4c.m1.2.2.2.2.1.4" mathsize="90%" xref="alg1.l4c.m1.2.2.2.2.1.4.cmml">s</mi></mrow><mo id="alg1.l4c.m1.2.2.2.2.2" mathsize="90%" xref="alg1.l4c.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l4c.m1.1.1.1.1" mathsize="90%" xref="alg1.l4c.m1.1.1.1.1.cmml">i</mi></mrow></msub><mo id="alg1.l4c.m1.5.5.2" mathsize="90%" stretchy="false" xref="alg1.l4c.m1.5.5.2.cmml">←</mo><mrow id="alg1.l4c.m1.5.5.1" xref="alg1.l4c.m1.5.5.1.cmml"><mi id="alg1.l4c.m1.5.5.1.3" mathsize="90%" xref="alg1.l4c.m1.5.5.1.3.cmml">E</mi><mo id="alg1.l4c.m1.5.5.1.2" xref="alg1.l4c.m1.5.5.1.2.cmml">⁢</mo><mi id="alg1.l4c.m1.5.5.1.4" mathsize="90%" xref="alg1.l4c.m1.5.5.1.4.cmml">n</mi><mo id="alg1.l4c.m1.5.5.1.2a" xref="alg1.l4c.m1.5.5.1.2.cmml">⁢</mo><mi id="alg1.l4c.m1.5.5.1.5" mathsize="90%" xref="alg1.l4c.m1.5.5.1.5.cmml">c</mi><mo id="alg1.l4c.m1.5.5.1.2b" xref="alg1.l4c.m1.5.5.1.2.cmml">⁢</mo><mi id="alg1.l4c.m1.5.5.1.6" mathsize="90%" xref="alg1.l4c.m1.5.5.1.6.cmml">o</mi><mo id="alg1.l4c.m1.5.5.1.2c" xref="alg1.l4c.m1.5.5.1.2.cmml">⁢</mo><mi id="alg1.l4c.m1.5.5.1.7" mathsize="90%" xref="alg1.l4c.m1.5.5.1.7.cmml">d</mi><mo id="alg1.l4c.m1.5.5.1.2d" xref="alg1.l4c.m1.5.5.1.2.cmml">⁢</mo><mi id="alg1.l4c.m1.5.5.1.8" mathsize="90%" xref="alg1.l4c.m1.5.5.1.8.cmml">e</mi><mo id="alg1.l4c.m1.5.5.1.2e" xref="alg1.l4c.m1.5.5.1.2.cmml">⁢</mo><mrow id="alg1.l4c.m1.5.5.1.1.1" xref="alg1.l4c.m1.5.5.1.1.1.1.cmml"><mo id="alg1.l4c.m1.5.5.1.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l4c.m1.5.5.1.1.1.1.cmml">(</mo><msub id="alg1.l4c.m1.5.5.1.1.1.1" xref="alg1.l4c.m1.5.5.1.1.1.1.cmml"><mi id="alg1.l4c.m1.5.5.1.1.1.1.2" mathsize="90%" xref="alg1.l4c.m1.5.5.1.1.1.1.2.cmml">I</mi><mrow id="alg1.l4c.m1.4.4.2.2" xref="alg1.l4c.m1.4.4.2.3.cmml"><mi id="alg1.l4c.m1.3.3.1.1" mathsize="90%" xref="alg1.l4c.m1.3.3.1.1.cmml">i</mi><mo id="alg1.l4c.m1.4.4.2.2.2" mathsize="90%" xref="alg1.l4c.m1.4.4.2.3.cmml">,</mo><mrow id="alg1.l4c.m1.4.4.2.2.1" xref="alg1.l4c.m1.4.4.2.2.1.cmml"><mi id="alg1.l4c.m1.4.4.2.2.1.2" mathsize="90%" xref="alg1.l4c.m1.4.4.2.2.1.2.cmml">g</mi><mo id="alg1.l4c.m1.4.4.2.2.1.1" xref="alg1.l4c.m1.4.4.2.2.1.1.cmml">⁢</mo><mi id="alg1.l4c.m1.4.4.2.2.1.3" mathsize="90%" xref="alg1.l4c.m1.4.4.2.2.1.3.cmml">o</mi><mo id="alg1.l4c.m1.4.4.2.2.1.1a" xref="alg1.l4c.m1.4.4.2.2.1.1.cmml">⁢</mo><mi id="alg1.l4c.m1.4.4.2.2.1.4" mathsize="90%" xref="alg1.l4c.m1.4.4.2.2.1.4.cmml">a</mi><mo id="alg1.l4c.m1.4.4.2.2.1.1b" xref="alg1.l4c.m1.4.4.2.2.1.1.cmml">⁢</mo><mi id="alg1.l4c.m1.4.4.2.2.1.5" mathsize="90%" xref="alg1.l4c.m1.4.4.2.2.1.5.cmml">l</mi></mrow></mrow></msub><mo id="alg1.l4c.m1.5.5.1.1.1.3" maxsize="90%" minsize="90%" xref="alg1.l4c.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4c.m1.5b"><apply id="alg1.l4c.m1.5.5.cmml" xref="alg1.l4c.m1.5.5"><ci id="alg1.l4c.m1.5.5.2.cmml" xref="alg1.l4c.m1.5.5.2">←</ci><apply id="alg1.l4c.m1.5.5.3.cmml" xref="alg1.l4c.m1.5.5.3"><csymbol cd="ambiguous" id="alg1.l4c.m1.5.5.3.1.cmml" xref="alg1.l4c.m1.5.5.3">subscript</csymbol><ci id="alg1.l4c.m1.5.5.3.2.cmml" xref="alg1.l4c.m1.5.5.3.2">𝑄</ci><list id="alg1.l4c.m1.2.2.2.3.cmml" xref="alg1.l4c.m1.2.2.2.2"><apply id="alg1.l4c.m1.2.2.2.2.1.cmml" xref="alg1.l4c.m1.2.2.2.2.1"><times id="alg1.l4c.m1.2.2.2.2.1.1.cmml" xref="alg1.l4c.m1.2.2.2.2.1.1"></times><ci id="alg1.l4c.m1.2.2.2.2.1.2.cmml" xref="alg1.l4c.m1.2.2.2.2.1.2">𝑖</ci><ci id="alg1.l4c.m1.2.2.2.2.1.3.cmml" xref="alg1.l4c.m1.2.2.2.2.1.3">𝑛</ci><ci id="alg1.l4c.m1.2.2.2.2.1.4.cmml" xref="alg1.l4c.m1.2.2.2.2.1.4">𝑠</ci></apply><ci id="alg1.l4c.m1.1.1.1.1.cmml" xref="alg1.l4c.m1.1.1.1.1">𝑖</ci></list></apply><apply id="alg1.l4c.m1.5.5.1.cmml" xref="alg1.l4c.m1.5.5.1"><times id="alg1.l4c.m1.5.5.1.2.cmml" xref="alg1.l4c.m1.5.5.1.2"></times><ci id="alg1.l4c.m1.5.5.1.3.cmml" xref="alg1.l4c.m1.5.5.1.3">𝐸</ci><ci id="alg1.l4c.m1.5.5.1.4.cmml" xref="alg1.l4c.m1.5.5.1.4">𝑛</ci><ci id="alg1.l4c.m1.5.5.1.5.cmml" xref="alg1.l4c.m1.5.5.1.5">𝑐</ci><ci id="alg1.l4c.m1.5.5.1.6.cmml" xref="alg1.l4c.m1.5.5.1.6">𝑜</ci><ci id="alg1.l4c.m1.5.5.1.7.cmml" xref="alg1.l4c.m1.5.5.1.7">𝑑</ci><ci id="alg1.l4c.m1.5.5.1.8.cmml" xref="alg1.l4c.m1.5.5.1.8">𝑒</ci><apply id="alg1.l4c.m1.5.5.1.1.1.1.cmml" xref="alg1.l4c.m1.5.5.1.1.1"><csymbol cd="ambiguous" id="alg1.l4c.m1.5.5.1.1.1.1.1.cmml" xref="alg1.l4c.m1.5.5.1.1.1">subscript</csymbol><ci id="alg1.l4c.m1.5.5.1.1.1.1.2.cmml" xref="alg1.l4c.m1.5.5.1.1.1.1.2">𝐼</ci><list id="alg1.l4c.m1.4.4.2.3.cmml" xref="alg1.l4c.m1.4.4.2.2"><ci id="alg1.l4c.m1.3.3.1.1.cmml" xref="alg1.l4c.m1.3.3.1.1">𝑖</ci><apply id="alg1.l4c.m1.4.4.2.2.1.cmml" xref="alg1.l4c.m1.4.4.2.2.1"><times id="alg1.l4c.m1.4.4.2.2.1.1.cmml" xref="alg1.l4c.m1.4.4.2.2.1.1"></times><ci id="alg1.l4c.m1.4.4.2.2.1.2.cmml" xref="alg1.l4c.m1.4.4.2.2.1.2">𝑔</ci><ci id="alg1.l4c.m1.4.4.2.2.1.3.cmml" xref="alg1.l4c.m1.4.4.2.2.1.3">𝑜</ci><ci id="alg1.l4c.m1.4.4.2.2.1.4.cmml" xref="alg1.l4c.m1.4.4.2.2.1.4">𝑎</ci><ci id="alg1.l4c.m1.4.4.2.2.1.5.cmml" xref="alg1.l4c.m1.4.4.2.2.1.5">𝑙</ci></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4c.m1.5c">Q_{ins,i}\leftarrow Encode(I_{i,goal})</annotation><annotation encoding="application/x-llamapun" id="alg1.l4c.m1.5d">italic_Q start_POSTSUBSCRIPT italic_i italic_n italic_s , italic_i end_POSTSUBSCRIPT ← italic_E italic_n italic_c italic_o italic_d italic_e ( italic_I start_POSTSUBSCRIPT italic_i , italic_g italic_o italic_a italic_l end_POSTSUBSCRIPT )</annotation></semantics></math><span class="ltx_text" id="alg1.l4c.2" style="font-size:90%;">;
</span>
</div>
<div class="ltx_listingline" id="alg1.l5">
<span class="ltx_text" id="alg1.l5.1" style="font-size:90%;">        </span><span class="ltx_text ltx_font_bold" id="alg1.l5.2" style="font-size:90%;">if</span><span class="ltx_text" id="alg1.l5.3" style="font-size:90%;"> </span><math alttext="DB\neq\varnothing" class="ltx_Math" display="inline" id="alg1.l5.m1.1"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mrow id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml"><mi id="alg1.l5.m1.1.1.2.2" mathsize="90%" xref="alg1.l5.m1.1.1.2.2.cmml">D</mi><mo id="alg1.l5.m1.1.1.2.1" xref="alg1.l5.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l5.m1.1.1.2.3" mathsize="90%" xref="alg1.l5.m1.1.1.2.3.cmml">B</mi></mrow><mo id="alg1.l5.m1.1.1.1" mathsize="90%" xref="alg1.l5.m1.1.1.1.cmml">≠</mo><mi id="alg1.l5.m1.1.1.3" mathsize="90%" mathvariant="normal" xref="alg1.l5.m1.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><neq id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1"></neq><apply id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2"><times id="alg1.l5.m1.1.1.2.1.cmml" xref="alg1.l5.m1.1.1.2.1"></times><ci id="alg1.l5.m1.1.1.2.2.cmml" xref="alg1.l5.m1.1.1.2.2">𝐷</ci><ci id="alg1.l5.m1.1.1.2.3.cmml" xref="alg1.l5.m1.1.1.2.3">𝐵</ci></apply><emptyset id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">DB\neq\varnothing</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m1.1d">italic_D italic_B ≠ ∅</annotation></semantics></math><span class="ltx_text" id="alg1.l5.4" style="font-size:90%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l5.5" style="font-size:90%;">then</span><span class="ltx_text" id="alg1.l5.6" style="font-size:90%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l5a">
<span class="ltx_text" id="alg1.l5a.1" style="font-size:90%;">           </span><math alttext="K_{obs,i,t},K_{ins,i}\leftarrow DB,i=1,2,...N_{env}" class="ltx_Math" display="inline" id="alg1.l5a.m1.9"><semantics id="alg1.l5a.m1.9a"><mrow id="alg1.l5a.m1.9.9.2" xref="alg1.l5a.m1.9.9.3.cmml"><mrow id="alg1.l5a.m1.8.8.1.1" xref="alg1.l5a.m1.8.8.1.1.cmml"><mrow id="alg1.l5a.m1.8.8.1.1.2.2" xref="alg1.l5a.m1.8.8.1.1.2.3.cmml"><msub id="alg1.l5a.m1.8.8.1.1.1.1.1" xref="alg1.l5a.m1.8.8.1.1.1.1.1.cmml"><mi id="alg1.l5a.m1.8.8.1.1.1.1.1.2" mathsize="90%" xref="alg1.l5a.m1.8.8.1.1.1.1.1.2.cmml">K</mi><mrow id="alg1.l5a.m1.3.3.3.3" xref="alg1.l5a.m1.3.3.3.4.cmml"><mrow id="alg1.l5a.m1.3.3.3.3.1" xref="alg1.l5a.m1.3.3.3.3.1.cmml"><mi id="alg1.l5a.m1.3.3.3.3.1.2" mathsize="90%" xref="alg1.l5a.m1.3.3.3.3.1.2.cmml">o</mi><mo id="alg1.l5a.m1.3.3.3.3.1.1" xref="alg1.l5a.m1.3.3.3.3.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.3.3.3.3.1.3" mathsize="90%" xref="alg1.l5a.m1.3.3.3.3.1.3.cmml">b</mi><mo id="alg1.l5a.m1.3.3.3.3.1.1a" xref="alg1.l5a.m1.3.3.3.3.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.3.3.3.3.1.4" mathsize="90%" xref="alg1.l5a.m1.3.3.3.3.1.4.cmml">s</mi></mrow><mo id="alg1.l5a.m1.3.3.3.3.2" mathsize="90%" xref="alg1.l5a.m1.3.3.3.4.cmml">,</mo><mi id="alg1.l5a.m1.1.1.1.1" mathsize="90%" xref="alg1.l5a.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l5a.m1.3.3.3.3.3" mathsize="90%" xref="alg1.l5a.m1.3.3.3.4.cmml">,</mo><mi id="alg1.l5a.m1.2.2.2.2" mathsize="90%" xref="alg1.l5a.m1.2.2.2.2.cmml">t</mi></mrow></msub><mo id="alg1.l5a.m1.8.8.1.1.2.2.3" mathsize="90%" xref="alg1.l5a.m1.8.8.1.1.2.3.cmml">,</mo><msub id="alg1.l5a.m1.8.8.1.1.2.2.2" xref="alg1.l5a.m1.8.8.1.1.2.2.2.cmml"><mi id="alg1.l5a.m1.8.8.1.1.2.2.2.2" mathsize="90%" xref="alg1.l5a.m1.8.8.1.1.2.2.2.2.cmml">K</mi><mrow id="alg1.l5a.m1.5.5.2.2" xref="alg1.l5a.m1.5.5.2.3.cmml"><mrow id="alg1.l5a.m1.5.5.2.2.1" xref="alg1.l5a.m1.5.5.2.2.1.cmml"><mi id="alg1.l5a.m1.5.5.2.2.1.2" mathsize="90%" xref="alg1.l5a.m1.5.5.2.2.1.2.cmml">i</mi><mo id="alg1.l5a.m1.5.5.2.2.1.1" xref="alg1.l5a.m1.5.5.2.2.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.5.5.2.2.1.3" mathsize="90%" xref="alg1.l5a.m1.5.5.2.2.1.3.cmml">n</mi><mo id="alg1.l5a.m1.5.5.2.2.1.1a" xref="alg1.l5a.m1.5.5.2.2.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.5.5.2.2.1.4" mathsize="90%" xref="alg1.l5a.m1.5.5.2.2.1.4.cmml">s</mi></mrow><mo id="alg1.l5a.m1.5.5.2.2.2" mathsize="90%" xref="alg1.l5a.m1.5.5.2.3.cmml">,</mo><mi id="alg1.l5a.m1.4.4.1.1" mathsize="90%" xref="alg1.l5a.m1.4.4.1.1.cmml">i</mi></mrow></msub></mrow><mo id="alg1.l5a.m1.8.8.1.1.3" mathsize="90%" stretchy="false" xref="alg1.l5a.m1.8.8.1.1.3.cmml">←</mo><mrow id="alg1.l5a.m1.8.8.1.1.4" xref="alg1.l5a.m1.8.8.1.1.4.cmml"><mi id="alg1.l5a.m1.8.8.1.1.4.2" mathsize="90%" xref="alg1.l5a.m1.8.8.1.1.4.2.cmml">D</mi><mo id="alg1.l5a.m1.8.8.1.1.4.1" xref="alg1.l5a.m1.8.8.1.1.4.1.cmml">⁢</mo><mi id="alg1.l5a.m1.8.8.1.1.4.3" mathsize="90%" xref="alg1.l5a.m1.8.8.1.1.4.3.cmml">B</mi></mrow></mrow><mo id="alg1.l5a.m1.9.9.2.3" mathsize="90%" xref="alg1.l5a.m1.9.9.3a.cmml">,</mo><mrow id="alg1.l5a.m1.9.9.2.2" xref="alg1.l5a.m1.9.9.2.2.cmml"><mi id="alg1.l5a.m1.9.9.2.2.3" mathsize="90%" xref="alg1.l5a.m1.9.9.2.2.3.cmml">i</mi><mo id="alg1.l5a.m1.9.9.2.2.2" mathsize="90%" xref="alg1.l5a.m1.9.9.2.2.2.cmml">=</mo><mrow id="alg1.l5a.m1.9.9.2.2.1.1" xref="alg1.l5a.m1.9.9.2.2.1.2.cmml"><mn id="alg1.l5a.m1.6.6" mathsize="90%" xref="alg1.l5a.m1.6.6.cmml">1</mn><mo id="alg1.l5a.m1.9.9.2.2.1.1.2" mathsize="90%" xref="alg1.l5a.m1.9.9.2.2.1.2.cmml">,</mo><mn id="alg1.l5a.m1.7.7" mathsize="90%" xref="alg1.l5a.m1.7.7.cmml">2</mn><mo id="alg1.l5a.m1.9.9.2.2.1.1.3" mathsize="90%" xref="alg1.l5a.m1.9.9.2.2.1.2.cmml">,</mo><mrow id="alg1.l5a.m1.9.9.2.2.1.1.1" xref="alg1.l5a.m1.9.9.2.2.1.1.1.cmml"><mi id="alg1.l5a.m1.9.9.2.2.1.1.1.2" mathsize="90%" mathvariant="normal" xref="alg1.l5a.m1.9.9.2.2.1.1.1.2.cmml">…</mi><mo id="alg1.l5a.m1.9.9.2.2.1.1.1.1" xref="alg1.l5a.m1.9.9.2.2.1.1.1.1.cmml">⁢</mo><msub id="alg1.l5a.m1.9.9.2.2.1.1.1.3" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.cmml"><mi id="alg1.l5a.m1.9.9.2.2.1.1.1.3.2" mathsize="90%" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.2.cmml">N</mi><mrow id="alg1.l5a.m1.9.9.2.2.1.1.1.3.3" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.cmml"><mi id="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.2" mathsize="90%" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.2.cmml">e</mi><mo id="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.1" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.3" mathsize="90%" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.3.cmml">n</mi><mo id="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.1a" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.4" mathsize="90%" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.4.cmml">v</mi></mrow></msub></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5a.m1.9b"><apply id="alg1.l5a.m1.9.9.3.cmml" xref="alg1.l5a.m1.9.9.2"><csymbol cd="ambiguous" id="alg1.l5a.m1.9.9.3a.cmml" xref="alg1.l5a.m1.9.9.2.3">formulae-sequence</csymbol><apply id="alg1.l5a.m1.8.8.1.1.cmml" xref="alg1.l5a.m1.8.8.1.1"><ci id="alg1.l5a.m1.8.8.1.1.3.cmml" xref="alg1.l5a.m1.8.8.1.1.3">←</ci><list id="alg1.l5a.m1.8.8.1.1.2.3.cmml" xref="alg1.l5a.m1.8.8.1.1.2.2"><apply id="alg1.l5a.m1.8.8.1.1.1.1.1.cmml" xref="alg1.l5a.m1.8.8.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l5a.m1.8.8.1.1.1.1.1.1.cmml" xref="alg1.l5a.m1.8.8.1.1.1.1.1">subscript</csymbol><ci id="alg1.l5a.m1.8.8.1.1.1.1.1.2.cmml" xref="alg1.l5a.m1.8.8.1.1.1.1.1.2">𝐾</ci><list id="alg1.l5a.m1.3.3.3.4.cmml" xref="alg1.l5a.m1.3.3.3.3"><apply id="alg1.l5a.m1.3.3.3.3.1.cmml" xref="alg1.l5a.m1.3.3.3.3.1"><times id="alg1.l5a.m1.3.3.3.3.1.1.cmml" xref="alg1.l5a.m1.3.3.3.3.1.1"></times><ci id="alg1.l5a.m1.3.3.3.3.1.2.cmml" xref="alg1.l5a.m1.3.3.3.3.1.2">𝑜</ci><ci id="alg1.l5a.m1.3.3.3.3.1.3.cmml" xref="alg1.l5a.m1.3.3.3.3.1.3">𝑏</ci><ci id="alg1.l5a.m1.3.3.3.3.1.4.cmml" xref="alg1.l5a.m1.3.3.3.3.1.4">𝑠</ci></apply><ci id="alg1.l5a.m1.1.1.1.1.cmml" xref="alg1.l5a.m1.1.1.1.1">𝑖</ci><ci id="alg1.l5a.m1.2.2.2.2.cmml" xref="alg1.l5a.m1.2.2.2.2">𝑡</ci></list></apply><apply id="alg1.l5a.m1.8.8.1.1.2.2.2.cmml" xref="alg1.l5a.m1.8.8.1.1.2.2.2"><csymbol cd="ambiguous" id="alg1.l5a.m1.8.8.1.1.2.2.2.1.cmml" xref="alg1.l5a.m1.8.8.1.1.2.2.2">subscript</csymbol><ci id="alg1.l5a.m1.8.8.1.1.2.2.2.2.cmml" xref="alg1.l5a.m1.8.8.1.1.2.2.2.2">𝐾</ci><list id="alg1.l5a.m1.5.5.2.3.cmml" xref="alg1.l5a.m1.5.5.2.2"><apply id="alg1.l5a.m1.5.5.2.2.1.cmml" xref="alg1.l5a.m1.5.5.2.2.1"><times id="alg1.l5a.m1.5.5.2.2.1.1.cmml" xref="alg1.l5a.m1.5.5.2.2.1.1"></times><ci id="alg1.l5a.m1.5.5.2.2.1.2.cmml" xref="alg1.l5a.m1.5.5.2.2.1.2">𝑖</ci><ci id="alg1.l5a.m1.5.5.2.2.1.3.cmml" xref="alg1.l5a.m1.5.5.2.2.1.3">𝑛</ci><ci id="alg1.l5a.m1.5.5.2.2.1.4.cmml" xref="alg1.l5a.m1.5.5.2.2.1.4">𝑠</ci></apply><ci id="alg1.l5a.m1.4.4.1.1.cmml" xref="alg1.l5a.m1.4.4.1.1">𝑖</ci></list></apply></list><apply id="alg1.l5a.m1.8.8.1.1.4.cmml" xref="alg1.l5a.m1.8.8.1.1.4"><times id="alg1.l5a.m1.8.8.1.1.4.1.cmml" xref="alg1.l5a.m1.8.8.1.1.4.1"></times><ci id="alg1.l5a.m1.8.8.1.1.4.2.cmml" xref="alg1.l5a.m1.8.8.1.1.4.2">𝐷</ci><ci id="alg1.l5a.m1.8.8.1.1.4.3.cmml" xref="alg1.l5a.m1.8.8.1.1.4.3">𝐵</ci></apply></apply><apply id="alg1.l5a.m1.9.9.2.2.cmml" xref="alg1.l5a.m1.9.9.2.2"><eq id="alg1.l5a.m1.9.9.2.2.2.cmml" xref="alg1.l5a.m1.9.9.2.2.2"></eq><ci id="alg1.l5a.m1.9.9.2.2.3.cmml" xref="alg1.l5a.m1.9.9.2.2.3">𝑖</ci><list id="alg1.l5a.m1.9.9.2.2.1.2.cmml" xref="alg1.l5a.m1.9.9.2.2.1.1"><cn id="alg1.l5a.m1.6.6.cmml" type="integer" xref="alg1.l5a.m1.6.6">1</cn><cn id="alg1.l5a.m1.7.7.cmml" type="integer" xref="alg1.l5a.m1.7.7">2</cn><apply id="alg1.l5a.m1.9.9.2.2.1.1.1.cmml" xref="alg1.l5a.m1.9.9.2.2.1.1.1"><times id="alg1.l5a.m1.9.9.2.2.1.1.1.1.cmml" xref="alg1.l5a.m1.9.9.2.2.1.1.1.1"></times><ci id="alg1.l5a.m1.9.9.2.2.1.1.1.2.cmml" xref="alg1.l5a.m1.9.9.2.2.1.1.1.2">…</ci><apply id="alg1.l5a.m1.9.9.2.2.1.1.1.3.cmml" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l5a.m1.9.9.2.2.1.1.1.3.1.cmml" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3">subscript</csymbol><ci id="alg1.l5a.m1.9.9.2.2.1.1.1.3.2.cmml" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.2">𝑁</ci><apply id="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.cmml" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.3"><times id="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.1.cmml" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.1"></times><ci id="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.2.cmml" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.2">𝑒</ci><ci id="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.3.cmml" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.3">𝑛</ci><ci id="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.4.cmml" xref="alg1.l5a.m1.9.9.2.2.1.1.1.3.3.4">𝑣</ci></apply></apply></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5a.m1.9c">K_{obs,i,t},K_{ins,i}\leftarrow DB,i=1,2,...N_{env}</annotation><annotation encoding="application/x-llamapun" id="alg1.l5a.m1.9d">italic_K start_POSTSUBSCRIPT italic_o italic_b italic_s , italic_i , italic_t end_POSTSUBSCRIPT , italic_K start_POSTSUBSCRIPT italic_i italic_n italic_s , italic_i end_POSTSUBSCRIPT ← italic_D italic_B , italic_i = 1 , 2 , … italic_N start_POSTSUBSCRIPT italic_e italic_n italic_v end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l5a.2" style="font-size:90%;">;
</span>
</div>
<div class="ltx_listingline" id="alg1.l5b">
<span class="ltx_text" id="alg1.l5b.1" style="font-size:90%;">           </span><math alttext="s_{i}\leftarrow equation" class="ltx_Math" display="inline" id="alg1.l5b.m1.1"><semantics id="alg1.l5b.m1.1a"><mrow id="alg1.l5b.m1.1.1" xref="alg1.l5b.m1.1.1.cmml"><msub id="alg1.l5b.m1.1.1.2" xref="alg1.l5b.m1.1.1.2.cmml"><mi id="alg1.l5b.m1.1.1.2.2" mathsize="90%" xref="alg1.l5b.m1.1.1.2.2.cmml">s</mi><mi id="alg1.l5b.m1.1.1.2.3" mathsize="90%" xref="alg1.l5b.m1.1.1.2.3.cmml">i</mi></msub><mo id="alg1.l5b.m1.1.1.1" mathsize="90%" stretchy="false" xref="alg1.l5b.m1.1.1.1.cmml">←</mo><mrow id="alg1.l5b.m1.1.1.3" xref="alg1.l5b.m1.1.1.3.cmml"><mi id="alg1.l5b.m1.1.1.3.2" mathsize="90%" xref="alg1.l5b.m1.1.1.3.2.cmml">e</mi><mo id="alg1.l5b.m1.1.1.3.1" xref="alg1.l5b.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l5b.m1.1.1.3.3" mathsize="90%" xref="alg1.l5b.m1.1.1.3.3.cmml">q</mi><mo id="alg1.l5b.m1.1.1.3.1a" xref="alg1.l5b.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l5b.m1.1.1.3.4" mathsize="90%" xref="alg1.l5b.m1.1.1.3.4.cmml">u</mi><mo id="alg1.l5b.m1.1.1.3.1b" xref="alg1.l5b.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l5b.m1.1.1.3.5" mathsize="90%" xref="alg1.l5b.m1.1.1.3.5.cmml">a</mi><mo id="alg1.l5b.m1.1.1.3.1c" xref="alg1.l5b.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l5b.m1.1.1.3.6" mathsize="90%" xref="alg1.l5b.m1.1.1.3.6.cmml">t</mi><mo id="alg1.l5b.m1.1.1.3.1d" xref="alg1.l5b.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l5b.m1.1.1.3.7" mathsize="90%" xref="alg1.l5b.m1.1.1.3.7.cmml">i</mi><mo id="alg1.l5b.m1.1.1.3.1e" xref="alg1.l5b.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l5b.m1.1.1.3.8" mathsize="90%" xref="alg1.l5b.m1.1.1.3.8.cmml">o</mi><mo id="alg1.l5b.m1.1.1.3.1f" xref="alg1.l5b.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l5b.m1.1.1.3.9" mathsize="90%" xref="alg1.l5b.m1.1.1.3.9.cmml">n</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5b.m1.1b"><apply id="alg1.l5b.m1.1.1.cmml" xref="alg1.l5b.m1.1.1"><ci id="alg1.l5b.m1.1.1.1.cmml" xref="alg1.l5b.m1.1.1.1">←</ci><apply id="alg1.l5b.m1.1.1.2.cmml" xref="alg1.l5b.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l5b.m1.1.1.2.1.cmml" xref="alg1.l5b.m1.1.1.2">subscript</csymbol><ci id="alg1.l5b.m1.1.1.2.2.cmml" xref="alg1.l5b.m1.1.1.2.2">𝑠</ci><ci id="alg1.l5b.m1.1.1.2.3.cmml" xref="alg1.l5b.m1.1.1.2.3">𝑖</ci></apply><apply id="alg1.l5b.m1.1.1.3.cmml" xref="alg1.l5b.m1.1.1.3"><times id="alg1.l5b.m1.1.1.3.1.cmml" xref="alg1.l5b.m1.1.1.3.1"></times><ci id="alg1.l5b.m1.1.1.3.2.cmml" xref="alg1.l5b.m1.1.1.3.2">𝑒</ci><ci id="alg1.l5b.m1.1.1.3.3.cmml" xref="alg1.l5b.m1.1.1.3.3">𝑞</ci><ci id="alg1.l5b.m1.1.1.3.4.cmml" xref="alg1.l5b.m1.1.1.3.4">𝑢</ci><ci id="alg1.l5b.m1.1.1.3.5.cmml" xref="alg1.l5b.m1.1.1.3.5">𝑎</ci><ci id="alg1.l5b.m1.1.1.3.6.cmml" xref="alg1.l5b.m1.1.1.3.6">𝑡</ci><ci id="alg1.l5b.m1.1.1.3.7.cmml" xref="alg1.l5b.m1.1.1.3.7">𝑖</ci><ci id="alg1.l5b.m1.1.1.3.8.cmml" xref="alg1.l5b.m1.1.1.3.8">𝑜</ci><ci id="alg1.l5b.m1.1.1.3.9.cmml" xref="alg1.l5b.m1.1.1.3.9">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5b.m1.1c">s_{i}\leftarrow equation</annotation><annotation encoding="application/x-llamapun" id="alg1.l5b.m1.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ← italic_e italic_q italic_u italic_a italic_t italic_i italic_o italic_n</annotation></semantics></math><span class="ltx_text" id="alg1.l5b.2" style="font-size:90%;"> </span><a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S3.E3" style="font-size:90%;" title="In 3.4. Database Construction and Retrieval ‣ 3. Method ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">3</span></a><span class="ltx_text" id="alg1.l5b.3" style="font-size:90%;">;
</span>
</div>
<div class="ltx_listingline" id="alg1.l5c">
<span class="ltx_text" id="alg1.l5c.1" style="font-size:90%;">           </span><math alttext="I_{goal},SG,H,D\leftarrow TOPK(DB,\{s_{i}\}_{i=1}^{N_{env}})" class="ltx_Math" display="inline" id="alg1.l5c.m1.6"><semantics id="alg1.l5c.m1.6a"><mrow id="alg1.l5c.m1.6.6" xref="alg1.l5c.m1.6.6.cmml"><mrow id="alg1.l5c.m1.4.4.2.2" xref="alg1.l5c.m1.4.4.2.3.cmml"><msub id="alg1.l5c.m1.3.3.1.1.1" xref="alg1.l5c.m1.3.3.1.1.1.cmml"><mi id="alg1.l5c.m1.3.3.1.1.1.2" mathsize="90%" xref="alg1.l5c.m1.3.3.1.1.1.2.cmml">I</mi><mrow id="alg1.l5c.m1.3.3.1.1.1.3" xref="alg1.l5c.m1.3.3.1.1.1.3.cmml"><mi id="alg1.l5c.m1.3.3.1.1.1.3.2" mathsize="90%" xref="alg1.l5c.m1.3.3.1.1.1.3.2.cmml">g</mi><mo id="alg1.l5c.m1.3.3.1.1.1.3.1" xref="alg1.l5c.m1.3.3.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l5c.m1.3.3.1.1.1.3.3" mathsize="90%" xref="alg1.l5c.m1.3.3.1.1.1.3.3.cmml">o</mi><mo id="alg1.l5c.m1.3.3.1.1.1.3.1a" xref="alg1.l5c.m1.3.3.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l5c.m1.3.3.1.1.1.3.4" mathsize="90%" xref="alg1.l5c.m1.3.3.1.1.1.3.4.cmml">a</mi><mo id="alg1.l5c.m1.3.3.1.1.1.3.1b" xref="alg1.l5c.m1.3.3.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l5c.m1.3.3.1.1.1.3.5" mathsize="90%" xref="alg1.l5c.m1.3.3.1.1.1.3.5.cmml">l</mi></mrow></msub><mo id="alg1.l5c.m1.4.4.2.2.3" mathsize="90%" xref="alg1.l5c.m1.4.4.2.3.cmml">,</mo><mrow id="alg1.l5c.m1.4.4.2.2.2" xref="alg1.l5c.m1.4.4.2.2.2.cmml"><mi id="alg1.l5c.m1.4.4.2.2.2.2" mathsize="90%" xref="alg1.l5c.m1.4.4.2.2.2.2.cmml">S</mi><mo id="alg1.l5c.m1.4.4.2.2.2.1" xref="alg1.l5c.m1.4.4.2.2.2.1.cmml">⁢</mo><mi id="alg1.l5c.m1.4.4.2.2.2.3" mathsize="90%" xref="alg1.l5c.m1.4.4.2.2.2.3.cmml">G</mi></mrow><mo id="alg1.l5c.m1.4.4.2.2.4" mathsize="90%" xref="alg1.l5c.m1.4.4.2.3.cmml">,</mo><mi id="alg1.l5c.m1.1.1" mathsize="90%" xref="alg1.l5c.m1.1.1.cmml">H</mi><mo id="alg1.l5c.m1.4.4.2.2.5" mathsize="90%" xref="alg1.l5c.m1.4.4.2.3.cmml">,</mo><mi id="alg1.l5c.m1.2.2" mathsize="90%" xref="alg1.l5c.m1.2.2.cmml">D</mi></mrow><mo id="alg1.l5c.m1.6.6.5" mathsize="90%" stretchy="false" xref="alg1.l5c.m1.6.6.5.cmml">←</mo><mrow id="alg1.l5c.m1.6.6.4" xref="alg1.l5c.m1.6.6.4.cmml"><mi id="alg1.l5c.m1.6.6.4.4" mathsize="90%" xref="alg1.l5c.m1.6.6.4.4.cmml">T</mi><mo id="alg1.l5c.m1.6.6.4.3" xref="alg1.l5c.m1.6.6.4.3.cmml">⁢</mo><mi id="alg1.l5c.m1.6.6.4.5" mathsize="90%" xref="alg1.l5c.m1.6.6.4.5.cmml">O</mi><mo id="alg1.l5c.m1.6.6.4.3a" xref="alg1.l5c.m1.6.6.4.3.cmml">⁢</mo><mi id="alg1.l5c.m1.6.6.4.6" mathsize="90%" xref="alg1.l5c.m1.6.6.4.6.cmml">P</mi><mo id="alg1.l5c.m1.6.6.4.3b" xref="alg1.l5c.m1.6.6.4.3.cmml">⁢</mo><mi id="alg1.l5c.m1.6.6.4.7" mathsize="90%" xref="alg1.l5c.m1.6.6.4.7.cmml">K</mi><mo id="alg1.l5c.m1.6.6.4.3c" xref="alg1.l5c.m1.6.6.4.3.cmml">⁢</mo><mrow id="alg1.l5c.m1.6.6.4.2.2" xref="alg1.l5c.m1.6.6.4.2.3.cmml"><mo id="alg1.l5c.m1.6.6.4.2.2.3" maxsize="90%" minsize="90%" xref="alg1.l5c.m1.6.6.4.2.3.cmml">(</mo><mrow id="alg1.l5c.m1.5.5.3.1.1.1" xref="alg1.l5c.m1.5.5.3.1.1.1.cmml"><mi id="alg1.l5c.m1.5.5.3.1.1.1.2" mathsize="90%" xref="alg1.l5c.m1.5.5.3.1.1.1.2.cmml">D</mi><mo id="alg1.l5c.m1.5.5.3.1.1.1.1" xref="alg1.l5c.m1.5.5.3.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5c.m1.5.5.3.1.1.1.3" mathsize="90%" xref="alg1.l5c.m1.5.5.3.1.1.1.3.cmml">B</mi></mrow><mo id="alg1.l5c.m1.6.6.4.2.2.4" mathsize="90%" xref="alg1.l5c.m1.6.6.4.2.3.cmml">,</mo><msubsup id="alg1.l5c.m1.6.6.4.2.2.2" xref="alg1.l5c.m1.6.6.4.2.2.2.cmml"><mrow id="alg1.l5c.m1.6.6.4.2.2.2.1.1.1" xref="alg1.l5c.m1.6.6.4.2.2.2.1.1.2.cmml"><mo id="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l5c.m1.6.6.4.2.2.2.1.1.2.cmml">{</mo><msub id="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1" xref="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1.cmml"><mi id="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1.2" mathsize="90%" xref="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1.2.cmml">s</mi><mi id="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1.3" mathsize="90%" xref="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.3" maxsize="90%" minsize="90%" xref="alg1.l5c.m1.6.6.4.2.2.2.1.1.2.cmml">}</mo></mrow><mrow id="alg1.l5c.m1.6.6.4.2.2.2.1.3" xref="alg1.l5c.m1.6.6.4.2.2.2.1.3.cmml"><mi id="alg1.l5c.m1.6.6.4.2.2.2.1.3.2" mathsize="90%" xref="alg1.l5c.m1.6.6.4.2.2.2.1.3.2.cmml">i</mi><mo id="alg1.l5c.m1.6.6.4.2.2.2.1.3.1" mathsize="90%" xref="alg1.l5c.m1.6.6.4.2.2.2.1.3.1.cmml">=</mo><mn id="alg1.l5c.m1.6.6.4.2.2.2.1.3.3" mathsize="90%" xref="alg1.l5c.m1.6.6.4.2.2.2.1.3.3.cmml">1</mn></mrow><msub id="alg1.l5c.m1.6.6.4.2.2.2.3" xref="alg1.l5c.m1.6.6.4.2.2.2.3.cmml"><mi id="alg1.l5c.m1.6.6.4.2.2.2.3.2" mathsize="90%" xref="alg1.l5c.m1.6.6.4.2.2.2.3.2.cmml">N</mi><mrow id="alg1.l5c.m1.6.6.4.2.2.2.3.3" xref="alg1.l5c.m1.6.6.4.2.2.2.3.3.cmml"><mi id="alg1.l5c.m1.6.6.4.2.2.2.3.3.2" mathsize="90%" xref="alg1.l5c.m1.6.6.4.2.2.2.3.3.2.cmml">e</mi><mo id="alg1.l5c.m1.6.6.4.2.2.2.3.3.1" xref="alg1.l5c.m1.6.6.4.2.2.2.3.3.1.cmml">⁢</mo><mi id="alg1.l5c.m1.6.6.4.2.2.2.3.3.3" mathsize="90%" xref="alg1.l5c.m1.6.6.4.2.2.2.3.3.3.cmml">n</mi><mo id="alg1.l5c.m1.6.6.4.2.2.2.3.3.1a" xref="alg1.l5c.m1.6.6.4.2.2.2.3.3.1.cmml">⁢</mo><mi id="alg1.l5c.m1.6.6.4.2.2.2.3.3.4" mathsize="90%" xref="alg1.l5c.m1.6.6.4.2.2.2.3.3.4.cmml">v</mi></mrow></msub></msubsup><mo id="alg1.l5c.m1.6.6.4.2.2.5" maxsize="90%" minsize="90%" xref="alg1.l5c.m1.6.6.4.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5c.m1.6b"><apply id="alg1.l5c.m1.6.6.cmml" xref="alg1.l5c.m1.6.6"><ci id="alg1.l5c.m1.6.6.5.cmml" xref="alg1.l5c.m1.6.6.5">←</ci><list id="alg1.l5c.m1.4.4.2.3.cmml" xref="alg1.l5c.m1.4.4.2.2"><apply id="alg1.l5c.m1.3.3.1.1.1.cmml" xref="alg1.l5c.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l5c.m1.3.3.1.1.1.1.cmml" xref="alg1.l5c.m1.3.3.1.1.1">subscript</csymbol><ci id="alg1.l5c.m1.3.3.1.1.1.2.cmml" xref="alg1.l5c.m1.3.3.1.1.1.2">𝐼</ci><apply id="alg1.l5c.m1.3.3.1.1.1.3.cmml" xref="alg1.l5c.m1.3.3.1.1.1.3"><times id="alg1.l5c.m1.3.3.1.1.1.3.1.cmml" xref="alg1.l5c.m1.3.3.1.1.1.3.1"></times><ci id="alg1.l5c.m1.3.3.1.1.1.3.2.cmml" xref="alg1.l5c.m1.3.3.1.1.1.3.2">𝑔</ci><ci id="alg1.l5c.m1.3.3.1.1.1.3.3.cmml" xref="alg1.l5c.m1.3.3.1.1.1.3.3">𝑜</ci><ci id="alg1.l5c.m1.3.3.1.1.1.3.4.cmml" xref="alg1.l5c.m1.3.3.1.1.1.3.4">𝑎</ci><ci id="alg1.l5c.m1.3.3.1.1.1.3.5.cmml" xref="alg1.l5c.m1.3.3.1.1.1.3.5">𝑙</ci></apply></apply><apply id="alg1.l5c.m1.4.4.2.2.2.cmml" xref="alg1.l5c.m1.4.4.2.2.2"><times id="alg1.l5c.m1.4.4.2.2.2.1.cmml" xref="alg1.l5c.m1.4.4.2.2.2.1"></times><ci id="alg1.l5c.m1.4.4.2.2.2.2.cmml" xref="alg1.l5c.m1.4.4.2.2.2.2">𝑆</ci><ci id="alg1.l5c.m1.4.4.2.2.2.3.cmml" xref="alg1.l5c.m1.4.4.2.2.2.3">𝐺</ci></apply><ci id="alg1.l5c.m1.1.1.cmml" xref="alg1.l5c.m1.1.1">𝐻</ci><ci id="alg1.l5c.m1.2.2.cmml" xref="alg1.l5c.m1.2.2">𝐷</ci></list><apply id="alg1.l5c.m1.6.6.4.cmml" xref="alg1.l5c.m1.6.6.4"><times id="alg1.l5c.m1.6.6.4.3.cmml" xref="alg1.l5c.m1.6.6.4.3"></times><ci id="alg1.l5c.m1.6.6.4.4.cmml" xref="alg1.l5c.m1.6.6.4.4">𝑇</ci><ci id="alg1.l5c.m1.6.6.4.5.cmml" xref="alg1.l5c.m1.6.6.4.5">𝑂</ci><ci id="alg1.l5c.m1.6.6.4.6.cmml" xref="alg1.l5c.m1.6.6.4.6">𝑃</ci><ci id="alg1.l5c.m1.6.6.4.7.cmml" xref="alg1.l5c.m1.6.6.4.7">𝐾</ci><interval closure="open" id="alg1.l5c.m1.6.6.4.2.3.cmml" xref="alg1.l5c.m1.6.6.4.2.2"><apply id="alg1.l5c.m1.5.5.3.1.1.1.cmml" xref="alg1.l5c.m1.5.5.3.1.1.1"><times id="alg1.l5c.m1.5.5.3.1.1.1.1.cmml" xref="alg1.l5c.m1.5.5.3.1.1.1.1"></times><ci id="alg1.l5c.m1.5.5.3.1.1.1.2.cmml" xref="alg1.l5c.m1.5.5.3.1.1.1.2">𝐷</ci><ci id="alg1.l5c.m1.5.5.3.1.1.1.3.cmml" xref="alg1.l5c.m1.5.5.3.1.1.1.3">𝐵</ci></apply><apply id="alg1.l5c.m1.6.6.4.2.2.2.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2"><csymbol cd="ambiguous" id="alg1.l5c.m1.6.6.4.2.2.2.2.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2">superscript</csymbol><apply id="alg1.l5c.m1.6.6.4.2.2.2.1.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2"><csymbol cd="ambiguous" id="alg1.l5c.m1.6.6.4.2.2.2.1.2.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2">subscript</csymbol><set id="alg1.l5c.m1.6.6.4.2.2.2.1.1.2.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.1.1.1"><apply id="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1.1.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1">subscript</csymbol><ci id="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1.2.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1.2">𝑠</ci><ci id="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1.3.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.1.1.1.1.3">𝑖</ci></apply></set><apply id="alg1.l5c.m1.6.6.4.2.2.2.1.3.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.1.3"><eq id="alg1.l5c.m1.6.6.4.2.2.2.1.3.1.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.1.3.1"></eq><ci id="alg1.l5c.m1.6.6.4.2.2.2.1.3.2.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.1.3.2">𝑖</ci><cn id="alg1.l5c.m1.6.6.4.2.2.2.1.3.3.cmml" type="integer" xref="alg1.l5c.m1.6.6.4.2.2.2.1.3.3">1</cn></apply></apply><apply id="alg1.l5c.m1.6.6.4.2.2.2.3.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.3"><csymbol cd="ambiguous" id="alg1.l5c.m1.6.6.4.2.2.2.3.1.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.3">subscript</csymbol><ci id="alg1.l5c.m1.6.6.4.2.2.2.3.2.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.3.2">𝑁</ci><apply id="alg1.l5c.m1.6.6.4.2.2.2.3.3.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.3.3"><times id="alg1.l5c.m1.6.6.4.2.2.2.3.3.1.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.3.3.1"></times><ci id="alg1.l5c.m1.6.6.4.2.2.2.3.3.2.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.3.3.2">𝑒</ci><ci id="alg1.l5c.m1.6.6.4.2.2.2.3.3.3.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.3.3.3">𝑛</ci><ci id="alg1.l5c.m1.6.6.4.2.2.2.3.3.4.cmml" xref="alg1.l5c.m1.6.6.4.2.2.2.3.3.4">𝑣</ci></apply></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5c.m1.6c">I_{goal},SG,H,D\leftarrow TOPK(DB,\{s_{i}\}_{i=1}^{N_{env}})</annotation><annotation encoding="application/x-llamapun" id="alg1.l5c.m1.6d">italic_I start_POSTSUBSCRIPT italic_g italic_o italic_a italic_l end_POSTSUBSCRIPT , italic_S italic_G , italic_H , italic_D ← italic_T italic_O italic_P italic_K ( italic_D italic_B , { italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_e italic_n italic_v end_POSTSUBSCRIPT end_POSTSUPERSCRIPT )</annotation></semantics></math><span class="ltx_text" id="alg1.l5c.2" style="font-size:90%;">;
</span>
</div>
<div class="ltx_listingline" id="alg1.l5d">
<span class="ltx_text" id="alg1.l5d.1" style="font-size:90%;">           </span><math alttext="A_{i,t}\leftarrow Agent(LLM,I_{goal},SG,H,D)" class="ltx_Math" display="inline" id="alg1.l5d.m1.7"><semantics id="alg1.l5d.m1.7a"><mrow id="alg1.l5d.m1.7.7" xref="alg1.l5d.m1.7.7.cmml"><msub id="alg1.l5d.m1.7.7.5" xref="alg1.l5d.m1.7.7.5.cmml"><mi id="alg1.l5d.m1.7.7.5.2" mathsize="90%" xref="alg1.l5d.m1.7.7.5.2.cmml">A</mi><mrow id="alg1.l5d.m1.2.2.2.4" xref="alg1.l5d.m1.2.2.2.3.cmml"><mi id="alg1.l5d.m1.1.1.1.1" mathsize="90%" xref="alg1.l5d.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l5d.m1.2.2.2.4.1" mathsize="90%" xref="alg1.l5d.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l5d.m1.2.2.2.2" mathsize="90%" xref="alg1.l5d.m1.2.2.2.2.cmml">t</mi></mrow></msub><mo id="alg1.l5d.m1.7.7.4" mathsize="90%" stretchy="false" xref="alg1.l5d.m1.7.7.4.cmml">←</mo><mrow id="alg1.l5d.m1.7.7.3" xref="alg1.l5d.m1.7.7.3.cmml"><mi id="alg1.l5d.m1.7.7.3.5" mathsize="90%" xref="alg1.l5d.m1.7.7.3.5.cmml">A</mi><mo id="alg1.l5d.m1.7.7.3.4" xref="alg1.l5d.m1.7.7.3.4.cmml">⁢</mo><mi id="alg1.l5d.m1.7.7.3.6" mathsize="90%" xref="alg1.l5d.m1.7.7.3.6.cmml">g</mi><mo id="alg1.l5d.m1.7.7.3.4a" xref="alg1.l5d.m1.7.7.3.4.cmml">⁢</mo><mi id="alg1.l5d.m1.7.7.3.7" mathsize="90%" xref="alg1.l5d.m1.7.7.3.7.cmml">e</mi><mo id="alg1.l5d.m1.7.7.3.4b" xref="alg1.l5d.m1.7.7.3.4.cmml">⁢</mo><mi id="alg1.l5d.m1.7.7.3.8" mathsize="90%" xref="alg1.l5d.m1.7.7.3.8.cmml">n</mi><mo id="alg1.l5d.m1.7.7.3.4c" xref="alg1.l5d.m1.7.7.3.4.cmml">⁢</mo><mi id="alg1.l5d.m1.7.7.3.9" mathsize="90%" xref="alg1.l5d.m1.7.7.3.9.cmml">t</mi><mo id="alg1.l5d.m1.7.7.3.4d" xref="alg1.l5d.m1.7.7.3.4.cmml">⁢</mo><mrow id="alg1.l5d.m1.7.7.3.3.3" xref="alg1.l5d.m1.7.7.3.3.4.cmml"><mo id="alg1.l5d.m1.7.7.3.3.3.4" maxsize="90%" minsize="90%" xref="alg1.l5d.m1.7.7.3.3.4.cmml">(</mo><mrow id="alg1.l5d.m1.5.5.1.1.1.1" xref="alg1.l5d.m1.5.5.1.1.1.1.cmml"><mi id="alg1.l5d.m1.5.5.1.1.1.1.2" mathsize="90%" xref="alg1.l5d.m1.5.5.1.1.1.1.2.cmml">L</mi><mo id="alg1.l5d.m1.5.5.1.1.1.1.1" xref="alg1.l5d.m1.5.5.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5d.m1.5.5.1.1.1.1.3" mathsize="90%" xref="alg1.l5d.m1.5.5.1.1.1.1.3.cmml">L</mi><mo id="alg1.l5d.m1.5.5.1.1.1.1.1a" xref="alg1.l5d.m1.5.5.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5d.m1.5.5.1.1.1.1.4" mathsize="90%" xref="alg1.l5d.m1.5.5.1.1.1.1.4.cmml">M</mi></mrow><mo id="alg1.l5d.m1.7.7.3.3.3.5" mathsize="90%" xref="alg1.l5d.m1.7.7.3.3.4.cmml">,</mo><msub id="alg1.l5d.m1.6.6.2.2.2.2" xref="alg1.l5d.m1.6.6.2.2.2.2.cmml"><mi id="alg1.l5d.m1.6.6.2.2.2.2.2" mathsize="90%" xref="alg1.l5d.m1.6.6.2.2.2.2.2.cmml">I</mi><mrow id="alg1.l5d.m1.6.6.2.2.2.2.3" xref="alg1.l5d.m1.6.6.2.2.2.2.3.cmml"><mi id="alg1.l5d.m1.6.6.2.2.2.2.3.2" mathsize="90%" xref="alg1.l5d.m1.6.6.2.2.2.2.3.2.cmml">g</mi><mo id="alg1.l5d.m1.6.6.2.2.2.2.3.1" xref="alg1.l5d.m1.6.6.2.2.2.2.3.1.cmml">⁢</mo><mi id="alg1.l5d.m1.6.6.2.2.2.2.3.3" mathsize="90%" xref="alg1.l5d.m1.6.6.2.2.2.2.3.3.cmml">o</mi><mo id="alg1.l5d.m1.6.6.2.2.2.2.3.1a" xref="alg1.l5d.m1.6.6.2.2.2.2.3.1.cmml">⁢</mo><mi id="alg1.l5d.m1.6.6.2.2.2.2.3.4" mathsize="90%" xref="alg1.l5d.m1.6.6.2.2.2.2.3.4.cmml">a</mi><mo id="alg1.l5d.m1.6.6.2.2.2.2.3.1b" xref="alg1.l5d.m1.6.6.2.2.2.2.3.1.cmml">⁢</mo><mi id="alg1.l5d.m1.6.6.2.2.2.2.3.5" mathsize="90%" xref="alg1.l5d.m1.6.6.2.2.2.2.3.5.cmml">l</mi></mrow></msub><mo id="alg1.l5d.m1.7.7.3.3.3.6" mathsize="90%" xref="alg1.l5d.m1.7.7.3.3.4.cmml">,</mo><mrow id="alg1.l5d.m1.7.7.3.3.3.3" xref="alg1.l5d.m1.7.7.3.3.3.3.cmml"><mi id="alg1.l5d.m1.7.7.3.3.3.3.2" mathsize="90%" xref="alg1.l5d.m1.7.7.3.3.3.3.2.cmml">S</mi><mo id="alg1.l5d.m1.7.7.3.3.3.3.1" xref="alg1.l5d.m1.7.7.3.3.3.3.1.cmml">⁢</mo><mi id="alg1.l5d.m1.7.7.3.3.3.3.3" mathsize="90%" xref="alg1.l5d.m1.7.7.3.3.3.3.3.cmml">G</mi></mrow><mo id="alg1.l5d.m1.7.7.3.3.3.7" mathsize="90%" xref="alg1.l5d.m1.7.7.3.3.4.cmml">,</mo><mi id="alg1.l5d.m1.3.3" mathsize="90%" xref="alg1.l5d.m1.3.3.cmml">H</mi><mo id="alg1.l5d.m1.7.7.3.3.3.8" mathsize="90%" xref="alg1.l5d.m1.7.7.3.3.4.cmml">,</mo><mi id="alg1.l5d.m1.4.4" mathsize="90%" xref="alg1.l5d.m1.4.4.cmml">D</mi><mo id="alg1.l5d.m1.7.7.3.3.3.9" maxsize="90%" minsize="90%" xref="alg1.l5d.m1.7.7.3.3.4.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5d.m1.7b"><apply id="alg1.l5d.m1.7.7.cmml" xref="alg1.l5d.m1.7.7"><ci id="alg1.l5d.m1.7.7.4.cmml" xref="alg1.l5d.m1.7.7.4">←</ci><apply id="alg1.l5d.m1.7.7.5.cmml" xref="alg1.l5d.m1.7.7.5"><csymbol cd="ambiguous" id="alg1.l5d.m1.7.7.5.1.cmml" xref="alg1.l5d.m1.7.7.5">subscript</csymbol><ci id="alg1.l5d.m1.7.7.5.2.cmml" xref="alg1.l5d.m1.7.7.5.2">𝐴</ci><list id="alg1.l5d.m1.2.2.2.3.cmml" xref="alg1.l5d.m1.2.2.2.4"><ci id="alg1.l5d.m1.1.1.1.1.cmml" xref="alg1.l5d.m1.1.1.1.1">𝑖</ci><ci id="alg1.l5d.m1.2.2.2.2.cmml" xref="alg1.l5d.m1.2.2.2.2">𝑡</ci></list></apply><apply id="alg1.l5d.m1.7.7.3.cmml" xref="alg1.l5d.m1.7.7.3"><times id="alg1.l5d.m1.7.7.3.4.cmml" xref="alg1.l5d.m1.7.7.3.4"></times><ci id="alg1.l5d.m1.7.7.3.5.cmml" xref="alg1.l5d.m1.7.7.3.5">𝐴</ci><ci id="alg1.l5d.m1.7.7.3.6.cmml" xref="alg1.l5d.m1.7.7.3.6">𝑔</ci><ci id="alg1.l5d.m1.7.7.3.7.cmml" xref="alg1.l5d.m1.7.7.3.7">𝑒</ci><ci id="alg1.l5d.m1.7.7.3.8.cmml" xref="alg1.l5d.m1.7.7.3.8">𝑛</ci><ci id="alg1.l5d.m1.7.7.3.9.cmml" xref="alg1.l5d.m1.7.7.3.9">𝑡</ci><vector id="alg1.l5d.m1.7.7.3.3.4.cmml" xref="alg1.l5d.m1.7.7.3.3.3"><apply id="alg1.l5d.m1.5.5.1.1.1.1.cmml" xref="alg1.l5d.m1.5.5.1.1.1.1"><times id="alg1.l5d.m1.5.5.1.1.1.1.1.cmml" xref="alg1.l5d.m1.5.5.1.1.1.1.1"></times><ci id="alg1.l5d.m1.5.5.1.1.1.1.2.cmml" xref="alg1.l5d.m1.5.5.1.1.1.1.2">𝐿</ci><ci id="alg1.l5d.m1.5.5.1.1.1.1.3.cmml" xref="alg1.l5d.m1.5.5.1.1.1.1.3">𝐿</ci><ci id="alg1.l5d.m1.5.5.1.1.1.1.4.cmml" xref="alg1.l5d.m1.5.5.1.1.1.1.4">𝑀</ci></apply><apply id="alg1.l5d.m1.6.6.2.2.2.2.cmml" xref="alg1.l5d.m1.6.6.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l5d.m1.6.6.2.2.2.2.1.cmml" xref="alg1.l5d.m1.6.6.2.2.2.2">subscript</csymbol><ci id="alg1.l5d.m1.6.6.2.2.2.2.2.cmml" xref="alg1.l5d.m1.6.6.2.2.2.2.2">𝐼</ci><apply id="alg1.l5d.m1.6.6.2.2.2.2.3.cmml" xref="alg1.l5d.m1.6.6.2.2.2.2.3"><times id="alg1.l5d.m1.6.6.2.2.2.2.3.1.cmml" xref="alg1.l5d.m1.6.6.2.2.2.2.3.1"></times><ci id="alg1.l5d.m1.6.6.2.2.2.2.3.2.cmml" xref="alg1.l5d.m1.6.6.2.2.2.2.3.2">𝑔</ci><ci id="alg1.l5d.m1.6.6.2.2.2.2.3.3.cmml" xref="alg1.l5d.m1.6.6.2.2.2.2.3.3">𝑜</ci><ci id="alg1.l5d.m1.6.6.2.2.2.2.3.4.cmml" xref="alg1.l5d.m1.6.6.2.2.2.2.3.4">𝑎</ci><ci id="alg1.l5d.m1.6.6.2.2.2.2.3.5.cmml" xref="alg1.l5d.m1.6.6.2.2.2.2.3.5">𝑙</ci></apply></apply><apply id="alg1.l5d.m1.7.7.3.3.3.3.cmml" xref="alg1.l5d.m1.7.7.3.3.3.3"><times id="alg1.l5d.m1.7.7.3.3.3.3.1.cmml" xref="alg1.l5d.m1.7.7.3.3.3.3.1"></times><ci id="alg1.l5d.m1.7.7.3.3.3.3.2.cmml" xref="alg1.l5d.m1.7.7.3.3.3.3.2">𝑆</ci><ci id="alg1.l5d.m1.7.7.3.3.3.3.3.cmml" xref="alg1.l5d.m1.7.7.3.3.3.3.3">𝐺</ci></apply><ci id="alg1.l5d.m1.3.3.cmml" xref="alg1.l5d.m1.3.3">𝐻</ci><ci id="alg1.l5d.m1.4.4.cmml" xref="alg1.l5d.m1.4.4">𝐷</ci></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5d.m1.7c">A_{i,t}\leftarrow Agent(LLM,I_{goal},SG,H,D)</annotation><annotation encoding="application/x-llamapun" id="alg1.l5d.m1.7d">italic_A start_POSTSUBSCRIPT italic_i , italic_t end_POSTSUBSCRIPT ← italic_A italic_g italic_e italic_n italic_t ( italic_L italic_L italic_M , italic_I start_POSTSUBSCRIPT italic_g italic_o italic_a italic_l end_POSTSUBSCRIPT , italic_S italic_G , italic_H , italic_D )</annotation></semantics></math><span class="ltx_text" id="alg1.l5d.2" style="font-size:90%;">;
</span>
</div>
<div class="ltx_listingline" id="alg1.l6">
<span class="ltx_text" id="alg1.l6.1" style="font-size:90%;">        </span><span class="ltx_text ltx_font_bold" id="alg1.l6.2" style="font-size:90%;">else</span><span class="ltx_text" id="alg1.l6.3" style="font-size:90%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l6a">
<span class="ltx_text" id="alg1.l6a.1" style="font-size:90%;">           </span><math alttext="A_{i,t}\leftarrow Agent(LLM)" class="ltx_Math" display="inline" id="alg1.l6a.m1.3"><semantics id="alg1.l6a.m1.3a"><mrow id="alg1.l6a.m1.3.3" xref="alg1.l6a.m1.3.3.cmml"><msub id="alg1.l6a.m1.3.3.3" xref="alg1.l6a.m1.3.3.3.cmml"><mi id="alg1.l6a.m1.3.3.3.2" mathsize="90%" xref="alg1.l6a.m1.3.3.3.2.cmml">A</mi><mrow id="alg1.l6a.m1.2.2.2.4" xref="alg1.l6a.m1.2.2.2.3.cmml"><mi id="alg1.l6a.m1.1.1.1.1" mathsize="90%" xref="alg1.l6a.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l6a.m1.2.2.2.4.1" mathsize="90%" xref="alg1.l6a.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l6a.m1.2.2.2.2" mathsize="90%" xref="alg1.l6a.m1.2.2.2.2.cmml">t</mi></mrow></msub><mo id="alg1.l6a.m1.3.3.2" mathsize="90%" stretchy="false" xref="alg1.l6a.m1.3.3.2.cmml">←</mo><mrow id="alg1.l6a.m1.3.3.1" xref="alg1.l6a.m1.3.3.1.cmml"><mi id="alg1.l6a.m1.3.3.1.3" mathsize="90%" xref="alg1.l6a.m1.3.3.1.3.cmml">A</mi><mo id="alg1.l6a.m1.3.3.1.2" xref="alg1.l6a.m1.3.3.1.2.cmml">⁢</mo><mi id="alg1.l6a.m1.3.3.1.4" mathsize="90%" xref="alg1.l6a.m1.3.3.1.4.cmml">g</mi><mo id="alg1.l6a.m1.3.3.1.2a" xref="alg1.l6a.m1.3.3.1.2.cmml">⁢</mo><mi id="alg1.l6a.m1.3.3.1.5" mathsize="90%" xref="alg1.l6a.m1.3.3.1.5.cmml">e</mi><mo id="alg1.l6a.m1.3.3.1.2b" xref="alg1.l6a.m1.3.3.1.2.cmml">⁢</mo><mi id="alg1.l6a.m1.3.3.1.6" mathsize="90%" xref="alg1.l6a.m1.3.3.1.6.cmml">n</mi><mo id="alg1.l6a.m1.3.3.1.2c" xref="alg1.l6a.m1.3.3.1.2.cmml">⁢</mo><mi id="alg1.l6a.m1.3.3.1.7" mathsize="90%" xref="alg1.l6a.m1.3.3.1.7.cmml">t</mi><mo id="alg1.l6a.m1.3.3.1.2d" xref="alg1.l6a.m1.3.3.1.2.cmml">⁢</mo><mrow id="alg1.l6a.m1.3.3.1.1.1" xref="alg1.l6a.m1.3.3.1.1.1.1.cmml"><mo id="alg1.l6a.m1.3.3.1.1.1.2" maxsize="90%" minsize="90%" xref="alg1.l6a.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="alg1.l6a.m1.3.3.1.1.1.1" xref="alg1.l6a.m1.3.3.1.1.1.1.cmml"><mi id="alg1.l6a.m1.3.3.1.1.1.1.2" mathsize="90%" xref="alg1.l6a.m1.3.3.1.1.1.1.2.cmml">L</mi><mo id="alg1.l6a.m1.3.3.1.1.1.1.1" xref="alg1.l6a.m1.3.3.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l6a.m1.3.3.1.1.1.1.3" mathsize="90%" xref="alg1.l6a.m1.3.3.1.1.1.1.3.cmml">L</mi><mo id="alg1.l6a.m1.3.3.1.1.1.1.1a" xref="alg1.l6a.m1.3.3.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l6a.m1.3.3.1.1.1.1.4" mathsize="90%" xref="alg1.l6a.m1.3.3.1.1.1.1.4.cmml">M</mi></mrow><mo id="alg1.l6a.m1.3.3.1.1.1.3" maxsize="90%" minsize="90%" xref="alg1.l6a.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6a.m1.3b"><apply id="alg1.l6a.m1.3.3.cmml" xref="alg1.l6a.m1.3.3"><ci id="alg1.l6a.m1.3.3.2.cmml" xref="alg1.l6a.m1.3.3.2">←</ci><apply id="alg1.l6a.m1.3.3.3.cmml" xref="alg1.l6a.m1.3.3.3"><csymbol cd="ambiguous" id="alg1.l6a.m1.3.3.3.1.cmml" xref="alg1.l6a.m1.3.3.3">subscript</csymbol><ci id="alg1.l6a.m1.3.3.3.2.cmml" xref="alg1.l6a.m1.3.3.3.2">𝐴</ci><list id="alg1.l6a.m1.2.2.2.3.cmml" xref="alg1.l6a.m1.2.2.2.4"><ci id="alg1.l6a.m1.1.1.1.1.cmml" xref="alg1.l6a.m1.1.1.1.1">𝑖</ci><ci id="alg1.l6a.m1.2.2.2.2.cmml" xref="alg1.l6a.m1.2.2.2.2">𝑡</ci></list></apply><apply id="alg1.l6a.m1.3.3.1.cmml" xref="alg1.l6a.m1.3.3.1"><times id="alg1.l6a.m1.3.3.1.2.cmml" xref="alg1.l6a.m1.3.3.1.2"></times><ci id="alg1.l6a.m1.3.3.1.3.cmml" xref="alg1.l6a.m1.3.3.1.3">𝐴</ci><ci id="alg1.l6a.m1.3.3.1.4.cmml" xref="alg1.l6a.m1.3.3.1.4">𝑔</ci><ci id="alg1.l6a.m1.3.3.1.5.cmml" xref="alg1.l6a.m1.3.3.1.5">𝑒</ci><ci id="alg1.l6a.m1.3.3.1.6.cmml" xref="alg1.l6a.m1.3.3.1.6">𝑛</ci><ci id="alg1.l6a.m1.3.3.1.7.cmml" xref="alg1.l6a.m1.3.3.1.7">𝑡</ci><apply id="alg1.l6a.m1.3.3.1.1.1.1.cmml" xref="alg1.l6a.m1.3.3.1.1.1"><times id="alg1.l6a.m1.3.3.1.1.1.1.1.cmml" xref="alg1.l6a.m1.3.3.1.1.1.1.1"></times><ci id="alg1.l6a.m1.3.3.1.1.1.1.2.cmml" xref="alg1.l6a.m1.3.3.1.1.1.1.2">𝐿</ci><ci id="alg1.l6a.m1.3.3.1.1.1.1.3.cmml" xref="alg1.l6a.m1.3.3.1.1.1.1.3">𝐿</ci><ci id="alg1.l6a.m1.3.3.1.1.1.1.4.cmml" xref="alg1.l6a.m1.3.3.1.1.1.1.4">𝑀</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6a.m1.3c">A_{i,t}\leftarrow Agent(LLM)</annotation><annotation encoding="application/x-llamapun" id="alg1.l6a.m1.3d">italic_A start_POSTSUBSCRIPT italic_i , italic_t end_POSTSUBSCRIPT ← italic_A italic_g italic_e italic_n italic_t ( italic_L italic_L italic_M )</annotation></semantics></math><span class="ltx_text" id="alg1.l6a.2" style="font-size:90%;">;
</span>
</div>
<div class="ltx_listingline" id="alg1.l7">
<span class="ltx_text" id="alg1.l7.1" style="font-size:90%;">        </span><span class="ltx_text ltx_font_bold" id="alg1.l7.2" style="font-size:90%;">end</span><span class="ltx_text" id="alg1.l7.3" style="font-size:90%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l7.4" style="font-size:90%;">if</span>
</div>
<div class="ltx_listingline" id="alg1.l8">
<span class="ltx_text" id="alg1.l8.1" style="font-size:90%;">     </span><span class="ltx_text ltx_font_bold" id="alg1.l8.2" style="font-size:90%;">end</span><span class="ltx_text" id="alg1.l8.3" style="font-size:90%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l8.4" style="font-size:90%;">for</span>
</div>
<div class="ltx_listingline" id="alg1.l9">
<span class="ltx_text" id="alg1.l9.1" style="font-size:90%;">  </span><span class="ltx_text ltx_font_bold" id="alg1.l9.2" style="font-size:90%;">end</span><span class="ltx_text" id="alg1.l9.3" style="font-size:90%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l9.4" style="font-size:90%;">for</span>
</div>
</div>
</figure>
<div class="ltx_para" id="S3.SS5.p1">
<p class="ltx_p" id="S3.SS5.p1.1">As depicted in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#alg1" title="Algorithm 1 ‣ 3.5. Progressive Iteration ‣ 3. Method ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">1</span></a>, P-RAG initializes an empty database and initiates successive iterations. At this stage, P-RAG makes decisions solely based on observations of the environment and the generic prior knowledge of LLM. After the first iteration, the historical information from the previous iteration is collected and stored in the database. The database is progressively updated when the agent trajectories of new round are completed. In each subsequent iteration, P-RAG utilizes the collaborative similarity retrieval of scene graph and task name to identify similar tasks and scenes across different tasks. It then provides this information to LLM to facilitate more informed decision-making. The progressive approach is widely employed in learning-based solutions, yet its application in the RAG (Retrieval-Augmented Generation) framework for planning remains a novel paradigm. In scenarios where ground truth is not available, the progressive approach offers a mode of gradual performance improvement compared to the direct method. Moreover, it allows for the accumulation of environment-specific knowledge for the agent through historical trajectories.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Experiment</h2>
<figure class="ltx_figure" id="S4.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="345" id="S4.F4.g1" src="x4.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>Comparison on planning trajectories between GPT-4 baseline and P-RAG. The baseline method follows a decision process of sequentially picking up three pot plants and placing them in the sink, considering the task complete. However, it fails to achieve the task successfully. In contrast, P-RAG utilizes comprehensive historical trajectory information to make decisions, leading to the judgment to toggle the sink and ultimately accomplishing the task. </figcaption>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Experimental Setup</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.1">Dataset</span>. We select two datasets, MINI-BEHAVIOR <cite class="ltx_cite ltx_citemacro_citep">(Jin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib14" title="">2023</a>)</cite> and ALFRED <cite class="ltx_cite ltx_citemacro_citep">(Shridhar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib24" title="">2020a</a>)</cite>, for our experiments. Extracting 20 activities from BEHAVIOR 1K and abstracting them into a grid environment, the MINI-BEHAVIOR platform offers a comprehensive array of tasks for agents to navigate and manipulate over extended periods. The agent needs to input linguistic instructions and then make decisions to output actions, such as turning left/right, picking up, and so on. Compared to MINI-BEHAVIOR, ALFRED offers more tasks for evaluating the agent and provides realistic observation images. In the ALFRED dataset, we employ the text-world tool from ALFWORLD <cite class="ltx_cite ltx_citemacro_citep">(Shridhar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib25" title="">2020b</a>)</cite> to convert image-based observations into text format. Since the MINI-BEHAVIOR dataset only consists of 20 environments, we conduct evaluating all of them directly in the experiment. The ALFRED dataset is divided into Valid Seen, Valid Unseen and Train datasets. Following LLM-Planner <cite class="ltx_cite ltx_citemacro_citep">(Song et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib29" title="">2023</a>)</cite>, we choose 100 task environments from a pool of 21,023 examples in the ALFRED training set for interaction by P-RAG, which is called Train100 in our experiments. Ensuring a balanced representation, we employ random stratified sampling across all seven task types following the setting to the approach adopted by the LLM-Planner. Valid Seen and Valid Unseen consist of 242 and 85 tasks <cite class="ltx_cite ltx_citemacro_citep">(Shridhar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib24" title="">2020a</a>)</cite>, respectively.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.1">Implementation Details</span>. Different from the previous works <cite class="ltx_cite ltx_citemacro_citep">(Song et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib29" title="">2023</a>)</cite>, we do not require a ground-truth training dataset. All we need is interaction with the environment as the evaluation stage. P-RAG is designed to provide a unified framework for conducting experiments across different datasets. We use the GPT series model as our LLM planner, with the majority of tests utilizing GPT-4 <cite class="ltx_cite ltx_citemacro_citep">(Achiam et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib2" title="">2023</a>)</cite>. In the P-RAG setup, the database will store historical trajectories from previous rounds, with a maximum of 6 iterations. For the ALFRED dataset, we use the JSON format to organize the embedding vector with 384 dimensions of goal instruction and scene graph for each task. The raw trajectory information is recorded in text format in a SQLite database, with an average size of 3.2K bytes per task.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Comparison Experiment with the State-of-the-art Methods</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">We first evaluate the ALFRED dataset to compare the success rates (SR) of state-of-the-art methods <cite class="ltx_cite ltx_citemacro_citep">(Zhang and Chai, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib40" title="">2021</a>; Blukis et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib4" title="">2022</a>; Pashevich et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib21" title="">2021</a>; Song et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib28" title="">2022</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib29" title="">2023</a>; Ahn et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib3" title="">2022</a>)</cite> with our method. To ensure a fair comparison, after 3 iterations in the training dataset, P-RAG is evaluated on both test datasets. Specifically, we curate 100 task environments from the training set for agent interaction. The database undergoes three iterative updates before subsequent evaluation on the two test datasets.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">As illustrated in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.T1" title="Table 1 ‣ 4.2. Comparison Experiment with the State-of-the-art Methods ‣ 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">1</span></a>, we categorize different methods into two groups based on experimental settings. One group including HiTUT <cite class="ltx_cite ltx_citemacro_citep">(Zhang and Chai, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib40" title="">2021</a>)</cite>, HLSM <cite class="ltx_cite ltx_citemacro_citep">(Blukis et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib4" title="">2022</a>)</cite>, E.T. <cite class="ltx_cite ltx_citemacro_citep">(Pashevich et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib21" title="">2021</a>)</cite> and M-TRACK <cite class="ltx_cite ltx_citemacro_citep">(Song et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib28" title="">2022</a>)</cite> utilizes the full train set with 21,023 instruction and trajectory pairs to derive performance results. Another group including HLSM <cite class="ltx_cite ltx_citemacro_citep">(Blukis et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib4" title="">2022</a>)</cite>, LLM-Planer <cite class="ltx_cite ltx_citemacro_citep">(Song et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib29" title="">2023</a>)</cite> and Saycan <cite class="ltx_cite ltx_citemacro_citep">(Ahn et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib3" title="">2022</a>)</cite> utilizes a smaller subset of training data. Note that within the experimental setup, certain methods denoted with a star (*) utilize step-by-step instructions rather than goal instructions, such as Saycan <cite class="ltx_cite ltx_citemacro_citep">(Ahn et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib3" title="">2022</a>)</cite> and E.T. <cite class="ltx_cite ltx_citemacro_citep">(Pashevich et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib21" title="">2021</a>)</cite>. The performance comparison in the table reveals that our approach denoted as “P-RAG (Ours)” outperforms existing state-of-the-art methods of utilizing few training dataset on both Valid Seen and Valid Unseen dataset. These results demonstrate the effectiveness of our method, which develops the progressive retrieval augmentation to assist the large language model to obtain task-relevant information. Compared to methods trained on the full dataset, P-RAG maintains high performance even under conditions where only approximately 1/200 of the training data is utilized. These results prove that our method possesses better generalizability than these training methods, which usually overfit the training datasets and achieve better performance on the Val Seen dataset than Val Unseen dataset.</p>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1">Besides the standard setting of our method, we also construct a self-iteration variant denoted as “P-RAG (Self-Iter.)”. It constructs progressive iteration over the test dataset, which means the retrieval database is constructed by the trajectories on test dataset. It directly improves the success rates of testing tasks, since the agent obtains better task-relevant experiences about testing tasks by progressive retrieval. From Table 1, with self-iteration on the Valid Unseen dataset, our method denoted as “P-RAG (Self-Iter.)” can even outperform all the methods, both with and without using the entire training dataset, which further verifies the effectiveness of the proposed progressive retrieval augmented planning framework.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T1.3">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.3.4.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T1.3.4.1.1" style="padding:-0.5pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.3.4.1.1.1">Model</span></th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.3.4.1.2" style="padding:-0.5pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.3.4.1.2.1">Dataset</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.3.4.1.3" style="padding:-0.5pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.3.4.1.3.1">G.T.</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.3.4.1.4" style="padding:-0.5pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.3.4.1.4.1">Valid Unseen</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.3.4.1.5" style="padding:-0.5pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.3.4.1.5.1">Valid Seen</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.5.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T1.3.5.2.1" style="padding:-0.5pt 3.0pt;">HiTUT <cite class="ltx_cite ltx_citemacro_citep">(Zhang and Chai, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib40" title="">2021</a>)</cite>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.3.5.2.2" style="padding:-0.5pt 3.0pt;">Full</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.3.5.2.3" style="padding:-0.5pt 3.0pt;">✓</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.3.5.2.4" style="padding:-0.5pt 3.0pt;">10.23</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.3.5.2.5" style="padding:-0.5pt 3.0pt;">18.41</td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.6.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.3.6.3.1" style="padding:-0.5pt 3.0pt;">HLSM <cite class="ltx_cite ltx_citemacro_citep">(Blukis et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib4" title="">2022</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S4.T1.3.6.3.2" style="padding:-0.5pt 3.0pt;">Full</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.6.3.3" style="padding:-0.5pt 3.0pt;">✓</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.6.3.4" style="padding:-0.5pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.3.6.3.4.1">18.28</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.6.3.5" style="padding:-0.5pt 3.0pt;">29.63</td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.7.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.3.7.4.1" style="padding:-0.5pt 3.0pt;">E.T. <cite class="ltx_cite ltx_citemacro_citep">(Pashevich et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib21" title="">2021</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S4.T1.3.7.4.2" style="padding:-0.5pt 3.0pt;">Full</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.7.4.3" style="padding:-0.5pt 3.0pt;">✓</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.7.4.4" style="padding:-0.5pt 3.0pt;">7.32</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.7.4.5" style="padding:-0.5pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.3.7.4.5.1">46.59</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.8.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.3.8.5.1" style="padding:-0.5pt 3.0pt;">HiTUT <cite class="ltx_cite ltx_citemacro_citep">(Zhang and Chai, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib40" title="">2021</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S4.T1.3.8.5.2" style="padding:-0.5pt 3.0pt;">Full</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.8.5.3" style="padding:-0.5pt 3.0pt;">✓</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.8.5.4" style="padding:-0.5pt 3.0pt;">12.44</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.8.5.5" style="padding:-0.5pt 3.0pt;">25.24</td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.9.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.3.9.6.1" style="padding:-0.5pt 3.0pt;">M-TRACK <cite class="ltx_cite ltx_citemacro_citep">(Song et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib28" title="">2022</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S4.T1.3.9.6.2" style="padding:-0.5pt 3.0pt;">Full</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.9.6.3" style="padding:-0.5pt 3.0pt;">✓</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.9.6.4" style="padding:-0.5pt 3.0pt;">17.29</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.9.6.5" style="padding:-0.5pt 3.0pt;">26.70</td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.10.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T1.3.10.7.1" style="padding:-0.5pt 3.0pt;">*HLSM <cite class="ltx_cite ltx_citemacro_citep">(Blukis et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib4" title="">2022</a>)</cite>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.3.10.7.2" style="padding:-0.5pt 3.0pt;">Part</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.3.10.7.3" style="padding:-0.5pt 3.0pt;">✓</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.3.10.7.4" style="padding:-0.5pt 3.0pt;">0.00</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.3.10.7.5" style="padding:-0.5pt 3.0pt;">0.13</td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.11.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.3.11.8.1" style="padding:-0.5pt 3.0pt;">LLM-Planer <cite class="ltx_cite ltx_citemacro_citep">(Song et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib29" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S4.T1.3.11.8.2" style="padding:-0.5pt 3.0pt;">Part</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.11.8.3" style="padding:-0.5pt 3.0pt;">✓</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.11.8.4" style="padding:-0.5pt 3.0pt;">12.92</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.11.8.5" style="padding:-0.5pt 3.0pt;">13.53</td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.12.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.3.12.9.1" style="padding:-0.5pt 3.0pt;">Saycan <cite class="ltx_cite ltx_citemacro_citep">(Ahn et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib3" title="">2022</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S4.T1.3.12.9.2" style="padding:-0.5pt 3.0pt;">Part</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.12.9.3" style="padding:-0.5pt 3.0pt;">✓</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.12.9.4" style="padding:-0.5pt 3.0pt;">9.88</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.12.9.5" style="padding:-0.5pt 3.0pt;">12.3</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.1.1.2" style="padding:-0.5pt 3.0pt;">GPT-4 <cite class="ltx_cite ltx_citemacro_citep">(Achiam et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib2" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3" style="padding:-0.5pt 3.0pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.1" style="padding:-0.5pt 3.0pt;"><math alttext="\times" class="ltx_Math" display="inline" id="S4.T1.1.1.1.m1.1"><semantics id="S4.T1.1.1.1.m1.1a"><mo id="S4.T1.1.1.1.m1.1.1" xref="S4.T1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.m1.1b"><times id="S4.T1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T1.1.1.1.m1.1d">×</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.4" style="padding:-0.5pt 3.0pt;">7.05</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5" style="padding:-0.5pt 3.0pt;">17.46</td>
</tr>
<tr class="ltx_tr" id="S4.T1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.2.2.2" style="padding:-0.5pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.2.2.1">P-RAG (Ours)</span></th>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.3" style="padding:-0.5pt 3.0pt;">Part</td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.1" style="padding:-0.5pt 3.0pt;"><math alttext="\times" class="ltx_Math" display="inline" id="S4.T1.2.2.1.m1.1"><semantics id="S4.T1.2.2.1.m1.1a"><mo id="S4.T1.2.2.1.m1.1.1" xref="S4.T1.2.2.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.2.2.1.m1.1b"><times id="S4.T1.2.2.1.m1.1.1.cmml" xref="S4.T1.2.2.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.2.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T1.2.2.1.m1.1d">×</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.4" style="padding:-0.5pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.2.4.1">14.11</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.5" style="padding:-0.5pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.2.5.1">18.2</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S4.T1.3.3.2" style="padding:-0.5pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.2.1">P-RAG (Self-Iter.)</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.3.3.3" style="padding:-0.5pt 3.0pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.3.3.1" style="padding:-0.5pt 3.0pt;"><math alttext="\times" class="ltx_Math" display="inline" id="S4.T1.3.3.1.m1.1"><semantics id="S4.T1.3.3.1.m1.1a"><mo id="S4.T1.3.3.1.m1.1.1" xref="S4.T1.3.3.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.3.3.1.m1.1b"><times id="S4.T1.3.3.1.m1.1.1.cmml" xref="S4.T1.3.3.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.3.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T1.3.3.1.m1.1d">×</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.3.3.4" style="padding:-0.5pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.4.1">27.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.3.3.5" style="padding:-0.5pt 3.0pt;">19.05</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span>Comparison of Different Method on ALFRED. Star (*) stands for using step-by-step instruction instead of goal instruction. G.T. means ground-truth action. In the “Dataset” column, “Full” indicates the utilization of the entire training dataset, while “Part” indicates sampling from a subset of the training dataset. “P-RAG (Self-Iter.)” represents the iterative updates of P-RAG on the same group of task datasets.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS2.p4">
<p class="ltx_p" id="S4.SS2.p4.4">We also evaluate the performance of P-RAG on MINI-BEHAVIOR which lacks ground-truth actions annotation, and therefore can be used to evaluate our method and compared methods in weak supervision setting. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.T2" title="Table 2 ‣ 4.2. Comparison Experiment with the State-of-the-art Methods ‣ 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">2</span></a>, we evaluate through three evaluation metrics: Total success rate (SR), which represents the success average by episodes; Task success rate (SR), indicating success average by tasks; Success weighted by Path Length (SPL), evaluated according to the following formula:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="SPL=\frac{1}{N}\sum_{i=1}^{N}S_{i}\frac{L_{i}}{max(L_{i},P_{i})}," class="ltx_Math" display="block" id="S4.E4.m1.3"><semantics id="S4.E4.m1.3a"><mrow id="S4.E4.m1.3.3.1" xref="S4.E4.m1.3.3.1.1.cmml"><mrow id="S4.E4.m1.3.3.1.1" xref="S4.E4.m1.3.3.1.1.cmml"><mrow id="S4.E4.m1.3.3.1.1.2" xref="S4.E4.m1.3.3.1.1.2.cmml"><mi id="S4.E4.m1.3.3.1.1.2.2" xref="S4.E4.m1.3.3.1.1.2.2.cmml">S</mi><mo id="S4.E4.m1.3.3.1.1.2.1" xref="S4.E4.m1.3.3.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.3.3.1.1.2.3" xref="S4.E4.m1.3.3.1.1.2.3.cmml">P</mi><mo id="S4.E4.m1.3.3.1.1.2.1a" xref="S4.E4.m1.3.3.1.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.3.3.1.1.2.4" xref="S4.E4.m1.3.3.1.1.2.4.cmml">L</mi></mrow><mo id="S4.E4.m1.3.3.1.1.1" xref="S4.E4.m1.3.3.1.1.1.cmml">=</mo><mrow id="S4.E4.m1.3.3.1.1.3" xref="S4.E4.m1.3.3.1.1.3.cmml"><mfrac id="S4.E4.m1.3.3.1.1.3.2" xref="S4.E4.m1.3.3.1.1.3.2.cmml"><mn id="S4.E4.m1.3.3.1.1.3.2.2" xref="S4.E4.m1.3.3.1.1.3.2.2.cmml">1</mn><mi id="S4.E4.m1.3.3.1.1.3.2.3" xref="S4.E4.m1.3.3.1.1.3.2.3.cmml">N</mi></mfrac><mo id="S4.E4.m1.3.3.1.1.3.1" xref="S4.E4.m1.3.3.1.1.3.1.cmml">⁢</mo><mrow id="S4.E4.m1.3.3.1.1.3.3" xref="S4.E4.m1.3.3.1.1.3.3.cmml"><munderover id="S4.E4.m1.3.3.1.1.3.3.1" xref="S4.E4.m1.3.3.1.1.3.3.1.cmml"><mo id="S4.E4.m1.3.3.1.1.3.3.1.2.2" movablelimits="false" xref="S4.E4.m1.3.3.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S4.E4.m1.3.3.1.1.3.3.1.2.3" xref="S4.E4.m1.3.3.1.1.3.3.1.2.3.cmml"><mi id="S4.E4.m1.3.3.1.1.3.3.1.2.3.2" xref="S4.E4.m1.3.3.1.1.3.3.1.2.3.2.cmml">i</mi><mo id="S4.E4.m1.3.3.1.1.3.3.1.2.3.1" xref="S4.E4.m1.3.3.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S4.E4.m1.3.3.1.1.3.3.1.2.3.3" xref="S4.E4.m1.3.3.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S4.E4.m1.3.3.1.1.3.3.1.3" xref="S4.E4.m1.3.3.1.1.3.3.1.3.cmml">N</mi></munderover><mrow id="S4.E4.m1.3.3.1.1.3.3.2" xref="S4.E4.m1.3.3.1.1.3.3.2.cmml"><msub id="S4.E4.m1.3.3.1.1.3.3.2.2" xref="S4.E4.m1.3.3.1.1.3.3.2.2.cmml"><mi id="S4.E4.m1.3.3.1.1.3.3.2.2.2" xref="S4.E4.m1.3.3.1.1.3.3.2.2.2.cmml">S</mi><mi id="S4.E4.m1.3.3.1.1.3.3.2.2.3" xref="S4.E4.m1.3.3.1.1.3.3.2.2.3.cmml">i</mi></msub><mo id="S4.E4.m1.3.3.1.1.3.3.2.1" xref="S4.E4.m1.3.3.1.1.3.3.2.1.cmml">⁢</mo><mfrac id="S4.E4.m1.2.2" xref="S4.E4.m1.2.2.cmml"><msub id="S4.E4.m1.2.2.4" xref="S4.E4.m1.2.2.4.cmml"><mi id="S4.E4.m1.2.2.4.2" xref="S4.E4.m1.2.2.4.2.cmml">L</mi><mi id="S4.E4.m1.2.2.4.3" xref="S4.E4.m1.2.2.4.3.cmml">i</mi></msub><mrow id="S4.E4.m1.2.2.2" xref="S4.E4.m1.2.2.2.cmml"><mi id="S4.E4.m1.2.2.2.4" xref="S4.E4.m1.2.2.2.4.cmml">m</mi><mo id="S4.E4.m1.2.2.2.3" xref="S4.E4.m1.2.2.2.3.cmml">⁢</mo><mi id="S4.E4.m1.2.2.2.5" xref="S4.E4.m1.2.2.2.5.cmml">a</mi><mo id="S4.E4.m1.2.2.2.3a" xref="S4.E4.m1.2.2.2.3.cmml">⁢</mo><mi id="S4.E4.m1.2.2.2.6" xref="S4.E4.m1.2.2.2.6.cmml">x</mi><mo id="S4.E4.m1.2.2.2.3b" xref="S4.E4.m1.2.2.2.3.cmml">⁢</mo><mrow id="S4.E4.m1.2.2.2.2.2" xref="S4.E4.m1.2.2.2.2.3.cmml"><mo id="S4.E4.m1.2.2.2.2.2.3" stretchy="false" xref="S4.E4.m1.2.2.2.2.3.cmml">(</mo><msub id="S4.E4.m1.1.1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.1.1.cmml"><mi id="S4.E4.m1.1.1.1.1.1.1.2" xref="S4.E4.m1.1.1.1.1.1.1.2.cmml">L</mi><mi id="S4.E4.m1.1.1.1.1.1.1.3" xref="S4.E4.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E4.m1.2.2.2.2.2.4" xref="S4.E4.m1.2.2.2.2.3.cmml">,</mo><msub id="S4.E4.m1.2.2.2.2.2.2" xref="S4.E4.m1.2.2.2.2.2.2.cmml"><mi id="S4.E4.m1.2.2.2.2.2.2.2" xref="S4.E4.m1.2.2.2.2.2.2.2.cmml">P</mi><mi id="S4.E4.m1.2.2.2.2.2.2.3" xref="S4.E4.m1.2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S4.E4.m1.2.2.2.2.2.5" stretchy="false" xref="S4.E4.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow></mrow><mo id="S4.E4.m1.3.3.1.2" xref="S4.E4.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.3b"><apply id="S4.E4.m1.3.3.1.1.cmml" xref="S4.E4.m1.3.3.1"><eq id="S4.E4.m1.3.3.1.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1"></eq><apply id="S4.E4.m1.3.3.1.1.2.cmml" xref="S4.E4.m1.3.3.1.1.2"><times id="S4.E4.m1.3.3.1.1.2.1.cmml" xref="S4.E4.m1.3.3.1.1.2.1"></times><ci id="S4.E4.m1.3.3.1.1.2.2.cmml" xref="S4.E4.m1.3.3.1.1.2.2">𝑆</ci><ci id="S4.E4.m1.3.3.1.1.2.3.cmml" xref="S4.E4.m1.3.3.1.1.2.3">𝑃</ci><ci id="S4.E4.m1.3.3.1.1.2.4.cmml" xref="S4.E4.m1.3.3.1.1.2.4">𝐿</ci></apply><apply id="S4.E4.m1.3.3.1.1.3.cmml" xref="S4.E4.m1.3.3.1.1.3"><times id="S4.E4.m1.3.3.1.1.3.1.cmml" xref="S4.E4.m1.3.3.1.1.3.1"></times><apply id="S4.E4.m1.3.3.1.1.3.2.cmml" xref="S4.E4.m1.3.3.1.1.3.2"><divide id="S4.E4.m1.3.3.1.1.3.2.1.cmml" xref="S4.E4.m1.3.3.1.1.3.2"></divide><cn id="S4.E4.m1.3.3.1.1.3.2.2.cmml" type="integer" xref="S4.E4.m1.3.3.1.1.3.2.2">1</cn><ci id="S4.E4.m1.3.3.1.1.3.2.3.cmml" xref="S4.E4.m1.3.3.1.1.3.2.3">𝑁</ci></apply><apply id="S4.E4.m1.3.3.1.1.3.3.cmml" xref="S4.E4.m1.3.3.1.1.3.3"><apply id="S4.E4.m1.3.3.1.1.3.3.1.cmml" xref="S4.E4.m1.3.3.1.1.3.3.1"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.1.3.3.1.1.cmml" xref="S4.E4.m1.3.3.1.1.3.3.1">superscript</csymbol><apply id="S4.E4.m1.3.3.1.1.3.3.1.2.cmml" xref="S4.E4.m1.3.3.1.1.3.3.1"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.1.3.3.1.2.1.cmml" xref="S4.E4.m1.3.3.1.1.3.3.1">subscript</csymbol><sum id="S4.E4.m1.3.3.1.1.3.3.1.2.2.cmml" xref="S4.E4.m1.3.3.1.1.3.3.1.2.2"></sum><apply id="S4.E4.m1.3.3.1.1.3.3.1.2.3.cmml" xref="S4.E4.m1.3.3.1.1.3.3.1.2.3"><eq id="S4.E4.m1.3.3.1.1.3.3.1.2.3.1.cmml" xref="S4.E4.m1.3.3.1.1.3.3.1.2.3.1"></eq><ci id="S4.E4.m1.3.3.1.1.3.3.1.2.3.2.cmml" xref="S4.E4.m1.3.3.1.1.3.3.1.2.3.2">𝑖</ci><cn id="S4.E4.m1.3.3.1.1.3.3.1.2.3.3.cmml" type="integer" xref="S4.E4.m1.3.3.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S4.E4.m1.3.3.1.1.3.3.1.3.cmml" xref="S4.E4.m1.3.3.1.1.3.3.1.3">𝑁</ci></apply><apply id="S4.E4.m1.3.3.1.1.3.3.2.cmml" xref="S4.E4.m1.3.3.1.1.3.3.2"><times id="S4.E4.m1.3.3.1.1.3.3.2.1.cmml" xref="S4.E4.m1.3.3.1.1.3.3.2.1"></times><apply id="S4.E4.m1.3.3.1.1.3.3.2.2.cmml" xref="S4.E4.m1.3.3.1.1.3.3.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.1.3.3.2.2.1.cmml" xref="S4.E4.m1.3.3.1.1.3.3.2.2">subscript</csymbol><ci id="S4.E4.m1.3.3.1.1.3.3.2.2.2.cmml" xref="S4.E4.m1.3.3.1.1.3.3.2.2.2">𝑆</ci><ci id="S4.E4.m1.3.3.1.1.3.3.2.2.3.cmml" xref="S4.E4.m1.3.3.1.1.3.3.2.2.3">𝑖</ci></apply><apply id="S4.E4.m1.2.2.cmml" xref="S4.E4.m1.2.2"><divide id="S4.E4.m1.2.2.3.cmml" xref="S4.E4.m1.2.2"></divide><apply id="S4.E4.m1.2.2.4.cmml" xref="S4.E4.m1.2.2.4"><csymbol cd="ambiguous" id="S4.E4.m1.2.2.4.1.cmml" xref="S4.E4.m1.2.2.4">subscript</csymbol><ci id="S4.E4.m1.2.2.4.2.cmml" xref="S4.E4.m1.2.2.4.2">𝐿</ci><ci id="S4.E4.m1.2.2.4.3.cmml" xref="S4.E4.m1.2.2.4.3">𝑖</ci></apply><apply id="S4.E4.m1.2.2.2.cmml" xref="S4.E4.m1.2.2.2"><times id="S4.E4.m1.2.2.2.3.cmml" xref="S4.E4.m1.2.2.2.3"></times><ci id="S4.E4.m1.2.2.2.4.cmml" xref="S4.E4.m1.2.2.2.4">𝑚</ci><ci id="S4.E4.m1.2.2.2.5.cmml" xref="S4.E4.m1.2.2.2.5">𝑎</ci><ci id="S4.E4.m1.2.2.2.6.cmml" xref="S4.E4.m1.2.2.2.6">𝑥</ci><interval closure="open" id="S4.E4.m1.2.2.2.2.3.cmml" xref="S4.E4.m1.2.2.2.2.2"><apply id="S4.E4.m1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E4.m1.1.1.1.1.1.1.2.cmml" xref="S4.E4.m1.1.1.1.1.1.1.2">𝐿</ci><ci id="S4.E4.m1.1.1.1.1.1.1.3.cmml" xref="S4.E4.m1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.E4.m1.2.2.2.2.2.2.cmml" xref="S4.E4.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.2.2.2.2.2.2.1.cmml" xref="S4.E4.m1.2.2.2.2.2.2">subscript</csymbol><ci id="S4.E4.m1.2.2.2.2.2.2.2.cmml" xref="S4.E4.m1.2.2.2.2.2.2.2">𝑃</ci><ci id="S4.E4.m1.2.2.2.2.2.2.3.cmml" xref="S4.E4.m1.2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.3c">SPL=\frac{1}{N}\sum_{i=1}^{N}S_{i}\frac{L_{i}}{max(L_{i},P_{i})},</annotation><annotation encoding="application/x-llamapun" id="S4.E4.m1.3d">italic_S italic_P italic_L = divide start_ARG 1 end_ARG start_ARG italic_N end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT italic_S start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT divide start_ARG italic_L start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG start_ARG italic_m italic_a italic_x ( italic_L start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.p4.3">where N is total number of evalutional episodes, <math alttext="S_{i}" class="ltx_Math" display="inline" id="S4.SS2.p4.1.m1.1"><semantics id="S4.SS2.p4.1.m1.1a"><msub id="S4.SS2.p4.1.m1.1.1" xref="S4.SS2.p4.1.m1.1.1.cmml"><mi id="S4.SS2.p4.1.m1.1.1.2" xref="S4.SS2.p4.1.m1.1.1.2.cmml">S</mi><mi id="S4.SS2.p4.1.m1.1.1.3" xref="S4.SS2.p4.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.1.m1.1b"><apply id="S4.SS2.p4.1.m1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p4.1.m1.1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p4.1.m1.1.1.2.cmml" xref="S4.SS2.p4.1.m1.1.1.2">𝑆</ci><ci id="S4.SS2.p4.1.m1.1.1.3.cmml" xref="S4.SS2.p4.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.1.m1.1c">S_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.1.m1.1d">italic_S start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> represents whether the current episode is successful, <math alttext="L_{i}" class="ltx_Math" display="inline" id="S4.SS2.p4.2.m2.1"><semantics id="S4.SS2.p4.2.m2.1a"><msub id="S4.SS2.p4.2.m2.1.1" xref="S4.SS2.p4.2.m2.1.1.cmml"><mi id="S4.SS2.p4.2.m2.1.1.2" xref="S4.SS2.p4.2.m2.1.1.2.cmml">L</mi><mi id="S4.SS2.p4.2.m2.1.1.3" xref="S4.SS2.p4.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.2.m2.1b"><apply id="S4.SS2.p4.2.m2.1.1.cmml" xref="S4.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p4.2.m2.1.1.1.cmml" xref="S4.SS2.p4.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.p4.2.m2.1.1.2.cmml" xref="S4.SS2.p4.2.m2.1.1.2">𝐿</ci><ci id="S4.SS2.p4.2.m2.1.1.3.cmml" xref="S4.SS2.p4.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.2.m2.1c">L_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.2.m2.1d">italic_L start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> denotes the number of actions used by the agent, and <math alttext="P_{i}" class="ltx_Math" display="inline" id="S4.SS2.p4.3.m3.1"><semantics id="S4.SS2.p4.3.m3.1a"><msub id="S4.SS2.p4.3.m3.1.1" xref="S4.SS2.p4.3.m3.1.1.cmml"><mi id="S4.SS2.p4.3.m3.1.1.2" xref="S4.SS2.p4.3.m3.1.1.2.cmml">P</mi><mi id="S4.SS2.p4.3.m3.1.1.3" xref="S4.SS2.p4.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.3.m3.1b"><apply id="S4.SS2.p4.3.m3.1.1.cmml" xref="S4.SS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p4.3.m3.1.1.1.cmml" xref="S4.SS2.p4.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.p4.3.m3.1.1.2.cmml" xref="S4.SS2.p4.3.m3.1.1.2">𝑃</ci><ci id="S4.SS2.p4.3.m3.1.1.3.cmml" xref="S4.SS2.p4.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.3.m3.1c">P_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.3.m3.1d">italic_P start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> represents the number of steps needed to complete the task in the shortest possible manner.</p>
</div>
<div class="ltx_para" id="S4.SS2.p5">
<p class="ltx_p" id="S4.SS2.p5.1">We compare the success rate of P-RAG relative to its corresponding baseline with LLM selecting either GPT-4 or GPT-3.5. From the results in the table, we can observe that P-RAG demonstrates significant improvements of 1.7% and 2.5% compared to the baselines of GPT-4 and GPT-3.5, respectively. Although simple and lightweight, MINI-BEHAVIOR presents a formidable challenge for popular Reinforcement Learning algorithms, particularly in the absence of a dense reward signal. The vanilla PPO algorithm is only able to achieve a valid success rate (approximately 8%) after training 1e6 steps and evaluating on a single task (not work in other tasks) within MINI-BEHAVIOR <cite class="ltx_cite ltx_citemacro_citep">(Jin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib14" title="">2023</a>)</cite>. In contrast, P-RAG achieves 16.7% Total SR requiring iterations of no more than 6 eposides and accomplish 5 tasks (compare to single task of vanilla PPO algorithm), demonstrating its effectiveness across different environments and its few-shot property. We select one group of task trajectories as visualization result, as shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.F4" title="Figure 4 ‣ 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">4</span></a>. The visualization of trajectory demonstrates the decision-making processes of P-RAG and the GPT-4 baseline for the task “water houseplants”. From the visualization results, it can be observed that P-RAG is able to make judgments with more task-specific knowledge by referring to historical trajectory information.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T2.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T2.1.1.1.1" style="padding:-0.5pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.1.1">MINI-BEHAVIOR</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.2" style="padding:-0.5pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.2.1">GPT-4<cite class="ltx_cite ltx_citemacro_citep">(Achiam et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib2" title="">2023</a>)</cite></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.3" style="padding:-0.5pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.3.1">P-RAG-4</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.4" style="padding:-0.5pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.4.1">GPT-3.5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.5" style="padding:-0.5pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.5.1">P-RAG-3.5</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.1.2.1.1" style="padding:-0.5pt 2.0pt;">Total SR</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.2.1.2" style="padding:-0.5pt 2.0pt;">15%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.2.1.3" style="padding:-0.5pt 2.0pt;">16.7%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.2.1.4" style="padding:-0.5pt 2.0pt;">7.5%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.2.1.5" style="padding:-0.5pt 2.0pt;">10%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.1.3.2.1" style="padding:-0.5pt 2.0pt;">Task SR</th>
<td class="ltx_td ltx_align_center" id="S4.T2.1.3.2.2" style="padding:-0.5pt 2.0pt;">20%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.3.2.3" style="padding:-0.5pt 2.0pt;">25%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.3.2.4" style="padding:-0.5pt 2.0pt;">20%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.3.2.5" style="padding:-0.5pt 2.0pt;">20%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T2.1.4.3.1" style="padding:-0.5pt 2.0pt;">SPL</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.4.3.2" style="padding:-0.5pt 2.0pt;">13.8%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.4.3.3" style="padding:-0.5pt 2.0pt;">15%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.4.3.4" style="padding:-0.5pt 2.0pt;">7.5%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.4.3.5" style="padding:-0.5pt 2.0pt;">9.5%</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2. </span>Comparison of Retrieval Augmented Models on MINI-BEHAVIOR. GPT-3.5 and GPT-4 represent the results of each as the baseline LLM planner. P-RAG-3.5 and P-RAG-4 represent the results of setting the LLM in P-RAG as GPT-3.5 and GPT-4, respectively.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Ablation Study &amp; Parameter Analysis</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.p1.1.1">Progressive Iteration</span>. We conduct additional experiments on P-RAG regarding self-revolution to validate its progressive effect. Compared to the previous approach of iterating on the training dataset, we directly conduct progressive retrieval iteration on the same dataset, which we call self-iteration. In particular, we choose to conduct self-iteration on the Valid Seen dataset and training dataset (where there may be overlap between the Valid Seen and Train datasets), respectively. From Table <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.T3" title="Table 3 ‣ 4.3. Ablation Study &amp; Parameter Analysis ‣ 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">3</span></a>, there is an improvement after progressive iteration in both task datasets. P-RAG not only demonstrates the advantages of performance in standard experimental setting as shown in the first row “Train100”, but also achieves performance improvement through progressive iteration on the Valid Unseen dataset as shown in the second row in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.T3" title="Table 3 ‣ 4.3. Ablation Study &amp; Parameter Analysis ‣ 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<figure class="ltx_table" id="S4.T3">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T3.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T3.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T3.1.1.1.1" style="padding:-0.5pt 5.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.1.1">Dataset</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.2" style="padding:-0.5pt 5.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.2.1">Original</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.3" style="padding:-0.5pt 5.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.3.1">1st Iter.</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.4" style="padding:-0.5pt 5.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.4.1">2nd Iter.</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.5" style="padding:-0.5pt 5.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.5.1">3rd Iter.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.1.2.1.1" style="padding:-0.5pt 5.0pt;">Train100</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.2.1.2" style="padding:-0.5pt 5.0pt;">5%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.2.1.3" style="padding:-0.5pt 5.0pt;">9%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.2.1.4" style="padding:-0.5pt 5.0pt;">10%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.2.1.5" style="padding:-0.5pt 5.0pt;">11%</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T3.1.3.2.1" style="padding:-0.5pt 5.0pt;">Valid Unseen</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.3.2.2" style="padding:-0.5pt 5.0pt;">7.05%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.3.2.3" style="padding:-0.5pt 5.0pt;">14.11%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.3.2.4" style="padding:-0.5pt 5.0pt;">20.00%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.3.2.5" style="padding:-0.5pt 5.0pt;">22.35%</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3. </span> Success Rate with the Iteration Number on ALFRED.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">We also conduct in-depth experiments on performance saturation, by enhancing retrieval through updating historical information from the previous round after encoding it into the database. Subsequently, we update the database based on the current round’s historical trajectory, iterating multiple times until saturation is achieved, as shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.F5" title="Figure 5 ‣ 4.3. Ablation Study &amp; Parameter Analysis ‣ 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">5</span></a>. From Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.F5" title="Figure 5 ‣ 4.3. Ablation Study &amp; Parameter Analysis ‣ 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">5</span></a>, P-RAG achieves significant performance improvement through iteration. In the ALFRED Valid Unseen dataset, the success rate is improved from 7.05% at the beginning to 27.4% after 5 rounds of iteration. Similarly, in the ALFRED Train 100 dataset, the success rate increases from 5% at the beginning to 11% after 3 rounds of iteration. Both of them all eventually reach performance saturation. From the curves, it can be observed that the curve of success rate increase in each iteration of P-RAG until convergence, indicating that it is approaching the performance limit of LLM as a Planner on the testing tasks.</p>
</div>
<figure class="ltx_figure" id="S4.F5">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.F5.1" style="width:138.8pt;height:110pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-50.1pt,39.7pt) scale(0.580761626660165,0.580761626660165) ;"><svg class="ltx_picture" height="261.96" id="S4.F5.1.pic1" overflow="visible" version="1.1" width="316.77"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,261.96) matrix(1 0 0 -1 0 0) translate(46.68,0) translate(0,37.53) matrix(1.0 0.0 0.0 1.0 -46.68 -37.53)"><g class="ltx_nestedsvg" transform="matrix(1 0 0 1 0 0) translate(69.16,0) translate(0,56.21)"><g color="#BFBFBF" fill="#BFBFBF" stroke="#BFBFBF" stroke-width="0.4pt"><path d="M 0 -18.68 L 0 205.48 M 37.47 -18.68 L 37.47 205.48 M 74.95 -18.68 L 74.95 205.48 M 112.42 -18.68 L 112.42 205.48 M 149.9 -18.68 L 149.9 205.48 M 187.37 -18.68 L 187.37 205.48 M 224.85 -18.68 L 224.85 205.48" style="fill:none"></path></g><g color="#BFBFBF" fill="#BFBFBF" stroke="#BFBFBF" stroke-width="0.4pt"><path d="M -22.49 0 L 247.33 0 M -22.49 41.7 L 247.33 41.7 M -22.49 83.39 L 247.33 83.39 M -22.49 125.09 L 247.33 125.09 M -22.49 166.78 L 247.33 166.78" style="fill:none"></path></g><g color="#808080" fill="#808080" stroke="#808080" stroke-width="0.2pt"><path d="M 0 -18.68 L 0 -12.78 M 37.47 -18.68 L 37.47 -12.78 M 74.95 -18.68 L 74.95 -12.78 M 112.42 -18.68 L 112.42 -12.78 M 149.9 -18.68 L 149.9 -12.78 M 187.37 -18.68 L 187.37 -12.78 M 224.85 -18.68 L 224.85 -12.78 M 0 205.48 L 0 199.57 M 37.47 205.48 L 37.47 199.57 M 74.95 205.48 L 74.95 199.57 M 112.42 205.48 L 112.42 199.57 M 149.9 205.48 L 149.9 199.57 M 187.37 205.48 L 187.37 199.57 M 224.85 205.48 L 224.85 199.57" style="fill:none"></path></g><g color="#808080" fill="#808080" stroke="#808080" stroke-width="0.2pt"><path d="M -22.49 0 L -16.58 0 M -22.49 41.7 L -16.58 41.7 M -22.49 83.39 L -16.58 83.39 M -22.49 125.09 L -16.58 125.09 M -22.49 166.78 L -16.58 166.78 M 247.33 0 L 241.43 0 M 247.33 41.7 L 241.43 41.7 M 247.33 83.39 L 241.43 83.39 M 247.33 125.09 L 241.43 125.09 M 247.33 166.78 L 241.43 166.78" style="fill:none"></path></g><g fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M -22.49 -18.68 L -22.49 205.48 L 247.33 205.48 L 247.33 -18.68 L -22.49 -18.68 Z" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -3.46 -32.49)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><math alttext="0" class="ltx_Math" display="inline" id="S4.F5.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S4.F5.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F5.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S4.F5.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S4.F5.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S4.F5.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.m1.1.1">0</cn></annotation-xml></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 34.02 -32.49)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><math alttext="1" class="ltx_Math" display="inline" id="S4.F5.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S4.F5.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F5.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S4.F5.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S4.F5.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S4.F5.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1c">1</annotation><annotation encoding="application/x-llamapun" id="S4.F5.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.1.1.1.1.1.1.1.m1.1d">1</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 71.49 -32.49)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><math alttext="2" class="ltx_Math" display="inline" id="S4.F5.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S4.F5.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F5.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="S4.F5.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S4.F5.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S4.F5.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1c">2</annotation><annotation encoding="application/x-llamapun" id="S4.F5.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.1.1.1.1.1.1.1.m1.1d">2</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 108.96 -32.49)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><math alttext="3" class="ltx_Math" display="inline" id="S4.F5.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S4.F5.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F5.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S4.F5.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S4.F5.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S4.F5.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1c">3</annotation><annotation encoding="application/x-llamapun" id="S4.F5.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.1.1.1.1.1.1.1.1.m1.1d">3</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 146.44 -32.49)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><math alttext="4" class="ltx_Math" display="inline" id="S4.F5.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S4.F5.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F5.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S4.F5.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S4.F5.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S4.F5.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1c">4</annotation><annotation encoding="application/x-llamapun" id="S4.F5.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.m1.1d">4</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 183.91 -32.49)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><math alttext="5" class="ltx_Math" display="inline" id="S4.F5.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S4.F5.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F5.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S4.F5.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S4.F5.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S4.F5.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1c">5</annotation><annotation encoding="application/x-llamapun" id="S4.F5.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.6.1.1.1.1.1.1.1.1.1.m1.1d">5</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 221.39 -32.49)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><math alttext="6" class="ltx_Math" display="inline" id="S4.F5.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S4.F5.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F5.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S4.F5.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S4.F5.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S4.F5.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1c">6</annotation><annotation encoding="application/x-llamapun" id="S4.F5.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.m1.1d">6</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -34.29 -4.46)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><math alttext="5" class="ltx_Math" display="inline" id="S4.F5.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S4.F5.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F5.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S4.F5.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S4.F5.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S4.F5.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1c">5</annotation><annotation encoding="application/x-llamapun" id="S4.F5.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.8.1.1.1.1.1.1.1.1.1.m1.1d">5</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -41.21 37.24)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="13.84"><math alttext="10" class="ltx_Math" display="inline" id="S4.F5.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S4.F5.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F5.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S4.F5.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S4.F5.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S4.F5.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1c">10</annotation><annotation encoding="application/x-llamapun" id="S4.F5.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.9.1.1.1.1.1.1.1.1.1.m1.1d">10</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -41.21 78.93)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="13.84"><math alttext="15" class="ltx_Math" display="inline" id="S4.F5.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S4.F5.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F5.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">15</mn><annotation-xml encoding="MathML-Content" id="S4.F5.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S4.F5.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S4.F5.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1.1">15</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1c">15</annotation><annotation encoding="application/x-llamapun" id="S4.F5.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.10.1.1.1.1.1.1.1.1.1.m1.1d">15</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -41.21 120.63)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="13.84"><math alttext="20" class="ltx_Math" display="inline" id="S4.F5.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S4.F5.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F5.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">20</mn><annotation-xml encoding="MathML-Content" id="S4.F5.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S4.F5.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S4.F5.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1.1">20</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1c">20</annotation><annotation encoding="application/x-llamapun" id="S4.F5.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.m1.1d">20</annotation></semantics></math></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -41.21 162.33)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="13.84"><math alttext="25" class="ltx_Math" display="inline" id="S4.F5.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1"><semantics id="S4.F5.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1a"><mn id="S4.F5.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1.1" xref="S4.F5.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1.1.cmml">25</mn><annotation-xml encoding="MathML-Content" id="S4.F5.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1b"><cn id="S4.F5.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1.1.cmml" type="integer" xref="S4.F5.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1.1">25</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1c">25</annotation><annotation encoding="application/x-llamapun" id="S4.F5.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.12.1.1.1.1.1.1.1.1.1.m1.1d">25</annotation></semantics></math></foreignobject></g><clippath id="pgfcp1"><path d="M -22.49 -18.68 L 247.33 -18.68 L 247.33 205.48 L -22.49 205.48 Z"></path></clippath><g clip-path="url(#pgfcp1)"><g color="#0000FF" fill="#0000FF" stroke="#0000FF" stroke-width="0.8pt"><path d="M 0 17.1 L 37.47 75.97 L 74.95 125.09 L 112.42 166.78 L 149.9 176.79 L 187.37 186.8 L 224.85 186.8" style="fill:none"></path></g><g></g><g color="#FF0000" fill="#FF0000" stroke="#FF0000" stroke-width="0.8pt"><path d="M 0 0 L 37.47 33.36 L 74.95 41.7 L 112.42 50.04 L 149.9 41.7" style="fill:none"></path></g><g></g></g><g color="#0000FF" fill="#0000FF" stroke="#0000FF" stroke-width="0.8pt"><path d="M 2.77 17.1 C 2.77 18.62 1.53 19.86 0 19.86 C -1.53 19.86 -2.77 18.62 -2.77 17.1 C -2.77 15.57 -1.53 14.33 0 14.33 C 1.53 14.33 2.77 15.57 2.77 17.1 Z M 0 17.1" style="fill:none"></path><path d="M 40.24 75.97 C 40.24 77.5 39 78.74 37.47 78.74 C 35.95 78.74 34.71 77.5 34.71 75.97 C 34.71 74.44 35.95 73.2 37.47 73.2 C 39 73.2 40.24 74.44 40.24 75.97 Z M 37.47 75.97" style="fill:none"></path><path d="M 77.72 125.09 C 77.72 126.62 76.48 127.86 74.95 127.86 C 73.42 127.86 72.18 126.62 72.18 125.09 C 72.18 123.56 73.42 122.32 74.95 122.32 C 76.48 122.32 77.72 123.56 77.72 125.09 Z M 74.95 125.09" style="fill:none"></path><path d="M 115.19 166.78 C 115.19 168.31 113.95 169.55 112.42 169.55 C 110.9 169.55 109.66 168.31 109.66 166.78 C 109.66 165.26 110.9 164.02 112.42 164.02 C 113.95 164.02 115.19 165.26 115.19 166.78 Z M 112.42 166.78" style="fill:none"></path><path d="M 152.67 176.79 C 152.67 178.32 151.43 179.56 149.9 179.56 C 148.37 179.56 147.13 178.32 147.13 176.79 C 147.13 175.26 148.37 174.02 149.9 174.02 C 151.43 174.02 152.67 175.26 152.67 176.79 Z M 149.9 176.79" style="fill:none"></path><path d="M 190.14 186.8 C 190.14 188.33 188.9 189.57 187.37 189.57 C 185.84 189.57 184.61 188.33 184.61 186.8 C 184.61 185.27 185.84 184.03 187.37 184.03 C 188.9 184.03 190.14 185.27 190.14 186.8 Z M 187.37 186.8" style="fill:none"></path><path d="M 227.61 186.8 C 227.61 188.33 226.38 189.57 224.85 189.57 C 223.32 189.57 222.08 188.33 222.08 186.8 C 222.08 185.27 223.32 184.03 224.85 184.03 C 226.38 184.03 227.61 185.27 227.61 186.8 Z M 224.85 186.8" style="fill:none"></path></g><g color="#FF0000" fill="#FF0000" stroke="#FF0000" stroke-width="0.8pt"><path d="M 0 2.77 L 2.4 -1.38 L -2.4 -1.38 Z" style="fill:none"></path><path d="M 37.47 36.12 L 39.87 31.97 L 35.08 31.97 Z" style="fill:none"></path><path d="M 74.95 44.46 L 77.35 40.31 L 72.55 40.31 Z" style="fill:none"></path><path d="M 112.42 52.8 L 114.82 48.65 L 110.03 48.65 Z" style="fill:none"></path><path d="M 149.9 44.46 L 152.29 40.31 L 147.5 40.31 Z" style="fill:none"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 48.73 -51.6)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="126.99"><span class="ltx_text" id="S4.F5.1.pic1.13.13.13.13.13.1.1">Number of Iterations</span></foreignobject></g><g fill="#000000" stroke="#000000" transform="matrix(0.0 1.0 -1.0 0.0 -54.17 40.95)"><foreignobject height="13.84" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="104.89"><span class="ltx_text" id="S4.F5.1.pic1.14.14.14.14.14.1.1">Success Rate (%)</span></foreignobject></g><g fill="#FFFFFF" stroke="#000000"><path d="M -14.12 158.66 h 118.21 v 39.82 h -118.21 Z"></path></g><g fill="#FFFFFF" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -9.96 161.43)"><g class="ltx_tikzmatrix" transform="matrix(1 0 0 -1 0 25.745)"><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 8.61)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" color="#0000FF" fill="#0000FF" stroke="#0000FF" stroke-width="0.8pt" transform="matrix(1 0 0 -1 0 0) translate(0.55,0)"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 14.58 0 C 14.58 1.53 13.34 2.77 11.81 2.77 C 10.28 2.77 9.04 1.53 9.04 0 C 9.04 -1.53 10.28 -2.77 11.81 -2.77 C 13.34 -2.77 14.58 -1.53 14.58 0 Z M 11.81 0" style="fill:none"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#000000" stroke="#000000" transform="matrix(1 0 0 -1 24.73 0) translate(42.59,0) matrix(1.0 0.0 0.0 1.0 -39.82 -3.77)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="79.64"><span class="ltx_text" id="S4.F5.1.pic1.15.15.15.15.15.1.1.1.1.1">Valid Unseen</span></foreignobject></g></g><g class="ltx_tikzmatrix_row" transform="matrix(1 0 0 1 0 25.75)"><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" color="#FF0000" fill="#FF0000" stroke="#FF0000" stroke-width="0.8pt" transform="matrix(1 0 0 -1 0 0) translate(0.55,0)"><path d="M 0 0 L 11.81 0 L 23.62 0" style="fill:none"></path><path d="M 11.81 2.77 L 14.21 -1.38 L 9.41 -1.38 Z" style="fill:none"></path></g><g class="ltx_tikzmatrix_col ltx_nopad_l ltx_nopad_r" fill="#000000" stroke="#000000" transform="matrix(1 0 0 -1 37.82 0) translate(29.5,0) matrix(1.0 0.0 0.0 1.0 -26.73 -3.69)"><foreignobject height="9.46" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="53.46"><span class="ltx_text" id="S4.F5.1.pic1.16.16.16.16.16.2.2.1.1.1">Train100</span></foreignobject></g></g></g></g></g></g></g></svg>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5. </span>Performance with Iteration Number on ALFRED.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.p3.1.1">Correlation Between Iteration</span>. We also continue to study the correlation between successfully completed tasks during the iterative process of P-RAG. Table <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.T4" title="Table 4 ‣ 4.3. Ablation Study &amp; Parameter Analysis ‣ 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">4</span></a> displays the correlations between tasks completed at different iteration stages. The data values in the table are derived from iterations 0, 1, 2, and 3 in the ALFRED dataset. Each pair of True and False corresponds to successful and failed tasks in a single iteration. The value within each cell indicates the ratio of occurrences of “done” compared to the total occurrences of True/False in the corresponding row’s iteration. Considering the value located in the top-left corner of the table, this value signifies the proportion of successful tasks from the initial iteration that remain successful after the first subsequent iteration.</p>
</div>
<figure class="ltx_table" id="S4.T4">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T4.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="S4.T4.1.1.1.1"></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_tt" id="S4.T4.1.1.1.2"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S4.T4.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.1.3.1" style="font-size:90%;">Next 1 Iter.</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S4.T4.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.1.4.1" style="font-size:90%;">Next 2 Iter.</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S4.T4.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.1.5.1" style="font-size:90%;">Next 3 Iter.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.1.2.1">
<th class="ltx_td ltx_th ltx_th_row" id="S4.T4.1.2.1.1"></th>
<td class="ltx_td" id="S4.T4.1.2.1.2"></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.2.1.3"><span class="ltx_text ltx_font_bold" id="S4.T4.1.2.1.3.1" style="font-size:90%;">True</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.2.1.4"><span class="ltx_text ltx_font_bold" id="S4.T4.1.2.1.4.1" style="font-size:90%;">False</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.2.1.5"><span class="ltx_text ltx_font_bold" id="S4.T4.1.2.1.5.1" style="font-size:90%;">True</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.2.1.6"><span class="ltx_text ltx_font_bold" id="S4.T4.1.2.1.6.1" style="font-size:90%;">False</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.2.1.7"><span class="ltx_text ltx_font_bold" id="S4.T4.1.2.1.7.1" style="font-size:90%;">True</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.2.1.8"><span class="ltx_text ltx_font_bold" id="S4.T4.1.2.1.8.1" style="font-size:90%;">False</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S4.T4.1.3.2.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.2.1.1" style="font-size:90%;">0th Iter.</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.3.2.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.2.2.1" style="font-size:90%;">True</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.3.2.3"><span class="ltx_text" id="S4.T4.1.3.2.3.1" style="font-size:90%;">83.3%</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.3.2.4"><span class="ltx_text" id="S4.T4.1.3.2.4.1" style="font-size:90%;">16.7%</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.3.2.5"><span class="ltx_text" id="S4.T4.1.3.2.5.1" style="font-size:90%;">100%</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.3.2.6"><span class="ltx_text" id="S4.T4.1.3.2.6.1" style="font-size:90%;">0.0%</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.3.2.7"><span class="ltx_text" id="S4.T4.1.3.2.7.1" style="font-size:90%;">83.3%</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.3.2.8"><span class="ltx_text" id="S4.T4.1.3.2.8.1" style="font-size:90%;">16.7%</span></th>
</tr>
<tr class="ltx_tr" id="S4.T4.1.4.3">
<td class="ltx_td ltx_align_center" id="S4.T4.1.4.3.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.4.3.1.1" style="font-size:90%;">False</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.4.3.2"><span class="ltx_text" id="S4.T4.1.4.3.2.1" style="font-size:90%;">6.8%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.4.3.3"><span class="ltx_text" id="S4.T4.1.4.3.3.1" style="font-size:90%;">93.2%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.4.3.4"><span class="ltx_text" id="S4.T4.1.4.3.4.1" style="font-size:90%;">14.9%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.4.3.5"><span class="ltx_text" id="S4.T4.1.4.3.5.1" style="font-size:90%;">85.1%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.4.3.6"><span class="ltx_text" id="S4.T4.1.4.3.6.1" style="font-size:90%;">17.6%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.4.3.7"><span class="ltx_text" id="S4.T4.1.4.3.7.1" style="font-size:90%;">82.4%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S4.T4.1.5.4.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.5.4.1.1" style="font-size:90%;">1st Iter.</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.5.4.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.5.4.2.1" style="font-size:90%;">True</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.5.4.3"><span class="ltx_text" id="S4.T4.1.5.4.3.1" style="font-size:90%;">72.7%</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.5.4.4"><span class="ltx_text" id="S4.T4.1.5.4.4.1" style="font-size:90%;">27.3%</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.5.4.5"><span class="ltx_text" id="S4.T4.1.5.4.5.1" style="font-size:90%;">72.7%</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.5.4.6"><span class="ltx_text" id="S4.T4.1.5.4.6.1" style="font-size:90%;">27.3%</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.5.4.7"><span class="ltx_text" id="S4.T4.1.5.4.7.1" style="font-size:90%;">-</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.5.4.8"><span class="ltx_text" id="S4.T4.1.5.4.8.1" style="font-size:90%;">-</span></th>
</tr>
<tr class="ltx_tr" id="S4.T4.1.6.5">
<td class="ltx_td ltx_align_center" id="S4.T4.1.6.5.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.6.5.1.1" style="font-size:90%;">False</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.6.5.2"><span class="ltx_text" id="S4.T4.1.6.5.2.1" style="font-size:90%;">12.3%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.6.5.3"><span class="ltx_text" id="S4.T4.1.6.5.3.1" style="font-size:90%;">87.7%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.6.5.4"><span class="ltx_text" id="S4.T4.1.6.5.4.1" style="font-size:90%;">13.7%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.6.5.5"><span class="ltx_text" id="S4.T4.1.6.5.5.1" style="font-size:90%;">86.3%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.6.5.6"><span class="ltx_text" id="S4.T4.1.6.5.6.1" style="font-size:90%;">-</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.6.5.7"><span class="ltx_text" id="S4.T4.1.6.5.7.1" style="font-size:90%;">-</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_bb ltx_border_t" id="S4.T4.1.7.6.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.7.6.1.1" style="font-size:90%;">2nd Iter.</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.7.6.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.7.6.2.1" style="font-size:90%;">True</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.7.6.3"><span class="ltx_text" id="S4.T4.1.7.6.3.1" style="font-size:90%;">88.2%</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.7.6.4"><span class="ltx_text" id="S4.T4.1.7.6.4.1" style="font-size:90%;">11.8%</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.7.6.5"><span class="ltx_text" id="S4.T4.1.7.6.5.1" style="font-size:90%;">-</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.7.6.6"><span class="ltx_text" id="S4.T4.1.7.6.6.1" style="font-size:90%;">-</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.7.6.7"><span class="ltx_text" id="S4.T4.1.7.6.7.1" style="font-size:90%;">-</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.1.7.6.8"><span class="ltx_text" id="S4.T4.1.7.6.8.1" style="font-size:90%;">-</span></th>
</tr>
<tr class="ltx_tr" id="S4.T4.1.8.7">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.8.7.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.8.7.1.1" style="font-size:90%;">False</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.8.7.2"><span class="ltx_text" id="S4.T4.1.8.7.2.1" style="font-size:90%;">4.5%</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.8.7.3"><span class="ltx_text" id="S4.T4.1.8.7.3.1" style="font-size:90%;">95.5%</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.8.7.4"><span class="ltx_text" id="S4.T4.1.8.7.4.1" style="font-size:90%;">-</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.8.7.5"><span class="ltx_text" id="S4.T4.1.8.7.5.1" style="font-size:90%;">-</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.8.7.6"><span class="ltx_text" id="S4.T4.1.8.7.6.1" style="font-size:90%;">-</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.8.7.7"><span class="ltx_text" id="S4.T4.1.8.7.7.1" style="font-size:90%;">-</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 4. </span>Relation Between Iteration on ALFRED. “N-th Iter.” represents the completion status of tasks after the n-th iteration of P-RAG. For the row labeled “Next m-th.” each cell represents the comparison between the (n+m)-th iteration and the n-th iteration. The value in each cell represents the proportion of True/False occurrences of “done” in its column compared to the total occurrences of True/False in its corresponding row’s iterations.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS3.p4">
<p class="ltx_p" id="S4.SS3.p4.1">By analyzing the data in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.T4" title="Table 4 ‣ 4.3. Ablation Study &amp; Parameter Analysis ‣ 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">4</span></a>, it is evident that P-RAG predominantly achieves success in subsequent iterations based on the success of the previous iteration. Additionally, it demonstrates the capability to succeed in tasks that were unsuccessful in the previous iteration. This highlights how P-RAG not only effectively maintains performance from the previous iteration but also leverages information from unsuccessful trajectories to achieve new successes. This underscores the sources of performance enhancement in P-RAG.</p>
</div>
<figure class="ltx_table" id="S4.T5">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T5.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T5.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3" id="S4.T5.1.1.1.1" style="padding-top:-0.5pt;padding-bottom:-0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.1.1.1">P-RAG (Self-Iter.)</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T5.1.1.1.2" rowspan="2" style="padding-top:-0.5pt;padding-bottom:-0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.1.2.1">P-RAG</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T5.1.1.1.3" style="padding-top:-0.5pt;padding-bottom:-0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.1.3.1">P-RAG</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T5.1.1.1.4" rowspan="2" style="padding-top:-0.5pt;padding-bottom:-0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.1.4.1">GPT-4 <cite class="ltx_cite ltx_citemacro_citep">(Achiam et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#bib.bib2" title="">2023</a>)</cite></span></th>
</tr>
<tr class="ltx_tr" id="S4.T5.1.2.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.2.2.1" style="padding-top:-0.5pt;padding-bottom:-0.5pt;">1st</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.2.2.2" style="padding-top:-0.5pt;padding-bottom:-0.5pt;">2nd</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.2.2.3" style="padding-top:-0.5pt;padding-bottom:-0.5pt;">3rd</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.2.2.4" style="padding-top:-0.5pt;padding-bottom:-0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.2.2.4.1">w/o SG</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.3.3">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T5.1.3.3.1" style="padding-top:-0.5pt;padding-bottom:-0.5pt;">14.11%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T5.1.3.3.2" style="padding-top:-0.5pt;padding-bottom:-0.5pt;">20.00%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T5.1.3.3.3" style="padding-top:-0.5pt;padding-bottom:-0.5pt;">22.35%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T5.1.3.3.4" style="padding-top:-0.5pt;padding-bottom:-0.5pt;">14.11%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T5.1.3.3.5" style="padding-top:-0.5pt;padding-bottom:-0.5pt;">13.10%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T5.1.3.3.6" style="padding-top:-0.5pt;padding-bottom:-0.5pt;">7.05%</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5. </span>Ablation with Scene Graph on ALFRED Valid Unseen. The first 3 columns represent P-RAG with 3 rounds of self-iterations on Valid Unseen dataset. The following two columns indicate testing on Valid Unseen after iterations on Train100. </figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S4.SS3.p5">
<p class="ltx_p" id="S4.SS3.p5.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.p5.1.1">Ablation Study</span>. We demonstrate through ablation experiments to verify 1) the effectiveness of the progressive approach and 2) the effectiveness of the joint retrieval of scene graph and task name compared to using task name alone.</p>
</div>
<div class="ltx_para" id="S4.SS3.p6">
<p class="ltx_p" id="S4.SS3.p6.1">For the former, in the last row of Table <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.T1" title="Table 1 ‣ 4.2. Comparison Experiment with the State-of-the-art Methods ‣ 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">1</span></a>, P-RAG is demonstrated to be effective through iterations on both Valid Unseen and Valid Seen. Through iterations, P-RAG outperforms nearly all the methods, including step-by-step instruction and training on the full dataset, in performance on Valid Unseen without training and with a few number of samples. Similarly, in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.T2" title="Table 2 ‣ 4.2. Comparison Experiment with the State-of-the-art Methods ‣ 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">2</span></a>, conducting two sets of experiments with LLM as GPT-4 and GPT-3.5 also demonstrates the effectiveness of the progressive method.</p>
</div>
<div class="ltx_para" id="S4.SS3.p7">
<p class="ltx_p" id="S4.SS3.p7.1">To further evaluate the effectiveness of the progressive mechanism, we conduct extra ablation experiments on the ALFRED Valid Unseen dataset, as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.11279v1#S4.T5" title="Table 5 ‣ 4.3. Ablation Study &amp; Parameter Analysis ‣ 4. Experiment ‣ P-RAG: Progressive Retrieval Augmented Generation For Planning on Embodied Everyday Task"><span class="ltx_text ltx_ref_tag">5</span></a>. The interpretation of the data in the table is as following. The “GPT-4” column represents the results by using the GPT-4 baseline for testing. The “P-RAG (Self-Iter.)” colunm represents the results obtained through testing with 1, 2 and 3 iterations, respectively. The “P-RAG” column represents the results obtained by iteratively using task name and scene graph joint retrieval on the Train100 dataset and then testing on the Valid Unseen dataset. The “P-RAG w/o SG” column represents the results obtained by solely using task name for retrieval, iteratively on the Train100 and then testing on the Valid Unseen dataset. From the table, it is evident that compared to not utilizing scene graph for joint retrieval, P-RAG exhibits significant improvements. This demonstrates the effectiveness of the progressive mechanism and the necessity of incorporating scene graph and task name retrieval.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Conclusion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">We propose a novel progressive retrieval augmented generation framework called P-RAG for planning to address the issue of lacking task-specific and scene-specific knowledge in LLM. P-RAG distinguishes previous methods by eliminating the need for ground truth and achieves promising performance with just a few task interactions. By collaboration with task name and scene graph for P-RAG to retrieval, we ensure historical records selected from database are not only similar in tasks but also in situations. P-RAG’s unique iterative capability continuously acquires historical information through interaction. By leveraging enhanced retrieval capabilities, P-RAG incrementally accumulates task-specific knowledge during iterations, thereby improving its planning performance. The experiments demonstrate the effectiveness of P-RAG compared with the state-of-the-art planning methods for Embodied Everyday task. We hope that the ground-truth-free capability in P-RAG can be applied to a broader range of planning tasks and deliver even more outstanding performance.</p>
</div>
<div class="ltx_acknowledgements">
<h6 class="ltx_title ltx_title_acknowledgements">Acknowledgements.</h6>
This work was supported by National Natural Science Foundation of China under Contract 62102128 &amp; 62021001, and the Youth Innovation Promotion Association CAS. It was also supported by GPU cluster built by MCC Lab of Information Science and Technology Institution, USTC, and the Supercomputing Center of the USTC.

</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Achiam et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad, Ilge Akkaya, Florencia Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman, Shyamal Anadkat, et al<span class="ltx_text" id="bib.bib2.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">GPT-4 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.4.1">arXiv preprint arXiv:2303.08774</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ahn et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Michael Ahn, Anthony Brohan, Noah Brown, Yevgen Chebotar, Omar Cortes, Byron David, Chelsea Finn, Chuyuan Fu, Keerthana Gopalakrishnan, Karol Hausman, et al<span class="ltx_text" id="bib.bib3.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Do as i can, not as i say: Grounding language in robotic affordances.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.4.1">arXiv preprint arXiv:2204.01691</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Blukis et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Valts Blukis, Chris Paxton, Dieter Fox, Animesh Garg, and Yoav Artzi. 2022.

</span>
<span class="ltx_bibblock">A persistent spatial semantic representation for high-level natural language instruction execution. In <em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">Conference on Robot Learning</em>. PMLR, 706–717.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Jingwen Chen, Jianjie Luo, Yingwei Pan, Yehao Li, Ting Yao, Hongyang Chao, and Tao Mei. 2023b.

</span>
<span class="ltx_bibblock">Boosting Vision-and-Language Navigation with Direction Guiding and Backtracing.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">ACM Trans. Multimedia Comput. Commun. Appl.</em> 19, 1, Article 9 (jan 2023), 16 pages.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3526024" title="">https://doi.org/10.1145/3526024</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Xiuying Chen, Mingzhe Li, Shen Gao, Xin Cheng, Qiang Yang, Qishen Zhang, Xin Gao, and Xiangliang Zhang. 2023a.

</span>
<span class="ltx_bibblock">A topic-aware summarization framework with different modal side information.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">International ACM SIGIR Conference on Research and Development in Information Retrieval</em> (2023), 1416–1425.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cheng et al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Xin Cheng, Shen Gao, Yuchi Zhang, Yongliang Wang, Xiuying Chen, Mingzhe Li, Dongyan Zhao, and Rui Yan. 2023.

</span>
<span class="ltx_bibblock">Towards personalized review summarization by modeling historical reviews from customer and product separately.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.3.1">arXiv preprint arXiv:2301.11682</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Côté et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Marc-Alexandre Côté, Akos Kádár, Xingdi Yuan, Ben Kybartas, Tavian Barnes, Emery Fine, James Moore, Matthew Hausknecht, Layla El Asri, Mahmoud Adada, et al<span class="ltx_text" id="bib.bib8.3.1">.</span> 2019.

</span>
<span class="ltx_bibblock">Textworld: A learning environment for text-based games. In <em class="ltx_emph ltx_font_italic" id="bib.bib8.4.1">Computer Games: Workshop International Conference on Artificial Intelligence</em>. Springer, 41–75.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cui et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yuchen Cui, Siddharth Karamcheti, Raj Palleti, Nidhya Shivakumar, Percy Liang, and Dorsa Sadigh. 2023.

</span>
<span class="ltx_bibblock">No, to the right: Online language corrections for robotic manipulation via shared autonomy. In <em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">ACM/IEEE International Conference on Human-Robot Interaction</em>. 93–101.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yingdong Hu, Fanqi Lin, Tong Zhang, Li Yi, and Yang Gao. 2023.

</span>
<span class="ltx_bibblock">Look before you leap: Unveiling the power of gpt-4v in robotic vision-language planning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">arXiv preprint arXiv:2311.17842</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Chenguang Huang, Oier Mees, Andy Zeng, and Wolfram Burgard. 2023a.

</span>
<span class="ltx_bibblock">Visual language maps for robot navigation. In <em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">IEEE International Conference on Robotics and Automation</em>. IEEE, 10608–10615.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Wenlong Huang, Chen Wang, Ruohan Zhang, Yunzhu Li, Jiajun Wu, and Li Fei-Fei. 2023b.

</span>
<span class="ltx_bibblock">VoxPoser: Composable 3D value maps for robotic manipulation with language models. In <em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">Conference on Robot Learning</em>, Vol. 229. PMLR, 540–562.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Wenlong Huang, Fei Xia, Ted Xiao, Harris Chan, Jacky Liang, Pete Florence, Andy Zeng, Jonathan Tompson, Igor Mordatch, Yevgen Chebotar, et al<span class="ltx_text" id="bib.bib13.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Inner monologue: Embodied reasoning through planning with language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.4.1">arXiv preprint arXiv:2207.05608</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Emily Jin, Jiaheng Hu, Zhuoyi Huang, Ruohan Zhang, Jiajun Wu, Li Fei-Fei, and Roberto Martín-Martín. 2023.

</span>
<span class="ltx_bibblock">Mini-BEHAVIOR: A Procedurally generated benchmark for long-horizon decision-making in embodied AI.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">arXiv preprint arXiv:2310.01824</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yixiang Jin, Dingzhe Li, A Yong, Jun Shi, Peng Hao, Fuchun Sun, Jianwei Zhang, and Bin Fang. 2024.

</span>
<span class="ltx_bibblock">Robotgpt: Robot manipulation learning from chatgpt.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">IEEE Robotics and Automation Letters</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, Sebastian Riedel, and Douwe Kiela. 2020.

</span>
<span class="ltx_bibblock">Retrieval-Augmented generation for knowledge-intensive NLP Tasks. In <em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">Advances in Neural Information Processing Systems</em>, Vol. 33. Curran Associates, Inc., 9459–9474.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Chengshu Li, Ruohan Zhang, Josiah Wong, Cem Gokmen, Sanjana Srivastava, Roberto Martín-Martín, Chen Wang, Gabrael Levine, Wensi Ai, Benjamin Martinez, et al<span class="ltx_text" id="bib.bib17.3.1">.</span> 2024.

</span>
<span class="ltx_bibblock">BEHAVIOR-1K: A Human-Centered, Embodied AI Benchmark with 1,000 Everyday Activities and Realistic Simulation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.4.1">arXiv preprint arXiv:2403.09227</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Jinyi Liu, Yifu Yuan, Jianye Hao, Fei Ni, Lingzhi Fu, Yibin Chen, and Yan Zheng. 2024.

</span>
<span class="ltx_bibblock">Enhancing robotic manipulation with AI feedback from multimodal large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">arXiv preprint arXiv:2402.14245</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yujie Lu, Weixi Feng, Wanrong Zhu, Wenda Xu, Xin Eric Wang, Miguel Eckstein, and William Yang Wang. 2022.

</span>
<span class="ltx_bibblock">Neuro-symbolic procedural planning with commonsense prompting.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">arXiv preprint arXiv:2206.02928</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nair et al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Suraj Nair, Aravind Rajeswaran, Vikash Kumar, Chelsea Finn, and Abhinav Gupta. 2022.

</span>
<span class="ltx_bibblock">R3m: A universal visual representation for robot manipulation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">arXiv preprint arXiv:2203.12601</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pashevich et al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Alexander Pashevich, Cordelia Schmid, and Chen Sun. 2021.

</span>
<span class="ltx_bibblock">Episodic transformer for vision-and-language navigation. In <em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">Proceedings of the IEEE/CVF International Conference on Computer Vision</em>. 15942–15952.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sethian (1999)</span>
<span class="ltx_bibblock">
James A Sethian. 1999.

</span>
<span class="ltx_bibblock">Fast marching methods.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">SIAM review</em> 41, 2 (1999), 199–235.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sharan et al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
SP Sharan, Ruihan Zhao, Zhangyang Wang, Sandeep P Chinchali, et al<span class="ltx_text" id="bib.bib23.3.1">.</span> 2024.

</span>
<span class="ltx_bibblock">Plan Diffuser: Grounding LLM planners with diffusion models for robotic manipulation. In <em class="ltx_emph ltx_font_italic" id="bib.bib23.4.1">Bridging the Gap between Cognitive Science and Robot Learning in the Real World: Progresses and New Directions</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shridhar et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2020a)</span>
<span class="ltx_bibblock">
Mohit Shridhar, Jesse Thomason, Daniel Gordon, Yonatan Bisk, Winson Han, Roozbeh Mottaghi, Luke Zettlemoyer, and Dieter Fox. 2020a.

</span>
<span class="ltx_bibblock">ALFRED: A benchmark for interpreting grounded instructions for everyday tasks. In <em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">The IEEE Conference on Computer Vision and Pattern Recognition</em>.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/1912.01734" title="">https://arxiv.org/abs/1912.01734</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shridhar et al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2020b)</span>
<span class="ltx_bibblock">
Mohit Shridhar, Xingdi Yuan, Marc-Alexandre Côté, Yonatan Bisk, Adam Trischler, and Matthew Hausknecht. 2020b.

</span>
<span class="ltx_bibblock">Alfworld: Aligning text and embodied environments for interactive learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.3.1">arXiv preprint arXiv:2010.03768</em> (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Singh et al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Ishika Singh, Valts Blukis, Arsalan Mousavian, Ankit Goyal, Danfei Xu, Jonathan Tremblay, Dieter Fox, Jesse Thomason, and Animesh Garg. 2023.

</span>
<span class="ltx_bibblock">Progprompt: Generating situated robot task plans using large language models. In <em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">IEEE International Conference on Robotics and Automation</em>. IEEE, 11523–11530.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Skirzynski (2020)</span>
<span class="ltx_bibblock">
Julian Skirzynski. 2020.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">Language-conditional imitation learning</em>.

</span>
<span class="ltx_bibblock">McGill University (Canada).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Song et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Chan Hee Song, Jihyung Kil, Tai-Yu Pan, Brian M Sadler, Wei-Lun Chao, and Yu Su. 2022.

</span>
<span class="ltx_bibblock">One step at a time: Long-horizon vision-and-language navigation with milestones. In <em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">IEEE Conference on Computer Vision and Pattern Recognition</em>. 15482–15491.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Song et al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Chan Hee Song, Jiaman Wu, Clayton Washington, Brian M Sadler, Wei-Lun Chao, and Yu Su. 2023.

</span>
<span class="ltx_bibblock">Llm-planner: Few-shot grounded planning for embodied agents with large language models. In <em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">IEEE International Conference on Computer Vision</em>. 2998–3009.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vemprala et al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Sai Vemprala, Rogerio Bonatti, Arthur Bucker, and Ashish Kapoor. 2023.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">ChatGPT for Robotics: design principles and model abilities</em>.

</span>
<span class="ltx_bibblock">Technical Report MSR-TR-2023-8. Microsoft.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.microsoft.com/en-us/research/publication/chatgpt-for-robotics-design-principles-and-model-abilities/" title="">https://www.microsoft.com/en-us/research/publication/chatgpt-for-robotics-design-principles-and-model-abilities/</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Lei Wang, Chen Ma, Xueyang Feng, Zeyu Zhang, Hao Yang, Jingsen Zhang, Zhiyuan Chen, Jiakai Tang, Xu Chen, Yankai Lin, et al<span class="ltx_text" id="bib.bib31.3.1">.</span> 2024.

</span>
<span class="ltx_bibblock">A survey on large language model based autonomous agents.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.4.1">Frontiers of Computer Science</em> 18, 6 (2024), 1–26.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Wenhui Wang, Furu Wei, Li Dong, Hangbo Bao, Nan Yang, and Ming Zhou. 2020.

</span>
<span class="ltx_bibblock">Minilm: Deep self-attention distillation for task-agnostic compression of pre-trained transformers.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">Advances in Neural Information Processing Systems</em> 33 (2020), 5776–5788.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiuying et al<span class="ltx_text" id="bib.bib33.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Chen Xiuying, Alamro Hind, Li Mingzhe, Gao Shen, Yan Rui, Gao Xin, and Zhang Xiangliang. 2022.

</span>
<span class="ltx_bibblock">Target-aware abstractive related work generation with contrastive learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.3.1">International ACM SIGIR Conference on Research and Development in Information Retrieval</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yamada et al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Jun Yamada, Youngwoon Lee, Gautam Salhotra, Karl Pertsch, Max Pflueger, Gaurav Sukhatme, Joseph Lim, and Peter Englert. 2021.

</span>
<span class="ltx_bibblock">Motion planner augmented reinforcement learning for robot manipulation in obstructed environments. In <em class="ltx_emph ltx_font_italic" id="bib.bib34.3.1">Conference on Robot Learning</em>. PMLR, 589–603.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yamazaki et al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Satoshi Yamazaki, Jianquan Liu, and Mohan Kankanhalli. 2023.

</span>
<span class="ltx_bibblock">Sequential action retrieval for generating narratives from long videos. In <em class="ltx_emph ltx_font_italic" id="bib.bib35.3.1">Workshop on User-Centric Narrative Summarization of Long Videos</em>. Association for Computing Machinery, New York, NY, USA, 25–29.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3607540.3617143" title="">https://doi.org/10.1145/3607540.3617143</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al<span class="ltx_text" id="bib.bib36.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Chi Yu, Guang Yang, Xiang Chen, Ke Liu, and Yanlin Zhou. 2022.

</span>
<span class="ltx_bibblock">Bashexplainer: Retrieval-augmented bash code comment generation based on fine-tuned codebert.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.3.1">IEEE International Conference on Software Maintenance and Evolution</em>, 82–93.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zare et al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Ali Zare, Yulei Niu, Hammad Ayyubi, and Shih-fu Chang. 2024.

</span>
<span class="ltx_bibblock">RAP: Retrieval-Augmented planner for adaptive procedure planning in instructional videos.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">arXiv preprint arXiv:2403.18600</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhan et al<span class="ltx_text" id="bib.bib38.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Albert Zhan, Ruihan Zhao, Lerrel Pinto, Pieter Abbeel, and Michael Laskin. 2021.

</span>
<span class="ltx_bibblock">A framework for efficient robotic manipulation. In <em class="ltx_emph ltx_font_italic" id="bib.bib38.3.1">Deep RL Workshop of Neural Information Processing Systems Conference</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib39.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Xiangyu Zhang, Yu Zhou, Guang Yang, and Taolue Chen. 2023.

</span>
<span class="ltx_bibblock">Syntax-aware retrieval augmented code generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.3.1">The Conference on Empirical Methods in Natural Language Processing</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang and Chai (2021)</span>
<span class="ltx_bibblock">
Yichi Zhang and Joyce Chai. 2021.

</span>
<span class="ltx_bibblock">Hierarchical task learning from language instructions with unified transformers and self-monitoring.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">arXiv preprint arXiv:2106.03427</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al<span class="ltx_text" id="bib.bib41.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yusheng Zhao, Jinyu Chen, Chen Gao, Wenguan Wang, Lirong Yang, Haibing Ren, Huaxia Xia, and Si Liu. 2022.

</span>
<span class="ltx_bibblock">Target-Driven Structured Transformer Planner for Vision-Language Navigation. In <em class="ltx_emph ltx_font_italic" id="bib.bib41.3.1">Proceedings of the 30th ACM International Conference on Multimedia</em>. Association for Computing Machinery, New York, NY, USA, 4194–4203.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3503161.3548281" title="">https://doi.org/10.1145/3503161.3548281</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhuang et al<span class="ltx_text" id="bib.bib42.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yifeng Zhuang, Qiang Sun, Yanwei Fu, Lifeng Chen, and Xiangyang Xue. 2022.

</span>
<span class="ltx_bibblock">Local Slot Attention for Vision and Language Navigation. In <em class="ltx_emph ltx_font_italic" id="bib.bib42.3.1">Proceedings of the 2022 International Conference on Multimedia Retrieval</em>. Association for Computing Machinery, New York, NY, USA, 545–553.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3512527.3531366" title="">https://doi.org/10.1145/3512527.3531366</a>
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Tue Sep 17 15:24:36 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
