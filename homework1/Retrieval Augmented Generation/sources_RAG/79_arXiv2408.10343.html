<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain</title>
<!--Generated on Mon Aug 19 18:25:21 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Machine Learning,  ICML" lang="en" name="keywords"/>
<base href="/html/2408.10343v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S1" title="In LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S2" title="In LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S2.SS1" title="In 2 Related Work ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Retrieval Augmented Generation (RAG)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S2.SS2" title="In 2 Related Work ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Retrieval Augmented Generation (RAG) Benchmarks</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S2.SS3" title="In 2 Related Work ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>LegalBench</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S2.SS4" title="In 2 Related Work ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.4 </span>Other legal focused benchmarks</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3" title="In LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>A Benchmarking Dataset: LegalBench-RAG</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.SS1" title="In 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>LegalBench-RAG Constuction</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.SS1.SSS1" title="In 3.1 LegalBench-RAG Constuction ‣ 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1.1 </span>Starting Point: LegalBench</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.SS1.SSS2" title="In 3.1 LegalBench-RAG Constuction ‣ 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1.2 </span>Tracing Back to Original Sources</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.SS1.SSS3" title="In 3.1 LegalBench-RAG Constuction ‣ 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1.3 </span>Construction Process</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.SS1.SSS4" title="In 3.1 LegalBench-RAG Constuction ‣ 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1.4 </span>Example Annotations</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.SS2" title="In 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Quality Control</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.SS3" title="In 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Dataset Structure</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.SS3.SSS1" title="In 3.3 Dataset Structure ‣ 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3.1 </span>Descriptive Statistics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.SS3.SSS2" title="In 3.3 Dataset Structure ‣ 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3.2 </span>LegalBench-RAG and LegalBench-RAG-mini</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.SS4" title="In 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Significance of this work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.SS5" title="In 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.5 </span>Limitations</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4" title="In LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Benchmarking RAG systems using LegalBench-RAG</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4.SS1" title="In 4 Benchmarking RAG systems using LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Hyperparameters in RAG Pipelines</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4.SS1.SSS1" title="In 4.1 Hyperparameters in RAG Pipelines ‣ 4 Benchmarking RAG systems using LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.1 </span>Pre-Processing Strategies</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4.SS1.SSS2" title="In 4.1 Hyperparameters in RAG Pipelines ‣ 4 Benchmarking RAG systems using LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.2 </span>Post-Processing Strategies</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4.SS1.SSS3" title="In 4.1 Hyperparameters in RAG Pipelines ‣ 4 Benchmarking RAG systems using LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.3 </span>Other design decisions</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4.SS2" title="In 4 Benchmarking RAG systems using LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Experimental Setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4.SS3" title="In 4 Benchmarking RAG systems using LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Variation of preprocessing splitting strategies</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4.SS4" title="In 4 Benchmarking RAG systems using LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Variation of postprocessing method</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S5" title="In LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Results and Discussion</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S5.SS1" title="In 5 Results and Discussion ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Results of the experimentation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S5.SS2" title="In 5 Results and Discussion ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Comparison of the four datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S5.SS3" title="In 5 Results and Discussion ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Future Work</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S6" title="In LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#A1" title="In LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Appendix A</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_pruned_first">
<h1 class="ltx_title ltx_title_document">LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Nicholas Pipitone
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ghita Houir Alami
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id1.id1">Retrieval-Augmented Generation (RAG) systems are showing promising potential, and are becoming increasingly relevant in AI-powered legal applications. Existing benchmarks, such as LegalBench, assess the generative capabilities of Large Language Models (LLMs) in the legal domain, but there is a critical gap in evaluating the retrieval component of RAG systems.
To address this, we introduce <span class="ltx_text ltx_font_bold" id="id1.id1.1">LegalBench-RAG</span>, the first benchmark specifically designed to evaluate the retrieval step of RAG pipelines within the legal space. LegalBench-RAG emphasizes precise retrieval by focusing on extracting minimal, highly relevant text segments from legal documents. These highly relevant snippets are preferred over retrieving document IDs, or large sequences of imprecise chunks, both of which can exceed context window limitations. Long context windows cost more to process, induce higher latency, and lead LLMs to forget or hallucinate information. Additionally, precise results allow LLMs to generate citations for the end user. The LegalBench-RAG benchmark is constructed by retracing the context used in LegalBench queries back to their original locations within the legal corpus, resulting in a dataset of 6,858 query-answer pairs over a corpus of over 79M characters, entirely human-annotated by legal experts.
We also introduce LegalBench-RAG-mini, a lightweight version for rapid iteration and experimentation.
By providing a dedicated benchmark for legal retrieval, LegalBench-RAG serves as a critical tool for companies and researchers focused on enhancing the accuracy and performance of RAG systems in the legal domain. The LegalBench-RAG dataset is publicly available at <a class="ltx_ref ltx_href" href="https://github.com/zeroentropy-cc/legalbenchrag" title="">https://github.com/zeroentropy-cc/legalbenchrag</a></p>
</div>
<div class="ltx_keywords">Machine Learning, ICML
</div>
<div class="ltx_para" id="p2">
<br class="ltx_break"/>
</div>
<figure class="ltx_figure" id="S0.F1">
<br class="ltx_break"/>
<p class="ltx_p ltx_align_center ltx_align_center" id="S0.F1.1.1"><span class="ltx_text" id="S0.F1.1.1.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="337" id="S0.F1.1.1.1.g1" src="extracted/5794893/rag3.png" width="598"/></span></p>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Benchmarking The Retrieval Step Of RAG Systems</figcaption>
</figure>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">In the rapidly evolving landscape of AI in the legal sector, Retrieval-Augmented Generation (RAG) <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib11" title="">2020</a>)</cite> systems have emerged as a crucial technology. These systems, which combine retrieval mechanisms with generative large language models (LLMs), show promising potential for contextualized generation. However, as companies race to develop RAG-based solutions, a critical gap in the ecosystem remains unaddressed: the lack of a dedicated benchmark for evaluating the retrieval component in legal-specific RAG systems.
Existing benchmarks such as LegalBench <cite class="ltx_cite ltx_citemacro_citep">(Guha et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib5" title="">2023</a>)</cite> assess the reasoning capabilities of LLMs on complex legal questions, and how effectively LLMs recall legal knowledge in their training set. However, these existing benchmarks do not evaluate the retrieval quality over a large corpus, which is crucial for RAG-based systems. Similarly, a legal-specific RAG benchmark is essential because legal documents have unique structures, terminologies, and requirements that more general RAG benchmarks cannot adequately assess. General benchmarks often lack the domain-specific nuances and complex legal relationships found in real-world use cases. These benchmarks <cite class="ltx_cite ltx_citemacro_citep">(Yu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib24" title="">2024</a>)</cite> also generally focus on recall without distinguishing between the retrieval of large, contextually broad chunks and the precise retrieval of small, highly relevant text snippets. The risk of hallucination at generation increases as irrelevant information is included in the context window of an LLM, which poses a significant risk in the legal industry. Benchmarks such as RAGTruth <cite class="ltx_cite ltx_citemacro_citep">(Niu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib15" title="">2024</a>)</cite> study the extent of hallucinated content at the generation step of RAG systems. Additionally, succinct annotations into highly relevant text snippets allow a human-in-the-loop to quickly verify the veracity of an LLM’s claims.
To address all of these issues, a benchmark is necessary to compare the quality of competing retrieval algorithms. For this, we introduce LegalBench-RAG, the first benchmark designed specifically for evaluating retrieval systems in the legal domain. LegalBench-RAG provides a rigorous framework to assess how well retrieval mechanisms can pinpoint exact legal references, offering a more granular and relevant measure of performance than existing benchmarks.</p>
</div>
<figure class="ltx_table" id="S1.T1">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S1.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S1.T1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S1.T1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S1.T1.1.1.1.1.1">Q&amp;A Count</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S1.T1.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S1.T1.1.1.1.2.1">Dataset Name</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S1.T1.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S1.T1.1.1.1.3.1">Dataset Description</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S1.T1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S1.T1.1.2.1.1">946</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S1.T1.1.2.1.2">ContractNLI</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S1.T1.1.2.1.3">NDA related documents</td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S1.T1.1.3.2.1">4042</th>
<td class="ltx_td ltx_align_center" id="S1.T1.1.3.2.2">Contract Understanding Atticus Dataset (CUAD)</td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.3.2.3">Private Contracts</td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S1.T1.1.4.3.1">1676</th>
<td class="ltx_td ltx_align_center" id="S1.T1.1.4.3.2">M&amp;A Understanding Dataset</td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.4.3.3">M&amp;A documents of public companies</td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S1.T1.1.5.4.1">194</th>
<td class="ltx_td ltx_align_center" id="S1.T1.1.5.4.2">Privacy QA</td>
<td class="ltx_td ltx_align_center" id="S1.T1.1.5.4.3">Privacy policies of consumer apps</td>
</tr>
<tr class="ltx_tr" id="S1.T1.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_t" id="S1.T1.1.6.5.1"><span class="ltx_text ltx_font_bold" id="S1.T1.1.6.5.1.1">6858</span></th>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S1.T1.1.6.5.2">4 datasets</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S1.T1.1.6.5.3">Variety of legal documents</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Summary of Datasets</figcaption>
</figure>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Retrieval Augmented Generation (RAG)</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.7">A Retrieval-Augmented Generation (RAG) <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib11" title="">2020</a>)</cite> system is an intelligent generative system that utilizes a knowledge base, denoted as <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S2.SS1.p1.1.m1.1"><semantics id="S2.SS1.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.1.m1.1d">caligraphic_D</annotation></semantics></math>, which contains a set of documents. In this case, each document, represented as <math alttext="d_{i}\in\mathcal{D}" class="ltx_Math" display="inline" id="S2.SS1.p1.2.m2.1"><semantics id="S2.SS1.p1.2.m2.1a"><mrow id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml"><msub id="S2.SS1.p1.2.m2.1.1.2" xref="S2.SS1.p1.2.m2.1.1.2.cmml"><mi id="S2.SS1.p1.2.m2.1.1.2.2" xref="S2.SS1.p1.2.m2.1.1.2.2.cmml">d</mi><mi id="S2.SS1.p1.2.m2.1.1.2.3" xref="S2.SS1.p1.2.m2.1.1.2.3.cmml">i</mi></msub><mo id="S2.SS1.p1.2.m2.1.1.1" xref="S2.SS1.p1.2.m2.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.2.m2.1.1.3" xref="S2.SS1.p1.2.m2.1.1.3.cmml">𝒟</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><apply id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1"><in id="S2.SS1.p1.2.m2.1.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1.1"></in><apply id="S2.SS1.p1.2.m2.1.1.2.cmml" xref="S2.SS1.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.1.1.2.1.cmml" xref="S2.SS1.p1.2.m2.1.1.2">subscript</csymbol><ci id="S2.SS1.p1.2.m2.1.1.2.2.cmml" xref="S2.SS1.p1.2.m2.1.1.2.2">𝑑</ci><ci id="S2.SS1.p1.2.m2.1.1.2.3.cmml" xref="S2.SS1.p1.2.m2.1.1.2.3">𝑖</ci></apply><ci id="S2.SS1.p1.2.m2.1.1.3.cmml" xref="S2.SS1.p1.2.m2.1.1.3">𝒟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">d_{i}\in\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.2.m2.1d">italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_D</annotation></semantics></math>, is a string of legal text. A traditional implementation will segment each document <math alttext="d_{i}" class="ltx_Math" display="inline" id="S2.SS1.p1.3.m3.1"><semantics id="S2.SS1.p1.3.m3.1a"><msub id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml"><mi id="S2.SS1.p1.3.m3.1.1.2" xref="S2.SS1.p1.3.m3.1.1.2.cmml">d</mi><mi id="S2.SS1.p1.3.m3.1.1.3" xref="S2.SS1.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><apply id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.1.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS1.p1.3.m3.1.1.2.cmml" xref="S2.SS1.p1.3.m3.1.1.2">𝑑</ci><ci id="S2.SS1.p1.3.m3.1.1.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">d_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.3.m3.1d">italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> into a set of chunks <math alttext="c_{j}\in\mathcal{C}_{i}" class="ltx_Math" display="inline" id="S2.SS1.p1.4.m4.1"><semantics id="S2.SS1.p1.4.m4.1a"><mrow id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml"><msub id="S2.SS1.p1.4.m4.1.1.2" xref="S2.SS1.p1.4.m4.1.1.2.cmml"><mi id="S2.SS1.p1.4.m4.1.1.2.2" xref="S2.SS1.p1.4.m4.1.1.2.2.cmml">c</mi><mi id="S2.SS1.p1.4.m4.1.1.2.3" xref="S2.SS1.p1.4.m4.1.1.2.3.cmml">j</mi></msub><mo id="S2.SS1.p1.4.m4.1.1.1" xref="S2.SS1.p1.4.m4.1.1.1.cmml">∈</mo><msub id="S2.SS1.p1.4.m4.1.1.3" xref="S2.SS1.p1.4.m4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.4.m4.1.1.3.2" xref="S2.SS1.p1.4.m4.1.1.3.2.cmml">𝒞</mi><mi id="S2.SS1.p1.4.m4.1.1.3.3" xref="S2.SS1.p1.4.m4.1.1.3.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><apply id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1"><in id="S2.SS1.p1.4.m4.1.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1.1"></in><apply id="S2.SS1.p1.4.m4.1.1.2.cmml" xref="S2.SS1.p1.4.m4.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.1.1.2.1.cmml" xref="S2.SS1.p1.4.m4.1.1.2">subscript</csymbol><ci id="S2.SS1.p1.4.m4.1.1.2.2.cmml" xref="S2.SS1.p1.4.m4.1.1.2.2">𝑐</ci><ci id="S2.SS1.p1.4.m4.1.1.2.3.cmml" xref="S2.SS1.p1.4.m4.1.1.2.3">𝑗</ci></apply><apply id="S2.SS1.p1.4.m4.1.1.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.1.1.3.1.cmml" xref="S2.SS1.p1.4.m4.1.1.3">subscript</csymbol><ci id="S2.SS1.p1.4.m4.1.1.3.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2">𝒞</ci><ci id="S2.SS1.p1.4.m4.1.1.3.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">c_{j}\in\mathcal{C}_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.4.m4.1d">italic_c start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ caligraphic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>. These chunks are then transformed into vector embeddings using a specialized embedding model.
After the ingestion of the documents, a user can submit a query <math alttext="q" class="ltx_Math" display="inline" id="S2.SS1.p1.5.m5.1"><semantics id="S2.SS1.p1.5.m5.1a"><mi id="S2.SS1.p1.5.m5.1.1" xref="S2.SS1.p1.5.m5.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m5.1b"><ci id="S2.SS1.p1.5.m5.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m5.1c">q</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.5.m5.1d">italic_q</annotation></semantics></math>, which will be vectorized using the same embedding model. The system then retrieves the top-k chunks <math alttext="{\mathcal{R}_{q}}=\{r_{1},r_{2},\ldots,r_{K}\}" class="ltx_Math" display="inline" id="S2.SS1.p1.6.m6.4"><semantics id="S2.SS1.p1.6.m6.4a"><mrow id="S2.SS1.p1.6.m6.4.4" xref="S2.SS1.p1.6.m6.4.4.cmml"><msub id="S2.SS1.p1.6.m6.4.4.5" xref="S2.SS1.p1.6.m6.4.4.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.6.m6.4.4.5.2" xref="S2.SS1.p1.6.m6.4.4.5.2.cmml">ℛ</mi><mi id="S2.SS1.p1.6.m6.4.4.5.3" xref="S2.SS1.p1.6.m6.4.4.5.3.cmml">q</mi></msub><mo id="S2.SS1.p1.6.m6.4.4.4" xref="S2.SS1.p1.6.m6.4.4.4.cmml">=</mo><mrow id="S2.SS1.p1.6.m6.4.4.3.3" xref="S2.SS1.p1.6.m6.4.4.3.4.cmml"><mo id="S2.SS1.p1.6.m6.4.4.3.3.4" stretchy="false" xref="S2.SS1.p1.6.m6.4.4.3.4.cmml">{</mo><msub id="S2.SS1.p1.6.m6.2.2.1.1.1" xref="S2.SS1.p1.6.m6.2.2.1.1.1.cmml"><mi id="S2.SS1.p1.6.m6.2.2.1.1.1.2" xref="S2.SS1.p1.6.m6.2.2.1.1.1.2.cmml">r</mi><mn id="S2.SS1.p1.6.m6.2.2.1.1.1.3" xref="S2.SS1.p1.6.m6.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S2.SS1.p1.6.m6.4.4.3.3.5" xref="S2.SS1.p1.6.m6.4.4.3.4.cmml">,</mo><msub id="S2.SS1.p1.6.m6.3.3.2.2.2" xref="S2.SS1.p1.6.m6.3.3.2.2.2.cmml"><mi id="S2.SS1.p1.6.m6.3.3.2.2.2.2" xref="S2.SS1.p1.6.m6.3.3.2.2.2.2.cmml">r</mi><mn id="S2.SS1.p1.6.m6.3.3.2.2.2.3" xref="S2.SS1.p1.6.m6.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S2.SS1.p1.6.m6.4.4.3.3.6" xref="S2.SS1.p1.6.m6.4.4.3.4.cmml">,</mo><mi id="S2.SS1.p1.6.m6.1.1" mathvariant="normal" xref="S2.SS1.p1.6.m6.1.1.cmml">…</mi><mo id="S2.SS1.p1.6.m6.4.4.3.3.7" xref="S2.SS1.p1.6.m6.4.4.3.4.cmml">,</mo><msub id="S2.SS1.p1.6.m6.4.4.3.3.3" xref="S2.SS1.p1.6.m6.4.4.3.3.3.cmml"><mi id="S2.SS1.p1.6.m6.4.4.3.3.3.2" xref="S2.SS1.p1.6.m6.4.4.3.3.3.2.cmml">r</mi><mi id="S2.SS1.p1.6.m6.4.4.3.3.3.3" xref="S2.SS1.p1.6.m6.4.4.3.3.3.3.cmml">K</mi></msub><mo id="S2.SS1.p1.6.m6.4.4.3.3.8" stretchy="false" xref="S2.SS1.p1.6.m6.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m6.4b"><apply id="S2.SS1.p1.6.m6.4.4.cmml" xref="S2.SS1.p1.6.m6.4.4"><eq id="S2.SS1.p1.6.m6.4.4.4.cmml" xref="S2.SS1.p1.6.m6.4.4.4"></eq><apply id="S2.SS1.p1.6.m6.4.4.5.cmml" xref="S2.SS1.p1.6.m6.4.4.5"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.4.4.5.1.cmml" xref="S2.SS1.p1.6.m6.4.4.5">subscript</csymbol><ci id="S2.SS1.p1.6.m6.4.4.5.2.cmml" xref="S2.SS1.p1.6.m6.4.4.5.2">ℛ</ci><ci id="S2.SS1.p1.6.m6.4.4.5.3.cmml" xref="S2.SS1.p1.6.m6.4.4.5.3">𝑞</ci></apply><set id="S2.SS1.p1.6.m6.4.4.3.4.cmml" xref="S2.SS1.p1.6.m6.4.4.3.3"><apply id="S2.SS1.p1.6.m6.2.2.1.1.1.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.2.2.1.1.1.1.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.6.m6.2.2.1.1.1.2.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.2">𝑟</ci><cn id="S2.SS1.p1.6.m6.2.2.1.1.1.3.cmml" type="integer" xref="S2.SS1.p1.6.m6.2.2.1.1.1.3">1</cn></apply><apply id="S2.SS1.p1.6.m6.3.3.2.2.2.cmml" xref="S2.SS1.p1.6.m6.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.3.3.2.2.2.1.cmml" xref="S2.SS1.p1.6.m6.3.3.2.2.2">subscript</csymbol><ci id="S2.SS1.p1.6.m6.3.3.2.2.2.2.cmml" xref="S2.SS1.p1.6.m6.3.3.2.2.2.2">𝑟</ci><cn id="S2.SS1.p1.6.m6.3.3.2.2.2.3.cmml" type="integer" xref="S2.SS1.p1.6.m6.3.3.2.2.2.3">2</cn></apply><ci id="S2.SS1.p1.6.m6.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1">…</ci><apply id="S2.SS1.p1.6.m6.4.4.3.3.3.cmml" xref="S2.SS1.p1.6.m6.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.4.4.3.3.3.1.cmml" xref="S2.SS1.p1.6.m6.4.4.3.3.3">subscript</csymbol><ci id="S2.SS1.p1.6.m6.4.4.3.3.3.2.cmml" xref="S2.SS1.p1.6.m6.4.4.3.3.3.2">𝑟</ci><ci id="S2.SS1.p1.6.m6.4.4.3.3.3.3.cmml" xref="S2.SS1.p1.6.m6.4.4.3.3.3.3">𝐾</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.6.m6.4c">{\mathcal{R}_{q}}=\{r_{1},r_{2},\ldots,r_{K}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.6.m6.4d">caligraphic_R start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT = { italic_r start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_r start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_r start_POSTSUBSCRIPT italic_K end_POSTSUBSCRIPT }</annotation></semantics></math> most relevant to the query, using similarity metrics such as cosine similarity.
The retrieved chunks, together with the query and a system prompt <math alttext="P" class="ltx_Math" display="inline" id="S2.SS1.p1.7.m7.1"><semantics id="S2.SS1.p1.7.m7.1a"><mi id="S2.SS1.p1.7.m7.1.1" xref="S2.SS1.p1.7.m7.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.7.m7.1b"><ci id="S2.SS1.p1.7.m7.1.1.cmml" xref="S2.SS1.p1.7.m7.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.7.m7.1c">P</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.7.m7.1d">italic_P</annotation></semantics></math>, are processed by a large language model (LLM) to generate the final response. This overall process is formalized as:</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<table class="ltx_equation ltx_eqn_table" id="S2.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{Contextual Retriever}(\mathbf{q},\mathcal{D})\rightarrow{\mathcal{R}_{%
\mathbf{q}}}" class="ltx_Math" display="block" id="S2.Ex1.m1.2"><semantics id="S2.Ex1.m1.2a"><mrow id="S2.Ex1.m1.2.3" xref="S2.Ex1.m1.2.3.cmml"><mrow id="S2.Ex1.m1.2.3.2" xref="S2.Ex1.m1.2.3.2.cmml"><mtext id="S2.Ex1.m1.2.3.2.2" xref="S2.Ex1.m1.2.3.2.2a.cmml">Contextual Retriever</mtext><mo id="S2.Ex1.m1.2.3.2.1" xref="S2.Ex1.m1.2.3.2.1.cmml">⁢</mo><mrow id="S2.Ex1.m1.2.3.2.3.2" xref="S2.Ex1.m1.2.3.2.3.1.cmml"><mo id="S2.Ex1.m1.2.3.2.3.2.1" stretchy="false" xref="S2.Ex1.m1.2.3.2.3.1.cmml">(</mo><mi id="S2.Ex1.m1.1.1" xref="S2.Ex1.m1.1.1.cmml">𝐪</mi><mo id="S2.Ex1.m1.2.3.2.3.2.2" xref="S2.Ex1.m1.2.3.2.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S2.Ex1.m1.2.2" xref="S2.Ex1.m1.2.2.cmml">𝒟</mi><mo id="S2.Ex1.m1.2.3.2.3.2.3" stretchy="false" xref="S2.Ex1.m1.2.3.2.3.1.cmml">)</mo></mrow></mrow><mo id="S2.Ex1.m1.2.3.1" stretchy="false" xref="S2.Ex1.m1.2.3.1.cmml">→</mo><msub id="S2.Ex1.m1.2.3.3" xref="S2.Ex1.m1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.Ex1.m1.2.3.3.2" xref="S2.Ex1.m1.2.3.3.2.cmml">ℛ</mi><mi id="S2.Ex1.m1.2.3.3.3" xref="S2.Ex1.m1.2.3.3.3.cmml">𝐪</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1.m1.2b"><apply id="S2.Ex1.m1.2.3.cmml" xref="S2.Ex1.m1.2.3"><ci id="S2.Ex1.m1.2.3.1.cmml" xref="S2.Ex1.m1.2.3.1">→</ci><apply id="S2.Ex1.m1.2.3.2.cmml" xref="S2.Ex1.m1.2.3.2"><times id="S2.Ex1.m1.2.3.2.1.cmml" xref="S2.Ex1.m1.2.3.2.1"></times><ci id="S2.Ex1.m1.2.3.2.2a.cmml" xref="S2.Ex1.m1.2.3.2.2"><mtext id="S2.Ex1.m1.2.3.2.2.cmml" xref="S2.Ex1.m1.2.3.2.2">Contextual Retriever</mtext></ci><interval closure="open" id="S2.Ex1.m1.2.3.2.3.1.cmml" xref="S2.Ex1.m1.2.3.2.3.2"><ci id="S2.Ex1.m1.1.1.cmml" xref="S2.Ex1.m1.1.1">𝐪</ci><ci id="S2.Ex1.m1.2.2.cmml" xref="S2.Ex1.m1.2.2">𝒟</ci></interval></apply><apply id="S2.Ex1.m1.2.3.3.cmml" xref="S2.Ex1.m1.2.3.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.3.3.1.cmml" xref="S2.Ex1.m1.2.3.3">subscript</csymbol><ci id="S2.Ex1.m1.2.3.3.2.cmml" xref="S2.Ex1.m1.2.3.3.2">ℛ</ci><ci id="S2.Ex1.m1.2.3.3.3.cmml" xref="S2.Ex1.m1.2.3.3.3">𝐪</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1.m1.2c">\text{Contextual Retriever}(\mathbf{q},\mathcal{D})\rightarrow{\mathcal{R}_{%
\mathbf{q}}}</annotation><annotation encoding="application/x-llamapun" id="S2.Ex1.m1.2d">Contextual Retriever ( bold_q , caligraphic_D ) → caligraphic_R start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S2.Ex2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{LLM}_{P}(\mathbf{q},{\mathcal{R}_{\mathbf{q}}})\rightarrow\text{answer}" class="ltx_Math" display="block" id="S2.Ex2.m1.2"><semantics id="S2.Ex2.m1.2a"><mrow id="S2.Ex2.m1.2.2" xref="S2.Ex2.m1.2.2.cmml"><mrow id="S2.Ex2.m1.2.2.1" xref="S2.Ex2.m1.2.2.1.cmml"><msub id="S2.Ex2.m1.2.2.1.3" xref="S2.Ex2.m1.2.2.1.3.cmml"><mtext id="S2.Ex2.m1.2.2.1.3.2" xref="S2.Ex2.m1.2.2.1.3.2a.cmml">LLM</mtext><mi id="S2.Ex2.m1.2.2.1.3.3" xref="S2.Ex2.m1.2.2.1.3.3.cmml">P</mi></msub><mo id="S2.Ex2.m1.2.2.1.2" xref="S2.Ex2.m1.2.2.1.2.cmml">⁢</mo><mrow id="S2.Ex2.m1.2.2.1.1.1" xref="S2.Ex2.m1.2.2.1.1.2.cmml"><mo id="S2.Ex2.m1.2.2.1.1.1.2" stretchy="false" xref="S2.Ex2.m1.2.2.1.1.2.cmml">(</mo><mi id="S2.Ex2.m1.1.1" xref="S2.Ex2.m1.1.1.cmml">𝐪</mi><mo id="S2.Ex2.m1.2.2.1.1.1.3" xref="S2.Ex2.m1.2.2.1.1.2.cmml">,</mo><msub id="S2.Ex2.m1.2.2.1.1.1.1" xref="S2.Ex2.m1.2.2.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.Ex2.m1.2.2.1.1.1.1.2" xref="S2.Ex2.m1.2.2.1.1.1.1.2.cmml">ℛ</mi><mi id="S2.Ex2.m1.2.2.1.1.1.1.3" xref="S2.Ex2.m1.2.2.1.1.1.1.3.cmml">𝐪</mi></msub><mo id="S2.Ex2.m1.2.2.1.1.1.4" stretchy="false" xref="S2.Ex2.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.Ex2.m1.2.2.2" stretchy="false" xref="S2.Ex2.m1.2.2.2.cmml">→</mo><mtext id="S2.Ex2.m1.2.2.3" xref="S2.Ex2.m1.2.2.3a.cmml">answer</mtext></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex2.m1.2b"><apply id="S2.Ex2.m1.2.2.cmml" xref="S2.Ex2.m1.2.2"><ci id="S2.Ex2.m1.2.2.2.cmml" xref="S2.Ex2.m1.2.2.2">→</ci><apply id="S2.Ex2.m1.2.2.1.cmml" xref="S2.Ex2.m1.2.2.1"><times id="S2.Ex2.m1.2.2.1.2.cmml" xref="S2.Ex2.m1.2.2.1.2"></times><apply id="S2.Ex2.m1.2.2.1.3.cmml" xref="S2.Ex2.m1.2.2.1.3"><csymbol cd="ambiguous" id="S2.Ex2.m1.2.2.1.3.1.cmml" xref="S2.Ex2.m1.2.2.1.3">subscript</csymbol><ci id="S2.Ex2.m1.2.2.1.3.2a.cmml" xref="S2.Ex2.m1.2.2.1.3.2"><mtext id="S2.Ex2.m1.2.2.1.3.2.cmml" xref="S2.Ex2.m1.2.2.1.3.2">LLM</mtext></ci><ci id="S2.Ex2.m1.2.2.1.3.3.cmml" xref="S2.Ex2.m1.2.2.1.3.3">𝑃</ci></apply><interval closure="open" id="S2.Ex2.m1.2.2.1.1.2.cmml" xref="S2.Ex2.m1.2.2.1.1.1"><ci id="S2.Ex2.m1.1.1.cmml" xref="S2.Ex2.m1.1.1">𝐪</ci><apply id="S2.Ex2.m1.2.2.1.1.1.1.cmml" xref="S2.Ex2.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex2.m1.2.2.1.1.1.1.1.cmml" xref="S2.Ex2.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S2.Ex2.m1.2.2.1.1.1.1.2.cmml" xref="S2.Ex2.m1.2.2.1.1.1.1.2">ℛ</ci><ci id="S2.Ex2.m1.2.2.1.1.1.1.3.cmml" xref="S2.Ex2.m1.2.2.1.1.1.1.3">𝐪</ci></apply></interval></apply><ci id="S2.Ex2.m1.2.2.3a.cmml" xref="S2.Ex2.m1.2.2.3"><mtext id="S2.Ex2.m1.2.2.3.cmml" xref="S2.Ex2.m1.2.2.3">answer</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex2.m1.2c">\text{LLM}_{P}(\mathbf{q},{\mathcal{R}_{\mathbf{q}}})\rightarrow\text{answer}</annotation><annotation encoding="application/x-llamapun" id="S2.Ex2.m1.2d">LLM start_POSTSUBSCRIPT italic_P end_POSTSUBSCRIPT ( bold_q , caligraphic_R start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ) → answer</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S2.SS1.p3">
<p class="ltx_p" id="S2.SS1.p3.7"><span class="ltx_text ltx_font_bold" id="S2.SS1.p3.7.1">Contextual Retriever</span>: The contextual retriever module locates relevant information from an external knowledge repository, returning a corresponding context set <math alttext="{\mathcal{R}_{q}}" class="ltx_Math" display="inline" id="S2.SS1.p3.1.m1.1"><semantics id="S2.SS1.p3.1.m1.1a"><msub id="S2.SS1.p3.1.m1.1.1" xref="S2.SS1.p3.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p3.1.m1.1.1.2" xref="S2.SS1.p3.1.m1.1.1.2.cmml">ℛ</mi><mi id="S2.SS1.p3.1.m1.1.1.3" xref="S2.SS1.p3.1.m1.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.1.m1.1b"><apply id="S2.SS1.p3.1.m1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p3.1.m1.1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="S2.SS1.p3.1.m1.1.1.2.cmml" xref="S2.SS1.p3.1.m1.1.1.2">ℛ</ci><ci id="S2.SS1.p3.1.m1.1.1.3.cmml" xref="S2.SS1.p3.1.m1.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.1.m1.1c">{\mathcal{R}_{q}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p3.1.m1.1d">caligraphic_R start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT</annotation></semantics></math>. Typically, RAG architectures incorporate a bi-encoder retriever such as DPR <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib7" title="">2020</a>)</cite>, known for its efficiency and accuracy in information retrieval.
The Contextual Retriever module often includes a reranking step. First, the top-<math alttext="k^{\prime}" class="ltx_Math" display="inline" id="S2.SS1.p3.2.m2.1"><semantics id="S2.SS1.p3.2.m2.1a"><msup id="S2.SS1.p3.2.m2.1.1" xref="S2.SS1.p3.2.m2.1.1.cmml"><mi id="S2.SS1.p3.2.m2.1.1.2" xref="S2.SS1.p3.2.m2.1.1.2.cmml">k</mi><mo id="S2.SS1.p3.2.m2.1.1.3" xref="S2.SS1.p3.2.m2.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.2.m2.1b"><apply id="S2.SS1.p3.2.m2.1.1.cmml" xref="S2.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p3.2.m2.1.1.1.cmml" xref="S2.SS1.p3.2.m2.1.1">superscript</csymbol><ci id="S2.SS1.p3.2.m2.1.1.2.cmml" xref="S2.SS1.p3.2.m2.1.1.2">𝑘</ci><ci id="S2.SS1.p3.2.m2.1.1.3.cmml" xref="S2.SS1.p3.2.m2.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.2.m2.1c">k^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p3.2.m2.1d">italic_k start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> items are retrieved using a bi-encoder retriever. Then, all <math alttext="k^{\prime}" class="ltx_Math" display="inline" id="S2.SS1.p3.3.m3.1"><semantics id="S2.SS1.p3.3.m3.1a"><msup id="S2.SS1.p3.3.m3.1.1" xref="S2.SS1.p3.3.m3.1.1.cmml"><mi id="S2.SS1.p3.3.m3.1.1.2" xref="S2.SS1.p3.3.m3.1.1.2.cmml">k</mi><mo id="S2.SS1.p3.3.m3.1.1.3" xref="S2.SS1.p3.3.m3.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.3.m3.1b"><apply id="S2.SS1.p3.3.m3.1.1.cmml" xref="S2.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS1.p3.3.m3.1.1.1.cmml" xref="S2.SS1.p3.3.m3.1.1">superscript</csymbol><ci id="S2.SS1.p3.3.m3.1.1.2.cmml" xref="S2.SS1.p3.3.m3.1.1.2">𝑘</ci><ci id="S2.SS1.p3.3.m3.1.1.3.cmml" xref="S2.SS1.p3.3.m3.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.3.m3.1c">k^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p3.3.m3.1d">italic_k start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> items will be reranked using a cross-encoder model that outputs a similarity score between <math alttext="q" class="ltx_Math" display="inline" id="S2.SS1.p3.4.m4.1"><semantics id="S2.SS1.p3.4.m4.1a"><mi id="S2.SS1.p3.4.m4.1.1" xref="S2.SS1.p3.4.m4.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.4.m4.1b"><ci id="S2.SS1.p3.4.m4.1.1.cmml" xref="S2.SS1.p3.4.m4.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.4.m4.1c">q</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p3.4.m4.1d">italic_q</annotation></semantics></math> and each item. The top <math alttext="k&lt;k^{\prime}" class="ltx_Math" display="inline" id="S2.SS1.p3.5.m5.1"><semantics id="S2.SS1.p3.5.m5.1a"><mrow id="S2.SS1.p3.5.m5.1.1" xref="S2.SS1.p3.5.m5.1.1.cmml"><mi id="S2.SS1.p3.5.m5.1.1.2" xref="S2.SS1.p3.5.m5.1.1.2.cmml">k</mi><mo id="S2.SS1.p3.5.m5.1.1.1" xref="S2.SS1.p3.5.m5.1.1.1.cmml">&lt;</mo><msup id="S2.SS1.p3.5.m5.1.1.3" xref="S2.SS1.p3.5.m5.1.1.3.cmml"><mi id="S2.SS1.p3.5.m5.1.1.3.2" xref="S2.SS1.p3.5.m5.1.1.3.2.cmml">k</mi><mo id="S2.SS1.p3.5.m5.1.1.3.3" xref="S2.SS1.p3.5.m5.1.1.3.3.cmml">′</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.5.m5.1b"><apply id="S2.SS1.p3.5.m5.1.1.cmml" xref="S2.SS1.p3.5.m5.1.1"><lt id="S2.SS1.p3.5.m5.1.1.1.cmml" xref="S2.SS1.p3.5.m5.1.1.1"></lt><ci id="S2.SS1.p3.5.m5.1.1.2.cmml" xref="S2.SS1.p3.5.m5.1.1.2">𝑘</ci><apply id="S2.SS1.p3.5.m5.1.1.3.cmml" xref="S2.SS1.p3.5.m5.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p3.5.m5.1.1.3.1.cmml" xref="S2.SS1.p3.5.m5.1.1.3">superscript</csymbol><ci id="S2.SS1.p3.5.m5.1.1.3.2.cmml" xref="S2.SS1.p3.5.m5.1.1.3.2">𝑘</ci><ci id="S2.SS1.p3.5.m5.1.1.3.3.cmml" xref="S2.SS1.p3.5.m5.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.5.m5.1c">k&lt;k^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p3.5.m5.1d">italic_k &lt; italic_k start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> results are returned.
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S2.SS1.p3.7.2">Answer Generator</span>: The generator component, which often leverages a sequence-to-sequence model, receives both the question and the context as inputs. It then generates an answer <math alttext="y_{j,\mathbf{q}}" class="ltx_Math" display="inline" id="S2.SS1.p3.6.m6.2"><semantics id="S2.SS1.p3.6.m6.2a"><msub id="S2.SS1.p3.6.m6.2.3" xref="S2.SS1.p3.6.m6.2.3.cmml"><mi id="S2.SS1.p3.6.m6.2.3.2" xref="S2.SS1.p3.6.m6.2.3.2.cmml">y</mi><mrow id="S2.SS1.p3.6.m6.2.2.2.4" xref="S2.SS1.p3.6.m6.2.2.2.3.cmml"><mi id="S2.SS1.p3.6.m6.1.1.1.1" xref="S2.SS1.p3.6.m6.1.1.1.1.cmml">j</mi><mo id="S2.SS1.p3.6.m6.2.2.2.4.1" xref="S2.SS1.p3.6.m6.2.2.2.3.cmml">,</mo><mi id="S2.SS1.p3.6.m6.2.2.2.2" xref="S2.SS1.p3.6.m6.2.2.2.2.cmml">𝐪</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.6.m6.2b"><apply id="S2.SS1.p3.6.m6.2.3.cmml" xref="S2.SS1.p3.6.m6.2.3"><csymbol cd="ambiguous" id="S2.SS1.p3.6.m6.2.3.1.cmml" xref="S2.SS1.p3.6.m6.2.3">subscript</csymbol><ci id="S2.SS1.p3.6.m6.2.3.2.cmml" xref="S2.SS1.p3.6.m6.2.3.2">𝑦</ci><list id="S2.SS1.p3.6.m6.2.2.2.3.cmml" xref="S2.SS1.p3.6.m6.2.2.2.4"><ci id="S2.SS1.p3.6.m6.1.1.1.1.cmml" xref="S2.SS1.p3.6.m6.1.1.1.1">𝑗</ci><ci id="S2.SS1.p3.6.m6.2.2.2.2.cmml" xref="S2.SS1.p3.6.m6.2.2.2.2">𝐪</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.6.m6.2c">y_{j,\mathbf{q}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p3.6.m6.2d">italic_y start_POSTSUBSCRIPT italic_j , bold_q end_POSTSUBSCRIPT</annotation></semantics></math> with the likelihood <math alttext="P_{G}(y_{j,\mathbf{q}}\mid\mathbf{q},r_{j,\mathbf{q}})" class="ltx_Math" display="inline" id="S2.SS1.p3.7.m7.6"><semantics id="S2.SS1.p3.7.m7.6a"><mrow id="S2.SS1.p3.7.m7.6.6" xref="S2.SS1.p3.7.m7.6.6.cmml"><msub id="S2.SS1.p3.7.m7.6.6.3" xref="S2.SS1.p3.7.m7.6.6.3.cmml"><mi id="S2.SS1.p3.7.m7.6.6.3.2" xref="S2.SS1.p3.7.m7.6.6.3.2.cmml">P</mi><mi id="S2.SS1.p3.7.m7.6.6.3.3" xref="S2.SS1.p3.7.m7.6.6.3.3.cmml">G</mi></msub><mo id="S2.SS1.p3.7.m7.6.6.2" xref="S2.SS1.p3.7.m7.6.6.2.cmml">⁢</mo><mrow id="S2.SS1.p3.7.m7.6.6.1.1" xref="S2.SS1.p3.7.m7.6.6.1.1.1.cmml"><mo id="S2.SS1.p3.7.m7.6.6.1.1.2" stretchy="false" xref="S2.SS1.p3.7.m7.6.6.1.1.1.cmml">(</mo><mrow id="S2.SS1.p3.7.m7.6.6.1.1.1" xref="S2.SS1.p3.7.m7.6.6.1.1.1.cmml"><msub id="S2.SS1.p3.7.m7.6.6.1.1.1.3" xref="S2.SS1.p3.7.m7.6.6.1.1.1.3.cmml"><mi id="S2.SS1.p3.7.m7.6.6.1.1.1.3.2" xref="S2.SS1.p3.7.m7.6.6.1.1.1.3.2.cmml">y</mi><mrow id="S2.SS1.p3.7.m7.2.2.2.4" xref="S2.SS1.p3.7.m7.2.2.2.3.cmml"><mi id="S2.SS1.p3.7.m7.1.1.1.1" xref="S2.SS1.p3.7.m7.1.1.1.1.cmml">j</mi><mo id="S2.SS1.p3.7.m7.2.2.2.4.1" xref="S2.SS1.p3.7.m7.2.2.2.3.cmml">,</mo><mi id="S2.SS1.p3.7.m7.2.2.2.2" xref="S2.SS1.p3.7.m7.2.2.2.2.cmml">𝐪</mi></mrow></msub><mo id="S2.SS1.p3.7.m7.6.6.1.1.1.2" xref="S2.SS1.p3.7.m7.6.6.1.1.1.2.cmml">∣</mo><mrow id="S2.SS1.p3.7.m7.6.6.1.1.1.1.1" xref="S2.SS1.p3.7.m7.6.6.1.1.1.1.2.cmml"><mi id="S2.SS1.p3.7.m7.5.5" xref="S2.SS1.p3.7.m7.5.5.cmml">𝐪</mi><mo id="S2.SS1.p3.7.m7.6.6.1.1.1.1.1.2" xref="S2.SS1.p3.7.m7.6.6.1.1.1.1.2.cmml">,</mo><msub id="S2.SS1.p3.7.m7.6.6.1.1.1.1.1.1" xref="S2.SS1.p3.7.m7.6.6.1.1.1.1.1.1.cmml"><mi id="S2.SS1.p3.7.m7.6.6.1.1.1.1.1.1.2" xref="S2.SS1.p3.7.m7.6.6.1.1.1.1.1.1.2.cmml">r</mi><mrow id="S2.SS1.p3.7.m7.4.4.2.4" xref="S2.SS1.p3.7.m7.4.4.2.3.cmml"><mi id="S2.SS1.p3.7.m7.3.3.1.1" xref="S2.SS1.p3.7.m7.3.3.1.1.cmml">j</mi><mo id="S2.SS1.p3.7.m7.4.4.2.4.1" xref="S2.SS1.p3.7.m7.4.4.2.3.cmml">,</mo><mi id="S2.SS1.p3.7.m7.4.4.2.2" xref="S2.SS1.p3.7.m7.4.4.2.2.cmml">𝐪</mi></mrow></msub></mrow></mrow><mo id="S2.SS1.p3.7.m7.6.6.1.1.3" stretchy="false" xref="S2.SS1.p3.7.m7.6.6.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.7.m7.6b"><apply id="S2.SS1.p3.7.m7.6.6.cmml" xref="S2.SS1.p3.7.m7.6.6"><times id="S2.SS1.p3.7.m7.6.6.2.cmml" xref="S2.SS1.p3.7.m7.6.6.2"></times><apply id="S2.SS1.p3.7.m7.6.6.3.cmml" xref="S2.SS1.p3.7.m7.6.6.3"><csymbol cd="ambiguous" id="S2.SS1.p3.7.m7.6.6.3.1.cmml" xref="S2.SS1.p3.7.m7.6.6.3">subscript</csymbol><ci id="S2.SS1.p3.7.m7.6.6.3.2.cmml" xref="S2.SS1.p3.7.m7.6.6.3.2">𝑃</ci><ci id="S2.SS1.p3.7.m7.6.6.3.3.cmml" xref="S2.SS1.p3.7.m7.6.6.3.3">𝐺</ci></apply><apply id="S2.SS1.p3.7.m7.6.6.1.1.1.cmml" xref="S2.SS1.p3.7.m7.6.6.1.1"><csymbol cd="latexml" id="S2.SS1.p3.7.m7.6.6.1.1.1.2.cmml" xref="S2.SS1.p3.7.m7.6.6.1.1.1.2">conditional</csymbol><apply id="S2.SS1.p3.7.m7.6.6.1.1.1.3.cmml" xref="S2.SS1.p3.7.m7.6.6.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p3.7.m7.6.6.1.1.1.3.1.cmml" xref="S2.SS1.p3.7.m7.6.6.1.1.1.3">subscript</csymbol><ci id="S2.SS1.p3.7.m7.6.6.1.1.1.3.2.cmml" xref="S2.SS1.p3.7.m7.6.6.1.1.1.3.2">𝑦</ci><list id="S2.SS1.p3.7.m7.2.2.2.3.cmml" xref="S2.SS1.p3.7.m7.2.2.2.4"><ci id="S2.SS1.p3.7.m7.1.1.1.1.cmml" xref="S2.SS1.p3.7.m7.1.1.1.1">𝑗</ci><ci id="S2.SS1.p3.7.m7.2.2.2.2.cmml" xref="S2.SS1.p3.7.m7.2.2.2.2">𝐪</ci></list></apply><list id="S2.SS1.p3.7.m7.6.6.1.1.1.1.2.cmml" xref="S2.SS1.p3.7.m7.6.6.1.1.1.1.1"><ci id="S2.SS1.p3.7.m7.5.5.cmml" xref="S2.SS1.p3.7.m7.5.5">𝐪</ci><apply id="S2.SS1.p3.7.m7.6.6.1.1.1.1.1.1.cmml" xref="S2.SS1.p3.7.m7.6.6.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p3.7.m7.6.6.1.1.1.1.1.1.1.cmml" xref="S2.SS1.p3.7.m7.6.6.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS1.p3.7.m7.6.6.1.1.1.1.1.1.2.cmml" xref="S2.SS1.p3.7.m7.6.6.1.1.1.1.1.1.2">𝑟</ci><list id="S2.SS1.p3.7.m7.4.4.2.3.cmml" xref="S2.SS1.p3.7.m7.4.4.2.4"><ci id="S2.SS1.p3.7.m7.3.3.1.1.cmml" xref="S2.SS1.p3.7.m7.3.3.1.1">𝑗</ci><ci id="S2.SS1.p3.7.m7.4.4.2.2.cmml" xref="S2.SS1.p3.7.m7.4.4.2.2">𝐪</ci></list></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.7.m7.6c">P_{G}(y_{j,\mathbf{q}}\mid\mathbf{q},r_{j,\mathbf{q}})</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p3.7.m7.6d">italic_P start_POSTSUBSCRIPT italic_G end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_j , bold_q end_POSTSUBSCRIPT ∣ bold_q , italic_r start_POSTSUBSCRIPT italic_j , bold_q end_POSTSUBSCRIPT )</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Retrieval Augmented Generation (RAG) Benchmarks</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">Question-Answer Benchmarks have been introduced prior to the adoption of RAG systems, and datasets such as HotPotQA <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib23" title="">2018</a>)</cite> are still in use today. Multiple RAG-specific benchmarks have also been created to assess the quality of RAG systems. Retrieval Augmented Generation Benchmark (RGB) <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib2" title="">2023</a>)</cite> and RECALL <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib13" title="">2023</a>)</cite> are two major contributions that asses the performance of RAG models. However, these benchmarks evaluate a simple case where the answer of a query can be retrieved and solved in a general context. More complex datasets such as MultiHop-RAG <cite class="ltx_cite ltx_citemacro_citep">(Tang and Yang, <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib21" title="">2024</a>)</cite> were also introduced to assess the retrieval and reasoning capability of LLMs for complex multi-hop queries.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>LegalBench</h3>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.1">LegalBench <cite class="ltx_cite ltx_citemacro_citep">(Guha et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib5" title="">2023</a>)</cite> was introduced to enable greater study of legal reasoning capabilities of LLMs. It is a collaboratively constructed legal reasoning benchmark consisting of 162 tasks covering six different types of legal reasoning. LegalBench was built through an interdisciplinary process, in which tasks designed and hand-crafted by legal professionals were collected. Because these subject matter experts took a leading role in construction, tasks either measure legal reasoning capabilities that are practically useful, or measure reasoning skills that lawyers find interesting.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4 </span>Other legal focused benchmarks</h3>
<div class="ltx_para" id="S2.SS4.p1">
<p class="ltx_p" id="S2.SS4.p1.1">In recent years, there has been considerable research aimed at evaluating AI models’ abilities to undertake tasks traditionally handled by legal professionals <cite class="ltx_cite ltx_citemacro_citep">(Maroudas et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib14" title="">2022</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Katz et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib8" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S2.SS4.p2">
<p class="ltx_p" id="S2.SS4.p2.1">Initial studies focused on complex legal tasks, such as document review <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib22" title="">2023</a>)</cite> and case summarization <cite class="ltx_cite ltx_citemacro_citep">(Shen et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib19" title="">2022</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Shukla et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib20" title="">2022</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S2.SS4.p3">
<p class="ltx_p" id="S2.SS4.p3.1">Subsequent research efforts have been directed towards the challenges posed by legal texts, such as extensive document lengths and specialized jargon <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib12" title="">2023</a>)</cite>, <cite class="ltx_cite ltx_citemacro_citep">(Chalkidis et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib1" title="">2022</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S2.SS4.p4">
<p class="ltx_p" id="S2.SS4.p4.1">Another critical area of investigation has been the creation of tasks that assess various forms of inferential reasoning commonly required in legal contexts <cite class="ltx_cite ltx_citemacro_citep">(Chalkidis et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib1" title="">2022</a>)</cite> <cite class="ltx_cite ltx_citemacro_citep">(Guha et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib5" title="">2023</a>)</cite>.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>A Benchmarking Dataset: LegalBench-RAG</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>LegalBench-RAG Constuction</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">In this section, we provide detailed information on the construction of the LegalBench-RAG dataset. Notably, we describe the process of creating a set of Queries along with the corresponding ground truth snippets sets derived from the well-known LegalBench <cite class="ltx_cite ltx_citemacro_citep">(Guha et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib5" title="">2023</a>)</cite> dataset.</p>
</div>
<section class="ltx_subsubsection" id="S3.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.1 </span>Starting Point: LegalBench</h4>
<div class="ltx_para" id="S3.SS1.SSS1.p1">
<p class="ltx_p" id="S3.SS1.SSS1.p1.1">Our benchmark development is based on LegalBench, a collaboratively constructed legal reasoning benchmark consisting of 162 tasks covering six different types of legal reasoning. LegalBench is a widely recognized dataset that tests LLMs’ understanding of legal concepts and their legal reasoning by providing them with the exact context needed to answer legal questions. LegalBench focuses solely on evaluating the generation phase of the RAG pipeline, assessing how well the LLM can generate accurate responses given a certain context, task, and prompt. However, LegalBench does not benchmark the ability to extract the correct context from within a larger corpus. This limitation is what inspired the LegalBench-RAG benchmark.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS1.p2">
<p class="ltx_p" id="S3.SS1.SSS1.p2.1">We selected four datasets to construct our retrieval benchmark: Privacy Question Answering (PrivacyQA) <cite class="ltx_cite ltx_citemacro_citep">(Ravichander et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib18" title="">2019</a>)</cite>, Contract Understanding Atticus Dataset (CUAD) <cite class="ltx_cite ltx_citemacro_citep">(Hendrycks et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib6" title="">2021</a>)</cite>, Mergers and Acquisitions Understanding Dataset (MAUD) <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib22" title="">2023</a>)</cite> and Contract Natural Language Inference (ContractNLI) <cite class="ltx_cite ltx_citemacro_citep">(Koreeda and Manning, <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib9" title="">2021</a>)</cite>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.2 </span>Tracing Back to Original Sources</h4>
<div class="ltx_para" id="S3.SS1.SSS2.p1">
<p class="ltx_p" id="S3.SS1.SSS2.p1.1">To transform LegalBench into a retrieval benchmark, we undertook a comprehensive process to trace each text segment used in LegalBench, back to its original location within the source corpus. Each of the four source datasets used is unique, but in general, the datasets have categorical annotations and associated context clauses for each annotation. Our desired output is a pairing between queries and relevant spans, where each span is a range of characters in the original corpus. Creating this dataset involved searching in the original corpus for the context clauses, in order to deduce the index span implied. And, it involved transforming annotations into queries. By creating these pairings between queries and lists of relevant spans, we ensured that the benchmark accurately reflects the retrieval capabilities needed to locate exactly the relevant information within a large legal corpus. This detailed index mapping is critical for evaluating retrieval-based models within the legal domain.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS1.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.3 </span>Construction Process</h4>
<div class="ltx_para" id="S3.SS1.SSS3.p1">
<p class="ltx_p" id="S3.SS1.SSS3.p1.1">Each of the four source datasets is converted into LegalBench-RAG queries through a slightly different process, but all four follow a similar formula.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS3.p2">
<p class="ltx_p" id="S3.SS1.SSS3.p2.1">First, as a pre-processing step, we must create unique descriptions of every document in the corpus, and we must create a mapping between annotation categories and interrogatives.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS3.p3">
<p class="ltx_p" id="S3.SS1.SSS3.p3.1">From there, we can now generate our queries. A full LegalBench-RAG query is constructed using the format:</p>
<blockquote class="ltx_quote" id="S3.SS1.SSS3.p3.2">
<p class="ltx_p" id="S3.SS1.SSS3.p3.2.1"><span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS3.p3.2.1.1">"Consider <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS3.p3.2.1.1.1">(document_description)</span>; <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS3.p3.2.1.1.2">(interrogative)</span>"</span></p>
</blockquote>
<p class="ltx_p" id="S3.SS1.SSS3.p3.3">Therefore, every query is a combination of the document description, and an interrogative. Each individual query in LegalBench-RAG originates from an individual annotation in the source dataset. The annotation itself provides the document ID and annotation category, which we convert into a description and interrogative using our pre-processed mappings.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS1.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.4 </span>Example Annotations</h4>
<div class="ltx_para" id="S3.SS1.SSS4.p1">
<p class="ltx_p" id="S3.SS1.SSS4.p1.1">For instance, consider the Contract Understanding Atticus Dataset (CUAD) ”Affiliate License-Licensee” task from LegalBench.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS4.p2">
<p class="ltx_p" id="S3.SS1.SSS4.p2.1">The goal of this task is to classify if a clause describes a license grant to a licensee (incl. sublicensor) and the affiliates of such licensee/sublicensor.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS4.p3">
<p class="ltx_p" id="S3.SS1.SSS4.p3.1">In LegalBench, a query appears as follows:</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.SSS4.p4">
<blockquote class="ltx_quote" id="S3.SS1.SSS4.p4.1">
<p class="ltx_p" id="S3.SS1.SSS4.p4.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.SS1.SSS4.p4.1.1.1">Query<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p4.1.1.1.1">: Does the clause describe a license grant to a licensee (incl. sublicensor) and the affiliates of such licensee/sublicensor?</span></span>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.SS1.SSS4.p4.1.1.2">Clause<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p4.1.1.2.1">: Supplier hereby grants Bank of America a nonexclusive, (…) restrictions of this Section. 
<br class="ltx_break"/></span>Label<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p4.1.1.2.2">: Yes</span></span>
<br class="ltx_break"/></p>
<p class="ltx_p" id="S3.SS1.SSS4.p4.1.2"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.SS1.SSS4.p4.1.2.1">Query<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p4.1.2.1.1">: Does the clause describe a license grant to a licensee (incl. sublicensor) and the affiliates of such licensee/sublicensor?</span></span>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.SS1.SSS4.p4.1.2.2">Clause<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p4.1.2.2.1">: Promptly upon receipt of notice from Pfizer, Exact and Pfizer shall engage in exclusive good faith negotiations to enter into a definitive written agreement for the Ex-US Commercial Rights.
<br class="ltx_break"/></span>Label<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p4.1.2.2.2">: No</span></span></p>
</blockquote>
</div>
<div class="ltx_para" id="S3.SS1.SSS4.p5">
<p class="ltx_p" id="S3.SS1.SSS4.p5.1">In the original CUAD dataset, annotations appear as follows:</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.SSS4.p6">
<blockquote class="ltx_quote" id="S3.SS1.SSS4.p6.1">
<p class="ltx_p" id="S3.SS1.SSS4.p6.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.SS1.SSS4.p6.1.1.1">Clause<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p6.1.1.1.1">: Supplier hereby grants Bank of America a nonexclusive, (…) restrictions of this Section. 
<br class="ltx_break"/></span>File<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p6.1.1.1.2">: </span></span><span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS4.p6.1.1.2">CardlyticsInc_20180112_S-1_EX-
<br class="ltx_break"/>10.16_11002987_EX-10.16_Maintenance Agreement1.pdf
<br class="ltx_break"/></span>
<span class="ltx_text ltx_font_bold" id="S3.SS1.SSS4.p6.1.1.3">Label</span>: Irrevocable Or Perpetual License
<br class="ltx_break"/></p>
<p class="ltx_p" id="S3.SS1.SSS4.p6.1.2"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.SS1.SSS4.p6.1.2.1">Clause<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p6.1.2.1.1">: Promptly upon receipt of notice from Pfizer, Exact and Pfizer shall engage in exclusive good faith negotiations to enter into a definitive written agreement for the Ex-US Commercial Rights. 
<br class="ltx_break"/></span>File<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p6.1.2.1.2">: </span></span><span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS4.p6.1.2.2">ExactSciencesCorp_20180822_8-K
<br class="ltx_break"/>_EX-10.1_11331629_EX-10.1_Promotion Agreement.pdf
<br class="ltx_break"/></span>
<span class="ltx_text ltx_font_bold" id="S3.SS1.SSS4.p6.1.2.3">Label</span>: Rofr/Rofo/Rofn
<br class="ltx_break"/></p>
</blockquote>
</div>
<div class="ltx_para" id="S3.SS1.SSS4.p7">
<p class="ltx_p" id="S3.SS1.SSS4.p7.1">In our LegalBench-RAG dataset, queries appear as follows:</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.SSS4.p8">
<blockquote class="ltx_quote" id="S3.SS1.SSS4.p8.1">
<p class="ltx_p" id="S3.SS1.SSS4.p8.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.SS1.SSS4.p8.1.1.1">Query<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p8.1.1.1.1">: Consider the Software License, Customization, and Maintenance Agreement between Cardlytics, Inc. and Bank of America; Are the licenses granted under this contract non-transferable?
<br class="ltx_break"/></span>Label (File)<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p8.1.1.1.2">: </span></span><span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS4.p8.1.1.2">CardlyticsInc_20180112_S-1
<br class="ltx_break"/>_EX-10.16_11002987_EX-10.16_Maintenance Agreement1.txt
<br class="ltx_break"/></span><span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.SS1.SSS4.p8.1.1.3">Label (Span)</span>: <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS4.p8.1.1.4">[44579, 45211]</span>
<br class="ltx_break"/></p>
<p class="ltx_p" id="S3.SS1.SSS4.p8.1.2"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.SS1.SSS4.p8.1.2.1">Query<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p8.1.2.1.1">: Consider the Cologuard Promotion Agreement between Exact Sciences Corporation and Pfizer Inc.; Does this contract include any right of first refusal, right of first offer, or right of first negotiation?
<br class="ltx_break"/></span>Label (File)<span class="ltx_text ltx_font_medium" id="S3.SS1.SSS4.p8.1.2.1.2">: </span></span><span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS4.p8.1.2.2">ExactSciencesCorp_20180822_8
<br class="ltx_break"/>-K_EX-10.1_11331629_EX-10.1_Promotion Agreement.txt
<br class="ltx_break"/></span><span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.SS1.SSS4.p8.1.2.3">Label (Span)</span>: <span class="ltx_text ltx_font_typewriter" id="S3.SS1.SSS4.p8.1.2.4">[51520, 52804]</span></p>
</blockquote>
</div>
<div class="ltx_para" id="S3.SS1.SSS4.p9">
<p class="ltx_p" id="S3.SS1.SSS4.p9.1">Notice the distinguishing characteristics between LegalBench and LegalBench-RAG. LegalBench will take a given query, and convert the annotation label from the CUAD dataset, into a Yes/No label based on whether or not the label matches the query. LegalBench-RAG on the other hand, will ask the same query, and the label will be the filename and span of the relevant text necessary to answer to the query.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS4.p10">
<p class="ltx_p" id="S3.SS1.SSS4.p10.1">A detail omitted for brevity, is that LegalBench-RAG labels will be not be a single filename and index range, but rather an array of (filename, index range) tuples, as the source dataset has annotations that are sets of non-adjacent spans.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Quality Control</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">Quality control is of crucial importance for any RAG benchmark, to ensure trust in recall and precision scores. All of the annotations themselves were created by domain-experts via the methods described by our four source datasets. On top of this, our team conducted a thorough manual inspection of every data point in the dataset, employing the process described below. Quality control was rigorously applied at three critical decision points:</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.1.1">Mapping Annotation Categories to Interrogatives </span>
<br class="ltx_break"/>The first step involved creating a mapping from annotation categories to interrogatives. Unlike the original LegalBench, where questions could be directly utilized, LegalBench-RAG necessitates that all text relevant to the query is included in the annotation, while irrelevant text is excluded. To meet these stringent criteria, we manually constructed a mapping where the relevant text would align precisely with the domain experts’ annotations. Categories with inconsistent annotation precision were excluded entirely from our dataset.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p3.1.1">Mapping Document IDs to Descriptions</span>
<br class="ltx_break"/>Second, we created the mapping from document IDs to document descriptions. For this, we utilized <span class="ltx_text ltx_font_italic" id="S3.SS2.p3.1.2">GPT-4o-mini</span> to automatically create a short description for each document, utilizing the file name and approximate first and last paragraphs of the document. For consistency, the model was given explicit instructions on how to format its description, and regular expressions (regex) was used to validate the output format. Each description was then manually inspected. We also used embedding similarity on every pair of document descriptions to find pairs of most similar descriptions, manually excluding any pairs that could not be distinctly differentiated.</p>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p4.1.1">Selection of Annotation Categories</span>
<br class="ltx_break"/>The final decision point was determining which annotation categories to include. This decision was informed by our manual evaluations of the precision levels across categories, with inconsistent categories being excluded to preserve the integrity of the benchmark.</p>
</div>
<div class="ltx_para" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.1">Through these quality control measures, we have verified the robustness and reliability of the LegalBench-RAG dataset, ensuring that each critical decision point aligns with the intended benchmark standards.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Dataset Structure</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">The LegalBench-RAG benchmark is structured around two primary components: the original corpus and the QA pairs.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.1">The corpus includes the documents from our four source datasets. It excludes documents that were not asked by at least one query in LegalBench-RAG. Additionally, every document is in .txt format, utilizing the txt files provided by the source datasets. We opt to utilize the original uncleaned, often messy, file names representative of file names found in the industry.</p>
</div>
<div class="ltx_para" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.1">The QA pairs are directly linked to the documents within the corpus. <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#A1" title="Appendix A Appendix A ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain">Appendix A</a> provides a detailed structure of these QA pairs. Each query is associated with a list of relevant snippets extracted from the different documents in the corpus that directly answer the query. For each snippet, the file path, the exact quote, and the precise character indices within the document are provided, ensuring a clear reference to the original source. This detailed mapping is crucial for accurately assessing retrieval capabilities within the LegalBench-RAG benchmark.</p>
</div>
<section class="ltx_subsubsection" id="S3.SS3.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.3.1 </span>Descriptive Statistics</h4>
<div class="ltx_para" id="S3.SS3.SSS1.p1">
<p class="ltx_p" id="S3.SS3.SSS1.p1.1">LegalBench-RAG is composed of 4 datasets and totals almost 80 million characters in its corpus across 714 documents. Each pair is annotated by legal experts, ensuring the highest accuracy and relevance for this benchmark. We extract 6,889 question-answer pairs which constitutes our retrieval benchmark. The outcome is a robust dataset that we call LegalBench-RAG. The statistics regarding this corpus are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.T2" title="Table 2 ‣ 3.3.2 LegalBench-RAG and LegalBench-RAG-mini ‣ 3.3 Dataset Structure ‣ 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS3.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.3.2 </span>LegalBench-RAG and LegalBench-RAG-mini</h4>
<div class="ltx_para" id="S3.SS3.SSS2.p1">
<p class="ltx_p" id="S3.SS3.SSS2.p1.1">Given the consequent size of LegalBench-RAG, this paper also introduces LegalBench-RAG-mini, a more lightweight version of the benchmark we proposed. LegalBench-RAG-mini was created by selecting exactly 194 queries from each of the four datasets PrivacyQA, CUAD, MAUD and ContractNLI. We select the portions of the corpus corresponding to these queries accordingly. This results in a dataset of 776 queries as described in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S3.T3" title="Table 3 ‣ 3.3.2 LegalBench-RAG and LegalBench-RAG-mini ‣ 3.3 Dataset Structure ‣ 3 A Benchmarking Dataset: LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<figure class="ltx_table" id="S3.T2">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T2.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T2.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="S3.T2.1.1.1.1"></th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T2.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S3.T2.1.1.1.2.1">ContractNLI</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T2.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S3.T2.1.1.1.3.1">MAUD</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T2.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S3.T2.1.1.1.4.1">CUAD</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T2.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S3.T2.1.1.1.5.1">PrivacyQA</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt" id="S3.T2.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S3.T2.1.1.1.6.1">Total</span></td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S3.T2.1.2.2.1"><span class="ltx_text ltx_font_bold" id="S3.T2.1.2.2.1.1">Number of Documents</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.2.2.2">95</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.2.2.3">150</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.2.2.4">462</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.2.2.5">7</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S3.T2.1.2.2.6">714</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S3.T2.1.3.3.1"><span class="ltx_text ltx_font_bold" id="S3.T2.1.3.3.1.1">Number of Corpus Characters</span></th>
<td class="ltx_td ltx_align_center" id="S3.T2.1.3.3.2">1,013,969</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.3.3.3">52,721,337</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.3.3.4">25,792,044</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.3.3.5">176,864</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T2.1.3.3.6">79,704,214</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S3.T2.1.4.4.1"><span class="ltx_text ltx_font_bold" id="S3.T2.1.4.4.1.1">Average Document Length</span></th>
<td class="ltx_td ltx_align_center" id="S3.T2.1.4.4.2">10,673</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.4.4.3">351,476</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.4.4.4">55,827</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.4.4.5">25,266</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T2.1.4.4.6">443,242</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S3.T2.1.5.5.1"><span class="ltx_text ltx_font_bold" id="S3.T2.1.5.5.1.1">Number of Queries</span></th>
<td class="ltx_td ltx_align_center" id="S3.T2.1.5.5.2">977</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.5.5.3">1,676</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.5.5.4">4,042</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.5.5.5">194</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T2.1.5.5.6">6,889</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S3.T2.1.6.6.1"><span class="ltx_text ltx_font_bold" id="S3.T2.1.6.6.1.1">Link</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T2.1.6.6.2"><a class="ltx_ref ltx_href" href="https://aclanthology.org/2021.findings-emnlp.164/" title="">ContractNLI</a></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T2.1.6.6.3"><a class="ltx_ref ltx_href" href="https://www.atticusprojectai.org/maud" title="">MAUD</a></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T2.1.6.6.4"><a class="ltx_ref ltx_href" href="https://www.atticusprojectai.org/cuad" title="">CUAD</a></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T2.1.6.6.5"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/1911.00841" title="">PrivacyQA</a></td>
<td class="ltx_td ltx_border_bb" id="S3.T2.1.6.6.6"></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Dataset Statistics</figcaption>
</figure>
<figure class="ltx_table" id="S3.T3">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T3.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T3.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_t" id="S3.T3.1.1.1.1"></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.1.2.1">ContractNLI</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.1.3.1">MAUD</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.1.4.1">CUAD</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.1.5.1">PrivacyQA</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S3.T3.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S3.T3.1.1.1.6.1">Total</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S3.T3.1.2.2.1"><span class="ltx_text ltx_font_bold" id="S3.T3.1.2.2.1.1">Number of Documents</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.1.2.2.2">18</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.1.2.2.3">18</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.1.2.2.4">29</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.1.2.2.5">7</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S3.T3.1.2.2.6">72</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S3.T3.1.3.3.1"><span class="ltx_text ltx_font_bold" id="S3.T3.1.3.3.1.1">Number of Corpus Characters</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.1.3.3.2">184,267</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.1.3.3.3">7,109,200</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.1.3.3.4">1,211,773</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T3.1.3.3.5">176,864</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S3.T3.1.3.3.6">8,682,104</td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_t" id="S3.T3.1.4.4.1"><span class="ltx_text ltx_font_bold" id="S3.T3.1.4.4.1.1">Number of Queries</span></th>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S3.T3.1.4.4.2">194</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S3.T3.1.4.4.3">194</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S3.T3.1.4.4.4">194</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S3.T3.1.4.4.5">194</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_b ltx_border_t" id="S3.T3.1.4.4.6">776</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Summary of datasets in LegalBench-RAG-mini, including the number of documents, corpus characters, and queries.</figcaption>
</figure>
</section>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Significance of this work</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">Creating datasets in the legal space is a difficult, time-consuming and costly task. For instance, The CUAD dataset alone, was a year-long effort that required the expertise of over 40 lawyers to generate 13,000 annotations. Given that 9,283 pages were reviewed at least 4 times, that each page required 5-10 minutes of review, and assuming a rate of $500 per hour for legal expertise, then we can estimate that the creation of the CUAD dataset would cost around $2,000,000 to replicate.</p>
</div>
<div class="ltx_para" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.1">LegalBench-RAG is the first publicly available retrieval-focused legal benchmark, and can be used for both commercial and academic purposes to assess the quality of the retrieval step of RAG pipelines on legal tasks. We hope that the introduction of this dataset allows the industry to more easily compare and iterate upon the plethora of RAG techniques available today, by providing a standardized evaluation framework for these techniques.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.5 </span>Limitations</h3>
<div class="ltx_para" id="S3.SS5.p1">
<p class="ltx_p" id="S3.SS5.p1.1">We make note of the several limitations of this dataset. Our four source datasets include NDAs, M&amp;A agreements, various commercial contracts, and the privacy policies of consumer-facing online companies. While this is broad, this dataset is not made of an exhaustive list of all existing documents in the legal industry. For example, this benchmark does not assess structured numerical data parsing, which is relevant for cases involving financial fraud. It also does not assess the parsing and analyzing of medical records, which is relevant in personal injury suits.</p>
</div>
<div class="ltx_para" id="S3.SS5.p2">
<p class="ltx_p" id="S3.SS5.p2.1">Notably, the queries in this benchmark are always answered by exactly one document, so this benchmark does not assess the ability of a retrieval system to reason across information found in multiple documents. It only assesses the ability of a retrieval system to select the correct document, and then the correct snippets within that document.</p>
</div>
<div class="ltx_para" id="S3.SS5.p3">
<p class="ltx_p" id="S3.SS5.p3.1">Through manual inspection, we were able to find several queries that do require multi-hop reasoning, which is a difficult task to achieve. However, there is room to create even more complexr queries that require a very high number of hops to generate the correct snippets.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Benchmarking RAG systems using LegalBench-RAG</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">A typical RAG system operates in two phases: the retrieval phase and the generation phase. LegalBench-RAG is designed to assess the effectiveness of the retrieval phase, while the original LegalBench can be utilized to evaluate the performance of the generation phase. In this section, we demonstrate how LegalBench-RAG can be employed to measure the quality of retrieval.
The code to run the benchmark is publicly available <a class="ltx_ref ltx_href" href="https://github.com/zeroentropy-cc/legalbenchrag" title="">here</a>.
<br class="ltx_break"/>All the experiments conducted in this work are run on LegalBench-RAG-mini.</p>
</div>
<figure class="ltx_table" id="S4.T4">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T4.2">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T4.2.2">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T4.2.2.3"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="7" id="S4.T4.1.1.1">Precision @ <math alttext="k" class="ltx_Math" display="inline" id="S4.T4.1.1.1.m1.1"><semantics id="S4.T4.1.1.1.m1.1a"><mi id="S4.T4.1.1.1.m1.1.1" xref="S4.T4.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T4.1.1.1.m1.1b"><ci id="S4.T4.1.1.1.m1.1.1.cmml" xref="S4.T4.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.1.1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.T4.1.1.1.m1.1d">italic_k</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="7" id="S4.T4.2.2.2">Recall @ <math alttext="k" class="ltx_Math" display="inline" id="S4.T4.2.2.2.m1.1"><semantics id="S4.T4.2.2.2.m1.1a"><mi id="S4.T4.2.2.2.m1.1.1" xref="S4.T4.2.2.2.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T4.2.2.2.m1.1b"><ci id="S4.T4.2.2.2.m1.1.1.cmml" xref="S4.T4.2.2.2.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.2.2.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.T4.2.2.2.m1.1d">italic_k</annotation></semantics></math>
</th>
</tr>
<tr class="ltx_tr" id="S4.T4.2.3.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row" id="S4.T4.2.3.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.2">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.3">2</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.4">4</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.5">8</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.6">16</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.7">32</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T4.2.3.1.8">64</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.9">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.10">2</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.11">4</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.12">8</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.13">16</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.14">32</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T4.2.3.1.15">64</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.2.4.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T4.2.4.1.1"><span class="ltx_text ltx_font_bold" id="S4.T4.2.4.1.1.1">PrivacyQA</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.2">7.86</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.3">7.31</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.4">6.41</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.5">5.06</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.6">3.58</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.7">2.41</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T4.2.4.1.8">1.54</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.9">7.45</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.10">12.53</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.11">20.88</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.12">32.38</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.13">42.45</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.14">54.27</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.1.15">66.07</td>
</tr>
<tr class="ltx_tr" id="S4.T4.2.5.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T4.2.5.2.1"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.1.1">ContractNLI</span></th>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.2"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.2.1">16.45</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.3"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.3.1">14.80</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.4"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.4.1">12.53</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.5"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.5.1">9.73</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.6"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.6.1">6.70</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.7"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.7.1">4.65</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.2.5.2.8"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.8.1">3.04</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.9">11.32</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.10">19.10</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.11"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.11.1">29.79</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.12"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.12.1">45.59</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.13"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.13.1">56.75</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.14"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.14.1">69.88</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.5.2.15"><span class="ltx_text ltx_font_bold" id="S4.T4.2.5.2.15.1">86.57</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.2.6.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T4.2.6.3.1"><span class="ltx_text ltx_font_bold" id="S4.T4.2.6.3.1.1">MAUD</span></th>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.2">3.36</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.3">2.65</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.4">2.18</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.5">1.89</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.6">1.48</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.7">1.06</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.2.6.3.8">0.75</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.9">2.54</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.10">3.12</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.11">4.53</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.12">8.75</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.13">13.16</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.14">18.36</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.6.3.15">25.62</td>
</tr>
<tr class="ltx_tr" id="S4.T4.2.7.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T4.2.7.4.1"><span class="ltx_text ltx_font_bold" id="S4.T4.2.7.4.1.1">CUAD</span></th>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.2">9.27</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.3">8.05</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.4">5.98</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.5">4.33</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.6">2.77</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.7">1.77</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.2.7.4.8">1.09</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.9"><span class="ltx_text ltx_font_bold" id="S4.T4.2.7.4.9.1">12.60</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.10"><span class="ltx_text ltx_font_bold" id="S4.T4.2.7.4.10.1">19.47</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.11">27.92</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.12">40.70</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.13">51.02</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.14">64.38</td>
<td class="ltx_td ltx_align_center" id="S4.T4.2.7.4.15">75.71</td>
</tr>
<tr class="ltx_tr" id="S4.T4.2.8.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T4.2.8.5.1"><span class="ltx_text ltx_font_bold" id="S4.T4.2.8.5.1.1">ALL</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.2">2.40</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.3">3.76</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.4">4.97</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.5">4.33</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.6">3.39</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.7">2.17</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T4.2.8.5.8">1.29</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.9">3.37</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.10">8.44</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.11">21.30</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.12">34.51</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.13">48.88</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.14">64.47</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.8.5.15">76.39</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Performance comparison on different datasets for Precision and Recall at various <math alttext="k" class="ltx_Math" display="inline" id="S4.T4.4.m1.1"><semantics id="S4.T4.4.m1.1b"><mi id="S4.T4.4.m1.1.1" xref="S4.T4.4.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T4.4.m1.1c"><ci id="S4.T4.4.m1.1.1.cmml" xref="S4.T4.4.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.4.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="S4.T4.4.m1.1e">italic_k</annotation></semantics></math> values for the Naive Method.</figcaption>
</figure>
<figure class="ltx_table" id="S4.T5">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T5.2">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T5.2.2">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T5.2.2.3"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="7" id="S4.T5.1.1.1">Precision @ <math alttext="k" class="ltx_Math" display="inline" id="S4.T5.1.1.1.m1.1"><semantics id="S4.T5.1.1.1.m1.1a"><mi id="S4.T5.1.1.1.m1.1.1" xref="S4.T5.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T5.1.1.1.m1.1b"><ci id="S4.T5.1.1.1.m1.1.1.cmml" xref="S4.T5.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.1.1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.T5.1.1.1.m1.1d">italic_k</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="7" id="S4.T5.2.2.2">Recall @ <math alttext="k" class="ltx_Math" display="inline" id="S4.T5.2.2.2.m1.1"><semantics id="S4.T5.2.2.2.m1.1a"><mi id="S4.T5.2.2.2.m1.1.1" xref="S4.T5.2.2.2.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T5.2.2.2.m1.1b"><ci id="S4.T5.2.2.2.m1.1.1.cmml" xref="S4.T5.2.2.2.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.2.2.2.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.T5.2.2.2.m1.1d">italic_k</annotation></semantics></math>
</th>
</tr>
<tr class="ltx_tr" id="S4.T5.2.3.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row" id="S4.T5.2.3.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.2">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.3">2</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.4">4</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.5">8</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.6">16</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.7">32</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T5.2.3.1.8">64</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.9">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.10">2</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.11">4</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.12">8</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.13">16</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.14">32</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T5.2.3.1.15">64</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T5.2.4.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T5.2.4.1.1"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.1.1">Privacy QA</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.2"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.2.1">14.38</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.3"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.3.1">13.55</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.4"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.4.1">12.34</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.5"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.5.1">9.03</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.6"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.6.1">6.06</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.7"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.7.1">4.17</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.2.4.1.8"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.8.1">2.81</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.9"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.9.1">8.85</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.10"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.10.1">15.21</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.11"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.11.1">27.92</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.12"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.12.1">42.37</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.13"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.13.1">55.12</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.14"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.14.1">71.19</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.2.4.1.15"><span class="ltx_text ltx_font_bold" id="S4.T5.2.4.1.15.1">84.19</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.2.5.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T5.2.5.2.1"><span class="ltx_text ltx_font_bold" id="S4.T5.2.5.2.1.1">ContractNLI</span></th>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.2">6.63</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.3">5.29</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.4">3.89</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.5">2.81</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.6">1.98</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.7">1.29</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.2.5.2.8">0.90</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.9">7.63</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.10">11.33</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.11">17.34</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.12">24.99</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.13">35.80</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.14">46.57</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.5.2.15">61.72</td>
</tr>
<tr class="ltx_tr" id="S4.T5.2.6.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T5.2.6.3.1"><span class="ltx_text ltx_font_bold" id="S4.T5.2.6.3.1.1">MAUD</span></th>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.2">2.65</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.3">1.77</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.4">1.96</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.5">1.40</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.6">1.39</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.7">1.15</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.2.6.3.8">0.82</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.9">1.65</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.10">2.09</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.11">4.59</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.12">6.18</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.13">12.93</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.14">21.04</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.6.3.15">28.28</td>
</tr>
<tr class="ltx_tr" id="S4.T5.2.7.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T5.2.7.4.1"><span class="ltx_text ltx_font_bold" id="S4.T5.2.7.4.1.1">CUAD</span></th>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.2">1.97</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.3">4.03</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.4">4.83</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.5">4.20</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.6">2.94</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.7">1.99</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.2.7.4.8">1.25</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.9">1.62</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.10">8.11</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.11">17.72</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.12">31.68</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.13">44.38</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.14">60.04</td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.7.4.15">74.70</td>
</tr>
<tr class="ltx_tr" id="S4.T5.2.8.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T5.2.8.5.1"><span class="ltx_text ltx_font_bold" id="S4.T5.2.8.5.1.1">ALL</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.2">6.41</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.3">6.16</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.4">5.76</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.5">4.36</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.6">3.09</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.7">2.15</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T5.2.8.5.8">1.45</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.9">4.94</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.10">9.19</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.11">16.90</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.12">26.30</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.13">37.06</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.14">49.71</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.2.8.5.15">62.22</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Performance comparison on different datasets for Precision and Recall at various <math alttext="k" class="ltx_Math" display="inline" id="S4.T5.4.m1.1"><semantics id="S4.T5.4.m1.1b"><mi id="S4.T5.4.m1.1.1" xref="S4.T5.4.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T5.4.m1.1c"><ci id="S4.T5.4.m1.1.1.cmml" xref="S4.T5.4.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.4.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="S4.T5.4.m1.1e">italic_k</annotation></semantics></math> values for the Recursive Character Text Splitter Method.</figcaption>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Hyperparameters in RAG Pipelines</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">Implementing a RAG pipeline involves selecting various hyperparameters and making critical design decisions, which can be adjusted to optimize performance. In this section, we discuss a few design decisions that will be evaluated using LegalBench-RAG.</p>
</div>
<section class="ltx_subsubsection" id="S4.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.1 </span>Pre-Processing Strategies</h4>
<div class="ltx_para" id="S4.SS1.SSS1.p1">
<p class="ltx_p" id="S4.SS1.SSS1.p1.1">As discussed in Section 2.1, standard RAG pipelines typically generate embeddings from document chunks using an embedding model. The method by which documents are divided into these chunks is a crucial design consideration <cite class="ltx_cite ltx_citemacro_citep">(Pinecone, <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib17" title="">2024</a>)</cite>. Different strategies can be employed, ranging from simple fixed-size chunks with potentially overlapping segments, to recursive and contextual approaches, to more sophisticated semantic chunking methods <cite class="ltx_cite ltx_citemacro_citep">(FullStackRetrieval-com, <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib4" title="">2024</a>)</cite>. The choice of chunking strategy can significantly impact the effectiveness of the retrieval system.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.2 </span>Post-Processing Strategies</h4>
<div class="ltx_para" id="S4.SS1.SSS2.p1">
<p class="ltx_p" id="S4.SS1.SSS2.p1.1">Following retrieval, several critical design decisions must be made in the post-processing phase. One key parameter is the number of retrieved chunks (i.e., the choice of <math alttext="k" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.1.m1.1"><semantics id="S4.SS1.SSS2.p1.1.m1.1a"><mi id="S4.SS1.SSS2.p1.1.m1.1.1" xref="S4.SS1.SSS2.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.1.m1.1b"><ci id="S4.SS1.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.1.m1.1d">italic_k</annotation></semantics></math> in top-k retrieval) that are subsequently input to the large language model (LLM). This selection is pivotal due to the inherent trade-off between maximizing the relevant context provided to the LLM and minimizing the introduction of noise, which could increase the risk of hallucination. Furthermore, the decision to employ a reranker model on the retrieved chunks represents another crucial consideration, as it can substantially alter the final set of chunks presented to the LLM, potentially impacting the model’s overall performance.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.3 </span>Other design decisions</h4>
<div class="ltx_para" id="S4.SS1.SSS3.p1">
<p class="ltx_p" id="S4.SS1.SSS3.p1.1">Among other critical decisions, the choice of the embedding model to use is a common one. Embedding models can vary significantly in how well they represent textual content. A well-chosen embedding model can enhance retrieval accuracy by producing more meaningful and contextually relevant embeddings, which improves the quality of the retrieval.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Experimental Setup</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">In this evaluation experiment, we implement multiple RAG pipelines that we benchmark using LegalBench-RAG. We conduct several experiments to study the impact of the chunking strategy and the effect of reranking the retrieved chunks using a specialized model.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">We used OpenAI’s ”text-embedding-3-large” embeddings for the embedding model <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib16" title="">2024</a>)</cite>. We chose SQLite Vec as a vector database and Cohere’s ”rerank-english-v3.0” as our reranker model <cite class="ltx_cite ltx_citemacro_citep">(Cohere, <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib3" title="">2024</a>)</cite>. The two chunking strategies we benchmarked here are (1) a naive fixed-size chunking method with a chunk size of 500 characters with no overlap, and (2) a Recursive Character Text Splitter (RCTS) <cite class="ltx_cite ltx_citemacro_citep">(LangChain, <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#bib.bib10" title="">2024</a>)</cite>, which divides text into smaller chunks by sequentially attempting to split on a predefined list of characters which maintains paragraphs, sentences, and words together.
The two post-processing we evaluated here are (1) no reranker after the retrieval, and (2) Cohere Reranker after the retrieval.</p>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1">To evaluate the results on LegalBench-RAG, we weight the metrics equally on each dataset, independently from the number of documents or queries they contain.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Variation of preprocessing splitting strategies</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">In our initial experiment, we fixed all hyperparameters and compared the impact of transitioning from a naive chunking strategy to a Recursive Text Character Splitter (RTCS). The performance results for each dataset, as well as varying values of <math alttext="k" class="ltx_Math" display="inline" id="S4.SS3.p1.1.m1.1"><semantics id="S4.SS3.p1.1.m1.1a"><mi id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.1.m1.1d">italic_k</annotation></semantics></math>, are presented in Tables <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4.T4" title="Table 4 ‣ 4 Benchmarking RAG systems using LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_tag">4</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4.T5" title="Table 5 ‣ 4 Benchmarking RAG systems using LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<figure class="ltx_table" id="S4.T6">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T6.2">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T6.2.2">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T6.2.2.3"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="7" id="S4.T6.1.1.1">Precision @ <math alttext="k" class="ltx_Math" display="inline" id="S4.T6.1.1.1.m1.1"><semantics id="S4.T6.1.1.1.m1.1a"><mi id="S4.T6.1.1.1.m1.1.1" xref="S4.T6.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T6.1.1.1.m1.1b"><ci id="S4.T6.1.1.1.m1.1.1.cmml" xref="S4.T6.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.1.1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.T6.1.1.1.m1.1d">italic_k</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="7" id="S4.T6.2.2.2">Recall @ <math alttext="k" class="ltx_Math" display="inline" id="S4.T6.2.2.2.m1.1"><semantics id="S4.T6.2.2.2.m1.1a"><mi id="S4.T6.2.2.2.m1.1.1" xref="S4.T6.2.2.2.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T6.2.2.2.m1.1b"><ci id="S4.T6.2.2.2.m1.1.1.cmml" xref="S4.T6.2.2.2.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.2.2.2.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.T6.2.2.2.m1.1d">italic_k</annotation></semantics></math>
</th>
</tr>
<tr class="ltx_tr" id="S4.T6.2.3.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row" id="S4.T6.2.3.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.2">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.3">2</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.4">4</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.5">8</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.6">16</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.7">32</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T6.2.3.1.8">64</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.9">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.10">2</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.11">4</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.12">8</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.13">16</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.14">32</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T6.2.3.1.15">64</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T6.2.4.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T6.2.4.1.1"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.1.1">PrivacyQA</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.2"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.2.1">14.38</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.3"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.3.1">13.55</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.4"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.4.1">12.34</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.5"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.5.1">9.02</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.6"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.6.1">6.06</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.7"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.7.1">4.17</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T6.2.4.1.8"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.8.1">2.81</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.9"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.9.1">8.85</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.10"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.10.1">15.21</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.11"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.11.1">27.92</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.12"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.12.1">42.37</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.13"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.13.1">55.12</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.14"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.14.1">71.19</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T6.2.4.1.15"><span class="ltx_text ltx_font_bold" id="S4.T6.2.4.1.15.1">84.19</span></td>
</tr>
<tr class="ltx_tr" id="S4.T6.2.5.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T6.2.5.2.1"><span class="ltx_text ltx_font_bold" id="S4.T6.2.5.2.1.1">ContractNLI</span></th>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.2">6.63</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.3">5.28</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.4">3.89</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.5">2.81</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.6">1.98</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.7">1.29</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T6.2.5.2.8">0.90</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.9">7.63</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.10">11.34</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.11">17.34</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.12">24.99</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.13">35.80</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.14">46.57</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.5.2.15">61.72</td>
</tr>
<tr class="ltx_tr" id="S4.T6.2.6.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T6.2.6.3.1"><span class="ltx_text ltx_font_bold" id="S4.T6.2.6.3.1.1">MAUD</span></th>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.2">2.64</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.3">1.77</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.4">1.96</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.5">1.40</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.6">1.38</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.7">1.15</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T6.2.6.3.8">0.82</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.9">1.65</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.10">2.09</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.11">5.59</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.12">6.18</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.13">12.93</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.14">21.04</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.6.3.15">28.28</td>
</tr>
<tr class="ltx_tr" id="S4.T6.2.7.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T6.2.7.4.1"><span class="ltx_text ltx_font_bold" id="S4.T6.2.7.4.1.1">CUAD</span></th>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.2">1.97</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.3">4.03</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.4">4.83</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.5">4.20</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.6">2.94</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.7">1.99</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T6.2.7.4.8">1.25</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.9">1.62</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.10">8.11</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.11">17.72</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.12">31.68</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.13">44.38</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.14">60.04</td>
<td class="ltx_td ltx_align_center" id="S4.T6.2.7.4.15">74.70</td>
</tr>
<tr class="ltx_tr" id="S4.T6.2.8.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T6.2.8.5.1"><span class="ltx_text ltx_font_bold" id="S4.T6.2.8.5.1.1">ALL<sup class="ltx_sup" id="S4.T6.2.8.5.1.1.1"><span class="ltx_text ltx_font_medium" id="S4.T6.2.8.5.1.1.1.1">†</span></sup></span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.2">6.41</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.3">6.16</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.4">5.76</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.5">4.36</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.6">3.09</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.7">2.15</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T6.2.8.5.8">1.45</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.9">4.94</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.10">9.19</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.11">16.90</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.12">26.30</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.13">37.05</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.14">49.71</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T6.2.8.5.15">62.22</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Performance comparison on different datasets for Precision and Recall at various <math alttext="k" class="ltx_Math" display="inline" id="S4.T6.4.m1.1"><semantics id="S4.T6.4.m1.1b"><mi id="S4.T6.4.m1.1.1" xref="S4.T6.4.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T6.4.m1.1c"><ci id="S4.T6.4.m1.1.1.cmml" xref="S4.T6.4.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.4.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="S4.T6.4.m1.1e">italic_k</annotation></semantics></math> values for the Naive Method with the Cohere Reranker.</figcaption>
</figure>
<figure class="ltx_table" id="S4.T7">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T7.2">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T7.2.2">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T7.2.2.3"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="7" id="S4.T7.1.1.1">Precision @ <math alttext="k" class="ltx_Math" display="inline" id="S4.T7.1.1.1.m1.1"><semantics id="S4.T7.1.1.1.m1.1a"><mi id="S4.T7.1.1.1.m1.1.1" xref="S4.T7.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T7.1.1.1.m1.1b"><ci id="S4.T7.1.1.1.m1.1.1.cmml" xref="S4.T7.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.1.1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.T7.1.1.1.m1.1d">italic_k</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="7" id="S4.T7.2.2.2">Recall @ <math alttext="k" class="ltx_Math" display="inline" id="S4.T7.2.2.2.m1.1"><semantics id="S4.T7.2.2.2.m1.1a"><mi id="S4.T7.2.2.2.m1.1.1" xref="S4.T7.2.2.2.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T7.2.2.2.m1.1b"><ci id="S4.T7.2.2.2.m1.1.1.cmml" xref="S4.T7.2.2.2.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.2.2.2.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.T7.2.2.2.m1.1d">italic_k</annotation></semantics></math>
</th>
</tr>
<tr class="ltx_tr" id="S4.T7.2.3.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row" id="S4.T7.2.3.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.2">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.3">2</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.4">4</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.5">8</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.6">16</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.7">32</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T7.2.3.1.8">64</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.9">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.10">2</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.11">4</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.12">8</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.13">16</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.14">32</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T7.2.3.1.15">64</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T7.2.4.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T7.2.4.1.1"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.1.1">PrivacyQA</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.2"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.2.1">13.94</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.3"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.3.1">15.91</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.4"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.4.1">13.32</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.5"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.5.1">9.57</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.6"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.6.1">6.88</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.7"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.7.1">4.68</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T7.2.4.1.8"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.8.1">3.28</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.9"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.9.1">7.32</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.10"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.10.1">16.12</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.11"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.11.1">25.65</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.12"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.12.1">35.60</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.13"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.13.1">51.87</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.14"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.14.1">64.98</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T7.2.4.1.15"><span class="ltx_text ltx_font_bold" id="S4.T7.2.4.1.15.1">79.61</span></td>
</tr>
<tr class="ltx_tr" id="S4.T7.2.5.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T7.2.5.2.1"><span class="ltx_text ltx_font_bold" id="S4.T7.2.5.2.1.1">ContractNLI</span></th>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.2">5.08</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.3">5.59</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.4">5.04</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.5">3.67</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.6">2.52</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.7">1.75</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T7.2.5.2.8">1.17</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.9">4.91</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.10">9.33</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.11">16.09</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.12">25.83</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.13">35.04</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.14">46.90</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.5.2.15">62.97</td>
</tr>
<tr class="ltx_tr" id="S4.T7.2.6.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T7.2.6.3.1"><span class="ltx_text ltx_font_bold" id="S4.T7.2.6.3.1.1">MAUD</span></th>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.2">1.94</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.3">2.63</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.4">2.05</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.5">1.77</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.6">1.79</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.7">1.55</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T7.2.6.3.8">1.12</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.9">0.52</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.10">2.48</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.11">4.39</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.12">7.24</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.13">14.03</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.14">22.60</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.6.3.15">31.46</td>
</tr>
<tr class="ltx_tr" id="S4.T7.2.7.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T7.2.7.4.1"><span class="ltx_text ltx_font_bold" id="S4.T7.2.7.4.1.1">CUAD</span></th>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.2">3.53</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.3">4.18</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.4">6.18</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.5">5.06</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.6">3.93</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.7">2.74</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T7.2.7.4.8">1.66</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.9">3.17</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.10">7.33</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.11">18.26</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.12">28.67</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.13">42.50</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.14">55.66</td>
<td class="ltx_td ltx_align_center" id="S4.T7.2.7.4.15">70.19</td>
</tr>
<tr class="ltx_tr" id="S4.T7.2.8.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T7.2.8.5.1"><span class="ltx_text ltx_font_bold" id="S4.T7.2.8.5.1.1">ALL<sup class="ltx_sup" id="S4.T7.2.8.5.1.1.1"><span class="ltx_text ltx_font_medium" id="S4.T7.2.8.5.1.1.1.1">†</span></sup></span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.2">6.13</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.3">7.08</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.4">6.65</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.5">5.02</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.6">3.78</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.7">2.68</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T7.2.8.5.8">1.81</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.9">3.98</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.10">8.82</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.11">16.10</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.12">24.34</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.13">35.86</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.14">47.54</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T7.2.8.5.15">61.06</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>Performance comparison on different datasets for Precision and Recall at various <math alttext="k" class="ltx_Math" display="inline" id="S4.T7.4.m1.1"><semantics id="S4.T7.4.m1.1b"><mi id="S4.T7.4.m1.1.1" xref="S4.T7.4.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T7.4.m1.1c"><ci id="S4.T7.4.m1.1.1.cmml" xref="S4.T7.4.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.4.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="S4.T7.4.m1.1e">italic_k</annotation></semantics></math> values for the RCTS Method with the Cohere Reranker.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Variation of postprocessing method</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">We conduct a second experiment where we freeze all other hyperparameters and change the post-processing method used only. We compare using no reranking stategy of the retrieved chunks and using Cohere’s Reranker model. The results of this comparison are shown in Tables <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4.T4" title="Table 4 ‣ 4 Benchmarking RAG systems using LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_tag">4</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4.T6" title="Table 6 ‣ 4.3 Variation of preprocessing splitting strategies ‣ 4 Benchmarking RAG systems using LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_tag">6</span></a> respectively. We also run our benchmark on the RCTS method with Cohere’s Reranker in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S4.T7" title="Table 7 ‣ 4.3 Variation of preprocessing splitting strategies ‣ 4 Benchmarking RAG systems using LegalBench-RAG ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Results and Discussion</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Results of the experimentation</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.3">The overall evaluation results are computed for varying values of <math alttext="k" class="ltx_Math" display="inline" id="S5.SS1.p1.1.m1.1"><semantics id="S5.SS1.p1.1.m1.1a"><mi id="S5.SS1.p1.1.m1.1.1" xref="S5.SS1.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.1.m1.1b"><ci id="S5.SS1.p1.1.m1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.1.m1.1d">italic_k</annotation></semantics></math> between 1 and 64 and for each of the four dataset and are also aggregated across all datasets using an equal weight for each dataset. Figures <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S5.F3" title="Figure 3 ‣ 5.2 Comparison of the four datasets ‣ 5 Results and Discussion ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_tag">3</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S5.F3" title="Figure 3 ‣ 5.2 Comparison of the four datasets ‣ 5 Results and Discussion ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_tag">3</span></a> display Recall@<math alttext="k" class="ltx_Math" display="inline" id="S5.SS1.p1.2.m2.1"><semantics id="S5.SS1.p1.2.m2.1a"><mi id="S5.SS1.p1.2.m2.1.1" xref="S5.SS1.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.2.m2.1b"><ci id="S5.SS1.p1.2.m2.1.1.cmml" xref="S5.SS1.p1.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.2.m2.1d">italic_k</annotation></semantics></math> and Precision@<math alttext="k" class="ltx_Math" display="inline" id="S5.SS1.p1.3.m3.1"><semantics id="S5.SS1.p1.3.m3.1a"><mi id="S5.SS1.p1.3.m3.1.1" xref="S5.SS1.p1.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.3.m3.1b"><ci id="S5.SS1.p1.3.m3.1.1.cmml" xref="S5.SS1.p1.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.3.m3.1d">italic_k</annotation></semantics></math>, respectively, for all method combinations.</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.1">This experiment demonstrates that the most effective strategy was the Recursive Text Character Splitter (RTCS) without a reranker. Surprisingly, the performance of the Cohere Reranker was inferior compared to not using a reranker. This result may be attributed to the difficulty of this benchmark and its focus on legal text, which may not align well with a general-purpose model like Cohere’s reranker. Both precision and recall were highest with the RTCS + No reranker configuration. As anticipated, recall improved with increasing values of <math alttext="k" class="ltx_Math" display="inline" id="S5.SS1.p2.1.m1.1"><semantics id="S5.SS1.p2.1.m1.1a"><mi id="S5.SS1.p2.1.m1.1.1" xref="S5.SS1.p2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.1b"><ci id="S5.SS1.p2.1.m1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.1.m1.1d">italic_k</annotation></semantics></math>, while precision decreased. The observed low precision values could be due to the highly targeted and concise nature of the ground truth.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Comparison of the four datasets</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.2">Additionally to the standard evaluation conducted, we also aggregated Recall@<math alttext="k" class="ltx_Math" display="inline" id="S5.SS2.p1.1.m1.1"><semantics id="S5.SS2.p1.1.m1.1a"><mi id="S5.SS2.p1.1.m1.1.1" xref="S5.SS2.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.1.m1.1b"><ci id="S5.SS2.p1.1.m1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.1.m1.1d">italic_k</annotation></semantics></math> and Precision@<math alttext="k" class="ltx_Math" display="inline" id="S5.SS2.p1.2.m2.1"><semantics id="S5.SS2.p1.2.m2.1a"><mi id="S5.SS2.p1.2.m2.1.1" xref="S5.SS2.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.2.m2.1b"><ci id="S5.SS2.p1.2.m2.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.2.m2.1d">italic_k</annotation></semantics></math> across all four of the different methods experimented with for each of the four datasets. The goal was to assess the relative difficulty of achieving high scores on each dataset, as shown in Figures <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S5.F5" title="Figure 5 ‣ 5.2 Comparison of the four datasets ‣ 5 Results and Discussion ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_tag">5</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2408.10343v1#S5.F5" title="Figure 5 ‣ 5.2 Comparison of the four datasets ‣ 5 Results and Discussion ‣ LegalBench-RAG: A Benchmark for Retrieval-Augmented Generation in the Legal Domain"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.1">We analyzed the performance of all methods across the four datasets and found that, as expected, the PrivacyQA dataset is the easiest benchmark. It consistently yielded the highest scores across all methods, indicating that this dataset was easier for the models to interpret. Specifically, on the RCTS with No reranker evaluation, the highest Precision@1 was achieved with 14.38%, and Recall@64 reached 84.19%. This high performance can be attributed to the nature of the PrivacyQA dataset, which features questions about private company policies from non-lawyers, making the text more straightforward and less complex.</p>
</div>
<div class="ltx_para" id="S5.SS2.p3">
<p class="ltx_p" id="S5.SS2.p3.1">In contrast, the MAUD dataset proved to be the most challenging. Precision@1 was only 2.65%, and Recall@64 reached just 28.28%. The complexity and specialization of the MAUD dataset, which includes highly technical legal jargon, make it particularly difficult for models to retrieve relevant information accurately. The poor performance of the Cohere Reranker on this dataset, and across the board, highlights the limitations of using general-purpose models on specialized legal text.</p>
</div>
<div class="ltx_para" id="S5.SS2.p4">
<p class="ltx_p" id="S5.SS2.p4.1">The ContractNLI and CUAD datasets also presented unique challenges, though they were not as difficult as MAUD. These results suggest that while these datasets are challenging, they are not as inaccessible to retrieval models as MAUD, likely due to their somewhat less specialized language.</p>
</div>
<figure class="ltx_figure" id="S5.F3">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" id="S5.F3.3" style="width:195.1pt;">
<p class="ltx_p ltx_align_center" id="S5.F3.1.1"><span class="ltx_text" id="S5.F3.1.1.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="449" id="S5.F3.1.1.1.g1" src="extracted/5794893/Recall_K.png" width="598"/></span></p>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Recall @ <math alttext="k" class="ltx_Math" display="inline" id="S5.F3.3.3.m1.1"><semantics id="S5.F3.3.3.m1.1b"><mi id="S5.F3.3.3.m1.1.1" xref="S5.F3.3.3.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.F3.3.3.m1.1c"><ci id="S5.F3.3.3.m1.1.1.cmml" xref="S5.F3.3.3.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F3.3.3.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="S5.F3.3.3.m1.1e">italic_k</annotation></semantics></math> across all datasets</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" id="S5.F3.6" style="width:195.1pt;">
<p class="ltx_p ltx_align_center" id="S5.F3.4.1"><span class="ltx_text" id="S5.F3.4.1.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="449" id="S5.F3.4.1.1.g1" src="extracted/5794893/Prec_Kavg.png" width="598"/></span></p>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Precision @ <math alttext="k" class="ltx_Math" display="inline" id="S5.F3.6.3.m1.1"><semantics id="S5.F3.6.3.m1.1b"><mi id="S5.F3.6.3.m1.1.1" xref="S5.F3.6.3.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.F3.6.3.m1.1c"><ci id="S5.F3.6.3.m1.1.1.cmml" xref="S5.F3.6.3.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F3.6.3.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="S5.F3.6.3.m1.1e">italic_k</annotation></semantics></math> across all datasets</figcaption>
</figure>
</div>
</div>
</figure>
<figure class="ltx_figure" id="S5.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" id="S5.F5.3" style="width:195.1pt;">
<p class="ltx_p ltx_align_center" id="S5.F5.1.1"><span class="ltx_text" id="S5.F5.1.1.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="342" id="S5.F5.1.1.1.g1" src="extracted/5794893/final_rec_all_dspng.png" width="598"/></span></p>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Recall @ <math alttext="k" class="ltx_Math" display="inline" id="S5.F5.3.3.m1.1"><semantics id="S5.F5.3.3.m1.1b"><mi id="S5.F5.3.3.m1.1.1" xref="S5.F5.3.3.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.F5.3.3.m1.1c"><ci id="S5.F5.3.3.m1.1.1.cmml" xref="S5.F5.3.3.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F5.3.3.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="S5.F5.3.3.m1.1e">italic_k</annotation></semantics></math> across all datasets</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" id="S5.F5.6" style="width:195.1pt;">
<p class="ltx_p ltx_align_center" id="S5.F5.4.1"><span class="ltx_text" id="S5.F5.4.1.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="342" id="S5.F5.4.1.1.g1" src="extracted/5794893/final_prec_all_ds.png" width="598"/></span></p>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Precision @ <math alttext="k" class="ltx_Math" display="inline" id="S5.F5.6.3.m1.1"><semantics id="S5.F5.6.3.m1.1b"><mi id="S5.F5.6.3.m1.1.1" xref="S5.F5.6.3.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.F5.6.3.m1.1c"><ci id="S5.F5.6.3.m1.1.1.cmml" xref="S5.F5.6.3.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F5.6.3.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="S5.F5.6.3.m1.1e">italic_k</annotation></semantics></math> across all datasets</figcaption>
</figure>
</div>
</div>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Future Work</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">These results highlight the need for more specialized and challenging legal benchmarks to effectively assess the quality of retrieval systems.
Moreover, the consistently poor performance of the Cohere Reranker, particularly on the more challenging datasets like MAUD, indicates that there is significant room for improvement in reranking models. Future research could explore fine-tuning or developing new rerankers specifically designed for legal text, potentially incorporating more legal-specific features or training on larger, more diverse legal corpora.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In conclusion, this paper introduces LegalBench-RAG, the first benchmark specifically designed to evaluate the retrieval component of Retrieval-Augmented Generation (RAG) systems in the legal domain. By leveraging existing expert-annotated legal datasets and meticulously mapping question-answer pairs back to their original contexts, LegalBench-RAG provides a robust framework for assessing retrieval precision and recall. The creation of both LegalBench-RAG and its lightweight counterpart, LegalBench-RAG-mini, addresses a critical gap in the evaluation of RAG systems, particularly in contexts where legal accuracy is paramount.</p>
</div>
<div class="ltx_para" id="S6.p2">
<p class="ltx_p" id="S6.p2.1">Through a series of experiments, we demonstrated the effectiveness of different chunking strategies and post-processing methods, revealing that advanced chunking techniques like the Recursive Text Character Splitter (RTCS) significantly enhance retrieval performance. Interestingly, the use of general-purpose rerankers, such as Cohere’s model, showed limitations, highlighting the need for domain-specific tools in legal AI applications.</p>
</div>
<div class="ltx_para" id="S6.p3">
<p class="ltx_p" id="S6.p3.1">The results underscore the importance of specialized benchmarks that can accurately capture the nuances of legal text retrieval. LegalBench-RAG not only facilitates a more granular evaluation of retrieval mechanisms but also provides a foundation for further advancements in the development of RAG systems tailored to the legal field. As legal AI continues to evolve, the availability of such targeted benchmarks will be crucial for driving innovation and ensuring the reliability of AI-driven legal tools.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chalkidis et al. (2022)</span>
<span class="ltx_bibblock">
Ilias Chalkidis, Abhik Jana, Dirk Hartung, Michael Bommarito, Ion Androutsopoulos, Daniel Katz, and Nikolaos Aletras.

</span>
<span class="ltx_bibblock">LexGLUE: A benchmark dataset for legal language understanding in English.

</span>
<span class="ltx_bibblock">In Smaranda Muresan, Preslav Nakov, and Aline Villavicencio, editors, <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">Proceedings of the 60th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pages 4310–4330, Dublin, Ireland, May 2022. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2022.acl-long.297</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2022.acl-long.297" title="">https://aclanthology.org/2022.acl-long.297</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2023)</span>
<span class="ltx_bibblock">
Jiawei Chen, Hongyu Lin, Xianpei Han, and Le Sun.

</span>
<span class="ltx_bibblock">Benchmarking large language models in retrieval-augmented generation, 2023.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2309.01431" title="">https://arxiv.org/abs/2309.01431</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cohere (2024)</span>
<span class="ltx_bibblock">
Cohere.

</span>
<span class="ltx_bibblock">Rerank, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://docs.cohere.com/reference/rerank" title="">https://docs.cohere.com/reference/rerank</a>.

</span>
<span class="ltx_bibblock">Accessed: 2024-08-15.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">FullStackRetrieval-com (2024)</span>
<span class="ltx_bibblock">
FullStackRetrieval-com.

</span>
<span class="ltx_bibblock">Levels of text splitting.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/FullStackRetrieval-com/RetrievalTutorials" title="">https://github.com/FullStackRetrieval-com/RetrievalTutorials</a>, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/FullStackRetrieval-com/RetrievalTutorials/blob/main/tutorials/LevelsOfTextSplitting/5_Levels_Of_Text_Splitting.ipynb" title="">https://github.com/FullStackRetrieval-com/RetrievalTutorials/blob/main/tutorials/LevelsOfTextSplitting/5_Levels_Of_Text_Splitting.ipynb</a>.

</span>
<span class="ltx_bibblock">Accessed: 2024-08-15.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guha et al. (2023)</span>
<span class="ltx_bibblock">
Neel Guha, Julian Nyarko, Daniel E. Ho, Christopher Ré, Adam Chilton, Aditya Narayana, Alex Chohlas-Wood, Austin Peters, Brandon Waldon, Daniel N. Rockmore, Diego Zambrano, Dmitry Talisman, Enam Hoque, Faiz Surani, Frank Fagan, Galit Sarfaty, Gregory M. Dickinson, Haggai Porat, Jason Hegland, Jessica Wu, Joe Nudell, Joel Niklaus, John Nay, Jonathan H. Choi, Kevin Tobia, Margaret Hagan, Megan Ma, Michael Livermore, Nikon Rasumov-Rahe, Nils Holzenberger, Noam Kolt, Peter Henderson, Sean Rehaag, Sharad Goel, Shang Gao, Spencer Williams, Sunny Gandhi, Tom Zur, Varun Iyer, and Zehua Li.

</span>
<span class="ltx_bibblock">Legalbench: A collaboratively built benchmark for measuring legal reasoning in large language models, 2023.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2308.11462" title="">https://arxiv.org/abs/2308.11462</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks et al. (2021)</span>
<span class="ltx_bibblock">
Dan Hendrycks, Collin Burns, Anya Chen, and Spencer Ball.

</span>
<span class="ltx_bibblock">Cuad: An expert-annotated nlp dataset for legal contract review, 2021.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2103.06268" title="">https://arxiv.org/abs/2103.06268</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al. (2020)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oğuz, Sewon Min, Patrick Lewis, Ledell Wu, Sergey Edunov, Danqi Chen, and Wen tau Yih.

</span>
<span class="ltx_bibblock">Dense passage retrieval for open-domain question answering, 2020.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2004.04906" title="">https://arxiv.org/abs/2004.04906</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Katz et al. (2023)</span>
<span class="ltx_bibblock">
Daniel Martin Katz, Dirk Hartung, Lauritz Gerlach, Abhik Jana, and Michael J. Bommarito II au2.

</span>
<span class="ltx_bibblock">Natural language processing in the legal domain, 2023.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2302.12039" title="">https://arxiv.org/abs/2302.12039</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koreeda and Manning (2021)</span>
<span class="ltx_bibblock">
Yuta Koreeda and Christopher D. Manning.

</span>
<span class="ltx_bibblock">Contractnli: A dataset for document-level natural language inference for contracts, 2021.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2110.01799" title="">https://arxiv.org/abs/2110.01799</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">LangChain (2024)</span>
<span class="ltx_bibblock">
LangChain.

</span>
<span class="ltx_bibblock">Recursive text splitter, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://python.langchain.com/v0.1/docs/modules/data_connection/document_transformers/recursive_text_splitter/" title="">https://python.langchain.com/v0.1/docs/modules/data_connection/document_transformers/recursive_text_splitter/</a>.

</span>
<span class="ltx_bibblock">Accessed: 2024-08-15.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Patrick S. H. Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, Sebastian Riedel, and Douwe Kiela.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive NLP tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">CoRR</em>, abs/2005.11401, 2020.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2005.11401" title="">https://arxiv.org/abs/2005.11401</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023)</span>
<span class="ltx_bibblock">
Zehua Li, Neel Guha, and Julian Nyarko.

</span>
<span class="ltx_bibblock">Don’t use a cannon to kill a fly: An efficient cascading pipeline for long documents.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">Proceedings of the Nineteenth International Conference on Artificial Intelligence and Law</em>, ICAIL ’23, page 141–147, New York, NY, USA, 2023. Association for Computing Machinery.

</span>
<span class="ltx_bibblock">ISBN 9798400701979.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1145/3594536.3595142</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3594536.3595142" title="">https://doi.org/10.1145/3594536.3595142</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023)</span>
<span class="ltx_bibblock">
Yi Liu, Lianzhe Huang, Shicheng Li, Sishuo Chen, Hao Zhou, Fandong Meng, Jie Zhou, and Xu Sun.

</span>
<span class="ltx_bibblock">Recall: A benchmark for llms robustness against external counterfactual knowledge, 2023.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2311.08147" title="">https://arxiv.org/abs/2311.08147</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Maroudas et al. (2022)</span>
<span class="ltx_bibblock">
Stelios Maroudas, Sotiris Legkas, Prodromos Malakasiotis, and Ilias Chalkidis.

</span>
<span class="ltx_bibblock">Legal-tech open diaries: Lesson learned on how to develop and deploy light-weight models in the era of humongous language models, 2022.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2210.13086" title="">https://arxiv.org/abs/2210.13086</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Niu et al. (2024)</span>
<span class="ltx_bibblock">
Cheng Niu, Yuanhao Wu, Juno Zhu, Siliang Xu, Kashun Shum, Randy Zhong, Juntong Song, and Tong Zhang.

</span>
<span class="ltx_bibblock">Ragtruth: A hallucination corpus for developing trustworthy retrieval-augmented language models, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2401.00396" title="">https://arxiv.org/abs/2401.00396</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2024)</span>
<span class="ltx_bibblock">
OpenAI.

</span>
<span class="ltx_bibblock">Embedding models, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://platform.openai.com/docs/guides/embeddings/embedding-models" title="">https://platform.openai.com/docs/guides/embeddings/embedding-models</a>.

</span>
<span class="ltx_bibblock">Accessed: 2024-08-15.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pinecone (2024)</span>
<span class="ltx_bibblock">
Pinecone.

</span>
<span class="ltx_bibblock">Chunking strategies, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.pinecone.io/learn/chunking-strategies/" title="">https://www.pinecone.io/learn/chunking-strategies/</a>.

</span>
<span class="ltx_bibblock">Accessed: 2024-08-15.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ravichander et al. (2019)</span>
<span class="ltx_bibblock">
Abhilasha Ravichander, Alan W Black, Shomir Wilson, Thomas Norton, and Norman Sadeh.

</span>
<span class="ltx_bibblock">Question answering for privacy policies: Combining computational and legal perspectives, 2019.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/1911.00841" title="">https://arxiv.org/abs/1911.00841</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shen et al. (2022)</span>
<span class="ltx_bibblock">
Zejiang Shen, Kyle Lo, Lauren Yu, Nathan Dahlberg, Margo Schlanger, and Doug Downey.

</span>
<span class="ltx_bibblock">Multi-lexsum: Real-world summaries of civil rights lawsuits at multiple granularities, 2022.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2206.10883" title="">https://arxiv.org/abs/2206.10883</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shukla et al. (2022)</span>
<span class="ltx_bibblock">
Abhay Shukla, Paheli Bhattacharya, Soham Poddar, Rajdeep Mukherjee, Kripabandhu Ghosh, Pawan Goyal, and Saptarshi Ghosh.

</span>
<span class="ltx_bibblock">Legal case document summarization: Extractive and abstractive methods and their evaluation, 2022.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2210.07544" title="">https://arxiv.org/abs/2210.07544</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tang and Yang (2024)</span>
<span class="ltx_bibblock">
Yixuan Tang and Yi Yang.

</span>
<span class="ltx_bibblock">Multihop-rag: Benchmarking retrieval-augmented generation for multi-hop queries, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2401.15391" title="">https://arxiv.org/abs/2401.15391</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023)</span>
<span class="ltx_bibblock">
Steven H. Wang, Antoine Scardigli, Leonard Tang, Wei Chen, Dimitry Levkin, Anya Chen, Spencer Ball, Thomas Woodside, Oliver Zhang, and Dan Hendrycks.

</span>
<span class="ltx_bibblock">Maud: An expert-annotated legal nlp dataset for merger agreement understanding, 2023.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2301.00876" title="">https://arxiv.org/abs/2301.00876</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2018)</span>
<span class="ltx_bibblock">
Zhilin Yang, Peng Qi, Saizheng Zhang, Yoshua Bengio, William W. Cohen, Ruslan Salakhutdinov, and Christopher D. Manning.

</span>
<span class="ltx_bibblock">Hotpotqa: A dataset for diverse, explainable multi-hop question answering, 2018.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/1809.09600" title="">https://arxiv.org/abs/1809.09600</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2024)</span>
<span class="ltx_bibblock">
Hao Yu, Aoran Gan, Kai Zhang, Shiwei Tong, Qi Liu, and Zhaofeng Liu.

</span>
<span class="ltx_bibblock">Evaluation of retrieval-augmented generation: A survey, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2405.07437" title="">https://arxiv.org/abs/2405.07437</a>.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Appendix A</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1"><span class="ltx_text ltx_font_italic" id="A1.p1.1.1">Note: Ellipses (…) were added to replace large regions of text, for readability purposes.</span></p>
<div class="ltx_listing ltx_lst_language_json ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_topbottom ltx_listing" id="A1.p1.2" style="background-color:#F2F2F2;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,ewogICAgInRlc3RzIjogWwogICAgICAgIHsKICAgICAgICAgICAgInF1ZXJ5IjogIkNvbnNpZGVyIHRoZSBOb24tRGlzY2xvc3VyZSBBZ3JlZW1lbnQgKC4uLikgdG8gdGhlIENvbmZpZGVudGlhbCBJbmZvcm1hdGlvbj8iLAogICAgICAgICAgICAic25pcHBldHMiOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImZpbGVfcGF0aCI6ICJjb250cmFjdG5saS9Db3BBY2NfTkRBLWFuZC1Ub1AtTWVudG9yc18yLjBfMjAxNy50eHQiLAogICAgICAgICAgICAgICAgICAgICJzcGFuIjogWwogICAgICAgICAgICAgICAgICAgICAgICAxMTQ2MSwKICAgICAgICAgICAgICAgICAgICAgICAgMTE5NjMKICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgICJhbnN3ZXIiOiAiQW55IGFuZCBhbGwgcHJvcHJpZXRhcnkgcmlnaHRzLCBpbmNsdWRpbmcgYnV0IG5vdCBsaW1pdGVkIHRvIHJpZ2h0cyB0byBhbmQgaW4gaW52ZW50aW9ucyguLi4pIHdpdGggdGhlIENvcGVybmljdXMgQWNjZWxlcmF0b3IgMjAxNy4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0KICAgICAgICB9LAogICAgICAgIC4uLgogICAgICAgIHsKICAgICAgICAgICAgInF1ZXJ5IjogIkNvbnNpZGVyIHRoZSBOb24tRGlzY2xvc3VyZSBBZ3JlZW1lbnQgKC4uLikgaW5jbHVkZSB0ZWNobmljYWwgaW5mb3JtYXRpb24/IiwKICAgICAgICAgICAgInNuaXBwZXRzIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJmaWxlX3BhdGgiOiAiY29udHJhY3RubGkvQ29wQWNjX05EQS1hbmQtVG9QLU1lbnRvcnNfMi4wXzIwMTcudHh0IiwKICAgICAgICAgICAgICAgICAgICAic3BhbiI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgNzc1MiwKICAgICAgICAgICAgICAgICAgICAgICAgODAxNgogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgImFuc3dlciI6ICJDb25maWRlbnRpYWwgSW5mb3JtYXRpb24gbWVhbnMgYW55IElkZWEgZGlzY2xvc2VkIHRvIE1lbnRvciwgKC4uLikgYW5kL29yIGl0cyBkZXNjcmlwdGlvbiBhbmQgYW55IGNvbmNsdXNpb25zLiAiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0KfQ==">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx1">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx1.1" style="font-size:90%;">{</span>
</div>
<div class="ltx_listingline" id="lstnumberx2">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.2" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx2.3" style="font-size:90%;">tests</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.4" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx2.5" style="font-size:90%;color:#FF0000;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.6" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx2.7" style="font-size:90%;color:#FF8000;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx3">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.2" style="font-size:90%;">{</span>
</div>
<div class="ltx_listingline" id="lstnumberx4">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.2" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.3" style="font-size:90%;">query</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.4" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx4.5" style="font-size:90%;color:#FF0000;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.6" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.7" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.8" style="font-size:90%;">Consider</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.9" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.10" style="font-size:90%;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.11" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.12" style="font-size:90%;">Non</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.13" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.14" style="font-size:90%;">Disclosure</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.15" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.16" style="font-size:90%;">Agreement</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.17" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.18" style="font-size:90%;">(...)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.19" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.20" style="font-size:90%;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.21" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.22" style="font-size:90%;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.23" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.24" style="font-size:90%;">Confidential</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.25" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.26" style="font-size:90%;">Information</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.27" style="font-size:90%;">?"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx4.28" style="font-size:90%;color:#FF0000;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx5">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.2" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx5.3" style="font-size:90%;">snippets</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.4" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx5.5" style="font-size:90%;color:#FF0000;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.6" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx5.7" style="font-size:90%;color:#FF8000;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx6">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx6.2" style="font-size:90%;">{</span>
</div>
<div class="ltx_listingline" id="lstnumberx7">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.2" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.3" style="font-size:90%;">file_path</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.4" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx7.5" style="font-size:90%;color:#FF0000;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.6" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.7" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.8" style="font-size:90%;">contractnli</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.9" style="font-size:90%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.10" style="font-size:90%;">CopAcc_NDA</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.11" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.12" style="font-size:90%;">and</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.13" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.14" style="font-size:90%;">ToP</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.15" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.16" style="font-size:90%;">Mentors_2</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.17" style="font-size:90%;">.</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx7.18" style="font-size:90%;color:#0000FF;">0</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.19" style="font-size:90%;">_2017</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.20" style="font-size:90%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx7.21" style="font-size:90%;">txt</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.22" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx7.23" style="font-size:90%;color:#FF0000;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx8">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx8.2" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.3" style="font-size:90%;">span</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx8.4" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx8.5" style="font-size:90%;color:#FF0000;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.6" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx8.7" style="font-size:90%;color:#FF8000;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx9">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.1" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx9.2" style="font-size:90%;color:#0000FF;">1</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx9.3" style="font-size:90%;color:#0000FF;">1</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx9.4" style="font-size:90%;color:#0000FF;">4</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx9.5" style="font-size:90%;color:#0000FF;">6</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx9.6" style="font-size:90%;color:#0000FF;">1</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx9.7" style="font-size:90%;color:#FF0000;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx10">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.1" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx10.2" style="font-size:90%;color:#0000FF;">1</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx10.3" style="font-size:90%;color:#0000FF;">1</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx10.4" style="font-size:90%;color:#0000FF;">9</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx10.5" style="font-size:90%;color:#0000FF;">6</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx10.6" style="font-size:90%;color:#0000FF;">3</span>
</div>
<div class="ltx_listingline" id="lstnumberx11">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.1" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx11.2" style="font-size:90%;color:#FF8000;">]</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx11.3" style="font-size:90%;color:#FF0000;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx12">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.2" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.3" style="font-size:90%;">answer</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.4" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx12.5" style="font-size:90%;color:#FF0000;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.6" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.7" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.8" style="font-size:90%;">Any</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.9" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.10" style="font-size:90%;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.11" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.12" style="font-size:90%;">all</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.13" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.14" style="font-size:90%;">proprietary</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.15" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.16" style="font-size:90%;">rights</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx12.17" style="font-size:90%;color:#FF0000;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.18" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.19" style="font-size:90%;">including</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.20" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.21" style="font-size:90%;">but</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.22" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.23" style="font-size:90%;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.24" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.25" style="font-size:90%;">limited</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.26" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.27" style="font-size:90%;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.28" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.29" style="font-size:90%;">rights</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.30" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.31" style="font-size:90%;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.32" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.33" style="font-size:90%;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.34" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.35" style="font-size:90%;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.36" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.37" style="font-size:90%;">inventions</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.38" style="font-size:90%;">(...)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.39" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.40" style="font-size:90%;">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.41" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.42" style="font-size:90%;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.43" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.44" style="font-size:90%;">Copernicus</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.45" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.46" style="font-size:90%;">Accelerator</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.47" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx12.48" style="font-size:90%;color:#0000FF;">2</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx12.49" style="font-size:90%;color:#0000FF;">0</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx12.50" style="font-size:90%;color:#0000FF;">1</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx12.51" style="font-size:90%;color:#0000FF;">7</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.52" style="font-size:90%;">."</span>
</div>
<div class="ltx_listingline" id="lstnumberx13">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx13.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx13.2" style="font-size:90%;">}</span>
</div>
<div class="ltx_listingline" id="lstnumberx14">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx14.1" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx14.2" style="font-size:90%;color:#FF8000;">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx15">
<span class="ltx_tag ltx_tag_listingline">15</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx15.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx15.2" style="font-size:90%;">}</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx15.3" style="font-size:90%;color:#FF0000;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx16">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.2" style="font-size:90%;">...</span>
</div>
<div class="ltx_listingline" id="lstnumberx17">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.2" style="font-size:90%;">{</span>
</div>
<div class="ltx_listingline" id="lstnumberx18">
<span class="ltx_tag ltx_tag_listingline">18</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.2" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.3" style="font-size:90%;">query</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.4" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx18.5" style="font-size:90%;color:#FF0000;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.6" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.7" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.8" style="font-size:90%;">Consider</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.9" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.10" style="font-size:90%;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.11" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.12" style="font-size:90%;">Non</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.13" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.14" style="font-size:90%;">Disclosure</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.15" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.16" style="font-size:90%;">Agreement</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.17" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.18" style="font-size:90%;">(...)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.19" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.20" style="font-size:90%;">include</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.21" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.22" style="font-size:90%;">technical</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.23" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx18.24" style="font-size:90%;">information</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.25" style="font-size:90%;">?"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx18.26" style="font-size:90%;color:#FF0000;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx19">
<span class="ltx_tag ltx_tag_listingline">19</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx19.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.2" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx19.3" style="font-size:90%;">snippets</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.4" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx19.5" style="font-size:90%;color:#FF0000;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx19.6" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx19.7" style="font-size:90%;color:#FF8000;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx20">
<span class="ltx_tag ltx_tag_listingline">20</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.2" style="font-size:90%;">{</span>
</div>
<div class="ltx_listingline" id="lstnumberx21">
<span class="ltx_tag ltx_tag_listingline">21</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.2" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.3" style="font-size:90%;">file_path</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.4" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx21.5" style="font-size:90%;color:#FF0000;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.6" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.7" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.8" style="font-size:90%;">contractnli</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.9" style="font-size:90%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.10" style="font-size:90%;">CopAcc_NDA</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.11" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.12" style="font-size:90%;">and</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.13" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.14" style="font-size:90%;">ToP</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.15" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.16" style="font-size:90%;">Mentors_2</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.17" style="font-size:90%;">.</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx21.18" style="font-size:90%;color:#0000FF;">0</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.19" style="font-size:90%;">_2017</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.20" style="font-size:90%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.21" style="font-size:90%;">txt</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.22" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx21.23" style="font-size:90%;color:#FF0000;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx22">
<span class="ltx_tag ltx_tag_listingline">22</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.2" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx22.3" style="font-size:90%;">span</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.4" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx22.5" style="font-size:90%;color:#FF0000;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx22.6" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx22.7" style="font-size:90%;color:#FF8000;">[</span>
</div>
<div class="ltx_listingline" id="lstnumberx23">
<span class="ltx_tag ltx_tag_listingline">23</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.1" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx23.2" style="font-size:90%;color:#0000FF;">7</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx23.3" style="font-size:90%;color:#0000FF;">7</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx23.4" style="font-size:90%;color:#0000FF;">5</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx23.5" style="font-size:90%;color:#0000FF;">2</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx23.6" style="font-size:90%;color:#FF0000;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx24">
<span class="ltx_tag ltx_tag_listingline">24</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx24.1" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx24.2" style="font-size:90%;color:#0000FF;">8</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx24.3" style="font-size:90%;color:#0000FF;">0</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx24.4" style="font-size:90%;color:#0000FF;">1</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx24.5" style="font-size:90%;color:#0000FF;">6</span>
</div>
<div class="ltx_listingline" id="lstnumberx25">
<span class="ltx_tag ltx_tag_listingline">25</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.1" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx25.2" style="font-size:90%;color:#FF8000;">]</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx25.3" style="font-size:90%;color:#FF0000;">,</span>
</div>
<div class="ltx_listingline" id="lstnumberx26">
<span class="ltx_tag ltx_tag_listingline">26</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.2" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.3" style="font-size:90%;">answer</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.4" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx26.5" style="font-size:90%;color:#FF0000;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.6" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.7" style="font-size:90%;">"</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.8" style="font-size:90%;">Confidential</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.9" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.10" style="font-size:90%;">Information</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.11" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.12" style="font-size:90%;">means</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.13" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.14" style="font-size:90%;">any</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.15" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.16" style="font-size:90%;">Idea</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.17" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.18" style="font-size:90%;">disclosed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.19" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.20" style="font-size:90%;">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.21" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.22" style="font-size:90%;">Mentor</span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx26.23" style="font-size:90%;color:#FF0000;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.24" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.25" style="font-size:90%;">(...)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.26" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.27" style="font-size:90%;">and</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.28" style="font-size:90%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.29" style="font-size:90%;">or</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.30" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.31" style="font-size:90%;">its</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.32" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.33" style="font-size:90%;">description</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.34" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.35" style="font-size:90%;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.36" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.37" style="font-size:90%;">any</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.38" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx26.39" style="font-size:90%;">conclusions</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.40" style="font-size:90%;">.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.41" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.42" style="font-size:90%;">"</span>
</div>
<div class="ltx_listingline" id="lstnumberx27">
<span class="ltx_tag ltx_tag_listingline">27</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.1" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.2" style="font-size:90%;">}</span>
</div>
<div class="ltx_listingline" id="lstnumberx28">
<span class="ltx_tag ltx_tag_listingline">28</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.1" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_literate ltx_font_typewriter" id="lstnumberx28.2" style="font-size:90%;color:#FF8000;">]</span>
</div>
<div class="ltx_listingline" id="lstnumberx29">
<span class="ltx_tag ltx_tag_listingline">29</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx29.1" style="font-size:90%;">}</span>
</div>
</div>
<p class="ltx_p ltx_align_center" id="A1.p1.3"><span class="ltx_text ltx_font_italic" id="A1.p1.3.1">Appendix A:</span> Extract of the QA pairs in LegalBench-RAG</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Mon Aug 19 18:25:21 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
