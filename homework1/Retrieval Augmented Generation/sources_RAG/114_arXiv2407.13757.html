<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Black-Box Opinion Manipulation Attacks to Retrieval-Augmented Generation of Large Language Models</title>
<!--Generated on Thu Jul 18 17:54:57 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2407.13757v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#S1" title="In Black-Box Opinion Manipulation Attacks to Retrieval-Augmented Generation of Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#S2" title="In Black-Box Opinion Manipulation Attacks to Retrieval-Augmented Generation of Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Works</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#S3" title="In Black-Box Opinion Manipulation Attacks to Retrieval-Augmented Generation of Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Method</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#S4" title="In Black-Box Opinion Manipulation Attacks to Retrieval-Augmented Generation of Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiment and Analysis</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#S5" title="In Black-Box Opinion Manipulation Attacks to Retrieval-Augmented Generation of Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#S6" title="In Black-Box Opinion Manipulation Attacks to Retrieval-Augmented Generation of Large Language Models"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Ethical Statement</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Black-Box Opinion Manipulation Attacks to Retrieval-Augmented Generation of Large Language Models</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zhuo Chen 
<br class="ltx_break"/>Wuhan University
<br class="ltx_break"/>Wuhan, China 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id1.1.id1">chenzhuo432@whu.edu.cn</span>
<br class="ltx_break"/>&amp;Jiawei Liu
<br class="ltx_break"/>Wuhan University 
<br class="ltx_break"/>Wuhan, China 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id2.2.id2">laujames2017@whu.edu.cn</span>
<br class="ltx_break"/>Haotan Liu 
<br class="ltx_break"/>Wuhan University 
<br class="ltx_break"/>Wuhan, China 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id3.3.id3">baker-haotanliu@whu.edu.cn</span>
<br class="ltx_break"/>&amp;Qikai Cheng 
<br class="ltx_break"/>Wuhan University 
<br class="ltx_break"/>Wuhan, China 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id4.4.id4">chengqikai@whu.edu.cn</span>
<br class="ltx_break"/>&amp;Fan Zhang 
<br class="ltx_break"/>Wuhan University 
<br class="ltx_break"/>Wuhan, China 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id5.5.id5">fan.zhang@whu.edu.cn</span>
<br class="ltx_break"/>Wei Lu
<br class="ltx_break"/>Wuhan University 
<br class="ltx_break"/>Wuhan, China 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id6.6.id6">weilu@whu.edu.cn</span>
<br class="ltx_break"/>&amp;Xiaozhong Liu
<br class="ltx_break"/>Worcester Polytechnic Institute 
<br class="ltx_break"/>USA 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id7.7.id7">xliu14@wpi.edu</span>
<br class="ltx_break"/>
</span><span class="ltx_author_notes">Corresponding author.</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id8.id1">Retrieval-Augmented Generation (RAG) is applied to solve hallucination problems and real-time constraints of large language models, but it also induces vulnerabilities against retrieval corruption attacks. Existing research mainly explores the unreliability of RAG in white-box and closed-domain QA tasks. In this paper, we aim to reveal the vulnerabilities of Retrieval-Enhanced Generative (RAG) models when faced with black-box attacks for opinion manipulation. We explore the impact of such attacks on user cognition and decision-making, providing new insight to enhance the reliability and security of RAG models. We manipulate the ranking results of the retrieval model in RAG with instruction and use these results as data to train a surrogate model. By employing adversarial retrieval attack methods to the surrogate model, black-box transfer attacks on RAG are further realized. Experiments conducted on opinion datasets across multiple topics show that the proposed attack strategy can significantly alter the opinion polarity of the content generated by RAG. This demonstrates the model’s vulnerability and, more importantly, reveals the potential negative impact on user cognition and decision-making, making it easier to mislead users into accepting incorrect or biased information.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">With the rapid development of artificial intelligence, large language models (LLMs) have demonstrated exceptional capabilities in the field of natural language processing. However, constrained by their training data, these models have limited scope of knowledge and lack the most up-to-date information, which can lead to errors or hallucinations when tackling more complex or time-sensitive tasks. Retrieval-Augmented Generation (RAG) combines information retrieval with the generative capabilities of large language models, enhancing the timeliness of knowledge acquisition and effectively mitigating the hallucination problem of these models. When given a query, RAG retrieves the most relevant passages from a knowledge base to augment the input request for the LLM. For example, the retrieved knowledge may consist of a series of text snippets that are semantically most similar to the query. RAG has inspired many popular applications, such as Microsoft Bing Chat, ERNIE Bot, and KimiChat, which use RAG to summarize retrieval results for improved user experience. Open-source projects like LangChain and LlamaIndex provide developers with flexible RAG frameworks to build customized AI applications using LLMs, retrieval models and knowledge bases.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">However, as the application scope of RAG expands, its security is increasingly a concern, especially regarding the model performance when faced with malicious attacks. The basic RAG process typically consists of three components: the corpus(refers knowledge bases), the retriever, and the generative large language model. When some of the retrieved passages are corrupted by malicious manipulators, the RAG process can become vulnerable; this is referred to as a retrieval manipulation attack in this paper. Numerous studies have explored various forms of retrieval manipulation attacks, such as adversarial attack on the retriever <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib14" title="">14</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib16" title="">16</a>]</cite>, prompt injection attack <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib1" title="">1</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib15" title="">15</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib10" title="">10</a>]</cite>, jailbreak attack for LLM <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib6" title="">6</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib12" title="">12</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib27" title="">27</a>]</cite>, and poisoning attack targeting the retrieval corpus in RAG <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib29" title="">29</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib23" title="">23</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">This paper primarily focuses on adversarial ranking poisoning attacks against the retriever in RAG and how such attacks indirectly affect the generative results of the LLM. The threat model presented here is closer to a real-world black-box scenario and can be specifically modeled as follows: the attacker can only make requests to the large model and cannot access the complete corpus, the retriever, or the parameters of the RAG. The attacker can only insert adversarially modified candidate texts into the corpus, while the retriever and the LLM remain black-boxed, intact and unmodifiable. Based on previous studies <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib2" title="">2</a>]</cite>, the retrieval corpus and knowledge base contain millions of candidate texts sourced from the internet, allowing attackers to inject adversarially modified candidate texts by maliciously crafting web content or encyclopedia pages. Representative previous studies by Cho et al. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib4" title="">4</a>]</cite> and Zhong et al. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib28" title="">28</a>]</cite> utilized predefined white-box retrievers, which are challenging to achieve in real-world scenarios with limited flexibility and practicality. Moreover, these works did not consider testing attacks specifically targeting the integrated generation process, where practical integrated models may mitigate the effects of attacks solely targeting the retriever, thereby reducing their effectiveness. Furthermore, another notable work, PoisonedRAG <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib29" title="">29</a>]</cite>, implemented black-box retrieval poisoning attacks on RAG knowledge bases, effectively exposing relevant security vulnerabilities of RAG. However, its experiments mainly focused on closed-domain question answering, such as "Who is the CEO of OpenAI?" Such questions can be corrected when RAG is combined with fact-checking and value alignment of LLMs. The vulnerabilities explored in this paper primarily target open-ended, controversial, and opinion-based questions in RAG, such as "Should abortion be legal?" These questions demand higher levels of logical analysis and summarization capabilities from large models. Current research in controversial topics is limited, and attacks manipulating opinions on opinion-based questions could potentially cause more profound harm.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Open-ended and controversial topics are issues that lack consensus due to differing opinions and attract widespread attention. These topics often involve opinions from different perspectives, influencing public perception when they are widely discussed. For example, in political elections, Robert Epstein <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib8" title="">8</a>]</cite> found that manipulating search engines to produce biased search results can alter voters’ voting preferences. Placing passages favoring a particular candidate at the top significantly affects voter trust and favorability towards that candidate. Today, the issue of information homogenization in "information bubbles" has been a major concern among scholars. Zhang Yue et al. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib24" title="">24</a>]</cite> proposed that homogenization in information bubbles manifests in three dimensions: selective homogenization, content homogenization, and group homogenization. Content homogenization refers to the phenomenon where people using online media encounter homogeneity in the presented content, often due to the "filter bubbles" that are created by recommendation systems and selectively feed biased information. In scenarios of open-ended and controversial topics, "information bubbles" can lead to the homogenization of user opinions, with people’s views being easily influenced by the stance of the information they encounter. Through manual construction or search engine optimization, opinion manipulation attacks or "cognitive warfare" in open-ended controversial topics is actually widespread in practical applications such as social media and news platform. This phenomenon has numerous negative impacts on society. With the development of large language models, opinion manipulation exploiting RAG vulnerabilities poses a particularly severe threat. Attackers can influence the stance of the model generated content with carefully designed inputs, further endangering users’ cognition and decision-making processes. Therefore, it is of significant theoretical and practical importance to study the vulnerabilities of RAG models against opinion manipulation attacks in black-box setting.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">In short, this paper aims to explore the reliability of RAG against black-box opinion manipulation attacks in open-ended controversial topics and investigate the impact of such attacks on user cognition and decision-making. Specifically, we first send specific instructions to obtain the ranking of the retrieval results in the RAG model and analyze the working mechanism of its retrieval module. We train a surrogate model on the obtained retrieval ranking data to approximate the features and relevance preferences of the retriever in RAG <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib14" title="">14</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib21" title="">21</a>]</cite>. Based on the surrogate model, we design adversarial retrieval attack strategies to manipulate the opinions of candidate documents. By attacking this surrogate model, we generate adversarial opinion manipulation samples and transfer these adversarial samples to the actual RAG model. We then conduct experiments on opinion datasets across multiple topics to validate the effectiveness and impact range of the attack strategies without understanding the internal knowledge of the RAG model. Experiments conducted on opinion datasets across multiple topics show that the proposed attack strategy can significantly alter the opinion polarity of the content generated by RAG. This not only demonstrates the vulnerability of the model but, more importantly, reveals the potential negative impact on user cognition and decision-making, making it easier to mislead users into accepting incorrect or biased information.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Works</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">Research on the reliability of neural network models has long been established. In 2013, Szegedy et al. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib18" title="">18</a>]</cite> found that applying imperceptible perturbations to a neural network model during a classification task was sufficient to cause classification errors in CV. Later, scholars observed similar phenomenon in NLP. Robin et al. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib11" title="">11</a>]</cite> found that inserting perturbed text into original paragraphs significantly distracts computer systems without changing the correct answer or misleading humans. It reflects the robustness of neural network models, i.e., the ability to output stable and correct predictions in tackling the imperceptible additive noises <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib20" title="">20</a>]</cite>. For large language models, Wang et al. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib19" title="">19</a>]</cite> proposed a comprehensive trustworthiness evaluation framework for LLMs, assessing their reliability from various perspectives such as toxicity, adversarial robustness, stereotype bias, and fairness. While large language models have greater capabilities compared to general deep neural network models, they also raise more concerns regarding security and reliability.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">As RAG is designed to overcome the hallucination problem in LLMs and enhance their generative capabilities, the reliability of the content generated by RAG is also a major concern. Zhang et al. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib25" title="">25</a>]</cite> attempted to explore the weaknesses of RAG by analyzing critical components in order to facilitate the injection of the attack sequence and crafting the malicious document with a gradient-guided token mutation technique. Xiang et al. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib22" title="">22</a>]</cite> designed an isolate-then-aggregate strategy, which gets responses of LLMs from each passage in isolation and then securely aggregate these isolated responses, to construct the first defense framework against retrieval corruption attacks. These studies are based on white-box scenarios and primarily focus on the robustness of RAG against corrupted and toxic content.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1">This paper intends to use adversarial retrieval attack strategies to perturb the ranking results of the retriever, ensuring that opinion documents with a certain stance are ranked as high as possible, thereby guiding the generated responses of the LLM to reflect that stance.</p>
</div>
<div class="ltx_para" id="S2.p4">
<p class="ltx_p" id="S2.p4.1">The adversarial retrieval attack strategy starts with manipulation at the word level. Under white-box setting, Ebrahimi et al. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib7" title="">7</a>]</cite> utilize an atomic flip operation, which swaps one token for an other, to generate adversarial examples and the method, known as Hotflip. Hotflip gets rid of reliance on rules, but the adversarial text it generate usually has incomplete semantics and insufficient grammar fluency. While it can deceive the target model, it cannot evade perplexity-based defenses. Wu et al. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib21" title="">21</a>]</cite> also proposed a word substitution ranking attack method called PRADA. To enhance the readability and effectiveness of the adversarial text, scholars further designed sentence-level ranking attack methods. Song et al. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib17" title="">17</a>]</cite> propose an adversarial method under white-box setting, named Collision, which uses gradient optimization and beam search to produce the adversarial text named collision. The Collision method further imposes a soft constraint on collision generation by integrating a language model, reducing the perplexity of the collision. The method has shown promising<cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib14" title="">14</a>]</cite> propose the Pairwise Anchor-based Trigger (PAT) method under black-box setting. Added the fluency constraint and the next sentence prediction constraint, the method generates adversarial text by optimizing the pairwise loss of top candidates and target candidates with adversarial text. Although the time complexity of PAT has increased compared to previous methods, PAT takes ranking similarity and semantic consistency into account, so its manipulation effect on the retrieval ranking of target candidates is superior.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Method</h2>
<figure class="ltx_figure" id="S3.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="273" id="S3.F1.g1" src="extracted/5738426/method_2.png" width="877"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>The method for manipulating the opinions of RAG-generated content in black-box scenario</figcaption>
</figure>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">This paper attempts to manipulate the opinions in the responses generated by black-box RAG models on controversial topics, targeting both the retrieval model and the LLM which performs the integrated generation task. Zhang et al. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib25" title="">25</a>]</cite> tried to poison context documents to deceive the LLM into generating incorrect content, but this method requires extensive internal details of the LLM application, making it less feasible in real-world scenarios. For black-box RAG, the manipulator has no knowledge of the internal information of the RAG, including model architecture and score function, and can only access the inputs and outputs of the RAG. Specially, the manipulator can only call the interface of the LLM in RAG instead of that of the retriever. Since the inputs consist of the query and the candidate documents and the user’s query cannot be altered, this paper focuses on modifying the candidate documents. Although the manipulator cannot access the entire corpus, they can insert adversarially modified candidate texts into the corpus. The basic framework of RAG consists of the retriever and the generative large language model, which the two are serially connected, the LLM performs the generation task based on the context information retrieved by the retriever. Given that manipulators in a black-box scenario cannot modify the system prompts of the generative large model, it is difficult to directly manipulate the generation results by exploiting the reliability flaws of the LLM itself. Therefore, this paper focuses on exploiting the reliability flaws of the retriever to manipulate the retrieval ranking results. By adding adversarial texts to candidate documents that hold the expected opinion, we increase their relevance to the query, making them more likely to be included in the context passed to the generative large language model. Leveraging the strong capability of LLM for understanding and following instructions, we guide the LLM to generate responses that align with the expected opinion. An overview of this method is shown in Figure 1.</p>
</div>
<div class="ltx_para" id="S3.p2">
<p class="ltx_p" id="S3.p2.17">The specific approach for manipulating RAG opinions on controversial topics is as follows: Given a topic <math alttext="q" class="ltx_Math" display="inline" id="S3.p2.1.m1.1"><semantics id="S3.p2.1.m1.1a"><mi id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><ci id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.p2.1.m1.1d">italic_q</annotation></semantics></math> (the query) from a set of controversial topics <math alttext="Q" class="ltx_Math" display="inline" id="S3.p2.2.m2.1"><semantics id="S3.p2.2.m2.1a"><mi id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><ci id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S3.p2.2.m2.1d">italic_Q</annotation></semantics></math>, we select a expected opinion <math alttext="S_{t}" class="ltx_Math" display="inline" id="S3.p2.3.m3.1"><semantics id="S3.p2.3.m3.1a"><msub id="S3.p2.3.m3.1.1" xref="S3.p2.3.m3.1.1.cmml"><mi id="S3.p2.3.m3.1.1.2" xref="S3.p2.3.m3.1.1.2.cmml">S</mi><mi id="S3.p2.3.m3.1.1.3" xref="S3.p2.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.3.m3.1b"><apply id="S3.p2.3.m3.1.1.cmml" xref="S3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p2.3.m3.1.1.1.cmml" xref="S3.p2.3.m3.1.1">subscript</csymbol><ci id="S3.p2.3.m3.1.1.2.cmml" xref="S3.p2.3.m3.1.1.2">𝑆</ci><ci id="S3.p2.3.m3.1.1.3.cmml" xref="S3.p2.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.3.m3.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.3.m3.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and target all candidate documents <math alttext="d_{t}" class="ltx_Math" display="inline" id="S3.p2.4.m4.1"><semantics id="S3.p2.4.m4.1a"><msub id="S3.p2.4.m4.1.1" xref="S3.p2.4.m4.1.1.cmml"><mi id="S3.p2.4.m4.1.1.2" xref="S3.p2.4.m4.1.1.2.cmml">d</mi><mi id="S3.p2.4.m4.1.1.3" xref="S3.p2.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.4.m4.1b"><apply id="S3.p2.4.m4.1.1.cmml" xref="S3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.p2.4.m4.1.1.1.cmml" xref="S3.p2.4.m4.1.1">subscript</csymbol><ci id="S3.p2.4.m4.1.1.2.cmml" xref="S3.p2.4.m4.1.1.2">𝑑</ci><ci id="S3.p2.4.m4.1.1.3.cmml" xref="S3.p2.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m4.1c">d_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.4.m4.1d">italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> in the retrieval corpus <math alttext="D" class="ltx_Math" display="inline" id="S3.p2.5.m5.1"><semantics id="S3.p2.5.m5.1a"><mi id="S3.p2.5.m5.1.1" xref="S3.p2.5.m5.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.p2.5.m5.1b"><ci id="S3.p2.5.m5.1.1.cmml" xref="S3.p2.5.m5.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.5.m5.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.p2.5.m5.1d">italic_D</annotation></semantics></math> that hold the <math alttext="S_{t}" class="ltx_Math" display="inline" id="S3.p2.6.m6.1"><semantics id="S3.p2.6.m6.1a"><msub id="S3.p2.6.m6.1.1" xref="S3.p2.6.m6.1.1.cmml"><mi id="S3.p2.6.m6.1.1.2" xref="S3.p2.6.m6.1.1.2.cmml">S</mi><mi id="S3.p2.6.m6.1.1.3" xref="S3.p2.6.m6.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.6.m6.1b"><apply id="S3.p2.6.m6.1.1.cmml" xref="S3.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.p2.6.m6.1.1.1.cmml" xref="S3.p2.6.m6.1.1">subscript</csymbol><ci id="S3.p2.6.m6.1.1.2.cmml" xref="S3.p2.6.m6.1.1.2">𝑆</ci><ci id="S3.p2.6.m6.1.1.3.cmml" xref="S3.p2.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.6.m6.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.6.m6.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> opinion. After obtaining the adversarial text <math alttext="p_{\text{adv}}" class="ltx_Math" display="inline" id="S3.p2.7.m7.1"><semantics id="S3.p2.7.m7.1a"><msub id="S3.p2.7.m7.1.1" xref="S3.p2.7.m7.1.1.cmml"><mi id="S3.p2.7.m7.1.1.2" xref="S3.p2.7.m7.1.1.2.cmml">p</mi><mtext id="S3.p2.7.m7.1.1.3" xref="S3.p2.7.m7.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p2.7.m7.1b"><apply id="S3.p2.7.m7.1.1.cmml" xref="S3.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.p2.7.m7.1.1.1.cmml" xref="S3.p2.7.m7.1.1">subscript</csymbol><ci id="S3.p2.7.m7.1.1.2.cmml" xref="S3.p2.7.m7.1.1.2">𝑝</ci><ci id="S3.p2.7.m7.1.1.3a.cmml" xref="S3.p2.7.m7.1.1.3"><mtext id="S3.p2.7.m7.1.1.3.cmml" mathsize="70%" xref="S3.p2.7.m7.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.7.m7.1c">p_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.7.m7.1d">italic_p start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, it is added to <math alttext="d_{t}" class="ltx_Math" display="inline" id="S3.p2.8.m8.1"><semantics id="S3.p2.8.m8.1a"><msub id="S3.p2.8.m8.1.1" xref="S3.p2.8.m8.1.1.cmml"><mi id="S3.p2.8.m8.1.1.2" xref="S3.p2.8.m8.1.1.2.cmml">d</mi><mi id="S3.p2.8.m8.1.1.3" xref="S3.p2.8.m8.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.8.m8.1b"><apply id="S3.p2.8.m8.1.1.cmml" xref="S3.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S3.p2.8.m8.1.1.1.cmml" xref="S3.p2.8.m8.1.1">subscript</csymbol><ci id="S3.p2.8.m8.1.1.2.cmml" xref="S3.p2.8.m8.1.1.2">𝑑</ci><ci id="S3.p2.8.m8.1.1.3.cmml" xref="S3.p2.8.m8.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.8.m8.1c">d_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.8.m8.1d">italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, transforming the retrieval corpus to <math alttext="D(d;d_{t}\oplus p_{\text{adv}})" class="ltx_Math" display="inline" id="S3.p2.9.m9.2"><semantics id="S3.p2.9.m9.2a"><mrow id="S3.p2.9.m9.2.2" xref="S3.p2.9.m9.2.2.cmml"><mi id="S3.p2.9.m9.2.2.3" xref="S3.p2.9.m9.2.2.3.cmml">D</mi><mo id="S3.p2.9.m9.2.2.2" xref="S3.p2.9.m9.2.2.2.cmml">⁢</mo><mrow id="S3.p2.9.m9.2.2.1.1" xref="S3.p2.9.m9.2.2.1.2.cmml"><mo id="S3.p2.9.m9.2.2.1.1.2" stretchy="false" xref="S3.p2.9.m9.2.2.1.2.cmml">(</mo><mi id="S3.p2.9.m9.1.1" xref="S3.p2.9.m9.1.1.cmml">d</mi><mo id="S3.p2.9.m9.2.2.1.1.3" xref="S3.p2.9.m9.2.2.1.2.cmml">;</mo><mrow id="S3.p2.9.m9.2.2.1.1.1" xref="S3.p2.9.m9.2.2.1.1.1.cmml"><msub id="S3.p2.9.m9.2.2.1.1.1.2" xref="S3.p2.9.m9.2.2.1.1.1.2.cmml"><mi id="S3.p2.9.m9.2.2.1.1.1.2.2" xref="S3.p2.9.m9.2.2.1.1.1.2.2.cmml">d</mi><mi id="S3.p2.9.m9.2.2.1.1.1.2.3" xref="S3.p2.9.m9.2.2.1.1.1.2.3.cmml">t</mi></msub><mo id="S3.p2.9.m9.2.2.1.1.1.1" xref="S3.p2.9.m9.2.2.1.1.1.1.cmml">⊕</mo><msub id="S3.p2.9.m9.2.2.1.1.1.3" xref="S3.p2.9.m9.2.2.1.1.1.3.cmml"><mi id="S3.p2.9.m9.2.2.1.1.1.3.2" xref="S3.p2.9.m9.2.2.1.1.1.3.2.cmml">p</mi><mtext id="S3.p2.9.m9.2.2.1.1.1.3.3" xref="S3.p2.9.m9.2.2.1.1.1.3.3a.cmml">adv</mtext></msub></mrow><mo id="S3.p2.9.m9.2.2.1.1.4" stretchy="false" xref="S3.p2.9.m9.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.9.m9.2b"><apply id="S3.p2.9.m9.2.2.cmml" xref="S3.p2.9.m9.2.2"><times id="S3.p2.9.m9.2.2.2.cmml" xref="S3.p2.9.m9.2.2.2"></times><ci id="S3.p2.9.m9.2.2.3.cmml" xref="S3.p2.9.m9.2.2.3">𝐷</ci><list id="S3.p2.9.m9.2.2.1.2.cmml" xref="S3.p2.9.m9.2.2.1.1"><ci id="S3.p2.9.m9.1.1.cmml" xref="S3.p2.9.m9.1.1">𝑑</ci><apply id="S3.p2.9.m9.2.2.1.1.1.cmml" xref="S3.p2.9.m9.2.2.1.1.1"><csymbol cd="latexml" id="S3.p2.9.m9.2.2.1.1.1.1.cmml" xref="S3.p2.9.m9.2.2.1.1.1.1">direct-sum</csymbol><apply id="S3.p2.9.m9.2.2.1.1.1.2.cmml" xref="S3.p2.9.m9.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.p2.9.m9.2.2.1.1.1.2.1.cmml" xref="S3.p2.9.m9.2.2.1.1.1.2">subscript</csymbol><ci id="S3.p2.9.m9.2.2.1.1.1.2.2.cmml" xref="S3.p2.9.m9.2.2.1.1.1.2.2">𝑑</ci><ci id="S3.p2.9.m9.2.2.1.1.1.2.3.cmml" xref="S3.p2.9.m9.2.2.1.1.1.2.3">𝑡</ci></apply><apply id="S3.p2.9.m9.2.2.1.1.1.3.cmml" xref="S3.p2.9.m9.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.p2.9.m9.2.2.1.1.1.3.1.cmml" xref="S3.p2.9.m9.2.2.1.1.1.3">subscript</csymbol><ci id="S3.p2.9.m9.2.2.1.1.1.3.2.cmml" xref="S3.p2.9.m9.2.2.1.1.1.3.2">𝑝</ci><ci id="S3.p2.9.m9.2.2.1.1.1.3.3a.cmml" xref="S3.p2.9.m9.2.2.1.1.1.3.3"><mtext id="S3.p2.9.m9.2.2.1.1.1.3.3.cmml" mathsize="70%" xref="S3.p2.9.m9.2.2.1.1.1.3.3">adv</mtext></ci></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.9.m9.2c">D(d;d_{t}\oplus p_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="S3.p2.9.m9.2d">italic_D ( italic_d ; italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ⊕ italic_p start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math>. Since <math alttext="p_{\text{adv}}" class="ltx_Math" display="inline" id="S3.p2.10.m10.1"><semantics id="S3.p2.10.m10.1a"><msub id="S3.p2.10.m10.1.1" xref="S3.p2.10.m10.1.1.cmml"><mi id="S3.p2.10.m10.1.1.2" xref="S3.p2.10.m10.1.1.2.cmml">p</mi><mtext id="S3.p2.10.m10.1.1.3" xref="S3.p2.10.m10.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p2.10.m10.1b"><apply id="S3.p2.10.m10.1.1.cmml" xref="S3.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.p2.10.m10.1.1.1.cmml" xref="S3.p2.10.m10.1.1">subscript</csymbol><ci id="S3.p2.10.m10.1.1.2.cmml" xref="S3.p2.10.m10.1.1.2">𝑝</ci><ci id="S3.p2.10.m10.1.1.3a.cmml" xref="S3.p2.10.m10.1.1.3"><mtext id="S3.p2.10.m10.1.1.3.cmml" mathsize="70%" xref="S3.p2.10.m10.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.10.m10.1c">p_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.10.m10.1d">italic_p start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> can increase the relevance score <math alttext="R(q,d_{t}\oplus p_{\text{adv}})" class="ltx_Math" display="inline" id="S3.p2.11.m11.2"><semantics id="S3.p2.11.m11.2a"><mrow id="S3.p2.11.m11.2.2" xref="S3.p2.11.m11.2.2.cmml"><mi id="S3.p2.11.m11.2.2.3" xref="S3.p2.11.m11.2.2.3.cmml">R</mi><mo id="S3.p2.11.m11.2.2.2" xref="S3.p2.11.m11.2.2.2.cmml">⁢</mo><mrow id="S3.p2.11.m11.2.2.1.1" xref="S3.p2.11.m11.2.2.1.2.cmml"><mo id="S3.p2.11.m11.2.2.1.1.2" stretchy="false" xref="S3.p2.11.m11.2.2.1.2.cmml">(</mo><mi id="S3.p2.11.m11.1.1" xref="S3.p2.11.m11.1.1.cmml">q</mi><mo id="S3.p2.11.m11.2.2.1.1.3" xref="S3.p2.11.m11.2.2.1.2.cmml">,</mo><mrow id="S3.p2.11.m11.2.2.1.1.1" xref="S3.p2.11.m11.2.2.1.1.1.cmml"><msub id="S3.p2.11.m11.2.2.1.1.1.2" xref="S3.p2.11.m11.2.2.1.1.1.2.cmml"><mi id="S3.p2.11.m11.2.2.1.1.1.2.2" xref="S3.p2.11.m11.2.2.1.1.1.2.2.cmml">d</mi><mi id="S3.p2.11.m11.2.2.1.1.1.2.3" xref="S3.p2.11.m11.2.2.1.1.1.2.3.cmml">t</mi></msub><mo id="S3.p2.11.m11.2.2.1.1.1.1" xref="S3.p2.11.m11.2.2.1.1.1.1.cmml">⊕</mo><msub id="S3.p2.11.m11.2.2.1.1.1.3" xref="S3.p2.11.m11.2.2.1.1.1.3.cmml"><mi id="S3.p2.11.m11.2.2.1.1.1.3.2" xref="S3.p2.11.m11.2.2.1.1.1.3.2.cmml">p</mi><mtext id="S3.p2.11.m11.2.2.1.1.1.3.3" xref="S3.p2.11.m11.2.2.1.1.1.3.3a.cmml">adv</mtext></msub></mrow><mo id="S3.p2.11.m11.2.2.1.1.4" stretchy="false" xref="S3.p2.11.m11.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.11.m11.2b"><apply id="S3.p2.11.m11.2.2.cmml" xref="S3.p2.11.m11.2.2"><times id="S3.p2.11.m11.2.2.2.cmml" xref="S3.p2.11.m11.2.2.2"></times><ci id="S3.p2.11.m11.2.2.3.cmml" xref="S3.p2.11.m11.2.2.3">𝑅</ci><interval closure="open" id="S3.p2.11.m11.2.2.1.2.cmml" xref="S3.p2.11.m11.2.2.1.1"><ci id="S3.p2.11.m11.1.1.cmml" xref="S3.p2.11.m11.1.1">𝑞</ci><apply id="S3.p2.11.m11.2.2.1.1.1.cmml" xref="S3.p2.11.m11.2.2.1.1.1"><csymbol cd="latexml" id="S3.p2.11.m11.2.2.1.1.1.1.cmml" xref="S3.p2.11.m11.2.2.1.1.1.1">direct-sum</csymbol><apply id="S3.p2.11.m11.2.2.1.1.1.2.cmml" xref="S3.p2.11.m11.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.p2.11.m11.2.2.1.1.1.2.1.cmml" xref="S3.p2.11.m11.2.2.1.1.1.2">subscript</csymbol><ci id="S3.p2.11.m11.2.2.1.1.1.2.2.cmml" xref="S3.p2.11.m11.2.2.1.1.1.2.2">𝑑</ci><ci id="S3.p2.11.m11.2.2.1.1.1.2.3.cmml" xref="S3.p2.11.m11.2.2.1.1.1.2.3">𝑡</ci></apply><apply id="S3.p2.11.m11.2.2.1.1.1.3.cmml" xref="S3.p2.11.m11.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.p2.11.m11.2.2.1.1.1.3.1.cmml" xref="S3.p2.11.m11.2.2.1.1.1.3">subscript</csymbol><ci id="S3.p2.11.m11.2.2.1.1.1.3.2.cmml" xref="S3.p2.11.m11.2.2.1.1.1.3.2">𝑝</ci><ci id="S3.p2.11.m11.2.2.1.1.1.3.3a.cmml" xref="S3.p2.11.m11.2.2.1.1.1.3.3"><mtext id="S3.p2.11.m11.2.2.1.1.1.3.3.cmml" mathsize="70%" xref="S3.p2.11.m11.2.2.1.1.1.3.3">adv</mtext></ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.11.m11.2c">R(q,d_{t}\oplus p_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="S3.p2.11.m11.2d">italic_R ( italic_q , italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ⊕ italic_p start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math> assigned by the retrieval model <span class="ltx_text ltx_markedasmath" id="S3.p2.17.1">RM</span> to <math alttext="d_{t}" class="ltx_Math" display="inline" id="S3.p2.13.m13.1"><semantics id="S3.p2.13.m13.1a"><msub id="S3.p2.13.m13.1.1" xref="S3.p2.13.m13.1.1.cmml"><mi id="S3.p2.13.m13.1.1.2" xref="S3.p2.13.m13.1.1.2.cmml">d</mi><mi id="S3.p2.13.m13.1.1.3" xref="S3.p2.13.m13.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.13.m13.1b"><apply id="S3.p2.13.m13.1.1.cmml" xref="S3.p2.13.m13.1.1"><csymbol cd="ambiguous" id="S3.p2.13.m13.1.1.1.cmml" xref="S3.p2.13.m13.1.1">subscript</csymbol><ci id="S3.p2.13.m13.1.1.2.cmml" xref="S3.p2.13.m13.1.1.2">𝑑</ci><ci id="S3.p2.13.m13.1.1.3.cmml" xref="S3.p2.13.m13.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.13.m13.1c">d_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.13.m13.1d">italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> for query <math alttext="q" class="ltx_Math" display="inline" id="S3.p2.14.m14.1"><semantics id="S3.p2.14.m14.1a"><mi id="S3.p2.14.m14.1.1" xref="S3.p2.14.m14.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.p2.14.m14.1b"><ci id="S3.p2.14.m14.1.1.cmml" xref="S3.p2.14.m14.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.14.m14.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.p2.14.m14.1d">italic_q</annotation></semantics></math>, ideally <math alttext="d_{t}" class="ltx_Math" display="inline" id="S3.p2.15.m15.1"><semantics id="S3.p2.15.m15.1a"><msub id="S3.p2.15.m15.1.1" xref="S3.p2.15.m15.1.1.cmml"><mi id="S3.p2.15.m15.1.1.2" xref="S3.p2.15.m15.1.1.2.cmml">d</mi><mi id="S3.p2.15.m15.1.1.3" xref="S3.p2.15.m15.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.15.m15.1b"><apply id="S3.p2.15.m15.1.1.cmml" xref="S3.p2.15.m15.1.1"><csymbol cd="ambiguous" id="S3.p2.15.m15.1.1.1.cmml" xref="S3.p2.15.m15.1.1">subscript</csymbol><ci id="S3.p2.15.m15.1.1.2.cmml" xref="S3.p2.15.m15.1.1.2">𝑑</ci><ci id="S3.p2.15.m15.1.1.3.cmml" xref="S3.p2.15.m15.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.15.m15.1c">d_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.15.m15.1d">italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> will be ranked at the top of the retrieval results <math alttext="\text{RM}_{k}(q)=\{d\mid d_{t}\oplus p_{\text{adv}}\}" class="ltx_Math" display="inline" id="S3.p2.16.m16.3"><semantics id="S3.p2.16.m16.3a"><mrow id="S3.p2.16.m16.3.3" xref="S3.p2.16.m16.3.3.cmml"><mrow id="S3.p2.16.m16.3.3.3" xref="S3.p2.16.m16.3.3.3.cmml"><msub id="S3.p2.16.m16.3.3.3.2" xref="S3.p2.16.m16.3.3.3.2.cmml"><mtext id="S3.p2.16.m16.3.3.3.2.2" xref="S3.p2.16.m16.3.3.3.2.2a.cmml">RM</mtext><mi id="S3.p2.16.m16.3.3.3.2.3" xref="S3.p2.16.m16.3.3.3.2.3.cmml">k</mi></msub><mo id="S3.p2.16.m16.3.3.3.1" xref="S3.p2.16.m16.3.3.3.1.cmml">⁢</mo><mrow id="S3.p2.16.m16.3.3.3.3.2" xref="S3.p2.16.m16.3.3.3.cmml"><mo id="S3.p2.16.m16.3.3.3.3.2.1" stretchy="false" xref="S3.p2.16.m16.3.3.3.cmml">(</mo><mi id="S3.p2.16.m16.1.1" xref="S3.p2.16.m16.1.1.cmml">q</mi><mo id="S3.p2.16.m16.3.3.3.3.2.2" stretchy="false" xref="S3.p2.16.m16.3.3.3.cmml">)</mo></mrow></mrow><mo id="S3.p2.16.m16.3.3.2" xref="S3.p2.16.m16.3.3.2.cmml">=</mo><mrow id="S3.p2.16.m16.3.3.1.1" xref="S3.p2.16.m16.3.3.1.2.cmml"><mo id="S3.p2.16.m16.3.3.1.1.2" stretchy="false" xref="S3.p2.16.m16.3.3.1.2.1.cmml">{</mo><mi id="S3.p2.16.m16.2.2" xref="S3.p2.16.m16.2.2.cmml">d</mi><mo fence="true" id="S3.p2.16.m16.3.3.1.1.3" lspace="0em" rspace="0em" xref="S3.p2.16.m16.3.3.1.2.1.cmml">∣</mo><mrow id="S3.p2.16.m16.3.3.1.1.1" xref="S3.p2.16.m16.3.3.1.1.1.cmml"><msub id="S3.p2.16.m16.3.3.1.1.1.2" xref="S3.p2.16.m16.3.3.1.1.1.2.cmml"><mi id="S3.p2.16.m16.3.3.1.1.1.2.2" xref="S3.p2.16.m16.3.3.1.1.1.2.2.cmml">d</mi><mi id="S3.p2.16.m16.3.3.1.1.1.2.3" xref="S3.p2.16.m16.3.3.1.1.1.2.3.cmml">t</mi></msub><mo id="S3.p2.16.m16.3.3.1.1.1.1" xref="S3.p2.16.m16.3.3.1.1.1.1.cmml">⊕</mo><msub id="S3.p2.16.m16.3.3.1.1.1.3" xref="S3.p2.16.m16.3.3.1.1.1.3.cmml"><mi id="S3.p2.16.m16.3.3.1.1.1.3.2" xref="S3.p2.16.m16.3.3.1.1.1.3.2.cmml">p</mi><mtext id="S3.p2.16.m16.3.3.1.1.1.3.3" xref="S3.p2.16.m16.3.3.1.1.1.3.3a.cmml">adv</mtext></msub></mrow><mo id="S3.p2.16.m16.3.3.1.1.4" stretchy="false" xref="S3.p2.16.m16.3.3.1.2.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.16.m16.3b"><apply id="S3.p2.16.m16.3.3.cmml" xref="S3.p2.16.m16.3.3"><eq id="S3.p2.16.m16.3.3.2.cmml" xref="S3.p2.16.m16.3.3.2"></eq><apply id="S3.p2.16.m16.3.3.3.cmml" xref="S3.p2.16.m16.3.3.3"><times id="S3.p2.16.m16.3.3.3.1.cmml" xref="S3.p2.16.m16.3.3.3.1"></times><apply id="S3.p2.16.m16.3.3.3.2.cmml" xref="S3.p2.16.m16.3.3.3.2"><csymbol cd="ambiguous" id="S3.p2.16.m16.3.3.3.2.1.cmml" xref="S3.p2.16.m16.3.3.3.2">subscript</csymbol><ci id="S3.p2.16.m16.3.3.3.2.2a.cmml" xref="S3.p2.16.m16.3.3.3.2.2"><mtext id="S3.p2.16.m16.3.3.3.2.2.cmml" xref="S3.p2.16.m16.3.3.3.2.2">RM</mtext></ci><ci id="S3.p2.16.m16.3.3.3.2.3.cmml" xref="S3.p2.16.m16.3.3.3.2.3">𝑘</ci></apply><ci id="S3.p2.16.m16.1.1.cmml" xref="S3.p2.16.m16.1.1">𝑞</ci></apply><apply id="S3.p2.16.m16.3.3.1.2.cmml" xref="S3.p2.16.m16.3.3.1.1"><csymbol cd="latexml" id="S3.p2.16.m16.3.3.1.2.1.cmml" xref="S3.p2.16.m16.3.3.1.1.2">conditional-set</csymbol><ci id="S3.p2.16.m16.2.2.cmml" xref="S3.p2.16.m16.2.2">𝑑</ci><apply id="S3.p2.16.m16.3.3.1.1.1.cmml" xref="S3.p2.16.m16.3.3.1.1.1"><csymbol cd="latexml" id="S3.p2.16.m16.3.3.1.1.1.1.cmml" xref="S3.p2.16.m16.3.3.1.1.1.1">direct-sum</csymbol><apply id="S3.p2.16.m16.3.3.1.1.1.2.cmml" xref="S3.p2.16.m16.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S3.p2.16.m16.3.3.1.1.1.2.1.cmml" xref="S3.p2.16.m16.3.3.1.1.1.2">subscript</csymbol><ci id="S3.p2.16.m16.3.3.1.1.1.2.2.cmml" xref="S3.p2.16.m16.3.3.1.1.1.2.2">𝑑</ci><ci id="S3.p2.16.m16.3.3.1.1.1.2.3.cmml" xref="S3.p2.16.m16.3.3.1.1.1.2.3">𝑡</ci></apply><apply id="S3.p2.16.m16.3.3.1.1.1.3.cmml" xref="S3.p2.16.m16.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.p2.16.m16.3.3.1.1.1.3.1.cmml" xref="S3.p2.16.m16.3.3.1.1.1.3">subscript</csymbol><ci id="S3.p2.16.m16.3.3.1.1.1.3.2.cmml" xref="S3.p2.16.m16.3.3.1.1.1.3.2">𝑝</ci><ci id="S3.p2.16.m16.3.3.1.1.1.3.3a.cmml" xref="S3.p2.16.m16.3.3.1.1.1.3.3"><mtext id="S3.p2.16.m16.3.3.1.1.1.3.3.cmml" mathsize="70%" xref="S3.p2.16.m16.3.3.1.1.1.3.3">adv</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.16.m16.3c">\text{RM}_{k}(q)=\{d\mid d_{t}\oplus p_{\text{adv}}\}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.16.m16.3d">RM start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ( italic_q ) = { italic_d ∣ italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ⊕ italic_p start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT }</annotation></semantics></math>, guiding the large language model to generate responses that align with the expected opinion: <math alttext="S(\text{LLM}(q,\text{RM}_{k}(q)))=S_{t}" class="ltx_Math" display="inline" id="S3.p2.17.m17.3"><semantics id="S3.p2.17.m17.3a"><mrow id="S3.p2.17.m17.3.3" xref="S3.p2.17.m17.3.3.cmml"><mrow id="S3.p2.17.m17.3.3.1" xref="S3.p2.17.m17.3.3.1.cmml"><mi id="S3.p2.17.m17.3.3.1.3" xref="S3.p2.17.m17.3.3.1.3.cmml">S</mi><mo id="S3.p2.17.m17.3.3.1.2" xref="S3.p2.17.m17.3.3.1.2.cmml">⁢</mo><mrow id="S3.p2.17.m17.3.3.1.1.1" xref="S3.p2.17.m17.3.3.1.1.1.1.cmml"><mo id="S3.p2.17.m17.3.3.1.1.1.2" stretchy="false" xref="S3.p2.17.m17.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.p2.17.m17.3.3.1.1.1.1" xref="S3.p2.17.m17.3.3.1.1.1.1.cmml"><mtext id="S3.p2.17.m17.3.3.1.1.1.1.3" xref="S3.p2.17.m17.3.3.1.1.1.1.3a.cmml">LLM</mtext><mo id="S3.p2.17.m17.3.3.1.1.1.1.2" xref="S3.p2.17.m17.3.3.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.p2.17.m17.3.3.1.1.1.1.1.1" xref="S3.p2.17.m17.3.3.1.1.1.1.1.2.cmml"><mo id="S3.p2.17.m17.3.3.1.1.1.1.1.1.2" stretchy="false" xref="S3.p2.17.m17.3.3.1.1.1.1.1.2.cmml">(</mo><mi id="S3.p2.17.m17.2.2" xref="S3.p2.17.m17.2.2.cmml">q</mi><mo id="S3.p2.17.m17.3.3.1.1.1.1.1.1.3" xref="S3.p2.17.m17.3.3.1.1.1.1.1.2.cmml">,</mo><mrow id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.cmml"><msub id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.cmml"><mtext id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.2" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.2a.cmml">RM</mtext><mi id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.3" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.3.cmml">k</mi></msub><mo id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.1" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.1.cmml">⁢</mo><mrow id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.3.2" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.cmml"><mo id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.3.2.1" stretchy="false" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.cmml">(</mo><mi id="S3.p2.17.m17.1.1" xref="S3.p2.17.m17.1.1.cmml">q</mi><mo id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.3.2.2" stretchy="false" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.p2.17.m17.3.3.1.1.1.1.1.1.4" stretchy="false" xref="S3.p2.17.m17.3.3.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.p2.17.m17.3.3.1.1.1.3" stretchy="false" xref="S3.p2.17.m17.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.p2.17.m17.3.3.2" xref="S3.p2.17.m17.3.3.2.cmml">=</mo><msub id="S3.p2.17.m17.3.3.3" xref="S3.p2.17.m17.3.3.3.cmml"><mi id="S3.p2.17.m17.3.3.3.2" xref="S3.p2.17.m17.3.3.3.2.cmml">S</mi><mi id="S3.p2.17.m17.3.3.3.3" xref="S3.p2.17.m17.3.3.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.17.m17.3b"><apply id="S3.p2.17.m17.3.3.cmml" xref="S3.p2.17.m17.3.3"><eq id="S3.p2.17.m17.3.3.2.cmml" xref="S3.p2.17.m17.3.3.2"></eq><apply id="S3.p2.17.m17.3.3.1.cmml" xref="S3.p2.17.m17.3.3.1"><times id="S3.p2.17.m17.3.3.1.2.cmml" xref="S3.p2.17.m17.3.3.1.2"></times><ci id="S3.p2.17.m17.3.3.1.3.cmml" xref="S3.p2.17.m17.3.3.1.3">𝑆</ci><apply id="S3.p2.17.m17.3.3.1.1.1.1.cmml" xref="S3.p2.17.m17.3.3.1.1.1"><times id="S3.p2.17.m17.3.3.1.1.1.1.2.cmml" xref="S3.p2.17.m17.3.3.1.1.1.1.2"></times><ci id="S3.p2.17.m17.3.3.1.1.1.1.3a.cmml" xref="S3.p2.17.m17.3.3.1.1.1.1.3"><mtext id="S3.p2.17.m17.3.3.1.1.1.1.3.cmml" xref="S3.p2.17.m17.3.3.1.1.1.1.3">LLM</mtext></ci><interval closure="open" id="S3.p2.17.m17.3.3.1.1.1.1.1.2.cmml" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1"><ci id="S3.p2.17.m17.2.2.cmml" xref="S3.p2.17.m17.2.2">𝑞</ci><apply id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.cmml" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1"><times id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.1"></times><apply id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.1.cmml" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.2a.cmml" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.2"><mtext id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.2.cmml" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.2">RM</mtext></ci><ci id="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.3.cmml" xref="S3.p2.17.m17.3.3.1.1.1.1.1.1.1.2.3">𝑘</ci></apply><ci id="S3.p2.17.m17.1.1.cmml" xref="S3.p2.17.m17.1.1">𝑞</ci></apply></interval></apply></apply><apply id="S3.p2.17.m17.3.3.3.cmml" xref="S3.p2.17.m17.3.3.3"><csymbol cd="ambiguous" id="S3.p2.17.m17.3.3.3.1.cmml" xref="S3.p2.17.m17.3.3.3">subscript</csymbol><ci id="S3.p2.17.m17.3.3.3.2.cmml" xref="S3.p2.17.m17.3.3.3.2">𝑆</ci><ci id="S3.p2.17.m17.3.3.3.3.cmml" xref="S3.p2.17.m17.3.3.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.17.m17.3c">S(\text{LLM}(q,\text{RM}_{k}(q)))=S_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.17.m17.3d">italic_S ( LLM ( italic_q , RM start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ( italic_q ) ) ) = italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.p3">
<p class="ltx_p" id="S3.p3.8">The primary issue in implementing manipulation is to make the retrieval model of the black-box RAG transparent. This paper aims to simulate the retrieval model <math alttext="RM" class="ltx_Math" display="inline" id="S3.p3.1.m1.1"><semantics id="S3.p3.1.m1.1a"><mrow id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml"><mi id="S3.p3.1.m1.1.1.2" xref="S3.p3.1.m1.1.1.2.cmml">R</mi><mo id="S3.p3.1.m1.1.1.1" xref="S3.p3.1.m1.1.1.1.cmml">⁢</mo><mi id="S3.p3.1.m1.1.1.3" xref="S3.p3.1.m1.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><apply id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1"><times id="S3.p3.1.m1.1.1.1.cmml" xref="S3.p3.1.m1.1.1.1"></times><ci id="S3.p3.1.m1.1.1.2.cmml" xref="S3.p3.1.m1.1.1.2">𝑅</ci><ci id="S3.p3.1.m1.1.1.3.cmml" xref="S3.p3.1.m1.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">RM</annotation><annotation encoding="application/x-llamapun" id="S3.p3.1.m1.1d">italic_R italic_M</annotation></semantics></math>. The basic idea is to train a surrogate model <math alttext="M_{\text{i}}" class="ltx_Math" display="inline" id="S3.p3.2.m2.1"><semantics id="S3.p3.2.m2.1a"><msub id="S3.p3.2.m2.1.1" xref="S3.p3.2.m2.1.1.cmml"><mi id="S3.p3.2.m2.1.1.2" xref="S3.p3.2.m2.1.1.2.cmml">M</mi><mtext id="S3.p3.2.m2.1.1.3" xref="S3.p3.2.m2.1.1.3a.cmml">i</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p3.2.m2.1b"><apply id="S3.p3.2.m2.1.1.cmml" xref="S3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p3.2.m2.1.1.1.cmml" xref="S3.p3.2.m2.1.1">subscript</csymbol><ci id="S3.p3.2.m2.1.1.2.cmml" xref="S3.p3.2.m2.1.1.2">𝑀</ci><ci id="S3.p3.2.m2.1.1.3a.cmml" xref="S3.p3.2.m2.1.1.3"><mtext id="S3.p3.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.p3.2.m2.1.1.3">i</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.2.m2.1c">M_{\text{i}}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.2.m2.1d">italic_M start_POSTSUBSCRIPT i end_POSTSUBSCRIPT</annotation></semantics></math> with the ranking results <math alttext="RM_{\text{k}}(q)" class="ltx_Math" display="inline" id="S3.p3.3.m3.1"><semantics id="S3.p3.3.m3.1a"><mrow id="S3.p3.3.m3.1.2" xref="S3.p3.3.m3.1.2.cmml"><mi id="S3.p3.3.m3.1.2.2" xref="S3.p3.3.m3.1.2.2.cmml">R</mi><mo id="S3.p3.3.m3.1.2.1" xref="S3.p3.3.m3.1.2.1.cmml">⁢</mo><msub id="S3.p3.3.m3.1.2.3" xref="S3.p3.3.m3.1.2.3.cmml"><mi id="S3.p3.3.m3.1.2.3.2" xref="S3.p3.3.m3.1.2.3.2.cmml">M</mi><mtext id="S3.p3.3.m3.1.2.3.3" xref="S3.p3.3.m3.1.2.3.3a.cmml">k</mtext></msub><mo id="S3.p3.3.m3.1.2.1a" xref="S3.p3.3.m3.1.2.1.cmml">⁢</mo><mrow id="S3.p3.3.m3.1.2.4.2" xref="S3.p3.3.m3.1.2.cmml"><mo id="S3.p3.3.m3.1.2.4.2.1" stretchy="false" xref="S3.p3.3.m3.1.2.cmml">(</mo><mi id="S3.p3.3.m3.1.1" xref="S3.p3.3.m3.1.1.cmml">q</mi><mo id="S3.p3.3.m3.1.2.4.2.2" stretchy="false" xref="S3.p3.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.3.m3.1b"><apply id="S3.p3.3.m3.1.2.cmml" xref="S3.p3.3.m3.1.2"><times id="S3.p3.3.m3.1.2.1.cmml" xref="S3.p3.3.m3.1.2.1"></times><ci id="S3.p3.3.m3.1.2.2.cmml" xref="S3.p3.3.m3.1.2.2">𝑅</ci><apply id="S3.p3.3.m3.1.2.3.cmml" xref="S3.p3.3.m3.1.2.3"><csymbol cd="ambiguous" id="S3.p3.3.m3.1.2.3.1.cmml" xref="S3.p3.3.m3.1.2.3">subscript</csymbol><ci id="S3.p3.3.m3.1.2.3.2.cmml" xref="S3.p3.3.m3.1.2.3.2">𝑀</ci><ci id="S3.p3.3.m3.1.2.3.3a.cmml" xref="S3.p3.3.m3.1.2.3.3"><mtext id="S3.p3.3.m3.1.2.3.3.cmml" mathsize="70%" xref="S3.p3.3.m3.1.2.3.3">k</mtext></ci></apply><ci id="S3.p3.3.m3.1.1.cmml" xref="S3.p3.3.m3.1.1">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.3.m3.1c">RM_{\text{k}}(q)</annotation><annotation encoding="application/x-llamapun" id="S3.p3.3.m3.1d">italic_R italic_M start_POSTSUBSCRIPT k end_POSTSUBSCRIPT ( italic_q )</annotation></semantics></math> from the retrieval model <math alttext="RM" class="ltx_Math" display="inline" id="S3.p3.4.m4.1"><semantics id="S3.p3.4.m4.1a"><mrow id="S3.p3.4.m4.1.1" xref="S3.p3.4.m4.1.1.cmml"><mi id="S3.p3.4.m4.1.1.2" xref="S3.p3.4.m4.1.1.2.cmml">R</mi><mo id="S3.p3.4.m4.1.1.1" xref="S3.p3.4.m4.1.1.1.cmml">⁢</mo><mi id="S3.p3.4.m4.1.1.3" xref="S3.p3.4.m4.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.4.m4.1b"><apply id="S3.p3.4.m4.1.1.cmml" xref="S3.p3.4.m4.1.1"><times id="S3.p3.4.m4.1.1.1.cmml" xref="S3.p3.4.m4.1.1.1"></times><ci id="S3.p3.4.m4.1.1.2.cmml" xref="S3.p3.4.m4.1.1.2">𝑅</ci><ci id="S3.p3.4.m4.1.1.3.cmml" xref="S3.p3.4.m4.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.4.m4.1c">RM</annotation><annotation encoding="application/x-llamapun" id="S3.p3.4.m4.1d">italic_R italic_M</annotation></semantics></math>, thus turning the black-box retrieval model into a white-box model. However, since the retriever and the large generative model in RAG are serially connected, it is not possible to directly obtain the ranking results of the retriever. Therefore, this paper attempts to guide the large generative model to replicate the retrieval results of the black-box RAG. Therefore, this paper attempts to guide the large model to replicate the output of the retrieval model, so we obtain the text data deemed relevant by the black-box retrieval model <math alttext="RM" class="ltx_Math" display="inline" id="S3.p3.5.m5.1"><semantics id="S3.p3.5.m5.1a"><mrow id="S3.p3.5.m5.1.1" xref="S3.p3.5.m5.1.1.cmml"><mi id="S3.p3.5.m5.1.1.2" xref="S3.p3.5.m5.1.1.2.cmml">R</mi><mo id="S3.p3.5.m5.1.1.1" xref="S3.p3.5.m5.1.1.1.cmml">⁢</mo><mi id="S3.p3.5.m5.1.1.3" xref="S3.p3.5.m5.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.5.m5.1b"><apply id="S3.p3.5.m5.1.1.cmml" xref="S3.p3.5.m5.1.1"><times id="S3.p3.5.m5.1.1.1.cmml" xref="S3.p3.5.m5.1.1.1"></times><ci id="S3.p3.5.m5.1.1.2.cmml" xref="S3.p3.5.m5.1.1.2">𝑅</ci><ci id="S3.p3.5.m5.1.1.3.cmml" xref="S3.p3.5.m5.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.5.m5.1c">RM</annotation><annotation encoding="application/x-llamapun" id="S3.p3.5.m5.1d">italic_R italic_M</annotation></semantics></math>, which can be used as positive examples <math alttext="d_{+}" class="ltx_Math" display="inline" id="S3.p3.6.m6.1"><semantics id="S3.p3.6.m6.1a"><msub id="S3.p3.6.m6.1.1" xref="S3.p3.6.m6.1.1.cmml"><mi id="S3.p3.6.m6.1.1.2" xref="S3.p3.6.m6.1.1.2.cmml">d</mi><mo id="S3.p3.6.m6.1.1.3" xref="S3.p3.6.m6.1.1.3.cmml">+</mo></msub><annotation-xml encoding="MathML-Content" id="S3.p3.6.m6.1b"><apply id="S3.p3.6.m6.1.1.cmml" xref="S3.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S3.p3.6.m6.1.1.1.cmml" xref="S3.p3.6.m6.1.1">subscript</csymbol><ci id="S3.p3.6.m6.1.1.2.cmml" xref="S3.p3.6.m6.1.1.2">𝑑</ci><plus id="S3.p3.6.m6.1.1.3.cmml" xref="S3.p3.6.m6.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.6.m6.1c">d_{+}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.6.m6.1d">italic_d start_POSTSUBSCRIPT + end_POSTSUBSCRIPT</annotation></semantics></math> for black-box imitation training. Subsequently, irrelevant texts to the query can be random sampled as negative examples <math alttext="d_{-}" class="ltx_Math" display="inline" id="S3.p3.7.m7.1"><semantics id="S3.p3.7.m7.1a"><msub id="S3.p3.7.m7.1.1" xref="S3.p3.7.m7.1.1.cmml"><mi id="S3.p3.7.m7.1.1.2" xref="S3.p3.7.m7.1.1.2.cmml">d</mi><mo id="S3.p3.7.m7.1.1.3" xref="S3.p3.7.m7.1.1.3.cmml">−</mo></msub><annotation-xml encoding="MathML-Content" id="S3.p3.7.m7.1b"><apply id="S3.p3.7.m7.1.1.cmml" xref="S3.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S3.p3.7.m7.1.1.1.cmml" xref="S3.p3.7.m7.1.1">subscript</csymbol><ci id="S3.p3.7.m7.1.1.2.cmml" xref="S3.p3.7.m7.1.1.2">𝑑</ci><minus id="S3.p3.7.m7.1.1.3.cmml" xref="S3.p3.7.m7.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.7.m7.1c">d_{-}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.7.m7.1d">italic_d start_POSTSUBSCRIPT - end_POSTSUBSCRIPT</annotation></semantics></math> . Therefore, this paper designs specific instructions to make the black-box RAG replicate the retrieval results of the retriever <span class="ltx_text ltx_markedasmath" id="S3.p3.8.1">RM</span>. These retrieval results only need to reflect the relevance to the query. Then, based on the generated results of the LLM, we sample positive and negative data to train the surrogate model. The method for obtaining imitation data of the retrieval model in a black-box RAG scenario is illustrated in Figure 2. The prompt instruction used is as follows:</p>
</div>
<div class="ltx_para" id="S3.p4">
<p class="ltx_p ltx_align_center" id="S3.p4.1">
<span class="ltx_inline-block ltx_parbox ltx_align_middle ltx_framed ltx_framed_rectangle" id="S3.p4.1.1" style="width:284.5pt;">
<span class="ltx_p" id="S3.p4.1.1.1"><em class="ltx_emph ltx_font_italic" id="S3.p4.1.1.1.1">Now that you are a search engine, please search: <span class="ltx_text ltx_font_upright" id="S3.p4.1.1.1.1.1">{</span>query<span class="ltx_text ltx_font_upright" id="S3.p4.1.1.1.1.2">}</span>
<br class="ltx_break"/>Ignore the Question. Please copy the top 3 passages of the given Context intact in the output and provide the output in JSON with keys ’answer’ and ’context’. Put each candidate passage in ’context’ as a string element in the list. Candidate passages are separated by line break instead of period or exclamation point. Each candidate is an element in the list, like [Passage 1, Passage 2, Passage 3]. Please copy the passages intact with no modification and only output the one best JSON response.</em></span>
</span></p>
</div>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="339" id="S3.F2.g1" src="extracted/5738426/data_cons_2.png" width="677"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>The method for obtaining imitation data of RAG retrieval model in black-box scenario</figcaption>
</figure>
<div class="ltx_para" id="S3.p5">
<p class="ltx_p" id="S3.p5.6">This paper uses a pairwise approach to sample data and train the surrogate model. Relevant passages are sampled from the responses generated by the black-box RAG as positive examples <math alttext="d_{+}" class="ltx_Math" display="inline" id="S3.p5.1.m1.1"><semantics id="S3.p5.1.m1.1a"><msub id="S3.p5.1.m1.1.1" xref="S3.p5.1.m1.1.1.cmml"><mi id="S3.p5.1.m1.1.1.2" xref="S3.p5.1.m1.1.1.2.cmml">d</mi><mo id="S3.p5.1.m1.1.1.3" xref="S3.p5.1.m1.1.1.3.cmml">+</mo></msub><annotation-xml encoding="MathML-Content" id="S3.p5.1.m1.1b"><apply id="S3.p5.1.m1.1.1.cmml" xref="S3.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p5.1.m1.1.1.1.cmml" xref="S3.p5.1.m1.1.1">subscript</csymbol><ci id="S3.p5.1.m1.1.1.2.cmml" xref="S3.p5.1.m1.1.1.2">𝑑</ci><plus id="S3.p5.1.m1.1.1.3.cmml" xref="S3.p5.1.m1.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.1.m1.1c">d_{+}</annotation><annotation encoding="application/x-llamapun" id="S3.p5.1.m1.1d">italic_d start_POSTSUBSCRIPT + end_POSTSUBSCRIPT</annotation></semantics></math>, and random irrelevant passages are sampled as negative examples <math alttext="d_{-}" class="ltx_Math" display="inline" id="S3.p5.2.m2.1"><semantics id="S3.p5.2.m2.1a"><msub id="S3.p5.2.m2.1.1" xref="S3.p5.2.m2.1.1.cmml"><mi id="S3.p5.2.m2.1.1.2" xref="S3.p5.2.m2.1.1.2.cmml">d</mi><mo id="S3.p5.2.m2.1.1.3" xref="S3.p5.2.m2.1.1.3.cmml">−</mo></msub><annotation-xml encoding="MathML-Content" id="S3.p5.2.m2.1b"><apply id="S3.p5.2.m2.1.1.cmml" xref="S3.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p5.2.m2.1.1.1.cmml" xref="S3.p5.2.m2.1.1">subscript</csymbol><ci id="S3.p5.2.m2.1.1.2.cmml" xref="S3.p5.2.m2.1.1.2">𝑑</ci><minus id="S3.p5.2.m2.1.1.3.cmml" xref="S3.p5.2.m2.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.2.m2.1c">d_{-}</annotation><annotation encoding="application/x-llamapun" id="S3.p5.2.m2.1d">italic_d start_POSTSUBSCRIPT - end_POSTSUBSCRIPT</annotation></semantics></math>. The black-box RAG responds with context information so the responses generated reflect the retrieval results instead of being independent on the context. These sample pairs <math alttext="(d_{+},d_{-})" class="ltx_Math" display="inline" id="S3.p5.3.m3.2"><semantics id="S3.p5.3.m3.2a"><mrow id="S3.p5.3.m3.2.2.2" xref="S3.p5.3.m3.2.2.3.cmml"><mo id="S3.p5.3.m3.2.2.2.3" stretchy="false" xref="S3.p5.3.m3.2.2.3.cmml">(</mo><msub id="S3.p5.3.m3.1.1.1.1" xref="S3.p5.3.m3.1.1.1.1.cmml"><mi id="S3.p5.3.m3.1.1.1.1.2" xref="S3.p5.3.m3.1.1.1.1.2.cmml">d</mi><mo id="S3.p5.3.m3.1.1.1.1.3" xref="S3.p5.3.m3.1.1.1.1.3.cmml">+</mo></msub><mo id="S3.p5.3.m3.2.2.2.4" xref="S3.p5.3.m3.2.2.3.cmml">,</mo><msub id="S3.p5.3.m3.2.2.2.2" xref="S3.p5.3.m3.2.2.2.2.cmml"><mi id="S3.p5.3.m3.2.2.2.2.2" xref="S3.p5.3.m3.2.2.2.2.2.cmml">d</mi><mo id="S3.p5.3.m3.2.2.2.2.3" xref="S3.p5.3.m3.2.2.2.2.3.cmml">−</mo></msub><mo id="S3.p5.3.m3.2.2.2.5" stretchy="false" xref="S3.p5.3.m3.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.p5.3.m3.2b"><interval closure="open" id="S3.p5.3.m3.2.2.3.cmml" xref="S3.p5.3.m3.2.2.2"><apply id="S3.p5.3.m3.1.1.1.1.cmml" xref="S3.p5.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S3.p5.3.m3.1.1.1.1.1.cmml" xref="S3.p5.3.m3.1.1.1.1">subscript</csymbol><ci id="S3.p5.3.m3.1.1.1.1.2.cmml" xref="S3.p5.3.m3.1.1.1.1.2">𝑑</ci><plus id="S3.p5.3.m3.1.1.1.1.3.cmml" xref="S3.p5.3.m3.1.1.1.1.3"></plus></apply><apply id="S3.p5.3.m3.2.2.2.2.cmml" xref="S3.p5.3.m3.2.2.2.2"><csymbol cd="ambiguous" id="S3.p5.3.m3.2.2.2.2.1.cmml" xref="S3.p5.3.m3.2.2.2.2">subscript</csymbol><ci id="S3.p5.3.m3.2.2.2.2.2.cmml" xref="S3.p5.3.m3.2.2.2.2.2">𝑑</ci><minus id="S3.p5.3.m3.2.2.2.2.3.cmml" xref="S3.p5.3.m3.2.2.2.2.3"></minus></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.3.m3.2c">(d_{+},d_{-})</annotation><annotation encoding="application/x-llamapun" id="S3.p5.3.m3.2d">( italic_d start_POSTSUBSCRIPT + end_POSTSUBSCRIPT , italic_d start_POSTSUBSCRIPT - end_POSTSUBSCRIPT )</annotation></semantics></math> are incorporated into the training dataset. After sampling the imitation data, this paper uses a pairwise training method to obtain the surrogate model <math alttext="M_{i}" class="ltx_Math" display="inline" id="S3.p5.4.m4.1"><semantics id="S3.p5.4.m4.1a"><msub id="S3.p5.4.m4.1.1" xref="S3.p5.4.m4.1.1.cmml"><mi id="S3.p5.4.m4.1.1.2" xref="S3.p5.4.m4.1.1.2.cmml">M</mi><mi id="S3.p5.4.m4.1.1.3" xref="S3.p5.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p5.4.m4.1b"><apply id="S3.p5.4.m4.1.1.cmml" xref="S3.p5.4.m4.1.1"><csymbol cd="ambiguous" id="S3.p5.4.m4.1.1.1.cmml" xref="S3.p5.4.m4.1.1">subscript</csymbol><ci id="S3.p5.4.m4.1.1.2.cmml" xref="S3.p5.4.m4.1.1.2">𝑀</ci><ci id="S3.p5.4.m4.1.1.3.cmml" xref="S3.p5.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.4.m4.1c">M_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p5.4.m4.1d">italic_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>. Let the relevance score calculated by <math alttext="M_{i}" class="ltx_Math" display="inline" id="S3.p5.5.m5.1"><semantics id="S3.p5.5.m5.1a"><msub id="S3.p5.5.m5.1.1" xref="S3.p5.5.m5.1.1.cmml"><mi id="S3.p5.5.m5.1.1.2" xref="S3.p5.5.m5.1.1.2.cmml">M</mi><mi id="S3.p5.5.m5.1.1.3" xref="S3.p5.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p5.5.m5.1b"><apply id="S3.p5.5.m5.1.1.cmml" xref="S3.p5.5.m5.1.1"><csymbol cd="ambiguous" id="S3.p5.5.m5.1.1.1.cmml" xref="S3.p5.5.m5.1.1">subscript</csymbol><ci id="S3.p5.5.m5.1.1.2.cmml" xref="S3.p5.5.m5.1.1.2">𝑀</ci><ci id="S3.p5.5.m5.1.1.3.cmml" xref="S3.p5.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.5.m5.1c">M_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p5.5.m5.1d">italic_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> be <math alttext="R_{i}" class="ltx_Math" display="inline" id="S3.p5.6.m6.1"><semantics id="S3.p5.6.m6.1a"><msub id="S3.p5.6.m6.1.1" xref="S3.p5.6.m6.1.1.cmml"><mi id="S3.p5.6.m6.1.1.2" xref="S3.p5.6.m6.1.1.2.cmml">R</mi><mi id="S3.p5.6.m6.1.1.3" xref="S3.p5.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p5.6.m6.1b"><apply id="S3.p5.6.m6.1.1.cmml" xref="S3.p5.6.m6.1.1"><csymbol cd="ambiguous" id="S3.p5.6.m6.1.1.1.cmml" xref="S3.p5.6.m6.1.1">subscript</csymbol><ci id="S3.p5.6.m6.1.1.2.cmml" xref="S3.p5.6.m6.1.1.2">𝑅</ci><ci id="S3.p5.6.m6.1.1.3.cmml" xref="S3.p5.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.6.m6.1c">R_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p5.6.m6.1d">italic_R start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, the training optimization objective is as follows:</p>
</div>
<div class="ltx_para" id="S3.1">
<p class="ltx_p ltx_align_center" id="S3.1.1"><math alttext="L=-\frac{1}{|Q|}\sum_{q\in Q}\log\left(\frac{R_{i}(q,d_{+})}{R_{i}(q,d_{+})+%
\sum R_{i}(q,d_{-})}\right)" class="ltx_Math" display="inline" id="S3.1.1.m1.8"><semantics id="S3.1.1.m1.8a"><mrow id="S3.1.1.m1.8.9" xref="S3.1.1.m1.8.9.cmml"><mi id="S3.1.1.m1.8.9.2" xref="S3.1.1.m1.8.9.2.cmml">L</mi><mo id="S3.1.1.m1.8.9.1" xref="S3.1.1.m1.8.9.1.cmml">=</mo><mrow id="S3.1.1.m1.8.9.3" xref="S3.1.1.m1.8.9.3.cmml"><mo id="S3.1.1.m1.8.9.3a" xref="S3.1.1.m1.8.9.3.cmml">−</mo><mrow id="S3.1.1.m1.8.9.3.2" xref="S3.1.1.m1.8.9.3.2.cmml"><mfrac id="S3.1.1.m1.1.1" xref="S3.1.1.m1.1.1.cmml"><mn id="S3.1.1.m1.1.1.3" xref="S3.1.1.m1.1.1.3.cmml">1</mn><mrow id="S3.1.1.m1.1.1.1.3" xref="S3.1.1.m1.1.1.1.2.cmml"><mo id="S3.1.1.m1.1.1.1.3.1" stretchy="false" xref="S3.1.1.m1.1.1.1.2.1.cmml">|</mo><mi id="S3.1.1.m1.1.1.1.1" xref="S3.1.1.m1.1.1.1.1.cmml">Q</mi><mo id="S3.1.1.m1.1.1.1.3.2" stretchy="false" xref="S3.1.1.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S3.1.1.m1.8.9.3.2.1" xref="S3.1.1.m1.8.9.3.2.1.cmml">⁢</mo><mrow id="S3.1.1.m1.8.9.3.2.2" xref="S3.1.1.m1.8.9.3.2.2.cmml"><msub id="S3.1.1.m1.8.9.3.2.2.1" xref="S3.1.1.m1.8.9.3.2.2.1.cmml"><mo id="S3.1.1.m1.8.9.3.2.2.1.2" xref="S3.1.1.m1.8.9.3.2.2.1.2.cmml">∑</mo><mrow id="S3.1.1.m1.8.9.3.2.2.1.3" xref="S3.1.1.m1.8.9.3.2.2.1.3.cmml"><mi id="S3.1.1.m1.8.9.3.2.2.1.3.2" xref="S3.1.1.m1.8.9.3.2.2.1.3.2.cmml">q</mi><mo id="S3.1.1.m1.8.9.3.2.2.1.3.1" xref="S3.1.1.m1.8.9.3.2.2.1.3.1.cmml">∈</mo><mi id="S3.1.1.m1.8.9.3.2.2.1.3.3" xref="S3.1.1.m1.8.9.3.2.2.1.3.3.cmml">Q</mi></mrow></msub><mrow id="S3.1.1.m1.8.9.3.2.2.2.2" xref="S3.1.1.m1.8.9.3.2.2.2.1.cmml"><mi id="S3.1.1.m1.8.8" xref="S3.1.1.m1.8.8.cmml">log</mi><mo id="S3.1.1.m1.8.9.3.2.2.2.2a" xref="S3.1.1.m1.8.9.3.2.2.2.1.cmml">⁡</mo><mrow id="S3.1.1.m1.8.9.3.2.2.2.2.1" xref="S3.1.1.m1.8.9.3.2.2.2.1.cmml"><mo id="S3.1.1.m1.8.9.3.2.2.2.2.1.1" xref="S3.1.1.m1.8.9.3.2.2.2.1.cmml">(</mo><mfrac id="S3.1.1.m1.7.7" xref="S3.1.1.m1.7.7.cmml"><mrow id="S3.1.1.m1.3.3.2" xref="S3.1.1.m1.3.3.2.cmml"><msub id="S3.1.1.m1.3.3.2.4" xref="S3.1.1.m1.3.3.2.4.cmml"><mi id="S3.1.1.m1.3.3.2.4.2" xref="S3.1.1.m1.3.3.2.4.2.cmml">R</mi><mi id="S3.1.1.m1.3.3.2.4.3" xref="S3.1.1.m1.3.3.2.4.3.cmml">i</mi></msub><mo id="S3.1.1.m1.3.3.2.3" xref="S3.1.1.m1.3.3.2.3.cmml">⁢</mo><mrow id="S3.1.1.m1.3.3.2.2.1" xref="S3.1.1.m1.3.3.2.2.2.cmml"><mo id="S3.1.1.m1.3.3.2.2.1.2" stretchy="false" xref="S3.1.1.m1.3.3.2.2.2.cmml">(</mo><mi id="S3.1.1.m1.2.2.1.1" xref="S3.1.1.m1.2.2.1.1.cmml">q</mi><mo id="S3.1.1.m1.3.3.2.2.1.3" xref="S3.1.1.m1.3.3.2.2.2.cmml">,</mo><msub id="S3.1.1.m1.3.3.2.2.1.1" xref="S3.1.1.m1.3.3.2.2.1.1.cmml"><mi id="S3.1.1.m1.3.3.2.2.1.1.2" xref="S3.1.1.m1.3.3.2.2.1.1.2.cmml">d</mi><mo id="S3.1.1.m1.3.3.2.2.1.1.3" xref="S3.1.1.m1.3.3.2.2.1.1.3.cmml">+</mo></msub><mo id="S3.1.1.m1.3.3.2.2.1.4" stretchy="false" xref="S3.1.1.m1.3.3.2.2.2.cmml">)</mo></mrow></mrow><mrow id="S3.1.1.m1.7.7.6" xref="S3.1.1.m1.7.7.6.cmml"><mrow id="S3.1.1.m1.6.6.5.3" xref="S3.1.1.m1.6.6.5.3.cmml"><msub id="S3.1.1.m1.6.6.5.3.3" xref="S3.1.1.m1.6.6.5.3.3.cmml"><mi id="S3.1.1.m1.6.6.5.3.3.2" xref="S3.1.1.m1.6.6.5.3.3.2.cmml">R</mi><mi id="S3.1.1.m1.6.6.5.3.3.3" xref="S3.1.1.m1.6.6.5.3.3.3.cmml">i</mi></msub><mo id="S3.1.1.m1.6.6.5.3.2" xref="S3.1.1.m1.6.6.5.3.2.cmml">⁢</mo><mrow id="S3.1.1.m1.6.6.5.3.1.1" xref="S3.1.1.m1.6.6.5.3.1.2.cmml"><mo id="S3.1.1.m1.6.6.5.3.1.1.2" stretchy="false" xref="S3.1.1.m1.6.6.5.3.1.2.cmml">(</mo><mi id="S3.1.1.m1.4.4.3.1" xref="S3.1.1.m1.4.4.3.1.cmml">q</mi><mo id="S3.1.1.m1.6.6.5.3.1.1.3" xref="S3.1.1.m1.6.6.5.3.1.2.cmml">,</mo><msub id="S3.1.1.m1.6.6.5.3.1.1.1" xref="S3.1.1.m1.6.6.5.3.1.1.1.cmml"><mi id="S3.1.1.m1.6.6.5.3.1.1.1.2" xref="S3.1.1.m1.6.6.5.3.1.1.1.2.cmml">d</mi><mo id="S3.1.1.m1.6.6.5.3.1.1.1.3" xref="S3.1.1.m1.6.6.5.3.1.1.1.3.cmml">+</mo></msub><mo id="S3.1.1.m1.6.6.5.3.1.1.4" stretchy="false" xref="S3.1.1.m1.6.6.5.3.1.2.cmml">)</mo></mrow></mrow><mo id="S3.1.1.m1.7.7.6.5" xref="S3.1.1.m1.7.7.6.5.cmml">+</mo><mstyle id="S3.1.1.m1.7.7.6.4" scriptlevel="-1" xref="S3.1.1.m1.7.7.6.4.cmml"><mrow id="S3.1.1.m1.7.7.6.4a" xref="S3.1.1.m1.7.7.6.4.cmml"><mo id="S3.1.1.m1.7.7.6.4.2" xref="S3.1.1.m1.7.7.6.4.2.cmml">∑</mo><mrow id="S3.1.1.m1.7.7.6.4.1" xref="S3.1.1.m1.7.7.6.4.1.cmml"><msub id="S3.1.1.m1.7.7.6.4.1.3" xref="S3.1.1.m1.7.7.6.4.1.3.cmml"><mi id="S3.1.1.m1.7.7.6.4.1.3.2" xref="S3.1.1.m1.7.7.6.4.1.3.2.cmml">R</mi><mi id="S3.1.1.m1.7.7.6.4.1.3.3" mathsize="71%" xref="S3.1.1.m1.7.7.6.4.1.3.3.cmml">i</mi></msub><mo id="S3.1.1.m1.7.7.6.4.1.2" xref="S3.1.1.m1.7.7.6.4.1.2.cmml">⁢</mo><mrow id="S3.1.1.m1.7.7.6.4.1.1.1" xref="S3.1.1.m1.7.7.6.4.1.1.2.cmml"><mo id="S3.1.1.m1.7.7.6.4.1.1.1.2" stretchy="false" xref="S3.1.1.m1.7.7.6.4.1.1.2.cmml">(</mo><mi id="S3.1.1.m1.5.5.4.2" xref="S3.1.1.m1.5.5.4.2.cmml">q</mi><mo id="S3.1.1.m1.7.7.6.4.1.1.1.3" xref="S3.1.1.m1.7.7.6.4.1.1.2.cmml">,</mo><msub id="S3.1.1.m1.7.7.6.4.1.1.1.1" xref="S3.1.1.m1.7.7.6.4.1.1.1.1.cmml"><mi id="S3.1.1.m1.7.7.6.4.1.1.1.1.2" xref="S3.1.1.m1.7.7.6.4.1.1.1.1.2.cmml">d</mi><mo id="S3.1.1.m1.7.7.6.4.1.1.1.1.3" mathsize="71%" xref="S3.1.1.m1.7.7.6.4.1.1.1.1.3.cmml">−</mo></msub><mo id="S3.1.1.m1.7.7.6.4.1.1.1.4" stretchy="false" xref="S3.1.1.m1.7.7.6.4.1.1.2.cmml">)</mo></mrow></mrow></mrow></mstyle></mrow></mfrac><mo id="S3.1.1.m1.8.9.3.2.2.2.2.1.2" xref="S3.1.1.m1.8.9.3.2.2.2.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.1.1.m1.8b"><apply id="S3.1.1.m1.8.9.cmml" xref="S3.1.1.m1.8.9"><eq id="S3.1.1.m1.8.9.1.cmml" xref="S3.1.1.m1.8.9.1"></eq><ci id="S3.1.1.m1.8.9.2.cmml" xref="S3.1.1.m1.8.9.2">𝐿</ci><apply id="S3.1.1.m1.8.9.3.cmml" xref="S3.1.1.m1.8.9.3"><minus id="S3.1.1.m1.8.9.3.1.cmml" xref="S3.1.1.m1.8.9.3"></minus><apply id="S3.1.1.m1.8.9.3.2.cmml" xref="S3.1.1.m1.8.9.3.2"><times id="S3.1.1.m1.8.9.3.2.1.cmml" xref="S3.1.1.m1.8.9.3.2.1"></times><apply id="S3.1.1.m1.1.1.cmml" xref="S3.1.1.m1.1.1"><divide id="S3.1.1.m1.1.1.2.cmml" xref="S3.1.1.m1.1.1"></divide><cn id="S3.1.1.m1.1.1.3.cmml" type="integer" xref="S3.1.1.m1.1.1.3">1</cn><apply id="S3.1.1.m1.1.1.1.2.cmml" xref="S3.1.1.m1.1.1.1.3"><abs id="S3.1.1.m1.1.1.1.2.1.cmml" xref="S3.1.1.m1.1.1.1.3.1"></abs><ci id="S3.1.1.m1.1.1.1.1.cmml" xref="S3.1.1.m1.1.1.1.1">𝑄</ci></apply></apply><apply id="S3.1.1.m1.8.9.3.2.2.cmml" xref="S3.1.1.m1.8.9.3.2.2"><apply id="S3.1.1.m1.8.9.3.2.2.1.cmml" xref="S3.1.1.m1.8.9.3.2.2.1"><csymbol cd="ambiguous" id="S3.1.1.m1.8.9.3.2.2.1.1.cmml" xref="S3.1.1.m1.8.9.3.2.2.1">subscript</csymbol><sum id="S3.1.1.m1.8.9.3.2.2.1.2.cmml" xref="S3.1.1.m1.8.9.3.2.2.1.2"></sum><apply id="S3.1.1.m1.8.9.3.2.2.1.3.cmml" xref="S3.1.1.m1.8.9.3.2.2.1.3"><in id="S3.1.1.m1.8.9.3.2.2.1.3.1.cmml" xref="S3.1.1.m1.8.9.3.2.2.1.3.1"></in><ci id="S3.1.1.m1.8.9.3.2.2.1.3.2.cmml" xref="S3.1.1.m1.8.9.3.2.2.1.3.2">𝑞</ci><ci id="S3.1.1.m1.8.9.3.2.2.1.3.3.cmml" xref="S3.1.1.m1.8.9.3.2.2.1.3.3">𝑄</ci></apply></apply><apply id="S3.1.1.m1.8.9.3.2.2.2.1.cmml" xref="S3.1.1.m1.8.9.3.2.2.2.2"><log id="S3.1.1.m1.8.8.cmml" xref="S3.1.1.m1.8.8"></log><apply id="S3.1.1.m1.7.7.cmml" xref="S3.1.1.m1.7.7"><divide id="S3.1.1.m1.7.7.7.cmml" xref="S3.1.1.m1.7.7"></divide><apply id="S3.1.1.m1.3.3.2.cmml" xref="S3.1.1.m1.3.3.2"><times id="S3.1.1.m1.3.3.2.3.cmml" xref="S3.1.1.m1.3.3.2.3"></times><apply id="S3.1.1.m1.3.3.2.4.cmml" xref="S3.1.1.m1.3.3.2.4"><csymbol cd="ambiguous" id="S3.1.1.m1.3.3.2.4.1.cmml" xref="S3.1.1.m1.3.3.2.4">subscript</csymbol><ci id="S3.1.1.m1.3.3.2.4.2.cmml" xref="S3.1.1.m1.3.3.2.4.2">𝑅</ci><ci id="S3.1.1.m1.3.3.2.4.3.cmml" xref="S3.1.1.m1.3.3.2.4.3">𝑖</ci></apply><interval closure="open" id="S3.1.1.m1.3.3.2.2.2.cmml" xref="S3.1.1.m1.3.3.2.2.1"><ci id="S3.1.1.m1.2.2.1.1.cmml" xref="S3.1.1.m1.2.2.1.1">𝑞</ci><apply id="S3.1.1.m1.3.3.2.2.1.1.cmml" xref="S3.1.1.m1.3.3.2.2.1.1"><csymbol cd="ambiguous" id="S3.1.1.m1.3.3.2.2.1.1.1.cmml" xref="S3.1.1.m1.3.3.2.2.1.1">subscript</csymbol><ci id="S3.1.1.m1.3.3.2.2.1.1.2.cmml" xref="S3.1.1.m1.3.3.2.2.1.1.2">𝑑</ci><plus id="S3.1.1.m1.3.3.2.2.1.1.3.cmml" xref="S3.1.1.m1.3.3.2.2.1.1.3"></plus></apply></interval></apply><apply id="S3.1.1.m1.7.7.6.cmml" xref="S3.1.1.m1.7.7.6"><plus id="S3.1.1.m1.7.7.6.5.cmml" xref="S3.1.1.m1.7.7.6.5"></plus><apply id="S3.1.1.m1.6.6.5.3.cmml" xref="S3.1.1.m1.6.6.5.3"><times id="S3.1.1.m1.6.6.5.3.2.cmml" xref="S3.1.1.m1.6.6.5.3.2"></times><apply id="S3.1.1.m1.6.6.5.3.3.cmml" xref="S3.1.1.m1.6.6.5.3.3"><csymbol cd="ambiguous" id="S3.1.1.m1.6.6.5.3.3.1.cmml" xref="S3.1.1.m1.6.6.5.3.3">subscript</csymbol><ci id="S3.1.1.m1.6.6.5.3.3.2.cmml" xref="S3.1.1.m1.6.6.5.3.3.2">𝑅</ci><ci id="S3.1.1.m1.6.6.5.3.3.3.cmml" xref="S3.1.1.m1.6.6.5.3.3.3">𝑖</ci></apply><interval closure="open" id="S3.1.1.m1.6.6.5.3.1.2.cmml" xref="S3.1.1.m1.6.6.5.3.1.1"><ci id="S3.1.1.m1.4.4.3.1.cmml" xref="S3.1.1.m1.4.4.3.1">𝑞</ci><apply id="S3.1.1.m1.6.6.5.3.1.1.1.cmml" xref="S3.1.1.m1.6.6.5.3.1.1.1"><csymbol cd="ambiguous" id="S3.1.1.m1.6.6.5.3.1.1.1.1.cmml" xref="S3.1.1.m1.6.6.5.3.1.1.1">subscript</csymbol><ci id="S3.1.1.m1.6.6.5.3.1.1.1.2.cmml" xref="S3.1.1.m1.6.6.5.3.1.1.1.2">𝑑</ci><plus id="S3.1.1.m1.6.6.5.3.1.1.1.3.cmml" xref="S3.1.1.m1.6.6.5.3.1.1.1.3"></plus></apply></interval></apply><apply id="S3.1.1.m1.7.7.6.4.cmml" xref="S3.1.1.m1.7.7.6.4"><sum id="S3.1.1.m1.7.7.6.4.2.cmml" xref="S3.1.1.m1.7.7.6.4.2"></sum><apply id="S3.1.1.m1.7.7.6.4.1.cmml" xref="S3.1.1.m1.7.7.6.4.1"><times id="S3.1.1.m1.7.7.6.4.1.2.cmml" xref="S3.1.1.m1.7.7.6.4.1.2"></times><apply id="S3.1.1.m1.7.7.6.4.1.3.cmml" xref="S3.1.1.m1.7.7.6.4.1.3"><csymbol cd="ambiguous" id="S3.1.1.m1.7.7.6.4.1.3.1.cmml" xref="S3.1.1.m1.7.7.6.4.1.3">subscript</csymbol><ci id="S3.1.1.m1.7.7.6.4.1.3.2.cmml" xref="S3.1.1.m1.7.7.6.4.1.3.2">𝑅</ci><ci id="S3.1.1.m1.7.7.6.4.1.3.3.cmml" xref="S3.1.1.m1.7.7.6.4.1.3.3">𝑖</ci></apply><interval closure="open" id="S3.1.1.m1.7.7.6.4.1.1.2.cmml" xref="S3.1.1.m1.7.7.6.4.1.1.1"><ci id="S3.1.1.m1.5.5.4.2.cmml" xref="S3.1.1.m1.5.5.4.2">𝑞</ci><apply id="S3.1.1.m1.7.7.6.4.1.1.1.1.cmml" xref="S3.1.1.m1.7.7.6.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.1.1.m1.7.7.6.4.1.1.1.1.1.cmml" xref="S3.1.1.m1.7.7.6.4.1.1.1.1">subscript</csymbol><ci id="S3.1.1.m1.7.7.6.4.1.1.1.1.2.cmml" xref="S3.1.1.m1.7.7.6.4.1.1.1.1.2">𝑑</ci><minus id="S3.1.1.m1.7.7.6.4.1.1.1.1.3.cmml" xref="S3.1.1.m1.7.7.6.4.1.1.1.1.3"></minus></apply></interval></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.1.1.m1.8c">L=-\frac{1}{|Q|}\sum_{q\in Q}\log\left(\frac{R_{i}(q,d_{+})}{R_{i}(q,d_{+})+%
\sum R_{i}(q,d_{-})}\right)</annotation><annotation encoding="application/x-llamapun" id="S3.1.1.m1.8d">italic_L = - divide start_ARG 1 end_ARG start_ARG | italic_Q | end_ARG ∑ start_POSTSUBSCRIPT italic_q ∈ italic_Q end_POSTSUBSCRIPT roman_log ( divide start_ARG italic_R start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ( italic_q , italic_d start_POSTSUBSCRIPT + end_POSTSUBSCRIPT ) end_ARG start_ARG italic_R start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ( italic_q , italic_d start_POSTSUBSCRIPT + end_POSTSUBSCRIPT ) + ∑ italic_R start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ( italic_q , italic_d start_POSTSUBSCRIPT - end_POSTSUBSCRIPT ) end_ARG )</annotation></semantics></math>                       [1]</p>
</div>
<div class="ltx_para" id="S3.p6">
<p class="ltx_p" id="S3.p6.6">After obtaining the surrogate model <math alttext="M_{i}" class="ltx_Math" display="inline" id="S3.p6.1.m1.1"><semantics id="S3.p6.1.m1.1a"><msub id="S3.p6.1.m1.1.1" xref="S3.p6.1.m1.1.1.cmml"><mi id="S3.p6.1.m1.1.1.2" xref="S3.p6.1.m1.1.1.2.cmml">M</mi><mi id="S3.p6.1.m1.1.1.3" xref="S3.p6.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p6.1.m1.1b"><apply id="S3.p6.1.m1.1.1.cmml" xref="S3.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p6.1.m1.1.1.1.cmml" xref="S3.p6.1.m1.1.1">subscript</csymbol><ci id="S3.p6.1.m1.1.1.2.cmml" xref="S3.p6.1.m1.1.1.2">𝑀</ci><ci id="S3.p6.1.m1.1.1.3.cmml" xref="S3.p6.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.1.m1.1c">M_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p6.1.m1.1d">italic_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, this paper transforms the manipulation of RAG-generated opinions in a black-box scenario into manipulation in a white-box scenario. Since we have all the knowledge of the white-box surrogate model <math alttext="M_{i}" class="ltx_Math" display="inline" id="S3.p6.2.m2.1"><semantics id="S3.p6.2.m2.1a"><msub id="S3.p6.2.m2.1.1" xref="S3.p6.2.m2.1.1.cmml"><mi id="S3.p6.2.m2.1.1.2" xref="S3.p6.2.m2.1.1.2.cmml">M</mi><mi id="S3.p6.2.m2.1.1.3" xref="S3.p6.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p6.2.m2.1b"><apply id="S3.p6.2.m2.1.1.cmml" xref="S3.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p6.2.m2.1.1.1.cmml" xref="S3.p6.2.m2.1.1">subscript</csymbol><ci id="S3.p6.2.m2.1.1.2.cmml" xref="S3.p6.2.m2.1.1.2">𝑀</ci><ci id="S3.p6.2.m2.1.1.3.cmml" xref="S3.p6.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.2.m2.1c">M_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p6.2.m2.1d">italic_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, this paper directly implements adversarial retrieval attacks on it, generating adversarial text <math alttext="p_{\text{adv}}" class="ltx_Math" display="inline" id="S3.p6.3.m3.1"><semantics id="S3.p6.3.m3.1a"><msub id="S3.p6.3.m3.1.1" xref="S3.p6.3.m3.1.1.cmml"><mi id="S3.p6.3.m3.1.1.2" xref="S3.p6.3.m3.1.1.2.cmml">p</mi><mtext id="S3.p6.3.m3.1.1.3" xref="S3.p6.3.m3.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p6.3.m3.1b"><apply id="S3.p6.3.m3.1.1.cmml" xref="S3.p6.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p6.3.m3.1.1.1.cmml" xref="S3.p6.3.m3.1.1">subscript</csymbol><ci id="S3.p6.3.m3.1.1.2.cmml" xref="S3.p6.3.m3.1.1.2">𝑝</ci><ci id="S3.p6.3.m3.1.1.3a.cmml" xref="S3.p6.3.m3.1.1.3"><mtext id="S3.p6.3.m3.1.1.3.cmml" mathsize="70%" xref="S3.p6.3.m3.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.3.m3.1c">p_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S3.p6.3.m3.1d">italic_p start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> for the candidate document <math alttext="d_{t}" class="ltx_Math" display="inline" id="S3.p6.4.m4.1"><semantics id="S3.p6.4.m4.1a"><msub id="S3.p6.4.m4.1.1" xref="S3.p6.4.m4.1.1.cmml"><mi id="S3.p6.4.m4.1.1.2" xref="S3.p6.4.m4.1.1.2.cmml">d</mi><mi id="S3.p6.4.m4.1.1.3" xref="S3.p6.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p6.4.m4.1b"><apply id="S3.p6.4.m4.1.1.cmml" xref="S3.p6.4.m4.1.1"><csymbol cd="ambiguous" id="S3.p6.4.m4.1.1.1.cmml" xref="S3.p6.4.m4.1.1">subscript</csymbol><ci id="S3.p6.4.m4.1.1.2.cmml" xref="S3.p6.4.m4.1.1.2">𝑑</ci><ci id="S3.p6.4.m4.1.1.3.cmml" xref="S3.p6.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.4.m4.1c">d_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p6.4.m4.1d">italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> holding the opinion <math alttext="S_{t}" class="ltx_Math" display="inline" id="S3.p6.5.m5.1"><semantics id="S3.p6.5.m5.1a"><msub id="S3.p6.5.m5.1.1" xref="S3.p6.5.m5.1.1.cmml"><mi id="S3.p6.5.m5.1.1.2" xref="S3.p6.5.m5.1.1.2.cmml">S</mi><mi id="S3.p6.5.m5.1.1.3" xref="S3.p6.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p6.5.m5.1b"><apply id="S3.p6.5.m5.1.1.cmml" xref="S3.p6.5.m5.1.1"><csymbol cd="ambiguous" id="S3.p6.5.m5.1.1.1.cmml" xref="S3.p6.5.m5.1.1">subscript</csymbol><ci id="S3.p6.5.m5.1.1.2.cmml" xref="S3.p6.5.m5.1.1.2">𝑆</ci><ci id="S3.p6.5.m5.1.1.3.cmml" xref="S3.p6.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.5.m5.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p6.5.m5.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. This paper employs the Pairwise Anchor-based Trigger (PAT) strategy for adversarial retrieval attacks, which is commonly used as a baseline in related research. Subsequently, the generated adversarial text is added to the candidate document with <math alttext="S_{t}" class="ltx_Math" display="inline" id="S3.p6.6.m6.1"><semantics id="S3.p6.6.m6.1a"><msub id="S3.p6.6.m6.1.1" xref="S3.p6.6.m6.1.1.cmml"><mi id="S3.p6.6.m6.1.1.2" xref="S3.p6.6.m6.1.1.2.cmml">S</mi><mi id="S3.p6.6.m6.1.1.3" xref="S3.p6.6.m6.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p6.6.m6.1b"><apply id="S3.p6.6.m6.1.1.cmml" xref="S3.p6.6.m6.1.1"><csymbol cd="ambiguous" id="S3.p6.6.m6.1.1.1.cmml" xref="S3.p6.6.m6.1.1">subscript</csymbol><ci id="S3.p6.6.m6.1.1.2.cmml" xref="S3.p6.6.m6.1.1.2">𝑆</ci><ci id="S3.p6.6.m6.1.1.3.cmml" xref="S3.p6.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.6.m6.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p6.6.m6.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. Then, the system of the black-box RAG model is queried, and the generated response is obtained. The stance of the response is compared with the stance of the response generated by the RAG without manipulation to evaluate the reliability of the black-box RAG.</p>
</div>
<div class="ltx_para" id="S3.p7">
<p class="ltx_p" id="S3.p7.3">PAT, as a representative adversarial retrieval attack strategy, adopts a pairwise generation paradigm. Given the target query, the target candidate item, and the top candidate item(anchor, used to guide the adversarial text generation), the method utilizes gradient optimization of pairwise loss, calculated from the candidate item and the anchor, to find the appropriate representation of an adversarial text. The method also adds fluency constraint and next sentence prediction constraint. By beam search for the words, the final adversarial text, denoted as <math alttext="T_{pat}" class="ltx_Math" display="inline" id="S3.p7.1.m1.1"><semantics id="S3.p7.1.m1.1a"><msub id="S3.p7.1.m1.1.1" xref="S3.p7.1.m1.1.1.cmml"><mi id="S3.p7.1.m1.1.1.2" xref="S3.p7.1.m1.1.1.2.cmml">T</mi><mrow id="S3.p7.1.m1.1.1.3" xref="S3.p7.1.m1.1.1.3.cmml"><mi id="S3.p7.1.m1.1.1.3.2" xref="S3.p7.1.m1.1.1.3.2.cmml">p</mi><mo id="S3.p7.1.m1.1.1.3.1" xref="S3.p7.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.p7.1.m1.1.1.3.3" xref="S3.p7.1.m1.1.1.3.3.cmml">a</mi><mo id="S3.p7.1.m1.1.1.3.1a" xref="S3.p7.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.p7.1.m1.1.1.3.4" xref="S3.p7.1.m1.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p7.1.m1.1b"><apply id="S3.p7.1.m1.1.1.cmml" xref="S3.p7.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p7.1.m1.1.1.1.cmml" xref="S3.p7.1.m1.1.1">subscript</csymbol><ci id="S3.p7.1.m1.1.1.2.cmml" xref="S3.p7.1.m1.1.1.2">𝑇</ci><apply id="S3.p7.1.m1.1.1.3.cmml" xref="S3.p7.1.m1.1.1.3"><times id="S3.p7.1.m1.1.1.3.1.cmml" xref="S3.p7.1.m1.1.1.3.1"></times><ci id="S3.p7.1.m1.1.1.3.2.cmml" xref="S3.p7.1.m1.1.1.3.2">𝑝</ci><ci id="S3.p7.1.m1.1.1.3.3.cmml" xref="S3.p7.1.m1.1.1.3.3">𝑎</ci><ci id="S3.p7.1.m1.1.1.3.4.cmml" xref="S3.p7.1.m1.1.1.3.4">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p7.1.m1.1c">T_{pat}</annotation><annotation encoding="application/x-llamapun" id="S3.p7.1.m1.1d">italic_T start_POSTSUBSCRIPT italic_p italic_a italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, is iteratively generated in an auto-regressive way. This paper uses <math alttext="T_{\text{pat}}" class="ltx_Math" display="inline" id="S3.p7.2.m2.1"><semantics id="S3.p7.2.m2.1a"><msub id="S3.p7.2.m2.1.1" xref="S3.p7.2.m2.1.1.cmml"><mi id="S3.p7.2.m2.1.1.2" xref="S3.p7.2.m2.1.1.2.cmml">T</mi><mtext id="S3.p7.2.m2.1.1.3" xref="S3.p7.2.m2.1.1.3a.cmml">pat</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p7.2.m2.1b"><apply id="S3.p7.2.m2.1.1.cmml" xref="S3.p7.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p7.2.m2.1.1.1.cmml" xref="S3.p7.2.m2.1.1">subscript</csymbol><ci id="S3.p7.2.m2.1.1.2.cmml" xref="S3.p7.2.m2.1.1.2">𝑇</ci><ci id="S3.p7.2.m2.1.1.3a.cmml" xref="S3.p7.2.m2.1.1.3"><mtext id="S3.p7.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.p7.2.m2.1.1.3">pat</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p7.2.m2.1c">T_{\text{pat}}</annotation><annotation encoding="application/x-llamapun" id="S3.p7.2.m2.1d">italic_T start_POSTSUBSCRIPT pat end_POSTSUBSCRIPT</annotation></semantics></math> as <math alttext="p_{\text{adv}}" class="ltx_Math" display="inline" id="S3.p7.3.m3.1"><semantics id="S3.p7.3.m3.1a"><msub id="S3.p7.3.m3.1.1" xref="S3.p7.3.m3.1.1.cmml"><mi id="S3.p7.3.m3.1.1.2" xref="S3.p7.3.m3.1.1.2.cmml">p</mi><mtext id="S3.p7.3.m3.1.1.3" xref="S3.p7.3.m3.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p7.3.m3.1b"><apply id="S3.p7.3.m3.1.1.cmml" xref="S3.p7.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p7.3.m3.1.1.1.cmml" xref="S3.p7.3.m3.1.1">subscript</csymbol><ci id="S3.p7.3.m3.1.1.2.cmml" xref="S3.p7.3.m3.1.1.2">𝑝</ci><ci id="S3.p7.3.m3.1.1.3a.cmml" xref="S3.p7.3.m3.1.1.3"><mtext id="S3.p7.3.m3.1.1.3.cmml" mathsize="70%" xref="S3.p7.3.m3.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p7.3.m3.1c">p_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S3.p7.3.m3.1d">italic_p start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, with its generated optimization function being <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib14" title="">14</a>]</cite>:</p>
</div>
<div class="ltx_para" id="S3.2">
<p class="ltx_p ltx_align_center" id="S3.2.1"><math alttext="\max\left(M_{i}(q,T_{\text{pat}};w)+\lambda_{1}\cdot\log P_{g}(T_{\text{pat}};%
w)+\lambda_{2}\cdot f_{\text{nsp}}(d_{t},T_{\text{pat}};w)\right)" class="ltx_Math" display="inline" id="S3.2.1.m1.6"><semantics id="S3.2.1.m1.6a"><mrow id="S3.2.1.m1.6.6.1" xref="S3.2.1.m1.6.6.2.cmml"><mi id="S3.2.1.m1.5.5" xref="S3.2.1.m1.5.5.cmml">max</mi><mo id="S3.2.1.m1.6.6.1a" xref="S3.2.1.m1.6.6.2.cmml">⁡</mo><mrow id="S3.2.1.m1.6.6.1.1" xref="S3.2.1.m1.6.6.2.cmml"><mo id="S3.2.1.m1.6.6.1.1.2" xref="S3.2.1.m1.6.6.2.cmml">(</mo><mrow id="S3.2.1.m1.6.6.1.1.1" xref="S3.2.1.m1.6.6.1.1.1.cmml"><mrow id="S3.2.1.m1.6.6.1.1.1.1" xref="S3.2.1.m1.6.6.1.1.1.1.cmml"><msub id="S3.2.1.m1.6.6.1.1.1.1.3" xref="S3.2.1.m1.6.6.1.1.1.1.3.cmml"><mi id="S3.2.1.m1.6.6.1.1.1.1.3.2" xref="S3.2.1.m1.6.6.1.1.1.1.3.2.cmml">M</mi><mi id="S3.2.1.m1.6.6.1.1.1.1.3.3" xref="S3.2.1.m1.6.6.1.1.1.1.3.3.cmml">i</mi></msub><mo id="S3.2.1.m1.6.6.1.1.1.1.2" xref="S3.2.1.m1.6.6.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.2.1.m1.6.6.1.1.1.1.1.1" xref="S3.2.1.m1.6.6.1.1.1.1.1.2.cmml"><mo id="S3.2.1.m1.6.6.1.1.1.1.1.1.2" stretchy="false" xref="S3.2.1.m1.6.6.1.1.1.1.1.2.cmml">(</mo><mi id="S3.2.1.m1.1.1" xref="S3.2.1.m1.1.1.cmml">q</mi><mo id="S3.2.1.m1.6.6.1.1.1.1.1.1.3" xref="S3.2.1.m1.6.6.1.1.1.1.1.2.cmml">,</mo><msub id="S3.2.1.m1.6.6.1.1.1.1.1.1.1" xref="S3.2.1.m1.6.6.1.1.1.1.1.1.1.cmml"><mi id="S3.2.1.m1.6.6.1.1.1.1.1.1.1.2" xref="S3.2.1.m1.6.6.1.1.1.1.1.1.1.2.cmml">T</mi><mtext id="S3.2.1.m1.6.6.1.1.1.1.1.1.1.3" xref="S3.2.1.m1.6.6.1.1.1.1.1.1.1.3a.cmml">pat</mtext></msub><mo id="S3.2.1.m1.6.6.1.1.1.1.1.1.4" xref="S3.2.1.m1.6.6.1.1.1.1.1.2.cmml">;</mo><mi id="S3.2.1.m1.2.2" xref="S3.2.1.m1.2.2.cmml">w</mi><mo id="S3.2.1.m1.6.6.1.1.1.1.1.1.5" stretchy="false" xref="S3.2.1.m1.6.6.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.2.1.m1.6.6.1.1.1.5" xref="S3.2.1.m1.6.6.1.1.1.5.cmml">+</mo><mrow id="S3.2.1.m1.6.6.1.1.1.2" xref="S3.2.1.m1.6.6.1.1.1.2.cmml"><mrow id="S3.2.1.m1.6.6.1.1.1.2.3" xref="S3.2.1.m1.6.6.1.1.1.2.3.cmml"><msub id="S3.2.1.m1.6.6.1.1.1.2.3.2" xref="S3.2.1.m1.6.6.1.1.1.2.3.2.cmml"><mi id="S3.2.1.m1.6.6.1.1.1.2.3.2.2" xref="S3.2.1.m1.6.6.1.1.1.2.3.2.2.cmml">λ</mi><mn id="S3.2.1.m1.6.6.1.1.1.2.3.2.3" xref="S3.2.1.m1.6.6.1.1.1.2.3.2.3.cmml">1</mn></msub><mo id="S3.2.1.m1.6.6.1.1.1.2.3.1" lspace="0.222em" rspace="0.222em" xref="S3.2.1.m1.6.6.1.1.1.2.3.1.cmml">⋅</mo><mrow id="S3.2.1.m1.6.6.1.1.1.2.3.3" xref="S3.2.1.m1.6.6.1.1.1.2.3.3.cmml"><mi id="S3.2.1.m1.6.6.1.1.1.2.3.3.1" xref="S3.2.1.m1.6.6.1.1.1.2.3.3.1.cmml">log</mi><mo id="S3.2.1.m1.6.6.1.1.1.2.3.3a" lspace="0.167em" xref="S3.2.1.m1.6.6.1.1.1.2.3.3.cmml">⁡</mo><msub id="S3.2.1.m1.6.6.1.1.1.2.3.3.2" xref="S3.2.1.m1.6.6.1.1.1.2.3.3.2.cmml"><mi id="S3.2.1.m1.6.6.1.1.1.2.3.3.2.2" xref="S3.2.1.m1.6.6.1.1.1.2.3.3.2.2.cmml">P</mi><mi id="S3.2.1.m1.6.6.1.1.1.2.3.3.2.3" xref="S3.2.1.m1.6.6.1.1.1.2.3.3.2.3.cmml">g</mi></msub></mrow></mrow><mo id="S3.2.1.m1.6.6.1.1.1.2.2" xref="S3.2.1.m1.6.6.1.1.1.2.2.cmml">⁢</mo><mrow id="S3.2.1.m1.6.6.1.1.1.2.1.1" xref="S3.2.1.m1.6.6.1.1.1.2.1.2.cmml"><mo id="S3.2.1.m1.6.6.1.1.1.2.1.1.2" stretchy="false" xref="S3.2.1.m1.6.6.1.1.1.2.1.2.cmml">(</mo><msub id="S3.2.1.m1.6.6.1.1.1.2.1.1.1" xref="S3.2.1.m1.6.6.1.1.1.2.1.1.1.cmml"><mi id="S3.2.1.m1.6.6.1.1.1.2.1.1.1.2" xref="S3.2.1.m1.6.6.1.1.1.2.1.1.1.2.cmml">T</mi><mtext id="S3.2.1.m1.6.6.1.1.1.2.1.1.1.3" xref="S3.2.1.m1.6.6.1.1.1.2.1.1.1.3a.cmml">pat</mtext></msub><mo id="S3.2.1.m1.6.6.1.1.1.2.1.1.3" xref="S3.2.1.m1.6.6.1.1.1.2.1.2.cmml">;</mo><mi id="S3.2.1.m1.3.3" xref="S3.2.1.m1.3.3.cmml">w</mi><mo id="S3.2.1.m1.6.6.1.1.1.2.1.1.4" stretchy="false" xref="S3.2.1.m1.6.6.1.1.1.2.1.2.cmml">)</mo></mrow></mrow><mo id="S3.2.1.m1.6.6.1.1.1.5a" xref="S3.2.1.m1.6.6.1.1.1.5.cmml">+</mo><mrow id="S3.2.1.m1.6.6.1.1.1.4" xref="S3.2.1.m1.6.6.1.1.1.4.cmml"><mrow id="S3.2.1.m1.6.6.1.1.1.4.4" xref="S3.2.1.m1.6.6.1.1.1.4.4.cmml"><msub id="S3.2.1.m1.6.6.1.1.1.4.4.2" xref="S3.2.1.m1.6.6.1.1.1.4.4.2.cmml"><mi id="S3.2.1.m1.6.6.1.1.1.4.4.2.2" xref="S3.2.1.m1.6.6.1.1.1.4.4.2.2.cmml">λ</mi><mn id="S3.2.1.m1.6.6.1.1.1.4.4.2.3" xref="S3.2.1.m1.6.6.1.1.1.4.4.2.3.cmml">2</mn></msub><mo id="S3.2.1.m1.6.6.1.1.1.4.4.1" lspace="0.222em" rspace="0.222em" xref="S3.2.1.m1.6.6.1.1.1.4.4.1.cmml">⋅</mo><msub id="S3.2.1.m1.6.6.1.1.1.4.4.3" xref="S3.2.1.m1.6.6.1.1.1.4.4.3.cmml"><mi id="S3.2.1.m1.6.6.1.1.1.4.4.3.2" xref="S3.2.1.m1.6.6.1.1.1.4.4.3.2.cmml">f</mi><mtext id="S3.2.1.m1.6.6.1.1.1.4.4.3.3" xref="S3.2.1.m1.6.6.1.1.1.4.4.3.3a.cmml">nsp</mtext></msub></mrow><mo id="S3.2.1.m1.6.6.1.1.1.4.3" xref="S3.2.1.m1.6.6.1.1.1.4.3.cmml">⁢</mo><mrow id="S3.2.1.m1.6.6.1.1.1.4.2.2" xref="S3.2.1.m1.6.6.1.1.1.4.2.3.cmml"><mo id="S3.2.1.m1.6.6.1.1.1.4.2.2.3" stretchy="false" xref="S3.2.1.m1.6.6.1.1.1.4.2.3.cmml">(</mo><msub id="S3.2.1.m1.6.6.1.1.1.3.1.1.1" xref="S3.2.1.m1.6.6.1.1.1.3.1.1.1.cmml"><mi id="S3.2.1.m1.6.6.1.1.1.3.1.1.1.2" xref="S3.2.1.m1.6.6.1.1.1.3.1.1.1.2.cmml">d</mi><mi id="S3.2.1.m1.6.6.1.1.1.3.1.1.1.3" xref="S3.2.1.m1.6.6.1.1.1.3.1.1.1.3.cmml">t</mi></msub><mo id="S3.2.1.m1.6.6.1.1.1.4.2.2.4" xref="S3.2.1.m1.6.6.1.1.1.4.2.3.cmml">,</mo><msub id="S3.2.1.m1.6.6.1.1.1.4.2.2.2" xref="S3.2.1.m1.6.6.1.1.1.4.2.2.2.cmml"><mi id="S3.2.1.m1.6.6.1.1.1.4.2.2.2.2" xref="S3.2.1.m1.6.6.1.1.1.4.2.2.2.2.cmml">T</mi><mtext id="S3.2.1.m1.6.6.1.1.1.4.2.2.2.3" xref="S3.2.1.m1.6.6.1.1.1.4.2.2.2.3a.cmml">pat</mtext></msub><mo id="S3.2.1.m1.6.6.1.1.1.4.2.2.5" xref="S3.2.1.m1.6.6.1.1.1.4.2.3.cmml">;</mo><mi id="S3.2.1.m1.4.4" xref="S3.2.1.m1.4.4.cmml">w</mi><mo id="S3.2.1.m1.6.6.1.1.1.4.2.2.6" stretchy="false" xref="S3.2.1.m1.6.6.1.1.1.4.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.2.1.m1.6.6.1.1.3" xref="S3.2.1.m1.6.6.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.2.1.m1.6b"><apply id="S3.2.1.m1.6.6.2.cmml" xref="S3.2.1.m1.6.6.1"><max id="S3.2.1.m1.5.5.cmml" xref="S3.2.1.m1.5.5"></max><apply id="S3.2.1.m1.6.6.1.1.1.cmml" xref="S3.2.1.m1.6.6.1.1.1"><plus id="S3.2.1.m1.6.6.1.1.1.5.cmml" xref="S3.2.1.m1.6.6.1.1.1.5"></plus><apply id="S3.2.1.m1.6.6.1.1.1.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.1"><times id="S3.2.1.m1.6.6.1.1.1.1.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.1.2"></times><apply id="S3.2.1.m1.6.6.1.1.1.1.3.cmml" xref="S3.2.1.m1.6.6.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.2.1.m1.6.6.1.1.1.1.3.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.1.3">subscript</csymbol><ci id="S3.2.1.m1.6.6.1.1.1.1.3.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.1.3.2">𝑀</ci><ci id="S3.2.1.m1.6.6.1.1.1.1.3.3.cmml" xref="S3.2.1.m1.6.6.1.1.1.1.3.3">𝑖</ci></apply><vector id="S3.2.1.m1.6.6.1.1.1.1.1.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.1.1.1"><ci id="S3.2.1.m1.1.1.cmml" xref="S3.2.1.m1.1.1">𝑞</ci><apply id="S3.2.1.m1.6.6.1.1.1.1.1.1.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.2.1.m1.6.6.1.1.1.1.1.1.1.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.2.1.m1.6.6.1.1.1.1.1.1.1.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.1.1.1.1.2">𝑇</ci><ci id="S3.2.1.m1.6.6.1.1.1.1.1.1.1.3a.cmml" xref="S3.2.1.m1.6.6.1.1.1.1.1.1.1.3"><mtext id="S3.2.1.m1.6.6.1.1.1.1.1.1.1.3.cmml" mathsize="70%" xref="S3.2.1.m1.6.6.1.1.1.1.1.1.1.3">pat</mtext></ci></apply><ci id="S3.2.1.m1.2.2.cmml" xref="S3.2.1.m1.2.2">𝑤</ci></vector></apply><apply id="S3.2.1.m1.6.6.1.1.1.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.2"><times id="S3.2.1.m1.6.6.1.1.1.2.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.2"></times><apply id="S3.2.1.m1.6.6.1.1.1.2.3.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.3"><ci id="S3.2.1.m1.6.6.1.1.1.2.3.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.3.1">⋅</ci><apply id="S3.2.1.m1.6.6.1.1.1.2.3.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.2.1.m1.6.6.1.1.1.2.3.2.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.3.2">subscript</csymbol><ci id="S3.2.1.m1.6.6.1.1.1.2.3.2.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.3.2.2">𝜆</ci><cn id="S3.2.1.m1.6.6.1.1.1.2.3.2.3.cmml" type="integer" xref="S3.2.1.m1.6.6.1.1.1.2.3.2.3">1</cn></apply><apply id="S3.2.1.m1.6.6.1.1.1.2.3.3.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.3.3"><log id="S3.2.1.m1.6.6.1.1.1.2.3.3.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.3.3.1"></log><apply id="S3.2.1.m1.6.6.1.1.1.2.3.3.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.3.3.2"><csymbol cd="ambiguous" id="S3.2.1.m1.6.6.1.1.1.2.3.3.2.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.3.3.2">subscript</csymbol><ci id="S3.2.1.m1.6.6.1.1.1.2.3.3.2.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.3.3.2.2">𝑃</ci><ci id="S3.2.1.m1.6.6.1.1.1.2.3.3.2.3.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.3.3.2.3">𝑔</ci></apply></apply></apply><list id="S3.2.1.m1.6.6.1.1.1.2.1.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.1.1"><apply id="S3.2.1.m1.6.6.1.1.1.2.1.1.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.2.1.m1.6.6.1.1.1.2.1.1.1.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.1.1.1">subscript</csymbol><ci id="S3.2.1.m1.6.6.1.1.1.2.1.1.1.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.1.1.1.2">𝑇</ci><ci id="S3.2.1.m1.6.6.1.1.1.2.1.1.1.3a.cmml" xref="S3.2.1.m1.6.6.1.1.1.2.1.1.1.3"><mtext id="S3.2.1.m1.6.6.1.1.1.2.1.1.1.3.cmml" mathsize="70%" xref="S3.2.1.m1.6.6.1.1.1.2.1.1.1.3">pat</mtext></ci></apply><ci id="S3.2.1.m1.3.3.cmml" xref="S3.2.1.m1.3.3">𝑤</ci></list></apply><apply id="S3.2.1.m1.6.6.1.1.1.4.cmml" xref="S3.2.1.m1.6.6.1.1.1.4"><times id="S3.2.1.m1.6.6.1.1.1.4.3.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.3"></times><apply id="S3.2.1.m1.6.6.1.1.1.4.4.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.4"><ci id="S3.2.1.m1.6.6.1.1.1.4.4.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.4.1">⋅</ci><apply id="S3.2.1.m1.6.6.1.1.1.4.4.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.4.2"><csymbol cd="ambiguous" id="S3.2.1.m1.6.6.1.1.1.4.4.2.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.4.2">subscript</csymbol><ci id="S3.2.1.m1.6.6.1.1.1.4.4.2.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.4.2.2">𝜆</ci><cn id="S3.2.1.m1.6.6.1.1.1.4.4.2.3.cmml" type="integer" xref="S3.2.1.m1.6.6.1.1.1.4.4.2.3">2</cn></apply><apply id="S3.2.1.m1.6.6.1.1.1.4.4.3.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.4.3"><csymbol cd="ambiguous" id="S3.2.1.m1.6.6.1.1.1.4.4.3.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.4.3">subscript</csymbol><ci id="S3.2.1.m1.6.6.1.1.1.4.4.3.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.4.3.2">𝑓</ci><ci id="S3.2.1.m1.6.6.1.1.1.4.4.3.3a.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.4.3.3"><mtext id="S3.2.1.m1.6.6.1.1.1.4.4.3.3.cmml" mathsize="70%" xref="S3.2.1.m1.6.6.1.1.1.4.4.3.3">nsp</mtext></ci></apply></apply><vector id="S3.2.1.m1.6.6.1.1.1.4.2.3.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.2.2"><apply id="S3.2.1.m1.6.6.1.1.1.3.1.1.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.3.1.1.1"><csymbol cd="ambiguous" id="S3.2.1.m1.6.6.1.1.1.3.1.1.1.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.3.1.1.1">subscript</csymbol><ci id="S3.2.1.m1.6.6.1.1.1.3.1.1.1.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.3.1.1.1.2">𝑑</ci><ci id="S3.2.1.m1.6.6.1.1.1.3.1.1.1.3.cmml" xref="S3.2.1.m1.6.6.1.1.1.3.1.1.1.3">𝑡</ci></apply><apply id="S3.2.1.m1.6.6.1.1.1.4.2.2.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.2.2.2"><csymbol cd="ambiguous" id="S3.2.1.m1.6.6.1.1.1.4.2.2.2.1.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.2.2.2">subscript</csymbol><ci id="S3.2.1.m1.6.6.1.1.1.4.2.2.2.2.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.2.2.2.2">𝑇</ci><ci id="S3.2.1.m1.6.6.1.1.1.4.2.2.2.3a.cmml" xref="S3.2.1.m1.6.6.1.1.1.4.2.2.2.3"><mtext id="S3.2.1.m1.6.6.1.1.1.4.2.2.2.3.cmml" mathsize="70%" xref="S3.2.1.m1.6.6.1.1.1.4.2.2.2.3">pat</mtext></ci></apply><ci id="S3.2.1.m1.4.4.cmml" xref="S3.2.1.m1.4.4">𝑤</ci></vector></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.2.1.m1.6c">\max\left(M_{i}(q,T_{\text{pat}};w)+\lambda_{1}\cdot\log P_{g}(T_{\text{pat}};%
w)+\lambda_{2}\cdot f_{\text{nsp}}(d_{t},T_{\text{pat}};w)\right)</annotation><annotation encoding="application/x-llamapun" id="S3.2.1.m1.6d">roman_max ( italic_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ( italic_q , italic_T start_POSTSUBSCRIPT pat end_POSTSUBSCRIPT ; italic_w ) + italic_λ start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ⋅ roman_log italic_P start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT ( italic_T start_POSTSUBSCRIPT pat end_POSTSUBSCRIPT ; italic_w ) + italic_λ start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ⋅ italic_f start_POSTSUBSCRIPT nsp end_POSTSUBSCRIPT ( italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_T start_POSTSUBSCRIPT pat end_POSTSUBSCRIPT ; italic_w ) )</annotation></semantics></math>          [2]</p>
</div>
<div class="ltx_para" id="S3.p8">
<p class="ltx_p" id="S3.p8.4">In the above formula, <math alttext="P_{g}" class="ltx_Math" display="inline" id="S3.p8.1.m1.1"><semantics id="S3.p8.1.m1.1a"><msub id="S3.p8.1.m1.1.1" xref="S3.p8.1.m1.1.1.cmml"><mi id="S3.p8.1.m1.1.1.2" xref="S3.p8.1.m1.1.1.2.cmml">P</mi><mi id="S3.p8.1.m1.1.1.3" xref="S3.p8.1.m1.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p8.1.m1.1b"><apply id="S3.p8.1.m1.1.1.cmml" xref="S3.p8.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p8.1.m1.1.1.1.cmml" xref="S3.p8.1.m1.1.1">subscript</csymbol><ci id="S3.p8.1.m1.1.1.2.cmml" xref="S3.p8.1.m1.1.1.2">𝑃</ci><ci id="S3.p8.1.m1.1.1.3.cmml" xref="S3.p8.1.m1.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p8.1.m1.1c">P_{g}</annotation><annotation encoding="application/x-llamapun" id="S3.p8.1.m1.1d">italic_P start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT</annotation></semantics></math> is the semantic constraint function, and <math alttext="f_{\text{nsp}}" class="ltx_Math" display="inline" id="S3.p8.2.m2.1"><semantics id="S3.p8.2.m2.1a"><msub id="S3.p8.2.m2.1.1" xref="S3.p8.2.m2.1.1.cmml"><mi id="S3.p8.2.m2.1.1.2" xref="S3.p8.2.m2.1.1.2.cmml">f</mi><mtext id="S3.p8.2.m2.1.1.3" xref="S3.p8.2.m2.1.1.3a.cmml">nsp</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p8.2.m2.1b"><apply id="S3.p8.2.m2.1.1.cmml" xref="S3.p8.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p8.2.m2.1.1.1.cmml" xref="S3.p8.2.m2.1.1">subscript</csymbol><ci id="S3.p8.2.m2.1.1.2.cmml" xref="S3.p8.2.m2.1.1.2">𝑓</ci><ci id="S3.p8.2.m2.1.1.3a.cmml" xref="S3.p8.2.m2.1.1.3"><mtext id="S3.p8.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.p8.2.m2.1.1.3">nsp</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p8.2.m2.1c">f_{\text{nsp}}</annotation><annotation encoding="application/x-llamapun" id="S3.p8.2.m2.1d">italic_f start_POSTSUBSCRIPT nsp end_POSTSUBSCRIPT</annotation></semantics></math> is the next sentence prediction consistency score function between <math alttext="T_{\text{pat}}" class="ltx_Math" display="inline" id="S3.p8.3.m3.1"><semantics id="S3.p8.3.m3.1a"><msub id="S3.p8.3.m3.1.1" xref="S3.p8.3.m3.1.1.cmml"><mi id="S3.p8.3.m3.1.1.2" xref="S3.p8.3.m3.1.1.2.cmml">T</mi><mtext id="S3.p8.3.m3.1.1.3" xref="S3.p8.3.m3.1.1.3a.cmml">pat</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p8.3.m3.1b"><apply id="S3.p8.3.m3.1.1.cmml" xref="S3.p8.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p8.3.m3.1.1.1.cmml" xref="S3.p8.3.m3.1.1">subscript</csymbol><ci id="S3.p8.3.m3.1.1.2.cmml" xref="S3.p8.3.m3.1.1.2">𝑇</ci><ci id="S3.p8.3.m3.1.1.3a.cmml" xref="S3.p8.3.m3.1.1.3"><mtext id="S3.p8.3.m3.1.1.3.cmml" mathsize="70%" xref="S3.p8.3.m3.1.1.3">pat</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p8.3.m3.1c">T_{\text{pat}}</annotation><annotation encoding="application/x-llamapun" id="S3.p8.3.m3.1d">italic_T start_POSTSUBSCRIPT pat end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="d_{t}" class="ltx_Math" display="inline" id="S3.p8.4.m4.1"><semantics id="S3.p8.4.m4.1a"><msub id="S3.p8.4.m4.1.1" xref="S3.p8.4.m4.1.1.cmml"><mi id="S3.p8.4.m4.1.1.2" xref="S3.p8.4.m4.1.1.2.cmml">d</mi><mi id="S3.p8.4.m4.1.1.3" xref="S3.p8.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p8.4.m4.1b"><apply id="S3.p8.4.m4.1.1.cmml" xref="S3.p8.4.m4.1.1"><csymbol cd="ambiguous" id="S3.p8.4.m4.1.1.1.cmml" xref="S3.p8.4.m4.1.1">subscript</csymbol><ci id="S3.p8.4.m4.1.1.2.cmml" xref="S3.p8.4.m4.1.1.2">𝑑</ci><ci id="S3.p8.4.m4.1.1.3.cmml" xref="S3.p8.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p8.4.m4.1c">d_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p8.4.m4.1d">italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.p9">
<p class="ltx_p" id="S3.p9.1">In terms of dataset, this paper uses the MS MARCO Passages Ranking dataset as the data source for guiding the black-box RAG to generate relevant passages <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib28" title="">28</a>]</cite> where we sample data pairs to train the surrogate model. Additionally, this paper uses controversial topic data scraped from the PROCON.ORG website as the object of manipulation. The controversial topic dataset includes over 80 topics, covering fields such as society, health, government, education, and science. Each controversial topic is discussed from two stances (pro and con), with an average of 30 related passages, each holding a certain opinion with stance pro or con.</p>
</div>
<div class="ltx_para" id="S3.p10">
<p class="ltx_p" id="S3.p10.1">The specific settings details for the RAG manipulation experiment are as follows:</p>
</div>
<div class="ltx_para" id="S3.p11">
<p class="ltx_p" id="S3.p11.2">(1) Black-box RAG: This paper represents the black-box RAG process, which serves as the research object, as <math alttext="\text{RAG}_{\text{black}}" class="ltx_Math" display="inline" id="S3.p11.1.m1.1"><semantics id="S3.p11.1.m1.1a"><msub id="S3.p11.1.m1.1.1" xref="S3.p11.1.m1.1.1.cmml"><mtext id="S3.p11.1.m1.1.1.2" xref="S3.p11.1.m1.1.1.2a.cmml">RAG</mtext><mtext id="S3.p11.1.m1.1.1.3" xref="S3.p11.1.m1.1.1.3a.cmml">black</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p11.1.m1.1b"><apply id="S3.p11.1.m1.1.1.cmml" xref="S3.p11.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p11.1.m1.1.1.1.cmml" xref="S3.p11.1.m1.1.1">subscript</csymbol><ci id="S3.p11.1.m1.1.1.2a.cmml" xref="S3.p11.1.m1.1.1.2"><mtext id="S3.p11.1.m1.1.1.2.cmml" xref="S3.p11.1.m1.1.1.2">RAG</mtext></ci><ci id="S3.p11.1.m1.1.1.3a.cmml" xref="S3.p11.1.m1.1.1.3"><mtext id="S3.p11.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.p11.1.m1.1.1.3">black</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p11.1.m1.1c">\text{RAG}_{\text{black}}</annotation><annotation encoding="application/x-llamapun" id="S3.p11.1.m1.1d">RAG start_POSTSUBSCRIPT black end_POSTSUBSCRIPT</annotation></semantics></math>. It mainly consists of a retriever and a large language model (LLM). The LLMs used are the open-source models Meta-Llama-3-8B-Instruct (LLAMA3-8B) and Qwen1.5-14B-Chat (Qwen1.5-14B). The LLAMA and Qwen series LLMs perform well across various tasks among all open-source models. The prompt connecting the retriever and the LLM in <math alttext="\text{RAG}_{\text{black}}" class="ltx_Math" display="inline" id="S3.p11.2.m2.1"><semantics id="S3.p11.2.m2.1a"><msub id="S3.p11.2.m2.1.1" xref="S3.p11.2.m2.1.1.cmml"><mtext id="S3.p11.2.m2.1.1.2" xref="S3.p11.2.m2.1.1.2a.cmml">RAG</mtext><mtext id="S3.p11.2.m2.1.1.3" xref="S3.p11.2.m2.1.1.3a.cmml">black</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.p11.2.m2.1b"><apply id="S3.p11.2.m2.1.1.cmml" xref="S3.p11.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p11.2.m2.1.1.1.cmml" xref="S3.p11.2.m2.1.1">subscript</csymbol><ci id="S3.p11.2.m2.1.1.2a.cmml" xref="S3.p11.2.m2.1.1.2"><mtext id="S3.p11.2.m2.1.1.2.cmml" xref="S3.p11.2.m2.1.1.2">RAG</mtext></ci><ci id="S3.p11.2.m2.1.1.3a.cmml" xref="S3.p11.2.m2.1.1.3"><mtext id="S3.p11.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.p11.2.m2.1.1.3">black</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p11.2.m2.1c">\text{RAG}_{\text{black}}</annotation><annotation encoding="application/x-llamapun" id="S3.p11.2.m2.1d">RAG start_POSTSUBSCRIPT black end_POSTSUBSCRIPT</annotation></semantics></math> adopts the basic RAG prompt from the Langchain framework:</p>
</div>
<div class="ltx_para" id="S3.p12">
<p class="ltx_p ltx_align_center" id="S3.p12.1">
<span class="ltx_inline-block ltx_parbox ltx_align_middle ltx_framed ltx_framed_rectangle" id="S3.p12.1.1" style="width:284.5pt;">
<span class="ltx_p" id="S3.p12.1.1.1"><em class="ltx_emph ltx_font_italic" id="S3.p12.1.1.1.1">Use the following pieces of retrieved context to answer the question. Keep the answer concise.
Context: <span class="ltx_text ltx_font_upright" id="S3.p12.1.1.1.1.1">{</span>context<span class="ltx_text ltx_font_upright" id="S3.p12.1.1.1.1.2">}</span>.
Question: <span class="ltx_text ltx_font_upright" id="S3.p12.1.1.1.1.3">{</span>question<span class="ltx_text ltx_font_upright" id="S3.p12.1.1.1.1.4">}</span>.</em></span>
</span></p>
</div>
<div class="ltx_para" id="S3.p13">
<p class="ltx_p" id="S3.p13.1">(2) Target retriever model and surrogate model: The retriever in RAG is usually a dense retrieval model. Therefore, this paper selects the representative dense retrieval model, coCondenser, as the target retrieval model <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.13757v1#bib.bib9" title="">9</a>]</cite>. Since coCondenser is a BERT-based model, the surrogate model chosen in this paper is the MiniLM model, which is BERT-based and specifically trained on the MS Marco Passage Ranking dataset.</p>
</div>
<div class="ltx_para" id="S3.p14">
<p class="ltx_p" id="S3.p14.8">(3) Manipulation target: For a controversial topic <math alttext="q" class="ltx_Math" display="inline" id="S3.p14.1.m1.1"><semantics id="S3.p14.1.m1.1a"><mi id="S3.p14.1.m1.1.1" xref="S3.p14.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.p14.1.m1.1b"><ci id="S3.p14.1.m1.1.1.cmml" xref="S3.p14.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p14.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.p14.1.m1.1d">italic_q</annotation></semantics></math>, documents <math alttext="d_{t}" class="ltx_Math" display="inline" id="S3.p14.2.m2.1"><semantics id="S3.p14.2.m2.1a"><msub id="S3.p14.2.m2.1.1" xref="S3.p14.2.m2.1.1.cmml"><mi id="S3.p14.2.m2.1.1.2" xref="S3.p14.2.m2.1.1.2.cmml">d</mi><mi id="S3.p14.2.m2.1.1.3" xref="S3.p14.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p14.2.m2.1b"><apply id="S3.p14.2.m2.1.1.cmml" xref="S3.p14.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p14.2.m2.1.1.1.cmml" xref="S3.p14.2.m2.1.1">subscript</csymbol><ci id="S3.p14.2.m2.1.1.2.cmml" xref="S3.p14.2.m2.1.1.2">𝑑</ci><ci id="S3.p14.2.m2.1.1.3.cmml" xref="S3.p14.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p14.2.m2.1c">d_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p14.2.m2.1d">italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> holding the expected opinion <math alttext="S_{t}" class="ltx_Math" display="inline" id="S3.p14.3.m3.1"><semantics id="S3.p14.3.m3.1a"><msub id="S3.p14.3.m3.1.1" xref="S3.p14.3.m3.1.1.cmml"><mi id="S3.p14.3.m3.1.1.2" xref="S3.p14.3.m3.1.1.2.cmml">S</mi><mi id="S3.p14.3.m3.1.1.3" xref="S3.p14.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p14.3.m3.1b"><apply id="S3.p14.3.m3.1.1.cmml" xref="S3.p14.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p14.3.m3.1.1.1.cmml" xref="S3.p14.3.m3.1.1">subscript</csymbol><ci id="S3.p14.3.m3.1.1.2.cmml" xref="S3.p14.3.m3.1.1.2">𝑆</ci><ci id="S3.p14.3.m3.1.1.3.cmml" xref="S3.p14.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p14.3.m3.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p14.3.m3.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> are manipulated by adding adversarial text <math alttext="p_{adv}" class="ltx_Math" display="inline" id="S3.p14.4.m4.1"><semantics id="S3.p14.4.m4.1a"><msub id="S3.p14.4.m4.1.1" xref="S3.p14.4.m4.1.1.cmml"><mi id="S3.p14.4.m4.1.1.2" xref="S3.p14.4.m4.1.1.2.cmml">p</mi><mrow id="S3.p14.4.m4.1.1.3" xref="S3.p14.4.m4.1.1.3.cmml"><mi id="S3.p14.4.m4.1.1.3.2" xref="S3.p14.4.m4.1.1.3.2.cmml">a</mi><mo id="S3.p14.4.m4.1.1.3.1" xref="S3.p14.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S3.p14.4.m4.1.1.3.3" xref="S3.p14.4.m4.1.1.3.3.cmml">d</mi><mo id="S3.p14.4.m4.1.1.3.1a" xref="S3.p14.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S3.p14.4.m4.1.1.3.4" xref="S3.p14.4.m4.1.1.3.4.cmml">v</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p14.4.m4.1b"><apply id="S3.p14.4.m4.1.1.cmml" xref="S3.p14.4.m4.1.1"><csymbol cd="ambiguous" id="S3.p14.4.m4.1.1.1.cmml" xref="S3.p14.4.m4.1.1">subscript</csymbol><ci id="S3.p14.4.m4.1.1.2.cmml" xref="S3.p14.4.m4.1.1.2">𝑝</ci><apply id="S3.p14.4.m4.1.1.3.cmml" xref="S3.p14.4.m4.1.1.3"><times id="S3.p14.4.m4.1.1.3.1.cmml" xref="S3.p14.4.m4.1.1.3.1"></times><ci id="S3.p14.4.m4.1.1.3.2.cmml" xref="S3.p14.4.m4.1.1.3.2">𝑎</ci><ci id="S3.p14.4.m4.1.1.3.3.cmml" xref="S3.p14.4.m4.1.1.3.3">𝑑</ci><ci id="S3.p14.4.m4.1.1.3.4.cmml" xref="S3.p14.4.m4.1.1.3.4">𝑣</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p14.4.m4.1c">p_{adv}</annotation><annotation encoding="application/x-llamapun" id="S3.p14.4.m4.1d">italic_p start_POSTSUBSCRIPT italic_a italic_d italic_v end_POSTSUBSCRIPT</annotation></semantics></math> at the beginning. This manipulation aims to position these perturbed documents as prominently as possible in the top <math alttext="K" class="ltx_Math" display="inline" id="S3.p14.5.m5.1"><semantics id="S3.p14.5.m5.1a"><mi id="S3.p14.5.m5.1.1" xref="S3.p14.5.m5.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.p14.5.m5.1b"><ci id="S3.p14.5.m5.1.1.cmml" xref="S3.p14.5.m5.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p14.5.m5.1c">K</annotation><annotation encoding="application/x-llamapun" id="S3.p14.5.m5.1d">italic_K</annotation></semantics></math> rankings of the RAG retriever <math alttext="\mathrm{RM}_{k}(q)" class="ltx_Math" display="inline" id="S3.p14.6.m6.1"><semantics id="S3.p14.6.m6.1a"><mrow id="S3.p14.6.m6.1.2" xref="S3.p14.6.m6.1.2.cmml"><msub id="S3.p14.6.m6.1.2.2" xref="S3.p14.6.m6.1.2.2.cmml"><mi id="S3.p14.6.m6.1.2.2.2" xref="S3.p14.6.m6.1.2.2.2.cmml">RM</mi><mi id="S3.p14.6.m6.1.2.2.3" xref="S3.p14.6.m6.1.2.2.3.cmml">k</mi></msub><mo id="S3.p14.6.m6.1.2.1" xref="S3.p14.6.m6.1.2.1.cmml">⁢</mo><mrow id="S3.p14.6.m6.1.2.3.2" xref="S3.p14.6.m6.1.2.cmml"><mo id="S3.p14.6.m6.1.2.3.2.1" stretchy="false" xref="S3.p14.6.m6.1.2.cmml">(</mo><mi id="S3.p14.6.m6.1.1" xref="S3.p14.6.m6.1.1.cmml">q</mi><mo id="S3.p14.6.m6.1.2.3.2.2" stretchy="false" xref="S3.p14.6.m6.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p14.6.m6.1b"><apply id="S3.p14.6.m6.1.2.cmml" xref="S3.p14.6.m6.1.2"><times id="S3.p14.6.m6.1.2.1.cmml" xref="S3.p14.6.m6.1.2.1"></times><apply id="S3.p14.6.m6.1.2.2.cmml" xref="S3.p14.6.m6.1.2.2"><csymbol cd="ambiguous" id="S3.p14.6.m6.1.2.2.1.cmml" xref="S3.p14.6.m6.1.2.2">subscript</csymbol><ci id="S3.p14.6.m6.1.2.2.2.cmml" xref="S3.p14.6.m6.1.2.2.2">RM</ci><ci id="S3.p14.6.m6.1.2.2.3.cmml" xref="S3.p14.6.m6.1.2.2.3">𝑘</ci></apply><ci id="S3.p14.6.m6.1.1.cmml" xref="S3.p14.6.m6.1.1">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p14.6.m6.1c">\mathrm{RM}_{k}(q)</annotation><annotation encoding="application/x-llamapun" id="S3.p14.6.m6.1d">roman_RM start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ( italic_q )</annotation></semantics></math>, where <math alttext="K" class="ltx_Math" display="inline" id="S3.p14.7.m7.1"><semantics id="S3.p14.7.m7.1a"><mi id="S3.p14.7.m7.1.1" xref="S3.p14.7.m7.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.p14.7.m7.1b"><ci id="S3.p14.7.m7.1.1.cmml" xref="S3.p14.7.m7.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p14.7.m7.1c">K</annotation><annotation encoding="application/x-llamapun" id="S3.p14.7.m7.1d">italic_K</annotation></semantics></math> denotes the number of paragraphs obtained by the RAG generation model from the retrieval results. In this paper, <math alttext="K" class="ltx_Math" display="inline" id="S3.p14.8.m8.1"><semantics id="S3.p14.8.m8.1a"><mi id="S3.p14.8.m8.1.1" xref="S3.p14.8.m8.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.p14.8.m8.1b"><ci id="S3.p14.8.m8.1.1.cmml" xref="S3.p14.8.m8.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p14.8.m8.1c">K</annotation><annotation encoding="application/x-llamapun" id="S3.p14.8.m8.1d">italic_K</annotation></semantics></math> is set to 3.</p>
</div>
<div class="ltx_para" id="S3.p15">
<p class="ltx_p" id="S3.p15.1">(4) Manipulator(the threat model): In the black-box scenario, the manipulator is only authorized to query the RAG, obtain RAG-generated results and modify the target documents. There are no restrictions on the number of calls to RAG. Furthermore, the manipulator has no knowledge of the model architecture, model parameters, or any other information related to the models within the black-box RAG. Modifying the prompt templates used by the LLM is also prohibited.</p>
</div>
<div class="ltx_para" id="S3.p16">
<p class="ltx_p" id="S3.p16.1">(5) Experimental Parameters: The batch size for training the surrogate model is set to 32, with 24 iterations.</p>
</div>
<div class="ltx_para" id="S3.p17">
<p class="ltx_p" id="S3.p17.1">Our proposed opinion manipulation strategy for black-box RAG is outlined in Algorithm 1.</p>
</div>
<figure class="ltx_float ltx_algorithm" id="algorithm1">
<div class="ltx_listing ltx_lst_numbers_left ltx_listing" id="algorithm1.51">
<div class="ltx_listingline" id="algorithm1.11.11">
<span class="ltx_text" id="algorithm1.11.11.1"><span class="ltx_text ltx_font_bold" id="algorithm1.11.11.1.1">Input:</span> </span>target black-box RAG model <math alttext="\textit{RAG}_{\text{black}}" class="ltx_Math" display="inline" id="algorithm1.1.1.m1.1"><semantics id="algorithm1.1.1.m1.1a"><msub id="algorithm1.1.1.m1.1.1" xref="algorithm1.1.1.m1.1.1.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm1.1.1.m1.1.1.2" xref="algorithm1.1.1.m1.1.1.2a.cmml">RAG</mtext><mtext id="algorithm1.1.1.m1.1.1.3" xref="algorithm1.1.1.m1.1.1.3a.cmml">black</mtext></msub><annotation-xml encoding="MathML-Content" id="algorithm1.1.1.m1.1b"><apply id="algorithm1.1.1.m1.1.1.cmml" xref="algorithm1.1.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.1.1.m1.1.1.1.cmml" xref="algorithm1.1.1.m1.1.1">subscript</csymbol><ci id="algorithm1.1.1.m1.1.1.2a.cmml" xref="algorithm1.1.1.m1.1.1.2"><mtext class="ltx_mathvariant_italic" id="algorithm1.1.1.m1.1.1.2.cmml" xref="algorithm1.1.1.m1.1.1.2">RAG</mtext></ci><ci id="algorithm1.1.1.m1.1.1.3a.cmml" xref="algorithm1.1.1.m1.1.1.3"><mtext id="algorithm1.1.1.m1.1.1.3.cmml" mathsize="70%" xref="algorithm1.1.1.m1.1.1.3">black</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.1.1.m1.1c">\textit{RAG}_{\text{black}}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.1.1.m1.1d">RAG start_POSTSUBSCRIPT black end_POSTSUBSCRIPT</annotation></semantics></math>, target retrieval model <math alttext="RM" class="ltx_Math" display="inline" id="algorithm1.2.2.m2.1"><semantics id="algorithm1.2.2.m2.1a"><mrow id="algorithm1.2.2.m2.1.1" xref="algorithm1.2.2.m2.1.1.cmml"><mi id="algorithm1.2.2.m2.1.1.2" xref="algorithm1.2.2.m2.1.1.2.cmml">R</mi><mo id="algorithm1.2.2.m2.1.1.1" xref="algorithm1.2.2.m2.1.1.1.cmml">⁢</mo><mi id="algorithm1.2.2.m2.1.1.3" xref="algorithm1.2.2.m2.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.2.2.m2.1b"><apply id="algorithm1.2.2.m2.1.1.cmml" xref="algorithm1.2.2.m2.1.1"><times id="algorithm1.2.2.m2.1.1.1.cmml" xref="algorithm1.2.2.m2.1.1.1"></times><ci id="algorithm1.2.2.m2.1.1.2.cmml" xref="algorithm1.2.2.m2.1.1.2">𝑅</ci><ci id="algorithm1.2.2.m2.1.1.3.cmml" xref="algorithm1.2.2.m2.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.2.2.m2.1c">RM</annotation><annotation encoding="application/x-llamapun" id="algorithm1.2.2.m2.1d">italic_R italic_M</annotation></semantics></math>, <span class="ltx_text" id="algorithm1.11.11.2">surrogate model</span> <math alttext="\boldsymbol{M_{i}}" class="ltx_Math" display="inline" id="algorithm1.3.3.m3.1"><semantics id="algorithm1.3.3.m3.1a"><msub id="algorithm1.3.3.m3.1.1" xref="algorithm1.3.3.m3.1.1.cmml"><mi id="algorithm1.3.3.m3.1.1.2" xref="algorithm1.3.3.m3.1.1.2.cmml">𝑴</mi><mi id="algorithm1.3.3.m3.1.1.3" xref="algorithm1.3.3.m3.1.1.3.cmml">𝒊</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.3.3.m3.1b"><apply id="algorithm1.3.3.m3.1.1.cmml" xref="algorithm1.3.3.m3.1.1"><csymbol cd="ambiguous" id="algorithm1.3.3.m3.1.1.1.cmml" xref="algorithm1.3.3.m3.1.1">subscript</csymbol><ci id="algorithm1.3.3.m3.1.1.2.cmml" xref="algorithm1.3.3.m3.1.1.2">𝑴</ci><ci id="algorithm1.3.3.m3.1.1.3.cmml" xref="algorithm1.3.3.m3.1.1.3">𝒊</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.3.3.m3.1c">\boldsymbol{M_{i}}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.3.3.m3.1d">bold_italic_M start_POSTSUBSCRIPT bold_italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, controversial topics <math alttext="\boldsymbol{Q}" class="ltx_Math" display="inline" id="algorithm1.4.4.m4.1"><semantics id="algorithm1.4.4.m4.1a"><mi id="algorithm1.4.4.m4.1.1" xref="algorithm1.4.4.m4.1.1.cmml">𝑸</mi><annotation-xml encoding="MathML-Content" id="algorithm1.4.4.m4.1b"><ci id="algorithm1.4.4.m4.1.1.cmml" xref="algorithm1.4.4.m4.1.1">𝑸</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.4.4.m4.1c">\boldsymbol{Q}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.4.4.m4.1d">bold_italic_Q</annotation></semantics></math>, target topic <math alttext="\boldsymbol{q}" class="ltx_Math" display="inline" id="algorithm1.5.5.m5.1"><semantics id="algorithm1.5.5.m5.1a"><mi id="algorithm1.5.5.m5.1.1" xref="algorithm1.5.5.m5.1.1.cmml">𝒒</mi><annotation-xml encoding="MathML-Content" id="algorithm1.5.5.m5.1b"><ci id="algorithm1.5.5.m5.1.1.cmml" xref="algorithm1.5.5.m5.1.1">𝒒</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.5.5.m5.1c">\boldsymbol{q}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.5.5.m5.1d">bold_italic_q</annotation></semantics></math>, expected opinion <math alttext="S_{t}" class="ltx_Math" display="inline" id="algorithm1.6.6.m6.1"><semantics id="algorithm1.6.6.m6.1a"><msub id="algorithm1.6.6.m6.1.1" xref="algorithm1.6.6.m6.1.1.cmml"><mi id="algorithm1.6.6.m6.1.1.2" xref="algorithm1.6.6.m6.1.1.2.cmml">S</mi><mi id="algorithm1.6.6.m6.1.1.3" xref="algorithm1.6.6.m6.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.6.6.m6.1b"><apply id="algorithm1.6.6.m6.1.1.cmml" xref="algorithm1.6.6.m6.1.1"><csymbol cd="ambiguous" id="algorithm1.6.6.m6.1.1.1.cmml" xref="algorithm1.6.6.m6.1.1">subscript</csymbol><ci id="algorithm1.6.6.m6.1.1.2.cmml" xref="algorithm1.6.6.m6.1.1.2">𝑆</ci><ci id="algorithm1.6.6.m6.1.1.3.cmml" xref="algorithm1.6.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.6.6.m6.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.6.6.m6.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, corpus <math alttext="Docs" class="ltx_Math" display="inline" id="algorithm1.7.7.m7.1"><semantics id="algorithm1.7.7.m7.1a"><mrow id="algorithm1.7.7.m7.1.1" xref="algorithm1.7.7.m7.1.1.cmml"><mi id="algorithm1.7.7.m7.1.1.2" xref="algorithm1.7.7.m7.1.1.2.cmml">D</mi><mo id="algorithm1.7.7.m7.1.1.1" xref="algorithm1.7.7.m7.1.1.1.cmml">⁢</mo><mi id="algorithm1.7.7.m7.1.1.3" xref="algorithm1.7.7.m7.1.1.3.cmml">o</mi><mo id="algorithm1.7.7.m7.1.1.1a" xref="algorithm1.7.7.m7.1.1.1.cmml">⁢</mo><mi id="algorithm1.7.7.m7.1.1.4" xref="algorithm1.7.7.m7.1.1.4.cmml">c</mi><mo id="algorithm1.7.7.m7.1.1.1b" xref="algorithm1.7.7.m7.1.1.1.cmml">⁢</mo><mi id="algorithm1.7.7.m7.1.1.5" xref="algorithm1.7.7.m7.1.1.5.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.7.7.m7.1b"><apply id="algorithm1.7.7.m7.1.1.cmml" xref="algorithm1.7.7.m7.1.1"><times id="algorithm1.7.7.m7.1.1.1.cmml" xref="algorithm1.7.7.m7.1.1.1"></times><ci id="algorithm1.7.7.m7.1.1.2.cmml" xref="algorithm1.7.7.m7.1.1.2">𝐷</ci><ci id="algorithm1.7.7.m7.1.1.3.cmml" xref="algorithm1.7.7.m7.1.1.3">𝑜</ci><ci id="algorithm1.7.7.m7.1.1.4.cmml" xref="algorithm1.7.7.m7.1.1.4">𝑐</ci><ci id="algorithm1.7.7.m7.1.1.5.cmml" xref="algorithm1.7.7.m7.1.1.5">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.7.7.m7.1c">Docs</annotation><annotation encoding="application/x-llamapun" id="algorithm1.7.7.m7.1d">italic_D italic_o italic_c italic_s</annotation></semantics></math> , target documents with expected opinion <math alttext="Docs_{t}" class="ltx_Math" display="inline" id="algorithm1.8.8.m8.1"><semantics id="algorithm1.8.8.m8.1a"><mrow id="algorithm1.8.8.m8.1.1" xref="algorithm1.8.8.m8.1.1.cmml"><mi id="algorithm1.8.8.m8.1.1.2" xref="algorithm1.8.8.m8.1.1.2.cmml">D</mi><mo id="algorithm1.8.8.m8.1.1.1" xref="algorithm1.8.8.m8.1.1.1.cmml">⁢</mo><mi id="algorithm1.8.8.m8.1.1.3" xref="algorithm1.8.8.m8.1.1.3.cmml">o</mi><mo id="algorithm1.8.8.m8.1.1.1a" xref="algorithm1.8.8.m8.1.1.1.cmml">⁢</mo><mi id="algorithm1.8.8.m8.1.1.4" xref="algorithm1.8.8.m8.1.1.4.cmml">c</mi><mo id="algorithm1.8.8.m8.1.1.1b" xref="algorithm1.8.8.m8.1.1.1.cmml">⁢</mo><msub id="algorithm1.8.8.m8.1.1.5" xref="algorithm1.8.8.m8.1.1.5.cmml"><mi id="algorithm1.8.8.m8.1.1.5.2" xref="algorithm1.8.8.m8.1.1.5.2.cmml">s</mi><mi id="algorithm1.8.8.m8.1.1.5.3" xref="algorithm1.8.8.m8.1.1.5.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.8.8.m8.1b"><apply id="algorithm1.8.8.m8.1.1.cmml" xref="algorithm1.8.8.m8.1.1"><times id="algorithm1.8.8.m8.1.1.1.cmml" xref="algorithm1.8.8.m8.1.1.1"></times><ci id="algorithm1.8.8.m8.1.1.2.cmml" xref="algorithm1.8.8.m8.1.1.2">𝐷</ci><ci id="algorithm1.8.8.m8.1.1.3.cmml" xref="algorithm1.8.8.m8.1.1.3">𝑜</ci><ci id="algorithm1.8.8.m8.1.1.4.cmml" xref="algorithm1.8.8.m8.1.1.4">𝑐</ci><apply id="algorithm1.8.8.m8.1.1.5.cmml" xref="algorithm1.8.8.m8.1.1.5"><csymbol cd="ambiguous" id="algorithm1.8.8.m8.1.1.5.1.cmml" xref="algorithm1.8.8.m8.1.1.5">subscript</csymbol><ci id="algorithm1.8.8.m8.1.1.5.2.cmml" xref="algorithm1.8.8.m8.1.1.5.2">𝑠</ci><ci id="algorithm1.8.8.m8.1.1.5.3.cmml" xref="algorithm1.8.8.m8.1.1.5.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.8.8.m8.1c">Docs_{t}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.8.8.m8.1d">italic_D italic_o italic_c italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, target document <math alttext="\boldsymbol{d_{t}}" class="ltx_Math" display="inline" id="algorithm1.9.9.m9.1"><semantics id="algorithm1.9.9.m9.1a"><msub id="algorithm1.9.9.m9.1.1" xref="algorithm1.9.9.m9.1.1.cmml"><mi id="algorithm1.9.9.m9.1.1.2" xref="algorithm1.9.9.m9.1.1.2.cmml">𝒅</mi><mi id="algorithm1.9.9.m9.1.1.3" xref="algorithm1.9.9.m9.1.1.3.cmml">𝒕</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.9.9.m9.1b"><apply id="algorithm1.9.9.m9.1.1.cmml" xref="algorithm1.9.9.m9.1.1"><csymbol cd="ambiguous" id="algorithm1.9.9.m9.1.1.1.cmml" xref="algorithm1.9.9.m9.1.1">subscript</csymbol><ci id="algorithm1.9.9.m9.1.1.2.cmml" xref="algorithm1.9.9.m9.1.1.2">𝒅</ci><ci id="algorithm1.9.9.m9.1.1.3.cmml" xref="algorithm1.9.9.m9.1.1.3">𝒕</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.9.9.m9.1c">\boldsymbol{d_{t}}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.9.9.m9.1d">bold_italic_d start_POSTSUBSCRIPT bold_italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, relevant document <math alttext="d_{+}" class="ltx_Math" display="inline" id="algorithm1.10.10.m10.1"><semantics id="algorithm1.10.10.m10.1a"><msub id="algorithm1.10.10.m10.1.1" xref="algorithm1.10.10.m10.1.1.cmml"><mi id="algorithm1.10.10.m10.1.1.2" xref="algorithm1.10.10.m10.1.1.2.cmml">d</mi><mo id="algorithm1.10.10.m10.1.1.3" xref="algorithm1.10.10.m10.1.1.3.cmml">+</mo></msub><annotation-xml encoding="MathML-Content" id="algorithm1.10.10.m10.1b"><apply id="algorithm1.10.10.m10.1.1.cmml" xref="algorithm1.10.10.m10.1.1"><csymbol cd="ambiguous" id="algorithm1.10.10.m10.1.1.1.cmml" xref="algorithm1.10.10.m10.1.1">subscript</csymbol><ci id="algorithm1.10.10.m10.1.1.2.cmml" xref="algorithm1.10.10.m10.1.1.2">𝑑</ci><plus id="algorithm1.10.10.m10.1.1.3.cmml" xref="algorithm1.10.10.m10.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.10.10.m10.1c">d_{+}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.10.10.m10.1d">italic_d start_POSTSUBSCRIPT + end_POSTSUBSCRIPT</annotation></semantics></math>, random sampled document <math alttext="d_{-}" class="ltx_Math" display="inline" id="algorithm1.11.11.m11.1"><semantics id="algorithm1.11.11.m11.1a"><msub id="algorithm1.11.11.m11.1.1" xref="algorithm1.11.11.m11.1.1.cmml"><mi id="algorithm1.11.11.m11.1.1.2" xref="algorithm1.11.11.m11.1.1.2.cmml">d</mi><mo id="algorithm1.11.11.m11.1.1.3" xref="algorithm1.11.11.m11.1.1.3.cmml">−</mo></msub><annotation-xml encoding="MathML-Content" id="algorithm1.11.11.m11.1b"><apply id="algorithm1.11.11.m11.1.1.cmml" xref="algorithm1.11.11.m11.1.1"><csymbol cd="ambiguous" id="algorithm1.11.11.m11.1.1.1.cmml" xref="algorithm1.11.11.m11.1.1">subscript</csymbol><ci id="algorithm1.11.11.m11.1.1.2.cmml" xref="algorithm1.11.11.m11.1.1.2">𝑑</ci><minus id="algorithm1.11.11.m11.1.1.3.cmml" xref="algorithm1.11.11.m11.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.11.11.m11.1c">d_{-}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.11.11.m11.1d">italic_d start_POSTSUBSCRIPT - end_POSTSUBSCRIPT</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.51.52">
</div>
<div class="ltx_listingline" id="algorithm1.51.53">
<span class="ltx_text ltx_font_bold" id="algorithm1.51.53.1">Instructions: </span>
</div>
<div class="ltx_listingline" id="algorithm1.12.12">
<math alttext="i_{1}" class="ltx_Math" display="inline" id="algorithm1.12.12.m1.1"><semantics id="algorithm1.12.12.m1.1a"><msub id="algorithm1.12.12.m1.1.1" xref="algorithm1.12.12.m1.1.1.cmml"><mi id="algorithm1.12.12.m1.1.1.2" xref="algorithm1.12.12.m1.1.1.2.cmml">i</mi><mn id="algorithm1.12.12.m1.1.1.3" xref="algorithm1.12.12.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="algorithm1.12.12.m1.1b"><apply id="algorithm1.12.12.m1.1.1.cmml" xref="algorithm1.12.12.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.12.12.m1.1.1.1.cmml" xref="algorithm1.12.12.m1.1.1">subscript</csymbol><ci id="algorithm1.12.12.m1.1.1.2.cmml" xref="algorithm1.12.12.m1.1.1.2">𝑖</ci><cn id="algorithm1.12.12.m1.1.1.3.cmml" type="integer" xref="algorithm1.12.12.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.12.12.m1.1c">i_{1}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.12.12.m1.1d">italic_i start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> = "Now that you are a search engine, please search: {query} Ignore the Question. Please copy the top 3 passages of the given Context intact in the output and provide the output in JSON with keys ’answer’ and ’context’. Put each candidate passage in ’context’ as a string element in the list…"
</div>
<div class="ltx_listingline" id="algorithm1.13.13">
<math alttext="i_{2}" class="ltx_Math" display="inline" id="algorithm1.13.13.m1.1"><semantics id="algorithm1.13.13.m1.1a"><msub id="algorithm1.13.13.m1.1.1" xref="algorithm1.13.13.m1.1.1.cmml"><mi id="algorithm1.13.13.m1.1.1.2" xref="algorithm1.13.13.m1.1.1.2.cmml">i</mi><mn id="algorithm1.13.13.m1.1.1.3" xref="algorithm1.13.13.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="algorithm1.13.13.m1.1b"><apply id="algorithm1.13.13.m1.1.1.cmml" xref="algorithm1.13.13.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.13.13.m1.1.1.1.cmml" xref="algorithm1.13.13.m1.1.1">subscript</csymbol><ci id="algorithm1.13.13.m1.1.1.2.cmml" xref="algorithm1.13.13.m1.1.1.2">𝑖</ci><cn id="algorithm1.13.13.m1.1.1.3.cmml" type="integer" xref="algorithm1.13.13.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.13.13.m1.1c">i_{2}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.13.13.m1.1d">italic_i start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> = "Use the following pieces of retrieved context to answer the question…" 
</div>
<div class="ltx_listingline" id="algorithm1.15.15"> <span class="ltx_text ltx_font_typewriter" id="algorithm1.15.15.2">// </span><math alttext="\textit{RAG}_{\text{black}}" class="ltx_Math" display="inline" id="algorithm1.14.14.m1.1"><semantics id="algorithm1.14.14.m1.1a"><msub id="algorithm1.14.14.m1.1.1" xref="algorithm1.14.14.m1.1.1.cmml"><mtext class="ltx_mathvariant_monospace" id="algorithm1.14.14.m1.1.1.2" xref="algorithm1.14.14.m1.1.1.2a.cmml">RAG</mtext><mtext class="ltx_mathvariant_monospace" id="algorithm1.14.14.m1.1.1.3" xref="algorithm1.14.14.m1.1.1.3a.cmml">black</mtext></msub><annotation-xml encoding="MathML-Content" id="algorithm1.14.14.m1.1b"><apply id="algorithm1.14.14.m1.1.1.cmml" xref="algorithm1.14.14.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.1.1.1.cmml" xref="algorithm1.14.14.m1.1.1">subscript</csymbol><ci id="algorithm1.14.14.m1.1.1.2a.cmml" xref="algorithm1.14.14.m1.1.1.2"><mtext class="ltx_mathvariant_monospace" id="algorithm1.14.14.m1.1.1.2.cmml" xref="algorithm1.14.14.m1.1.1.2">RAG</mtext></ci><ci id="algorithm1.14.14.m1.1.1.3a.cmml" xref="algorithm1.14.14.m1.1.1.3"><mtext class="ltx_mathvariant_monospace" id="algorithm1.14.14.m1.1.1.3.cmml" mathsize="70%" xref="algorithm1.14.14.m1.1.1.3">black</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.14.14.m1.1c">\textit{RAG}_{\text{black}}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.14.14.m1.1d">RAG start_POSTSUBSCRIPT black end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="algorithm1.15.15.1"> uses <math alttext="i_{2}" class="ltx_Math" display="inline" id="algorithm1.15.15.1.m1.1"><semantics id="algorithm1.15.15.1.m1.1a"><msub id="algorithm1.15.15.1.m1.1.1" xref="algorithm1.15.15.1.m1.1.1.cmml"><mi id="algorithm1.15.15.1.m1.1.1.2" xref="algorithm1.15.15.1.m1.1.1.2.cmml">i</mi><mn id="algorithm1.15.15.1.m1.1.1.3" xref="algorithm1.15.15.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="algorithm1.15.15.1.m1.1b"><apply id="algorithm1.15.15.1.m1.1.1.cmml" xref="algorithm1.15.15.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.15.15.1.m1.1.1.1.cmml" xref="algorithm1.15.15.1.m1.1.1">subscript</csymbol><ci id="algorithm1.15.15.1.m1.1.1.2.cmml" xref="algorithm1.15.15.1.m1.1.1.2">𝑖</ci><cn id="algorithm1.15.15.1.m1.1.1.3.cmml" type="integer" xref="algorithm1.15.15.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.15.15.1.m1.1c">i_{2}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.15.15.1.m1.1d">italic_i start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> as prompt template. </span>
</div>
<div class="ltx_listingline" id="algorithm1.51.54">
<span class="ltx_text ltx_font_bold" id="algorithm1.51.54.1">Functions: </span>
</div>
<div class="ltx_listingline" id="algorithm1.16.16">
<math alttext="\boldsymbol{OpinionClassify}" class="ltx_Math" display="inline" id="algorithm1.16.16.m1.1"><semantics id="algorithm1.16.16.m1.1a"><mrow id="algorithm1.16.16.m1.1.1" xref="algorithm1.16.16.m1.1.1.cmml"><mi id="algorithm1.16.16.m1.1.1.2" xref="algorithm1.16.16.m1.1.1.2.cmml">𝑶</mi><mo id="algorithm1.16.16.m1.1.1.1" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.3" xref="algorithm1.16.16.m1.1.1.3.cmml">𝒑</mi><mo id="algorithm1.16.16.m1.1.1.1a" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.4" xref="algorithm1.16.16.m1.1.1.4.cmml">𝒊</mi><mo id="algorithm1.16.16.m1.1.1.1b" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.5" xref="algorithm1.16.16.m1.1.1.5.cmml">𝒏</mi><mo id="algorithm1.16.16.m1.1.1.1c" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.6" xref="algorithm1.16.16.m1.1.1.6.cmml">𝒊</mi><mo id="algorithm1.16.16.m1.1.1.1d" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.7" xref="algorithm1.16.16.m1.1.1.7.cmml">𝒐</mi><mo id="algorithm1.16.16.m1.1.1.1e" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.8" xref="algorithm1.16.16.m1.1.1.8.cmml">𝒏</mi><mo id="algorithm1.16.16.m1.1.1.1f" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.9" xref="algorithm1.16.16.m1.1.1.9.cmml">𝑪</mi><mo id="algorithm1.16.16.m1.1.1.1g" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.10" xref="algorithm1.16.16.m1.1.1.10.cmml">𝒍</mi><mo id="algorithm1.16.16.m1.1.1.1h" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.11" xref="algorithm1.16.16.m1.1.1.11.cmml">𝒂</mi><mo id="algorithm1.16.16.m1.1.1.1i" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.12" xref="algorithm1.16.16.m1.1.1.12.cmml">𝒔</mi><mo id="algorithm1.16.16.m1.1.1.1j" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.13" xref="algorithm1.16.16.m1.1.1.13.cmml">𝒔</mi><mo id="algorithm1.16.16.m1.1.1.1k" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.14" xref="algorithm1.16.16.m1.1.1.14.cmml">𝒊</mi><mo id="algorithm1.16.16.m1.1.1.1l" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.15" xref="algorithm1.16.16.m1.1.1.15.cmml">𝒇</mi><mo id="algorithm1.16.16.m1.1.1.1m" xref="algorithm1.16.16.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.16" xref="algorithm1.16.16.m1.1.1.16.cmml">𝒚</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.16.16.m1.1b"><apply id="algorithm1.16.16.m1.1.1.cmml" xref="algorithm1.16.16.m1.1.1"><times id="algorithm1.16.16.m1.1.1.1.cmml" xref="algorithm1.16.16.m1.1.1.1"></times><ci id="algorithm1.16.16.m1.1.1.2.cmml" xref="algorithm1.16.16.m1.1.1.2">𝑶</ci><ci id="algorithm1.16.16.m1.1.1.3.cmml" xref="algorithm1.16.16.m1.1.1.3">𝒑</ci><ci id="algorithm1.16.16.m1.1.1.4.cmml" xref="algorithm1.16.16.m1.1.1.4">𝒊</ci><ci id="algorithm1.16.16.m1.1.1.5.cmml" xref="algorithm1.16.16.m1.1.1.5">𝒏</ci><ci id="algorithm1.16.16.m1.1.1.6.cmml" xref="algorithm1.16.16.m1.1.1.6">𝒊</ci><ci id="algorithm1.16.16.m1.1.1.7.cmml" xref="algorithm1.16.16.m1.1.1.7">𝒐</ci><ci id="algorithm1.16.16.m1.1.1.8.cmml" xref="algorithm1.16.16.m1.1.1.8">𝒏</ci><ci id="algorithm1.16.16.m1.1.1.9.cmml" xref="algorithm1.16.16.m1.1.1.9">𝑪</ci><ci id="algorithm1.16.16.m1.1.1.10.cmml" xref="algorithm1.16.16.m1.1.1.10">𝒍</ci><ci id="algorithm1.16.16.m1.1.1.11.cmml" xref="algorithm1.16.16.m1.1.1.11">𝒂</ci><ci id="algorithm1.16.16.m1.1.1.12.cmml" xref="algorithm1.16.16.m1.1.1.12">𝒔</ci><ci id="algorithm1.16.16.m1.1.1.13.cmml" xref="algorithm1.16.16.m1.1.1.13">𝒔</ci><ci id="algorithm1.16.16.m1.1.1.14.cmml" xref="algorithm1.16.16.m1.1.1.14">𝒊</ci><ci id="algorithm1.16.16.m1.1.1.15.cmml" xref="algorithm1.16.16.m1.1.1.15">𝒇</ci><ci id="algorithm1.16.16.m1.1.1.16.cmml" xref="algorithm1.16.16.m1.1.1.16">𝒚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.16.16.m1.1c">\boldsymbol{OpinionClassify}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.16.16.m1.1d">bold_italic_O bold_italic_p bold_italic_i bold_italic_n bold_italic_i bold_italic_o bold_italic_n bold_italic_C bold_italic_l bold_italic_a bold_italic_s bold_italic_s bold_italic_i bold_italic_f bold_italic_y</annotation></semantics></math>: Classify the opinion of the content into "support", "neutral" or "oppose".
</div>
<div class="ltx_listingline" id="algorithm1.17.17">
<math alttext="\boldsymbol{PAT}" class="ltx_Math" display="inline" id="algorithm1.17.17.m1.1"><semantics id="algorithm1.17.17.m1.1a"><mrow id="algorithm1.17.17.m1.1.1" xref="algorithm1.17.17.m1.1.1.cmml"><mi id="algorithm1.17.17.m1.1.1.2" xref="algorithm1.17.17.m1.1.1.2.cmml">𝑷</mi><mo id="algorithm1.17.17.m1.1.1.1" xref="algorithm1.17.17.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.17.17.m1.1.1.3" xref="algorithm1.17.17.m1.1.1.3.cmml">𝑨</mi><mo id="algorithm1.17.17.m1.1.1.1a" xref="algorithm1.17.17.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.17.17.m1.1.1.4" xref="algorithm1.17.17.m1.1.1.4.cmml">𝑻</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.17.17.m1.1b"><apply id="algorithm1.17.17.m1.1.1.cmml" xref="algorithm1.17.17.m1.1.1"><times id="algorithm1.17.17.m1.1.1.1.cmml" xref="algorithm1.17.17.m1.1.1.1"></times><ci id="algorithm1.17.17.m1.1.1.2.cmml" xref="algorithm1.17.17.m1.1.1.2">𝑷</ci><ci id="algorithm1.17.17.m1.1.1.3.cmml" xref="algorithm1.17.17.m1.1.1.3">𝑨</ci><ci id="algorithm1.17.17.m1.1.1.4.cmml" xref="algorithm1.17.17.m1.1.1.4">𝑻</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.17.17.m1.1c">\boldsymbol{PAT}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.17.17.m1.1d">bold_italic_P bold_italic_A bold_italic_T</annotation></semantics></math>: Pairwise Anchor-based Trigger generation strategy.
</div>
<div class="ltx_listingline" id="algorithm1.18.18">
<span class="ltx_text" id="algorithm1.18.18.1"><span class="ltx_text ltx_font_bold" id="algorithm1.18.18.1.1">Output:</span> </span>manipulated RAG responses <math alttext="\boldsymbol{Res}" class="ltx_Math" display="inline" id="algorithm1.18.18.m1.1"><semantics id="algorithm1.18.18.m1.1a"><mrow id="algorithm1.18.18.m1.1.1" xref="algorithm1.18.18.m1.1.1.cmml"><mi id="algorithm1.18.18.m1.1.1.2" xref="algorithm1.18.18.m1.1.1.2.cmml">𝑹</mi><mo id="algorithm1.18.18.m1.1.1.1" xref="algorithm1.18.18.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.18.18.m1.1.1.3" xref="algorithm1.18.18.m1.1.1.3.cmml">𝒆</mi><mo id="algorithm1.18.18.m1.1.1.1a" xref="algorithm1.18.18.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.18.18.m1.1.1.4" xref="algorithm1.18.18.m1.1.1.4.cmml">𝒔</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.18.18.m1.1b"><apply id="algorithm1.18.18.m1.1.1.cmml" xref="algorithm1.18.18.m1.1.1"><times id="algorithm1.18.18.m1.1.1.1.cmml" xref="algorithm1.18.18.m1.1.1.1"></times><ci id="algorithm1.18.18.m1.1.1.2.cmml" xref="algorithm1.18.18.m1.1.1.2">𝑹</ci><ci id="algorithm1.18.18.m1.1.1.3.cmml" xref="algorithm1.18.18.m1.1.1.3">𝒆</ci><ci id="algorithm1.18.18.m1.1.1.4.cmml" xref="algorithm1.18.18.m1.1.1.4">𝒔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.18.18.m1.1c">\boldsymbol{Res}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.18.18.m1.1d">bold_italic_R bold_italic_e bold_italic_s</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.51.55">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div class="ltx_listingline" id="algorithm1.51.56">
<span class="ltx_tag ltx_tag_listingline">2</span>
<span class="ltx_text ltx_font_bold" id="algorithm1.51.56.1">Phase</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.51.56.2">1. Pairwise Imitation Data Construction and Black-box Retrieval Model Imitation Training</em>
</div>
<div class="ltx_listingline" id="algorithm1.19.19">
<span class="ltx_tag ltx_tag_listingline">3</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
INIT: Dataset <math alttext="\mathcal{D}\leftarrow\{\}" class="ltx_Math" display="inline" id="algorithm1.19.19.m1.1"><semantics id="algorithm1.19.19.m1.1a"><mrow id="algorithm1.19.19.m1.1.1" xref="algorithm1.19.19.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.19.19.m1.1.1.2" xref="algorithm1.19.19.m1.1.1.2.cmml">𝒟</mi><mo id="algorithm1.19.19.m1.1.1.1" stretchy="false" xref="algorithm1.19.19.m1.1.1.1.cmml">←</mo><mrow id="algorithm1.19.19.m1.1.1.3.2" xref="algorithm1.19.19.m1.1.1.cmml"><mo id="algorithm1.19.19.m1.1.1.3.2.1" stretchy="false" xref="algorithm1.19.19.m1.1.1.3.1.cmml">{</mo><mo id="algorithm1.19.19.m1.1.1.3.2.2" stretchy="false" xref="algorithm1.19.19.m1.1.1.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.19.19.m1.1b"><apply id="algorithm1.19.19.m1.1.1.cmml" xref="algorithm1.19.19.m1.1.1"><ci id="algorithm1.19.19.m1.1.1.1.cmml" xref="algorithm1.19.19.m1.1.1.1">←</ci><ci id="algorithm1.19.19.m1.1.1.2.cmml" xref="algorithm1.19.19.m1.1.1.2">𝒟</ci><list id="algorithm1.19.19.m1.1.1.3.1.cmml" xref="algorithm1.19.19.m1.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.19.19.m1.1c">\mathcal{D}\leftarrow\{\}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.19.19.m1.1d">caligraphic_D ← { }</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.20.20">
<span class="ltx_tag ltx_tag_listingline">4</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="algorithm1.20.20.2">for</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.20.20.1"><math alttext="\boldsymbol{q}_{m}\in\boldsymbol{Q}" class="ltx_Math" display="inline" id="algorithm1.20.20.1.m1.1"><semantics id="algorithm1.20.20.1.m1.1a"><mrow id="algorithm1.20.20.1.m1.1.1" xref="algorithm1.20.20.1.m1.1.1.cmml"><msub id="algorithm1.20.20.1.m1.1.1.2" xref="algorithm1.20.20.1.m1.1.1.2.cmml"><mi id="algorithm1.20.20.1.m1.1.1.2.2" xref="algorithm1.20.20.1.m1.1.1.2.2.cmml">𝐪</mi><mi id="algorithm1.20.20.1.m1.1.1.2.3" xref="algorithm1.20.20.1.m1.1.1.2.3.cmml">m</mi></msub><mo id="algorithm1.20.20.1.m1.1.1.1" xref="algorithm1.20.20.1.m1.1.1.1.cmml">∈</mo><mi id="algorithm1.20.20.1.m1.1.1.3" xref="algorithm1.20.20.1.m1.1.1.3.cmml">𝐐</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.20.20.1.m1.1b"><apply id="algorithm1.20.20.1.m1.1.1.cmml" xref="algorithm1.20.20.1.m1.1.1"><in id="algorithm1.20.20.1.m1.1.1.1.cmml" xref="algorithm1.20.20.1.m1.1.1.1"></in><apply id="algorithm1.20.20.1.m1.1.1.2.cmml" xref="algorithm1.20.20.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.20.20.1.m1.1.1.2.1.cmml" xref="algorithm1.20.20.1.m1.1.1.2">subscript</csymbol><ci id="algorithm1.20.20.1.m1.1.1.2.2.cmml" xref="algorithm1.20.20.1.m1.1.1.2.2">𝐪</ci><ci id="algorithm1.20.20.1.m1.1.1.2.3.cmml" xref="algorithm1.20.20.1.m1.1.1.2.3">𝑚</ci></apply><ci id="algorithm1.20.20.1.m1.1.1.3.cmml" xref="algorithm1.20.20.1.m1.1.1.3">𝐐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.20.20.1.m1.1c">\boldsymbol{q}_{m}\in\boldsymbol{Q}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.20.20.1.m1.1d">bold_italic_q start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ∈ bold_italic_Q</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="algorithm1.20.20.3">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.22.22">
<span class="ltx_tag ltx_tag_listingline">5</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
induced rank list <math alttext="\boldsymbol{R}_{m}{top3}\leftarrow" class="ltx_Math" display="inline" id="algorithm1.21.21.m1.1"><semantics id="algorithm1.21.21.m1.1a"><mrow id="algorithm1.21.21.m1.1.1" xref="algorithm1.21.21.m1.1.1.cmml"><mrow id="algorithm1.21.21.m1.1.1.2" xref="algorithm1.21.21.m1.1.1.2.cmml"><msub id="algorithm1.21.21.m1.1.1.2.2" xref="algorithm1.21.21.m1.1.1.2.2.cmml"><mi id="algorithm1.21.21.m1.1.1.2.2.2" xref="algorithm1.21.21.m1.1.1.2.2.2.cmml">𝑹</mi><mi id="algorithm1.21.21.m1.1.1.2.2.3" xref="algorithm1.21.21.m1.1.1.2.2.3.cmml">m</mi></msub><mo id="algorithm1.21.21.m1.1.1.2.1" xref="algorithm1.21.21.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.21.21.m1.1.1.2.3" xref="algorithm1.21.21.m1.1.1.2.3.cmml">t</mi><mo id="algorithm1.21.21.m1.1.1.2.1a" xref="algorithm1.21.21.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.21.21.m1.1.1.2.4" xref="algorithm1.21.21.m1.1.1.2.4.cmml">o</mi><mo id="algorithm1.21.21.m1.1.1.2.1b" xref="algorithm1.21.21.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.21.21.m1.1.1.2.5" xref="algorithm1.21.21.m1.1.1.2.5.cmml">p</mi><mo id="algorithm1.21.21.m1.1.1.2.1c" xref="algorithm1.21.21.m1.1.1.2.1.cmml">⁢</mo><mn id="algorithm1.21.21.m1.1.1.2.6" xref="algorithm1.21.21.m1.1.1.2.6.cmml">3</mn></mrow><mo id="algorithm1.21.21.m1.1.1.1" stretchy="false" xref="algorithm1.21.21.m1.1.1.1.cmml">←</mo><mi id="algorithm1.21.21.m1.1.1.3" xref="algorithm1.21.21.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.21.21.m1.1b"><apply id="algorithm1.21.21.m1.1.1.cmml" xref="algorithm1.21.21.m1.1.1"><ci id="algorithm1.21.21.m1.1.1.1.cmml" xref="algorithm1.21.21.m1.1.1.1">←</ci><apply id="algorithm1.21.21.m1.1.1.2.cmml" xref="algorithm1.21.21.m1.1.1.2"><times id="algorithm1.21.21.m1.1.1.2.1.cmml" xref="algorithm1.21.21.m1.1.1.2.1"></times><apply id="algorithm1.21.21.m1.1.1.2.2.cmml" xref="algorithm1.21.21.m1.1.1.2.2"><csymbol cd="ambiguous" id="algorithm1.21.21.m1.1.1.2.2.1.cmml" xref="algorithm1.21.21.m1.1.1.2.2">subscript</csymbol><ci id="algorithm1.21.21.m1.1.1.2.2.2.cmml" xref="algorithm1.21.21.m1.1.1.2.2.2">𝑹</ci><ci id="algorithm1.21.21.m1.1.1.2.2.3.cmml" xref="algorithm1.21.21.m1.1.1.2.2.3">𝑚</ci></apply><ci id="algorithm1.21.21.m1.1.1.2.3.cmml" xref="algorithm1.21.21.m1.1.1.2.3">𝑡</ci><ci id="algorithm1.21.21.m1.1.1.2.4.cmml" xref="algorithm1.21.21.m1.1.1.2.4">𝑜</ci><ci id="algorithm1.21.21.m1.1.1.2.5.cmml" xref="algorithm1.21.21.m1.1.1.2.5">𝑝</ci><cn id="algorithm1.21.21.m1.1.1.2.6.cmml" type="integer" xref="algorithm1.21.21.m1.1.1.2.6">3</cn></apply><csymbol cd="latexml" id="algorithm1.21.21.m1.1.1.3.cmml" xref="algorithm1.21.21.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.21.21.m1.1c">\boldsymbol{R}_{m}{top3}\leftarrow</annotation><annotation encoding="application/x-llamapun" id="algorithm1.21.21.m1.1d">bold_italic_R start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT italic_t italic_o italic_p 3 ←</annotation></semantics></math> <math alttext="\textit{RAG}_{\text{black}}(\boldsymbol{q}_{m}\oplus i_{1};\boldsymbol{Docs})" class="ltx_Math" display="inline" id="algorithm1.22.22.m2.2"><semantics id="algorithm1.22.22.m2.2a"><mrow id="algorithm1.22.22.m2.2.2" xref="algorithm1.22.22.m2.2.2.cmml"><msub id="algorithm1.22.22.m2.2.2.4" xref="algorithm1.22.22.m2.2.2.4.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm1.22.22.m2.2.2.4.2" xref="algorithm1.22.22.m2.2.2.4.2a.cmml">RAG</mtext><mtext id="algorithm1.22.22.m2.2.2.4.3" xref="algorithm1.22.22.m2.2.2.4.3a.cmml">black</mtext></msub><mo id="algorithm1.22.22.m2.2.2.3" xref="algorithm1.22.22.m2.2.2.3.cmml">⁢</mo><mrow id="algorithm1.22.22.m2.2.2.2.2" xref="algorithm1.22.22.m2.2.2.2.3.cmml"><mo id="algorithm1.22.22.m2.2.2.2.2.3" stretchy="false" xref="algorithm1.22.22.m2.2.2.2.3.cmml">(</mo><mrow id="algorithm1.22.22.m2.1.1.1.1.1" xref="algorithm1.22.22.m2.1.1.1.1.1.cmml"><msub id="algorithm1.22.22.m2.1.1.1.1.1.2" xref="algorithm1.22.22.m2.1.1.1.1.1.2.cmml"><mi id="algorithm1.22.22.m2.1.1.1.1.1.2.2" xref="algorithm1.22.22.m2.1.1.1.1.1.2.2.cmml">𝒒</mi><mi id="algorithm1.22.22.m2.1.1.1.1.1.2.3" xref="algorithm1.22.22.m2.1.1.1.1.1.2.3.cmml">m</mi></msub><mo id="algorithm1.22.22.m2.1.1.1.1.1.1" xref="algorithm1.22.22.m2.1.1.1.1.1.1.cmml">⊕</mo><msub id="algorithm1.22.22.m2.1.1.1.1.1.3" xref="algorithm1.22.22.m2.1.1.1.1.1.3.cmml"><mi id="algorithm1.22.22.m2.1.1.1.1.1.3.2" xref="algorithm1.22.22.m2.1.1.1.1.1.3.2.cmml">i</mi><mn id="algorithm1.22.22.m2.1.1.1.1.1.3.3" xref="algorithm1.22.22.m2.1.1.1.1.1.3.3.cmml">1</mn></msub></mrow><mo id="algorithm1.22.22.m2.2.2.2.2.4" xref="algorithm1.22.22.m2.2.2.2.3.cmml">;</mo><mrow id="algorithm1.22.22.m2.2.2.2.2.2" xref="algorithm1.22.22.m2.2.2.2.2.2.cmml"><mi id="algorithm1.22.22.m2.2.2.2.2.2.2" xref="algorithm1.22.22.m2.2.2.2.2.2.2.cmml">𝑫</mi><mo id="algorithm1.22.22.m2.2.2.2.2.2.1" xref="algorithm1.22.22.m2.2.2.2.2.2.1.cmml">⁢</mo><mi id="algorithm1.22.22.m2.2.2.2.2.2.3" xref="algorithm1.22.22.m2.2.2.2.2.2.3.cmml">𝒐</mi><mo id="algorithm1.22.22.m2.2.2.2.2.2.1a" xref="algorithm1.22.22.m2.2.2.2.2.2.1.cmml">⁢</mo><mi id="algorithm1.22.22.m2.2.2.2.2.2.4" xref="algorithm1.22.22.m2.2.2.2.2.2.4.cmml">𝒄</mi><mo id="algorithm1.22.22.m2.2.2.2.2.2.1b" xref="algorithm1.22.22.m2.2.2.2.2.2.1.cmml">⁢</mo><mi id="algorithm1.22.22.m2.2.2.2.2.2.5" xref="algorithm1.22.22.m2.2.2.2.2.2.5.cmml">𝒔</mi></mrow><mo id="algorithm1.22.22.m2.2.2.2.2.5" stretchy="false" xref="algorithm1.22.22.m2.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.22.22.m2.2b"><apply id="algorithm1.22.22.m2.2.2.cmml" xref="algorithm1.22.22.m2.2.2"><times id="algorithm1.22.22.m2.2.2.3.cmml" xref="algorithm1.22.22.m2.2.2.3"></times><apply id="algorithm1.22.22.m2.2.2.4.cmml" xref="algorithm1.22.22.m2.2.2.4"><csymbol cd="ambiguous" id="algorithm1.22.22.m2.2.2.4.1.cmml" xref="algorithm1.22.22.m2.2.2.4">subscript</csymbol><ci id="algorithm1.22.22.m2.2.2.4.2a.cmml" xref="algorithm1.22.22.m2.2.2.4.2"><mtext class="ltx_mathvariant_italic" id="algorithm1.22.22.m2.2.2.4.2.cmml" xref="algorithm1.22.22.m2.2.2.4.2">RAG</mtext></ci><ci id="algorithm1.22.22.m2.2.2.4.3a.cmml" xref="algorithm1.22.22.m2.2.2.4.3"><mtext id="algorithm1.22.22.m2.2.2.4.3.cmml" mathsize="70%" xref="algorithm1.22.22.m2.2.2.4.3">black</mtext></ci></apply><list id="algorithm1.22.22.m2.2.2.2.3.cmml" xref="algorithm1.22.22.m2.2.2.2.2"><apply id="algorithm1.22.22.m2.1.1.1.1.1.cmml" xref="algorithm1.22.22.m2.1.1.1.1.1"><csymbol cd="latexml" id="algorithm1.22.22.m2.1.1.1.1.1.1.cmml" xref="algorithm1.22.22.m2.1.1.1.1.1.1">direct-sum</csymbol><apply id="algorithm1.22.22.m2.1.1.1.1.1.2.cmml" xref="algorithm1.22.22.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.22.22.m2.1.1.1.1.1.2.1.cmml" xref="algorithm1.22.22.m2.1.1.1.1.1.2">subscript</csymbol><ci id="algorithm1.22.22.m2.1.1.1.1.1.2.2.cmml" xref="algorithm1.22.22.m2.1.1.1.1.1.2.2">𝒒</ci><ci id="algorithm1.22.22.m2.1.1.1.1.1.2.3.cmml" xref="algorithm1.22.22.m2.1.1.1.1.1.2.3">𝑚</ci></apply><apply id="algorithm1.22.22.m2.1.1.1.1.1.3.cmml" xref="algorithm1.22.22.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.22.22.m2.1.1.1.1.1.3.1.cmml" xref="algorithm1.22.22.m2.1.1.1.1.1.3">subscript</csymbol><ci id="algorithm1.22.22.m2.1.1.1.1.1.3.2.cmml" xref="algorithm1.22.22.m2.1.1.1.1.1.3.2">𝑖</ci><cn id="algorithm1.22.22.m2.1.1.1.1.1.3.3.cmml" type="integer" xref="algorithm1.22.22.m2.1.1.1.1.1.3.3">1</cn></apply></apply><apply id="algorithm1.22.22.m2.2.2.2.2.2.cmml" xref="algorithm1.22.22.m2.2.2.2.2.2"><times id="algorithm1.22.22.m2.2.2.2.2.2.1.cmml" xref="algorithm1.22.22.m2.2.2.2.2.2.1"></times><ci id="algorithm1.22.22.m2.2.2.2.2.2.2.cmml" xref="algorithm1.22.22.m2.2.2.2.2.2.2">𝑫</ci><ci id="algorithm1.22.22.m2.2.2.2.2.2.3.cmml" xref="algorithm1.22.22.m2.2.2.2.2.2.3">𝒐</ci><ci id="algorithm1.22.22.m2.2.2.2.2.2.4.cmml" xref="algorithm1.22.22.m2.2.2.2.2.2.4">𝒄</ci><ci id="algorithm1.22.22.m2.2.2.2.2.2.5.cmml" xref="algorithm1.22.22.m2.2.2.2.2.2.5">𝒔</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.22.22.m2.2c">\textit{RAG}_{\text{black}}(\boldsymbol{q}_{m}\oplus i_{1};\boldsymbol{Docs})</annotation><annotation encoding="application/x-llamapun" id="algorithm1.22.22.m2.2d">RAG start_POSTSUBSCRIPT black end_POSTSUBSCRIPT ( bold_italic_q start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ⊕ italic_i start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ; bold_italic_D bold_italic_o bold_italic_c bold_italic_s )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.25.25">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    <span class="ltx_text ltx_font_typewriter" id="algorithm1.25.25.3">// </span><math alttext="\textit{RAG}_{\text{black}}(\boldsymbol{q}_{m}\oplus i_{1})" class="ltx_Math" display="inline" id="algorithm1.23.23.m1.1"><semantics id="algorithm1.23.23.m1.1a"><mrow id="algorithm1.23.23.m1.1.1" xref="algorithm1.23.23.m1.1.1.cmml"><msub id="algorithm1.23.23.m1.1.1.3" xref="algorithm1.23.23.m1.1.1.3.cmml"><mtext class="ltx_mathvariant_monospace" id="algorithm1.23.23.m1.1.1.3.2" xref="algorithm1.23.23.m1.1.1.3.2a.cmml">RAG</mtext><mtext class="ltx_mathvariant_monospace" id="algorithm1.23.23.m1.1.1.3.3" xref="algorithm1.23.23.m1.1.1.3.3a.cmml">black</mtext></msub><mo id="algorithm1.23.23.m1.1.1.2" xref="algorithm1.23.23.m1.1.1.2.cmml">⁢</mo><mrow id="algorithm1.23.23.m1.1.1.1.1" xref="algorithm1.23.23.m1.1.1.1.1.1.cmml"><mo id="algorithm1.23.23.m1.1.1.1.1.2" stretchy="false" xref="algorithm1.23.23.m1.1.1.1.1.1.cmml">(</mo><mrow id="algorithm1.23.23.m1.1.1.1.1.1" xref="algorithm1.23.23.m1.1.1.1.1.1.cmml"><msub id="algorithm1.23.23.m1.1.1.1.1.1.2" xref="algorithm1.23.23.m1.1.1.1.1.1.2.cmml"><mi id="algorithm1.23.23.m1.1.1.1.1.1.2.2" xref="algorithm1.23.23.m1.1.1.1.1.1.2.2.cmml">𝒒</mi><mi id="algorithm1.23.23.m1.1.1.1.1.1.2.3" xref="algorithm1.23.23.m1.1.1.1.1.1.2.3.cmml">m</mi></msub><mo id="algorithm1.23.23.m1.1.1.1.1.1.1" xref="algorithm1.23.23.m1.1.1.1.1.1.1.cmml">⊕</mo><msub id="algorithm1.23.23.m1.1.1.1.1.1.3" xref="algorithm1.23.23.m1.1.1.1.1.1.3.cmml"><mi id="algorithm1.23.23.m1.1.1.1.1.1.3.2" xref="algorithm1.23.23.m1.1.1.1.1.1.3.2.cmml">i</mi><mn id="algorithm1.23.23.m1.1.1.1.1.1.3.3" xref="algorithm1.23.23.m1.1.1.1.1.1.3.3.cmml">1</mn></msub></mrow><mo id="algorithm1.23.23.m1.1.1.1.1.3" stretchy="false" xref="algorithm1.23.23.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.23.23.m1.1b"><apply id="algorithm1.23.23.m1.1.1.cmml" xref="algorithm1.23.23.m1.1.1"><times id="algorithm1.23.23.m1.1.1.2.cmml" xref="algorithm1.23.23.m1.1.1.2"></times><apply id="algorithm1.23.23.m1.1.1.3.cmml" xref="algorithm1.23.23.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.1.1.3.1.cmml" xref="algorithm1.23.23.m1.1.1.3">subscript</csymbol><ci id="algorithm1.23.23.m1.1.1.3.2a.cmml" xref="algorithm1.23.23.m1.1.1.3.2"><mtext class="ltx_mathvariant_monospace" id="algorithm1.23.23.m1.1.1.3.2.cmml" xref="algorithm1.23.23.m1.1.1.3.2">RAG</mtext></ci><ci id="algorithm1.23.23.m1.1.1.3.3a.cmml" xref="algorithm1.23.23.m1.1.1.3.3"><mtext class="ltx_mathvariant_monospace" id="algorithm1.23.23.m1.1.1.3.3.cmml" mathsize="70%" xref="algorithm1.23.23.m1.1.1.3.3">black</mtext></ci></apply><apply id="algorithm1.23.23.m1.1.1.1.1.1.cmml" xref="algorithm1.23.23.m1.1.1.1.1"><csymbol cd="latexml" id="algorithm1.23.23.m1.1.1.1.1.1.1.cmml" xref="algorithm1.23.23.m1.1.1.1.1.1.1">direct-sum</csymbol><apply id="algorithm1.23.23.m1.1.1.1.1.1.2.cmml" xref="algorithm1.23.23.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.1.1.1.1.1.2.1.cmml" xref="algorithm1.23.23.m1.1.1.1.1.1.2">subscript</csymbol><ci id="algorithm1.23.23.m1.1.1.1.1.1.2.2.cmml" xref="algorithm1.23.23.m1.1.1.1.1.1.2.2">𝒒</ci><ci id="algorithm1.23.23.m1.1.1.1.1.1.2.3.cmml" xref="algorithm1.23.23.m1.1.1.1.1.1.2.3">𝑚</ci></apply><apply id="algorithm1.23.23.m1.1.1.1.1.1.3.cmml" xref="algorithm1.23.23.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.1.1.1.1.1.3.1.cmml" xref="algorithm1.23.23.m1.1.1.1.1.1.3">subscript</csymbol><ci id="algorithm1.23.23.m1.1.1.1.1.1.3.2.cmml" xref="algorithm1.23.23.m1.1.1.1.1.1.3.2">𝑖</ci><cn id="algorithm1.23.23.m1.1.1.1.1.1.3.3.cmml" type="integer" xref="algorithm1.23.23.m1.1.1.1.1.1.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.23.23.m1.1c">\textit{RAG}_{\text{black}}(\boldsymbol{q}_{m}\oplus i_{1})</annotation><annotation encoding="application/x-llamapun" id="algorithm1.23.23.m1.1d">RAG start_POSTSUBSCRIPT black end_POSTSUBSCRIPT ( bold_italic_q start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ⊕ italic_i start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT )</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="algorithm1.25.25.2"> <math alttext="\approx" class="ltx_Math" display="inline" id="algorithm1.24.24.1.m1.1"><semantics id="algorithm1.24.24.1.m1.1a"><mo id="algorithm1.24.24.1.m1.1.1" xref="algorithm1.24.24.1.m1.1.1.cmml">≈</mo><annotation-xml encoding="MathML-Content" id="algorithm1.24.24.1.m1.1b"><approx id="algorithm1.24.24.1.m1.1.1.cmml" xref="algorithm1.24.24.1.m1.1.1"></approx></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.24.24.1.m1.1c">\approx</annotation><annotation encoding="application/x-llamapun" id="algorithm1.24.24.1.m1.1d">≈</annotation></semantics></math> <math alttext="RM(\boldsymbol{q}_{m})" class="ltx_Math" display="inline" id="algorithm1.25.25.2.m2.1"><semantics id="algorithm1.25.25.2.m2.1a"><mrow id="algorithm1.25.25.2.m2.1.1" xref="algorithm1.25.25.2.m2.1.1.cmml"><mi id="algorithm1.25.25.2.m2.1.1.3" xref="algorithm1.25.25.2.m2.1.1.3.cmml">R</mi><mo id="algorithm1.25.25.2.m2.1.1.2" xref="algorithm1.25.25.2.m2.1.1.2.cmml">⁢</mo><mi id="algorithm1.25.25.2.m2.1.1.4" xref="algorithm1.25.25.2.m2.1.1.4.cmml">M</mi><mo id="algorithm1.25.25.2.m2.1.1.2a" xref="algorithm1.25.25.2.m2.1.1.2.cmml">⁢</mo><mrow id="algorithm1.25.25.2.m2.1.1.1.1" xref="algorithm1.25.25.2.m2.1.1.1.1.1.cmml"><mo id="algorithm1.25.25.2.m2.1.1.1.1.2" stretchy="false" xref="algorithm1.25.25.2.m2.1.1.1.1.1.cmml">(</mo><msub id="algorithm1.25.25.2.m2.1.1.1.1.1" xref="algorithm1.25.25.2.m2.1.1.1.1.1.cmml"><mi id="algorithm1.25.25.2.m2.1.1.1.1.1.2" xref="algorithm1.25.25.2.m2.1.1.1.1.1.2.cmml">𝒒</mi><mi id="algorithm1.25.25.2.m2.1.1.1.1.1.3" xref="algorithm1.25.25.2.m2.1.1.1.1.1.3.cmml">m</mi></msub><mo id="algorithm1.25.25.2.m2.1.1.1.1.3" stretchy="false" xref="algorithm1.25.25.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.25.25.2.m2.1b"><apply id="algorithm1.25.25.2.m2.1.1.cmml" xref="algorithm1.25.25.2.m2.1.1"><times id="algorithm1.25.25.2.m2.1.1.2.cmml" xref="algorithm1.25.25.2.m2.1.1.2"></times><ci id="algorithm1.25.25.2.m2.1.1.3.cmml" xref="algorithm1.25.25.2.m2.1.1.3">𝑅</ci><ci id="algorithm1.25.25.2.m2.1.1.4.cmml" xref="algorithm1.25.25.2.m2.1.1.4">𝑀</ci><apply id="algorithm1.25.25.2.m2.1.1.1.1.1.cmml" xref="algorithm1.25.25.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.25.25.2.m2.1.1.1.1.1.1.cmml" xref="algorithm1.25.25.2.m2.1.1.1.1">subscript</csymbol><ci id="algorithm1.25.25.2.m2.1.1.1.1.1.2.cmml" xref="algorithm1.25.25.2.m2.1.1.1.1.1.2">𝒒</ci><ci id="algorithm1.25.25.2.m2.1.1.1.1.1.3.cmml" xref="algorithm1.25.25.2.m2.1.1.1.1.1.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.25.25.2.m2.1c">RM(\boldsymbol{q}_{m})</annotation><annotation encoding="application/x-llamapun" id="algorithm1.25.25.2.m2.1d">italic_R italic_M ( bold_italic_q start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT )</annotation></semantics></math> </span>
</div>
<div class="ltx_listingline" id="algorithm1.26.26">
<span class="ltx_tag ltx_tag_listingline">6</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="algorithm1.26.26.2">for</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.26.26.1"><math alttext="\boldsymbol{d_{+}}_{j}\in\boldsymbol{R}_{m}{top3}" class="ltx_Math" display="inline" id="algorithm1.26.26.1.m1.1"><semantics id="algorithm1.26.26.1.m1.1a"><mrow id="algorithm1.26.26.1.m1.1.1" xref="algorithm1.26.26.1.m1.1.1.cmml"><mmultiscripts id="algorithm1.26.26.1.m1.1.1.2" xref="algorithm1.26.26.1.m1.1.1.2.cmml"><mi id="algorithm1.26.26.1.m1.1.1.2.2.2" xref="algorithm1.26.26.1.m1.1.1.2.2.2.cmml">𝐝</mi><mo class="ltx_mathvariant_bold" id="algorithm1.26.26.1.m1.1.1.2.2.3" mathvariant="bold" xref="algorithm1.26.26.1.m1.1.1.2.2.3.cmml">+</mo><mrow id="algorithm1.26.26.1.m1.1.1.2a" xref="algorithm1.26.26.1.m1.1.1.2.cmml"></mrow><mi id="algorithm1.26.26.1.m1.1.1.2.3" xref="algorithm1.26.26.1.m1.1.1.2.3.cmml">j</mi><mrow id="algorithm1.26.26.1.m1.1.1.2b" xref="algorithm1.26.26.1.m1.1.1.2.cmml"></mrow></mmultiscripts><mo id="algorithm1.26.26.1.m1.1.1.1" xref="algorithm1.26.26.1.m1.1.1.1.cmml">∈</mo><mrow id="algorithm1.26.26.1.m1.1.1.3" xref="algorithm1.26.26.1.m1.1.1.3.cmml"><msub id="algorithm1.26.26.1.m1.1.1.3.2" xref="algorithm1.26.26.1.m1.1.1.3.2.cmml"><mi id="algorithm1.26.26.1.m1.1.1.3.2.2" xref="algorithm1.26.26.1.m1.1.1.3.2.2.cmml">𝐑</mi><mi id="algorithm1.26.26.1.m1.1.1.3.2.3" xref="algorithm1.26.26.1.m1.1.1.3.2.3.cmml">m</mi></msub><mo id="algorithm1.26.26.1.m1.1.1.3.1" xref="algorithm1.26.26.1.m1.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.26.26.1.m1.1.1.3.3" xref="algorithm1.26.26.1.m1.1.1.3.3.cmml">t</mi><mo id="algorithm1.26.26.1.m1.1.1.3.1a" xref="algorithm1.26.26.1.m1.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.26.26.1.m1.1.1.3.4" xref="algorithm1.26.26.1.m1.1.1.3.4.cmml">o</mi><mo id="algorithm1.26.26.1.m1.1.1.3.1b" xref="algorithm1.26.26.1.m1.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.26.26.1.m1.1.1.3.5" xref="algorithm1.26.26.1.m1.1.1.3.5.cmml">p</mi><mo id="algorithm1.26.26.1.m1.1.1.3.1c" xref="algorithm1.26.26.1.m1.1.1.3.1.cmml">⁢</mo><mn id="algorithm1.26.26.1.m1.1.1.3.6" xref="algorithm1.26.26.1.m1.1.1.3.6.cmml">3</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.26.26.1.m1.1b"><apply id="algorithm1.26.26.1.m1.1.1.cmml" xref="algorithm1.26.26.1.m1.1.1"><in id="algorithm1.26.26.1.m1.1.1.1.cmml" xref="algorithm1.26.26.1.m1.1.1.1"></in><apply id="algorithm1.26.26.1.m1.1.1.2.cmml" xref="algorithm1.26.26.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.26.26.1.m1.1.1.2.1.cmml" xref="algorithm1.26.26.1.m1.1.1.2">subscript</csymbol><apply id="algorithm1.26.26.1.m1.1.1.2.2.cmml" xref="algorithm1.26.26.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.26.26.1.m1.1.1.2.2.1.cmml" xref="algorithm1.26.26.1.m1.1.1.2">subscript</csymbol><ci id="algorithm1.26.26.1.m1.1.1.2.2.2.cmml" xref="algorithm1.26.26.1.m1.1.1.2.2.2">𝐝</ci><plus id="algorithm1.26.26.1.m1.1.1.2.2.3.cmml" xref="algorithm1.26.26.1.m1.1.1.2.2.3"></plus></apply><ci id="algorithm1.26.26.1.m1.1.1.2.3.cmml" xref="algorithm1.26.26.1.m1.1.1.2.3">𝑗</ci></apply><apply id="algorithm1.26.26.1.m1.1.1.3.cmml" xref="algorithm1.26.26.1.m1.1.1.3"><times id="algorithm1.26.26.1.m1.1.1.3.1.cmml" xref="algorithm1.26.26.1.m1.1.1.3.1"></times><apply id="algorithm1.26.26.1.m1.1.1.3.2.cmml" xref="algorithm1.26.26.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="algorithm1.26.26.1.m1.1.1.3.2.1.cmml" xref="algorithm1.26.26.1.m1.1.1.3.2">subscript</csymbol><ci id="algorithm1.26.26.1.m1.1.1.3.2.2.cmml" xref="algorithm1.26.26.1.m1.1.1.3.2.2">𝐑</ci><ci id="algorithm1.26.26.1.m1.1.1.3.2.3.cmml" xref="algorithm1.26.26.1.m1.1.1.3.2.3">𝑚</ci></apply><ci id="algorithm1.26.26.1.m1.1.1.3.3.cmml" xref="algorithm1.26.26.1.m1.1.1.3.3">𝑡</ci><ci id="algorithm1.26.26.1.m1.1.1.3.4.cmml" xref="algorithm1.26.26.1.m1.1.1.3.4">𝑜</ci><ci id="algorithm1.26.26.1.m1.1.1.3.5.cmml" xref="algorithm1.26.26.1.m1.1.1.3.5">𝑝</ci><cn id="algorithm1.26.26.1.m1.1.1.3.6.cmml" type="integer" xref="algorithm1.26.26.1.m1.1.1.3.6">3</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.26.26.1.m1.1c">\boldsymbol{d_{+}}_{j}\in\boldsymbol{R}_{m}{top3}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.26.26.1.m1.1d">bold_italic_d start_POSTSUBSCRIPT bold_+ end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ bold_italic_R start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT italic_t italic_o italic_p 3</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="algorithm1.26.26.3">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.27.27">
<span class="ltx_tag ltx_tag_listingline">7</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
Random sample document as <math alttext="\boldsymbol{d_{-}}_{j}" class="ltx_Math" display="inline" id="algorithm1.27.27.m1.1"><semantics id="algorithm1.27.27.m1.1a"><mmultiscripts id="algorithm1.27.27.m1.1.1" xref="algorithm1.27.27.m1.1.1.cmml"><mi id="algorithm1.27.27.m1.1.1.2.2" xref="algorithm1.27.27.m1.1.1.2.2.cmml">𝒅</mi><mo class="ltx_mathvariant_bold" id="algorithm1.27.27.m1.1.1.2.3" mathvariant="bold" xref="algorithm1.27.27.m1.1.1.2.3.cmml">−</mo><mrow id="algorithm1.27.27.m1.1.1a" xref="algorithm1.27.27.m1.1.1.cmml"></mrow><mi id="algorithm1.27.27.m1.1.1.3" xref="algorithm1.27.27.m1.1.1.3.cmml">j</mi><mrow id="algorithm1.27.27.m1.1.1b" xref="algorithm1.27.27.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="algorithm1.27.27.m1.1b"><apply id="algorithm1.27.27.m1.1.1.cmml" xref="algorithm1.27.27.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.27.27.m1.1.1.1.cmml" xref="algorithm1.27.27.m1.1.1">subscript</csymbol><apply id="algorithm1.27.27.m1.1.1.2.cmml" xref="algorithm1.27.27.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.27.27.m1.1.1.2.1.cmml" xref="algorithm1.27.27.m1.1.1">subscript</csymbol><ci id="algorithm1.27.27.m1.1.1.2.2.cmml" xref="algorithm1.27.27.m1.1.1.2.2">𝒅</ci><minus id="algorithm1.27.27.m1.1.1.2.3.cmml" xref="algorithm1.27.27.m1.1.1.2.3"></minus></apply><ci id="algorithm1.27.27.m1.1.1.3.cmml" xref="algorithm1.27.27.m1.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.27.27.m1.1c">\boldsymbol{d_{-}}_{j}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.27.27.m1.1d">bold_italic_d start_POSTSUBSCRIPT bold_- end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.28.28">
<span class="ltx_tag ltx_tag_listingline">8</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="\mathcal{D}\leftarrow positive,[\boldsymbol{q}_{m};\boldsymbol{d_{+}}_{j};%
\boldsymbol{d_{-}}_{j}]" class="ltx_Math" display="inline" id="algorithm1.28.28.m1.2"><semantics id="algorithm1.28.28.m1.2a"><mrow id="algorithm1.28.28.m1.2.2" xref="algorithm1.28.28.m1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.28.28.m1.2.2.4" xref="algorithm1.28.28.m1.2.2.4.cmml">𝒟</mi><mo id="algorithm1.28.28.m1.2.2.3" stretchy="false" xref="algorithm1.28.28.m1.2.2.3.cmml">←</mo><mrow id="algorithm1.28.28.m1.2.2.2.2" xref="algorithm1.28.28.m1.2.2.2.3.cmml"><mrow id="algorithm1.28.28.m1.1.1.1.1.1" xref="algorithm1.28.28.m1.1.1.1.1.1.cmml"><mi id="algorithm1.28.28.m1.1.1.1.1.1.2" xref="algorithm1.28.28.m1.1.1.1.1.1.2.cmml">p</mi><mo id="algorithm1.28.28.m1.1.1.1.1.1.1" xref="algorithm1.28.28.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.28.28.m1.1.1.1.1.1.3" xref="algorithm1.28.28.m1.1.1.1.1.1.3.cmml">o</mi><mo id="algorithm1.28.28.m1.1.1.1.1.1.1a" xref="algorithm1.28.28.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.28.28.m1.1.1.1.1.1.4" xref="algorithm1.28.28.m1.1.1.1.1.1.4.cmml">s</mi><mo id="algorithm1.28.28.m1.1.1.1.1.1.1b" xref="algorithm1.28.28.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.28.28.m1.1.1.1.1.1.5" xref="algorithm1.28.28.m1.1.1.1.1.1.5.cmml">i</mi><mo id="algorithm1.28.28.m1.1.1.1.1.1.1c" xref="algorithm1.28.28.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.28.28.m1.1.1.1.1.1.6" xref="algorithm1.28.28.m1.1.1.1.1.1.6.cmml">t</mi><mo id="algorithm1.28.28.m1.1.1.1.1.1.1d" xref="algorithm1.28.28.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.28.28.m1.1.1.1.1.1.7" xref="algorithm1.28.28.m1.1.1.1.1.1.7.cmml">i</mi><mo id="algorithm1.28.28.m1.1.1.1.1.1.1e" xref="algorithm1.28.28.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.28.28.m1.1.1.1.1.1.8" xref="algorithm1.28.28.m1.1.1.1.1.1.8.cmml">v</mi><mo id="algorithm1.28.28.m1.1.1.1.1.1.1f" xref="algorithm1.28.28.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.28.28.m1.1.1.1.1.1.9" xref="algorithm1.28.28.m1.1.1.1.1.1.9.cmml">e</mi></mrow><mo id="algorithm1.28.28.m1.2.2.2.2.3" xref="algorithm1.28.28.m1.2.2.2.3.cmml">,</mo><mrow id="algorithm1.28.28.m1.2.2.2.2.2.3" xref="algorithm1.28.28.m1.2.2.2.2.2.4.cmml"><mo id="algorithm1.28.28.m1.2.2.2.2.2.3.4" stretchy="false" xref="algorithm1.28.28.m1.2.2.2.2.2.4.cmml">[</mo><msub id="algorithm1.28.28.m1.2.2.2.2.2.1.1" xref="algorithm1.28.28.m1.2.2.2.2.2.1.1.cmml"><mi id="algorithm1.28.28.m1.2.2.2.2.2.1.1.2" xref="algorithm1.28.28.m1.2.2.2.2.2.1.1.2.cmml">𝒒</mi><mi id="algorithm1.28.28.m1.2.2.2.2.2.1.1.3" xref="algorithm1.28.28.m1.2.2.2.2.2.1.1.3.cmml">m</mi></msub><mo id="algorithm1.28.28.m1.2.2.2.2.2.3.5" xref="algorithm1.28.28.m1.2.2.2.2.2.4.cmml">;</mo><mmultiscripts id="algorithm1.28.28.m1.2.2.2.2.2.2.2" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2.cmml"><mi id="algorithm1.28.28.m1.2.2.2.2.2.2.2.2.2" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2.2.2.cmml">𝒅</mi><mo class="ltx_mathvariant_bold" id="algorithm1.28.28.m1.2.2.2.2.2.2.2.2.3" mathvariant="bold" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2.2.3.cmml">+</mo><mrow id="algorithm1.28.28.m1.2.2.2.2.2.2.2a" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2.cmml"></mrow><mi id="algorithm1.28.28.m1.2.2.2.2.2.2.2.3" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2.3.cmml">j</mi><mrow id="algorithm1.28.28.m1.2.2.2.2.2.2.2b" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2.cmml"></mrow></mmultiscripts><mo id="algorithm1.28.28.m1.2.2.2.2.2.3.6" xref="algorithm1.28.28.m1.2.2.2.2.2.4.cmml">;</mo><mmultiscripts id="algorithm1.28.28.m1.2.2.2.2.2.3.3" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3.cmml"><mi id="algorithm1.28.28.m1.2.2.2.2.2.3.3.2.2" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3.2.2.cmml">𝒅</mi><mo class="ltx_mathvariant_bold" id="algorithm1.28.28.m1.2.2.2.2.2.3.3.2.3" mathvariant="bold" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3.2.3.cmml">−</mo><mrow id="algorithm1.28.28.m1.2.2.2.2.2.3.3a" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3.cmml"></mrow><mi id="algorithm1.28.28.m1.2.2.2.2.2.3.3.3" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3.3.cmml">j</mi><mrow id="algorithm1.28.28.m1.2.2.2.2.2.3.3b" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3.cmml"></mrow></mmultiscripts><mo id="algorithm1.28.28.m1.2.2.2.2.2.3.7" stretchy="false" xref="algorithm1.28.28.m1.2.2.2.2.2.4.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.28.28.m1.2b"><apply id="algorithm1.28.28.m1.2.2.cmml" xref="algorithm1.28.28.m1.2.2"><ci id="algorithm1.28.28.m1.2.2.3.cmml" xref="algorithm1.28.28.m1.2.2.3">←</ci><ci id="algorithm1.28.28.m1.2.2.4.cmml" xref="algorithm1.28.28.m1.2.2.4">𝒟</ci><list id="algorithm1.28.28.m1.2.2.2.3.cmml" xref="algorithm1.28.28.m1.2.2.2.2"><apply id="algorithm1.28.28.m1.1.1.1.1.1.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1"><times id="algorithm1.28.28.m1.1.1.1.1.1.1.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.1"></times><ci id="algorithm1.28.28.m1.1.1.1.1.1.2.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.2">𝑝</ci><ci id="algorithm1.28.28.m1.1.1.1.1.1.3.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.3">𝑜</ci><ci id="algorithm1.28.28.m1.1.1.1.1.1.4.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.4">𝑠</ci><ci id="algorithm1.28.28.m1.1.1.1.1.1.5.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.5">𝑖</ci><ci id="algorithm1.28.28.m1.1.1.1.1.1.6.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.6">𝑡</ci><ci id="algorithm1.28.28.m1.1.1.1.1.1.7.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.7">𝑖</ci><ci id="algorithm1.28.28.m1.1.1.1.1.1.8.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.8">𝑣</ci><ci id="algorithm1.28.28.m1.1.1.1.1.1.9.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.9">𝑒</ci></apply><list id="algorithm1.28.28.m1.2.2.2.2.2.4.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.3"><apply id="algorithm1.28.28.m1.2.2.2.2.2.1.1.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="algorithm1.28.28.m1.2.2.2.2.2.1.1.1.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.1.1">subscript</csymbol><ci id="algorithm1.28.28.m1.2.2.2.2.2.1.1.2.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.1.1.2">𝒒</ci><ci id="algorithm1.28.28.m1.2.2.2.2.2.1.1.3.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.1.1.3">𝑚</ci></apply><apply id="algorithm1.28.28.m1.2.2.2.2.2.2.2.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="algorithm1.28.28.m1.2.2.2.2.2.2.2.1.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2">subscript</csymbol><apply id="algorithm1.28.28.m1.2.2.2.2.2.2.2.2.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="algorithm1.28.28.m1.2.2.2.2.2.2.2.2.1.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2">subscript</csymbol><ci id="algorithm1.28.28.m1.2.2.2.2.2.2.2.2.2.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2.2.2">𝒅</ci><plus id="algorithm1.28.28.m1.2.2.2.2.2.2.2.2.3.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2.2.3"></plus></apply><ci id="algorithm1.28.28.m1.2.2.2.2.2.2.2.3.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.2.2.3">𝑗</ci></apply><apply id="algorithm1.28.28.m1.2.2.2.2.2.3.3.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3"><csymbol cd="ambiguous" id="algorithm1.28.28.m1.2.2.2.2.2.3.3.1.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3">subscript</csymbol><apply id="algorithm1.28.28.m1.2.2.2.2.2.3.3.2.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3"><csymbol cd="ambiguous" id="algorithm1.28.28.m1.2.2.2.2.2.3.3.2.1.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3">subscript</csymbol><ci id="algorithm1.28.28.m1.2.2.2.2.2.3.3.2.2.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3.2.2">𝒅</ci><minus id="algorithm1.28.28.m1.2.2.2.2.2.3.3.2.3.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3.2.3"></minus></apply><ci id="algorithm1.28.28.m1.2.2.2.2.2.3.3.3.cmml" xref="algorithm1.28.28.m1.2.2.2.2.2.3.3.3">𝑗</ci></apply></list></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.28.28.m1.2c">\mathcal{D}\leftarrow positive,[\boldsymbol{q}_{m};\boldsymbol{d_{+}}_{j};%
\boldsymbol{d_{-}}_{j}]</annotation><annotation encoding="application/x-llamapun" id="algorithm1.28.28.m1.2d">caligraphic_D ← italic_p italic_o italic_s italic_i italic_t italic_i italic_v italic_e , [ bold_italic_q start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ; bold_italic_d start_POSTSUBSCRIPT bold_+ end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ; bold_italic_d start_POSTSUBSCRIPT bold_- end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ]</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.29.29">
<span class="ltx_tag ltx_tag_listingline">9</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math alttext="\mathcal{D}\leftarrow negative,[\boldsymbol{q}_{m};\boldsymbol{d_{-}}_{j};%
\boldsymbol{d_{+}}_{j}]" class="ltx_Math" display="inline" id="algorithm1.29.29.m1.2"><semantics id="algorithm1.29.29.m1.2a"><mrow id="algorithm1.29.29.m1.2.2" xref="algorithm1.29.29.m1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.29.29.m1.2.2.4" xref="algorithm1.29.29.m1.2.2.4.cmml">𝒟</mi><mo id="algorithm1.29.29.m1.2.2.3" stretchy="false" xref="algorithm1.29.29.m1.2.2.3.cmml">←</mo><mrow id="algorithm1.29.29.m1.2.2.2.2" xref="algorithm1.29.29.m1.2.2.2.3.cmml"><mrow id="algorithm1.29.29.m1.1.1.1.1.1" xref="algorithm1.29.29.m1.1.1.1.1.1.cmml"><mi id="algorithm1.29.29.m1.1.1.1.1.1.2" xref="algorithm1.29.29.m1.1.1.1.1.1.2.cmml">n</mi><mo id="algorithm1.29.29.m1.1.1.1.1.1.1" xref="algorithm1.29.29.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.29.29.m1.1.1.1.1.1.3" xref="algorithm1.29.29.m1.1.1.1.1.1.3.cmml">e</mi><mo id="algorithm1.29.29.m1.1.1.1.1.1.1a" xref="algorithm1.29.29.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.29.29.m1.1.1.1.1.1.4" xref="algorithm1.29.29.m1.1.1.1.1.1.4.cmml">g</mi><mo id="algorithm1.29.29.m1.1.1.1.1.1.1b" xref="algorithm1.29.29.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.29.29.m1.1.1.1.1.1.5" xref="algorithm1.29.29.m1.1.1.1.1.1.5.cmml">a</mi><mo id="algorithm1.29.29.m1.1.1.1.1.1.1c" xref="algorithm1.29.29.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.29.29.m1.1.1.1.1.1.6" xref="algorithm1.29.29.m1.1.1.1.1.1.6.cmml">t</mi><mo id="algorithm1.29.29.m1.1.1.1.1.1.1d" xref="algorithm1.29.29.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.29.29.m1.1.1.1.1.1.7" xref="algorithm1.29.29.m1.1.1.1.1.1.7.cmml">i</mi><mo id="algorithm1.29.29.m1.1.1.1.1.1.1e" xref="algorithm1.29.29.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.29.29.m1.1.1.1.1.1.8" xref="algorithm1.29.29.m1.1.1.1.1.1.8.cmml">v</mi><mo id="algorithm1.29.29.m1.1.1.1.1.1.1f" xref="algorithm1.29.29.m1.1.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm1.29.29.m1.1.1.1.1.1.9" xref="algorithm1.29.29.m1.1.1.1.1.1.9.cmml">e</mi></mrow><mo id="algorithm1.29.29.m1.2.2.2.2.3" xref="algorithm1.29.29.m1.2.2.2.3.cmml">,</mo><mrow id="algorithm1.29.29.m1.2.2.2.2.2.3" xref="algorithm1.29.29.m1.2.2.2.2.2.4.cmml"><mo id="algorithm1.29.29.m1.2.2.2.2.2.3.4" stretchy="false" xref="algorithm1.29.29.m1.2.2.2.2.2.4.cmml">[</mo><msub id="algorithm1.29.29.m1.2.2.2.2.2.1.1" xref="algorithm1.29.29.m1.2.2.2.2.2.1.1.cmml"><mi id="algorithm1.29.29.m1.2.2.2.2.2.1.1.2" xref="algorithm1.29.29.m1.2.2.2.2.2.1.1.2.cmml">𝒒</mi><mi id="algorithm1.29.29.m1.2.2.2.2.2.1.1.3" xref="algorithm1.29.29.m1.2.2.2.2.2.1.1.3.cmml">m</mi></msub><mo id="algorithm1.29.29.m1.2.2.2.2.2.3.5" xref="algorithm1.29.29.m1.2.2.2.2.2.4.cmml">;</mo><mmultiscripts id="algorithm1.29.29.m1.2.2.2.2.2.2.2" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2.cmml"><mi id="algorithm1.29.29.m1.2.2.2.2.2.2.2.2.2" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2.2.2.cmml">𝒅</mi><mo class="ltx_mathvariant_bold" id="algorithm1.29.29.m1.2.2.2.2.2.2.2.2.3" mathvariant="bold" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2.2.3.cmml">−</mo><mrow id="algorithm1.29.29.m1.2.2.2.2.2.2.2a" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2.cmml"></mrow><mi id="algorithm1.29.29.m1.2.2.2.2.2.2.2.3" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2.3.cmml">j</mi><mrow id="algorithm1.29.29.m1.2.2.2.2.2.2.2b" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2.cmml"></mrow></mmultiscripts><mo id="algorithm1.29.29.m1.2.2.2.2.2.3.6" xref="algorithm1.29.29.m1.2.2.2.2.2.4.cmml">;</mo><mmultiscripts id="algorithm1.29.29.m1.2.2.2.2.2.3.3" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3.cmml"><mi id="algorithm1.29.29.m1.2.2.2.2.2.3.3.2.2" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3.2.2.cmml">𝒅</mi><mo class="ltx_mathvariant_bold" id="algorithm1.29.29.m1.2.2.2.2.2.3.3.2.3" mathvariant="bold" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3.2.3.cmml">+</mo><mrow id="algorithm1.29.29.m1.2.2.2.2.2.3.3a" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3.cmml"></mrow><mi id="algorithm1.29.29.m1.2.2.2.2.2.3.3.3" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3.3.cmml">j</mi><mrow id="algorithm1.29.29.m1.2.2.2.2.2.3.3b" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3.cmml"></mrow></mmultiscripts><mo id="algorithm1.29.29.m1.2.2.2.2.2.3.7" stretchy="false" xref="algorithm1.29.29.m1.2.2.2.2.2.4.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.29.29.m1.2b"><apply id="algorithm1.29.29.m1.2.2.cmml" xref="algorithm1.29.29.m1.2.2"><ci id="algorithm1.29.29.m1.2.2.3.cmml" xref="algorithm1.29.29.m1.2.2.3">←</ci><ci id="algorithm1.29.29.m1.2.2.4.cmml" xref="algorithm1.29.29.m1.2.2.4">𝒟</ci><list id="algorithm1.29.29.m1.2.2.2.3.cmml" xref="algorithm1.29.29.m1.2.2.2.2"><apply id="algorithm1.29.29.m1.1.1.1.1.1.cmml" xref="algorithm1.29.29.m1.1.1.1.1.1"><times id="algorithm1.29.29.m1.1.1.1.1.1.1.cmml" xref="algorithm1.29.29.m1.1.1.1.1.1.1"></times><ci id="algorithm1.29.29.m1.1.1.1.1.1.2.cmml" xref="algorithm1.29.29.m1.1.1.1.1.1.2">𝑛</ci><ci id="algorithm1.29.29.m1.1.1.1.1.1.3.cmml" xref="algorithm1.29.29.m1.1.1.1.1.1.3">𝑒</ci><ci id="algorithm1.29.29.m1.1.1.1.1.1.4.cmml" xref="algorithm1.29.29.m1.1.1.1.1.1.4">𝑔</ci><ci id="algorithm1.29.29.m1.1.1.1.1.1.5.cmml" xref="algorithm1.29.29.m1.1.1.1.1.1.5">𝑎</ci><ci id="algorithm1.29.29.m1.1.1.1.1.1.6.cmml" xref="algorithm1.29.29.m1.1.1.1.1.1.6">𝑡</ci><ci id="algorithm1.29.29.m1.1.1.1.1.1.7.cmml" xref="algorithm1.29.29.m1.1.1.1.1.1.7">𝑖</ci><ci id="algorithm1.29.29.m1.1.1.1.1.1.8.cmml" xref="algorithm1.29.29.m1.1.1.1.1.1.8">𝑣</ci><ci id="algorithm1.29.29.m1.1.1.1.1.1.9.cmml" xref="algorithm1.29.29.m1.1.1.1.1.1.9">𝑒</ci></apply><list id="algorithm1.29.29.m1.2.2.2.2.2.4.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.3"><apply id="algorithm1.29.29.m1.2.2.2.2.2.1.1.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="algorithm1.29.29.m1.2.2.2.2.2.1.1.1.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.1.1">subscript</csymbol><ci id="algorithm1.29.29.m1.2.2.2.2.2.1.1.2.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.1.1.2">𝒒</ci><ci id="algorithm1.29.29.m1.2.2.2.2.2.1.1.3.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.1.1.3">𝑚</ci></apply><apply id="algorithm1.29.29.m1.2.2.2.2.2.2.2.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="algorithm1.29.29.m1.2.2.2.2.2.2.2.1.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2">subscript</csymbol><apply id="algorithm1.29.29.m1.2.2.2.2.2.2.2.2.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="algorithm1.29.29.m1.2.2.2.2.2.2.2.2.1.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2">subscript</csymbol><ci id="algorithm1.29.29.m1.2.2.2.2.2.2.2.2.2.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2.2.2">𝒅</ci><minus id="algorithm1.29.29.m1.2.2.2.2.2.2.2.2.3.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2.2.3"></minus></apply><ci id="algorithm1.29.29.m1.2.2.2.2.2.2.2.3.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.2.2.3">𝑗</ci></apply><apply id="algorithm1.29.29.m1.2.2.2.2.2.3.3.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3"><csymbol cd="ambiguous" id="algorithm1.29.29.m1.2.2.2.2.2.3.3.1.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3">subscript</csymbol><apply id="algorithm1.29.29.m1.2.2.2.2.2.3.3.2.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3"><csymbol cd="ambiguous" id="algorithm1.29.29.m1.2.2.2.2.2.3.3.2.1.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3">subscript</csymbol><ci id="algorithm1.29.29.m1.2.2.2.2.2.3.3.2.2.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3.2.2">𝒅</ci><plus id="algorithm1.29.29.m1.2.2.2.2.2.3.3.2.3.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3.2.3"></plus></apply><ci id="algorithm1.29.29.m1.2.2.2.2.2.3.3.3.cmml" xref="algorithm1.29.29.m1.2.2.2.2.2.3.3.3">𝑗</ci></apply></list></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.29.29.m1.2c">\mathcal{D}\leftarrow negative,[\boldsymbol{q}_{m};\boldsymbol{d_{-}}_{j};%
\boldsymbol{d_{+}}_{j}]</annotation><annotation encoding="application/x-llamapun" id="algorithm1.29.29.m1.2d">caligraphic_D ← italic_n italic_e italic_g italic_a italic_t italic_i italic_v italic_e , [ bold_italic_q start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ; bold_italic_d start_POSTSUBSCRIPT bold_- end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ; bold_italic_d start_POSTSUBSCRIPT bold_+ end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ]</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.31.31">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_typewriter" id="algorithm1.31.31.3">// </span><span class="ltx_text ltx_font_typewriter" id="algorithm1.31.31.2">Reverse <math alttext="\boldsymbol{d_{+}}_{j}" class="ltx_Math" display="inline" id="algorithm1.30.30.1.m1.1"><semantics id="algorithm1.30.30.1.m1.1a"><mmultiscripts id="algorithm1.30.30.1.m1.1.1" xref="algorithm1.30.30.1.m1.1.1.cmml"><mi id="algorithm1.30.30.1.m1.1.1.2.2" xref="algorithm1.30.30.1.m1.1.1.2.2.cmml">𝒅</mi><mo class="ltx_mathvariant_bold" id="algorithm1.30.30.1.m1.1.1.2.3" mathvariant="bold" xref="algorithm1.30.30.1.m1.1.1.2.3.cmml">+</mo><mrow id="algorithm1.30.30.1.m1.1.1a" xref="algorithm1.30.30.1.m1.1.1.cmml"></mrow><mi id="algorithm1.30.30.1.m1.1.1.3" xref="algorithm1.30.30.1.m1.1.1.3.cmml">j</mi><mrow id="algorithm1.30.30.1.m1.1.1b" xref="algorithm1.30.30.1.m1.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="algorithm1.30.30.1.m1.1b"><apply id="algorithm1.30.30.1.m1.1.1.cmml" xref="algorithm1.30.30.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.30.30.1.m1.1.1.1.cmml" xref="algorithm1.30.30.1.m1.1.1">subscript</csymbol><apply id="algorithm1.30.30.1.m1.1.1.2.cmml" xref="algorithm1.30.30.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.30.30.1.m1.1.1.2.1.cmml" xref="algorithm1.30.30.1.m1.1.1">subscript</csymbol><ci id="algorithm1.30.30.1.m1.1.1.2.2.cmml" xref="algorithm1.30.30.1.m1.1.1.2.2">𝒅</ci><plus id="algorithm1.30.30.1.m1.1.1.2.3.cmml" xref="algorithm1.30.30.1.m1.1.1.2.3"></plus></apply><ci id="algorithm1.30.30.1.m1.1.1.3.cmml" xref="algorithm1.30.30.1.m1.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.30.30.1.m1.1c">\boldsymbol{d_{+}}_{j}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.30.30.1.m1.1d">bold_italic_d start_POSTSUBSCRIPT bold_+ end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\boldsymbol{d_{-}}_{j}" class="ltx_Math" display="inline" id="algorithm1.31.31.2.m2.1"><semantics id="algorithm1.31.31.2.m2.1a"><mmultiscripts id="algorithm1.31.31.2.m2.1.1" xref="algorithm1.31.31.2.m2.1.1.cmml"><mi id="algorithm1.31.31.2.m2.1.1.2.2" xref="algorithm1.31.31.2.m2.1.1.2.2.cmml">𝒅</mi><mo class="ltx_mathvariant_bold" id="algorithm1.31.31.2.m2.1.1.2.3" mathvariant="bold" xref="algorithm1.31.31.2.m2.1.1.2.3.cmml">−</mo><mrow id="algorithm1.31.31.2.m2.1.1a" xref="algorithm1.31.31.2.m2.1.1.cmml"></mrow><mi id="algorithm1.31.31.2.m2.1.1.3" xref="algorithm1.31.31.2.m2.1.1.3.cmml">j</mi><mrow id="algorithm1.31.31.2.m2.1.1b" xref="algorithm1.31.31.2.m2.1.1.cmml"></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="algorithm1.31.31.2.m2.1b"><apply id="algorithm1.31.31.2.m2.1.1.cmml" xref="algorithm1.31.31.2.m2.1.1"><csymbol cd="ambiguous" id="algorithm1.31.31.2.m2.1.1.1.cmml" xref="algorithm1.31.31.2.m2.1.1">subscript</csymbol><apply id="algorithm1.31.31.2.m2.1.1.2.cmml" xref="algorithm1.31.31.2.m2.1.1"><csymbol cd="ambiguous" id="algorithm1.31.31.2.m2.1.1.2.1.cmml" xref="algorithm1.31.31.2.m2.1.1">subscript</csymbol><ci id="algorithm1.31.31.2.m2.1.1.2.2.cmml" xref="algorithm1.31.31.2.m2.1.1.2.2">𝒅</ci><minus id="algorithm1.31.31.2.m2.1.1.2.3.cmml" xref="algorithm1.31.31.2.m2.1.1.2.3"></minus></apply><ci id="algorithm1.31.31.2.m2.1.1.3.cmml" xref="algorithm1.31.31.2.m2.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.31.31.2.m2.1c">\boldsymbol{d_{-}}_{j}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.31.31.2.m2.1d">bold_italic_d start_POSTSUBSCRIPT bold_- end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> to get the negative triple </span>
</div>
<div class="ltx_listingline" id="algorithm1.51.57">
<span class="ltx_tag ltx_tag_listingline">10</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="algorithm1.51.58">
<span class="ltx_tag ltx_tag_listingline">11</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div class="ltx_listingline" id="algorithm1.33.33">
<span class="ltx_tag ltx_tag_listingline">12</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   Train the surrogate model <math alttext="\boldsymbol{M_{i}}" class="ltx_Math" display="inline" id="algorithm1.32.32.m1.1"><semantics id="algorithm1.32.32.m1.1a"><msub id="algorithm1.32.32.m1.1.1" xref="algorithm1.32.32.m1.1.1.cmml"><mi id="algorithm1.32.32.m1.1.1.2" xref="algorithm1.32.32.m1.1.1.2.cmml">𝑴</mi><mi id="algorithm1.32.32.m1.1.1.3" xref="algorithm1.32.32.m1.1.1.3.cmml">𝒊</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.32.32.m1.1b"><apply id="algorithm1.32.32.m1.1.1.cmml" xref="algorithm1.32.32.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.32.32.m1.1.1.1.cmml" xref="algorithm1.32.32.m1.1.1">subscript</csymbol><ci id="algorithm1.32.32.m1.1.1.2.cmml" xref="algorithm1.32.32.m1.1.1.2">𝑴</ci><ci id="algorithm1.32.32.m1.1.1.3.cmml" xref="algorithm1.32.32.m1.1.1.3">𝒊</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.32.32.m1.1c">\boldsymbol{M_{i}}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.32.32.m1.1d">bold_italic_M start_POSTSUBSCRIPT bold_italic_i end_POSTSUBSCRIPT</annotation></semantics></math> on <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="algorithm1.33.33.m2.1"><semantics id="algorithm1.33.33.m2.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm1.33.33.m2.1.1" xref="algorithm1.33.33.m2.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="algorithm1.33.33.m2.1b"><ci id="algorithm1.33.33.m2.1.1.cmml" xref="algorithm1.33.33.m2.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.33.33.m2.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.33.33.m2.1d">caligraphic_D</annotation></semantics></math> with Eq 1
</div>
<div class="ltx_listingline" id="algorithm1.34.34">
<span class="ltx_tag ltx_tag_listingline">13</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="algorithm1.34.34.2">return</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.34.34.1"><math alttext="\boldsymbol{M_{i}}" class="ltx_Math" display="inline" id="algorithm1.34.34.1.m1.1"><semantics id="algorithm1.34.34.1.m1.1a"><msub id="algorithm1.34.34.1.m1.1.1" xref="algorithm1.34.34.1.m1.1.1.cmml"><mi id="algorithm1.34.34.1.m1.1.1.2" xref="algorithm1.34.34.1.m1.1.1.2.cmml">𝐌</mi><mi id="algorithm1.34.34.1.m1.1.1.3" xref="algorithm1.34.34.1.m1.1.1.3.cmml">𝐢</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.34.34.1.m1.1b"><apply id="algorithm1.34.34.1.m1.1.1.cmml" xref="algorithm1.34.34.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.34.34.1.m1.1.1.1.cmml" xref="algorithm1.34.34.1.m1.1.1">subscript</csymbol><ci id="algorithm1.34.34.1.m1.1.1.2.cmml" xref="algorithm1.34.34.1.m1.1.1.2">𝐌</ci><ci id="algorithm1.34.34.1.m1.1.1.3.cmml" xref="algorithm1.34.34.1.m1.1.1.3">𝐢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.34.34.1.m1.1c">\boldsymbol{M_{i}}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.34.34.1.m1.1d">bold_italic_M start_POSTSUBSCRIPT bold_italic_i end_POSTSUBSCRIPT</annotation></semantics></math></em> 
</div>
<div class="ltx_listingline" id="algorithm1.51.59">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_font_bold" id="algorithm1.51.59.1">Phase</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.51.59.2">2. Adversarial Trigger Generation and Opinion Manipulation in RAG Response</em>
</div>
<div class="ltx_listingline" id="algorithm1.35.35">
<span class="ltx_tag ltx_tag_listingline">15</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
INIT: RAG Response Set <math alttext="\boldsymbol{Res}\leftarrow\{\}" class="ltx_Math" display="inline" id="algorithm1.35.35.m1.1"><semantics id="algorithm1.35.35.m1.1a"><mrow id="algorithm1.35.35.m1.1.1" xref="algorithm1.35.35.m1.1.1.cmml"><mrow id="algorithm1.35.35.m1.1.1.2" xref="algorithm1.35.35.m1.1.1.2.cmml"><mi id="algorithm1.35.35.m1.1.1.2.2" xref="algorithm1.35.35.m1.1.1.2.2.cmml">𝑹</mi><mo id="algorithm1.35.35.m1.1.1.2.1" xref="algorithm1.35.35.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.35.35.m1.1.1.2.3" xref="algorithm1.35.35.m1.1.1.2.3.cmml">𝒆</mi><mo id="algorithm1.35.35.m1.1.1.2.1a" xref="algorithm1.35.35.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.35.35.m1.1.1.2.4" xref="algorithm1.35.35.m1.1.1.2.4.cmml">𝒔</mi></mrow><mo id="algorithm1.35.35.m1.1.1.1" stretchy="false" xref="algorithm1.35.35.m1.1.1.1.cmml">←</mo><mrow id="algorithm1.35.35.m1.1.1.3.2" xref="algorithm1.35.35.m1.1.1.cmml"><mo id="algorithm1.35.35.m1.1.1.3.2.1" stretchy="false" xref="algorithm1.35.35.m1.1.1.3.1.cmml">{</mo><mo id="algorithm1.35.35.m1.1.1.3.2.2" stretchy="false" xref="algorithm1.35.35.m1.1.1.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.35.35.m1.1b"><apply id="algorithm1.35.35.m1.1.1.cmml" xref="algorithm1.35.35.m1.1.1"><ci id="algorithm1.35.35.m1.1.1.1.cmml" xref="algorithm1.35.35.m1.1.1.1">←</ci><apply id="algorithm1.35.35.m1.1.1.2.cmml" xref="algorithm1.35.35.m1.1.1.2"><times id="algorithm1.35.35.m1.1.1.2.1.cmml" xref="algorithm1.35.35.m1.1.1.2.1"></times><ci id="algorithm1.35.35.m1.1.1.2.2.cmml" xref="algorithm1.35.35.m1.1.1.2.2">𝑹</ci><ci id="algorithm1.35.35.m1.1.1.2.3.cmml" xref="algorithm1.35.35.m1.1.1.2.3">𝒆</ci><ci id="algorithm1.35.35.m1.1.1.2.4.cmml" xref="algorithm1.35.35.m1.1.1.2.4">𝒔</ci></apply><list id="algorithm1.35.35.m1.1.1.3.1.cmml" xref="algorithm1.35.35.m1.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.35.35.m1.1c">\boldsymbol{Res}\leftarrow\{\}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.35.35.m1.1d">bold_italic_R bold_italic_e bold_italic_s ← { }</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.36.36">
<span class="ltx_tag ltx_tag_listingline">16</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="algorithm1.36.36.2">for</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.36.36.1"><math alttext="\boldsymbol{q}_{m}\in\boldsymbol{Q}" class="ltx_Math" display="inline" id="algorithm1.36.36.1.m1.1"><semantics id="algorithm1.36.36.1.m1.1a"><mrow id="algorithm1.36.36.1.m1.1.1" xref="algorithm1.36.36.1.m1.1.1.cmml"><msub id="algorithm1.36.36.1.m1.1.1.2" xref="algorithm1.36.36.1.m1.1.1.2.cmml"><mi id="algorithm1.36.36.1.m1.1.1.2.2" xref="algorithm1.36.36.1.m1.1.1.2.2.cmml">𝐪</mi><mi id="algorithm1.36.36.1.m1.1.1.2.3" xref="algorithm1.36.36.1.m1.1.1.2.3.cmml">m</mi></msub><mo id="algorithm1.36.36.1.m1.1.1.1" xref="algorithm1.36.36.1.m1.1.1.1.cmml">∈</mo><mi id="algorithm1.36.36.1.m1.1.1.3" xref="algorithm1.36.36.1.m1.1.1.3.cmml">𝐐</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.36.36.1.m1.1b"><apply id="algorithm1.36.36.1.m1.1.1.cmml" xref="algorithm1.36.36.1.m1.1.1"><in id="algorithm1.36.36.1.m1.1.1.1.cmml" xref="algorithm1.36.36.1.m1.1.1.1"></in><apply id="algorithm1.36.36.1.m1.1.1.2.cmml" xref="algorithm1.36.36.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.36.36.1.m1.1.1.2.1.cmml" xref="algorithm1.36.36.1.m1.1.1.2">subscript</csymbol><ci id="algorithm1.36.36.1.m1.1.1.2.2.cmml" xref="algorithm1.36.36.1.m1.1.1.2.2">𝐪</ci><ci id="algorithm1.36.36.1.m1.1.1.2.3.cmml" xref="algorithm1.36.36.1.m1.1.1.2.3">𝑚</ci></apply><ci id="algorithm1.36.36.1.m1.1.1.3.cmml" xref="algorithm1.36.36.1.m1.1.1.3">𝐐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.36.36.1.m1.1c">\boldsymbol{q}_{m}\in\boldsymbol{Q}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.36.36.1.m1.1d">bold_italic_q start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ∈ bold_italic_Q</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="algorithm1.36.36.3">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.38.38">
<span class="ltx_tag ltx_tag_listingline">17</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
rank list <math alttext="\boldsymbol{R}_{m}\leftarrow" class="ltx_Math" display="inline" id="algorithm1.37.37.m1.1"><semantics id="algorithm1.37.37.m1.1a"><mrow id="algorithm1.37.37.m1.1.1" xref="algorithm1.37.37.m1.1.1.cmml"><msub id="algorithm1.37.37.m1.1.1.2" xref="algorithm1.37.37.m1.1.1.2.cmml"><mi id="algorithm1.37.37.m1.1.1.2.2" xref="algorithm1.37.37.m1.1.1.2.2.cmml">𝑹</mi><mi id="algorithm1.37.37.m1.1.1.2.3" xref="algorithm1.37.37.m1.1.1.2.3.cmml">m</mi></msub><mo id="algorithm1.37.37.m1.1.1.1" stretchy="false" xref="algorithm1.37.37.m1.1.1.1.cmml">←</mo><mi id="algorithm1.37.37.m1.1.1.3" xref="algorithm1.37.37.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.37.37.m1.1b"><apply id="algorithm1.37.37.m1.1.1.cmml" xref="algorithm1.37.37.m1.1.1"><ci id="algorithm1.37.37.m1.1.1.1.cmml" xref="algorithm1.37.37.m1.1.1.1">←</ci><apply id="algorithm1.37.37.m1.1.1.2.cmml" xref="algorithm1.37.37.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.37.37.m1.1.1.2.1.cmml" xref="algorithm1.37.37.m1.1.1.2">subscript</csymbol><ci id="algorithm1.37.37.m1.1.1.2.2.cmml" xref="algorithm1.37.37.m1.1.1.2.2">𝑹</ci><ci id="algorithm1.37.37.m1.1.1.2.3.cmml" xref="algorithm1.37.37.m1.1.1.2.3">𝑚</ci></apply><csymbol cd="latexml" id="algorithm1.37.37.m1.1.1.3.cmml" xref="algorithm1.37.37.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.37.37.m1.1c">\boldsymbol{R}_{m}\leftarrow</annotation><annotation encoding="application/x-llamapun" id="algorithm1.37.37.m1.1d">bold_italic_R start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ←</annotation></semantics></math> <math alttext="\boldsymbol{M_{i}(\boldsymbol{q}_{m};Docs)}" class="ltx_Math" display="inline" id="algorithm1.38.38.m2.2"><semantics id="algorithm1.38.38.m2.2a"><mrow id="algorithm1.38.38.m2.2.2" xref="algorithm1.38.38.m2.2.2.cmml"><msub id="algorithm1.38.38.m2.2.2.4" xref="algorithm1.38.38.m2.2.2.4.cmml"><mi id="algorithm1.38.38.m2.2.2.4.2" xref="algorithm1.38.38.m2.2.2.4.2.cmml">𝑴</mi><mi id="algorithm1.38.38.m2.2.2.4.3" xref="algorithm1.38.38.m2.2.2.4.3.cmml">𝒊</mi></msub><mo id="algorithm1.38.38.m2.2.2.3" xref="algorithm1.38.38.m2.2.2.3.cmml">⁢</mo><mrow id="algorithm1.38.38.m2.2.2.2.2" xref="algorithm1.38.38.m2.2.2.2.3.cmml"><mo class="ltx_mathvariant_bold" id="algorithm1.38.38.m2.2.2.2.2.3" mathvariant="bold" stretchy="false" xref="algorithm1.38.38.m2.2.2.2.3.cmml">(</mo><msub id="algorithm1.38.38.m2.1.1.1.1.1" xref="algorithm1.38.38.m2.1.1.1.1.1.cmml"><mi id="algorithm1.38.38.m2.1.1.1.1.1.2" xref="algorithm1.38.38.m2.1.1.1.1.1.2.cmml">𝒒</mi><mi id="algorithm1.38.38.m2.1.1.1.1.1.3" xref="algorithm1.38.38.m2.1.1.1.1.1.3.cmml">𝒎</mi></msub><mo class="ltx_mathvariant_bold" id="algorithm1.38.38.m2.2.2.2.2.4" mathvariant="bold" xref="algorithm1.38.38.m2.2.2.2.3.cmml">;</mo><mrow id="algorithm1.38.38.m2.2.2.2.2.2" xref="algorithm1.38.38.m2.2.2.2.2.2.cmml"><mi id="algorithm1.38.38.m2.2.2.2.2.2.2" xref="algorithm1.38.38.m2.2.2.2.2.2.2.cmml">𝑫</mi><mo id="algorithm1.38.38.m2.2.2.2.2.2.1" xref="algorithm1.38.38.m2.2.2.2.2.2.1.cmml">⁢</mo><mi id="algorithm1.38.38.m2.2.2.2.2.2.3" xref="algorithm1.38.38.m2.2.2.2.2.2.3.cmml">𝒐</mi><mo id="algorithm1.38.38.m2.2.2.2.2.2.1a" xref="algorithm1.38.38.m2.2.2.2.2.2.1.cmml">⁢</mo><mi id="algorithm1.38.38.m2.2.2.2.2.2.4" xref="algorithm1.38.38.m2.2.2.2.2.2.4.cmml">𝒄</mi><mo id="algorithm1.38.38.m2.2.2.2.2.2.1b" xref="algorithm1.38.38.m2.2.2.2.2.2.1.cmml">⁢</mo><mi id="algorithm1.38.38.m2.2.2.2.2.2.5" xref="algorithm1.38.38.m2.2.2.2.2.2.5.cmml">𝒔</mi></mrow><mo class="ltx_mathvariant_bold" id="algorithm1.38.38.m2.2.2.2.2.5" mathvariant="bold" stretchy="false" xref="algorithm1.38.38.m2.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.38.38.m2.2b"><apply id="algorithm1.38.38.m2.2.2.cmml" xref="algorithm1.38.38.m2.2.2"><times id="algorithm1.38.38.m2.2.2.3.cmml" xref="algorithm1.38.38.m2.2.2.3"></times><apply id="algorithm1.38.38.m2.2.2.4.cmml" xref="algorithm1.38.38.m2.2.2.4"><csymbol cd="ambiguous" id="algorithm1.38.38.m2.2.2.4.1.cmml" xref="algorithm1.38.38.m2.2.2.4">subscript</csymbol><ci id="algorithm1.38.38.m2.2.2.4.2.cmml" xref="algorithm1.38.38.m2.2.2.4.2">𝑴</ci><ci id="algorithm1.38.38.m2.2.2.4.3.cmml" xref="algorithm1.38.38.m2.2.2.4.3">𝒊</ci></apply><list id="algorithm1.38.38.m2.2.2.2.3.cmml" xref="algorithm1.38.38.m2.2.2.2.2"><apply id="algorithm1.38.38.m2.1.1.1.1.1.cmml" xref="algorithm1.38.38.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.38.38.m2.1.1.1.1.1.1.cmml" xref="algorithm1.38.38.m2.1.1.1.1.1">subscript</csymbol><ci id="algorithm1.38.38.m2.1.1.1.1.1.2.cmml" xref="algorithm1.38.38.m2.1.1.1.1.1.2">𝒒</ci><ci id="algorithm1.38.38.m2.1.1.1.1.1.3.cmml" xref="algorithm1.38.38.m2.1.1.1.1.1.3">𝒎</ci></apply><apply id="algorithm1.38.38.m2.2.2.2.2.2.cmml" xref="algorithm1.38.38.m2.2.2.2.2.2"><times id="algorithm1.38.38.m2.2.2.2.2.2.1.cmml" xref="algorithm1.38.38.m2.2.2.2.2.2.1"></times><ci id="algorithm1.38.38.m2.2.2.2.2.2.2.cmml" xref="algorithm1.38.38.m2.2.2.2.2.2.2">𝑫</ci><ci id="algorithm1.38.38.m2.2.2.2.2.2.3.cmml" xref="algorithm1.38.38.m2.2.2.2.2.2.3">𝒐</ci><ci id="algorithm1.38.38.m2.2.2.2.2.2.4.cmml" xref="algorithm1.38.38.m2.2.2.2.2.2.4">𝒄</ci><ci id="algorithm1.38.38.m2.2.2.2.2.2.5.cmml" xref="algorithm1.38.38.m2.2.2.2.2.2.5">𝒔</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.38.38.m2.2c">\boldsymbol{M_{i}(\boldsymbol{q}_{m};Docs)}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.38.38.m2.2d">bold_italic_M start_POSTSUBSCRIPT bold_italic_i end_POSTSUBSCRIPT bold_( bold_italic_q start_POSTSUBSCRIPT bold_italic_m end_POSTSUBSCRIPT bold_; bold_italic_D bold_italic_o bold_italic_c bold_italic_s bold_)</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.40.40">
<span class="ltx_tag ltx_tag_listingline">18</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="\boldsymbol{anchor}_{m}\leftarrow" class="ltx_Math" display="inline" id="algorithm1.39.39.m1.1"><semantics id="algorithm1.39.39.m1.1a"><mrow id="algorithm1.39.39.m1.1.1" xref="algorithm1.39.39.m1.1.1.cmml"><mrow id="algorithm1.39.39.m1.1.1.2" xref="algorithm1.39.39.m1.1.1.2.cmml"><mi id="algorithm1.39.39.m1.1.1.2.2" xref="algorithm1.39.39.m1.1.1.2.2.cmml">𝒂</mi><mo id="algorithm1.39.39.m1.1.1.2.1" xref="algorithm1.39.39.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.39.39.m1.1.1.2.3" xref="algorithm1.39.39.m1.1.1.2.3.cmml">𝒏</mi><mo id="algorithm1.39.39.m1.1.1.2.1a" xref="algorithm1.39.39.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.39.39.m1.1.1.2.4" xref="algorithm1.39.39.m1.1.1.2.4.cmml">𝒄</mi><mo id="algorithm1.39.39.m1.1.1.2.1b" xref="algorithm1.39.39.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.39.39.m1.1.1.2.5" xref="algorithm1.39.39.m1.1.1.2.5.cmml">𝒉</mi><mo id="algorithm1.39.39.m1.1.1.2.1c" xref="algorithm1.39.39.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.39.39.m1.1.1.2.6" xref="algorithm1.39.39.m1.1.1.2.6.cmml">𝒐</mi><mo id="algorithm1.39.39.m1.1.1.2.1d" xref="algorithm1.39.39.m1.1.1.2.1.cmml">⁢</mo><msub id="algorithm1.39.39.m1.1.1.2.7" xref="algorithm1.39.39.m1.1.1.2.7.cmml"><mi id="algorithm1.39.39.m1.1.1.2.7.2" xref="algorithm1.39.39.m1.1.1.2.7.2.cmml">𝒓</mi><mi id="algorithm1.39.39.m1.1.1.2.7.3" xref="algorithm1.39.39.m1.1.1.2.7.3.cmml">m</mi></msub></mrow><mo id="algorithm1.39.39.m1.1.1.1" stretchy="false" xref="algorithm1.39.39.m1.1.1.1.cmml">←</mo><mi id="algorithm1.39.39.m1.1.1.3" xref="algorithm1.39.39.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.39.39.m1.1b"><apply id="algorithm1.39.39.m1.1.1.cmml" xref="algorithm1.39.39.m1.1.1"><ci id="algorithm1.39.39.m1.1.1.1.cmml" xref="algorithm1.39.39.m1.1.1.1">←</ci><apply id="algorithm1.39.39.m1.1.1.2.cmml" xref="algorithm1.39.39.m1.1.1.2"><times id="algorithm1.39.39.m1.1.1.2.1.cmml" xref="algorithm1.39.39.m1.1.1.2.1"></times><ci id="algorithm1.39.39.m1.1.1.2.2.cmml" xref="algorithm1.39.39.m1.1.1.2.2">𝒂</ci><ci id="algorithm1.39.39.m1.1.1.2.3.cmml" xref="algorithm1.39.39.m1.1.1.2.3">𝒏</ci><ci id="algorithm1.39.39.m1.1.1.2.4.cmml" xref="algorithm1.39.39.m1.1.1.2.4">𝒄</ci><ci id="algorithm1.39.39.m1.1.1.2.5.cmml" xref="algorithm1.39.39.m1.1.1.2.5">𝒉</ci><ci id="algorithm1.39.39.m1.1.1.2.6.cmml" xref="algorithm1.39.39.m1.1.1.2.6">𝒐</ci><apply id="algorithm1.39.39.m1.1.1.2.7.cmml" xref="algorithm1.39.39.m1.1.1.2.7"><csymbol cd="ambiguous" id="algorithm1.39.39.m1.1.1.2.7.1.cmml" xref="algorithm1.39.39.m1.1.1.2.7">subscript</csymbol><ci id="algorithm1.39.39.m1.1.1.2.7.2.cmml" xref="algorithm1.39.39.m1.1.1.2.7.2">𝒓</ci><ci id="algorithm1.39.39.m1.1.1.2.7.3.cmml" xref="algorithm1.39.39.m1.1.1.2.7.3">𝑚</ci></apply></apply><csymbol cd="latexml" id="algorithm1.39.39.m1.1.1.3.cmml" xref="algorithm1.39.39.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.39.39.m1.1c">\boldsymbol{anchor}_{m}\leftarrow</annotation><annotation encoding="application/x-llamapun" id="algorithm1.39.39.m1.1d">bold_italic_a bold_italic_n bold_italic_c bold_italic_h bold_italic_o bold_italic_r start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ←</annotation></semantics></math> <span class="ltx_text" id="algorithm1.40.40.1">top-1</span>(<math alttext="\boldsymbol{R}_{m}" class="ltx_Math" display="inline" id="algorithm1.40.40.m2.1"><semantics id="algorithm1.40.40.m2.1a"><msub id="algorithm1.40.40.m2.1.1" xref="algorithm1.40.40.m2.1.1.cmml"><mi id="algorithm1.40.40.m2.1.1.2" xref="algorithm1.40.40.m2.1.1.2.cmml">𝑹</mi><mi id="algorithm1.40.40.m2.1.1.3" xref="algorithm1.40.40.m2.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.40.40.m2.1b"><apply id="algorithm1.40.40.m2.1.1.cmml" xref="algorithm1.40.40.m2.1.1"><csymbol cd="ambiguous" id="algorithm1.40.40.m2.1.1.1.cmml" xref="algorithm1.40.40.m2.1.1">subscript</csymbol><ci id="algorithm1.40.40.m2.1.1.2.cmml" xref="algorithm1.40.40.m2.1.1.2">𝑹</ci><ci id="algorithm1.40.40.m2.1.1.3.cmml" xref="algorithm1.40.40.m2.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.40.40.m2.1c">\boldsymbol{R}_{m}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.40.40.m2.1d">bold_italic_R start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math>) 
</div>
<div class="ltx_listingline" id="algorithm1.41.41">
<span class="ltx_tag ltx_tag_listingline">19</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="algorithm1.41.41.2">for</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.41.41.1"><math alttext="d_{j}\in\boldsymbol{R}_{m}" class="ltx_Math" display="inline" id="algorithm1.41.41.1.m1.1"><semantics id="algorithm1.41.41.1.m1.1a"><mrow id="algorithm1.41.41.1.m1.1.1" xref="algorithm1.41.41.1.m1.1.1.cmml"><msub id="algorithm1.41.41.1.m1.1.1.2" xref="algorithm1.41.41.1.m1.1.1.2.cmml"><mi id="algorithm1.41.41.1.m1.1.1.2.2" xref="algorithm1.41.41.1.m1.1.1.2.2.cmml">d</mi><mi id="algorithm1.41.41.1.m1.1.1.2.3" xref="algorithm1.41.41.1.m1.1.1.2.3.cmml">j</mi></msub><mo id="algorithm1.41.41.1.m1.1.1.1" xref="algorithm1.41.41.1.m1.1.1.1.cmml">∈</mo><msub id="algorithm1.41.41.1.m1.1.1.3" xref="algorithm1.41.41.1.m1.1.1.3.cmml"><mi id="algorithm1.41.41.1.m1.1.1.3.2" xref="algorithm1.41.41.1.m1.1.1.3.2.cmml">𝐑</mi><mi id="algorithm1.41.41.1.m1.1.1.3.3" xref="algorithm1.41.41.1.m1.1.1.3.3.cmml">m</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.41.41.1.m1.1b"><apply id="algorithm1.41.41.1.m1.1.1.cmml" xref="algorithm1.41.41.1.m1.1.1"><in id="algorithm1.41.41.1.m1.1.1.1.cmml" xref="algorithm1.41.41.1.m1.1.1.1"></in><apply id="algorithm1.41.41.1.m1.1.1.2.cmml" xref="algorithm1.41.41.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.41.41.1.m1.1.1.2.1.cmml" xref="algorithm1.41.41.1.m1.1.1.2">subscript</csymbol><ci id="algorithm1.41.41.1.m1.1.1.2.2.cmml" xref="algorithm1.41.41.1.m1.1.1.2.2">𝑑</ci><ci id="algorithm1.41.41.1.m1.1.1.2.3.cmml" xref="algorithm1.41.41.1.m1.1.1.2.3">𝑗</ci></apply><apply id="algorithm1.41.41.1.m1.1.1.3.cmml" xref="algorithm1.41.41.1.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.41.41.1.m1.1.1.3.1.cmml" xref="algorithm1.41.41.1.m1.1.1.3">subscript</csymbol><ci id="algorithm1.41.41.1.m1.1.1.3.2.cmml" xref="algorithm1.41.41.1.m1.1.1.3.2">𝐑</ci><ci id="algorithm1.41.41.1.m1.1.1.3.3.cmml" xref="algorithm1.41.41.1.m1.1.1.3.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.41.41.1.m1.1c">d_{j}\in\boldsymbol{R}_{m}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.41.41.1.m1.1d">italic_d start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ bold_italic_R start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="algorithm1.41.41.3">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.42.42">
<span class="ltx_tag ltx_tag_listingline">20</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="algorithm1.42.42.2">if</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.42.42.1"><math alttext="\boldsymbol{OpinionClassify}(d_{j})=S_{t}" class="ltx_Math" display="inline" id="algorithm1.42.42.1.m1.1"><semantics id="algorithm1.42.42.1.m1.1a"><mrow id="algorithm1.42.42.1.m1.1.1" xref="algorithm1.42.42.1.m1.1.1.cmml"><mrow id="algorithm1.42.42.1.m1.1.1.1" xref="algorithm1.42.42.1.m1.1.1.1.cmml"><mi id="algorithm1.42.42.1.m1.1.1.1.3" xref="algorithm1.42.42.1.m1.1.1.1.3.cmml">𝐎</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.4" xref="algorithm1.42.42.1.m1.1.1.1.4.cmml">𝐩</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2a" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.5" xref="algorithm1.42.42.1.m1.1.1.1.5.cmml">𝐢</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2b" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.6" xref="algorithm1.42.42.1.m1.1.1.1.6.cmml">𝐧</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2c" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.7" xref="algorithm1.42.42.1.m1.1.1.1.7.cmml">𝐢</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2d" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.8" xref="algorithm1.42.42.1.m1.1.1.1.8.cmml">𝐨</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2e" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.9" xref="algorithm1.42.42.1.m1.1.1.1.9.cmml">𝐧</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2f" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.10" xref="algorithm1.42.42.1.m1.1.1.1.10.cmml">𝐂</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2g" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.11" xref="algorithm1.42.42.1.m1.1.1.1.11.cmml">𝐥</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2h" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.12" xref="algorithm1.42.42.1.m1.1.1.1.12.cmml">𝐚</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2i" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.13" xref="algorithm1.42.42.1.m1.1.1.1.13.cmml">𝐬</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2j" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.14" xref="algorithm1.42.42.1.m1.1.1.1.14.cmml">𝐬</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2k" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.15" xref="algorithm1.42.42.1.m1.1.1.1.15.cmml">𝐢</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2l" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.16" xref="algorithm1.42.42.1.m1.1.1.1.16.cmml">𝐟</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2m" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm1.42.42.1.m1.1.1.1.17" xref="algorithm1.42.42.1.m1.1.1.1.17.cmml">𝐲</mi><mo id="algorithm1.42.42.1.m1.1.1.1.2n" xref="algorithm1.42.42.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="algorithm1.42.42.1.m1.1.1.1.1.1" xref="algorithm1.42.42.1.m1.1.1.1.1.1.1.cmml"><mo id="algorithm1.42.42.1.m1.1.1.1.1.1.2" stretchy="false" xref="algorithm1.42.42.1.m1.1.1.1.1.1.1.cmml">(</mo><msub id="algorithm1.42.42.1.m1.1.1.1.1.1.1" xref="algorithm1.42.42.1.m1.1.1.1.1.1.1.cmml"><mi id="algorithm1.42.42.1.m1.1.1.1.1.1.1.2" xref="algorithm1.42.42.1.m1.1.1.1.1.1.1.2.cmml">d</mi><mi id="algorithm1.42.42.1.m1.1.1.1.1.1.1.3" xref="algorithm1.42.42.1.m1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="algorithm1.42.42.1.m1.1.1.1.1.1.3" stretchy="false" xref="algorithm1.42.42.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="algorithm1.42.42.1.m1.1.1.2" xref="algorithm1.42.42.1.m1.1.1.2.cmml">=</mo><msub id="algorithm1.42.42.1.m1.1.1.3" xref="algorithm1.42.42.1.m1.1.1.3.cmml"><mi id="algorithm1.42.42.1.m1.1.1.3.2" xref="algorithm1.42.42.1.m1.1.1.3.2.cmml">S</mi><mi id="algorithm1.42.42.1.m1.1.1.3.3" xref="algorithm1.42.42.1.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.42.42.1.m1.1b"><apply id="algorithm1.42.42.1.m1.1.1.cmml" xref="algorithm1.42.42.1.m1.1.1"><eq id="algorithm1.42.42.1.m1.1.1.2.cmml" xref="algorithm1.42.42.1.m1.1.1.2"></eq><apply id="algorithm1.42.42.1.m1.1.1.1.cmml" xref="algorithm1.42.42.1.m1.1.1.1"><times id="algorithm1.42.42.1.m1.1.1.1.2.cmml" xref="algorithm1.42.42.1.m1.1.1.1.2"></times><ci id="algorithm1.42.42.1.m1.1.1.1.3.cmml" xref="algorithm1.42.42.1.m1.1.1.1.3">𝐎</ci><ci id="algorithm1.42.42.1.m1.1.1.1.4.cmml" xref="algorithm1.42.42.1.m1.1.1.1.4">𝐩</ci><ci id="algorithm1.42.42.1.m1.1.1.1.5.cmml" xref="algorithm1.42.42.1.m1.1.1.1.5">𝐢</ci><ci id="algorithm1.42.42.1.m1.1.1.1.6.cmml" xref="algorithm1.42.42.1.m1.1.1.1.6">𝐧</ci><ci id="algorithm1.42.42.1.m1.1.1.1.7.cmml" xref="algorithm1.42.42.1.m1.1.1.1.7">𝐢</ci><ci id="algorithm1.42.42.1.m1.1.1.1.8.cmml" xref="algorithm1.42.42.1.m1.1.1.1.8">𝐨</ci><ci id="algorithm1.42.42.1.m1.1.1.1.9.cmml" xref="algorithm1.42.42.1.m1.1.1.1.9">𝐧</ci><ci id="algorithm1.42.42.1.m1.1.1.1.10.cmml" xref="algorithm1.42.42.1.m1.1.1.1.10">𝐂</ci><ci id="algorithm1.42.42.1.m1.1.1.1.11.cmml" xref="algorithm1.42.42.1.m1.1.1.1.11">𝐥</ci><ci id="algorithm1.42.42.1.m1.1.1.1.12.cmml" xref="algorithm1.42.42.1.m1.1.1.1.12">𝐚</ci><ci id="algorithm1.42.42.1.m1.1.1.1.13.cmml" xref="algorithm1.42.42.1.m1.1.1.1.13">𝐬</ci><ci id="algorithm1.42.42.1.m1.1.1.1.14.cmml" xref="algorithm1.42.42.1.m1.1.1.1.14">𝐬</ci><ci id="algorithm1.42.42.1.m1.1.1.1.15.cmml" xref="algorithm1.42.42.1.m1.1.1.1.15">𝐢</ci><ci id="algorithm1.42.42.1.m1.1.1.1.16.cmml" xref="algorithm1.42.42.1.m1.1.1.1.16">𝐟</ci><ci id="algorithm1.42.42.1.m1.1.1.1.17.cmml" xref="algorithm1.42.42.1.m1.1.1.1.17">𝐲</ci><apply id="algorithm1.42.42.1.m1.1.1.1.1.1.1.cmml" xref="algorithm1.42.42.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.42.42.1.m1.1.1.1.1.1.1.1.cmml" xref="algorithm1.42.42.1.m1.1.1.1.1.1">subscript</csymbol><ci id="algorithm1.42.42.1.m1.1.1.1.1.1.1.2.cmml" xref="algorithm1.42.42.1.m1.1.1.1.1.1.1.2">𝑑</ci><ci id="algorithm1.42.42.1.m1.1.1.1.1.1.1.3.cmml" xref="algorithm1.42.42.1.m1.1.1.1.1.1.1.3">𝑗</ci></apply></apply><apply id="algorithm1.42.42.1.m1.1.1.3.cmml" xref="algorithm1.42.42.1.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.42.42.1.m1.1.1.3.1.cmml" xref="algorithm1.42.42.1.m1.1.1.3">subscript</csymbol><ci id="algorithm1.42.42.1.m1.1.1.3.2.cmml" xref="algorithm1.42.42.1.m1.1.1.3.2">𝑆</ci><ci id="algorithm1.42.42.1.m1.1.1.3.3.cmml" xref="algorithm1.42.42.1.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.42.42.1.m1.1c">\boldsymbol{OpinionClassify}(d_{j})=S_{t}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.42.42.1.m1.1d">bold_italic_O bold_italic_p bold_italic_i bold_italic_n bold_italic_i bold_italic_o bold_italic_n bold_italic_C bold_italic_l bold_italic_a bold_italic_s bold_italic_s bold_italic_i bold_italic_f bold_italic_y ( italic_d start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) = italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="algorithm1.42.42.3">then</span>
</div>
<div class="ltx_listingline" id="algorithm1.44.44">
<span class="ltx_tag ltx_tag_listingline">21</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="\boldsymbol{Docs_{t}}\leftarrow" class="ltx_Math" display="inline" id="algorithm1.43.43.m1.1"><semantics id="algorithm1.43.43.m1.1a"><mrow id="algorithm1.43.43.m1.1.1" xref="algorithm1.43.43.m1.1.1.cmml"><mrow id="algorithm1.43.43.m1.1.1.2" xref="algorithm1.43.43.m1.1.1.2.cmml"><mi id="algorithm1.43.43.m1.1.1.2.2" xref="algorithm1.43.43.m1.1.1.2.2.cmml">𝑫</mi><mo id="algorithm1.43.43.m1.1.1.2.1" xref="algorithm1.43.43.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.43.43.m1.1.1.2.3" xref="algorithm1.43.43.m1.1.1.2.3.cmml">𝒐</mi><mo id="algorithm1.43.43.m1.1.1.2.1a" xref="algorithm1.43.43.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.43.43.m1.1.1.2.4" xref="algorithm1.43.43.m1.1.1.2.4.cmml">𝒄</mi><mo id="algorithm1.43.43.m1.1.1.2.1b" xref="algorithm1.43.43.m1.1.1.2.1.cmml">⁢</mo><msub id="algorithm1.43.43.m1.1.1.2.5" xref="algorithm1.43.43.m1.1.1.2.5.cmml"><mi id="algorithm1.43.43.m1.1.1.2.5.2" xref="algorithm1.43.43.m1.1.1.2.5.2.cmml">𝒔</mi><mi id="algorithm1.43.43.m1.1.1.2.5.3" xref="algorithm1.43.43.m1.1.1.2.5.3.cmml">𝒕</mi></msub></mrow><mo id="algorithm1.43.43.m1.1.1.1" stretchy="false" xref="algorithm1.43.43.m1.1.1.1.cmml">←</mo><mi id="algorithm1.43.43.m1.1.1.3" xref="algorithm1.43.43.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.43.43.m1.1b"><apply id="algorithm1.43.43.m1.1.1.cmml" xref="algorithm1.43.43.m1.1.1"><ci id="algorithm1.43.43.m1.1.1.1.cmml" xref="algorithm1.43.43.m1.1.1.1">←</ci><apply id="algorithm1.43.43.m1.1.1.2.cmml" xref="algorithm1.43.43.m1.1.1.2"><times id="algorithm1.43.43.m1.1.1.2.1.cmml" xref="algorithm1.43.43.m1.1.1.2.1"></times><ci id="algorithm1.43.43.m1.1.1.2.2.cmml" xref="algorithm1.43.43.m1.1.1.2.2">𝑫</ci><ci id="algorithm1.43.43.m1.1.1.2.3.cmml" xref="algorithm1.43.43.m1.1.1.2.3">𝒐</ci><ci id="algorithm1.43.43.m1.1.1.2.4.cmml" xref="algorithm1.43.43.m1.1.1.2.4">𝒄</ci><apply id="algorithm1.43.43.m1.1.1.2.5.cmml" xref="algorithm1.43.43.m1.1.1.2.5"><csymbol cd="ambiguous" id="algorithm1.43.43.m1.1.1.2.5.1.cmml" xref="algorithm1.43.43.m1.1.1.2.5">subscript</csymbol><ci id="algorithm1.43.43.m1.1.1.2.5.2.cmml" xref="algorithm1.43.43.m1.1.1.2.5.2">𝒔</ci><ci id="algorithm1.43.43.m1.1.1.2.5.3.cmml" xref="algorithm1.43.43.m1.1.1.2.5.3">𝒕</ci></apply></apply><csymbol cd="latexml" id="algorithm1.43.43.m1.1.1.3.cmml" xref="algorithm1.43.43.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.43.43.m1.1c">\boldsymbol{Docs_{t}}\leftarrow</annotation><annotation encoding="application/x-llamapun" id="algorithm1.43.43.m1.1d">bold_italic_D bold_italic_o bold_italic_c bold_italic_s start_POSTSUBSCRIPT bold_italic_t end_POSTSUBSCRIPT ←</annotation></semantics></math> <math alttext="d_{j}" class="ltx_Math" display="inline" id="algorithm1.44.44.m2.1"><semantics id="algorithm1.44.44.m2.1a"><msub id="algorithm1.44.44.m2.1.1" xref="algorithm1.44.44.m2.1.1.cmml"><mi id="algorithm1.44.44.m2.1.1.2" xref="algorithm1.44.44.m2.1.1.2.cmml">d</mi><mi id="algorithm1.44.44.m2.1.1.3" xref="algorithm1.44.44.m2.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.44.44.m2.1b"><apply id="algorithm1.44.44.m2.1.1.cmml" xref="algorithm1.44.44.m2.1.1"><csymbol cd="ambiguous" id="algorithm1.44.44.m2.1.1.1.cmml" xref="algorithm1.44.44.m2.1.1">subscript</csymbol><ci id="algorithm1.44.44.m2.1.1.2.cmml" xref="algorithm1.44.44.m2.1.1.2">𝑑</ci><ci id="algorithm1.44.44.m2.1.1.3.cmml" xref="algorithm1.44.44.m2.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.44.44.m2.1c">d_{j}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.44.44.m2.1d">italic_d start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.51.60">
<span class="ltx_tag ltx_tag_listingline">22</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div class="ltx_listingline" id="algorithm1.45.45">
<span class="ltx_tag ltx_tag_listingline">23</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span class="ltx_text ltx_font_bold" id="algorithm1.45.45.2">for</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.45.45.1"><math alttext="\boldsymbol{d_{t}}_{j}\in\boldsymbol{Docs_{t}}" class="ltx_Math" display="inline" id="algorithm1.45.45.1.m1.1"><semantics id="algorithm1.45.45.1.m1.1a"><mrow id="algorithm1.45.45.1.m1.1.1" xref="algorithm1.45.45.1.m1.1.1.cmml"><mmultiscripts id="algorithm1.45.45.1.m1.1.1.2" xref="algorithm1.45.45.1.m1.1.1.2.cmml"><mi id="algorithm1.45.45.1.m1.1.1.2.2.2" xref="algorithm1.45.45.1.m1.1.1.2.2.2.cmml">𝐝</mi><mi id="algorithm1.45.45.1.m1.1.1.2.2.3" xref="algorithm1.45.45.1.m1.1.1.2.2.3.cmml">𝐭</mi><mrow id="algorithm1.45.45.1.m1.1.1.2a" xref="algorithm1.45.45.1.m1.1.1.2.cmml"></mrow><mi id="algorithm1.45.45.1.m1.1.1.2.3" xref="algorithm1.45.45.1.m1.1.1.2.3.cmml">j</mi><mrow id="algorithm1.45.45.1.m1.1.1.2b" xref="algorithm1.45.45.1.m1.1.1.2.cmml"></mrow></mmultiscripts><mo id="algorithm1.45.45.1.m1.1.1.1" xref="algorithm1.45.45.1.m1.1.1.1.cmml">∈</mo><mrow id="algorithm1.45.45.1.m1.1.1.3" xref="algorithm1.45.45.1.m1.1.1.3.cmml"><mi id="algorithm1.45.45.1.m1.1.1.3.2" xref="algorithm1.45.45.1.m1.1.1.3.2.cmml">𝐃</mi><mo id="algorithm1.45.45.1.m1.1.1.3.1" xref="algorithm1.45.45.1.m1.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.45.45.1.m1.1.1.3.3" xref="algorithm1.45.45.1.m1.1.1.3.3.cmml">𝐨</mi><mo id="algorithm1.45.45.1.m1.1.1.3.1a" xref="algorithm1.45.45.1.m1.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.45.45.1.m1.1.1.3.4" xref="algorithm1.45.45.1.m1.1.1.3.4.cmml">𝐜</mi><mo id="algorithm1.45.45.1.m1.1.1.3.1b" xref="algorithm1.45.45.1.m1.1.1.3.1.cmml">⁢</mo><msub id="algorithm1.45.45.1.m1.1.1.3.5" xref="algorithm1.45.45.1.m1.1.1.3.5.cmml"><mi id="algorithm1.45.45.1.m1.1.1.3.5.2" xref="algorithm1.45.45.1.m1.1.1.3.5.2.cmml">𝐬</mi><mi id="algorithm1.45.45.1.m1.1.1.3.5.3" xref="algorithm1.45.45.1.m1.1.1.3.5.3.cmml">𝐭</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.45.45.1.m1.1b"><apply id="algorithm1.45.45.1.m1.1.1.cmml" xref="algorithm1.45.45.1.m1.1.1"><in id="algorithm1.45.45.1.m1.1.1.1.cmml" xref="algorithm1.45.45.1.m1.1.1.1"></in><apply id="algorithm1.45.45.1.m1.1.1.2.cmml" xref="algorithm1.45.45.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.45.45.1.m1.1.1.2.1.cmml" xref="algorithm1.45.45.1.m1.1.1.2">subscript</csymbol><apply id="algorithm1.45.45.1.m1.1.1.2.2.cmml" xref="algorithm1.45.45.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.45.45.1.m1.1.1.2.2.1.cmml" xref="algorithm1.45.45.1.m1.1.1.2">subscript</csymbol><ci id="algorithm1.45.45.1.m1.1.1.2.2.2.cmml" xref="algorithm1.45.45.1.m1.1.1.2.2.2">𝐝</ci><ci id="algorithm1.45.45.1.m1.1.1.2.2.3.cmml" xref="algorithm1.45.45.1.m1.1.1.2.2.3">𝐭</ci></apply><ci id="algorithm1.45.45.1.m1.1.1.2.3.cmml" xref="algorithm1.45.45.1.m1.1.1.2.3">𝑗</ci></apply><apply id="algorithm1.45.45.1.m1.1.1.3.cmml" xref="algorithm1.45.45.1.m1.1.1.3"><times id="algorithm1.45.45.1.m1.1.1.3.1.cmml" xref="algorithm1.45.45.1.m1.1.1.3.1"></times><ci id="algorithm1.45.45.1.m1.1.1.3.2.cmml" xref="algorithm1.45.45.1.m1.1.1.3.2">𝐃</ci><ci id="algorithm1.45.45.1.m1.1.1.3.3.cmml" xref="algorithm1.45.45.1.m1.1.1.3.3">𝐨</ci><ci id="algorithm1.45.45.1.m1.1.1.3.4.cmml" xref="algorithm1.45.45.1.m1.1.1.3.4">𝐜</ci><apply id="algorithm1.45.45.1.m1.1.1.3.5.cmml" xref="algorithm1.45.45.1.m1.1.1.3.5"><csymbol cd="ambiguous" id="algorithm1.45.45.1.m1.1.1.3.5.1.cmml" xref="algorithm1.45.45.1.m1.1.1.3.5">subscript</csymbol><ci id="algorithm1.45.45.1.m1.1.1.3.5.2.cmml" xref="algorithm1.45.45.1.m1.1.1.3.5.2">𝐬</ci><ci id="algorithm1.45.45.1.m1.1.1.3.5.3.cmml" xref="algorithm1.45.45.1.m1.1.1.3.5.3">𝐭</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.45.45.1.m1.1c">\boldsymbol{d_{t}}_{j}\in\boldsymbol{Docs_{t}}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.45.45.1.m1.1d">bold_italic_d start_POSTSUBSCRIPT bold_italic_t end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ bold_italic_D bold_italic_o bold_italic_c bold_italic_s start_POSTSUBSCRIPT bold_italic_t end_POSTSUBSCRIPT</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="algorithm1.45.45.3">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.46.46">
<span class="ltx_tag ltx_tag_listingline">24</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
adversarial trigger <math alttext="\boldsymbol{p_{adv}}_{j}\leftarrow\boldsymbol{PAT}(\boldsymbol{M_{i}};%
\boldsymbol{q}_{m},\boldsymbol{d_{t}}_{j},\boldsymbol{anchor}_{m})" class="ltx_Math" display="inline" id="algorithm1.46.46.m1.4"><semantics id="algorithm1.46.46.m1.4a"><mrow id="algorithm1.46.46.m1.4.4" xref="algorithm1.46.46.m1.4.4.cmml"><mmultiscripts id="algorithm1.46.46.m1.4.4.6" xref="algorithm1.46.46.m1.4.4.6.cmml"><mi id="algorithm1.46.46.m1.4.4.6.2.2" xref="algorithm1.46.46.m1.4.4.6.2.2.cmml">𝒑</mi><mrow id="algorithm1.46.46.m1.4.4.6.2.3" xref="algorithm1.46.46.m1.4.4.6.2.3.cmml"><mi id="algorithm1.46.46.m1.4.4.6.2.3.2" xref="algorithm1.46.46.m1.4.4.6.2.3.2.cmml">𝒂</mi><mo id="algorithm1.46.46.m1.4.4.6.2.3.1" xref="algorithm1.46.46.m1.4.4.6.2.3.1.cmml">⁢</mo><mi id="algorithm1.46.46.m1.4.4.6.2.3.3" xref="algorithm1.46.46.m1.4.4.6.2.3.3.cmml">𝒅</mi><mo id="algorithm1.46.46.m1.4.4.6.2.3.1a" xref="algorithm1.46.46.m1.4.4.6.2.3.1.cmml">⁢</mo><mi id="algorithm1.46.46.m1.4.4.6.2.3.4" xref="algorithm1.46.46.m1.4.4.6.2.3.4.cmml">𝒗</mi></mrow><mrow id="algorithm1.46.46.m1.4.4.6a" xref="algorithm1.46.46.m1.4.4.6.cmml"></mrow><mi id="algorithm1.46.46.m1.4.4.6.3" xref="algorithm1.46.46.m1.4.4.6.3.cmml">j</mi><mrow id="algorithm1.46.46.m1.4.4.6b" xref="algorithm1.46.46.m1.4.4.6.cmml"></mrow></mmultiscripts><mo id="algorithm1.46.46.m1.4.4.5" stretchy="false" xref="algorithm1.46.46.m1.4.4.5.cmml">←</mo><mrow id="algorithm1.46.46.m1.4.4.4" xref="algorithm1.46.46.m1.4.4.4.cmml"><mi id="algorithm1.46.46.m1.4.4.4.6" xref="algorithm1.46.46.m1.4.4.4.6.cmml">𝑷</mi><mo id="algorithm1.46.46.m1.4.4.4.5" xref="algorithm1.46.46.m1.4.4.4.5.cmml">⁢</mo><mi id="algorithm1.46.46.m1.4.4.4.7" xref="algorithm1.46.46.m1.4.4.4.7.cmml">𝑨</mi><mo id="algorithm1.46.46.m1.4.4.4.5a" xref="algorithm1.46.46.m1.4.4.4.5.cmml">⁢</mo><mi id="algorithm1.46.46.m1.4.4.4.8" xref="algorithm1.46.46.m1.4.4.4.8.cmml">𝑻</mi><mo id="algorithm1.46.46.m1.4.4.4.5b" xref="algorithm1.46.46.m1.4.4.4.5.cmml">⁢</mo><mrow id="algorithm1.46.46.m1.4.4.4.4.4" xref="algorithm1.46.46.m1.4.4.4.4.5.cmml"><mo id="algorithm1.46.46.m1.4.4.4.4.4.5" stretchy="false" xref="algorithm1.46.46.m1.4.4.4.4.5.cmml">(</mo><msub id="algorithm1.46.46.m1.1.1.1.1.1.1" xref="algorithm1.46.46.m1.1.1.1.1.1.1.cmml"><mi id="algorithm1.46.46.m1.1.1.1.1.1.1.2" xref="algorithm1.46.46.m1.1.1.1.1.1.1.2.cmml">𝑴</mi><mi id="algorithm1.46.46.m1.1.1.1.1.1.1.3" xref="algorithm1.46.46.m1.1.1.1.1.1.1.3.cmml">𝒊</mi></msub><mo id="algorithm1.46.46.m1.4.4.4.4.4.6" xref="algorithm1.46.46.m1.4.4.4.4.5.cmml">;</mo><msub id="algorithm1.46.46.m1.2.2.2.2.2.2" xref="algorithm1.46.46.m1.2.2.2.2.2.2.cmml"><mi id="algorithm1.46.46.m1.2.2.2.2.2.2.2" xref="algorithm1.46.46.m1.2.2.2.2.2.2.2.cmml">𝒒</mi><mi id="algorithm1.46.46.m1.2.2.2.2.2.2.3" xref="algorithm1.46.46.m1.2.2.2.2.2.2.3.cmml">m</mi></msub><mo id="algorithm1.46.46.m1.4.4.4.4.4.7" xref="algorithm1.46.46.m1.4.4.4.4.5.cmml">,</mo><mmultiscripts id="algorithm1.46.46.m1.3.3.3.3.3.3" xref="algorithm1.46.46.m1.3.3.3.3.3.3.cmml"><mi id="algorithm1.46.46.m1.3.3.3.3.3.3.2.2" xref="algorithm1.46.46.m1.3.3.3.3.3.3.2.2.cmml">𝒅</mi><mi id="algorithm1.46.46.m1.3.3.3.3.3.3.2.3" xref="algorithm1.46.46.m1.3.3.3.3.3.3.2.3.cmml">𝒕</mi><mrow id="algorithm1.46.46.m1.3.3.3.3.3.3a" xref="algorithm1.46.46.m1.3.3.3.3.3.3.cmml"></mrow><mi id="algorithm1.46.46.m1.3.3.3.3.3.3.3" xref="algorithm1.46.46.m1.3.3.3.3.3.3.3.cmml">j</mi><mrow id="algorithm1.46.46.m1.3.3.3.3.3.3b" xref="algorithm1.46.46.m1.3.3.3.3.3.3.cmml"></mrow></mmultiscripts><mo id="algorithm1.46.46.m1.4.4.4.4.4.8" xref="algorithm1.46.46.m1.4.4.4.4.5.cmml">,</mo><mrow id="algorithm1.46.46.m1.4.4.4.4.4.4" xref="algorithm1.46.46.m1.4.4.4.4.4.4.cmml"><mi id="algorithm1.46.46.m1.4.4.4.4.4.4.2" xref="algorithm1.46.46.m1.4.4.4.4.4.4.2.cmml">𝒂</mi><mo id="algorithm1.46.46.m1.4.4.4.4.4.4.1" xref="algorithm1.46.46.m1.4.4.4.4.4.4.1.cmml">⁢</mo><mi id="algorithm1.46.46.m1.4.4.4.4.4.4.3" xref="algorithm1.46.46.m1.4.4.4.4.4.4.3.cmml">𝒏</mi><mo id="algorithm1.46.46.m1.4.4.4.4.4.4.1a" xref="algorithm1.46.46.m1.4.4.4.4.4.4.1.cmml">⁢</mo><mi id="algorithm1.46.46.m1.4.4.4.4.4.4.4" xref="algorithm1.46.46.m1.4.4.4.4.4.4.4.cmml">𝒄</mi><mo id="algorithm1.46.46.m1.4.4.4.4.4.4.1b" xref="algorithm1.46.46.m1.4.4.4.4.4.4.1.cmml">⁢</mo><mi id="algorithm1.46.46.m1.4.4.4.4.4.4.5" xref="algorithm1.46.46.m1.4.4.4.4.4.4.5.cmml">𝒉</mi><mo id="algorithm1.46.46.m1.4.4.4.4.4.4.1c" xref="algorithm1.46.46.m1.4.4.4.4.4.4.1.cmml">⁢</mo><mi id="algorithm1.46.46.m1.4.4.4.4.4.4.6" xref="algorithm1.46.46.m1.4.4.4.4.4.4.6.cmml">𝒐</mi><mo id="algorithm1.46.46.m1.4.4.4.4.4.4.1d" xref="algorithm1.46.46.m1.4.4.4.4.4.4.1.cmml">⁢</mo><msub id="algorithm1.46.46.m1.4.4.4.4.4.4.7" xref="algorithm1.46.46.m1.4.4.4.4.4.4.7.cmml"><mi id="algorithm1.46.46.m1.4.4.4.4.4.4.7.2" xref="algorithm1.46.46.m1.4.4.4.4.4.4.7.2.cmml">𝒓</mi><mi id="algorithm1.46.46.m1.4.4.4.4.4.4.7.3" xref="algorithm1.46.46.m1.4.4.4.4.4.4.7.3.cmml">m</mi></msub></mrow><mo id="algorithm1.46.46.m1.4.4.4.4.4.9" stretchy="false" xref="algorithm1.46.46.m1.4.4.4.4.5.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.46.46.m1.4b"><apply id="algorithm1.46.46.m1.4.4.cmml" xref="algorithm1.46.46.m1.4.4"><ci id="algorithm1.46.46.m1.4.4.5.cmml" xref="algorithm1.46.46.m1.4.4.5">←</ci><apply id="algorithm1.46.46.m1.4.4.6.cmml" xref="algorithm1.46.46.m1.4.4.6"><csymbol cd="ambiguous" id="algorithm1.46.46.m1.4.4.6.1.cmml" xref="algorithm1.46.46.m1.4.4.6">subscript</csymbol><apply id="algorithm1.46.46.m1.4.4.6.2.cmml" xref="algorithm1.46.46.m1.4.4.6"><csymbol cd="ambiguous" id="algorithm1.46.46.m1.4.4.6.2.1.cmml" xref="algorithm1.46.46.m1.4.4.6">subscript</csymbol><ci id="algorithm1.46.46.m1.4.4.6.2.2.cmml" xref="algorithm1.46.46.m1.4.4.6.2.2">𝒑</ci><apply id="algorithm1.46.46.m1.4.4.6.2.3.cmml" xref="algorithm1.46.46.m1.4.4.6.2.3"><times id="algorithm1.46.46.m1.4.4.6.2.3.1.cmml" xref="algorithm1.46.46.m1.4.4.6.2.3.1"></times><ci id="algorithm1.46.46.m1.4.4.6.2.3.2.cmml" xref="algorithm1.46.46.m1.4.4.6.2.3.2">𝒂</ci><ci id="algorithm1.46.46.m1.4.4.6.2.3.3.cmml" xref="algorithm1.46.46.m1.4.4.6.2.3.3">𝒅</ci><ci id="algorithm1.46.46.m1.4.4.6.2.3.4.cmml" xref="algorithm1.46.46.m1.4.4.6.2.3.4">𝒗</ci></apply></apply><ci id="algorithm1.46.46.m1.4.4.6.3.cmml" xref="algorithm1.46.46.m1.4.4.6.3">𝑗</ci></apply><apply id="algorithm1.46.46.m1.4.4.4.cmml" xref="algorithm1.46.46.m1.4.4.4"><times id="algorithm1.46.46.m1.4.4.4.5.cmml" xref="algorithm1.46.46.m1.4.4.4.5"></times><ci id="algorithm1.46.46.m1.4.4.4.6.cmml" xref="algorithm1.46.46.m1.4.4.4.6">𝑷</ci><ci id="algorithm1.46.46.m1.4.4.4.7.cmml" xref="algorithm1.46.46.m1.4.4.4.7">𝑨</ci><ci id="algorithm1.46.46.m1.4.4.4.8.cmml" xref="algorithm1.46.46.m1.4.4.4.8">𝑻</ci><list id="algorithm1.46.46.m1.4.4.4.4.5.cmml" xref="algorithm1.46.46.m1.4.4.4.4.4"><apply id="algorithm1.46.46.m1.1.1.1.1.1.1.cmml" xref="algorithm1.46.46.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.46.46.m1.1.1.1.1.1.1.1.cmml" xref="algorithm1.46.46.m1.1.1.1.1.1.1">subscript</csymbol><ci id="algorithm1.46.46.m1.1.1.1.1.1.1.2.cmml" xref="algorithm1.46.46.m1.1.1.1.1.1.1.2">𝑴</ci><ci id="algorithm1.46.46.m1.1.1.1.1.1.1.3.cmml" xref="algorithm1.46.46.m1.1.1.1.1.1.1.3">𝒊</ci></apply><apply id="algorithm1.46.46.m1.2.2.2.2.2.2.cmml" xref="algorithm1.46.46.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="algorithm1.46.46.m1.2.2.2.2.2.2.1.cmml" xref="algorithm1.46.46.m1.2.2.2.2.2.2">subscript</csymbol><ci id="algorithm1.46.46.m1.2.2.2.2.2.2.2.cmml" xref="algorithm1.46.46.m1.2.2.2.2.2.2.2">𝒒</ci><ci id="algorithm1.46.46.m1.2.2.2.2.2.2.3.cmml" xref="algorithm1.46.46.m1.2.2.2.2.2.2.3">𝑚</ci></apply><apply id="algorithm1.46.46.m1.3.3.3.3.3.3.cmml" xref="algorithm1.46.46.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="algorithm1.46.46.m1.3.3.3.3.3.3.1.cmml" xref="algorithm1.46.46.m1.3.3.3.3.3.3">subscript</csymbol><apply id="algorithm1.46.46.m1.3.3.3.3.3.3.2.cmml" xref="algorithm1.46.46.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="algorithm1.46.46.m1.3.3.3.3.3.3.2.1.cmml" xref="algorithm1.46.46.m1.3.3.3.3.3.3">subscript</csymbol><ci id="algorithm1.46.46.m1.3.3.3.3.3.3.2.2.cmml" xref="algorithm1.46.46.m1.3.3.3.3.3.3.2.2">𝒅</ci><ci id="algorithm1.46.46.m1.3.3.3.3.3.3.2.3.cmml" xref="algorithm1.46.46.m1.3.3.3.3.3.3.2.3">𝒕</ci></apply><ci id="algorithm1.46.46.m1.3.3.3.3.3.3.3.cmml" xref="algorithm1.46.46.m1.3.3.3.3.3.3.3">𝑗</ci></apply><apply id="algorithm1.46.46.m1.4.4.4.4.4.4.cmml" xref="algorithm1.46.46.m1.4.4.4.4.4.4"><times id="algorithm1.46.46.m1.4.4.4.4.4.4.1.cmml" xref="algorithm1.46.46.m1.4.4.4.4.4.4.1"></times><ci id="algorithm1.46.46.m1.4.4.4.4.4.4.2.cmml" xref="algorithm1.46.46.m1.4.4.4.4.4.4.2">𝒂</ci><ci id="algorithm1.46.46.m1.4.4.4.4.4.4.3.cmml" xref="algorithm1.46.46.m1.4.4.4.4.4.4.3">𝒏</ci><ci id="algorithm1.46.46.m1.4.4.4.4.4.4.4.cmml" xref="algorithm1.46.46.m1.4.4.4.4.4.4.4">𝒄</ci><ci id="algorithm1.46.46.m1.4.4.4.4.4.4.5.cmml" xref="algorithm1.46.46.m1.4.4.4.4.4.4.5">𝒉</ci><ci id="algorithm1.46.46.m1.4.4.4.4.4.4.6.cmml" xref="algorithm1.46.46.m1.4.4.4.4.4.4.6">𝒐</ci><apply id="algorithm1.46.46.m1.4.4.4.4.4.4.7.cmml" xref="algorithm1.46.46.m1.4.4.4.4.4.4.7"><csymbol cd="ambiguous" id="algorithm1.46.46.m1.4.4.4.4.4.4.7.1.cmml" xref="algorithm1.46.46.m1.4.4.4.4.4.4.7">subscript</csymbol><ci id="algorithm1.46.46.m1.4.4.4.4.4.4.7.2.cmml" xref="algorithm1.46.46.m1.4.4.4.4.4.4.7.2">𝒓</ci><ci id="algorithm1.46.46.m1.4.4.4.4.4.4.7.3.cmml" xref="algorithm1.46.46.m1.4.4.4.4.4.4.7.3">𝑚</ci></apply></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.46.46.m1.4c">\boldsymbol{p_{adv}}_{j}\leftarrow\boldsymbol{PAT}(\boldsymbol{M_{i}};%
\boldsymbol{q}_{m},\boldsymbol{d_{t}}_{j},\boldsymbol{anchor}_{m})</annotation><annotation encoding="application/x-llamapun" id="algorithm1.46.46.m1.4d">bold_italic_p start_POSTSUBSCRIPT bold_italic_a bold_italic_d bold_italic_v end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ← bold_italic_P bold_italic_A bold_italic_T ( bold_italic_M start_POSTSUBSCRIPT bold_italic_i end_POSTSUBSCRIPT ; bold_italic_q start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT , bold_italic_d start_POSTSUBSCRIPT bold_italic_t end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , bold_italic_a bold_italic_n bold_italic_c bold_italic_h bold_italic_o bold_italic_r start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.47.47">
<span class="ltx_tag ltx_tag_listingline">25</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
adversarial document <math alttext="\boldsymbol{d_{adv}}_{j}\leftarrow\boldsymbol{d_{t}}_{j}\oplus\boldsymbol{p_{%
adv}}_{j}" class="ltx_Math" display="inline" id="algorithm1.47.47.m1.1"><semantics id="algorithm1.47.47.m1.1a"><mrow id="algorithm1.47.47.m1.1.1" xref="algorithm1.47.47.m1.1.1.cmml"><mmultiscripts id="algorithm1.47.47.m1.1.1.2" xref="algorithm1.47.47.m1.1.1.2.cmml"><mi id="algorithm1.47.47.m1.1.1.2.2.2" xref="algorithm1.47.47.m1.1.1.2.2.2.cmml">𝒅</mi><mrow id="algorithm1.47.47.m1.1.1.2.2.3" xref="algorithm1.47.47.m1.1.1.2.2.3.cmml"><mi id="algorithm1.47.47.m1.1.1.2.2.3.2" xref="algorithm1.47.47.m1.1.1.2.2.3.2.cmml">𝒂</mi><mo id="algorithm1.47.47.m1.1.1.2.2.3.1" xref="algorithm1.47.47.m1.1.1.2.2.3.1.cmml">⁢</mo><mi id="algorithm1.47.47.m1.1.1.2.2.3.3" xref="algorithm1.47.47.m1.1.1.2.2.3.3.cmml">𝒅</mi><mo id="algorithm1.47.47.m1.1.1.2.2.3.1a" xref="algorithm1.47.47.m1.1.1.2.2.3.1.cmml">⁢</mo><mi id="algorithm1.47.47.m1.1.1.2.2.3.4" xref="algorithm1.47.47.m1.1.1.2.2.3.4.cmml">𝒗</mi></mrow><mrow id="algorithm1.47.47.m1.1.1.2a" xref="algorithm1.47.47.m1.1.1.2.cmml"></mrow><mi id="algorithm1.47.47.m1.1.1.2.3" xref="algorithm1.47.47.m1.1.1.2.3.cmml">j</mi><mrow id="algorithm1.47.47.m1.1.1.2b" xref="algorithm1.47.47.m1.1.1.2.cmml"></mrow></mmultiscripts><mo id="algorithm1.47.47.m1.1.1.1" stretchy="false" xref="algorithm1.47.47.m1.1.1.1.cmml">←</mo><mrow id="algorithm1.47.47.m1.1.1.3" xref="algorithm1.47.47.m1.1.1.3.cmml"><mmultiscripts id="algorithm1.47.47.m1.1.1.3.2" xref="algorithm1.47.47.m1.1.1.3.2.cmml"><mi id="algorithm1.47.47.m1.1.1.3.2.2.2" xref="algorithm1.47.47.m1.1.1.3.2.2.2.cmml">𝒅</mi><mi id="algorithm1.47.47.m1.1.1.3.2.2.3" xref="algorithm1.47.47.m1.1.1.3.2.2.3.cmml">𝒕</mi><mrow id="algorithm1.47.47.m1.1.1.3.2a" xref="algorithm1.47.47.m1.1.1.3.2.cmml"></mrow><mi id="algorithm1.47.47.m1.1.1.3.2.3" xref="algorithm1.47.47.m1.1.1.3.2.3.cmml">j</mi><mrow id="algorithm1.47.47.m1.1.1.3.2b" xref="algorithm1.47.47.m1.1.1.3.2.cmml"></mrow></mmultiscripts><mo id="algorithm1.47.47.m1.1.1.3.1" xref="algorithm1.47.47.m1.1.1.3.1.cmml">⊕</mo><mmultiscripts id="algorithm1.47.47.m1.1.1.3.3" xref="algorithm1.47.47.m1.1.1.3.3.cmml"><mi id="algorithm1.47.47.m1.1.1.3.3.2.2" xref="algorithm1.47.47.m1.1.1.3.3.2.2.cmml">𝒑</mi><mrow id="algorithm1.47.47.m1.1.1.3.3.2.3" xref="algorithm1.47.47.m1.1.1.3.3.2.3.cmml"><mi id="algorithm1.47.47.m1.1.1.3.3.2.3.2" xref="algorithm1.47.47.m1.1.1.3.3.2.3.2.cmml">𝒂</mi><mo id="algorithm1.47.47.m1.1.1.3.3.2.3.1" xref="algorithm1.47.47.m1.1.1.3.3.2.3.1.cmml">⁢</mo><mi id="algorithm1.47.47.m1.1.1.3.3.2.3.3" xref="algorithm1.47.47.m1.1.1.3.3.2.3.3.cmml">𝒅</mi><mo id="algorithm1.47.47.m1.1.1.3.3.2.3.1a" xref="algorithm1.47.47.m1.1.1.3.3.2.3.1.cmml">⁢</mo><mi id="algorithm1.47.47.m1.1.1.3.3.2.3.4" xref="algorithm1.47.47.m1.1.1.3.3.2.3.4.cmml">𝒗</mi></mrow><mrow id="algorithm1.47.47.m1.1.1.3.3a" xref="algorithm1.47.47.m1.1.1.3.3.cmml"></mrow><mi id="algorithm1.47.47.m1.1.1.3.3.3" xref="algorithm1.47.47.m1.1.1.3.3.3.cmml">j</mi><mrow id="algorithm1.47.47.m1.1.1.3.3b" xref="algorithm1.47.47.m1.1.1.3.3.cmml"></mrow></mmultiscripts></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.47.47.m1.1b"><apply id="algorithm1.47.47.m1.1.1.cmml" xref="algorithm1.47.47.m1.1.1"><ci id="algorithm1.47.47.m1.1.1.1.cmml" xref="algorithm1.47.47.m1.1.1.1">←</ci><apply id="algorithm1.47.47.m1.1.1.2.cmml" xref="algorithm1.47.47.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.47.47.m1.1.1.2.1.cmml" xref="algorithm1.47.47.m1.1.1.2">subscript</csymbol><apply id="algorithm1.47.47.m1.1.1.2.2.cmml" xref="algorithm1.47.47.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.47.47.m1.1.1.2.2.1.cmml" xref="algorithm1.47.47.m1.1.1.2">subscript</csymbol><ci id="algorithm1.47.47.m1.1.1.2.2.2.cmml" xref="algorithm1.47.47.m1.1.1.2.2.2">𝒅</ci><apply id="algorithm1.47.47.m1.1.1.2.2.3.cmml" xref="algorithm1.47.47.m1.1.1.2.2.3"><times id="algorithm1.47.47.m1.1.1.2.2.3.1.cmml" xref="algorithm1.47.47.m1.1.1.2.2.3.1"></times><ci id="algorithm1.47.47.m1.1.1.2.2.3.2.cmml" xref="algorithm1.47.47.m1.1.1.2.2.3.2">𝒂</ci><ci id="algorithm1.47.47.m1.1.1.2.2.3.3.cmml" xref="algorithm1.47.47.m1.1.1.2.2.3.3">𝒅</ci><ci id="algorithm1.47.47.m1.1.1.2.2.3.4.cmml" xref="algorithm1.47.47.m1.1.1.2.2.3.4">𝒗</ci></apply></apply><ci id="algorithm1.47.47.m1.1.1.2.3.cmml" xref="algorithm1.47.47.m1.1.1.2.3">𝑗</ci></apply><apply id="algorithm1.47.47.m1.1.1.3.cmml" xref="algorithm1.47.47.m1.1.1.3"><csymbol cd="latexml" id="algorithm1.47.47.m1.1.1.3.1.cmml" xref="algorithm1.47.47.m1.1.1.3.1">direct-sum</csymbol><apply id="algorithm1.47.47.m1.1.1.3.2.cmml" xref="algorithm1.47.47.m1.1.1.3.2"><csymbol cd="ambiguous" id="algorithm1.47.47.m1.1.1.3.2.1.cmml" xref="algorithm1.47.47.m1.1.1.3.2">subscript</csymbol><apply id="algorithm1.47.47.m1.1.1.3.2.2.cmml" xref="algorithm1.47.47.m1.1.1.3.2"><csymbol cd="ambiguous" id="algorithm1.47.47.m1.1.1.3.2.2.1.cmml" xref="algorithm1.47.47.m1.1.1.3.2">subscript</csymbol><ci id="algorithm1.47.47.m1.1.1.3.2.2.2.cmml" xref="algorithm1.47.47.m1.1.1.3.2.2.2">𝒅</ci><ci id="algorithm1.47.47.m1.1.1.3.2.2.3.cmml" xref="algorithm1.47.47.m1.1.1.3.2.2.3">𝒕</ci></apply><ci id="algorithm1.47.47.m1.1.1.3.2.3.cmml" xref="algorithm1.47.47.m1.1.1.3.2.3">𝑗</ci></apply><apply id="algorithm1.47.47.m1.1.1.3.3.cmml" xref="algorithm1.47.47.m1.1.1.3.3"><csymbol cd="ambiguous" id="algorithm1.47.47.m1.1.1.3.3.1.cmml" xref="algorithm1.47.47.m1.1.1.3.3">subscript</csymbol><apply id="algorithm1.47.47.m1.1.1.3.3.2.cmml" xref="algorithm1.47.47.m1.1.1.3.3"><csymbol cd="ambiguous" id="algorithm1.47.47.m1.1.1.3.3.2.1.cmml" xref="algorithm1.47.47.m1.1.1.3.3">subscript</csymbol><ci id="algorithm1.47.47.m1.1.1.3.3.2.2.cmml" xref="algorithm1.47.47.m1.1.1.3.3.2.2">𝒑</ci><apply id="algorithm1.47.47.m1.1.1.3.3.2.3.cmml" xref="algorithm1.47.47.m1.1.1.3.3.2.3"><times id="algorithm1.47.47.m1.1.1.3.3.2.3.1.cmml" xref="algorithm1.47.47.m1.1.1.3.3.2.3.1"></times><ci id="algorithm1.47.47.m1.1.1.3.3.2.3.2.cmml" xref="algorithm1.47.47.m1.1.1.3.3.2.3.2">𝒂</ci><ci id="algorithm1.47.47.m1.1.1.3.3.2.3.3.cmml" xref="algorithm1.47.47.m1.1.1.3.3.2.3.3">𝒅</ci><ci id="algorithm1.47.47.m1.1.1.3.3.2.3.4.cmml" xref="algorithm1.47.47.m1.1.1.3.3.2.3.4">𝒗</ci></apply></apply><ci id="algorithm1.47.47.m1.1.1.3.3.3.cmml" xref="algorithm1.47.47.m1.1.1.3.3.3">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.47.47.m1.1c">\boldsymbol{d_{adv}}_{j}\leftarrow\boldsymbol{d_{t}}_{j}\oplus\boldsymbol{p_{%
adv}}_{j}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.47.47.m1.1d">bold_italic_d start_POSTSUBSCRIPT bold_italic_a bold_italic_d bold_italic_v end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ← bold_italic_d start_POSTSUBSCRIPT bold_italic_t end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ⊕ bold_italic_p start_POSTSUBSCRIPT bold_italic_a bold_italic_d bold_italic_v end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.48.48">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="\boldsymbol{Docs}:\boldsymbol{d_{t}}_{j}\leftarrow\boldsymbol{d_{adv}}_{j}" class="ltx_Math" display="inline" id="algorithm1.48.48.m1.1"><semantics id="algorithm1.48.48.m1.1a"><mrow id="algorithm1.48.48.m1.1.1" xref="algorithm1.48.48.m1.1.1.cmml"><mrow id="algorithm1.48.48.m1.1.1.2" xref="algorithm1.48.48.m1.1.1.2.cmml"><mi id="algorithm1.48.48.m1.1.1.2.2" xref="algorithm1.48.48.m1.1.1.2.2.cmml">𝑫</mi><mo id="algorithm1.48.48.m1.1.1.2.1" xref="algorithm1.48.48.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.48.48.m1.1.1.2.3" xref="algorithm1.48.48.m1.1.1.2.3.cmml">𝒐</mi><mo id="algorithm1.48.48.m1.1.1.2.1a" xref="algorithm1.48.48.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.48.48.m1.1.1.2.4" xref="algorithm1.48.48.m1.1.1.2.4.cmml">𝒄</mi><mo id="algorithm1.48.48.m1.1.1.2.1b" xref="algorithm1.48.48.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.48.48.m1.1.1.2.5" xref="algorithm1.48.48.m1.1.1.2.5.cmml">𝒔</mi></mrow><mo id="algorithm1.48.48.m1.1.1.1" lspace="0.278em" rspace="0.278em" xref="algorithm1.48.48.m1.1.1.1.cmml">:</mo><mrow id="algorithm1.48.48.m1.1.1.3" xref="algorithm1.48.48.m1.1.1.3.cmml"><mmultiscripts id="algorithm1.48.48.m1.1.1.3.2" xref="algorithm1.48.48.m1.1.1.3.2.cmml"><mi id="algorithm1.48.48.m1.1.1.3.2.2.2" xref="algorithm1.48.48.m1.1.1.3.2.2.2.cmml">𝒅</mi><mi id="algorithm1.48.48.m1.1.1.3.2.2.3" xref="algorithm1.48.48.m1.1.1.3.2.2.3.cmml">𝒕</mi><mrow id="algorithm1.48.48.m1.1.1.3.2a" xref="algorithm1.48.48.m1.1.1.3.2.cmml"></mrow><mi id="algorithm1.48.48.m1.1.1.3.2.3" xref="algorithm1.48.48.m1.1.1.3.2.3.cmml">j</mi><mrow id="algorithm1.48.48.m1.1.1.3.2b" xref="algorithm1.48.48.m1.1.1.3.2.cmml"></mrow></mmultiscripts><mo id="algorithm1.48.48.m1.1.1.3.1" stretchy="false" xref="algorithm1.48.48.m1.1.1.3.1.cmml">←</mo><mmultiscripts id="algorithm1.48.48.m1.1.1.3.3" xref="algorithm1.48.48.m1.1.1.3.3.cmml"><mi id="algorithm1.48.48.m1.1.1.3.3.2.2" xref="algorithm1.48.48.m1.1.1.3.3.2.2.cmml">𝒅</mi><mrow id="algorithm1.48.48.m1.1.1.3.3.2.3" xref="algorithm1.48.48.m1.1.1.3.3.2.3.cmml"><mi id="algorithm1.48.48.m1.1.1.3.3.2.3.2" xref="algorithm1.48.48.m1.1.1.3.3.2.3.2.cmml">𝒂</mi><mo id="algorithm1.48.48.m1.1.1.3.3.2.3.1" xref="algorithm1.48.48.m1.1.1.3.3.2.3.1.cmml">⁢</mo><mi id="algorithm1.48.48.m1.1.1.3.3.2.3.3" xref="algorithm1.48.48.m1.1.1.3.3.2.3.3.cmml">𝒅</mi><mo id="algorithm1.48.48.m1.1.1.3.3.2.3.1a" xref="algorithm1.48.48.m1.1.1.3.3.2.3.1.cmml">⁢</mo><mi id="algorithm1.48.48.m1.1.1.3.3.2.3.4" xref="algorithm1.48.48.m1.1.1.3.3.2.3.4.cmml">𝒗</mi></mrow><mrow id="algorithm1.48.48.m1.1.1.3.3a" xref="algorithm1.48.48.m1.1.1.3.3.cmml"></mrow><mi id="algorithm1.48.48.m1.1.1.3.3.3" xref="algorithm1.48.48.m1.1.1.3.3.3.cmml">j</mi><mrow id="algorithm1.48.48.m1.1.1.3.3b" xref="algorithm1.48.48.m1.1.1.3.3.cmml"></mrow></mmultiscripts></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.48.48.m1.1b"><apply id="algorithm1.48.48.m1.1.1.cmml" xref="algorithm1.48.48.m1.1.1"><ci id="algorithm1.48.48.m1.1.1.1.cmml" xref="algorithm1.48.48.m1.1.1.1">:</ci><apply id="algorithm1.48.48.m1.1.1.2.cmml" xref="algorithm1.48.48.m1.1.1.2"><times id="algorithm1.48.48.m1.1.1.2.1.cmml" xref="algorithm1.48.48.m1.1.1.2.1"></times><ci id="algorithm1.48.48.m1.1.1.2.2.cmml" xref="algorithm1.48.48.m1.1.1.2.2">𝑫</ci><ci id="algorithm1.48.48.m1.1.1.2.3.cmml" xref="algorithm1.48.48.m1.1.1.2.3">𝒐</ci><ci id="algorithm1.48.48.m1.1.1.2.4.cmml" xref="algorithm1.48.48.m1.1.1.2.4">𝒄</ci><ci id="algorithm1.48.48.m1.1.1.2.5.cmml" xref="algorithm1.48.48.m1.1.1.2.5">𝒔</ci></apply><apply id="algorithm1.48.48.m1.1.1.3.cmml" xref="algorithm1.48.48.m1.1.1.3"><ci id="algorithm1.48.48.m1.1.1.3.1.cmml" xref="algorithm1.48.48.m1.1.1.3.1">←</ci><apply id="algorithm1.48.48.m1.1.1.3.2.cmml" xref="algorithm1.48.48.m1.1.1.3.2"><csymbol cd="ambiguous" id="algorithm1.48.48.m1.1.1.3.2.1.cmml" xref="algorithm1.48.48.m1.1.1.3.2">subscript</csymbol><apply id="algorithm1.48.48.m1.1.1.3.2.2.cmml" xref="algorithm1.48.48.m1.1.1.3.2"><csymbol cd="ambiguous" id="algorithm1.48.48.m1.1.1.3.2.2.1.cmml" xref="algorithm1.48.48.m1.1.1.3.2">subscript</csymbol><ci id="algorithm1.48.48.m1.1.1.3.2.2.2.cmml" xref="algorithm1.48.48.m1.1.1.3.2.2.2">𝒅</ci><ci id="algorithm1.48.48.m1.1.1.3.2.2.3.cmml" xref="algorithm1.48.48.m1.1.1.3.2.2.3">𝒕</ci></apply><ci id="algorithm1.48.48.m1.1.1.3.2.3.cmml" xref="algorithm1.48.48.m1.1.1.3.2.3">𝑗</ci></apply><apply id="algorithm1.48.48.m1.1.1.3.3.cmml" xref="algorithm1.48.48.m1.1.1.3.3"><csymbol cd="ambiguous" id="algorithm1.48.48.m1.1.1.3.3.1.cmml" xref="algorithm1.48.48.m1.1.1.3.3">subscript</csymbol><apply id="algorithm1.48.48.m1.1.1.3.3.2.cmml" xref="algorithm1.48.48.m1.1.1.3.3"><csymbol cd="ambiguous" id="algorithm1.48.48.m1.1.1.3.3.2.1.cmml" xref="algorithm1.48.48.m1.1.1.3.3">subscript</csymbol><ci id="algorithm1.48.48.m1.1.1.3.3.2.2.cmml" xref="algorithm1.48.48.m1.1.1.3.3.2.2">𝒅</ci><apply id="algorithm1.48.48.m1.1.1.3.3.2.3.cmml" xref="algorithm1.48.48.m1.1.1.3.3.2.3"><times id="algorithm1.48.48.m1.1.1.3.3.2.3.1.cmml" xref="algorithm1.48.48.m1.1.1.3.3.2.3.1"></times><ci id="algorithm1.48.48.m1.1.1.3.3.2.3.2.cmml" xref="algorithm1.48.48.m1.1.1.3.3.2.3.2">𝒂</ci><ci id="algorithm1.48.48.m1.1.1.3.3.2.3.3.cmml" xref="algorithm1.48.48.m1.1.1.3.3.2.3.3">𝒅</ci><ci id="algorithm1.48.48.m1.1.1.3.3.2.3.4.cmml" xref="algorithm1.48.48.m1.1.1.3.3.2.3.4">𝒗</ci></apply></apply><ci id="algorithm1.48.48.m1.1.1.3.3.3.cmml" xref="algorithm1.48.48.m1.1.1.3.3.3">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.48.48.m1.1c">\boldsymbol{Docs}:\boldsymbol{d_{t}}_{j}\leftarrow\boldsymbol{d_{adv}}_{j}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.48.48.m1.1d">bold_italic_D bold_italic_o bold_italic_c bold_italic_s : bold_italic_d start_POSTSUBSCRIPT bold_italic_t end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ← bold_italic_d start_POSTSUBSCRIPT bold_italic_a bold_italic_d bold_italic_v end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> <span class="ltx_text ltx_font_typewriter" id="algorithm1.48.48.1">// </span><span class="ltx_text ltx_font_typewriter" id="algorithm1.48.48.2">Replace </span>
</div>
<div class="ltx_listingline" id="algorithm1.51.61">
<span class="ltx_tag ltx_tag_listingline">26</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="algorithm1.50.50">
<span class="ltx_tag ltx_tag_listingline">27</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math alttext="\boldsymbol{Res}\leftarrow" class="ltx_Math" display="inline" id="algorithm1.49.49.m1.1"><semantics id="algorithm1.49.49.m1.1a"><mrow id="algorithm1.49.49.m1.1.1" xref="algorithm1.49.49.m1.1.1.cmml"><mrow id="algorithm1.49.49.m1.1.1.2" xref="algorithm1.49.49.m1.1.1.2.cmml"><mi id="algorithm1.49.49.m1.1.1.2.2" xref="algorithm1.49.49.m1.1.1.2.2.cmml">𝑹</mi><mo id="algorithm1.49.49.m1.1.1.2.1" xref="algorithm1.49.49.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.49.49.m1.1.1.2.3" xref="algorithm1.49.49.m1.1.1.2.3.cmml">𝒆</mi><mo id="algorithm1.49.49.m1.1.1.2.1a" xref="algorithm1.49.49.m1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.49.49.m1.1.1.2.4" xref="algorithm1.49.49.m1.1.1.2.4.cmml">𝒔</mi></mrow><mo id="algorithm1.49.49.m1.1.1.1" stretchy="false" xref="algorithm1.49.49.m1.1.1.1.cmml">←</mo><mi id="algorithm1.49.49.m1.1.1.3" xref="algorithm1.49.49.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.49.49.m1.1b"><apply id="algorithm1.49.49.m1.1.1.cmml" xref="algorithm1.49.49.m1.1.1"><ci id="algorithm1.49.49.m1.1.1.1.cmml" xref="algorithm1.49.49.m1.1.1.1">←</ci><apply id="algorithm1.49.49.m1.1.1.2.cmml" xref="algorithm1.49.49.m1.1.1.2"><times id="algorithm1.49.49.m1.1.1.2.1.cmml" xref="algorithm1.49.49.m1.1.1.2.1"></times><ci id="algorithm1.49.49.m1.1.1.2.2.cmml" xref="algorithm1.49.49.m1.1.1.2.2">𝑹</ci><ci id="algorithm1.49.49.m1.1.1.2.3.cmml" xref="algorithm1.49.49.m1.1.1.2.3">𝒆</ci><ci id="algorithm1.49.49.m1.1.1.2.4.cmml" xref="algorithm1.49.49.m1.1.1.2.4">𝒔</ci></apply><csymbol cd="latexml" id="algorithm1.49.49.m1.1.1.3.cmml" xref="algorithm1.49.49.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.49.49.m1.1c">\boldsymbol{Res}\leftarrow</annotation><annotation encoding="application/x-llamapun" id="algorithm1.49.49.m1.1d">bold_italic_R bold_italic_e bold_italic_s ←</annotation></semantics></math> <math alttext="\textit{RAG}_{\text{black}}(\boldsymbol{q}_{m};\boldsymbol{Docs})" class="ltx_Math" display="inline" id="algorithm1.50.50.m2.2"><semantics id="algorithm1.50.50.m2.2a"><mrow id="algorithm1.50.50.m2.2.2" xref="algorithm1.50.50.m2.2.2.cmml"><msub id="algorithm1.50.50.m2.2.2.4" xref="algorithm1.50.50.m2.2.2.4.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm1.50.50.m2.2.2.4.2" xref="algorithm1.50.50.m2.2.2.4.2a.cmml">RAG</mtext><mtext id="algorithm1.50.50.m2.2.2.4.3" xref="algorithm1.50.50.m2.2.2.4.3a.cmml">black</mtext></msub><mo id="algorithm1.50.50.m2.2.2.3" xref="algorithm1.50.50.m2.2.2.3.cmml">⁢</mo><mrow id="algorithm1.50.50.m2.2.2.2.2" xref="algorithm1.50.50.m2.2.2.2.3.cmml"><mo id="algorithm1.50.50.m2.2.2.2.2.3" stretchy="false" xref="algorithm1.50.50.m2.2.2.2.3.cmml">(</mo><msub id="algorithm1.50.50.m2.1.1.1.1.1" xref="algorithm1.50.50.m2.1.1.1.1.1.cmml"><mi id="algorithm1.50.50.m2.1.1.1.1.1.2" xref="algorithm1.50.50.m2.1.1.1.1.1.2.cmml">𝒒</mi><mi id="algorithm1.50.50.m2.1.1.1.1.1.3" xref="algorithm1.50.50.m2.1.1.1.1.1.3.cmml">m</mi></msub><mo id="algorithm1.50.50.m2.2.2.2.2.4" xref="algorithm1.50.50.m2.2.2.2.3.cmml">;</mo><mrow id="algorithm1.50.50.m2.2.2.2.2.2" xref="algorithm1.50.50.m2.2.2.2.2.2.cmml"><mi id="algorithm1.50.50.m2.2.2.2.2.2.2" xref="algorithm1.50.50.m2.2.2.2.2.2.2.cmml">𝑫</mi><mo id="algorithm1.50.50.m2.2.2.2.2.2.1" xref="algorithm1.50.50.m2.2.2.2.2.2.1.cmml">⁢</mo><mi id="algorithm1.50.50.m2.2.2.2.2.2.3" xref="algorithm1.50.50.m2.2.2.2.2.2.3.cmml">𝒐</mi><mo id="algorithm1.50.50.m2.2.2.2.2.2.1a" xref="algorithm1.50.50.m2.2.2.2.2.2.1.cmml">⁢</mo><mi id="algorithm1.50.50.m2.2.2.2.2.2.4" xref="algorithm1.50.50.m2.2.2.2.2.2.4.cmml">𝒄</mi><mo id="algorithm1.50.50.m2.2.2.2.2.2.1b" xref="algorithm1.50.50.m2.2.2.2.2.2.1.cmml">⁢</mo><mi id="algorithm1.50.50.m2.2.2.2.2.2.5" xref="algorithm1.50.50.m2.2.2.2.2.2.5.cmml">𝒔</mi></mrow><mo id="algorithm1.50.50.m2.2.2.2.2.5" stretchy="false" xref="algorithm1.50.50.m2.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.50.50.m2.2b"><apply id="algorithm1.50.50.m2.2.2.cmml" xref="algorithm1.50.50.m2.2.2"><times id="algorithm1.50.50.m2.2.2.3.cmml" xref="algorithm1.50.50.m2.2.2.3"></times><apply id="algorithm1.50.50.m2.2.2.4.cmml" xref="algorithm1.50.50.m2.2.2.4"><csymbol cd="ambiguous" id="algorithm1.50.50.m2.2.2.4.1.cmml" xref="algorithm1.50.50.m2.2.2.4">subscript</csymbol><ci id="algorithm1.50.50.m2.2.2.4.2a.cmml" xref="algorithm1.50.50.m2.2.2.4.2"><mtext class="ltx_mathvariant_italic" id="algorithm1.50.50.m2.2.2.4.2.cmml" xref="algorithm1.50.50.m2.2.2.4.2">RAG</mtext></ci><ci id="algorithm1.50.50.m2.2.2.4.3a.cmml" xref="algorithm1.50.50.m2.2.2.4.3"><mtext id="algorithm1.50.50.m2.2.2.4.3.cmml" mathsize="70%" xref="algorithm1.50.50.m2.2.2.4.3">black</mtext></ci></apply><list id="algorithm1.50.50.m2.2.2.2.3.cmml" xref="algorithm1.50.50.m2.2.2.2.2"><apply id="algorithm1.50.50.m2.1.1.1.1.1.cmml" xref="algorithm1.50.50.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.50.50.m2.1.1.1.1.1.1.cmml" xref="algorithm1.50.50.m2.1.1.1.1.1">subscript</csymbol><ci id="algorithm1.50.50.m2.1.1.1.1.1.2.cmml" xref="algorithm1.50.50.m2.1.1.1.1.1.2">𝒒</ci><ci id="algorithm1.50.50.m2.1.1.1.1.1.3.cmml" xref="algorithm1.50.50.m2.1.1.1.1.1.3">𝑚</ci></apply><apply id="algorithm1.50.50.m2.2.2.2.2.2.cmml" xref="algorithm1.50.50.m2.2.2.2.2.2"><times id="algorithm1.50.50.m2.2.2.2.2.2.1.cmml" xref="algorithm1.50.50.m2.2.2.2.2.2.1"></times><ci id="algorithm1.50.50.m2.2.2.2.2.2.2.cmml" xref="algorithm1.50.50.m2.2.2.2.2.2.2">𝑫</ci><ci id="algorithm1.50.50.m2.2.2.2.2.2.3.cmml" xref="algorithm1.50.50.m2.2.2.2.2.2.3">𝒐</ci><ci id="algorithm1.50.50.m2.2.2.2.2.2.4.cmml" xref="algorithm1.50.50.m2.2.2.2.2.2.4">𝒄</ci><ci id="algorithm1.50.50.m2.2.2.2.2.2.5.cmml" xref="algorithm1.50.50.m2.2.2.2.2.2.5">𝒔</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.50.50.m2.2c">\textit{RAG}_{\text{black}}(\boldsymbol{q}_{m};\boldsymbol{Docs})</annotation><annotation encoding="application/x-llamapun" id="algorithm1.50.50.m2.2d">RAG start_POSTSUBSCRIPT black end_POSTSUBSCRIPT ( bold_italic_q start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ; bold_italic_D bold_italic_o bold_italic_c bold_italic_s )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.51.62">
<span class="ltx_tag ltx_tag_listingline">28</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="algorithm1.51.51">
<span class="ltx_tag ltx_tag_listingline">29</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span class="ltx_text ltx_font_bold" id="algorithm1.51.51.2">return</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.51.51.1"><math alttext="\boldsymbol{Res}" class="ltx_Math" display="inline" id="algorithm1.51.51.1.m1.1"><semantics id="algorithm1.51.51.1.m1.1a"><mrow id="algorithm1.51.51.1.m1.1.1" xref="algorithm1.51.51.1.m1.1.1.cmml"><mi id="algorithm1.51.51.1.m1.1.1.2" xref="algorithm1.51.51.1.m1.1.1.2.cmml">𝐑</mi><mo id="algorithm1.51.51.1.m1.1.1.1" xref="algorithm1.51.51.1.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.51.51.1.m1.1.1.3" xref="algorithm1.51.51.1.m1.1.1.3.cmml">𝐞</mi><mo id="algorithm1.51.51.1.m1.1.1.1a" xref="algorithm1.51.51.1.m1.1.1.1.cmml">⁢</mo><mi id="algorithm1.51.51.1.m1.1.1.4" xref="algorithm1.51.51.1.m1.1.1.4.cmml">𝐬</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.51.51.1.m1.1b"><apply id="algorithm1.51.51.1.m1.1.1.cmml" xref="algorithm1.51.51.1.m1.1.1"><times id="algorithm1.51.51.1.m1.1.1.1.cmml" xref="algorithm1.51.51.1.m1.1.1.1"></times><ci id="algorithm1.51.51.1.m1.1.1.2.cmml" xref="algorithm1.51.51.1.m1.1.1.2">𝐑</ci><ci id="algorithm1.51.51.1.m1.1.1.3.cmml" xref="algorithm1.51.51.1.m1.1.1.3">𝐞</ci><ci id="algorithm1.51.51.1.m1.1.1.4.cmml" xref="algorithm1.51.51.1.m1.1.1.4">𝐬</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.51.51.1.m1.1c">\boldsymbol{Res}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.51.51.1.m1.1d">bold_italic_R bold_italic_e bold_italic_s</annotation></semantics></math></em>
</div>
<div class="ltx_listingline" id="algorithm1.51.63">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="algorithm1.53.1.1">Algorithm 1</span> </span>Opinion Manipulation Strategy for black-box RAG</figcaption>
</figure>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiment and Analysis</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.3">After imitating the retrieval model of <math alttext="\text{RAG}_{\text{black}}" class="ltx_Math" display="inline" id="S4.p1.1.m1.1"><semantics id="S4.p1.1.m1.1a"><msub id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml"><mtext id="S4.p1.1.m1.1.1.2" xref="S4.p1.1.m1.1.1.2a.cmml">RAG</mtext><mtext id="S4.p1.1.m1.1.1.3" xref="S4.p1.1.m1.1.1.3a.cmml">black</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><apply id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p1.1.m1.1.1.1.cmml" xref="S4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.p1.1.m1.1.1.2a.cmml" xref="S4.p1.1.m1.1.1.2"><mtext id="S4.p1.1.m1.1.1.2.cmml" xref="S4.p1.1.m1.1.1.2">RAG</mtext></ci><ci id="S4.p1.1.m1.1.1.3a.cmml" xref="S4.p1.1.m1.1.1.3"><mtext id="S4.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S4.p1.1.m1.1.1.3">black</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">\text{RAG}_{\text{black}}</annotation><annotation encoding="application/x-llamapun" id="S4.p1.1.m1.1d">RAG start_POSTSUBSCRIPT black end_POSTSUBSCRIPT</annotation></semantics></math> to obtain the surrogate model, this paper first compares the ranking ability of the surrogate model <math alttext="M_{i}" class="ltx_Math" display="inline" id="S4.p1.2.m2.1"><semantics id="S4.p1.2.m2.1a"><msub id="S4.p1.2.m2.1.1" xref="S4.p1.2.m2.1.1.cmml"><mi id="S4.p1.2.m2.1.1.2" xref="S4.p1.2.m2.1.1.2.cmml">M</mi><mi id="S4.p1.2.m2.1.1.3" xref="S4.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.p1.2.m2.1b"><apply id="S4.p1.2.m2.1.1.cmml" xref="S4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.p1.2.m2.1.1.1.cmml" xref="S4.p1.2.m2.1.1">subscript</csymbol><ci id="S4.p1.2.m2.1.1.2.cmml" xref="S4.p1.2.m2.1.1.2">𝑀</ci><ci id="S4.p1.2.m2.1.1.3.cmml" xref="S4.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.2.m2.1c">M_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.p1.2.m2.1d">italic_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and the target retrieval model <math alttext="RM" class="ltx_Math" display="inline" id="S4.p1.3.m3.1"><semantics id="S4.p1.3.m3.1a"><mrow id="S4.p1.3.m3.1.1" xref="S4.p1.3.m3.1.1.cmml"><mi id="S4.p1.3.m3.1.1.2" xref="S4.p1.3.m3.1.1.2.cmml">R</mi><mo id="S4.p1.3.m3.1.1.1" xref="S4.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.p1.3.m3.1.1.3" xref="S4.p1.3.m3.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.3.m3.1b"><apply id="S4.p1.3.m3.1.1.cmml" xref="S4.p1.3.m3.1.1"><times id="S4.p1.3.m3.1.1.1.cmml" xref="S4.p1.3.m3.1.1.1"></times><ci id="S4.p1.3.m3.1.1.2.cmml" xref="S4.p1.3.m3.1.1.2">𝑅</ci><ci id="S4.p1.3.m3.1.1.3.cmml" xref="S4.p1.3.m3.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.3.m3.1c">RM</annotation><annotation encoding="application/x-llamapun" id="S4.p1.3.m3.1d">italic_R italic_M</annotation></semantics></math>, as well as the similarity of their ranking results, as shown in Table 1, to ensure that the surrogate model has learned the capabilities of the black-box retrieval model.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Comparison(%) of ranking results between the surrogate model and the target retrieval model(based on the target retrieval model)</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S4.T1.1.1.1.1">Model</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S4.T1.1.1.1.2">MRR@10</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S4.T1.1.1.1.3">NDCG@10</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S4.T1.1.1.1.4">Inter@10</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S4.T1.1.1.1.5">RBO@10</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.1.2.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.1.2.1.1">Target retrieval model</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.1.2.1.2">87.07</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.1.2.1.3">68.16</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.1.2.1.4">–</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.1.2.1.5">–</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T1.1.3.2.1">Surrogate model</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T1.1.3.2.2">87.98</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T1.1.3.2.3">73.73</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T1.1.3.2.4">62.32</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T1.1.3.2.5">48.66</td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="S4.p2">
<p class="ltx_p" id="S4.p2.1">This paper uses Mean Reciprocal Rank (MRR) and Normalized Discounted Cumulative Gain (NDCG) to reflect the ranking ability of the models themselves; higher values indicate stronger ranking ability in terms of relevance. Inter Ranking Similarity (Inter) and Rank Biased Overlap (RBO) are used to measure the similarity between the ranking results of the surrogate model and the target retrieval model; higher values indicate better performance of the black-box imitation. The weight for RBO@10 is set to 0.7. In Table 1, “–” indicates that the metric is not applicable to the model.</p>
</div>
<div class="ltx_para" id="S4.p3">
<p class="ltx_p" id="S4.p3.1">As can be seen from Table 1, the surrogate model <math alttext="M_{i}" class="ltx_Math" display="inline" id="S4.p3.1.m1.1"><semantics id="S4.p3.1.m1.1a"><msub id="S4.p3.1.m1.1.1" xref="S4.p3.1.m1.1.1.cmml"><mi id="S4.p3.1.m1.1.1.2" xref="S4.p3.1.m1.1.1.2.cmml">M</mi><mi id="S4.p3.1.m1.1.1.3" xref="S4.p3.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.p3.1.m1.1b"><apply id="S4.p3.1.m1.1.1.cmml" xref="S4.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p3.1.m1.1.1.1.cmml" xref="S4.p3.1.m1.1.1">subscript</csymbol><ci id="S4.p3.1.m1.1.1.2.cmml" xref="S4.p3.1.m1.1.1.2">𝑀</ci><ci id="S4.p3.1.m1.1.1.3.cmml" xref="S4.p3.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.1.m1.1c">M_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.p3.1.m1.1d">italic_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> trained by black-box imitation is similar to the target retrieval model coCondenser in terms of relevance ranking performance and ranking results, validating the effectiveness of the black-box imitation.</p>
</div>
<div class="ltx_para" id="S4.p4">
<p class="ltx_p" id="S4.p4.4">After the black-box imitation training, the white-box surrogate model is conducted with opinion manipulation experiments. Several controversial topics and their opinion text data under the four themes of "Government", "Education", "Society", and "Health" from the PROCON.ORG data are selected as the retrieval corpus. The original retrieval corpus is denoted as <span class="ltx_text ltx_font_italic" id="S4.p4.4.1">Docs<sub class="ltx_sub" id="S4.p4.4.1.1">origin</sub></span>. Based on the surrogate model, we generate the corresponding <span class="ltx_text ltx_font_italic" id="S4.p4.4.2">T<sub class="ltx_sub" id="S4.p4.4.2.1">pat</sub></span> for the candidate items with the expected opinion <math alttext="S_{t}" class="ltx_Math" display="inline" id="S4.p4.1.m1.1"><semantics id="S4.p4.1.m1.1a"><msub id="S4.p4.1.m1.1.1" xref="S4.p4.1.m1.1.1.cmml"><mi id="S4.p4.1.m1.1.1.2" xref="S4.p4.1.m1.1.1.2.cmml">S</mi><mi id="S4.p4.1.m1.1.1.3" xref="S4.p4.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.p4.1.m1.1b"><apply id="S4.p4.1.m1.1.1.cmml" xref="S4.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p4.1.m1.1.1.1.cmml" xref="S4.p4.1.m1.1.1">subscript</csymbol><ci id="S4.p4.1.m1.1.1.2.cmml" xref="S4.p4.1.m1.1.1.2">𝑆</ci><ci id="S4.p4.1.m1.1.1.3.cmml" xref="S4.p4.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.1.m1.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.p4.1.m1.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> on controversial topics, and then insert <span class="ltx_text ltx_font_italic" id="S4.p4.4.3">T<sub class="ltx_sub" id="S4.p4.4.3.1">pat</sub></span> at the beginning of the target candidate items to obtain the perturbed retrieval corpus <span class="ltx_text ltx_font_italic" id="S4.p4.4.4">Docs<sub class="ltx_sub" id="S4.p4.4.4.1">adv</sub></span>. Query <span class="ltx_text" id="S4.p4.4.5">RAG<sub class="ltx_sub" id="S4.p4.4.5.1">black</sub></span> twice on controversial topics: once with <span class="ltx_text ltx_font_italic" id="S4.p4.4.6">Docs<sub class="ltx_sub" id="S4.p4.4.6.1">origin</sub></span> as the retrieval corpus, and once with <span class="ltx_text ltx_font_italic" id="S4.p4.4.7">Docs<sub class="ltx_sub" id="S4.p4.4.7.1">adv</sub></span> as the retrieval corpus, and obtain the two responses of <span class="ltx_text" id="S4.p4.4.8">RAG</span>, representing the answers before and after opinion manipulation. The responses are then classified into three categories based on their opinion on controversial topics: opposing, neutral, and supporting, represented by 0, 1, and 2, respectively, as the opinion scores of the generated responses. This study uses Average Stance Variation (ASV) to represent the average increase of opinion scores of RAG<sub class="ltx_sub" id="S4.p4.4.9">black</sub> responses in the direction of the expected opinion <math alttext="S_{t}" class="ltx_Math" display="inline" id="S4.p4.2.m2.1"><semantics id="S4.p4.2.m2.1a"><msub id="S4.p4.2.m2.1.1" xref="S4.p4.2.m2.1.1.cmml"><mi id="S4.p4.2.m2.1.1.2" xref="S4.p4.2.m2.1.1.2.cmml">S</mi><mi id="S4.p4.2.m2.1.1.3" xref="S4.p4.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.p4.2.m2.1b"><apply id="S4.p4.2.m2.1.1.cmml" xref="S4.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S4.p4.2.m2.1.1.1.cmml" xref="S4.p4.2.m2.1.1">subscript</csymbol><ci id="S4.p4.2.m2.1.1.2.cmml" xref="S4.p4.2.m2.1.1.2">𝑆</ci><ci id="S4.p4.2.m2.1.1.3.cmml" xref="S4.p4.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.2.m2.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.p4.2.m2.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> before and after manipulation. A positive ASV indicates that the opinion manipulation towards <math alttext="S_{t}" class="ltx_Math" display="inline" id="S4.p4.3.m3.1"><semantics id="S4.p4.3.m3.1a"><msub id="S4.p4.3.m3.1.1" xref="S4.p4.3.m3.1.1.cmml"><mi id="S4.p4.3.m3.1.1.2" xref="S4.p4.3.m3.1.1.2.cmml">S</mi><mi id="S4.p4.3.m3.1.1.3" xref="S4.p4.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.p4.3.m3.1b"><apply id="S4.p4.3.m3.1.1.cmml" xref="S4.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S4.p4.3.m3.1.1.1.cmml" xref="S4.p4.3.m3.1.1">subscript</csymbol><ci id="S4.p4.3.m3.1.1.2.cmml" xref="S4.p4.3.m3.1.1.2">𝑆</ci><ci id="S4.p4.3.m3.1.1.3.cmml" xref="S4.p4.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.3.m3.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.p4.3.m3.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is effective, while a negative ASV indicates that the manipulation actually makes the opinions of RAG responses deviate from <math alttext="S_{t}" class="ltx_Math" display="inline" id="S4.p4.4.m4.1"><semantics id="S4.p4.4.m4.1a"><msub id="S4.p4.4.m4.1.1" xref="S4.p4.4.m4.1.1.cmml"><mi id="S4.p4.4.m4.1.1.2" xref="S4.p4.4.m4.1.1.2.cmml">S</mi><mi id="S4.p4.4.m4.1.1.3" xref="S4.p4.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.p4.4.m4.1b"><apply id="S4.p4.4.m4.1.1.cmml" xref="S4.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S4.p4.4.m4.1.1.1.cmml" xref="S4.p4.4.m4.1.1">subscript</csymbol><ci id="S4.p4.4.m4.1.1.2.cmml" xref="S4.p4.4.m4.1.1.2">𝑆</ci><ci id="S4.p4.4.m4.1.1.3.cmml" xref="S4.p4.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.4.m4.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.p4.4.m4.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. The larger the ASV value, the more successful the opinion manipulation of RAG responses. Additionally, this paper attempts to obtain the ranking results of the retriever coCondenser to evaluate the effectiveness of the adversarial retrieval manipulation strategy at the ranking stage for dense retrieval. This evaluation is solely for assessment purposes and is not involved in manipulation, as no internal knowledge of RAG<sub class="ltx_sub" id="S4.p4.4.10">black</sub> was leaked during the manipulation process.</p>
</div>
<div class="ltx_para" id="S4.p5">
<p class="ltx_p" id="S4.p5.1">After obtaining the ranking results of the retriever model coCondenser, this paper evaluates the manipulation effect with Attack Success Rate (ASR), the average proportion of target opinions in the Top 3 rankings before and after manipulation (Top3<sub class="ltx_sub" id="S4.p5.1.1">origin</sub>, Top3<sub class="ltx_sub" id="S4.p5.1.2">attacked</sub>), and the Variation of Normalized Discounted Cumulative Gain (VoN-DCG). Higher values of ASR and Vo-NDCG indicate better manipulation effects on ranking, and a larger difference between Top3<sub class="ltx_sub" id="S4.p5.1.3">attacked</sub> and Top3<sub class="ltx_sub" id="S4.p5.1.4">origin</sub> signifies more significant ranking manipulation effects, too.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>Manipulation results of <math alttext="RAG\textsubscript{black}" class="ltx_Math" display="inline" id="S4.T2.2.m1.1"><semantics id="S4.T2.2.m1.1b"><mrow id="S4.T2.2.m1.1.1" xref="S4.T2.2.m1.1.1.cmml"><mi id="S4.T2.2.m1.1.1.2" xref="S4.T2.2.m1.1.1.2.cmml">R</mi><mo id="S4.T2.2.m1.1.1.1" xref="S4.T2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.2.m1.1.1.3" xref="S4.T2.2.m1.1.1.3.cmml">A</mi><mo id="S4.T2.2.m1.1.1.1b" xref="S4.T2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.2.m1.1.1.4" xref="S4.T2.2.m1.1.1.4.cmml">G</mi><mo id="S4.T2.2.m1.1.1.1c" xref="S4.T2.2.m1.1.1.1.cmml">⁢</mo><mtext id="S4.T2.2.m1.1.1.5" xref="S4.T2.2.m1.1.1.5b.cmml"><sub class="ltx_sub" id="S4.T2.2.m1.1.1.5.1nest">black</sub></mtext></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.2.m1.1c"><apply id="S4.T2.2.m1.1.1.cmml" xref="S4.T2.2.m1.1.1"><times id="S4.T2.2.m1.1.1.1.cmml" xref="S4.T2.2.m1.1.1.1"></times><ci id="S4.T2.2.m1.1.1.2.cmml" xref="S4.T2.2.m1.1.1.2">𝑅</ci><ci id="S4.T2.2.m1.1.1.3.cmml" xref="S4.T2.2.m1.1.1.3">𝐴</ci><ci id="S4.T2.2.m1.1.1.4.cmml" xref="S4.T2.2.m1.1.1.4">𝐺</ci><ci id="S4.T2.2.m1.1.1.5b.cmml" xref="S4.T2.2.m1.1.1.5"><mtext id="S4.T2.2.m1.1.1.5.cmml" xref="S4.T2.2.m1.1.1.5"><sub class="ltx_sub" id="S4.T2.2.m1.1.1.5.1anest">black</sub></mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.m1.1d">RAG\textsubscript{black}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.m1.1e">italic_R italic_A italic_G</annotation></semantics></math> ranking and response opinion</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T2.8">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.8.7.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T2.8.7.1.1">Model</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S4.T2.8.7.1.2">CoCondenser Ranking</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.8.7.1.3">Qwen1.5-14b</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.8.7.1.4">LLAMA3-8b</th>
</tr>
<tr class="ltx_tr" id="S4.T2.8.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row" id="S4.T2.8.6.7">Topic</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T2.3.1.1"><math alttext="ASR" class="ltx_Math" display="inline" id="S4.T2.3.1.1.m1.1"><semantics id="S4.T2.3.1.1.m1.1a"><mrow id="S4.T2.3.1.1.m1.1.1" xref="S4.T2.3.1.1.m1.1.1.cmml"><mi id="S4.T2.3.1.1.m1.1.1.2" xref="S4.T2.3.1.1.m1.1.1.2.cmml">A</mi><mo id="S4.T2.3.1.1.m1.1.1.1" xref="S4.T2.3.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.3.1.1.m1.1.1.3" xref="S4.T2.3.1.1.m1.1.1.3.cmml">S</mi><mo id="S4.T2.3.1.1.m1.1.1.1a" xref="S4.T2.3.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.3.1.1.m1.1.1.4" xref="S4.T2.3.1.1.m1.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.3.1.1.m1.1b"><apply id="S4.T2.3.1.1.m1.1.1.cmml" xref="S4.T2.3.1.1.m1.1.1"><times id="S4.T2.3.1.1.m1.1.1.1.cmml" xref="S4.T2.3.1.1.m1.1.1.1"></times><ci id="S4.T2.3.1.1.m1.1.1.2.cmml" xref="S4.T2.3.1.1.m1.1.1.2">𝐴</ci><ci id="S4.T2.3.1.1.m1.1.1.3.cmml" xref="S4.T2.3.1.1.m1.1.1.3">𝑆</ci><ci id="S4.T2.3.1.1.m1.1.1.4.cmml" xref="S4.T2.3.1.1.m1.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.1.1.m1.1c">ASR</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.1.1.m1.1d">italic_A italic_S italic_R</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T2.4.2.2"><math alttext="Top3_{o}rigin" class="ltx_Math" display="inline" id="S4.T2.4.2.2.m1.1"><semantics id="S4.T2.4.2.2.m1.1a"><mrow id="S4.T2.4.2.2.m1.1.1" xref="S4.T2.4.2.2.m1.1.1.cmml"><mi id="S4.T2.4.2.2.m1.1.1.2" xref="S4.T2.4.2.2.m1.1.1.2.cmml">T</mi><mo id="S4.T2.4.2.2.m1.1.1.1" xref="S4.T2.4.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.4.2.2.m1.1.1.3" xref="S4.T2.4.2.2.m1.1.1.3.cmml">o</mi><mo id="S4.T2.4.2.2.m1.1.1.1a" xref="S4.T2.4.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.4.2.2.m1.1.1.4" xref="S4.T2.4.2.2.m1.1.1.4.cmml">p</mi><mo id="S4.T2.4.2.2.m1.1.1.1b" xref="S4.T2.4.2.2.m1.1.1.1.cmml">⁢</mo><msub id="S4.T2.4.2.2.m1.1.1.5" xref="S4.T2.4.2.2.m1.1.1.5.cmml"><mn id="S4.T2.4.2.2.m1.1.1.5.2" xref="S4.T2.4.2.2.m1.1.1.5.2.cmml">3</mn><mi id="S4.T2.4.2.2.m1.1.1.5.3" xref="S4.T2.4.2.2.m1.1.1.5.3.cmml">o</mi></msub><mo id="S4.T2.4.2.2.m1.1.1.1c" xref="S4.T2.4.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.4.2.2.m1.1.1.6" xref="S4.T2.4.2.2.m1.1.1.6.cmml">r</mi><mo id="S4.T2.4.2.2.m1.1.1.1d" xref="S4.T2.4.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.4.2.2.m1.1.1.7" xref="S4.T2.4.2.2.m1.1.1.7.cmml">i</mi><mo id="S4.T2.4.2.2.m1.1.1.1e" xref="S4.T2.4.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.4.2.2.m1.1.1.8" xref="S4.T2.4.2.2.m1.1.1.8.cmml">g</mi><mo id="S4.T2.4.2.2.m1.1.1.1f" xref="S4.T2.4.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.4.2.2.m1.1.1.9" xref="S4.T2.4.2.2.m1.1.1.9.cmml">i</mi><mo id="S4.T2.4.2.2.m1.1.1.1g" xref="S4.T2.4.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.4.2.2.m1.1.1.10" xref="S4.T2.4.2.2.m1.1.1.10.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.4.2.2.m1.1b"><apply id="S4.T2.4.2.2.m1.1.1.cmml" xref="S4.T2.4.2.2.m1.1.1"><times id="S4.T2.4.2.2.m1.1.1.1.cmml" xref="S4.T2.4.2.2.m1.1.1.1"></times><ci id="S4.T2.4.2.2.m1.1.1.2.cmml" xref="S4.T2.4.2.2.m1.1.1.2">𝑇</ci><ci id="S4.T2.4.2.2.m1.1.1.3.cmml" xref="S4.T2.4.2.2.m1.1.1.3">𝑜</ci><ci id="S4.T2.4.2.2.m1.1.1.4.cmml" xref="S4.T2.4.2.2.m1.1.1.4">𝑝</ci><apply id="S4.T2.4.2.2.m1.1.1.5.cmml" xref="S4.T2.4.2.2.m1.1.1.5"><csymbol cd="ambiguous" id="S4.T2.4.2.2.m1.1.1.5.1.cmml" xref="S4.T2.4.2.2.m1.1.1.5">subscript</csymbol><cn id="S4.T2.4.2.2.m1.1.1.5.2.cmml" type="integer" xref="S4.T2.4.2.2.m1.1.1.5.2">3</cn><ci id="S4.T2.4.2.2.m1.1.1.5.3.cmml" xref="S4.T2.4.2.2.m1.1.1.5.3">𝑜</ci></apply><ci id="S4.T2.4.2.2.m1.1.1.6.cmml" xref="S4.T2.4.2.2.m1.1.1.6">𝑟</ci><ci id="S4.T2.4.2.2.m1.1.1.7.cmml" xref="S4.T2.4.2.2.m1.1.1.7">𝑖</ci><ci id="S4.T2.4.2.2.m1.1.1.8.cmml" xref="S4.T2.4.2.2.m1.1.1.8">𝑔</ci><ci id="S4.T2.4.2.2.m1.1.1.9.cmml" xref="S4.T2.4.2.2.m1.1.1.9">𝑖</ci><ci id="S4.T2.4.2.2.m1.1.1.10.cmml" xref="S4.T2.4.2.2.m1.1.1.10">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.2.2.m1.1c">Top3_{o}rigin</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.2.2.m1.1d">italic_T italic_o italic_p 3 start_POSTSUBSCRIPT italic_o end_POSTSUBSCRIPT italic_r italic_i italic_g italic_i italic_n</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T2.5.3.3"><math alttext="Top3_{a}ttacked" class="ltx_Math" display="inline" id="S4.T2.5.3.3.m1.1"><semantics id="S4.T2.5.3.3.m1.1a"><mrow id="S4.T2.5.3.3.m1.1.1" xref="S4.T2.5.3.3.m1.1.1.cmml"><mi id="S4.T2.5.3.3.m1.1.1.2" xref="S4.T2.5.3.3.m1.1.1.2.cmml">T</mi><mo id="S4.T2.5.3.3.m1.1.1.1" xref="S4.T2.5.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.5.3.3.m1.1.1.3" xref="S4.T2.5.3.3.m1.1.1.3.cmml">o</mi><mo id="S4.T2.5.3.3.m1.1.1.1a" xref="S4.T2.5.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.5.3.3.m1.1.1.4" xref="S4.T2.5.3.3.m1.1.1.4.cmml">p</mi><mo id="S4.T2.5.3.3.m1.1.1.1b" xref="S4.T2.5.3.3.m1.1.1.1.cmml">⁢</mo><msub id="S4.T2.5.3.3.m1.1.1.5" xref="S4.T2.5.3.3.m1.1.1.5.cmml"><mn id="S4.T2.5.3.3.m1.1.1.5.2" xref="S4.T2.5.3.3.m1.1.1.5.2.cmml">3</mn><mi id="S4.T2.5.3.3.m1.1.1.5.3" xref="S4.T2.5.3.3.m1.1.1.5.3.cmml">a</mi></msub><mo id="S4.T2.5.3.3.m1.1.1.1c" xref="S4.T2.5.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.5.3.3.m1.1.1.6" xref="S4.T2.5.3.3.m1.1.1.6.cmml">t</mi><mo id="S4.T2.5.3.3.m1.1.1.1d" xref="S4.T2.5.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.5.3.3.m1.1.1.7" xref="S4.T2.5.3.3.m1.1.1.7.cmml">t</mi><mo id="S4.T2.5.3.3.m1.1.1.1e" xref="S4.T2.5.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.5.3.3.m1.1.1.8" xref="S4.T2.5.3.3.m1.1.1.8.cmml">a</mi><mo id="S4.T2.5.3.3.m1.1.1.1f" xref="S4.T2.5.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.5.3.3.m1.1.1.9" xref="S4.T2.5.3.3.m1.1.1.9.cmml">c</mi><mo id="S4.T2.5.3.3.m1.1.1.1g" xref="S4.T2.5.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.5.3.3.m1.1.1.10" xref="S4.T2.5.3.3.m1.1.1.10.cmml">k</mi><mo id="S4.T2.5.3.3.m1.1.1.1h" xref="S4.T2.5.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.5.3.3.m1.1.1.11" xref="S4.T2.5.3.3.m1.1.1.11.cmml">e</mi><mo id="S4.T2.5.3.3.m1.1.1.1i" xref="S4.T2.5.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.5.3.3.m1.1.1.12" xref="S4.T2.5.3.3.m1.1.1.12.cmml">d</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.5.3.3.m1.1b"><apply id="S4.T2.5.3.3.m1.1.1.cmml" xref="S4.T2.5.3.3.m1.1.1"><times id="S4.T2.5.3.3.m1.1.1.1.cmml" xref="S4.T2.5.3.3.m1.1.1.1"></times><ci id="S4.T2.5.3.3.m1.1.1.2.cmml" xref="S4.T2.5.3.3.m1.1.1.2">𝑇</ci><ci id="S4.T2.5.3.3.m1.1.1.3.cmml" xref="S4.T2.5.3.3.m1.1.1.3">𝑜</ci><ci id="S4.T2.5.3.3.m1.1.1.4.cmml" xref="S4.T2.5.3.3.m1.1.1.4">𝑝</ci><apply id="S4.T2.5.3.3.m1.1.1.5.cmml" xref="S4.T2.5.3.3.m1.1.1.5"><csymbol cd="ambiguous" id="S4.T2.5.3.3.m1.1.1.5.1.cmml" xref="S4.T2.5.3.3.m1.1.1.5">subscript</csymbol><cn id="S4.T2.5.3.3.m1.1.1.5.2.cmml" type="integer" xref="S4.T2.5.3.3.m1.1.1.5.2">3</cn><ci id="S4.T2.5.3.3.m1.1.1.5.3.cmml" xref="S4.T2.5.3.3.m1.1.1.5.3">𝑎</ci></apply><ci id="S4.T2.5.3.3.m1.1.1.6.cmml" xref="S4.T2.5.3.3.m1.1.1.6">𝑡</ci><ci id="S4.T2.5.3.3.m1.1.1.7.cmml" xref="S4.T2.5.3.3.m1.1.1.7">𝑡</ci><ci id="S4.T2.5.3.3.m1.1.1.8.cmml" xref="S4.T2.5.3.3.m1.1.1.8">𝑎</ci><ci id="S4.T2.5.3.3.m1.1.1.9.cmml" xref="S4.T2.5.3.3.m1.1.1.9">𝑐</ci><ci id="S4.T2.5.3.3.m1.1.1.10.cmml" xref="S4.T2.5.3.3.m1.1.1.10">𝑘</ci><ci id="S4.T2.5.3.3.m1.1.1.11.cmml" xref="S4.T2.5.3.3.m1.1.1.11">𝑒</ci><ci id="S4.T2.5.3.3.m1.1.1.12.cmml" xref="S4.T2.5.3.3.m1.1.1.12">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.3.3.m1.1c">Top3_{a}ttacked</annotation><annotation encoding="application/x-llamapun" id="S4.T2.5.3.3.m1.1d">italic_T italic_o italic_p 3 start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT italic_t italic_t italic_a italic_c italic_k italic_e italic_d</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T2.6.4.4"><math alttext="NDCG_{v}ariation" class="ltx_Math" display="inline" id="S4.T2.6.4.4.m1.1"><semantics id="S4.T2.6.4.4.m1.1a"><mrow id="S4.T2.6.4.4.m1.1.1" xref="S4.T2.6.4.4.m1.1.1.cmml"><mi id="S4.T2.6.4.4.m1.1.1.2" xref="S4.T2.6.4.4.m1.1.1.2.cmml">N</mi><mo id="S4.T2.6.4.4.m1.1.1.1" xref="S4.T2.6.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.6.4.4.m1.1.1.3" xref="S4.T2.6.4.4.m1.1.1.3.cmml">D</mi><mo id="S4.T2.6.4.4.m1.1.1.1a" xref="S4.T2.6.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.6.4.4.m1.1.1.4" xref="S4.T2.6.4.4.m1.1.1.4.cmml">C</mi><mo id="S4.T2.6.4.4.m1.1.1.1b" xref="S4.T2.6.4.4.m1.1.1.1.cmml">⁢</mo><msub id="S4.T2.6.4.4.m1.1.1.5" xref="S4.T2.6.4.4.m1.1.1.5.cmml"><mi id="S4.T2.6.4.4.m1.1.1.5.2" xref="S4.T2.6.4.4.m1.1.1.5.2.cmml">G</mi><mi id="S4.T2.6.4.4.m1.1.1.5.3" xref="S4.T2.6.4.4.m1.1.1.5.3.cmml">v</mi></msub><mo id="S4.T2.6.4.4.m1.1.1.1c" xref="S4.T2.6.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.6.4.4.m1.1.1.6" xref="S4.T2.6.4.4.m1.1.1.6.cmml">a</mi><mo id="S4.T2.6.4.4.m1.1.1.1d" xref="S4.T2.6.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.6.4.4.m1.1.1.7" xref="S4.T2.6.4.4.m1.1.1.7.cmml">r</mi><mo id="S4.T2.6.4.4.m1.1.1.1e" xref="S4.T2.6.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.6.4.4.m1.1.1.8" xref="S4.T2.6.4.4.m1.1.1.8.cmml">i</mi><mo id="S4.T2.6.4.4.m1.1.1.1f" xref="S4.T2.6.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.6.4.4.m1.1.1.9" xref="S4.T2.6.4.4.m1.1.1.9.cmml">a</mi><mo id="S4.T2.6.4.4.m1.1.1.1g" xref="S4.T2.6.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.6.4.4.m1.1.1.10" xref="S4.T2.6.4.4.m1.1.1.10.cmml">t</mi><mo id="S4.T2.6.4.4.m1.1.1.1h" xref="S4.T2.6.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.6.4.4.m1.1.1.11" xref="S4.T2.6.4.4.m1.1.1.11.cmml">i</mi><mo id="S4.T2.6.4.4.m1.1.1.1i" xref="S4.T2.6.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.6.4.4.m1.1.1.12" xref="S4.T2.6.4.4.m1.1.1.12.cmml">o</mi><mo id="S4.T2.6.4.4.m1.1.1.1j" xref="S4.T2.6.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.6.4.4.m1.1.1.13" xref="S4.T2.6.4.4.m1.1.1.13.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.6.4.4.m1.1b"><apply id="S4.T2.6.4.4.m1.1.1.cmml" xref="S4.T2.6.4.4.m1.1.1"><times id="S4.T2.6.4.4.m1.1.1.1.cmml" xref="S4.T2.6.4.4.m1.1.1.1"></times><ci id="S4.T2.6.4.4.m1.1.1.2.cmml" xref="S4.T2.6.4.4.m1.1.1.2">𝑁</ci><ci id="S4.T2.6.4.4.m1.1.1.3.cmml" xref="S4.T2.6.4.4.m1.1.1.3">𝐷</ci><ci id="S4.T2.6.4.4.m1.1.1.4.cmml" xref="S4.T2.6.4.4.m1.1.1.4">𝐶</ci><apply id="S4.T2.6.4.4.m1.1.1.5.cmml" xref="S4.T2.6.4.4.m1.1.1.5"><csymbol cd="ambiguous" id="S4.T2.6.4.4.m1.1.1.5.1.cmml" xref="S4.T2.6.4.4.m1.1.1.5">subscript</csymbol><ci id="S4.T2.6.4.4.m1.1.1.5.2.cmml" xref="S4.T2.6.4.4.m1.1.1.5.2">𝐺</ci><ci id="S4.T2.6.4.4.m1.1.1.5.3.cmml" xref="S4.T2.6.4.4.m1.1.1.5.3">𝑣</ci></apply><ci id="S4.T2.6.4.4.m1.1.1.6.cmml" xref="S4.T2.6.4.4.m1.1.1.6">𝑎</ci><ci id="S4.T2.6.4.4.m1.1.1.7.cmml" xref="S4.T2.6.4.4.m1.1.1.7">𝑟</ci><ci id="S4.T2.6.4.4.m1.1.1.8.cmml" xref="S4.T2.6.4.4.m1.1.1.8">𝑖</ci><ci id="S4.T2.6.4.4.m1.1.1.9.cmml" xref="S4.T2.6.4.4.m1.1.1.9">𝑎</ci><ci id="S4.T2.6.4.4.m1.1.1.10.cmml" xref="S4.T2.6.4.4.m1.1.1.10">𝑡</ci><ci id="S4.T2.6.4.4.m1.1.1.11.cmml" xref="S4.T2.6.4.4.m1.1.1.11">𝑖</ci><ci id="S4.T2.6.4.4.m1.1.1.12.cmml" xref="S4.T2.6.4.4.m1.1.1.12">𝑜</ci><ci id="S4.T2.6.4.4.m1.1.1.13.cmml" xref="S4.T2.6.4.4.m1.1.1.13">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.4.4.m1.1c">NDCG_{v}ariation</annotation><annotation encoding="application/x-llamapun" id="S4.T2.6.4.4.m1.1d">italic_N italic_D italic_C italic_G start_POSTSUBSCRIPT italic_v end_POSTSUBSCRIPT italic_a italic_r italic_i italic_a italic_t italic_i italic_o italic_n</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T2.7.5.5"><math alttext="ASV" class="ltx_Math" display="inline" id="S4.T2.7.5.5.m1.1"><semantics id="S4.T2.7.5.5.m1.1a"><mrow id="S4.T2.7.5.5.m1.1.1" xref="S4.T2.7.5.5.m1.1.1.cmml"><mi id="S4.T2.7.5.5.m1.1.1.2" xref="S4.T2.7.5.5.m1.1.1.2.cmml">A</mi><mo id="S4.T2.7.5.5.m1.1.1.1" xref="S4.T2.7.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.7.5.5.m1.1.1.3" xref="S4.T2.7.5.5.m1.1.1.3.cmml">S</mi><mo id="S4.T2.7.5.5.m1.1.1.1a" xref="S4.T2.7.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.7.5.5.m1.1.1.4" xref="S4.T2.7.5.5.m1.1.1.4.cmml">V</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.7.5.5.m1.1b"><apply id="S4.T2.7.5.5.m1.1.1.cmml" xref="S4.T2.7.5.5.m1.1.1"><times id="S4.T2.7.5.5.m1.1.1.1.cmml" xref="S4.T2.7.5.5.m1.1.1.1"></times><ci id="S4.T2.7.5.5.m1.1.1.2.cmml" xref="S4.T2.7.5.5.m1.1.1.2">𝐴</ci><ci id="S4.T2.7.5.5.m1.1.1.3.cmml" xref="S4.T2.7.5.5.m1.1.1.3">𝑆</ci><ci id="S4.T2.7.5.5.m1.1.1.4.cmml" xref="S4.T2.7.5.5.m1.1.1.4">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.7.5.5.m1.1c">ASV</annotation><annotation encoding="application/x-llamapun" id="S4.T2.7.5.5.m1.1d">italic_A italic_S italic_V</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T2.8.6.6"><math alttext="ASV" class="ltx_Math" display="inline" id="S4.T2.8.6.6.m1.1"><semantics id="S4.T2.8.6.6.m1.1a"><mrow id="S4.T2.8.6.6.m1.1.1" xref="S4.T2.8.6.6.m1.1.1.cmml"><mi id="S4.T2.8.6.6.m1.1.1.2" xref="S4.T2.8.6.6.m1.1.1.2.cmml">A</mi><mo id="S4.T2.8.6.6.m1.1.1.1" xref="S4.T2.8.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.8.6.6.m1.1.1.3" xref="S4.T2.8.6.6.m1.1.1.3.cmml">S</mi><mo id="S4.T2.8.6.6.m1.1.1.1a" xref="S4.T2.8.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.8.6.6.m1.1.1.4" xref="S4.T2.8.6.6.m1.1.1.4.cmml">V</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.8.6.6.m1.1b"><apply id="S4.T2.8.6.6.m1.1.1.cmml" xref="S4.T2.8.6.6.m1.1.1"><times id="S4.T2.8.6.6.m1.1.1.1.cmml" xref="S4.T2.8.6.6.m1.1.1.1"></times><ci id="S4.T2.8.6.6.m1.1.1.2.cmml" xref="S4.T2.8.6.6.m1.1.1.2">𝐴</ci><ci id="S4.T2.8.6.6.m1.1.1.3.cmml" xref="S4.T2.8.6.6.m1.1.1.3">𝑆</ci><ci id="S4.T2.8.6.6.m1.1.1.4.cmml" xref="S4.T2.8.6.6.m1.1.1.4">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.8.6.6.m1.1c">ASV</annotation><annotation encoding="application/x-llamapun" id="S4.T2.8.6.6.m1.1d">italic_A italic_S italic_V</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.8.8.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S4.T2.8.8.1.1">Government</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.8.1.2">0.17</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.8.1.3">0.48</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.8.1.4">0.57</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.8.1.5">0.06</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.8.1.6">-0.17</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.8.1.7">0.25</td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.9.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S4.T2.8.9.2.1">Education</th>
<td class="ltx_td ltx_align_center" id="S4.T2.8.9.2.2">0.33</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.9.2.3">0.28</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.9.2.4">0.39</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.9.2.5">0.09</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.9.2.6">0.42</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.9.2.7">0.5</td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.10.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S4.T2.8.10.3.1">Society</th>
<td class="ltx_td ltx_align_center" id="S4.T2.8.10.3.2">0.5</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.10.3.3">0.39</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.10.3.4">0.56</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.10.3.5">0.07</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.10.3.6">0.42</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.10.3.7">0.5</td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.11.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="S4.T2.8.11.4.1">Health</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.8.11.4.2">0.5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.8.11.4.3">0.33</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.8.11.4.4">0.44</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.8.11.4.5">0.12</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.8.11.4.6">0.67</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.8.11.4.7">0.5</td>
</tr>
</tbody>
</table>
</figure>
<figure class="ltx_figure" id="S4.F3">
<p class="ltx_p ltx_align_center" id="S4.F3.1"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="S4.F3.1.1" style="border-color: #000000;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="390" id="S4.F3.1.1.g1" src="extracted/5738426/effective.png" width="867"/></span></p>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Overall effect of RAG opinion manipulation in black-box scenario</figcaption>
</figure>
<div class="ltx_para" id="S4.p6">
<p class="ltx_p" id="S4.p6.1">Figure 3 shows the significant overall opinion manipulation effect of the adversarial retrieval attack strategy PAT. This paper divides Docs<sub class="ltx_sub" id="S4.p6.1.1">origin</sub> into two parts: document data with an expected opinion of support and document data with an expected opinion of opposition, the expected opinion represents the stance direction we would like RAG response to hold for the target topic after manipulation. The expected opinion <math alttext="S_{t}" class="ltx_Math" display="inline" id="S4.p6.1.m1.1"><semantics id="S4.p6.1.m1.1a"><msub id="S4.p6.1.m1.1.1" xref="S4.p6.1.m1.1.1.cmml"><mi id="S4.p6.1.m1.1.1.2" xref="S4.p6.1.m1.1.1.2.cmml">S</mi><mi id="S4.p6.1.m1.1.1.3" xref="S4.p6.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.p6.1.m1.1b"><apply id="S4.p6.1.m1.1.1.cmml" xref="S4.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p6.1.m1.1.1.1.cmml" xref="S4.p6.1.m1.1.1">subscript</csymbol><ci id="S4.p6.1.m1.1.1.2.cmml" xref="S4.p6.1.m1.1.1.2">𝑆</ci><ci id="S4.p6.1.m1.1.1.3.cmml" xref="S4.p6.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.1.m1.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.p6.1.m1.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is set to 2 for supporting and 0 for opposing, and then manipulation is performed. The results show that when the expected opinion is support, the proportion of responses with a supportive stance increases significantly after manipulation, while the proportion of responses with an opposing stance decreases. When the expected opinion is opposition, the proportion of supportive responses decreases significantly after manipulation, while the proportions of neutral and opposing responses both increase. Comparatively, the changes in stance before and after manipulation are slightly larger for LLAMA3-8b than for Qwen1.5-14b, due to stronger ability of LLAMA3-8b to follow instructions.</p>
</div>
<div class="ltx_para" id="S4.p7">
<p class="ltx_p" id="S4.p7.1">The results of the theme-specific manipulation experiments are shown in Table 2. The adversarial retrieval attack strategy PAT, applied to the adversarial texts generated by the surrogate model, significantly increased the proportion of candidate items holding expected opinion in the Top 3 of the RAG<sub class="ltx_sub" id="S4.p7.1.1">black</sub> retrieval list, thereby guiding the LLM to change its opinion in the response. However, the manipulation effect of RAG<sub class="ltx_sub" id="S4.p7.1.2">black</sub> generated opinions varies across different themes: for education, society, and health topics, the attack success rate and ranking variation of target items are significantly higher than those in government topics. This suggests that the LLM may have been specifically fine-tuned on government-related dataset, enabling it to mitigate the bias in the retrieval context to some extent. Among these topics, controversial opinions in society and health topics are more susceptible to manipulation. Since these two areas are closely related to people’s lives, opinion manipulation in society and health topics may pose a greater risk.</p>
</div>
<div class="ltx_para" id="S4.p8">
<p class="ltx_p" id="S4.p8.1">The manipulation results across different themes still demonstrate relative advantage of LLAMA3-8b in understanding prompts with contextual background intentions and generating effective responses. However, this also indicates that the strong comprehension ability of LLMs may undermine the reliability of the content it generates.</p>
</div>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this paper, we explore the vulnerability of retrieval-augmented generation (RAG) models to opinion manipulation against black-box attack in open-ended controversial topics, and delve into the potential impact of such attacks on user cognition and decision-making. Through systematic experiments, we propose a novel adversarial attack strategy about retrieval ranking poisoning. This method significantly affects the polarity of the opinions generated by RAG by crafting adversarial samples, without requiring internal knowledge of the RAG model. The experimental results indicate that the proposed attack strategy successfully alters the opinion of the content generated by the RAG model, revealing the vulnerability and unreliability of RAG when confronted with malicious retrieval corpus. More importantly, this opinion manipulation could have profound impacts on users’ cognition and decision-making processes, potentially leading users to accept incorrect or biased information, causing cognitive changes and public opinion distortion. This phenomenon is particularly significant in open-ended and controversial issues.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">Future research will expands the scale of the experiments by including more open-source and commercial RAG systems to more comprehensively evaluate the reliability of viewpoint generation by RAG models. Given the vulnerabilities of RAG models, future work should focus on developing more robust defense strategies. These may include improving the robustness of retrieval algorithms, enhancing the reliability of generation models, and introducing multi-level input filtering mechanisms to counteract adversarial inputs, thereby achieving a balanced optimization of the understanding and reliability of RAG models.</p>
</div>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Ethical Statement</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">This paper explores the feasibility of opinion manipulation on black-box RAG models in real-world scenarios. The main goal is to assess the reliability of RAG technology in responding to ranking manipulation at the stage of retrieval, paving the way for future work to enhance the robustness and defense capabilities of RAG technology. This study did not manipulate any commercial RAG systems or real-world data currently in use.·</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Xiangrui Cai, Haidong Xu, Sihan Xu, Ying Zhang, et al.

</span>
<span class="ltx_bibblock">Badprompt: Backdoor attacks on continuous prompts.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib1.1.1">Advances in Neural Information Processing Systems</span>, 35:37068–37080, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Nicholas Carlini, Matthew Jagielski, Christopher A Choquette-Choo, Daniel Paleka, Will Pearce, Hyrum Anderson, Andreas Terzis, Kurt Thomas, and Florian Tramèr.

</span>
<span class="ltx_bibblock">Poisoning web-scale training datasets is practical.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib2.1.1">arXiv preprint arXiv:2302.10149</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Zhuo Chen, Jiawei Liu, and Haotan Liu.

</span>
<span class="ltx_bibblock">Research on the reliability and fairness of opinion retrieval in public topics.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib3.1.1">2024 Network and Distributed System Security (NDSS) workshop on AI Systems with Confidential Computing</span>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Sukmin Cho, Soyeong Jeong, Jeongyeon Seo, Taeho Hwang, and Jong C Park.

</span>
<span class="ltx_bibblock">Typos that broke the rag’s back: Genetic attack on rag pipeline by simulating documents in the wild via low-level perturbations.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib4.1.1">arXiv preprint arXiv:2404.13948</span>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Jeremy Cohen, Elan Rosenfeld, and Zico Kolter.

</span>
<span class="ltx_bibblock">Certified adversarial robustness via randomized smoothing.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib5.1.1">international conference on machine learning</span>, pages 1310–1320. PMLR, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Gelei Deng, Yi Liu, Yuekang Li, Kailong Wang, Ying Zhang, Zefeng Li, Haoyu Wang, Tianwei Zhang, and Yang Liu.

</span>
<span class="ltx_bibblock">Jailbreaker: Automated jailbreak across multiple large language model chatbots.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib6.1.1">arXiv preprint arXiv:2307.08715</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Javid Ebrahimi, Anyi Rao, Daniel Lowd, and Dejing Dou.

</span>
<span class="ltx_bibblock">Hotflip: White-box adversarial examples for text classification.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:1712.06751</span>, 2017.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Robert Epstein and Ronald E. Robertson.

</span>
<span class="ltx_bibblock">The search engine manipulation effect (SEME) and its possible impact on the outcomes of elections.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib8.1.1">Proceedings of the National Academy of Sciences</span>, 112(33):E4512–E4521, August 2015.

</span>
<span class="ltx_bibblock">Publisher: Proceedings of the National Academy of Sciences.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Luyu Gao and Jamie Callan.

</span>
<span class="ltx_bibblock">Unsupervised corpus aware language model pre-training for dense passage retrieval.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib9.1.1">arXiv preprint arXiv:2108.05540</span>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Neel Jain, Avi Schwarzschild, Yuxin Wen, Gowthami Somepalli, John Kirchenbauer, Ping-yeh Chiang, Micah Goldblum, Aniruddha Saha, Jonas Geiping, and Tom Goldstein.

</span>
<span class="ltx_bibblock">Baseline defenses for adversarial attacks against aligned language models.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib10.1.1">arXiv preprint arXiv:2309.00614</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Robin Jia and Percy Liang.

</span>
<span class="ltx_bibblock">Adversarial examples for evaluating reading comprehension systems.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:1707.07328</span>, 2017.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Haoran Li, Dadi Guo, Wei Fan, Mingshi Xu, Jie Huang, Fanpu Meng, and Yangqiu Song.

</span>
<span class="ltx_bibblock">Multi-step jailbreaking privacy attacks on chatgpt.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib12.1.1">arXiv preprint arXiv:2304.05197</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Zilong Lin, Zhengyi Li, Xiaojing Liao, XiaoFeng Wang, and Xiaozhong Liu.

</span>
<span class="ltx_bibblock">Mawseo: Adversarial wiki search poisoning for illicit online promotion.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib13.1.1">arXiv preprint arXiv:2304.11300</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Jiawei Liu, Yangyang Kang, Di Tang, Kaisong Song, Changlong Sun, Xiaofeng Wang, Wei Lu, and Xiaozhong Liu.

</span>
<span class="ltx_bibblock">Order-Disorder: Imitation Adversarial Attacks for Black-box Neural Ranking Models, April 2023.

</span>
<span class="ltx_bibblock">arXiv:2209.06506 [cs].

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Yi Liu, Gelei Deng, Yuekang Li, Kailong Wang, Tianwei Zhang, Yepang Liu, Haoyu Wang, Yan Zheng, and Yang Liu.

</span>
<span class="ltx_bibblock">Prompt injection attack against llm-integrated applications, june 2023.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:2306.05499</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Yu-An Liu, Ruqing Zhang, Jiafeng Guo, Maarten de Rijke, Wei Chen, Yixing Fan, and Xueqi Cheng.

</span>
<span class="ltx_bibblock">Black-box adversarial attacks against dense retrieval models: A multi-view contrastive learning method.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib16.1.1">Proceedings of the 32nd ACM International Conference on Information and Knowledge Management</span>, pages 1647–1656, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Congzheng Song, Alexander M Rush, and Vitaly Shmatikov.

</span>
<span class="ltx_bibblock">Adversarial semantic collisions.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib17.1.1">arXiv preprint arXiv:2011.04743</span>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Christian Szegedy, Wojciech Zaremba, Ilya Sutskever, Joan Bruna, Dumitru Erhan, Ian Goodfellow, and Rob Fergus.

</span>
<span class="ltx_bibblock">Intriguing properties of neural networks.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib18.1.1">arXiv preprint arXiv:1312.6199</span>, 2013.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Boxin Wang, Weixin Chen, Hengzhi Pei, Chulin Xie, Mintong Kang, Chenhui Zhang, Chejian Xu, Zidi Xiong, Ritik Dutta, Rylan Schaeffer, et al.

</span>
<span class="ltx_bibblock">Decodingtrust: A comprehensive assessment of trustworthiness in gpt models.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib19.1.1">NeurIPS</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Wenqi Wang, Run Wang, Lina Wang, Zhibo Wang, and Aoshuang Ye.

</span>
<span class="ltx_bibblock">Towards a robust deep neural network in texts: A survey.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib20.1.1">arXiv preprint arXiv:1902.07285</span>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Chen Wu, Ruqing Zhang, Jiafeng Guo, Maarten de Rijke, Yixing Fan, and Xueqi Cheng.

</span>
<span class="ltx_bibblock">PRADA: Practical Black-Box Adversarial Attacks against Neural Ranking Models, June 2022.

</span>
<span class="ltx_bibblock">arXiv:2204.01321 [cs].

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Chong Xiang, Tong Wu, Zexuan Zhong, David Wagner, Danqi Chen, and Prateek Mittal.

</span>
<span class="ltx_bibblock">Certifiably robust rag against retrieval corruption.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib22.1.1">arXiv preprint arXiv:2405.15556</span>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Jiaqi Xue, Mengxin Zheng, Yebowen Hu, Fei Liu, Xun Chen, and Qian Lou.

</span>
<span class="ltx_bibblock">Badrag: Identifying vulnerabilities in retrieval augmented generation of large language models.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib23.1.1">arXiv preprint arXiv:2406.00083</span>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Zhang Yue, ZHUANG Bichen, LI Qingyu, and ZHU Qinghua.

</span>
<span class="ltx_bibblock">Homogenization dilemma:concept analysis and theoretical framework construction of information cocoons.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib24.1.1">Journal of Library Science in China</span>, 49(3):107–122, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Quan Zhang, Binqi Zeng, Chijin Zhou, Gwihwan Go, Heyuan Shi, and Yu Jiang.

</span>
<span class="ltx_bibblock">Human-imperceptible retrieval poisoning attacks in llm-powered applications.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib25.1.1">Companion Proceedings of the 32nd ACM International Conference on the Foundations of Software Engineering</span>, pages 502–506, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Zihan Zhang, Mingxuan Liu, Chao Zhang, Yiming Zhang, Zhou Li, Qi Li, Haixin Duan, and Donghong Sun.

</span>
<span class="ltx_bibblock">Argot: Generating adversarial readable chinese texts.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib26.1.1">Proceedings of the Twenty-Ninth International Conference on International Joint Conferences on Artificial Intelligence</span>, pages 2533–2539, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Xuandong Zhao, Xianjun Yang, Tianyu Pang, Chao Du, Lei Li, Yu-Xiang Wang, and William Yang Wang.

</span>
<span class="ltx_bibblock">Weak-to-strong jailbreaking on large language models.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib27.1.1">arXiv preprint arXiv:2401.17256</span>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
Zexuan Zhong, Ziqing Huang, Alexander Wettig, and Danqi Chen.

</span>
<span class="ltx_bibblock">Poisoning retrieval corpora by injecting adversarial passages.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib28.1.1">arXiv preprint arXiv:2310.19156</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
Wei Zou, Runpeng Geng, Binghui Wang, and Jinyuan Jia.

</span>
<span class="ltx_bibblock">Poisonedrag: Knowledge poisoning attacks to retrieval-augmented generation of large language models.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib29.1.1">arXiv preprint arXiv:2402.07867</span>, 2024.

</span>
</li>
</ul>
</section>
<div class="ltx_para" id="p1">
<p class="ltx_p" id="p1.1"></p>
</div>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Thu Jul 18 17:54:57 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
