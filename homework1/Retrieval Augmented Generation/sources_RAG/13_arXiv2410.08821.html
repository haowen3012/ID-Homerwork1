<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation</title>
<!--Generated on Fri Oct 11 13:02:17 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2410.08821v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx1" title="In Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx2" title="In Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx2.SSx1" title="In Related Work â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Open-domain Question Answering (OpenQA).</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx2.SSx2" title="In Related Work â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Retrieval-Augmented Generation (RAG).</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx3" title="In Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx3.SSx1" title="In Methodology â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Task Definition and Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx3.SSx2" title="In Methodology â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Iterative Information Collector (IIC)</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx3.SSx2.SSSx1" title="In Iterative Information Collector (IIC) â€£ Methodology â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Stage 1: Note initialization stage.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx3.SSx2.SSSx2" title="In Iterative Information Collector (IIC) â€£ Methodology â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Stage 2: Iterative
information collection stage.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx3.SSx2.SSSx3" title="In Iterative Information Collector (IIC) â€£ Methodology â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Stage 3: Note updating stage.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx3.SSx3" title="In Methodology â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Adaptive Memory Reviewer (AMR)</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx3.SSx3.SSSx1" title="In Adaptive Memory Reviewer (AMR) â€£ Methodology â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Trigger1: What to store as the optimal memory.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx3.SSx3.SSSx2" title="In Adaptive Memory Reviewer (AMR) â€£ Methodology â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Trigger2: When to stop retrieval.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx3.SSx4" title="In Methodology â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Task-Oriented Generator</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx4" title="In Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Experimental Setup</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx4.SSx1" title="In Experimental Setup â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Datasets &amp; Evaluation.</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx4.SSx1.SSSx1" title="In Datasets &amp; Evaluation. â€£ Experimental Setup â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Multi-hop QA task.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx4.SSx1.SSSx2" title="In Datasets &amp; Evaluation. â€£ Experimental Setup â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Long-form QA task.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx4.SSx2" title="In Experimental Setup â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Baselines &amp; LLMs.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx4.SSx3" title="In Experimental Setup â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Retriever &amp; Corpus.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx4.SSx4" title="In Experimental Setup â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Settings of prompts.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx4.SSx5" title="In Experimental Setup â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Settings of the adaptive process.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5" title="In Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Results and Analysis</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.SSx1" title="In Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Main Results</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.SSx1.SSSx1" title="In Main Results â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Ours vs. Single-time RAG.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.SSx1.SSSx2" title="In Main Results â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Ours vs. Adaptive RAG.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.SSx1.SSSx3" title="In Main Results â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Performance on different LLMs.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.SSx1.SSSx4" title="In Main Results â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">In-depth comparison under a fair <span class="ltx_text ltx_font_bold">top-<math alttext="\bm{k}" class="ltx_Math" display="inline"><semantics><mi>k</mi><annotation-xml encoding="MathML-Content"><ci>ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex">\bm{k}</annotation><annotation encoding="application/x-llamapun">bold_italic_k</annotation></semantics></math></span>.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.SSx2" title="In Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Ablation Study</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.SSx2.SSSx1" title="In Ablation Study â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Effectiveness of iterative information collector.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.SSx2.SSSx2" title="In Ablation Study â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Effectiveness of adaptive memory reviewer.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.SSx3" title="In Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Parameter Analysis</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.SSx3.SSSx1" title="In Parameter Analysis â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Impacts of CI and IU.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.SSx3.SSSx2" title="In Parameter Analysis â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Impacts of <span class="ltx_text ltx_font_bold">top-<math alttext="\bm{k}" class="ltx_Math" display="inline"><semantics><mi>k</mi><annotation-xml encoding="MathML-Content"><ci>ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex">\bm{k}</annotation><annotation encoding="application/x-llamapun">bold_italic_k</annotation></semantics></math></span>.</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx6" title="In Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#A1" title="In Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Appendix A: Additional Experimental Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#A2" title="In Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Appendix B: Prompt Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#A3" title="In Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Appendix C: Experimental Setup Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#A4" title="In Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Appendix D: Case Study</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">
<span class="ltx_text ltx_font_italic" id="id2.id1">Retriever-and-Memory</span>: Towards Adaptive 
<br class="ltx_break"/>Note-Enhanced Retrieval-Augmented Generation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Ruobing Wang<sup class="ltx_sup" id="id3.2.id1">1,2</sup>,
Daren Zha<sup class="ltx_sup" id="id4.3.id2">1</sup>,
Shi Yu<sup class="ltx_sup" id="id5.4.id3">3</sup>,
Qingfei Zhao<sup class="ltx_sup" id="id6.5.id4">1,2</sup>,
Yuxuan Chen<sup class="ltx_sup" id="id7.6.id5">4</sup>,
Yixuan Wang<sup class="ltx_sup" id="id8.7.id6">3</sup>,
<br class="ltx_break"/>Shuo Wang<sup class="ltx_sup" id="id9.8.id7">3</sup>,
Yukun Yan<sup class="ltx_sup" id="id10.9.id8">3</sup><sup class="ltx_sup" id="id11.10.id9"><span class="ltx_text ltx_font_italic" id="id11.10.id9.1">âˆ—</span></sup>,
Zhenghao Liu<sup class="ltx_sup" id="id12.11.id10">5</sup>,
Xu Han<sup class="ltx_sup" id="id13.12.id11">3</sup>,
Zhiyuan Liu<sup class="ltx_sup" id="id14.13.id12">3</sup>,
Maosong Sun<sup class="ltx_sup" id="id15.14.id13">3</sup>
</span><span class="ltx_author_notes">Â Â Corresponding authors.</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id16.id1">Retrieval-Augmented Generation (RAG) mitigates issues of the factual errors and hallucinated outputs generated by Large Language Models (LLMs) in open-domain question-answering tasks (OpenQA) via introducing external knowledge.
For complex QA, however, existing RAG methods use LLMs to actively predict retrieval timing and directly use the retrieved information for generation, regardless of whether the retrieval timing accurately reflects the actual information needs, or sufficiently considers prior retrieved knowledge, which may result in insufficient information gathering and interaction, yielding low-quality answers.
To address these, we propose a generic RAG approach called Adaptive Note-Enhanced RAG (<span class="ltx_text ltx_font_bold" id="id16.id1.1">Adaptive-Note</span>) for complex QA tasks, which includes the iterative information collector, adaptive memory reviewer, and task-oriented generator, while following a new <span class="ltx_text ltx_font_italic" id="id16.id1.2">Retriever-and-Memory</span> paradigm.
Specifically, Adaptive-Note introduces an overarching view of knowledge growth, iteratively gathering new information in the form of notes and updating them into the existing optimal knowledge structure, enhancing high-quality knowledge interactions. In addition, we employ an adaptive, note-based stop-exploration strategy to decide â€œ<span class="ltx_text ltx_font_italic" id="id16.id1.3">what to retrieve and when to stop</span>â€ to encourage sufficient knowledge exploration.
We conduct extensive experiments on five complex QA datasets,
and the results demonstrate the superiority and effectiveness of our method and its components.
The code and data are at https://github.com/thunlp/Adaptive-Note.</p>
</div>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Introduction</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">Large Language Models (LLMs) (<cite class="ltx_cite ltx_citemacro_citep">OpenAI <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib21" title="">2023</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Touvron etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib27" title="">2023</a></cite>)
capture versatile knowledgeÂ <cite class="ltx_cite ltx_citemacro_citep">(Shultz, Wise, and Nobandegani <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib25" title="">2024</a>)</cite> through billions of parameters, boosting performance in question-answering (QA) tasks.
However, even state-of-the-art LLMs frequently encounter
hallucinations
<cite class="ltx_cite ltx_citemacro_citep">(Chen etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib5" title="">2023</a>)</cite>
and factual errors (<cite class="ltx_cite ltx_citemacro_citep">Mallen etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib18" title="">2023</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Min etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib19" title="">2023</a></cite>),
leading to unreliable responses.
To mitigate these issues, <cite class="ltx_cite ltx_citemacro_citet">Lewis etÂ al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib16" title="">2020b</a>)</cite> and <cite class="ltx_cite ltx_citemacro_citet">Guu etÂ al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib9" title="">2020</a>)</cite> proposed Retrieval-Augmented Generation (RAG), a promising technique that leverages external non-parameterized knowledge resources to help LLMs push their inherent parameter knowledge boundaries.
Specifically, the RAG system generally follows a <span class="ltx_text ltx_font_italic" id="Sx1.p1.1.1">Retriever-and-Reader</span> paradigm, which retrieves query-relevant paragraphs from an external corpus and feeds them to the LLM
as context
along with the query, producing reliable answers.
However, vanilla RAG usually fails to gather sufficient information for complex QA tasks w.r.t. long-form QA (<cite class="ltx_cite ltx_citemacro_citep">Fan etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib7" title="">2019</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Stelmakh etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib26" title="">2022</a></cite>;Â <cite class="ltx_cite ltx_citemacro_citep">Lyu etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib17" title="">2024</a></cite>), and multi-hop QA (<cite class="ltx_cite ltx_citemacro_citep">Yang etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib34" title="">2018</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Ho etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib10" title="">2020</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Trivedi etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib28" title="">2022</a></cite>).
These complex QA tasks often involve broad or in-depth information retrieval needs, which may not be explicitly reflected in the initial query or easily fulfilled in a single retrieval attempt.
For example, in multi-hop QA, to answer the question â€œ<span class="ltx_text ltx_font_italic" id="Sx1.p1.1.2">What does the acronym of the organization Danish Football Union is part of stands for?</span>â€, we must first search for the acronymâ€œ<span class="ltx_text ltx_font_italic" id="Sx1.p1.1.3">FIFA</span>â€ and then search for what â€œ<span class="ltx_text ltx_font_italic" id="Sx1.p1.1.4">FIFA</span>â€ stands for.
Long-form QA presents a similar challenge, where addressing a vague query requires exploring various related aspects and delving into further details to generate a comprehensive and long-form answer.</p>
</div>
<div class="ltx_para" id="Sx1.p2">
<p class="ltx_p" id="Sx1.p2.1">To address this, Adaptive RAG (ARAG) attempts to adaptively decide â€œ<span class="ltx_text ltx_font_italic" id="Sx1.p2.1.1">when and what to retrieve</span>â€ to flexibly capture more valuable knowledge for answering complex QA.
Despite its performance gains, mainstream ARAG methods (<cite class="ltx_cite ltx_citemacro_citep">Jiang etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib13" title="">2023</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Asai etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib1" title="">2024</a></cite>) are still far from satisfactory because of two limitations.
<span class="ltx_text ltx_font_bold ltx_font_italic" id="Sx1.p2.1.2">First</span>, each retrieval triggers an immediate generation, which may cause each output segment to reflect limited knowledge from a specific-step retrieval while neglecting the integration and interaction of retrieved information from different retrieval steps.
<span class="ltx_text ltx_font_bold ltx_font_italic" id="Sx1.p2.1.3">Second</span>, they leverage LLMs to actively predict retrieval timing; however, differences between the LLMsâ€™ internal cognition and the actual retrieval needs may lead to missing key retrieval timing, resulting in insufficient knowledge gathering.</p>
</div>
<div class="ltx_para" id="Sx1.p3">
<p class="ltx_p" id="Sx1.p3.1">To this end, we develop a simple, general, and effective RAG for complex QA, named Adaptive
Note-Enhanced RAG (<span class="ltx_text ltx_font_bold" id="Sx1.p3.1.1">Adaptive-Note</span>), based on a novel paradigm we propose â€“ <span class="ltx_text ltx_font_bold ltx_font_italic" id="Sx1.p3.1.2">Retriever-and-Memory</span>.
In general, the Adaptive-Note includes two core components, Iterative Information Collector (IIC) and Adaptive Memory Reviewer (AMR), which can adaptively gather information from a view of knowledge growth and flexibly integrate new knowledge with all gathered knowledge, achieving good performance.
<span class="ltx_text ltx_font_bold ltx_font_italic" id="Sx1.p3.1.3">First</span>, to address the poor interaction between information from different retrieval steps, IIC uses a note as the memory carrier for knowledge.
Instead of generating results immediately after retrieval, IIC maximizes the refinement of all details related to the original query and stores them in the note.
The newly retrieved information is then adaptively updated in any textual form into the existing knowledge structure within the notes.
It is worth mentioning that the knowledge structure is continuously refined and incorporates all the effective knowledge from previous retrieval steps.
<span class="ltx_text ltx_font_bold ltx_font_italic" id="Sx1.p3.1.4">Second</span>, AMR replaces uncertain active retrieval with an adaptive note-based stop-exploration strategy. It identifies the optimal note as the best memory and uses it to decide â€œ<span class="ltx_text ltx_font_italic" id="Sx1.p3.1.5">what to retrieve and when to stop</span>â€.
Similar to learning about an unfamiliar field, humans often begin by extensively reading and then determine what to gradually integrate into their existing knowledge, until they feel sufficiently familiar with the field. Likewise, our adaptive strategy allows for greedy exploration first. If, at a specific moment, the note no longer obtains knowledge gains, the information gathering stops. This strategy effectively avoids the timing bias of active retrieval predictions and ensures continuous knowledge gains.</p>
</div>
<div class="ltx_para" id="Sx1.p4">
<p class="ltx_p" id="Sx1.p4.1">We conduct extensive experiments on five complex QA datasets, involving overall performance comparisons, quantitative ablation studies, and parameter analysis.
Results highlight the superiority, effectiveness, and universality of Adaptive-Note, while confirming the validity of core components.
In summary, our contributions are as follows.</p>
</div>
<div class="ltx_para ltx_noindent" id="Sx1.p5">
<p class="ltx_p" id="Sx1.p5.1"><span class="ltx_text ltx_font_bold" id="Sx1.p5.1.1">Contribution.</span>
<span class="ltx_text ltx_font_bold ltx_font_italic" id="Sx1.p5.1.2">1)</span>
We explore the ability of LLMs to handle complex QA tasks and propose a new paradigm (<span class="ltx_text ltx_font_italic" id="Sx1.p5.1.3">Retriever-and-Memory</span>)-based method called Adaptive-Note for the first time. Extensive experimental results suggest that Adaptive-Note significantly surpasses existing methods on five complex QA datasets, with improvements reaching up to 8.8%.
<span class="ltx_text ltx_font_bold ltx_font_italic" id="Sx1.p5.1.4">2)</span>
We introduce a note-based adaptive knowledge exploration strategy, enhanced by a view of knowledge growth. Therefore, Adaptive-Note can continuously gather relevant knowledge and adaptively memorize the optimal knowledge, yielding high-quality answers.
<span class="ltx_text ltx_font_bold ltx_font_italic" id="Sx1.p5.1.5">3)</span>
We design Adaptive-Note as a general and plug-and-play method, which adapts effortlessly to any existing LLMs without additional training, and it can deliver outstanding performance under merely the zero-shot setting, instead of using crafted few-shot exemplars.</p>
</div>
</section>
<section class="ltx_section" id="Sx2">
<h2 class="ltx_title ltx_title_section">Related Work</h2>
<section class="ltx_subsection" id="Sx2.SSx1">
<h3 class="ltx_title ltx_title_subsection">Open-domain Question Answering (OpenQA).</h3>
<div class="ltx_para" id="Sx2.SSx1.p1">
<p class="ltx_p" id="Sx2.SSx1.p1.1">Open-domain Question Answering (OpenQA)Â <cite class="ltx_cite ltx_citemacro_citep">(Voorhees <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib30" title="">1999</a>)</cite>
aims to answer domain-independent questions in the form of natural language using large-scale and unstructured informationÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhu etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib38" title="">2021</a>)</cite>.
Modern approaches for Open QA tasks generally follow the <span class="ltx_text ltx_font_italic" id="Sx2.SSx1.p1.1.1">Retriever-and-Reader</span> paradigmÂ (<cite class="ltx_cite ltx_citemacro_citep">Chen etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib4" title="">2017</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Das etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib6" title="">2019</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Wang etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib31" title="">2024</a></cite>).
The â€œ<span class="ltx_text ltx_font_italic" id="Sx2.SSx1.p1.1.2">Retriever</span>â€ is responsible for recalling relevant documents based on a given question, and mainstream methods
include: 1) sparse-vector-based retrieval, such as TF-IDF and BM25; and 2) recently developed dense-vector-based retrieval, like
DPRÂ <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib14" title="">2020</a>)</cite> and
ContrieverÂ <cite class="ltx_cite ltx_citemacro_citep">(Izacard etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib11" title="">2022</a>)</cite>.
The <span class="ltx_text ltx_font_italic" id="Sx2.SSx1.p1.1.3">Reader</span> strives to understand the retrieved passages and then infer the correct answer.
Over the past few years, the reader has extensively adopted fine-tuned pre-trained models
(<cite class="ltx_cite ltx_citemacro_citep">Lewis etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib15" title="">2020a</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Lewis etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib15" title="">2020a</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Raffel etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib23" title="">2020</a></cite>),
built on transformer-based architectures.
More recently, LLMs have presented a fascinating capabilityâ€“tuning-free, prompt-based in-context learning (ICL)Â <cite class="ltx_cite ltx_citemacro_citep">(Brown etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib3" title="">2020</a>)</cite>.
This enables the LLMs, like GPT-3.5, to deliver highly competitive performance in the OpenQA task by simply being provided with a handful of demonstration exemplars.
Our work mainly focuses on leveraging LLMs to address the OpenQA task and proposes a novel and effective paradigm, <span class="ltx_text ltx_font_italic" id="Sx2.SSx1.p1.1.4">Retriever-and-Memory</span>.</p>
</div>
</section>
<section class="ltx_subsection" id="Sx2.SSx2">
<h3 class="ltx_title ltx_title_subsection">Retrieval-Augmented Generation (RAG).</h3>
<div class="ltx_para" id="Sx2.SSx2.p1">
<p class="ltx_p" id="Sx2.SSx2.p1.1">Following <span class="ltx_text ltx_font_italic" id="Sx2.SSx2.p1.1.1">Retriever-and-Reader</span>, RAG has become a reliable technique for enhancing the quality of LLMâ€™s responses.
Previous approachesÂ (<cite class="ltx_cite ltx_citemacro_citep">Yu etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib36" title="">2023</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Izacard etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib12" title="">2023</a></cite>) employed a single-time RAG method, where the one-time retrieved passages were directly fed into LLMs to generate the final answer.
However, this type of method has a clear limitation. When it comes to handling complex QA tasks, e.g., multi-hop QA and long-form QA, it often fails to directly retrieve sufficient information from the raw question.
Afterward, some approachesÂ (<cite class="ltx_cite ltx_citemacro_citep">Trivedi etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib29" title="">2023</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Borgeaud etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib2" title="">2022</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Ram etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib24" title="">2023</a></cite>; <cite class="ltx_cite ltx_citemacro_citep">Press etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib22" title="">2023</a></cite>) attempt multi-time RAG during generation to alleviate the aforementioned issue.
They, however, indiscriminately and continuously explore new information, which can lead to low-quality responses if any intermediate step introduces errors or off-topic passages.
To address this, another line of recent work proposes Adaptive RAG (ARAG), which can automatically determine â€œ<span class="ltx_text ltx_font_italic" id="Sx2.SSx2.p1.1.2">when and what to retrieve</span>â€ via various feedbacks. Recent mainstream ARAG methods include FlareÂ <cite class="ltx_cite ltx_citemacro_citep">(Jiang etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib13" title="">2023</a>)</cite> and Self-RAGÂ <cite class="ltx_cite ltx_citemacro_citep">(Asai etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib1" title="">2024</a>)</cite>, etc.
In addition, some of the agent work, such as ReActÂ <cite class="ltx_cite ltx_citemacro_citep">(Yao etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib35" title="">2023</a>)</cite>, can also be easily instantiated as ARAG.
Specifically, Flare triggers retrieval when low-confidence tokens appear in past-generated fragments.
However, confidence scores may not capture the real retrieval needs.
Self-RAG leverages the diverse capabilities of LLMs by using various self-reflective tokens to determine whether to retrieve and assess the quality of retrieved passages.
However, Self-RAG inherently places high demands on the accuracy of the self-reflective outputs from LLMs.
Therefore, our goal is to establish an effective and stable adaptive RAG paradigm from a view of knowledge growth.</p>
</div>
<figure class="ltx_figure" id="Sx2.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="414" id="Sx2.F1.g1" src="x1.png" width="959"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span><span class="ltx_text ltx_font_bold" id="Sx2.F1.4.1">Overview of Adaptive-Note.</span> Adaptive-Note consists of three components: the iterative information collector (<span class="ltx_text ltx_font_italic" id="Sx2.F1.5.2">on the left</span>), the adaptive memory reviewer (<span class="ltx_text ltx_font_italic" id="Sx2.F1.6.3">on the right</span>), and the task-oriented generator. Since the generator is only involved in a single generation process, we use the final generated answer to represent it briefly.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="Sx3">
<h2 class="ltx_title ltx_title_section">Methodology</h2>
<div class="ltx_para" id="Sx3.p1">
<p class="ltx_p" id="Sx3.p1.1">In this section, we provide the task definition and an overview of our method â€“ <span class="ltx_text ltx_font_bold" id="Sx3.p1.1.1">Adaptive-Note</span> (in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx2.F1" title="Figure 1 â€£ Retrieval-Augmented Generation (RAG). â€£ Related Work â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>), and then delve into the details of each component. More details and all prompt templates are in Appendix B.</p>
</div>
<section class="ltx_subsection" id="Sx3.SSx1">
<h3 class="ltx_title ltx_title_subsection">Task Definition and Overview</h3>
<div class="ltx_para" id="Sx3.SSx1.p1">
<p class="ltx_p" id="Sx3.SSx1.p1.1">Inspired by the <span class="ltx_text ltx_font_bold ltx_font_italic" id="Sx3.SSx1.p1.1.1">Retriever-and-Reader</span> paradigm, we propose an adaptive note-enhanced approach grounded in a novel <span class="ltx_text ltx_font_bold ltx_font_italic" id="Sx3.SSx1.p1.1.2">Retriever-and-Memory</span> paradigm. In practical deployment, our approach consists of three components: an iterative information collector, an adaptive memory reviewer, and a task-oriented generator.</p>
</div>
<div class="ltx_para" id="Sx3.SSx1.p2">
<p class="ltx_p" id="Sx3.SSx1.p2.26">Formally, in the <span class="ltx_text ltx_font_bold" id="Sx3.SSx1.p2.26.1">Iterative Information Collector</span> <math alttext="\bm{\mathcal{C}}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.1.m1.1"><semantics id="Sx3.SSx1.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="Sx3.SSx1.p2.1.m1.1.1" xref="Sx3.SSx1.p2.1.m1.1.1.cmml">ğ“’</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.1.m1.1b"><ci id="Sx3.SSx1.p2.1.m1.1.1.cmml" xref="Sx3.SSx1.p2.1.m1.1.1">ğ“’</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.1.m1.1c">\bm{\mathcal{C}}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.1.m1.1d">bold_caligraphic_C</annotation></semantics></math>, given an input question <math alttext="q\in Q" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.2.m2.1"><semantics id="Sx3.SSx1.p2.2.m2.1a"><mrow id="Sx3.SSx1.p2.2.m2.1.1" xref="Sx3.SSx1.p2.2.m2.1.1.cmml"><mi id="Sx3.SSx1.p2.2.m2.1.1.2" xref="Sx3.SSx1.p2.2.m2.1.1.2.cmml">q</mi><mo id="Sx3.SSx1.p2.2.m2.1.1.1" xref="Sx3.SSx1.p2.2.m2.1.1.1.cmml">âˆˆ</mo><mi id="Sx3.SSx1.p2.2.m2.1.1.3" xref="Sx3.SSx1.p2.2.m2.1.1.3.cmml">Q</mi></mrow><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.2.m2.1b"><apply id="Sx3.SSx1.p2.2.m2.1.1.cmml" xref="Sx3.SSx1.p2.2.m2.1.1"><in id="Sx3.SSx1.p2.2.m2.1.1.1.cmml" xref="Sx3.SSx1.p2.2.m2.1.1.1"></in><ci id="Sx3.SSx1.p2.2.m2.1.1.2.cmml" xref="Sx3.SSx1.p2.2.m2.1.1.2">ğ‘</ci><ci id="Sx3.SSx1.p2.2.m2.1.1.3.cmml" xref="Sx3.SSx1.p2.2.m2.1.1.3">ğ‘„</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.2.m2.1c">q\in Q</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.2.m2.1d">italic_q âˆˆ italic_Q</annotation></semantics></math>, we first retrieve the top-<math alttext="k" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.3.m3.1"><semantics id="Sx3.SSx1.p2.3.m3.1a"><mi id="Sx3.SSx1.p2.3.m3.1.1" xref="Sx3.SSx1.p2.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.3.m3.1b"><ci id="Sx3.SSx1.p2.3.m3.1.1.cmml" xref="Sx3.SSx1.p2.3.m3.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.3.m3.1d">italic_k</annotation></semantics></math> passages <math alttext="p" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.4.m4.1"><semantics id="Sx3.SSx1.p2.4.m4.1a"><mi id="Sx3.SSx1.p2.4.m4.1.1" xref="Sx3.SSx1.p2.4.m4.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.4.m4.1b"><ci id="Sx3.SSx1.p2.4.m4.1.1.cmml" xref="Sx3.SSx1.p2.4.m4.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.4.m4.1c">p</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.4.m4.1d">italic_p</annotation></semantics></math> from the corpus <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.5.m5.1"><semantics id="Sx3.SSx1.p2.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="Sx3.SSx1.p2.5.m5.1.1" xref="Sx3.SSx1.p2.5.m5.1.1.cmml">ğ’Ÿ</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.5.m5.1b"><ci id="Sx3.SSx1.p2.5.m5.1.1.cmml" xref="Sx3.SSx1.p2.5.m5.1.1">ğ’Ÿ</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.5.m5.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.5.m5.1d">caligraphic_D</annotation></semantics></math> according to <math alttext="q" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.6.m6.1"><semantics id="Sx3.SSx1.p2.6.m6.1a"><mi id="Sx3.SSx1.p2.6.m6.1.1" xref="Sx3.SSx1.p2.6.m6.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.6.m6.1b"><ci id="Sx3.SSx1.p2.6.m6.1.1.cmml" xref="Sx3.SSx1.p2.6.m6.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.6.m6.1c">q</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.6.m6.1d">italic_q</annotation></semantics></math>.
These <math alttext="k" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.7.m7.1"><semantics id="Sx3.SSx1.p2.7.m7.1a"><mi id="Sx3.SSx1.p2.7.m7.1.1" xref="Sx3.SSx1.p2.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.7.m7.1b"><ci id="Sx3.SSx1.p2.7.m7.1.1.cmml" xref="Sx3.SSx1.p2.7.m7.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.7.m7.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.7.m7.1d">italic_k</annotation></semantics></math> passages are fed into an LLM to generate an initial Note <math alttext="N_{0}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.8.m8.1"><semantics id="Sx3.SSx1.p2.8.m8.1a"><msub id="Sx3.SSx1.p2.8.m8.1.1" xref="Sx3.SSx1.p2.8.m8.1.1.cmml"><mi id="Sx3.SSx1.p2.8.m8.1.1.2" xref="Sx3.SSx1.p2.8.m8.1.1.2.cmml">N</mi><mn id="Sx3.SSx1.p2.8.m8.1.1.3" xref="Sx3.SSx1.p2.8.m8.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.8.m8.1b"><apply id="Sx3.SSx1.p2.8.m8.1.1.cmml" xref="Sx3.SSx1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.8.m8.1.1.1.cmml" xref="Sx3.SSx1.p2.8.m8.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.8.m8.1.1.2.cmml" xref="Sx3.SSx1.p2.8.m8.1.1.2">ğ‘</ci><cn id="Sx3.SSx1.p2.8.m8.1.1.3.cmml" type="integer" xref="Sx3.SSx1.p2.8.m8.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.8.m8.1c">N_{0}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.8.m8.1d">italic_N start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math>, simultaneously serving as the initial memory <math alttext="M_{0}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.9.m9.1"><semantics id="Sx3.SSx1.p2.9.m9.1a"><msub id="Sx3.SSx1.p2.9.m9.1.1" xref="Sx3.SSx1.p2.9.m9.1.1.cmml"><mi id="Sx3.SSx1.p2.9.m9.1.1.2" xref="Sx3.SSx1.p2.9.m9.1.1.2.cmml">M</mi><mn id="Sx3.SSx1.p2.9.m9.1.1.3" xref="Sx3.SSx1.p2.9.m9.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.9.m9.1b"><apply id="Sx3.SSx1.p2.9.m9.1.1.cmml" xref="Sx3.SSx1.p2.9.m9.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.9.m9.1.1.1.cmml" xref="Sx3.SSx1.p2.9.m9.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.9.m9.1.1.2.cmml" xref="Sx3.SSx1.p2.9.m9.1.1.2">ğ‘€</ci><cn id="Sx3.SSx1.p2.9.m9.1.1.3.cmml" type="integer" xref="Sx3.SSx1.p2.9.m9.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.9.m9.1c">M_{0}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.9.m9.1d">italic_M start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math>.
We regard <math alttext="M_{0}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.10.m10.1"><semantics id="Sx3.SSx1.p2.10.m10.1a"><msub id="Sx3.SSx1.p2.10.m10.1.1" xref="Sx3.SSx1.p2.10.m10.1.1.cmml"><mi id="Sx3.SSx1.p2.10.m10.1.1.2" xref="Sx3.SSx1.p2.10.m10.1.1.2.cmml">M</mi><mn id="Sx3.SSx1.p2.10.m10.1.1.3" xref="Sx3.SSx1.p2.10.m10.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.10.m10.1b"><apply id="Sx3.SSx1.p2.10.m10.1.1.cmml" xref="Sx3.SSx1.p2.10.m10.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.10.m10.1.1.1.cmml" xref="Sx3.SSx1.p2.10.m10.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.10.m10.1.1.2.cmml" xref="Sx3.SSx1.p2.10.m10.1.1.2">ğ‘€</ci><cn id="Sx3.SSx1.p2.10.m10.1.1.3.cmml" type="integer" xref="Sx3.SSx1.p2.10.m10.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.10.m10.1c">M_{0}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.10.m10.1d">italic_M start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math> as the optimal memory <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.11.m11.1"><semantics id="Sx3.SSx1.p2.11.m11.1a"><msub id="Sx3.SSx1.p2.11.m11.1.1" xref="Sx3.SSx1.p2.11.m11.1.1.cmml"><mi id="Sx3.SSx1.p2.11.m11.1.1.2" xref="Sx3.SSx1.p2.11.m11.1.1.2.cmml">M</mi><mrow id="Sx3.SSx1.p2.11.m11.1.1.3" xref="Sx3.SSx1.p2.11.m11.1.1.3.cmml"><mi id="Sx3.SSx1.p2.11.m11.1.1.3.2" xref="Sx3.SSx1.p2.11.m11.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx1.p2.11.m11.1.1.3.1" xref="Sx3.SSx1.p2.11.m11.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx1.p2.11.m11.1.1.3.3" xref="Sx3.SSx1.p2.11.m11.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx1.p2.11.m11.1.1.3.1a" xref="Sx3.SSx1.p2.11.m11.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx1.p2.11.m11.1.1.3.4" xref="Sx3.SSx1.p2.11.m11.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.11.m11.1b"><apply id="Sx3.SSx1.p2.11.m11.1.1.cmml" xref="Sx3.SSx1.p2.11.m11.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.11.m11.1.1.1.cmml" xref="Sx3.SSx1.p2.11.m11.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.11.m11.1.1.2.cmml" xref="Sx3.SSx1.p2.11.m11.1.1.2">ğ‘€</ci><apply id="Sx3.SSx1.p2.11.m11.1.1.3.cmml" xref="Sx3.SSx1.p2.11.m11.1.1.3"><times id="Sx3.SSx1.p2.11.m11.1.1.3.1.cmml" xref="Sx3.SSx1.p2.11.m11.1.1.3.1"></times><ci id="Sx3.SSx1.p2.11.m11.1.1.3.2.cmml" xref="Sx3.SSx1.p2.11.m11.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx1.p2.11.m11.1.1.3.3.cmml" xref="Sx3.SSx1.p2.11.m11.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx1.p2.11.m11.1.1.3.4.cmml" xref="Sx3.SSx1.p2.11.m11.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.11.m11.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.11.m11.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math> at the start.
After initialization, we proceed to the iterative phase. In this phase, we iteratively leverage the current <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.12.m12.1"><semantics id="Sx3.SSx1.p2.12.m12.1a"><msub id="Sx3.SSx1.p2.12.m12.1.1" xref="Sx3.SSx1.p2.12.m12.1.1.cmml"><mi id="Sx3.SSx1.p2.12.m12.1.1.2" xref="Sx3.SSx1.p2.12.m12.1.1.2.cmml">M</mi><mrow id="Sx3.SSx1.p2.12.m12.1.1.3" xref="Sx3.SSx1.p2.12.m12.1.1.3.cmml"><mi id="Sx3.SSx1.p2.12.m12.1.1.3.2" xref="Sx3.SSx1.p2.12.m12.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx1.p2.12.m12.1.1.3.1" xref="Sx3.SSx1.p2.12.m12.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx1.p2.12.m12.1.1.3.3" xref="Sx3.SSx1.p2.12.m12.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx1.p2.12.m12.1.1.3.1a" xref="Sx3.SSx1.p2.12.m12.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx1.p2.12.m12.1.1.3.4" xref="Sx3.SSx1.p2.12.m12.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.12.m12.1b"><apply id="Sx3.SSx1.p2.12.m12.1.1.cmml" xref="Sx3.SSx1.p2.12.m12.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.12.m12.1.1.1.cmml" xref="Sx3.SSx1.p2.12.m12.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.12.m12.1.1.2.cmml" xref="Sx3.SSx1.p2.12.m12.1.1.2">ğ‘€</ci><apply id="Sx3.SSx1.p2.12.m12.1.1.3.cmml" xref="Sx3.SSx1.p2.12.m12.1.1.3"><times id="Sx3.SSx1.p2.12.m12.1.1.3.1.cmml" xref="Sx3.SSx1.p2.12.m12.1.1.3.1"></times><ci id="Sx3.SSx1.p2.12.m12.1.1.3.2.cmml" xref="Sx3.SSx1.p2.12.m12.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx1.p2.12.m12.1.1.3.3.cmml" xref="Sx3.SSx1.p2.12.m12.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx1.p2.12.m12.1.1.3.4.cmml" xref="Sx3.SSx1.p2.12.m12.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.12.m12.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.12.m12.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math> alongside the original query <math alttext="q" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.13.m13.1"><semantics id="Sx3.SSx1.p2.13.m13.1a"><mi id="Sx3.SSx1.p2.13.m13.1.1" xref="Sx3.SSx1.p2.13.m13.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.13.m13.1b"><ci id="Sx3.SSx1.p2.13.m13.1.1.cmml" xref="Sx3.SSx1.p2.13.m13.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.13.m13.1c">q</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.13.m13.1d">italic_q</annotation></semantics></math> to generate a new set of query <math alttext="q_{t}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.14.m14.1"><semantics id="Sx3.SSx1.p2.14.m14.1a"><msub id="Sx3.SSx1.p2.14.m14.1.1" xref="Sx3.SSx1.p2.14.m14.1.1.cmml"><mi id="Sx3.SSx1.p2.14.m14.1.1.2" xref="Sx3.SSx1.p2.14.m14.1.1.2.cmml">q</mi><mi id="Sx3.SSx1.p2.14.m14.1.1.3" xref="Sx3.SSx1.p2.14.m14.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.14.m14.1b"><apply id="Sx3.SSx1.p2.14.m14.1.1.cmml" xref="Sx3.SSx1.p2.14.m14.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.14.m14.1.1.1.cmml" xref="Sx3.SSx1.p2.14.m14.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.14.m14.1.1.2.cmml" xref="Sx3.SSx1.p2.14.m14.1.1.2">ğ‘</ci><ci id="Sx3.SSx1.p2.14.m14.1.1.3.cmml" xref="Sx3.SSx1.p2.14.m14.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.14.m14.1c">q_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.14.m14.1d">italic_q start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> during the
<math alttext="t" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.15.m15.1"><semantics id="Sx3.SSx1.p2.15.m15.1a"><mi id="Sx3.SSx1.p2.15.m15.1.1" xref="Sx3.SSx1.p2.15.m15.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.15.m15.1b"><ci id="Sx3.SSx1.p2.15.m15.1.1.cmml" xref="Sx3.SSx1.p2.15.m15.1.1">ğ‘¡</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.15.m15.1c">t</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.15.m15.1d">italic_t</annotation></semantics></math>-th step.
We then retrieve new reference passages <math alttext="p_{t}^{i}\in P_{t}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.16.m16.1"><semantics id="Sx3.SSx1.p2.16.m16.1a"><mrow id="Sx3.SSx1.p2.16.m16.1.1" xref="Sx3.SSx1.p2.16.m16.1.1.cmml"><msubsup id="Sx3.SSx1.p2.16.m16.1.1.2" xref="Sx3.SSx1.p2.16.m16.1.1.2.cmml"><mi id="Sx3.SSx1.p2.16.m16.1.1.2.2.2" xref="Sx3.SSx1.p2.16.m16.1.1.2.2.2.cmml">p</mi><mi id="Sx3.SSx1.p2.16.m16.1.1.2.2.3" xref="Sx3.SSx1.p2.16.m16.1.1.2.2.3.cmml">t</mi><mi id="Sx3.SSx1.p2.16.m16.1.1.2.3" xref="Sx3.SSx1.p2.16.m16.1.1.2.3.cmml">i</mi></msubsup><mo id="Sx3.SSx1.p2.16.m16.1.1.1" xref="Sx3.SSx1.p2.16.m16.1.1.1.cmml">âˆˆ</mo><msub id="Sx3.SSx1.p2.16.m16.1.1.3" xref="Sx3.SSx1.p2.16.m16.1.1.3.cmml"><mi id="Sx3.SSx1.p2.16.m16.1.1.3.2" xref="Sx3.SSx1.p2.16.m16.1.1.3.2.cmml">P</mi><mi id="Sx3.SSx1.p2.16.m16.1.1.3.3" xref="Sx3.SSx1.p2.16.m16.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.16.m16.1b"><apply id="Sx3.SSx1.p2.16.m16.1.1.cmml" xref="Sx3.SSx1.p2.16.m16.1.1"><in id="Sx3.SSx1.p2.16.m16.1.1.1.cmml" xref="Sx3.SSx1.p2.16.m16.1.1.1"></in><apply id="Sx3.SSx1.p2.16.m16.1.1.2.cmml" xref="Sx3.SSx1.p2.16.m16.1.1.2"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.16.m16.1.1.2.1.cmml" xref="Sx3.SSx1.p2.16.m16.1.1.2">superscript</csymbol><apply id="Sx3.SSx1.p2.16.m16.1.1.2.2.cmml" xref="Sx3.SSx1.p2.16.m16.1.1.2"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.16.m16.1.1.2.2.1.cmml" xref="Sx3.SSx1.p2.16.m16.1.1.2">subscript</csymbol><ci id="Sx3.SSx1.p2.16.m16.1.1.2.2.2.cmml" xref="Sx3.SSx1.p2.16.m16.1.1.2.2.2">ğ‘</ci><ci id="Sx3.SSx1.p2.16.m16.1.1.2.2.3.cmml" xref="Sx3.SSx1.p2.16.m16.1.1.2.2.3">ğ‘¡</ci></apply><ci id="Sx3.SSx1.p2.16.m16.1.1.2.3.cmml" xref="Sx3.SSx1.p2.16.m16.1.1.2.3">ğ‘–</ci></apply><apply id="Sx3.SSx1.p2.16.m16.1.1.3.cmml" xref="Sx3.SSx1.p2.16.m16.1.1.3"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.16.m16.1.1.3.1.cmml" xref="Sx3.SSx1.p2.16.m16.1.1.3">subscript</csymbol><ci id="Sx3.SSx1.p2.16.m16.1.1.3.2.cmml" xref="Sx3.SSx1.p2.16.m16.1.1.3.2">ğ‘ƒ</ci><ci id="Sx3.SSx1.p2.16.m16.1.1.3.3.cmml" xref="Sx3.SSx1.p2.16.m16.1.1.3.3">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.16.m16.1c">p_{t}^{i}\in P_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.16.m16.1d">italic_p start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT âˆˆ italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>,
and create the next state Note, referred to as the current state Note <math alttext="N_{t}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.17.m17.1"><semantics id="Sx3.SSx1.p2.17.m17.1a"><msub id="Sx3.SSx1.p2.17.m17.1.1" xref="Sx3.SSx1.p2.17.m17.1.1.cmml"><mi id="Sx3.SSx1.p2.17.m17.1.1.2" xref="Sx3.SSx1.p2.17.m17.1.1.2.cmml">N</mi><mi id="Sx3.SSx1.p2.17.m17.1.1.3" xref="Sx3.SSx1.p2.17.m17.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.17.m17.1b"><apply id="Sx3.SSx1.p2.17.m17.1.1.cmml" xref="Sx3.SSx1.p2.17.m17.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.17.m17.1.1.1.cmml" xref="Sx3.SSx1.p2.17.m17.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.17.m17.1.1.2.cmml" xref="Sx3.SSx1.p2.17.m17.1.1.2">ğ‘</ci><ci id="Sx3.SSx1.p2.17.m17.1.1.3.cmml" xref="Sx3.SSx1.p2.17.m17.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.17.m17.1c">N_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.17.m17.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.
Subsequently, the <span class="ltx_text ltx_font_bold" id="Sx3.SSx1.p2.26.2">Adaptive Memory Reviewer</span> <math alttext="\bm{\mathcal{V}}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.18.m18.1"><semantics id="Sx3.SSx1.p2.18.m18.1a"><mi class="ltx_font_mathcaligraphic" id="Sx3.SSx1.p2.18.m18.1.1" xref="Sx3.SSx1.p2.18.m18.1.1.cmml">ğ“¥</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.18.m18.1b"><ci id="Sx3.SSx1.p2.18.m18.1.1.cmml" xref="Sx3.SSx1.p2.18.m18.1.1">ğ“¥</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.18.m18.1c">\bm{\mathcal{V}}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.18.m18.1d">bold_caligraphic_V</annotation></semantics></math> conducts a multi-dimensional evaluation of both <math alttext="N_{t}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.19.m19.1"><semantics id="Sx3.SSx1.p2.19.m19.1a"><msub id="Sx3.SSx1.p2.19.m19.1.1" xref="Sx3.SSx1.p2.19.m19.1.1.cmml"><mi id="Sx3.SSx1.p2.19.m19.1.1.2" xref="Sx3.SSx1.p2.19.m19.1.1.2.cmml">N</mi><mi id="Sx3.SSx1.p2.19.m19.1.1.3" xref="Sx3.SSx1.p2.19.m19.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.19.m19.1b"><apply id="Sx3.SSx1.p2.19.m19.1.1.cmml" xref="Sx3.SSx1.p2.19.m19.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.19.m19.1.1.1.cmml" xref="Sx3.SSx1.p2.19.m19.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.19.m19.1.1.2.cmml" xref="Sx3.SSx1.p2.19.m19.1.1.2">ğ‘</ci><ci id="Sx3.SSx1.p2.19.m19.1.1.3.cmml" xref="Sx3.SSx1.p2.19.m19.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.19.m19.1c">N_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.19.m19.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.20.m20.1"><semantics id="Sx3.SSx1.p2.20.m20.1a"><msub id="Sx3.SSx1.p2.20.m20.1.1" xref="Sx3.SSx1.p2.20.m20.1.1.cmml"><mi id="Sx3.SSx1.p2.20.m20.1.1.2" xref="Sx3.SSx1.p2.20.m20.1.1.2.cmml">M</mi><mrow id="Sx3.SSx1.p2.20.m20.1.1.3" xref="Sx3.SSx1.p2.20.m20.1.1.3.cmml"><mi id="Sx3.SSx1.p2.20.m20.1.1.3.2" xref="Sx3.SSx1.p2.20.m20.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx1.p2.20.m20.1.1.3.1" xref="Sx3.SSx1.p2.20.m20.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx1.p2.20.m20.1.1.3.3" xref="Sx3.SSx1.p2.20.m20.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx1.p2.20.m20.1.1.3.1a" xref="Sx3.SSx1.p2.20.m20.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx1.p2.20.m20.1.1.3.4" xref="Sx3.SSx1.p2.20.m20.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.20.m20.1b"><apply id="Sx3.SSx1.p2.20.m20.1.1.cmml" xref="Sx3.SSx1.p2.20.m20.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.20.m20.1.1.1.cmml" xref="Sx3.SSx1.p2.20.m20.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.20.m20.1.1.2.cmml" xref="Sx3.SSx1.p2.20.m20.1.1.2">ğ‘€</ci><apply id="Sx3.SSx1.p2.20.m20.1.1.3.cmml" xref="Sx3.SSx1.p2.20.m20.1.1.3"><times id="Sx3.SSx1.p2.20.m20.1.1.3.1.cmml" xref="Sx3.SSx1.p2.20.m20.1.1.3.1"></times><ci id="Sx3.SSx1.p2.20.m20.1.1.3.2.cmml" xref="Sx3.SSx1.p2.20.m20.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx1.p2.20.m20.1.1.3.3.cmml" xref="Sx3.SSx1.p2.20.m20.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx1.p2.20.m20.1.1.3.4.cmml" xref="Sx3.SSx1.p2.20.m20.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.20.m20.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.20.m20.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, yielding a binary quality critique label.
This label dictates whether the content of <math alttext="N_{t}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.21.m21.1"><semantics id="Sx3.SSx1.p2.21.m21.1a"><msub id="Sx3.SSx1.p2.21.m21.1.1" xref="Sx3.SSx1.p2.21.m21.1.1.cmml"><mi id="Sx3.SSx1.p2.21.m21.1.1.2" xref="Sx3.SSx1.p2.21.m21.1.1.2.cmml">N</mi><mi id="Sx3.SSx1.p2.21.m21.1.1.3" xref="Sx3.SSx1.p2.21.m21.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.21.m21.1b"><apply id="Sx3.SSx1.p2.21.m21.1.1.cmml" xref="Sx3.SSx1.p2.21.m21.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.21.m21.1.1.1.cmml" xref="Sx3.SSx1.p2.21.m21.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.21.m21.1.1.2.cmml" xref="Sx3.SSx1.p2.21.m21.1.1.2">ğ‘</ci><ci id="Sx3.SSx1.p2.21.m21.1.1.3.cmml" xref="Sx3.SSx1.p2.21.m21.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.21.m21.1c">N_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.21.m21.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> should supplant the existing memory to become the new <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.22.m22.1"><semantics id="Sx3.SSx1.p2.22.m22.1a"><msub id="Sx3.SSx1.p2.22.m22.1.1" xref="Sx3.SSx1.p2.22.m22.1.1.cmml"><mi id="Sx3.SSx1.p2.22.m22.1.1.2" xref="Sx3.SSx1.p2.22.m22.1.1.2.cmml">M</mi><mrow id="Sx3.SSx1.p2.22.m22.1.1.3" xref="Sx3.SSx1.p2.22.m22.1.1.3.cmml"><mi id="Sx3.SSx1.p2.22.m22.1.1.3.2" xref="Sx3.SSx1.p2.22.m22.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx1.p2.22.m22.1.1.3.1" xref="Sx3.SSx1.p2.22.m22.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx1.p2.22.m22.1.1.3.3" xref="Sx3.SSx1.p2.22.m22.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx1.p2.22.m22.1.1.3.1a" xref="Sx3.SSx1.p2.22.m22.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx1.p2.22.m22.1.1.3.4" xref="Sx3.SSx1.p2.22.m22.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.22.m22.1b"><apply id="Sx3.SSx1.p2.22.m22.1.1.cmml" xref="Sx3.SSx1.p2.22.m22.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.22.m22.1.1.1.cmml" xref="Sx3.SSx1.p2.22.m22.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.22.m22.1.1.2.cmml" xref="Sx3.SSx1.p2.22.m22.1.1.2">ğ‘€</ci><apply id="Sx3.SSx1.p2.22.m22.1.1.3.cmml" xref="Sx3.SSx1.p2.22.m22.1.1.3"><times id="Sx3.SSx1.p2.22.m22.1.1.3.1.cmml" xref="Sx3.SSx1.p2.22.m22.1.1.3.1"></times><ci id="Sx3.SSx1.p2.22.m22.1.1.3.2.cmml" xref="Sx3.SSx1.p2.22.m22.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx1.p2.22.m22.1.1.3.3.cmml" xref="Sx3.SSx1.p2.22.m22.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx1.p2.22.m22.1.1.3.4.cmml" xref="Sx3.SSx1.p2.22.m22.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.22.m22.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.22.m22.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.
Specifically, a label value of â€œ<span class="ltx_text ltx_font_typewriter" id="Sx3.SSx1.p2.26.3">true</span>â€ signifies that <math alttext="N_{t}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.23.m23.1"><semantics id="Sx3.SSx1.p2.23.m23.1a"><msub id="Sx3.SSx1.p2.23.m23.1.1" xref="Sx3.SSx1.p2.23.m23.1.1.cmml"><mi id="Sx3.SSx1.p2.23.m23.1.1.2" xref="Sx3.SSx1.p2.23.m23.1.1.2.cmml">N</mi><mi id="Sx3.SSx1.p2.23.m23.1.1.3" xref="Sx3.SSx1.p2.23.m23.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.23.m23.1b"><apply id="Sx3.SSx1.p2.23.m23.1.1.cmml" xref="Sx3.SSx1.p2.23.m23.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.23.m23.1.1.1.cmml" xref="Sx3.SSx1.p2.23.m23.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.23.m23.1.1.2.cmml" xref="Sx3.SSx1.p2.23.m23.1.1.2">ğ‘</ci><ci id="Sx3.SSx1.p2.23.m23.1.1.3.cmml" xref="Sx3.SSx1.p2.23.m23.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.23.m23.1c">N_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.23.m23.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> should replace the content of memory and vice-versa.
After the review process, we continue the iterative information collection until the adaptive memory reviewer triggers the termination condition for iterations.
Upon conclusion of the iterations, we employ the <span class="ltx_text ltx_font_bold" id="Sx3.SSx1.p2.26.4">Task-oriented Generator</span> <math alttext="\bm{\mathcal{G}}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.24.m24.1"><semantics id="Sx3.SSx1.p2.24.m24.1a"><mi class="ltx_font_mathcaligraphic" id="Sx3.SSx1.p2.24.m24.1.1" xref="Sx3.SSx1.p2.24.m24.1.1.cmml">ğ“–</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.24.m24.1b"><ci id="Sx3.SSx1.p2.24.m24.1.1.cmml" xref="Sx3.SSx1.p2.24.m24.1.1">ğ“–</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.24.m24.1c">\bm{\mathcal{G}}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.24.m24.1d">bold_caligraphic_G</annotation></semantics></math> to yield the final answer <math alttext="\alpha\in A" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.25.m25.1"><semantics id="Sx3.SSx1.p2.25.m25.1a"><mrow id="Sx3.SSx1.p2.25.m25.1.1" xref="Sx3.SSx1.p2.25.m25.1.1.cmml"><mi id="Sx3.SSx1.p2.25.m25.1.1.2" xref="Sx3.SSx1.p2.25.m25.1.1.2.cmml">Î±</mi><mo id="Sx3.SSx1.p2.25.m25.1.1.1" xref="Sx3.SSx1.p2.25.m25.1.1.1.cmml">âˆˆ</mo><mi id="Sx3.SSx1.p2.25.m25.1.1.3" xref="Sx3.SSx1.p2.25.m25.1.1.3.cmml">A</mi></mrow><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.25.m25.1b"><apply id="Sx3.SSx1.p2.25.m25.1.1.cmml" xref="Sx3.SSx1.p2.25.m25.1.1"><in id="Sx3.SSx1.p2.25.m25.1.1.1.cmml" xref="Sx3.SSx1.p2.25.m25.1.1.1"></in><ci id="Sx3.SSx1.p2.25.m25.1.1.2.cmml" xref="Sx3.SSx1.p2.25.m25.1.1.2">ğ›¼</ci><ci id="Sx3.SSx1.p2.25.m25.1.1.3.cmml" xref="Sx3.SSx1.p2.25.m25.1.1.3">ğ´</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.25.m25.1c">\alpha\in A</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.25.m25.1d">italic_Î± âˆˆ italic_A</annotation></semantics></math> via LLM zero-shot in-context learning (ICL), using the context of <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx1.p2.26.m26.1"><semantics id="Sx3.SSx1.p2.26.m26.1a"><msub id="Sx3.SSx1.p2.26.m26.1.1" xref="Sx3.SSx1.p2.26.m26.1.1.cmml"><mi id="Sx3.SSx1.p2.26.m26.1.1.2" xref="Sx3.SSx1.p2.26.m26.1.1.2.cmml">M</mi><mrow id="Sx3.SSx1.p2.26.m26.1.1.3" xref="Sx3.SSx1.p2.26.m26.1.1.3.cmml"><mi id="Sx3.SSx1.p2.26.m26.1.1.3.2" xref="Sx3.SSx1.p2.26.m26.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx1.p2.26.m26.1.1.3.1" xref="Sx3.SSx1.p2.26.m26.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx1.p2.26.m26.1.1.3.3" xref="Sx3.SSx1.p2.26.m26.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx1.p2.26.m26.1.1.3.1a" xref="Sx3.SSx1.p2.26.m26.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx1.p2.26.m26.1.1.3.4" xref="Sx3.SSx1.p2.26.m26.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx1.p2.26.m26.1b"><apply id="Sx3.SSx1.p2.26.m26.1.1.cmml" xref="Sx3.SSx1.p2.26.m26.1.1"><csymbol cd="ambiguous" id="Sx3.SSx1.p2.26.m26.1.1.1.cmml" xref="Sx3.SSx1.p2.26.m26.1.1">subscript</csymbol><ci id="Sx3.SSx1.p2.26.m26.1.1.2.cmml" xref="Sx3.SSx1.p2.26.m26.1.1.2">ğ‘€</ci><apply id="Sx3.SSx1.p2.26.m26.1.1.3.cmml" xref="Sx3.SSx1.p2.26.m26.1.1.3"><times id="Sx3.SSx1.p2.26.m26.1.1.3.1.cmml" xref="Sx3.SSx1.p2.26.m26.1.1.3.1"></times><ci id="Sx3.SSx1.p2.26.m26.1.1.3.2.cmml" xref="Sx3.SSx1.p2.26.m26.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx1.p2.26.m26.1.1.3.3.cmml" xref="Sx3.SSx1.p2.26.m26.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx1.p2.26.m26.1.1.3.4.cmml" xref="Sx3.SSx1.p2.26.m26.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx1.p2.26.m26.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx1.p2.26.m26.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math> as the input.</p>
</div>
</section>
<section class="ltx_subsection" id="Sx3.SSx2">
<h3 class="ltx_title ltx_title_subsection">Iterative Information Collector (IIC)</h3>
<section class="ltx_subsubsection" id="Sx3.SSx2.SSSx1">
<h4 class="ltx_title ltx_title_subsubsection">Stage 1: Note initialization stage.</h4>
<div class="ltx_para" id="Sx3.SSx2.SSSx1.p1">
<p class="ltx_p" id="Sx3.SSx2.SSSx1.p1.3">We begin the collector with a question <math alttext="q" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx1.p1.1.m1.1"><semantics id="Sx3.SSx2.SSSx1.p1.1.m1.1a"><mi id="Sx3.SSx2.SSSx1.p1.1.m1.1.1" xref="Sx3.SSx2.SSSx1.p1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx1.p1.1.m1.1b"><ci id="Sx3.SSx2.SSSx1.p1.1.m1.1.1.cmml" xref="Sx3.SSx2.SSSx1.p1.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx1.p1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx1.p1.1.m1.1d">italic_q</annotation></semantics></math>, then delegate the retrieval to either the BM25-based or DPR-based retriever, obtaining <math alttext="k" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx1.p1.2.m2.1"><semantics id="Sx3.SSx2.SSSx1.p1.2.m2.1a"><mi id="Sx3.SSx2.SSSx1.p1.2.m2.1.1" xref="Sx3.SSx2.SSSx1.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx1.p1.2.m2.1b"><ci id="Sx3.SSx2.SSSx1.p1.2.m2.1.1.cmml" xref="Sx3.SSx2.SSSx1.p1.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx1.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx1.p1.2.m2.1d">italic_k</annotation></semantics></math> passages relevant to <math alttext="q" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx1.p1.3.m3.1"><semantics id="Sx3.SSx2.SSSx1.p1.3.m3.1a"><mi id="Sx3.SSx2.SSSx1.p1.3.m3.1.1" xref="Sx3.SSx2.SSSx1.p1.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx1.p1.3.m3.1b"><ci id="Sx3.SSx2.SSSx1.p1.3.m3.1.1.cmml" xref="Sx3.SSx2.SSSx1.p1.3.m3.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx1.p1.3.m3.1c">q</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx1.p1.3.m3.1d">italic_q</annotation></semantics></math> as references.
Unlike the vanilla RAG approach where all retrieved passages are directly concatenated as input to the LLM, we initialize a note as an information carrier to record and integrate valuable retrieved information.
Specifically, we adopt a coarse-grained, note-based approach. In this approach, we do not impose restrictions on the specific format or specific information aspects of the note. Meanwhile, we utilize zero-shot in-context learning to ensure the diversity of the LLMâ€™s capabilities. Essentially, we completely delegate the decision-making to the LLM, only informing it of the highest-level objective, which is to maximize information gathering.
In the following, we provide the mathematical expression for the note initialization.</p>
<table class="ltx_equation ltx_eqn_table" id="Sx3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="N_{0}=\text{LLM}(prompt_{init}(q,P_{0}))" class="ltx_Math" display="block" id="Sx3.E1.m1.2"><semantics id="Sx3.E1.m1.2a"><mrow id="Sx3.E1.m1.2.2" xref="Sx3.E1.m1.2.2.cmml"><msub id="Sx3.E1.m1.2.2.3" xref="Sx3.E1.m1.2.2.3.cmml"><mi id="Sx3.E1.m1.2.2.3.2" xref="Sx3.E1.m1.2.2.3.2.cmml">N</mi><mn id="Sx3.E1.m1.2.2.3.3" xref="Sx3.E1.m1.2.2.3.3.cmml">0</mn></msub><mo id="Sx3.E1.m1.2.2.2" xref="Sx3.E1.m1.2.2.2.cmml">=</mo><mrow id="Sx3.E1.m1.2.2.1" xref="Sx3.E1.m1.2.2.1.cmml"><mtext id="Sx3.E1.m1.2.2.1.3" xref="Sx3.E1.m1.2.2.1.3a.cmml">LLM</mtext><mo id="Sx3.E1.m1.2.2.1.2" xref="Sx3.E1.m1.2.2.1.2.cmml">â¢</mo><mrow id="Sx3.E1.m1.2.2.1.1.1" xref="Sx3.E1.m1.2.2.1.1.1.1.cmml"><mo id="Sx3.E1.m1.2.2.1.1.1.2" stretchy="false" xref="Sx3.E1.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="Sx3.E1.m1.2.2.1.1.1.1" xref="Sx3.E1.m1.2.2.1.1.1.1.cmml"><mi id="Sx3.E1.m1.2.2.1.1.1.1.3" xref="Sx3.E1.m1.2.2.1.1.1.1.3.cmml">p</mi><mo id="Sx3.E1.m1.2.2.1.1.1.1.2" xref="Sx3.E1.m1.2.2.1.1.1.1.2.cmml">â¢</mo><mi id="Sx3.E1.m1.2.2.1.1.1.1.4" xref="Sx3.E1.m1.2.2.1.1.1.1.4.cmml">r</mi><mo id="Sx3.E1.m1.2.2.1.1.1.1.2a" xref="Sx3.E1.m1.2.2.1.1.1.1.2.cmml">â¢</mo><mi id="Sx3.E1.m1.2.2.1.1.1.1.5" xref="Sx3.E1.m1.2.2.1.1.1.1.5.cmml">o</mi><mo id="Sx3.E1.m1.2.2.1.1.1.1.2b" xref="Sx3.E1.m1.2.2.1.1.1.1.2.cmml">â¢</mo><mi id="Sx3.E1.m1.2.2.1.1.1.1.6" xref="Sx3.E1.m1.2.2.1.1.1.1.6.cmml">m</mi><mo id="Sx3.E1.m1.2.2.1.1.1.1.2c" xref="Sx3.E1.m1.2.2.1.1.1.1.2.cmml">â¢</mo><mi id="Sx3.E1.m1.2.2.1.1.1.1.7" xref="Sx3.E1.m1.2.2.1.1.1.1.7.cmml">p</mi><mo id="Sx3.E1.m1.2.2.1.1.1.1.2d" xref="Sx3.E1.m1.2.2.1.1.1.1.2.cmml">â¢</mo><msub id="Sx3.E1.m1.2.2.1.1.1.1.8" xref="Sx3.E1.m1.2.2.1.1.1.1.8.cmml"><mi id="Sx3.E1.m1.2.2.1.1.1.1.8.2" xref="Sx3.E1.m1.2.2.1.1.1.1.8.2.cmml">t</mi><mrow id="Sx3.E1.m1.2.2.1.1.1.1.8.3" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.cmml"><mi id="Sx3.E1.m1.2.2.1.1.1.1.8.3.2" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.2.cmml">i</mi><mo id="Sx3.E1.m1.2.2.1.1.1.1.8.3.1" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.1.cmml">â¢</mo><mi id="Sx3.E1.m1.2.2.1.1.1.1.8.3.3" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.3.cmml">n</mi><mo id="Sx3.E1.m1.2.2.1.1.1.1.8.3.1a" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.1.cmml">â¢</mo><mi id="Sx3.E1.m1.2.2.1.1.1.1.8.3.4" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.4.cmml">i</mi><mo id="Sx3.E1.m1.2.2.1.1.1.1.8.3.1b" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.1.cmml">â¢</mo><mi id="Sx3.E1.m1.2.2.1.1.1.1.8.3.5" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.5.cmml">t</mi></mrow></msub><mo id="Sx3.E1.m1.2.2.1.1.1.1.2e" xref="Sx3.E1.m1.2.2.1.1.1.1.2.cmml">â¢</mo><mrow id="Sx3.E1.m1.2.2.1.1.1.1.1.1" xref="Sx3.E1.m1.2.2.1.1.1.1.1.2.cmml"><mo id="Sx3.E1.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="Sx3.E1.m1.2.2.1.1.1.1.1.2.cmml">(</mo><mi id="Sx3.E1.m1.1.1" xref="Sx3.E1.m1.1.1.cmml">q</mi><mo id="Sx3.E1.m1.2.2.1.1.1.1.1.1.3" xref="Sx3.E1.m1.2.2.1.1.1.1.1.2.cmml">,</mo><msub id="Sx3.E1.m1.2.2.1.1.1.1.1.1.1" xref="Sx3.E1.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="Sx3.E1.m1.2.2.1.1.1.1.1.1.1.2" xref="Sx3.E1.m1.2.2.1.1.1.1.1.1.1.2.cmml">P</mi><mn id="Sx3.E1.m1.2.2.1.1.1.1.1.1.1.3" xref="Sx3.E1.m1.2.2.1.1.1.1.1.1.1.3.cmml">0</mn></msub><mo id="Sx3.E1.m1.2.2.1.1.1.1.1.1.4" stretchy="false" xref="Sx3.E1.m1.2.2.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="Sx3.E1.m1.2.2.1.1.1.3" stretchy="false" xref="Sx3.E1.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E1.m1.2b"><apply id="Sx3.E1.m1.2.2.cmml" xref="Sx3.E1.m1.2.2"><eq id="Sx3.E1.m1.2.2.2.cmml" xref="Sx3.E1.m1.2.2.2"></eq><apply id="Sx3.E1.m1.2.2.3.cmml" xref="Sx3.E1.m1.2.2.3"><csymbol cd="ambiguous" id="Sx3.E1.m1.2.2.3.1.cmml" xref="Sx3.E1.m1.2.2.3">subscript</csymbol><ci id="Sx3.E1.m1.2.2.3.2.cmml" xref="Sx3.E1.m1.2.2.3.2">ğ‘</ci><cn id="Sx3.E1.m1.2.2.3.3.cmml" type="integer" xref="Sx3.E1.m1.2.2.3.3">0</cn></apply><apply id="Sx3.E1.m1.2.2.1.cmml" xref="Sx3.E1.m1.2.2.1"><times id="Sx3.E1.m1.2.2.1.2.cmml" xref="Sx3.E1.m1.2.2.1.2"></times><ci id="Sx3.E1.m1.2.2.1.3a.cmml" xref="Sx3.E1.m1.2.2.1.3"><mtext id="Sx3.E1.m1.2.2.1.3.cmml" xref="Sx3.E1.m1.2.2.1.3">LLM</mtext></ci><apply id="Sx3.E1.m1.2.2.1.1.1.1.cmml" xref="Sx3.E1.m1.2.2.1.1.1"><times id="Sx3.E1.m1.2.2.1.1.1.1.2.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.2"></times><ci id="Sx3.E1.m1.2.2.1.1.1.1.3.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.3">ğ‘</ci><ci id="Sx3.E1.m1.2.2.1.1.1.1.4.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.4">ğ‘Ÿ</ci><ci id="Sx3.E1.m1.2.2.1.1.1.1.5.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.5">ğ‘œ</ci><ci id="Sx3.E1.m1.2.2.1.1.1.1.6.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.6">ğ‘š</ci><ci id="Sx3.E1.m1.2.2.1.1.1.1.7.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.7">ğ‘</ci><apply id="Sx3.E1.m1.2.2.1.1.1.1.8.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.8"><csymbol cd="ambiguous" id="Sx3.E1.m1.2.2.1.1.1.1.8.1.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.8">subscript</csymbol><ci id="Sx3.E1.m1.2.2.1.1.1.1.8.2.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.8.2">ğ‘¡</ci><apply id="Sx3.E1.m1.2.2.1.1.1.1.8.3.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3"><times id="Sx3.E1.m1.2.2.1.1.1.1.8.3.1.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.1"></times><ci id="Sx3.E1.m1.2.2.1.1.1.1.8.3.2.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.2">ğ‘–</ci><ci id="Sx3.E1.m1.2.2.1.1.1.1.8.3.3.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.3">ğ‘›</ci><ci id="Sx3.E1.m1.2.2.1.1.1.1.8.3.4.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.4">ğ‘–</ci><ci id="Sx3.E1.m1.2.2.1.1.1.1.8.3.5.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.8.3.5">ğ‘¡</ci></apply></apply><interval closure="open" id="Sx3.E1.m1.2.2.1.1.1.1.1.2.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.1.1"><ci id="Sx3.E1.m1.1.1.cmml" xref="Sx3.E1.m1.1.1">ğ‘</ci><apply id="Sx3.E1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="Sx3.E1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="Sx3.E1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="Sx3.E1.m1.2.2.1.1.1.1.1.1.1.2">ğ‘ƒ</ci><cn id="Sx3.E1.m1.2.2.1.1.1.1.1.1.1.3.cmml" type="integer" xref="Sx3.E1.m1.2.2.1.1.1.1.1.1.1.3">0</cn></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E1.m1.2c">N_{0}=\text{LLM}(prompt_{init}(q,P_{0}))</annotation><annotation encoding="application/x-llamapun" id="Sx3.E1.m1.2d">italic_N start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT = LLM ( italic_p italic_r italic_o italic_m italic_p italic_t start_POSTSUBSCRIPT italic_i italic_n italic_i italic_t end_POSTSUBSCRIPT ( italic_q , italic_P start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="Sx3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="N_{0}=M_{0}\rightarrow M_{opt}" class="ltx_Math" display="block" id="Sx3.E2.m1.1"><semantics id="Sx3.E2.m1.1a"><mrow id="Sx3.E2.m1.1.1" xref="Sx3.E2.m1.1.1.cmml"><msub id="Sx3.E2.m1.1.1.2" xref="Sx3.E2.m1.1.1.2.cmml"><mi id="Sx3.E2.m1.1.1.2.2" xref="Sx3.E2.m1.1.1.2.2.cmml">N</mi><mn id="Sx3.E2.m1.1.1.2.3" xref="Sx3.E2.m1.1.1.2.3.cmml">0</mn></msub><mo id="Sx3.E2.m1.1.1.3" xref="Sx3.E2.m1.1.1.3.cmml">=</mo><msub id="Sx3.E2.m1.1.1.4" xref="Sx3.E2.m1.1.1.4.cmml"><mi id="Sx3.E2.m1.1.1.4.2" xref="Sx3.E2.m1.1.1.4.2.cmml">M</mi><mn id="Sx3.E2.m1.1.1.4.3" xref="Sx3.E2.m1.1.1.4.3.cmml">0</mn></msub><mo id="Sx3.E2.m1.1.1.5" stretchy="false" xref="Sx3.E2.m1.1.1.5.cmml">â†’</mo><msub id="Sx3.E2.m1.1.1.6" xref="Sx3.E2.m1.1.1.6.cmml"><mi id="Sx3.E2.m1.1.1.6.2" xref="Sx3.E2.m1.1.1.6.2.cmml">M</mi><mrow id="Sx3.E2.m1.1.1.6.3" xref="Sx3.E2.m1.1.1.6.3.cmml"><mi id="Sx3.E2.m1.1.1.6.3.2" xref="Sx3.E2.m1.1.1.6.3.2.cmml">o</mi><mo id="Sx3.E2.m1.1.1.6.3.1" xref="Sx3.E2.m1.1.1.6.3.1.cmml">â¢</mo><mi id="Sx3.E2.m1.1.1.6.3.3" xref="Sx3.E2.m1.1.1.6.3.3.cmml">p</mi><mo id="Sx3.E2.m1.1.1.6.3.1a" xref="Sx3.E2.m1.1.1.6.3.1.cmml">â¢</mo><mi id="Sx3.E2.m1.1.1.6.3.4" xref="Sx3.E2.m1.1.1.6.3.4.cmml">t</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E2.m1.1b"><apply id="Sx3.E2.m1.1.1.cmml" xref="Sx3.E2.m1.1.1"><and id="Sx3.E2.m1.1.1a.cmml" xref="Sx3.E2.m1.1.1"></and><apply id="Sx3.E2.m1.1.1b.cmml" xref="Sx3.E2.m1.1.1"><eq id="Sx3.E2.m1.1.1.3.cmml" xref="Sx3.E2.m1.1.1.3"></eq><apply id="Sx3.E2.m1.1.1.2.cmml" xref="Sx3.E2.m1.1.1.2"><csymbol cd="ambiguous" id="Sx3.E2.m1.1.1.2.1.cmml" xref="Sx3.E2.m1.1.1.2">subscript</csymbol><ci id="Sx3.E2.m1.1.1.2.2.cmml" xref="Sx3.E2.m1.1.1.2.2">ğ‘</ci><cn id="Sx3.E2.m1.1.1.2.3.cmml" type="integer" xref="Sx3.E2.m1.1.1.2.3">0</cn></apply><apply id="Sx3.E2.m1.1.1.4.cmml" xref="Sx3.E2.m1.1.1.4"><csymbol cd="ambiguous" id="Sx3.E2.m1.1.1.4.1.cmml" xref="Sx3.E2.m1.1.1.4">subscript</csymbol><ci id="Sx3.E2.m1.1.1.4.2.cmml" xref="Sx3.E2.m1.1.1.4.2">ğ‘€</ci><cn id="Sx3.E2.m1.1.1.4.3.cmml" type="integer" xref="Sx3.E2.m1.1.1.4.3">0</cn></apply></apply><apply id="Sx3.E2.m1.1.1c.cmml" xref="Sx3.E2.m1.1.1"><ci id="Sx3.E2.m1.1.1.5.cmml" xref="Sx3.E2.m1.1.1.5">â†’</ci><share href="https://arxiv.org/html/2410.08821v1#Sx3.E2.m1.1.1.4.cmml" id="Sx3.E2.m1.1.1d.cmml" xref="Sx3.E2.m1.1.1"></share><apply id="Sx3.E2.m1.1.1.6.cmml" xref="Sx3.E2.m1.1.1.6"><csymbol cd="ambiguous" id="Sx3.E2.m1.1.1.6.1.cmml" xref="Sx3.E2.m1.1.1.6">subscript</csymbol><ci id="Sx3.E2.m1.1.1.6.2.cmml" xref="Sx3.E2.m1.1.1.6.2">ğ‘€</ci><apply id="Sx3.E2.m1.1.1.6.3.cmml" xref="Sx3.E2.m1.1.1.6.3"><times id="Sx3.E2.m1.1.1.6.3.1.cmml" xref="Sx3.E2.m1.1.1.6.3.1"></times><ci id="Sx3.E2.m1.1.1.6.3.2.cmml" xref="Sx3.E2.m1.1.1.6.3.2">ğ‘œ</ci><ci id="Sx3.E2.m1.1.1.6.3.3.cmml" xref="Sx3.E2.m1.1.1.6.3.3">ğ‘</ci><ci id="Sx3.E2.m1.1.1.6.3.4.cmml" xref="Sx3.E2.m1.1.1.6.3.4">ğ‘¡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E2.m1.1c">N_{0}=M_{0}\rightarrow M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.E2.m1.1d">italic_N start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT = italic_M start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT â†’ italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="Sx3.SSx2.SSSx1.p1.9">The prompt template of the note initialization stage is defined as <math alttext="prompt_{init}(\cdot)" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx1.p1.4.m1.1"><semantics id="Sx3.SSx2.SSSx1.p1.4.m1.1a"><mrow id="Sx3.SSx2.SSSx1.p1.4.m1.1.2" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.cmml"><mi id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.2" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.2.cmml">p</mi><mo id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.3" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.3.cmml">r</mi><mo id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1a" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.4" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.4.cmml">o</mi><mo id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1b" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.5" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.5.cmml">m</mi><mo id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1c" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.6" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.6.cmml">p</mi><mo id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1d" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1.cmml">â¢</mo><msub id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.cmml"><mi id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.2" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.2.cmml">t</mi><mrow id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.cmml"><mi id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.2" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.2.cmml">i</mi><mo id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.1" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.3" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.3.cmml">n</mi><mo id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.1a" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.4" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.4.cmml">i</mi><mo id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.1b" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.5" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.5.cmml">t</mi></mrow></msub><mo id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1e" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1.cmml">â¢</mo><mrow id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.8.2" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.cmml"><mo id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.8.2.1" stretchy="false" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.cmml">(</mo><mo id="Sx3.SSx2.SSSx1.p1.4.m1.1.1" lspace="0em" rspace="0em" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.1.cmml">â‹…</mo><mo id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.8.2.2" stretchy="false" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx1.p1.4.m1.1b"><apply id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2"><times id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.1"></times><ci id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.2.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.2">ğ‘</ci><ci id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.3.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.3">ğ‘Ÿ</ci><ci id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.4.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.4">ğ‘œ</ci><ci id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.5.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.5">ğ‘š</ci><ci id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.6.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.6">ğ‘</ci><apply id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.1.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7">subscript</csymbol><ci id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.2.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.2">ğ‘¡</ci><apply id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3"><times id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.1.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.1"></times><ci id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.2.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.2">ğ‘–</ci><ci id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.3.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.3">ğ‘›</ci><ci id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.4.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.4">ğ‘–</ci><ci id="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.5.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.2.7.3.5">ğ‘¡</ci></apply></apply><ci id="Sx3.SSx2.SSSx1.p1.4.m1.1.1.cmml" xref="Sx3.SSx2.SSSx1.p1.4.m1.1.1">â‹…</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx1.p1.4.m1.1c">prompt_{init}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx1.p1.4.m1.1d">italic_p italic_r italic_o italic_m italic_p italic_t start_POSTSUBSCRIPT italic_i italic_n italic_i italic_t end_POSTSUBSCRIPT ( â‹… )</annotation></semantics></math>. Here, <math alttext="q" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx1.p1.5.m2.1"><semantics id="Sx3.SSx2.SSSx1.p1.5.m2.1a"><mi id="Sx3.SSx2.SSSx1.p1.5.m2.1.1" xref="Sx3.SSx2.SSSx1.p1.5.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx1.p1.5.m2.1b"><ci id="Sx3.SSx2.SSSx1.p1.5.m2.1.1.cmml" xref="Sx3.SSx2.SSSx1.p1.5.m2.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx1.p1.5.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx1.p1.5.m2.1d">italic_q</annotation></semantics></math>, symbol <math alttext="\rightarrow" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx1.p1.6.m3.1"><semantics id="Sx3.SSx2.SSSx1.p1.6.m3.1a"><mo id="Sx3.SSx2.SSSx1.p1.6.m3.1.1" stretchy="false" xref="Sx3.SSx2.SSSx1.p1.6.m3.1.1.cmml">â†’</mo><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx1.p1.6.m3.1b"><ci id="Sx3.SSx2.SSSx1.p1.6.m3.1.1.cmml" xref="Sx3.SSx2.SSSx1.p1.6.m3.1.1">â†’</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx1.p1.6.m3.1c">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx1.p1.6.m3.1d">â†’</annotation></semantics></math>, and <math alttext="P_{0}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx1.p1.7.m4.1"><semantics id="Sx3.SSx2.SSSx1.p1.7.m4.1a"><msub id="Sx3.SSx2.SSSx1.p1.7.m4.1.1" xref="Sx3.SSx2.SSSx1.p1.7.m4.1.1.cmml"><mi id="Sx3.SSx2.SSSx1.p1.7.m4.1.1.2" xref="Sx3.SSx2.SSSx1.p1.7.m4.1.1.2.cmml">P</mi><mn id="Sx3.SSx2.SSSx1.p1.7.m4.1.1.3" xref="Sx3.SSx2.SSSx1.p1.7.m4.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx1.p1.7.m4.1b"><apply id="Sx3.SSx2.SSSx1.p1.7.m4.1.1.cmml" xref="Sx3.SSx2.SSSx1.p1.7.m4.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx1.p1.7.m4.1.1.1.cmml" xref="Sx3.SSx2.SSSx1.p1.7.m4.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx1.p1.7.m4.1.1.2.cmml" xref="Sx3.SSx2.SSSx1.p1.7.m4.1.1.2">ğ‘ƒ</ci><cn id="Sx3.SSx2.SSSx1.p1.7.m4.1.1.3.cmml" type="integer" xref="Sx3.SSx2.SSSx1.p1.7.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx1.p1.7.m4.1c">P_{0}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx1.p1.7.m4.1d">italic_P start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math> represent the original query, the action of â€œbeing stored inâ€, and retrieved passages for the first time, respectively.
The generated <math alttext="N_{0}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx1.p1.8.m5.1"><semantics id="Sx3.SSx2.SSSx1.p1.8.m5.1a"><msub id="Sx3.SSx2.SSSx1.p1.8.m5.1.1" xref="Sx3.SSx2.SSSx1.p1.8.m5.1.1.cmml"><mi id="Sx3.SSx2.SSSx1.p1.8.m5.1.1.2" xref="Sx3.SSx2.SSSx1.p1.8.m5.1.1.2.cmml">N</mi><mn id="Sx3.SSx2.SSSx1.p1.8.m5.1.1.3" xref="Sx3.SSx2.SSSx1.p1.8.m5.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx1.p1.8.m5.1b"><apply id="Sx3.SSx2.SSSx1.p1.8.m5.1.1.cmml" xref="Sx3.SSx2.SSSx1.p1.8.m5.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx1.p1.8.m5.1.1.1.cmml" xref="Sx3.SSx2.SSSx1.p1.8.m5.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx1.p1.8.m5.1.1.2.cmml" xref="Sx3.SSx2.SSSx1.p1.8.m5.1.1.2">ğ‘</ci><cn id="Sx3.SSx2.SSSx1.p1.8.m5.1.1.3.cmml" type="integer" xref="Sx3.SSx2.SSSx1.p1.8.m5.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx1.p1.8.m5.1c">N_{0}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx1.p1.8.m5.1d">italic_N start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math> is directly stored in the initial memory, serving as the optimal memory <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx1.p1.9.m6.1"><semantics id="Sx3.SSx2.SSSx1.p1.9.m6.1a"><msub id="Sx3.SSx2.SSSx1.p1.9.m6.1.1" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.cmml"><mi id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.2" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.2.cmml">M</mi><mrow id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.cmml"><mi id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.2" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.1" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.3" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.1a" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.4" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx1.p1.9.m6.1b"><apply id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.cmml" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.1.cmml" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.2.cmml" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.2">ğ‘€</ci><apply id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.cmml" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3"><times id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.1.cmml" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.1"></times><ci id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.2.cmml" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.3.cmml" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.4.cmml" xref="Sx3.SSx2.SSSx1.p1.9.m6.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx1.p1.9.m6.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx1.p1.9.m6.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, which will be utilized as input for the subsequent iterative information collection stage.</p>
</div>
</section>
<section class="ltx_subsubsection" id="Sx3.SSx2.SSSx2">
<h4 class="ltx_title ltx_title_subsubsection">Stage 2: Iterative
information collection stage.</h4>
<div class="ltx_para" id="Sx3.SSx2.SSSx2.p1">
<p class="ltx_p" id="Sx3.SSx2.SSSx2.p1.3">It is crucial to predict the next high-quality query based on existing information for effectively exploring the unknown semantic space of a corpus.
We use the optimal memory to predict the next query. Similar to human behavior, we ask new questions based on our current best understanding. Specifically, the optimal memory <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx2.p1.1.m1.1"><semantics id="Sx3.SSx2.SSSx2.p1.1.m1.1a"><msub id="Sx3.SSx2.SSSx2.p1.1.m1.1.1" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.cmml"><mi id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.2" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.2.cmml">M</mi><mrow id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.cmml"><mi id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.2" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.1" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.3" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.1a" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.4" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx2.p1.1.m1.1b"><apply id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.cmml" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.1.cmml" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.2.cmml" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.2">ğ‘€</ci><apply id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.cmml" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3"><times id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.1.cmml" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.1"></times><ci id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.2.cmml" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.3.cmml" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.4.cmml" xref="Sx3.SSx2.SSSx2.p1.1.m1.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx2.p1.1.m1.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx2.p1.1.m1.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math> encompasses relevant knowledge from previously retrieved passages, stored concisely and coherently, with minimal noise from the source passages.
In practice, we input the original query <math alttext="q" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx2.p1.2.m2.1"><semantics id="Sx3.SSx2.SSSx2.p1.2.m2.1a"><mi id="Sx3.SSx2.SSSx2.p1.2.m2.1.1" xref="Sx3.SSx2.SSSx2.p1.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx2.p1.2.m2.1b"><ci id="Sx3.SSx2.SSSx2.p1.2.m2.1.1.cmml" xref="Sx3.SSx2.SSSx2.p1.2.m2.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx2.p1.2.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx2.p1.2.m2.1d">italic_q</annotation></semantics></math>, the optimal memory <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx2.p1.3.m3.1"><semantics id="Sx3.SSx2.SSSx2.p1.3.m3.1a"><msub id="Sx3.SSx2.SSSx2.p1.3.m3.1.1" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.cmml"><mi id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.2" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.2.cmml">M</mi><mrow id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.cmml"><mi id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.2" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.1" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.3" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.1a" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.4" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx2.p1.3.m3.1b"><apply id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.cmml" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.1.cmml" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.2.cmml" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.2">ğ‘€</ci><apply id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.cmml" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3"><times id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.1.cmml" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.1"></times><ci id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.2.cmml" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.3.cmml" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.4.cmml" xref="Sx3.SSx2.SSSx2.p1.3.m3.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx2.p1.3.m3.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx2.p1.3.m3.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, and the already-asked questions list to generate the high-quality query for next step retrieval.
We observe that LLMs tend to ask similar questions again if the question in the previous step is not well solved.
To avoid this, we introduce the already-asked questions list to avoid redundant or ineffective queries. We present the formula in the following.</p>
<table class="ltx_equationgroup ltx_eqn_table" id="Sx3.E3">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="Sx3.E3X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle q_{t}=\text{LLM}(prompt_{q}" class="ltx_math_unparsed" display="inline" id="Sx3.E3X.2.1.1.m1.1"><semantics id="Sx3.E3X.2.1.1.m1.1a"><mrow id="Sx3.E3X.2.1.1.m1.1b"><msub id="Sx3.E3X.2.1.1.m1.1.1"><mi id="Sx3.E3X.2.1.1.m1.1.1.2">q</mi><mi id="Sx3.E3X.2.1.1.m1.1.1.3">t</mi></msub><mo id="Sx3.E3X.2.1.1.m1.1.2">=</mo><mtext id="Sx3.E3X.2.1.1.m1.1.3">LLM</mtext><mrow id="Sx3.E3X.2.1.1.m1.1.4"><mo id="Sx3.E3X.2.1.1.m1.1.4.1" stretchy="false">(</mo><mi id="Sx3.E3X.2.1.1.m1.1.4.2">p</mi><mi id="Sx3.E3X.2.1.1.m1.1.4.3">r</mi><mi id="Sx3.E3X.2.1.1.m1.1.4.4">o</mi><mi id="Sx3.E3X.2.1.1.m1.1.4.5">m</mi><mi id="Sx3.E3X.2.1.1.m1.1.4.6">p</mi><msub id="Sx3.E3X.2.1.1.m1.1.4.7"><mi id="Sx3.E3X.2.1.1.m1.1.4.7.2">t</mi><mi id="Sx3.E3X.2.1.1.m1.1.4.7.3">q</mi></msub></mrow></mrow><annotation encoding="application/x-tex" id="Sx3.E3X.2.1.1.m1.1c">\displaystyle q_{t}=\text{LLM}(prompt_{q}</annotation><annotation encoding="application/x-llamapun" id="Sx3.E3X.2.1.1.m1.1d">italic_q start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = LLM ( italic_p italic_r italic_o italic_m italic_p italic_t start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle(q,M_{opt},Q_{ask})),q_{t}\notin Q_{ask}" class="ltx_math_unparsed" display="inline" id="Sx3.E3X.3.2.2.m1.1"><semantics id="Sx3.E3X.3.2.2.m1.1a"><mrow id="Sx3.E3X.3.2.2.m1.1b"><mrow id="Sx3.E3X.3.2.2.m1.1.2"><mo id="Sx3.E3X.3.2.2.m1.1.2.1" stretchy="false">(</mo><mi id="Sx3.E3X.3.2.2.m1.1.1">q</mi><mo id="Sx3.E3X.3.2.2.m1.1.2.2">,</mo><msub id="Sx3.E3X.3.2.2.m1.1.2.3"><mi id="Sx3.E3X.3.2.2.m1.1.2.3.2">M</mi><mrow id="Sx3.E3X.3.2.2.m1.1.2.3.3"><mi id="Sx3.E3X.3.2.2.m1.1.2.3.3.2">o</mi><mo id="Sx3.E3X.3.2.2.m1.1.2.3.3.1">â¢</mo><mi id="Sx3.E3X.3.2.2.m1.1.2.3.3.3">p</mi><mo id="Sx3.E3X.3.2.2.m1.1.2.3.3.1a">â¢</mo><mi id="Sx3.E3X.3.2.2.m1.1.2.3.3.4">t</mi></mrow></msub><mo id="Sx3.E3X.3.2.2.m1.1.2.4">,</mo><msub id="Sx3.E3X.3.2.2.m1.1.2.5"><mi id="Sx3.E3X.3.2.2.m1.1.2.5.2">Q</mi><mrow id="Sx3.E3X.3.2.2.m1.1.2.5.3"><mi id="Sx3.E3X.3.2.2.m1.1.2.5.3.2">a</mi><mo id="Sx3.E3X.3.2.2.m1.1.2.5.3.1">â¢</mo><mi id="Sx3.E3X.3.2.2.m1.1.2.5.3.3">s</mi><mo id="Sx3.E3X.3.2.2.m1.1.2.5.3.1a">â¢</mo><mi id="Sx3.E3X.3.2.2.m1.1.2.5.3.4">k</mi></mrow></msub><mo id="Sx3.E3X.3.2.2.m1.1.2.6" stretchy="false">)</mo></mrow><mo id="Sx3.E3X.3.2.2.m1.1.3" stretchy="false">)</mo><mo id="Sx3.E3X.3.2.2.m1.1.4">,</mo><mi id="Sx3.E3X.3.2.2.m1.1.5">q</mi><msub id="Sx3.E3X.3.2.2.m1.1.6"><mi id="Sx3.E3X.3.2.2.m1.1.6a"></mi><mi id="Sx3.E3X.3.2.2.m1.1.6.1">t</mi></msub><mo id="Sx3.E3X.3.2.2.m1.1.7">âˆ‰</mo><mi id="Sx3.E3X.3.2.2.m1.1.8">Q</mi><msub id="Sx3.E3X.3.2.2.m1.1.9"><mi id="Sx3.E3X.3.2.2.m1.1.9a"></mi><mrow id="Sx3.E3X.3.2.2.m1.1.9.1"><mi id="Sx3.E3X.3.2.2.m1.1.9.1.2">a</mi><mo id="Sx3.E3X.3.2.2.m1.1.9.1.1">â¢</mo><mi id="Sx3.E3X.3.2.2.m1.1.9.1.3">s</mi><mo id="Sx3.E3X.3.2.2.m1.1.9.1.1a">â¢</mo><mi id="Sx3.E3X.3.2.2.m1.1.9.1.4">k</mi></mrow></msub></mrow><annotation encoding="application/x-tex" id="Sx3.E3X.3.2.2.m1.1c">\displaystyle(q,M_{opt},Q_{ask})),q_{t}\notin Q_{ask}</annotation><annotation encoding="application/x-llamapun" id="Sx3.E3X.3.2.2.m1.1d">( italic_q , italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT , italic_Q start_POSTSUBSCRIPT italic_a italic_s italic_k end_POSTSUBSCRIPT ) ) , italic_q start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT âˆ‰ italic_Q start_POSTSUBSCRIPT italic_a italic_s italic_k end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(3)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="Sx3.E3Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle Q_{ask}" class="ltx_Math" display="inline" id="Sx3.E3Xa.2.1.1.m1.1"><semantics id="Sx3.E3Xa.2.1.1.m1.1a"><msub id="Sx3.E3Xa.2.1.1.m1.1.1" xref="Sx3.E3Xa.2.1.1.m1.1.1.cmml"><mi id="Sx3.E3Xa.2.1.1.m1.1.1.2" xref="Sx3.E3Xa.2.1.1.m1.1.1.2.cmml">Q</mi><mrow id="Sx3.E3Xa.2.1.1.m1.1.1.3" xref="Sx3.E3Xa.2.1.1.m1.1.1.3.cmml"><mi id="Sx3.E3Xa.2.1.1.m1.1.1.3.2" xref="Sx3.E3Xa.2.1.1.m1.1.1.3.2.cmml">a</mi><mo id="Sx3.E3Xa.2.1.1.m1.1.1.3.1" xref="Sx3.E3Xa.2.1.1.m1.1.1.3.1.cmml">â¢</mo><mi id="Sx3.E3Xa.2.1.1.m1.1.1.3.3" xref="Sx3.E3Xa.2.1.1.m1.1.1.3.3.cmml">s</mi><mo id="Sx3.E3Xa.2.1.1.m1.1.1.3.1a" xref="Sx3.E3Xa.2.1.1.m1.1.1.3.1.cmml">â¢</mo><mi id="Sx3.E3Xa.2.1.1.m1.1.1.3.4" xref="Sx3.E3Xa.2.1.1.m1.1.1.3.4.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.E3Xa.2.1.1.m1.1b"><apply id="Sx3.E3Xa.2.1.1.m1.1.1.cmml" xref="Sx3.E3Xa.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="Sx3.E3Xa.2.1.1.m1.1.1.1.cmml" xref="Sx3.E3Xa.2.1.1.m1.1.1">subscript</csymbol><ci id="Sx3.E3Xa.2.1.1.m1.1.1.2.cmml" xref="Sx3.E3Xa.2.1.1.m1.1.1.2">ğ‘„</ci><apply id="Sx3.E3Xa.2.1.1.m1.1.1.3.cmml" xref="Sx3.E3Xa.2.1.1.m1.1.1.3"><times id="Sx3.E3Xa.2.1.1.m1.1.1.3.1.cmml" xref="Sx3.E3Xa.2.1.1.m1.1.1.3.1"></times><ci id="Sx3.E3Xa.2.1.1.m1.1.1.3.2.cmml" xref="Sx3.E3Xa.2.1.1.m1.1.1.3.2">ğ‘</ci><ci id="Sx3.E3Xa.2.1.1.m1.1.1.3.3.cmml" xref="Sx3.E3Xa.2.1.1.m1.1.1.3.3">ğ‘ </ci><ci id="Sx3.E3Xa.2.1.1.m1.1.1.3.4.cmml" xref="Sx3.E3Xa.2.1.1.m1.1.1.3.4">ğ‘˜</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E3Xa.2.1.1.m1.1c">\displaystyle Q_{ask}</annotation><annotation encoding="application/x-llamapun" id="Sx3.E3Xa.2.1.1.m1.1d">italic_Q start_POSTSUBSCRIPT italic_a italic_s italic_k end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\{q_{1},q_{2},\ldots,q_{t-1}\}" class="ltx_Math" display="inline" id="Sx3.E3Xa.3.2.2.m1.4"><semantics id="Sx3.E3Xa.3.2.2.m1.4a"><mrow id="Sx3.E3Xa.3.2.2.m1.4.4" xref="Sx3.E3Xa.3.2.2.m1.4.4.cmml"><mi id="Sx3.E3Xa.3.2.2.m1.4.4.5" xref="Sx3.E3Xa.3.2.2.m1.4.4.5.cmml"></mi><mo id="Sx3.E3Xa.3.2.2.m1.4.4.4" xref="Sx3.E3Xa.3.2.2.m1.4.4.4.cmml">=</mo><mrow id="Sx3.E3Xa.3.2.2.m1.4.4.3.3" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.4.cmml"><mo id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.4" stretchy="false" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.4.cmml">{</mo><msub id="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1" xref="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1.cmml"><mi id="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1.2" xref="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1.2.cmml">q</mi><mn id="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1.3" xref="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.5" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.4.cmml">,</mo><msub id="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2" xref="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2.cmml"><mi id="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2.2" xref="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2.2.cmml">q</mi><mn id="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2.3" xref="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.6" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.4.cmml">,</mo><mi id="Sx3.E3Xa.3.2.2.m1.1.1" mathvariant="normal" xref="Sx3.E3Xa.3.2.2.m1.1.1.cmml">â€¦</mi><mo id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.7" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.4.cmml">,</mo><msub id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.cmml"><mi id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.2" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.2.cmml">q</mi><mrow id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.cmml"><mi id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.2" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.2.cmml">t</mi><mo id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.1" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.1.cmml">âˆ’</mo><mn id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.3" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.3.cmml">1</mn></mrow></msub><mo id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.8" stretchy="false" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E3Xa.3.2.2.m1.4b"><apply id="Sx3.E3Xa.3.2.2.m1.4.4.cmml" xref="Sx3.E3Xa.3.2.2.m1.4.4"><eq id="Sx3.E3Xa.3.2.2.m1.4.4.4.cmml" xref="Sx3.E3Xa.3.2.2.m1.4.4.4"></eq><csymbol cd="latexml" id="Sx3.E3Xa.3.2.2.m1.4.4.5.cmml" xref="Sx3.E3Xa.3.2.2.m1.4.4.5">absent</csymbol><set id="Sx3.E3Xa.3.2.2.m1.4.4.3.4.cmml" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3"><apply id="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1.cmml" xref="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1.1.cmml" xref="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1">subscript</csymbol><ci id="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1.2.cmml" xref="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1.2">ğ‘</ci><cn id="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1.3.cmml" type="integer" xref="Sx3.E3Xa.3.2.2.m1.2.2.1.1.1.3">1</cn></apply><apply id="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2.cmml" xref="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2.1.cmml" xref="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2">subscript</csymbol><ci id="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2.2.cmml" xref="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2.2">ğ‘</ci><cn id="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2.3.cmml" type="integer" xref="Sx3.E3Xa.3.2.2.m1.3.3.2.2.2.3">2</cn></apply><ci id="Sx3.E3Xa.3.2.2.m1.1.1.cmml" xref="Sx3.E3Xa.3.2.2.m1.1.1">â€¦</ci><apply id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.cmml" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.1.cmml" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3">subscript</csymbol><ci id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.2.cmml" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.2">ğ‘</ci><apply id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.cmml" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3"><minus id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.1.cmml" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.1"></minus><ci id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.2.cmml" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.2">ğ‘¡</ci><cn id="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.3.cmml" type="integer" xref="Sx3.E3Xa.3.2.2.m1.4.4.3.3.3.3.3">1</cn></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E3Xa.3.2.2.m1.4c">\displaystyle=\{q_{1},q_{2},\ldots,q_{t-1}\}</annotation><annotation encoding="application/x-llamapun" id="Sx3.E3Xa.3.2.2.m1.4d">= { italic_q start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_q start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â€¦ , italic_q start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="Sx3.SSx2.SSSx2.p1.5">The <math alttext="prompt_{q}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx2.p1.4.m1.1"><semantics id="Sx3.SSx2.SSSx2.p1.4.m1.1a"><mrow id="Sx3.SSx2.SSSx2.p1.4.m1.1.1" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.cmml"><mi id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.2" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.2.cmml">p</mi><mo id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.1" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.3" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.3.cmml">r</mi><mo id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.1a" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.4" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.4.cmml">o</mi><mo id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.1b" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.5" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.5.cmml">m</mi><mo id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.1c" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.6" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.6.cmml">p</mi><mo id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.1d" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.1.cmml">â¢</mo><msub id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7.cmml"><mi id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7.2" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7.2.cmml">t</mi><mi id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7.3" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7.3.cmml">q</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx2.p1.4.m1.1b"><apply id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.cmml" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1"><times id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.1.cmml" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.1"></times><ci id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.2.cmml" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.2">ğ‘</ci><ci id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.3.cmml" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.3">ğ‘Ÿ</ci><ci id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.4.cmml" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.4">ğ‘œ</ci><ci id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.5.cmml" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.5">ğ‘š</ci><ci id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.6.cmml" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.6">ğ‘</ci><apply id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7.cmml" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7.1.cmml" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7">subscript</csymbol><ci id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7.2.cmml" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7.2">ğ‘¡</ci><ci id="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7.3.cmml" xref="Sx3.SSx2.SSSx2.p1.4.m1.1.1.7.3">ğ‘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx2.p1.4.m1.1c">prompt_{q}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx2.p1.4.m1.1d">italic_p italic_r italic_o italic_m italic_p italic_t start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT</annotation></semantics></math> stands for the prompt template for yielding new queries for the next retrieval. The already-asked queries list <math alttext="Q_{ask}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx2.p1.5.m2.1"><semantics id="Sx3.SSx2.SSSx2.p1.5.m2.1a"><msub id="Sx3.SSx2.SSSx2.p1.5.m2.1.1" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.cmml"><mi id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.2" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.2.cmml">Q</mi><mrow id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.cmml"><mi id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.2" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.2.cmml">a</mi><mo id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.1" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.3" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.3.cmml">s</mi><mo id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.1a" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.4" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.4.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx2.p1.5.m2.1b"><apply id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.cmml" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.1.cmml" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.2.cmml" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.2">ğ‘„</ci><apply id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.cmml" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3"><times id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.1.cmml" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.1"></times><ci id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.2.cmml" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.2">ğ‘</ci><ci id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.3.cmml" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.3">ğ‘ </ci><ci id="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.4.cmml" xref="Sx3.SSx2.SSSx2.p1.5.m2.1.1.3.4">ğ‘˜</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx2.p1.5.m2.1c">Q_{ask}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx2.p1.5.m2.1d">italic_Q start_POSTSUBSCRIPT italic_a italic_s italic_k end_POSTSUBSCRIPT</annotation></semantics></math> contains all previously generated queries.</p>
</div>
</section>
<section class="ltx_subsubsection" id="Sx3.SSx2.SSSx3">
<h4 class="ltx_title ltx_title_subsubsection">Stage 3: Note updating stage.</h4>
<div class="ltx_para" id="Sx3.SSx2.SSSx3.p1">
<p class="ltx_p" id="Sx3.SSx2.SSSx3.p1.7">At this stage, our goal is to leverage new queries to explore potential query-relevant semantic subspaces in the corpus and seamlessly integrate the newly retrieved passages into the existing knowledge. Similar to the note initialization stage, we do not predefine a specific pattern for incorporating new knowledge into existing knowledge, such as appending it or inserting it based on events, to avoid limiting the diversity of LLM capabilities.
Instead, we guide the LLM from a view of â€œ<span class="ltx_text ltx_font_italic" id="Sx3.SSx2.SSSx3.p1.7.1">how to robustly promote effective information growth</span>â€, for complex information collection, refinement, and updating via merely a zero-shot setup.
To achieve this, we start by using the new query <math alttext="q_{t}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx3.p1.1.m1.1"><semantics id="Sx3.SSx2.SSSx3.p1.1.m1.1a"><msub id="Sx3.SSx2.SSSx3.p1.1.m1.1.1" xref="Sx3.SSx2.SSSx3.p1.1.m1.1.1.cmml"><mi id="Sx3.SSx2.SSSx3.p1.1.m1.1.1.2" xref="Sx3.SSx2.SSSx3.p1.1.m1.1.1.2.cmml">q</mi><mi id="Sx3.SSx2.SSSx3.p1.1.m1.1.1.3" xref="Sx3.SSx2.SSSx3.p1.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx3.p1.1.m1.1b"><apply id="Sx3.SSx2.SSSx3.p1.1.m1.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx3.p1.1.m1.1.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.1.m1.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx3.p1.1.m1.1.1.2.cmml" xref="Sx3.SSx2.SSSx3.p1.1.m1.1.1.2">ğ‘</ci><ci id="Sx3.SSx2.SSSx3.p1.1.m1.1.1.3.cmml" xref="Sx3.SSx2.SSSx3.p1.1.m1.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx3.p1.1.m1.1c">q_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx3.p1.1.m1.1d">italic_q start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> to retrieve <math alttext="k" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx3.p1.2.m2.1"><semantics id="Sx3.SSx2.SSSx3.p1.2.m2.1a"><mi id="Sx3.SSx2.SSSx3.p1.2.m2.1.1" xref="Sx3.SSx2.SSSx3.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx3.p1.2.m2.1b"><ci id="Sx3.SSx2.SSSx3.p1.2.m2.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx3.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx3.p1.2.m2.1d">italic_k</annotation></semantics></math> new passages <math alttext="P_{t}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx3.p1.3.m3.1"><semantics id="Sx3.SSx2.SSSx3.p1.3.m3.1a"><msub id="Sx3.SSx2.SSSx3.p1.3.m3.1.1" xref="Sx3.SSx2.SSSx3.p1.3.m3.1.1.cmml"><mi id="Sx3.SSx2.SSSx3.p1.3.m3.1.1.2" xref="Sx3.SSx2.SSSx3.p1.3.m3.1.1.2.cmml">P</mi><mi id="Sx3.SSx2.SSSx3.p1.3.m3.1.1.3" xref="Sx3.SSx2.SSSx3.p1.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx3.p1.3.m3.1b"><apply id="Sx3.SSx2.SSSx3.p1.3.m3.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx3.p1.3.m3.1.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.3.m3.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx3.p1.3.m3.1.1.2.cmml" xref="Sx3.SSx2.SSSx3.p1.3.m3.1.1.2">ğ‘ƒ</ci><ci id="Sx3.SSx2.SSSx3.p1.3.m3.1.1.3.cmml" xref="Sx3.SSx2.SSSx3.p1.3.m3.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx3.p1.3.m3.1c">P_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx3.p1.3.m3.1d">italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. Next, we feed <math alttext="q" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx3.p1.4.m4.1"><semantics id="Sx3.SSx2.SSSx3.p1.4.m4.1a"><mi id="Sx3.SSx2.SSSx3.p1.4.m4.1.1" xref="Sx3.SSx2.SSSx3.p1.4.m4.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx3.p1.4.m4.1b"><ci id="Sx3.SSx2.SSSx3.p1.4.m4.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.4.m4.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx3.p1.4.m4.1c">q</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx3.p1.4.m4.1d">italic_q</annotation></semantics></math>, <math alttext="P_{t}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx3.p1.5.m5.1"><semantics id="Sx3.SSx2.SSSx3.p1.5.m5.1a"><msub id="Sx3.SSx2.SSSx3.p1.5.m5.1.1" xref="Sx3.SSx2.SSSx3.p1.5.m5.1.1.cmml"><mi id="Sx3.SSx2.SSSx3.p1.5.m5.1.1.2" xref="Sx3.SSx2.SSSx3.p1.5.m5.1.1.2.cmml">P</mi><mi id="Sx3.SSx2.SSSx3.p1.5.m5.1.1.3" xref="Sx3.SSx2.SSSx3.p1.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx3.p1.5.m5.1b"><apply id="Sx3.SSx2.SSSx3.p1.5.m5.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx3.p1.5.m5.1.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.5.m5.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx3.p1.5.m5.1.1.2.cmml" xref="Sx3.SSx2.SSSx3.p1.5.m5.1.1.2">ğ‘ƒ</ci><ci id="Sx3.SSx2.SSSx3.p1.5.m5.1.1.3.cmml" xref="Sx3.SSx2.SSSx3.p1.5.m5.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx3.p1.5.m5.1c">P_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx3.p1.5.m5.1d">italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, and <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx3.p1.6.m6.1"><semantics id="Sx3.SSx2.SSSx3.p1.6.m6.1a"><msub id="Sx3.SSx2.SSSx3.p1.6.m6.1.1" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.cmml"><mi id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.2" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.2.cmml">M</mi><mrow id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.cmml"><mi id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.2" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.1" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.3" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.1a" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.4" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx3.p1.6.m6.1b"><apply id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.2.cmml" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.2">ğ‘€</ci><apply id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.cmml" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3"><times id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.1.cmml" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.1"></times><ci id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.2.cmml" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.3.cmml" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.4.cmml" xref="Sx3.SSx2.SSSx3.p1.6.m6.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx3.p1.6.m6.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx3.p1.6.m6.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math> to the LLM to employ zero-shot in-context learning (ICL), finally generating the updated note <math alttext="N_{t}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx3.p1.7.m7.1"><semantics id="Sx3.SSx2.SSSx3.p1.7.m7.1a"><msub id="Sx3.SSx2.SSSx3.p1.7.m7.1.1" xref="Sx3.SSx2.SSSx3.p1.7.m7.1.1.cmml"><mi id="Sx3.SSx2.SSSx3.p1.7.m7.1.1.2" xref="Sx3.SSx2.SSSx3.p1.7.m7.1.1.2.cmml">N</mi><mi id="Sx3.SSx2.SSSx3.p1.7.m7.1.1.3" xref="Sx3.SSx2.SSSx3.p1.7.m7.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx3.p1.7.m7.1b"><apply id="Sx3.SSx2.SSSx3.p1.7.m7.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx3.p1.7.m7.1.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.7.m7.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx3.p1.7.m7.1.1.2.cmml" xref="Sx3.SSx2.SSSx3.p1.7.m7.1.1.2">ğ‘</ci><ci id="Sx3.SSx2.SSSx3.p1.7.m7.1.1.3.cmml" xref="Sx3.SSx2.SSSx3.p1.7.m7.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx3.p1.7.m7.1c">N_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx3.p1.7.m7.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
<table class="ltx_equation ltx_eqn_table" id="Sx3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="N_{t}=\text{LLM}(prompt_{update}(q,P_{t},M_{opt}))" class="ltx_Math" display="block" id="Sx3.E4.m1.2"><semantics id="Sx3.E4.m1.2a"><mrow id="Sx3.E4.m1.2.2" xref="Sx3.E4.m1.2.2.cmml"><msub id="Sx3.E4.m1.2.2.3" xref="Sx3.E4.m1.2.2.3.cmml"><mi id="Sx3.E4.m1.2.2.3.2" xref="Sx3.E4.m1.2.2.3.2.cmml">N</mi><mi id="Sx3.E4.m1.2.2.3.3" xref="Sx3.E4.m1.2.2.3.3.cmml">t</mi></msub><mo id="Sx3.E4.m1.2.2.2" xref="Sx3.E4.m1.2.2.2.cmml">=</mo><mrow id="Sx3.E4.m1.2.2.1" xref="Sx3.E4.m1.2.2.1.cmml"><mtext id="Sx3.E4.m1.2.2.1.3" xref="Sx3.E4.m1.2.2.1.3a.cmml">LLM</mtext><mo id="Sx3.E4.m1.2.2.1.2" xref="Sx3.E4.m1.2.2.1.2.cmml">â¢</mo><mrow id="Sx3.E4.m1.2.2.1.1.1" xref="Sx3.E4.m1.2.2.1.1.1.1.cmml"><mo id="Sx3.E4.m1.2.2.1.1.1.2" stretchy="false" xref="Sx3.E4.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="Sx3.E4.m1.2.2.1.1.1.1" xref="Sx3.E4.m1.2.2.1.1.1.1.cmml"><mi id="Sx3.E4.m1.2.2.1.1.1.1.4" xref="Sx3.E4.m1.2.2.1.1.1.1.4.cmml">p</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.3" xref="Sx3.E4.m1.2.2.1.1.1.1.3.cmml">â¢</mo><mi id="Sx3.E4.m1.2.2.1.1.1.1.5" xref="Sx3.E4.m1.2.2.1.1.1.1.5.cmml">r</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.3a" xref="Sx3.E4.m1.2.2.1.1.1.1.3.cmml">â¢</mo><mi id="Sx3.E4.m1.2.2.1.1.1.1.6" xref="Sx3.E4.m1.2.2.1.1.1.1.6.cmml">o</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.3b" xref="Sx3.E4.m1.2.2.1.1.1.1.3.cmml">â¢</mo><mi id="Sx3.E4.m1.2.2.1.1.1.1.7" xref="Sx3.E4.m1.2.2.1.1.1.1.7.cmml">m</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.3c" xref="Sx3.E4.m1.2.2.1.1.1.1.3.cmml">â¢</mo><mi id="Sx3.E4.m1.2.2.1.1.1.1.8" xref="Sx3.E4.m1.2.2.1.1.1.1.8.cmml">p</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.3d" xref="Sx3.E4.m1.2.2.1.1.1.1.3.cmml">â¢</mo><msub id="Sx3.E4.m1.2.2.1.1.1.1.9" xref="Sx3.E4.m1.2.2.1.1.1.1.9.cmml"><mi id="Sx3.E4.m1.2.2.1.1.1.1.9.2" xref="Sx3.E4.m1.2.2.1.1.1.1.9.2.cmml">t</mi><mrow id="Sx3.E4.m1.2.2.1.1.1.1.9.3" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.cmml"><mi id="Sx3.E4.m1.2.2.1.1.1.1.9.3.2" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.2.cmml">u</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.9.3.1" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.1.cmml">â¢</mo><mi id="Sx3.E4.m1.2.2.1.1.1.1.9.3.3" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.3.cmml">p</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.9.3.1a" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.1.cmml">â¢</mo><mi id="Sx3.E4.m1.2.2.1.1.1.1.9.3.4" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.4.cmml">d</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.9.3.1b" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.1.cmml">â¢</mo><mi id="Sx3.E4.m1.2.2.1.1.1.1.9.3.5" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.5.cmml">a</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.9.3.1c" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.1.cmml">â¢</mo><mi id="Sx3.E4.m1.2.2.1.1.1.1.9.3.6" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.6.cmml">t</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.9.3.1d" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.1.cmml">â¢</mo><mi id="Sx3.E4.m1.2.2.1.1.1.1.9.3.7" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.7.cmml">e</mi></mrow></msub><mo id="Sx3.E4.m1.2.2.1.1.1.1.3e" xref="Sx3.E4.m1.2.2.1.1.1.1.3.cmml">â¢</mo><mrow id="Sx3.E4.m1.2.2.1.1.1.1.2.2" xref="Sx3.E4.m1.2.2.1.1.1.1.2.3.cmml"><mo id="Sx3.E4.m1.2.2.1.1.1.1.2.2.3" stretchy="false" xref="Sx3.E4.m1.2.2.1.1.1.1.2.3.cmml">(</mo><mi id="Sx3.E4.m1.1.1" xref="Sx3.E4.m1.1.1.cmml">q</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.2.2.4" xref="Sx3.E4.m1.2.2.1.1.1.1.2.3.cmml">,</mo><msub id="Sx3.E4.m1.2.2.1.1.1.1.1.1.1" xref="Sx3.E4.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="Sx3.E4.m1.2.2.1.1.1.1.1.1.1.2" xref="Sx3.E4.m1.2.2.1.1.1.1.1.1.1.2.cmml">P</mi><mi id="Sx3.E4.m1.2.2.1.1.1.1.1.1.1.3" xref="Sx3.E4.m1.2.2.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="Sx3.E4.m1.2.2.1.1.1.1.2.2.5" xref="Sx3.E4.m1.2.2.1.1.1.1.2.3.cmml">,</mo><msub id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.cmml"><mi id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.2" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.2.cmml">M</mi><mrow id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.cmml"><mi id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.2" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.2.cmml">o</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.1" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.1.cmml">â¢</mo><mi id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.3" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.3.cmml">p</mi><mo id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.1a" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.1.cmml">â¢</mo><mi id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.4" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.4.cmml">t</mi></mrow></msub><mo id="Sx3.E4.m1.2.2.1.1.1.1.2.2.6" stretchy="false" xref="Sx3.E4.m1.2.2.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="Sx3.E4.m1.2.2.1.1.1.3" stretchy="false" xref="Sx3.E4.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E4.m1.2b"><apply id="Sx3.E4.m1.2.2.cmml" xref="Sx3.E4.m1.2.2"><eq id="Sx3.E4.m1.2.2.2.cmml" xref="Sx3.E4.m1.2.2.2"></eq><apply id="Sx3.E4.m1.2.2.3.cmml" xref="Sx3.E4.m1.2.2.3"><csymbol cd="ambiguous" id="Sx3.E4.m1.2.2.3.1.cmml" xref="Sx3.E4.m1.2.2.3">subscript</csymbol><ci id="Sx3.E4.m1.2.2.3.2.cmml" xref="Sx3.E4.m1.2.2.3.2">ğ‘</ci><ci id="Sx3.E4.m1.2.2.3.3.cmml" xref="Sx3.E4.m1.2.2.3.3">ğ‘¡</ci></apply><apply id="Sx3.E4.m1.2.2.1.cmml" xref="Sx3.E4.m1.2.2.1"><times id="Sx3.E4.m1.2.2.1.2.cmml" xref="Sx3.E4.m1.2.2.1.2"></times><ci id="Sx3.E4.m1.2.2.1.3a.cmml" xref="Sx3.E4.m1.2.2.1.3"><mtext id="Sx3.E4.m1.2.2.1.3.cmml" xref="Sx3.E4.m1.2.2.1.3">LLM</mtext></ci><apply id="Sx3.E4.m1.2.2.1.1.1.1.cmml" xref="Sx3.E4.m1.2.2.1.1.1"><times id="Sx3.E4.m1.2.2.1.1.1.1.3.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.3"></times><ci id="Sx3.E4.m1.2.2.1.1.1.1.4.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.4">ğ‘</ci><ci id="Sx3.E4.m1.2.2.1.1.1.1.5.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.5">ğ‘Ÿ</ci><ci id="Sx3.E4.m1.2.2.1.1.1.1.6.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.6">ğ‘œ</ci><ci id="Sx3.E4.m1.2.2.1.1.1.1.7.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.7">ğ‘š</ci><ci id="Sx3.E4.m1.2.2.1.1.1.1.8.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.8">ğ‘</ci><apply id="Sx3.E4.m1.2.2.1.1.1.1.9.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.9"><csymbol cd="ambiguous" id="Sx3.E4.m1.2.2.1.1.1.1.9.1.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.9">subscript</csymbol><ci id="Sx3.E4.m1.2.2.1.1.1.1.9.2.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.9.2">ğ‘¡</ci><apply id="Sx3.E4.m1.2.2.1.1.1.1.9.3.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3"><times id="Sx3.E4.m1.2.2.1.1.1.1.9.3.1.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.1"></times><ci id="Sx3.E4.m1.2.2.1.1.1.1.9.3.2.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.2">ğ‘¢</ci><ci id="Sx3.E4.m1.2.2.1.1.1.1.9.3.3.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.3">ğ‘</ci><ci id="Sx3.E4.m1.2.2.1.1.1.1.9.3.4.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.4">ğ‘‘</ci><ci id="Sx3.E4.m1.2.2.1.1.1.1.9.3.5.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.5">ğ‘</ci><ci id="Sx3.E4.m1.2.2.1.1.1.1.9.3.6.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.6">ğ‘¡</ci><ci id="Sx3.E4.m1.2.2.1.1.1.1.9.3.7.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.9.3.7">ğ‘’</ci></apply></apply><vector id="Sx3.E4.m1.2.2.1.1.1.1.2.3.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2"><ci id="Sx3.E4.m1.1.1.cmml" xref="Sx3.E4.m1.1.1">ğ‘</ci><apply id="Sx3.E4.m1.2.2.1.1.1.1.1.1.1.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="Sx3.E4.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="Sx3.E4.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.1.1.1.2">ğ‘ƒ</ci><ci id="Sx3.E4.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.1.1.1.3">ğ‘¡</ci></apply><apply id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.1.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.2.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.2">ğ‘€</ci><apply id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3"><times id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.1.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.1"></times><ci id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.2.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.2">ğ‘œ</ci><ci id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.3.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.3">ğ‘</ci><ci id="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.4.cmml" xref="Sx3.E4.m1.2.2.1.1.1.1.2.2.2.3.4">ğ‘¡</ci></apply></apply></vector></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E4.m1.2c">N_{t}=\text{LLM}(prompt_{update}(q,P_{t},M_{opt}))</annotation><annotation encoding="application/x-llamapun" id="Sx3.E4.m1.2d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = LLM ( italic_p italic_r italic_o italic_m italic_p italic_t start_POSTSUBSCRIPT italic_u italic_p italic_d italic_a italic_t italic_e end_POSTSUBSCRIPT ( italic_q , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="Sx3.SSx2.SSSx3.p1.10">The <math alttext="prompt_{update}(\cdot)" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx3.p1.8.m1.1"><semantics id="Sx3.SSx2.SSSx3.p1.8.m1.1a"><mrow id="Sx3.SSx2.SSSx3.p1.8.m1.1.2" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.cmml"><mi id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.2" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.2.cmml">p</mi><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.3" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.3.cmml">r</mi><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1a" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.4" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.4.cmml">o</mi><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1b" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.5" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.5.cmml">m</mi><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1c" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.6" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.6.cmml">p</mi><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1d" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1.cmml">â¢</mo><msub id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.cmml"><mi id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.2" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.2.cmml">t</mi><mrow id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.cmml"><mi id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.2" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.2.cmml">u</mi><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.1" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.3" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.3.cmml">p</mi><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.1a" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.4" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.4.cmml">d</mi><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.1b" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.5" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.5.cmml">a</mi><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.1c" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.6" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.6.cmml">t</mi><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.1d" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.7" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.7.cmml">e</mi></mrow></msub><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1e" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1.cmml">â¢</mo><mrow id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.8.2" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.cmml"><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.8.2.1" stretchy="false" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.cmml">(</mo><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.1" lspace="0em" rspace="0em" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.1.cmml">â‹…</mo><mo id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.8.2.2" stretchy="false" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx3.p1.8.m1.1b"><apply id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2"><times id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.1"></times><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.2.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.2">ğ‘</ci><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.3.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.3">ğ‘Ÿ</ci><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.4.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.4">ğ‘œ</ci><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.5.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.5">ğ‘š</ci><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.6.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.6">ğ‘</ci><apply id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.1.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7">subscript</csymbol><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.2.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.2">ğ‘¡</ci><apply id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3"><times id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.1.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.1"></times><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.2.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.2">ğ‘¢</ci><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.3.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.3">ğ‘</ci><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.4.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.4">ğ‘‘</ci><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.5.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.5">ğ‘</ci><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.6.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.6">ğ‘¡</ci><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.7.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.2.7.3.7">ğ‘’</ci></apply></apply><ci id="Sx3.SSx2.SSSx3.p1.8.m1.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.8.m1.1.1">â‹…</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx3.p1.8.m1.1c">prompt_{update}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx3.p1.8.m1.1d">italic_p italic_r italic_o italic_m italic_p italic_t start_POSTSUBSCRIPT italic_u italic_p italic_d italic_a italic_t italic_e end_POSTSUBSCRIPT ( â‹… )</annotation></semantics></math> represents the prompt template for updating notes, providing the LLM with multi-dimensional guidance in three key aspects:
1) <span class="ltx_text ltx_font_italic" id="Sx3.SSx2.SSSx3.p1.10.1">Faithfulness</span>. The gathered information should follow the style of the retrieved documents, utilizing the original excerpts whenever possible;
2) <span class="ltx_text ltx_font_italic" id="Sx3.SSx2.SSSx3.p1.10.2">Effectiveness</span>. The gathered information should be instrumental in addressing the original query;
3) <span class="ltx_text ltx_font_italic" id="Sx3.SSx2.SSSx3.p1.10.3">Extensibility</span>. The gathered information should not already be included in memory; in other words, only new semantic content needs to be added.
We also provide a view on information growth to describe this update process, where we collect new information based on the existing knowledge of <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx3.p1.9.m2.1"><semantics id="Sx3.SSx2.SSSx3.p1.9.m2.1a"><msub id="Sx3.SSx2.SSSx3.p1.9.m2.1.1" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.cmml"><mi id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.2" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.2.cmml">M</mi><mrow id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.cmml"><mi id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.2" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.1" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.3" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.1a" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.4" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx3.p1.9.m2.1b"><apply id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.2.cmml" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.2">ğ‘€</ci><apply id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.cmml" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3"><times id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.1.cmml" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.1"></times><ci id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.2.cmml" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.3.cmml" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.4.cmml" xref="Sx3.SSx2.SSSx3.p1.9.m2.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx3.p1.9.m2.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx3.p1.9.m2.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math> to generate updated <math alttext="N_{t}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx3.p1.10.m3.1"><semantics id="Sx3.SSx2.SSSx3.p1.10.m3.1a"><msub id="Sx3.SSx2.SSSx3.p1.10.m3.1.1" xref="Sx3.SSx2.SSSx3.p1.10.m3.1.1.cmml"><mi id="Sx3.SSx2.SSSx3.p1.10.m3.1.1.2" xref="Sx3.SSx2.SSSx3.p1.10.m3.1.1.2.cmml">N</mi><mi id="Sx3.SSx2.SSSx3.p1.10.m3.1.1.3" xref="Sx3.SSx2.SSSx3.p1.10.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx3.p1.10.m3.1b"><apply id="Sx3.SSx2.SSSx3.p1.10.m3.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.10.m3.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx3.p1.10.m3.1.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.10.m3.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx3.p1.10.m3.1.1.2.cmml" xref="Sx3.SSx2.SSSx3.p1.10.m3.1.1.2">ğ‘</ci><ci id="Sx3.SSx2.SSSx3.p1.10.m3.1.1.3.cmml" xref="Sx3.SSx2.SSSx3.p1.10.m3.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx3.p1.10.m3.1c">N_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx3.p1.10.m3.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
<table class="ltx_equation ltx_eqn_table" id="Sx3.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="N_{t}=M_{opt}\cup\left(\bigcup_{i=1}^{k}p^{i}_{t}\right)" class="ltx_Math" display="block" id="Sx3.E5.m1.1"><semantics id="Sx3.E5.m1.1a"><mrow id="Sx3.E5.m1.1.1" xref="Sx3.E5.m1.1.1.cmml"><msub id="Sx3.E5.m1.1.1.3" xref="Sx3.E5.m1.1.1.3.cmml"><mi id="Sx3.E5.m1.1.1.3.2" xref="Sx3.E5.m1.1.1.3.2.cmml">N</mi><mi id="Sx3.E5.m1.1.1.3.3" xref="Sx3.E5.m1.1.1.3.3.cmml">t</mi></msub><mo id="Sx3.E5.m1.1.1.2" xref="Sx3.E5.m1.1.1.2.cmml">=</mo><mrow id="Sx3.E5.m1.1.1.1" xref="Sx3.E5.m1.1.1.1.cmml"><msub id="Sx3.E5.m1.1.1.1.3" xref="Sx3.E5.m1.1.1.1.3.cmml"><mi id="Sx3.E5.m1.1.1.1.3.2" xref="Sx3.E5.m1.1.1.1.3.2.cmml">M</mi><mrow id="Sx3.E5.m1.1.1.1.3.3" xref="Sx3.E5.m1.1.1.1.3.3.cmml"><mi id="Sx3.E5.m1.1.1.1.3.3.2" xref="Sx3.E5.m1.1.1.1.3.3.2.cmml">o</mi><mo id="Sx3.E5.m1.1.1.1.3.3.1" xref="Sx3.E5.m1.1.1.1.3.3.1.cmml">â¢</mo><mi id="Sx3.E5.m1.1.1.1.3.3.3" xref="Sx3.E5.m1.1.1.1.3.3.3.cmml">p</mi><mo id="Sx3.E5.m1.1.1.1.3.3.1a" xref="Sx3.E5.m1.1.1.1.3.3.1.cmml">â¢</mo><mi id="Sx3.E5.m1.1.1.1.3.3.4" xref="Sx3.E5.m1.1.1.1.3.3.4.cmml">t</mi></mrow></msub><mo id="Sx3.E5.m1.1.1.1.2" xref="Sx3.E5.m1.1.1.1.2.cmml">âˆª</mo><mrow id="Sx3.E5.m1.1.1.1.1.1" xref="Sx3.E5.m1.1.1.1.1.1.1.cmml"><mo id="Sx3.E5.m1.1.1.1.1.1.2" xref="Sx3.E5.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="Sx3.E5.m1.1.1.1.1.1.1" xref="Sx3.E5.m1.1.1.1.1.1.1.cmml"><munderover id="Sx3.E5.m1.1.1.1.1.1.1.1" xref="Sx3.E5.m1.1.1.1.1.1.1.1.cmml"><mo id="Sx3.E5.m1.1.1.1.1.1.1.1.2.2" lspace="0em" movablelimits="false" xref="Sx3.E5.m1.1.1.1.1.1.1.1.2.2.cmml">â‹ƒ</mo><mrow id="Sx3.E5.m1.1.1.1.1.1.1.1.2.3" xref="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.cmml"><mi id="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.2" xref="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.2.cmml">i</mi><mo id="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.1" xref="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.1.cmml">=</mo><mn id="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.3" xref="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="Sx3.E5.m1.1.1.1.1.1.1.1.3" xref="Sx3.E5.m1.1.1.1.1.1.1.1.3.cmml">k</mi></munderover><msubsup id="Sx3.E5.m1.1.1.1.1.1.1.2" xref="Sx3.E5.m1.1.1.1.1.1.1.2.cmml"><mi id="Sx3.E5.m1.1.1.1.1.1.1.2.2.2" xref="Sx3.E5.m1.1.1.1.1.1.1.2.2.2.cmml">p</mi><mi id="Sx3.E5.m1.1.1.1.1.1.1.2.3" xref="Sx3.E5.m1.1.1.1.1.1.1.2.3.cmml">t</mi><mi id="Sx3.E5.m1.1.1.1.1.1.1.2.2.3" xref="Sx3.E5.m1.1.1.1.1.1.1.2.2.3.cmml">i</mi></msubsup></mrow><mo id="Sx3.E5.m1.1.1.1.1.1.3" xref="Sx3.E5.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E5.m1.1b"><apply id="Sx3.E5.m1.1.1.cmml" xref="Sx3.E5.m1.1.1"><eq id="Sx3.E5.m1.1.1.2.cmml" xref="Sx3.E5.m1.1.1.2"></eq><apply id="Sx3.E5.m1.1.1.3.cmml" xref="Sx3.E5.m1.1.1.3"><csymbol cd="ambiguous" id="Sx3.E5.m1.1.1.3.1.cmml" xref="Sx3.E5.m1.1.1.3">subscript</csymbol><ci id="Sx3.E5.m1.1.1.3.2.cmml" xref="Sx3.E5.m1.1.1.3.2">ğ‘</ci><ci id="Sx3.E5.m1.1.1.3.3.cmml" xref="Sx3.E5.m1.1.1.3.3">ğ‘¡</ci></apply><apply id="Sx3.E5.m1.1.1.1.cmml" xref="Sx3.E5.m1.1.1.1"><union id="Sx3.E5.m1.1.1.1.2.cmml" xref="Sx3.E5.m1.1.1.1.2"></union><apply id="Sx3.E5.m1.1.1.1.3.cmml" xref="Sx3.E5.m1.1.1.1.3"><csymbol cd="ambiguous" id="Sx3.E5.m1.1.1.1.3.1.cmml" xref="Sx3.E5.m1.1.1.1.3">subscript</csymbol><ci id="Sx3.E5.m1.1.1.1.3.2.cmml" xref="Sx3.E5.m1.1.1.1.3.2">ğ‘€</ci><apply id="Sx3.E5.m1.1.1.1.3.3.cmml" xref="Sx3.E5.m1.1.1.1.3.3"><times id="Sx3.E5.m1.1.1.1.3.3.1.cmml" xref="Sx3.E5.m1.1.1.1.3.3.1"></times><ci id="Sx3.E5.m1.1.1.1.3.3.2.cmml" xref="Sx3.E5.m1.1.1.1.3.3.2">ğ‘œ</ci><ci id="Sx3.E5.m1.1.1.1.3.3.3.cmml" xref="Sx3.E5.m1.1.1.1.3.3.3">ğ‘</ci><ci id="Sx3.E5.m1.1.1.1.3.3.4.cmml" xref="Sx3.E5.m1.1.1.1.3.3.4">ğ‘¡</ci></apply></apply><apply id="Sx3.E5.m1.1.1.1.1.1.1.cmml" xref="Sx3.E5.m1.1.1.1.1.1"><apply id="Sx3.E5.m1.1.1.1.1.1.1.1.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="Sx3.E5.m1.1.1.1.1.1.1.1.1.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.1">superscript</csymbol><apply id="Sx3.E5.m1.1.1.1.1.1.1.1.2.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="Sx3.E5.m1.1.1.1.1.1.1.1.2.1.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.1">subscript</csymbol><union id="Sx3.E5.m1.1.1.1.1.1.1.1.2.2.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.1.2.2"></union><apply id="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.1.2.3"><eq id="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.1.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.1"></eq><ci id="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.2.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.2">ğ‘–</ci><cn id="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.3.cmml" type="integer" xref="Sx3.E5.m1.1.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><ci id="Sx3.E5.m1.1.1.1.1.1.1.1.3.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.1.3">ğ‘˜</ci></apply><apply id="Sx3.E5.m1.1.1.1.1.1.1.2.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="Sx3.E5.m1.1.1.1.1.1.1.2.1.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.2">subscript</csymbol><apply id="Sx3.E5.m1.1.1.1.1.1.1.2.2.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="Sx3.E5.m1.1.1.1.1.1.1.2.2.1.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.2">superscript</csymbol><ci id="Sx3.E5.m1.1.1.1.1.1.1.2.2.2.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.2.2.2">ğ‘</ci><ci id="Sx3.E5.m1.1.1.1.1.1.1.2.2.3.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.2.2.3">ğ‘–</ci></apply><ci id="Sx3.E5.m1.1.1.1.1.1.1.2.3.cmml" xref="Sx3.E5.m1.1.1.1.1.1.1.2.3">ğ‘¡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E5.m1.1c">N_{t}=M_{opt}\cup\left(\bigcup_{i=1}^{k}p^{i}_{t}\right)</annotation><annotation encoding="application/x-llamapun" id="Sx3.E5.m1.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT âˆª ( â‹ƒ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="Sx3.SSx2.SSSx3.p1.11">Here, <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx2.SSSx3.p1.11.m1.1"><semantics id="Sx3.SSx2.SSSx3.p1.11.m1.1a"><msub id="Sx3.SSx2.SSSx3.p1.11.m1.1.1" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.cmml"><mi id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.2" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.2.cmml">M</mi><mrow id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.cmml"><mi id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.2" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.1" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.3" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.1a" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.4" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx2.SSSx3.p1.11.m1.1b"><apply id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1"><csymbol cd="ambiguous" id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.1.cmml" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1">subscript</csymbol><ci id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.2.cmml" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.2">ğ‘€</ci><apply id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.cmml" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3"><times id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.1.cmml" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.1"></times><ci id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.2.cmml" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.3.cmml" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.4.cmml" xref="Sx3.SSx2.SSSx3.p1.11.m1.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx2.SSSx3.p1.11.m1.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx2.SSSx3.p1.11.m1.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is derived through step-by-step updates, progressively comparing and selecting the highest quality note as memory,
rather than relying on a one-time comparison.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="Sx3.SSx3">
<h3 class="ltx_title ltx_title_subsection">Adaptive Memory Reviewer (AMR)</h3>
<div class="ltx_para" id="Sx3.SSx3.p1">
<p class="ltx_p" id="Sx3.SSx3.p1.1">Our intuition is that there is a ceiling to retrieving question-related information from a corpus. Based on this intuition, the adaptive memory reviewer concentrates on two key questions, â€œ<span class="ltx_text ltx_font_italic" id="Sx3.SSx3.p1.1.1">what to store as the optimal memory</span>â€ and â€œ<span class="ltx_text ltx_font_italic" id="Sx3.SSx3.p1.1.2">when to stop retrieval</span>â€.</p>
</div>
<section class="ltx_subsubsection" id="Sx3.SSx3.SSSx1">
<h4 class="ltx_title ltx_title_subsubsection">Trigger1: What to store as the optimal memory.</h4>
<div class="ltx_para" id="Sx3.SSx3.SSSx1.p1">
<p class="ltx_p" id="Sx3.SSx3.SSSx1.p1.6">We guide the LLM to carefully review the content of the updated note <math alttext="N_{t}" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx1.p1.1.m1.1"><semantics id="Sx3.SSx3.SSSx1.p1.1.m1.1a"><msub id="Sx3.SSx3.SSSx1.p1.1.m1.1.1" xref="Sx3.SSx3.SSSx1.p1.1.m1.1.1.cmml"><mi id="Sx3.SSx3.SSSx1.p1.1.m1.1.1.2" xref="Sx3.SSx3.SSSx1.p1.1.m1.1.1.2.cmml">N</mi><mi id="Sx3.SSx3.SSSx1.p1.1.m1.1.1.3" xref="Sx3.SSx3.SSSx1.p1.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx1.p1.1.m1.1b"><apply id="Sx3.SSx3.SSSx1.p1.1.m1.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx1.p1.1.m1.1.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.1.m1.1.1">subscript</csymbol><ci id="Sx3.SSx3.SSSx1.p1.1.m1.1.1.2.cmml" xref="Sx3.SSx3.SSSx1.p1.1.m1.1.1.2">ğ‘</ci><ci id="Sx3.SSx3.SSSx1.p1.1.m1.1.1.3.cmml" xref="Sx3.SSx3.SSSx1.p1.1.m1.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx1.p1.1.m1.1c">N_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx1.p1.1.m1.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> generated in note updating stage and the optimal memory <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx1.p1.2.m2.1"><semantics id="Sx3.SSx3.SSSx1.p1.2.m2.1a"><msub id="Sx3.SSx3.SSSx1.p1.2.m2.1.1" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.cmml"><mi id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.2" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.2.cmml">M</mi><mrow id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.cmml"><mi id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.2" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.1" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.3" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.1a" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.4" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx1.p1.2.m2.1b"><apply id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1">subscript</csymbol><ci id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.2.cmml" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.2">ğ‘€</ci><apply id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.cmml" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3"><times id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.1.cmml" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.1"></times><ci id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.2.cmml" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.3.cmml" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.4.cmml" xref="Sx3.SSx3.SSSx1.p1.2.m2.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx1.p1.2.m2.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx1.p1.2.m2.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, then compare their content quality. If the quality of <math alttext="N_{t}" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx1.p1.3.m3.1"><semantics id="Sx3.SSx3.SSSx1.p1.3.m3.1a"><msub id="Sx3.SSx3.SSSx1.p1.3.m3.1.1" xref="Sx3.SSx3.SSSx1.p1.3.m3.1.1.cmml"><mi id="Sx3.SSx3.SSSx1.p1.3.m3.1.1.2" xref="Sx3.SSx3.SSSx1.p1.3.m3.1.1.2.cmml">N</mi><mi id="Sx3.SSx3.SSSx1.p1.3.m3.1.1.3" xref="Sx3.SSx3.SSSx1.p1.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx1.p1.3.m3.1b"><apply id="Sx3.SSx3.SSSx1.p1.3.m3.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx1.p1.3.m3.1.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.3.m3.1.1">subscript</csymbol><ci id="Sx3.SSx3.SSSx1.p1.3.m3.1.1.2.cmml" xref="Sx3.SSx3.SSSx1.p1.3.m3.1.1.2">ğ‘</ci><ci id="Sx3.SSx3.SSSx1.p1.3.m3.1.1.3.cmml" xref="Sx3.SSx3.SSSx1.p1.3.m3.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx1.p1.3.m3.1c">N_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx1.p1.3.m3.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is higher than <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx1.p1.4.m4.1"><semantics id="Sx3.SSx3.SSSx1.p1.4.m4.1a"><msub id="Sx3.SSx3.SSSx1.p1.4.m4.1.1" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.cmml"><mi id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.2" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.2.cmml">M</mi><mrow id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.cmml"><mi id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.2" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.1" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.3" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.1a" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.4" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx1.p1.4.m4.1b"><apply id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1">subscript</csymbol><ci id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.2.cmml" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.2">ğ‘€</ci><apply id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.cmml" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3"><times id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.1.cmml" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.1"></times><ci id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.2.cmml" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.3.cmml" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.4.cmml" xref="Sx3.SSx3.SSSx1.p1.4.m4.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx1.p1.4.m4.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx1.p1.4.m4.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, the <math alttext="N_{t}" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx1.p1.5.m5.1"><semantics id="Sx3.SSx3.SSSx1.p1.5.m5.1a"><msub id="Sx3.SSx3.SSSx1.p1.5.m5.1.1" xref="Sx3.SSx3.SSSx1.p1.5.m5.1.1.cmml"><mi id="Sx3.SSx3.SSSx1.p1.5.m5.1.1.2" xref="Sx3.SSx3.SSSx1.p1.5.m5.1.1.2.cmml">N</mi><mi id="Sx3.SSx3.SSSx1.p1.5.m5.1.1.3" xref="Sx3.SSx3.SSSx1.p1.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx1.p1.5.m5.1b"><apply id="Sx3.SSx3.SSSx1.p1.5.m5.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx1.p1.5.m5.1.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.5.m5.1.1">subscript</csymbol><ci id="Sx3.SSx3.SSSx1.p1.5.m5.1.1.2.cmml" xref="Sx3.SSx3.SSSx1.p1.5.m5.1.1.2">ğ‘</ci><ci id="Sx3.SSx3.SSSx1.p1.5.m5.1.1.3.cmml" xref="Sx3.SSx3.SSSx1.p1.5.m5.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx1.p1.5.m5.1c">N_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx1.p1.5.m5.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> will replace the original memory content as the latest optimal memory. Otherwise, the content of <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx1.p1.6.m6.1"><semantics id="Sx3.SSx3.SSSx1.p1.6.m6.1a"><msub id="Sx3.SSx3.SSSx1.p1.6.m6.1.1" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.cmml"><mi id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.2" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.2.cmml">M</mi><mrow id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.cmml"><mi id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.2" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.1" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.3" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.1a" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.4" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx1.p1.6.m6.1b"><apply id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1">subscript</csymbol><ci id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.2.cmml" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.2">ğ‘€</ci><apply id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.cmml" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3"><times id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.1.cmml" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.1"></times><ci id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.2.cmml" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.3.cmml" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.4.cmml" xref="Sx3.SSx3.SSSx1.p1.6.m6.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx1.p1.6.m6.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx1.p1.6.m6.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math> remains unchanged.</p>
<table class="ltx_equationgroup ltx_eqn_table" id="Sx3.E6">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="Sx3.E6X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle f_{c}(N_{t},M_{opt})" class="ltx_Math" display="inline" id="Sx3.E6X.2.1.1.m1.2"><semantics id="Sx3.E6X.2.1.1.m1.2a"><mrow id="Sx3.E6X.2.1.1.m1.2.2" xref="Sx3.E6X.2.1.1.m1.2.2.cmml"><msub id="Sx3.E6X.2.1.1.m1.2.2.4" xref="Sx3.E6X.2.1.1.m1.2.2.4.cmml"><mi id="Sx3.E6X.2.1.1.m1.2.2.4.2" xref="Sx3.E6X.2.1.1.m1.2.2.4.2.cmml">f</mi><mi id="Sx3.E6X.2.1.1.m1.2.2.4.3" xref="Sx3.E6X.2.1.1.m1.2.2.4.3.cmml">c</mi></msub><mo id="Sx3.E6X.2.1.1.m1.2.2.3" xref="Sx3.E6X.2.1.1.m1.2.2.3.cmml">â¢</mo><mrow id="Sx3.E6X.2.1.1.m1.2.2.2.2" xref="Sx3.E6X.2.1.1.m1.2.2.2.3.cmml"><mo id="Sx3.E6X.2.1.1.m1.2.2.2.2.3" stretchy="false" xref="Sx3.E6X.2.1.1.m1.2.2.2.3.cmml">(</mo><msub id="Sx3.E6X.2.1.1.m1.1.1.1.1.1" xref="Sx3.E6X.2.1.1.m1.1.1.1.1.1.cmml"><mi id="Sx3.E6X.2.1.1.m1.1.1.1.1.1.2" xref="Sx3.E6X.2.1.1.m1.1.1.1.1.1.2.cmml">N</mi><mi id="Sx3.E6X.2.1.1.m1.1.1.1.1.1.3" xref="Sx3.E6X.2.1.1.m1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="Sx3.E6X.2.1.1.m1.2.2.2.2.4" xref="Sx3.E6X.2.1.1.m1.2.2.2.3.cmml">,</mo><msub id="Sx3.E6X.2.1.1.m1.2.2.2.2.2" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.cmml"><mi id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.2" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.2.cmml">M</mi><mrow id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.cmml"><mi id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.2" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.2.cmml">o</mi><mo id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.1" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.1.cmml">â¢</mo><mi id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.3" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.3.cmml">p</mi><mo id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.1a" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.1.cmml">â¢</mo><mi id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.4" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.4.cmml">t</mi></mrow></msub><mo id="Sx3.E6X.2.1.1.m1.2.2.2.2.5" stretchy="false" xref="Sx3.E6X.2.1.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E6X.2.1.1.m1.2b"><apply id="Sx3.E6X.2.1.1.m1.2.2.cmml" xref="Sx3.E6X.2.1.1.m1.2.2"><times id="Sx3.E6X.2.1.1.m1.2.2.3.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.3"></times><apply id="Sx3.E6X.2.1.1.m1.2.2.4.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.4"><csymbol cd="ambiguous" id="Sx3.E6X.2.1.1.m1.2.2.4.1.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.4">subscript</csymbol><ci id="Sx3.E6X.2.1.1.m1.2.2.4.2.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.4.2">ğ‘“</ci><ci id="Sx3.E6X.2.1.1.m1.2.2.4.3.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.4.3">ğ‘</ci></apply><interval closure="open" id="Sx3.E6X.2.1.1.m1.2.2.2.3.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.2.2"><apply id="Sx3.E6X.2.1.1.m1.1.1.1.1.1.cmml" xref="Sx3.E6X.2.1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="Sx3.E6X.2.1.1.m1.1.1.1.1.1.1.cmml" xref="Sx3.E6X.2.1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="Sx3.E6X.2.1.1.m1.1.1.1.1.1.2.cmml" xref="Sx3.E6X.2.1.1.m1.1.1.1.1.1.2">ğ‘</ci><ci id="Sx3.E6X.2.1.1.m1.1.1.1.1.1.3.cmml" xref="Sx3.E6X.2.1.1.m1.1.1.1.1.1.3">ğ‘¡</ci></apply><apply id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.1.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2">subscript</csymbol><ci id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.2.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.2">ğ‘€</ci><apply id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3"><times id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.1.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.1"></times><ci id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.2.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.2">ğ‘œ</ci><ci id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.3.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.3">ğ‘</ci><ci id="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.4.cmml" xref="Sx3.E6X.2.1.1.m1.2.2.2.2.2.3.4">ğ‘¡</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E6X.2.1.1.m1.2c">\displaystyle f_{c}(N_{t},M_{opt})</annotation><annotation encoding="application/x-llamapun" id="Sx3.E6X.2.1.1.m1.2d">italic_f start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ( italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\left\{\begin{matrix}{\text{True}},&amp;{\text{if}\,\,N_{t}\,\,\text%
{is better than}\,\,M_{opt}}\\
{\text{False}},&amp;{\text{if}\,\,M_{opt}\,\,\text{is better than}\,\,N_{t}}\end{%
matrix}\right." class="ltx_math_unparsed" display="inline" id="Sx3.E6X.3.2.2.m1.1"><semantics id="Sx3.E6X.3.2.2.m1.1a"><mrow id="Sx3.E6X.3.2.2.m1.1b"><mo id="Sx3.E6X.3.2.2.m1.1.1">=</mo><mrow id="Sx3.E6X.3.2.2.m1.1.2"><mo id="Sx3.E6X.3.2.2.m1.1.2.1">{</mo><mtable columnspacing="5pt" id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf" rowspacing="0pt"><mtr id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mfa"><mtd id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mfb"><mrow id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.1.1.3"><mtext id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.1.1.1">True</mtext><mo id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.1.1.3.1">,</mo></mrow></mtd><mtd id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mfc"><mrow id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1"><mtext id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.2">if</mtext><mo id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.1" lspace="0.330em">â¢</mo><msub id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.3"><mi id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.3.2">N</mi><mi id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.3.3">t</mi></msub><mo id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.1a">â¢</mo><mtext id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.4">is better than</mtext><mo id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.1b" lspace="0.330em">â¢</mo><msub id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.5"><mi id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.5.2">M</mi><mrow id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.5.3"><mi id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.5.3.2">o</mi><mo id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.5.3.1">â¢</mo><mi id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.5.3.3">p</mi><mo id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.5.3.1a">â¢</mo><mi id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.1.1.2.1.5.3.4">t</mi></mrow></msub></mrow></mtd></mtr><mtr id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mfd"><mtd id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mfe"><mrow id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.1.1.3"><mtext id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.1.1.1">False</mtext><mo id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.1.1.3.1">,</mo></mrow></mtd><mtd id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mff"><mrow id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1"><mtext id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.2">if</mtext><mo id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.1" lspace="0.330em">â¢</mo><msub id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.3"><mi id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.3.2">M</mi><mrow id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.3.3"><mi id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.3.3.2">o</mi><mo id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.3.3.1">â¢</mo><mi id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.3.3.3">p</mi><mo id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.3.3.1a">â¢</mo><mi id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.3.3.4">t</mi></mrow></msub><mo id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.1a">â¢</mo><mtext id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.4">is better than</mtext><mo id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.1b" lspace="0.330em">â¢</mo><msub id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.5"><mi id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.5.2">N</mi><mi id="Sx3.E6.m1.1.1.1.1.1.1.1.1.mf.2.2.2.1.5.3">t</mi></msub></mrow></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex" id="Sx3.E6X.3.2.2.m1.1c">\displaystyle=\left\{\begin{matrix}{\text{True}},&amp;{\text{if}\,\,N_{t}\,\,\text%
{is better than}\,\,M_{opt}}\\
{\text{False}},&amp;{\text{if}\,\,M_{opt}\,\,\text{is better than}\,\,N_{t}}\end{%
matrix}\right.</annotation><annotation encoding="application/x-llamapun" id="Sx3.E6X.3.2.2.m1.1d">= { start_ARG start_ROW start_CELL True , end_CELL start_CELL if italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT is better than italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT end_CELL end_ROW start_ROW start_CELL False , end_CELL start_CELL if italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT is better than italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_CELL end_ROW end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(6)</span></td>
</tr>
</tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="Sx3.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="N_{t}\rightarrow M_{opt},\,\,\text{if}\,\,f_{c}(N_{t},M_{opt})=\text{True}" class="ltx_Math" display="block" id="Sx3.E7.m1.2"><semantics id="Sx3.E7.m1.2a"><mrow id="Sx3.E7.m1.2.2.2" xref="Sx3.E7.m1.2.2.3.cmml"><mrow id="Sx3.E7.m1.1.1.1.1" xref="Sx3.E7.m1.1.1.1.1.cmml"><msub id="Sx3.E7.m1.1.1.1.1.2" xref="Sx3.E7.m1.1.1.1.1.2.cmml"><mi id="Sx3.E7.m1.1.1.1.1.2.2" xref="Sx3.E7.m1.1.1.1.1.2.2.cmml">N</mi><mi id="Sx3.E7.m1.1.1.1.1.2.3" xref="Sx3.E7.m1.1.1.1.1.2.3.cmml">t</mi></msub><mo id="Sx3.E7.m1.1.1.1.1.1" stretchy="false" xref="Sx3.E7.m1.1.1.1.1.1.cmml">â†’</mo><msub id="Sx3.E7.m1.1.1.1.1.3" xref="Sx3.E7.m1.1.1.1.1.3.cmml"><mi id="Sx3.E7.m1.1.1.1.1.3.2" xref="Sx3.E7.m1.1.1.1.1.3.2.cmml">M</mi><mrow id="Sx3.E7.m1.1.1.1.1.3.3" xref="Sx3.E7.m1.1.1.1.1.3.3.cmml"><mi id="Sx3.E7.m1.1.1.1.1.3.3.2" xref="Sx3.E7.m1.1.1.1.1.3.3.2.cmml">o</mi><mo id="Sx3.E7.m1.1.1.1.1.3.3.1" xref="Sx3.E7.m1.1.1.1.1.3.3.1.cmml">â¢</mo><mi id="Sx3.E7.m1.1.1.1.1.3.3.3" xref="Sx3.E7.m1.1.1.1.1.3.3.3.cmml">p</mi><mo id="Sx3.E7.m1.1.1.1.1.3.3.1a" xref="Sx3.E7.m1.1.1.1.1.3.3.1.cmml">â¢</mo><mi id="Sx3.E7.m1.1.1.1.1.3.3.4" xref="Sx3.E7.m1.1.1.1.1.3.3.4.cmml">t</mi></mrow></msub></mrow><mo id="Sx3.E7.m1.2.2.2.3" rspace="0.497em" xref="Sx3.E7.m1.2.2.3a.cmml">,</mo><mrow id="Sx3.E7.m1.2.2.2.2" xref="Sx3.E7.m1.2.2.2.2.cmml"><mrow id="Sx3.E7.m1.2.2.2.2.2" xref="Sx3.E7.m1.2.2.2.2.2.cmml"><mtext id="Sx3.E7.m1.2.2.2.2.2.4" xref="Sx3.E7.m1.2.2.2.2.2.4a.cmml">if</mtext><mo id="Sx3.E7.m1.2.2.2.2.2.3" lspace="0.330em" xref="Sx3.E7.m1.2.2.2.2.2.3.cmml">â¢</mo><msub id="Sx3.E7.m1.2.2.2.2.2.5" xref="Sx3.E7.m1.2.2.2.2.2.5.cmml"><mi id="Sx3.E7.m1.2.2.2.2.2.5.2" xref="Sx3.E7.m1.2.2.2.2.2.5.2.cmml">f</mi><mi id="Sx3.E7.m1.2.2.2.2.2.5.3" xref="Sx3.E7.m1.2.2.2.2.2.5.3.cmml">c</mi></msub><mo id="Sx3.E7.m1.2.2.2.2.2.3a" xref="Sx3.E7.m1.2.2.2.2.2.3.cmml">â¢</mo><mrow id="Sx3.E7.m1.2.2.2.2.2.2.2" xref="Sx3.E7.m1.2.2.2.2.2.2.3.cmml"><mo id="Sx3.E7.m1.2.2.2.2.2.2.2.3" stretchy="false" xref="Sx3.E7.m1.2.2.2.2.2.2.3.cmml">(</mo><msub id="Sx3.E7.m1.2.2.2.2.1.1.1.1" xref="Sx3.E7.m1.2.2.2.2.1.1.1.1.cmml"><mi id="Sx3.E7.m1.2.2.2.2.1.1.1.1.2" xref="Sx3.E7.m1.2.2.2.2.1.1.1.1.2.cmml">N</mi><mi id="Sx3.E7.m1.2.2.2.2.1.1.1.1.3" xref="Sx3.E7.m1.2.2.2.2.1.1.1.1.3.cmml">t</mi></msub><mo id="Sx3.E7.m1.2.2.2.2.2.2.2.4" xref="Sx3.E7.m1.2.2.2.2.2.2.3.cmml">,</mo><msub id="Sx3.E7.m1.2.2.2.2.2.2.2.2" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.cmml"><mi id="Sx3.E7.m1.2.2.2.2.2.2.2.2.2" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.2.cmml">M</mi><mrow id="Sx3.E7.m1.2.2.2.2.2.2.2.2.3" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.cmml"><mi id="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.2" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.2.cmml">o</mi><mo id="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.1" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.1.cmml">â¢</mo><mi id="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.3" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.3.cmml">p</mi><mo id="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.1a" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.1.cmml">â¢</mo><mi id="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.4" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.4.cmml">t</mi></mrow></msub><mo id="Sx3.E7.m1.2.2.2.2.2.2.2.5" stretchy="false" xref="Sx3.E7.m1.2.2.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="Sx3.E7.m1.2.2.2.2.3" xref="Sx3.E7.m1.2.2.2.2.3.cmml">=</mo><mtext id="Sx3.E7.m1.2.2.2.2.4" xref="Sx3.E7.m1.2.2.2.2.4a.cmml">True</mtext></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E7.m1.2b"><apply id="Sx3.E7.m1.2.2.3.cmml" xref="Sx3.E7.m1.2.2.2"><csymbol cd="ambiguous" id="Sx3.E7.m1.2.2.3a.cmml" xref="Sx3.E7.m1.2.2.2.3">formulae-sequence</csymbol><apply id="Sx3.E7.m1.1.1.1.1.cmml" xref="Sx3.E7.m1.1.1.1.1"><ci id="Sx3.E7.m1.1.1.1.1.1.cmml" xref="Sx3.E7.m1.1.1.1.1.1">â†’</ci><apply id="Sx3.E7.m1.1.1.1.1.2.cmml" xref="Sx3.E7.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="Sx3.E7.m1.1.1.1.1.2.1.cmml" xref="Sx3.E7.m1.1.1.1.1.2">subscript</csymbol><ci id="Sx3.E7.m1.1.1.1.1.2.2.cmml" xref="Sx3.E7.m1.1.1.1.1.2.2">ğ‘</ci><ci id="Sx3.E7.m1.1.1.1.1.2.3.cmml" xref="Sx3.E7.m1.1.1.1.1.2.3">ğ‘¡</ci></apply><apply id="Sx3.E7.m1.1.1.1.1.3.cmml" xref="Sx3.E7.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="Sx3.E7.m1.1.1.1.1.3.1.cmml" xref="Sx3.E7.m1.1.1.1.1.3">subscript</csymbol><ci id="Sx3.E7.m1.1.1.1.1.3.2.cmml" xref="Sx3.E7.m1.1.1.1.1.3.2">ğ‘€</ci><apply id="Sx3.E7.m1.1.1.1.1.3.3.cmml" xref="Sx3.E7.m1.1.1.1.1.3.3"><times id="Sx3.E7.m1.1.1.1.1.3.3.1.cmml" xref="Sx3.E7.m1.1.1.1.1.3.3.1"></times><ci id="Sx3.E7.m1.1.1.1.1.3.3.2.cmml" xref="Sx3.E7.m1.1.1.1.1.3.3.2">ğ‘œ</ci><ci id="Sx3.E7.m1.1.1.1.1.3.3.3.cmml" xref="Sx3.E7.m1.1.1.1.1.3.3.3">ğ‘</ci><ci id="Sx3.E7.m1.1.1.1.1.3.3.4.cmml" xref="Sx3.E7.m1.1.1.1.1.3.3.4">ğ‘¡</ci></apply></apply></apply><apply id="Sx3.E7.m1.2.2.2.2.cmml" xref="Sx3.E7.m1.2.2.2.2"><eq id="Sx3.E7.m1.2.2.2.2.3.cmml" xref="Sx3.E7.m1.2.2.2.2.3"></eq><apply id="Sx3.E7.m1.2.2.2.2.2.cmml" xref="Sx3.E7.m1.2.2.2.2.2"><times id="Sx3.E7.m1.2.2.2.2.2.3.cmml" xref="Sx3.E7.m1.2.2.2.2.2.3"></times><ci id="Sx3.E7.m1.2.2.2.2.2.4a.cmml" xref="Sx3.E7.m1.2.2.2.2.2.4"><mtext id="Sx3.E7.m1.2.2.2.2.2.4.cmml" xref="Sx3.E7.m1.2.2.2.2.2.4">if</mtext></ci><apply id="Sx3.E7.m1.2.2.2.2.2.5.cmml" xref="Sx3.E7.m1.2.2.2.2.2.5"><csymbol cd="ambiguous" id="Sx3.E7.m1.2.2.2.2.2.5.1.cmml" xref="Sx3.E7.m1.2.2.2.2.2.5">subscript</csymbol><ci id="Sx3.E7.m1.2.2.2.2.2.5.2.cmml" xref="Sx3.E7.m1.2.2.2.2.2.5.2">ğ‘“</ci><ci id="Sx3.E7.m1.2.2.2.2.2.5.3.cmml" xref="Sx3.E7.m1.2.2.2.2.2.5.3">ğ‘</ci></apply><interval closure="open" id="Sx3.E7.m1.2.2.2.2.2.2.3.cmml" xref="Sx3.E7.m1.2.2.2.2.2.2.2"><apply id="Sx3.E7.m1.2.2.2.2.1.1.1.1.cmml" xref="Sx3.E7.m1.2.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="Sx3.E7.m1.2.2.2.2.1.1.1.1.1.cmml" xref="Sx3.E7.m1.2.2.2.2.1.1.1.1">subscript</csymbol><ci id="Sx3.E7.m1.2.2.2.2.1.1.1.1.2.cmml" xref="Sx3.E7.m1.2.2.2.2.1.1.1.1.2">ğ‘</ci><ci id="Sx3.E7.m1.2.2.2.2.1.1.1.1.3.cmml" xref="Sx3.E7.m1.2.2.2.2.1.1.1.1.3">ğ‘¡</ci></apply><apply id="Sx3.E7.m1.2.2.2.2.2.2.2.2.cmml" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="Sx3.E7.m1.2.2.2.2.2.2.2.2.1.cmml" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2">subscript</csymbol><ci id="Sx3.E7.m1.2.2.2.2.2.2.2.2.2.cmml" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.2">ğ‘€</ci><apply id="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.cmml" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.3"><times id="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.1.cmml" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.1"></times><ci id="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.2.cmml" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.2">ğ‘œ</ci><ci id="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.3.cmml" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.3">ğ‘</ci><ci id="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.4.cmml" xref="Sx3.E7.m1.2.2.2.2.2.2.2.2.3.4">ğ‘¡</ci></apply></apply></interval></apply><ci id="Sx3.E7.m1.2.2.2.2.4a.cmml" xref="Sx3.E7.m1.2.2.2.2.4"><mtext id="Sx3.E7.m1.2.2.2.2.4.cmml" xref="Sx3.E7.m1.2.2.2.2.4">True</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E7.m1.2c">N_{t}\rightarrow M_{opt},\,\,\text{if}\,\,f_{c}(N_{t},M_{opt})=\text{True}</annotation><annotation encoding="application/x-llamapun" id="Sx3.E7.m1.2d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT â†’ italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT , if italic_f start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ( italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT ) = True</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="Sx3.SSx3.SSSx1.p1.12">where <math alttext="f_{c}(\cdot)" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx1.p1.7.m1.1"><semantics id="Sx3.SSx3.SSSx1.p1.7.m1.1a"><mrow id="Sx3.SSx3.SSSx1.p1.7.m1.1.2" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.cmml"><msub id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2.cmml"><mi id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2.2" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2.2.cmml">f</mi><mi id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2.3" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2.3.cmml">c</mi></msub><mo id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.1" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.1.cmml">â¢</mo><mrow id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.3.2" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.cmml"><mo id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.3.2.1" stretchy="false" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.cmml">(</mo><mo id="Sx3.SSx3.SSSx1.p1.7.m1.1.1" lspace="0em" rspace="0em" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.1.cmml">â‹…</mo><mo id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.3.2.2" stretchy="false" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx1.p1.7.m1.1b"><apply id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.cmml" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2"><times id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.1.cmml" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.1"></times><apply id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2.cmml" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2.1.cmml" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2">subscript</csymbol><ci id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2.2.cmml" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2.2">ğ‘“</ci><ci id="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2.3.cmml" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.2.2.3">ğ‘</ci></apply><ci id="Sx3.SSx3.SSSx1.p1.7.m1.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.7.m1.1.1">â‹…</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx1.p1.7.m1.1c">f_{c}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx1.p1.7.m1.1d">italic_f start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ( â‹… )</annotation></semantics></math> stands for the content quality comparison function, and <math alttext="\rightarrow" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx1.p1.8.m2.1"><semantics id="Sx3.SSx3.SSSx1.p1.8.m2.1a"><mo id="Sx3.SSx3.SSSx1.p1.8.m2.1.1" stretchy="false" xref="Sx3.SSx3.SSSx1.p1.8.m2.1.1.cmml">â†’</mo><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx1.p1.8.m2.1b"><ci id="Sx3.SSx3.SSSx1.p1.8.m2.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.8.m2.1.1">â†’</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx1.p1.8.m2.1c">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx1.p1.8.m2.1d">â†’</annotation></semantics></math> means â€œbe stored inâ€. Specifically, for <math alttext="f_{c}(\cdot)" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx1.p1.9.m3.1"><semantics id="Sx3.SSx3.SSSx1.p1.9.m3.1a"><mrow id="Sx3.SSx3.SSSx1.p1.9.m3.1.2" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.cmml"><msub id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2.cmml"><mi id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2.2" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2.2.cmml">f</mi><mi id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2.3" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2.3.cmml">c</mi></msub><mo id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.1" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.1.cmml">â¢</mo><mrow id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.3.2" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.cmml"><mo id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.3.2.1" stretchy="false" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.cmml">(</mo><mo id="Sx3.SSx3.SSSx1.p1.9.m3.1.1" lspace="0em" rspace="0em" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.1.cmml">â‹…</mo><mo id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.3.2.2" stretchy="false" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx1.p1.9.m3.1b"><apply id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.cmml" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2"><times id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.1.cmml" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.1"></times><apply id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2.cmml" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2.1.cmml" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2">subscript</csymbol><ci id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2.2.cmml" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2.2">ğ‘“</ci><ci id="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2.3.cmml" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.2.2.3">ğ‘</ci></apply><ci id="Sx3.SSx3.SSSx1.p1.9.m3.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.9.m3.1.1">â‹…</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx1.p1.9.m3.1c">f_{c}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx1.p1.9.m3.1d">italic_f start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ( â‹… )</annotation></semantics></math>, we first judge whether <math alttext="N_{t}" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx1.p1.10.m4.1"><semantics id="Sx3.SSx3.SSSx1.p1.10.m4.1a"><msub id="Sx3.SSx3.SSSx1.p1.10.m4.1.1" xref="Sx3.SSx3.SSSx1.p1.10.m4.1.1.cmml"><mi id="Sx3.SSx3.SSSx1.p1.10.m4.1.1.2" xref="Sx3.SSx3.SSSx1.p1.10.m4.1.1.2.cmml">N</mi><mi id="Sx3.SSx3.SSSx1.p1.10.m4.1.1.3" xref="Sx3.SSx3.SSSx1.p1.10.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx1.p1.10.m4.1b"><apply id="Sx3.SSx3.SSSx1.p1.10.m4.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.10.m4.1.1"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx1.p1.10.m4.1.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.10.m4.1.1">subscript</csymbol><ci id="Sx3.SSx3.SSSx1.p1.10.m4.1.1.2.cmml" xref="Sx3.SSx3.SSSx1.p1.10.m4.1.1.2">ğ‘</ci><ci id="Sx3.SSx3.SSSx1.p1.10.m4.1.1.3.cmml" xref="Sx3.SSx3.SSSx1.p1.10.m4.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx1.p1.10.m4.1c">N_{t}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx1.p1.10.m4.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> has new or additional non-redundant information compared to <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx1.p1.11.m5.1"><semantics id="Sx3.SSx3.SSSx1.p1.11.m5.1a"><msub id="Sx3.SSx3.SSSx1.p1.11.m5.1.1" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.cmml"><mi id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.2" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.2.cmml">M</mi><mrow id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.cmml"><mi id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.2" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.1" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.3" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.1a" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.4" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx1.p1.11.m5.1b"><apply id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1">subscript</csymbol><ci id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.2.cmml" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.2">ğ‘€</ci><apply id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.cmml" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3"><times id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.1.cmml" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.1"></times><ci id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.2.cmml" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.3.cmml" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.4.cmml" xref="Sx3.SSx3.SSSx1.p1.11.m5.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx1.p1.11.m5.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx1.p1.11.m5.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. Furthermore, to conduct a multi-dimensional comparison, we craft evaluation criteria for quality comparison in prompt templates of <math alttext="f_{c}(\cdot)" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx1.p1.12.m6.1"><semantics id="Sx3.SSx3.SSSx1.p1.12.m6.1a"><mrow id="Sx3.SSx3.SSSx1.p1.12.m6.1.2" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.cmml"><msub id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2.cmml"><mi id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2.2" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2.2.cmml">f</mi><mi id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2.3" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2.3.cmml">c</mi></msub><mo id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.1" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.1.cmml">â¢</mo><mrow id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.3.2" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.cmml"><mo id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.3.2.1" stretchy="false" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.cmml">(</mo><mo id="Sx3.SSx3.SSSx1.p1.12.m6.1.1" lspace="0em" rspace="0em" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.1.cmml">â‹…</mo><mo id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.3.2.2" stretchy="false" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx1.p1.12.m6.1b"><apply id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.cmml" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2"><times id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.1.cmml" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.1"></times><apply id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2.cmml" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2.1.cmml" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2">subscript</csymbol><ci id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2.2.cmml" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2.2">ğ‘“</ci><ci id="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2.3.cmml" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.2.2.3">ğ‘</ci></apply><ci id="Sx3.SSx3.SSSx1.p1.12.m6.1.1.cmml" xref="Sx3.SSx3.SSSx1.p1.12.m6.1.1">â‹…</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx1.p1.12.m6.1c">f_{c}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx1.p1.12.m6.1d">italic_f start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ( â‹… )</annotation></semantics></math> with a zero-shot setup. The evaluation criteria involve: 1) whether the content contains key information directly related to the question, 2) whether the content has multiple aspects, 3) whether the content contains sufficient details, and 4) whether the content is practical enough.</p>
</div>
</section>
<section class="ltx_subsubsection" id="Sx3.SSx3.SSSx2">
<h4 class="ltx_title ltx_title_subsubsection">Trigger2: When to stop retrieval.</h4>
<div class="ltx_para" id="Sx3.SSx3.SSSx2.p1">
<p class="ltx_p" id="Sx3.SSx3.SSSx2.p1.4">As previously mentioned, the iterative process involves continuously retrieving and collecting useful information into a note, and then storing the notes with better content quality in memory.
We establish three stop conditions to adaptively control the note update, thereby indirectly controlling information collection.
<span class="ltx_text ltx_font_italic" id="Sx3.SSx3.SSSx2.p1.4.1">Firstly</span>, if the quality of the updated note fails to surpass that of the <math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx2.p1.1.m1.1"><semantics id="Sx3.SSx3.SSSx2.p1.1.m1.1a"><msub id="Sx3.SSx3.SSSx2.p1.1.m1.1.1" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.cmml"><mi id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.2" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.2.cmml">M</mi><mrow id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.cmml"><mi id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.2" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.1" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.3" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.1a" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.4" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx2.p1.1.m1.1b"><apply id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.cmml" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.1.cmml" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1">subscript</csymbol><ci id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.2.cmml" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.2">ğ‘€</ci><apply id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.cmml" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3"><times id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.1.cmml" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.1"></times><ci id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.2.cmml" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.3.cmml" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.4.cmml" xref="Sx3.SSx3.SSSx2.p1.1.m1.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx2.p1.1.m1.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx2.p1.1.m1.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, this step of information gathering counts as invalid. Therefore, we set a threshold <math alttext="T_{IU}" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx2.p1.2.m2.1"><semantics id="Sx3.SSx3.SSSx2.p1.2.m2.1a"><msub id="Sx3.SSx3.SSSx2.p1.2.m2.1.1" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1.cmml"><mi id="Sx3.SSx3.SSSx2.p1.2.m2.1.1.2" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1.2.cmml">T</mi><mrow id="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.cmml"><mi id="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.2" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.2.cmml">I</mi><mo id="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.1" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.3" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.3.cmml">U</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx2.p1.2.m2.1b"><apply id="Sx3.SSx3.SSSx2.p1.2.m2.1.1.cmml" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx2.p1.2.m2.1.1.1.cmml" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1">subscript</csymbol><ci id="Sx3.SSx3.SSSx2.p1.2.m2.1.1.2.cmml" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1.2">ğ‘‡</ci><apply id="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.cmml" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3"><times id="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.1.cmml" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.1"></times><ci id="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.2.cmml" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.2">ğ¼</ci><ci id="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.3.cmml" xref="Sx3.SSx3.SSSx2.p1.2.m2.1.1.3.3">ğ‘ˆ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx2.p1.2.m2.1c">T_{IU}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx2.p1.2.m2.1d">italic_T start_POSTSUBSCRIPT italic_I italic_U end_POSTSUBSCRIPT</annotation></semantics></math> for the total round of invalid information collections, named the <span class="ltx_text ltx_font_bold" id="Sx3.SSx3.SSSx2.p1.4.2">invalid update count (IU)</span>.
<span class="ltx_text ltx_font_italic" id="Sx3.SSx3.SSSx2.p1.4.3">Secondly</span>, some queries might correspond to numerous long-tail knowledge pieces in the corpus, directing to a continuous increase in the note information content after several iterations. However, these detailed pieces might be unnecessary for answering the original query. Hence, we set a threshold <math alttext="T_{CI}" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx2.p1.3.m3.1"><semantics id="Sx3.SSx3.SSSx2.p1.3.m3.1a"><msub id="Sx3.SSx3.SSSx2.p1.3.m3.1.1" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1.cmml"><mi id="Sx3.SSx3.SSSx2.p1.3.m3.1.1.2" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1.2.cmml">T</mi><mrow id="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.cmml"><mi id="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.2" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.2.cmml">C</mi><mo id="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.1" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.3" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.3.cmml">I</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx2.p1.3.m3.1b"><apply id="Sx3.SSx3.SSSx2.p1.3.m3.1.1.cmml" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx2.p1.3.m3.1.1.1.cmml" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1">subscript</csymbol><ci id="Sx3.SSx3.SSSx2.p1.3.m3.1.1.2.cmml" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1.2">ğ‘‡</ci><apply id="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.cmml" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3"><times id="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.1.cmml" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.1"></times><ci id="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.2.cmml" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.2">ğ¶</ci><ci id="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.3.cmml" xref="Sx3.SSx3.SSSx2.p1.3.m3.1.1.3.3">ğ¼</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx2.p1.3.m3.1c">T_{CI}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx2.p1.3.m3.1d">italic_T start_POSTSUBSCRIPT italic_C italic_I end_POSTSUBSCRIPT</annotation></semantics></math> for the maximum number of information collection steps and a threshold <math alttext="T_{RP}" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx2.p1.4.m4.1"><semantics id="Sx3.SSx3.SSSx2.p1.4.m4.1a"><msub id="Sx3.SSx3.SSSx2.p1.4.m4.1.1" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1.cmml"><mi id="Sx3.SSx3.SSSx2.p1.4.m4.1.1.2" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1.2.cmml">T</mi><mrow id="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.cmml"><mi id="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.2" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.2.cmml">R</mi><mo id="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.1" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.3" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.3.cmml">P</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx2.p1.4.m4.1b"><apply id="Sx3.SSx3.SSSx2.p1.4.m4.1.1.cmml" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="Sx3.SSx3.SSSx2.p1.4.m4.1.1.1.cmml" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1">subscript</csymbol><ci id="Sx3.SSx3.SSSx2.p1.4.m4.1.1.2.cmml" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1.2">ğ‘‡</ci><apply id="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.cmml" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3"><times id="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.1.cmml" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.1"></times><ci id="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.2.cmml" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.2">ğ‘…</ci><ci id="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.3.cmml" xref="Sx3.SSx3.SSSx2.p1.4.m4.1.1.3.3">ğ‘ƒ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx2.p1.4.m4.1c">T_{RP}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx2.p1.4.m4.1d">italic_T start_POSTSUBSCRIPT italic_R italic_P end_POSTSUBSCRIPT</annotation></semantics></math> for the maximum number of deduplicated retrieved passages, respectively named <span class="ltx_text ltx_font_bold" id="Sx3.SSx3.SSSx2.p1.4.4">collector iteration count (CI)</span> and <span class="ltx_text ltx_font_bold" id="Sx3.SSx3.SSSx2.p1.4.5">retrieved passage count (RP)</span>. These three thresholds serve as conditions to stop the iteration, and satisfying any of them will trigger the termination of the process, mathematically expressed below:</p>
<table class="ltx_equation ltx_eqn_table" id="Sx3.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\left\langle\mathbf{Stop}\right\rangle=\mathbf{1}\left\{IU\geq T_{IU}\vee CI%
\geq T_{CI}\vee RP\geq T_{RP}\right\}" class="ltx_Math" display="block" id="Sx3.E8.m1.2"><semantics id="Sx3.E8.m1.2a"><mrow id="Sx3.E8.m1.2.2" xref="Sx3.E8.m1.2.2.cmml"><mrow id="Sx3.E8.m1.2.2.3.2" xref="Sx3.E8.m1.2.2.3.1.cmml"><mo id="Sx3.E8.m1.2.2.3.2.1" xref="Sx3.E8.m1.2.2.3.1.1.cmml">âŸ¨</mo><mi id="Sx3.E8.m1.1.1" xref="Sx3.E8.m1.1.1.cmml">ğ’ğ­ğ¨ğ©</mi><mo id="Sx3.E8.m1.2.2.3.2.2" xref="Sx3.E8.m1.2.2.3.1.1.cmml">âŸ©</mo></mrow><mo id="Sx3.E8.m1.2.2.2" xref="Sx3.E8.m1.2.2.2.cmml">=</mo><mrow id="Sx3.E8.m1.2.2.1" xref="Sx3.E8.m1.2.2.1.cmml"><mn id="Sx3.E8.m1.2.2.1.3" xref="Sx3.E8.m1.2.2.1.3.cmml">ğŸ</mn><mo id="Sx3.E8.m1.2.2.1.2" xref="Sx3.E8.m1.2.2.1.2.cmml">â¢</mo><mrow id="Sx3.E8.m1.2.2.1.1.1" xref="Sx3.E8.m1.2.2.1.1.2.cmml"><mo id="Sx3.E8.m1.2.2.1.1.1.2" xref="Sx3.E8.m1.2.2.1.1.2.cmml">{</mo><mrow id="Sx3.E8.m1.2.2.1.1.1.1" xref="Sx3.E8.m1.2.2.1.1.1.1.cmml"><mrow id="Sx3.E8.m1.2.2.1.1.1.1.2" xref="Sx3.E8.m1.2.2.1.1.1.1.2.cmml"><mi id="Sx3.E8.m1.2.2.1.1.1.1.2.2" xref="Sx3.E8.m1.2.2.1.1.1.1.2.2.cmml">I</mi><mo id="Sx3.E8.m1.2.2.1.1.1.1.2.1" xref="Sx3.E8.m1.2.2.1.1.1.1.2.1.cmml">â¢</mo><mi id="Sx3.E8.m1.2.2.1.1.1.1.2.3" xref="Sx3.E8.m1.2.2.1.1.1.1.2.3.cmml">U</mi></mrow><mo id="Sx3.E8.m1.2.2.1.1.1.1.3" xref="Sx3.E8.m1.2.2.1.1.1.1.3.cmml">â‰¥</mo><mrow id="Sx3.E8.m1.2.2.1.1.1.1.4" xref="Sx3.E8.m1.2.2.1.1.1.1.4.cmml"><msub id="Sx3.E8.m1.2.2.1.1.1.1.4.2" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2.cmml"><mi id="Sx3.E8.m1.2.2.1.1.1.1.4.2.2" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2.2.cmml">T</mi><mrow id="Sx3.E8.m1.2.2.1.1.1.1.4.2.3" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.cmml"><mi id="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.2" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.2.cmml">I</mi><mo id="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.1" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.1.cmml">â¢</mo><mi id="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.3" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.3.cmml">U</mi></mrow></msub><mo id="Sx3.E8.m1.2.2.1.1.1.1.4.1" xref="Sx3.E8.m1.2.2.1.1.1.1.4.1.cmml">âˆ¨</mo><mrow id="Sx3.E8.m1.2.2.1.1.1.1.4.3" xref="Sx3.E8.m1.2.2.1.1.1.1.4.3.cmml"><mi id="Sx3.E8.m1.2.2.1.1.1.1.4.3.2" xref="Sx3.E8.m1.2.2.1.1.1.1.4.3.2.cmml">C</mi><mo id="Sx3.E8.m1.2.2.1.1.1.1.4.3.1" xref="Sx3.E8.m1.2.2.1.1.1.1.4.3.1.cmml">â¢</mo><mi id="Sx3.E8.m1.2.2.1.1.1.1.4.3.3" xref="Sx3.E8.m1.2.2.1.1.1.1.4.3.3.cmml">I</mi></mrow></mrow><mo id="Sx3.E8.m1.2.2.1.1.1.1.5" xref="Sx3.E8.m1.2.2.1.1.1.1.5.cmml">â‰¥</mo><mrow id="Sx3.E8.m1.2.2.1.1.1.1.6" xref="Sx3.E8.m1.2.2.1.1.1.1.6.cmml"><msub id="Sx3.E8.m1.2.2.1.1.1.1.6.2" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2.cmml"><mi id="Sx3.E8.m1.2.2.1.1.1.1.6.2.2" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2.2.cmml">T</mi><mrow id="Sx3.E8.m1.2.2.1.1.1.1.6.2.3" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.cmml"><mi id="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.2" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.2.cmml">C</mi><mo id="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.1" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.1.cmml">â¢</mo><mi id="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.3" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.3.cmml">I</mi></mrow></msub><mo id="Sx3.E8.m1.2.2.1.1.1.1.6.1" xref="Sx3.E8.m1.2.2.1.1.1.1.6.1.cmml">âˆ¨</mo><mrow id="Sx3.E8.m1.2.2.1.1.1.1.6.3" xref="Sx3.E8.m1.2.2.1.1.1.1.6.3.cmml"><mi id="Sx3.E8.m1.2.2.1.1.1.1.6.3.2" xref="Sx3.E8.m1.2.2.1.1.1.1.6.3.2.cmml">R</mi><mo id="Sx3.E8.m1.2.2.1.1.1.1.6.3.1" xref="Sx3.E8.m1.2.2.1.1.1.1.6.3.1.cmml">â¢</mo><mi id="Sx3.E8.m1.2.2.1.1.1.1.6.3.3" xref="Sx3.E8.m1.2.2.1.1.1.1.6.3.3.cmml">P</mi></mrow></mrow><mo id="Sx3.E8.m1.2.2.1.1.1.1.7" xref="Sx3.E8.m1.2.2.1.1.1.1.7.cmml">â‰¥</mo><msub id="Sx3.E8.m1.2.2.1.1.1.1.8" xref="Sx3.E8.m1.2.2.1.1.1.1.8.cmml"><mi id="Sx3.E8.m1.2.2.1.1.1.1.8.2" xref="Sx3.E8.m1.2.2.1.1.1.1.8.2.cmml">T</mi><mrow id="Sx3.E8.m1.2.2.1.1.1.1.8.3" xref="Sx3.E8.m1.2.2.1.1.1.1.8.3.cmml"><mi id="Sx3.E8.m1.2.2.1.1.1.1.8.3.2" xref="Sx3.E8.m1.2.2.1.1.1.1.8.3.2.cmml">R</mi><mo id="Sx3.E8.m1.2.2.1.1.1.1.8.3.1" xref="Sx3.E8.m1.2.2.1.1.1.1.8.3.1.cmml">â¢</mo><mi id="Sx3.E8.m1.2.2.1.1.1.1.8.3.3" xref="Sx3.E8.m1.2.2.1.1.1.1.8.3.3.cmml">P</mi></mrow></msub></mrow><mo id="Sx3.E8.m1.2.2.1.1.1.3" xref="Sx3.E8.m1.2.2.1.1.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E8.m1.2b"><apply id="Sx3.E8.m1.2.2.cmml" xref="Sx3.E8.m1.2.2"><eq id="Sx3.E8.m1.2.2.2.cmml" xref="Sx3.E8.m1.2.2.2"></eq><apply id="Sx3.E8.m1.2.2.3.1.cmml" xref="Sx3.E8.m1.2.2.3.2"><csymbol cd="latexml" id="Sx3.E8.m1.2.2.3.1.1.cmml" xref="Sx3.E8.m1.2.2.3.2.1">delimited-âŸ¨âŸ©</csymbol><ci id="Sx3.E8.m1.1.1.cmml" xref="Sx3.E8.m1.1.1">ğ’ğ­ğ¨ğ©</ci></apply><apply id="Sx3.E8.m1.2.2.1.cmml" xref="Sx3.E8.m1.2.2.1"><times id="Sx3.E8.m1.2.2.1.2.cmml" xref="Sx3.E8.m1.2.2.1.2"></times><cn id="Sx3.E8.m1.2.2.1.3.cmml" type="integer" xref="Sx3.E8.m1.2.2.1.3">1</cn><set id="Sx3.E8.m1.2.2.1.1.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1"><apply id="Sx3.E8.m1.2.2.1.1.1.1.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1"><and id="Sx3.E8.m1.2.2.1.1.1.1a.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1"></and><apply id="Sx3.E8.m1.2.2.1.1.1.1b.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1"><geq id="Sx3.E8.m1.2.2.1.1.1.1.3.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.3"></geq><apply id="Sx3.E8.m1.2.2.1.1.1.1.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.2"><times id="Sx3.E8.m1.2.2.1.1.1.1.2.1.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.2.1"></times><ci id="Sx3.E8.m1.2.2.1.1.1.1.2.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.2.2">ğ¼</ci><ci id="Sx3.E8.m1.2.2.1.1.1.1.2.3.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.2.3">ğ‘ˆ</ci></apply><apply id="Sx3.E8.m1.2.2.1.1.1.1.4.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4"><or id="Sx3.E8.m1.2.2.1.1.1.1.4.1.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4.1"></or><apply id="Sx3.E8.m1.2.2.1.1.1.1.4.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2"><csymbol cd="ambiguous" id="Sx3.E8.m1.2.2.1.1.1.1.4.2.1.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2">subscript</csymbol><ci id="Sx3.E8.m1.2.2.1.1.1.1.4.2.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2.2">ğ‘‡</ci><apply id="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2.3"><times id="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.1.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.1"></times><ci id="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.2">ğ¼</ci><ci id="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.3.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4.2.3.3">ğ‘ˆ</ci></apply></apply><apply id="Sx3.E8.m1.2.2.1.1.1.1.4.3.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4.3"><times id="Sx3.E8.m1.2.2.1.1.1.1.4.3.1.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4.3.1"></times><ci id="Sx3.E8.m1.2.2.1.1.1.1.4.3.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4.3.2">ğ¶</ci><ci id="Sx3.E8.m1.2.2.1.1.1.1.4.3.3.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.4.3.3">ğ¼</ci></apply></apply></apply><apply id="Sx3.E8.m1.2.2.1.1.1.1c.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1"><geq id="Sx3.E8.m1.2.2.1.1.1.1.5.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.5"></geq><share href="https://arxiv.org/html/2410.08821v1#Sx3.E8.m1.2.2.1.1.1.1.4.cmml" id="Sx3.E8.m1.2.2.1.1.1.1d.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1"></share><apply id="Sx3.E8.m1.2.2.1.1.1.1.6.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6"><or id="Sx3.E8.m1.2.2.1.1.1.1.6.1.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6.1"></or><apply id="Sx3.E8.m1.2.2.1.1.1.1.6.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2"><csymbol cd="ambiguous" id="Sx3.E8.m1.2.2.1.1.1.1.6.2.1.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2">subscript</csymbol><ci id="Sx3.E8.m1.2.2.1.1.1.1.6.2.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2.2">ğ‘‡</ci><apply id="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2.3"><times id="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.1.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.1"></times><ci id="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.2">ğ¶</ci><ci id="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.3.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6.2.3.3">ğ¼</ci></apply></apply><apply id="Sx3.E8.m1.2.2.1.1.1.1.6.3.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6.3"><times id="Sx3.E8.m1.2.2.1.1.1.1.6.3.1.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6.3.1"></times><ci id="Sx3.E8.m1.2.2.1.1.1.1.6.3.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6.3.2">ğ‘…</ci><ci id="Sx3.E8.m1.2.2.1.1.1.1.6.3.3.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.6.3.3">ğ‘ƒ</ci></apply></apply></apply><apply id="Sx3.E8.m1.2.2.1.1.1.1e.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1"><geq id="Sx3.E8.m1.2.2.1.1.1.1.7.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.7"></geq><share href="https://arxiv.org/html/2410.08821v1#Sx3.E8.m1.2.2.1.1.1.1.6.cmml" id="Sx3.E8.m1.2.2.1.1.1.1f.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1"></share><apply id="Sx3.E8.m1.2.2.1.1.1.1.8.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.8"><csymbol cd="ambiguous" id="Sx3.E8.m1.2.2.1.1.1.1.8.1.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.8">subscript</csymbol><ci id="Sx3.E8.m1.2.2.1.1.1.1.8.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.8.2">ğ‘‡</ci><apply id="Sx3.E8.m1.2.2.1.1.1.1.8.3.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.8.3"><times id="Sx3.E8.m1.2.2.1.1.1.1.8.3.1.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.8.3.1"></times><ci id="Sx3.E8.m1.2.2.1.1.1.1.8.3.2.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.8.3.2">ğ‘…</ci><ci id="Sx3.E8.m1.2.2.1.1.1.1.8.3.3.cmml" xref="Sx3.E8.m1.2.2.1.1.1.1.8.3.3">ğ‘ƒ</ci></apply></apply></apply></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E8.m1.2c">\left\langle\mathbf{Stop}\right\rangle=\mathbf{1}\left\{IU\geq T_{IU}\vee CI%
\geq T_{CI}\vee RP\geq T_{RP}\right\}</annotation><annotation encoding="application/x-llamapun" id="Sx3.E8.m1.2d">âŸ¨ bold_Stop âŸ© = bold_1 { italic_I italic_U â‰¥ italic_T start_POSTSUBSCRIPT italic_I italic_U end_POSTSUBSCRIPT âˆ¨ italic_C italic_I â‰¥ italic_T start_POSTSUBSCRIPT italic_C italic_I end_POSTSUBSCRIPT âˆ¨ italic_R italic_P â‰¥ italic_T start_POSTSUBSCRIPT italic_R italic_P end_POSTSUBSCRIPT }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="Sx3.SSx3.SSSx2.p1.6">The <math alttext="\left\langle\mathbf{Stop}\right\rangle" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx2.p1.5.m1.1"><semantics id="Sx3.SSx3.SSSx2.p1.5.m1.1a"><mrow id="Sx3.SSx3.SSSx2.p1.5.m1.1.2.2" xref="Sx3.SSx3.SSSx2.p1.5.m1.1.2.1.cmml"><mo id="Sx3.SSx3.SSSx2.p1.5.m1.1.2.2.1" xref="Sx3.SSx3.SSSx2.p1.5.m1.1.2.1.1.cmml">âŸ¨</mo><mi id="Sx3.SSx3.SSSx2.p1.5.m1.1.1" xref="Sx3.SSx3.SSSx2.p1.5.m1.1.1.cmml">ğ’ğ­ğ¨ğ©</mi><mo id="Sx3.SSx3.SSSx2.p1.5.m1.1.2.2.2" xref="Sx3.SSx3.SSSx2.p1.5.m1.1.2.1.1.cmml">âŸ©</mo></mrow><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx2.p1.5.m1.1b"><apply id="Sx3.SSx3.SSSx2.p1.5.m1.1.2.1.cmml" xref="Sx3.SSx3.SSSx2.p1.5.m1.1.2.2"><csymbol cd="latexml" id="Sx3.SSx3.SSSx2.p1.5.m1.1.2.1.1.cmml" xref="Sx3.SSx3.SSSx2.p1.5.m1.1.2.2.1">delimited-âŸ¨âŸ©</csymbol><ci id="Sx3.SSx3.SSSx2.p1.5.m1.1.1.cmml" xref="Sx3.SSx3.SSSx2.p1.5.m1.1.1">ğ’ğ­ğ¨ğ©</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx2.p1.5.m1.1c">\left\langle\mathbf{Stop}\right\rangle</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx2.p1.5.m1.1d">âŸ¨ bold_Stop âŸ©</annotation></semantics></math>, a boolean value, indicates whether to stop the iterative process. The <math alttext="\geq" class="ltx_Math" display="inline" id="Sx3.SSx3.SSSx2.p1.6.m2.1"><semantics id="Sx3.SSx3.SSSx2.p1.6.m2.1a"><mo id="Sx3.SSx3.SSSx2.p1.6.m2.1.1" xref="Sx3.SSx3.SSSx2.p1.6.m2.1.1.cmml">â‰¥</mo><annotation-xml encoding="MathML-Content" id="Sx3.SSx3.SSSx2.p1.6.m2.1b"><geq id="Sx3.SSx3.SSSx2.p1.6.m2.1.1.cmml" xref="Sx3.SSx3.SSSx2.p1.6.m2.1.1"></geq></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx3.SSSx2.p1.6.m2.1c">\geq</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx3.SSSx2.p1.6.m2.1d">â‰¥</annotation></semantics></math> denotes that satisfying any trigger condition will return 1.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="Sx3.SSx4">
<h3 class="ltx_title ltx_title_subsection">Task-Oriented Generator</h3>
<div class="ltx_para" id="Sx3.SSx4.p1">
<p class="ltx_p" id="Sx3.SSx4.p1.3">The task-oriented generator reads the optimal memory
<math alttext="M_{opt}" class="ltx_Math" display="inline" id="Sx3.SSx4.p1.1.m1.1"><semantics id="Sx3.SSx4.p1.1.m1.1a"><msub id="Sx3.SSx4.p1.1.m1.1.1" xref="Sx3.SSx4.p1.1.m1.1.1.cmml"><mi id="Sx3.SSx4.p1.1.m1.1.1.2" xref="Sx3.SSx4.p1.1.m1.1.1.2.cmml">M</mi><mrow id="Sx3.SSx4.p1.1.m1.1.1.3" xref="Sx3.SSx4.p1.1.m1.1.1.3.cmml"><mi id="Sx3.SSx4.p1.1.m1.1.1.3.2" xref="Sx3.SSx4.p1.1.m1.1.1.3.2.cmml">o</mi><mo id="Sx3.SSx4.p1.1.m1.1.1.3.1" xref="Sx3.SSx4.p1.1.m1.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx4.p1.1.m1.1.1.3.3" xref="Sx3.SSx4.p1.1.m1.1.1.3.3.cmml">p</mi><mo id="Sx3.SSx4.p1.1.m1.1.1.3.1a" xref="Sx3.SSx4.p1.1.m1.1.1.3.1.cmml">â¢</mo><mi id="Sx3.SSx4.p1.1.m1.1.1.3.4" xref="Sx3.SSx4.p1.1.m1.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="Sx3.SSx4.p1.1.m1.1b"><apply id="Sx3.SSx4.p1.1.m1.1.1.cmml" xref="Sx3.SSx4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="Sx3.SSx4.p1.1.m1.1.1.1.cmml" xref="Sx3.SSx4.p1.1.m1.1.1">subscript</csymbol><ci id="Sx3.SSx4.p1.1.m1.1.1.2.cmml" xref="Sx3.SSx4.p1.1.m1.1.1.2">ğ‘€</ci><apply id="Sx3.SSx4.p1.1.m1.1.1.3.cmml" xref="Sx3.SSx4.p1.1.m1.1.1.3"><times id="Sx3.SSx4.p1.1.m1.1.1.3.1.cmml" xref="Sx3.SSx4.p1.1.m1.1.1.3.1"></times><ci id="Sx3.SSx4.p1.1.m1.1.1.3.2.cmml" xref="Sx3.SSx4.p1.1.m1.1.1.3.2">ğ‘œ</ci><ci id="Sx3.SSx4.p1.1.m1.1.1.3.3.cmml" xref="Sx3.SSx4.p1.1.m1.1.1.3.3">ğ‘</ci><ci id="Sx3.SSx4.p1.1.m1.1.1.3.4.cmml" xref="Sx3.SSx4.p1.1.m1.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx4.p1.1.m1.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx4.p1.1.m1.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, and outputs the answer <math alttext="\alpha" class="ltx_Math" display="inline" id="Sx3.SSx4.p1.2.m2.1"><semantics id="Sx3.SSx4.p1.2.m2.1a"><mi id="Sx3.SSx4.p1.2.m2.1.1" xref="Sx3.SSx4.p1.2.m2.1.1.cmml">Î±</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx4.p1.2.m2.1b"><ci id="Sx3.SSx4.p1.2.m2.1.1.cmml" xref="Sx3.SSx4.p1.2.m2.1.1">ğ›¼</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx4.p1.2.m2.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx4.p1.2.m2.1d">italic_Î±</annotation></semantics></math> to the original query <math alttext="q" class="ltx_Math" display="inline" id="Sx3.SSx4.p1.3.m3.1"><semantics id="Sx3.SSx4.p1.3.m3.1a"><mi id="Sx3.SSx4.p1.3.m3.1.1" xref="Sx3.SSx4.p1.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="Sx3.SSx4.p1.3.m3.1b"><ci id="Sx3.SSx4.p1.3.m3.1.1.cmml" xref="Sx3.SSx4.p1.3.m3.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx4.p1.3.m3.1c">q</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx4.p1.3.m3.1d">italic_q</annotation></semantics></math>.
Due to the varied output style (e.g., long or short generations) of different QA tasks, we tailor the prompts to be task-oriented.
For example, multi-hop QA tasks require short and precise outputs, often only a few words, while the knowledge in our memory appears as a long text. Therefore, we guide the LLM to output only key answers without including extraneous words. In contrast, for the long-form QA task, we guide the response style instead of stringent limitations.</p>
<table class="ltx_equation ltx_eqn_table" id="Sx3.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\alpha=\text{LLM}(prompt_{g}(q,M_{opt}))" class="ltx_Math" display="block" id="Sx3.E9.m1.2"><semantics id="Sx3.E9.m1.2a"><mrow id="Sx3.E9.m1.2.2" xref="Sx3.E9.m1.2.2.cmml"><mi id="Sx3.E9.m1.2.2.3" xref="Sx3.E9.m1.2.2.3.cmml">Î±</mi><mo id="Sx3.E9.m1.2.2.2" xref="Sx3.E9.m1.2.2.2.cmml">=</mo><mrow id="Sx3.E9.m1.2.2.1" xref="Sx3.E9.m1.2.2.1.cmml"><mtext id="Sx3.E9.m1.2.2.1.3" xref="Sx3.E9.m1.2.2.1.3a.cmml">LLM</mtext><mo id="Sx3.E9.m1.2.2.1.2" xref="Sx3.E9.m1.2.2.1.2.cmml">â¢</mo><mrow id="Sx3.E9.m1.2.2.1.1.1" xref="Sx3.E9.m1.2.2.1.1.1.1.cmml"><mo id="Sx3.E9.m1.2.2.1.1.1.2" stretchy="false" xref="Sx3.E9.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="Sx3.E9.m1.2.2.1.1.1.1" xref="Sx3.E9.m1.2.2.1.1.1.1.cmml"><mi id="Sx3.E9.m1.2.2.1.1.1.1.3" xref="Sx3.E9.m1.2.2.1.1.1.1.3.cmml">p</mi><mo id="Sx3.E9.m1.2.2.1.1.1.1.2" xref="Sx3.E9.m1.2.2.1.1.1.1.2.cmml">â¢</mo><mi id="Sx3.E9.m1.2.2.1.1.1.1.4" xref="Sx3.E9.m1.2.2.1.1.1.1.4.cmml">r</mi><mo id="Sx3.E9.m1.2.2.1.1.1.1.2a" xref="Sx3.E9.m1.2.2.1.1.1.1.2.cmml">â¢</mo><mi id="Sx3.E9.m1.2.2.1.1.1.1.5" xref="Sx3.E9.m1.2.2.1.1.1.1.5.cmml">o</mi><mo id="Sx3.E9.m1.2.2.1.1.1.1.2b" xref="Sx3.E9.m1.2.2.1.1.1.1.2.cmml">â¢</mo><mi id="Sx3.E9.m1.2.2.1.1.1.1.6" xref="Sx3.E9.m1.2.2.1.1.1.1.6.cmml">m</mi><mo id="Sx3.E9.m1.2.2.1.1.1.1.2c" xref="Sx3.E9.m1.2.2.1.1.1.1.2.cmml">â¢</mo><mi id="Sx3.E9.m1.2.2.1.1.1.1.7" xref="Sx3.E9.m1.2.2.1.1.1.1.7.cmml">p</mi><mo id="Sx3.E9.m1.2.2.1.1.1.1.2d" xref="Sx3.E9.m1.2.2.1.1.1.1.2.cmml">â¢</mo><msub id="Sx3.E9.m1.2.2.1.1.1.1.8" xref="Sx3.E9.m1.2.2.1.1.1.1.8.cmml"><mi id="Sx3.E9.m1.2.2.1.1.1.1.8.2" xref="Sx3.E9.m1.2.2.1.1.1.1.8.2.cmml">t</mi><mi id="Sx3.E9.m1.2.2.1.1.1.1.8.3" xref="Sx3.E9.m1.2.2.1.1.1.1.8.3.cmml">g</mi></msub><mo id="Sx3.E9.m1.2.2.1.1.1.1.2e" xref="Sx3.E9.m1.2.2.1.1.1.1.2.cmml">â¢</mo><mrow id="Sx3.E9.m1.2.2.1.1.1.1.1.1" xref="Sx3.E9.m1.2.2.1.1.1.1.1.2.cmml"><mo id="Sx3.E9.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="Sx3.E9.m1.2.2.1.1.1.1.1.2.cmml">(</mo><mi id="Sx3.E9.m1.1.1" xref="Sx3.E9.m1.1.1.cmml">q</mi><mo id="Sx3.E9.m1.2.2.1.1.1.1.1.1.3" xref="Sx3.E9.m1.2.2.1.1.1.1.1.2.cmml">,</mo><msub id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.2" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.2.cmml">M</mi><mrow id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.2" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.2.cmml">o</mi><mo id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.1" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.cmml">â¢</mo><mi id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.3" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.3.cmml">p</mi><mo id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.1a" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.cmml">â¢</mo><mi id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.4" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.4.cmml">t</mi></mrow></msub><mo id="Sx3.E9.m1.2.2.1.1.1.1.1.1.4" stretchy="false" xref="Sx3.E9.m1.2.2.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="Sx3.E9.m1.2.2.1.1.1.3" stretchy="false" xref="Sx3.E9.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.E9.m1.2b"><apply id="Sx3.E9.m1.2.2.cmml" xref="Sx3.E9.m1.2.2"><eq id="Sx3.E9.m1.2.2.2.cmml" xref="Sx3.E9.m1.2.2.2"></eq><ci id="Sx3.E9.m1.2.2.3.cmml" xref="Sx3.E9.m1.2.2.3">ğ›¼</ci><apply id="Sx3.E9.m1.2.2.1.cmml" xref="Sx3.E9.m1.2.2.1"><times id="Sx3.E9.m1.2.2.1.2.cmml" xref="Sx3.E9.m1.2.2.1.2"></times><ci id="Sx3.E9.m1.2.2.1.3a.cmml" xref="Sx3.E9.m1.2.2.1.3"><mtext id="Sx3.E9.m1.2.2.1.3.cmml" xref="Sx3.E9.m1.2.2.1.3">LLM</mtext></ci><apply id="Sx3.E9.m1.2.2.1.1.1.1.cmml" xref="Sx3.E9.m1.2.2.1.1.1"><times id="Sx3.E9.m1.2.2.1.1.1.1.2.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.2"></times><ci id="Sx3.E9.m1.2.2.1.1.1.1.3.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.3">ğ‘</ci><ci id="Sx3.E9.m1.2.2.1.1.1.1.4.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.4">ğ‘Ÿ</ci><ci id="Sx3.E9.m1.2.2.1.1.1.1.5.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.5">ğ‘œ</ci><ci id="Sx3.E9.m1.2.2.1.1.1.1.6.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.6">ğ‘š</ci><ci id="Sx3.E9.m1.2.2.1.1.1.1.7.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.7">ğ‘</ci><apply id="Sx3.E9.m1.2.2.1.1.1.1.8.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.8"><csymbol cd="ambiguous" id="Sx3.E9.m1.2.2.1.1.1.1.8.1.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.8">subscript</csymbol><ci id="Sx3.E9.m1.2.2.1.1.1.1.8.2.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.8.2">ğ‘¡</ci><ci id="Sx3.E9.m1.2.2.1.1.1.1.8.3.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.8.3">ğ‘”</ci></apply><interval closure="open" id="Sx3.E9.m1.2.2.1.1.1.1.1.2.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1"><ci id="Sx3.E9.m1.1.1.cmml" xref="Sx3.E9.m1.1.1">ğ‘</ci><apply id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.2">ğ‘€</ci><apply id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3"><times id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.1"></times><ci id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.2">ğ‘œ</ci><ci id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.3">ğ‘</ci><ci id="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.4.cmml" xref="Sx3.E9.m1.2.2.1.1.1.1.1.1.1.3.4">ğ‘¡</ci></apply></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.E9.m1.2c">\alpha=\text{LLM}(prompt_{g}(q,M_{opt}))</annotation><annotation encoding="application/x-llamapun" id="Sx3.E9.m1.2d">italic_Î± = LLM ( italic_p italic_r italic_o italic_m italic_p italic_t start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT ( italic_q , italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="Sx3.SSx4.p1.4">The <math alttext="prompt_{g}(\cdot)" class="ltx_Math" display="inline" id="Sx3.SSx4.p1.4.m1.1"><semantics id="Sx3.SSx4.p1.4.m1.1a"><mrow id="Sx3.SSx4.p1.4.m1.1.2" xref="Sx3.SSx4.p1.4.m1.1.2.cmml"><mi id="Sx3.SSx4.p1.4.m1.1.2.2" xref="Sx3.SSx4.p1.4.m1.1.2.2.cmml">p</mi><mo id="Sx3.SSx4.p1.4.m1.1.2.1" xref="Sx3.SSx4.p1.4.m1.1.2.1.cmml">â¢</mo><mi id="Sx3.SSx4.p1.4.m1.1.2.3" xref="Sx3.SSx4.p1.4.m1.1.2.3.cmml">r</mi><mo id="Sx3.SSx4.p1.4.m1.1.2.1a" xref="Sx3.SSx4.p1.4.m1.1.2.1.cmml">â¢</mo><mi id="Sx3.SSx4.p1.4.m1.1.2.4" xref="Sx3.SSx4.p1.4.m1.1.2.4.cmml">o</mi><mo id="Sx3.SSx4.p1.4.m1.1.2.1b" xref="Sx3.SSx4.p1.4.m1.1.2.1.cmml">â¢</mo><mi id="Sx3.SSx4.p1.4.m1.1.2.5" xref="Sx3.SSx4.p1.4.m1.1.2.5.cmml">m</mi><mo id="Sx3.SSx4.p1.4.m1.1.2.1c" xref="Sx3.SSx4.p1.4.m1.1.2.1.cmml">â¢</mo><mi id="Sx3.SSx4.p1.4.m1.1.2.6" xref="Sx3.SSx4.p1.4.m1.1.2.6.cmml">p</mi><mo id="Sx3.SSx4.p1.4.m1.1.2.1d" xref="Sx3.SSx4.p1.4.m1.1.2.1.cmml">â¢</mo><msub id="Sx3.SSx4.p1.4.m1.1.2.7" xref="Sx3.SSx4.p1.4.m1.1.2.7.cmml"><mi id="Sx3.SSx4.p1.4.m1.1.2.7.2" xref="Sx3.SSx4.p1.4.m1.1.2.7.2.cmml">t</mi><mi id="Sx3.SSx4.p1.4.m1.1.2.7.3" xref="Sx3.SSx4.p1.4.m1.1.2.7.3.cmml">g</mi></msub><mo id="Sx3.SSx4.p1.4.m1.1.2.1e" xref="Sx3.SSx4.p1.4.m1.1.2.1.cmml">â¢</mo><mrow id="Sx3.SSx4.p1.4.m1.1.2.8.2" xref="Sx3.SSx4.p1.4.m1.1.2.cmml"><mo id="Sx3.SSx4.p1.4.m1.1.2.8.2.1" stretchy="false" xref="Sx3.SSx4.p1.4.m1.1.2.cmml">(</mo><mo id="Sx3.SSx4.p1.4.m1.1.1" lspace="0em" rspace="0em" xref="Sx3.SSx4.p1.4.m1.1.1.cmml">â‹…</mo><mo id="Sx3.SSx4.p1.4.m1.1.2.8.2.2" stretchy="false" xref="Sx3.SSx4.p1.4.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Sx3.SSx4.p1.4.m1.1b"><apply id="Sx3.SSx4.p1.4.m1.1.2.cmml" xref="Sx3.SSx4.p1.4.m1.1.2"><times id="Sx3.SSx4.p1.4.m1.1.2.1.cmml" xref="Sx3.SSx4.p1.4.m1.1.2.1"></times><ci id="Sx3.SSx4.p1.4.m1.1.2.2.cmml" xref="Sx3.SSx4.p1.4.m1.1.2.2">ğ‘</ci><ci id="Sx3.SSx4.p1.4.m1.1.2.3.cmml" xref="Sx3.SSx4.p1.4.m1.1.2.3">ğ‘Ÿ</ci><ci id="Sx3.SSx4.p1.4.m1.1.2.4.cmml" xref="Sx3.SSx4.p1.4.m1.1.2.4">ğ‘œ</ci><ci id="Sx3.SSx4.p1.4.m1.1.2.5.cmml" xref="Sx3.SSx4.p1.4.m1.1.2.5">ğ‘š</ci><ci id="Sx3.SSx4.p1.4.m1.1.2.6.cmml" xref="Sx3.SSx4.p1.4.m1.1.2.6">ğ‘</ci><apply id="Sx3.SSx4.p1.4.m1.1.2.7.cmml" xref="Sx3.SSx4.p1.4.m1.1.2.7"><csymbol cd="ambiguous" id="Sx3.SSx4.p1.4.m1.1.2.7.1.cmml" xref="Sx3.SSx4.p1.4.m1.1.2.7">subscript</csymbol><ci id="Sx3.SSx4.p1.4.m1.1.2.7.2.cmml" xref="Sx3.SSx4.p1.4.m1.1.2.7.2">ğ‘¡</ci><ci id="Sx3.SSx4.p1.4.m1.1.2.7.3.cmml" xref="Sx3.SSx4.p1.4.m1.1.2.7.3">ğ‘”</ci></apply><ci id="Sx3.SSx4.p1.4.m1.1.1.cmml" xref="Sx3.SSx4.p1.4.m1.1.1">â‹…</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx3.SSx4.p1.4.m1.1c">prompt_{g}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="Sx3.SSx4.p1.4.m1.1d">italic_p italic_r italic_o italic_m italic_p italic_t start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT ( â‹… )</annotation></semantics></math> stands for the prompt template set of task-oriented generators.</p>
</div>
<figure class="ltx_table" id="Sx3.T1">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="Sx3.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="Sx3.T1.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="Sx3.T1.1.1.1.1" rowspan="3" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.1.1.1.1">Methods</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="6" id="Sx3.T1.1.1.1.2" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.1.1.2.1">Multi-hop QA</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="6" id="Sx3.T1.1.1.1.3" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.1.1.3.1">Long-form QA</span></th>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" colspan="2" id="Sx3.T1.1.2.2.1" style="padding:0.25pt 3.9pt;">HotpotQA</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" colspan="2" id="Sx3.T1.1.2.2.2" style="padding:0.25pt 3.9pt;">2WikiMQA</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" colspan="2" id="Sx3.T1.1.2.2.3" style="padding:0.25pt 3.9pt;">MuSiQue</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" colspan="2" id="Sx3.T1.1.2.2.4" style="padding:0.25pt 3.9pt;">ASQA</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" colspan="4" id="Sx3.T1.1.2.2.5" style="padding:0.25pt 3.9pt;">CRUD</th>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.3.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx3.T1.1.3.3.1" style="padding:0.25pt 3.9pt;">(f1)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx3.T1.1.3.3.2" style="padding:0.25pt 3.9pt;">(em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx3.T1.1.3.3.3" style="padding:0.25pt 3.9pt;">(f1)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx3.T1.1.3.3.4" style="padding:0.25pt 3.9pt;">(em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx3.T1.1.3.3.5" style="padding:0.25pt 3.9pt;">(f1)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx3.T1.1.3.3.6" style="padding:0.25pt 3.9pt;">(em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx3.T1.1.3.3.7" style="padding:0.25pt 3.9pt;">(str-em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx3.T1.1.3.3.8" style="padding:0.25pt 3.9pt;">(str-hit)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx3.T1.1.3.3.9" style="padding:0.25pt 3.9pt;">(Q-R)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx3.T1.1.3.3.10" style="padding:0.25pt 3.9pt;">(T-R)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx3.T1.1.3.3.11" style="padding:0.25pt 3.9pt;">(T-P)</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column" id="Sx3.T1.1.3.3.12" style="padding:0.25pt 3.9pt;">(T-F1)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="Sx3.T1.1.4.1" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="13" id="Sx3.T1.1.4.1.1" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.4.1.1.1" style="background-color:#E6E6E6;">No Retrieval (NoR)</span></td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.5.2">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.1" style="padding:0.25pt 3.9pt;">NoR</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.2" style="padding:0.25pt 3.9pt;">42.1</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.3" style="padding:0.25pt 3.9pt;">31.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.4" style="padding:0.25pt 3.9pt;">35.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.5" style="padding:0.25pt 3.9pt;">29.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.6" style="padding:0.25pt 3.9pt;">14.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.7" style="padding:0.25pt 3.9pt;">5.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.8" style="padding:0.25pt 3.9pt;">35.5</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.9" style="padding:0.25pt 3.9pt;">8.9</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.10" style="padding:0.25pt 3.9pt;">81.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.11" style="padding:0.25pt 3.9pt;">30.5</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.12" style="padding:0.25pt 3.9pt;">20.9</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.5.2.13" style="padding:0.25pt 3.9pt;">21.4</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.6.3" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center" colspan="13" id="Sx3.T1.1.6.3.1" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.6.3.1.1" style="background-color:#E6E6E6;">Single-time RAG (STRAG)</span></td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.7.4">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.1" style="padding:0.25pt 3.9pt;">Vanilla (<span class="ltx_text ltx_font_italic" id="Sx3.T1.1.7.4.1.1">Qwen2-7b</span>)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.2" style="padding:0.25pt 3.9pt;">37.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.3" style="padding:0.25pt 3.9pt;">27.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.4" style="padding:0.25pt 3.9pt;">39.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.5" style="padding:0.25pt 3.9pt;">32.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.6" style="padding:0.25pt 3.9pt;">9.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.7" style="padding:0.25pt 3.9pt;">3.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.8" style="padding:0.25pt 3.9pt;">43.5</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.9" style="padding:0.25pt 3.9pt;">18.5</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.10" style="padding:0.25pt 3.9pt;">82.5</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.11" style="padding:0.25pt 3.9pt;">44.1</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.12" style="padding:0.25pt 3.9pt;">26.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.7.4.13" style="padding:0.25pt 3.9pt;">28.3</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.8.5">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.1" style="padding:0.25pt 3.9pt;">Vanilla (<span class="ltx_text ltx_font_italic" id="Sx3.T1.1.8.5.1.1">Llama3-8b</span>)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.2" style="padding:0.25pt 3.9pt;">42.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.3" style="padding:0.25pt 3.9pt;">31.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.4" style="padding:0.25pt 3.9pt;">26.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.5" style="padding:0.25pt 3.9pt;">20.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.6" style="padding:0.25pt 3.9pt;">11.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.7" style="padding:0.25pt 3.9pt;">5.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.8" style="padding:0.25pt 3.9pt;">38.7</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.9" style="padding:0.25pt 3.9pt;">13.7</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.10" style="padding:0.25pt 3.9pt;">-</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.11" style="padding:0.25pt 3.9pt;">-</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.12" style="padding:0.25pt 3.9pt;">-</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.8.5.13" style="padding:0.25pt 3.9pt;">-</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.9.6">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.1" style="padding:0.25pt 3.9pt;">Vanilla</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.2" style="padding:0.25pt 3.9pt;">49.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.3" style="padding:0.25pt 3.9pt;">38.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.4" style="padding:0.25pt 3.9pt;">42.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.5" style="padding:0.25pt 3.9pt;">36.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.6" style="padding:0.25pt 3.9pt;">16.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.7" style="padding:0.25pt 3.9pt;">8.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.8" style="padding:0.25pt 3.9pt;">43.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.9" style="padding:0.25pt 3.9pt;">18.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.10" style="padding:0.25pt 3.9pt;">79.7</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.11" style="padding:0.25pt 3.9pt;">44.1</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.12" style="padding:0.25pt 3.9pt;">35.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.9.6.13" style="padding:0.25pt 3.9pt;">35.2</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.10.7">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.1" style="padding:0.25pt 3.9pt;">Self-refine</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.2" style="padding:0.25pt 3.9pt;">48.3</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.3" style="padding:0.25pt 3.9pt;">36.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.4" style="padding:0.25pt 3.9pt;">44.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.5" style="padding:0.25pt 3.9pt;">38.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.6" style="padding:0.25pt 3.9pt;">16.7</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.7" style="padding:0.25pt 3.9pt;">8.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.8" style="padding:0.25pt 3.9pt;">42.1</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.9" style="padding:0.25pt 3.9pt;">16.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.10" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.10.7.10.1">84.9</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.11" style="padding:0.25pt 3.9pt;">42.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.12" style="padding:0.25pt 3.9pt;">27.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.10.7.13" style="padding:0.25pt 3.9pt;">28.5</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.11.8">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.1" style="padding:0.25pt 3.9pt;">Self-rerank</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.2" style="padding:0.25pt 3.9pt;">42.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.3" style="padding:0.25pt 3.9pt;">32.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.4" style="padding:0.25pt 3.9pt;">32.1</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.5" style="padding:0.25pt 3.9pt;">28.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.6" style="padding:0.25pt 3.9pt;">11.1</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.7" style="padding:0.25pt 3.9pt;">4.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.8" style="padding:0.25pt 3.9pt;">35.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.9" style="padding:0.25pt 3.9pt;">11.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.10" style="padding:0.25pt 3.9pt;">82.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.11" style="padding:0.25pt 3.9pt;">42.3</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.12" style="padding:0.25pt 3.9pt;">27.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.11.8.13" style="padding:0.25pt 3.9pt;">28.6</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.12.9">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.1" style="padding:0.25pt 3.9pt;">Chain-of-noteÂ <cite class="ltx_cite ltx_citemacro_citep">(Yu etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib36" title="">2023</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.2" style="padding:0.25pt 3.9pt;">45.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.3" style="padding:0.25pt 3.9pt;">33.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.4" style="padding:0.25pt 3.9pt;">39.7</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.5" style="padding:0.25pt 3.9pt;">32.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.6" style="padding:0.25pt 3.9pt;">16.1</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.7" style="padding:0.25pt 3.9pt;">8.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.8" style="padding:0.25pt 3.9pt;">40.3</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.9" style="padding:0.25pt 3.9pt;">15.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.10" style="padding:0.25pt 3.9pt;">82.3</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.11" style="padding:0.25pt 3.9pt;">41.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.12" style="padding:0.25pt 3.9pt;">27.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.12.9.13" style="padding:0.25pt 3.9pt;">28.5</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.13.10" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center" colspan="13" id="Sx3.T1.1.13.10.1" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.13.10.1.1" style="background-color:#E6E6E6;">Adaptive RAG (ARAG)</span></td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.14.11">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.1" style="padding:0.25pt 3.9pt;">ReActÂ <cite class="ltx_cite ltx_citemacro_citep">(Yao etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib35" title="">2023</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.2" style="padding:0.25pt 3.9pt;">46.9</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.3" style="padding:0.25pt 3.9pt;">36.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.4" style="padding:0.25pt 3.9pt;">37.3</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.5" style="padding:0.25pt 3.9pt;">28.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.6" style="padding:0.25pt 3.9pt;">19.7</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.7" style="padding:0.25pt 3.9pt;">10.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.8" style="padding:0.25pt 3.9pt;">32.9</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.9" style="padding:0.25pt 3.9pt;">8.3</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.10" style="padding:0.25pt 3.9pt;">77.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.11" style="padding:0.25pt 3.9pt;">36.5</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.12" style="padding:0.25pt 3.9pt;">26.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.14.11.13" style="padding:0.25pt 3.9pt;">26.4</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.15.12">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.1" style="padding:0.25pt 3.9pt;">Self-RAGÂ <cite class="ltx_cite ltx_citemacro_citep">(Asai etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib1" title="">2024</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.2" style="padding:0.25pt 3.9pt;">44.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.3" style="padding:0.25pt 3.9pt;">33.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.4" style="padding:0.25pt 3.9pt;">30.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.5" style="padding:0.25pt 3.9pt;">24.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.6" style="padding:0.25pt 3.9pt;">19.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.7" style="padding:0.25pt 3.9pt;">10.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.8" style="padding:0.25pt 3.9pt;">40.9</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.9" style="padding:0.25pt 3.9pt;">16.5</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.10" style="padding:0.25pt 3.9pt;">74.1</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.11" style="padding:0.25pt 3.9pt;">35.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.12" style="padding:0.25pt 3.9pt;">22.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.15.12.13" style="padding:0.25pt 3.9pt;">23.3</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.16.13">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.1" style="padding:0.25pt 3.9pt;">FLAREÂ <cite class="ltx_cite ltx_citemacro_citep">(Jiang etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib13" title="">2023</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.2" style="padding:0.25pt 3.9pt;">47.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.3" style="padding:0.25pt 3.9pt;">36.4</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.4" style="padding:0.25pt 3.9pt;">42.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.5" style="padding:0.25pt 3.9pt;">31.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.6" style="padding:0.25pt 3.9pt;">18.7</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.7" style="padding:0.25pt 3.9pt;">11.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.8" style="padding:0.25pt 3.9pt;">34.9</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.9" style="padding:0.25pt 3.9pt;">9.5</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.10" style="padding:0.25pt 3.9pt;">83.9</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.11" style="padding:0.25pt 3.9pt;">43.7</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.12" style="padding:0.25pt 3.9pt;">27.3</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.16.13.13" style="padding:0.25pt 3.9pt;">29.2</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.17.14">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.1" rowspan="2" style="padding:0.25pt 3.9pt;"><span class="ltx_text" id="Sx3.T1.1.17.14.1.1"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.17.14.1.1.1">Ours</span> (<span class="ltx_text ltx_font_italic" id="Sx3.T1.1.17.14.1.1.2">Qwen2-7b</span>)</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.2" style="padding:0.25pt 3.9pt;">51.1</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.3" style="padding:0.25pt 3.9pt;">39.0</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.4" style="padding:0.25pt 3.9pt;">47.3</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.5" style="padding:0.25pt 3.9pt;">37.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.6" style="padding:0.25pt 3.9pt;">15.1</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.7" style="padding:0.25pt 3.9pt;">7.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.8" style="padding:0.25pt 3.9pt;">46.9</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.9" style="padding:0.25pt 3.9pt;">21.5</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.10" style="padding:0.25pt 3.9pt;">86.5</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.11" style="padding:0.25pt 3.9pt;">45.1</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.12" style="padding:0.25pt 3.9pt;">26.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.17.14.13" style="padding:0.25pt 3.9pt;">29.1</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.18.15">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.18.15.1" style="padding:0.25pt 3.9pt;">(13.9â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.18.15.2" style="padding:0.25pt 3.9pt;">(11.8â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.18.15.3" style="padding:0.25pt 3.9pt;">(8.3â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.18.15.4" style="padding:0.25pt 3.9pt;">(5.0â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.18.15.5" style="padding:0.25pt 3.9pt;">(5.7â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.18.15.6" style="padding:0.25pt 3.9pt;">(3.8â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.18.15.7" style="padding:0.25pt 3.9pt;">(3.4â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.18.15.8" style="padding:0.25pt 3.9pt;">(3.0â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.18.15.9" style="padding:0.25pt 3.9pt;">(4.0â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.18.15.10" style="padding:0.25pt 3.9pt;">(1.0â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.18.15.11" style="padding:0.25pt 3.9pt;">(0.6â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.18.15.12" style="padding:0.25pt 3.9pt;">(0.8â†‘)</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.19.16">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.1" rowspan="2" style="padding:0.25pt 3.9pt;"><span class="ltx_text" id="Sx3.T1.1.19.16.1.1"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.19.16.1.1.1">Ours</span> (<span class="ltx_text ltx_font_italic" id="Sx3.T1.1.19.16.1.1.2">Llama3-8b</span>)</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.2" style="padding:0.25pt 3.9pt;">46.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.3" style="padding:0.25pt 3.9pt;">36.6</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.4" style="padding:0.25pt 3.9pt;">39.1</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.5" style="padding:0.25pt 3.9pt;">31.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.6" style="padding:0.25pt 3.9pt;">16.2</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.7" style="padding:0.25pt 3.9pt;">9.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.8" style="padding:0.25pt 3.9pt;">43.7</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.9" style="padding:0.25pt 3.9pt;">17.7</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.10" style="padding:0.25pt 3.9pt;">-</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.11" style="padding:0.25pt 3.9pt;">-</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.12" style="padding:0.25pt 3.9pt;">-</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.19.16.13" style="padding:0.25pt 3.9pt;">-</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.20.17">
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.20.17.1" style="padding:0.25pt 3.9pt;">(4.4â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.20.17.2" style="padding:0.25pt 3.9pt;">(5.0â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.20.17.3" style="padding:0.25pt 3.9pt;">(12.9â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.20.17.4" style="padding:0.25pt 3.9pt;">(11.6â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.20.17.5" style="padding:0.25pt 3.9pt;">(5.0â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.20.17.6" style="padding:0.25pt 3.9pt;">(4.2â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.20.17.7" style="padding:0.25pt 3.9pt;">(5.0â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.20.17.8" style="padding:0.25pt 3.9pt;">(4.0â†‘)</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.20.17.9" style="padding:0.25pt 3.9pt;">-</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.20.17.10" style="padding:0.25pt 3.9pt;">-</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.20.17.11" style="padding:0.25pt 3.9pt;">-</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.20.17.12" style="padding:0.25pt 3.9pt;">-</td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.21.18">
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.21.18.1" rowspan="2" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.21.18.1.1">Ours</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.21.18.2" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.21.18.2.1">58.4</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.21.18.3" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.21.18.3.1">45.6</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.21.18.4" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.21.18.4.1">54.2</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.21.18.5" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.21.18.5.1">43.2</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.21.18.6" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.21.18.6.1">24.2</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.21.18.7" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.21.18.7.1">13.2</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.21.18.8" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.21.18.8.1">47.3</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.21.18.9" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.21.18.9.1">22.0</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.21.18.10" style="padding:0.25pt 3.9pt;">82.8</td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.21.18.11" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.21.18.11.1">44.7</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.21.18.12" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.21.18.12.1">37.5</span></td>
<td class="ltx_td ltx_align_center" id="Sx3.T1.1.21.18.13" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.21.18.13.1">36.6</span></td>
</tr>
<tr class="ltx_tr" id="Sx3.T1.1.22.19">
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.22.19.1" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.22.19.1.1">(8.8â†‘)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.22.19.2" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.22.19.2.1">(7.6â†‘)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.22.19.3" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.22.19.3.1">(12.2â†‘)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.22.19.4" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.22.19.4.1">(7.0â†‘)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.22.19.5" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.22.19.5.1">(7.4â†‘)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.22.19.6" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.22.19.6.1">(4.8â†‘)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.22.19.7" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.22.19.7.1">(3.9â†‘)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.22.19.8" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.22.19.8.1">(3.8â†‘)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.22.19.9" style="padding:0.25pt 3.9pt;">(3.1â†‘)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.22.19.10" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.22.19.10.1">(0.6â†‘)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.22.19.11" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.22.19.11.1">(1.7â†‘)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx3.T1.1.22.19.12" style="padding:0.25pt 3.9pt;"><span class="ltx_text ltx_font_bold" id="Sx3.T1.1.22.19.12.1">(1.4â†‘)</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span><span class="ltx_text ltx_font_bold" id="Sx3.T1.5.1">Results(%) of overall performance on all experimental datasets.</span> The â€œ<span class="ltx_text" id="Sx3.T1.6.2" style="background-color:#E6E6E6;">Grey Area</span>â€ represents different categories of baselines for comparison. â€œ<span class="ltx_text ltx_font_bold" id="Sx3.T1.7.3">Bold</span>â€ means the highest values within the results of different baselines with GPT-3.5 as the built-in model. Meanwhile, the symbol â€œâ†‘â€ denotes the increase in value compared to Vanilla. The output from Llama3-8b contains a substantial amount of English text; therefore, we do not report its results on the Chinese dataset CRUD, marked as â€œ-â€.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="Sx4">
<h2 class="ltx_title ltx_title_section">Experimental Setup</h2>
<section class="ltx_subsection" id="Sx4.SSx1">
<h3 class="ltx_title ltx_title_subsection">Datasets &amp; Evaluation.</h3>
<section class="ltx_subsubsection" id="Sx4.SSx1.SSSx1">
<h4 class="ltx_title ltx_title_subsubsection">Multi-hop QA task.</h4>
<div class="ltx_para" id="Sx4.SSx1.SSSx1.p1">
<p class="ltx_p" id="Sx4.SSx1.SSSx1.p1.1">We select three challenging English datasets for evaluation, i.e., <span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx1.p1.1.1">HotpotQA</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Yang etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib34" title="">2018</a>)</cite>, <span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx1.p1.1.2">2WikiMultiHopQA (2WikiMQA)</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Ho etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib10" title="">2020</a>)</cite>, and <span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx1.p1.1.3">MuSiQue</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Trivedi etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib28" title="">2022</a>)</cite>. For each dataset, we use the subset version released byÂ <cite class="ltx_cite ltx_citemacro_citet">Trivedi etÂ al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib29" title="">2023</a>)</cite>, which includes 500 randomly selected examples as the experimental evaluation dataset. We report the F1-score (<span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx1.p1.1.4">f1</span>) and Exact Match (<span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx1.p1.1.5">em</span>) as evaluation metrics.</p>
</div>
</section>
<section class="ltx_subsubsection" id="Sx4.SSx1.SSSx2">
<h4 class="ltx_title ltx_title_subsubsection">Long-form QA task.</h4>
<div class="ltx_para" id="Sx4.SSx1.SSSx2.p1">
<p class="ltx_p" id="Sx4.SSx1.SSSx2.p1.1">We select an English dataset <span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx2.p1.1.1">ASQA</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Stelmakh etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib26" title="">2022</a>)</cite>, and a Chinese dataset <span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx2.p1.1.2">CRUD</span>Â <cite class="ltx_cite ltx_citemacro_citep">(Lyu etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib17" title="">2024</a>)</cite>.
Specifically, we use the ASQA dataset with 948 queries recompiled by ALCEÂ <cite class="ltx_cite ltx_citemacro_citep">(Gao etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib8" title="">2023</a>)</cite> and apply ALCEâ€™s official evaluation metrics, involving String Exact Match (<span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx2.p1.1.3">str-em</span>) and String Hit Rate (<span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx2.p1.1.4">str-hit</span>).
Since CRUD is a benchmark that covers multiple tasks, we use only its QA task dataset (with both single-document and multi-document QA samples) for our evaluation.
We follow the RAGQuestEval evaluation metrics proposed in CRUD and calculate the question-level recall score (<span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx2.p1.1.5">Q-R</span>), as well as token-level F1 (<span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx2.p1.1.6">T-F1</span>), recall (<span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx2.p1.1.7">T-R</span>), and precision (<span class="ltx_text ltx_font_bold" id="Sx4.SSx1.SSSx2.p1.1.8">T-P</span>) scores (more details in Appendix C).</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="Sx4.SSx2">
<h3 class="ltx_title ltx_title_subsection">Baselines &amp; LLMs.</h3>
<div class="ltx_para" id="Sx4.SSx2.p1">
<p class="ltx_p" id="Sx4.SSx2.p1.1">We extensively compare three types of baselines: 1) No Retrieval (<span class="ltx_text ltx_font_bold" id="Sx4.SSx2.p1.1.1">NoR</span>), which directly feeds queries into LLMs to output answers without any retrieval process; 2) Single-time RAG (<span class="ltx_text ltx_font_bold" id="Sx4.SSx2.p1.1.2">STRAG</span>), which retrieves knowledge in a one-time setting to answer the original queries; 3) Adaptive RAG (<span class="ltx_text ltx_font_bold" id="Sx4.SSx2.p1.1.3">ARAG</span>), which leverages an adaptive forward exploration strategy to retrieve knowledge to enhance answer quality.
In our work, we use the powerful GPT-3.5 as the built-in LLM for NoR.
For STRAG, we select Vanilla RAG, Chain-of-noteÂ <cite class="ltx_cite ltx_citemacro_citep">(Yu etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib36" title="">2023</a>)</cite>, Self-refine, and Self-rerank as counterparties.
Among them, Self-refine and Self-Rerank are simplified from Self-RAGÂ <cite class="ltx_cite ltx_citemacro_citep">(Asai etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib1" title="">2024</a>)</cite>, and we follow the specific prompt details of these two method instances in ActiveRAGÂ <cite class="ltx_cite ltx_citemacro_citep">(Xu etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib32" title="">2024</a>)</cite> in our implementation.
For ARAG, we include three recent famous methods for comparison â€“ FLARE
, Self-RAG, and ReAct.
In detail, we reproduce Self-RAG and ReAct via the langchain framework<span class="ltx_note ltx_role_footnote" id="footnotex1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><span class="ltx_ref ltx_nolink ltx_url ltx_ref_self">https://github.com/langchain-ai</span></span></span></span>.
Additionally, we conduct experiments on multiple LLMs, including GPT-3.5<span class="ltx_note ltx_role_footnote" id="footnotex2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><span class="ltx_ref ltx_nolink ltx_url ltx_ref_self">https://openai.com/blog/chatgpt</span></span></span></span> (OpenAI <span class="ltx_text ltx_font_typewriter" id="Sx4.SSx2.p1.1.4">gpt-3.5-turbo-0125</span>), Qwen2-7bÂ <cite class="ltx_cite ltx_citemacro_citep">(Yang etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib33" title="">2024</a>)</cite>, and Llama3-8bÂ <cite class="ltx_cite ltx_citemacro_citep">(Touvron etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib27" title="">2023</a>)</cite>. Unless otherwise specified, GPT-3.5 was employed as the default model.

</p>
</div>
</section>
<section class="ltx_subsection" id="Sx4.SSx3">
<h3 class="ltx_title ltx_title_subsection">Retriever &amp; Corpus.</h3>
<div class="ltx_para" id="Sx4.SSx3.p1">
<p class="ltx_p" id="Sx4.SSx3.p1.2">To ensure a fair comparison of all baselines, we align the retriever and corpus across all methods for each dataset. For all multi-hop datasets, we employ BM25, implemented in the search tool Elasticsearch, as the foundational retriever, and directly use the corresponding corpus for each dataset released byÂ <cite class="ltx_cite ltx_citemacro_citet">Trivedi etÂ al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib29" title="">2023</a>)</cite> as our corpora.
For ASQA, we employ the dense retriever GTR-XXLÂ <cite class="ltx_cite ltx_citemacro_citep">(Ni etÂ al. <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib20" title="">2022</a>)</cite> and use the corpus provided by ALCE, consisting of the 2018-12-20 Wikipedia snapshot, segmented into 100-word passages.
For CRUD, we apply 80000 Chinese news documents constructed by the author as a corpus, and we follow its retrieval configurations with a chunk size of 512 and a top-<math alttext="k" class="ltx_Math" display="inline" id="Sx4.SSx3.p1.1.m1.1"><semantics id="Sx4.SSx3.p1.1.m1.1a"><mi id="Sx4.SSx3.p1.1.m1.1.1" xref="Sx4.SSx3.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx4.SSx3.p1.1.m1.1b"><ci id="Sx4.SSx3.p1.1.m1.1.1.cmml" xref="Sx4.SSx3.p1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx4.SSx3.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx4.SSx3.p1.1.m1.1d">italic_k</annotation></semantics></math> of 2. By default, the top-<math alttext="k" class="ltx_Math" display="inline" id="Sx4.SSx3.p1.2.m2.1"><semantics id="Sx4.SSx3.p1.2.m2.1a"><mi id="Sx4.SSx3.p1.2.m2.1.1" xref="Sx4.SSx3.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx4.SSx3.p1.2.m2.1b"><ci id="Sx4.SSx3.p1.2.m2.1.1.cmml" xref="Sx4.SSx3.p1.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx4.SSx3.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx4.SSx3.p1.2.m2.1d">italic_k</annotation></semantics></math> is set to 5 for all datasets except CRUD.</p>
</div>
</section>
<section class="ltx_subsection" id="Sx4.SSx4">
<h3 class="ltx_title ltx_title_subsection">Settings of prompts.</h3>
<div class="ltx_para" id="Sx4.SSx4.p1">
<p class="ltx_p" id="Sx4.SSx4.p1.1">Our method conducts all LLM inference under a zero-shot setting. During the generation phase, we observe that different datasets require varying output formats; therefore we design prompts for each dataset during this stage. Moreover, to ensure a fair comparison across all methods, we align the prompts for generation within the same dataset.
Specifically, for three multi-hop QA datasets with similar output formats, we design the same prompt that guides LLMs to directly produce answers based on the given content, reducing unnecessary words.
For ASQA and CRUD, we follow the author-provided prompts.
We discard the function of outputting citations in ALCE and the few-shot setting in CRUD (more details in Appendix B).</p>
</div>
</section>
<section class="ltx_subsection" id="Sx4.SSx5">
<h3 class="ltx_title ltx_title_subsection">Settings of the adaptive process.</h3>
<div class="ltx_para" id="Sx4.SSx5.p1">
<p class="ltx_p" id="Sx4.SSx5.p1.1">We encourage our system to achieve optimal results within a relatively low budget, so we have capped the retrieved passage count (RP) at 15 during the adaptive process. By default, we set the collector iteration count (CI) and invalid update count (IU) to 3 and 1, respectively.</p>
</div>
</section>
</section>
<section class="ltx_section" id="Sx5">
<h2 class="ltx_title ltx_title_section">Results and Analysis</h2>
<section class="ltx_subsection" id="Sx5.SSx1">
<h3 class="ltx_title ltx_title_subsection">Main Results</h3>
<section class="ltx_subsubsection" id="Sx5.SSx1.SSSx1">
<h4 class="ltx_title ltx_title_subsubsection">Ours vs. Single-time RAG.</h4>
<div class="ltx_para" id="Sx5.SSx1.SSSx1.p1">
<p class="ltx_p" id="Sx5.SSx1.SSSx1.p1.1">We use GPT-3.5 as the built-in LLM for all methods. Results show that our method significantly outperforms single-step retrieval methods. Meanwhile, it is worth mentioning that our method surpassed Vanilla by up to 12.2% on 2WikiMQA. These achievements highlight its superiority and effectiveness.
An intuitive explanation is that STRAG heavily depends on the quality of the one-time retrieval, whereas our method can adaptively explore more knowledge in the corpus. Moreover, we observed that, for most datasets, these STRAG methods underperform compared to vanilla RAG.
This suggests that refining (e.g., Chain-of-note, Self-refine) or distinguishing relevant information (e.g., Self-rerank) based on a single, limited retrieved information often offers little benefit and may even have negative influences, due to the risk of discarding valuable information.
Therefore, it is crucial to further explore while preserving more effective knowledge.</p>
</div>
</section>
<section class="ltx_subsubsection" id="Sx5.SSx1.SSSx2">
<h4 class="ltx_title ltx_title_subsubsection">Ours vs. Adaptive RAG.</h4>
<div class="ltx_para" id="Sx5.SSx1.SSSx2.p1">
<p class="ltx_p" id="Sx5.SSx1.SSSx2.p1.1">In TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx3.T1" title="Table 1 â€£ Task-Oriented Generator â€£ Methodology â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>, we conduct an in-depth comparison of our approach with several existing ARAG methods, including Flare, Self-RAG, and ReAct. Results indicate that our method consistently achieves the highest performance in both Multi-hop QA and Long-form QA tasks, outperforming the other methods by a considerable margin,
which highlights its superiority, effectiveness, and robustness.
To explain these trends, we conduct an in-depth analysis of the limitations of these baselines and the reasons behind our success.
<span class="ltx_text ltx_font_bold" id="Sx5.SSx1.SSSx2.p1.1.1">First</span>, ReAct leverages the LLMsâ€™ internal knowledge to determine whether further retrieval actions are necessary. However, LLMs may be overly confidentÂ <cite class="ltx_cite ltx_citemacro_citep">(Zhou, Jurafsky, and Hashimoto <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#bib.bib37" title="">2023</a>)</cite> in their own responses, which can interfere with retrieval decisions and lead to ignoring partial knowledge.
In contrast, our method employs a greedy strategy to thoroughly gather information first, before deciding whether to integrate new and useful information into the existing knowledge. This allows our method to maximize the extraction of knowledge from the corpus, thereby markedly enhancing the accuracy of responses.
<span class="ltx_text ltx_font_bold" id="Sx5.SSx1.SSSx2.p1.1.2">Second</span>, Self-RAG heavily relies on multiple self-reflection processes to assess the importance of each retrieved passage, which may miss valuable information if the reflections are inaccurate.
In contrast, our method allows the LLM to carefully review and robustly integrate relevant knowledge from each passage into its memory.
Moreover, our method does not limit the smallest unit of judgment to individual passages; it can evaluate text of any length or form.</p>
</div>
<figure class="ltx_figure" id="Sx5.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="Sx5.F2.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="471" id="Sx5.F2.sf1.g1" src="x2.png" width="969"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>ASQA</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="Sx5.F2.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="471" id="Sx5.F2.sf2.g1" src="x3.png" width="969"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>HotpotQA</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="Sx5.F2.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="471" id="Sx5.F2.sf3.g1" src="x4.png" width="968"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span>2WikiMQA</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="Sx5.F2.sf4"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="471" id="Sx5.F2.sf4.g1" src="x5.png" width="969"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(d) </span>MuSiQue</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="Sx5.F2.sf5"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="471" id="Sx5.F2.sf5.g1" src="x6.png" width="968"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(e) </span>CRUD (Q-R)</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="Sx5.F2.sf6"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="472" id="Sx5.F2.sf6.g1" src="x7.png" width="968"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(f) </span>CRUD (T-F1)</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span><span class="ltx_text ltx_font_bold" id="Sx5.F2.2.1">Results(%) of the in-depth comparison under a fair top-<math alttext="\bm{k}" class="ltx_Math" display="inline" id="Sx5.F2.2.1.m1.1"><semantics id="Sx5.F2.2.1.m1.1b"><mi id="Sx5.F2.2.1.m1.1.1" xref="Sx5.F2.2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.F2.2.1.m1.1c"><ci id="Sx5.F2.2.1.m1.1.1.cmml" xref="Sx5.F2.2.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.F2.2.1.m1.1d">\bm{k}</annotation><annotation encoding="application/x-llamapun" id="Sx5.F2.2.1.m1.1e">bold_italic_k</annotation></semantics></math>.</span> The specific values and more results are presented in Appendix A.</figcaption>
</figure>
<div class="ltx_para" id="Sx5.SSx1.SSSx2.p2">
<p class="ltx_p" id="Sx5.SSx1.SSSx2.p2.1"><span class="ltx_text ltx_font_bold" id="Sx5.SSx1.SSSx2.p2.1.1">Third</span>, Flare employs logit probabilities as confidence scores to determine whether to trigger the next retrieval step. However, these confidence scores may not accurately reflect the real demand for retrieval, which affects Flareâ€™s judgment on when to actively retrieve. Instead of focusing on the precise timing for retrieval, our method emphasizes whether the amount of information available for answering has increased, as this can directly contribute to improving the quality of the answer.</p>
</div>
</section>
<section class="ltx_subsubsection" id="Sx5.SSx1.SSSx3">
<h4 class="ltx_title ltx_title_subsubsection">Performance on different LLMs.</h4>
<div class="ltx_para" id="Sx5.SSx1.SSSx3.p1">
<p class="ltx_p" id="Sx5.SSx1.SSSx3.p1.1">To prove the generality and effectiveness of our method across multiple LLMs, we conduct experiments involving three LLM variants: the powerful online LLM <span class="ltx_text ltx_font_italic" id="Sx5.SSx1.SSSx3.p1.1.1">GPT-3.5</span>, and two recently released open-source LLMs â€“ <span class="ltx_text ltx_font_italic" id="Sx5.SSx1.SSSx3.p1.1.2">Qwen2-7b</span> and <span class="ltx_text ltx_font_italic" id="Sx5.SSx1.SSSx3.p1.1.3">Llama3-8b</span>.
Specifically, we compare the overall performance of our method with that of Vanilla RAG on different built-in LLMs.
The results reveal that our method is significantly superior to Vanilla RAG across all three LLMs regardless of parameter sizes.</p>
</div>
</section>
<section class="ltx_subsubsection" id="Sx5.SSx1.SSSx4">
<h4 class="ltx_title ltx_title_subsubsection">In-depth comparison under a fair <span class="ltx_text ltx_font_bold" id="Sx5.SSx1.SSSx4.1.1">top-<math alttext="\bm{k}" class="ltx_Math" display="inline" id="Sx5.SSx1.SSSx4.1.1.m1.1"><semantics id="Sx5.SSx1.SSSx4.1.1.m1.1b"><mi id="Sx5.SSx1.SSSx4.1.1.m1.1.1" xref="Sx5.SSx1.SSSx4.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx1.SSSx4.1.1.m1.1c"><ci id="Sx5.SSx1.SSSx4.1.1.m1.1.1.cmml" xref="Sx5.SSx1.SSSx4.1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx1.SSSx4.1.1.m1.1d">\bm{k}</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx1.SSSx4.1.1.m1.1e">bold_italic_k</annotation></semantics></math></span>.</h4>
<div class="ltx_para" id="Sx5.SSx1.SSSx4.p1">
<p class="ltx_p" id="Sx5.SSx1.SSSx4.p1.9">Under the same raw top-<math alttext="k" class="ltx_Math" display="inline" id="Sx5.SSx1.SSSx4.p1.1.m1.1"><semantics id="Sx5.SSx1.SSSx4.p1.1.m1.1a"><mi id="Sx5.SSx1.SSSx4.p1.1.m1.1.1" xref="Sx5.SSx1.SSSx4.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx1.SSSx4.p1.1.m1.1b"><ci id="Sx5.SSx1.SSSx4.p1.1.m1.1.1.cmml" xref="Sx5.SSx1.SSSx4.p1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx1.SSSx4.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx1.SSSx4.p1.1.m1.1d">italic_k</annotation></semantics></math> setting, ARAG methods tend to use more retrieved passages than single-step methods.
Unfortunately, while we can set the top-<math alttext="k" class="ltx_Math" display="inline" id="Sx5.SSx1.SSSx4.p1.2.m2.1"><semantics id="Sx5.SSx1.SSSx4.p1.2.m2.1a"><mi id="Sx5.SSx1.SSSx4.p1.2.m2.1.1" xref="Sx5.SSx1.SSSx4.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx1.SSSx4.p1.2.m2.1b"><ci id="Sx5.SSx1.SSSx4.p1.2.m2.1.1.cmml" xref="Sx5.SSx1.SSSx4.p1.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx1.SSSx4.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx1.SSSx4.p1.2.m2.1d">italic_k</annotation></semantics></math> value for each retrieval step, we cannot control the total number of retrieved passages due to the retrieval uncertainty in ARAG.
To ensure a fairer performance comparison, we bridge this gap.
In our experiments, we calculate the average number of deduplicated passages per sample during all adaptive steps, termed the fair top-<math alttext="k" class="ltx_Math" display="inline" id="Sx5.SSx1.SSSx4.p1.3.m3.1"><semantics id="Sx5.SSx1.SSSx4.p1.3.m3.1a"><mi id="Sx5.SSx1.SSSx4.p1.3.m3.1.1" xref="Sx5.SSx1.SSSx4.p1.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx1.SSSx4.p1.3.m3.1b"><ci id="Sx5.SSx1.SSSx4.p1.3.m3.1.1.cmml" xref="Sx5.SSx1.SSSx4.p1.3.m3.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx1.SSSx4.p1.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx1.SSSx4.p1.3.m3.1d">italic_k</annotation></semantics></math>.
We then apply this fair top-<math alttext="k" class="ltx_Math" display="inline" id="Sx5.SSx1.SSSx4.p1.4.m4.1"><semantics id="Sx5.SSx1.SSSx4.p1.4.m4.1a"><mi id="Sx5.SSx1.SSSx4.p1.4.m4.1.1" xref="Sx5.SSx1.SSSx4.p1.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx1.SSSx4.p1.4.m4.1b"><ci id="Sx5.SSx1.SSSx4.p1.4.m4.1.1.cmml" xref="Sx5.SSx1.SSSx4.p1.4.m4.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx1.SSSx4.p1.4.m4.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx1.SSSx4.p1.4.m4.1d">italic_k</annotation></semantics></math> to Vanilla RAG as the top-<math alttext="k" class="ltx_Math" display="inline" id="Sx5.SSx1.SSSx4.p1.5.m5.1"><semantics id="Sx5.SSx1.SSSx4.p1.5.m5.1a"><mi id="Sx5.SSx1.SSSx4.p1.5.m5.1.1" xref="Sx5.SSx1.SSSx4.p1.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx1.SSSx4.p1.5.m5.1b"><ci id="Sx5.SSx1.SSSx4.p1.5.m5.1.1.cmml" xref="Sx5.SSx1.SSSx4.p1.5.m5.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx1.SSSx4.p1.5.m5.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx1.SSSx4.p1.5.m5.1d">italic_k</annotation></semantics></math> for a single retrieval.
FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.F2" title="Figure 2 â€£ Ours vs. Adaptive RAG. â€£ Main Results â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> shows the overall performance of Vanilla RAG under the fair top-<math alttext="k" class="ltx_Math" display="inline" id="Sx5.SSx1.SSSx4.p1.6.m6.1"><semantics id="Sx5.SSx1.SSSx4.p1.6.m6.1a"><mi id="Sx5.SSx1.SSSx4.p1.6.m6.1.1" xref="Sx5.SSx1.SSSx4.p1.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx1.SSSx4.p1.6.m6.1b"><ci id="Sx5.SSx1.SSSx4.p1.6.m6.1.1.cmml" xref="Sx5.SSx1.SSSx4.p1.6.m6.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx1.SSSx4.p1.6.m6.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx1.SSSx4.p1.6.m6.1d">italic_k</annotation></semantics></math> setting. Additionally,
we interpolate Vanillaâ€™s results for intermediate top-<math alttext="k" class="ltx_Math" display="inline" id="Sx5.SSx1.SSSx4.p1.7.m7.1"><semantics id="Sx5.SSx1.SSSx4.p1.7.m7.1a"><mi id="Sx5.SSx1.SSSx4.p1.7.m7.1.1" xref="Sx5.SSx1.SSSx4.p1.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx1.SSSx4.p1.7.m7.1b"><ci id="Sx5.SSx1.SSSx4.p1.7.m7.1.1.cmml" xref="Sx5.SSx1.SSSx4.p1.7.m7.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx1.SSSx4.p1.7.m7.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx1.SSSx4.p1.7.m7.1d">italic_k</annotation></semantics></math> values between the raw and fair top-<math alttext="k" class="ltx_Math" display="inline" id="Sx5.SSx1.SSSx4.p1.8.m8.1"><semantics id="Sx5.SSx1.SSSx4.p1.8.m8.1a"><mi id="Sx5.SSx1.SSSx4.p1.8.m8.1.1" xref="Sx5.SSx1.SSSx4.p1.8.m8.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx1.SSSx4.p1.8.m8.1b"><ci id="Sx5.SSx1.SSSx4.p1.8.m8.1.1.cmml" xref="Sx5.SSx1.SSSx4.p1.8.m8.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx1.SSSx4.p1.8.m8.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx1.SSSx4.p1.8.m8.1d">italic_k</annotation></semantics></math>.
The results suggest a similar trend across all datasets. As the value of top-<math alttext="k" class="ltx_Math" display="inline" id="Sx5.SSx1.SSSx4.p1.9.m9.1"><semantics id="Sx5.SSx1.SSSx4.p1.9.m9.1a"><mi id="Sx5.SSx1.SSSx4.p1.9.m9.1.1" xref="Sx5.SSx1.SSSx4.p1.9.m9.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx1.SSSx4.p1.9.m9.1b"><ci id="Sx5.SSx1.SSSx4.p1.9.m9.1.1.cmml" xref="Sx5.SSx1.SSSx4.p1.9.m9.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx1.SSSx4.p1.9.m9.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx1.SSSx4.p1.9.m9.1d">italic_k</annotation></semantics></math> increases, Vanilla RAGâ€™s performance improves but remains significantly lower than our method.
These findings further underline the superiority of our method.</p>
</div>
<figure class="ltx_table" id="Sx5.T2">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="Sx5.T2.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="Sx5.T2.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="Sx5.T2.1.1.1.1" rowspan="2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="Sx5.T2.1.1.1.1.1">Methods</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="Sx5.T2.1.1.1.2" style="padding-left:3.0pt;padding-right:3.0pt;">HotpotQA</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="Sx5.T2.1.1.1.3" style="padding-left:3.0pt;padding-right:3.0pt;">MuSiQue</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="Sx5.T2.1.1.1.4" style="padding-left:3.0pt;padding-right:3.0pt;">ASQA</th>
</tr>
<tr class="ltx_tr" id="Sx5.T2.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T2.1.2.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">(f1)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T2.1.2.2.2" style="padding-left:3.0pt;padding-right:3.0pt;">(em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T2.1.2.2.3" style="padding-left:3.0pt;padding-right:3.0pt;">(f1)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T2.1.2.2.4" style="padding-left:3.0pt;padding-right:3.0pt;">(em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T2.1.2.2.5" style="padding-left:3.0pt;padding-right:3.0pt;">(str-em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T2.1.2.2.6" style="padding-left:3.0pt;padding-right:3.0pt;">(str-hit)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="Sx5.T2.1.3.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="Sx5.T2.1.3.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Ours <span class="ltx_text ltx_font_bold" id="Sx5.T2.1.3.1.1.1">w/o</span> IIC&amp;AMR</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T2.1.3.1.2" style="padding-left:3.0pt;padding-right:3.0pt;">49.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T2.1.3.1.3" style="padding-left:3.0pt;padding-right:3.0pt;">38.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T2.1.3.1.4" style="padding-left:3.0pt;padding-right:3.0pt;">16.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T2.1.3.1.5" style="padding-left:3.0pt;padding-right:3.0pt;">8.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T2.1.3.1.6" style="padding-left:3.0pt;padding-right:3.0pt;">43.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T2.1.3.1.7" style="padding-left:3.0pt;padding-right:3.0pt;">18.2</td>
</tr>
<tr class="ltx_tr" id="Sx5.T2.1.4.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="Sx5.T2.1.4.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Ours <span class="ltx_text ltx_font_bold" id="Sx5.T2.1.4.2.1.1">w/o</span> AMR</th>
<td class="ltx_td ltx_align_center" id="Sx5.T2.1.4.2.2" style="padding-left:3.0pt;padding-right:3.0pt;">57.0</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.1.4.2.3" style="padding-left:3.0pt;padding-right:3.0pt;">44.8</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.1.4.2.4" style="padding-left:3.0pt;padding-right:3.0pt;">22.7</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.1.4.2.5" style="padding-left:3.0pt;padding-right:3.0pt;">12.6</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.1.4.2.6" style="padding-left:3.0pt;padding-right:3.0pt;">47.2</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.1.4.2.7" style="padding-left:3.0pt;padding-right:3.0pt;">21.6</td>
</tr>
<tr class="ltx_tr" id="Sx5.T2.1.5.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="Sx5.T2.1.5.3.1" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="Sx5.T2.1.5.3.1.1">Ours</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T2.1.5.3.2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="Sx5.T2.1.5.3.2.1">58.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T2.1.5.3.3" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="Sx5.T2.1.5.3.3.1">45.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T2.1.5.3.4" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="Sx5.T2.1.5.3.4.1">24.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T2.1.5.3.5" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="Sx5.T2.1.5.3.5.1">13.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T2.1.5.3.6" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="Sx5.T2.1.5.3.6.1">47.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T2.1.5.3.7" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="Sx5.T2.1.5.3.7.1">22.0</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span><span class="ltx_text ltx_font_bold" id="Sx5.T2.3.1">Results (%) of ablation study.</span></figcaption>
</figure>
</section>
</section>
<section class="ltx_subsection" id="Sx5.SSx2">
<h3 class="ltx_title ltx_title_subsection">Ablation Study</h3>
<section class="ltx_subsubsection" id="Sx5.SSx2.SSSx1">
<h4 class="ltx_title ltx_title_subsubsection">Effectiveness of iterative information collector.</h4>
<div class="ltx_para" id="Sx5.SSx2.SSSx1.p1">
<p class="ltx_p" id="Sx5.SSx2.SSSx1.p1.1">In TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.T2" title="Table 2 â€£ In-depth comparison under a fair top-ğ‘˜. â€£ Main Results â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>, â€œOurs w/o AMRâ€ represents that our method uses only the Iterative Information Collector (IIC) module. Meanwhile, â€œOurs w/o IIC&amp;AMRâ€ means that our method does not use either the IIC or the Adaptive Memory Reviewer (AMR), which effectively equivalent to the Vanilla RAG we aforementioned.
The results suggest that adding the IIC to the Vanilla RAG improves performance across all datasets, confirming its effectiveness. The moduleâ€™s gains are most pronounced on multi-hop datasets.
This makes sense since multi-hop tasks rely on previous key information to determine what to explore in the next step. Our note-based iterative updates generate new queries using past knowledge, which closely mirrors the multi-hop QA process.
For ASQA, the gain likely stems from broad information exploration and integration.</p>
</div>
</section>
<section class="ltx_subsubsection" id="Sx5.SSx2.SSSx2">
<h4 class="ltx_title ltx_title_subsubsection">Effectiveness of adaptive memory reviewer.</h4>
<div class="ltx_para" id="Sx5.SSx2.SSSx2.p1">
<p class="ltx_p" id="Sx5.SSx2.SSSx2.p1.1">In our method, the AMR cannot work independently and must be combined with IIC.
Therefore, we compare our method with a version that excludes the adaptive module to prove its effectiveness.
Without the AMR module, the system continuously retrieves and updates notes until the maximum exploration step is reached, which increases the risk of irrelevant noise in the final note used for answering.
Experimental results validate this analysis, showing that incorporating AMR can further enhance performance.
Additionally, a key advantage of the adaptive module is its ability to trigger an early stopping strategy when a relatively high-quality note is already available, potentially reducing costs.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="Sx5.SSx3">
<h3 class="ltx_title ltx_title_subsection">Parameter Analysis</h3>
<section class="ltx_subsubsection" id="Sx5.SSx3.SSSx1">
<h4 class="ltx_title ltx_title_subsubsection">Impacts of CI and IU.</h4>
<div class="ltx_para" id="Sx5.SSx3.SSSx1.p1">
<p class="ltx_p" id="Sx5.SSx3.SSSx1.p1.1">In TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.T3" title="Table 3 â€£ Impacts of top-ğ‘˜. â€£ Parameter Analysis â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3</span></a>, with IU fixed at 1, the performance on multi-hop QA datasets improves as CI increases, reaching its peak when CI is 3.
However, ASQA already reaches its best performance when CI is 2, likely due to the need for deeper exploration in multi-hop QA.
Thus, we recommend using a smaller IU to potentially reduce costs while achieving similar gains as higher IU values.</p>
</div>
</section>
<section class="ltx_subsubsection" id="Sx5.SSx3.SSSx2">
<h4 class="ltx_title ltx_title_subsubsection">Impacts of <span class="ltx_text ltx_font_bold" id="Sx5.SSx3.SSSx2.1.1">top-<math alttext="\bm{k}" class="ltx_Math" display="inline" id="Sx5.SSx3.SSSx2.1.1.m1.1"><semantics id="Sx5.SSx3.SSSx2.1.1.m1.1b"><mi id="Sx5.SSx3.SSSx2.1.1.m1.1.1" xref="Sx5.SSx3.SSSx2.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx3.SSSx2.1.1.m1.1c"><ci id="Sx5.SSx3.SSSx2.1.1.m1.1.1.cmml" xref="Sx5.SSx3.SSSx2.1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx3.SSSx2.1.1.m1.1d">\bm{k}</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx3.SSSx2.1.1.m1.1e">bold_italic_k</annotation></semantics></math></span>.</h4>
<div class="ltx_para" id="Sx5.SSx3.SSSx2.p1">
<p class="ltx_p" id="Sx5.SSx3.SSSx2.p1.3">In TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.T4" title="Table 4 â€£ Impacts of top-ğ‘˜. â€£ Parameter Analysis â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">4</span></a>, we compare our method with the Vanilla RAG across various top-<math alttext="k" class="ltx_Math" display="inline" id="Sx5.SSx3.SSSx2.p1.1.m1.1"><semantics id="Sx5.SSx3.SSSx2.p1.1.m1.1a"><mi id="Sx5.SSx3.SSSx2.p1.1.m1.1.1" xref="Sx5.SSx3.SSSx2.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx3.SSSx2.p1.1.m1.1b"><ci id="Sx5.SSx3.SSSx2.p1.1.m1.1.1.cmml" xref="Sx5.SSx3.SSSx2.p1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx3.SSSx2.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx3.SSSx2.p1.1.m1.1d">italic_k</annotation></semantics></math> settings.
Our method consistently outperforms Vanilla RAG under the same top-<math alttext="k" class="ltx_Math" display="inline" id="Sx5.SSx3.SSSx2.p1.2.m2.1"><semantics id="Sx5.SSx3.SSSx2.p1.2.m2.1a"><mi id="Sx5.SSx3.SSSx2.p1.2.m2.1.1" xref="Sx5.SSx3.SSSx2.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx3.SSSx2.p1.2.m2.1b"><ci id="Sx5.SSx3.SSSx2.p1.2.m2.1.1.cmml" xref="Sx5.SSx3.SSSx2.p1.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx3.SSSx2.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx3.SSSx2.p1.2.m2.1d">italic_k</annotation></semantics></math> conditions, confirming its robustness in achieving stable gains regardless of the number of retrieved passages.
Furthermore, in the majority of cases, our systemâ€™s performance improves as the number of retrieved passages (top-<math alttext="k" class="ltx_Math" display="inline" id="Sx5.SSx3.SSSx2.p1.3.m3.1"><semantics id="Sx5.SSx3.SSSx2.p1.3.m3.1a"><mi id="Sx5.SSx3.SSSx2.p1.3.m3.1.1" xref="Sx5.SSx3.SSSx2.p1.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.SSx3.SSSx2.p1.3.m3.1b"><ci id="Sx5.SSx3.SSSx2.p1.3.m3.1.1.cmml" xref="Sx5.SSx3.SSSx2.p1.3.m3.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.SSx3.SSSx2.p1.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="Sx5.SSx3.SSSx2.p1.3.m3.1d">italic_k</annotation></semantics></math>) per step increases.</p>
</div>
<figure class="ltx_table" id="Sx5.T3">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="Sx5.T3.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="Sx5.T3.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="Sx5.T3.1.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="Sx5.T3.1.1.1.1.1">CI-IU</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="Sx5.T3.1.1.1.2">HotpotQA</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="Sx5.T3.1.1.1.3">2WikiMQA</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="Sx5.T3.1.1.1.4">ASQA</th>
</tr>
<tr class="ltx_tr" id="Sx5.T3.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T3.1.2.2.1">(f1)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T3.1.2.2.2">(em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T3.1.2.2.3">(f1)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T3.1.2.2.4">(em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T3.1.2.2.5">(str-em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T3.1.2.2.6">(str-hit)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="Sx5.T3.1.3.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T3.1.3.1.1">1-1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T3.1.3.1.2">54.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T3.1.3.1.3">43.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T3.1.3.1.4">50.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T3.1.3.1.5">41.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T3.1.3.1.6"><span class="ltx_text ltx_font_bold" id="Sx5.T3.1.3.1.6.1">47.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T3.1.3.1.7">20.9</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.1.4.2">
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.4.2.1">2-1</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.4.2.2">57.2</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.4.2.3">45.6</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.4.2.4">52.3</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.4.2.5">41.6</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.4.2.6"><span class="ltx_text ltx_font_bold" id="Sx5.T3.1.4.2.6.1">47.4</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.4.2.7">22.2</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.1.5.3">
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.5.3.1">3-1</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.5.3.2">58.4</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.5.3.3">45.6</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.5.3.4">54.2</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.5.3.5">43.2</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.5.3.6">47.3</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.5.3.7">22.0</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.1.6.4">
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.6.4.1">3-2</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.6.4.2">58.1</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.6.4.3">45.6</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.6.4.4">54.6</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.6.4.5"><span class="ltx_text ltx_font_bold" id="Sx5.T3.1.6.4.5.1">45.8</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.6.4.6">46.4</td>
<td class="ltx_td ltx_align_center" id="Sx5.T3.1.6.4.7"><span class="ltx_text ltx_font_bold" id="Sx5.T3.1.6.4.7.1">22.6</span></td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.1.7.5">
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T3.1.7.5.1">3-3</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T3.1.7.5.2"><span class="ltx_text ltx_font_bold" id="Sx5.T3.1.7.5.2.1">58.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T3.1.7.5.3"><span class="ltx_text ltx_font_bold" id="Sx5.T3.1.7.5.3.1">46.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T3.1.7.5.4"><span class="ltx_text ltx_font_bold" id="Sx5.T3.1.7.5.4.1">54.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T3.1.7.5.5">44.4</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T3.1.7.5.6"><span class="ltx_text ltx_font_bold" id="Sx5.T3.1.7.5.6.1">47.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T3.1.7.5.7">22.5</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Adaptive-Note with different parameters in AMR.</figcaption>
</figure>
<figure class="ltx_table" id="Sx5.T4">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="Sx5.T4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="Sx5.T4.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="Sx5.T4.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.1.1.1">top-<math alttext="\bm{k}" class="ltx_Math" display="inline" id="Sx5.T4.1.1.1.1.1.m1.1"><semantics id="Sx5.T4.1.1.1.1.1.m1.1a"><mi id="Sx5.T4.1.1.1.1.1.m1.1.1" xref="Sx5.T4.1.1.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.T4.1.1.1.1.1.m1.1b"><ci id="Sx5.T4.1.1.1.1.1.m1.1.1.cmml" xref="Sx5.T4.1.1.1.1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.T4.1.1.1.1.1.m1.1c">\bm{k}</annotation><annotation encoding="application/x-llamapun" id="Sx5.T4.1.1.1.1.1.m1.1d">bold_italic_k</annotation></semantics></math></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="Sx5.T4.1.1.2">HotpotQA</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="Sx5.T4.1.1.3">2WikiMQA</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="Sx5.T4.1.1.4">ASQA</th>
</tr>
<tr class="ltx_tr" id="Sx5.T4.1.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T4.1.2.1.1">(f1)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T4.1.2.1.2">(em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T4.1.2.1.3">(f1)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T4.1.2.1.4">(em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T4.1.2.1.5">(str-em)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="Sx5.T4.1.2.1.6">(str-hit)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="Sx5.T4.1.3.1" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="7" id="Sx5.T4.1.3.1.1"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.3.1.1.1" style="background-color:#E6E6E6;">Vanilla</span></td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.1.4.2">
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.4.2.1">top-3</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.4.2.2">48.6</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.4.2.3">38.0</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.4.2.4">41.0</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.4.2.5">35.2</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.4.2.6">42.5</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.4.2.7">17.5</td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.1.5.3">
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.5.3.1">top-5</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.5.3.2">49.6</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.5.3.3">38.0</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.5.3.4">42.0</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.5.3.5">36.2</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.5.3.6">43.4</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.5.3.7">18.2</td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.1.6.4">
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.6.4.1">top-7</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.6.4.2"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.6.4.2.1">50.4</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.6.4.3"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.6.4.3.1">39.0</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.6.4.4"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.6.4.4.1">42.5</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.6.4.5"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.6.4.5.1">36.8</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.6.4.6"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.6.4.6.1">44.6</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.6.4.7"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.6.4.7.1">18.8</span></td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.1.7.5" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="7" id="Sx5.T4.1.7.5.1"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.7.5.1.1" style="background-color:#E6E6E6;">Ours</span></td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.1.8.6">
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.8.6.1">top-3</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.8.6.2">57.9</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.8.6.3">45.0</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.8.6.4">53.8</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.8.6.5">42.6</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.8.6.6">46.5</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.8.6.7">20.7</td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.1.9.7">
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.9.7.1">top-5</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.9.7.2"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.9.7.2.1">58.4</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.9.7.3"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.9.7.3.1">45.6</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.9.7.4">54.2</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.9.7.5">43.2</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.9.7.6">47.3</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.1.9.7.7">22.0</td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.1.10.8">
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T4.1.10.8.1">top-7</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T4.1.10.8.2">57.3</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T4.1.10.8.3">45.2</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T4.1.10.8.4"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.10.8.4.1">57.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T4.1.10.8.5"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.10.8.5.1">47.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T4.1.10.8.6"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.10.8.6.1">47.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="Sx5.T4.1.10.8.7"><span class="ltx_text ltx_font_bold" id="Sx5.T4.1.10.8.7.1">21.7</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Adaptive-Note with different <span class="ltx_text ltx_font_bold" id="Sx5.T4.3.1">top-<math alttext="\bm{k}" class="ltx_Math" display="inline" id="Sx5.T4.3.1.m1.1"><semantics id="Sx5.T4.3.1.m1.1b"><mi id="Sx5.T4.3.1.m1.1.1" xref="Sx5.T4.3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="Sx5.T4.3.1.m1.1c"><ci id="Sx5.T4.3.1.m1.1.1.cmml" xref="Sx5.T4.3.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="Sx5.T4.3.1.m1.1d">\bm{k}</annotation><annotation encoding="application/x-llamapun" id="Sx5.T4.3.1.m1.1e">bold_italic_k</annotation></semantics></math></span>.</figcaption>
</figure>
</section>
</section>
</section>
<section class="ltx_section" id="Sx6">
<h2 class="ltx_title ltx_title_section">Conclusion</h2>
<div class="ltx_para" id="Sx6.p1">
<p class="ltx_p" id="Sx6.p1.1">Based on the novel <span class="ltx_text ltx_font_italic" id="Sx6.p1.1.1">Retriever-and-Memory</span> paradigm, we propose Adaptive-Note, a plug-and-play and generic RAG method for complex QA tasks. Our method simulates the human learning process by iteratively gathering information from a knowledge growth perspective and adaptively updating it to enhance answer quality. Extensive experiments prove the superiority and effectiveness of our method and its core components.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Asai etÂ al. (2024)</span>
<span class="ltx_bibblock">
Asai, A.; Wu, Z.; Wang, Y.; Sil, A.; and Hajishirzi, H. 2024.

</span>
<span class="ltx_bibblock">Self-RAG: Learning to Retrieve, Generate, and Critique through Self-Reflection.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">The Twelfth International Conference on Learning Representations, ICLR 2024, Vienna, Austria, May 7-11, 2024</em>. OpenReview.net.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Borgeaud etÂ al. (2022)</span>
<span class="ltx_bibblock">
Borgeaud, S.; Mensch, A.; Hoffmann, J.; Cai, T.; Rutherford, E.; Millican, K.; vanÂ den Driessche, G.; Lespiau, J.; Damoc, B.; Clark, A.; deÂ LasÂ Casas, D.; Guy, A.; Menick, J.; Ring, R.; Hennigan, T.; Huang, S.; Maggiore, L.; Jones, C.; Cassirer, A.; Brock, A.; Paganini, M.; Irving, G.; Vinyals, O.; Osindero, S.; Simonyan, K.; Rae, J.Â W.; Elsen, E.; and Sifre, L. 2022.

</span>
<span class="ltx_bibblock">Improving Language Models by Retrieving from Trillions of Tokens.

</span>
<span class="ltx_bibblock">In Chaudhuri, K.; Jegelka, S.; Song, L.; SzepesvÃ¡ri, C.; Niu, G.; and Sabato, S., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">International Conference on Machine Learning, ICML 2022, 17-23 July 2022, Baltimore, Maryland, USA</em>, volume 162 of <em class="ltx_emph ltx_font_italic" id="bib.bib2.2.2">Proceedings of Machine Learning Research</em>, 2206â€“2240. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown etÂ al. (2020)</span>
<span class="ltx_bibblock">
Brown, T.Â B.; Mann, B.; Ryder, N.; Subbiah, M.; Kaplan, J.; Dhariwal, P.; Neelakantan, A.; Shyam, P.; Sastry, G.; Askell, A.; Agarwal, S.; Herbert-Voss, A.; Krueger, G.; Henighan, T.; Child, R.; Ramesh, A.; Ziegler, D.Â M.; Wu, J.; Winter, C.; Hesse, C.; Chen, M.; Sigler, E.; Litwin, M.; Gray, S.; Chess, B.; Clark, J.; Berner, C.; McCandlish, S.; Radford, A.; Sutskever, I.; and Amodei, D. 2020.

</span>
<span class="ltx_bibblock">Language Models are Few-Shot Learners.

</span>
<span class="ltx_bibblock">In Larochelle, H.; Ranzato, M.; Hadsell, R.; Balcan, M.; and Lin, H., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">Advances in Neural Information Processing Systems 33: Annual Conference on Neural Information Processing Systems 2020, NeurIPS 2020, December 6-12, 2020, virtual</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen etÂ al. (2017)</span>
<span class="ltx_bibblock">
Chen, D.; Fisch, A.; Weston, J.; and Bordes, A. 2017.

</span>
<span class="ltx_bibblock">Reading Wikipedia to Answer Open-Domain Questions.

</span>
<span class="ltx_bibblock">In Barzilay, R.; and Kan, M., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Proceedings of the 55th Annual Meeting of the Association for Computational Linguistics, ACL 2017, Vancouver, Canada, July 30 - August 4, Volume 1: Long Papers</em>, 1870â€“1879. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen etÂ al. (2023)</span>
<span class="ltx_bibblock">
Chen, Y.; Fu, Q.; Yuan, Y.; Wen, Z.; Fan, G.; Liu, D.; Zhang, D.; Li, Z.; and Xiao, Y. 2023.

</span>
<span class="ltx_bibblock">Hallucination Detection: Robustly Discerning Reliable Answers in Large Language Models.

</span>
<span class="ltx_bibblock">In Frommholz, I.; Hopfgartner, F.; Lee, M.; Oakes, M.; Lalmas, M.; Zhang, M.; and Santos, R. L.Â T., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">Proceedings of the 32nd ACM International Conference on Information and Knowledge Management, CIKM 2023, Birmingham, United Kingdom, October 21-25, 2023</em>, 245â€“255. ACM.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Das etÂ al. (2019)</span>
<span class="ltx_bibblock">
Das, R.; Dhuliawala, S.; Zaheer, M.; and McCallum, A. 2019.

</span>
<span class="ltx_bibblock">Multi-step Retriever-Reader Interaction for Scalable Open-domain Question Answering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">7th International Conference on Learning Representations, ICLR 2019, New Orleans, LA, USA, May 6-9, 2019</em>. OpenReview.net.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fan etÂ al. (2019)</span>
<span class="ltx_bibblock">
Fan, A.; Jernite, Y.; Perez, E.; Grangier, D.; Weston, J.; and Auli, M. 2019.

</span>
<span class="ltx_bibblock">ELI5: Long Form Question Answering.

</span>
<span class="ltx_bibblock">In Korhonen, A.; Traum, D.Â R.; and MÃ rquez, L., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">Proceedings of the 57th Conference of the Association for Computational Linguistics, ACL 2019, Florence, Italy, July 28- August 2, 2019, Volume 1: Long Papers</em>, 3558â€“3567. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao etÂ al. (2023)</span>
<span class="ltx_bibblock">
Gao, T.; Yen, H.; Yu, J.; and Chen, D. 2023.

</span>
<span class="ltx_bibblock">Enabling Large Language Models to Generate Text with Citations.

</span>
<span class="ltx_bibblock">In Bouamor, H.; Pino, J.; and Bali, K., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, EMNLP 2023, Singapore, December 6-10, 2023</em>, 6465â€“6488. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guu etÂ al. (2020)</span>
<span class="ltx_bibblock">
Guu, K.; Lee, K.; Tung, Z.; Pasupat, P.; and Chang, M. 2020.

</span>
<span class="ltx_bibblock">Retrieval Augmented Language Model Pre-Training.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">Proceedings of the 37th International Conference on Machine Learning, ICML 2020, 13-18 July 2020, Virtual Event</em>, volume 119 of <em class="ltx_emph ltx_font_italic" id="bib.bib9.2.2">Proceedings of Machine Learning Research</em>, 3929â€“3938. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ho etÂ al. (2020)</span>
<span class="ltx_bibblock">
Ho, X.; Nguyen, A.Â D.; Sugawara, S.; and Aizawa, A. 2020.

</span>
<span class="ltx_bibblock">Constructing A Multi-hop QA Dataset for Comprehensive Evaluation of Reasoning Steps.

</span>
<span class="ltx_bibblock">In Scott, D.; Bel, N.; and Zong, C., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">Proceedings of the 28th International Conference on Computational Linguistics, COLING 2020, Barcelona, Spain (Online), December 8-13, 2020</em>, 6609â€“6625. International Committee on Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard etÂ al. (2022)</span>
<span class="ltx_bibblock">
Izacard, G.; Caron, M.; Hosseini, L.; Riedel, S.; Bojanowski, P.; Joulin, A.; and Grave, E. 2022.

</span>
<span class="ltx_bibblock">Unsupervised Dense Information Retrieval with Contrastive Learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">Trans. Mach. Learn. Res.</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard etÂ al. (2023)</span>
<span class="ltx_bibblock">
Izacard, G.; Lewis, P. S.Â H.; Lomeli, M.; Hosseini, L.; Petroni, F.; Schick, T.; Dwivedi-Yu, J.; Joulin, A.; Riedel, S.; and Grave, E. 2023.

</span>
<span class="ltx_bibblock">Atlas: Few-shot Learning with Retrieval Augmented Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">J. Mach. Learn. Res.</em>, 24: 251:1â€“251:43.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang etÂ al. (2023)</span>
<span class="ltx_bibblock">
Jiang, Z.; Xu, F.Â F.; Gao, L.; Sun, Z.; Liu, Q.; Dwivedi-Yu, J.; Yang, Y.; Callan, J.; and Neubig, G. 2023.

</span>
<span class="ltx_bibblock">Active Retrieval Augmented Generation.

</span>
<span class="ltx_bibblock">In Bouamor, H.; Pino, J.; and Bali, K., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, EMNLP 2023, Singapore, December 6-10, 2023</em>, 7969â€“7992. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin etÂ al. (2020)</span>
<span class="ltx_bibblock">
Karpukhin, V.; Oguz, B.; Min, S.; Lewis, P. S.Â H.; Wu, L.; Edunov, S.; Chen, D.; and Yih, W. 2020.

</span>
<span class="ltx_bibblock">Dense Passage Retrieval for Open-Domain Question Answering.

</span>
<span class="ltx_bibblock">In Webber, B.; Cohn, T.; He, Y.; and Liu, Y., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing, EMNLP 2020, Online, November 16-20, 2020</em>, 6769â€“6781. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis etÂ al. (2020a)</span>
<span class="ltx_bibblock">
Lewis, M.; Liu, Y.; Goyal, N.; Ghazvininejad, M.; Mohamed, A.; Levy, O.; Stoyanov, V.; and Zettlemoyer, L. 2020a.

</span>
<span class="ltx_bibblock">BART: Denoising Sequence-to-Sequence Pre-training for Natural Language Generation, Translation, and Comprehension.

</span>
<span class="ltx_bibblock">In Jurafsky, D.; Chai, J.; Schluter, N.; and Tetreault, J.Â R., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics, ACL 2020, Online, July 5-10, 2020</em>, 7871â€“7880. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis etÂ al. (2020b)</span>
<span class="ltx_bibblock">
Lewis, P. S.Â H.; Perez, E.; Piktus, A.; Petroni, F.; Karpukhin, V.; Goyal, N.; KÃ¼ttler, H.; Lewis, M.; Yih, W.; RocktÃ¤schel, T.; Riedel, S.; and Kiela, D. 2020b.

</span>
<span class="ltx_bibblock">Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks.

</span>
<span class="ltx_bibblock">In Larochelle, H.; Ranzato, M.; Hadsell, R.; Balcan, M.; and Lin, H., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">Advances in Neural Information Processing Systems 33: Annual Conference on Neural Information Processing Systems 2020, NeurIPS 2020, December 6-12, 2020, virtual</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lyu etÂ al. (2024)</span>
<span class="ltx_bibblock">
Lyu, Y.; Li, Z.; Niu, S.; Xiong, F.; Tang, B.; Wang, W.; Wu, H.; Liu, H.; Xu, T.; and Chen, E. 2024.

</span>
<span class="ltx_bibblock">CRUD-RAG: A Comprehensive Chinese Benchmark for Retrieval-Augmented Generation of Large Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">CoRR</em>, abs/2401.17043.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mallen etÂ al. (2023)</span>
<span class="ltx_bibblock">
Mallen, A.; Asai, A.; Zhong, V.; Das, R.; Khashabi, D.; and Hajishirzi, H. 2023.

</span>
<span class="ltx_bibblock">When Not to Trust Language Models: Investigating Effectiveness of Parametric and Non-Parametric Memories.

</span>
<span class="ltx_bibblock">In Rogers, A.; Boyd-Graber, J.Â L.; and Okazaki, N., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), ACL 2023, Toronto, Canada, July 9-14, 2023</em>, 9802â€“9822. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Min etÂ al. (2023)</span>
<span class="ltx_bibblock">
Min, S.; Krishna, K.; Lyu, X.; Lewis, M.; Yih, W.; Koh, P.Â W.; Iyyer, M.; Zettlemoyer, L.; and Hajishirzi, H. 2023.

</span>
<span class="ltx_bibblock">FActScore: Fine-grained Atomic Evaluation of Factual Precision in Long Form Text Generation.

</span>
<span class="ltx_bibblock">In Bouamor, H.; Pino, J.; and Bali, K., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, EMNLP 2023, Singapore, December 6-10, 2023</em>, 12076â€“12100. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ni etÂ al. (2022)</span>
<span class="ltx_bibblock">
Ni, J.; Qu, C.; Lu, J.; Dai, Z.; Ãbrego, G.Â H.; Ma, J.; Zhao, V.Â Y.; Luan, Y.; Hall, K.Â B.; Chang, M.; and Yang, Y. 2022.

</span>
<span class="ltx_bibblock">Large Dual Encoders Are Generalizable Retrievers.

</span>
<span class="ltx_bibblock">In Goldberg, Y.; Kozareva, Z.; and Zhang, Y., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing, EMNLP 2022, Abu Dhabi, United Arab Emirates, December 7-11, 2022</em>, 9844â€“9855. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2023)</span>
<span class="ltx_bibblock">
OpenAI. 2023.

</span>
<span class="ltx_bibblock">GPT-4 Technical Report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">CoRR</em>, abs/2303.08774.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Press etÂ al. (2023)</span>
<span class="ltx_bibblock">
Press, O.; Zhang, M.; Min, S.; Schmidt, L.; Smith, N.Â A.; and Lewis, M. 2023.

</span>
<span class="ltx_bibblock">Measuring and Narrowing the Compositionality Gap in Language Models.

</span>
<span class="ltx_bibblock">In Bouamor, H.; Pino, J.; and Bali, K., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Findings of the Association for Computational Linguistics: EMNLP 2023, Singapore, December 6-10, 2023</em>, 5687â€“5711. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Raffel etÂ al. (2020)</span>
<span class="ltx_bibblock">
Raffel, C.; Shazeer, N.; Roberts, A.; Lee, K.; Narang, S.; Matena, M.; Zhou, Y.; Li, W.; and Liu, P.Â J. 2020.

</span>
<span class="ltx_bibblock">Exploring the Limits of Transfer Learning with a Unified Text-to-Text Transformer.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">J. Mach. Learn. Res.</em>, 21: 140:1â€“140:67.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ram etÂ al. (2023)</span>
<span class="ltx_bibblock">
Ram, O.; Levine, Y.; Dalmedigos, I.; Muhlgay, D.; Shashua, A.; Leyton-Brown, K.; and Shoham, Y. 2023.

</span>
<span class="ltx_bibblock">In-Context Retrieval-Augmented Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">Trans. Assoc. Comput. Linguistics</em>, 11: 1316â€“1331.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shultz, Wise, and Nobandegani (2024)</span>
<span class="ltx_bibblock">
Shultz, T.Â R.; Wise, J.; and Nobandegani, A.Â S. 2024.

</span>
<span class="ltx_bibblock">GPT-4 Understands Discourse at Least as Well as Humans Do.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">CoRR</em>, abs/2403.17196.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Stelmakh etÂ al. (2022)</span>
<span class="ltx_bibblock">
Stelmakh, I.; Luan, Y.; Dhingra, B.; and Chang, M. 2022.

</span>
<span class="ltx_bibblock">ASQA: Factoid Questions Meet Long-Form Answers.

</span>
<span class="ltx_bibblock">In Goldberg, Y.; Kozareva, Z.; and Zhang, Y., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing, EMNLP 2022, Abu Dhabi, United Arab Emirates, December 7-11, 2022</em>, 8273â€“8288. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron etÂ al. (2023)</span>
<span class="ltx_bibblock">
Touvron, H.; Lavril, T.; Izacard, G.; Martinet, X.; Lachaux, M.; Lacroix, T.; RoziÃ¨re, B.; Goyal, N.; Hambro, E.; Azhar, F.; Rodriguez, A.; Joulin, A.; Grave, E.; and Lample, G. 2023.

</span>
<span class="ltx_bibblock">LLaMA: Open and Efficient Foundation Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">CoRR</em>, abs/2302.13971.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Trivedi etÂ al. (2022)</span>
<span class="ltx_bibblock">
Trivedi, H.; Balasubramanian, N.; Khot, T.; and Sabharwal, A. 2022.

</span>
<span class="ltx_bibblock">MuSiQue: Multihop Questions via Single-hop Question Composition.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">Trans. Assoc. Comput. Linguistics</em>, 10: 539â€“554.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Trivedi etÂ al. (2023)</span>
<span class="ltx_bibblock">
Trivedi, H.; Balasubramanian, N.; Khot, T.; and Sabharwal, A. 2023.

</span>
<span class="ltx_bibblock">Interleaving Retrieval with Chain-of-Thought Reasoning for Knowledge-Intensive Multi-Step Questions.

</span>
<span class="ltx_bibblock">In Rogers, A.; Boyd-Graber, J.Â L.; and Okazaki, N., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), ACL 2023, Toronto, Canada, July 9-14, 2023</em>, 10014â€“10037. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Voorhees (1999)</span>
<span class="ltx_bibblock">
Voorhees, E.Â M. 1999.

</span>
<span class="ltx_bibblock">The TREC-8 Question Answering Track Report.

</span>
<span class="ltx_bibblock">In Voorhees, E.Â M.; and Harman, D.Â K., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Proceedings of The Eighth Text REtrieval Conference, TREC 1999, Gaithersburg, Maryland, USA, November 17-19, 1999</em>, volume 500-246 of <em class="ltx_emph ltx_font_italic" id="bib.bib30.2.2">NIST Special Publication</em>. National Institute of Standards and Technology (NIST).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang etÂ al. (2024)</span>
<span class="ltx_bibblock">
Wang, H.; Xue, B.; Zhou, B.; Zhang, T.; Wang, C.; Chen, G.; Wang, H.; and Wong, K. 2024.

</span>
<span class="ltx_bibblock">Self-DC: When to retrieve and When to generate? Self Divide-and-Conquer for Compositional Unknown Questions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">CoRR</em>, abs/2402.13514.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu etÂ al. (2024)</span>
<span class="ltx_bibblock">
Xu, Z.; Liu, Z.; Liu, Y.; Xiong, C.; Yan, Y.; Wang, S.; Yu, S.; Liu, Z.; and Yu, G. 2024.

</span>
<span class="ltx_bibblock">ActiveRAG: Revealing the Treasures of Knowledge via Active Learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">CoRR</em>, abs/2402.13547.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang etÂ al. (2024)</span>
<span class="ltx_bibblock">
Yang, A.; Yang, B.; Hui, B.; Zheng, B.; Yu, B.; Zhou, C.; Li, C.; Li, C.; Liu, D.; Huang, F.; Dong, G.; Wei, H.; Lin, H.; Tang, J.; Wang, J.; Yang, J.; Tu, J.; Zhang, J.; Ma, J.; Xu, J.; Zhou, J.; Bai, J.; He, J.; Lin, J.; Dang, K.; Lu, K.; Chen, K.; Yang, K.; Li, M.; Xue, M.; Ni, N.; Zhang, P.; Wang, P.; Peng, R.; Men, R.; Gao, R.; Lin, R.; Wang, S.; Bai, S.; Tan, S.; Zhu, T.; Li, T.; Liu, T.; Ge, W.; Deng, X.; Zhou, X.; Ren, X.; Zhang, X.; Wei, X.; Ren, X.; Fan, Y.; Yao, Y.; Zhang, Y.; Wan, Y.; Chu, Y.; Liu, Y.; Cui, Z.; Zhang, Z.; and Fan, Z. 2024.

</span>
<span class="ltx_bibblock">Qwen2 Technical Report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">arXiv preprint arXiv:2407.10671</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang etÂ al. (2018)</span>
<span class="ltx_bibblock">
Yang, Z.; Qi, P.; Zhang, S.; Bengio, Y.; Cohen, W.Â W.; Salakhutdinov, R.; and Manning, C.Â D. 2018.

</span>
<span class="ltx_bibblock">HotpotQA: A Dataset for Diverse, Explainable Multi-hop Question Answering.

</span>
<span class="ltx_bibblock">In Riloff, E.; Chiang, D.; Hockenmaier, J.; and Tsujii, J., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">Proceedings of the 2018 Conference on Empirical Methods in Natural Language Processing, Brussels, Belgium, October 31 - November 4, 2018</em>, 2369â€“2380. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao etÂ al. (2023)</span>
<span class="ltx_bibblock">
Yao, S.; Zhao, J.; Yu, D.; Du, N.; Shafran, I.; Narasimhan, K.Â R.; and Cao, Y. 2023.

</span>
<span class="ltx_bibblock">ReAct: Synergizing Reasoning and Acting in Language Models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">The Eleventh International Conference on Learning Representations, ICLR 2023, Kigali, Rwanda, May 1-5, 2023</em>. OpenReview.net.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu etÂ al. (2023)</span>
<span class="ltx_bibblock">
Yu, W.; Zhang, H.; Pan, X.; Ma, K.; Wang, H.; and Yu, D. 2023.

</span>
<span class="ltx_bibblock">Chain-of-Note: Enhancing Robustness in Retrieval-Augmented Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">CoRR</em>, abs/2311.09210.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou, Jurafsky, and Hashimoto (2023)</span>
<span class="ltx_bibblock">
Zhou, K.; Jurafsky, D.; and Hashimoto, T. 2023.

</span>
<span class="ltx_bibblock">Navigating the Grey Area: How Expressions of Uncertainty and Overconfidence Affect Language Models.

</span>
<span class="ltx_bibblock">In Bouamor, H.; Pino, J.; and Bali, K., eds., <em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, EMNLP 2023, Singapore, December 6-10, 2023</em>, 5506â€“5524. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu etÂ al. (2021)</span>
<span class="ltx_bibblock">
Zhu, F.; Lei, W.; Wang, C.; Zheng, J.; Poria, S.; and Chua, T. 2021.

</span>
<span class="ltx_bibblock">Retrieving and Reading: A Comprehensive Survey on Open-domain Question Answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">CoRR</em>, abs/2101.00774.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Appendix A: Additional Experimental Results</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">In TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#A4.T1" title="Table A1 â€£ Appendix D Appendix D: Case Study â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A1</span></a> and TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#A4.T2" title="Table A2 â€£ Appendix D Appendix D: Case Study â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A2</span></a>, we provide specific values and additional results of the in-depth comparison study under a fair top-<math alttext="k" class="ltx_Math" display="inline" id="A1.p1.1.m1.1"><semantics id="A1.p1.1.m1.1a"><mi id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b"><ci id="A1.p1.1.m1.1.1.cmml" xref="A1.p1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="A1.p1.1.m1.1d">italic_k</annotation></semantics></math> setting across all datasets.
The results suggest that our method outperforms Vanilla RAG under the fair top-k setting across all datasets and metrics. This aligns with the trends observed in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#Sx5.F2" title="Figure 2 â€£ Ours vs. Adaptive RAG. â€£ Main Results â€£ Results and Analysis â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>, further demonstrating the superiority, effectiveness, and robustness of our Adaptive-Note.
Especially on the 2WikiMQA dataset, we outperform Vanilla RAG (top-9) by +11.1% in F1-score (f1) and +5.4% in Exact Match (em).</p>
</div>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Appendix B: Prompt Details</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.12">We present all the prompts used in our method in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#A4.T3" title="Table A3 â€£ Appendix D Appendix D: Case Study â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A3</span></a> and TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#A4.T4" title="Table A4 â€£ Appendix D Appendix D: Case Study â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A4</span></a>. In TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#A4.T3" title="Table A3 â€£ Appendix D Appendix D: Case Study â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A3</span></a>, we detail the prompt of each stage of two core components, Iterative Information Collector (IIC) and Adaptive Memory Reviewer (AMR).
It is worth noting that since the prompts in our core components are consistent across all datasets, we present only the English versions. In our experiments, the Chinese prompts used for the CRUD dataset convey the same meanings as the provided English prompts.
Specifically, at the note initialization stage, {query} represents the original query <math alttext="q" class="ltx_Math" display="inline" id="A2.p1.1.m1.1"><semantics id="A2.p1.1.m1.1a"><mi id="A2.p1.1.m1.1.1" xref="A2.p1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="A2.p1.1.m1.1b"><ci id="A2.p1.1.m1.1.1.cmml" xref="A2.p1.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="A2.p1.1.m1.1d">italic_q</annotation></semantics></math>, and {refs} represents the retrieved <math alttext="k" class="ltx_Math" display="inline" id="A2.p1.2.m2.1"><semantics id="A2.p1.2.m2.1a"><mi id="A2.p1.2.m2.1.1" xref="A2.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A2.p1.2.m2.1b"><ci id="A2.p1.2.m2.1.1.cmml" xref="A2.p1.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="A2.p1.2.m2.1d">italic_k</annotation></semantics></math> passages obtained by feeding the original query <math alttext="q" class="ltx_Math" display="inline" id="A2.p1.3.m3.1"><semantics id="A2.p1.3.m3.1a"><mi id="A2.p1.3.m3.1.1" xref="A2.p1.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="A2.p1.3.m3.1b"><ci id="A2.p1.3.m3.1.1.cmml" xref="A2.p1.3.m3.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.3.m3.1c">q</annotation><annotation encoding="application/x-llamapun" id="A2.p1.3.m3.1d">italic_q</annotation></semantics></math> into the retriever.
At the iterative information collection stage, {query} still means the original query <math alttext="q" class="ltx_Math" display="inline" id="A2.p1.4.m4.1"><semantics id="A2.p1.4.m4.1a"><mi id="A2.p1.4.m4.1.1" xref="A2.p1.4.m4.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="A2.p1.4.m4.1b"><ci id="A2.p1.4.m4.1.1.cmml" xref="A2.p1.4.m4.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.4.m4.1c">q</annotation><annotation encoding="application/x-llamapun" id="A2.p1.4.m4.1d">italic_q</annotation></semantics></math>, and {note} actually represents the content of the optimal memory <math alttext="M_{opt}" class="ltx_Math" display="inline" id="A2.p1.5.m5.1"><semantics id="A2.p1.5.m5.1a"><msub id="A2.p1.5.m5.1.1" xref="A2.p1.5.m5.1.1.cmml"><mi id="A2.p1.5.m5.1.1.2" xref="A2.p1.5.m5.1.1.2.cmml">M</mi><mrow id="A2.p1.5.m5.1.1.3" xref="A2.p1.5.m5.1.1.3.cmml"><mi id="A2.p1.5.m5.1.1.3.2" xref="A2.p1.5.m5.1.1.3.2.cmml">o</mi><mo id="A2.p1.5.m5.1.1.3.1" xref="A2.p1.5.m5.1.1.3.1.cmml">â¢</mo><mi id="A2.p1.5.m5.1.1.3.3" xref="A2.p1.5.m5.1.1.3.3.cmml">p</mi><mo id="A2.p1.5.m5.1.1.3.1a" xref="A2.p1.5.m5.1.1.3.1.cmml">â¢</mo><mi id="A2.p1.5.m5.1.1.3.4" xref="A2.p1.5.m5.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A2.p1.5.m5.1b"><apply id="A2.p1.5.m5.1.1.cmml" xref="A2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="A2.p1.5.m5.1.1.1.cmml" xref="A2.p1.5.m5.1.1">subscript</csymbol><ci id="A2.p1.5.m5.1.1.2.cmml" xref="A2.p1.5.m5.1.1.2">ğ‘€</ci><apply id="A2.p1.5.m5.1.1.3.cmml" xref="A2.p1.5.m5.1.1.3"><times id="A2.p1.5.m5.1.1.3.1.cmml" xref="A2.p1.5.m5.1.1.3.1"></times><ci id="A2.p1.5.m5.1.1.3.2.cmml" xref="A2.p1.5.m5.1.1.3.2">ğ‘œ</ci><ci id="A2.p1.5.m5.1.1.3.3.cmml" xref="A2.p1.5.m5.1.1.3.3">ğ‘</ci><ci id="A2.p1.5.m5.1.1.3.4.cmml" xref="A2.p1.5.m5.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.5.m5.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="A2.p1.5.m5.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.
Additionally, as mentioned in the main text, LLMs tend to ask similar questions again if previous questions were not well resolved. We introduce the already-asked questions list {query_log} to avoid this issue.
At the note-updating stage, {query} still refers to the <math alttext="q" class="ltx_Math" display="inline" id="A2.p1.6.m6.1"><semantics id="A2.p1.6.m6.1a"><mi id="A2.p1.6.m6.1.1" xref="A2.p1.6.m6.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="A2.p1.6.m6.1b"><ci id="A2.p1.6.m6.1.1.cmml" xref="A2.p1.6.m6.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.6.m6.1c">q</annotation><annotation encoding="application/x-llamapun" id="A2.p1.6.m6.1d">italic_q</annotation></semantics></math>, while {refs} refers to new retrieved <math alttext="k" class="ltx_Math" display="inline" id="A2.p1.7.m7.1"><semantics id="A2.p1.7.m7.1a"><mi id="A2.p1.7.m7.1.1" xref="A2.p1.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A2.p1.7.m7.1b"><ci id="A2.p1.7.m7.1.1.cmml" xref="A2.p1.7.m7.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.7.m7.1c">k</annotation><annotation encoding="application/x-llamapun" id="A2.p1.7.m7.1d">italic_k</annotation></semantics></math> passages according to the new set of queries, and the {note} means the <math alttext="M_{opt}" class="ltx_Math" display="inline" id="A2.p1.8.m8.1"><semantics id="A2.p1.8.m8.1a"><msub id="A2.p1.8.m8.1.1" xref="A2.p1.8.m8.1.1.cmml"><mi id="A2.p1.8.m8.1.1.2" xref="A2.p1.8.m8.1.1.2.cmml">M</mi><mrow id="A2.p1.8.m8.1.1.3" xref="A2.p1.8.m8.1.1.3.cmml"><mi id="A2.p1.8.m8.1.1.3.2" xref="A2.p1.8.m8.1.1.3.2.cmml">o</mi><mo id="A2.p1.8.m8.1.1.3.1" xref="A2.p1.8.m8.1.1.3.1.cmml">â¢</mo><mi id="A2.p1.8.m8.1.1.3.3" xref="A2.p1.8.m8.1.1.3.3.cmml">p</mi><mo id="A2.p1.8.m8.1.1.3.1a" xref="A2.p1.8.m8.1.1.3.1.cmml">â¢</mo><mi id="A2.p1.8.m8.1.1.3.4" xref="A2.p1.8.m8.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A2.p1.8.m8.1b"><apply id="A2.p1.8.m8.1.1.cmml" xref="A2.p1.8.m8.1.1"><csymbol cd="ambiguous" id="A2.p1.8.m8.1.1.1.cmml" xref="A2.p1.8.m8.1.1">subscript</csymbol><ci id="A2.p1.8.m8.1.1.2.cmml" xref="A2.p1.8.m8.1.1.2">ğ‘€</ci><apply id="A2.p1.8.m8.1.1.3.cmml" xref="A2.p1.8.m8.1.1.3"><times id="A2.p1.8.m8.1.1.3.1.cmml" xref="A2.p1.8.m8.1.1.3.1"></times><ci id="A2.p1.8.m8.1.1.3.2.cmml" xref="A2.p1.8.m8.1.1.3.2">ğ‘œ</ci><ci id="A2.p1.8.m8.1.1.3.3.cmml" xref="A2.p1.8.m8.1.1.3.3">ğ‘</ci><ci id="A2.p1.8.m8.1.1.3.4.cmml" xref="A2.p1.8.m8.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.8.m8.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="A2.p1.8.m8.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. Then, we obtain the current state note <math alttext="N_{t}" class="ltx_Math" display="inline" id="A2.p1.9.m9.1"><semantics id="A2.p1.9.m9.1a"><msub id="A2.p1.9.m9.1.1" xref="A2.p1.9.m9.1.1.cmml"><mi id="A2.p1.9.m9.1.1.2" xref="A2.p1.9.m9.1.1.2.cmml">N</mi><mi id="A2.p1.9.m9.1.1.3" xref="A2.p1.9.m9.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="A2.p1.9.m9.1b"><apply id="A2.p1.9.m9.1.1.cmml" xref="A2.p1.9.m9.1.1"><csymbol cd="ambiguous" id="A2.p1.9.m9.1.1.1.cmml" xref="A2.p1.9.m9.1.1">subscript</csymbol><ci id="A2.p1.9.m9.1.1.2.cmml" xref="A2.p1.9.m9.1.1.2">ğ‘</ci><ci id="A2.p1.9.m9.1.1.3.cmml" xref="A2.p1.9.m9.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.9.m9.1c">N_{t}</annotation><annotation encoding="application/x-llamapun" id="A2.p1.9.m9.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.
In the Tigger1 of the AMR stage, {query} represents the original query <math alttext="q" class="ltx_Math" display="inline" id="A2.p1.10.m10.1"><semantics id="A2.p1.10.m10.1a"><mi id="A2.p1.10.m10.1.1" xref="A2.p1.10.m10.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="A2.p1.10.m10.1b"><ci id="A2.p1.10.m10.1.1.cmml" xref="A2.p1.10.m10.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.10.m10.1c">q</annotation><annotation encoding="application/x-llamapun" id="A2.p1.10.m10.1d">italic_q</annotation></semantics></math>. The {best_note} and {new_note} represent <math alttext="M_{opt}" class="ltx_Math" display="inline" id="A2.p1.11.m11.1"><semantics id="A2.p1.11.m11.1a"><msub id="A2.p1.11.m11.1.1" xref="A2.p1.11.m11.1.1.cmml"><mi id="A2.p1.11.m11.1.1.2" xref="A2.p1.11.m11.1.1.2.cmml">M</mi><mrow id="A2.p1.11.m11.1.1.3" xref="A2.p1.11.m11.1.1.3.cmml"><mi id="A2.p1.11.m11.1.1.3.2" xref="A2.p1.11.m11.1.1.3.2.cmml">o</mi><mo id="A2.p1.11.m11.1.1.3.1" xref="A2.p1.11.m11.1.1.3.1.cmml">â¢</mo><mi id="A2.p1.11.m11.1.1.3.3" xref="A2.p1.11.m11.1.1.3.3.cmml">p</mi><mo id="A2.p1.11.m11.1.1.3.1a" xref="A2.p1.11.m11.1.1.3.1.cmml">â¢</mo><mi id="A2.p1.11.m11.1.1.3.4" xref="A2.p1.11.m11.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A2.p1.11.m11.1b"><apply id="A2.p1.11.m11.1.1.cmml" xref="A2.p1.11.m11.1.1"><csymbol cd="ambiguous" id="A2.p1.11.m11.1.1.1.cmml" xref="A2.p1.11.m11.1.1">subscript</csymbol><ci id="A2.p1.11.m11.1.1.2.cmml" xref="A2.p1.11.m11.1.1.2">ğ‘€</ci><apply id="A2.p1.11.m11.1.1.3.cmml" xref="A2.p1.11.m11.1.1.3"><times id="A2.p1.11.m11.1.1.3.1.cmml" xref="A2.p1.11.m11.1.1.3.1"></times><ci id="A2.p1.11.m11.1.1.3.2.cmml" xref="A2.p1.11.m11.1.1.3.2">ğ‘œ</ci><ci id="A2.p1.11.m11.1.1.3.3.cmml" xref="A2.p1.11.m11.1.1.3.3">ğ‘</ci><ci id="A2.p1.11.m11.1.1.3.4.cmml" xref="A2.p1.11.m11.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.11.m11.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="A2.p1.11.m11.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="N_{t}" class="ltx_Math" display="inline" id="A2.p1.12.m12.1"><semantics id="A2.p1.12.m12.1a"><msub id="A2.p1.12.m12.1.1" xref="A2.p1.12.m12.1.1.cmml"><mi id="A2.p1.12.m12.1.1.2" xref="A2.p1.12.m12.1.1.2.cmml">N</mi><mi id="A2.p1.12.m12.1.1.3" xref="A2.p1.12.m12.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="A2.p1.12.m12.1b"><apply id="A2.p1.12.m12.1.1.cmml" xref="A2.p1.12.m12.1.1"><csymbol cd="ambiguous" id="A2.p1.12.m12.1.1.1.cmml" xref="A2.p1.12.m12.1.1">subscript</csymbol><ci id="A2.p1.12.m12.1.1.2.cmml" xref="A2.p1.12.m12.1.1.2">ğ‘</ci><ci id="A2.p1.12.m12.1.1.3.cmml" xref="A2.p1.12.m12.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.12.m12.1c">N_{t}</annotation><annotation encoding="application/x-llamapun" id="A2.p1.12.m12.1d">italic_N start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="A2.p2">
<p class="ltx_p" id="A2.p2.2">In TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#A4.T4" title="Table A4 â€£ Appendix D Appendix D: Case Study â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A4</span></a>,
we detail the prompts of the task-oriented generator on different datasets.
Since each dataset has different output styles and preferences, we follow the prompts provided by the authors in the original papers of the datasets during the generation stage.
The {query} and {note} correspond to the original query <math alttext="q" class="ltx_Math" display="inline" id="A2.p2.1.m1.1"><semantics id="A2.p2.1.m1.1a"><mi id="A2.p2.1.m1.1.1" xref="A2.p2.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="A2.p2.1.m1.1b"><ci id="A2.p2.1.m1.1.1.cmml" xref="A2.p2.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p2.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="A2.p2.1.m1.1d">italic_q</annotation></semantics></math> and the content in the optimal memory <math alttext="M_{opt}" class="ltx_Math" display="inline" id="A2.p2.2.m2.1"><semantics id="A2.p2.2.m2.1a"><msub id="A2.p2.2.m2.1.1" xref="A2.p2.2.m2.1.1.cmml"><mi id="A2.p2.2.m2.1.1.2" xref="A2.p2.2.m2.1.1.2.cmml">M</mi><mrow id="A2.p2.2.m2.1.1.3" xref="A2.p2.2.m2.1.1.3.cmml"><mi id="A2.p2.2.m2.1.1.3.2" xref="A2.p2.2.m2.1.1.3.2.cmml">o</mi><mo id="A2.p2.2.m2.1.1.3.1" xref="A2.p2.2.m2.1.1.3.1.cmml">â¢</mo><mi id="A2.p2.2.m2.1.1.3.3" xref="A2.p2.2.m2.1.1.3.3.cmml">p</mi><mo id="A2.p2.2.m2.1.1.3.1a" xref="A2.p2.2.m2.1.1.3.1.cmml">â¢</mo><mi id="A2.p2.2.m2.1.1.3.4" xref="A2.p2.2.m2.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A2.p2.2.m2.1b"><apply id="A2.p2.2.m2.1.1.cmml" xref="A2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="A2.p2.2.m2.1.1.1.cmml" xref="A2.p2.2.m2.1.1">subscript</csymbol><ci id="A2.p2.2.m2.1.1.2.cmml" xref="A2.p2.2.m2.1.1.2">ğ‘€</ci><apply id="A2.p2.2.m2.1.1.3.cmml" xref="A2.p2.2.m2.1.1.3"><times id="A2.p2.2.m2.1.1.3.1.cmml" xref="A2.p2.2.m2.1.1.3.1"></times><ci id="A2.p2.2.m2.1.1.3.2.cmml" xref="A2.p2.2.m2.1.1.3.2">ğ‘œ</ci><ci id="A2.p2.2.m2.1.1.3.3.cmml" xref="A2.p2.2.m2.1.1.3.3">ğ‘</ci><ci id="A2.p2.2.m2.1.1.3.4.cmml" xref="A2.p2.2.m2.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p2.2.m2.1c">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="A2.p2.2.m2.1d">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math> after the iteration, respectively.
Specifically, in ASQA, since our work does not involve outputting citations, we discard this function from the author-provided prompt to more clearly assess the capabilities of our method. Furthermore, we use the aligned generator prompt across all baselines in our experiments, ensuring the fairness of our results.
For CRUD, we provide English translations of the Chinese prompts where we remove the exemplars for few-shot ICL from the original paper and use a zero-shot setting. We align this setting across all baselines in our experiments.
For multi-hop QA, we select the basic prompt. Since they tend to produce relatively concise outputs, we provide brief guidance on the output style.</p>
</div>
<div class="ltx_para" id="A2.p3">
<p class="ltx_p" id="A2.p3.1">Overall, the prompts in our core components are versatile across various tasks, ensuring stable information collection and adaptive strategies based on the note, leading to high-quality and relevant knowledge with minimal noise. In addition, the task-oriented prompts used by our generator ensure that our RAG system can produce responses in different styles during the final generation stage.</p>
</div>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Appendix C: Experimental Setup Details</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">We further supplement some experimental settings of CRUD.
First, for CRUD, we use a dense retriever with bge-base-zh-v1.5. Second, we evaluate using the sampled QA task dataset version released by CRUD, which includes a total of 2,400 QA samples. For its metrics,
we need to clarify that the precision and recall metrics provided in the RAGQuestEval evaluation framework by the authors actually correspond to the token-level F1-score (T-F1) and question-level recall (Q-R) in more general terms. Therefore, in our evaluation metrics, T-F1 and Q-R correspond to precision and recall in the original paper, respectively. Our other two metrics, T-R and T-P, are intermediate variables used to calculate T-F1 and represent token-level recall and token-level precision, respectively. We fully follow the evaluation methodology outlined in the CRUD.</p>
</div>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Appendix D: Case Study</h2>
<div class="ltx_para" id="A4.p1">
<p class="ltx_p" id="A4.p1.1">TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2410.08821v1#A4.T5" title="Table A5 â€£ Appendix D Appendix D: Case Study â€£ Retriever-and-Memory: Towards Adaptive Note-Enhanced Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A5</span></a> shows a question-answering example from HotpotQA. We present the specific reasoning process of Adaptive-Note and compare its answers with those of other baselines. In this example, we observe that other methods fail to answer the question because they do not uncover the number â€œ<span class="ltx_text ltx_font_bold" id="A4.p1.1.1">5024</span>â€. In contrast, the Adaptive-Note can explore the question more deeply and adaptively decide whether further retrieval is needed to update the note from the view of knowledge growth. Moreover, the note updating process remains stable, meaning that the incorporation of new information does not lead to the loss of existing valuable information or cause confusion.</p>
</div>
<figure class="ltx_table" id="A4.T1">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_table ltx_figure_panel ltx_align_center" id="A4.T1.st1">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A4.T1.st1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A4.T1.st1.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T1.st1.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="A4.T1.st1.1.1.1.1">top-<math alttext="\bm{k}" class="ltx_Math" display="inline" id="A4.T1.st1.1.1.1.1.1.m1.1"><semantics id="A4.T1.st1.1.1.1.1.1.m1.1a"><mi id="A4.T1.st1.1.1.1.1.1.m1.1.1" xref="A4.T1.st1.1.1.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T1.st1.1.1.1.1.1.m1.1b"><ci id="A4.T1.st1.1.1.1.1.1.m1.1.1.cmml" xref="A4.T1.st1.1.1.1.1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T1.st1.1.1.1.1.1.m1.1c">\bm{k}</annotation><annotation encoding="application/x-llamapun" id="A4.T1.st1.1.1.1.1.1.m1.1d">bold_italic_k</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="A4.T1.st1.1.1.2">ASQA</td>
</tr>
<tr class="ltx_tr" id="A4.T1.st1.1.2.1">
<td class="ltx_td ltx_align_center" id="A4.T1.st1.1.2.1.1">(str-em)</td>
<td class="ltx_td ltx_align_center" id="A4.T1.st1.1.2.1.2">(str-hit)</td>
</tr>
<tr class="ltx_tr" id="A4.T1.st1.1.3.2" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="3" id="A4.T1.st1.1.3.2.1"><span class="ltx_text ltx_font_bold" id="A4.T1.st1.1.3.2.1.1" style="background-color:#E6E6E6;">Vanilla</span></td>
</tr>
<tr class="ltx_tr" id="A4.T1.st1.1.4.3">
<td class="ltx_td ltx_align_center" id="A4.T1.st1.1.4.3.1">top-5</td>
<td class="ltx_td ltx_align_center" id="A4.T1.st1.1.4.3.2">43.4</td>
<td class="ltx_td ltx_align_center" id="A4.T1.st1.1.4.3.3">18.2</td>
</tr>
<tr class="ltx_tr" id="A4.T1.st1.1.5.4">
<td class="ltx_td ltx_align_center" id="A4.T1.st1.1.5.4.1">top-7</td>
<td class="ltx_td ltx_align_center" id="A4.T1.st1.1.5.4.2">44.6</td>
<td class="ltx_td ltx_align_center" id="A4.T1.st1.1.5.4.3">18.8</td>
</tr>
<tr class="ltx_tr" id="A4.T1.st1.1.6.5">
<td class="ltx_td ltx_align_center" id="A4.T1.st1.1.6.5.1">top-10</td>
<td class="ltx_td ltx_align_center" id="A4.T1.st1.1.6.5.2">45.7</td>
<td class="ltx_td ltx_align_center" id="A4.T1.st1.1.6.5.3">19.9</td>
</tr>
<tr class="ltx_tr" id="A4.T1.st1.1.7.6" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="3" id="A4.T1.st1.1.7.6.1"><span class="ltx_text ltx_font_bold" id="A4.T1.st1.1.7.6.1.1" style="background-color:#E6E6E6;">Ours</span></td>
</tr>
<tr class="ltx_tr" id="A4.T1.st1.1.8.7">
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T1.st1.1.8.7.1">top-5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T1.st1.1.8.7.2"><span class="ltx_text ltx_font_bold" id="A4.T1.st1.1.8.7.2.1">47.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T1.st1.1.8.7.3"><span class="ltx_text ltx_font_bold" id="A4.T1.st1.1.8.7.3.1">22.0</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">(a) </span>Results of ASQA.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_table ltx_figure_panel ltx_align_center" id="A4.T1.st2">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A4.T1.st2.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A4.T1.st2.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T1.st2.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="A4.T1.st2.1.1.1.1">top-<math alttext="\bm{k}" class="ltx_Math" display="inline" id="A4.T1.st2.1.1.1.1.1.m1.1"><semantics id="A4.T1.st2.1.1.1.1.1.m1.1a"><mi id="A4.T1.st2.1.1.1.1.1.m1.1.1" xref="A4.T1.st2.1.1.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T1.st2.1.1.1.1.1.m1.1b"><ci id="A4.T1.st2.1.1.1.1.1.m1.1.1.cmml" xref="A4.T1.st2.1.1.1.1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T1.st2.1.1.1.1.1.m1.1c">\bm{k}</annotation><annotation encoding="application/x-llamapun" id="A4.T1.st2.1.1.1.1.1.m1.1d">bold_italic_k</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="A4.T1.st2.1.1.2">CRUD</td>
</tr>
<tr class="ltx_tr" id="A4.T1.st2.1.2.1">
<td class="ltx_td ltx_align_center" id="A4.T1.st2.1.2.1.1">(Q-R)</td>
<td class="ltx_td ltx_align_center" id="A4.T1.st2.1.2.1.2">(T-F1)</td>
</tr>
<tr class="ltx_tr" id="A4.T1.st2.1.3.2" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="3" id="A4.T1.st2.1.3.2.1"><span class="ltx_text ltx_font_bold" id="A4.T1.st2.1.3.2.1.1" style="background-color:#E6E6E6;">Vanilla</span></td>
</tr>
<tr class="ltx_tr" id="A4.T1.st2.1.4.3">
<td class="ltx_td ltx_align_center" id="A4.T1.st2.1.4.3.1">top-2</td>
<td class="ltx_td ltx_align_center" id="A4.T1.st2.1.4.3.2">79.7</td>
<td class="ltx_td ltx_align_center" id="A4.T1.st2.1.4.3.3">35.2</td>
</tr>
<tr class="ltx_tr" id="A4.T1.st2.1.5.4">
<td class="ltx_td ltx_align_center" id="A4.T1.st2.1.5.4.1">top-3</td>
<td class="ltx_td ltx_align_center" id="A4.T1.st2.1.5.4.2">82.5</td>
<td class="ltx_td ltx_align_center" id="A4.T1.st2.1.5.4.3">35.2</td>
</tr>
<tr class="ltx_tr" id="A4.T1.st2.1.6.5" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="3" id="A4.T1.st2.1.6.5.1"><span class="ltx_text ltx_font_bold" id="A4.T1.st2.1.6.5.1.1" style="background-color:#E6E6E6;">Ours</span></td>
</tr>
<tr class="ltx_tr" id="A4.T1.st2.1.7.6">
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T1.st2.1.7.6.1">top-2</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T1.st2.1.7.6.2"><span class="ltx_text ltx_font_bold" id="A4.T1.st2.1.7.6.2.1">82.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T1.st2.1.7.6.3"><span class="ltx_text ltx_font_bold" id="A4.T1.st2.1.7.6.3.1">36.6</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">(b) </span>Results of CRUD.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table A1: </span>Results (%) of an in-depth comparison under a fair top-<math alttext="k" class="ltx_Math" display="inline" id="A4.T1.2.m1.1"><semantics id="A4.T1.2.m1.1b"><mi id="A4.T1.2.m1.1.1" xref="A4.T1.2.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T1.2.m1.1c"><ci id="A4.T1.2.m1.1.1.cmml" xref="A4.T1.2.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T1.2.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="A4.T1.2.m1.1e">italic_k</annotation></semantics></math> across long-form QA datasets.</figcaption>
</figure>
<figure class="ltx_table" id="A4.T2">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_table ltx_figure_panel ltx_align_center" id="A4.T2.st1">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A4.T2.st1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A4.T2.st1.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T2.st1.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="A4.T2.st1.1.1.1.1">top-<math alttext="\bm{k}" class="ltx_Math" display="inline" id="A4.T2.st1.1.1.1.1.1.m1.1"><semantics id="A4.T2.st1.1.1.1.1.1.m1.1a"><mi id="A4.T2.st1.1.1.1.1.1.m1.1.1" xref="A4.T2.st1.1.1.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T2.st1.1.1.1.1.1.m1.1b"><ci id="A4.T2.st1.1.1.1.1.1.m1.1.1.cmml" xref="A4.T2.st1.1.1.1.1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T2.st1.1.1.1.1.1.m1.1c">\bm{k}</annotation><annotation encoding="application/x-llamapun" id="A4.T2.st1.1.1.1.1.1.m1.1d">bold_italic_k</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="A4.T2.st1.1.1.2">HotpotQA</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st1.1.2.1">
<td class="ltx_td ltx_align_center" id="A4.T2.st1.1.2.1.1">(f1)</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st1.1.2.1.2">(em)</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st1.1.3.2" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="3" id="A4.T2.st1.1.3.2.1"><span class="ltx_text ltx_font_bold" id="A4.T2.st1.1.3.2.1.1" style="background-color:#E6E6E6;">Vanilla</span></td>
</tr>
<tr class="ltx_tr" id="A4.T2.st1.1.4.3">
<td class="ltx_td ltx_align_center" id="A4.T2.st1.1.4.3.1">top-5</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st1.1.4.3.2">49.6</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st1.1.4.3.3">38.0</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st1.1.5.4">
<td class="ltx_td ltx_align_center" id="A4.T2.st1.1.5.4.1">top-7</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st1.1.5.4.2">50.4</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st1.1.5.4.3">39.0</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st1.1.6.5">
<td class="ltx_td ltx_align_center" id="A4.T2.st1.1.6.5.1">top-10</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st1.1.6.5.2">50.8</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st1.1.6.5.3">38.8</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st1.1.7.6" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="3" id="A4.T2.st1.1.7.6.1"><span class="ltx_text ltx_font_bold" id="A4.T2.st1.1.7.6.1.1" style="background-color:#E6E6E6;">Ours</span></td>
</tr>
<tr class="ltx_tr" id="A4.T2.st1.1.8.7">
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T2.st1.1.8.7.1">top-5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T2.st1.1.8.7.2"><span class="ltx_text ltx_font_bold" id="A4.T2.st1.1.8.7.2.1">58.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T2.st1.1.8.7.3"><span class="ltx_text ltx_font_bold" id="A4.T2.st1.1.8.7.3.1">45.6</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">(a) </span>Results of HotpotQA.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_table ltx_figure_panel ltx_align_center" id="A4.T2.st2">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A4.T2.st2.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A4.T2.st2.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T2.st2.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="A4.T2.st2.1.1.1.1">top-<math alttext="\bm{k}" class="ltx_Math" display="inline" id="A4.T2.st2.1.1.1.1.1.m1.1"><semantics id="A4.T2.st2.1.1.1.1.1.m1.1a"><mi id="A4.T2.st2.1.1.1.1.1.m1.1.1" xref="A4.T2.st2.1.1.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T2.st2.1.1.1.1.1.m1.1b"><ci id="A4.T2.st2.1.1.1.1.1.m1.1.1.cmml" xref="A4.T2.st2.1.1.1.1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T2.st2.1.1.1.1.1.m1.1c">\bm{k}</annotation><annotation encoding="application/x-llamapun" id="A4.T2.st2.1.1.1.1.1.m1.1d">bold_italic_k</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="A4.T2.st2.1.1.2">2WikiMQA</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st2.1.2.1">
<td class="ltx_td ltx_align_center" id="A4.T2.st2.1.2.1.1">(f1)</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st2.1.2.1.2">(em)</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st2.1.3.2" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="3" id="A4.T2.st2.1.3.2.1"><span class="ltx_text ltx_font_bold" id="A4.T2.st2.1.3.2.1.1" style="background-color:#E6E6E6;">Vanilla</span></td>
</tr>
<tr class="ltx_tr" id="A4.T2.st2.1.4.3">
<td class="ltx_td ltx_align_center" id="A4.T2.st2.1.4.3.1">top-5</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st2.1.4.3.2">42.0</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st2.1.4.3.3">36.2</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st2.1.5.4">
<td class="ltx_td ltx_align_center" id="A4.T2.st2.1.5.4.1">top-7</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st2.1.5.4.2">42.5</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st2.1.5.4.3">36.8</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st2.1.6.5">
<td class="ltx_td ltx_align_center" id="A4.T2.st2.1.6.5.1">top-9</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st2.1.6.5.2">43.1</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st2.1.6.5.3">37.8</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st2.1.7.6" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="3" id="A4.T2.st2.1.7.6.1"><span class="ltx_text ltx_font_bold" id="A4.T2.st2.1.7.6.1.1" style="background-color:#E6E6E6;">Ours</span></td>
</tr>
<tr class="ltx_tr" id="A4.T2.st2.1.8.7">
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T2.st2.1.8.7.1">top-5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T2.st2.1.8.7.2"><span class="ltx_text ltx_font_bold" id="A4.T2.st2.1.8.7.2.1">54.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T2.st2.1.8.7.3"><span class="ltx_text ltx_font_bold" id="A4.T2.st2.1.8.7.3.1">43.2</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">(b) </span>Results of 2WikiMQA.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_table ltx_figure_panel ltx_align_center" id="A4.T2.st3">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A4.T2.st3.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A4.T2.st3.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T2.st3.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="A4.T2.st3.1.1.1.1">top-<math alttext="\bm{k}" class="ltx_Math" display="inline" id="A4.T2.st3.1.1.1.1.1.m1.1"><semantics id="A4.T2.st3.1.1.1.1.1.m1.1a"><mi id="A4.T2.st3.1.1.1.1.1.m1.1.1" xref="A4.T2.st3.1.1.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T2.st3.1.1.1.1.1.m1.1b"><ci id="A4.T2.st3.1.1.1.1.1.m1.1.1.cmml" xref="A4.T2.st3.1.1.1.1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T2.st3.1.1.1.1.1.m1.1c">\bm{k}</annotation><annotation encoding="application/x-llamapun" id="A4.T2.st3.1.1.1.1.1.m1.1d">bold_italic_k</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="A4.T2.st3.1.1.2">MuSiQue</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st3.1.2.1">
<td class="ltx_td ltx_align_center" id="A4.T2.st3.1.2.1.1">(f1)</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st3.1.2.1.2">(em)</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st3.1.3.2" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="3" id="A4.T2.st3.1.3.2.1"><span class="ltx_text ltx_font_bold" id="A4.T2.st3.1.3.2.1.1" style="background-color:#E6E6E6;">Vanilla</span></td>
</tr>
<tr class="ltx_tr" id="A4.T2.st3.1.4.3">
<td class="ltx_td ltx_align_center" id="A4.T2.st3.1.4.3.1">top-5</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st3.1.4.3.2">16.8</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st3.1.4.3.3">8.4</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st3.1.5.4">
<td class="ltx_td ltx_align_center" id="A4.T2.st3.1.5.4.1">top-7</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st3.1.5.4.2">17.7</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st3.1.5.4.3">8.8</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st3.1.6.5">
<td class="ltx_td ltx_align_center" id="A4.T2.st3.1.6.5.1">top-10</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st3.1.6.5.2">18.6</td>
<td class="ltx_td ltx_align_center" id="A4.T2.st3.1.6.5.3">9.8</td>
</tr>
<tr class="ltx_tr" id="A4.T2.st3.1.7.6" style="background-color:#E6E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="3" id="A4.T2.st3.1.7.6.1"><span class="ltx_text ltx_font_bold" id="A4.T2.st3.1.7.6.1.1" style="background-color:#E6E6E6;">Ours</span></td>
</tr>
<tr class="ltx_tr" id="A4.T2.st3.1.8.7">
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T2.st3.1.8.7.1">top-5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T2.st3.1.8.7.2"><span class="ltx_text ltx_font_bold" id="A4.T2.st3.1.8.7.2.1">24.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A4.T2.st3.1.8.7.3"><span class="ltx_text ltx_font_bold" id="A4.T2.st3.1.8.7.3.1">13.2</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">(c) </span>Results of MuSiQue.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table A2: </span>Results (%) of an in-depth comparison under a fair top-<math alttext="k" class="ltx_Math" display="inline" id="A4.T2.2.m1.1"><semantics id="A4.T2.2.m1.1b"><mi id="A4.T2.2.m1.1.1" xref="A4.T2.2.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T2.2.m1.1c"><ci id="A4.T2.2.m1.1.1.cmml" xref="A4.T2.2.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T2.2.m1.1d">k</annotation><annotation encoding="application/x-llamapun" id="A4.T2.2.m1.1e">italic_k</annotation></semantics></math> across multi-hop QA datasets.</figcaption>
</figure>
<figure class="ltx_table" id="A4.T3">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A4.T3.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A4.T3.1.1.1">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A4.T3.1.1.1.1" style="background-color:#F2F2F2;"><span class="ltx_text ltx_font_bold" id="A4.T3.1.1.1.1.1" style="background-color:#F2F2F2;">Prompt of the Note Initialization Stage</span></td>
</tr>
<tr class="ltx_tr" id="A4.T3.1.2.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A4.T3.1.2.2.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T3.1.2.2.1.1">
<span class="ltx_p" id="A4.T3.1.2.2.1.1.1" style="width:455.2pt;"><span class="ltx_text ltx_font_bold" id="A4.T3.1.2.2.1.1.1.1">Instruction:</span>
<br class="ltx_break"/>
Based on the provided document content, write a note. The note should integrate all relevant information from the original text that can help answer the specified question and form a coherent paragraph. Please ensure that the note includes all original text information useful for answering the question.

<br class="ltx_break"/>
<br class="ltx_break"/>
Question to be answered: {query}

<br class="ltx_break"/>
Document content: {refs}

<br class="ltx_break"/>
<br class="ltx_break"/>
Please provide the note you wrote:

<br class="ltx_break"/></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T3.1.3.3">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A4.T3.1.3.3.1" style="background-color:#F2F2F2;"><span class="ltx_text ltx_font_bold" id="A4.T3.1.3.3.1.1" style="background-color:#F2F2F2;">Prompt of the Iterative Information Collection Stage</span></td>
</tr>
<tr class="ltx_tr" id="A4.T3.1.4.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A4.T3.1.4.4.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T3.1.4.4.1.1">
<span class="ltx_p" id="A4.T3.1.4.4.1.1.1" style="width:455.2pt;"><span class="ltx_text ltx_font_bold" id="A4.T3.1.4.4.1.1.1.1">Instruction:</span>
<br class="ltx_break"/>
Task: Based on the notes, propose two new questions. These new questions will be used to retrieve documents to supplement the notes and help answer the original question. The new questions should be concise and include keywords that facilitate retrieval. The new questions should avoid duplication with the existing question list.

<br class="ltx_break"/>
<br class="ltx_break"/>
Original question: {query}

<br class="ltx_break"/>
Notes: {note}

<br class="ltx_break"/>
Existing question list: {query_log}

<br class="ltx_break"/>
<br class="ltx_break"/>
Provide your two new questions:

<br class="ltx_break"/></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T3.1.5.5">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A4.T3.1.5.5.1" style="background-color:#F2F2F2;"><span class="ltx_text ltx_font_bold" id="A4.T3.1.5.5.1.1" style="background-color:#F2F2F2;">Prompt of the Note Updating Stage</span></td>
</tr>
<tr class="ltx_tr" id="A4.T3.1.6.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A4.T3.1.6.6.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T3.1.6.6.1.1">
<span class="ltx_p" id="A4.T3.1.6.6.1.1.1" style="width:455.2pt;"><span class="ltx_text ltx_font_bold" id="A4.T3.1.6.6.1.1.1.1">Instruction:</span>
<br class="ltx_break"/>
Task: Based on the retrieved documents, supplement the notes with content not yet included but useful for answering the question. The supplement should use the original text from the retrieved documents. The added content should include as much information from the retrieved documents as possible.

<br class="ltx_break"/>
<br class="ltx_break"/>
Question: {query}

<br class="ltx_break"/>
Retrieved documents: {refs}

<br class="ltx_break"/>
Notes: {note}

<br class="ltx_break"/>
<br class="ltx_break"/>
Provide your supplemented notes:

<br class="ltx_break"/></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T3.1.7.7">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A4.T3.1.7.7.1" style="background-color:#F2F2F2;"><span class="ltx_text ltx_font_bold" id="A4.T3.1.7.7.1.1" style="background-color:#F2F2F2;">Prompt of the Tigger1 of AMR</span></td>
</tr>
<tr class="ltx_tr" id="A4.T3.1.8.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r" id="A4.T3.1.8.8.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T3.1.8.8.1.1">
<span class="ltx_p" id="A4.T3.1.8.8.1.1.1" style="width:455.2pt;"><span class="ltx_text ltx_font_bold" id="A4.T3.1.8.8.1.1.1.1">Instruction:</span>
<br class="ltx_break"/>
Task: Please help me determine which note is better based on the following evaluation criteria:

<br class="ltx_break"/>
1. Contains key information directly related to the question.

<br class="ltx_break"/>
2. Completeness of Information: Does it cover all relevant aspects and details?

<br class="ltx_break"/>
3. Level of Detail: Does it provide enough detail to understand the issue in depth?

<br class="ltx_break"/>
4. Practicality: Does the note offer practical help and solutions?

<br class="ltx_break"/>
Please make your judgment adhering strictly to the following rules:

<br class="ltx_break"/>
- If Note 2 does not add new meaningful content on top of Note 1, or only adds redundant information, return
{â€œstatusâ€: â€œFalseâ€}
directly.

<br class="ltx_break"/>
- If Note 2 has significant improvements over Note 1 based on the above criteria, return
{â€œstatusâ€: â€œTrueâ€}
directly; otherwise, return
{â€œstatusâ€: â€œFalseâ€}
.

<br class="ltx_break"/>
<br class="ltx_break"/>
Question: {query}

<br class="ltx_break"/>
Provided Note 1: {best_note}

<br class="ltx_break"/>
Provided Note 2: {new_note}

<br class="ltx_break"/>
<br class="ltx_break"/>
Based on the above information, make your judgment without explanation and return the result directly.

<br class="ltx_break"/></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table A3: </span>All prompts of IIC and AMR.</figcaption>
</figure>
<figure class="ltx_table" id="A4.T4">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A4.T4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A4.T4.1.1.1">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" id="A4.T4.1.1.1.1" style="background-color:#F2F2F2;"><span class="ltx_text ltx_font_bold" id="A4.T4.1.1.1.1.1" style="background-color:#F2F2F2;">Prompts of the Task-Oriented Generator (Different Datasets)</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A4.T4.1.2.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A4.T4.1.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T4.1.2.1.1.1">
<span class="ltx_p" id="A4.T4.1.2.1.1.1.1" style="width:455.2pt;"><span class="ltx_text ltx_font_bold" id="A4.T4.1.2.1.1.1.1.1">Instruction:</span> (Multi-hop QA)

<br class="ltx_break"/>
Answer the question based on the given note. Only give me the answer and do not output any other words.

<br class="ltx_break"/>
<br class="ltx_break"/>
The following are given notes: {note}

<br class="ltx_break"/>
Question: {query}

<br class="ltx_break"/>
<br class="ltx_break"/>
Answer:

<br class="ltx_break"/></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T4.1.3.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A4.T4.1.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T4.1.3.2.1.1">
<span class="ltx_p" id="A4.T4.1.3.2.1.1.1" style="width:455.2pt;"><span class="ltx_ERROR undefined" id="A4.T4.1.3.2.1.1.1.1">\hdashline</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T4.1.4.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A4.T4.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T4.1.4.3.1.1">
<span class="ltx_p" id="A4.T4.1.4.3.1.1.1" style="width:455.2pt;"><span class="ltx_text ltx_font_bold" id="A4.T4.1.4.3.1.1.1.1">Instruction:</span> (ASQA)

<br class="ltx_break"/>
Write an accurate, engaging, and concise answer for the given question using only the provided notes. Use an unbiased and journalistic tone.

<br class="ltx_break"/>
<br class="ltx_break"/>
Question: {query}

<br class="ltx_break"/>
Notes: {note}

<br class="ltx_break"/>
<br class="ltx_break"/>
Answer:

<br class="ltx_break"/></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T4.1.5.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A4.T4.1.5.4.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T4.1.5.4.1.1">
<span class="ltx_p" id="A4.T4.1.5.4.1.1.1" style="width:455.2pt;"><span class="ltx_ERROR undefined" id="A4.T4.1.5.4.1.1.1.1">\hdashline</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T4.1.6.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r" id="A4.T4.1.6.5.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T4.1.6.5.1.1">
<span class="ltx_p" id="A4.T4.1.6.5.1.1.1" style="width:455.2pt;"><span class="ltx_text ltx_font_bold" id="A4.T4.1.6.5.1.1.1.1">Instruction:</span> (CRUD in English translation version)

<br class="ltx_break"/>
You are a news editor, and now you have been provided with one question and notes related to the question. Please answer these questions based on your notes and your own knowledge.

<br class="ltx_break"/>
<br class="ltx_break"/>
Question: {query}

<br class="ltx_break"/>
Notes related to the query: {note}

<br class="ltx_break"/>
<br class="ltx_break"/>
Answer:

<br class="ltx_break"/></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table A4: </span>All prompts of task-oriented generator.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
<figure class="ltx_table" id="A4.T5">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A4.T5.3">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A4.T5.3.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A4.T5.3.1.1.1"><span class="ltx_text ltx_font_bold" id="A4.T5.3.1.1.1.1">Question: What was the 2010 population of the town where Lake George Avenue Historic District is located?</span></td>
</tr>
<tr class="ltx_tr" id="A4.T5.3.2.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T5.3.2.2.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T5.3.2.2.1.1">
<span class="ltx_p" id="A4.T5.3.2.2.1.1.1" style="width:480.0pt;">
<span class="ltx_text ltx_font_bold" id="A4.T5.3.2.2.1.1.1.1">Process of Adaptive-Note:</span>
<br class="ltx_break"/>
â˜ â€‰ <span class="ltx_text ltx_font_bold" id="A4.T5.3.2.2.1.1.1.2">Init note:</span>
The 2010 population of the town where Lake George Avenue Historic District is located is not explicitly mentioned in the provided document. However, it is stated that <span class="ltx_text ltx_font_bold" id="A4.T5.3.2.2.1.1.1.3">Lake George Avenue Historic District is located in Ticonderoga, Essex County, New York</span>, and contains 20 contributing buildings on 14 properties. The document provides detailed information about the historic buildings in the district, but the specific population of the town is not included in the text.

<br class="ltx_break"/>
â˜ â€‰ <span class="ltx_text ltx_font_bold" id="A4.T5.3.2.2.1.1.1.4">New queries:</span>
1. What is the population of Ticonderoga, Essex County, New York in the year 2010?
2. Are there any demographic reports or census data available for Ticonderoga, Essex County, New York in 2010 that could provide information on the townâ€™s population?

<br class="ltx_break"/>
â˜â˜ <span class="ltx_text ltx_font_bold" id="A4.T5.3.2.2.1.1.1.5">Updated note:</span>
Based on the retrieved documents, the 2010 population of the town where Lake George Avenue Historic District is located is <span class="ltx_text ltx_font_bold" id="A4.T5.3.2.2.1.1.1.6">5,042</span>. This town is Ticonderoga, located in Essex County, New York. The Lake George Avenue Historic District is a national historic district within Ticonderoga, containing 20 contributing buildings on 14 properties, including houses and garages built between 1919 and 1921 by W.A. Gale for the Ticonderoga Pulp and Paper Company. The houses in the district share a common American Craftsman influenced bungalow style. Additionally, Gale also constructed houses in the Amherst Avenue Historic District. âœ <span class="ltx_text ltx_font_bold" id="A4.T5.3.2.2.1.1.1.7">[Knowledge growth: True]</span> âœ <span class="ltx_text ltx_font_bold" id="A4.T5.3.2.2.1.1.1.8">[Optimal Memory]</span>
<br class="ltx_break"/>
â˜ â€‰ <span class="ltx_text ltx_font_bold" id="A4.T5.3.2.2.1.1.1.9">New queries:</span>
1. What is the significance of the American Craftsman influenced bungalow style in the houses within the Lake George Avenue Historic District in Ticonderoga? 2. Can additional information be found on the houses constructed by W.A. Gale for the Ticonderoga Pulp and Paper Company in the Lake George Avenue Historic District, such as architectural details or historical background?

<br class="ltx_break"/>
â˜ â€‰ <span class="ltx_text ltx_font_bold" id="A4.T5.3.2.2.1.1.1.10">Updated note:</span>
Based on the retrieved documents, the 2010 population of the town where Lake George Avenue Historic District is located is 5,042. Ticonderoga is located in Essex County, New York. The Lake George Avenue Historic District is a national historic district within Ticonderoga, containing 20 contributing buildings on 14 properties, including houses and garages built between 1919 and 1921 by W.A. Gale for the Ticonderoga Pulp and Paper Company. The houses in the district share a common American Craftsman influenced bungalow style. Gale also constructed houses in the Amherst Avenue Historic District, which is another national historic district in Ticonderoga. âœ <span class="ltx_text ltx_font_bold" id="A4.T5.3.2.2.1.1.1.11">[Knowledge growth: False]</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T5.3.3.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T5.3.3.3.1">
<span class="ltx_text ltx_font_bold" id="A4.T5.3.3.3.1.1">Vanilla RAG</span>: 366 âœ—</td>
</tr>
<tr class="ltx_tr" id="A4.T5.3.4.4">
<td class="ltx_td ltx_align_left" id="A4.T5.3.4.4.1">
<span class="ltx_text ltx_font_bold" id="A4.T5.3.4.4.1.1">Chain-of-Note</span>: The answer is not available in the passages provided. âœ—</td>
</tr>
<tr class="ltx_tr" id="A4.T5.3.5.5">
<td class="ltx_td ltx_align_left" id="A4.T5.3.5.5.1">
<span class="ltx_text ltx_font_bold" id="A4.T5.3.5.5.1.1">Self-RAG</span>: Cannot determine. âœ—</td>
</tr>
<tr class="ltx_tr" id="A4.T5.3.6.6">
<td class="ltx_td ltx_align_left" id="A4.T5.3.6.6.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T5.3.6.6.1.1">
<span class="ltx_p" id="A4.T5.3.6.6.1.1.1" style="width:480.0pt;">
<span class="ltx_text ltx_font_bold" id="A4.T5.3.6.6.1.1.1.1">FLARE</span>: Iâ€™m sorry, but based on the search results provided, there is no information available regarding the 2010 population of the town where Lake George Avenue Historic District is located. Iâ€™m sorry, but based on the search results provided, there is no information available regarding the 2010 population of the town where Lake George. âœ—</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T5.3.7.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T5.3.7.7.1">
<span class="ltx_text ltx_font_bold" id="A4.T5.3.7.7.1.1">Answer of Adaptive-Note</span>: 5,042 âœ“</td>
</tr>
<tr class="ltx_tr" id="A4.T5.3.8.8">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A4.T5.3.8.8.1">
<span class="ltx_text ltx_font_bold" id="A4.T5.3.8.8.1.1">Golden Answer</span>: 5,042 âœ“</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table A5: </span>A question-answering example of our Adaptive-Note. <span class="ltx_text ltx_font_bold" id="A4.T5.5.1">The bold snippets</span> are question-relevant information. The correct answer is labeled â€œâœ“â€, while wrong answer labeled â€œâœ—â€. The symbol â€œâ˜â˜â€ indicates which note is stored in the best memory <math alttext="M_{opt}" class="ltx_Math" display="inline" id="A4.T5.2.m1.1"><semantics id="A4.T5.2.m1.1b"><msub id="A4.T5.2.m1.1.1" xref="A4.T5.2.m1.1.1.cmml"><mi id="A4.T5.2.m1.1.1.2" xref="A4.T5.2.m1.1.1.2.cmml">M</mi><mrow id="A4.T5.2.m1.1.1.3" xref="A4.T5.2.m1.1.1.3.cmml"><mi id="A4.T5.2.m1.1.1.3.2" xref="A4.T5.2.m1.1.1.3.2.cmml">o</mi><mo id="A4.T5.2.m1.1.1.3.1" xref="A4.T5.2.m1.1.1.3.1.cmml">â¢</mo><mi id="A4.T5.2.m1.1.1.3.3" xref="A4.T5.2.m1.1.1.3.3.cmml">p</mi><mo id="A4.T5.2.m1.1.1.3.1b" xref="A4.T5.2.m1.1.1.3.1.cmml">â¢</mo><mi id="A4.T5.2.m1.1.1.3.4" xref="A4.T5.2.m1.1.1.3.4.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A4.T5.2.m1.1c"><apply id="A4.T5.2.m1.1.1.cmml" xref="A4.T5.2.m1.1.1"><csymbol cd="ambiguous" id="A4.T5.2.m1.1.1.1.cmml" xref="A4.T5.2.m1.1.1">subscript</csymbol><ci id="A4.T5.2.m1.1.1.2.cmml" xref="A4.T5.2.m1.1.1.2">ğ‘€</ci><apply id="A4.T5.2.m1.1.1.3.cmml" xref="A4.T5.2.m1.1.1.3"><times id="A4.T5.2.m1.1.1.3.1.cmml" xref="A4.T5.2.m1.1.1.3.1"></times><ci id="A4.T5.2.m1.1.1.3.2.cmml" xref="A4.T5.2.m1.1.1.3.2">ğ‘œ</ci><ci id="A4.T5.2.m1.1.1.3.3.cmml" xref="A4.T5.2.m1.1.1.3.3">ğ‘</ci><ci id="A4.T5.2.m1.1.1.3.4.cmml" xref="A4.T5.2.m1.1.1.3.4">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.2.m1.1d">M_{opt}</annotation><annotation encoding="application/x-llamapun" id="A4.T5.2.m1.1e">italic_M start_POSTSUBSCRIPT italic_o italic_p italic_t end_POSTSUBSCRIPT</annotation></semantics></math> for the final answer.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Oct 11 13:02:17 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
