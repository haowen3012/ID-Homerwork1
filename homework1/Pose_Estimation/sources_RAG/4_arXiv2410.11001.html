<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs</title>
<!--Generated on Mon Oct 14 18:26:20 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2410.11001v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S1" title="In Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S2" title="In Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Graph of Records</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S2.SS1" title="In 2 Graph of Records ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Preliminaries</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S2.SS2" title="In 2 Graph of Records ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Graph Construction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S2.SS3" title="In 2 Graph of Records ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>BERTScore-based Objective for Self-supervised Training</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3" title="In Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.SS1" title="In 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Experimental Setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.SS2" title="In 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Main Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.SS3" title="In 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Ablation Study</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.SS4" title="In 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Discussions</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S4" title="In Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S5" title="In Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A1" title="In Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Experimental Details</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A1.SS1" title="In Appendix A Experimental Details ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>Dataset</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A1.SS2" title="In Appendix A Experimental Details ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A1.SS3" title="In Appendix A Experimental Details ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3 </span>Additional Implementation Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A1.SS4" title="In Appendix A Experimental Details ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.4 </span>Additional Experimental Results</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A2" title="In Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>LLM Prompts</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A2.SS1" title="In Appendix B LLM Prompts ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.1 </span>LLM Prompts for User Query Simulation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A2.SS2" title="In Appendix B LLM Prompts ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.2 </span>LLM Prompts for RAG</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A3" title="In Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Broader Impacts</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Haozhen Zhang<sup class="ltx_sup" id="id3.3.id1"><span class="ltx_text ltx_font_italic" id="id3.3.id1.1">1</span></sup>  Tao Feng  Jiaxuan You 
<br class="ltx_break"/>University of Illinois at Urbana-Champaign 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id2.2.1">{haozhenz, taofeng2,jiaxuan}@illinois.edu, <sup class="ltx_sup" id="id2.2.1.1"><span class="ltx_text ltx_font_serif ltx_font_italic" id="id2.2.1.1.1">1</span></sup>wazhz14@gmail.com</span>
<br class="ltx_break"/>
</span><span class="ltx_author_notes">Work done as an intern at University of Illinois at Urbana-Champaign</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id4.id1">Retrieval-augmented generation (RAG) has revitalized Large Language Models (LLMs) by injecting non-parametric factual knowledge.
Compared with long-context LLMs, RAG is considered an effective summarization tool in a more concise and lightweight manner, which can interact with LLMs multiple times using diverse queries to get comprehensive responses.
However, the LLM-generated historical responses, which contain potentially insightful information, are largely neglected and discarded by existing approaches, leading to suboptimal results.
In this paper, we propose <span class="ltx_text ltx_font_italic" id="id4.id1.1">graph of records</span> (<span class="ltx_text ltx_font_bold" id="id4.id1.2">GoR</span>), which leverages historical responses generated by LLMs to enhance RAG for long-context global summarization.
Inspired by the <span class="ltx_text ltx_font_italic" id="id4.id1.3">retrieve-then-generate</span> paradigm of RAG, we construct a graph by establishing an edge between the retrieved text chunks and the corresponding LLM-generated response.
To further uncover the intricate correlations between them, GoR further features a <span class="ltx_text ltx_font_italic" id="id4.id1.4">graph neural network</span> and an elaborately designed <span class="ltx_text ltx_font_italic" id="id4.id1.5">BERTScore</span>-based objective for self-supervised model training, enabling seamless supervision signal backpropagation between reference summaries and node embeddings.
We comprehensively compare GoR with 12 baselines across four long-context summarization datasets, and the results indicate that our proposed method reaches the best performance (<span class="ltx_text ltx_font_italic" id="id4.id1.6">e.g.</span>, 15%, 8%, and 19% improvement over retrievers w.r.t. Rouge-L, Rouge-1, and Rouge-2 on the WCEP dataset).
Extensive experiments further demonstrate the effectiveness of GoR.
Code is available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/ulab-uiuc/GoR" title="">https://github.com/ulab-uiuc/GoR</a></p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para ltx_noindent" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Large Language Models (LLMs) have recently achieved remarkable performance across sorts of language modeling tasks <cite class="ltx_cite ltx_citemacro_cite">Achiam et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib1" title="">2023</a>); AI@Meta (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib2" title="">2024</a>)</cite>.
Among them, the long-context global summarization task is of great importance, which requires ultra-long context understanding capabilities of LLMs <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib24" title="">2024a</a>); Liu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib31" title="">2024b</a>)</cite>.
Current attempts to accomplish this task mainly include long-context LLMs <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib42" title="">2023</a>); GLM et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib10" title="">2024</a>); Li* et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib23" title="">2023</a>); Tworkowski et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib44" title="">2023</a>)</cite> and retrieval-augmented generation (RAG) <cite class="ltx_cite ltx_citemacro_cite">Ram et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib36" title="">2023</a>); Yu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib55" title="">2023</a>); Trivedi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib43" title="">2022</a>); Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib18" title="">2023b</a>); Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib3" title="">2023</a>)</cite>.
In comparison with long-context LLMs that expand their context window to accommodate long-context inputs, RAG performs a cost-effective <span class="ltx_text ltx_font_italic" id="S1.p1.1.1">retrieve-then-generate</span> paradigm and provides a few retrieved short text chunks from a long document to LLMs.
In a running RAG system (Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">1</span></a>), there are usually a large number of historical user queries and LLM-generated responses for a long document.
Nevertheless, these historical responses, which contain informative task-related content, are mostly neglected without sufficient utilization by current RAG approaches.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Unfortunately, utilizing LLM historical responses for long-context global summarization presents two major challenges.
(1) <span class="ltx_text ltx_font_italic" id="S1.p2.1.1">Sophisticated yet implicit correlations between historical responses and text</span>.
Given a long document, there will inevitably be complicated correlations among plentiful user queries (<span class="ltx_text ltx_font_italic" id="S1.p2.1.2">e.g.</span>, logical correlations), which are further inherited by LLM-generated responses and the retrieved text chunks.
However, uncovering these correlations is non-trivial since most text embeddings from language models (<span class="ltx_text ltx_font_italic" id="S1.p2.1.3">e.g.</span>, SBERT <cite class="ltx_cite ltx_citemacro_cite">Reimers &amp; Gurevych (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib38" title="">2019</a>)</cite>) or retrievers <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib19" title="">2020</a>)</cite> concentrate on semantic similarity, which faces degrading performance in this case.
(2) <span class="ltx_text ltx_font_italic" id="S1.p2.1.4">Lack of supervision signal</span>.
In contrast with local (<span class="ltx_text ltx_font_italic" id="S1.p2.1.5">e.g.</span>, query-based) summarization <cite class="ltx_cite ltx_citemacro_cite">Zhong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib58" title="">2021</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib47" title="">2022a</a>)</cite> that includes golden reference text as labels, global summarization needs to be considered from the perspective of the long document as a whole and only has global reference summaries, which makes it difficult to directly backpropagate effective, accurate, and deterministic supervision signals to optimize the model in the direction of a few relevant text chunks.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="185" id="S1.F1.1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span><span class="ltx_text ltx_font_bold" id="S1.F1.3.1">Long document summarization with a RAG system</span>. The RAG system utilizes user queries to retrieve relevant text chunks in documents, which are further fed into LLMs to generate responses back to users. In this process, massive historical responses are not sufficiently utilized.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Based on the above observations, we propose <span class="ltx_text ltx_font_italic" id="S1.p3.1.1">graph of records</span> (<span class="ltx_text ltx_font_bold" id="S1.p3.1.2">GoR</span>), which utilizes and organizes LLM historical responses as a graph of records for enhancing long-context global summarization in RAG.
In detail, we first leverage LLMs to simulate some user queries conditioned on arbitrary text chunks in a long document to obtain historical responses under the paradigm of RAG, and an edge is then created between the retrieved text chunks and the LLM-generated response to construct a graph of records.
To learn fine-grained correlations among nodes, we employ a <span class="ltx_text ltx_font_italic" id="S1.p3.1.3">graph neural network</span> and reuse the simulated user queries with the corresponding source text chunk as self-supervised training data.
Intuitively, we hope the node embeddings can be adaptively learned to reflect the semantic and logical correlations with a given query.
Inspired by the well-received BERTScore <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib56" title="">2019</a>)</cite> that quantifies the semantic similarity between two paragraphs of text, we rely on it to rank the nodes according to their similarity with the self-supervised label of a given simulated query.
In this way, node embeddings can benefit the indirect supervision signal from the self-supervised labels and be flexibly optimized using a contrastive loss and a pair-wise ranking loss based on the node rankings.
In the experiments, we adopt four long-context summarization datasets, and the results demonstrate the superiority and effectiveness of our proposed method.
For example, we show that GoR outperforms retrievers by 15%, 8%, and 19% w.r.t. Rouge-L, Rouge-1, and Rouge-2, respectively, on the WCEP dataset.
We also provide detailed comparisons and insightful analyses through extensive experiments, further showcasing the effectiveness of our approach.
Our contributions are summarized as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We propose <span class="ltx_text ltx_font_italic" id="S1.I1.i1.p1.1.1">graph of records</span> (<span class="ltx_text ltx_font_bold" id="S1.I1.i1.p1.1.2">GoR</span>), which utilizes and organizes LLM-generated historical responses as a graph of records to strengthen RAG for long-context global summarization. We reveal that the fine-grained correlations between LLM historical responses and text chunks from long documents can be uncovered and utilized effectively to improve RAG performance.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We leverage a  <span class="ltx_text ltx_font_italic" id="S1.I1.i2.p1.1.1">graph neural network</span> and design a  <span class="ltx_text ltx_font_italic" id="S1.I1.i2.p1.1.2">BERTScore</span>-based objective to optimize node embeddings, which can be adaptively learned in a self-supervised manner to reflect the semantic and complex correlations with input queries. Furthermore, the indirect supervision signal from self-supervised labels is crucial and conducive to the effective optimization of node embeddings.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para ltx_noindent" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">We evaluate our proposed method on four long-context summarization datasets, and the experimental results show that GoR outperforms several competitive baselines by a significant margin. Extensive experiments and detailed analysis verify the superiority of GoR.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Graph of Records</h2>
<div class="ltx_para ltx_noindent" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">In this section, we first present some necessary backgrounds in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S2.SS1" title="2.1 Preliminaries ‣ 2 Graph of Records ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">2.1</span></a>.
Then, we describe our proposed method sequentially through two sections, <span class="ltx_text ltx_font_italic" id="S2.p1.1.1">i.e.</span>, Graph Construction (Section <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S2.SS2" title="2.2 Graph Construction ‣ 2 Graph of Records ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">2.2</span></a>) and BERTScore-based Objective for Self-supervised Training (Section <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S2.SS3" title="2.3 BERTScore-based Objective for Self-supervised Training ‣ 2 Graph of Records ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">2.3</span></a>).</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Preliminaries</h3>
<div class="ltx_para ltx_noindent" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.11"><span class="ltx_text ltx_font_bold" id="S2.SS1.p1.11.1">Retrieval-augmented Generation</span>.
Retrieval-augmented Generation (RAG) <cite class="ltx_cite ltx_citemacro_cite">Ram et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib36" title="">2023</a>)</cite> can typically be summarized into the following two processes.
(1) <span class="ltx_text ltx_font_italic" id="S2.SS1.p1.11.2">Retrieval</span>.
Give a long document which consists of several split text chunks <math alttext="\mathbf{C}=\{\mathbf{c}_{\mathbf{i}}\}_{i=1}^{|\mathbf{C}|}" class="ltx_Math" display="inline" id="S2.SS1.p1.1.m1.2"><semantics id="S2.SS1.p1.1.m1.2a"><mrow id="S2.SS1.p1.1.m1.2.2" xref="S2.SS1.p1.1.m1.2.2.cmml"><mi id="S2.SS1.p1.1.m1.2.2.3" xref="S2.SS1.p1.1.m1.2.2.3.cmml">𝐂</mi><mo id="S2.SS1.p1.1.m1.2.2.2" xref="S2.SS1.p1.1.m1.2.2.2.cmml">=</mo><msubsup id="S2.SS1.p1.1.m1.2.2.1" xref="S2.SS1.p1.1.m1.2.2.1.cmml"><mrow id="S2.SS1.p1.1.m1.2.2.1.1.1.1" xref="S2.SS1.p1.1.m1.2.2.1.1.1.2.cmml"><mo id="S2.SS1.p1.1.m1.2.2.1.1.1.1.2" stretchy="false" xref="S2.SS1.p1.1.m1.2.2.1.1.1.2.cmml">{</mo><msub id="S2.SS1.p1.1.m1.2.2.1.1.1.1.1" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1.1.cmml"><mi id="S2.SS1.p1.1.m1.2.2.1.1.1.1.1.2" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1.1.2.cmml">𝐜</mi><mi id="S2.SS1.p1.1.m1.2.2.1.1.1.1.1.3" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1.1.3.cmml">𝐢</mi></msub><mo id="S2.SS1.p1.1.m1.2.2.1.1.1.1.3" stretchy="false" xref="S2.SS1.p1.1.m1.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS1.p1.1.m1.2.2.1.1.3" xref="S2.SS1.p1.1.m1.2.2.1.1.3.cmml"><mi id="S2.SS1.p1.1.m1.2.2.1.1.3.2" xref="S2.SS1.p1.1.m1.2.2.1.1.3.2.cmml">i</mi><mo id="S2.SS1.p1.1.m1.2.2.1.1.3.1" xref="S2.SS1.p1.1.m1.2.2.1.1.3.1.cmml">=</mo><mn id="S2.SS1.p1.1.m1.2.2.1.1.3.3" xref="S2.SS1.p1.1.m1.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S2.SS1.p1.1.m1.1.1.1.3" xref="S2.SS1.p1.1.m1.1.1.1.2.cmml"><mo id="S2.SS1.p1.1.m1.1.1.1.3.1" stretchy="false" xref="S2.SS1.p1.1.m1.1.1.1.2.1.cmml">|</mo><mi id="S2.SS1.p1.1.m1.1.1.1.1" xref="S2.SS1.p1.1.m1.1.1.1.1.cmml">𝐂</mi><mo id="S2.SS1.p1.1.m1.1.1.1.3.2" stretchy="false" xref="S2.SS1.p1.1.m1.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.2b"><apply id="S2.SS1.p1.1.m1.2.2.cmml" xref="S2.SS1.p1.1.m1.2.2"><eq id="S2.SS1.p1.1.m1.2.2.2.cmml" xref="S2.SS1.p1.1.m1.2.2.2"></eq><ci id="S2.SS1.p1.1.m1.2.2.3.cmml" xref="S2.SS1.p1.1.m1.2.2.3">𝐂</ci><apply id="S2.SS1.p1.1.m1.2.2.1.cmml" xref="S2.SS1.p1.1.m1.2.2.1"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.2.2.1.2.cmml" xref="S2.SS1.p1.1.m1.2.2.1">superscript</csymbol><apply id="S2.SS1.p1.1.m1.2.2.1.1.cmml" xref="S2.SS1.p1.1.m1.2.2.1"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.2.2.1.1.2.cmml" xref="S2.SS1.p1.1.m1.2.2.1">subscript</csymbol><set id="S2.SS1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1"><apply id="S2.SS1.p1.1.m1.2.2.1.1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1.1.2">𝐜</ci><ci id="S2.SS1.p1.1.m1.2.2.1.1.1.1.1.3.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.1.1.1.3">𝐢</ci></apply></set><apply id="S2.SS1.p1.1.m1.2.2.1.1.3.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.3"><eq id="S2.SS1.p1.1.m1.2.2.1.1.3.1.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.3.1"></eq><ci id="S2.SS1.p1.1.m1.2.2.1.1.3.2.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.3.2">𝑖</ci><cn id="S2.SS1.p1.1.m1.2.2.1.1.3.3.cmml" type="integer" xref="S2.SS1.p1.1.m1.2.2.1.1.3.3">1</cn></apply></apply><apply id="S2.SS1.p1.1.m1.1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.1.1.1.3"><abs id="S2.SS1.p1.1.m1.1.1.1.2.1.cmml" xref="S2.SS1.p1.1.m1.1.1.1.3.1"></abs><ci id="S2.SS1.p1.1.m1.1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1">𝐂</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.2c">\mathbf{C}=\{\mathbf{c}_{\mathbf{i}}\}_{i=1}^{|\mathbf{C}|}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.1.m1.2d">bold_C = { bold_c start_POSTSUBSCRIPT bold_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | bold_C | end_POSTSUPERSCRIPT</annotation></semantics></math> as retrieval corpus, RAG first employs a retriever (<span class="ltx_text ltx_font_italic" id="S2.SS1.p1.11.3">e.g.</span>, Contriever <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib15" title="">2021</a>)</cite>) to retrieve <math alttext="\mathbf{K}" class="ltx_Math" display="inline" id="S2.SS1.p1.2.m2.1"><semantics id="S2.SS1.p1.2.m2.1a"><mi id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml">𝐊</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">𝐊</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">\mathbf{K}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.2.m2.1d">bold_K</annotation></semantics></math> text chunks that are most relevant to a given query <math alttext="\mathbf{q}" class="ltx_Math" display="inline" id="S2.SS1.p1.3.m3.1"><semantics id="S2.SS1.p1.3.m3.1a"><mi id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml">𝐪</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><ci id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">𝐪</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">\mathbf{q}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.3.m3.1d">bold_q</annotation></semantics></math> based on semantic similarity.
The retriever typically embeds the query <math alttext="\mathbf{q}" class="ltx_Math" display="inline" id="S2.SS1.p1.4.m4.1"><semantics id="S2.SS1.p1.4.m4.1a"><mi id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml">𝐪</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><ci id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1">𝐪</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">\mathbf{q}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.4.m4.1d">bold_q</annotation></semantics></math> and a text chunk <math alttext="\mathbf{c}" class="ltx_Math" display="inline" id="S2.SS1.p1.5.m5.1"><semantics id="S2.SS1.p1.5.m5.1a"><mi id="S2.SS1.p1.5.m5.1.1" xref="S2.SS1.p1.5.m5.1.1.cmml">𝐜</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m5.1b"><ci id="S2.SS1.p1.5.m5.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1">𝐜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m5.1c">\mathbf{c}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.5.m5.1d">bold_c</annotation></semantics></math> from <math alttext="\mathbf{C}" class="ltx_Math" display="inline" id="S2.SS1.p1.6.m6.1"><semantics id="S2.SS1.p1.6.m6.1a"><mi id="S2.SS1.p1.6.m6.1.1" xref="S2.SS1.p1.6.m6.1.1.cmml">𝐂</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m6.1b"><ci id="S2.SS1.p1.6.m6.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1">𝐂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.6.m6.1c">\mathbf{C}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.6.m6.1d">bold_C</annotation></semantics></math> using a query encoder <math alttext="\mathbf{E}_{\mathbf{q}}(\cdot)" class="ltx_Math" display="inline" id="S2.SS1.p1.7.m7.1"><semantics id="S2.SS1.p1.7.m7.1a"><mrow id="S2.SS1.p1.7.m7.1.2" xref="S2.SS1.p1.7.m7.1.2.cmml"><msub id="S2.SS1.p1.7.m7.1.2.2" xref="S2.SS1.p1.7.m7.1.2.2.cmml"><mi id="S2.SS1.p1.7.m7.1.2.2.2" xref="S2.SS1.p1.7.m7.1.2.2.2.cmml">𝐄</mi><mi id="S2.SS1.p1.7.m7.1.2.2.3" xref="S2.SS1.p1.7.m7.1.2.2.3.cmml">𝐪</mi></msub><mo id="S2.SS1.p1.7.m7.1.2.1" xref="S2.SS1.p1.7.m7.1.2.1.cmml">⁢</mo><mrow id="S2.SS1.p1.7.m7.1.2.3.2" xref="S2.SS1.p1.7.m7.1.2.cmml"><mo id="S2.SS1.p1.7.m7.1.2.3.2.1" stretchy="false" xref="S2.SS1.p1.7.m7.1.2.cmml">(</mo><mo id="S2.SS1.p1.7.m7.1.1" lspace="0em" rspace="0em" xref="S2.SS1.p1.7.m7.1.1.cmml">⋅</mo><mo id="S2.SS1.p1.7.m7.1.2.3.2.2" stretchy="false" xref="S2.SS1.p1.7.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.7.m7.1b"><apply id="S2.SS1.p1.7.m7.1.2.cmml" xref="S2.SS1.p1.7.m7.1.2"><times id="S2.SS1.p1.7.m7.1.2.1.cmml" xref="S2.SS1.p1.7.m7.1.2.1"></times><apply id="S2.SS1.p1.7.m7.1.2.2.cmml" xref="S2.SS1.p1.7.m7.1.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.7.m7.1.2.2.1.cmml" xref="S2.SS1.p1.7.m7.1.2.2">subscript</csymbol><ci id="S2.SS1.p1.7.m7.1.2.2.2.cmml" xref="S2.SS1.p1.7.m7.1.2.2.2">𝐄</ci><ci id="S2.SS1.p1.7.m7.1.2.2.3.cmml" xref="S2.SS1.p1.7.m7.1.2.2.3">𝐪</ci></apply><ci id="S2.SS1.p1.7.m7.1.1.cmml" xref="S2.SS1.p1.7.m7.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.7.m7.1c">\mathbf{E}_{\mathbf{q}}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.7.m7.1d">bold_E start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ( ⋅ )</annotation></semantics></math> and a context encoder <math alttext="\mathbf{E}_{\mathbf{c}}(\cdot)" class="ltx_Math" display="inline" id="S2.SS1.p1.8.m8.1"><semantics id="S2.SS1.p1.8.m8.1a"><mrow id="S2.SS1.p1.8.m8.1.2" xref="S2.SS1.p1.8.m8.1.2.cmml"><msub id="S2.SS1.p1.8.m8.1.2.2" xref="S2.SS1.p1.8.m8.1.2.2.cmml"><mi id="S2.SS1.p1.8.m8.1.2.2.2" xref="S2.SS1.p1.8.m8.1.2.2.2.cmml">𝐄</mi><mi id="S2.SS1.p1.8.m8.1.2.2.3" xref="S2.SS1.p1.8.m8.1.2.2.3.cmml">𝐜</mi></msub><mo id="S2.SS1.p1.8.m8.1.2.1" xref="S2.SS1.p1.8.m8.1.2.1.cmml">⁢</mo><mrow id="S2.SS1.p1.8.m8.1.2.3.2" xref="S2.SS1.p1.8.m8.1.2.cmml"><mo id="S2.SS1.p1.8.m8.1.2.3.2.1" stretchy="false" xref="S2.SS1.p1.8.m8.1.2.cmml">(</mo><mo id="S2.SS1.p1.8.m8.1.1" lspace="0em" rspace="0em" xref="S2.SS1.p1.8.m8.1.1.cmml">⋅</mo><mo id="S2.SS1.p1.8.m8.1.2.3.2.2" stretchy="false" xref="S2.SS1.p1.8.m8.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.8.m8.1b"><apply id="S2.SS1.p1.8.m8.1.2.cmml" xref="S2.SS1.p1.8.m8.1.2"><times id="S2.SS1.p1.8.m8.1.2.1.cmml" xref="S2.SS1.p1.8.m8.1.2.1"></times><apply id="S2.SS1.p1.8.m8.1.2.2.cmml" xref="S2.SS1.p1.8.m8.1.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.1.2.2.1.cmml" xref="S2.SS1.p1.8.m8.1.2.2">subscript</csymbol><ci id="S2.SS1.p1.8.m8.1.2.2.2.cmml" xref="S2.SS1.p1.8.m8.1.2.2.2">𝐄</ci><ci id="S2.SS1.p1.8.m8.1.2.2.3.cmml" xref="S2.SS1.p1.8.m8.1.2.2.3">𝐜</ci></apply><ci id="S2.SS1.p1.8.m8.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.8.m8.1c">\mathbf{E}_{\mathbf{c}}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.8.m8.1d">bold_E start_POSTSUBSCRIPT bold_c end_POSTSUBSCRIPT ( ⋅ )</annotation></semantics></math>, respectively, and quantify their semantic similarity by the dot product operation described as <math alttext="\operatorname{Sim}(\mathbf{q},\mathbf{c})=\mathbf{E}_{\mathbf{q}}(\mathbf{q})^%
{T}\cdot\mathbf{E}_{\mathbf{c}}(\mathbf{c})" class="ltx_Math" display="inline" id="S2.SS1.p1.9.m9.5"><semantics id="S2.SS1.p1.9.m9.5a"><mrow id="S2.SS1.p1.9.m9.5.6" xref="S2.SS1.p1.9.m9.5.6.cmml"><mrow id="S2.SS1.p1.9.m9.5.6.2.2" xref="S2.SS1.p1.9.m9.5.6.2.1.cmml"><mi id="S2.SS1.p1.9.m9.1.1" xref="S2.SS1.p1.9.m9.1.1.cmml">Sim</mi><mo id="S2.SS1.p1.9.m9.5.6.2.2a" xref="S2.SS1.p1.9.m9.5.6.2.1.cmml">⁡</mo><mrow id="S2.SS1.p1.9.m9.5.6.2.2.1" xref="S2.SS1.p1.9.m9.5.6.2.1.cmml"><mo id="S2.SS1.p1.9.m9.5.6.2.2.1.1" stretchy="false" xref="S2.SS1.p1.9.m9.5.6.2.1.cmml">(</mo><mi id="S2.SS1.p1.9.m9.2.2" xref="S2.SS1.p1.9.m9.2.2.cmml">𝐪</mi><mo id="S2.SS1.p1.9.m9.5.6.2.2.1.2" xref="S2.SS1.p1.9.m9.5.6.2.1.cmml">,</mo><mi id="S2.SS1.p1.9.m9.3.3" xref="S2.SS1.p1.9.m9.3.3.cmml">𝐜</mi><mo id="S2.SS1.p1.9.m9.5.6.2.2.1.3" stretchy="false" xref="S2.SS1.p1.9.m9.5.6.2.1.cmml">)</mo></mrow></mrow><mo id="S2.SS1.p1.9.m9.5.6.1" xref="S2.SS1.p1.9.m9.5.6.1.cmml">=</mo><mrow id="S2.SS1.p1.9.m9.5.6.3" xref="S2.SS1.p1.9.m9.5.6.3.cmml"><mrow id="S2.SS1.p1.9.m9.5.6.3.2" xref="S2.SS1.p1.9.m9.5.6.3.2.cmml"><mrow id="S2.SS1.p1.9.m9.5.6.3.2.2" xref="S2.SS1.p1.9.m9.5.6.3.2.2.cmml"><msub id="S2.SS1.p1.9.m9.5.6.3.2.2.2" xref="S2.SS1.p1.9.m9.5.6.3.2.2.2.cmml"><mi id="S2.SS1.p1.9.m9.5.6.3.2.2.2.2" xref="S2.SS1.p1.9.m9.5.6.3.2.2.2.2.cmml">𝐄</mi><mi id="S2.SS1.p1.9.m9.5.6.3.2.2.2.3" xref="S2.SS1.p1.9.m9.5.6.3.2.2.2.3.cmml">𝐪</mi></msub><mo id="S2.SS1.p1.9.m9.5.6.3.2.2.1" xref="S2.SS1.p1.9.m9.5.6.3.2.2.1.cmml">⁢</mo><msup id="S2.SS1.p1.9.m9.5.6.3.2.2.3" xref="S2.SS1.p1.9.m9.5.6.3.2.2.3.cmml"><mrow id="S2.SS1.p1.9.m9.5.6.3.2.2.3.2.2" xref="S2.SS1.p1.9.m9.5.6.3.2.2.3.cmml"><mo id="S2.SS1.p1.9.m9.5.6.3.2.2.3.2.2.1" stretchy="false" xref="S2.SS1.p1.9.m9.5.6.3.2.2.3.cmml">(</mo><mi id="S2.SS1.p1.9.m9.4.4" xref="S2.SS1.p1.9.m9.4.4.cmml">𝐪</mi><mo id="S2.SS1.p1.9.m9.5.6.3.2.2.3.2.2.2" rspace="0.055em" stretchy="false" xref="S2.SS1.p1.9.m9.5.6.3.2.2.3.cmml">)</mo></mrow><mi id="S2.SS1.p1.9.m9.5.6.3.2.2.3.3" xref="S2.SS1.p1.9.m9.5.6.3.2.2.3.3.cmml">T</mi></msup></mrow><mo id="S2.SS1.p1.9.m9.5.6.3.2.1" rspace="0.222em" xref="S2.SS1.p1.9.m9.5.6.3.2.1.cmml">⋅</mo><msub id="S2.SS1.p1.9.m9.5.6.3.2.3" xref="S2.SS1.p1.9.m9.5.6.3.2.3.cmml"><mi id="S2.SS1.p1.9.m9.5.6.3.2.3.2" xref="S2.SS1.p1.9.m9.5.6.3.2.3.2.cmml">𝐄</mi><mi id="S2.SS1.p1.9.m9.5.6.3.2.3.3" xref="S2.SS1.p1.9.m9.5.6.3.2.3.3.cmml">𝐜</mi></msub></mrow><mo id="S2.SS1.p1.9.m9.5.6.3.1" xref="S2.SS1.p1.9.m9.5.6.3.1.cmml">⁢</mo><mrow id="S2.SS1.p1.9.m9.5.6.3.3.2" xref="S2.SS1.p1.9.m9.5.6.3.cmml"><mo id="S2.SS1.p1.9.m9.5.6.3.3.2.1" stretchy="false" xref="S2.SS1.p1.9.m9.5.6.3.cmml">(</mo><mi id="S2.SS1.p1.9.m9.5.5" xref="S2.SS1.p1.9.m9.5.5.cmml">𝐜</mi><mo id="S2.SS1.p1.9.m9.5.6.3.3.2.2" stretchy="false" xref="S2.SS1.p1.9.m9.5.6.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.9.m9.5b"><apply id="S2.SS1.p1.9.m9.5.6.cmml" xref="S2.SS1.p1.9.m9.5.6"><eq id="S2.SS1.p1.9.m9.5.6.1.cmml" xref="S2.SS1.p1.9.m9.5.6.1"></eq><apply id="S2.SS1.p1.9.m9.5.6.2.1.cmml" xref="S2.SS1.p1.9.m9.5.6.2.2"><ci id="S2.SS1.p1.9.m9.1.1.cmml" xref="S2.SS1.p1.9.m9.1.1">Sim</ci><ci id="S2.SS1.p1.9.m9.2.2.cmml" xref="S2.SS1.p1.9.m9.2.2">𝐪</ci><ci id="S2.SS1.p1.9.m9.3.3.cmml" xref="S2.SS1.p1.9.m9.3.3">𝐜</ci></apply><apply id="S2.SS1.p1.9.m9.5.6.3.cmml" xref="S2.SS1.p1.9.m9.5.6.3"><times id="S2.SS1.p1.9.m9.5.6.3.1.cmml" xref="S2.SS1.p1.9.m9.5.6.3.1"></times><apply id="S2.SS1.p1.9.m9.5.6.3.2.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2"><ci id="S2.SS1.p1.9.m9.5.6.3.2.1.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.1">⋅</ci><apply id="S2.SS1.p1.9.m9.5.6.3.2.2.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.2"><times id="S2.SS1.p1.9.m9.5.6.3.2.2.1.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.2.1"></times><apply id="S2.SS1.p1.9.m9.5.6.3.2.2.2.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.9.m9.5.6.3.2.2.2.1.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.2.2">subscript</csymbol><ci id="S2.SS1.p1.9.m9.5.6.3.2.2.2.2.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.2.2.2">𝐄</ci><ci id="S2.SS1.p1.9.m9.5.6.3.2.2.2.3.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.2.2.3">𝐪</ci></apply><apply id="S2.SS1.p1.9.m9.5.6.3.2.2.3.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.9.m9.5.6.3.2.2.3.1.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.2.3">superscript</csymbol><ci id="S2.SS1.p1.9.m9.4.4.cmml" xref="S2.SS1.p1.9.m9.4.4">𝐪</ci><ci id="S2.SS1.p1.9.m9.5.6.3.2.2.3.3.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.2.3.3">𝑇</ci></apply></apply><apply id="S2.SS1.p1.9.m9.5.6.3.2.3.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.9.m9.5.6.3.2.3.1.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.3">subscript</csymbol><ci id="S2.SS1.p1.9.m9.5.6.3.2.3.2.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.3.2">𝐄</ci><ci id="S2.SS1.p1.9.m9.5.6.3.2.3.3.cmml" xref="S2.SS1.p1.9.m9.5.6.3.2.3.3">𝐜</ci></apply></apply><ci id="S2.SS1.p1.9.m9.5.5.cmml" xref="S2.SS1.p1.9.m9.5.5">𝐜</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.9.m9.5c">\operatorname{Sim}(\mathbf{q},\mathbf{c})=\mathbf{E}_{\mathbf{q}}(\mathbf{q})^%
{T}\cdot\mathbf{E}_{\mathbf{c}}(\mathbf{c})</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.9.m9.5d">roman_Sim ( bold_q , bold_c ) = bold_E start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ( bold_q ) start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ⋅ bold_E start_POSTSUBSCRIPT bold_c end_POSTSUBSCRIPT ( bold_c )</annotation></semantics></math>.
(2) <span class="ltx_text ltx_font_italic" id="S2.SS1.p1.11.4">Generation</span>.
The retrieved text chunks are fed into LLMs with the query <math alttext="\mathbf{q}" class="ltx_Math" display="inline" id="S2.SS1.p1.10.m10.1"><semantics id="S2.SS1.p1.10.m10.1a"><mi id="S2.SS1.p1.10.m10.1.1" xref="S2.SS1.p1.10.m10.1.1.cmml">𝐪</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.10.m10.1b"><ci id="S2.SS1.p1.10.m10.1.1.cmml" xref="S2.SS1.p1.10.m10.1.1">𝐪</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.10.m10.1c">\mathbf{q}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.10.m10.1d">bold_q</annotation></semantics></math> to obtain the final response <math alttext="\mathbf{r}" class="ltx_Math" display="inline" id="S2.SS1.p1.11.m11.1"><semantics id="S2.SS1.p1.11.m11.1a"><mi id="S2.SS1.p1.11.m11.1.1" xref="S2.SS1.p1.11.m11.1.1.cmml">𝐫</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.11.m11.1b"><ci id="S2.SS1.p1.11.m11.1.1.cmml" xref="S2.SS1.p1.11.m11.1.1">𝐫</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.11.m11.1c">\mathbf{r}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.11.m11.1d">bold_r</annotation></semantics></math>.
The whole process can be described as:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{r}=\operatorname{Generation}(\mathbf{q},\{\mathbf{c}_{\mathbf{1}},%
\cdots,\mathbf{c}_{\mathbf{K}}\}),\quad\{\mathbf{c}_{\mathbf{1}},\cdots,%
\mathbf{c}_{\mathbf{K}}\}=\operatorname{Retrieval}(\mathbf{q}|\mathbf{C})" class="ltx_Math" display="block" id="S2.E1.m1.7"><semantics id="S2.E1.m1.7a"><mrow id="S2.E1.m1.7.7.2" xref="S2.E1.m1.7.7.3.cmml"><mrow id="S2.E1.m1.6.6.1.1" xref="S2.E1.m1.6.6.1.1.cmml"><mi id="S2.E1.m1.6.6.1.1.3" xref="S2.E1.m1.6.6.1.1.3.cmml">𝐫</mi><mo id="S2.E1.m1.6.6.1.1.2" xref="S2.E1.m1.6.6.1.1.2.cmml">=</mo><mrow id="S2.E1.m1.6.6.1.1.1.1" xref="S2.E1.m1.6.6.1.1.1.2.cmml"><mi id="S2.E1.m1.2.2" xref="S2.E1.m1.2.2.cmml">Generation</mi><mo id="S2.E1.m1.6.6.1.1.1.1a" xref="S2.E1.m1.6.6.1.1.1.2.cmml">⁡</mo><mrow id="S2.E1.m1.6.6.1.1.1.1.1" xref="S2.E1.m1.6.6.1.1.1.2.cmml"><mo id="S2.E1.m1.6.6.1.1.1.1.1.2" stretchy="false" xref="S2.E1.m1.6.6.1.1.1.2.cmml">(</mo><mi id="S2.E1.m1.3.3" xref="S2.E1.m1.3.3.cmml">𝐪</mi><mo id="S2.E1.m1.6.6.1.1.1.1.1.3" xref="S2.E1.m1.6.6.1.1.1.2.cmml">,</mo><mrow id="S2.E1.m1.6.6.1.1.1.1.1.1.2" xref="S2.E1.m1.6.6.1.1.1.1.1.1.3.cmml"><mo id="S2.E1.m1.6.6.1.1.1.1.1.1.2.3" stretchy="false" xref="S2.E1.m1.6.6.1.1.1.1.1.1.3.cmml">{</mo><msub id="S2.E1.m1.6.6.1.1.1.1.1.1.1.1" xref="S2.E1.m1.6.6.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.6.6.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.6.6.1.1.1.1.1.1.1.1.2.cmml">𝐜</mi><mn id="S2.E1.m1.6.6.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.6.6.1.1.1.1.1.1.1.1.3.cmml">𝟏</mn></msub><mo id="S2.E1.m1.6.6.1.1.1.1.1.1.2.4" xref="S2.E1.m1.6.6.1.1.1.1.1.1.3.cmml">,</mo><mi id="S2.E1.m1.1.1" mathvariant="normal" xref="S2.E1.m1.1.1.cmml">⋯</mi><mo id="S2.E1.m1.6.6.1.1.1.1.1.1.2.5" xref="S2.E1.m1.6.6.1.1.1.1.1.1.3.cmml">,</mo><msub id="S2.E1.m1.6.6.1.1.1.1.1.1.2.2" xref="S2.E1.m1.6.6.1.1.1.1.1.1.2.2.cmml"><mi id="S2.E1.m1.6.6.1.1.1.1.1.1.2.2.2" xref="S2.E1.m1.6.6.1.1.1.1.1.1.2.2.2.cmml">𝐜</mi><mi id="S2.E1.m1.6.6.1.1.1.1.1.1.2.2.3" xref="S2.E1.m1.6.6.1.1.1.1.1.1.2.2.3.cmml">𝐊</mi></msub><mo id="S2.E1.m1.6.6.1.1.1.1.1.1.2.6" stretchy="false" xref="S2.E1.m1.6.6.1.1.1.1.1.1.3.cmml">}</mo></mrow><mo id="S2.E1.m1.6.6.1.1.1.1.1.4" stretchy="false" xref="S2.E1.m1.6.6.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E1.m1.7.7.2.3" rspace="1.167em" xref="S2.E1.m1.7.7.3a.cmml">,</mo><mrow id="S2.E1.m1.7.7.2.2" xref="S2.E1.m1.7.7.2.2.cmml"><mrow id="S2.E1.m1.7.7.2.2.2.2" xref="S2.E1.m1.7.7.2.2.2.3.cmml"><mo id="S2.E1.m1.7.7.2.2.2.2.3" stretchy="false" xref="S2.E1.m1.7.7.2.2.2.3.cmml">{</mo><msub id="S2.E1.m1.7.7.2.2.1.1.1" xref="S2.E1.m1.7.7.2.2.1.1.1.cmml"><mi id="S2.E1.m1.7.7.2.2.1.1.1.2" xref="S2.E1.m1.7.7.2.2.1.1.1.2.cmml">𝐜</mi><mn id="S2.E1.m1.7.7.2.2.1.1.1.3" xref="S2.E1.m1.7.7.2.2.1.1.1.3.cmml">𝟏</mn></msub><mo id="S2.E1.m1.7.7.2.2.2.2.4" xref="S2.E1.m1.7.7.2.2.2.3.cmml">,</mo><mi id="S2.E1.m1.4.4" mathvariant="normal" xref="S2.E1.m1.4.4.cmml">⋯</mi><mo id="S2.E1.m1.7.7.2.2.2.2.5" xref="S2.E1.m1.7.7.2.2.2.3.cmml">,</mo><msub id="S2.E1.m1.7.7.2.2.2.2.2" xref="S2.E1.m1.7.7.2.2.2.2.2.cmml"><mi id="S2.E1.m1.7.7.2.2.2.2.2.2" xref="S2.E1.m1.7.7.2.2.2.2.2.2.cmml">𝐜</mi><mi id="S2.E1.m1.7.7.2.2.2.2.2.3" xref="S2.E1.m1.7.7.2.2.2.2.2.3.cmml">𝐊</mi></msub><mo id="S2.E1.m1.7.7.2.2.2.2.6" stretchy="false" xref="S2.E1.m1.7.7.2.2.2.3.cmml">}</mo></mrow><mo id="S2.E1.m1.7.7.2.2.4" xref="S2.E1.m1.7.7.2.2.4.cmml">=</mo><mrow id="S2.E1.m1.7.7.2.2.3.1" xref="S2.E1.m1.7.7.2.2.3.2.cmml"><mi id="S2.E1.m1.5.5" xref="S2.E1.m1.5.5.cmml">Retrieval</mi><mo id="S2.E1.m1.7.7.2.2.3.1a" xref="S2.E1.m1.7.7.2.2.3.2.cmml">⁡</mo><mrow id="S2.E1.m1.7.7.2.2.3.1.1" xref="S2.E1.m1.7.7.2.2.3.2.cmml"><mo id="S2.E1.m1.7.7.2.2.3.1.1.2" stretchy="false" xref="S2.E1.m1.7.7.2.2.3.2.cmml">(</mo><mrow id="S2.E1.m1.7.7.2.2.3.1.1.1" xref="S2.E1.m1.7.7.2.2.3.1.1.1.cmml"><mi id="S2.E1.m1.7.7.2.2.3.1.1.1.2" xref="S2.E1.m1.7.7.2.2.3.1.1.1.2.cmml">𝐪</mi><mo fence="false" id="S2.E1.m1.7.7.2.2.3.1.1.1.1" xref="S2.E1.m1.7.7.2.2.3.1.1.1.1.cmml">|</mo><mi id="S2.E1.m1.7.7.2.2.3.1.1.1.3" xref="S2.E1.m1.7.7.2.2.3.1.1.1.3.cmml">𝐂</mi></mrow><mo id="S2.E1.m1.7.7.2.2.3.1.1.3" stretchy="false" xref="S2.E1.m1.7.7.2.2.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.7b"><apply id="S2.E1.m1.7.7.3.cmml" xref="S2.E1.m1.7.7.2"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.3a.cmml" xref="S2.E1.m1.7.7.2.3">formulae-sequence</csymbol><apply id="S2.E1.m1.6.6.1.1.cmml" xref="S2.E1.m1.6.6.1.1"><eq id="S2.E1.m1.6.6.1.1.2.cmml" xref="S2.E1.m1.6.6.1.1.2"></eq><ci id="S2.E1.m1.6.6.1.1.3.cmml" xref="S2.E1.m1.6.6.1.1.3">𝐫</ci><apply id="S2.E1.m1.6.6.1.1.1.2.cmml" xref="S2.E1.m1.6.6.1.1.1.1"><ci id="S2.E1.m1.2.2.cmml" xref="S2.E1.m1.2.2">Generation</ci><ci id="S2.E1.m1.3.3.cmml" xref="S2.E1.m1.3.3">𝐪</ci><set id="S2.E1.m1.6.6.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.6.6.1.1.1.1.1.1.2"><apply id="S2.E1.m1.6.6.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.6.6.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.6.6.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.6.6.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E1.m1.6.6.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.6.6.1.1.1.1.1.1.1.1.2">𝐜</ci><cn id="S2.E1.m1.6.6.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S2.E1.m1.6.6.1.1.1.1.1.1.1.1.3">1</cn></apply><ci id="S2.E1.m1.1.1.cmml" xref="S2.E1.m1.1.1">⋯</ci><apply id="S2.E1.m1.6.6.1.1.1.1.1.1.2.2.cmml" xref="S2.E1.m1.6.6.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.6.6.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E1.m1.6.6.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S2.E1.m1.6.6.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E1.m1.6.6.1.1.1.1.1.1.2.2.2">𝐜</ci><ci id="S2.E1.m1.6.6.1.1.1.1.1.1.2.2.3.cmml" xref="S2.E1.m1.6.6.1.1.1.1.1.1.2.2.3">𝐊</ci></apply></set></apply></apply><apply id="S2.E1.m1.7.7.2.2.cmml" xref="S2.E1.m1.7.7.2.2"><eq id="S2.E1.m1.7.7.2.2.4.cmml" xref="S2.E1.m1.7.7.2.2.4"></eq><set id="S2.E1.m1.7.7.2.2.2.3.cmml" xref="S2.E1.m1.7.7.2.2.2.2"><apply id="S2.E1.m1.7.7.2.2.1.1.1.cmml" xref="S2.E1.m1.7.7.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.2.2.1.1.1.1.cmml" xref="S2.E1.m1.7.7.2.2.1.1.1">subscript</csymbol><ci id="S2.E1.m1.7.7.2.2.1.1.1.2.cmml" xref="S2.E1.m1.7.7.2.2.1.1.1.2">𝐜</ci><cn id="S2.E1.m1.7.7.2.2.1.1.1.3.cmml" type="integer" xref="S2.E1.m1.7.7.2.2.1.1.1.3">1</cn></apply><ci id="S2.E1.m1.4.4.cmml" xref="S2.E1.m1.4.4">⋯</ci><apply id="S2.E1.m1.7.7.2.2.2.2.2.cmml" xref="S2.E1.m1.7.7.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.2.2.2.2.2.1.cmml" xref="S2.E1.m1.7.7.2.2.2.2.2">subscript</csymbol><ci id="S2.E1.m1.7.7.2.2.2.2.2.2.cmml" xref="S2.E1.m1.7.7.2.2.2.2.2.2">𝐜</ci><ci id="S2.E1.m1.7.7.2.2.2.2.2.3.cmml" xref="S2.E1.m1.7.7.2.2.2.2.2.3">𝐊</ci></apply></set><apply id="S2.E1.m1.7.7.2.2.3.2.cmml" xref="S2.E1.m1.7.7.2.2.3.1"><ci id="S2.E1.m1.5.5.cmml" xref="S2.E1.m1.5.5">Retrieval</ci><apply id="S2.E1.m1.7.7.2.2.3.1.1.1.cmml" xref="S2.E1.m1.7.7.2.2.3.1.1.1"><csymbol cd="latexml" id="S2.E1.m1.7.7.2.2.3.1.1.1.1.cmml" xref="S2.E1.m1.7.7.2.2.3.1.1.1.1">conditional</csymbol><ci id="S2.E1.m1.7.7.2.2.3.1.1.1.2.cmml" xref="S2.E1.m1.7.7.2.2.3.1.1.1.2">𝐪</ci><ci id="S2.E1.m1.7.7.2.2.3.1.1.1.3.cmml" xref="S2.E1.m1.7.7.2.2.3.1.1.1.3">𝐂</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.7c">\mathbf{r}=\operatorname{Generation}(\mathbf{q},\{\mathbf{c}_{\mathbf{1}},%
\cdots,\mathbf{c}_{\mathbf{K}}\}),\quad\{\mathbf{c}_{\mathbf{1}},\cdots,%
\mathbf{c}_{\mathbf{K}}\}=\operatorname{Retrieval}(\mathbf{q}|\mathbf{C})</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.7d">bold_r = roman_Generation ( bold_q , { bold_c start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT , ⋯ , bold_c start_POSTSUBSCRIPT bold_K end_POSTSUBSCRIPT } ) , { bold_c start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT , ⋯ , bold_c start_POSTSUBSCRIPT bold_K end_POSTSUBSCRIPT } = roman_Retrieval ( bold_q | bold_C )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S2.SS1.p2.1.1">Graph Neural Networks</span>.
Graph Neural Networks (GNNs) <cite class="ltx_cite ltx_citemacro_cite">Kipf &amp; Welling (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib20" title="">2016</a>)</cite> stand out for their excellent representation learning ability on graph data.
GNNs update node embeddings iteratively by aggregating messages from their neighboring nodes.
Generally, the <math alttext="l" class="ltx_Math" display="inline" id="S2.SS1.p2.1.m1.1"><semantics id="S2.SS1.p2.1.m1.1a"><mi id="S2.SS1.p2.1.m1.1.1" xref="S2.SS1.p2.1.m1.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.1b"><ci id="S2.SS1.p2.1.m1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.1c">l</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.1.m1.1d">italic_l</annotation></semantics></math>-th layer of GNNs can be formalized as:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{h}_{v}^{(l)}=\mathrm{AGG}^{(l)}\left(\mathbf{h}_{v}^{(l-1)},\mathrm{%
MSG}^{(l)}\left(\{\mathbf{h}_{u}^{(l-1)},u\in N(v)\};\theta_{m}^{l}\right);%
\theta_{a}^{l}\right)" class="ltx_Math" display="block" id="S2.E2.m1.10"><semantics id="S2.E2.m1.10a"><mrow id="S2.E2.m1.10.10" xref="S2.E2.m1.10.10.cmml"><msubsup id="S2.E2.m1.10.10.5" xref="S2.E2.m1.10.10.5.cmml"><mi id="S2.E2.m1.10.10.5.2.2" xref="S2.E2.m1.10.10.5.2.2.cmml">𝐡</mi><mi id="S2.E2.m1.10.10.5.2.3" xref="S2.E2.m1.10.10.5.2.3.cmml">v</mi><mrow id="S2.E2.m1.1.1.1.3" xref="S2.E2.m1.10.10.5.cmml"><mo id="S2.E2.m1.1.1.1.3.1" stretchy="false" xref="S2.E2.m1.10.10.5.cmml">(</mo><mi id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml">l</mi><mo id="S2.E2.m1.1.1.1.3.2" stretchy="false" xref="S2.E2.m1.10.10.5.cmml">)</mo></mrow></msubsup><mo id="S2.E2.m1.10.10.4" xref="S2.E2.m1.10.10.4.cmml">=</mo><mrow id="S2.E2.m1.10.10.3" xref="S2.E2.m1.10.10.3.cmml"><msup id="S2.E2.m1.10.10.3.5" xref="S2.E2.m1.10.10.3.5.cmml"><mi id="S2.E2.m1.10.10.3.5.2" xref="S2.E2.m1.10.10.3.5.2.cmml">AGG</mi><mrow id="S2.E2.m1.2.2.1.3" xref="S2.E2.m1.10.10.3.5.cmml"><mo id="S2.E2.m1.2.2.1.3.1" stretchy="false" xref="S2.E2.m1.10.10.3.5.cmml">(</mo><mi id="S2.E2.m1.2.2.1.1" xref="S2.E2.m1.2.2.1.1.cmml">l</mi><mo id="S2.E2.m1.2.2.1.3.2" stretchy="false" xref="S2.E2.m1.10.10.3.5.cmml">)</mo></mrow></msup><mo id="S2.E2.m1.10.10.3.4" xref="S2.E2.m1.10.10.3.4.cmml">⁢</mo><mrow id="S2.E2.m1.10.10.3.3.3" xref="S2.E2.m1.10.10.3.3.4.cmml"><mo id="S2.E2.m1.10.10.3.3.3.4" xref="S2.E2.m1.10.10.3.3.4.cmml">(</mo><msubsup id="S2.E2.m1.8.8.1.1.1.1" xref="S2.E2.m1.8.8.1.1.1.1.cmml"><mi id="S2.E2.m1.8.8.1.1.1.1.2.2" xref="S2.E2.m1.8.8.1.1.1.1.2.2.cmml">𝐡</mi><mi id="S2.E2.m1.8.8.1.1.1.1.2.3" xref="S2.E2.m1.8.8.1.1.1.1.2.3.cmml">v</mi><mrow id="S2.E2.m1.3.3.1.1" xref="S2.E2.m1.3.3.1.1.1.cmml"><mo id="S2.E2.m1.3.3.1.1.2" stretchy="false" xref="S2.E2.m1.3.3.1.1.1.cmml">(</mo><mrow id="S2.E2.m1.3.3.1.1.1" xref="S2.E2.m1.3.3.1.1.1.cmml"><mi id="S2.E2.m1.3.3.1.1.1.2" xref="S2.E2.m1.3.3.1.1.1.2.cmml">l</mi><mo id="S2.E2.m1.3.3.1.1.1.1" xref="S2.E2.m1.3.3.1.1.1.1.cmml">−</mo><mn id="S2.E2.m1.3.3.1.1.1.3" xref="S2.E2.m1.3.3.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E2.m1.3.3.1.1.3" stretchy="false" xref="S2.E2.m1.3.3.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S2.E2.m1.10.10.3.3.3.5" xref="S2.E2.m1.10.10.3.3.4.cmml">,</mo><mrow id="S2.E2.m1.9.9.2.2.2.2" xref="S2.E2.m1.9.9.2.2.2.2.cmml"><msup id="S2.E2.m1.9.9.2.2.2.2.4" xref="S2.E2.m1.9.9.2.2.2.2.4.cmml"><mi id="S2.E2.m1.9.9.2.2.2.2.4.2" xref="S2.E2.m1.9.9.2.2.2.2.4.2.cmml">MSG</mi><mrow id="S2.E2.m1.4.4.1.3" xref="S2.E2.m1.9.9.2.2.2.2.4.cmml"><mo id="S2.E2.m1.4.4.1.3.1" stretchy="false" xref="S2.E2.m1.9.9.2.2.2.2.4.cmml">(</mo><mi id="S2.E2.m1.4.4.1.1" xref="S2.E2.m1.4.4.1.1.cmml">l</mi><mo id="S2.E2.m1.4.4.1.3.2" stretchy="false" xref="S2.E2.m1.9.9.2.2.2.2.4.cmml">)</mo></mrow></msup><mo id="S2.E2.m1.9.9.2.2.2.2.3" xref="S2.E2.m1.9.9.2.2.2.2.3.cmml">⁢</mo><mrow id="S2.E2.m1.9.9.2.2.2.2.2.2" xref="S2.E2.m1.9.9.2.2.2.2.2.3.cmml"><mo id="S2.E2.m1.9.9.2.2.2.2.2.2.3" xref="S2.E2.m1.9.9.2.2.2.2.2.3.cmml">(</mo><mrow id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.2.cmml"><mo id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.2" stretchy="false" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.2.cmml">{</mo><mrow id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.cmml"><mrow id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.2.cmml"><msubsup id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.2.2" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.2.2.cmml">𝐡</mi><mi id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.2.3" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.2.3.cmml">u</mi><mrow id="S2.E2.m1.5.5.1.1" xref="S2.E2.m1.5.5.1.1.1.cmml"><mo id="S2.E2.m1.5.5.1.1.2" stretchy="false" xref="S2.E2.m1.5.5.1.1.1.cmml">(</mo><mrow id="S2.E2.m1.5.5.1.1.1" xref="S2.E2.m1.5.5.1.1.1.cmml"><mi id="S2.E2.m1.5.5.1.1.1.2" xref="S2.E2.m1.5.5.1.1.1.2.cmml">l</mi><mo id="S2.E2.m1.5.5.1.1.1.1" xref="S2.E2.m1.5.5.1.1.1.1.cmml">−</mo><mn id="S2.E2.m1.5.5.1.1.1.3" xref="S2.E2.m1.5.5.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E2.m1.5.5.1.1.3" stretchy="false" xref="S2.E2.m1.5.5.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.2" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.2.cmml">,</mo><mi id="S2.E2.m1.7.7" xref="S2.E2.m1.7.7.cmml">u</mi></mrow><mo id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.2" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.2.cmml">∈</mo><mrow id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.cmml"><mi id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.2" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.2.cmml">N</mi><mo id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.1" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.3.2" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.cmml"><mo id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.3.2.1" stretchy="false" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.cmml">(</mo><mi id="S2.E2.m1.6.6" xref="S2.E2.m1.6.6.cmml">v</mi><mo id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.3.2.2" stretchy="false" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.3" stretchy="false" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.2.cmml">}</mo></mrow><mo id="S2.E2.m1.9.9.2.2.2.2.2.2.4" xref="S2.E2.m1.9.9.2.2.2.2.2.3.cmml">;</mo><msubsup id="S2.E2.m1.9.9.2.2.2.2.2.2.2" xref="S2.E2.m1.9.9.2.2.2.2.2.2.2.cmml"><mi id="S2.E2.m1.9.9.2.2.2.2.2.2.2.2.2" xref="S2.E2.m1.9.9.2.2.2.2.2.2.2.2.2.cmml">θ</mi><mi id="S2.E2.m1.9.9.2.2.2.2.2.2.2.2.3" xref="S2.E2.m1.9.9.2.2.2.2.2.2.2.2.3.cmml">m</mi><mi id="S2.E2.m1.9.9.2.2.2.2.2.2.2.3" xref="S2.E2.m1.9.9.2.2.2.2.2.2.2.3.cmml">l</mi></msubsup><mo id="S2.E2.m1.9.9.2.2.2.2.2.2.5" xref="S2.E2.m1.9.9.2.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S2.E2.m1.10.10.3.3.3.6" xref="S2.E2.m1.10.10.3.3.4.cmml">;</mo><msubsup id="S2.E2.m1.10.10.3.3.3.3" xref="S2.E2.m1.10.10.3.3.3.3.cmml"><mi id="S2.E2.m1.10.10.3.3.3.3.2.2" xref="S2.E2.m1.10.10.3.3.3.3.2.2.cmml">θ</mi><mi id="S2.E2.m1.10.10.3.3.3.3.2.3" xref="S2.E2.m1.10.10.3.3.3.3.2.3.cmml">a</mi><mi id="S2.E2.m1.10.10.3.3.3.3.3" xref="S2.E2.m1.10.10.3.3.3.3.3.cmml">l</mi></msubsup><mo id="S2.E2.m1.10.10.3.3.3.7" xref="S2.E2.m1.10.10.3.3.4.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.10b"><apply id="S2.E2.m1.10.10.cmml" xref="S2.E2.m1.10.10"><eq id="S2.E2.m1.10.10.4.cmml" xref="S2.E2.m1.10.10.4"></eq><apply id="S2.E2.m1.10.10.5.cmml" xref="S2.E2.m1.10.10.5"><csymbol cd="ambiguous" id="S2.E2.m1.10.10.5.1.cmml" xref="S2.E2.m1.10.10.5">superscript</csymbol><apply id="S2.E2.m1.10.10.5.2.cmml" xref="S2.E2.m1.10.10.5"><csymbol cd="ambiguous" id="S2.E2.m1.10.10.5.2.1.cmml" xref="S2.E2.m1.10.10.5">subscript</csymbol><ci id="S2.E2.m1.10.10.5.2.2.cmml" xref="S2.E2.m1.10.10.5.2.2">𝐡</ci><ci id="S2.E2.m1.10.10.5.2.3.cmml" xref="S2.E2.m1.10.10.5.2.3">𝑣</ci></apply><ci id="S2.E2.m1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1">𝑙</ci></apply><apply id="S2.E2.m1.10.10.3.cmml" xref="S2.E2.m1.10.10.3"><times id="S2.E2.m1.10.10.3.4.cmml" xref="S2.E2.m1.10.10.3.4"></times><apply id="S2.E2.m1.10.10.3.5.cmml" xref="S2.E2.m1.10.10.3.5"><csymbol cd="ambiguous" id="S2.E2.m1.10.10.3.5.1.cmml" xref="S2.E2.m1.10.10.3.5">superscript</csymbol><ci id="S2.E2.m1.10.10.3.5.2.cmml" xref="S2.E2.m1.10.10.3.5.2">AGG</ci><ci id="S2.E2.m1.2.2.1.1.cmml" xref="S2.E2.m1.2.2.1.1">𝑙</ci></apply><vector id="S2.E2.m1.10.10.3.3.4.cmml" xref="S2.E2.m1.10.10.3.3.3"><apply id="S2.E2.m1.8.8.1.1.1.1.cmml" xref="S2.E2.m1.8.8.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.8.8.1.1.1.1.1.cmml" xref="S2.E2.m1.8.8.1.1.1.1">superscript</csymbol><apply id="S2.E2.m1.8.8.1.1.1.1.2.cmml" xref="S2.E2.m1.8.8.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.8.8.1.1.1.1.2.1.cmml" xref="S2.E2.m1.8.8.1.1.1.1">subscript</csymbol><ci id="S2.E2.m1.8.8.1.1.1.1.2.2.cmml" xref="S2.E2.m1.8.8.1.1.1.1.2.2">𝐡</ci><ci id="S2.E2.m1.8.8.1.1.1.1.2.3.cmml" xref="S2.E2.m1.8.8.1.1.1.1.2.3">𝑣</ci></apply><apply id="S2.E2.m1.3.3.1.1.1.cmml" xref="S2.E2.m1.3.3.1.1"><minus id="S2.E2.m1.3.3.1.1.1.1.cmml" xref="S2.E2.m1.3.3.1.1.1.1"></minus><ci id="S2.E2.m1.3.3.1.1.1.2.cmml" xref="S2.E2.m1.3.3.1.1.1.2">𝑙</ci><cn id="S2.E2.m1.3.3.1.1.1.3.cmml" type="integer" xref="S2.E2.m1.3.3.1.1.1.3">1</cn></apply></apply><apply id="S2.E2.m1.9.9.2.2.2.2.cmml" xref="S2.E2.m1.9.9.2.2.2.2"><times id="S2.E2.m1.9.9.2.2.2.2.3.cmml" xref="S2.E2.m1.9.9.2.2.2.2.3"></times><apply id="S2.E2.m1.9.9.2.2.2.2.4.cmml" xref="S2.E2.m1.9.9.2.2.2.2.4"><csymbol cd="ambiguous" id="S2.E2.m1.9.9.2.2.2.2.4.1.cmml" xref="S2.E2.m1.9.9.2.2.2.2.4">superscript</csymbol><ci id="S2.E2.m1.9.9.2.2.2.2.4.2.cmml" xref="S2.E2.m1.9.9.2.2.2.2.4.2">MSG</ci><ci id="S2.E2.m1.4.4.1.1.cmml" xref="S2.E2.m1.4.4.1.1">𝑙</ci></apply><list id="S2.E2.m1.9.9.2.2.2.2.2.3.cmml" xref="S2.E2.m1.9.9.2.2.2.2.2.2"><set id="S2.E2.m1.9.9.2.2.2.2.1.1.1.2.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1"><apply id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1"><in id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.2.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.2"></in><list id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1"><apply id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.2.2">𝐡</ci><ci id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.1.1.1.2.3">𝑢</ci></apply><apply id="S2.E2.m1.5.5.1.1.1.cmml" xref="S2.E2.m1.5.5.1.1"><minus id="S2.E2.m1.5.5.1.1.1.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1"></minus><ci id="S2.E2.m1.5.5.1.1.1.2.cmml" xref="S2.E2.m1.5.5.1.1.1.2">𝑙</ci><cn id="S2.E2.m1.5.5.1.1.1.3.cmml" type="integer" xref="S2.E2.m1.5.5.1.1.1.3">1</cn></apply></apply><ci id="S2.E2.m1.7.7.cmml" xref="S2.E2.m1.7.7">𝑢</ci></list><apply id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3"><times id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.1"></times><ci id="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.9.9.2.2.2.2.1.1.1.1.1.3.2">𝑁</ci><ci id="S2.E2.m1.6.6.cmml" xref="S2.E2.m1.6.6">𝑣</ci></apply></apply></set><apply id="S2.E2.m1.9.9.2.2.2.2.2.2.2.cmml" xref="S2.E2.m1.9.9.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E2.m1.9.9.2.2.2.2.2.2.2.1.cmml" xref="S2.E2.m1.9.9.2.2.2.2.2.2.2">superscript</csymbol><apply id="S2.E2.m1.9.9.2.2.2.2.2.2.2.2.cmml" xref="S2.E2.m1.9.9.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E2.m1.9.9.2.2.2.2.2.2.2.2.1.cmml" xref="S2.E2.m1.9.9.2.2.2.2.2.2.2">subscript</csymbol><ci id="S2.E2.m1.9.9.2.2.2.2.2.2.2.2.2.cmml" xref="S2.E2.m1.9.9.2.2.2.2.2.2.2.2.2">𝜃</ci><ci id="S2.E2.m1.9.9.2.2.2.2.2.2.2.2.3.cmml" xref="S2.E2.m1.9.9.2.2.2.2.2.2.2.2.3">𝑚</ci></apply><ci id="S2.E2.m1.9.9.2.2.2.2.2.2.2.3.cmml" xref="S2.E2.m1.9.9.2.2.2.2.2.2.2.3">𝑙</ci></apply></list></apply><apply id="S2.E2.m1.10.10.3.3.3.3.cmml" xref="S2.E2.m1.10.10.3.3.3.3"><csymbol cd="ambiguous" id="S2.E2.m1.10.10.3.3.3.3.1.cmml" xref="S2.E2.m1.10.10.3.3.3.3">superscript</csymbol><apply id="S2.E2.m1.10.10.3.3.3.3.2.cmml" xref="S2.E2.m1.10.10.3.3.3.3"><csymbol cd="ambiguous" id="S2.E2.m1.10.10.3.3.3.3.2.1.cmml" xref="S2.E2.m1.10.10.3.3.3.3">subscript</csymbol><ci id="S2.E2.m1.10.10.3.3.3.3.2.2.cmml" xref="S2.E2.m1.10.10.3.3.3.3.2.2">𝜃</ci><ci id="S2.E2.m1.10.10.3.3.3.3.2.3.cmml" xref="S2.E2.m1.10.10.3.3.3.3.2.3">𝑎</ci></apply><ci id="S2.E2.m1.10.10.3.3.3.3.3.cmml" xref="S2.E2.m1.10.10.3.3.3.3.3">𝑙</ci></apply></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.10c">\mathbf{h}_{v}^{(l)}=\mathrm{AGG}^{(l)}\left(\mathbf{h}_{v}^{(l-1)},\mathrm{%
MSG}^{(l)}\left(\{\mathbf{h}_{u}^{(l-1)},u\in N(v)\};\theta_{m}^{l}\right);%
\theta_{a}^{l}\right)</annotation><annotation encoding="application/x-llamapun" id="S2.E2.m1.10d">bold_h start_POSTSUBSCRIPT italic_v end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_l ) end_POSTSUPERSCRIPT = roman_AGG start_POSTSUPERSCRIPT ( italic_l ) end_POSTSUPERSCRIPT ( bold_h start_POSTSUBSCRIPT italic_v end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_l - 1 ) end_POSTSUPERSCRIPT , roman_MSG start_POSTSUPERSCRIPT ( italic_l ) end_POSTSUPERSCRIPT ( { bold_h start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_l - 1 ) end_POSTSUPERSCRIPT , italic_u ∈ italic_N ( italic_v ) } ; italic_θ start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_l end_POSTSUPERSCRIPT ) ; italic_θ start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_l end_POSTSUPERSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS1.p2.10">where <math alttext="\mathbf{h}_{u}^{(l)}\in\mathbb{R}^{d_{l}}" class="ltx_Math" display="inline" id="S2.SS1.p2.2.m1.1"><semantics id="S2.SS1.p2.2.m1.1a"><mrow id="S2.SS1.p2.2.m1.1.2" xref="S2.SS1.p2.2.m1.1.2.cmml"><msubsup id="S2.SS1.p2.2.m1.1.2.2" xref="S2.SS1.p2.2.m1.1.2.2.cmml"><mi id="S2.SS1.p2.2.m1.1.2.2.2.2" xref="S2.SS1.p2.2.m1.1.2.2.2.2.cmml">𝐡</mi><mi id="S2.SS1.p2.2.m1.1.2.2.2.3" xref="S2.SS1.p2.2.m1.1.2.2.2.3.cmml">u</mi><mrow id="S2.SS1.p2.2.m1.1.1.1.3" xref="S2.SS1.p2.2.m1.1.2.2.cmml"><mo id="S2.SS1.p2.2.m1.1.1.1.3.1" stretchy="false" xref="S2.SS1.p2.2.m1.1.2.2.cmml">(</mo><mi id="S2.SS1.p2.2.m1.1.1.1.1" xref="S2.SS1.p2.2.m1.1.1.1.1.cmml">l</mi><mo id="S2.SS1.p2.2.m1.1.1.1.3.2" stretchy="false" xref="S2.SS1.p2.2.m1.1.2.2.cmml">)</mo></mrow></msubsup><mo id="S2.SS1.p2.2.m1.1.2.1" xref="S2.SS1.p2.2.m1.1.2.1.cmml">∈</mo><msup id="S2.SS1.p2.2.m1.1.2.3" xref="S2.SS1.p2.2.m1.1.2.3.cmml"><mi id="S2.SS1.p2.2.m1.1.2.3.2" xref="S2.SS1.p2.2.m1.1.2.3.2.cmml">ℝ</mi><msub id="S2.SS1.p2.2.m1.1.2.3.3" xref="S2.SS1.p2.2.m1.1.2.3.3.cmml"><mi id="S2.SS1.p2.2.m1.1.2.3.3.2" xref="S2.SS1.p2.2.m1.1.2.3.3.2.cmml">d</mi><mi id="S2.SS1.p2.2.m1.1.2.3.3.3" xref="S2.SS1.p2.2.m1.1.2.3.3.3.cmml">l</mi></msub></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.2.m1.1b"><apply id="S2.SS1.p2.2.m1.1.2.cmml" xref="S2.SS1.p2.2.m1.1.2"><in id="S2.SS1.p2.2.m1.1.2.1.cmml" xref="S2.SS1.p2.2.m1.1.2.1"></in><apply id="S2.SS1.p2.2.m1.1.2.2.cmml" xref="S2.SS1.p2.2.m1.1.2.2"><csymbol cd="ambiguous" id="S2.SS1.p2.2.m1.1.2.2.1.cmml" xref="S2.SS1.p2.2.m1.1.2.2">superscript</csymbol><apply id="S2.SS1.p2.2.m1.1.2.2.2.cmml" xref="S2.SS1.p2.2.m1.1.2.2"><csymbol cd="ambiguous" id="S2.SS1.p2.2.m1.1.2.2.2.1.cmml" xref="S2.SS1.p2.2.m1.1.2.2">subscript</csymbol><ci id="S2.SS1.p2.2.m1.1.2.2.2.2.cmml" xref="S2.SS1.p2.2.m1.1.2.2.2.2">𝐡</ci><ci id="S2.SS1.p2.2.m1.1.2.2.2.3.cmml" xref="S2.SS1.p2.2.m1.1.2.2.2.3">𝑢</ci></apply><ci id="S2.SS1.p2.2.m1.1.1.1.1.cmml" xref="S2.SS1.p2.2.m1.1.1.1.1">𝑙</ci></apply><apply id="S2.SS1.p2.2.m1.1.2.3.cmml" xref="S2.SS1.p2.2.m1.1.2.3"><csymbol cd="ambiguous" id="S2.SS1.p2.2.m1.1.2.3.1.cmml" xref="S2.SS1.p2.2.m1.1.2.3">superscript</csymbol><ci id="S2.SS1.p2.2.m1.1.2.3.2.cmml" xref="S2.SS1.p2.2.m1.1.2.3.2">ℝ</ci><apply id="S2.SS1.p2.2.m1.1.2.3.3.cmml" xref="S2.SS1.p2.2.m1.1.2.3.3"><csymbol cd="ambiguous" id="S2.SS1.p2.2.m1.1.2.3.3.1.cmml" xref="S2.SS1.p2.2.m1.1.2.3.3">subscript</csymbol><ci id="S2.SS1.p2.2.m1.1.2.3.3.2.cmml" xref="S2.SS1.p2.2.m1.1.2.3.3.2">𝑑</ci><ci id="S2.SS1.p2.2.m1.1.2.3.3.3.cmml" xref="S2.SS1.p2.2.m1.1.2.3.3.3">𝑙</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.2.m1.1c">\mathbf{h}_{u}^{(l)}\in\mathbb{R}^{d_{l}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.2.m1.1d">bold_h start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_l ) end_POSTSUPERSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT italic_d start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math> is the embedding vector of nodes <math alttext="u" class="ltx_Math" display="inline" id="S2.SS1.p2.3.m2.1"><semantics id="S2.SS1.p2.3.m2.1a"><mi id="S2.SS1.p2.3.m2.1.1" xref="S2.SS1.p2.3.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.3.m2.1b"><ci id="S2.SS1.p2.3.m2.1.1.cmml" xref="S2.SS1.p2.3.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.3.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.3.m2.1d">italic_u</annotation></semantics></math> in layer <math alttext="l" class="ltx_Math" display="inline" id="S2.SS1.p2.4.m3.1"><semantics id="S2.SS1.p2.4.m3.1a"><mi id="S2.SS1.p2.4.m3.1.1" xref="S2.SS1.p2.4.m3.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.4.m3.1b"><ci id="S2.SS1.p2.4.m3.1.1.cmml" xref="S2.SS1.p2.4.m3.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.4.m3.1c">l</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.4.m3.1d">italic_l</annotation></semantics></math> and the embedding dimension is <math alttext="d_{l}" class="ltx_Math" display="inline" id="S2.SS1.p2.5.m4.1"><semantics id="S2.SS1.p2.5.m4.1a"><msub id="S2.SS1.p2.5.m4.1.1" xref="S2.SS1.p2.5.m4.1.1.cmml"><mi id="S2.SS1.p2.5.m4.1.1.2" xref="S2.SS1.p2.5.m4.1.1.2.cmml">d</mi><mi id="S2.SS1.p2.5.m4.1.1.3" xref="S2.SS1.p2.5.m4.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.5.m4.1b"><apply id="S2.SS1.p2.5.m4.1.1.cmml" xref="S2.SS1.p2.5.m4.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.5.m4.1.1.1.cmml" xref="S2.SS1.p2.5.m4.1.1">subscript</csymbol><ci id="S2.SS1.p2.5.m4.1.1.2.cmml" xref="S2.SS1.p2.5.m4.1.1.2">𝑑</ci><ci id="S2.SS1.p2.5.m4.1.1.3.cmml" xref="S2.SS1.p2.5.m4.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.5.m4.1c">d_{l}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.5.m4.1d">italic_d start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>.
<math alttext="\mathrm{MSG}^{(l)}(\cdot)" class="ltx_Math" display="inline" id="S2.SS1.p2.6.m5.2"><semantics id="S2.SS1.p2.6.m5.2a"><mrow id="S2.SS1.p2.6.m5.2.3" xref="S2.SS1.p2.6.m5.2.3.cmml"><msup id="S2.SS1.p2.6.m5.2.3.2" xref="S2.SS1.p2.6.m5.2.3.2.cmml"><mi id="S2.SS1.p2.6.m5.2.3.2.2" xref="S2.SS1.p2.6.m5.2.3.2.2.cmml">MSG</mi><mrow id="S2.SS1.p2.6.m5.1.1.1.3" xref="S2.SS1.p2.6.m5.2.3.2.cmml"><mo id="S2.SS1.p2.6.m5.1.1.1.3.1" stretchy="false" xref="S2.SS1.p2.6.m5.2.3.2.cmml">(</mo><mi id="S2.SS1.p2.6.m5.1.1.1.1" xref="S2.SS1.p2.6.m5.1.1.1.1.cmml">l</mi><mo id="S2.SS1.p2.6.m5.1.1.1.3.2" stretchy="false" xref="S2.SS1.p2.6.m5.2.3.2.cmml">)</mo></mrow></msup><mo id="S2.SS1.p2.6.m5.2.3.1" xref="S2.SS1.p2.6.m5.2.3.1.cmml">⁢</mo><mrow id="S2.SS1.p2.6.m5.2.3.3.2" xref="S2.SS1.p2.6.m5.2.3.cmml"><mo id="S2.SS1.p2.6.m5.2.3.3.2.1" stretchy="false" xref="S2.SS1.p2.6.m5.2.3.cmml">(</mo><mo id="S2.SS1.p2.6.m5.2.2" lspace="0em" rspace="0em" xref="S2.SS1.p2.6.m5.2.2.cmml">⋅</mo><mo id="S2.SS1.p2.6.m5.2.3.3.2.2" stretchy="false" xref="S2.SS1.p2.6.m5.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.6.m5.2b"><apply id="S2.SS1.p2.6.m5.2.3.cmml" xref="S2.SS1.p2.6.m5.2.3"><times id="S2.SS1.p2.6.m5.2.3.1.cmml" xref="S2.SS1.p2.6.m5.2.3.1"></times><apply id="S2.SS1.p2.6.m5.2.3.2.cmml" xref="S2.SS1.p2.6.m5.2.3.2"><csymbol cd="ambiguous" id="S2.SS1.p2.6.m5.2.3.2.1.cmml" xref="S2.SS1.p2.6.m5.2.3.2">superscript</csymbol><ci id="S2.SS1.p2.6.m5.2.3.2.2.cmml" xref="S2.SS1.p2.6.m5.2.3.2.2">MSG</ci><ci id="S2.SS1.p2.6.m5.1.1.1.1.cmml" xref="S2.SS1.p2.6.m5.1.1.1.1">𝑙</ci></apply><ci id="S2.SS1.p2.6.m5.2.2.cmml" xref="S2.SS1.p2.6.m5.2.2">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.6.m5.2c">\mathrm{MSG}^{(l)}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.6.m5.2d">roman_MSG start_POSTSUPERSCRIPT ( italic_l ) end_POSTSUPERSCRIPT ( ⋅ )</annotation></semantics></math> is a message computation function parameterized by <math alttext="\theta_{m}^{l}" class="ltx_Math" display="inline" id="S2.SS1.p2.7.m6.1"><semantics id="S2.SS1.p2.7.m6.1a"><msubsup id="S2.SS1.p2.7.m6.1.1" xref="S2.SS1.p2.7.m6.1.1.cmml"><mi id="S2.SS1.p2.7.m6.1.1.2.2" xref="S2.SS1.p2.7.m6.1.1.2.2.cmml">θ</mi><mi id="S2.SS1.p2.7.m6.1.1.2.3" xref="S2.SS1.p2.7.m6.1.1.2.3.cmml">m</mi><mi id="S2.SS1.p2.7.m6.1.1.3" xref="S2.SS1.p2.7.m6.1.1.3.cmml">l</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.7.m6.1b"><apply id="S2.SS1.p2.7.m6.1.1.cmml" xref="S2.SS1.p2.7.m6.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.7.m6.1.1.1.cmml" xref="S2.SS1.p2.7.m6.1.1">superscript</csymbol><apply id="S2.SS1.p2.7.m6.1.1.2.cmml" xref="S2.SS1.p2.7.m6.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.7.m6.1.1.2.1.cmml" xref="S2.SS1.p2.7.m6.1.1">subscript</csymbol><ci id="S2.SS1.p2.7.m6.1.1.2.2.cmml" xref="S2.SS1.p2.7.m6.1.1.2.2">𝜃</ci><ci id="S2.SS1.p2.7.m6.1.1.2.3.cmml" xref="S2.SS1.p2.7.m6.1.1.2.3">𝑚</ci></apply><ci id="S2.SS1.p2.7.m6.1.1.3.cmml" xref="S2.SS1.p2.7.m6.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.7.m6.1c">\theta_{m}^{l}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.7.m6.1d">italic_θ start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_l end_POSTSUPERSCRIPT</annotation></semantics></math> and
<math alttext="\mathrm{AGG}^{(l)}(\cdot)" class="ltx_Math" display="inline" id="S2.SS1.p2.8.m7.2"><semantics id="S2.SS1.p2.8.m7.2a"><mrow id="S2.SS1.p2.8.m7.2.3" xref="S2.SS1.p2.8.m7.2.3.cmml"><msup id="S2.SS1.p2.8.m7.2.3.2" xref="S2.SS1.p2.8.m7.2.3.2.cmml"><mi id="S2.SS1.p2.8.m7.2.3.2.2" xref="S2.SS1.p2.8.m7.2.3.2.2.cmml">AGG</mi><mrow id="S2.SS1.p2.8.m7.1.1.1.3" xref="S2.SS1.p2.8.m7.2.3.2.cmml"><mo id="S2.SS1.p2.8.m7.1.1.1.3.1" stretchy="false" xref="S2.SS1.p2.8.m7.2.3.2.cmml">(</mo><mi id="S2.SS1.p2.8.m7.1.1.1.1" xref="S2.SS1.p2.8.m7.1.1.1.1.cmml">l</mi><mo id="S2.SS1.p2.8.m7.1.1.1.3.2" stretchy="false" xref="S2.SS1.p2.8.m7.2.3.2.cmml">)</mo></mrow></msup><mo id="S2.SS1.p2.8.m7.2.3.1" xref="S2.SS1.p2.8.m7.2.3.1.cmml">⁢</mo><mrow id="S2.SS1.p2.8.m7.2.3.3.2" xref="S2.SS1.p2.8.m7.2.3.cmml"><mo id="S2.SS1.p2.8.m7.2.3.3.2.1" stretchy="false" xref="S2.SS1.p2.8.m7.2.3.cmml">(</mo><mo id="S2.SS1.p2.8.m7.2.2" lspace="0em" rspace="0em" xref="S2.SS1.p2.8.m7.2.2.cmml">⋅</mo><mo id="S2.SS1.p2.8.m7.2.3.3.2.2" stretchy="false" xref="S2.SS1.p2.8.m7.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.8.m7.2b"><apply id="S2.SS1.p2.8.m7.2.3.cmml" xref="S2.SS1.p2.8.m7.2.3"><times id="S2.SS1.p2.8.m7.2.3.1.cmml" xref="S2.SS1.p2.8.m7.2.3.1"></times><apply id="S2.SS1.p2.8.m7.2.3.2.cmml" xref="S2.SS1.p2.8.m7.2.3.2"><csymbol cd="ambiguous" id="S2.SS1.p2.8.m7.2.3.2.1.cmml" xref="S2.SS1.p2.8.m7.2.3.2">superscript</csymbol><ci id="S2.SS1.p2.8.m7.2.3.2.2.cmml" xref="S2.SS1.p2.8.m7.2.3.2.2">AGG</ci><ci id="S2.SS1.p2.8.m7.1.1.1.1.cmml" xref="S2.SS1.p2.8.m7.1.1.1.1">𝑙</ci></apply><ci id="S2.SS1.p2.8.m7.2.2.cmml" xref="S2.SS1.p2.8.m7.2.2">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.8.m7.2c">\mathrm{AGG}^{(l)}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.8.m7.2d">roman_AGG start_POSTSUPERSCRIPT ( italic_l ) end_POSTSUPERSCRIPT ( ⋅ )</annotation></semantics></math> is a message aggregation function parameterized by <math alttext="\theta_{a}^{l}" class="ltx_Math" display="inline" id="S2.SS1.p2.9.m8.1"><semantics id="S2.SS1.p2.9.m8.1a"><msubsup id="S2.SS1.p2.9.m8.1.1" xref="S2.SS1.p2.9.m8.1.1.cmml"><mi id="S2.SS1.p2.9.m8.1.1.2.2" xref="S2.SS1.p2.9.m8.1.1.2.2.cmml">θ</mi><mi id="S2.SS1.p2.9.m8.1.1.2.3" xref="S2.SS1.p2.9.m8.1.1.2.3.cmml">a</mi><mi id="S2.SS1.p2.9.m8.1.1.3" xref="S2.SS1.p2.9.m8.1.1.3.cmml">l</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.9.m8.1b"><apply id="S2.SS1.p2.9.m8.1.1.cmml" xref="S2.SS1.p2.9.m8.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.9.m8.1.1.1.cmml" xref="S2.SS1.p2.9.m8.1.1">superscript</csymbol><apply id="S2.SS1.p2.9.m8.1.1.2.cmml" xref="S2.SS1.p2.9.m8.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.9.m8.1.1.2.1.cmml" xref="S2.SS1.p2.9.m8.1.1">subscript</csymbol><ci id="S2.SS1.p2.9.m8.1.1.2.2.cmml" xref="S2.SS1.p2.9.m8.1.1.2.2">𝜃</ci><ci id="S2.SS1.p2.9.m8.1.1.2.3.cmml" xref="S2.SS1.p2.9.m8.1.1.2.3">𝑎</ci></apply><ci id="S2.SS1.p2.9.m8.1.1.3.cmml" xref="S2.SS1.p2.9.m8.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.9.m8.1c">\theta_{a}^{l}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.9.m8.1d">italic_θ start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_l end_POSTSUPERSCRIPT</annotation></semantics></math> in layer <math alttext="l" class="ltx_Math" display="inline" id="S2.SS1.p2.10.m9.1"><semantics id="S2.SS1.p2.10.m9.1a"><mi id="S2.SS1.p2.10.m9.1.1" xref="S2.SS1.p2.10.m9.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.10.m9.1b"><ci id="S2.SS1.p2.10.m9.1.1.cmml" xref="S2.SS1.p2.10.m9.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.10.m9.1c">l</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.10.m9.1d">italic_l</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Graph Construction</h3>
<div class="ltx_para ltx_noindent" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">In this section, we describe how to organize LLM historical responses into a graph of records by simulating user queries.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.4"><span class="ltx_text ltx_font_bold" id="S2.SS2.p2.4.1">Query Simulation.</span> User queries play a very critical role in the design of GoR since LLM historical responses generated by lots of repetitive, nonsense, or meaningless questions are inherently not beneficial for summarization.
One solution is to use doc2query <cite class="ltx_cite ltx_citemacro_cite">Nogueira et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib34" title="">2019</a>)</cite> to simulate queries for a long document, but the generated results inevitably suffer from simplicity and rigidity due to the limited text generation capabilities of T5 <cite class="ltx_cite ltx_citemacro_cite">Raffel et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib35" title="">2020</a>)</cite>.
To this end, we directly turn to LLMs for query simulation with temperature sampling instead of greedy decoding for generating meaningful, insightful, and diverse questions.
Specifically, we split a long document into several text chunks <math alttext="\mathbf{C}" class="ltx_Math" display="inline" id="S2.SS2.p2.1.m1.1"><semantics id="S2.SS2.p2.1.m1.1a"><mi id="S2.SS2.p2.1.m1.1.1" xref="S2.SS2.p2.1.m1.1.1.cmml">𝐂</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.1b"><ci id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1">𝐂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.1c">\mathbf{C}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.1.m1.1d">bold_C</annotation></semantics></math> following the standard procedure of RAG and prompt LLMs to generate a query <math alttext="\mathbf{q}^{\mathbf{s}}" class="ltx_Math" display="inline" id="S2.SS2.p2.2.m2.1"><semantics id="S2.SS2.p2.2.m2.1a"><msup id="S2.SS2.p2.2.m2.1.1" xref="S2.SS2.p2.2.m2.1.1.cmml"><mi id="S2.SS2.p2.2.m2.1.1.2" xref="S2.SS2.p2.2.m2.1.1.2.cmml">𝐪</mi><mi id="S2.SS2.p2.2.m2.1.1.3" xref="S2.SS2.p2.2.m2.1.1.3.cmml">𝐬</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.2.m2.1b"><apply id="S2.SS2.p2.2.m2.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.2.m2.1.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1">superscript</csymbol><ci id="S2.SS2.p2.2.m2.1.1.2.cmml" xref="S2.SS2.p2.2.m2.1.1.2">𝐪</ci><ci id="S2.SS2.p2.2.m2.1.1.3.cmml" xref="S2.SS2.p2.2.m2.1.1.3">𝐬</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.2.m2.1c">\mathbf{q}^{\mathbf{s}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.2.m2.1d">bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT</annotation></semantics></math> based on a randomly selected text chunk <math alttext="\mathbf{c}^{\mathbf{s}}" class="ltx_Math" display="inline" id="S2.SS2.p2.3.m3.1"><semantics id="S2.SS2.p2.3.m3.1a"><msup id="S2.SS2.p2.3.m3.1.1" xref="S2.SS2.p2.3.m3.1.1.cmml"><mi id="S2.SS2.p2.3.m3.1.1.2" xref="S2.SS2.p2.3.m3.1.1.2.cmml">𝐜</mi><mi id="S2.SS2.p2.3.m3.1.1.3" xref="S2.SS2.p2.3.m3.1.1.3.cmml">𝐬</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.3.m3.1b"><apply id="S2.SS2.p2.3.m3.1.1.cmml" xref="S2.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.3.m3.1.1.1.cmml" xref="S2.SS2.p2.3.m3.1.1">superscript</csymbol><ci id="S2.SS2.p2.3.m3.1.1.2.cmml" xref="S2.SS2.p2.3.m3.1.1.2">𝐜</ci><ci id="S2.SS2.p2.3.m3.1.1.3.cmml" xref="S2.SS2.p2.3.m3.1.1.3">𝐬</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.3.m3.1c">\mathbf{c}^{\mathbf{s}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.3.m3.1d">bold_c start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT</annotation></semantics></math>.
We repeat the above process until a certain number of non-duplicate queries are generated, which are gathered in pairs with the corresponding text chunks to form a corpus <math alttext="\mathbf{T}=\{(\mathbf{q}^{\mathbf{s}}_{i},\mathbf{c}^{\mathbf{s}}_{i})\}_{i=1}%
^{|\mathbf{T}|}" class="ltx_Math" display="inline" id="S2.SS2.p2.4.m4.2"><semantics id="S2.SS2.p2.4.m4.2a"><mrow id="S2.SS2.p2.4.m4.2.2" xref="S2.SS2.p2.4.m4.2.2.cmml"><mi id="S2.SS2.p2.4.m4.2.2.3" xref="S2.SS2.p2.4.m4.2.2.3.cmml">𝐓</mi><mo id="S2.SS2.p2.4.m4.2.2.2" xref="S2.SS2.p2.4.m4.2.2.2.cmml">=</mo><msubsup id="S2.SS2.p2.4.m4.2.2.1" xref="S2.SS2.p2.4.m4.2.2.1.cmml"><mrow id="S2.SS2.p2.4.m4.2.2.1.1.1.1" xref="S2.SS2.p2.4.m4.2.2.1.1.1.2.cmml"><mo id="S2.SS2.p2.4.m4.2.2.1.1.1.1.2" stretchy="false" xref="S2.SS2.p2.4.m4.2.2.1.1.1.2.cmml">{</mo><mrow id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.3.cmml"><mo id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.3" stretchy="false" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.3.cmml">(</mo><msubsup id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.cmml"><mi id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.2.2" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.2.2.cmml">𝐪</mi><mi id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.3" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.3.cmml">i</mi><mi id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.2.3" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.2.3.cmml">𝐬</mi></msubsup><mo id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.4" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.3.cmml">,</mo><msubsup id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.cmml"><mi id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.2.2" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.2.2.cmml">𝐜</mi><mi id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.3" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.3.cmml">i</mi><mi id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.2.3" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.2.3.cmml">𝐬</mi></msubsup><mo id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.5" stretchy="false" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.3.cmml">)</mo></mrow><mo id="S2.SS2.p2.4.m4.2.2.1.1.1.1.3" stretchy="false" xref="S2.SS2.p2.4.m4.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS2.p2.4.m4.2.2.1.1.3" xref="S2.SS2.p2.4.m4.2.2.1.1.3.cmml"><mi id="S2.SS2.p2.4.m4.2.2.1.1.3.2" xref="S2.SS2.p2.4.m4.2.2.1.1.3.2.cmml">i</mi><mo id="S2.SS2.p2.4.m4.2.2.1.1.3.1" xref="S2.SS2.p2.4.m4.2.2.1.1.3.1.cmml">=</mo><mn id="S2.SS2.p2.4.m4.2.2.1.1.3.3" xref="S2.SS2.p2.4.m4.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S2.SS2.p2.4.m4.1.1.1.3" xref="S2.SS2.p2.4.m4.1.1.1.2.cmml"><mo id="S2.SS2.p2.4.m4.1.1.1.3.1" stretchy="false" xref="S2.SS2.p2.4.m4.1.1.1.2.1.cmml">|</mo><mi id="S2.SS2.p2.4.m4.1.1.1.1" xref="S2.SS2.p2.4.m4.1.1.1.1.cmml">𝐓</mi><mo id="S2.SS2.p2.4.m4.1.1.1.3.2" stretchy="false" xref="S2.SS2.p2.4.m4.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.4.m4.2b"><apply id="S2.SS2.p2.4.m4.2.2.cmml" xref="S2.SS2.p2.4.m4.2.2"><eq id="S2.SS2.p2.4.m4.2.2.2.cmml" xref="S2.SS2.p2.4.m4.2.2.2"></eq><ci id="S2.SS2.p2.4.m4.2.2.3.cmml" xref="S2.SS2.p2.4.m4.2.2.3">𝐓</ci><apply id="S2.SS2.p2.4.m4.2.2.1.cmml" xref="S2.SS2.p2.4.m4.2.2.1"><csymbol cd="ambiguous" id="S2.SS2.p2.4.m4.2.2.1.2.cmml" xref="S2.SS2.p2.4.m4.2.2.1">superscript</csymbol><apply id="S2.SS2.p2.4.m4.2.2.1.1.cmml" xref="S2.SS2.p2.4.m4.2.2.1"><csymbol cd="ambiguous" id="S2.SS2.p2.4.m4.2.2.1.1.2.cmml" xref="S2.SS2.p2.4.m4.2.2.1">subscript</csymbol><set id="S2.SS2.p2.4.m4.2.2.1.1.1.2.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1"><interval closure="open" id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.3.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2"><apply id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1">subscript</csymbol><apply id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.2.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1">superscript</csymbol><ci id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.2.2">𝐪</ci><ci id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.2.3">𝐬</ci></apply><ci id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.3.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.1.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2">subscript</csymbol><apply id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.2.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.2.1.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2">superscript</csymbol><ci id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.2.2.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.2.2">𝐜</ci><ci id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.2.3.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.2.3">𝐬</ci></apply><ci id="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.3.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.1.1.1.2.2.3">𝑖</ci></apply></interval></set><apply id="S2.SS2.p2.4.m4.2.2.1.1.3.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.3"><eq id="S2.SS2.p2.4.m4.2.2.1.1.3.1.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.3.1"></eq><ci id="S2.SS2.p2.4.m4.2.2.1.1.3.2.cmml" xref="S2.SS2.p2.4.m4.2.2.1.1.3.2">𝑖</ci><cn id="S2.SS2.p2.4.m4.2.2.1.1.3.3.cmml" type="integer" xref="S2.SS2.p2.4.m4.2.2.1.1.3.3">1</cn></apply></apply><apply id="S2.SS2.p2.4.m4.1.1.1.2.cmml" xref="S2.SS2.p2.4.m4.1.1.1.3"><abs id="S2.SS2.p2.4.m4.1.1.1.2.1.cmml" xref="S2.SS2.p2.4.m4.1.1.1.3.1"></abs><ci id="S2.SS2.p2.4.m4.1.1.1.1.cmml" xref="S2.SS2.p2.4.m4.1.1.1.1">𝐓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.4.m4.2c">\mathbf{T}=\{(\mathbf{q}^{\mathbf{s}}_{i},\mathbf{c}^{\mathbf{s}}_{i})\}_{i=1}%
^{|\mathbf{T}|}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.4.m4.2d">bold_T = { ( bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , bold_c start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | bold_T | end_POSTSUPERSCRIPT</annotation></semantics></math> for further model training (Section <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S2.SS3" title="2.3 BERTScore-based Objective for Self-supervised Training ‣ 2 Graph of Records ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">2.3</span></a>).
The prompt for query simulation can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A2" title="Appendix B LLM Prompts ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS2.p3">
<p class="ltx_p" id="S2.SS2.p3.1"><span class="ltx_text ltx_font_bold" id="S2.SS2.p3.1.1">Organize LLM Historical Responses into A Graph</span>. After obtaining simulated queries, we utilize them to perform RAG on the long document.
LLM-generated responses during this process include informative and valuable understanding, summarizing, and answering of retrieved text chunks in the long document.
Moreover, since there may exist sophisticated correlations among simulated queries, the text chunks and responses can inherit these features and potentially assist in answering a more comprehensive query, especially global summarization that needs to be understood from a holistic perspective.
Nevertheless, it is a significant challenge to find correlations among complex and massive text at the linguistic level and the embeddings from language models (<span class="ltx_text ltx_font_italic" id="S2.SS2.p3.1.2">e.g.</span>, SBERT <cite class="ltx_cite ltx_citemacro_cite">Reimers &amp; Gurevych (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib38" title="">2019</a>)</cite>) or retrievers <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib19" title="">2020</a>)</cite> focus on semantic similarity, which also suffers from poor performance in this case.
To this end, we propose to break out of this dilemma by organizing these historical responses into a graph.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS2.p4">
<p class="ltx_p" id="S2.SS2.p4.10">Inspired by the <span class="ltx_text ltx_font_italic" id="S2.SS2.p4.10.1">retrieve-then-generate</span> process of RAG, we can connect the retrieved chunks to the corresponding response generated by LLMs since they are naturally relevant in content.
Sequentially, during the <math alttext="\mathbf{i}" class="ltx_Math" display="inline" id="S2.SS2.p4.1.m1.1"><semantics id="S2.SS2.p4.1.m1.1a"><mi id="S2.SS2.p4.1.m1.1.1" xref="S2.SS2.p4.1.m1.1.1.cmml">𝐢</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.1.m1.1b"><ci id="S2.SS2.p4.1.m1.1.1.cmml" xref="S2.SS2.p4.1.m1.1.1">𝐢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.1.m1.1c">\mathbf{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.1.m1.1d">bold_i</annotation></semantics></math>-th round RAG, given the simulated query <math alttext="\mathbf{q}^{\mathbf{s}}_{\mathbf{i}}" class="ltx_Math" display="inline" id="S2.SS2.p4.2.m2.1"><semantics id="S2.SS2.p4.2.m2.1a"><msubsup id="S2.SS2.p4.2.m2.1.1" xref="S2.SS2.p4.2.m2.1.1.cmml"><mi id="S2.SS2.p4.2.m2.1.1.2.2" xref="S2.SS2.p4.2.m2.1.1.2.2.cmml">𝐪</mi><mi id="S2.SS2.p4.2.m2.1.1.3" xref="S2.SS2.p4.2.m2.1.1.3.cmml">𝐢</mi><mi id="S2.SS2.p4.2.m2.1.1.2.3" xref="S2.SS2.p4.2.m2.1.1.2.3.cmml">𝐬</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.2.m2.1b"><apply id="S2.SS2.p4.2.m2.1.1.cmml" xref="S2.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.2.m2.1.1.1.cmml" xref="S2.SS2.p4.2.m2.1.1">subscript</csymbol><apply id="S2.SS2.p4.2.m2.1.1.2.cmml" xref="S2.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.2.m2.1.1.2.1.cmml" xref="S2.SS2.p4.2.m2.1.1">superscript</csymbol><ci id="S2.SS2.p4.2.m2.1.1.2.2.cmml" xref="S2.SS2.p4.2.m2.1.1.2.2">𝐪</ci><ci id="S2.SS2.p4.2.m2.1.1.2.3.cmml" xref="S2.SS2.p4.2.m2.1.1.2.3">𝐬</ci></apply><ci id="S2.SS2.p4.2.m2.1.1.3.cmml" xref="S2.SS2.p4.2.m2.1.1.3">𝐢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.2.m2.1c">\mathbf{q}^{\mathbf{s}}_{\mathbf{i}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.2.m2.1d">bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT bold_i end_POSTSUBSCRIPT</annotation></semantics></math>, we expand the retrieval corpus <math alttext="\mathbf{C}" class="ltx_Math" display="inline" id="S2.SS2.p4.3.m3.1"><semantics id="S2.SS2.p4.3.m3.1a"><mi id="S2.SS2.p4.3.m3.1.1" xref="S2.SS2.p4.3.m3.1.1.cmml">𝐂</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.3.m3.1b"><ci id="S2.SS2.p4.3.m3.1.1.cmml" xref="S2.SS2.p4.3.m3.1.1">𝐂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.3.m3.1c">\mathbf{C}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.3.m3.1d">bold_C</annotation></semantics></math> with previously generated responses <math alttext="\{\mathbf{r}_{\mathbf{1}},\cdots,\mathbf{r}_{\mathbf{i-1}}\}" class="ltx_Math" display="inline" id="S2.SS2.p4.4.m4.3"><semantics id="S2.SS2.p4.4.m4.3a"><mrow id="S2.SS2.p4.4.m4.3.3.2" xref="S2.SS2.p4.4.m4.3.3.3.cmml"><mo id="S2.SS2.p4.4.m4.3.3.2.3" stretchy="false" xref="S2.SS2.p4.4.m4.3.3.3.cmml">{</mo><msub id="S2.SS2.p4.4.m4.2.2.1.1" xref="S2.SS2.p4.4.m4.2.2.1.1.cmml"><mi id="S2.SS2.p4.4.m4.2.2.1.1.2" xref="S2.SS2.p4.4.m4.2.2.1.1.2.cmml">𝐫</mi><mn id="S2.SS2.p4.4.m4.2.2.1.1.3" xref="S2.SS2.p4.4.m4.2.2.1.1.3.cmml">𝟏</mn></msub><mo id="S2.SS2.p4.4.m4.3.3.2.4" xref="S2.SS2.p4.4.m4.3.3.3.cmml">,</mo><mi id="S2.SS2.p4.4.m4.1.1" mathvariant="normal" xref="S2.SS2.p4.4.m4.1.1.cmml">⋯</mi><mo id="S2.SS2.p4.4.m4.3.3.2.5" xref="S2.SS2.p4.4.m4.3.3.3.cmml">,</mo><msub id="S2.SS2.p4.4.m4.3.3.2.2" xref="S2.SS2.p4.4.m4.3.3.2.2.cmml"><mi id="S2.SS2.p4.4.m4.3.3.2.2.2" xref="S2.SS2.p4.4.m4.3.3.2.2.2.cmml">𝐫</mi><mrow id="S2.SS2.p4.4.m4.3.3.2.2.3" xref="S2.SS2.p4.4.m4.3.3.2.2.3.cmml"><mi id="S2.SS2.p4.4.m4.3.3.2.2.3.2" xref="S2.SS2.p4.4.m4.3.3.2.2.3.2.cmml">𝐢</mi><mo id="S2.SS2.p4.4.m4.3.3.2.2.3.1" xref="S2.SS2.p4.4.m4.3.3.2.2.3.1.cmml">−</mo><mn id="S2.SS2.p4.4.m4.3.3.2.2.3.3" xref="S2.SS2.p4.4.m4.3.3.2.2.3.3.cmml">𝟏</mn></mrow></msub><mo id="S2.SS2.p4.4.m4.3.3.2.6" stretchy="false" xref="S2.SS2.p4.4.m4.3.3.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.4.m4.3b"><set id="S2.SS2.p4.4.m4.3.3.3.cmml" xref="S2.SS2.p4.4.m4.3.3.2"><apply id="S2.SS2.p4.4.m4.2.2.1.1.cmml" xref="S2.SS2.p4.4.m4.2.2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.4.m4.2.2.1.1.1.cmml" xref="S2.SS2.p4.4.m4.2.2.1.1">subscript</csymbol><ci id="S2.SS2.p4.4.m4.2.2.1.1.2.cmml" xref="S2.SS2.p4.4.m4.2.2.1.1.2">𝐫</ci><cn id="S2.SS2.p4.4.m4.2.2.1.1.3.cmml" type="integer" xref="S2.SS2.p4.4.m4.2.2.1.1.3">1</cn></apply><ci id="S2.SS2.p4.4.m4.1.1.cmml" xref="S2.SS2.p4.4.m4.1.1">⋯</ci><apply id="S2.SS2.p4.4.m4.3.3.2.2.cmml" xref="S2.SS2.p4.4.m4.3.3.2.2"><csymbol cd="ambiguous" id="S2.SS2.p4.4.m4.3.3.2.2.1.cmml" xref="S2.SS2.p4.4.m4.3.3.2.2">subscript</csymbol><ci id="S2.SS2.p4.4.m4.3.3.2.2.2.cmml" xref="S2.SS2.p4.4.m4.3.3.2.2.2">𝐫</ci><apply id="S2.SS2.p4.4.m4.3.3.2.2.3.cmml" xref="S2.SS2.p4.4.m4.3.3.2.2.3"><minus id="S2.SS2.p4.4.m4.3.3.2.2.3.1.cmml" xref="S2.SS2.p4.4.m4.3.3.2.2.3.1"></minus><ci id="S2.SS2.p4.4.m4.3.3.2.2.3.2.cmml" xref="S2.SS2.p4.4.m4.3.3.2.2.3.2">𝐢</ci><cn id="S2.SS2.p4.4.m4.3.3.2.2.3.3.cmml" type="integer" xref="S2.SS2.p4.4.m4.3.3.2.2.3.3">1</cn></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.4.m4.3c">\{\mathbf{r}_{\mathbf{1}},\cdots,\mathbf{r}_{\mathbf{i-1}}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.4.m4.3d">{ bold_r start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT , ⋯ , bold_r start_POSTSUBSCRIPT bold_i - bold_1 end_POSTSUBSCRIPT }</annotation></semantics></math> and then build an edge between each retrieved chunk <math alttext="\mathbf{c}_{\mathbf{j}}\in\{\mathbf{c}_{\mathbf{1}},\cdots,\mathbf{c}_{\mathbf%
{K}}\}" class="ltx_Math" display="inline" id="S2.SS2.p4.5.m5.3"><semantics id="S2.SS2.p4.5.m5.3a"><mrow id="S2.SS2.p4.5.m5.3.3" xref="S2.SS2.p4.5.m5.3.3.cmml"><msub id="S2.SS2.p4.5.m5.3.3.4" xref="S2.SS2.p4.5.m5.3.3.4.cmml"><mi id="S2.SS2.p4.5.m5.3.3.4.2" xref="S2.SS2.p4.5.m5.3.3.4.2.cmml">𝐜</mi><mi id="S2.SS2.p4.5.m5.3.3.4.3" xref="S2.SS2.p4.5.m5.3.3.4.3.cmml">𝐣</mi></msub><mo id="S2.SS2.p4.5.m5.3.3.3" xref="S2.SS2.p4.5.m5.3.3.3.cmml">∈</mo><mrow id="S2.SS2.p4.5.m5.3.3.2.2" xref="S2.SS2.p4.5.m5.3.3.2.3.cmml"><mo id="S2.SS2.p4.5.m5.3.3.2.2.3" stretchy="false" xref="S2.SS2.p4.5.m5.3.3.2.3.cmml">{</mo><msub id="S2.SS2.p4.5.m5.2.2.1.1.1" xref="S2.SS2.p4.5.m5.2.2.1.1.1.cmml"><mi id="S2.SS2.p4.5.m5.2.2.1.1.1.2" xref="S2.SS2.p4.5.m5.2.2.1.1.1.2.cmml">𝐜</mi><mn id="S2.SS2.p4.5.m5.2.2.1.1.1.3" xref="S2.SS2.p4.5.m5.2.2.1.1.1.3.cmml">𝟏</mn></msub><mo id="S2.SS2.p4.5.m5.3.3.2.2.4" xref="S2.SS2.p4.5.m5.3.3.2.3.cmml">,</mo><mi id="S2.SS2.p4.5.m5.1.1" mathvariant="normal" xref="S2.SS2.p4.5.m5.1.1.cmml">⋯</mi><mo id="S2.SS2.p4.5.m5.3.3.2.2.5" xref="S2.SS2.p4.5.m5.3.3.2.3.cmml">,</mo><msub id="S2.SS2.p4.5.m5.3.3.2.2.2" xref="S2.SS2.p4.5.m5.3.3.2.2.2.cmml"><mi id="S2.SS2.p4.5.m5.3.3.2.2.2.2" xref="S2.SS2.p4.5.m5.3.3.2.2.2.2.cmml">𝐜</mi><mi id="S2.SS2.p4.5.m5.3.3.2.2.2.3" xref="S2.SS2.p4.5.m5.3.3.2.2.2.3.cmml">𝐊</mi></msub><mo id="S2.SS2.p4.5.m5.3.3.2.2.6" stretchy="false" xref="S2.SS2.p4.5.m5.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.5.m5.3b"><apply id="S2.SS2.p4.5.m5.3.3.cmml" xref="S2.SS2.p4.5.m5.3.3"><in id="S2.SS2.p4.5.m5.3.3.3.cmml" xref="S2.SS2.p4.5.m5.3.3.3"></in><apply id="S2.SS2.p4.5.m5.3.3.4.cmml" xref="S2.SS2.p4.5.m5.3.3.4"><csymbol cd="ambiguous" id="S2.SS2.p4.5.m5.3.3.4.1.cmml" xref="S2.SS2.p4.5.m5.3.3.4">subscript</csymbol><ci id="S2.SS2.p4.5.m5.3.3.4.2.cmml" xref="S2.SS2.p4.5.m5.3.3.4.2">𝐜</ci><ci id="S2.SS2.p4.5.m5.3.3.4.3.cmml" xref="S2.SS2.p4.5.m5.3.3.4.3">𝐣</ci></apply><set id="S2.SS2.p4.5.m5.3.3.2.3.cmml" xref="S2.SS2.p4.5.m5.3.3.2.2"><apply id="S2.SS2.p4.5.m5.2.2.1.1.1.cmml" xref="S2.SS2.p4.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.5.m5.2.2.1.1.1.1.cmml" xref="S2.SS2.p4.5.m5.2.2.1.1.1">subscript</csymbol><ci id="S2.SS2.p4.5.m5.2.2.1.1.1.2.cmml" xref="S2.SS2.p4.5.m5.2.2.1.1.1.2">𝐜</ci><cn id="S2.SS2.p4.5.m5.2.2.1.1.1.3.cmml" type="integer" xref="S2.SS2.p4.5.m5.2.2.1.1.1.3">1</cn></apply><ci id="S2.SS2.p4.5.m5.1.1.cmml" xref="S2.SS2.p4.5.m5.1.1">⋯</ci><apply id="S2.SS2.p4.5.m5.3.3.2.2.2.cmml" xref="S2.SS2.p4.5.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.p4.5.m5.3.3.2.2.2.1.cmml" xref="S2.SS2.p4.5.m5.3.3.2.2.2">subscript</csymbol><ci id="S2.SS2.p4.5.m5.3.3.2.2.2.2.cmml" xref="S2.SS2.p4.5.m5.3.3.2.2.2.2">𝐜</ci><ci id="S2.SS2.p4.5.m5.3.3.2.2.2.3.cmml" xref="S2.SS2.p4.5.m5.3.3.2.2.2.3">𝐊</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.5.m5.3c">\mathbf{c}_{\mathbf{j}}\in\{\mathbf{c}_{\mathbf{1}},\cdots,\mathbf{c}_{\mathbf%
{K}}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.5.m5.3d">bold_c start_POSTSUBSCRIPT bold_j end_POSTSUBSCRIPT ∈ { bold_c start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT , ⋯ , bold_c start_POSTSUBSCRIPT bold_K end_POSTSUBSCRIPT }</annotation></semantics></math> and the newly generated LLM response <math alttext="\mathbf{r}_{\mathbf{i}}" class="ltx_Math" display="inline" id="S2.SS2.p4.6.m6.1"><semantics id="S2.SS2.p4.6.m6.1a"><msub id="S2.SS2.p4.6.m6.1.1" xref="S2.SS2.p4.6.m6.1.1.cmml"><mi id="S2.SS2.p4.6.m6.1.1.2" xref="S2.SS2.p4.6.m6.1.1.2.cmml">𝐫</mi><mi id="S2.SS2.p4.6.m6.1.1.3" xref="S2.SS2.p4.6.m6.1.1.3.cmml">𝐢</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.6.m6.1b"><apply id="S2.SS2.p4.6.m6.1.1.cmml" xref="S2.SS2.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.6.m6.1.1.1.cmml" xref="S2.SS2.p4.6.m6.1.1">subscript</csymbol><ci id="S2.SS2.p4.6.m6.1.1.2.cmml" xref="S2.SS2.p4.6.m6.1.1.2">𝐫</ci><ci id="S2.SS2.p4.6.m6.1.1.3.cmml" xref="S2.SS2.p4.6.m6.1.1.3">𝐢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.6.m6.1c">\mathbf{r}_{\mathbf{i}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.6.m6.1d">bold_r start_POSTSUBSCRIPT bold_i end_POSTSUBSCRIPT</annotation></semantics></math>, resulting in <math alttext="\mathbf{K}" class="ltx_Math" display="inline" id="S2.SS2.p4.7.m7.1"><semantics id="S2.SS2.p4.7.m7.1a"><mi id="S2.SS2.p4.7.m7.1.1" xref="S2.SS2.p4.7.m7.1.1.cmml">𝐊</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.7.m7.1b"><ci id="S2.SS2.p4.7.m7.1.1.cmml" xref="S2.SS2.p4.7.m7.1.1">𝐊</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.7.m7.1c">\mathbf{K}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.7.m7.1d">bold_K</annotation></semantics></math> edges constructed in each round.
Note that we append the responses generated by each round of RAG to the retrieval corpus because they contain more refined knowledge compared with the text chunks from <math alttext="\mathbf{C}" class="ltx_Math" display="inline" id="S2.SS2.p4.8.m8.1"><semantics id="S2.SS2.p4.8.m8.1a"><mi id="S2.SS2.p4.8.m8.1.1" xref="S2.SS2.p4.8.m8.1.1.cmml">𝐂</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.8.m8.1b"><ci id="S2.SS2.p4.8.m8.1.1.cmml" xref="S2.SS2.p4.8.m8.1.1">𝐂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.8.m8.1c">\mathbf{C}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.8.m8.1d">bold_C</annotation></semantics></math> and can help LLMs generate comprehensive responses in a self-evolving manner.
Formally, the <math alttext="\mathbf{i}" class="ltx_Math" display="inline" id="S2.SS2.p4.9.m9.1"><semantics id="S2.SS2.p4.9.m9.1a"><mi id="S2.SS2.p4.9.m9.1.1" xref="S2.SS2.p4.9.m9.1.1.cmml">𝐢</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.9.m9.1b"><ci id="S2.SS2.p4.9.m9.1.1.cmml" xref="S2.SS2.p4.9.m9.1.1">𝐢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.9.m9.1c">\mathbf{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.9.m9.1d">bold_i</annotation></semantics></math>-th round RAG on simulated queries <math alttext="\{\mathbf{q}^{\mathbf{s}}_{i}\}_{i=1}^{|\mathbf{T}|}" class="ltx_Math" display="inline" id="S2.SS2.p4.10.m10.2"><semantics id="S2.SS2.p4.10.m10.2a"><msubsup id="S2.SS2.p4.10.m10.2.2" xref="S2.SS2.p4.10.m10.2.2.cmml"><mrow id="S2.SS2.p4.10.m10.2.2.1.1.1" xref="S2.SS2.p4.10.m10.2.2.1.1.2.cmml"><mo id="S2.SS2.p4.10.m10.2.2.1.1.1.2" stretchy="false" xref="S2.SS2.p4.10.m10.2.2.1.1.2.cmml">{</mo><msubsup id="S2.SS2.p4.10.m10.2.2.1.1.1.1" xref="S2.SS2.p4.10.m10.2.2.1.1.1.1.cmml"><mi id="S2.SS2.p4.10.m10.2.2.1.1.1.1.2.2" xref="S2.SS2.p4.10.m10.2.2.1.1.1.1.2.2.cmml">𝐪</mi><mi id="S2.SS2.p4.10.m10.2.2.1.1.1.1.3" xref="S2.SS2.p4.10.m10.2.2.1.1.1.1.3.cmml">i</mi><mi id="S2.SS2.p4.10.m10.2.2.1.1.1.1.2.3" xref="S2.SS2.p4.10.m10.2.2.1.1.1.1.2.3.cmml">𝐬</mi></msubsup><mo id="S2.SS2.p4.10.m10.2.2.1.1.1.3" stretchy="false" xref="S2.SS2.p4.10.m10.2.2.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS2.p4.10.m10.2.2.1.3" xref="S2.SS2.p4.10.m10.2.2.1.3.cmml"><mi id="S2.SS2.p4.10.m10.2.2.1.3.2" xref="S2.SS2.p4.10.m10.2.2.1.3.2.cmml">i</mi><mo id="S2.SS2.p4.10.m10.2.2.1.3.1" xref="S2.SS2.p4.10.m10.2.2.1.3.1.cmml">=</mo><mn id="S2.SS2.p4.10.m10.2.2.1.3.3" xref="S2.SS2.p4.10.m10.2.2.1.3.3.cmml">1</mn></mrow><mrow id="S2.SS2.p4.10.m10.1.1.1.3" xref="S2.SS2.p4.10.m10.1.1.1.2.cmml"><mo id="S2.SS2.p4.10.m10.1.1.1.3.1" stretchy="false" xref="S2.SS2.p4.10.m10.1.1.1.2.1.cmml">|</mo><mi id="S2.SS2.p4.10.m10.1.1.1.1" xref="S2.SS2.p4.10.m10.1.1.1.1.cmml">𝐓</mi><mo id="S2.SS2.p4.10.m10.1.1.1.3.2" stretchy="false" xref="S2.SS2.p4.10.m10.1.1.1.2.1.cmml">|</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.10.m10.2b"><apply id="S2.SS2.p4.10.m10.2.2.cmml" xref="S2.SS2.p4.10.m10.2.2"><csymbol cd="ambiguous" id="S2.SS2.p4.10.m10.2.2.2.cmml" xref="S2.SS2.p4.10.m10.2.2">superscript</csymbol><apply id="S2.SS2.p4.10.m10.2.2.1.cmml" xref="S2.SS2.p4.10.m10.2.2"><csymbol cd="ambiguous" id="S2.SS2.p4.10.m10.2.2.1.2.cmml" xref="S2.SS2.p4.10.m10.2.2">subscript</csymbol><set id="S2.SS2.p4.10.m10.2.2.1.1.2.cmml" xref="S2.SS2.p4.10.m10.2.2.1.1.1"><apply id="S2.SS2.p4.10.m10.2.2.1.1.1.1.cmml" xref="S2.SS2.p4.10.m10.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.10.m10.2.2.1.1.1.1.1.cmml" xref="S2.SS2.p4.10.m10.2.2.1.1.1.1">subscript</csymbol><apply id="S2.SS2.p4.10.m10.2.2.1.1.1.1.2.cmml" xref="S2.SS2.p4.10.m10.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p4.10.m10.2.2.1.1.1.1.2.1.cmml" xref="S2.SS2.p4.10.m10.2.2.1.1.1.1">superscript</csymbol><ci id="S2.SS2.p4.10.m10.2.2.1.1.1.1.2.2.cmml" xref="S2.SS2.p4.10.m10.2.2.1.1.1.1.2.2">𝐪</ci><ci id="S2.SS2.p4.10.m10.2.2.1.1.1.1.2.3.cmml" xref="S2.SS2.p4.10.m10.2.2.1.1.1.1.2.3">𝐬</ci></apply><ci id="S2.SS2.p4.10.m10.2.2.1.1.1.1.3.cmml" xref="S2.SS2.p4.10.m10.2.2.1.1.1.1.3">𝑖</ci></apply></set><apply id="S2.SS2.p4.10.m10.2.2.1.3.cmml" xref="S2.SS2.p4.10.m10.2.2.1.3"><eq id="S2.SS2.p4.10.m10.2.2.1.3.1.cmml" xref="S2.SS2.p4.10.m10.2.2.1.3.1"></eq><ci id="S2.SS2.p4.10.m10.2.2.1.3.2.cmml" xref="S2.SS2.p4.10.m10.2.2.1.3.2">𝑖</ci><cn id="S2.SS2.p4.10.m10.2.2.1.3.3.cmml" type="integer" xref="S2.SS2.p4.10.m10.2.2.1.3.3">1</cn></apply></apply><apply id="S2.SS2.p4.10.m10.1.1.1.2.cmml" xref="S2.SS2.p4.10.m10.1.1.1.3"><abs id="S2.SS2.p4.10.m10.1.1.1.2.1.cmml" xref="S2.SS2.p4.10.m10.1.1.1.3.1"></abs><ci id="S2.SS2.p4.10.m10.1.1.1.1.cmml" xref="S2.SS2.p4.10.m10.1.1.1.1">𝐓</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.10.m10.2c">\{\mathbf{q}^{\mathbf{s}}_{i}\}_{i=1}^{|\mathbf{T}|}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.10.m10.2d">{ bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | bold_T | end_POSTSUPERSCRIPT</annotation></semantics></math> can be described as:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{r}_{\mathbf{i}}=\operatorname{Generation}(\mathbf{q}^{\mathbf{s}}_{%
\mathbf{i}},\{\mathbf{c}_{\mathbf{1}},\cdots,\mathbf{c}_{\mathbf{K}}\}),\quad%
\{\mathbf{c}_{\mathbf{1}},\cdots,\mathbf{c}_{\mathbf{K}}\}=\operatorname{%
Retrieval}(\mathbf{q}^{\mathbf{s}}_{\mathbf{i}}|\mathbf{C},\{\mathbf{r}_{%
\mathbf{1}},\cdots,\mathbf{r}_{\mathbf{i-1}}\})" class="ltx_Math" display="block" id="S2.E3.m1.8"><semantics id="S2.E3.m1.8a"><mrow id="S2.E3.m1.8.8.2" xref="S2.E3.m1.8.8.3.cmml"><mrow id="S2.E3.m1.7.7.1.1" xref="S2.E3.m1.7.7.1.1.cmml"><msub id="S2.E3.m1.7.7.1.1.4" xref="S2.E3.m1.7.7.1.1.4.cmml"><mi id="S2.E3.m1.7.7.1.1.4.2" xref="S2.E3.m1.7.7.1.1.4.2.cmml">𝐫</mi><mi id="S2.E3.m1.7.7.1.1.4.3" xref="S2.E3.m1.7.7.1.1.4.3.cmml">𝐢</mi></msub><mo id="S2.E3.m1.7.7.1.1.3" xref="S2.E3.m1.7.7.1.1.3.cmml">=</mo><mrow id="S2.E3.m1.7.7.1.1.2.2" xref="S2.E3.m1.7.7.1.1.2.3.cmml"><mi id="S2.E3.m1.2.2" xref="S2.E3.m1.2.2.cmml">Generation</mi><mo id="S2.E3.m1.7.7.1.1.2.2a" xref="S2.E3.m1.7.7.1.1.2.3.cmml">⁡</mo><mrow id="S2.E3.m1.7.7.1.1.2.2.2" xref="S2.E3.m1.7.7.1.1.2.3.cmml"><mo id="S2.E3.m1.7.7.1.1.2.2.2.3" stretchy="false" xref="S2.E3.m1.7.7.1.1.2.3.cmml">(</mo><msubsup id="S2.E3.m1.7.7.1.1.1.1.1.1" xref="S2.E3.m1.7.7.1.1.1.1.1.1.cmml"><mi id="S2.E3.m1.7.7.1.1.1.1.1.1.2.2" xref="S2.E3.m1.7.7.1.1.1.1.1.1.2.2.cmml">𝐪</mi><mi id="S2.E3.m1.7.7.1.1.1.1.1.1.3" xref="S2.E3.m1.7.7.1.1.1.1.1.1.3.cmml">𝐢</mi><mi id="S2.E3.m1.7.7.1.1.1.1.1.1.2.3" xref="S2.E3.m1.7.7.1.1.1.1.1.1.2.3.cmml">𝐬</mi></msubsup><mo id="S2.E3.m1.7.7.1.1.2.2.2.4" xref="S2.E3.m1.7.7.1.1.2.3.cmml">,</mo><mrow id="S2.E3.m1.7.7.1.1.2.2.2.2.2" xref="S2.E3.m1.7.7.1.1.2.2.2.2.3.cmml"><mo id="S2.E3.m1.7.7.1.1.2.2.2.2.2.3" stretchy="false" xref="S2.E3.m1.7.7.1.1.2.2.2.2.3.cmml">{</mo><msub id="S2.E3.m1.7.7.1.1.2.2.2.2.1.1" xref="S2.E3.m1.7.7.1.1.2.2.2.2.1.1.cmml"><mi id="S2.E3.m1.7.7.1.1.2.2.2.2.1.1.2" xref="S2.E3.m1.7.7.1.1.2.2.2.2.1.1.2.cmml">𝐜</mi><mn id="S2.E3.m1.7.7.1.1.2.2.2.2.1.1.3" xref="S2.E3.m1.7.7.1.1.2.2.2.2.1.1.3.cmml">𝟏</mn></msub><mo id="S2.E3.m1.7.7.1.1.2.2.2.2.2.4" xref="S2.E3.m1.7.7.1.1.2.2.2.2.3.cmml">,</mo><mi id="S2.E3.m1.1.1" mathvariant="normal" xref="S2.E3.m1.1.1.cmml">⋯</mi><mo id="S2.E3.m1.7.7.1.1.2.2.2.2.2.5" xref="S2.E3.m1.7.7.1.1.2.2.2.2.3.cmml">,</mo><msub id="S2.E3.m1.7.7.1.1.2.2.2.2.2.2" xref="S2.E3.m1.7.7.1.1.2.2.2.2.2.2.cmml"><mi id="S2.E3.m1.7.7.1.1.2.2.2.2.2.2.2" xref="S2.E3.m1.7.7.1.1.2.2.2.2.2.2.2.cmml">𝐜</mi><mi id="S2.E3.m1.7.7.1.1.2.2.2.2.2.2.3" xref="S2.E3.m1.7.7.1.1.2.2.2.2.2.2.3.cmml">𝐊</mi></msub><mo id="S2.E3.m1.7.7.1.1.2.2.2.2.2.6" stretchy="false" xref="S2.E3.m1.7.7.1.1.2.2.2.2.3.cmml">}</mo></mrow><mo id="S2.E3.m1.7.7.1.1.2.2.2.5" stretchy="false" xref="S2.E3.m1.7.7.1.1.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E3.m1.8.8.2.3" rspace="1.167em" xref="S2.E3.m1.8.8.3a.cmml">,</mo><mrow id="S2.E3.m1.8.8.2.2" xref="S2.E3.m1.8.8.2.2.cmml"><mrow id="S2.E3.m1.8.8.2.2.2.2" xref="S2.E3.m1.8.8.2.2.2.3.cmml"><mo id="S2.E3.m1.8.8.2.2.2.2.3" stretchy="false" xref="S2.E3.m1.8.8.2.2.2.3.cmml">{</mo><msub id="S2.E3.m1.8.8.2.2.1.1.1" xref="S2.E3.m1.8.8.2.2.1.1.1.cmml"><mi id="S2.E3.m1.8.8.2.2.1.1.1.2" xref="S2.E3.m1.8.8.2.2.1.1.1.2.cmml">𝐜</mi><mn id="S2.E3.m1.8.8.2.2.1.1.1.3" xref="S2.E3.m1.8.8.2.2.1.1.1.3.cmml">𝟏</mn></msub><mo id="S2.E3.m1.8.8.2.2.2.2.4" xref="S2.E3.m1.8.8.2.2.2.3.cmml">,</mo><mi id="S2.E3.m1.3.3" mathvariant="normal" xref="S2.E3.m1.3.3.cmml">⋯</mi><mo id="S2.E3.m1.8.8.2.2.2.2.5" xref="S2.E3.m1.8.8.2.2.2.3.cmml">,</mo><msub id="S2.E3.m1.8.8.2.2.2.2.2" xref="S2.E3.m1.8.8.2.2.2.2.2.cmml"><mi id="S2.E3.m1.8.8.2.2.2.2.2.2" xref="S2.E3.m1.8.8.2.2.2.2.2.2.cmml">𝐜</mi><mi id="S2.E3.m1.8.8.2.2.2.2.2.3" xref="S2.E3.m1.8.8.2.2.2.2.2.3.cmml">𝐊</mi></msub><mo id="S2.E3.m1.8.8.2.2.2.2.6" stretchy="false" xref="S2.E3.m1.8.8.2.2.2.3.cmml">}</mo></mrow><mo id="S2.E3.m1.8.8.2.2.4" xref="S2.E3.m1.8.8.2.2.4.cmml">=</mo><mrow id="S2.E3.m1.8.8.2.2.3.1" xref="S2.E3.m1.8.8.2.2.3.2.cmml"><mi id="S2.E3.m1.6.6" xref="S2.E3.m1.6.6.cmml">Retrieval</mi><mo id="S2.E3.m1.8.8.2.2.3.1a" xref="S2.E3.m1.8.8.2.2.3.2.cmml">⁡</mo><mrow id="S2.E3.m1.8.8.2.2.3.1.1" xref="S2.E3.m1.8.8.2.2.3.2.cmml"><mo id="S2.E3.m1.8.8.2.2.3.1.1.2" stretchy="false" xref="S2.E3.m1.8.8.2.2.3.2.cmml">(</mo><mrow id="S2.E3.m1.8.8.2.2.3.1.1.1" xref="S2.E3.m1.8.8.2.2.3.1.1.1.cmml"><msubsup id="S2.E3.m1.8.8.2.2.3.1.1.1.3" xref="S2.E3.m1.8.8.2.2.3.1.1.1.3.cmml"><mi id="S2.E3.m1.8.8.2.2.3.1.1.1.3.2.2" xref="S2.E3.m1.8.8.2.2.3.1.1.1.3.2.2.cmml">𝐪</mi><mi id="S2.E3.m1.8.8.2.2.3.1.1.1.3.3" xref="S2.E3.m1.8.8.2.2.3.1.1.1.3.3.cmml">𝐢</mi><mi id="S2.E3.m1.8.8.2.2.3.1.1.1.3.2.3" xref="S2.E3.m1.8.8.2.2.3.1.1.1.3.2.3.cmml">𝐬</mi></msubsup><mo fence="false" id="S2.E3.m1.8.8.2.2.3.1.1.1.2" xref="S2.E3.m1.8.8.2.2.3.1.1.1.2.cmml">|</mo><mrow id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.2.cmml"><mi id="S2.E3.m1.5.5" xref="S2.E3.m1.5.5.cmml">𝐂</mi><mo id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.2" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.2.cmml">,</mo><mrow id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.3.cmml"><mo id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.3" stretchy="false" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.3.cmml">{</mo><msub id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1.2" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1.2.cmml">𝐫</mi><mn id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1.3" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1.3.cmml">𝟏</mn></msub><mo id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.4" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.3.cmml">,</mo><mi id="S2.E3.m1.4.4" mathvariant="normal" xref="S2.E3.m1.4.4.cmml">⋯</mi><mo id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.5" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.3.cmml">,</mo><msub id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.cmml"><mi id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.2" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.2.cmml">𝐫</mi><mrow id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.cmml"><mi id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.2" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.2.cmml">𝐢</mi><mo id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.1" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.1.cmml">−</mo><mn id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.3" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.3.cmml">𝟏</mn></mrow></msub><mo id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.6" stretchy="false" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.3.cmml">}</mo></mrow></mrow></mrow><mo id="S2.E3.m1.8.8.2.2.3.1.1.3" stretchy="false" xref="S2.E3.m1.8.8.2.2.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E3.m1.8b"><apply id="S2.E3.m1.8.8.3.cmml" xref="S2.E3.m1.8.8.2"><csymbol cd="ambiguous" id="S2.E3.m1.8.8.3a.cmml" xref="S2.E3.m1.8.8.2.3">formulae-sequence</csymbol><apply id="S2.E3.m1.7.7.1.1.cmml" xref="S2.E3.m1.7.7.1.1"><eq id="S2.E3.m1.7.7.1.1.3.cmml" xref="S2.E3.m1.7.7.1.1.3"></eq><apply id="S2.E3.m1.7.7.1.1.4.cmml" xref="S2.E3.m1.7.7.1.1.4"><csymbol cd="ambiguous" id="S2.E3.m1.7.7.1.1.4.1.cmml" xref="S2.E3.m1.7.7.1.1.4">subscript</csymbol><ci id="S2.E3.m1.7.7.1.1.4.2.cmml" xref="S2.E3.m1.7.7.1.1.4.2">𝐫</ci><ci id="S2.E3.m1.7.7.1.1.4.3.cmml" xref="S2.E3.m1.7.7.1.1.4.3">𝐢</ci></apply><apply id="S2.E3.m1.7.7.1.1.2.3.cmml" xref="S2.E3.m1.7.7.1.1.2.2"><ci id="S2.E3.m1.2.2.cmml" xref="S2.E3.m1.2.2">Generation</ci><apply id="S2.E3.m1.7.7.1.1.1.1.1.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1">subscript</csymbol><apply id="S2.E3.m1.7.7.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.7.7.1.1.1.1.1.1.2.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1">superscript</csymbol><ci id="S2.E3.m1.7.7.1.1.1.1.1.1.2.2.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.2.2">𝐪</ci><ci id="S2.E3.m1.7.7.1.1.1.1.1.1.2.3.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.2.3">𝐬</ci></apply><ci id="S2.E3.m1.7.7.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.3">𝐢</ci></apply><set id="S2.E3.m1.7.7.1.1.2.2.2.2.3.cmml" xref="S2.E3.m1.7.7.1.1.2.2.2.2.2"><apply id="S2.E3.m1.7.7.1.1.2.2.2.2.1.1.cmml" xref="S2.E3.m1.7.7.1.1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.7.7.1.1.2.2.2.2.1.1.1.cmml" xref="S2.E3.m1.7.7.1.1.2.2.2.2.1.1">subscript</csymbol><ci id="S2.E3.m1.7.7.1.1.2.2.2.2.1.1.2.cmml" xref="S2.E3.m1.7.7.1.1.2.2.2.2.1.1.2">𝐜</ci><cn id="S2.E3.m1.7.7.1.1.2.2.2.2.1.1.3.cmml" type="integer" xref="S2.E3.m1.7.7.1.1.2.2.2.2.1.1.3">1</cn></apply><ci id="S2.E3.m1.1.1.cmml" xref="S2.E3.m1.1.1">⋯</ci><apply id="S2.E3.m1.7.7.1.1.2.2.2.2.2.2.cmml" xref="S2.E3.m1.7.7.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E3.m1.7.7.1.1.2.2.2.2.2.2.1.cmml" xref="S2.E3.m1.7.7.1.1.2.2.2.2.2.2">subscript</csymbol><ci id="S2.E3.m1.7.7.1.1.2.2.2.2.2.2.2.cmml" xref="S2.E3.m1.7.7.1.1.2.2.2.2.2.2.2">𝐜</ci><ci id="S2.E3.m1.7.7.1.1.2.2.2.2.2.2.3.cmml" xref="S2.E3.m1.7.7.1.1.2.2.2.2.2.2.3">𝐊</ci></apply></set></apply></apply><apply id="S2.E3.m1.8.8.2.2.cmml" xref="S2.E3.m1.8.8.2.2"><eq id="S2.E3.m1.8.8.2.2.4.cmml" xref="S2.E3.m1.8.8.2.2.4"></eq><set id="S2.E3.m1.8.8.2.2.2.3.cmml" xref="S2.E3.m1.8.8.2.2.2.2"><apply id="S2.E3.m1.8.8.2.2.1.1.1.cmml" xref="S2.E3.m1.8.8.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.8.8.2.2.1.1.1.1.cmml" xref="S2.E3.m1.8.8.2.2.1.1.1">subscript</csymbol><ci id="S2.E3.m1.8.8.2.2.1.1.1.2.cmml" xref="S2.E3.m1.8.8.2.2.1.1.1.2">𝐜</ci><cn id="S2.E3.m1.8.8.2.2.1.1.1.3.cmml" type="integer" xref="S2.E3.m1.8.8.2.2.1.1.1.3">1</cn></apply><ci id="S2.E3.m1.3.3.cmml" xref="S2.E3.m1.3.3">⋯</ci><apply id="S2.E3.m1.8.8.2.2.2.2.2.cmml" xref="S2.E3.m1.8.8.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E3.m1.8.8.2.2.2.2.2.1.cmml" xref="S2.E3.m1.8.8.2.2.2.2.2">subscript</csymbol><ci id="S2.E3.m1.8.8.2.2.2.2.2.2.cmml" xref="S2.E3.m1.8.8.2.2.2.2.2.2">𝐜</ci><ci id="S2.E3.m1.8.8.2.2.2.2.2.3.cmml" xref="S2.E3.m1.8.8.2.2.2.2.2.3">𝐊</ci></apply></set><apply id="S2.E3.m1.8.8.2.2.3.2.cmml" xref="S2.E3.m1.8.8.2.2.3.1"><ci id="S2.E3.m1.6.6.cmml" xref="S2.E3.m1.6.6">Retrieval</ci><apply id="S2.E3.m1.8.8.2.2.3.1.1.1.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1"><csymbol cd="latexml" id="S2.E3.m1.8.8.2.2.3.1.1.1.2.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.2">conditional</csymbol><apply id="S2.E3.m1.8.8.2.2.3.1.1.1.3.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.3"><csymbol cd="ambiguous" id="S2.E3.m1.8.8.2.2.3.1.1.1.3.1.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.3">subscript</csymbol><apply id="S2.E3.m1.8.8.2.2.3.1.1.1.3.2.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.3"><csymbol cd="ambiguous" id="S2.E3.m1.8.8.2.2.3.1.1.1.3.2.1.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.3">superscript</csymbol><ci id="S2.E3.m1.8.8.2.2.3.1.1.1.3.2.2.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.3.2.2">𝐪</ci><ci id="S2.E3.m1.8.8.2.2.3.1.1.1.3.2.3.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.3.2.3">𝐬</ci></apply><ci id="S2.E3.m1.8.8.2.2.3.1.1.1.3.3.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.3.3">𝐢</ci></apply><list id="S2.E3.m1.8.8.2.2.3.1.1.1.1.2.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1"><ci id="S2.E3.m1.5.5.cmml" xref="S2.E3.m1.5.5">𝐂</ci><set id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2"><apply id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1.2">𝐫</ci><cn id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.1.1.3">1</cn></apply><ci id="S2.E3.m1.4.4.cmml" xref="S2.E3.m1.4.4">⋯</ci><apply id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.2">𝐫</ci><apply id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3"><minus id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.1.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.1"></minus><ci id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.2.cmml" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.2">𝐢</ci><cn id="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S2.E3.m1.8.8.2.2.3.1.1.1.1.1.1.2.2.3.3">1</cn></apply></apply></set></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.8c">\mathbf{r}_{\mathbf{i}}=\operatorname{Generation}(\mathbf{q}^{\mathbf{s}}_{%
\mathbf{i}},\{\mathbf{c}_{\mathbf{1}},\cdots,\mathbf{c}_{\mathbf{K}}\}),\quad%
\{\mathbf{c}_{\mathbf{1}},\cdots,\mathbf{c}_{\mathbf{K}}\}=\operatorname{%
Retrieval}(\mathbf{q}^{\mathbf{s}}_{\mathbf{i}}|\mathbf{C},\{\mathbf{r}_{%
\mathbf{1}},\cdots,\mathbf{r}_{\mathbf{i-1}}\})</annotation><annotation encoding="application/x-llamapun" id="S2.E3.m1.8d">bold_r start_POSTSUBSCRIPT bold_i end_POSTSUBSCRIPT = roman_Generation ( bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT bold_i end_POSTSUBSCRIPT , { bold_c start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT , ⋯ , bold_c start_POSTSUBSCRIPT bold_K end_POSTSUBSCRIPT } ) , { bold_c start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT , ⋯ , bold_c start_POSTSUBSCRIPT bold_K end_POSTSUBSCRIPT } = roman_Retrieval ( bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT bold_i end_POSTSUBSCRIPT | bold_C , { bold_r start_POSTSUBSCRIPT bold_1 end_POSTSUBSCRIPT , ⋯ , bold_r start_POSTSUBSCRIPT bold_i - bold_1 end_POSTSUBSCRIPT } )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS2.p5">
<p class="ltx_p" id="S2.SS2.p5.1">In this way, the LLM-generated responses serve as <span class="ltx_text ltx_font_italic" id="S2.SS2.p5.1.1">bridges</span> to connect the originally scattered text chunks <math alttext="\mathbf{C}" class="ltx_Math" display="inline" id="S2.SS2.p5.1.m1.1"><semantics id="S2.SS2.p5.1.m1.1a"><mi id="S2.SS2.p5.1.m1.1.1" xref="S2.SS2.p5.1.m1.1.1.cmml">𝐂</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p5.1.m1.1b"><ci id="S2.SS2.p5.1.m1.1.1.cmml" xref="S2.SS2.p5.1.m1.1.1">𝐂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p5.1.m1.1c">\mathbf{C}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p5.1.m1.1d">bold_C</annotation></semantics></math> so that the fine-grained and sophisticated correlations among them can be better modeled and explored.
Furthermore, we can potentially make sufficient use of historical responses generated by LLMs and improve the quality of future LLM responses.</p>
</div>
<figure class="ltx_figure" id="S2.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="358" id="S2.F2.1.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span><span class="ltx_text ltx_font_bold" id="S2.F2.9.1">GoR model architecture</span>. GoR randomly selects text chunks <math alttext="\mathbf{c}_{\mathbf{i}}" class="ltx_Math" display="inline" id="S2.F2.5.4.m1.1"><semantics id="S2.F2.5.4.m1.1b"><msub id="S2.F2.5.4.m1.1.1" xref="S2.F2.5.4.m1.1.1.cmml"><mi id="S2.F2.5.4.m1.1.1.2" xref="S2.F2.5.4.m1.1.1.2.cmml">𝐜</mi><mi id="S2.F2.5.4.m1.1.1.3" xref="S2.F2.5.4.m1.1.1.3.cmml">𝐢</mi></msub><annotation-xml encoding="MathML-Content" id="S2.F2.5.4.m1.1c"><apply id="S2.F2.5.4.m1.1.1.cmml" xref="S2.F2.5.4.m1.1.1"><csymbol cd="ambiguous" id="S2.F2.5.4.m1.1.1.1.cmml" xref="S2.F2.5.4.m1.1.1">subscript</csymbol><ci id="S2.F2.5.4.m1.1.1.2.cmml" xref="S2.F2.5.4.m1.1.1.2">𝐜</ci><ci id="S2.F2.5.4.m1.1.1.3.cmml" xref="S2.F2.5.4.m1.1.1.3">𝐢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.5.4.m1.1d">\mathbf{c}_{\mathbf{i}}</annotation><annotation encoding="application/x-llamapun" id="S2.F2.5.4.m1.1e">bold_c start_POSTSUBSCRIPT bold_i end_POSTSUBSCRIPT</annotation></semantics></math> from long documents to feed into LLMs for query simulation, which are saved as a self-supervised training corpus <math alttext="\mathbf{T}" class="ltx_Math" display="inline" id="S2.F2.6.5.m2.1"><semantics id="S2.F2.6.5.m2.1b"><mi id="S2.F2.6.5.m2.1.1" xref="S2.F2.6.5.m2.1.1.cmml">𝐓</mi><annotation-xml encoding="MathML-Content" id="S2.F2.6.5.m2.1c"><ci id="S2.F2.6.5.m2.1.1.cmml" xref="S2.F2.6.5.m2.1.1">𝐓</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.6.5.m2.1d">\mathbf{T}</annotation><annotation encoding="application/x-llamapun" id="S2.F2.6.5.m2.1e">bold_T</annotation></semantics></math> and further used for graph construction inspired by the retrieve-then-generate paradigm in RAG. For model training, GoR leverages GNNs to obtain node embeddings and calculate their similarities to the query embedding. Finally, GoR features contrastive learning and pair-wise ranking objectives based on the node ranking list <math alttext="\mathbf{M}_{i}" class="ltx_Math" display="inline" id="S2.F2.7.6.m3.1"><semantics id="S2.F2.7.6.m3.1b"><msub id="S2.F2.7.6.m3.1.1" xref="S2.F2.7.6.m3.1.1.cmml"><mi id="S2.F2.7.6.m3.1.1.2" xref="S2.F2.7.6.m3.1.1.2.cmml">𝐌</mi><mi id="S2.F2.7.6.m3.1.1.3" xref="S2.F2.7.6.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.F2.7.6.m3.1c"><apply id="S2.F2.7.6.m3.1.1.cmml" xref="S2.F2.7.6.m3.1.1"><csymbol cd="ambiguous" id="S2.F2.7.6.m3.1.1.1.cmml" xref="S2.F2.7.6.m3.1.1">subscript</csymbol><ci id="S2.F2.7.6.m3.1.1.2.cmml" xref="S2.F2.7.6.m3.1.1.2">𝐌</ci><ci id="S2.F2.7.6.m3.1.1.3.cmml" xref="S2.F2.7.6.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.7.6.m3.1d">\mathbf{M}_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.F2.7.6.m3.1e">bold_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> derived from BERTScore calculation.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>BERTScore-based Objective for Self-supervised Training</h3>
<div class="ltx_para ltx_noindent" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.2">So far, we have constructed a graph using LLM-generated historical responses during RAG given the simulated queries.
The key in this section lies in designing a reasonable and effective objective function for model optimization.
Considering that some random walk <cite class="ltx_cite ltx_citemacro_cite">Grover &amp; Leskovec (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib11" title="">2016</a>)</cite> or propagation-based <cite class="ltx_cite ltx_citemacro_cite">Zhu &amp; Ghahramani (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib59" title="">2002</a>)</cite> algorithms are not differentiable, we turn to graph neural networks (GNNs) for learning node embeddings, which are backpropagation-friendly.
Intuitively, given a global summarization query <math alttext="\mathbf{q}" class="ltx_Math" display="inline" id="S2.SS3.p1.1.m1.1"><semantics id="S2.SS3.p1.1.m1.1a"><mi id="S2.SS3.p1.1.m1.1.1" xref="S2.SS3.p1.1.m1.1.1.cmml">𝐪</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.1b"><ci id="S2.SS3.p1.1.m1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1">𝐪</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.1c">\mathbf{q}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.1.m1.1d">bold_q</annotation></semantics></math>, our ultimate optimization goal is to make the learned node embeddings adaptively reflect the similarity with the query embedding <math alttext="\mathbf{E}_{\mathbf{q}}(\mathbf{q})" class="ltx_Math" display="inline" id="S2.SS3.p1.2.m2.1"><semantics id="S2.SS3.p1.2.m2.1a"><mrow id="S2.SS3.p1.2.m2.1.2" xref="S2.SS3.p1.2.m2.1.2.cmml"><msub id="S2.SS3.p1.2.m2.1.2.2" xref="S2.SS3.p1.2.m2.1.2.2.cmml"><mi id="S2.SS3.p1.2.m2.1.2.2.2" xref="S2.SS3.p1.2.m2.1.2.2.2.cmml">𝐄</mi><mi id="S2.SS3.p1.2.m2.1.2.2.3" xref="S2.SS3.p1.2.m2.1.2.2.3.cmml">𝐪</mi></msub><mo id="S2.SS3.p1.2.m2.1.2.1" xref="S2.SS3.p1.2.m2.1.2.1.cmml">⁢</mo><mrow id="S2.SS3.p1.2.m2.1.2.3.2" xref="S2.SS3.p1.2.m2.1.2.cmml"><mo id="S2.SS3.p1.2.m2.1.2.3.2.1" stretchy="false" xref="S2.SS3.p1.2.m2.1.2.cmml">(</mo><mi id="S2.SS3.p1.2.m2.1.1" xref="S2.SS3.p1.2.m2.1.1.cmml">𝐪</mi><mo id="S2.SS3.p1.2.m2.1.2.3.2.2" stretchy="false" xref="S2.SS3.p1.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m2.1b"><apply id="S2.SS3.p1.2.m2.1.2.cmml" xref="S2.SS3.p1.2.m2.1.2"><times id="S2.SS3.p1.2.m2.1.2.1.cmml" xref="S2.SS3.p1.2.m2.1.2.1"></times><apply id="S2.SS3.p1.2.m2.1.2.2.cmml" xref="S2.SS3.p1.2.m2.1.2.2"><csymbol cd="ambiguous" id="S2.SS3.p1.2.m2.1.2.2.1.cmml" xref="S2.SS3.p1.2.m2.1.2.2">subscript</csymbol><ci id="S2.SS3.p1.2.m2.1.2.2.2.cmml" xref="S2.SS3.p1.2.m2.1.2.2.2">𝐄</ci><ci id="S2.SS3.p1.2.m2.1.2.2.3.cmml" xref="S2.SS3.p1.2.m2.1.2.2.3">𝐪</ci></apply><ci id="S2.SS3.p1.2.m2.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1">𝐪</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.2.m2.1c">\mathbf{E}_{\mathbf{q}}(\mathbf{q})</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.2.m2.1d">bold_E start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ( bold_q )</annotation></semantics></math> by taking the complicated correlations among nodes into account.
However, in global summarization tasks, there are essentially no text chunk indices as labels to indicate which nodes are most relevant for a query since it needs to consider the long document as a whole.
Another naive solution is to use global reference summaries as labels, but there is a gap in supervision signal backpropagation between them and node embeddings because we still need to find out which nodes are most relevant to them.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS3.p2">
<p class="ltx_p" id="S2.SS3.p2.1">Therefore, inspired by BERTScore <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib56" title="">2019</a>)</cite>, which measures the semantic similarity between the reference and the generated text, we propose to use it to rank all nodes based on the similarity with reference summaries.
By this means, BERTScore fills the gap in the backpropagation so that node embeddings can benefit the indirect supervision signal from the reference summaries.
Nevertheless, global reference summaries contain broad information about long documents, making them highly semantically relevant to many nodes, which will confuse the model optimization direction and degrade the performance (we will discuss it in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.SS4" title="3.4 Discussions ‣ 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">3.4</span></a>).</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS3.p3">
<p class="ltx_p" id="S2.SS3.p3.9"><span class="ltx_text ltx_font_bold" id="S2.SS3.p3.9.1">Contrastive Loss Driven by BERTScore</span>. Based on the above observations, we directly reuse the simulated queries <math alttext="\mathbf{T}=\{(\mathbf{q}^{\mathbf{s}}_{i},\mathbf{c}^{\mathbf{s}}_{i})\}_{i=1}%
^{|\mathbf{T}|}" class="ltx_Math" display="inline" id="S2.SS3.p3.1.m1.2"><semantics id="S2.SS3.p3.1.m1.2a"><mrow id="S2.SS3.p3.1.m1.2.2" xref="S2.SS3.p3.1.m1.2.2.cmml"><mi id="S2.SS3.p3.1.m1.2.2.3" xref="S2.SS3.p3.1.m1.2.2.3.cmml">𝐓</mi><mo id="S2.SS3.p3.1.m1.2.2.2" xref="S2.SS3.p3.1.m1.2.2.2.cmml">=</mo><msubsup id="S2.SS3.p3.1.m1.2.2.1" xref="S2.SS3.p3.1.m1.2.2.1.cmml"><mrow id="S2.SS3.p3.1.m1.2.2.1.1.1.1" xref="S2.SS3.p3.1.m1.2.2.1.1.1.2.cmml"><mo id="S2.SS3.p3.1.m1.2.2.1.1.1.1.2" stretchy="false" xref="S2.SS3.p3.1.m1.2.2.1.1.1.2.cmml">{</mo><mrow id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.3.cmml"><mo id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.3" stretchy="false" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.3.cmml">(</mo><msubsup id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.2.2" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml">𝐪</mi><mi id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.3" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.3.cmml">i</mi><mi id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.2.3" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml">𝐬</mi></msubsup><mo id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.4" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.3.cmml">,</mo><msubsup id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.cmml"><mi id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.2.2" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.2.2.cmml">𝐜</mi><mi id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.3" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.3.cmml">i</mi><mi id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.2.3" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.2.3.cmml">𝐬</mi></msubsup><mo id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.5" stretchy="false" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.3.cmml">)</mo></mrow><mo id="S2.SS3.p3.1.m1.2.2.1.1.1.1.3" stretchy="false" xref="S2.SS3.p3.1.m1.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS3.p3.1.m1.2.2.1.1.3" xref="S2.SS3.p3.1.m1.2.2.1.1.3.cmml"><mi id="S2.SS3.p3.1.m1.2.2.1.1.3.2" xref="S2.SS3.p3.1.m1.2.2.1.1.3.2.cmml">i</mi><mo id="S2.SS3.p3.1.m1.2.2.1.1.3.1" xref="S2.SS3.p3.1.m1.2.2.1.1.3.1.cmml">=</mo><mn id="S2.SS3.p3.1.m1.2.2.1.1.3.3" xref="S2.SS3.p3.1.m1.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S2.SS3.p3.1.m1.1.1.1.3" xref="S2.SS3.p3.1.m1.1.1.1.2.cmml"><mo id="S2.SS3.p3.1.m1.1.1.1.3.1" stretchy="false" xref="S2.SS3.p3.1.m1.1.1.1.2.1.cmml">|</mo><mi id="S2.SS3.p3.1.m1.1.1.1.1" xref="S2.SS3.p3.1.m1.1.1.1.1.cmml">𝐓</mi><mo id="S2.SS3.p3.1.m1.1.1.1.3.2" stretchy="false" xref="S2.SS3.p3.1.m1.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.1.m1.2b"><apply id="S2.SS3.p3.1.m1.2.2.cmml" xref="S2.SS3.p3.1.m1.2.2"><eq id="S2.SS3.p3.1.m1.2.2.2.cmml" xref="S2.SS3.p3.1.m1.2.2.2"></eq><ci id="S2.SS3.p3.1.m1.2.2.3.cmml" xref="S2.SS3.p3.1.m1.2.2.3">𝐓</ci><apply id="S2.SS3.p3.1.m1.2.2.1.cmml" xref="S2.SS3.p3.1.m1.2.2.1"><csymbol cd="ambiguous" id="S2.SS3.p3.1.m1.2.2.1.2.cmml" xref="S2.SS3.p3.1.m1.2.2.1">superscript</csymbol><apply id="S2.SS3.p3.1.m1.2.2.1.1.cmml" xref="S2.SS3.p3.1.m1.2.2.1"><csymbol cd="ambiguous" id="S2.SS3.p3.1.m1.2.2.1.1.2.cmml" xref="S2.SS3.p3.1.m1.2.2.1">subscript</csymbol><set id="S2.SS3.p3.1.m1.2.2.1.1.1.2.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1"><interval closure="open" id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.3.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2"><apply id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><apply id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1">superscript</csymbol><ci id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.2.2">𝐪</ci><ci id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.2.3">𝐬</ci></apply><ci id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.1.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2">subscript</csymbol><apply id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.2.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.2.1.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2">superscript</csymbol><ci id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.2.2.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.2.2">𝐜</ci><ci id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.2.3.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.2.3">𝐬</ci></apply><ci id="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.3.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.1.1.1.2.2.3">𝑖</ci></apply></interval></set><apply id="S2.SS3.p3.1.m1.2.2.1.1.3.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.3"><eq id="S2.SS3.p3.1.m1.2.2.1.1.3.1.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.3.1"></eq><ci id="S2.SS3.p3.1.m1.2.2.1.1.3.2.cmml" xref="S2.SS3.p3.1.m1.2.2.1.1.3.2">𝑖</ci><cn id="S2.SS3.p3.1.m1.2.2.1.1.3.3.cmml" type="integer" xref="S2.SS3.p3.1.m1.2.2.1.1.3.3">1</cn></apply></apply><apply id="S2.SS3.p3.1.m1.1.1.1.2.cmml" xref="S2.SS3.p3.1.m1.1.1.1.3"><abs id="S2.SS3.p3.1.m1.1.1.1.2.1.cmml" xref="S2.SS3.p3.1.m1.1.1.1.3.1"></abs><ci id="S2.SS3.p3.1.m1.1.1.1.1.cmml" xref="S2.SS3.p3.1.m1.1.1.1.1">𝐓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.1.m1.2c">\mathbf{T}=\{(\mathbf{q}^{\mathbf{s}}_{i},\mathbf{c}^{\mathbf{s}}_{i})\}_{i=1}%
^{|\mathbf{T}|}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.1.m1.2d">bold_T = { ( bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , bold_c start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | bold_T | end_POSTSUPERSCRIPT</annotation></semantics></math> to serve as self-supervised training data, in which the text chunk <math alttext="\mathbf{c}^{\mathbf{s}}_{i}" class="ltx_Math" display="inline" id="S2.SS3.p3.2.m2.1"><semantics id="S2.SS3.p3.2.m2.1a"><msubsup id="S2.SS3.p3.2.m2.1.1" xref="S2.SS3.p3.2.m2.1.1.cmml"><mi id="S2.SS3.p3.2.m2.1.1.2.2" xref="S2.SS3.p3.2.m2.1.1.2.2.cmml">𝐜</mi><mi id="S2.SS3.p3.2.m2.1.1.3" xref="S2.SS3.p3.2.m2.1.1.3.cmml">i</mi><mi id="S2.SS3.p3.2.m2.1.1.2.3" xref="S2.SS3.p3.2.m2.1.1.2.3.cmml">𝐬</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.2.m2.1b"><apply id="S2.SS3.p3.2.m2.1.1.cmml" xref="S2.SS3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.2.m2.1.1.1.cmml" xref="S2.SS3.p3.2.m2.1.1">subscript</csymbol><apply id="S2.SS3.p3.2.m2.1.1.2.cmml" xref="S2.SS3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.2.m2.1.1.2.1.cmml" xref="S2.SS3.p3.2.m2.1.1">superscript</csymbol><ci id="S2.SS3.p3.2.m2.1.1.2.2.cmml" xref="S2.SS3.p3.2.m2.1.1.2.2">𝐜</ci><ci id="S2.SS3.p3.2.m2.1.1.2.3.cmml" xref="S2.SS3.p3.2.m2.1.1.2.3">𝐬</ci></apply><ci id="S2.SS3.p3.2.m2.1.1.3.cmml" xref="S2.SS3.p3.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.2.m2.1c">\mathbf{c}^{\mathbf{s}}_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.2.m2.1d">bold_c start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is highly relevant to the query <math alttext="\mathbf{q}^{\mathbf{s}}_{i}" class="ltx_Math" display="inline" id="S2.SS3.p3.3.m3.1"><semantics id="S2.SS3.p3.3.m3.1a"><msubsup id="S2.SS3.p3.3.m3.1.1" xref="S2.SS3.p3.3.m3.1.1.cmml"><mi id="S2.SS3.p3.3.m3.1.1.2.2" xref="S2.SS3.p3.3.m3.1.1.2.2.cmml">𝐪</mi><mi id="S2.SS3.p3.3.m3.1.1.3" xref="S2.SS3.p3.3.m3.1.1.3.cmml">i</mi><mi id="S2.SS3.p3.3.m3.1.1.2.3" xref="S2.SS3.p3.3.m3.1.1.2.3.cmml">𝐬</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.3.m3.1b"><apply id="S2.SS3.p3.3.m3.1.1.cmml" xref="S2.SS3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.3.m3.1.1.1.cmml" xref="S2.SS3.p3.3.m3.1.1">subscript</csymbol><apply id="S2.SS3.p3.3.m3.1.1.2.cmml" xref="S2.SS3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.3.m3.1.1.2.1.cmml" xref="S2.SS3.p3.3.m3.1.1">superscript</csymbol><ci id="S2.SS3.p3.3.m3.1.1.2.2.cmml" xref="S2.SS3.p3.3.m3.1.1.2.2">𝐪</ci><ci id="S2.SS3.p3.3.m3.1.1.2.3.cmml" xref="S2.SS3.p3.3.m3.1.1.2.3">𝐬</ci></apply><ci id="S2.SS3.p3.3.m3.1.1.3.cmml" xref="S2.SS3.p3.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.3.m3.1c">\mathbf{q}^{\mathbf{s}}_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.3.m3.1d">bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and has more focused content.
Given node embeddings output by the last <math alttext="L" class="ltx_Math" display="inline" id="S2.SS3.p3.4.m4.1"><semantics id="S2.SS3.p3.4.m4.1a"><mi id="S2.SS3.p3.4.m4.1.1" xref="S2.SS3.p3.4.m4.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.4.m4.1b"><ci id="S2.SS3.p3.4.m4.1.1.cmml" xref="S2.SS3.p3.4.m4.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.4.m4.1c">L</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.4.m4.1d">italic_L</annotation></semantics></math>-th layer of GNNs, for the <math alttext="i" class="ltx_Math" display="inline" id="S2.SS3.p3.5.m5.1"><semantics id="S2.SS3.p3.5.m5.1a"><mi id="S2.SS3.p3.5.m5.1.1" xref="S2.SS3.p3.5.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.5.m5.1b"><ci id="S2.SS3.p3.5.m5.1.1.cmml" xref="S2.SS3.p3.5.m5.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.5.m5.1c">i</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.5.m5.1d">italic_i</annotation></semantics></math>-th query <math alttext="\mathbf{q}^{\mathbf{s}}_{i}" class="ltx_Math" display="inline" id="S2.SS3.p3.6.m6.1"><semantics id="S2.SS3.p3.6.m6.1a"><msubsup id="S2.SS3.p3.6.m6.1.1" xref="S2.SS3.p3.6.m6.1.1.cmml"><mi id="S2.SS3.p3.6.m6.1.1.2.2" xref="S2.SS3.p3.6.m6.1.1.2.2.cmml">𝐪</mi><mi id="S2.SS3.p3.6.m6.1.1.3" xref="S2.SS3.p3.6.m6.1.1.3.cmml">i</mi><mi id="S2.SS3.p3.6.m6.1.1.2.3" xref="S2.SS3.p3.6.m6.1.1.2.3.cmml">𝐬</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.6.m6.1b"><apply id="S2.SS3.p3.6.m6.1.1.cmml" xref="S2.SS3.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.6.m6.1.1.1.cmml" xref="S2.SS3.p3.6.m6.1.1">subscript</csymbol><apply id="S2.SS3.p3.6.m6.1.1.2.cmml" xref="S2.SS3.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.6.m6.1.1.2.1.cmml" xref="S2.SS3.p3.6.m6.1.1">superscript</csymbol><ci id="S2.SS3.p3.6.m6.1.1.2.2.cmml" xref="S2.SS3.p3.6.m6.1.1.2.2">𝐪</ci><ci id="S2.SS3.p3.6.m6.1.1.2.3.cmml" xref="S2.SS3.p3.6.m6.1.1.2.3">𝐬</ci></apply><ci id="S2.SS3.p3.6.m6.1.1.3.cmml" xref="S2.SS3.p3.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.6.m6.1c">\mathbf{q}^{\mathbf{s}}_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.6.m6.1d">bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, we rank them according to the similarity with the <math alttext="i" class="ltx_Math" display="inline" id="S2.SS3.p3.7.m7.1"><semantics id="S2.SS3.p3.7.m7.1a"><mi id="S2.SS3.p3.7.m7.1.1" xref="S2.SS3.p3.7.m7.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.7.m7.1b"><ci id="S2.SS3.p3.7.m7.1.1.cmml" xref="S2.SS3.p3.7.m7.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.7.m7.1c">i</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.7.m7.1d">italic_i</annotation></semantics></math>-th text chunk <math alttext="\mathbf{c}^{\mathbf{s}}_{i}" class="ltx_Math" display="inline" id="S2.SS3.p3.8.m8.1"><semantics id="S2.SS3.p3.8.m8.1a"><msubsup id="S2.SS3.p3.8.m8.1.1" xref="S2.SS3.p3.8.m8.1.1.cmml"><mi id="S2.SS3.p3.8.m8.1.1.2.2" xref="S2.SS3.p3.8.m8.1.1.2.2.cmml">𝐜</mi><mi id="S2.SS3.p3.8.m8.1.1.3" xref="S2.SS3.p3.8.m8.1.1.3.cmml">i</mi><mi id="S2.SS3.p3.8.m8.1.1.2.3" xref="S2.SS3.p3.8.m8.1.1.2.3.cmml">𝐬</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.8.m8.1b"><apply id="S2.SS3.p3.8.m8.1.1.cmml" xref="S2.SS3.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.8.m8.1.1.1.cmml" xref="S2.SS3.p3.8.m8.1.1">subscript</csymbol><apply id="S2.SS3.p3.8.m8.1.1.2.cmml" xref="S2.SS3.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.8.m8.1.1.2.1.cmml" xref="S2.SS3.p3.8.m8.1.1">superscript</csymbol><ci id="S2.SS3.p3.8.m8.1.1.2.2.cmml" xref="S2.SS3.p3.8.m8.1.1.2.2">𝐜</ci><ci id="S2.SS3.p3.8.m8.1.1.2.3.cmml" xref="S2.SS3.p3.8.m8.1.1.2.3">𝐬</ci></apply><ci id="S2.SS3.p3.8.m8.1.1.3.cmml" xref="S2.SS3.p3.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.8.m8.1c">\mathbf{c}^{\mathbf{s}}_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.8.m8.1d">bold_c start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and obtain a node embedding ranking list <math alttext="\mathbf{M}_{i}" class="ltx_Math" display="inline" id="S2.SS3.p3.9.m9.1"><semantics id="S2.SS3.p3.9.m9.1a"><msub id="S2.SS3.p3.9.m9.1.1" xref="S2.SS3.p3.9.m9.1.1.cmml"><mi id="S2.SS3.p3.9.m9.1.1.2" xref="S2.SS3.p3.9.m9.1.1.2.cmml">𝐌</mi><mi id="S2.SS3.p3.9.m9.1.1.3" xref="S2.SS3.p3.9.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.9.m9.1b"><apply id="S2.SS3.p3.9.m9.1.1.cmml" xref="S2.SS3.p3.9.m9.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.9.m9.1.1.1.cmml" xref="S2.SS3.p3.9.m9.1.1">subscript</csymbol><ci id="S2.SS3.p3.9.m9.1.1.2.cmml" xref="S2.SS3.p3.9.m9.1.1.2">𝐌</ci><ci id="S2.SS3.p3.9.m9.1.1.3.cmml" xref="S2.SS3.p3.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.9.m9.1c">\mathbf{M}_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.9.m9.1d">bold_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, which can be described as:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{M}_{i}=[\mathbf{h}_{+}^{(L)},\mathbf{h}_{1}^{(L)},\cdots,\mathbf{h}_{|%
\mathbf{C}|+|\mathbf{T}|}^{(L)}]" class="ltx_Math" display="block" id="S2.E4.m1.9"><semantics id="S2.E4.m1.9a"><mrow id="S2.E4.m1.9.9" xref="S2.E4.m1.9.9.cmml"><msub id="S2.E4.m1.9.9.5" xref="S2.E4.m1.9.9.5.cmml"><mi id="S2.E4.m1.9.9.5.2" xref="S2.E4.m1.9.9.5.2.cmml">𝐌</mi><mi id="S2.E4.m1.9.9.5.3" xref="S2.E4.m1.9.9.5.3.cmml">i</mi></msub><mo id="S2.E4.m1.9.9.4" xref="S2.E4.m1.9.9.4.cmml">=</mo><mrow id="S2.E4.m1.9.9.3.3" xref="S2.E4.m1.9.9.3.4.cmml"><mo id="S2.E4.m1.9.9.3.3.4" stretchy="false" xref="S2.E4.m1.9.9.3.4.cmml">[</mo><msubsup id="S2.E4.m1.7.7.1.1.1" xref="S2.E4.m1.7.7.1.1.1.cmml"><mi id="S2.E4.m1.7.7.1.1.1.2.2" xref="S2.E4.m1.7.7.1.1.1.2.2.cmml">𝐡</mi><mo id="S2.E4.m1.7.7.1.1.1.2.3" xref="S2.E4.m1.7.7.1.1.1.2.3.cmml">+</mo><mrow id="S2.E4.m1.1.1.1.3" xref="S2.E4.m1.7.7.1.1.1.cmml"><mo id="S2.E4.m1.1.1.1.3.1" stretchy="false" xref="S2.E4.m1.7.7.1.1.1.cmml">(</mo><mi id="S2.E4.m1.1.1.1.1" xref="S2.E4.m1.1.1.1.1.cmml">L</mi><mo id="S2.E4.m1.1.1.1.3.2" stretchy="false" xref="S2.E4.m1.7.7.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S2.E4.m1.9.9.3.3.5" xref="S2.E4.m1.9.9.3.4.cmml">,</mo><msubsup id="S2.E4.m1.8.8.2.2.2" xref="S2.E4.m1.8.8.2.2.2.cmml"><mi id="S2.E4.m1.8.8.2.2.2.2.2" xref="S2.E4.m1.8.8.2.2.2.2.2.cmml">𝐡</mi><mn id="S2.E4.m1.8.8.2.2.2.2.3" xref="S2.E4.m1.8.8.2.2.2.2.3.cmml">1</mn><mrow id="S2.E4.m1.2.2.1.3" xref="S2.E4.m1.8.8.2.2.2.cmml"><mo id="S2.E4.m1.2.2.1.3.1" stretchy="false" xref="S2.E4.m1.8.8.2.2.2.cmml">(</mo><mi id="S2.E4.m1.2.2.1.1" xref="S2.E4.m1.2.2.1.1.cmml">L</mi><mo id="S2.E4.m1.2.2.1.3.2" stretchy="false" xref="S2.E4.m1.8.8.2.2.2.cmml">)</mo></mrow></msubsup><mo id="S2.E4.m1.9.9.3.3.6" xref="S2.E4.m1.9.9.3.4.cmml">,</mo><mi id="S2.E4.m1.6.6" mathvariant="normal" xref="S2.E4.m1.6.6.cmml">⋯</mi><mo id="S2.E4.m1.9.9.3.3.7" xref="S2.E4.m1.9.9.3.4.cmml">,</mo><msubsup id="S2.E4.m1.9.9.3.3.3" xref="S2.E4.m1.9.9.3.3.3.cmml"><mi id="S2.E4.m1.9.9.3.3.3.2.2" xref="S2.E4.m1.9.9.3.3.3.2.2.cmml">𝐡</mi><mrow id="S2.E4.m1.4.4.2" xref="S2.E4.m1.4.4.2.cmml"><mrow id="S2.E4.m1.4.4.2.4.2" xref="S2.E4.m1.4.4.2.4.1.cmml"><mo id="S2.E4.m1.4.4.2.4.2.1" stretchy="false" xref="S2.E4.m1.4.4.2.4.1.1.cmml">|</mo><mi id="S2.E4.m1.3.3.1.1" xref="S2.E4.m1.3.3.1.1.cmml">𝐂</mi><mo id="S2.E4.m1.4.4.2.4.2.2" stretchy="false" xref="S2.E4.m1.4.4.2.4.1.1.cmml">|</mo></mrow><mo id="S2.E4.m1.4.4.2.3" xref="S2.E4.m1.4.4.2.3.cmml">+</mo><mrow id="S2.E4.m1.4.4.2.5.2" xref="S2.E4.m1.4.4.2.5.1.cmml"><mo id="S2.E4.m1.4.4.2.5.2.1" stretchy="false" xref="S2.E4.m1.4.4.2.5.1.1.cmml">|</mo><mi id="S2.E4.m1.4.4.2.2" xref="S2.E4.m1.4.4.2.2.cmml">𝐓</mi><mo id="S2.E4.m1.4.4.2.5.2.2" stretchy="false" xref="S2.E4.m1.4.4.2.5.1.1.cmml">|</mo></mrow></mrow><mrow id="S2.E4.m1.5.5.1.3" xref="S2.E4.m1.9.9.3.3.3.cmml"><mo id="S2.E4.m1.5.5.1.3.1" stretchy="false" xref="S2.E4.m1.9.9.3.3.3.cmml">(</mo><mi id="S2.E4.m1.5.5.1.1" xref="S2.E4.m1.5.5.1.1.cmml">L</mi><mo id="S2.E4.m1.5.5.1.3.2" stretchy="false" xref="S2.E4.m1.9.9.3.3.3.cmml">)</mo></mrow></msubsup><mo id="S2.E4.m1.9.9.3.3.8" stretchy="false" xref="S2.E4.m1.9.9.3.4.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E4.m1.9b"><apply id="S2.E4.m1.9.9.cmml" xref="S2.E4.m1.9.9"><eq id="S2.E4.m1.9.9.4.cmml" xref="S2.E4.m1.9.9.4"></eq><apply id="S2.E4.m1.9.9.5.cmml" xref="S2.E4.m1.9.9.5"><csymbol cd="ambiguous" id="S2.E4.m1.9.9.5.1.cmml" xref="S2.E4.m1.9.9.5">subscript</csymbol><ci id="S2.E4.m1.9.9.5.2.cmml" xref="S2.E4.m1.9.9.5.2">𝐌</ci><ci id="S2.E4.m1.9.9.5.3.cmml" xref="S2.E4.m1.9.9.5.3">𝑖</ci></apply><list id="S2.E4.m1.9.9.3.4.cmml" xref="S2.E4.m1.9.9.3.3"><apply id="S2.E4.m1.7.7.1.1.1.cmml" xref="S2.E4.m1.7.7.1.1.1"><csymbol cd="ambiguous" id="S2.E4.m1.7.7.1.1.1.1.cmml" xref="S2.E4.m1.7.7.1.1.1">superscript</csymbol><apply id="S2.E4.m1.7.7.1.1.1.2.cmml" xref="S2.E4.m1.7.7.1.1.1"><csymbol cd="ambiguous" id="S2.E4.m1.7.7.1.1.1.2.1.cmml" xref="S2.E4.m1.7.7.1.1.1">subscript</csymbol><ci id="S2.E4.m1.7.7.1.1.1.2.2.cmml" xref="S2.E4.m1.7.7.1.1.1.2.2">𝐡</ci><plus id="S2.E4.m1.7.7.1.1.1.2.3.cmml" xref="S2.E4.m1.7.7.1.1.1.2.3"></plus></apply><ci id="S2.E4.m1.1.1.1.1.cmml" xref="S2.E4.m1.1.1.1.1">𝐿</ci></apply><apply id="S2.E4.m1.8.8.2.2.2.cmml" xref="S2.E4.m1.8.8.2.2.2"><csymbol cd="ambiguous" id="S2.E4.m1.8.8.2.2.2.1.cmml" xref="S2.E4.m1.8.8.2.2.2">superscript</csymbol><apply id="S2.E4.m1.8.8.2.2.2.2.cmml" xref="S2.E4.m1.8.8.2.2.2"><csymbol cd="ambiguous" id="S2.E4.m1.8.8.2.2.2.2.1.cmml" xref="S2.E4.m1.8.8.2.2.2">subscript</csymbol><ci id="S2.E4.m1.8.8.2.2.2.2.2.cmml" xref="S2.E4.m1.8.8.2.2.2.2.2">𝐡</ci><cn id="S2.E4.m1.8.8.2.2.2.2.3.cmml" type="integer" xref="S2.E4.m1.8.8.2.2.2.2.3">1</cn></apply><ci id="S2.E4.m1.2.2.1.1.cmml" xref="S2.E4.m1.2.2.1.1">𝐿</ci></apply><ci id="S2.E4.m1.6.6.cmml" xref="S2.E4.m1.6.6">⋯</ci><apply id="S2.E4.m1.9.9.3.3.3.cmml" xref="S2.E4.m1.9.9.3.3.3"><csymbol cd="ambiguous" id="S2.E4.m1.9.9.3.3.3.1.cmml" xref="S2.E4.m1.9.9.3.3.3">superscript</csymbol><apply id="S2.E4.m1.9.9.3.3.3.2.cmml" xref="S2.E4.m1.9.9.3.3.3"><csymbol cd="ambiguous" id="S2.E4.m1.9.9.3.3.3.2.1.cmml" xref="S2.E4.m1.9.9.3.3.3">subscript</csymbol><ci id="S2.E4.m1.9.9.3.3.3.2.2.cmml" xref="S2.E4.m1.9.9.3.3.3.2.2">𝐡</ci><apply id="S2.E4.m1.4.4.2.cmml" xref="S2.E4.m1.4.4.2"><plus id="S2.E4.m1.4.4.2.3.cmml" xref="S2.E4.m1.4.4.2.3"></plus><apply id="S2.E4.m1.4.4.2.4.1.cmml" xref="S2.E4.m1.4.4.2.4.2"><abs id="S2.E4.m1.4.4.2.4.1.1.cmml" xref="S2.E4.m1.4.4.2.4.2.1"></abs><ci id="S2.E4.m1.3.3.1.1.cmml" xref="S2.E4.m1.3.3.1.1">𝐂</ci></apply><apply id="S2.E4.m1.4.4.2.5.1.cmml" xref="S2.E4.m1.4.4.2.5.2"><abs id="S2.E4.m1.4.4.2.5.1.1.cmml" xref="S2.E4.m1.4.4.2.5.2.1"></abs><ci id="S2.E4.m1.4.4.2.2.cmml" xref="S2.E4.m1.4.4.2.2">𝐓</ci></apply></apply></apply><ci id="S2.E4.m1.5.5.1.1.cmml" xref="S2.E4.m1.5.5.1.1">𝐿</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E4.m1.9c">\mathbf{M}_{i}=[\mathbf{h}_{+}^{(L)},\mathbf{h}_{1}^{(L)},\cdots,\mathbf{h}_{|%
\mathbf{C}|+|\mathbf{T}|}^{(L)}]</annotation><annotation encoding="application/x-llamapun" id="S2.E4.m1.9d">bold_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = [ bold_h start_POSTSUBSCRIPT + end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT , bold_h start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT , ⋯ , bold_h start_POSTSUBSCRIPT | bold_C | + | bold_T | end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS3.p3.15">where <math alttext="\mathbf{h}_{+}^{(L)}" class="ltx_Math" display="inline" id="S2.SS3.p3.10.m1.1"><semantics id="S2.SS3.p3.10.m1.1a"><msubsup id="S2.SS3.p3.10.m1.1.2" xref="S2.SS3.p3.10.m1.1.2.cmml"><mi id="S2.SS3.p3.10.m1.1.2.2.2" xref="S2.SS3.p3.10.m1.1.2.2.2.cmml">𝐡</mi><mo id="S2.SS3.p3.10.m1.1.2.2.3" xref="S2.SS3.p3.10.m1.1.2.2.3.cmml">+</mo><mrow id="S2.SS3.p3.10.m1.1.1.1.3" xref="S2.SS3.p3.10.m1.1.2.cmml"><mo id="S2.SS3.p3.10.m1.1.1.1.3.1" stretchy="false" xref="S2.SS3.p3.10.m1.1.2.cmml">(</mo><mi id="S2.SS3.p3.10.m1.1.1.1.1" xref="S2.SS3.p3.10.m1.1.1.1.1.cmml">L</mi><mo id="S2.SS3.p3.10.m1.1.1.1.3.2" stretchy="false" xref="S2.SS3.p3.10.m1.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.10.m1.1b"><apply id="S2.SS3.p3.10.m1.1.2.cmml" xref="S2.SS3.p3.10.m1.1.2"><csymbol cd="ambiguous" id="S2.SS3.p3.10.m1.1.2.1.cmml" xref="S2.SS3.p3.10.m1.1.2">superscript</csymbol><apply id="S2.SS3.p3.10.m1.1.2.2.cmml" xref="S2.SS3.p3.10.m1.1.2"><csymbol cd="ambiguous" id="S2.SS3.p3.10.m1.1.2.2.1.cmml" xref="S2.SS3.p3.10.m1.1.2">subscript</csymbol><ci id="S2.SS3.p3.10.m1.1.2.2.2.cmml" xref="S2.SS3.p3.10.m1.1.2.2.2">𝐡</ci><plus id="S2.SS3.p3.10.m1.1.2.2.3.cmml" xref="S2.SS3.p3.10.m1.1.2.2.3"></plus></apply><ci id="S2.SS3.p3.10.m1.1.1.1.1.cmml" xref="S2.SS3.p3.10.m1.1.1.1.1">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.10.m1.1c">\mathbf{h}_{+}^{(L)}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.10.m1.1d">bold_h start_POSTSUBSCRIPT + end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT</annotation></semantics></math> stands for the node embedding with highest similarity. Note that we utilize the context encoder <math alttext="\mathbf{E}_{\mathbf{c}}(\cdot)" class="ltx_Math" display="inline" id="S2.SS3.p3.11.m2.1"><semantics id="S2.SS3.p3.11.m2.1a"><mrow id="S2.SS3.p3.11.m2.1.2" xref="S2.SS3.p3.11.m2.1.2.cmml"><msub id="S2.SS3.p3.11.m2.1.2.2" xref="S2.SS3.p3.11.m2.1.2.2.cmml"><mi id="S2.SS3.p3.11.m2.1.2.2.2" xref="S2.SS3.p3.11.m2.1.2.2.2.cmml">𝐄</mi><mi id="S2.SS3.p3.11.m2.1.2.2.3" xref="S2.SS3.p3.11.m2.1.2.2.3.cmml">𝐜</mi></msub><mo id="S2.SS3.p3.11.m2.1.2.1" xref="S2.SS3.p3.11.m2.1.2.1.cmml">⁢</mo><mrow id="S2.SS3.p3.11.m2.1.2.3.2" xref="S2.SS3.p3.11.m2.1.2.cmml"><mo id="S2.SS3.p3.11.m2.1.2.3.2.1" stretchy="false" xref="S2.SS3.p3.11.m2.1.2.cmml">(</mo><mo id="S2.SS3.p3.11.m2.1.1" lspace="0em" rspace="0em" xref="S2.SS3.p3.11.m2.1.1.cmml">⋅</mo><mo id="S2.SS3.p3.11.m2.1.2.3.2.2" stretchy="false" xref="S2.SS3.p3.11.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.11.m2.1b"><apply id="S2.SS3.p3.11.m2.1.2.cmml" xref="S2.SS3.p3.11.m2.1.2"><times id="S2.SS3.p3.11.m2.1.2.1.cmml" xref="S2.SS3.p3.11.m2.1.2.1"></times><apply id="S2.SS3.p3.11.m2.1.2.2.cmml" xref="S2.SS3.p3.11.m2.1.2.2"><csymbol cd="ambiguous" id="S2.SS3.p3.11.m2.1.2.2.1.cmml" xref="S2.SS3.p3.11.m2.1.2.2">subscript</csymbol><ci id="S2.SS3.p3.11.m2.1.2.2.2.cmml" xref="S2.SS3.p3.11.m2.1.2.2.2">𝐄</ci><ci id="S2.SS3.p3.11.m2.1.2.2.3.cmml" xref="S2.SS3.p3.11.m2.1.2.2.3">𝐜</ci></apply><ci id="S2.SS3.p3.11.m2.1.1.cmml" xref="S2.SS3.p3.11.m2.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.11.m2.1c">\mathbf{E}_{\mathbf{c}}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.11.m2.1d">bold_E start_POSTSUBSCRIPT bold_c end_POSTSUBSCRIPT ( ⋅ )</annotation></semantics></math> from the retriever to initialize node embeddings for simplicity.
Then, we regard <math alttext="\mathbf{h}_{+}^{(L)}" class="ltx_Math" display="inline" id="S2.SS3.p3.12.m3.1"><semantics id="S2.SS3.p3.12.m3.1a"><msubsup id="S2.SS3.p3.12.m3.1.2" xref="S2.SS3.p3.12.m3.1.2.cmml"><mi id="S2.SS3.p3.12.m3.1.2.2.2" xref="S2.SS3.p3.12.m3.1.2.2.2.cmml">𝐡</mi><mo id="S2.SS3.p3.12.m3.1.2.2.3" xref="S2.SS3.p3.12.m3.1.2.2.3.cmml">+</mo><mrow id="S2.SS3.p3.12.m3.1.1.1.3" xref="S2.SS3.p3.12.m3.1.2.cmml"><mo id="S2.SS3.p3.12.m3.1.1.1.3.1" stretchy="false" xref="S2.SS3.p3.12.m3.1.2.cmml">(</mo><mi id="S2.SS3.p3.12.m3.1.1.1.1" xref="S2.SS3.p3.12.m3.1.1.1.1.cmml">L</mi><mo id="S2.SS3.p3.12.m3.1.1.1.3.2" stretchy="false" xref="S2.SS3.p3.12.m3.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.12.m3.1b"><apply id="S2.SS3.p3.12.m3.1.2.cmml" xref="S2.SS3.p3.12.m3.1.2"><csymbol cd="ambiguous" id="S2.SS3.p3.12.m3.1.2.1.cmml" xref="S2.SS3.p3.12.m3.1.2">superscript</csymbol><apply id="S2.SS3.p3.12.m3.1.2.2.cmml" xref="S2.SS3.p3.12.m3.1.2"><csymbol cd="ambiguous" id="S2.SS3.p3.12.m3.1.2.2.1.cmml" xref="S2.SS3.p3.12.m3.1.2">subscript</csymbol><ci id="S2.SS3.p3.12.m3.1.2.2.2.cmml" xref="S2.SS3.p3.12.m3.1.2.2.2">𝐡</ci><plus id="S2.SS3.p3.12.m3.1.2.2.3.cmml" xref="S2.SS3.p3.12.m3.1.2.2.3"></plus></apply><ci id="S2.SS3.p3.12.m3.1.1.1.1.cmml" xref="S2.SS3.p3.12.m3.1.1.1.1">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.12.m3.1c">\mathbf{h}_{+}^{(L)}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.12.m3.1d">bold_h start_POSTSUBSCRIPT + end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT</annotation></semantics></math> as the positive while the rest in <math alttext="\mathbf{M}_{i}" class="ltx_Math" display="inline" id="S2.SS3.p3.13.m4.1"><semantics id="S2.SS3.p3.13.m4.1a"><msub id="S2.SS3.p3.13.m4.1.1" xref="S2.SS3.p3.13.m4.1.1.cmml"><mi id="S2.SS3.p3.13.m4.1.1.2" xref="S2.SS3.p3.13.m4.1.1.2.cmml">𝐌</mi><mi id="S2.SS3.p3.13.m4.1.1.3" xref="S2.SS3.p3.13.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.13.m4.1b"><apply id="S2.SS3.p3.13.m4.1.1.cmml" xref="S2.SS3.p3.13.m4.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.13.m4.1.1.1.cmml" xref="S2.SS3.p3.13.m4.1.1">subscript</csymbol><ci id="S2.SS3.p3.13.m4.1.1.2.cmml" xref="S2.SS3.p3.13.m4.1.1.2">𝐌</ci><ci id="S2.SS3.p3.13.m4.1.1.3.cmml" xref="S2.SS3.p3.13.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.13.m4.1c">\mathbf{M}_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.13.m4.1d">bold_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> as negative samples to conduct contrastive learning using InfoNCE <cite class="ltx_cite ltx_citemacro_cite">van den Oord et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib45" title="">2018</a>)</cite>, which brings the query <math alttext="\mathbf{q}^{\mathbf{s}}_{i}" class="ltx_Math" display="inline" id="S2.SS3.p3.14.m5.1"><semantics id="S2.SS3.p3.14.m5.1a"><msubsup id="S2.SS3.p3.14.m5.1.1" xref="S2.SS3.p3.14.m5.1.1.cmml"><mi id="S2.SS3.p3.14.m5.1.1.2.2" xref="S2.SS3.p3.14.m5.1.1.2.2.cmml">𝐪</mi><mi id="S2.SS3.p3.14.m5.1.1.3" xref="S2.SS3.p3.14.m5.1.1.3.cmml">i</mi><mi id="S2.SS3.p3.14.m5.1.1.2.3" xref="S2.SS3.p3.14.m5.1.1.2.3.cmml">𝐬</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.14.m5.1b"><apply id="S2.SS3.p3.14.m5.1.1.cmml" xref="S2.SS3.p3.14.m5.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.14.m5.1.1.1.cmml" xref="S2.SS3.p3.14.m5.1.1">subscript</csymbol><apply id="S2.SS3.p3.14.m5.1.1.2.cmml" xref="S2.SS3.p3.14.m5.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.14.m5.1.1.2.1.cmml" xref="S2.SS3.p3.14.m5.1.1">superscript</csymbol><ci id="S2.SS3.p3.14.m5.1.1.2.2.cmml" xref="S2.SS3.p3.14.m5.1.1.2.2">𝐪</ci><ci id="S2.SS3.p3.14.m5.1.1.2.3.cmml" xref="S2.SS3.p3.14.m5.1.1.2.3">𝐬</ci></apply><ci id="S2.SS3.p3.14.m5.1.1.3.cmml" xref="S2.SS3.p3.14.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.14.m5.1c">\mathbf{q}^{\mathbf{s}}_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.14.m5.1d">bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and the positive sample <math alttext="\mathbf{h}_{+}^{(L)}" class="ltx_Math" display="inline" id="S2.SS3.p3.15.m6.1"><semantics id="S2.SS3.p3.15.m6.1a"><msubsup id="S2.SS3.p3.15.m6.1.2" xref="S2.SS3.p3.15.m6.1.2.cmml"><mi id="S2.SS3.p3.15.m6.1.2.2.2" xref="S2.SS3.p3.15.m6.1.2.2.2.cmml">𝐡</mi><mo id="S2.SS3.p3.15.m6.1.2.2.3" xref="S2.SS3.p3.15.m6.1.2.2.3.cmml">+</mo><mrow id="S2.SS3.p3.15.m6.1.1.1.3" xref="S2.SS3.p3.15.m6.1.2.cmml"><mo id="S2.SS3.p3.15.m6.1.1.1.3.1" stretchy="false" xref="S2.SS3.p3.15.m6.1.2.cmml">(</mo><mi id="S2.SS3.p3.15.m6.1.1.1.1" xref="S2.SS3.p3.15.m6.1.1.1.1.cmml">L</mi><mo id="S2.SS3.p3.15.m6.1.1.1.3.2" stretchy="false" xref="S2.SS3.p3.15.m6.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.15.m6.1b"><apply id="S2.SS3.p3.15.m6.1.2.cmml" xref="S2.SS3.p3.15.m6.1.2"><csymbol cd="ambiguous" id="S2.SS3.p3.15.m6.1.2.1.cmml" xref="S2.SS3.p3.15.m6.1.2">superscript</csymbol><apply id="S2.SS3.p3.15.m6.1.2.2.cmml" xref="S2.SS3.p3.15.m6.1.2"><csymbol cd="ambiguous" id="S2.SS3.p3.15.m6.1.2.2.1.cmml" xref="S2.SS3.p3.15.m6.1.2">subscript</csymbol><ci id="S2.SS3.p3.15.m6.1.2.2.2.cmml" xref="S2.SS3.p3.15.m6.1.2.2.2">𝐡</ci><plus id="S2.SS3.p3.15.m6.1.2.2.3.cmml" xref="S2.SS3.p3.15.m6.1.2.2.3"></plus></apply><ci id="S2.SS3.p3.15.m6.1.1.1.1.cmml" xref="S2.SS3.p3.15.m6.1.1.1.1">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.15.m6.1c">\mathbf{h}_{+}^{(L)}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.15.m6.1d">bold_h start_POSTSUBSCRIPT + end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT</annotation></semantics></math> closer in the semantic embedding space.
We formulate the contrastive training objective as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{\mathrm{CL}}=-\frac{1}{|\mathbf{T}|}\sum_{j=1}^{|\mathbf{T}|}\log%
\frac{\exp\left({\mathbf{E}_{\mathbf{q}}(\mathbf{q}^{\mathbf{s}}_{j})}^{\top}%
\mathbf{h}_{+}^{(L)}/\tau\right)}{\exp\left({\mathbf{E}_{\mathbf{q}}(\mathbf{q%
}^{\mathbf{s}}_{j})}^{\top}\mathbf{h}_{+}^{(L)}/\tau\right)+\sum_{i=1}^{|%
\mathbf{M}_{j}-1|}\exp\left({\mathbf{E}_{\mathbf{q}}(\mathbf{q}^{\mathbf{s}}_{%
j})}^{\top}\mathbf{h}_{i}^{(L)}/\tau\right)}" class="ltx_Math" display="block" id="S2.E5.m1.12"><semantics id="S2.E5.m1.12a"><mrow id="S2.E5.m1.12.13" xref="S2.E5.m1.12.13.cmml"><msub id="S2.E5.m1.12.13.2" xref="S2.E5.m1.12.13.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E5.m1.12.13.2.2" xref="S2.E5.m1.12.13.2.2.cmml">ℒ</mi><mi id="S2.E5.m1.12.13.2.3" xref="S2.E5.m1.12.13.2.3.cmml">CL</mi></msub><mo id="S2.E5.m1.12.13.1" xref="S2.E5.m1.12.13.1.cmml">=</mo><mrow id="S2.E5.m1.12.13.3" xref="S2.E5.m1.12.13.3.cmml"><mo id="S2.E5.m1.12.13.3a" xref="S2.E5.m1.12.13.3.cmml">−</mo><mrow id="S2.E5.m1.12.13.3.2" xref="S2.E5.m1.12.13.3.2.cmml"><mfrac id="S2.E5.m1.1.1" xref="S2.E5.m1.1.1.cmml"><mn id="S2.E5.m1.1.1.3" xref="S2.E5.m1.1.1.3.cmml">1</mn><mrow id="S2.E5.m1.1.1.1.3" xref="S2.E5.m1.1.1.1.2.cmml"><mo id="S2.E5.m1.1.1.1.3.1" stretchy="false" xref="S2.E5.m1.1.1.1.2.1.cmml">|</mo><mi id="S2.E5.m1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.cmml">𝐓</mi><mo id="S2.E5.m1.1.1.1.3.2" stretchy="false" xref="S2.E5.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S2.E5.m1.12.13.3.2.1" xref="S2.E5.m1.12.13.3.2.1.cmml">⁢</mo><mrow id="S2.E5.m1.12.13.3.2.2" xref="S2.E5.m1.12.13.3.2.2.cmml"><munderover id="S2.E5.m1.12.13.3.2.2.1" xref="S2.E5.m1.12.13.3.2.2.1.cmml"><mo id="S2.E5.m1.12.13.3.2.2.1.2.2" movablelimits="false" xref="S2.E5.m1.12.13.3.2.2.1.2.2.cmml">∑</mo><mrow id="S2.E5.m1.12.13.3.2.2.1.2.3" xref="S2.E5.m1.12.13.3.2.2.1.2.3.cmml"><mi id="S2.E5.m1.12.13.3.2.2.1.2.3.2" xref="S2.E5.m1.12.13.3.2.2.1.2.3.2.cmml">j</mi><mo id="S2.E5.m1.12.13.3.2.2.1.2.3.1" xref="S2.E5.m1.12.13.3.2.2.1.2.3.1.cmml">=</mo><mn id="S2.E5.m1.12.13.3.2.2.1.2.3.3" xref="S2.E5.m1.12.13.3.2.2.1.2.3.3.cmml">1</mn></mrow><mrow id="S2.E5.m1.2.2.1.3" xref="S2.E5.m1.2.2.1.2.cmml"><mo id="S2.E5.m1.2.2.1.3.1" stretchy="false" xref="S2.E5.m1.2.2.1.2.1.cmml">|</mo><mi id="S2.E5.m1.2.2.1.1" xref="S2.E5.m1.2.2.1.1.cmml">𝐓</mi><mo id="S2.E5.m1.2.2.1.3.2" stretchy="false" xref="S2.E5.m1.2.2.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S2.E5.m1.12.13.3.2.2.2" xref="S2.E5.m1.12.13.3.2.2.2.cmml"><mi id="S2.E5.m1.12.13.3.2.2.2.1" xref="S2.E5.m1.12.13.3.2.2.2.1.cmml">log</mi><mo id="S2.E5.m1.12.13.3.2.2.2a" lspace="0.167em" xref="S2.E5.m1.12.13.3.2.2.2.cmml">⁡</mo><mfrac id="S2.E5.m1.12.12" xref="S2.E5.m1.12.12.cmml"><mrow id="S2.E5.m1.5.5.3.3" xref="S2.E5.m1.5.5.3.4.cmml"><mi id="S2.E5.m1.4.4.2.2" xref="S2.E5.m1.4.4.2.2.cmml">exp</mi><mo id="S2.E5.m1.5.5.3.3a" xref="S2.E5.m1.5.5.3.4.cmml">⁡</mo><mrow id="S2.E5.m1.5.5.3.3.1" xref="S2.E5.m1.5.5.3.4.cmml"><mo id="S2.E5.m1.5.5.3.3.1.2" xref="S2.E5.m1.5.5.3.4.cmml">(</mo><mrow id="S2.E5.m1.5.5.3.3.1.1" xref="S2.E5.m1.5.5.3.3.1.1.cmml"><mrow id="S2.E5.m1.5.5.3.3.1.1.1" xref="S2.E5.m1.5.5.3.3.1.1.1.cmml"><msub id="S2.E5.m1.5.5.3.3.1.1.1.3" xref="S2.E5.m1.5.5.3.3.1.1.1.3.cmml"><mi id="S2.E5.m1.5.5.3.3.1.1.1.3.2" xref="S2.E5.m1.5.5.3.3.1.1.1.3.2.cmml">𝐄</mi><mi id="S2.E5.m1.5.5.3.3.1.1.1.3.3" xref="S2.E5.m1.5.5.3.3.1.1.1.3.3.cmml">𝐪</mi></msub><mo id="S2.E5.m1.5.5.3.3.1.1.1.2" xref="S2.E5.m1.5.5.3.3.1.1.1.2.cmml">⁢</mo><msup id="S2.E5.m1.5.5.3.3.1.1.1.1" xref="S2.E5.m1.5.5.3.3.1.1.1.1.cmml"><mrow id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.cmml"><mo id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.2" stretchy="false" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.cmml"><mi id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.2.2" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.2.2.cmml">𝐪</mi><mi id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.3" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.3.cmml">j</mi><mi id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.2.3" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.2.3.cmml">𝐬</mi></msubsup><mo id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.3" stretchy="false" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S2.E5.m1.5.5.3.3.1.1.1.1.3" xref="S2.E5.m1.5.5.3.3.1.1.1.1.3.cmml">⊤</mo></msup><mo id="S2.E5.m1.5.5.3.3.1.1.1.2a" xref="S2.E5.m1.5.5.3.3.1.1.1.2.cmml">⁢</mo><msubsup id="S2.E5.m1.5.5.3.3.1.1.1.4" xref="S2.E5.m1.5.5.3.3.1.1.1.4.cmml"><mi id="S2.E5.m1.5.5.3.3.1.1.1.4.2.2" xref="S2.E5.m1.5.5.3.3.1.1.1.4.2.2.cmml">𝐡</mi><mo id="S2.E5.m1.5.5.3.3.1.1.1.4.2.3" xref="S2.E5.m1.5.5.3.3.1.1.1.4.2.3.cmml">+</mo><mrow id="S2.E5.m1.3.3.1.1.1.3" xref="S2.E5.m1.5.5.3.3.1.1.1.4.cmml"><mo id="S2.E5.m1.3.3.1.1.1.3.1" stretchy="false" xref="S2.E5.m1.5.5.3.3.1.1.1.4.cmml">(</mo><mi id="S2.E5.m1.3.3.1.1.1.1" xref="S2.E5.m1.3.3.1.1.1.1.cmml">L</mi><mo id="S2.E5.m1.3.3.1.1.1.3.2" stretchy="false" xref="S2.E5.m1.5.5.3.3.1.1.1.4.cmml">)</mo></mrow></msubsup></mrow><mo id="S2.E5.m1.5.5.3.3.1.1.2" xref="S2.E5.m1.5.5.3.3.1.1.2.cmml">/</mo><mi id="S2.E5.m1.5.5.3.3.1.1.3" xref="S2.E5.m1.5.5.3.3.1.1.3.cmml">τ</mi></mrow><mo id="S2.E5.m1.5.5.3.3.1.3" xref="S2.E5.m1.5.5.3.4.cmml">)</mo></mrow></mrow><mrow id="S2.E5.m1.12.12.10" xref="S2.E5.m1.12.12.10.cmml"><mrow id="S2.E5.m1.11.11.9.6.1" xref="S2.E5.m1.11.11.9.6.2.cmml"><mi id="S2.E5.m1.9.9.7.4" xref="S2.E5.m1.9.9.7.4.cmml">exp</mi><mo id="S2.E5.m1.11.11.9.6.1a" xref="S2.E5.m1.11.11.9.6.2.cmml">⁡</mo><mrow id="S2.E5.m1.11.11.9.6.1.1" xref="S2.E5.m1.11.11.9.6.2.cmml"><mo id="S2.E5.m1.11.11.9.6.1.1.2" xref="S2.E5.m1.11.11.9.6.2.cmml">(</mo><mrow id="S2.E5.m1.11.11.9.6.1.1.1" xref="S2.E5.m1.11.11.9.6.1.1.1.cmml"><mrow id="S2.E5.m1.11.11.9.6.1.1.1.1" xref="S2.E5.m1.11.11.9.6.1.1.1.1.cmml"><msub id="S2.E5.m1.11.11.9.6.1.1.1.1.3" xref="S2.E5.m1.11.11.9.6.1.1.1.1.3.cmml"><mi id="S2.E5.m1.11.11.9.6.1.1.1.1.3.2" xref="S2.E5.m1.11.11.9.6.1.1.1.1.3.2.cmml">𝐄</mi><mi id="S2.E5.m1.11.11.9.6.1.1.1.1.3.3" xref="S2.E5.m1.11.11.9.6.1.1.1.1.3.3.cmml">𝐪</mi></msub><mo id="S2.E5.m1.11.11.9.6.1.1.1.1.2" xref="S2.E5.m1.11.11.9.6.1.1.1.1.2.cmml">⁢</mo><msup id="S2.E5.m1.11.11.9.6.1.1.1.1.1" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.cmml"><mrow id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.2.2" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.2.2.cmml">𝐪</mi><mi id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.3" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.3.cmml">j</mi><mi id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.2.3" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.2.3.cmml">𝐬</mi></msubsup><mo id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S2.E5.m1.11.11.9.6.1.1.1.1.1.3" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.3.cmml">⊤</mo></msup><mo id="S2.E5.m1.11.11.9.6.1.1.1.1.2a" xref="S2.E5.m1.11.11.9.6.1.1.1.1.2.cmml">⁢</mo><msubsup id="S2.E5.m1.11.11.9.6.1.1.1.1.4" xref="S2.E5.m1.11.11.9.6.1.1.1.1.4.cmml"><mi id="S2.E5.m1.11.11.9.6.1.1.1.1.4.2.2" xref="S2.E5.m1.11.11.9.6.1.1.1.1.4.2.2.cmml">𝐡</mi><mo id="S2.E5.m1.11.11.9.6.1.1.1.1.4.2.3" xref="S2.E5.m1.11.11.9.6.1.1.1.1.4.2.3.cmml">+</mo><mrow id="S2.E5.m1.6.6.4.1.1.3" xref="S2.E5.m1.11.11.9.6.1.1.1.1.4.cmml"><mo id="S2.E5.m1.6.6.4.1.1.3.1" stretchy="false" xref="S2.E5.m1.11.11.9.6.1.1.1.1.4.cmml">(</mo><mi id="S2.E5.m1.6.6.4.1.1.1" xref="S2.E5.m1.6.6.4.1.1.1.cmml">L</mi><mo id="S2.E5.m1.6.6.4.1.1.3.2" stretchy="false" xref="S2.E5.m1.11.11.9.6.1.1.1.1.4.cmml">)</mo></mrow></msubsup></mrow><mo id="S2.E5.m1.11.11.9.6.1.1.1.2" xref="S2.E5.m1.11.11.9.6.1.1.1.2.cmml">/</mo><mi id="S2.E5.m1.11.11.9.6.1.1.1.3" xref="S2.E5.m1.11.11.9.6.1.1.1.3.cmml">τ</mi></mrow><mo id="S2.E5.m1.11.11.9.6.1.1.3" xref="S2.E5.m1.11.11.9.6.2.cmml">)</mo></mrow></mrow><mo id="S2.E5.m1.12.12.10.8" rspace="0.055em" xref="S2.E5.m1.12.12.10.8.cmml">+</mo><mrow id="S2.E5.m1.12.12.10.7" xref="S2.E5.m1.12.12.10.7.cmml"><msubsup id="S2.E5.m1.12.12.10.7.2" xref="S2.E5.m1.12.12.10.7.2.cmml"><mo id="S2.E5.m1.12.12.10.7.2.2.2" xref="S2.E5.m1.12.12.10.7.2.2.2.cmml">∑</mo><mrow id="S2.E5.m1.12.12.10.7.2.2.3" xref="S2.E5.m1.12.12.10.7.2.2.3.cmml"><mi id="S2.E5.m1.12.12.10.7.2.2.3.2" xref="S2.E5.m1.12.12.10.7.2.2.3.2.cmml">i</mi><mo id="S2.E5.m1.12.12.10.7.2.2.3.1" xref="S2.E5.m1.12.12.10.7.2.2.3.1.cmml">=</mo><mn id="S2.E5.m1.12.12.10.7.2.2.3.3" xref="S2.E5.m1.12.12.10.7.2.2.3.3.cmml">1</mn></mrow><mrow id="S2.E5.m1.7.7.5.2.1.1" xref="S2.E5.m1.7.7.5.2.1.2.cmml"><mo id="S2.E5.m1.7.7.5.2.1.1.2" stretchy="false" xref="S2.E5.m1.7.7.5.2.1.2.1.cmml">|</mo><mrow id="S2.E5.m1.7.7.5.2.1.1.1" xref="S2.E5.m1.7.7.5.2.1.1.1.cmml"><msub id="S2.E5.m1.7.7.5.2.1.1.1.2" xref="S2.E5.m1.7.7.5.2.1.1.1.2.cmml"><mi id="S2.E5.m1.7.7.5.2.1.1.1.2.2" xref="S2.E5.m1.7.7.5.2.1.1.1.2.2.cmml">𝐌</mi><mi id="S2.E5.m1.7.7.5.2.1.1.1.2.3" xref="S2.E5.m1.7.7.5.2.1.1.1.2.3.cmml">j</mi></msub><mo id="S2.E5.m1.7.7.5.2.1.1.1.1" xref="S2.E5.m1.7.7.5.2.1.1.1.1.cmml">−</mo><mn id="S2.E5.m1.7.7.5.2.1.1.1.3" xref="S2.E5.m1.7.7.5.2.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E5.m1.7.7.5.2.1.1.3" stretchy="false" xref="S2.E5.m1.7.7.5.2.1.2.1.cmml">|</mo></mrow></msubsup><mrow id="S2.E5.m1.12.12.10.7.1.1" xref="S2.E5.m1.12.12.10.7.1.2.cmml"><mi id="S2.E5.m1.10.10.8.5" xref="S2.E5.m1.10.10.8.5.cmml">exp</mi><mo id="S2.E5.m1.12.12.10.7.1.1a" xref="S2.E5.m1.12.12.10.7.1.2.cmml">⁡</mo><mrow id="S2.E5.m1.12.12.10.7.1.1.1" xref="S2.E5.m1.12.12.10.7.1.2.cmml"><mo id="S2.E5.m1.12.12.10.7.1.1.1.2" xref="S2.E5.m1.12.12.10.7.1.2.cmml">(</mo><mrow id="S2.E5.m1.12.12.10.7.1.1.1.1" xref="S2.E5.m1.12.12.10.7.1.1.1.1.cmml"><mrow id="S2.E5.m1.12.12.10.7.1.1.1.1.1" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.cmml"><msub id="S2.E5.m1.12.12.10.7.1.1.1.1.1.3" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.3.cmml"><mi id="S2.E5.m1.12.12.10.7.1.1.1.1.1.3.2" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.3.2.cmml">𝐄</mi><mi id="S2.E5.m1.12.12.10.7.1.1.1.1.1.3.3" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.3.3.cmml">𝐪</mi></msub><mo id="S2.E5.m1.12.12.10.7.1.1.1.1.1.2" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.2.cmml">⁢</mo><msup id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.cmml"><mrow id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.2.2" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.2.2.cmml">𝐪</mi><mi id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.3" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.3.cmml">j</mi><mi id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.2.3" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.2.3.cmml">𝐬</mi></msubsup><mo id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.3" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.3.cmml">⊤</mo></msup><mo id="S2.E5.m1.12.12.10.7.1.1.1.1.1.2a" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.2.cmml">⁢</mo><msubsup id="S2.E5.m1.12.12.10.7.1.1.1.1.1.4" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.cmml"><mi id="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.2.2" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.2.2.cmml">𝐡</mi><mi id="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.2.3" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.2.3.cmml">i</mi><mrow id="S2.E5.m1.8.8.6.3.1.3" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.cmml"><mo id="S2.E5.m1.8.8.6.3.1.3.1" stretchy="false" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.cmml">(</mo><mi id="S2.E5.m1.8.8.6.3.1.1" xref="S2.E5.m1.8.8.6.3.1.1.cmml">L</mi><mo id="S2.E5.m1.8.8.6.3.1.3.2" stretchy="false" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.cmml">)</mo></mrow></msubsup></mrow><mo id="S2.E5.m1.12.12.10.7.1.1.1.1.2" xref="S2.E5.m1.12.12.10.7.1.1.1.1.2.cmml">/</mo><mi id="S2.E5.m1.12.12.10.7.1.1.1.1.3" xref="S2.E5.m1.12.12.10.7.1.1.1.1.3.cmml">τ</mi></mrow><mo id="S2.E5.m1.12.12.10.7.1.1.1.3" xref="S2.E5.m1.12.12.10.7.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E5.m1.12b"><apply id="S2.E5.m1.12.13.cmml" xref="S2.E5.m1.12.13"><eq id="S2.E5.m1.12.13.1.cmml" xref="S2.E5.m1.12.13.1"></eq><apply id="S2.E5.m1.12.13.2.cmml" xref="S2.E5.m1.12.13.2"><csymbol cd="ambiguous" id="S2.E5.m1.12.13.2.1.cmml" xref="S2.E5.m1.12.13.2">subscript</csymbol><ci id="S2.E5.m1.12.13.2.2.cmml" xref="S2.E5.m1.12.13.2.2">ℒ</ci><ci id="S2.E5.m1.12.13.2.3.cmml" xref="S2.E5.m1.12.13.2.3">CL</ci></apply><apply id="S2.E5.m1.12.13.3.cmml" xref="S2.E5.m1.12.13.3"><minus id="S2.E5.m1.12.13.3.1.cmml" xref="S2.E5.m1.12.13.3"></minus><apply id="S2.E5.m1.12.13.3.2.cmml" xref="S2.E5.m1.12.13.3.2"><times id="S2.E5.m1.12.13.3.2.1.cmml" xref="S2.E5.m1.12.13.3.2.1"></times><apply id="S2.E5.m1.1.1.cmml" xref="S2.E5.m1.1.1"><divide id="S2.E5.m1.1.1.2.cmml" xref="S2.E5.m1.1.1"></divide><cn id="S2.E5.m1.1.1.3.cmml" type="integer" xref="S2.E5.m1.1.1.3">1</cn><apply id="S2.E5.m1.1.1.1.2.cmml" xref="S2.E5.m1.1.1.1.3"><abs id="S2.E5.m1.1.1.1.2.1.cmml" xref="S2.E5.m1.1.1.1.3.1"></abs><ci id="S2.E5.m1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1.1">𝐓</ci></apply></apply><apply id="S2.E5.m1.12.13.3.2.2.cmml" xref="S2.E5.m1.12.13.3.2.2"><apply id="S2.E5.m1.12.13.3.2.2.1.cmml" xref="S2.E5.m1.12.13.3.2.2.1"><csymbol cd="ambiguous" id="S2.E5.m1.12.13.3.2.2.1.1.cmml" xref="S2.E5.m1.12.13.3.2.2.1">superscript</csymbol><apply id="S2.E5.m1.12.13.3.2.2.1.2.cmml" xref="S2.E5.m1.12.13.3.2.2.1"><csymbol cd="ambiguous" id="S2.E5.m1.12.13.3.2.2.1.2.1.cmml" xref="S2.E5.m1.12.13.3.2.2.1">subscript</csymbol><sum id="S2.E5.m1.12.13.3.2.2.1.2.2.cmml" xref="S2.E5.m1.12.13.3.2.2.1.2.2"></sum><apply id="S2.E5.m1.12.13.3.2.2.1.2.3.cmml" xref="S2.E5.m1.12.13.3.2.2.1.2.3"><eq id="S2.E5.m1.12.13.3.2.2.1.2.3.1.cmml" xref="S2.E5.m1.12.13.3.2.2.1.2.3.1"></eq><ci id="S2.E5.m1.12.13.3.2.2.1.2.3.2.cmml" xref="S2.E5.m1.12.13.3.2.2.1.2.3.2">𝑗</ci><cn id="S2.E5.m1.12.13.3.2.2.1.2.3.3.cmml" type="integer" xref="S2.E5.m1.12.13.3.2.2.1.2.3.3">1</cn></apply></apply><apply id="S2.E5.m1.2.2.1.2.cmml" xref="S2.E5.m1.2.2.1.3"><abs id="S2.E5.m1.2.2.1.2.1.cmml" xref="S2.E5.m1.2.2.1.3.1"></abs><ci id="S2.E5.m1.2.2.1.1.cmml" xref="S2.E5.m1.2.2.1.1">𝐓</ci></apply></apply><apply id="S2.E5.m1.12.13.3.2.2.2.cmml" xref="S2.E5.m1.12.13.3.2.2.2"><log id="S2.E5.m1.12.13.3.2.2.2.1.cmml" xref="S2.E5.m1.12.13.3.2.2.2.1"></log><apply id="S2.E5.m1.12.12.cmml" xref="S2.E5.m1.12.12"><divide id="S2.E5.m1.12.12.11.cmml" xref="S2.E5.m1.12.12"></divide><apply id="S2.E5.m1.5.5.3.4.cmml" xref="S2.E5.m1.5.5.3.3"><exp id="S2.E5.m1.4.4.2.2.cmml" xref="S2.E5.m1.4.4.2.2"></exp><apply id="S2.E5.m1.5.5.3.3.1.1.cmml" xref="S2.E5.m1.5.5.3.3.1.1"><divide id="S2.E5.m1.5.5.3.3.1.1.2.cmml" xref="S2.E5.m1.5.5.3.3.1.1.2"></divide><apply id="S2.E5.m1.5.5.3.3.1.1.1.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1"><times id="S2.E5.m1.5.5.3.3.1.1.1.2.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.2"></times><apply id="S2.E5.m1.5.5.3.3.1.1.1.3.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.3.3.1.1.1.3.1.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.3">subscript</csymbol><ci id="S2.E5.m1.5.5.3.3.1.1.1.3.2.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.3.2">𝐄</ci><ci id="S2.E5.m1.5.5.3.3.1.1.1.3.3.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.3.3">𝐪</ci></apply><apply id="S2.E5.m1.5.5.3.3.1.1.1.1.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.3.3.1.1.1.1.2.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.1">superscript</csymbol><apply id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1">subscript</csymbol><apply id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1">superscript</csymbol><ci id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.2.2">𝐪</ci><ci id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.2.3">𝐬</ci></apply><ci id="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.1.1.1.1.3">𝑗</ci></apply><csymbol cd="latexml" id="S2.E5.m1.5.5.3.3.1.1.1.1.3.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.1.3">top</csymbol></apply><apply id="S2.E5.m1.5.5.3.3.1.1.1.4.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.4"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.3.3.1.1.1.4.1.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.4">superscript</csymbol><apply id="S2.E5.m1.5.5.3.3.1.1.1.4.2.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.4"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.3.3.1.1.1.4.2.1.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.4">subscript</csymbol><ci id="S2.E5.m1.5.5.3.3.1.1.1.4.2.2.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.4.2.2">𝐡</ci><plus id="S2.E5.m1.5.5.3.3.1.1.1.4.2.3.cmml" xref="S2.E5.m1.5.5.3.3.1.1.1.4.2.3"></plus></apply><ci id="S2.E5.m1.3.3.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1">𝐿</ci></apply></apply><ci id="S2.E5.m1.5.5.3.3.1.1.3.cmml" xref="S2.E5.m1.5.5.3.3.1.1.3">𝜏</ci></apply></apply><apply id="S2.E5.m1.12.12.10.cmml" xref="S2.E5.m1.12.12.10"><plus id="S2.E5.m1.12.12.10.8.cmml" xref="S2.E5.m1.12.12.10.8"></plus><apply id="S2.E5.m1.11.11.9.6.2.cmml" xref="S2.E5.m1.11.11.9.6.1"><exp id="S2.E5.m1.9.9.7.4.cmml" xref="S2.E5.m1.9.9.7.4"></exp><apply id="S2.E5.m1.11.11.9.6.1.1.1.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1"><divide id="S2.E5.m1.11.11.9.6.1.1.1.2.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.2"></divide><apply id="S2.E5.m1.11.11.9.6.1.1.1.1.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1"><times id="S2.E5.m1.11.11.9.6.1.1.1.1.2.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.2"></times><apply id="S2.E5.m1.11.11.9.6.1.1.1.1.3.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E5.m1.11.11.9.6.1.1.1.1.3.1.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.3">subscript</csymbol><ci id="S2.E5.m1.11.11.9.6.1.1.1.1.3.2.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.3.2">𝐄</ci><ci id="S2.E5.m1.11.11.9.6.1.1.1.1.3.3.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.3.3">𝐪</ci></apply><apply id="S2.E5.m1.11.11.9.6.1.1.1.1.1.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.11.11.9.6.1.1.1.1.1.2.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1">superscript</csymbol><apply id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1">subscript</csymbol><apply id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1">superscript</csymbol><ci id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.2.2">𝐪</ci><ci id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.2.3">𝐬</ci></apply><ci id="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.1.1.1.3">𝑗</ci></apply><csymbol cd="latexml" id="S2.E5.m1.11.11.9.6.1.1.1.1.1.3.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.1.3">top</csymbol></apply><apply id="S2.E5.m1.11.11.9.6.1.1.1.1.4.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.4"><csymbol cd="ambiguous" id="S2.E5.m1.11.11.9.6.1.1.1.1.4.1.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.4">superscript</csymbol><apply id="S2.E5.m1.11.11.9.6.1.1.1.1.4.2.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.4"><csymbol cd="ambiguous" id="S2.E5.m1.11.11.9.6.1.1.1.1.4.2.1.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.4">subscript</csymbol><ci id="S2.E5.m1.11.11.9.6.1.1.1.1.4.2.2.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.4.2.2">𝐡</ci><plus id="S2.E5.m1.11.11.9.6.1.1.1.1.4.2.3.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.1.4.2.3"></plus></apply><ci id="S2.E5.m1.6.6.4.1.1.1.cmml" xref="S2.E5.m1.6.6.4.1.1.1">𝐿</ci></apply></apply><ci id="S2.E5.m1.11.11.9.6.1.1.1.3.cmml" xref="S2.E5.m1.11.11.9.6.1.1.1.3">𝜏</ci></apply></apply><apply id="S2.E5.m1.12.12.10.7.cmml" xref="S2.E5.m1.12.12.10.7"><apply id="S2.E5.m1.12.12.10.7.2.cmml" xref="S2.E5.m1.12.12.10.7.2"><csymbol cd="ambiguous" id="S2.E5.m1.12.12.10.7.2.1.cmml" xref="S2.E5.m1.12.12.10.7.2">superscript</csymbol><apply id="S2.E5.m1.12.12.10.7.2.2.cmml" xref="S2.E5.m1.12.12.10.7.2"><csymbol cd="ambiguous" id="S2.E5.m1.12.12.10.7.2.2.1.cmml" xref="S2.E5.m1.12.12.10.7.2">subscript</csymbol><sum id="S2.E5.m1.12.12.10.7.2.2.2.cmml" xref="S2.E5.m1.12.12.10.7.2.2.2"></sum><apply id="S2.E5.m1.12.12.10.7.2.2.3.cmml" xref="S2.E5.m1.12.12.10.7.2.2.3"><eq id="S2.E5.m1.12.12.10.7.2.2.3.1.cmml" xref="S2.E5.m1.12.12.10.7.2.2.3.1"></eq><ci id="S2.E5.m1.12.12.10.7.2.2.3.2.cmml" xref="S2.E5.m1.12.12.10.7.2.2.3.2">𝑖</ci><cn id="S2.E5.m1.12.12.10.7.2.2.3.3.cmml" type="integer" xref="S2.E5.m1.12.12.10.7.2.2.3.3">1</cn></apply></apply><apply id="S2.E5.m1.7.7.5.2.1.2.cmml" xref="S2.E5.m1.7.7.5.2.1.1"><abs id="S2.E5.m1.7.7.5.2.1.2.1.cmml" xref="S2.E5.m1.7.7.5.2.1.1.2"></abs><apply id="S2.E5.m1.7.7.5.2.1.1.1.cmml" xref="S2.E5.m1.7.7.5.2.1.1.1"><minus id="S2.E5.m1.7.7.5.2.1.1.1.1.cmml" xref="S2.E5.m1.7.7.5.2.1.1.1.1"></minus><apply id="S2.E5.m1.7.7.5.2.1.1.1.2.cmml" xref="S2.E5.m1.7.7.5.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.E5.m1.7.7.5.2.1.1.1.2.1.cmml" xref="S2.E5.m1.7.7.5.2.1.1.1.2">subscript</csymbol><ci id="S2.E5.m1.7.7.5.2.1.1.1.2.2.cmml" xref="S2.E5.m1.7.7.5.2.1.1.1.2.2">𝐌</ci><ci id="S2.E5.m1.7.7.5.2.1.1.1.2.3.cmml" xref="S2.E5.m1.7.7.5.2.1.1.1.2.3">𝑗</ci></apply><cn id="S2.E5.m1.7.7.5.2.1.1.1.3.cmml" type="integer" xref="S2.E5.m1.7.7.5.2.1.1.1.3">1</cn></apply></apply></apply><apply id="S2.E5.m1.12.12.10.7.1.2.cmml" xref="S2.E5.m1.12.12.10.7.1.1"><exp id="S2.E5.m1.10.10.8.5.cmml" xref="S2.E5.m1.10.10.8.5"></exp><apply id="S2.E5.m1.12.12.10.7.1.1.1.1.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1"><divide id="S2.E5.m1.12.12.10.7.1.1.1.1.2.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.2"></divide><apply id="S2.E5.m1.12.12.10.7.1.1.1.1.1.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1"><times id="S2.E5.m1.12.12.10.7.1.1.1.1.1.2.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.2"></times><apply id="S2.E5.m1.12.12.10.7.1.1.1.1.1.3.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E5.m1.12.12.10.7.1.1.1.1.1.3.1.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E5.m1.12.12.10.7.1.1.1.1.1.3.2.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.3.2">𝐄</ci><ci id="S2.E5.m1.12.12.10.7.1.1.1.1.1.3.3.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.3.3">𝐪</ci></apply><apply id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1">superscript</csymbol><apply id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.2.2">𝐪</ci><ci id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.2.3">𝐬</ci></apply><ci id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.1.1.1.3">𝑗</ci></apply><csymbol cd="latexml" id="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.1.3">top</csymbol></apply><apply id="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.1.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.4">superscript</csymbol><apply id="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.2.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.2.1.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.4">subscript</csymbol><ci id="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.2.2.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.2.2">𝐡</ci><ci id="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.2.3.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.1.4.2.3">𝑖</ci></apply><ci id="S2.E5.m1.8.8.6.3.1.1.cmml" xref="S2.E5.m1.8.8.6.3.1.1">𝐿</ci></apply></apply><ci id="S2.E5.m1.12.12.10.7.1.1.1.1.3.cmml" xref="S2.E5.m1.12.12.10.7.1.1.1.1.3">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E5.m1.12c">\mathcal{L}_{\mathrm{CL}}=-\frac{1}{|\mathbf{T}|}\sum_{j=1}^{|\mathbf{T}|}\log%
\frac{\exp\left({\mathbf{E}_{\mathbf{q}}(\mathbf{q}^{\mathbf{s}}_{j})}^{\top}%
\mathbf{h}_{+}^{(L)}/\tau\right)}{\exp\left({\mathbf{E}_{\mathbf{q}}(\mathbf{q%
}^{\mathbf{s}}_{j})}^{\top}\mathbf{h}_{+}^{(L)}/\tau\right)+\sum_{i=1}^{|%
\mathbf{M}_{j}-1|}\exp\left({\mathbf{E}_{\mathbf{q}}(\mathbf{q}^{\mathbf{s}}_{%
j})}^{\top}\mathbf{h}_{i}^{(L)}/\tau\right)}</annotation><annotation encoding="application/x-llamapun" id="S2.E5.m1.12d">caligraphic_L start_POSTSUBSCRIPT roman_CL end_POSTSUBSCRIPT = - divide start_ARG 1 end_ARG start_ARG | bold_T | end_ARG ∑ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | bold_T | end_POSTSUPERSCRIPT roman_log divide start_ARG roman_exp ( bold_E start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ( bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT bold_h start_POSTSUBSCRIPT + end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT / italic_τ ) end_ARG start_ARG roman_exp ( bold_E start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ( bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT bold_h start_POSTSUBSCRIPT + end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT / italic_τ ) + ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | bold_M start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT - 1 | end_POSTSUPERSCRIPT roman_exp ( bold_E start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ( bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT / italic_τ ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS3.p3.17">where <math alttext="\tau" class="ltx_Math" display="inline" id="S2.SS3.p3.16.m1.1"><semantics id="S2.SS3.p3.16.m1.1a"><mi id="S2.SS3.p3.16.m1.1.1" xref="S2.SS3.p3.16.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.16.m1.1b"><ci id="S2.SS3.p3.16.m1.1.1.cmml" xref="S2.SS3.p3.16.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.16.m1.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.16.m1.1d">italic_τ</annotation></semantics></math> is the temperature coefficient.
Note that in the optimization pipeline of GoR, we conduct mini-batch training on the graph level, and each graph is associated with an independent self-supervised training dataset <math alttext="\mathbf{T}" class="ltx_Math" display="inline" id="S2.SS3.p3.17.m2.1"><semantics id="S2.SS3.p3.17.m2.1a"><mi id="S2.SS3.p3.17.m2.1.1" xref="S2.SS3.p3.17.m2.1.1.cmml">𝐓</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.17.m2.1b"><ci id="S2.SS3.p3.17.m2.1.1.cmml" xref="S2.SS3.p3.17.m2.1.1">𝐓</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.17.m2.1c">\mathbf{T}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p3.17.m2.1d">bold_T</annotation></semantics></math>.
We also leverage in-batch negatives from other graphs since the nodes in them are completely irrelevant content from other long documents (it is not shown in Formula <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S2.E5" title="In 2.3 BERTScore-based Objective for Self-supervised Training ‣ 2 Graph of Records ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">5</span></a> for brevity).</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS3.p4">
<p class="ltx_p" id="S2.SS3.p4.2"><span class="ltx_text ltx_font_bold" id="S2.SS3.p4.2.1">Auxiliary Pair-wise Ranking Loss</span>.
In the above-described contrastive loss <math alttext="\mathcal{L}_{\mathrm{CL}}" class="ltx_Math" display="inline" id="S2.SS3.p4.1.m1.1"><semantics id="S2.SS3.p4.1.m1.1a"><msub id="S2.SS3.p4.1.m1.1.1" xref="S2.SS3.p4.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS3.p4.1.m1.1.1.2" xref="S2.SS3.p4.1.m1.1.1.2.cmml">ℒ</mi><mi id="S2.SS3.p4.1.m1.1.1.3" xref="S2.SS3.p4.1.m1.1.1.3.cmml">CL</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.1.m1.1b"><apply id="S2.SS3.p4.1.m1.1.1.cmml" xref="S2.SS3.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.1.m1.1.1.1.cmml" xref="S2.SS3.p4.1.m1.1.1">subscript</csymbol><ci id="S2.SS3.p4.1.m1.1.1.2.cmml" xref="S2.SS3.p4.1.m1.1.1.2">ℒ</ci><ci id="S2.SS3.p4.1.m1.1.1.3.cmml" xref="S2.SS3.p4.1.m1.1.1.3">CL</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.1.m1.1c">\mathcal{L}_{\mathrm{CL}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p4.1.m1.1d">caligraphic_L start_POSTSUBSCRIPT roman_CL end_POSTSUBSCRIPT</annotation></semantics></math>, although we impose constraints on positive and negative samples, the ranking of negative samples themselves is not well utilized.
Inspired by LambdaRank <cite class="ltx_cite ltx_citemacro_cite">Burges (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib5" title="">2010</a>)</cite>, we further introduce an auxiliary pair-wise ranking loss on the ranking list <math alttext="\mathbf{M}_{i}" class="ltx_Math" display="inline" id="S2.SS3.p4.2.m2.1"><semantics id="S2.SS3.p4.2.m2.1a"><msub id="S2.SS3.p4.2.m2.1.1" xref="S2.SS3.p4.2.m2.1.1.cmml"><mi id="S2.SS3.p4.2.m2.1.1.2" xref="S2.SS3.p4.2.m2.1.1.2.cmml">𝐌</mi><mi id="S2.SS3.p4.2.m2.1.1.3" xref="S2.SS3.p4.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.2.m2.1b"><apply id="S2.SS3.p4.2.m2.1.1.cmml" xref="S2.SS3.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.2.m2.1.1.1.cmml" xref="S2.SS3.p4.2.m2.1.1">subscript</csymbol><ci id="S2.SS3.p4.2.m2.1.1.2.cmml" xref="S2.SS3.p4.2.m2.1.1.2">𝐌</ci><ci id="S2.SS3.p4.2.m2.1.1.3.cmml" xref="S2.SS3.p4.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.2.m2.1c">\mathbf{M}_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p4.2.m2.1d">bold_M start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, which can be formulated as:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{\mathrm{RANK}}=\frac{1}{|\mathbf{T}|}\sum_{k=1}^{|\mathbf{T}|}%
\sum_{\mathbf{h}_{i}^{(L)},\mathbf{h}_{j}^{(L)}\in\mathbf{M}_{k}}\mathbb{I}_{%
\operatorname{r}(\mathbf{h}_{j}^{(L)})&gt;\operatorname{r}(\mathbf{h}_{i}^{(L)})}%
\log\left(1+e^{{\mathbf{E}_{\mathbf{q}}(\mathbf{q}^{\mathbf{s}}_{k})}^{\top}%
\mathbf{h}_{j}^{(L)}-{\mathbf{E}_{\mathbf{q}}(\mathbf{q}^{\mathbf{s}}_{k})}^{%
\top}\mathbf{h}_{i}^{(L)}}\right)" class="ltx_Math" display="block" id="S2.E6.m1.18"><semantics id="S2.E6.m1.18a"><mrow id="S2.E6.m1.18.18" xref="S2.E6.m1.18.18.cmml"><msub id="S2.E6.m1.18.18.3" xref="S2.E6.m1.18.18.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E6.m1.18.18.3.2" xref="S2.E6.m1.18.18.3.2.cmml">ℒ</mi><mi id="S2.E6.m1.18.18.3.3" xref="S2.E6.m1.18.18.3.3.cmml">RANK</mi></msub><mo id="S2.E6.m1.18.18.2" xref="S2.E6.m1.18.18.2.cmml">=</mo><mrow id="S2.E6.m1.18.18.1" xref="S2.E6.m1.18.18.1.cmml"><mfrac id="S2.E6.m1.1.1" xref="S2.E6.m1.1.1.cmml"><mn id="S2.E6.m1.1.1.3" xref="S2.E6.m1.1.1.3.cmml">1</mn><mrow id="S2.E6.m1.1.1.1.3" xref="S2.E6.m1.1.1.1.2.cmml"><mo id="S2.E6.m1.1.1.1.3.1" stretchy="false" xref="S2.E6.m1.1.1.1.2.1.cmml">|</mo><mi id="S2.E6.m1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.cmml">𝐓</mi><mo id="S2.E6.m1.1.1.1.3.2" stretchy="false" xref="S2.E6.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S2.E6.m1.18.18.1.2" xref="S2.E6.m1.18.18.1.2.cmml">⁢</mo><mrow id="S2.E6.m1.18.18.1.1" xref="S2.E6.m1.18.18.1.1.cmml"><munderover id="S2.E6.m1.18.18.1.1.2" xref="S2.E6.m1.18.18.1.1.2.cmml"><mo id="S2.E6.m1.18.18.1.1.2.2.2" movablelimits="false" rspace="0em" xref="S2.E6.m1.18.18.1.1.2.2.2.cmml">∑</mo><mrow id="S2.E6.m1.18.18.1.1.2.2.3" xref="S2.E6.m1.18.18.1.1.2.2.3.cmml"><mi id="S2.E6.m1.18.18.1.1.2.2.3.2" xref="S2.E6.m1.18.18.1.1.2.2.3.2.cmml">k</mi><mo id="S2.E6.m1.18.18.1.1.2.2.3.1" xref="S2.E6.m1.18.18.1.1.2.2.3.1.cmml">=</mo><mn id="S2.E6.m1.18.18.1.1.2.2.3.3" xref="S2.E6.m1.18.18.1.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S2.E6.m1.2.2.1.3" xref="S2.E6.m1.2.2.1.2.cmml"><mo id="S2.E6.m1.2.2.1.3.1" stretchy="false" xref="S2.E6.m1.2.2.1.2.1.cmml">|</mo><mi id="S2.E6.m1.2.2.1.1" xref="S2.E6.m1.2.2.1.1.cmml">𝐓</mi><mo id="S2.E6.m1.2.2.1.3.2" stretchy="false" xref="S2.E6.m1.2.2.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S2.E6.m1.18.18.1.1.1" xref="S2.E6.m1.18.18.1.1.1.cmml"><munder id="S2.E6.m1.18.18.1.1.1.2" xref="S2.E6.m1.18.18.1.1.1.2.cmml"><mo id="S2.E6.m1.18.18.1.1.1.2.2" movablelimits="false" xref="S2.E6.m1.18.18.1.1.1.2.2.cmml">∑</mo><mrow id="S2.E6.m1.6.6.4" xref="S2.E6.m1.6.6.4.cmml"><mrow id="S2.E6.m1.6.6.4.4.2" xref="S2.E6.m1.6.6.4.4.3.cmml"><msubsup id="S2.E6.m1.5.5.3.3.1.1" xref="S2.E6.m1.5.5.3.3.1.1.cmml"><mi id="S2.E6.m1.5.5.3.3.1.1.2.2" xref="S2.E6.m1.5.5.3.3.1.1.2.2.cmml">𝐡</mi><mi id="S2.E6.m1.5.5.3.3.1.1.2.3" xref="S2.E6.m1.5.5.3.3.1.1.2.3.cmml">i</mi><mrow id="S2.E6.m1.3.3.1.1.1.3" xref="S2.E6.m1.5.5.3.3.1.1.cmml"><mo id="S2.E6.m1.3.3.1.1.1.3.1" stretchy="false" xref="S2.E6.m1.5.5.3.3.1.1.cmml">(</mo><mi id="S2.E6.m1.3.3.1.1.1.1" xref="S2.E6.m1.3.3.1.1.1.1.cmml">L</mi><mo id="S2.E6.m1.3.3.1.1.1.3.2" stretchy="false" xref="S2.E6.m1.5.5.3.3.1.1.cmml">)</mo></mrow></msubsup><mo id="S2.E6.m1.6.6.4.4.2.3" xref="S2.E6.m1.6.6.4.4.3.cmml">,</mo><msubsup id="S2.E6.m1.6.6.4.4.2.2" xref="S2.E6.m1.6.6.4.4.2.2.cmml"><mi id="S2.E6.m1.6.6.4.4.2.2.2.2" xref="S2.E6.m1.6.6.4.4.2.2.2.2.cmml">𝐡</mi><mi id="S2.E6.m1.6.6.4.4.2.2.2.3" xref="S2.E6.m1.6.6.4.4.2.2.2.3.cmml">j</mi><mrow id="S2.E6.m1.4.4.2.2.1.3" xref="S2.E6.m1.6.6.4.4.2.2.cmml"><mo id="S2.E6.m1.4.4.2.2.1.3.1" stretchy="false" xref="S2.E6.m1.6.6.4.4.2.2.cmml">(</mo><mi id="S2.E6.m1.4.4.2.2.1.1" xref="S2.E6.m1.4.4.2.2.1.1.cmml">L</mi><mo id="S2.E6.m1.4.4.2.2.1.3.2" stretchy="false" xref="S2.E6.m1.6.6.4.4.2.2.cmml">)</mo></mrow></msubsup></mrow><mo id="S2.E6.m1.6.6.4.5" xref="S2.E6.m1.6.6.4.5.cmml">∈</mo><msub id="S2.E6.m1.6.6.4.6" xref="S2.E6.m1.6.6.4.6.cmml"><mi id="S2.E6.m1.6.6.4.6.2" xref="S2.E6.m1.6.6.4.6.2.cmml">𝐌</mi><mi id="S2.E6.m1.6.6.4.6.3" xref="S2.E6.m1.6.6.4.6.3.cmml">k</mi></msub></mrow></munder><mrow id="S2.E6.m1.18.18.1.1.1.1" xref="S2.E6.m1.18.18.1.1.1.1.cmml"><msub id="S2.E6.m1.18.18.1.1.1.1.3" xref="S2.E6.m1.18.18.1.1.1.1.3.cmml"><mi id="S2.E6.m1.18.18.1.1.1.1.3.2" xref="S2.E6.m1.18.18.1.1.1.1.3.2.cmml">𝕀</mi><mrow id="S2.E6.m1.12.12.6" xref="S2.E6.m1.12.12.6.cmml"><mrow id="S2.E6.m1.11.11.5.5.1" xref="S2.E6.m1.11.11.5.5.2.cmml"><mi id="S2.E6.m1.9.9.3.3" mathvariant="normal" xref="S2.E6.m1.9.9.3.3.cmml">r</mi><mo id="S2.E6.m1.11.11.5.5.1a" xref="S2.E6.m1.11.11.5.5.2.cmml">⁡</mo><mrow id="S2.E6.m1.11.11.5.5.1.1" xref="S2.E6.m1.11.11.5.5.2.cmml"><mo id="S2.E6.m1.11.11.5.5.1.1.2" stretchy="false" xref="S2.E6.m1.11.11.5.5.2.cmml">(</mo><msubsup id="S2.E6.m1.11.11.5.5.1.1.1" xref="S2.E6.m1.11.11.5.5.1.1.1.cmml"><mi id="S2.E6.m1.11.11.5.5.1.1.1.2.2" xref="S2.E6.m1.11.11.5.5.1.1.1.2.2.cmml">𝐡</mi><mi id="S2.E6.m1.11.11.5.5.1.1.1.2.3" xref="S2.E6.m1.11.11.5.5.1.1.1.2.3.cmml">j</mi><mrow id="S2.E6.m1.7.7.1.1.1.3" xref="S2.E6.m1.11.11.5.5.1.1.1.cmml"><mo id="S2.E6.m1.7.7.1.1.1.3.1" stretchy="false" xref="S2.E6.m1.11.11.5.5.1.1.1.cmml">(</mo><mi id="S2.E6.m1.7.7.1.1.1.1" xref="S2.E6.m1.7.7.1.1.1.1.cmml">L</mi><mo id="S2.E6.m1.7.7.1.1.1.3.2" stretchy="false" xref="S2.E6.m1.11.11.5.5.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S2.E6.m1.11.11.5.5.1.1.3" stretchy="false" xref="S2.E6.m1.11.11.5.5.2.cmml">)</mo></mrow></mrow><mo id="S2.E6.m1.12.12.6.7" xref="S2.E6.m1.12.12.6.7.cmml">&gt;</mo><mrow id="S2.E6.m1.12.12.6.6.1" xref="S2.E6.m1.12.12.6.6.2.cmml"><mi id="S2.E6.m1.10.10.4.4" mathvariant="normal" xref="S2.E6.m1.10.10.4.4.cmml">r</mi><mo id="S2.E6.m1.12.12.6.6.1a" xref="S2.E6.m1.12.12.6.6.2.cmml">⁡</mo><mrow id="S2.E6.m1.12.12.6.6.1.1" xref="S2.E6.m1.12.12.6.6.2.cmml"><mo id="S2.E6.m1.12.12.6.6.1.1.2" stretchy="false" xref="S2.E6.m1.12.12.6.6.2.cmml">(</mo><msubsup id="S2.E6.m1.12.12.6.6.1.1.1" xref="S2.E6.m1.12.12.6.6.1.1.1.cmml"><mi id="S2.E6.m1.12.12.6.6.1.1.1.2.2" xref="S2.E6.m1.12.12.6.6.1.1.1.2.2.cmml">𝐡</mi><mi id="S2.E6.m1.12.12.6.6.1.1.1.2.3" xref="S2.E6.m1.12.12.6.6.1.1.1.2.3.cmml">i</mi><mrow id="S2.E6.m1.8.8.2.2.1.3" xref="S2.E6.m1.12.12.6.6.1.1.1.cmml"><mo id="S2.E6.m1.8.8.2.2.1.3.1" stretchy="false" xref="S2.E6.m1.12.12.6.6.1.1.1.cmml">(</mo><mi id="S2.E6.m1.8.8.2.2.1.1" xref="S2.E6.m1.8.8.2.2.1.1.cmml">L</mi><mo id="S2.E6.m1.8.8.2.2.1.3.2" stretchy="false" xref="S2.E6.m1.12.12.6.6.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S2.E6.m1.12.12.6.6.1.1.3" stretchy="false" xref="S2.E6.m1.12.12.6.6.2.cmml">)</mo></mrow></mrow></mrow></msub><mo id="S2.E6.m1.18.18.1.1.1.1.2" lspace="0.167em" xref="S2.E6.m1.18.18.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E6.m1.18.18.1.1.1.1.1.1" xref="S2.E6.m1.18.18.1.1.1.1.1.2.cmml"><mi id="S2.E6.m1.17.17" xref="S2.E6.m1.17.17.cmml">log</mi><mo id="S2.E6.m1.18.18.1.1.1.1.1.1a" xref="S2.E6.m1.18.18.1.1.1.1.1.2.cmml">⁡</mo><mrow id="S2.E6.m1.18.18.1.1.1.1.1.1.1" xref="S2.E6.m1.18.18.1.1.1.1.1.2.cmml"><mo id="S2.E6.m1.18.18.1.1.1.1.1.1.1.2" xref="S2.E6.m1.18.18.1.1.1.1.1.2.cmml">(</mo><mrow id="S2.E6.m1.18.18.1.1.1.1.1.1.1.1" xref="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.cmml"><mn id="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.1" xref="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.1.cmml">+</mo><msup id="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.3.2" xref="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.3.2.cmml">e</mi><mrow id="S2.E6.m1.16.16.4" xref="S2.E6.m1.16.16.4.cmml"><mrow id="S2.E6.m1.15.15.3.3" xref="S2.E6.m1.15.15.3.3.cmml"><msub id="S2.E6.m1.15.15.3.3.3" xref="S2.E6.m1.15.15.3.3.3.cmml"><mi id="S2.E6.m1.15.15.3.3.3.2" xref="S2.E6.m1.15.15.3.3.3.2.cmml">𝐄</mi><mi id="S2.E6.m1.15.15.3.3.3.3" xref="S2.E6.m1.15.15.3.3.3.3.cmml">𝐪</mi></msub><mo id="S2.E6.m1.15.15.3.3.2" xref="S2.E6.m1.15.15.3.3.2.cmml">⁢</mo><msup id="S2.E6.m1.15.15.3.3.1" xref="S2.E6.m1.15.15.3.3.1.cmml"><mrow id="S2.E6.m1.15.15.3.3.1.1.1" xref="S2.E6.m1.15.15.3.3.1.1.1.1.cmml"><mo id="S2.E6.m1.15.15.3.3.1.1.1.2" stretchy="false" xref="S2.E6.m1.15.15.3.3.1.1.1.1.cmml">(</mo><msubsup id="S2.E6.m1.15.15.3.3.1.1.1.1" xref="S2.E6.m1.15.15.3.3.1.1.1.1.cmml"><mi id="S2.E6.m1.15.15.3.3.1.1.1.1.2.2" xref="S2.E6.m1.15.15.3.3.1.1.1.1.2.2.cmml">𝐪</mi><mi id="S2.E6.m1.15.15.3.3.1.1.1.1.3" xref="S2.E6.m1.15.15.3.3.1.1.1.1.3.cmml">k</mi><mi id="S2.E6.m1.15.15.3.3.1.1.1.1.2.3" xref="S2.E6.m1.15.15.3.3.1.1.1.1.2.3.cmml">𝐬</mi></msubsup><mo id="S2.E6.m1.15.15.3.3.1.1.1.3" stretchy="false" xref="S2.E6.m1.15.15.3.3.1.1.1.1.cmml">)</mo></mrow><mo id="S2.E6.m1.15.15.3.3.1.3" xref="S2.E6.m1.15.15.3.3.1.3.cmml">⊤</mo></msup><mo id="S2.E6.m1.15.15.3.3.2a" xref="S2.E6.m1.15.15.3.3.2.cmml">⁢</mo><msubsup id="S2.E6.m1.15.15.3.3.4" xref="S2.E6.m1.15.15.3.3.4.cmml"><mi id="S2.E6.m1.15.15.3.3.4.2.2" xref="S2.E6.m1.15.15.3.3.4.2.2.cmml">𝐡</mi><mi id="S2.E6.m1.15.15.3.3.4.2.3" xref="S2.E6.m1.15.15.3.3.4.2.3.cmml">j</mi><mrow id="S2.E6.m1.13.13.1.1.1.3" xref="S2.E6.m1.15.15.3.3.4.cmml"><mo id="S2.E6.m1.13.13.1.1.1.3.1" stretchy="false" xref="S2.E6.m1.15.15.3.3.4.cmml">(</mo><mi id="S2.E6.m1.13.13.1.1.1.1" xref="S2.E6.m1.13.13.1.1.1.1.cmml">L</mi><mo id="S2.E6.m1.13.13.1.1.1.3.2" stretchy="false" xref="S2.E6.m1.15.15.3.3.4.cmml">)</mo></mrow></msubsup></mrow><mo id="S2.E6.m1.16.16.4.5" xref="S2.E6.m1.16.16.4.5.cmml">−</mo><mrow id="S2.E6.m1.16.16.4.4" xref="S2.E6.m1.16.16.4.4.cmml"><msub id="S2.E6.m1.16.16.4.4.3" xref="S2.E6.m1.16.16.4.4.3.cmml"><mi id="S2.E6.m1.16.16.4.4.3.2" xref="S2.E6.m1.16.16.4.4.3.2.cmml">𝐄</mi><mi id="S2.E6.m1.16.16.4.4.3.3" xref="S2.E6.m1.16.16.4.4.3.3.cmml">𝐪</mi></msub><mo id="S2.E6.m1.16.16.4.4.2" xref="S2.E6.m1.16.16.4.4.2.cmml">⁢</mo><msup id="S2.E6.m1.16.16.4.4.1" xref="S2.E6.m1.16.16.4.4.1.cmml"><mrow id="S2.E6.m1.16.16.4.4.1.1.1" xref="S2.E6.m1.16.16.4.4.1.1.1.1.cmml"><mo id="S2.E6.m1.16.16.4.4.1.1.1.2" stretchy="false" xref="S2.E6.m1.16.16.4.4.1.1.1.1.cmml">(</mo><msubsup id="S2.E6.m1.16.16.4.4.1.1.1.1" xref="S2.E6.m1.16.16.4.4.1.1.1.1.cmml"><mi id="S2.E6.m1.16.16.4.4.1.1.1.1.2.2" xref="S2.E6.m1.16.16.4.4.1.1.1.1.2.2.cmml">𝐪</mi><mi id="S2.E6.m1.16.16.4.4.1.1.1.1.3" xref="S2.E6.m1.16.16.4.4.1.1.1.1.3.cmml">k</mi><mi id="S2.E6.m1.16.16.4.4.1.1.1.1.2.3" xref="S2.E6.m1.16.16.4.4.1.1.1.1.2.3.cmml">𝐬</mi></msubsup><mo id="S2.E6.m1.16.16.4.4.1.1.1.3" stretchy="false" xref="S2.E6.m1.16.16.4.4.1.1.1.1.cmml">)</mo></mrow><mo id="S2.E6.m1.16.16.4.4.1.3" xref="S2.E6.m1.16.16.4.4.1.3.cmml">⊤</mo></msup><mo id="S2.E6.m1.16.16.4.4.2a" xref="S2.E6.m1.16.16.4.4.2.cmml">⁢</mo><msubsup id="S2.E6.m1.16.16.4.4.4" xref="S2.E6.m1.16.16.4.4.4.cmml"><mi id="S2.E6.m1.16.16.4.4.4.2.2" xref="S2.E6.m1.16.16.4.4.4.2.2.cmml">𝐡</mi><mi id="S2.E6.m1.16.16.4.4.4.2.3" xref="S2.E6.m1.16.16.4.4.4.2.3.cmml">i</mi><mrow id="S2.E6.m1.14.14.2.2.1.3" xref="S2.E6.m1.16.16.4.4.4.cmml"><mo id="S2.E6.m1.14.14.2.2.1.3.1" stretchy="false" xref="S2.E6.m1.16.16.4.4.4.cmml">(</mo><mi id="S2.E6.m1.14.14.2.2.1.1" xref="S2.E6.m1.14.14.2.2.1.1.cmml">L</mi><mo id="S2.E6.m1.14.14.2.2.1.3.2" stretchy="false" xref="S2.E6.m1.16.16.4.4.4.cmml">)</mo></mrow></msubsup></mrow></mrow></msup></mrow><mo id="S2.E6.m1.18.18.1.1.1.1.1.1.1.3" xref="S2.E6.m1.18.18.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E6.m1.18b"><apply id="S2.E6.m1.18.18.cmml" xref="S2.E6.m1.18.18"><eq id="S2.E6.m1.18.18.2.cmml" xref="S2.E6.m1.18.18.2"></eq><apply id="S2.E6.m1.18.18.3.cmml" xref="S2.E6.m1.18.18.3"><csymbol cd="ambiguous" id="S2.E6.m1.18.18.3.1.cmml" xref="S2.E6.m1.18.18.3">subscript</csymbol><ci id="S2.E6.m1.18.18.3.2.cmml" xref="S2.E6.m1.18.18.3.2">ℒ</ci><ci id="S2.E6.m1.18.18.3.3.cmml" xref="S2.E6.m1.18.18.3.3">RANK</ci></apply><apply id="S2.E6.m1.18.18.1.cmml" xref="S2.E6.m1.18.18.1"><times id="S2.E6.m1.18.18.1.2.cmml" xref="S2.E6.m1.18.18.1.2"></times><apply id="S2.E6.m1.1.1.cmml" xref="S2.E6.m1.1.1"><divide id="S2.E6.m1.1.1.2.cmml" xref="S2.E6.m1.1.1"></divide><cn id="S2.E6.m1.1.1.3.cmml" type="integer" xref="S2.E6.m1.1.1.3">1</cn><apply id="S2.E6.m1.1.1.1.2.cmml" xref="S2.E6.m1.1.1.1.3"><abs id="S2.E6.m1.1.1.1.2.1.cmml" xref="S2.E6.m1.1.1.1.3.1"></abs><ci id="S2.E6.m1.1.1.1.1.cmml" xref="S2.E6.m1.1.1.1.1">𝐓</ci></apply></apply><apply id="S2.E6.m1.18.18.1.1.cmml" xref="S2.E6.m1.18.18.1.1"><apply id="S2.E6.m1.18.18.1.1.2.cmml" xref="S2.E6.m1.18.18.1.1.2"><csymbol cd="ambiguous" id="S2.E6.m1.18.18.1.1.2.1.cmml" xref="S2.E6.m1.18.18.1.1.2">superscript</csymbol><apply id="S2.E6.m1.18.18.1.1.2.2.cmml" xref="S2.E6.m1.18.18.1.1.2"><csymbol cd="ambiguous" id="S2.E6.m1.18.18.1.1.2.2.1.cmml" xref="S2.E6.m1.18.18.1.1.2">subscript</csymbol><sum id="S2.E6.m1.18.18.1.1.2.2.2.cmml" xref="S2.E6.m1.18.18.1.1.2.2.2"></sum><apply id="S2.E6.m1.18.18.1.1.2.2.3.cmml" xref="S2.E6.m1.18.18.1.1.2.2.3"><eq id="S2.E6.m1.18.18.1.1.2.2.3.1.cmml" xref="S2.E6.m1.18.18.1.1.2.2.3.1"></eq><ci id="S2.E6.m1.18.18.1.1.2.2.3.2.cmml" xref="S2.E6.m1.18.18.1.1.2.2.3.2">𝑘</ci><cn id="S2.E6.m1.18.18.1.1.2.2.3.3.cmml" type="integer" xref="S2.E6.m1.18.18.1.1.2.2.3.3">1</cn></apply></apply><apply id="S2.E6.m1.2.2.1.2.cmml" xref="S2.E6.m1.2.2.1.3"><abs id="S2.E6.m1.2.2.1.2.1.cmml" xref="S2.E6.m1.2.2.1.3.1"></abs><ci id="S2.E6.m1.2.2.1.1.cmml" xref="S2.E6.m1.2.2.1.1">𝐓</ci></apply></apply><apply id="S2.E6.m1.18.18.1.1.1.cmml" xref="S2.E6.m1.18.18.1.1.1"><apply id="S2.E6.m1.18.18.1.1.1.2.cmml" xref="S2.E6.m1.18.18.1.1.1.2"><csymbol cd="ambiguous" id="S2.E6.m1.18.18.1.1.1.2.1.cmml" xref="S2.E6.m1.18.18.1.1.1.2">subscript</csymbol><sum id="S2.E6.m1.18.18.1.1.1.2.2.cmml" xref="S2.E6.m1.18.18.1.1.1.2.2"></sum><apply id="S2.E6.m1.6.6.4.cmml" xref="S2.E6.m1.6.6.4"><in id="S2.E6.m1.6.6.4.5.cmml" xref="S2.E6.m1.6.6.4.5"></in><list id="S2.E6.m1.6.6.4.4.3.cmml" xref="S2.E6.m1.6.6.4.4.2"><apply id="S2.E6.m1.5.5.3.3.1.1.cmml" xref="S2.E6.m1.5.5.3.3.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.5.5.3.3.1.1.1.cmml" xref="S2.E6.m1.5.5.3.3.1.1">superscript</csymbol><apply id="S2.E6.m1.5.5.3.3.1.1.2.cmml" xref="S2.E6.m1.5.5.3.3.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.5.5.3.3.1.1.2.1.cmml" xref="S2.E6.m1.5.5.3.3.1.1">subscript</csymbol><ci id="S2.E6.m1.5.5.3.3.1.1.2.2.cmml" xref="S2.E6.m1.5.5.3.3.1.1.2.2">𝐡</ci><ci id="S2.E6.m1.5.5.3.3.1.1.2.3.cmml" xref="S2.E6.m1.5.5.3.3.1.1.2.3">𝑖</ci></apply><ci id="S2.E6.m1.3.3.1.1.1.1.cmml" xref="S2.E6.m1.3.3.1.1.1.1">𝐿</ci></apply><apply id="S2.E6.m1.6.6.4.4.2.2.cmml" xref="S2.E6.m1.6.6.4.4.2.2"><csymbol cd="ambiguous" id="S2.E6.m1.6.6.4.4.2.2.1.cmml" xref="S2.E6.m1.6.6.4.4.2.2">superscript</csymbol><apply id="S2.E6.m1.6.6.4.4.2.2.2.cmml" xref="S2.E6.m1.6.6.4.4.2.2"><csymbol cd="ambiguous" id="S2.E6.m1.6.6.4.4.2.2.2.1.cmml" xref="S2.E6.m1.6.6.4.4.2.2">subscript</csymbol><ci id="S2.E6.m1.6.6.4.4.2.2.2.2.cmml" xref="S2.E6.m1.6.6.4.4.2.2.2.2">𝐡</ci><ci id="S2.E6.m1.6.6.4.4.2.2.2.3.cmml" xref="S2.E6.m1.6.6.4.4.2.2.2.3">𝑗</ci></apply><ci id="S2.E6.m1.4.4.2.2.1.1.cmml" xref="S2.E6.m1.4.4.2.2.1.1">𝐿</ci></apply></list><apply id="S2.E6.m1.6.6.4.6.cmml" xref="S2.E6.m1.6.6.4.6"><csymbol cd="ambiguous" id="S2.E6.m1.6.6.4.6.1.cmml" xref="S2.E6.m1.6.6.4.6">subscript</csymbol><ci id="S2.E6.m1.6.6.4.6.2.cmml" xref="S2.E6.m1.6.6.4.6.2">𝐌</ci><ci id="S2.E6.m1.6.6.4.6.3.cmml" xref="S2.E6.m1.6.6.4.6.3">𝑘</ci></apply></apply></apply><apply id="S2.E6.m1.18.18.1.1.1.1.cmml" xref="S2.E6.m1.18.18.1.1.1.1"><times id="S2.E6.m1.18.18.1.1.1.1.2.cmml" xref="S2.E6.m1.18.18.1.1.1.1.2"></times><apply id="S2.E6.m1.18.18.1.1.1.1.3.cmml" xref="S2.E6.m1.18.18.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E6.m1.18.18.1.1.1.1.3.1.cmml" xref="S2.E6.m1.18.18.1.1.1.1.3">subscript</csymbol><ci id="S2.E6.m1.18.18.1.1.1.1.3.2.cmml" xref="S2.E6.m1.18.18.1.1.1.1.3.2">𝕀</ci><apply id="S2.E6.m1.12.12.6.cmml" xref="S2.E6.m1.12.12.6"><gt id="S2.E6.m1.12.12.6.7.cmml" xref="S2.E6.m1.12.12.6.7"></gt><apply id="S2.E6.m1.11.11.5.5.2.cmml" xref="S2.E6.m1.11.11.5.5.1"><ci id="S2.E6.m1.9.9.3.3.cmml" xref="S2.E6.m1.9.9.3.3">r</ci><apply id="S2.E6.m1.11.11.5.5.1.1.1.cmml" xref="S2.E6.m1.11.11.5.5.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.11.11.5.5.1.1.1.1.cmml" xref="S2.E6.m1.11.11.5.5.1.1.1">superscript</csymbol><apply id="S2.E6.m1.11.11.5.5.1.1.1.2.cmml" xref="S2.E6.m1.11.11.5.5.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.11.11.5.5.1.1.1.2.1.cmml" xref="S2.E6.m1.11.11.5.5.1.1.1">subscript</csymbol><ci id="S2.E6.m1.11.11.5.5.1.1.1.2.2.cmml" xref="S2.E6.m1.11.11.5.5.1.1.1.2.2">𝐡</ci><ci id="S2.E6.m1.11.11.5.5.1.1.1.2.3.cmml" xref="S2.E6.m1.11.11.5.5.1.1.1.2.3">𝑗</ci></apply><ci id="S2.E6.m1.7.7.1.1.1.1.cmml" xref="S2.E6.m1.7.7.1.1.1.1">𝐿</ci></apply></apply><apply id="S2.E6.m1.12.12.6.6.2.cmml" xref="S2.E6.m1.12.12.6.6.1"><ci id="S2.E6.m1.10.10.4.4.cmml" xref="S2.E6.m1.10.10.4.4">r</ci><apply id="S2.E6.m1.12.12.6.6.1.1.1.cmml" xref="S2.E6.m1.12.12.6.6.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.12.12.6.6.1.1.1.1.cmml" xref="S2.E6.m1.12.12.6.6.1.1.1">superscript</csymbol><apply id="S2.E6.m1.12.12.6.6.1.1.1.2.cmml" xref="S2.E6.m1.12.12.6.6.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.12.12.6.6.1.1.1.2.1.cmml" xref="S2.E6.m1.12.12.6.6.1.1.1">subscript</csymbol><ci id="S2.E6.m1.12.12.6.6.1.1.1.2.2.cmml" xref="S2.E6.m1.12.12.6.6.1.1.1.2.2">𝐡</ci><ci id="S2.E6.m1.12.12.6.6.1.1.1.2.3.cmml" xref="S2.E6.m1.12.12.6.6.1.1.1.2.3">𝑖</ci></apply><ci id="S2.E6.m1.8.8.2.2.1.1.cmml" xref="S2.E6.m1.8.8.2.2.1.1">𝐿</ci></apply></apply></apply></apply><apply id="S2.E6.m1.18.18.1.1.1.1.1.2.cmml" xref="S2.E6.m1.18.18.1.1.1.1.1.1"><log id="S2.E6.m1.17.17.cmml" xref="S2.E6.m1.17.17"></log><apply id="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.18.18.1.1.1.1.1.1.1.1"><plus id="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.1"></plus><cn id="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.2">1</cn><apply id="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E6.m1.18.18.1.1.1.1.1.1.1.1.3.2">𝑒</ci><apply id="S2.E6.m1.16.16.4.cmml" xref="S2.E6.m1.16.16.4"><minus id="S2.E6.m1.16.16.4.5.cmml" xref="S2.E6.m1.16.16.4.5"></minus><apply id="S2.E6.m1.15.15.3.3.cmml" xref="S2.E6.m1.15.15.3.3"><times id="S2.E6.m1.15.15.3.3.2.cmml" xref="S2.E6.m1.15.15.3.3.2"></times><apply id="S2.E6.m1.15.15.3.3.3.cmml" xref="S2.E6.m1.15.15.3.3.3"><csymbol cd="ambiguous" id="S2.E6.m1.15.15.3.3.3.1.cmml" xref="S2.E6.m1.15.15.3.3.3">subscript</csymbol><ci id="S2.E6.m1.15.15.3.3.3.2.cmml" xref="S2.E6.m1.15.15.3.3.3.2">𝐄</ci><ci id="S2.E6.m1.15.15.3.3.3.3.cmml" xref="S2.E6.m1.15.15.3.3.3.3">𝐪</ci></apply><apply id="S2.E6.m1.15.15.3.3.1.cmml" xref="S2.E6.m1.15.15.3.3.1"><csymbol cd="ambiguous" id="S2.E6.m1.15.15.3.3.1.2.cmml" xref="S2.E6.m1.15.15.3.3.1">superscript</csymbol><apply id="S2.E6.m1.15.15.3.3.1.1.1.1.cmml" xref="S2.E6.m1.15.15.3.3.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.15.15.3.3.1.1.1.1.1.cmml" xref="S2.E6.m1.15.15.3.3.1.1.1">subscript</csymbol><apply id="S2.E6.m1.15.15.3.3.1.1.1.1.2.cmml" xref="S2.E6.m1.15.15.3.3.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.15.15.3.3.1.1.1.1.2.1.cmml" xref="S2.E6.m1.15.15.3.3.1.1.1">superscript</csymbol><ci id="S2.E6.m1.15.15.3.3.1.1.1.1.2.2.cmml" xref="S2.E6.m1.15.15.3.3.1.1.1.1.2.2">𝐪</ci><ci id="S2.E6.m1.15.15.3.3.1.1.1.1.2.3.cmml" xref="S2.E6.m1.15.15.3.3.1.1.1.1.2.3">𝐬</ci></apply><ci id="S2.E6.m1.15.15.3.3.1.1.1.1.3.cmml" xref="S2.E6.m1.15.15.3.3.1.1.1.1.3">𝑘</ci></apply><csymbol cd="latexml" id="S2.E6.m1.15.15.3.3.1.3.cmml" xref="S2.E6.m1.15.15.3.3.1.3">top</csymbol></apply><apply id="S2.E6.m1.15.15.3.3.4.cmml" xref="S2.E6.m1.15.15.3.3.4"><csymbol cd="ambiguous" id="S2.E6.m1.15.15.3.3.4.1.cmml" xref="S2.E6.m1.15.15.3.3.4">superscript</csymbol><apply id="S2.E6.m1.15.15.3.3.4.2.cmml" xref="S2.E6.m1.15.15.3.3.4"><csymbol cd="ambiguous" id="S2.E6.m1.15.15.3.3.4.2.1.cmml" xref="S2.E6.m1.15.15.3.3.4">subscript</csymbol><ci id="S2.E6.m1.15.15.3.3.4.2.2.cmml" xref="S2.E6.m1.15.15.3.3.4.2.2">𝐡</ci><ci id="S2.E6.m1.15.15.3.3.4.2.3.cmml" xref="S2.E6.m1.15.15.3.3.4.2.3">𝑗</ci></apply><ci id="S2.E6.m1.13.13.1.1.1.1.cmml" xref="S2.E6.m1.13.13.1.1.1.1">𝐿</ci></apply></apply><apply id="S2.E6.m1.16.16.4.4.cmml" xref="S2.E6.m1.16.16.4.4"><times id="S2.E6.m1.16.16.4.4.2.cmml" xref="S2.E6.m1.16.16.4.4.2"></times><apply id="S2.E6.m1.16.16.4.4.3.cmml" xref="S2.E6.m1.16.16.4.4.3"><csymbol cd="ambiguous" id="S2.E6.m1.16.16.4.4.3.1.cmml" xref="S2.E6.m1.16.16.4.4.3">subscript</csymbol><ci id="S2.E6.m1.16.16.4.4.3.2.cmml" xref="S2.E6.m1.16.16.4.4.3.2">𝐄</ci><ci id="S2.E6.m1.16.16.4.4.3.3.cmml" xref="S2.E6.m1.16.16.4.4.3.3">𝐪</ci></apply><apply id="S2.E6.m1.16.16.4.4.1.cmml" xref="S2.E6.m1.16.16.4.4.1"><csymbol cd="ambiguous" id="S2.E6.m1.16.16.4.4.1.2.cmml" xref="S2.E6.m1.16.16.4.4.1">superscript</csymbol><apply id="S2.E6.m1.16.16.4.4.1.1.1.1.cmml" xref="S2.E6.m1.16.16.4.4.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.16.16.4.4.1.1.1.1.1.cmml" xref="S2.E6.m1.16.16.4.4.1.1.1">subscript</csymbol><apply id="S2.E6.m1.16.16.4.4.1.1.1.1.2.cmml" xref="S2.E6.m1.16.16.4.4.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.16.16.4.4.1.1.1.1.2.1.cmml" xref="S2.E6.m1.16.16.4.4.1.1.1">superscript</csymbol><ci id="S2.E6.m1.16.16.4.4.1.1.1.1.2.2.cmml" xref="S2.E6.m1.16.16.4.4.1.1.1.1.2.2">𝐪</ci><ci id="S2.E6.m1.16.16.4.4.1.1.1.1.2.3.cmml" xref="S2.E6.m1.16.16.4.4.1.1.1.1.2.3">𝐬</ci></apply><ci id="S2.E6.m1.16.16.4.4.1.1.1.1.3.cmml" xref="S2.E6.m1.16.16.4.4.1.1.1.1.3">𝑘</ci></apply><csymbol cd="latexml" id="S2.E6.m1.16.16.4.4.1.3.cmml" xref="S2.E6.m1.16.16.4.4.1.3">top</csymbol></apply><apply id="S2.E6.m1.16.16.4.4.4.cmml" xref="S2.E6.m1.16.16.4.4.4"><csymbol cd="ambiguous" id="S2.E6.m1.16.16.4.4.4.1.cmml" xref="S2.E6.m1.16.16.4.4.4">superscript</csymbol><apply id="S2.E6.m1.16.16.4.4.4.2.cmml" xref="S2.E6.m1.16.16.4.4.4"><csymbol cd="ambiguous" id="S2.E6.m1.16.16.4.4.4.2.1.cmml" xref="S2.E6.m1.16.16.4.4.4">subscript</csymbol><ci id="S2.E6.m1.16.16.4.4.4.2.2.cmml" xref="S2.E6.m1.16.16.4.4.4.2.2">𝐡</ci><ci id="S2.E6.m1.16.16.4.4.4.2.3.cmml" xref="S2.E6.m1.16.16.4.4.4.2.3">𝑖</ci></apply><ci id="S2.E6.m1.14.14.2.2.1.1.cmml" xref="S2.E6.m1.14.14.2.2.1.1">𝐿</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E6.m1.18c">\mathcal{L}_{\mathrm{RANK}}=\frac{1}{|\mathbf{T}|}\sum_{k=1}^{|\mathbf{T}|}%
\sum_{\mathbf{h}_{i}^{(L)},\mathbf{h}_{j}^{(L)}\in\mathbf{M}_{k}}\mathbb{I}_{%
\operatorname{r}(\mathbf{h}_{j}^{(L)})&gt;\operatorname{r}(\mathbf{h}_{i}^{(L)})}%
\log\left(1+e^{{\mathbf{E}_{\mathbf{q}}(\mathbf{q}^{\mathbf{s}}_{k})}^{\top}%
\mathbf{h}_{j}^{(L)}-{\mathbf{E}_{\mathbf{q}}(\mathbf{q}^{\mathbf{s}}_{k})}^{%
\top}\mathbf{h}_{i}^{(L)}}\right)</annotation><annotation encoding="application/x-llamapun" id="S2.E6.m1.18d">caligraphic_L start_POSTSUBSCRIPT roman_RANK end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG | bold_T | end_ARG ∑ start_POSTSUBSCRIPT italic_k = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | bold_T | end_POSTSUPERSCRIPT ∑ start_POSTSUBSCRIPT bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT , bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT ∈ bold_M start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT blackboard_I start_POSTSUBSCRIPT roman_r ( bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT ) &gt; roman_r ( bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT ) end_POSTSUBSCRIPT roman_log ( 1 + italic_e start_POSTSUPERSCRIPT bold_E start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ( bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT - bold_E start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ( bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT end_POSTSUPERSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS3.p4.7">where <math alttext="\operatorname{r}(\cdot)" class="ltx_Math" display="inline" id="S2.SS3.p4.3.m1.2"><semantics id="S2.SS3.p4.3.m1.2a"><mrow id="S2.SS3.p4.3.m1.2.3.2" xref="S2.SS3.p4.3.m1.2.3.1.cmml"><mi id="S2.SS3.p4.3.m1.1.1" mathvariant="normal" xref="S2.SS3.p4.3.m1.1.1.cmml">r</mi><mo id="S2.SS3.p4.3.m1.2.3.2a" xref="S2.SS3.p4.3.m1.2.3.1.cmml">⁡</mo><mrow id="S2.SS3.p4.3.m1.2.3.2.1" xref="S2.SS3.p4.3.m1.2.3.1.cmml"><mo id="S2.SS3.p4.3.m1.2.3.2.1.1" stretchy="false" xref="S2.SS3.p4.3.m1.2.3.1.cmml">(</mo><mo id="S2.SS3.p4.3.m1.2.2" lspace="0em" rspace="0em" xref="S2.SS3.p4.3.m1.2.2.cmml">⋅</mo><mo id="S2.SS3.p4.3.m1.2.3.2.1.2" stretchy="false" xref="S2.SS3.p4.3.m1.2.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.3.m1.2b"><apply id="S2.SS3.p4.3.m1.2.3.1.cmml" xref="S2.SS3.p4.3.m1.2.3.2"><ci id="S2.SS3.p4.3.m1.1.1.cmml" xref="S2.SS3.p4.3.m1.1.1">r</ci><ci id="S2.SS3.p4.3.m1.2.2.cmml" xref="S2.SS3.p4.3.m1.2.2">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.3.m1.2c">\operatorname{r}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p4.3.m1.2d">roman_r ( ⋅ )</annotation></semantics></math> denotes the ranking index (<span class="ltx_text ltx_font_italic" id="S2.SS3.p4.7.1">e.g.</span>, <math alttext="\operatorname{r}(\mathbf{h}_{+}^{(L)})&lt;\operatorname{r}(\mathbf{h}_{1}^{(L)})" class="ltx_Math" display="inline" id="S2.SS3.p4.4.m2.6"><semantics id="S2.SS3.p4.4.m2.6a"><mrow id="S2.SS3.p4.4.m2.6.6" xref="S2.SS3.p4.4.m2.6.6.cmml"><mrow id="S2.SS3.p4.4.m2.5.5.1.1" xref="S2.SS3.p4.4.m2.5.5.1.2.cmml"><mi id="S2.SS3.p4.4.m2.3.3" mathvariant="normal" xref="S2.SS3.p4.4.m2.3.3.cmml">r</mi><mo id="S2.SS3.p4.4.m2.5.5.1.1a" xref="S2.SS3.p4.4.m2.5.5.1.2.cmml">⁡</mo><mrow id="S2.SS3.p4.4.m2.5.5.1.1.1" xref="S2.SS3.p4.4.m2.5.5.1.2.cmml"><mo id="S2.SS3.p4.4.m2.5.5.1.1.1.2" stretchy="false" xref="S2.SS3.p4.4.m2.5.5.1.2.cmml">(</mo><msubsup id="S2.SS3.p4.4.m2.5.5.1.1.1.1" xref="S2.SS3.p4.4.m2.5.5.1.1.1.1.cmml"><mi id="S2.SS3.p4.4.m2.5.5.1.1.1.1.2.2" xref="S2.SS3.p4.4.m2.5.5.1.1.1.1.2.2.cmml">𝐡</mi><mo id="S2.SS3.p4.4.m2.5.5.1.1.1.1.2.3" xref="S2.SS3.p4.4.m2.5.5.1.1.1.1.2.3.cmml">+</mo><mrow id="S2.SS3.p4.4.m2.1.1.1.3" xref="S2.SS3.p4.4.m2.5.5.1.1.1.1.cmml"><mo id="S2.SS3.p4.4.m2.1.1.1.3.1" stretchy="false" xref="S2.SS3.p4.4.m2.5.5.1.1.1.1.cmml">(</mo><mi id="S2.SS3.p4.4.m2.1.1.1.1" xref="S2.SS3.p4.4.m2.1.1.1.1.cmml">L</mi><mo id="S2.SS3.p4.4.m2.1.1.1.3.2" stretchy="false" xref="S2.SS3.p4.4.m2.5.5.1.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S2.SS3.p4.4.m2.5.5.1.1.1.3" stretchy="false" xref="S2.SS3.p4.4.m2.5.5.1.2.cmml">)</mo></mrow></mrow><mo id="S2.SS3.p4.4.m2.6.6.3" xref="S2.SS3.p4.4.m2.6.6.3.cmml">&lt;</mo><mrow id="S2.SS3.p4.4.m2.6.6.2.1" xref="S2.SS3.p4.4.m2.6.6.2.2.cmml"><mi id="S2.SS3.p4.4.m2.4.4" mathvariant="normal" xref="S2.SS3.p4.4.m2.4.4.cmml">r</mi><mo id="S2.SS3.p4.4.m2.6.6.2.1a" xref="S2.SS3.p4.4.m2.6.6.2.2.cmml">⁡</mo><mrow id="S2.SS3.p4.4.m2.6.6.2.1.1" xref="S2.SS3.p4.4.m2.6.6.2.2.cmml"><mo id="S2.SS3.p4.4.m2.6.6.2.1.1.2" stretchy="false" xref="S2.SS3.p4.4.m2.6.6.2.2.cmml">(</mo><msubsup id="S2.SS3.p4.4.m2.6.6.2.1.1.1" xref="S2.SS3.p4.4.m2.6.6.2.1.1.1.cmml"><mi id="S2.SS3.p4.4.m2.6.6.2.1.1.1.2.2" xref="S2.SS3.p4.4.m2.6.6.2.1.1.1.2.2.cmml">𝐡</mi><mn id="S2.SS3.p4.4.m2.6.6.2.1.1.1.2.3" xref="S2.SS3.p4.4.m2.6.6.2.1.1.1.2.3.cmml">1</mn><mrow id="S2.SS3.p4.4.m2.2.2.1.3" xref="S2.SS3.p4.4.m2.6.6.2.1.1.1.cmml"><mo id="S2.SS3.p4.4.m2.2.2.1.3.1" stretchy="false" xref="S2.SS3.p4.4.m2.6.6.2.1.1.1.cmml">(</mo><mi id="S2.SS3.p4.4.m2.2.2.1.1" xref="S2.SS3.p4.4.m2.2.2.1.1.cmml">L</mi><mo id="S2.SS3.p4.4.m2.2.2.1.3.2" stretchy="false" xref="S2.SS3.p4.4.m2.6.6.2.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S2.SS3.p4.4.m2.6.6.2.1.1.3" stretchy="false" xref="S2.SS3.p4.4.m2.6.6.2.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.4.m2.6b"><apply id="S2.SS3.p4.4.m2.6.6.cmml" xref="S2.SS3.p4.4.m2.6.6"><lt id="S2.SS3.p4.4.m2.6.6.3.cmml" xref="S2.SS3.p4.4.m2.6.6.3"></lt><apply id="S2.SS3.p4.4.m2.5.5.1.2.cmml" xref="S2.SS3.p4.4.m2.5.5.1.1"><ci id="S2.SS3.p4.4.m2.3.3.cmml" xref="S2.SS3.p4.4.m2.3.3">r</ci><apply id="S2.SS3.p4.4.m2.5.5.1.1.1.1.cmml" xref="S2.SS3.p4.4.m2.5.5.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.4.m2.5.5.1.1.1.1.1.cmml" xref="S2.SS3.p4.4.m2.5.5.1.1.1.1">superscript</csymbol><apply id="S2.SS3.p4.4.m2.5.5.1.1.1.1.2.cmml" xref="S2.SS3.p4.4.m2.5.5.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.4.m2.5.5.1.1.1.1.2.1.cmml" xref="S2.SS3.p4.4.m2.5.5.1.1.1.1">subscript</csymbol><ci id="S2.SS3.p4.4.m2.5.5.1.1.1.1.2.2.cmml" xref="S2.SS3.p4.4.m2.5.5.1.1.1.1.2.2">𝐡</ci><plus id="S2.SS3.p4.4.m2.5.5.1.1.1.1.2.3.cmml" xref="S2.SS3.p4.4.m2.5.5.1.1.1.1.2.3"></plus></apply><ci id="S2.SS3.p4.4.m2.1.1.1.1.cmml" xref="S2.SS3.p4.4.m2.1.1.1.1">𝐿</ci></apply></apply><apply id="S2.SS3.p4.4.m2.6.6.2.2.cmml" xref="S2.SS3.p4.4.m2.6.6.2.1"><ci id="S2.SS3.p4.4.m2.4.4.cmml" xref="S2.SS3.p4.4.m2.4.4">r</ci><apply id="S2.SS3.p4.4.m2.6.6.2.1.1.1.cmml" xref="S2.SS3.p4.4.m2.6.6.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.4.m2.6.6.2.1.1.1.1.cmml" xref="S2.SS3.p4.4.m2.6.6.2.1.1.1">superscript</csymbol><apply id="S2.SS3.p4.4.m2.6.6.2.1.1.1.2.cmml" xref="S2.SS3.p4.4.m2.6.6.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.4.m2.6.6.2.1.1.1.2.1.cmml" xref="S2.SS3.p4.4.m2.6.6.2.1.1.1">subscript</csymbol><ci id="S2.SS3.p4.4.m2.6.6.2.1.1.1.2.2.cmml" xref="S2.SS3.p4.4.m2.6.6.2.1.1.1.2.2">𝐡</ci><cn id="S2.SS3.p4.4.m2.6.6.2.1.1.1.2.3.cmml" type="integer" xref="S2.SS3.p4.4.m2.6.6.2.1.1.1.2.3">1</cn></apply><ci id="S2.SS3.p4.4.m2.2.2.1.1.cmml" xref="S2.SS3.p4.4.m2.2.2.1.1">𝐿</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.4.m2.6c">\operatorname{r}(\mathbf{h}_{+}^{(L)})&lt;\operatorname{r}(\mathbf{h}_{1}^{(L)})</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p4.4.m2.6d">roman_r ( bold_h start_POSTSUBSCRIPT + end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT ) &lt; roman_r ( bold_h start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT )</annotation></semantics></math>).
Given <math alttext="\mathbf{h}_{i}^{(L)},\mathbf{h}_{j}^{(L)}\in\mathbf{M}_{k}" class="ltx_Math" display="inline" id="S2.SS3.p4.5.m3.4"><semantics id="S2.SS3.p4.5.m3.4a"><mrow id="S2.SS3.p4.5.m3.4.4" xref="S2.SS3.p4.5.m3.4.4.cmml"><mrow id="S2.SS3.p4.5.m3.4.4.2.2" xref="S2.SS3.p4.5.m3.4.4.2.3.cmml"><msubsup id="S2.SS3.p4.5.m3.3.3.1.1.1" xref="S2.SS3.p4.5.m3.3.3.1.1.1.cmml"><mi id="S2.SS3.p4.5.m3.3.3.1.1.1.2.2" xref="S2.SS3.p4.5.m3.3.3.1.1.1.2.2.cmml">𝐡</mi><mi id="S2.SS3.p4.5.m3.3.3.1.1.1.2.3" xref="S2.SS3.p4.5.m3.3.3.1.1.1.2.3.cmml">i</mi><mrow id="S2.SS3.p4.5.m3.1.1.1.3" xref="S2.SS3.p4.5.m3.3.3.1.1.1.cmml"><mo id="S2.SS3.p4.5.m3.1.1.1.3.1" stretchy="false" xref="S2.SS3.p4.5.m3.3.3.1.1.1.cmml">(</mo><mi id="S2.SS3.p4.5.m3.1.1.1.1" xref="S2.SS3.p4.5.m3.1.1.1.1.cmml">L</mi><mo id="S2.SS3.p4.5.m3.1.1.1.3.2" stretchy="false" xref="S2.SS3.p4.5.m3.3.3.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S2.SS3.p4.5.m3.4.4.2.2.3" xref="S2.SS3.p4.5.m3.4.4.2.3.cmml">,</mo><msubsup id="S2.SS3.p4.5.m3.4.4.2.2.2" xref="S2.SS3.p4.5.m3.4.4.2.2.2.cmml"><mi id="S2.SS3.p4.5.m3.4.4.2.2.2.2.2" xref="S2.SS3.p4.5.m3.4.4.2.2.2.2.2.cmml">𝐡</mi><mi id="S2.SS3.p4.5.m3.4.4.2.2.2.2.3" xref="S2.SS3.p4.5.m3.4.4.2.2.2.2.3.cmml">j</mi><mrow id="S2.SS3.p4.5.m3.2.2.1.3" xref="S2.SS3.p4.5.m3.4.4.2.2.2.cmml"><mo id="S2.SS3.p4.5.m3.2.2.1.3.1" stretchy="false" xref="S2.SS3.p4.5.m3.4.4.2.2.2.cmml">(</mo><mi id="S2.SS3.p4.5.m3.2.2.1.1" xref="S2.SS3.p4.5.m3.2.2.1.1.cmml">L</mi><mo id="S2.SS3.p4.5.m3.2.2.1.3.2" stretchy="false" xref="S2.SS3.p4.5.m3.4.4.2.2.2.cmml">)</mo></mrow></msubsup></mrow><mo id="S2.SS3.p4.5.m3.4.4.3" xref="S2.SS3.p4.5.m3.4.4.3.cmml">∈</mo><msub id="S2.SS3.p4.5.m3.4.4.4" xref="S2.SS3.p4.5.m3.4.4.4.cmml"><mi id="S2.SS3.p4.5.m3.4.4.4.2" xref="S2.SS3.p4.5.m3.4.4.4.2.cmml">𝐌</mi><mi id="S2.SS3.p4.5.m3.4.4.4.3" xref="S2.SS3.p4.5.m3.4.4.4.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.5.m3.4b"><apply id="S2.SS3.p4.5.m3.4.4.cmml" xref="S2.SS3.p4.5.m3.4.4"><in id="S2.SS3.p4.5.m3.4.4.3.cmml" xref="S2.SS3.p4.5.m3.4.4.3"></in><list id="S2.SS3.p4.5.m3.4.4.2.3.cmml" xref="S2.SS3.p4.5.m3.4.4.2.2"><apply id="S2.SS3.p4.5.m3.3.3.1.1.1.cmml" xref="S2.SS3.p4.5.m3.3.3.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.5.m3.3.3.1.1.1.1.cmml" xref="S2.SS3.p4.5.m3.3.3.1.1.1">superscript</csymbol><apply id="S2.SS3.p4.5.m3.3.3.1.1.1.2.cmml" xref="S2.SS3.p4.5.m3.3.3.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.5.m3.3.3.1.1.1.2.1.cmml" xref="S2.SS3.p4.5.m3.3.3.1.1.1">subscript</csymbol><ci id="S2.SS3.p4.5.m3.3.3.1.1.1.2.2.cmml" xref="S2.SS3.p4.5.m3.3.3.1.1.1.2.2">𝐡</ci><ci id="S2.SS3.p4.5.m3.3.3.1.1.1.2.3.cmml" xref="S2.SS3.p4.5.m3.3.3.1.1.1.2.3">𝑖</ci></apply><ci id="S2.SS3.p4.5.m3.1.1.1.1.cmml" xref="S2.SS3.p4.5.m3.1.1.1.1">𝐿</ci></apply><apply id="S2.SS3.p4.5.m3.4.4.2.2.2.cmml" xref="S2.SS3.p4.5.m3.4.4.2.2.2"><csymbol cd="ambiguous" id="S2.SS3.p4.5.m3.4.4.2.2.2.1.cmml" xref="S2.SS3.p4.5.m3.4.4.2.2.2">superscript</csymbol><apply id="S2.SS3.p4.5.m3.4.4.2.2.2.2.cmml" xref="S2.SS3.p4.5.m3.4.4.2.2.2"><csymbol cd="ambiguous" id="S2.SS3.p4.5.m3.4.4.2.2.2.2.1.cmml" xref="S2.SS3.p4.5.m3.4.4.2.2.2">subscript</csymbol><ci id="S2.SS3.p4.5.m3.4.4.2.2.2.2.2.cmml" xref="S2.SS3.p4.5.m3.4.4.2.2.2.2.2">𝐡</ci><ci id="S2.SS3.p4.5.m3.4.4.2.2.2.2.3.cmml" xref="S2.SS3.p4.5.m3.4.4.2.2.2.2.3">𝑗</ci></apply><ci id="S2.SS3.p4.5.m3.2.2.1.1.cmml" xref="S2.SS3.p4.5.m3.2.2.1.1">𝐿</ci></apply></list><apply id="S2.SS3.p4.5.m3.4.4.4.cmml" xref="S2.SS3.p4.5.m3.4.4.4"><csymbol cd="ambiguous" id="S2.SS3.p4.5.m3.4.4.4.1.cmml" xref="S2.SS3.p4.5.m3.4.4.4">subscript</csymbol><ci id="S2.SS3.p4.5.m3.4.4.4.2.cmml" xref="S2.SS3.p4.5.m3.4.4.4.2">𝐌</ci><ci id="S2.SS3.p4.5.m3.4.4.4.3.cmml" xref="S2.SS3.p4.5.m3.4.4.4.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.5.m3.4c">\mathbf{h}_{i}^{(L)},\mathbf{h}_{j}^{(L)}\in\mathbf{M}_{k}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p4.5.m3.4d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT , bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT ∈ bold_M start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> that satisfies <math alttext="\operatorname{r}(\mathbf{h}_{j}^{(L)})&gt;\operatorname{r}(\mathbf{h}_{i}^{(L)})" class="ltx_Math" display="inline" id="S2.SS3.p4.6.m4.6"><semantics id="S2.SS3.p4.6.m4.6a"><mrow id="S2.SS3.p4.6.m4.6.6" xref="S2.SS3.p4.6.m4.6.6.cmml"><mrow id="S2.SS3.p4.6.m4.5.5.1.1" xref="S2.SS3.p4.6.m4.5.5.1.2.cmml"><mi id="S2.SS3.p4.6.m4.3.3" mathvariant="normal" xref="S2.SS3.p4.6.m4.3.3.cmml">r</mi><mo id="S2.SS3.p4.6.m4.5.5.1.1a" xref="S2.SS3.p4.6.m4.5.5.1.2.cmml">⁡</mo><mrow id="S2.SS3.p4.6.m4.5.5.1.1.1" xref="S2.SS3.p4.6.m4.5.5.1.2.cmml"><mo id="S2.SS3.p4.6.m4.5.5.1.1.1.2" stretchy="false" xref="S2.SS3.p4.6.m4.5.5.1.2.cmml">(</mo><msubsup id="S2.SS3.p4.6.m4.5.5.1.1.1.1" xref="S2.SS3.p4.6.m4.5.5.1.1.1.1.cmml"><mi id="S2.SS3.p4.6.m4.5.5.1.1.1.1.2.2" xref="S2.SS3.p4.6.m4.5.5.1.1.1.1.2.2.cmml">𝐡</mi><mi id="S2.SS3.p4.6.m4.5.5.1.1.1.1.2.3" xref="S2.SS3.p4.6.m4.5.5.1.1.1.1.2.3.cmml">j</mi><mrow id="S2.SS3.p4.6.m4.1.1.1.3" xref="S2.SS3.p4.6.m4.5.5.1.1.1.1.cmml"><mo id="S2.SS3.p4.6.m4.1.1.1.3.1" stretchy="false" xref="S2.SS3.p4.6.m4.5.5.1.1.1.1.cmml">(</mo><mi id="S2.SS3.p4.6.m4.1.1.1.1" xref="S2.SS3.p4.6.m4.1.1.1.1.cmml">L</mi><mo id="S2.SS3.p4.6.m4.1.1.1.3.2" stretchy="false" xref="S2.SS3.p4.6.m4.5.5.1.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S2.SS3.p4.6.m4.5.5.1.1.1.3" stretchy="false" xref="S2.SS3.p4.6.m4.5.5.1.2.cmml">)</mo></mrow></mrow><mo id="S2.SS3.p4.6.m4.6.6.3" xref="S2.SS3.p4.6.m4.6.6.3.cmml">&gt;</mo><mrow id="S2.SS3.p4.6.m4.6.6.2.1" xref="S2.SS3.p4.6.m4.6.6.2.2.cmml"><mi id="S2.SS3.p4.6.m4.4.4" mathvariant="normal" xref="S2.SS3.p4.6.m4.4.4.cmml">r</mi><mo id="S2.SS3.p4.6.m4.6.6.2.1a" xref="S2.SS3.p4.6.m4.6.6.2.2.cmml">⁡</mo><mrow id="S2.SS3.p4.6.m4.6.6.2.1.1" xref="S2.SS3.p4.6.m4.6.6.2.2.cmml"><mo id="S2.SS3.p4.6.m4.6.6.2.1.1.2" stretchy="false" xref="S2.SS3.p4.6.m4.6.6.2.2.cmml">(</mo><msubsup id="S2.SS3.p4.6.m4.6.6.2.1.1.1" xref="S2.SS3.p4.6.m4.6.6.2.1.1.1.cmml"><mi id="S2.SS3.p4.6.m4.6.6.2.1.1.1.2.2" xref="S2.SS3.p4.6.m4.6.6.2.1.1.1.2.2.cmml">𝐡</mi><mi id="S2.SS3.p4.6.m4.6.6.2.1.1.1.2.3" xref="S2.SS3.p4.6.m4.6.6.2.1.1.1.2.3.cmml">i</mi><mrow id="S2.SS3.p4.6.m4.2.2.1.3" xref="S2.SS3.p4.6.m4.6.6.2.1.1.1.cmml"><mo id="S2.SS3.p4.6.m4.2.2.1.3.1" stretchy="false" xref="S2.SS3.p4.6.m4.6.6.2.1.1.1.cmml">(</mo><mi id="S2.SS3.p4.6.m4.2.2.1.1" xref="S2.SS3.p4.6.m4.2.2.1.1.cmml">L</mi><mo id="S2.SS3.p4.6.m4.2.2.1.3.2" stretchy="false" xref="S2.SS3.p4.6.m4.6.6.2.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S2.SS3.p4.6.m4.6.6.2.1.1.3" stretchy="false" xref="S2.SS3.p4.6.m4.6.6.2.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.6.m4.6b"><apply id="S2.SS3.p4.6.m4.6.6.cmml" xref="S2.SS3.p4.6.m4.6.6"><gt id="S2.SS3.p4.6.m4.6.6.3.cmml" xref="S2.SS3.p4.6.m4.6.6.3"></gt><apply id="S2.SS3.p4.6.m4.5.5.1.2.cmml" xref="S2.SS3.p4.6.m4.5.5.1.1"><ci id="S2.SS3.p4.6.m4.3.3.cmml" xref="S2.SS3.p4.6.m4.3.3">r</ci><apply id="S2.SS3.p4.6.m4.5.5.1.1.1.1.cmml" xref="S2.SS3.p4.6.m4.5.5.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.6.m4.5.5.1.1.1.1.1.cmml" xref="S2.SS3.p4.6.m4.5.5.1.1.1.1">superscript</csymbol><apply id="S2.SS3.p4.6.m4.5.5.1.1.1.1.2.cmml" xref="S2.SS3.p4.6.m4.5.5.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.6.m4.5.5.1.1.1.1.2.1.cmml" xref="S2.SS3.p4.6.m4.5.5.1.1.1.1">subscript</csymbol><ci id="S2.SS3.p4.6.m4.5.5.1.1.1.1.2.2.cmml" xref="S2.SS3.p4.6.m4.5.5.1.1.1.1.2.2">𝐡</ci><ci id="S2.SS3.p4.6.m4.5.5.1.1.1.1.2.3.cmml" xref="S2.SS3.p4.6.m4.5.5.1.1.1.1.2.3">𝑗</ci></apply><ci id="S2.SS3.p4.6.m4.1.1.1.1.cmml" xref="S2.SS3.p4.6.m4.1.1.1.1">𝐿</ci></apply></apply><apply id="S2.SS3.p4.6.m4.6.6.2.2.cmml" xref="S2.SS3.p4.6.m4.6.6.2.1"><ci id="S2.SS3.p4.6.m4.4.4.cmml" xref="S2.SS3.p4.6.m4.4.4">r</ci><apply id="S2.SS3.p4.6.m4.6.6.2.1.1.1.cmml" xref="S2.SS3.p4.6.m4.6.6.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.6.m4.6.6.2.1.1.1.1.cmml" xref="S2.SS3.p4.6.m4.6.6.2.1.1.1">superscript</csymbol><apply id="S2.SS3.p4.6.m4.6.6.2.1.1.1.2.cmml" xref="S2.SS3.p4.6.m4.6.6.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.6.m4.6.6.2.1.1.1.2.1.cmml" xref="S2.SS3.p4.6.m4.6.6.2.1.1.1">subscript</csymbol><ci id="S2.SS3.p4.6.m4.6.6.2.1.1.1.2.2.cmml" xref="S2.SS3.p4.6.m4.6.6.2.1.1.1.2.2">𝐡</ci><ci id="S2.SS3.p4.6.m4.6.6.2.1.1.1.2.3.cmml" xref="S2.SS3.p4.6.m4.6.6.2.1.1.1.2.3">𝑖</ci></apply><ci id="S2.SS3.p4.6.m4.2.2.1.1.cmml" xref="S2.SS3.p4.6.m4.2.2.1.1">𝐿</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.6.m4.6c">\operatorname{r}(\mathbf{h}_{j}^{(L)})&gt;\operatorname{r}(\mathbf{h}_{i}^{(L)})</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p4.6.m4.6d">roman_r ( bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT ) &gt; roman_r ( bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT )</annotation></semantics></math>, the pair-wise ranking loss will explicitly optimize in the direction of <math alttext="{\mathbf{E}_{\mathbf{q}}(\mathbf{q}^{\mathbf{s}}_{k})}^{\top}\mathbf{h}_{j}^{(%
L)}&lt;{\mathbf{E}_{\mathbf{q}}(\mathbf{q}^{\mathbf{s}}_{k})}^{\top}\mathbf{h}_{i%
}^{(L)}" class="ltx_Math" display="inline" id="S2.SS3.p4.7.m5.4"><semantics id="S2.SS3.p4.7.m5.4a"><mrow id="S2.SS3.p4.7.m5.4.4" xref="S2.SS3.p4.7.m5.4.4.cmml"><mrow id="S2.SS3.p4.7.m5.3.3.1" xref="S2.SS3.p4.7.m5.3.3.1.cmml"><msub id="S2.SS3.p4.7.m5.3.3.1.3" xref="S2.SS3.p4.7.m5.3.3.1.3.cmml"><mi id="S2.SS3.p4.7.m5.3.3.1.3.2" xref="S2.SS3.p4.7.m5.3.3.1.3.2.cmml">𝐄</mi><mi id="S2.SS3.p4.7.m5.3.3.1.3.3" xref="S2.SS3.p4.7.m5.3.3.1.3.3.cmml">𝐪</mi></msub><mo id="S2.SS3.p4.7.m5.3.3.1.2" xref="S2.SS3.p4.7.m5.3.3.1.2.cmml">⁢</mo><msup id="S2.SS3.p4.7.m5.3.3.1.1" xref="S2.SS3.p4.7.m5.3.3.1.1.cmml"><mrow id="S2.SS3.p4.7.m5.3.3.1.1.1.1" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.cmml"><mo id="S2.SS3.p4.7.m5.3.3.1.1.1.1.2" stretchy="false" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.cmml">(</mo><msubsup id="S2.SS3.p4.7.m5.3.3.1.1.1.1.1" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.cmml"><mi id="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.2.2" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.2.2.cmml">𝐪</mi><mi id="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.3" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.3.cmml">k</mi><mi id="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.2.3" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.2.3.cmml">𝐬</mi></msubsup><mo id="S2.SS3.p4.7.m5.3.3.1.1.1.1.3" stretchy="false" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.cmml">)</mo></mrow><mo id="S2.SS3.p4.7.m5.3.3.1.1.3" xref="S2.SS3.p4.7.m5.3.3.1.1.3.cmml">⊤</mo></msup><mo id="S2.SS3.p4.7.m5.3.3.1.2a" xref="S2.SS3.p4.7.m5.3.3.1.2.cmml">⁢</mo><msubsup id="S2.SS3.p4.7.m5.3.3.1.4" xref="S2.SS3.p4.7.m5.3.3.1.4.cmml"><mi id="S2.SS3.p4.7.m5.3.3.1.4.2.2" xref="S2.SS3.p4.7.m5.3.3.1.4.2.2.cmml">𝐡</mi><mi id="S2.SS3.p4.7.m5.3.3.1.4.2.3" xref="S2.SS3.p4.7.m5.3.3.1.4.2.3.cmml">j</mi><mrow id="S2.SS3.p4.7.m5.1.1.1.3" xref="S2.SS3.p4.7.m5.3.3.1.4.cmml"><mo id="S2.SS3.p4.7.m5.1.1.1.3.1" stretchy="false" xref="S2.SS3.p4.7.m5.3.3.1.4.cmml">(</mo><mi id="S2.SS3.p4.7.m5.1.1.1.1" xref="S2.SS3.p4.7.m5.1.1.1.1.cmml">L</mi><mo id="S2.SS3.p4.7.m5.1.1.1.3.2" stretchy="false" xref="S2.SS3.p4.7.m5.3.3.1.4.cmml">)</mo></mrow></msubsup></mrow><mo id="S2.SS3.p4.7.m5.4.4.3" xref="S2.SS3.p4.7.m5.4.4.3.cmml">&lt;</mo><mrow id="S2.SS3.p4.7.m5.4.4.2" xref="S2.SS3.p4.7.m5.4.4.2.cmml"><msub id="S2.SS3.p4.7.m5.4.4.2.3" xref="S2.SS3.p4.7.m5.4.4.2.3.cmml"><mi id="S2.SS3.p4.7.m5.4.4.2.3.2" xref="S2.SS3.p4.7.m5.4.4.2.3.2.cmml">𝐄</mi><mi id="S2.SS3.p4.7.m5.4.4.2.3.3" xref="S2.SS3.p4.7.m5.4.4.2.3.3.cmml">𝐪</mi></msub><mo id="S2.SS3.p4.7.m5.4.4.2.2" xref="S2.SS3.p4.7.m5.4.4.2.2.cmml">⁢</mo><msup id="S2.SS3.p4.7.m5.4.4.2.1" xref="S2.SS3.p4.7.m5.4.4.2.1.cmml"><mrow id="S2.SS3.p4.7.m5.4.4.2.1.1.1" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.cmml"><mo id="S2.SS3.p4.7.m5.4.4.2.1.1.1.2" stretchy="false" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.cmml">(</mo><msubsup id="S2.SS3.p4.7.m5.4.4.2.1.1.1.1" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.cmml"><mi id="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.2.2" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.2.2.cmml">𝐪</mi><mi id="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.3" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.3.cmml">k</mi><mi id="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.2.3" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.2.3.cmml">𝐬</mi></msubsup><mo id="S2.SS3.p4.7.m5.4.4.2.1.1.1.3" stretchy="false" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.cmml">)</mo></mrow><mo id="S2.SS3.p4.7.m5.4.4.2.1.3" xref="S2.SS3.p4.7.m5.4.4.2.1.3.cmml">⊤</mo></msup><mo id="S2.SS3.p4.7.m5.4.4.2.2a" xref="S2.SS3.p4.7.m5.4.4.2.2.cmml">⁢</mo><msubsup id="S2.SS3.p4.7.m5.4.4.2.4" xref="S2.SS3.p4.7.m5.4.4.2.4.cmml"><mi id="S2.SS3.p4.7.m5.4.4.2.4.2.2" xref="S2.SS3.p4.7.m5.4.4.2.4.2.2.cmml">𝐡</mi><mi id="S2.SS3.p4.7.m5.4.4.2.4.2.3" xref="S2.SS3.p4.7.m5.4.4.2.4.2.3.cmml">i</mi><mrow id="S2.SS3.p4.7.m5.2.2.1.3" xref="S2.SS3.p4.7.m5.4.4.2.4.cmml"><mo id="S2.SS3.p4.7.m5.2.2.1.3.1" stretchy="false" xref="S2.SS3.p4.7.m5.4.4.2.4.cmml">(</mo><mi id="S2.SS3.p4.7.m5.2.2.1.1" xref="S2.SS3.p4.7.m5.2.2.1.1.cmml">L</mi><mo id="S2.SS3.p4.7.m5.2.2.1.3.2" stretchy="false" xref="S2.SS3.p4.7.m5.4.4.2.4.cmml">)</mo></mrow></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.7.m5.4b"><apply id="S2.SS3.p4.7.m5.4.4.cmml" xref="S2.SS3.p4.7.m5.4.4"><lt id="S2.SS3.p4.7.m5.4.4.3.cmml" xref="S2.SS3.p4.7.m5.4.4.3"></lt><apply id="S2.SS3.p4.7.m5.3.3.1.cmml" xref="S2.SS3.p4.7.m5.3.3.1"><times id="S2.SS3.p4.7.m5.3.3.1.2.cmml" xref="S2.SS3.p4.7.m5.3.3.1.2"></times><apply id="S2.SS3.p4.7.m5.3.3.1.3.cmml" xref="S2.SS3.p4.7.m5.3.3.1.3"><csymbol cd="ambiguous" id="S2.SS3.p4.7.m5.3.3.1.3.1.cmml" xref="S2.SS3.p4.7.m5.3.3.1.3">subscript</csymbol><ci id="S2.SS3.p4.7.m5.3.3.1.3.2.cmml" xref="S2.SS3.p4.7.m5.3.3.1.3.2">𝐄</ci><ci id="S2.SS3.p4.7.m5.3.3.1.3.3.cmml" xref="S2.SS3.p4.7.m5.3.3.1.3.3">𝐪</ci></apply><apply id="S2.SS3.p4.7.m5.3.3.1.1.cmml" xref="S2.SS3.p4.7.m5.3.3.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.7.m5.3.3.1.1.2.cmml" xref="S2.SS3.p4.7.m5.3.3.1.1">superscript</csymbol><apply id="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.cmml" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.1.cmml" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1">subscript</csymbol><apply id="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.2.cmml" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.2.1.cmml" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1">superscript</csymbol><ci id="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.2.2.cmml" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.2.2">𝐪</ci><ci id="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.2.3.cmml" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.2.3">𝐬</ci></apply><ci id="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.3.cmml" xref="S2.SS3.p4.7.m5.3.3.1.1.1.1.1.3">𝑘</ci></apply><csymbol cd="latexml" id="S2.SS3.p4.7.m5.3.3.1.1.3.cmml" xref="S2.SS3.p4.7.m5.3.3.1.1.3">top</csymbol></apply><apply id="S2.SS3.p4.7.m5.3.3.1.4.cmml" xref="S2.SS3.p4.7.m5.3.3.1.4"><csymbol cd="ambiguous" id="S2.SS3.p4.7.m5.3.3.1.4.1.cmml" xref="S2.SS3.p4.7.m5.3.3.1.4">superscript</csymbol><apply id="S2.SS3.p4.7.m5.3.3.1.4.2.cmml" xref="S2.SS3.p4.7.m5.3.3.1.4"><csymbol cd="ambiguous" id="S2.SS3.p4.7.m5.3.3.1.4.2.1.cmml" xref="S2.SS3.p4.7.m5.3.3.1.4">subscript</csymbol><ci id="S2.SS3.p4.7.m5.3.3.1.4.2.2.cmml" xref="S2.SS3.p4.7.m5.3.3.1.4.2.2">𝐡</ci><ci id="S2.SS3.p4.7.m5.3.3.1.4.2.3.cmml" xref="S2.SS3.p4.7.m5.3.3.1.4.2.3">𝑗</ci></apply><ci id="S2.SS3.p4.7.m5.1.1.1.1.cmml" xref="S2.SS3.p4.7.m5.1.1.1.1">𝐿</ci></apply></apply><apply id="S2.SS3.p4.7.m5.4.4.2.cmml" xref="S2.SS3.p4.7.m5.4.4.2"><times id="S2.SS3.p4.7.m5.4.4.2.2.cmml" xref="S2.SS3.p4.7.m5.4.4.2.2"></times><apply id="S2.SS3.p4.7.m5.4.4.2.3.cmml" xref="S2.SS3.p4.7.m5.4.4.2.3"><csymbol cd="ambiguous" id="S2.SS3.p4.7.m5.4.4.2.3.1.cmml" xref="S2.SS3.p4.7.m5.4.4.2.3">subscript</csymbol><ci id="S2.SS3.p4.7.m5.4.4.2.3.2.cmml" xref="S2.SS3.p4.7.m5.4.4.2.3.2">𝐄</ci><ci id="S2.SS3.p4.7.m5.4.4.2.3.3.cmml" xref="S2.SS3.p4.7.m5.4.4.2.3.3">𝐪</ci></apply><apply id="S2.SS3.p4.7.m5.4.4.2.1.cmml" xref="S2.SS3.p4.7.m5.4.4.2.1"><csymbol cd="ambiguous" id="S2.SS3.p4.7.m5.4.4.2.1.2.cmml" xref="S2.SS3.p4.7.m5.4.4.2.1">superscript</csymbol><apply id="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.cmml" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.1.cmml" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1">subscript</csymbol><apply id="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.2.cmml" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.2.1.cmml" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1">superscript</csymbol><ci id="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.2.2.cmml" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.2.2">𝐪</ci><ci id="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.2.3.cmml" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.2.3">𝐬</ci></apply><ci id="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.3.cmml" xref="S2.SS3.p4.7.m5.4.4.2.1.1.1.1.3">𝑘</ci></apply><csymbol cd="latexml" id="S2.SS3.p4.7.m5.4.4.2.1.3.cmml" xref="S2.SS3.p4.7.m5.4.4.2.1.3">top</csymbol></apply><apply id="S2.SS3.p4.7.m5.4.4.2.4.cmml" xref="S2.SS3.p4.7.m5.4.4.2.4"><csymbol cd="ambiguous" id="S2.SS3.p4.7.m5.4.4.2.4.1.cmml" xref="S2.SS3.p4.7.m5.4.4.2.4">superscript</csymbol><apply id="S2.SS3.p4.7.m5.4.4.2.4.2.cmml" xref="S2.SS3.p4.7.m5.4.4.2.4"><csymbol cd="ambiguous" id="S2.SS3.p4.7.m5.4.4.2.4.2.1.cmml" xref="S2.SS3.p4.7.m5.4.4.2.4">subscript</csymbol><ci id="S2.SS3.p4.7.m5.4.4.2.4.2.2.cmml" xref="S2.SS3.p4.7.m5.4.4.2.4.2.2">𝐡</ci><ci id="S2.SS3.p4.7.m5.4.4.2.4.2.3.cmml" xref="S2.SS3.p4.7.m5.4.4.2.4.2.3">𝑖</ci></apply><ci id="S2.SS3.p4.7.m5.2.2.1.1.cmml" xref="S2.SS3.p4.7.m5.2.2.1.1">𝐿</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.7.m5.4c">{\mathbf{E}_{\mathbf{q}}(\mathbf{q}^{\mathbf{s}}_{k})}^{\top}\mathbf{h}_{j}^{(%
L)}&lt;{\mathbf{E}_{\mathbf{q}}(\mathbf{q}^{\mathbf{s}}_{k})}^{\top}\mathbf{h}_{i%
}^{(L)}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p4.7.m5.4d">bold_E start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ( bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT &lt; bold_E start_POSTSUBSCRIPT bold_q end_POSTSUBSCRIPT ( bold_q start_POSTSUPERSCRIPT bold_s end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_L ) end_POSTSUPERSCRIPT</annotation></semantics></math>, thus imposing stricter constraints to the pair-wise ranking.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS3.p5">
<p class="ltx_p" id="S2.SS3.p5.2"><span class="ltx_text ltx_font_bold" id="S2.SS3.p5.2.1">Overall Training Objective</span>.
To sum up, the overall training objective can be formulated as:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}=\mathcal{L}_{\mathrm{CL}}+\alpha\cdot\mathcal{L}_{\mathrm{RANK}}" class="ltx_Math" display="block" id="S2.E7.m1.1"><semantics id="S2.E7.m1.1a"><mrow id="S2.E7.m1.1.1" xref="S2.E7.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E7.m1.1.1.2" xref="S2.E7.m1.1.1.2.cmml">ℒ</mi><mo id="S2.E7.m1.1.1.1" xref="S2.E7.m1.1.1.1.cmml">=</mo><mrow id="S2.E7.m1.1.1.3" xref="S2.E7.m1.1.1.3.cmml"><msub id="S2.E7.m1.1.1.3.2" xref="S2.E7.m1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E7.m1.1.1.3.2.2" xref="S2.E7.m1.1.1.3.2.2.cmml">ℒ</mi><mi id="S2.E7.m1.1.1.3.2.3" xref="S2.E7.m1.1.1.3.2.3.cmml">CL</mi></msub><mo id="S2.E7.m1.1.1.3.1" xref="S2.E7.m1.1.1.3.1.cmml">+</mo><mrow id="S2.E7.m1.1.1.3.3" xref="S2.E7.m1.1.1.3.3.cmml"><mi id="S2.E7.m1.1.1.3.3.2" xref="S2.E7.m1.1.1.3.3.2.cmml">α</mi><mo id="S2.E7.m1.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S2.E7.m1.1.1.3.3.1.cmml">⋅</mo><msub id="S2.E7.m1.1.1.3.3.3" xref="S2.E7.m1.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E7.m1.1.1.3.3.3.2" xref="S2.E7.m1.1.1.3.3.3.2.cmml">ℒ</mi><mi id="S2.E7.m1.1.1.3.3.3.3" xref="S2.E7.m1.1.1.3.3.3.3.cmml">RANK</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E7.m1.1b"><apply id="S2.E7.m1.1.1.cmml" xref="S2.E7.m1.1.1"><eq id="S2.E7.m1.1.1.1.cmml" xref="S2.E7.m1.1.1.1"></eq><ci id="S2.E7.m1.1.1.2.cmml" xref="S2.E7.m1.1.1.2">ℒ</ci><apply id="S2.E7.m1.1.1.3.cmml" xref="S2.E7.m1.1.1.3"><plus id="S2.E7.m1.1.1.3.1.cmml" xref="S2.E7.m1.1.1.3.1"></plus><apply id="S2.E7.m1.1.1.3.2.cmml" xref="S2.E7.m1.1.1.3.2"><csymbol cd="ambiguous" id="S2.E7.m1.1.1.3.2.1.cmml" xref="S2.E7.m1.1.1.3.2">subscript</csymbol><ci id="S2.E7.m1.1.1.3.2.2.cmml" xref="S2.E7.m1.1.1.3.2.2">ℒ</ci><ci id="S2.E7.m1.1.1.3.2.3.cmml" xref="S2.E7.m1.1.1.3.2.3">CL</ci></apply><apply id="S2.E7.m1.1.1.3.3.cmml" xref="S2.E7.m1.1.1.3.3"><ci id="S2.E7.m1.1.1.3.3.1.cmml" xref="S2.E7.m1.1.1.3.3.1">⋅</ci><ci id="S2.E7.m1.1.1.3.3.2.cmml" xref="S2.E7.m1.1.1.3.3.2">𝛼</ci><apply id="S2.E7.m1.1.1.3.3.3.cmml" xref="S2.E7.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.E7.m1.1.1.3.3.3.1.cmml" xref="S2.E7.m1.1.1.3.3.3">subscript</csymbol><ci id="S2.E7.m1.1.1.3.3.3.2.cmml" xref="S2.E7.m1.1.1.3.3.3.2">ℒ</ci><ci id="S2.E7.m1.1.1.3.3.3.3.cmml" xref="S2.E7.m1.1.1.3.3.3.3">RANK</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E7.m1.1c">\mathcal{L}=\mathcal{L}_{\mathrm{CL}}+\alpha\cdot\mathcal{L}_{\mathrm{RANK}}</annotation><annotation encoding="application/x-llamapun" id="S2.E7.m1.1d">caligraphic_L = caligraphic_L start_POSTSUBSCRIPT roman_CL end_POSTSUBSCRIPT + italic_α ⋅ caligraphic_L start_POSTSUBSCRIPT roman_RANK end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS3.p5.1">where <math alttext="\alpha\in[0,1]" class="ltx_Math" display="inline" id="S2.SS3.p5.1.m1.2"><semantics id="S2.SS3.p5.1.m1.2a"><mrow id="S2.SS3.p5.1.m1.2.3" xref="S2.SS3.p5.1.m1.2.3.cmml"><mi id="S2.SS3.p5.1.m1.2.3.2" xref="S2.SS3.p5.1.m1.2.3.2.cmml">α</mi><mo id="S2.SS3.p5.1.m1.2.3.1" xref="S2.SS3.p5.1.m1.2.3.1.cmml">∈</mo><mrow id="S2.SS3.p5.1.m1.2.3.3.2" xref="S2.SS3.p5.1.m1.2.3.3.1.cmml"><mo id="S2.SS3.p5.1.m1.2.3.3.2.1" stretchy="false" xref="S2.SS3.p5.1.m1.2.3.3.1.cmml">[</mo><mn id="S2.SS3.p5.1.m1.1.1" xref="S2.SS3.p5.1.m1.1.1.cmml">0</mn><mo id="S2.SS3.p5.1.m1.2.3.3.2.2" xref="S2.SS3.p5.1.m1.2.3.3.1.cmml">,</mo><mn id="S2.SS3.p5.1.m1.2.2" xref="S2.SS3.p5.1.m1.2.2.cmml">1</mn><mo id="S2.SS3.p5.1.m1.2.3.3.2.3" stretchy="false" xref="S2.SS3.p5.1.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p5.1.m1.2b"><apply id="S2.SS3.p5.1.m1.2.3.cmml" xref="S2.SS3.p5.1.m1.2.3"><in id="S2.SS3.p5.1.m1.2.3.1.cmml" xref="S2.SS3.p5.1.m1.2.3.1"></in><ci id="S2.SS3.p5.1.m1.2.3.2.cmml" xref="S2.SS3.p5.1.m1.2.3.2">𝛼</ci><interval closure="closed" id="S2.SS3.p5.1.m1.2.3.3.1.cmml" xref="S2.SS3.p5.1.m1.2.3.3.2"><cn id="S2.SS3.p5.1.m1.1.1.cmml" type="integer" xref="S2.SS3.p5.1.m1.1.1">0</cn><cn id="S2.SS3.p5.1.m1.2.2.cmml" type="integer" xref="S2.SS3.p5.1.m1.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p5.1.m1.2c">\alpha\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p5.1.m1.2d">italic_α ∈ [ 0 , 1 ]</annotation></semantics></math> is a hyper-parameter.
It is worth noting that GoR’s training costs are lightweight since the only trainable module is GNNs, and no human-crafted labels are needed.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experiments</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Experimental Setup</h3>
<div class="ltx_para ltx_noindent" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.1">Datasets</span>.
We evaluate our proposed method on four long-context summarization datasets, <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.2">i.e.</span>, AcademicEval <cite class="ltx_cite ltx_citemacro_cite">Feng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib8" title="">2024</a>)</cite>, QMSum <cite class="ltx_cite ltx_citemacro_cite">Zhong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib58" title="">2021</a>)</cite>, WCEP <cite class="ltx_cite ltx_citemacro_cite">Gholipour Ghalandari et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib9" title="">2020</a>)</cite>, and BookSum <cite class="ltx_cite ltx_citemacro_cite">Kryściński et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib22" title="">2021</a>)</cite>.
Among them, AcademicEval collects scientific papers from arXiv for abstract writing, given the long inputs of its main body.
QMSum is a query-based summarization dataset, and we <span class="ltx_text ltx_font_bold" id="S3.SS1.p1.1.3">only use</span> <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.4">”general queries”</span> for evaluating global summarization.
WCEP is a multi-document summarization dataset about news events, while BookSum features long-form narrative summarization.
For metrics, we adopt Rouge-1 (R-1), Rouge-2 (R-2), and Rouge-L (R-L) <cite class="ltx_cite ltx_citemacro_cite">Lin (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib28" title="">2004</a>)</cite> to assess the text alignment between the reference summaries and the predicted content generated by our proposed method.
More details about adopted datasets are described in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A1" title="Appendix A Experimental Details ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS1.p2.1.1">Implementation Details</span>.
Following the standard procedure of RAG, we adopt TokenTextSplitter from LangChain<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span> https://www.langchain.com/</span></span></span> to split each long document into text chunks. Each chunk has a size of 256, and the chunk overlapping is 32.
We generate 30 queries for each long document using Mixtral-8x7B-Instruct-v0.1 <cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib17" title="">2024</a>)</cite>, and the temperature coefficient is set to 0.5 by default in the query simulation stage.
For RAG, we use Contriever <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib15" title="">2021</a>)</cite> for query and document embedding and retrieve 6 text chunks by default, which are fed into LLaMA-2-7b-chat <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib42" title="">2023</a>)</cite> with greedy decoding to generate predicted summaries.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.1">In the training stage, we initialize the graph neural network as a two-layer graph attention network (GAT) <cite class="ltx_cite ltx_citemacro_cite">Veličković et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib46" title="">2017</a>)</cite>, with a 768-dim hidden dimension following the default setting of most retrievers.
The batch size is 32, and the max training epoch is set to 150.
We use Adam optimizer for model training and gradually decay the learning rate from 1e-3 to 0 with LambdaLR scheduler.
The dropout rate and loss coefficient <math alttext="\alpha" class="ltx_Math" display="inline" id="S3.SS1.p3.1.m1.1"><semantics id="S3.SS1.p3.1.m1.1a"><mi id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><ci id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.1.m1.1d">italic_α</annotation></semantics></math> depend on the specific dataset, and we detail them in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A1" title="Appendix A Experimental Details ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">A</span></a>.
We implement our proposed method using PyTorch<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span> https://pytorch.org/</span></span></span> and Deep Graph Library (DGL)<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span> https://www.dgl.ai/</span></span></span>, and all the experiments are conducted on a single RTX 3080 GPU.
As for LLMs, we rely on API calling from Together AI<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span> https://www.together.ai/</span></span></span> to obtain responses.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.p4">
<p class="ltx_p" id="S3.SS1.p4.1"><span class="ltx_text ltx_font_bold" id="S3.SS1.p4.1.1">Baselines</span>.
To have a comprehensive evaluation, we compare our proposed GoR with dozens of baselines, including (1) <span class="ltx_text ltx_font_bold" id="S3.SS1.p4.1.2">Random Walk based Node Embedding</span> (<span class="ltx_text ltx_font_italic" id="S3.SS1.p4.1.3">i.e.</span>, Node2Vec <cite class="ltx_cite ltx_citemacro_cite">Grover &amp; Leskovec (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib11" title="">2016</a>)</cite>), (2) <span class="ltx_text ltx_font_bold" id="S3.SS1.p4.1.4">Sparse Retriever</span> (<span class="ltx_text ltx_font_italic" id="S3.SS1.p4.1.5">i.e.</span>, BM25 <cite class="ltx_cite ltx_citemacro_cite">Robertson et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib39" title="">2009</a>)</cite> and TF-IDF <cite class="ltx_cite ltx_citemacro_cite">Ramos et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib37" title="">2003</a>)</cite>), (3) <span class="ltx_text ltx_font_bold" id="S3.SS1.p4.1.6">Dense Retriever</span> (<span class="ltx_text ltx_font_italic" id="S3.SS1.p4.1.7">i.e.</span>, Contriever <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib15" title="">2021</a>)</cite>, DPR <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib19" title="">2020</a>)</cite>, Dragon <cite class="ltx_cite ltx_citemacro_cite">Lin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib29" title="">2023</a>)</cite>, and Sentence-BERT (SBERT) <cite class="ltx_cite ltx_citemacro_cite">Reimers &amp; Gurevych (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib38" title="">2019</a>)</cite><span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span> We use all-MiniLM-L6-v2 as the backbone.</span></span></span>), (4) <span class="ltx_text ltx_font_bold" id="S3.SS1.p4.1.8">Hybrid Retriever</span> (<span class="ltx_text ltx_font_italic" id="S3.SS1.p4.1.9">i.e.</span>, BM25+DPR with Reciprocal Rerank Fusion), (5) <span class="ltx_text ltx_font_bold" id="S3.SS1.p4.1.10">Long-context LLMs</span> (<span class="ltx_text ltx_font_italic" id="S3.SS1.p4.1.11">i.e.</span>, Gemma-8K <cite class="ltx_cite ltx_citemacro_cite">Team et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib41" title="">2024</a>)</cite> and Mistral-8K <cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib16" title="">2023a</a>)</cite>), (6) <span class="ltx_text ltx_font_bold" id="S3.SS1.p4.1.12">Full Context</span> (<span class="ltx_text ltx_font_italic" id="S3.SS1.p4.1.13">i.e.</span>, feeds all inputs to LLMs for summary generation<span class="ltx_note ltx_role_footnote" id="footnote6"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span> If the input length exceeds the context window limit, we randomly sample continuous text spans of maximum length multiple times to feed into LLMs and calculate the average result.</span></span></span>), and (7) <span class="ltx_text ltx_font_bold" id="S3.SS1.p4.1.14">Thought Retriever</span> (Thought-R) <cite class="ltx_cite ltx_citemacro_cite">Feng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib8" title="">2024</a>)</cite>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Main Results</h3>
<figure class="ltx_table" id="S3.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span><span class="ltx_text ltx_font_bold" id="S3.T1.5.1">Experimental results on QMSum, AcademicEval, WCEP, and BookSum datasets over long-context global summarization tasks w.r.t. Rouge-L (R-L), Rouge-1 (R-1), and Rouge-2 (R-2)</span>. Note that the average LLM input token length of GoR and retriever-based baselines is <math alttext="6\times 256" class="ltx_Math" display="inline" id="S3.T1.2.m1.1"><semantics id="S3.T1.2.m1.1b"><mrow id="S3.T1.2.m1.1.1" xref="S3.T1.2.m1.1.1.cmml"><mn id="S3.T1.2.m1.1.1.2" xref="S3.T1.2.m1.1.1.2.cmml">6</mn><mo id="S3.T1.2.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S3.T1.2.m1.1.1.1.cmml">×</mo><mn id="S3.T1.2.m1.1.1.3" xref="S3.T1.2.m1.1.1.3.cmml">256</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.2.m1.1c"><apply id="S3.T1.2.m1.1.1.cmml" xref="S3.T1.2.m1.1.1"><times id="S3.T1.2.m1.1.1.1.cmml" xref="S3.T1.2.m1.1.1.1"></times><cn id="S3.T1.2.m1.1.1.2.cmml" type="integer" xref="S3.T1.2.m1.1.1.2">6</cn><cn id="S3.T1.2.m1.1.1.3.cmml" type="integer" xref="S3.T1.2.m1.1.1.3">256</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.2.m1.1d">6\times 256</annotation><annotation encoding="application/x-llamapun" id="S3.T1.2.m1.1e">6 × 256</annotation></semantics></math>, which is about 1.5K. (<span class="ltx_text ltx_font_bold" id="S3.T1.6.2">BOLD</span> indicates the best score)</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S3.T1.7">
<tr class="ltx_tr" id="S3.T1.7.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T1.7.1.1" rowspan="2"><span class="ltx_text" id="S3.T1.7.1.1.1">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S3.T1.7.1.2">QMSum</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S3.T1.7.1.3">AcademicEval</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S3.T1.7.1.4">WCEP</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S3.T1.7.1.5">BookSum</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.2.1">R-L</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.2.2">R-1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.2.3">R-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.2.4">R-L</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.2.5">R-1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.2.6">R-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.2.7">R-L</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.2.8">R-1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.2.9">R-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.2.10">R-L</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.2.11">R-1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.2.12">R-2</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.1">Node2Vec</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.2">18.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.3">31.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.4">6.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.5">19.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.6">38.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.7">10.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.8">13.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.9">20.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.10">6.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.11">13.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.12">27.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.3.13">4.6</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.1">BM25</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.2">18.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.3">32.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.4">6.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.5">20.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.6">39.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.7">11.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.8">15.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.9">22.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.10">7.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.11">13.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.12">26.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.4.13">4.9</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.5">
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.1">TF-IDF</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.2">18.3</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.3">31.2</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.4">6.3</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.5">19.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.6">38.0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.7">10.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.8">15.3</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.9">22.3</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.10">7.3</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.11">13.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.12">26.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.5.13">4.9</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.6">
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.1">Contriever</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.2">19.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.3">32.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.4">7.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.5">23.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.6">44.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.7">16.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.8">15.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.9">23.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.10">7.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.11">14.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.12">29.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.6.13">5.5</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.7">
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.1">DPR</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.2">18.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.3">32.1</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.4">6.7</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.5">20.9</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.6">41.4</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.7">13.2</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.8">15.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.9">22.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.10">7.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.11">13.8</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.12">27.1</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.7.13">4.8</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.8">
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.1">Dragon</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.2">19.2</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.3">33.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.4">7.7</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.5">23.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.6">43.8</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.7">15.1</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.8">14.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.9">21.8</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.10">6.8</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.11">13.7</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.12">27.2</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.8.13">4.8</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.9">
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.1">SBERT</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.2">19.0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.3">33.0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.4">7.4</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.5">23.4</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.6">45.2</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.7">15.8</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.8">13.7</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.9">20.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.10">5.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.11">14.4</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.12">29.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.9.13">5.4</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.10">
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.1">BM25+DPR</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.2">18.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.3">31.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.4">6.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.5">19.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.6">39.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.7">10.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.8">15.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.9">22.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.10">7.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.11">14.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.12">28.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.10.13">5.4</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.11">
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.1">Gemma-8K</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.2"><span class="ltx_text ltx_font_bold" id="S3.T1.7.11.2.1">19.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.3">33.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.4">7.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.5">21.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.6">42.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.7">12.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.8">15.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.9">21.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.10">7.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.11">12.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.12">23.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.11.13">4.2</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.12">
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.1">Mistral-8K</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.2">19.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.3">31.2</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.4">7.2</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.5">21.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.6">41.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.7">13.1</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.8">16.7</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.9">24.2</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.10">8.8</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.11">13.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.12">26.2</td>
<td class="ltx_td ltx_align_center" id="S3.T1.7.12.13">5.3</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.13">
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.1">Full Context</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.2">19.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.3">33.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.4">6.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.5">21.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.6">41.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.7">12.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.8">14.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.9">21.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.10">7.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.11">14.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.12">28.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.13.13">5.9</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.14">
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.1">Thought-R</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.2">19.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.3">33.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.4">7.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.5">22.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.6">42.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.7">13.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.8">15.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.9">22.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.10">7.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.11">14.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.12">29.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.7.14.13">5.7</td>
</tr>
<tr class="ltx_tr" id="S3.T1.7.15">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.1"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.1.1">GoR (Ours)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.2"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.2.1">19.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.3"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.3.1">34.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.4"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.4.1">7.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.5"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.5.1">24.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.6"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.6.1">46.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.7"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.7.1">17.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.8"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.8.1">18.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.9"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.9.1">25.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.10"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.10.1">9.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.11"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.11.1">14.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.12"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.12.1">31.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.7.15.13"><span class="ltx_text ltx_font_bold" id="S3.T1.7.15.13.1">6.6</span></td>
</tr>
</table>
</figure>
<div class="ltx_para ltx_noindent" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">We conduct comprehensive experiments on QMSum, AcademicEval, WCEP, and BookSum datasets compared with dozens of baselines to evaluate the long-context global summarization capabilities of our proposed method. The results are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.T1" title="Table 1 ‣ 3.2 Main Results ‣ 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.1.1">GoR consistently outperforms retriever-based methods</span>.
From Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.T1" title="Table 1 ‣ 3.2 Main Results ‣ 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">1</span></a>, our proposed GoR beats sparse retrievers, dense retrievers, and hybrid retrievers in every aspect.
Thanks to the constructed graph, which integrates text chunks from long documents and LLM historical responses into a whole, node embeddings can better reflect the complicated correlations with given queries, thus significantly improving the retrieval performance of GoR.
Moreover, the informative content of historical responses can also potentially enhance the summarization task.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p3.1.1">GoR shows superiority over long-context LLMs</span>.
We compare Gemma-8K and Mistral-8K with a longer context window to accommodate long-context inputs. However, longer inputs may contain minor information, and long-context LLMs struggle with this situation. In contrast, GoR can effectively differentiate key and topic-related content in long texts using learned node embeddings and achieve better results with shorter input lengths.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p4.1.1">Additional Findings</span>.
(1) Node2Vec produces unsatisfactory results, and the node embeddings cannot be optimized effectively since it is based on a non-differentiable algorithm.
(2) Although Thought Retriever demonstrates competitive results, it is still inferior to GoR due to the lack of exploration of the correlations between retrieved text chunks and LLM-generated responses.
(3) Since the context window length limit of LLMs is exceeded, “Full Context” truncates the long-context input, thus losing some information that may be important for global summarization, resulting in suboptimal results.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.1">Overall, GoR achieves the best results compared with various baselines, demonstrating the effectiveness of our proposed method.</p>
</div>
<figure class="ltx_table" id="S3.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span><span class="ltx_text ltx_font_bold" id="S3.T2.5.1">Ablation study on QMSum, AcademicEval, WCEP, and BookSum datasets w.r.t. R-L, R-1, and R-2</span>. (<span class="ltx_text ltx_font_bold" id="S3.T2.6.2">BOLD</span> indicates the best score)</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S3.T2.2.2">
<tr class="ltx_tr" id="S3.T2.2.2.3">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T2.2.2.3.1" rowspan="2"><span class="ltx_text" id="S3.T2.2.2.3.1.1">Variant</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S3.T2.2.2.3.2">QMSum</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S3.T2.2.2.3.3">AcademicEval</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S3.T2.2.2.3.4">WCEP</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S3.T2.2.2.3.5">BookSum</td>
</tr>
<tr class="ltx_tr" id="S3.T2.2.2.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.4.1">R-L</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.4.2">R-1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.4.3">R-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.4.4">R-L</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.4.5">R-1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.4.6">R-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.4.7">R-L</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.4.8">R-1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.4.9">R-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.4.10">R-L</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.4.11">R-1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.4.12">R-2</td>
</tr>
<tr class="ltx_tr" id="S3.T2.2.2.5">
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.1">w/o train</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.2">18.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.3">33.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.4">7.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.5">23.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.6">45.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.7">15.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.8">15.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.9">22.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.10">7.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.11">13.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.12">27.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.2.2.5.13">4.7</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.1">
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.1">w/o <math alttext="\mathcal{L}_{\mathrm{CL}}" class="ltx_Math" display="inline" id="S3.T2.1.1.1.1.m1.1"><semantics id="S3.T2.1.1.1.1.m1.1a"><msub id="S3.T2.1.1.1.1.m1.1.1" xref="S3.T2.1.1.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.T2.1.1.1.1.m1.1.1.2" xref="S3.T2.1.1.1.1.m1.1.1.2.cmml">ℒ</mi><mi id="S3.T2.1.1.1.1.m1.1.1.3" xref="S3.T2.1.1.1.1.m1.1.1.3.cmml">CL</mi></msub><annotation-xml encoding="MathML-Content" id="S3.T2.1.1.1.1.m1.1b"><apply id="S3.T2.1.1.1.1.m1.1.1.cmml" xref="S3.T2.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.T2.1.1.1.1.m1.1.1.1.cmml" xref="S3.T2.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S3.T2.1.1.1.1.m1.1.1.2.cmml" xref="S3.T2.1.1.1.1.m1.1.1.2">ℒ</ci><ci id="S3.T2.1.1.1.1.m1.1.1.3.cmml" xref="S3.T2.1.1.1.1.m1.1.1.3">CL</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.1.1.1.1.m1.1c">\mathcal{L}_{\mathrm{CL}}</annotation><annotation encoding="application/x-llamapun" id="S3.T2.1.1.1.1.m1.1d">caligraphic_L start_POSTSUBSCRIPT roman_CL end_POSTSUBSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.2">18.4</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.3">33.3</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.4">6.9</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.5">23.5</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.6">44.9</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.7">15.5</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.8">14.7</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.9">21.9</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.10">7.2</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.11">14.1</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.12">28.8</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.1.13">5.1</td>
</tr>
<tr class="ltx_tr" id="S3.T2.2.2.2">
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.1">w/o <math alttext="\mathcal{L}_{\mathrm{RANK}}" class="ltx_Math" display="inline" id="S3.T2.2.2.2.1.m1.1"><semantics id="S3.T2.2.2.2.1.m1.1a"><msub id="S3.T2.2.2.2.1.m1.1.1" xref="S3.T2.2.2.2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.T2.2.2.2.1.m1.1.1.2" xref="S3.T2.2.2.2.1.m1.1.1.2.cmml">ℒ</mi><mi id="S3.T2.2.2.2.1.m1.1.1.3" xref="S3.T2.2.2.2.1.m1.1.1.3.cmml">RANK</mi></msub><annotation-xml encoding="MathML-Content" id="S3.T2.2.2.2.1.m1.1b"><apply id="S3.T2.2.2.2.1.m1.1.1.cmml" xref="S3.T2.2.2.2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.T2.2.2.2.1.m1.1.1.1.cmml" xref="S3.T2.2.2.2.1.m1.1.1">subscript</csymbol><ci id="S3.T2.2.2.2.1.m1.1.1.2.cmml" xref="S3.T2.2.2.2.1.m1.1.1.2">ℒ</ci><ci id="S3.T2.2.2.2.1.m1.1.1.3.cmml" xref="S3.T2.2.2.2.1.m1.1.1.3">RANK</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.2.2.2.1.m1.1c">\mathcal{L}_{\mathrm{RANK}}</annotation><annotation encoding="application/x-llamapun" id="S3.T2.2.2.2.1.m1.1d">caligraphic_L start_POSTSUBSCRIPT roman_RANK end_POSTSUBSCRIPT</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.2">19.6</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.3">33.1</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.4"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.2.4.1">7.8</span></td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.5">23.1</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.6">44.4</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.7">15.1</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.8">16.6</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.9">24.2</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.10">8.2</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.11">14.0</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.12">28.0</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.2.13">4.9</td>
</tr>
<tr class="ltx_tr" id="S3.T2.2.2.6">
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.1">w/o in-b neg</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.2"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.6.2.1">19.8</span></td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.3"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.6.3.1">34.7</span></td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.4"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.6.4.1">7.8</span></td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.5">24.5</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.6">46.4</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.7">16.5</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.8">17.2</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.9">24.9</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.10">8.8</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.11">13.3</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.12">26.3</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.6.13">5.2</td>
</tr>
<tr class="ltx_tr" id="S3.T2.2.2.7">
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.1">w/ sup</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.2">18.1</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.3">32.3</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.4">6.9</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.5">21.4</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.6">43.3</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.7">13.9</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.8">15.5</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.9">22.8</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.10">7.3</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.11">13.8</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.12">29.0</td>
<td class="ltx_td ltx_align_center" id="S3.T2.2.2.7.13">5.2</td>
</tr>
<tr class="ltx_tr" id="S3.T2.2.2.8">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.1"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.8.1.1">GoR (Ours)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.2"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.8.2.1">19.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.3">34.5</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.4"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.8.4.1">7.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.5"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.8.5.1">24.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.6"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.8.6.1">46.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.7"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.8.7.1">17.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.8"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.8.8.1">18.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.9"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.8.9.1">25.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.10"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.8.10.1">9.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.11"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.8.11.1">14.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.12"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.8.12.1">31.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S3.T2.2.2.8.13"><span class="ltx_text ltx_font_bold" id="S3.T2.2.2.8.13.1">6.6</span></td>
</tr>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Ablation Study</h3>
<div class="ltx_para ltx_noindent" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">To investigate how each component of GoR contributes to its performance, we conduct an ablation experiment, and the results are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.T2" title="Table 2 ‣ 3.2 Main Results ‣ 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.2">From Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.T2" title="Table 2 ‣ 3.2 Main Results ‣ 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">2</span></a>, we can draw several conclusions.
(1) Directly using the text embeddings from the retriever without training leads to degraded performance (<span class="ltx_text ltx_font_italic" id="S3.SS3.p2.2.1">i.e.</span>, w/o train), highlighting the effectiveness of the learned node embeddings.
(2) Both the contrastive loss <math alttext="\mathcal{L}_{\mathrm{CL}}" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.1"><semantics id="S3.SS3.p2.1.m1.1a"><msub id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml">ℒ</mi><mi id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml">CL</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2">ℒ</ci><ci id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3">CL</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">\mathcal{L}_{\mathrm{CL}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.1d">caligraphic_L start_POSTSUBSCRIPT roman_CL end_POSTSUBSCRIPT</annotation></semantics></math> and pair-wise ranking loss <math alttext="\mathcal{L}_{\mathrm{RANK}}" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.1"><semantics id="S3.SS3.p2.2.m2.1a"><msub id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">ℒ</mi><mi id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml">RANK</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">ℒ</ci><ci id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3">RANK</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">\mathcal{L}_{\mathrm{RANK}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m2.1d">caligraphic_L start_POSTSUBSCRIPT roman_RANK end_POSTSUBSCRIPT</annotation></semantics></math> significantly improve performance. The pair-wise ranking loss imposes stricter ranking constraints on node embeddings, making effective use of the indirect supervision signal from the self-supervised reference summaries.
(3) In-batch negatives are crucial to the performance of contrastive learning. Removing in-batch negatives (<span class="ltx_text ltx_font_italic" id="S3.SS3.p2.2.2">i.e.</span>, w/o in-b neg) leads to a significant drop in results, especially on the WCEP and BookSum datasets.
(4) Compared with self-supervised training, we utilize global reference summaries as labels to conduct supervised training (<span class="ltx_text ltx_font_italic" id="S3.SS3.p2.2.3">i.e.</span>, w/ sup), and the results are significantly worse than the self-supervised setting. We will further discuss it in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.SS4" title="3.4 Discussions ‣ 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">3.4</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.1">In general, GoR’s reasonable module design enables it to achieve superior performance.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Discussions</h3>
<div class="ltx_para ltx_noindent" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1"><span class="ltx_text ltx_font_bold" id="S3.SS4.p1.1.1">Impact of GNN Architectures</span>.
GNNs play a vital role in learning node embeddings. we explore various GNN architectures to study their impact on learning node embeddings, including GCN <cite class="ltx_cite ltx_citemacro_cite">Kipf &amp; Welling (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib20" title="">2016</a>)</cite>, SGC <cite class="ltx_cite ltx_citemacro_cite">Wu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib51" title="">2019</a>)</cite>, GIN <cite class="ltx_cite ltx_citemacro_cite">Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib52" title="">2019</a>)</cite>, and GraphSAGE <cite class="ltx_cite ltx_citemacro_cite">Hamilton et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib12" title="">2017</a>)</cite>. Our findings, illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.F3" title="Figure 3 ‣ 3.4 Discussions ‣ 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">3</span></a>, show that GAT outperforms the other architectures. This is because GAT considers the significance of neighboring nodes when updating node embeddings, allowing the model to effectively capture essential information from the nodes.
Among the other architectures, GraphSAGE performs poorly due to its unstable neighbor sampling mechanism.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.1">Overall, GAT reaches the best results, which shows that considering the importance of neighboring nodes is effective in mining complicated correlations and is critical to improving performance.</p>
</div>
<figure class="ltx_figure" id="S3.F3">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<div class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" id="S3.F3.1.1" style="width:212.5pt;">
<img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="474" id="S3.F3.1.1.g1" src="x3.png" width="830"/>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" id="S3.F3.2.2" style="width:212.5pt;">
<img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="474" id="S3.F3.2.2.g1" src="x4.png" width="830"/>
</div>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span><span class="ltx_text ltx_font_bold" id="S3.F3.4.1">Impact of GNN architectures w.r.t. R-L, R-1, and R-2</span>. The left figure shows results on the WCEP dataset, while the right one shows results with the BookSum dataset.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S3.SS4.p3">
<p class="ltx_p" id="S3.SS4.p3.1"><span class="ltx_text ltx_font_bold" id="S3.SS4.p3.1.1">Impact of the Number of Simulated Queries During Training</span>.
Query Simulation is a crucial stage in our method design, and we will discuss the impact of the number of simulated queries used during training on learning performance. In particular, we explore this effect by gradually increasing the number of simulated queries used in training.
We present the results in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.F4" title="Figure 4 ‣ 3.4 Discussions ‣ 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">4</span></a>. From a holistic perspective, R-L shows an upward trend as the number of simulated queries increases. Nevertheless, since fewer queries cover less relevant content from long documents, the curves of each dataset have some fluctuations, indicating the occurrence of underfitting.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS4.p4">
<p class="ltx_p" id="S3.SS4.p4.1">In general, 30 simulated queries can optimize the model well across these four datasets, which indicates that our proposed GoR is cost-effective.
Nevertheless, increasing the number of simulated queries may still potentially further improve the performance of the model. Due to budget constraints, we will leave this for future work.</p>
</div>
<figure class="ltx_figure" id="S3.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S3.F4.1.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="553" id="S3.F4.1.1.g1" src="x5.png" width="830"/>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S3.F4.2.2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="553" id="S3.F4.2.2.g1" src="x6.png" width="830"/>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S3.F4.3.3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="553" id="S3.F4.3.3.g1" src="x7.png" width="830"/>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S3.F4.4.4"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="553" id="S3.F4.4.4.g1" src="x8.png" width="830"/>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span><span class="ltx_text ltx_font_bold" id="S3.F4.6.1">Impact of the number of simulated queries during training w.r.t. R-L</span>. We show the results on the four datasets QMSum, AcademicEval, WCEP, and BookSum from left to right.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S3.SS4.p5">
<p class="ltx_p" id="S3.SS4.p5.1"><span class="ltx_text ltx_font_bold" id="S3.SS4.p5.1.1">Supervised Training on Global Summarization Queries</span>.
To dive deeper into the differences between self-supervised and supervised training, we carry out additional experiments using global reference summaries.
Specifically, we utilize global summarization queries and reference summaries to serve as a training corpus under the supervised setting.
As there is only one global summarization query for each long document, we replicate it multiple times to match the quantity of self-supervised training data, thus eliminating the impact of the quantity difference.
We present the results on the WCEP and BookSum datasets in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.F5" title="Figure 5 ‣ 3.4 Discussions ‣ 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">5</span></a>, and the <span class="ltx_text ltx_font_italic" id="S3.SS4.p5.1.2">Entropy</span> denotes the entropy of the similarity distribution between queries and node embeddings.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS4.p6">
<p class="ltx_p" id="S3.SS4.p6.1">From Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.F5" title="Figure 5 ‣ 3.4 Discussions ‣ 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">5</span></a>, it is evident that in the self-supervised setting, the loss is consistently lower than in the supervised setting.
This suggests that the global reference summaries are highly correlated with many nodes, causing most nodes to exhibit a high semantic similarity with the global query.
As a result, this confuses the model’s optimization direction.
Additionally, the entropy curve shows that the entropy in the supervised setting is consistently higher than in the self-supervised setting, indicating that the model struggles to select the most similar node.
In contrast, the self-supervised label, derived from a specific part of a long document, contains more focused content and can more effectively guide the model’s optimization direction.</p>
</div>
<figure class="ltx_figure" id="S3.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<div class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" id="S3.F5.1.1" style="width:106.2pt;">
<img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="553" id="S3.F5.1.1.g1" src="x9.png" width="830"/>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<div class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" id="S3.F5.2.2" style="width:106.2pt;">
<img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="553" id="S3.F5.2.2.g1" src="x10.png" width="830"/>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<div class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" id="S3.F5.3.3" style="width:106.2pt;">
<img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="553" id="S3.F5.3.3.g1" src="x11.png" width="830"/>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<div class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" id="S3.F5.4.4" style="width:106.2pt;">
<img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="553" id="S3.F5.4.4.g1" src="x12.png" width="830"/>
</div>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span><span class="ltx_text ltx_font_bold" id="S3.F5.6.1">Differences between self-supervised and supervised training w.r.t. loss and entropy</span>. We show the loss and entropy curve during training on the WCEP and BookSum datasets from left to right.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Related Work</h2>
<div class="ltx_para ltx_noindent" id="S4.p1">
<p class="ltx_p" id="S4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.p1.1.1">Long-context Summarization using LLMs.</span>
In recent years, LLMs have demonstrated their excellent capabilities in long-context modeling <cite class="ltx_cite ltx_citemacro_cite">Achiam et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib1" title="">2023</a>); AI@Meta (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib2" title="">2024</a>); Team et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib41" title="">2024</a>); Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib17" title="">2024</a>)</cite>.
Current approaches for summarizing long documents using LLMs are mainly divided into two categories: retrieval-augmented generation (RAG) <cite class="ltx_cite ltx_citemacro_cite">Ram et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib36" title="">2023</a>); Yu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib55" title="">2023</a>)</cite> and long-context LLMs <cite class="ltx_cite ltx_citemacro_cite">GLM et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib10" title="">2024</a>); Li* et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib23" title="">2023</a>); Tworkowski et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib44" title="">2023</a>)</cite>.
Long-context LLMs feature a large context window length to accommodate long-context inputs.
However, they may suffer from severe performance degradation when accessing some local key details in the middle of long contexts <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib31" title="">2024b</a>)</cite>.
In contrast, RAG emerges as a promising approach for cost-effective long-context summarization.
By equipping with a retriever <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib19" title="">2020</a>); Robertson et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib39" title="">2009</a>)</cite>, RAG can first perform a relevance search based on user queries and then feed the retrieved text into LLMs for summary.
For a recent example, GraphRAG <cite class="ltx_cite ltx_citemacro_cite">Edge et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib7" title="">2024</a>)</cite> conducts query-focused summarization by setting up a graph index and detecting graph communities for summary generation.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p2">
<p class="ltx_p" id="S4.p2.1">Nevertheless, most current RAG approaches still focus on enhancing LLMs’ reasoning and question-answering capabilities, which only require retrieving locally relevant information <cite class="ltx_cite ltx_citemacro_cite">Trivedi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib43" title="">2022</a>); Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib18" title="">2023b</a>); Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib3" title="">2023</a>); Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib25" title="">2023</a>); Zheng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib57" title="">2023</a>)</cite>.
In comparison, our proposed method stands out from these methods by focusing on LLMs’ global summarization capability of long-context inputs.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p3">
<p class="ltx_p" id="S4.p3.1"><span class="ltx_text ltx_font_bold" id="S4.p3.1.1">Historical Response Utilization of LLMs.</span>
Little work has been done on this under-explored topic.
Thought-retriever <cite class="ltx_cite ltx_citemacro_cite">Feng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib8" title="">2024</a>)</cite> saves the historical responses of each user-LLM interaction as high-level and informative thoughts to expand the retrieval corpus for future user queries.
However, the intricate correlations among thoughts are neglected, leaving room for further improvement.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p4">
<p class="ltx_p" id="S4.p4.1">Another line of work is the Chain-of-Thought (CoT), which is similar to our approach in terms of utilizing LLM historical responses and has been regarded as an effective means to enhance the reasoning ability of LLM during inference time in recent years.
Few-shot CoT <cite class="ltx_cite ltx_citemacro_cite">Wei et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib50" title="">2022</a>)</cite> and zero-shot CoT <cite class="ltx_cite ltx_citemacro_cite">Kojima et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib21" title="">2022</a>)</cite> elicit intermediate reasoning paths by prompting LLMs with several demonstrations or just appending <span class="ltx_text ltx_font_italic" id="S4.p4.1.1">”Let’s think step by step.”</span>
Self-consistency <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib48" title="">2022b</a>)</cite> samples diverse reasoning paths and conducts a majority vote to obtain the final answer.
ToT <cite class="ltx_cite ltx_citemacro_cite">Yao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib54" title="">2024</a>)</cite> and GoT <cite class="ltx_cite ltx_citemacro_cite">Besta et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib4" title="">2024</a>)</cite> take a further step by integrating a tree or graph structure to manage its historical reasoning paths, enabling more flexible reasoning and reflection of LLMs.
By memorizing the solution paradigms of various queries into different templates, BoT <cite class="ltx_cite ltx_citemacro_cite">Yang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib53" title="">2024</a>)</cite> pushes LLM’s reasoning ability to a new level.
Although the above-mentioned CoT-series approaches improve the reasoning capabilities of LLMs by utilizing chains of intermediate reasoning responses, they usually concentrate on one specific QA-type query and cannot generalize to and benefit other queries.
Moreover, only a small number of historical reasoning responses are retained for the final generation, while most of the rest are just discarded.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p5">
<p class="ltx_p" id="S4.p5.1"><span class="ltx_text ltx_font_bold" id="S4.p5.1.1">Graph-assisted Retrieval-augmented Language Models.</span>
As one of the effective structures for modeling data relations, graphs have recently been used to enhance the performance of retrieval-augmented language models on various QA tasks.
EtD <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib30" title="">2024a</a>)</cite> features a graph neural network (GNN) to traverse a knowledge graph hop by hop to discover more relevant knowledge, thus enhancing LLM generation quality.
GNN-RAG <cite class="ltx_cite ltx_citemacro_cite">Mavromatis &amp; Karypis (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib33" title="">2024</a>)</cite> learns to reason over graphs using GNNs, and retrieves answer candidates for a given question.
PG-RAG <cite class="ltx_cite ltx_citemacro_cite">Liang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib27" title="">2024</a>)</cite> constructs pseudo-graphs with a retrieval indexer by prompting LLMs to organize document knowledge in a self-learning manner.
G-RAG <cite class="ltx_cite ltx_citemacro_cite">Dong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib6" title="">2024</a>)</cite> proposes to rerank documents by learning graph representation on abstract meaning representation graphs, while GNN-Ret <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib26" title="">2024b</a>)</cite> refines semantic distances between documents and queries by modeling relationships among related passages.
ToG <cite class="ltx_cite ltx_citemacro_cite">Sun et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib40" title="">2023</a>)</cite> and KGP <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib49" title="">2024</a>)</cite> treat LLMs as agents to traverse and reason over knowledge graphs in an iterative way, while RoG <cite class="ltx_cite ltx_citemacro_cite">Luo et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib32" title="">2023</a>)</cite> first generates plans for retrieval and then conducts reasoning.
G-Retriever <cite class="ltx_cite ltx_citemacro_cite">He et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib13" title="">2024</a>)</cite> transforms retrieved knowledge subgraphs into graph embeddings by training a graph encoder and textualizes subgraphs to serve as inputs of LLMs.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p6">
<p class="ltx_p" id="S4.p6.1">Different from the above, GraphRAG <cite class="ltx_cite ltx_citemacro_cite">Edge et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib7" title="">2024</a>)</cite> sets up a graph index for query-focused summarization, which is more relevant to our proposed approach.
Compared with GraphRAG, which is time-consuming and suffers from huge computational costs, our proposed GoR is lightweight and only draws on a few LLM historical responses with efficient training to achieve competitive performance.</p>
</div>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>
<div class="ltx_para ltx_noindent" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this work, we introduce a method named <span class="ltx_text ltx_font_italic" id="S5.p1.1.1">graph of records</span> (GoR) to improve long-context global summarization in retrieval-augmented generation (RAG) by utilizing LLM-generated historical responses.
Intuitively, we establish connections between text chunks retrieved from long documents and LLM-generated historical responses to create a graph of records.
To uncover complex correlations between these connections, we use a graph neural network and develop a BERTScore-based objective for self-supervised training.
This allows for seamless supervision signal backpropagation between self-supervised reference summaries and node embeddings.
In our experiments, we assess our proposed method on four long-context summarization datasets, and the results consistently demonstrate that GoR outperforms numerous baselines by a significant margin, highlighting its effectiveness.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">Despite the superiority of our proposed method, GoR has some limitations.
(1) Due to a limited budget, we only simulate and generate a small number of user queries, which may cause a bottleneck in further model optimization.
(2) The simulated queries may not accurately reflect the real-world distribution, as they do not account for the possibility of users asking many meaningless questions. Therefore, a filtering process may be necessary, which we leave for future work.</p>
</div>
<section class="ltx_subsubsection" id="S5.SS0.SSSx1">
<h4 class="ltx_title ltx_title_subsubsection">Acknowledgments</h4>
<div class="ltx_para ltx_noindent" id="S5.SS0.SSSx1.p1">
<p class="ltx_p" id="S5.SS0.SSSx1.p1.1">We gratefully acknowledge the support of the Illinois Campus Cluster, a computing resource that is operated by the Illinois Campus Cluster Program (ICCP) in conjunction with the National Center for Supercomputing Applications (NCSA) and which is supported by funds from the University of Illinois at Urbana-Champaign.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Ethics Statement</h2>
<div class="ltx_para ltx_noindent" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">The security of Large Language Models (LLMs) has always been a concern. Unfortunately, current LLMs sometimes produce harmful and biased information unexpectedly. Our proposed method uses LLMs to generate simulated queries and summary responses, which are only used to construct a graph of records and connect text chunks from long documents. However, more work is needed in real-world applications to ensure that LLMs’ responses are reliable and harmless, so that they do not harm users.</p>
</div>
</section>
<section class="ltx_section" id="Sx2">
<h2 class="ltx_title ltx_title_section">Reproducibility Statement</h2>
<div class="ltx_para ltx_noindent" id="Sx2.p1">
<p class="ltx_p" id="Sx2.p1.1">In the experimental setup phase <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#S3.SS1" title="3.1 Experimental Setup ‣ 3 Experiments ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">3.1</span></a>, we clearly describe the open-source LLMs used in this paper (Mixtral-8x7B-Instruct-v0.1 <cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib17" title="">2024</a>)</cite> and LLaMA-2-7b-chat <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib42" title="">2023</a>)</cite>), the data preprocessing details (including RAG-related chunk size settings and dataset descriptions, etc.), and the training hyper-parameters.
Moreover, we provide all the prompts used in this work in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A2" title="Appendix B LLM Prompts ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">B</span></a>.
More detailed information can be found in the Appendix.
The above description ensures the reproducibility of this work.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Achiam et al. (2023)</span>
<span class="ltx_bibblock">
Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad, Ilge Akkaya, Florencia Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman, Shyamal Anadkat, et al.

</span>
<span class="ltx_bibblock">Gpt-4 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2303.08774</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">AI@Meta (2024)</span>
<span class="ltx_bibblock">
AI@Meta.

</span>
<span class="ltx_bibblock">Llama 3 model card.

</span>
<span class="ltx_bibblock">2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/meta-llama/llama3/blob/main/MODEL_CARD.md" title="">https://github.com/meta-llama/llama3/blob/main/MODEL_CARD.md</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Asai et al. (2023)</span>
<span class="ltx_bibblock">
Akari Asai, Zeqiu Wu, Yizhong Wang, Avirup Sil, and Hannaneh Hajishirzi.

</span>
<span class="ltx_bibblock">Self-rag: Learning to retrieve, generate, and critique through self-reflection.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">arXiv preprint arXiv:2310.11511</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Besta et al. (2024)</span>
<span class="ltx_bibblock">
Maciej Besta, Nils Blach, Ales Kubicek, Robert Gerstenberger, Michal Podstawski, Lukas Gianinazzi, Joanna Gajda, Tomasz Lehmann, Hubert Niewiadomski, Piotr Nyczyk, et al.

</span>
<span class="ltx_bibblock">Graph of thoughts: Solving elaborate problems with large language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, volume 38, pp.  17682–17690, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Burges (2010)</span>
<span class="ltx_bibblock">
Christopher JC Burges.

</span>
<span class="ltx_bibblock">From ranknet to lambdarank to lambdamart: An overview.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">Learning</em>, 11(23-581):81, 2010.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong et al. (2024)</span>
<span class="ltx_bibblock">
Jialin Dong, Bahare Fatemi, Bryan Perozzi, Lin F Yang, and Anton Tsitsulin.

</span>
<span class="ltx_bibblock">Don’t forget to connect! improving rag with graph-based reranking.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">arXiv preprint arXiv:2405.18414</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Edge et al. (2024)</span>
<span class="ltx_bibblock">
Darren Edge, Ha Trinh, Newman Cheng, Joshua Bradley, Alex Chao, Apurva Mody, Steven Truitt, and Jonathan Larson.

</span>
<span class="ltx_bibblock">From local to global: A graph rag approach to query-focused summarization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2404.16130</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Feng et al. (2024)</span>
<span class="ltx_bibblock">
Tao Feng, Pengrui Han, Guanyu Lin, Ge Liu, and Jiaxuan You.

</span>
<span class="ltx_bibblock">Thought-retriever: Don’t just retrieve raw data, retrieve thoughts.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">ICLR 2024 Workshop: How Far Are We From AGI</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gholipour Ghalandari et al. (2020)</span>
<span class="ltx_bibblock">
Demian Gholipour Ghalandari, Chris Hokamp, Nghia The Pham, John Glover, and Georgiana Ifrim.

</span>
<span class="ltx_bibblock">A large-scale multi-document summarization dataset from the Wikipedia current events portal.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics</em>, pp.  1302–1308, Online, July 2020. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.aclweb.org/anthology/2020.acl-main.120" title="">https://www.aclweb.org/anthology/2020.acl-main.120</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">GLM et al. (2024)</span>
<span class="ltx_bibblock">
Team GLM, Aohan Zeng, Bin Xu, Bowen Wang, Chenhui Zhang, Da Yin, Diego Rojas, Guanyu Feng, Hanlin Zhao, Hanyu Lai, Hao Yu, Hongning Wang, Jiadai Sun, Jiajie Zhang, Jiale Cheng, Jiayi Gui, Jie Tang, Jing Zhang, Juanzi Li, Lei Zhao, Lindong Wu, Lucen Zhong, Mingdao Liu, Minlie Huang, Peng Zhang, Qinkai Zheng, Rui Lu, Shuaiqi Duan, Shudan Zhang, Shulin Cao, Shuxun Yang, Weng Lam Tam, Wenyi Zhao, Xiao Liu, Xiao Xia, Xiaohan Zhang, Xiaotao Gu, Xin Lv, Xinghan Liu, Xinyi Liu, Xinyue Yang, Xixuan Song, Xunkai Zhang, Yifan An, Yifan Xu, Yilin Niu, Yuantao Yang, Yueyan Li, Yushi Bai, Yuxiao Dong, Zehan Qi, Zhaoyu Wang, Zhen Yang, Zhengxiao Du, Zhenyu Hou, and Zihan Wang.

</span>
<span class="ltx_bibblock">Chatglm: A family of large language models from glm-130b to glm-4 all tools, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Grover &amp; Leskovec (2016)</span>
<span class="ltx_bibblock">
Aditya Grover and Jure Leskovec.

</span>
<span class="ltx_bibblock">node2vec: Scalable feature learning for networks.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">Proceedings of the 22nd ACM SIGKDD international conference on Knowledge discovery and data mining</em>, pp.  855–864, 2016.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hamilton et al. (2017)</span>
<span class="ltx_bibblock">
Will Hamilton, Zhitao Ying, and Jure Leskovec.

</span>
<span class="ltx_bibblock">Inductive representation learning on large graphs.

</span>
<span class="ltx_bibblock">2017.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2024)</span>
<span class="ltx_bibblock">
Xiaoxin He, Yijun Tian, Yifei Sun, Nitesh V Chawla, Thomas Laurent, Yann LeCun, Xavier Bresson, and Bryan Hooi.

</span>
<span class="ltx_bibblock">G-retriever: Retrieval-augmented generation for textual graph understanding and question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">arXiv preprint arXiv:2402.07630</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2021)</span>
<span class="ltx_bibblock">
Luyang Huang, Shuyang Cao, Nikolaus Parulian, Heng Ji, and Lu Wang.

</span>
<span class="ltx_bibblock">Efficient attentions for long document summarization, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard et al. (2021)</span>
<span class="ltx_bibblock">
Gautier Izacard, Mathilde Caron, Lucas Hosseini, Sebastian Riedel, Piotr Bojanowski, Armand Joulin, and Edouard Grave.

</span>
<span class="ltx_bibblock">Unsupervised dense information retrieval with contrastive learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:2112.09118</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2023a)</span>
<span class="ltx_bibblock">
Albert Q Jiang, Alexandre Sablayrolles, Arthur Mensch, Chris Bamford, Devendra Singh Chaplot, Diego de las Casas, Florian Bressand, Gianna Lengyel, Guillaume Lample, Lucile Saulnier, et al.

</span>
<span class="ltx_bibblock">Mistral 7b.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">arXiv preprint arXiv:2310.06825</em>, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2024)</span>
<span class="ltx_bibblock">
Albert Q Jiang, Alexandre Sablayrolles, Antoine Roux, Arthur Mensch, Blanche Savary, Chris Bamford, Devendra Singh Chaplot, Diego de las Casas, Emma Bou Hanna, Florian Bressand, et al.

</span>
<span class="ltx_bibblock">Mixtral of experts.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">arXiv preprint arXiv:2401.04088</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2023b)</span>
<span class="ltx_bibblock">
Zhengbao Jiang, Frank F Xu, Luyu Gao, Zhiqing Sun, Qian Liu, Jane Dwivedi-Yu, Yiming Yang, Jamie Callan, and Graham Neubig.

</span>
<span class="ltx_bibblock">Active retrieval augmented generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">arXiv preprint arXiv:2305.06983</em>, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al. (2020)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oğuz, Sewon Min, Patrick Lewis, Ledell Wu, Sergey Edunov, Danqi Chen, and Wen-tau Yih.

</span>
<span class="ltx_bibblock">Dense passage retrieval for open-domain question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">arXiv preprint arXiv:2004.04906</em>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kipf &amp; Welling (2016)</span>
<span class="ltx_bibblock">
Thomas N Kipf and Max Welling.

</span>
<span class="ltx_bibblock">Semi-supervised classification with graph convolutional networks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">arXiv preprint arXiv:1609.02907</em>, 2016.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kojima et al. (2022)</span>
<span class="ltx_bibblock">
Takeshi Kojima, Shixiang Shane Gu, Machel Reid, Yutaka Matsuo, and Yusuke Iwasawa.

</span>
<span class="ltx_bibblock">Large language models are zero-shot reasoners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Advances in neural information processing systems</em>, 35:22199–22213, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kryściński et al. (2021)</span>
<span class="ltx_bibblock">
Wojciech Kryściński, Nazneen Rajani, Divyansh Agarwal, Caiming Xiong, and Dragomir Radev.

</span>
<span class="ltx_bibblock">Booksum: A collection of datasets for long-form narrative summarization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">arXiv preprint arXiv:2105.08209</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li* et al. (2023)</span>
<span class="ltx_bibblock">
Dacheng Li*, Rulin Shao*, Anze Xie, Ying Sheng, Lianmin Zheng, Joseph E. Gonzalez, Ion Stoica, Xuezhe Ma, and Hao Zhang.

</span>
<span class="ltx_bibblock">How long can open-source llms truly promise on context length?, June 2023.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://lmsys.org/blog/2023-06-29-longchat" title="">https://lmsys.org/blog/2023-06-29-longchat</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2024a)</span>
<span class="ltx_bibblock">
Tianle Li, Ge Zhang, Quy Duc Do, Xiang Yue, and Wenhu Chen.

</span>
<span class="ltx_bibblock">Long-context llms struggle with long in-context learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">arXiv preprint arXiv:2404.02060</em>, 2024a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023)</span>
<span class="ltx_bibblock">
Xingxuan Li, Ruochen Zhao, Yew Ken Chia, Bosheng Ding, Shafiq Joty, Soujanya Poria, and Lidong Bing.

</span>
<span class="ltx_bibblock">Chain-of-knowledge: Grounding large language models via dynamic knowledge adapting over heterogeneous sources.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">arXiv preprint arXiv:2305.13269</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2024b)</span>
<span class="ltx_bibblock">
Zijian Li, Qingyan Guo, Jiawei Shao, Lei Song, Jiang Bian, Jun Zhang, and Rui Wang.

</span>
<span class="ltx_bibblock">Graph neural network enhanced retrieval for question answering of llms.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">arXiv preprint arXiv:2406.06572</em>, 2024b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liang et al. (2024)</span>
<span class="ltx_bibblock">
Xun Liang, Simin Niu, Sensen Zhang, Shichao Song, Hanyu Wang, Jiawei Yang, Feiyu Xiong, Bo Tang, Chenyang Xi, et al.

</span>
<span class="ltx_bibblock">Empowering large language models to set up a knowledge retrieval indexer via self-learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">arXiv preprint arXiv:2405.16933</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin (2004)</span>
<span class="ltx_bibblock">
Chin-Yew Lin.

</span>
<span class="ltx_bibblock">Rouge: A package for automatic evaluation of summaries.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">Text summarization branches out</em>, pp.  74–81, 2004.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al. (2023)</span>
<span class="ltx_bibblock">
Sheng-Chieh Lin, Akari Asai, Minghan Li, Barlas Oguz, Jimmy Lin, Yashar Mehdad, Wen-tau Yih, and Xilun Chen.

</span>
<span class="ltx_bibblock">How to train your dragon: Diverse augmentation towards generalizable dense retrieval.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">arXiv preprint arXiv:2302.07452</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2024a)</span>
<span class="ltx_bibblock">
Guangyi Liu, Yongqi Zhang, Yong Li, and Quanming Yao.

</span>
<span class="ltx_bibblock">Explore then determine: A gnn-llm synergy framework for reasoning over knowledge graph.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">arXiv preprint arXiv:2406.01145</em>, 2024a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2024b)</span>
<span class="ltx_bibblock">
Nelson F Liu, Kevin Lin, John Hewitt, Ashwin Paranjape, Michele Bevilacqua, Fabio Petroni, and Percy Liang.

</span>
<span class="ltx_bibblock">Lost in the middle: How language models use long contexts.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">Transactions of the Association for Computational Linguistics</em>, 12:157–173, 2024b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et al. (2023)</span>
<span class="ltx_bibblock">
Linhao Luo, Yuan-Fang Li, Gholamreza Haffari, and Shirui Pan.

</span>
<span class="ltx_bibblock">Reasoning on graphs: Faithful and interpretable large language model reasoning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">arXiv preprint arXiv:2310.01061</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mavromatis &amp; Karypis (2024)</span>
<span class="ltx_bibblock">
Costas Mavromatis and George Karypis.

</span>
<span class="ltx_bibblock">Gnn-rag: Graph neural retrieval for large language model reasoning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">arXiv preprint arXiv:2405.20139</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nogueira et al. (2019)</span>
<span class="ltx_bibblock">
Rodrigo Nogueira, Jimmy Lin, and AI Epistemic.

</span>
<span class="ltx_bibblock">From doc2query to doctttttquery.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">Online preprint</em>, 6(2), 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Raffel et al. (2020)</span>
<span class="ltx_bibblock">
Colin Raffel, Noam Shazeer, Adam Roberts, Katherine Lee, Sharan Narang, Michael Matena, Yanqi Zhou, Wei Li, and Peter J Liu.

</span>
<span class="ltx_bibblock">Exploring the limits of transfer learning with a unified text-to-text transformer.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">Journal of machine learning research</em>, 21(140):1–67, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ram et al. (2023)</span>
<span class="ltx_bibblock">
Ori Ram, Yoav Levine, Itay Dalmedigos, Dor Muhlgay, Amnon Shashua, Kevin Leyton-Brown, and Yoav Shoham.

</span>
<span class="ltx_bibblock">In-context retrieval-augmented language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">Transactions of the Association for Computational Linguistics</em>, 11:1316–1331, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ramos et al. (2003)</span>
<span class="ltx_bibblock">
Juan Ramos et al.

</span>
<span class="ltx_bibblock">Using tf-idf to determine word relevance in document queries.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">Proceedings of the first instructional conference on machine learning</em>, volume 242, pp.  29–48. Citeseer, 2003.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reimers &amp; Gurevych (2019)</span>
<span class="ltx_bibblock">
Nils Reimers and Iryna Gurevych.

</span>
<span class="ltx_bibblock">Sentence-bert: Sentence embeddings using siamese bert-networks.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing</em>. Association for Computational Linguistics, 11 2019.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/1908.10084" title="">https://arxiv.org/abs/1908.10084</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Robertson et al. (2009)</span>
<span class="ltx_bibblock">
Stephen Robertson, Hugo Zaragoza, et al.

</span>
<span class="ltx_bibblock">The probabilistic relevance framework: Bm25 and beyond.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">Foundations and Trends® in Information Retrieval</em>, 3(4):333–389, 2009.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al. (2023)</span>
<span class="ltx_bibblock">
Jiashuo Sun, Chengjin Xu, Lumingyuan Tang, Saizhuo Wang, Chen Lin, Yeyun Gong, Heung-Yeung Shum, and Jian Guo.

</span>
<span class="ltx_bibblock">Think-on-graph: Deep and responsible reasoning of large language model with knowledge graph.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">arXiv preprint arXiv:2307.07697</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Team et al. (2024)</span>
<span class="ltx_bibblock">
Gemma Team, Thomas Mesnard, Cassidy Hardin, Robert Dadashi, Surya Bhupatiraju, Shreya Pathak, Laurent Sifre, Morgane Rivière, Mihir Sanjay Kale, Juliette Love, et al.

</span>
<span class="ltx_bibblock">Gemma: Open models based on gemini research and technology.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">arXiv preprint arXiv:2403.08295</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">arXiv preprint arXiv:2307.09288</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Trivedi et al. (2022)</span>
<span class="ltx_bibblock">
Harsh Trivedi, Niranjan Balasubramanian, Tushar Khot, and Ashish Sabharwal.

</span>
<span class="ltx_bibblock">Interleaving retrieval with chain-of-thought reasoning for knowledge-intensive multi-step questions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">arXiv preprint arXiv:2212.10509</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tworkowski et al. (2023)</span>
<span class="ltx_bibblock">
Szymon Tworkowski, Konrad Staniszewski, Mikołaj Pacek, Yuhuai Wu, Henryk Michalewski, and Piotr Miłoś.

</span>
<span class="ltx_bibblock">Focused transformer: Contrastive training for context scaling, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">van den Oord et al. (2018)</span>
<span class="ltx_bibblock">
Aaron van den Oord, Yazhe Li, and Oriol Vinyals.

</span>
<span class="ltx_bibblock">Representation learning with contrastive predictive coding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">arXiv preprint arXiv:1807.03748v2</em>, 2018.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Veličković et al. (2017)</span>
<span class="ltx_bibblock">
Petar Veličković, Guillem Cucurull, Arantxa Casanova, Adriana Romero, Pietro Lio, and Yoshua Bengio.

</span>
<span class="ltx_bibblock">Graph attention networks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">arXiv preprint arXiv:1710.10903</em>, 2017.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2022a)</span>
<span class="ltx_bibblock">
Alex Wang, Richard Yuanzhe Pang, Angelica Chen, Jason Phang, and Samuel R Bowman.

</span>
<span class="ltx_bibblock">Squality: Building a long-document summarization dataset the hard way.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">arXiv preprint arXiv:2205.11465</em>, 2022a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2022b)</span>
<span class="ltx_bibblock">
Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc Le, Ed Chi, Sharan Narang, Aakanksha Chowdhery, and Denny Zhou.

</span>
<span class="ltx_bibblock">Self-consistency improves chain of thought reasoning in language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">arXiv preprint arXiv:2203.11171</em>, 2022b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2024)</span>
<span class="ltx_bibblock">
Yu Wang, Nedim Lipka, Ryan A Rossi, Alexa Siu, Ruiyi Zhang, and Tyler Derr.

</span>
<span class="ltx_bibblock">Knowledge graph prompting for multi-document question answering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, volume 38, pp.  19206–19214, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">Advances in neural information processing systems</em>, 35:24824–24837, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. (2019)</span>
<span class="ltx_bibblock">
Felix Wu, Amauri Souza, Tianyi Zhang, Christopher Fifty, Tao Yu, and Kilian Weinberger.

</span>
<span class="ltx_bibblock">Simplifying graph convolutional networks.

</span>
<span class="ltx_bibblock">pp.  6861–6871, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2019)</span>
<span class="ltx_bibblock">
Keyulu Xu, Weihua Hu, Jure Leskovec, and Stefanie Jegelka.

</span>
<span class="ltx_bibblock">How powerful are graph neural networks?

</span>
<span class="ltx_bibblock">2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2024)</span>
<span class="ltx_bibblock">
Ling Yang, Zhaochen Yu, Tianjun Zhang, Shiyi Cao, Minkai Xu, Wentao Zhang, Joseph E Gonzalez, and Bin Cui.

</span>
<span class="ltx_bibblock">Buffer of thoughts: Thought-augmented reasoning with large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib53.1.1">arXiv preprint arXiv:2406.04271</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao et al. (2024)</span>
<span class="ltx_bibblock">
Shunyu Yao, Dian Yu, Jeffrey Zhao, Izhak Shafran, Tom Griffiths, Yuan Cao, and Karthik Narasimhan.

</span>
<span class="ltx_bibblock">Tree of thoughts: Deliberate problem solving with large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib54.1.1">Advances in Neural Information Processing Systems</em>, 36, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2023)</span>
<span class="ltx_bibblock">
Zichun Yu, Chenyan Xiong, Shi Yu, and Zhiyuan Liu.

</span>
<span class="ltx_bibblock">Augmentation-adapted retriever improves generalization of language models as generic plug-in.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">arXiv preprint arXiv:2305.17331</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2019)</span>
<span class="ltx_bibblock">
Tianyi Zhang, Varsha Kishore, Felix Wu, Kilian Q Weinberger, and Yoav Artzi.

</span>
<span class="ltx_bibblock">Bertscore: Evaluating text generation with bert.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib56.1.1">arXiv preprint arXiv:1904.09675</em>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al. (2023)</span>
<span class="ltx_bibblock">
Huaixiu Steven Zheng, Swaroop Mishra, Xinyun Chen, Heng-Tze Cheng, Ed H Chi, Quoc V Le, and Denny Zhou.

</span>
<span class="ltx_bibblock">Take a step back: Evoking reasoning via abstraction in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib57.1.1">arXiv preprint arXiv:2310.06117</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhong et al. (2021)</span>
<span class="ltx_bibblock">
Ming Zhong, Da Yin, Tao Yu, Ahmad Zaidi, Mutethia Mutuma, Rahul Jha, Ahmed Hassan Awadallah, Asli Celikyilmaz, Yang Liu, Xipeng Qiu, et al.

</span>
<span class="ltx_bibblock">Qmsum: A new benchmark for query-based multi-domain meeting summarization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib58.1.1">arXiv preprint arXiv:2104.05938</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu &amp; Ghahramani (2002)</span>
<span class="ltx_bibblock">
Xiaojin Zhu and Zoubin Ghahramani.

</span>
<span class="ltx_bibblock">Learning from labeled and unlabeled data with label propagation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib59.1.1">ProQuest number: information to all users</em>, 2002.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Experimental Details</h2>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Dataset</h3>
<div class="ltx_para ltx_noindent" id="A1.SS1.p1">
<p class="ltx_p" id="A1.SS1.p1.1">We present dataset statistics in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A1.T3" title="Table 3 ‣ A.1 Dataset ‣ Appendix A Experimental Details ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">3</span></a>.
Due to the limited budget, we randomly select training and test samples for the training and test set and calculate the average input and output token lengths using the LLaMA-2 tokenizer <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib42" title="">2023</a>)</cite> (samples with short input lengths are filtered out).</p>
</div>
<div class="ltx_para ltx_noindent" id="A1.SS1.p2">
<p class="ltx_p" id="A1.SS1.p2.1">We evaluate our proposed method on four long-context summarization datasets, <span class="ltx_text ltx_font_italic" id="A1.SS1.p2.1.1">i.e.</span>, AcademicEval <cite class="ltx_cite ltx_citemacro_cite">Feng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib8" title="">2024</a>)</cite>, QMSum <cite class="ltx_cite ltx_citemacro_cite">Zhong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib58" title="">2021</a>)</cite>, WCEP <cite class="ltx_cite ltx_citemacro_cite">Gholipour Ghalandari et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib9" title="">2020</a>)</cite>, and BookSum <cite class="ltx_cite ltx_citemacro_cite">Kryściński et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib22" title="">2021</a>)</cite>.</p>
</div>
<div class="ltx_para ltx_noindent" id="A1.SS1.p3">
<ul class="ltx_itemize" id="A1.I1">
<li class="ltx_item" id="A1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i1.p1">
<p class="ltx_p" id="A1.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I1.i1.p1.1.1">QMSum</span> <cite class="ltx_cite ltx_citemacro_cite">Zhong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib58" title="">2021</a>)</cite>. QMSum is a query-based summarization dataset that features lengthy meeting transcripts, specific queries, and general queries. Specific queries focus on query-based summarization, and general queries are questions that summarize the entire meeting transcript, such as “Summarize the whole meeting.”
We <span class="ltx_text ltx_font_bold" id="A1.I1.i1.p1.1.2">only use</span> <span class="ltx_text ltx_font_italic" id="A1.I1.i1.p1.1.3">”general queries”</span> for evaluating global summarization.</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i2.p1">
<p class="ltx_p" id="A1.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I1.i2.p1.1.1">AcademicEval</span> <cite class="ltx_cite ltx_citemacro_cite">Feng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib8" title="">2024</a>)</cite>. AcademicEval collects scientific papers from arXiv for abstract and related work writing. We use the abstract writing subset, which provides the main body of a paper as input and generates the predicted abstract.</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i3.p1">
<p class="ltx_p" id="A1.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I1.i3.p1.1.1">WCEP</span> <cite class="ltx_cite ltx_citemacro_cite">Gholipour Ghalandari et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib9" title="">2020</a>)</cite>. WCEP is a multi-document summarization dataset about news events, which requires comprehensive consideration of the contents of multiple documents.</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para ltx_noindent" id="A1.I1.i4.p1">
<p class="ltx_p" id="A1.I1.i4.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I1.i4.p1.1.1">BookSum</span> <cite class="ltx_cite ltx_citemacro_cite">Kryściński et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib22" title="">2021</a>)</cite>. BookSum features long-form narrative summarization, which covers source documents from the literature domain and includes highly abstractive human-written summaries.</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_table" id="A1.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>Dataset statistics</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A1.T3.1">
<tr class="ltx_tr" id="A1.T3.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T3.1.1.1">Dataset</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T3.1.1.2">#Train</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T3.1.1.3">#Test</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T3.1.1.4">
<span class="ltx_text" id="A1.T3.1.1.4.1"></span> <span class="ltx_text" id="A1.T3.1.1.4.2">
<span class="ltx_tabular ltx_align_middle" id="A1.T3.1.1.4.2.1">
<span class="ltx_tr" id="A1.T3.1.1.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="A1.T3.1.1.4.2.1.1.1">Average Input</span></span>
<span class="ltx_tr" id="A1.T3.1.1.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="A1.T3.1.1.4.2.1.2.1">Token Length</span></span>
</span></span><span class="ltx_text" id="A1.T3.1.1.4.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T3.1.1.5">
<span class="ltx_text" id="A1.T3.1.1.5.1"></span> <span class="ltx_text" id="A1.T3.1.1.5.2">
<span class="ltx_tabular ltx_align_middle" id="A1.T3.1.1.5.2.1">
<span class="ltx_tr" id="A1.T3.1.1.5.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="A1.T3.1.1.5.2.1.1.1">Average Output</span></span>
<span class="ltx_tr" id="A1.T3.1.1.5.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="A1.T3.1.1.5.2.1.2.1">Token Length</span></span>
</span></span><span class="ltx_text" id="A1.T3.1.1.5.3"></span></td>
</tr>
<tr class="ltx_tr" id="A1.T3.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T3.1.2.1">QMSum <cite class="ltx_cite ltx_citemacro_cite">Zhong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib58" title="">2021</a>)</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T3.1.2.2">162</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T3.1.2.3">30</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T3.1.2.4">17K</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T3.1.2.5">0.1K</td>
</tr>
<tr class="ltx_tr" id="A1.T3.1.3">
<td class="ltx_td ltx_align_center" id="A1.T3.1.3.1">AcademicEval <cite class="ltx_cite ltx_citemacro_cite">Feng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib8" title="">2024</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="A1.T3.1.3.2">400</td>
<td class="ltx_td ltx_align_center" id="A1.T3.1.3.3">30</td>
<td class="ltx_td ltx_align_center" id="A1.T3.1.3.4">13K</td>
<td class="ltx_td ltx_align_center" id="A1.T3.1.3.5">0.3K</td>
</tr>
<tr class="ltx_tr" id="A1.T3.1.4">
<td class="ltx_td ltx_align_center" id="A1.T3.1.4.1">WCEP <cite class="ltx_cite ltx_citemacro_cite">Gholipour Ghalandari et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib9" title="">2020</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="A1.T3.1.4.2">400</td>
<td class="ltx_td ltx_align_center" id="A1.T3.1.4.3">30</td>
<td class="ltx_td ltx_align_center" id="A1.T3.1.4.4">11K</td>
<td class="ltx_td ltx_align_center" id="A1.T3.1.4.5">0.05K</td>
</tr>
<tr class="ltx_tr" id="A1.T3.1.5">
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T3.1.5.1">BookSum <cite class="ltx_cite ltx_citemacro_cite">Kryściński et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib22" title="">2021</a>)</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T3.1.5.2">400</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T3.1.5.3">30</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T3.1.5.4">16K</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T3.1.5.5">1K</td>
</tr>
</table>
</figure>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Baselines</h3>
<div class="ltx_para ltx_noindent" id="A1.SS2.p1">
<p class="ltx_p" id="A1.SS2.p1.1">We present detailed descriptions of adopted baselines.</p>
<ul class="ltx_itemize" id="A1.I2">
<li class="ltx_item" id="A1.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i1.p1">
<p class="ltx_p" id="A1.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I2.i1.p1.1.1">Node2Vec</span> <cite class="ltx_cite ltx_citemacro_cite">Grover &amp; Leskovec (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib11" title="">2016</a>)</cite>. Node2Vec generates node embeddings for graphs by simulating biased random walks to capture both local and global structural properties of nodes.</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i2.p1">
<p class="ltx_p" id="A1.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I2.i2.p1.1.1">BM25</span> <cite class="ltx_cite ltx_citemacro_cite">Robertson et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib39" title="">2009</a>)</cite>, <span class="ltx_text ltx_font_bold" id="A1.I2.i2.p1.1.2">TF-IDF</span> <cite class="ltx_cite ltx_citemacro_cite">Ramos et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib37" title="">2003</a>)</cite>. BM25 ranks documents based on term frequency, inverse document frequency, and document length normalization, while TF-IDF evaluates the importance of a term in a document relative to a corpus by combining term frequency and inverse document frequency.</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i3.p1">
<p class="ltx_p" id="A1.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I2.i3.p1.1.1">Contriever</span> <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib15" title="">2021</a>)</cite>, <span class="ltx_text ltx_font_bold" id="A1.I2.i3.p1.1.2">DPR</span> <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib19" title="">2020</a>)</cite>, <span class="ltx_text ltx_font_bold" id="A1.I2.i3.p1.1.3">Dragon</span> <cite class="ltx_cite ltx_citemacro_cite">Lin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib29" title="">2023</a>)</cite>, <span class="ltx_text ltx_font_bold" id="A1.I2.i3.p1.1.4">SBERT</span> <cite class="ltx_cite ltx_citemacro_cite">Reimers &amp; Gurevych (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib38" title="">2019</a>)</cite>. Contriever is a self-supervised dense retriever that learns unsupervised document embeddings for information retrieval, DPR (Dense Passage Retriever) is a bi-encoder model that retrieves relevant passages by training on question-passage pairs, Dragon is a dense retrieval model optimized through diverse augmentation for generalizable dense retrieval, and SBERT (Sentence-BERT) is a modification of BERT that generates semantically meaningful sentence embeddings for tasks like similarity and clustering using a siamese network structure.</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i4.p1">
<p class="ltx_p" id="A1.I2.i4.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I2.i4.p1.1.1">BM25+DPR</span>. BM25+DPR with Reciprocal Rerank Fusion is a hybrid retrieval method that combines the strengths of BM25’s lexical matching and DPR’s dense embeddings by reranking results from both models using a reciprocal rank fusion strategy to improve retrieval accuracy.</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i5.p1">
<p class="ltx_p" id="A1.I2.i5.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I2.i5.p1.1.1">Gemma-8K</span> <cite class="ltx_cite ltx_citemacro_cite">Team et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib41" title="">2024</a>)</cite>, <span class="ltx_text ltx_font_bold" id="A1.I2.i5.p1.1.2">Mistral-8K</span> <cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib16" title="">2023a</a>)</cite>. Gemma-8K and Mistral-8K are LLMs with relatively long context window lengths.</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i6.p1">
<p class="ltx_p" id="A1.I2.i6.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I2.i6.p1.1.1">Full Context</span>. We feed all inputs to LLMs for summary generation. If the input length exceeds the context window limit, we randomly sample continuous text spans of maximum length multiple times to feed into LLMs and calculate the average result.</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i7" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para ltx_noindent" id="A1.I2.i7.p1">
<p class="ltx_p" id="A1.I2.i7.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I2.i7.p1.1.1">Thought-R</span> <cite class="ltx_cite ltx_citemacro_cite">Feng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib8" title="">2024</a>)</cite>. Thought Retriever (Thought-R) generates thoughts for a series of simulated queries and appends them to the retrieval corpus as high-level knowledge.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsection" id="A1.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Additional Implementation Details</h3>
<div class="ltx_para ltx_noindent" id="A1.SS3.p1">
<p class="ltx_p" id="A1.SS3.p1.1">In the stage of graph construction, due to the number and randomness of the simulated queries, there may be some isolated nodes, and we just keep them in the graph with self-loop edges. During model optimization, BERTScore is pre-computed for efficient training. We present hyper-parameters on QMSum, AcademicEval, WCEP, and BookSum datasets in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A1.T4" title="Table 4 ‣ A.3 Additional Implementation Details ‣ Appendix A Experimental Details ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="A1.SS3.p2">
<p class="ltx_p" id="A1.SS3.p2.1">For metrics, we adopt Rouge-1 (R-1), Rouge-2 (R-2), and Rouge-L (R-L) <cite class="ltx_cite ltx_citemacro_cite">Lin (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib28" title="">2004</a>)</cite> to assess the text alignment between the reference summaries and the predicted content generated by our proposed method.
If a global summarization query has multiple reference summaries, we calculate the Rouge-L/1/2 of the predicted summary and all references, respectively, and take the maximum value as the final evaluation result. We follow this setting in all experiments, including the baseline evaluation.</p>
</div>
<figure class="ltx_table" id="A1.T4">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span>Hyper-parameters</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A1.T4.1.1">
<tr class="ltx_tr" id="A1.T4.1.1.2">
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T4.1.1.2.1">Datasets</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T4.1.1.2.2">
<span class="ltx_text" id="A1.T4.1.1.2.2.1"></span> <span class="ltx_text" id="A1.T4.1.1.2.2.2">
<span class="ltx_tabular ltx_align_middle" id="A1.T4.1.1.2.2.2.1">
<span class="ltx_tr" id="A1.T4.1.1.2.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="A1.T4.1.1.2.2.2.1.1.1">QMSum</span></span>
</span></span><span class="ltx_text" id="A1.T4.1.1.2.2.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T4.1.1.2.3">
<span class="ltx_text" id="A1.T4.1.1.2.3.1"></span> <span class="ltx_text" id="A1.T4.1.1.2.3.2">
<span class="ltx_tabular ltx_align_middle" id="A1.T4.1.1.2.3.2.1">
<span class="ltx_tr" id="A1.T4.1.1.2.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="A1.T4.1.1.2.3.2.1.1.1">AcademicEval</span></span>
</span></span><span class="ltx_text" id="A1.T4.1.1.2.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T4.1.1.2.4">
<span class="ltx_text" id="A1.T4.1.1.2.4.1"></span> <span class="ltx_text" id="A1.T4.1.1.2.4.2">
<span class="ltx_tabular ltx_align_middle" id="A1.T4.1.1.2.4.2.1">
<span class="ltx_tr" id="A1.T4.1.1.2.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="A1.T4.1.1.2.4.2.1.1.1">WCEP</span></span>
</span></span><span class="ltx_text" id="A1.T4.1.1.2.4.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T4.1.1.2.5">
<span class="ltx_text" id="A1.T4.1.1.2.5.1"></span> <span class="ltx_text" id="A1.T4.1.1.2.5.2">
<span class="ltx_tabular ltx_align_middle" id="A1.T4.1.1.2.5.2.1">
<span class="ltx_tr" id="A1.T4.1.1.2.5.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="A1.T4.1.1.2.5.2.1.1.1">BookSum</span></span>
</span></span><span class="ltx_text" id="A1.T4.1.1.2.5.3"></span></td>
</tr>
<tr class="ltx_tr" id="A1.T4.1.1.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T4.1.1.3.1">#GAT Layers</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T4.1.1.3.2">2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T4.1.1.3.3">2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T4.1.1.3.4">2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T4.1.1.3.5">2</td>
</tr>
<tr class="ltx_tr" id="A1.T4.1.1.4">
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.4.1">#GAT Heads</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.4.2">4</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.4.3">4</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.4.4">4</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.4.5">4</td>
</tr>
<tr class="ltx_tr" id="A1.T4.1.1.5">
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.5.1">Batch Size</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.5.2">32</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.5.3">32</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.5.4">32</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.5.5">32</td>
</tr>
<tr class="ltx_tr" id="A1.T4.1.1.6">
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.6.1">Epoch</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.6.2">150</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.6.3">150</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.6.4">150</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.6.5">150</td>
</tr>
<tr class="ltx_tr" id="A1.T4.1.1.7">
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.7.1">Learning Rate</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.7.2">1e-3</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.7.3">1e-3</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.7.4">1e-3</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.7.5">1e-3</td>
</tr>
<tr class="ltx_tr" id="A1.T4.1.1.8">
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.8.1">Hidden Dimension</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.8.2">768</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.8.3">768</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.8.4">768</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.8.5">768</td>
</tr>
<tr class="ltx_tr" id="A1.T4.1.1.9">
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.9.1">Dropout Rate</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.9.2">0.2</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.9.3">0.0</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.9.4">0.1</td>
<td class="ltx_td ltx_align_center" id="A1.T4.1.1.9.5">0.2</td>
</tr>
<tr class="ltx_tr" id="A1.T4.1.1.1">
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T4.1.1.1.1">Loss Coefficient <math alttext="\alpha" class="ltx_Math" display="inline" id="A1.T4.1.1.1.1.m1.1"><semantics id="A1.T4.1.1.1.1.m1.1a"><mi id="A1.T4.1.1.1.1.m1.1.1" xref="A1.T4.1.1.1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="A1.T4.1.1.1.1.m1.1b"><ci id="A1.T4.1.1.1.1.m1.1.1.cmml" xref="A1.T4.1.1.1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.1.1.1.1.m1.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="A1.T4.1.1.1.1.m1.1d">italic_α</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T4.1.1.1.2">0.9</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T4.1.1.1.3">0.6</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T4.1.1.1.4">0.7</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T4.1.1.1.5">0.2</td>
</tr>
</table>
</figure>
</section>
<section class="ltx_subsection" id="A1.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.4 </span>Additional Experimental Results</h3>
<div class="ltx_para ltx_noindent" id="A1.SS4.p1">
<p class="ltx_p" id="A1.SS4.p1.1">We conduct extensive experiments on GovReport <cite class="ltx_cite ltx_citemacro_cite">Huang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib14" title="">2021</a>)</cite> and SQuALITY <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#bib.bib47" title="">2022a</a>)</cite> datasets, and the results are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11001v1#A1.T5" title="Table 5 ‣ A.4 Additional Experimental Results ‣ Appendix A Experimental Details ‣ Graph of Records: Boosting Retrieval Augmented Generation for Long-context Summarization with Graphs"><span class="ltx_text ltx_ref_tag">5</span></a>, which demonstrate our proposed GoR is still competitive among baselines on these two datasets.</p>
</div>
<figure class="ltx_table" id="A1.T5">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5: </span><span class="ltx_text ltx_font_bold" id="A1.T5.5.1">Experimental results on GovReport and SQuALITY datasets over long-context global summarization tasks w.r.t. Rouge-L (R-L), Rouge-1 (R-1), and Rouge-2 (R-2)</span>. Note that the average LLM input token length of GoR and retriever-based baselines is <math alttext="6\times 256" class="ltx_Math" display="inline" id="A1.T5.2.m1.1"><semantics id="A1.T5.2.m1.1b"><mrow id="A1.T5.2.m1.1.1" xref="A1.T5.2.m1.1.1.cmml"><mn id="A1.T5.2.m1.1.1.2" xref="A1.T5.2.m1.1.1.2.cmml">6</mn><mo id="A1.T5.2.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="A1.T5.2.m1.1.1.1.cmml">×</mo><mn id="A1.T5.2.m1.1.1.3" xref="A1.T5.2.m1.1.1.3.cmml">256</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.T5.2.m1.1c"><apply id="A1.T5.2.m1.1.1.cmml" xref="A1.T5.2.m1.1.1"><times id="A1.T5.2.m1.1.1.1.cmml" xref="A1.T5.2.m1.1.1.1"></times><cn id="A1.T5.2.m1.1.1.2.cmml" type="integer" xref="A1.T5.2.m1.1.1.2">6</cn><cn id="A1.T5.2.m1.1.1.3.cmml" type="integer" xref="A1.T5.2.m1.1.1.3">256</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T5.2.m1.1d">6\times 256</annotation><annotation encoding="application/x-llamapun" id="A1.T5.2.m1.1e">6 × 256</annotation></semantics></math>, which is about 1.5K. (<span class="ltx_text ltx_font_bold" id="A1.T5.6.2">BOLD</span> indicates the best score)</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A1.T5.7">
<tr class="ltx_tr" id="A1.T5.7.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T5.7.1.1" rowspan="2"><span class="ltx_text" id="A1.T5.7.1.1.1">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="A1.T5.7.1.2">GovReport</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="A1.T5.7.1.3">SQuALITY</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.2.1">R-L</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.2.2">R-1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.2.3">R-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.2.4">R-L</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.2.5">R-1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.2.6">R-2</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.3.1">Node2Vec</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.3.2">18.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.3.3">36.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.3.4">12.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.3.5">17.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.3.6">32.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.3.7">7.7</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.4.1">BM25</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.4.2">18.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.4.3">39.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.4.4">13.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.4.5">17.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.4.6">31.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.4.7">8.1</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.5">
<td class="ltx_td ltx_align_center" id="A1.T5.7.5.1">TF-IDF</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.5.2">18.1</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.5.3">39.2</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.5.4">12.8</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.5.5">17.0</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.5.6">31.4</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.5.7">8.1</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.6">
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.6.1">Contriever</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.6.2">20.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.6.3">39.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.6.4"><span class="ltx_text ltx_font_bold" id="A1.T5.7.6.4.1">17.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.6.5">16.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.6.6">32.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.6.7">8.3</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.7">
<td class="ltx_td ltx_align_center" id="A1.T5.7.7.1">DPR</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.7.2">19.1</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.7.3">39.4</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.7.4">15.5</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.7.5">17.4</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.7.6">33.1</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.7.7">8.4</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.8">
<td class="ltx_td ltx_align_center" id="A1.T5.7.8.1">Dragon</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.8.2">19.6</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.8.3">38.2</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.8.4">16.0</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.8.5">16.2</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.8.6">29.6</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.8.7">7.5</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.9">
<td class="ltx_td ltx_align_center" id="A1.T5.7.9.1">SBERT</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.9.2">20.0</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.9.3">39.8</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.9.4">15.8</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.9.5">17.1</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.9.6">32.1</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.9.7">7.8</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.10">
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.10.1">BM25+DPR</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.10.2">19.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.10.3">37.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.10.4">15.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.10.5">16.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.10.6">31.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.10.7">7.4</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.11">
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.11.1">Gemma-8K</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.11.2">17.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.11.3">33.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.11.4">11.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.11.5">12.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.11.6">19.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.11.7">5.8</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.12">
<td class="ltx_td ltx_align_center" id="A1.T5.7.12.1">Mistral-8K</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.12.2">16.0</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.12.3">28.9</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.12.4">9.4</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.12.5">16.9</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.12.6">32.2</td>
<td class="ltx_td ltx_align_center" id="A1.T5.7.12.7">8.1</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.13">
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.13.1">Full Context</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.13.2">18.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.13.3">39.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.13.4">13.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.13.5"><span class="ltx_text ltx_font_bold" id="A1.T5.7.13.5.1">17.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.13.6"><span class="ltx_text ltx_font_bold" id="A1.T5.7.13.6.1">34.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.13.7"><span class="ltx_text ltx_font_bold" id="A1.T5.7.13.7.1">8.8</span></td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.14">
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.14.1">Thought-R</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.14.2">20.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.14.3">40.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.14.4">17.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.14.5">17.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.14.6">32.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T5.7.14.7">8.0</td>
</tr>
<tr class="ltx_tr" id="A1.T5.7.15">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T5.7.15.1"><span class="ltx_text ltx_font_bold" id="A1.T5.7.15.1.1">GoR (Ours)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T5.7.15.2"><span class="ltx_text ltx_font_bold" id="A1.T5.7.15.2.1">20.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T5.7.15.3"><span class="ltx_text ltx_font_bold" id="A1.T5.7.15.3.1">41.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T5.7.15.4">16.8</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T5.7.15.5"><span class="ltx_text ltx_font_bold" id="A1.T5.7.15.5.1">17.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T5.7.15.6"><span class="ltx_text ltx_font_bold" id="A1.T5.7.15.6.1">34.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T5.7.15.7">8.5</td>
</tr>
</table>
</figure>
</section>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>LLM Prompts</h2>
<div class="ltx_para ltx_noindent" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">In this section, we present LLM prompts used in GoR, including user query simulation and RAG prompts.</p>
</div>
<section class="ltx_subsection" id="A2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>LLM Prompts for User Query Simulation</h3>
<div class="ltx_para ltx_noindent ltx_align_center" id="A2.SS1.1.p1">
<svg class="ltx_picture" height="196.37" id="A2.SS1.1.p1.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,196.37) matrix(1 0 0 -1 0 0)"><g fill="#404040" fill-opacity="1.0"><path d="M 0 5.91 L 0 190.47 C 0 193.73 2.64 196.37 5.91 196.37 L 594.09 196.37 C 597.36 196.37 600 193.73 600 190.47 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 172.26 L 598.03 172.26 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 178.17)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A2.SS1.1.p1.pic1.1.1.1.1.1" style="width:402.3pt;">
<span class="ltx_p" id="A2.SS1.1.p1.pic1.1.1.1.1.1.1">Prompt for User Query Simulation</span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000" height="146.67" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A2.SS1.1.p1.pic1.2.2.2.1.1" style="width:402.3pt;">
<span class="ltx_p" id="A2.SS1.1.p1.pic1.2.2.2.1.1.1">You are a great questioner of any text, and are adept at asking valuable and insightful questions. Your goal is to generate 1 summary question for the text provided below. The generated summary question should try to simulate the tone of human questions as much as possible, and make sure that the generated question must be interrogative sentences and a summary question. Important! Please make sure this text must be a complete and non-redundant answer to the generated summary question. Please directly output the generated summary question, do not output irrelevant text.</span>
<span class="ltx_p" id="A2.SS1.1.p1.pic1.2.2.2.1.1.2">DOCUMENT:</span>
<span class="ltx_p" id="A2.SS1.1.p1.pic1.2.2.2.1.1.3">{document}</span>
</span></foreignobject></g></g></svg>
</div>
</section>
<section class="ltx_subsection" id="A2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>LLM Prompts for RAG</h3>
<div class="ltx_para ltx_noindent ltx_align_center" id="A2.SS2.1.p1">
<svg class="ltx_picture" height="146.41" id="A2.SS2.1.p1.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,146.41) matrix(1 0 0 -1 0 0)"><g fill="#404040" fill-opacity="1.0"><path d="M 0 5.91 L 0 140.5 C 0 143.76 2.64 146.41 5.91 146.41 L 594.09 146.41 C 597.36 146.41 600 143.76 600 140.5 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 122.45 L 598.03 122.45 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 128.35)"><foreignobject color="#FFFFFF" height="12.15" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A2.SS2.1.p1.pic1.1.1.1.1.1" style="width:402.3pt;">
<span class="ltx_p" id="A2.SS2.1.p1.pic1.1.1.1.1.1.1">RAG Prompt</span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000" height="96.86" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A2.SS2.1.p1.pic1.2.2.2.1.1" style="width:402.3pt;">
<span class="ltx_p" id="A2.SS2.1.p1.pic1.2.2.2.1.1.1">Refer to the following supporting materials and answer the question with brief but complete explanations.</span>
<span class="ltx_p" id="A2.SS2.1.p1.pic1.2.2.2.1.1.2">SUPPORTING MATERIALS:</span>
<span class="ltx_p" id="A2.SS2.1.p1.pic1.2.2.2.1.1.3">{materials}</span>
<span class="ltx_p" id="A2.SS2.1.p1.pic1.2.2.2.1.1.4">QUESTION:</span>
<span class="ltx_p" id="A2.SS2.1.p1.pic1.2.2.2.1.1.5">{question}</span>
</span></foreignobject></g></g></svg>
</div>
</section>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Broader Impacts</h2>
<div class="ltx_para ltx_noindent" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">In the era of LLMs, countless interactions take place between users and these models on a daily basis, resulting in the generation of a vast amount of historical responses. Our proposed method demonstrates that these historical responses hold significant potential and can be effectively leveraged to further improve the quality of future responses generated by LLMs. By analyzing and reusing these past outputs, we can not only refine and enhance the overall performance of the models but also reduce computational overhead. This approach highlights the untapped value of historical data in optimizing response generation while making the process more efficient and resource-friendly.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Mon Oct 14 18:26:20 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
