<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework</title>
<!--Generated on Tue Sep 24 14:35:36 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2409.16146v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S1" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S2" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S3" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Problem statement</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S3.SS1" title="In 3 Problem statement ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Task description</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S3.SS2" title="In 3 Problem statement ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Benchmark</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S4" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Counterfactual prompting framework</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S5" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Experiment settings</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S6" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Experiment results</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S6.SS1" title="In 6 Experiment results ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1 </span>Main results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S6.SS2" title="In 6 Experiment results ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2 </span>Impact of retriever</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S6.SS3" title="In 6 Experiment results ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.3 </span>Analysis of CF prompt and fusion strategy</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S6.SS4" title="In 6 Experiment results ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.4 </span>Case study</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S7" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A1" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Details about annotation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A2" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Implementation details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A3" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Prompt for CF prompting framework</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A3.SS1" title="In Appendix C Prompt for CF prompting framework ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.1 </span>Prompt for basic RAG setting</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A3.SS2" title="In Appendix C Prompt for CF prompting framework ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.2 </span>Prompt for prompting generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A3.SS3" title="In Appendix C Prompt for CF prompting framework ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.3 </span>Prompt for fusion</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A4" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A5" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Prompt for baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A6" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">F </span>Analysis of fusion strategies</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A7" title="In Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">G </span>AI Tool Usage Instructions</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">Controlling Risk of Retrieval-augmented Generation: 
<br class="ltx_break"/>A Counterfactual Prompting Framework</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Lu Chen<sup class="ltx_sup" id="id1.1.id1">1,2</sup>,
Ruqing Zhang<sup class="ltx_sup" id="id2.2.id2">1,2</sup>,
Jiafeng Guo<sup class="ltx_sup" id="id3.3.id3">1,2</sup>,
Yixing Fan<sup class="ltx_sup" id="id4.4.id4">1,2</sup>,
Xueqi Cheng<sup class="ltx_sup" id="id5.5.id5">1,2</sup>
<br class="ltx_break"/><sup class="ltx_sup" id="id6.6.id6">1</sup>CAS Key Lab of Network Data Science and Technology, ICT, CAS, Beijing, China
<br class="ltx_break"/><sup class="ltx_sup" id="id7.7.id7">2</sup>University of Chinese Academy of Sciences, Beijing, China
<br class="ltx_break"/>{chenlu19z, zhangruqing, guojiafeng, fanyixing, cxq}@ict.ac.cn

<br class="ltx_break"/>
</span><span class="ltx_author_notes">Corresponding author</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id8.id1">Retrieval-augmented generation (RAG) has emerged as a popular solution to mitigate the hallucination issues of large language models.
However, existing studies on RAG seldom address the issue of predictive uncertainty, i.e., how likely it is that a RAG model’s prediction is incorrect, resulting in uncontrollable risks in real-world applications.
In this work, we emphasize the importance of risk control, ensuring that RAG models proactively refuse to answer questions with low confidence.
Our research identifies two critical latent factors affecting RAG’s confidence in its predictions: the quality of the retrieved results and the manner in which these results are utilized.
To guide RAG models in assessing their own confidence based on these two latent factors, we develop a counterfactual prompting framework that induces the models to alter these factors and analyzes the effect on their answers.
We also introduce a benchmarking procedure to collect answers with the option to abstain, facilitating a series of experiments.
For evaluation, we introduce several risk-related metrics and
the experimental results demonstrate the effectiveness
of our approach.
Our code and benchmark dataset are available at https://github.com/ict-bigdatalab/RC-RAG.</p>
</div>
<div class="ltx_para ltx_noindent" id="p1">
<div class="ltx_block ltx_align_bottom" id="p1.1">
<p class="ltx_p" id="p1.1.1"><span class="ltx_text ltx_font_bold" id="p1.1.1.1">Controlling Risk of Retrieval-augmented Generation: 
<br class="ltx_break"/>A Counterfactual Prompting Framework</span></p>
<br class="ltx_break ltx_centering"/>
<p class="ltx_p ltx_align_center" id="p1.1.2" style="width:433.6pt;"><span class="ltx_text ltx_inline-block" id="p1.1.2.1" style="width:0.0pt;">
<span class="ltx_tabular ltx_align_top" id="p1.1.2.1.1">
<span class="ltx_tbody">
<span class="ltx_tr" id="p1.1.2.1.1.1.1">
<span class="ltx_td ltx_align_center" id="p1.1.2.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="p1.1.2.1.1.1.1.1.1">Lu Chen<sup class="ltx_sup" id="p1.1.2.1.1.1.1.1.1.1">1,2</sup>,
Ruqing Zhang<sup class="ltx_sup" id="p1.1.2.1.1.1.1.1.1.2">1,2</sup>,
Jiafeng Guo<sup class="ltx_sup" id="p1.1.2.1.1.1.1.1.1.3">1,2</sup><span class="ltx_note ltx_role_thanks" id="p1.1.2.1.1.1.1.1.1.4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">thanks: </span>Corresponding author</span></span></span>,
Yixing Fan<sup class="ltx_sup" id="p1.1.2.1.1.1.1.1.1.5">1,2</sup>,
Xueqi Cheng<sup class="ltx_sup" id="p1.1.2.1.1.1.1.1.1.6">1,2</sup></span></span></span>
<span class="ltx_tr" id="p1.1.2.1.1.2.2">
<span class="ltx_td ltx_align_center" id="p1.1.2.1.1.2.2.1"><sup class="ltx_sup" id="p1.1.2.1.1.2.2.1.1">1</sup>CAS Key Lab of Network Data Science and Technology, ICT, CAS, Beijing, China</span></span>
<span class="ltx_tr" id="p1.1.2.1.1.3.3">
<span class="ltx_td ltx_align_center" id="p1.1.2.1.1.3.3.1"><sup class="ltx_sup" id="p1.1.2.1.1.3.3.1.1">2</sup>University of Chinese Academy of Sciences, Beijing, China</span></span>
<span class="ltx_tr" id="p1.1.2.1.1.4.4">
<span class="ltx_td ltx_align_center" id="p1.1.2.1.1.4.4.1">{chenlu19z, zhangruqing, guojiafeng, fanyixing, cxq}@ict.ac.cn</span></span>
</span>
</span></span></p>
<br class="ltx_break ltx_centering"/>
</div>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="1149" id="S1.F1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Illustration of risk control for RAG. Given a question, a risk controlled RAG model is expected to provide the correct answer if it has knowledge of the question, or alternatively, refuses to answer the question.</figcaption>
</figure>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Large language models (LLMs) have gained considerable attention across a wide range of language tasks <cite class="ltx_cite ltx_citemacro_cite">Brown et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib8" title="">2020</a>); Kandpal et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib19" title="">2023</a>); Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib23" title="">2023b</a>); Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib46" title="">2023</a>)</cite>.
Despite the exciting performance, LLMs may suffer from hallucination issues <cite class="ltx_cite ltx_citemacro_cite">Ye et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib55" title="">2023</a>); Azamfirei et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib5" title="">2023</a>)</cite>, due to limited memorization abilities or outdated pre-training corpora <cite class="ltx_cite ltx_citemacro_cite">Longpre et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib27" title="">2021</a>); Xie et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib51" title="">2023</a>)</cite>.
Recently, retrieval-augmented generation (RAG) has emerged as a promising solution to enhance factual accuracy <cite class="ltx_cite ltx_citemacro_cite">Kandpal et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib19" title="">2023</a>); Xie et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib51" title="">2023</a>); Gao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib11" title="">2023</a>)</cite>, by synthesizing text snippets retrieved from external resources into final responses <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib59" title="">2023</a>); Ram et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib37" title="">2023</a>); Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib14" title="">2023</a>); Petroni et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib34" title="">2021</a>); Ai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib3" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">However, directly applying existing RAG techniques, particularly for knowledge-intensive tasks <cite class="ltx_cite ltx_citemacro_cite">Thorne et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib44" title="">2018</a>); Yang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib54" title="">2018</a>); Petroni et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib34" title="">2021</a>)</cite> such as factoid question answering <cite class="ltx_cite ltx_citemacro_cite">Aghaebrahimian and Jurcícek (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib2" title="">2016</a>); Aghaebrahimian (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib1" title="">2018</a>)</cite>, introduces significant risks in practice.
When confronted with noisy search results, even the most advanced RAG models are prone to producing unreliable answers, often exhibiting overconfidence in these erroneous responses <cite class="ltx_cite ltx_citemacro_cite">Yang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib53" title="">2023</a>); Ren et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib38" title="">2023</a>)</cite>.
Such unreliable answers may severely undermine the user’s question answering (QA) experience.
Therefore, for practical applications, especially in sensitive domains like healthcare and legal assistance, it is crucial that RAG systems confidently provide answers when they know and state “I don’t know” when they do not, as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">1</span></a>.
This calls for the investigation on the risk control issue of RAG, a core research problem we want to tackle in this work.
This approach reflects wisdom, as it involves RAG models proactively refusing to answer questions when predictions are uncertain.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Unfortunately, most previous research on risk control has focused on LLMs <cite class="ltx_cite ltx_citemacro_cite">Tian et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib45" title="">2023</a>); Lin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib25" title="">2023</a>); Feng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib10" title="">2024</a>)</cite>.
There has been little work addressing the predictive uncertainty issue of RAG.
Compared to the uncertainty assessment of LLMs, which concentrates on internal knowledge boundaries, the assessment for RAG requires additional consideration of external knowledge from retrieved results.
In this work, we identify two critical factors during the uncertainty assessment of RAG: <em class="ltx_emph ltx_font_italic" id="S1.p3.1.1">the quality of the retrieved results and the manner in which they are used</em>.
This raises an important research question: <em class="ltx_emph ltx_font_italic" id="S1.p3.1.2">how can we assess the predictive uncertainty of RAG based on these two retrieval results-related factors to determine when to discard or keep the generated answers</em>?</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">In this work, we propose a new task of risk control for RAG (RC-RAG) to decide whether to keep or discard the RAG outputs based on confidence assessment.
We then introduce a novel <em class="ltx_emph ltx_font_italic" id="S1.p4.1.1">counterfactual prompting framework for RAG</em> under the zero-shot scenario, leveraging the counterfactual thinking for confidence assessment based on two latent factors.
Counterfactual <cite class="ltx_cite ltx_citemacro_cite">Pearl (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib33" title="">2009</a>)</cite> describes the human capacity to learn from prior experiences by imagining the outcomes of alternative actions that could have been taken.
For a language model, we can inject counterfactual thinking into prompt, like “what if…” or “assume that”, to imagine or simulate the consequences of changing a factor.
Here, we induce the model to imagine scenarios where the quality of the retrieved results and their usage are poor, then measure its confidence based on the effect of these imagined scenarios on the answers.
Specifically, our framework consists of three major modules, i.e., a prompting generation module, a judgment module, and a fusion module:

<span class="ltx_inline-enumerate" id="S1.I1">
<span class="ltx_inline-item" id="S1.I1.i1"><span class="ltx_tag ltx_tag_inline-item">(i)</span> <span class="ltx_text" id="S1.I1.i1.1">the prompting generation module generates answers under two scenarios that challenges the improper use and poor quality of the retrieved results, respectively;
</span></span>
<span class="ltx_inline-item" id="S1.I1.i2"><span class="ltx_tag ltx_tag_inline-item">(ii)</span> <span class="ltx_text" id="S1.I1.i2.1">the judgment module determines whether to discard or keep the generated answers for both scenarios; and
</span></span>
<span class="ltx_inline-item" id="S1.I1.i3"><span class="ltx_tag ltx_tag_inline-item">(iii)</span> <span class="ltx_text" id="S1.I1.i3.1">the fusion module combines the judgment results from both scenarios to produce the final decision for selective output.
</span></span>
</span>
In order to avoid overestimating confidence affecting risk control, the prompting generation module and the judgment module are executed iteratively to produce the judgment for each scenario.
It is important to note that our method is a general post-processing technique, making it applicable to almost any existing RAG method.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">For evaluation, traditional metrics like Exact Match and F1 score typically focus on the effectiveness of RAG. In this work, we propose four risk-related metrics - <em class="ltx_emph ltx_font_italic" id="S1.p5.1.1">risk</em>, <em class="ltx_emph ltx_font_italic" id="S1.p5.1.2">carefulness</em>, <em class="ltx_emph ltx_font_italic" id="S1.p5.1.3">alignment</em>, and <em class="ltx_emph ltx_font_italic" id="S1.p5.1.4">coverage</em> - for risk-aware RAG evaluation.
Due to the limited availability of datasets directly applicable to RC-RAG, we have constructed a novel risk control benchmark based on two publicly available QA datasets.
Extensive experiments on RAG with Mistral <cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib15" title="">2024</a>)</cite> and ChatGPT <cite class="ltx_cite ltx_citemacro_cite">Roumeliotis and Tselikas (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib39" title="">2023</a>)</cite> as backbones demonstrate that the proposed framework can effectively abstain, outperforming baselines in 3 out of the 4 settings in terms of carefulness and risk, with up to a 14.76% improvement in carefulness and a 2.88% reduction in risk on average.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related work</h2>
<div class="ltx_para ltx_noindent" id="S2.p1">
<p class="ltx_p" id="S2.p1.1"><span class="ltx_text ltx_font_bold" id="S2.p1.1.1">Retrieval-augmented generation.</span>
The typical retrieval-augmented generation (RAG) method follows a retrieve-then-generate pipeline, first retrieving relevant documents from a grounding corpus and then generating the final answer by the frozen generators <cite class="ltx_cite ltx_citemacro_cite">Shi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib40" title="">2023</a>); Ram et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib37" title="">2023</a>)</cite>.
The retrieval augmentation is performed for all the questions through a single round <cite class="ltx_cite ltx_citemacro_cite">Lewis et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib21" title="">2020</a>); Guu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib12" title="">2020</a>); Izacard and Grave (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib13" title="">2021</a>); Shi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib40" title="">2023</a>)</cite> or multiple rounds <cite class="ltx_cite ltx_citemacro_cite">Borgeaud et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib7" title="">2021</a>); Ram et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib37" title="">2023</a>); Trivedi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib47" title="">2023</a>); Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib16" title="">2023</a>); Liu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib26" title="">2024</a>)</cite>.
However, such practice sometimes hurt generation performance, due to the unsatisfactory retrieved results <cite class="ltx_cite ltx_citemacro_cite">Mallen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib28" title="">2023</a>); Ren et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib38" title="">2023</a>); Yoran et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib57" title="">2023</a>); Tan et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib43" title="">2024</a>)</cite>.
The reason may lie in the inconsistency between the relevance judgments in retrieval stage and the utility judgments in generation stage <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib58" title="">2024</a>)</cite>.
Besides jointly optimization of the retriever and generator <cite class="ltx_cite ltx_citemacro_cite">Guu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib12" title="">2020</a>); Lewis et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib21" title="">2020</a>); Singh et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib41" title="">2021</a>); Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib14" title="">2023</a>)</cite>,</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">another solution is adaptive retrieval augmentation <cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib16" title="">2023</a>); Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib4" title="">2023</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib49" title="">2023</a>)</cite>, which actively determines when to retrieve based on internal knowledge boundaries.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p3">
<p class="ltx_p" id="S2.p3.1"><span class="ltx_text ltx_font_bold" id="S2.p3.1.1">Knowledge boundary.</span>
Detecting what LLMs know and do not know measures the boundary of models’ internal knowledge, which can be applied to determine when to abstain it <cite class="ltx_cite ltx_citemacro_cite">Kadavath et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib18" title="">2022</a>); Yang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib53" title="">2023</a>)</cite>.
The basic realization involves prompting one LLM to either verify in advance or to self-reflect on its response afterward <cite class="ltx_cite ltx_citemacro_cite">Ren et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib38" title="">2023</a>); Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib24" title="">2024</a>)</cite>.
It works for almost all LLMs, but there is a problem of overconfidence <cite class="ltx_cite ltx_citemacro_cite">Yin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib56" title="">2023</a>)</cite>.
Self-consistency between multiple inference also reflects the models’ answering ability <cite class="ltx_cite ltx_citemacro_cite">Manakul et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib29" title="">2023</a>)</cite>, which is widely applicable but of high cost.
Calibration-based methods obtain uncertainty or confidence scores of answers based on factors such as entropy, and token probability <cite class="ltx_cite ltx_citemacro_cite">Lin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib25" title="">2023</a>); Yang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib53" title="">2023</a>)</cite>. A threshold is set to reject answers with low scores.
Besides, some work elicits self-knowledge by referring to existing cases, which needs labeled samples.
Through instruction tuning <cite class="ltx_cite ltx_citemacro_cite">Ouyang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib32" title="">2022</a>)</cite> or applying a small trainable model as classifier <cite class="ltx_cite ltx_citemacro_cite">Slobodkin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib42" title="">2023</a>); Azaria and Mitchell (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib6" title="">2023</a>)</cite>, LLMs can choose to abstain the answer when facing new questions.
However, the limitation of the aforementioned work is that it only examines confidence when using internal knowledge, without considering the confidence when integrating external knowledge under the RAG setting.
Though some work deals with knowledge conflict between the internal knowledge and external knowledge <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib22" title="">2023a</a>); Xie et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib51" title="">2023</a>); Qian et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib36" title="">2023</a>); Tan et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib43" title="">2024</a>)</cite>, it seldom rejects the RAG results, under the assumption that at least one kind of knowledge is true.
This assumption is not conducive to risk control of RAG, since the retrieval results may contain noise.
Therefore, in this work, we explore possible ways to control risk by discarding the RAG results, especially designed for external knowledge from retrieval results.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p4">
<p class="ltx_p" id="S2.p4.1"><span class="ltx_text ltx_font_bold" id="S2.p4.1.1">Counterfactual thinking.</span>
As the third level of the causal ladder after association and intervention, counterfactual reflects causality by imagining “what would the outcome be had the variable(s) been different” <cite class="ltx_cite ltx_citemacro_cite">Pearl (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib33" title="">2009</a>); Nan et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib30" title="">2021</a>)</cite>.
Counterfactual inference helps model unchanging causal mechanisms for better generalization and debias, which can be utilized for text classification, visual question answering, recommendation system and so on <cite class="ltx_cite ltx_citemacro_cite">Qian et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib35" title="">2021</a>); Niu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib31" title="">2021</a>); Wei et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib50" title="">2021</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib48" title="">2022</a>); Deng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib9" title="">2023</a>)</cite>.
It can calibrate causal effects through mediation analysis, by estimating the total effect and then eliminating the undesired effect <cite class="ltx_cite ltx_citemacro_cite">Xie et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib52" title="">2021</a>)</cite>.
Different from these works, we focus on injecting counterfactual thinking into the prompt to better apply RaLLMs.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Problem statement</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Task description</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.6">The RC-RAG task aims at assessing confidence or uncertainty of RAG answer to enable risk control in RAG.
Formally, given a question <math alttext="Q" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">italic_Q</annotation></semantics></math> and a group of retrieved passages <math alttext="P" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><mi id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">P</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">italic_P</annotation></semantics></math>, the task outputs the answer <math alttext="A" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.1"><semantics id="S3.SS1.p1.3.m3.1a"><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">A</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.1d">italic_A</annotation></semantics></math> along with a judgment label <math alttext="J\in\{0,1\}" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.2"><semantics id="S3.SS1.p1.4.m4.2a"><mrow id="S3.SS1.p1.4.m4.2.3" xref="S3.SS1.p1.4.m4.2.3.cmml"><mi id="S3.SS1.p1.4.m4.2.3.2" xref="S3.SS1.p1.4.m4.2.3.2.cmml">J</mi><mo id="S3.SS1.p1.4.m4.2.3.1" xref="S3.SS1.p1.4.m4.2.3.1.cmml">∈</mo><mrow id="S3.SS1.p1.4.m4.2.3.3.2" xref="S3.SS1.p1.4.m4.2.3.3.1.cmml"><mo id="S3.SS1.p1.4.m4.2.3.3.2.1" stretchy="false" xref="S3.SS1.p1.4.m4.2.3.3.1.cmml">{</mo><mn id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">0</mn><mo id="S3.SS1.p1.4.m4.2.3.3.2.2" xref="S3.SS1.p1.4.m4.2.3.3.1.cmml">,</mo><mn id="S3.SS1.p1.4.m4.2.2" xref="S3.SS1.p1.4.m4.2.2.cmml">1</mn><mo id="S3.SS1.p1.4.m4.2.3.3.2.3" stretchy="false" xref="S3.SS1.p1.4.m4.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.2b"><apply id="S3.SS1.p1.4.m4.2.3.cmml" xref="S3.SS1.p1.4.m4.2.3"><in id="S3.SS1.p1.4.m4.2.3.1.cmml" xref="S3.SS1.p1.4.m4.2.3.1"></in><ci id="S3.SS1.p1.4.m4.2.3.2.cmml" xref="S3.SS1.p1.4.m4.2.3.2">𝐽</ci><set id="S3.SS1.p1.4.m4.2.3.3.1.cmml" xref="S3.SS1.p1.4.m4.2.3.3.2"><cn id="S3.SS1.p1.4.m4.1.1.cmml" type="integer" xref="S3.SS1.p1.4.m4.1.1">0</cn><cn id="S3.SS1.p1.4.m4.2.2.cmml" type="integer" xref="S3.SS1.p1.4.m4.2.2">1</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.2c">J\in\{0,1\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.2d">italic_J ∈ { 0 , 1 }</annotation></semantics></math>.
For the samples with high confidence, the judgment label <math alttext="J" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><mi id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">J</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">𝐽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">J</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">italic_J</annotation></semantics></math> is set as 1, indicating that the RAG answer could be <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.6.1">kept</span>.
Oppositely, <math alttext="J=0" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.1"><semantics id="S3.SS1.p1.6.m6.1a"><mrow id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.p1.6.m6.1.1.2" xref="S3.SS1.p1.6.m6.1.1.2.cmml">J</mi><mo id="S3.SS1.p1.6.m6.1.1.1" xref="S3.SS1.p1.6.m6.1.1.1.cmml">=</mo><mn id="S3.SS1.p1.6.m6.1.1.3" xref="S3.SS1.p1.6.m6.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><eq id="S3.SS1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1.1"></eq><ci id="S3.SS1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.2">𝐽</ci><cn id="S3.SS1.p1.6.m6.1.1.3.cmml" type="integer" xref="S3.SS1.p1.6.m6.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">J=0</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.1d">italic_J = 0</annotation></semantics></math> is set for those uncertain output of RAG, which should be <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.6.2">discarded</span>.
Ideally, the assessment of confidence should align with the extent to which RAG knowledge supports the correct answer.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Benchmark</h3>
<div class="ltx_para ltx_noindent" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p1.1.1">Data.</span>
To our best knowledge, there is limited available dataset that can be directly used for risk control for RAG. Therefore, we construct a RC-RAG benchmark composed of quadruple &lt;<math alttext="Q,P,A,J" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.4"><semantics id="S3.SS2.p1.1.m1.4a"><mrow id="S3.SS2.p1.1.m1.4.5.2" xref="S3.SS2.p1.1.m1.4.5.1.cmml"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">Q</mi><mo id="S3.SS2.p1.1.m1.4.5.2.1" xref="S3.SS2.p1.1.m1.4.5.1.cmml">,</mo><mi id="S3.SS2.p1.1.m1.2.2" xref="S3.SS2.p1.1.m1.2.2.cmml">P</mi><mo id="S3.SS2.p1.1.m1.4.5.2.2" xref="S3.SS2.p1.1.m1.4.5.1.cmml">,</mo><mi id="S3.SS2.p1.1.m1.3.3" xref="S3.SS2.p1.1.m1.3.3.cmml">A</mi><mo id="S3.SS2.p1.1.m1.4.5.2.3" xref="S3.SS2.p1.1.m1.4.5.1.cmml">,</mo><mi id="S3.SS2.p1.1.m1.4.4" xref="S3.SS2.p1.1.m1.4.4.cmml">J</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.4b"><list id="S3.SS2.p1.1.m1.4.5.1.cmml" xref="S3.SS2.p1.1.m1.4.5.2"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝑄</ci><ci id="S3.SS2.p1.1.m1.2.2.cmml" xref="S3.SS2.p1.1.m1.2.2">𝑃</ci><ci id="S3.SS2.p1.1.m1.3.3.cmml" xref="S3.SS2.p1.1.m1.3.3">𝐴</ci><ci id="S3.SS2.p1.1.m1.4.4.cmml" xref="S3.SS2.p1.1.m1.4.4">𝐽</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.4c">Q,P,A,J</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.4d">italic_Q , italic_P , italic_A , italic_J</annotation></semantics></math>&gt; through automatic annotation.
In the following, we introduce the data source and collection process of this benchmark.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1"><em class="ltx_emph ltx_font_italic" id="S3.SS2.p2.1.1">Data source.</em>
In this work, we focus on factoid question answering (FQA) <cite class="ltx_cite ltx_citemacro_cite">Aghaebrahimian and Jurcícek (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib2" title="">2016</a>); Aghaebrahimian (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib1" title="">2018</a>)</cite>, which typically provides a limited number of short answers, such as entities or numbers, and therefore carries a higher risk compared to non-factoid QA.
We collect questions from two widely used datasets including Natural Questions (NQ) <cite class="ltx_cite ltx_citemacro_cite">Kwiatkowski et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib20" title="">2019</a>)</cite> and TriviaQA (TQ) <cite class="ltx_cite ltx_citemacro_cite">Joshi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib17" title="">2017</a>)</cite>.
Since we focus on a zero-shot scenario, we collect question <math alttext="Q" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">italic_Q</annotation></semantics></math> from their test sets.</p>
</div>
<figure class="ltx_table" id="S3.T1">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T1.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="S3.T1.1.1.1.1" style="padding-left:7.0pt;padding-right:7.0pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S3.T1.1.1.1.2" style="padding-left:7.0pt;padding-right:7.0pt;">
<span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.2.1">RC-TQ</span> (7785)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S3.T1.1.1.1.3" style="padding-left:7.0pt;padding-right:7.0pt;">
<span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.3.1">RC-NQ</span> (3610)</th>
</tr>
<tr class="ltx_tr" id="S3.T1.1.2.2">
<th class="ltx_td ltx_th ltx_th_row" id="S3.T1.1.2.2.1" style="padding-left:7.0pt;padding-right:7.0pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.2.2.2" style="padding-left:7.0pt;padding-right:7.0pt;">TQ-A</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.2.2.3" style="padding-left:7.0pt;padding-right:7.0pt;">TQ-U</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.2.2.4" style="padding-left:7.0pt;padding-right:7.0pt;">NQ-A</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.1.2.2.5" style="padding-left:7.0pt;padding-right:7.0pt;">NQ-U</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T1.1.3.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S3.T1.1.3.1.1" style="padding-left:7.0pt;padding-right:7.0pt;">ChatGPT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.1.2" style="padding-left:7.0pt;padding-right:7.0pt;">5551</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.1.3" style="padding-left:7.0pt;padding-right:7.0pt;">2234</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.1.4" style="padding-left:7.0pt;padding-right:7.0pt;">1785</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.1.5" style="padding-left:7.0pt;padding-right:7.0pt;">1825</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.4.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="S3.T1.1.4.2.1" style="padding-left:7.0pt;padding-right:7.0pt;">Mistral</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.4.2.2" style="padding-left:7.0pt;padding-right:7.0pt;">5553</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.4.2.3" style="padding-left:7.0pt;padding-right:7.0pt;">2232</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.4.2.4" style="padding-left:7.0pt;padding-right:7.0pt;">1830</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.4.2.5" style="padding-left:7.0pt;padding-right:7.0pt;">1780</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Statistics of the full test sets and annotated results of answerable (A) and unanswerable (U) samples.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.2"><em class="ltx_emph ltx_font_italic" id="S3.SS2.p3.2.1">Data collection.</em>
We further collect <math alttext="P,A,J" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.3"><semantics id="S3.SS2.p3.1.m1.3a"><mrow id="S3.SS2.p3.1.m1.3.4.2" xref="S3.SS2.p3.1.m1.3.4.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml">P</mi><mo id="S3.SS2.p3.1.m1.3.4.2.1" xref="S3.SS2.p3.1.m1.3.4.1.cmml">,</mo><mi id="S3.SS2.p3.1.m1.2.2" xref="S3.SS2.p3.1.m1.2.2.cmml">A</mi><mo id="S3.SS2.p3.1.m1.3.4.2.2" xref="S3.SS2.p3.1.m1.3.4.1.cmml">,</mo><mi id="S3.SS2.p3.1.m1.3.3" xref="S3.SS2.p3.1.m1.3.3.cmml">J</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.3b"><list id="S3.SS2.p3.1.m1.3.4.1.cmml" xref="S3.SS2.p3.1.m1.3.4.2"><ci id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">𝑃</ci><ci id="S3.SS2.p3.1.m1.2.2.cmml" xref="S3.SS2.p3.1.m1.2.2">𝐴</ci><ci id="S3.SS2.p3.1.m1.3.3.cmml" xref="S3.SS2.p3.1.m1.3.3">𝐽</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.3c">P,A,J</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.3d">italic_P , italic_A , italic_J</annotation></semantics></math> based on questions <math alttext="Q" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m2.1"><semantics id="S3.SS2.p3.2.m2.1a"><mi id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><ci id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m2.1d">italic_Q</annotation></semantics></math> in the data source.</p>
<ul class="ltx_itemize" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.2"><span class="ltx_text ltx_font_bold" id="S3.I1.i1.p1.2.1">Passage collection.</span> For each question <math alttext="q\in Q" class="ltx_Math" display="inline" id="S3.I1.i1.p1.1.m1.1"><semantics id="S3.I1.i1.p1.1.m1.1a"><mrow id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml"><mi id="S3.I1.i1.p1.1.m1.1.1.2" xref="S3.I1.i1.p1.1.m1.1.1.2.cmml">q</mi><mo id="S3.I1.i1.p1.1.m1.1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.1.cmml">∈</mo><mi id="S3.I1.i1.p1.1.m1.1.1.3" xref="S3.I1.i1.p1.1.m1.1.1.3.cmml">Q</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.1b"><apply id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1"><in id="S3.I1.i1.p1.1.m1.1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1.1"></in><ci id="S3.I1.i1.p1.1.m1.1.1.2.cmml" xref="S3.I1.i1.p1.1.m1.1.1.2">𝑞</ci><ci id="S3.I1.i1.p1.1.m1.1.1.3.cmml" xref="S3.I1.i1.p1.1.m1.1.1.3">𝑄</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.1c">q\in Q</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.1.m1.1d">italic_q ∈ italic_Q</annotation></semantics></math>, we utilize a dense retriever to retrieve top-k relevant passages <math alttext="p=\{p_{1},...,p_{k}\}" class="ltx_Math" display="inline" id="S3.I1.i1.p1.2.m2.3"><semantics id="S3.I1.i1.p1.2.m2.3a"><mrow id="S3.I1.i1.p1.2.m2.3.3" xref="S3.I1.i1.p1.2.m2.3.3.cmml"><mi id="S3.I1.i1.p1.2.m2.3.3.4" xref="S3.I1.i1.p1.2.m2.3.3.4.cmml">p</mi><mo id="S3.I1.i1.p1.2.m2.3.3.3" xref="S3.I1.i1.p1.2.m2.3.3.3.cmml">=</mo><mrow id="S3.I1.i1.p1.2.m2.3.3.2.2" xref="S3.I1.i1.p1.2.m2.3.3.2.3.cmml"><mo id="S3.I1.i1.p1.2.m2.3.3.2.2.3" stretchy="false" xref="S3.I1.i1.p1.2.m2.3.3.2.3.cmml">{</mo><msub id="S3.I1.i1.p1.2.m2.2.2.1.1.1" xref="S3.I1.i1.p1.2.m2.2.2.1.1.1.cmml"><mi id="S3.I1.i1.p1.2.m2.2.2.1.1.1.2" xref="S3.I1.i1.p1.2.m2.2.2.1.1.1.2.cmml">p</mi><mn id="S3.I1.i1.p1.2.m2.2.2.1.1.1.3" xref="S3.I1.i1.p1.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.I1.i1.p1.2.m2.3.3.2.2.4" xref="S3.I1.i1.p1.2.m2.3.3.2.3.cmml">,</mo><mi id="S3.I1.i1.p1.2.m2.1.1" mathvariant="normal" xref="S3.I1.i1.p1.2.m2.1.1.cmml">…</mi><mo id="S3.I1.i1.p1.2.m2.3.3.2.2.5" xref="S3.I1.i1.p1.2.m2.3.3.2.3.cmml">,</mo><msub id="S3.I1.i1.p1.2.m2.3.3.2.2.2" xref="S3.I1.i1.p1.2.m2.3.3.2.2.2.cmml"><mi id="S3.I1.i1.p1.2.m2.3.3.2.2.2.2" xref="S3.I1.i1.p1.2.m2.3.3.2.2.2.2.cmml">p</mi><mi id="S3.I1.i1.p1.2.m2.3.3.2.2.2.3" xref="S3.I1.i1.p1.2.m2.3.3.2.2.2.3.cmml">k</mi></msub><mo id="S3.I1.i1.p1.2.m2.3.3.2.2.6" stretchy="false" xref="S3.I1.i1.p1.2.m2.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.2.m2.3b"><apply id="S3.I1.i1.p1.2.m2.3.3.cmml" xref="S3.I1.i1.p1.2.m2.3.3"><eq id="S3.I1.i1.p1.2.m2.3.3.3.cmml" xref="S3.I1.i1.p1.2.m2.3.3.3"></eq><ci id="S3.I1.i1.p1.2.m2.3.3.4.cmml" xref="S3.I1.i1.p1.2.m2.3.3.4">𝑝</ci><set id="S3.I1.i1.p1.2.m2.3.3.2.3.cmml" xref="S3.I1.i1.p1.2.m2.3.3.2.2"><apply id="S3.I1.i1.p1.2.m2.2.2.1.1.1.cmml" xref="S3.I1.i1.p1.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.p1.2.m2.2.2.1.1.1.1.cmml" xref="S3.I1.i1.p1.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.I1.i1.p1.2.m2.2.2.1.1.1.2.cmml" xref="S3.I1.i1.p1.2.m2.2.2.1.1.1.2">𝑝</ci><cn id="S3.I1.i1.p1.2.m2.2.2.1.1.1.3.cmml" type="integer" xref="S3.I1.i1.p1.2.m2.2.2.1.1.1.3">1</cn></apply><ci id="S3.I1.i1.p1.2.m2.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1">…</ci><apply id="S3.I1.i1.p1.2.m2.3.3.2.2.2.cmml" xref="S3.I1.i1.p1.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.I1.i1.p1.2.m2.3.3.2.2.2.1.cmml" xref="S3.I1.i1.p1.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S3.I1.i1.p1.2.m2.3.3.2.2.2.2.cmml" xref="S3.I1.i1.p1.2.m2.3.3.2.2.2.2">𝑝</ci><ci id="S3.I1.i1.p1.2.m2.3.3.2.2.2.3.cmml" xref="S3.I1.i1.p1.2.m2.3.3.2.2.2.3">𝑘</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.2.m2.3c">p=\{p_{1},...,p_{k}\}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.2.m2.3d">italic_p = { italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_p start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT }</annotation></semantics></math> from external resources.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.3"><span class="ltx_text ltx_font_bold" id="S3.I1.i2.p1.3.1">Answer generation.</span>
Then, we prompt the LLM <math alttext="f" class="ltx_Math" display="inline" id="S3.I1.i2.p1.1.m1.1"><semantics id="S3.I1.i2.p1.1.m1.1a"><mi id="S3.I1.i2.p1.1.m1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.1b"><ci id="S3.I1.i2.p1.1.m1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.1c">f</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.1.m1.1d">italic_f</annotation></semantics></math> to generate the answer <math alttext="\hat{a}^{f}" class="ltx_Math" display="inline" id="S3.I1.i2.p1.2.m2.1"><semantics id="S3.I1.i2.p1.2.m2.1a"><msup id="S3.I1.i2.p1.2.m2.1.1" xref="S3.I1.i2.p1.2.m2.1.1.cmml"><mover accent="true" id="S3.I1.i2.p1.2.m2.1.1.2" xref="S3.I1.i2.p1.2.m2.1.1.2.cmml"><mi id="S3.I1.i2.p1.2.m2.1.1.2.2" xref="S3.I1.i2.p1.2.m2.1.1.2.2.cmml">a</mi><mo id="S3.I1.i2.p1.2.m2.1.1.2.1" xref="S3.I1.i2.p1.2.m2.1.1.2.1.cmml">^</mo></mover><mi id="S3.I1.i2.p1.2.m2.1.1.3" xref="S3.I1.i2.p1.2.m2.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.2.m2.1b"><apply id="S3.I1.i2.p1.2.m2.1.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.2.m2.1.1.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1">superscript</csymbol><apply id="S3.I1.i2.p1.2.m2.1.1.2.cmml" xref="S3.I1.i2.p1.2.m2.1.1.2"><ci id="S3.I1.i2.p1.2.m2.1.1.2.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1.2.1">^</ci><ci id="S3.I1.i2.p1.2.m2.1.1.2.2.cmml" xref="S3.I1.i2.p1.2.m2.1.1.2.2">𝑎</ci></apply><ci id="S3.I1.i2.p1.2.m2.1.1.3.cmml" xref="S3.I1.i2.p1.2.m2.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.2.m2.1c">\hat{a}^{f}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.2.m2.1d">over^ start_ARG italic_a end_ARG start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> for each question-passage pair <math alttext="\{q,p\}" class="ltx_Math" display="inline" id="S3.I1.i2.p1.3.m3.2"><semantics id="S3.I1.i2.p1.3.m3.2a"><mrow id="S3.I1.i2.p1.3.m3.2.3.2" xref="S3.I1.i2.p1.3.m3.2.3.1.cmml"><mo id="S3.I1.i2.p1.3.m3.2.3.2.1" stretchy="false" xref="S3.I1.i2.p1.3.m3.2.3.1.cmml">{</mo><mi id="S3.I1.i2.p1.3.m3.1.1" xref="S3.I1.i2.p1.3.m3.1.1.cmml">q</mi><mo id="S3.I1.i2.p1.3.m3.2.3.2.2" xref="S3.I1.i2.p1.3.m3.2.3.1.cmml">,</mo><mi id="S3.I1.i2.p1.3.m3.2.2" xref="S3.I1.i2.p1.3.m3.2.2.cmml">p</mi><mo id="S3.I1.i2.p1.3.m3.2.3.2.3" stretchy="false" xref="S3.I1.i2.p1.3.m3.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.3.m3.2b"><set id="S3.I1.i2.p1.3.m3.2.3.1.cmml" xref="S3.I1.i2.p1.3.m3.2.3.2"><ci id="S3.I1.i2.p1.3.m3.1.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1">𝑞</ci><ci id="S3.I1.i2.p1.3.m3.2.2.cmml" xref="S3.I1.i2.p1.3.m3.2.2">𝑝</ci></set></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.3.m3.2c">\{q,p\}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.3.m3.2d">{ italic_q , italic_p }</annotation></semantics></math>, by feeding them as model input (prompts can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A3.SS1" title="C.1 Prompt for basic RAG setting ‣ Appendix C Prompt for CF prompting framework ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">C.1</span></a>):</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\hat{a}^{f}=f(q,p)." class="ltx_Math" display="block" id="S3.E1.m1.3"><semantics id="S3.E1.m1.3a"><mrow id="S3.E1.m1.3.3.1" xref="S3.E1.m1.3.3.1.1.cmml"><mrow id="S3.E1.m1.3.3.1.1" xref="S3.E1.m1.3.3.1.1.cmml"><msup id="S3.E1.m1.3.3.1.1.2" xref="S3.E1.m1.3.3.1.1.2.cmml"><mover accent="true" id="S3.E1.m1.3.3.1.1.2.2" xref="S3.E1.m1.3.3.1.1.2.2.cmml"><mi id="S3.E1.m1.3.3.1.1.2.2.2" xref="S3.E1.m1.3.3.1.1.2.2.2.cmml">a</mi><mo id="S3.E1.m1.3.3.1.1.2.2.1" xref="S3.E1.m1.3.3.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.E1.m1.3.3.1.1.2.3" xref="S3.E1.m1.3.3.1.1.2.3.cmml">f</mi></msup><mo id="S3.E1.m1.3.3.1.1.1" xref="S3.E1.m1.3.3.1.1.1.cmml">=</mo><mrow id="S3.E1.m1.3.3.1.1.3" xref="S3.E1.m1.3.3.1.1.3.cmml"><mi id="S3.E1.m1.3.3.1.1.3.2" xref="S3.E1.m1.3.3.1.1.3.2.cmml">f</mi><mo id="S3.E1.m1.3.3.1.1.3.1" xref="S3.E1.m1.3.3.1.1.3.1.cmml">⁢</mo><mrow id="S3.E1.m1.3.3.1.1.3.3.2" xref="S3.E1.m1.3.3.1.1.3.3.1.cmml"><mo id="S3.E1.m1.3.3.1.1.3.3.2.1" stretchy="false" xref="S3.E1.m1.3.3.1.1.3.3.1.cmml">(</mo><mi id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml">q</mi><mo id="S3.E1.m1.3.3.1.1.3.3.2.2" xref="S3.E1.m1.3.3.1.1.3.3.1.cmml">,</mo><mi id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">p</mi><mo id="S3.E1.m1.3.3.1.1.3.3.2.3" stretchy="false" xref="S3.E1.m1.3.3.1.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.3.3.1.2" lspace="0em" xref="S3.E1.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.3b"><apply id="S3.E1.m1.3.3.1.1.cmml" xref="S3.E1.m1.3.3.1"><eq id="S3.E1.m1.3.3.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1"></eq><apply id="S3.E1.m1.3.3.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.2.1.cmml" xref="S3.E1.m1.3.3.1.1.2">superscript</csymbol><apply id="S3.E1.m1.3.3.1.1.2.2.cmml" xref="S3.E1.m1.3.3.1.1.2.2"><ci id="S3.E1.m1.3.3.1.1.2.2.1.cmml" xref="S3.E1.m1.3.3.1.1.2.2.1">^</ci><ci id="S3.E1.m1.3.3.1.1.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.2.2.2">𝑎</ci></apply><ci id="S3.E1.m1.3.3.1.1.2.3.cmml" xref="S3.E1.m1.3.3.1.1.2.3">𝑓</ci></apply><apply id="S3.E1.m1.3.3.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.3"><times id="S3.E1.m1.3.3.1.1.3.1.cmml" xref="S3.E1.m1.3.3.1.1.3.1"></times><ci id="S3.E1.m1.3.3.1.1.3.2.cmml" xref="S3.E1.m1.3.3.1.1.3.2">𝑓</ci><interval closure="open" id="S3.E1.m1.3.3.1.1.3.3.1.cmml" xref="S3.E1.m1.3.3.1.1.3.3.2"><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">𝑞</ci><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">𝑝</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.3c">\hat{a}^{f}=f(q,p).</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.3d">over^ start_ARG italic_a end_ARG start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT = italic_f ( italic_q , italic_p ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
</li>
<li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i3.p1">
<p class="ltx_p" id="S3.I1.i3.p1.3"><span class="ltx_text ltx_font_bold" id="S3.I1.i3.p1.3.1">Judgment annotation.</span>
After that, we annotate <math alttext="j" class="ltx_Math" display="inline" id="S3.I1.i3.p1.1.m1.1"><semantics id="S3.I1.i3.p1.1.m1.1a"><mi id="S3.I1.i3.p1.1.m1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.1.m1.1b"><ci id="S3.I1.i3.p1.1.m1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.1.m1.1c">j</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.1.m1.1d">italic_j</annotation></semantics></math> for each tuple of <math alttext="\{q,p,\hat{a}^{f}\}" class="ltx_Math" display="inline" id="S3.I1.i3.p1.2.m2.3"><semantics id="S3.I1.i3.p1.2.m2.3a"><mrow id="S3.I1.i3.p1.2.m2.3.3.1" xref="S3.I1.i3.p1.2.m2.3.3.2.cmml"><mo id="S3.I1.i3.p1.2.m2.3.3.1.2" stretchy="false" xref="S3.I1.i3.p1.2.m2.3.3.2.cmml">{</mo><mi id="S3.I1.i3.p1.2.m2.1.1" xref="S3.I1.i3.p1.2.m2.1.1.cmml">q</mi><mo id="S3.I1.i3.p1.2.m2.3.3.1.3" xref="S3.I1.i3.p1.2.m2.3.3.2.cmml">,</mo><mi id="S3.I1.i3.p1.2.m2.2.2" xref="S3.I1.i3.p1.2.m2.2.2.cmml">p</mi><mo id="S3.I1.i3.p1.2.m2.3.3.1.4" xref="S3.I1.i3.p1.2.m2.3.3.2.cmml">,</mo><msup id="S3.I1.i3.p1.2.m2.3.3.1.1" xref="S3.I1.i3.p1.2.m2.3.3.1.1.cmml"><mover accent="true" id="S3.I1.i3.p1.2.m2.3.3.1.1.2" xref="S3.I1.i3.p1.2.m2.3.3.1.1.2.cmml"><mi id="S3.I1.i3.p1.2.m2.3.3.1.1.2.2" xref="S3.I1.i3.p1.2.m2.3.3.1.1.2.2.cmml">a</mi><mo id="S3.I1.i3.p1.2.m2.3.3.1.1.2.1" xref="S3.I1.i3.p1.2.m2.3.3.1.1.2.1.cmml">^</mo></mover><mi id="S3.I1.i3.p1.2.m2.3.3.1.1.3" xref="S3.I1.i3.p1.2.m2.3.3.1.1.3.cmml">f</mi></msup><mo id="S3.I1.i3.p1.2.m2.3.3.1.5" stretchy="false" xref="S3.I1.i3.p1.2.m2.3.3.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.2.m2.3b"><set id="S3.I1.i3.p1.2.m2.3.3.2.cmml" xref="S3.I1.i3.p1.2.m2.3.3.1"><ci id="S3.I1.i3.p1.2.m2.1.1.cmml" xref="S3.I1.i3.p1.2.m2.1.1">𝑞</ci><ci id="S3.I1.i3.p1.2.m2.2.2.cmml" xref="S3.I1.i3.p1.2.m2.2.2">𝑝</ci><apply id="S3.I1.i3.p1.2.m2.3.3.1.1.cmml" xref="S3.I1.i3.p1.2.m2.3.3.1.1"><csymbol cd="ambiguous" id="S3.I1.i3.p1.2.m2.3.3.1.1.1.cmml" xref="S3.I1.i3.p1.2.m2.3.3.1.1">superscript</csymbol><apply id="S3.I1.i3.p1.2.m2.3.3.1.1.2.cmml" xref="S3.I1.i3.p1.2.m2.3.3.1.1.2"><ci id="S3.I1.i3.p1.2.m2.3.3.1.1.2.1.cmml" xref="S3.I1.i3.p1.2.m2.3.3.1.1.2.1">^</ci><ci id="S3.I1.i3.p1.2.m2.3.3.1.1.2.2.cmml" xref="S3.I1.i3.p1.2.m2.3.3.1.1.2.2">𝑎</ci></apply><ci id="S3.I1.i3.p1.2.m2.3.3.1.1.3.cmml" xref="S3.I1.i3.p1.2.m2.3.3.1.1.3">𝑓</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.2.m2.3c">\{q,p,\hat{a}^{f}\}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.2.m2.3d">{ italic_q , italic_p , over^ start_ARG italic_a end_ARG start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT }</annotation></semantics></math>.
As mentioned above, this judgment label indicates whether the RAG answer could be kept depending on confidence assessment.
To align with the supporting degree of given knowledge,
we measure whether a sample is answerable approximately according to the correctness of the RAG answer <math alttext="\hat{a}^{f}" class="ltx_Math" display="inline" id="S3.I1.i3.p1.3.m3.1"><semantics id="S3.I1.i3.p1.3.m3.1a"><msup id="S3.I1.i3.p1.3.m3.1.1" xref="S3.I1.i3.p1.3.m3.1.1.cmml"><mover accent="true" id="S3.I1.i3.p1.3.m3.1.1.2" xref="S3.I1.i3.p1.3.m3.1.1.2.cmml"><mi id="S3.I1.i3.p1.3.m3.1.1.2.2" xref="S3.I1.i3.p1.3.m3.1.1.2.2.cmml">a</mi><mo id="S3.I1.i3.p1.3.m3.1.1.2.1" xref="S3.I1.i3.p1.3.m3.1.1.2.1.cmml">^</mo></mover><mi id="S3.I1.i3.p1.3.m3.1.1.3" xref="S3.I1.i3.p1.3.m3.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.3.m3.1b"><apply id="S3.I1.i3.p1.3.m3.1.1.cmml" xref="S3.I1.i3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.I1.i3.p1.3.m3.1.1.1.cmml" xref="S3.I1.i3.p1.3.m3.1.1">superscript</csymbol><apply id="S3.I1.i3.p1.3.m3.1.1.2.cmml" xref="S3.I1.i3.p1.3.m3.1.1.2"><ci id="S3.I1.i3.p1.3.m3.1.1.2.1.cmml" xref="S3.I1.i3.p1.3.m3.1.1.2.1">^</ci><ci id="S3.I1.i3.p1.3.m3.1.1.2.2.cmml" xref="S3.I1.i3.p1.3.m3.1.1.2.2">𝑎</ci></apply><ci id="S3.I1.i3.p1.3.m3.1.1.3.cmml" xref="S3.I1.i3.p1.3.m3.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.3.m3.1c">\hat{a}^{f}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.3.m3.1d">over^ start_ARG italic_a end_ARG start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math>, i.e.,</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="j=\begin{cases}1,&amp;\text{if }\hat{a}^{f}\text{ is correct,}\\
0,&amp;\text{otherwise.}\end{cases}" class="ltx_Math" display="block" id="S3.E2.m1.4"><semantics id="S3.E2.m1.4a"><mrow id="S3.E2.m1.4.5" xref="S3.E2.m1.4.5.cmml"><mi id="S3.E2.m1.4.5.2" xref="S3.E2.m1.4.5.2.cmml">j</mi><mo id="S3.E2.m1.4.5.1" xref="S3.E2.m1.4.5.1.cmml">=</mo><mrow id="S3.E2.m1.4.4" xref="S3.E2.m1.4.5.3.1.cmml"><mo id="S3.E2.m1.4.4.5" xref="S3.E2.m1.4.5.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" id="S3.E2.m1.4.4.4" rowspacing="0pt" xref="S3.E2.m1.4.5.3.1.cmml"><mtr id="S3.E2.m1.4.4.4a" xref="S3.E2.m1.4.5.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.4.4.4b" xref="S3.E2.m1.4.5.3.1.cmml"><mrow id="S3.E2.m1.1.1.1.1.1.1.3" xref="S3.E2.m1.4.5.3.1.cmml"><mn id="S3.E2.m1.1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.1.cmml">1</mn><mo id="S3.E2.m1.1.1.1.1.1.1.3.1" xref="S3.E2.m1.4.5.3.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.4.4.4c" xref="S3.E2.m1.4.5.3.1.cmml"><mrow id="S3.E2.m1.2.2.2.2.2.1" xref="S3.E2.m1.2.2.2.2.2.1.cmml"><mtext id="S3.E2.m1.2.2.2.2.2.1.2" xref="S3.E2.m1.2.2.2.2.2.1.2a.cmml">if </mtext><mo id="S3.E2.m1.2.2.2.2.2.1.1" xref="S3.E2.m1.2.2.2.2.2.1.1.cmml">⁢</mo><msup id="S3.E2.m1.2.2.2.2.2.1.3" xref="S3.E2.m1.2.2.2.2.2.1.3.cmml"><mover accent="true" id="S3.E2.m1.2.2.2.2.2.1.3.2" xref="S3.E2.m1.2.2.2.2.2.1.3.2.cmml"><mi id="S3.E2.m1.2.2.2.2.2.1.3.2.2" xref="S3.E2.m1.2.2.2.2.2.1.3.2.2.cmml">a</mi><mo id="S3.E2.m1.2.2.2.2.2.1.3.2.1" xref="S3.E2.m1.2.2.2.2.2.1.3.2.1.cmml">^</mo></mover><mi id="S3.E2.m1.2.2.2.2.2.1.3.3" xref="S3.E2.m1.2.2.2.2.2.1.3.3.cmml">f</mi></msup><mo id="S3.E2.m1.2.2.2.2.2.1.1a" xref="S3.E2.m1.2.2.2.2.2.1.1.cmml">⁢</mo><mtext id="S3.E2.m1.2.2.2.2.2.1.4" xref="S3.E2.m1.2.2.2.2.2.1.4a.cmml"> is correct,</mtext></mrow></mtd></mtr><mtr id="S3.E2.m1.4.4.4d" xref="S3.E2.m1.4.5.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.4.4.4e" xref="S3.E2.m1.4.5.3.1.cmml"><mrow id="S3.E2.m1.3.3.3.3.1.1.3" xref="S3.E2.m1.4.5.3.1.cmml"><mn id="S3.E2.m1.3.3.3.3.1.1.1" xref="S3.E2.m1.3.3.3.3.1.1.1.cmml">0</mn><mo id="S3.E2.m1.3.3.3.3.1.1.3.1" xref="S3.E2.m1.4.5.3.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.4.4.4f" xref="S3.E2.m1.4.5.3.1.cmml"><mtext id="S3.E2.m1.4.4.4.4.2.1" xref="S3.E2.m1.4.4.4.4.2.1a.cmml">otherwise.</mtext></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.4b"><apply id="S3.E2.m1.4.5.cmml" xref="S3.E2.m1.4.5"><eq id="S3.E2.m1.4.5.1.cmml" xref="S3.E2.m1.4.5.1"></eq><ci id="S3.E2.m1.4.5.2.cmml" xref="S3.E2.m1.4.5.2">𝑗</ci><apply id="S3.E2.m1.4.5.3.1.cmml" xref="S3.E2.m1.4.4"><csymbol cd="latexml" id="S3.E2.m1.4.5.3.1.1.cmml" xref="S3.E2.m1.4.4.5">cases</csymbol><cn id="S3.E2.m1.1.1.1.1.1.1.1.cmml" type="integer" xref="S3.E2.m1.1.1.1.1.1.1.1">1</cn><apply id="S3.E2.m1.2.2.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.2.2.1"><times id="S3.E2.m1.2.2.2.2.2.1.1.cmml" xref="S3.E2.m1.2.2.2.2.2.1.1"></times><ci id="S3.E2.m1.2.2.2.2.2.1.2a.cmml" xref="S3.E2.m1.2.2.2.2.2.1.2"><mtext id="S3.E2.m1.2.2.2.2.2.1.2.cmml" xref="S3.E2.m1.2.2.2.2.2.1.2">if </mtext></ci><apply id="S3.E2.m1.2.2.2.2.2.1.3.cmml" xref="S3.E2.m1.2.2.2.2.2.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.2.1.3.1.cmml" xref="S3.E2.m1.2.2.2.2.2.1.3">superscript</csymbol><apply id="S3.E2.m1.2.2.2.2.2.1.3.2.cmml" xref="S3.E2.m1.2.2.2.2.2.1.3.2"><ci id="S3.E2.m1.2.2.2.2.2.1.3.2.1.cmml" xref="S3.E2.m1.2.2.2.2.2.1.3.2.1">^</ci><ci id="S3.E2.m1.2.2.2.2.2.1.3.2.2.cmml" xref="S3.E2.m1.2.2.2.2.2.1.3.2.2">𝑎</ci></apply><ci id="S3.E2.m1.2.2.2.2.2.1.3.3.cmml" xref="S3.E2.m1.2.2.2.2.2.1.3.3">𝑓</ci></apply><ci id="S3.E2.m1.2.2.2.2.2.1.4a.cmml" xref="S3.E2.m1.2.2.2.2.2.1.4"><mtext id="S3.E2.m1.2.2.2.2.2.1.4.cmml" xref="S3.E2.m1.2.2.2.2.2.1.4"> is correct,</mtext></ci></apply><cn id="S3.E2.m1.3.3.3.3.1.1.1.cmml" type="integer" xref="S3.E2.m1.3.3.3.3.1.1.1">0</cn><ci id="S3.E2.m1.4.4.4.4.2.1a.cmml" xref="S3.E2.m1.4.4.4.4.2.1"><mtext id="S3.E2.m1.4.4.4.4.2.1.cmml" xref="S3.E2.m1.4.4.4.4.2.1">otherwise.</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.4c">j=\begin{cases}1,&amp;\text{if }\hat{a}^{f}\text{ is correct,}\\
0,&amp;\text{otherwise.}\end{cases}</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.4d">italic_j = { start_ROW start_CELL 1 , end_CELL start_CELL if over^ start_ARG italic_a end_ARG start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT is correct, end_CELL end_ROW start_ROW start_CELL 0 , end_CELL start_CELL otherwise. end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.I1.i3.p1.4">The correctness can be measured based on the ground-truth answer <math alttext="a" class="ltx_Math" display="inline" id="S3.I1.i3.p1.4.m1.1"><semantics id="S3.I1.i3.p1.4.m1.1a"><mi id="S3.I1.i3.p1.4.m1.1.1" xref="S3.I1.i3.p1.4.m1.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.4.m1.1b"><ci id="S3.I1.i3.p1.4.m1.1.1.cmml" xref="S3.I1.i3.p1.4.m1.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.4.m1.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.4.m1.1d">italic_a</annotation></semantics></math>, through Exact Match (EM) score, F1 score and so on.
Details can refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A1" title="Appendix A Details about annotation ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.1">Finally, we obtain two RC-RAG datasets, i.e., RC-TQ and RC-NQ.
The dataset statistics is shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S3.T1" title="Table 1 ‣ 3.2 Benchmark ‣ 3 Problem statement ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="529" id="S3.F2.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Overview of counterfactual prompting framework for RAG, in which the counterfactual (CF) prompts challenge the initial RAG answer in terms of the quality or usage of retrieved results.
The final judgment result is derived from both aspects.
Details refer to Sec. <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S4" title="4 Counterfactual prompting framework ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">4</span></a>.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p5.1.1">Evaluation.</span>

According to our RC-RAG benchmark, the samples could be divided into two cases, which are answerable (A) and unanswerable (U).
Answerable ones refer to the samples whose RAG answer is correct, while unanswerable ones are the opposite.
At the same time, there are two prediction results for RAG answers based on the designed judgment strategy, i.e., keep (K) and discard (D).
</p>
</div>
<div class="ltx_para" id="S3.SS2.p6">
<p class="ltx_p" id="S3.SS2.p6.1">By combining above situations, the output of RAG would fall into one of the four folds, i.e., AK, AD, UD or UK, as shown in the Table <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S3.T2" title="Table 2 ‣ 3.2 Benchmark ‣ 3 Problem statement ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">2</span></a>.
Specifically, AK/UK denotes the answerable/unanswerable samples with answers kept, while AD/UD denotes the answerable/unanswerable samples with answers discarded.
Noted that samples answered wrongly are labeled as unanswerable ones based on our annotation, thus there is no case of keeping the wrong answer in the answerable samples.
</p>
</div>
<div class="ltx_para" id="S3.SS2.p7">
<p class="ltx_p" id="S3.SS2.p7.1">Among these four folds, we further analyze which one causes the real risk in RAG.

<span class="ltx_inline-enumerate" id="S3.I2">
<span class="ltx_inline-item" id="S3.I2.i1"><span class="ltx_tag ltx_tag_inline-item">(i)</span> <span class="ltx_text" id="S3.I2.i1.1">It is intuitive that the AK and UD folds pose no risk, as the judgment results are consistent with the labels.
</span></span>
<span class="ltx_inline-item" id="S3.I2.i2"><span class="ltx_tag ltx_tag_inline-item">(ii)</span> <span class="ltx_text" id="S3.I2.i2.1">For AD fold, although the judgment result is inconsistent with the label, it poses no real risk since the user’ behaviour may not be influenced when the RAG provides a null answer.
</span></span>
<span class="ltx_inline-item" id="S3.I2.i3"><span class="ltx_tag ltx_tag_inline-item">(iii)</span> <span class="ltx_text" id="S3.I2.i3.1">Thus, only the UK fold exists risk, where the RAG sample is unanswerable but its answer is not discarded.
</span></span>
</span></p>
</div>
<div class="ltx_para" id="S3.SS2.p8">
<p class="ltx_p" id="S3.SS2.p8.1">For evaluation, we propose four risk-aware evaluation metrics from various aspects, i.e., <span class="ltx_text ltx_font_italic" id="S3.SS2.p8.1.1">risk</span>, <span class="ltx_text ltx_font_italic" id="S3.SS2.p8.1.2">carefulness</span>, <span class="ltx_text ltx_font_italic" id="S3.SS2.p8.1.3">alignment</span> and <span class="ltx_text ltx_font_italic" id="S3.SS2.p8.1.4">coverage</span>.</p>
</div>
<figure class="ltx_table" id="S3.T2">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T2.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T2.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="S3.T2.1.1.1.1" style="padding-left:7.5pt;padding-right:7.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S3.T2.1.1.1.2" style="padding-left:7.5pt;padding-right:7.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T2.1.1.1.2.1">Judgment result</span></th>
</tr>
<tr class="ltx_tr" id="S3.T2.1.2.2">
<th class="ltx_td ltx_th ltx_th_row" id="S3.T2.1.2.2.1" style="padding-left:7.5pt;padding-right:7.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T2.1.2.2.2" style="padding-left:7.5pt;padding-right:7.5pt;">Keep (K)</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T2.1.2.2.3" style="padding-left:7.5pt;padding-right:7.5pt;">Discard(D)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T2.1.3.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S3.T2.1.3.1.1" style="padding-left:7.5pt;padding-right:7.5pt;">Answerable (A)</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.3.1.2" style="padding-left:7.5pt;padding-right:7.5pt;">AK</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.3.1.3" style="padding-left:7.5pt;padding-right:7.5pt;">AD</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.4.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="S3.T2.1.4.2.1" style="padding-left:7.5pt;padding-right:7.5pt;">Unanswerable (U)</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T2.1.4.2.2" style="padding-left:7.5pt;padding-right:7.5pt;">UK</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T2.1.4.2.3" style="padding-left:7.5pt;padding-right:7.5pt;">UD</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Categorization of the RAG output.</figcaption>
</figure>
<div class="ltx_para" id="S3.SS2.p9">
<ul class="ltx_itemize" id="S3.I3">
<li class="ltx_item" id="S3.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I3.i1.p1">
<p class="ltx_p" id="S3.I3.i1.p1.2"><span class="ltx_text ltx_font_bold" id="S3.I3.i1.p1.2.1">Risk</span> (%) measures the percentage of risky cases (UK) among kept samples, i.e.,</p>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="risk=\frac{|\text{UK}|}{|\text{AK}|+|\text{UK}|}," class="ltx_Math" display="block" id="S3.Ex1.m1.4"><semantics id="S3.Ex1.m1.4a"><mrow id="S3.Ex1.m1.4.4.1" xref="S3.Ex1.m1.4.4.1.1.cmml"><mrow id="S3.Ex1.m1.4.4.1.1" xref="S3.Ex1.m1.4.4.1.1.cmml"><mrow id="S3.Ex1.m1.4.4.1.1.2" xref="S3.Ex1.m1.4.4.1.1.2.cmml"><mi id="S3.Ex1.m1.4.4.1.1.2.2" xref="S3.Ex1.m1.4.4.1.1.2.2.cmml">r</mi><mo id="S3.Ex1.m1.4.4.1.1.2.1" xref="S3.Ex1.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex1.m1.4.4.1.1.2.3" xref="S3.Ex1.m1.4.4.1.1.2.3.cmml">i</mi><mo id="S3.Ex1.m1.4.4.1.1.2.1a" xref="S3.Ex1.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex1.m1.4.4.1.1.2.4" xref="S3.Ex1.m1.4.4.1.1.2.4.cmml">s</mi><mo id="S3.Ex1.m1.4.4.1.1.2.1b" xref="S3.Ex1.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex1.m1.4.4.1.1.2.5" xref="S3.Ex1.m1.4.4.1.1.2.5.cmml">k</mi></mrow><mo id="S3.Ex1.m1.4.4.1.1.1" xref="S3.Ex1.m1.4.4.1.1.1.cmml">=</mo><mfrac id="S3.Ex1.m1.3.3" xref="S3.Ex1.m1.3.3.cmml"><mrow id="S3.Ex1.m1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.2.cmml"><mo id="S3.Ex1.m1.1.1.1.3.1" stretchy="false" xref="S3.Ex1.m1.1.1.1.2.1.cmml">|</mo><mtext id="S3.Ex1.m1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1a.cmml">UK</mtext><mo id="S3.Ex1.m1.1.1.1.3.2" stretchy="false" xref="S3.Ex1.m1.1.1.1.2.1.cmml">|</mo></mrow><mrow id="S3.Ex1.m1.3.3.3" xref="S3.Ex1.m1.3.3.3.cmml"><mrow id="S3.Ex1.m1.3.3.3.4.2" xref="S3.Ex1.m1.3.3.3.4.1.cmml"><mo id="S3.Ex1.m1.3.3.3.4.2.1" stretchy="false" xref="S3.Ex1.m1.3.3.3.4.1.1.cmml">|</mo><mtext id="S3.Ex1.m1.2.2.2.1" xref="S3.Ex1.m1.2.2.2.1a.cmml">AK</mtext><mo id="S3.Ex1.m1.3.3.3.4.2.2" stretchy="false" xref="S3.Ex1.m1.3.3.3.4.1.1.cmml">|</mo></mrow><mo id="S3.Ex1.m1.3.3.3.3" xref="S3.Ex1.m1.3.3.3.3.cmml">+</mo><mrow id="S3.Ex1.m1.3.3.3.5.2" xref="S3.Ex1.m1.3.3.3.5.1.cmml"><mo id="S3.Ex1.m1.3.3.3.5.2.1" stretchy="false" xref="S3.Ex1.m1.3.3.3.5.1.1.cmml">|</mo><mtext id="S3.Ex1.m1.3.3.3.2" xref="S3.Ex1.m1.3.3.3.2a.cmml">UK</mtext><mo id="S3.Ex1.m1.3.3.3.5.2.2" stretchy="false" xref="S3.Ex1.m1.3.3.3.5.1.1.cmml">|</mo></mrow></mrow></mfrac></mrow><mo id="S3.Ex1.m1.4.4.1.2" xref="S3.Ex1.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.4b"><apply id="S3.Ex1.m1.4.4.1.1.cmml" xref="S3.Ex1.m1.4.4.1"><eq id="S3.Ex1.m1.4.4.1.1.1.cmml" xref="S3.Ex1.m1.4.4.1.1.1"></eq><apply id="S3.Ex1.m1.4.4.1.1.2.cmml" xref="S3.Ex1.m1.4.4.1.1.2"><times id="S3.Ex1.m1.4.4.1.1.2.1.cmml" xref="S3.Ex1.m1.4.4.1.1.2.1"></times><ci id="S3.Ex1.m1.4.4.1.1.2.2.cmml" xref="S3.Ex1.m1.4.4.1.1.2.2">𝑟</ci><ci id="S3.Ex1.m1.4.4.1.1.2.3.cmml" xref="S3.Ex1.m1.4.4.1.1.2.3">𝑖</ci><ci id="S3.Ex1.m1.4.4.1.1.2.4.cmml" xref="S3.Ex1.m1.4.4.1.1.2.4">𝑠</ci><ci id="S3.Ex1.m1.4.4.1.1.2.5.cmml" xref="S3.Ex1.m1.4.4.1.1.2.5">𝑘</ci></apply><apply id="S3.Ex1.m1.3.3.cmml" xref="S3.Ex1.m1.3.3"><divide id="S3.Ex1.m1.3.3.4.cmml" xref="S3.Ex1.m1.3.3"></divide><apply id="S3.Ex1.m1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.3"><abs id="S3.Ex1.m1.1.1.1.2.1.cmml" xref="S3.Ex1.m1.1.1.1.3.1"></abs><ci id="S3.Ex1.m1.1.1.1.1a.cmml" xref="S3.Ex1.m1.1.1.1.1"><mtext id="S3.Ex1.m1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1">UK</mtext></ci></apply><apply id="S3.Ex1.m1.3.3.3.cmml" xref="S3.Ex1.m1.3.3.3"><plus id="S3.Ex1.m1.3.3.3.3.cmml" xref="S3.Ex1.m1.3.3.3.3"></plus><apply id="S3.Ex1.m1.3.3.3.4.1.cmml" xref="S3.Ex1.m1.3.3.3.4.2"><abs id="S3.Ex1.m1.3.3.3.4.1.1.cmml" xref="S3.Ex1.m1.3.3.3.4.2.1"></abs><ci id="S3.Ex1.m1.2.2.2.1a.cmml" xref="S3.Ex1.m1.2.2.2.1"><mtext id="S3.Ex1.m1.2.2.2.1.cmml" xref="S3.Ex1.m1.2.2.2.1">AK</mtext></ci></apply><apply id="S3.Ex1.m1.3.3.3.5.1.cmml" xref="S3.Ex1.m1.3.3.3.5.2"><abs id="S3.Ex1.m1.3.3.3.5.1.1.cmml" xref="S3.Ex1.m1.3.3.3.5.2.1"></abs><ci id="S3.Ex1.m1.3.3.3.2a.cmml" xref="S3.Ex1.m1.3.3.3.2"><mtext id="S3.Ex1.m1.3.3.3.2.cmml" xref="S3.Ex1.m1.3.3.3.2">UK</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.4c">risk=\frac{|\text{UK}|}{|\text{AK}|+|\text{UK}|},</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m1.4d">italic_r italic_i italic_s italic_k = divide start_ARG | UK | end_ARG start_ARG | AK | + | UK | end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.I3.i1.p1.1">where <math alttext="||" class="ltx_math_unparsed" display="inline" id="S3.I3.i1.p1.1.m1.1"><semantics id="S3.I3.i1.p1.1.m1.1a"><mrow id="S3.I3.i1.p1.1.m1.1b"><mo fence="false" id="S3.I3.i1.p1.1.m1.1.1" rspace="0.167em" stretchy="false">|</mo><mo fence="false" id="S3.I3.i1.p1.1.m1.1.2" stretchy="false">|</mo></mrow><annotation encoding="application/x-tex" id="S3.I3.i1.p1.1.m1.1c">||</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.1.m1.1d">| |</annotation></semantics></math> represents the number of samples.</p>
</div>
</li>
<li class="ltx_item" id="S3.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I3.i2.p1">
<p class="ltx_p" id="S3.I3.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I3.i2.p1.1.1">Carefulness</span> (%) representing the percentage of incorrect samples being discarded, which is recall for unanswerable samples, i.e.,</p>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="carefulness=\frac{|\text{UD}|}{|\text{UK}|+|\text{UD}|}." class="ltx_Math" display="block" id="S3.Ex2.m1.4"><semantics id="S3.Ex2.m1.4a"><mrow id="S3.Ex2.m1.4.4.1" xref="S3.Ex2.m1.4.4.1.1.cmml"><mrow id="S3.Ex2.m1.4.4.1.1" xref="S3.Ex2.m1.4.4.1.1.cmml"><mrow id="S3.Ex2.m1.4.4.1.1.2" xref="S3.Ex2.m1.4.4.1.1.2.cmml"><mi id="S3.Ex2.m1.4.4.1.1.2.2" xref="S3.Ex2.m1.4.4.1.1.2.2.cmml">c</mi><mo id="S3.Ex2.m1.4.4.1.1.2.1" xref="S3.Ex2.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex2.m1.4.4.1.1.2.3" xref="S3.Ex2.m1.4.4.1.1.2.3.cmml">a</mi><mo id="S3.Ex2.m1.4.4.1.1.2.1a" xref="S3.Ex2.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex2.m1.4.4.1.1.2.4" xref="S3.Ex2.m1.4.4.1.1.2.4.cmml">r</mi><mo id="S3.Ex2.m1.4.4.1.1.2.1b" xref="S3.Ex2.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex2.m1.4.4.1.1.2.5" xref="S3.Ex2.m1.4.4.1.1.2.5.cmml">e</mi><mo id="S3.Ex2.m1.4.4.1.1.2.1c" xref="S3.Ex2.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex2.m1.4.4.1.1.2.6" xref="S3.Ex2.m1.4.4.1.1.2.6.cmml">f</mi><mo id="S3.Ex2.m1.4.4.1.1.2.1d" xref="S3.Ex2.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex2.m1.4.4.1.1.2.7" xref="S3.Ex2.m1.4.4.1.1.2.7.cmml">u</mi><mo id="S3.Ex2.m1.4.4.1.1.2.1e" xref="S3.Ex2.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex2.m1.4.4.1.1.2.8" xref="S3.Ex2.m1.4.4.1.1.2.8.cmml">l</mi><mo id="S3.Ex2.m1.4.4.1.1.2.1f" xref="S3.Ex2.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex2.m1.4.4.1.1.2.9" xref="S3.Ex2.m1.4.4.1.1.2.9.cmml">n</mi><mo id="S3.Ex2.m1.4.4.1.1.2.1g" xref="S3.Ex2.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex2.m1.4.4.1.1.2.10" xref="S3.Ex2.m1.4.4.1.1.2.10.cmml">e</mi><mo id="S3.Ex2.m1.4.4.1.1.2.1h" xref="S3.Ex2.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex2.m1.4.4.1.1.2.11" xref="S3.Ex2.m1.4.4.1.1.2.11.cmml">s</mi><mo id="S3.Ex2.m1.4.4.1.1.2.1i" xref="S3.Ex2.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex2.m1.4.4.1.1.2.12" xref="S3.Ex2.m1.4.4.1.1.2.12.cmml">s</mi></mrow><mo id="S3.Ex2.m1.4.4.1.1.1" xref="S3.Ex2.m1.4.4.1.1.1.cmml">=</mo><mfrac id="S3.Ex2.m1.3.3" xref="S3.Ex2.m1.3.3.cmml"><mrow id="S3.Ex2.m1.1.1.1.3" xref="S3.Ex2.m1.1.1.1.2.cmml"><mo id="S3.Ex2.m1.1.1.1.3.1" stretchy="false" xref="S3.Ex2.m1.1.1.1.2.1.cmml">|</mo><mtext id="S3.Ex2.m1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1a.cmml">UD</mtext><mo id="S3.Ex2.m1.1.1.1.3.2" stretchy="false" xref="S3.Ex2.m1.1.1.1.2.1.cmml">|</mo></mrow><mrow id="S3.Ex2.m1.3.3.3" xref="S3.Ex2.m1.3.3.3.cmml"><mrow id="S3.Ex2.m1.3.3.3.4.2" xref="S3.Ex2.m1.3.3.3.4.1.cmml"><mo id="S3.Ex2.m1.3.3.3.4.2.1" stretchy="false" xref="S3.Ex2.m1.3.3.3.4.1.1.cmml">|</mo><mtext id="S3.Ex2.m1.2.2.2.1" xref="S3.Ex2.m1.2.2.2.1a.cmml">UK</mtext><mo id="S3.Ex2.m1.3.3.3.4.2.2" stretchy="false" xref="S3.Ex2.m1.3.3.3.4.1.1.cmml">|</mo></mrow><mo id="S3.Ex2.m1.3.3.3.3" xref="S3.Ex2.m1.3.3.3.3.cmml">+</mo><mrow id="S3.Ex2.m1.3.3.3.5.2" xref="S3.Ex2.m1.3.3.3.5.1.cmml"><mo id="S3.Ex2.m1.3.3.3.5.2.1" stretchy="false" xref="S3.Ex2.m1.3.3.3.5.1.1.cmml">|</mo><mtext id="S3.Ex2.m1.3.3.3.2" xref="S3.Ex2.m1.3.3.3.2a.cmml">UD</mtext><mo id="S3.Ex2.m1.3.3.3.5.2.2" stretchy="false" xref="S3.Ex2.m1.3.3.3.5.1.1.cmml">|</mo></mrow></mrow></mfrac></mrow><mo id="S3.Ex2.m1.4.4.1.2" lspace="0em" xref="S3.Ex2.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.4b"><apply id="S3.Ex2.m1.4.4.1.1.cmml" xref="S3.Ex2.m1.4.4.1"><eq id="S3.Ex2.m1.4.4.1.1.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1"></eq><apply id="S3.Ex2.m1.4.4.1.1.2.cmml" xref="S3.Ex2.m1.4.4.1.1.2"><times id="S3.Ex2.m1.4.4.1.1.2.1.cmml" xref="S3.Ex2.m1.4.4.1.1.2.1"></times><ci id="S3.Ex2.m1.4.4.1.1.2.2.cmml" xref="S3.Ex2.m1.4.4.1.1.2.2">𝑐</ci><ci id="S3.Ex2.m1.4.4.1.1.2.3.cmml" xref="S3.Ex2.m1.4.4.1.1.2.3">𝑎</ci><ci id="S3.Ex2.m1.4.4.1.1.2.4.cmml" xref="S3.Ex2.m1.4.4.1.1.2.4">𝑟</ci><ci id="S3.Ex2.m1.4.4.1.1.2.5.cmml" xref="S3.Ex2.m1.4.4.1.1.2.5">𝑒</ci><ci id="S3.Ex2.m1.4.4.1.1.2.6.cmml" xref="S3.Ex2.m1.4.4.1.1.2.6">𝑓</ci><ci id="S3.Ex2.m1.4.4.1.1.2.7.cmml" xref="S3.Ex2.m1.4.4.1.1.2.7">𝑢</ci><ci id="S3.Ex2.m1.4.4.1.1.2.8.cmml" xref="S3.Ex2.m1.4.4.1.1.2.8">𝑙</ci><ci id="S3.Ex2.m1.4.4.1.1.2.9.cmml" xref="S3.Ex2.m1.4.4.1.1.2.9">𝑛</ci><ci id="S3.Ex2.m1.4.4.1.1.2.10.cmml" xref="S3.Ex2.m1.4.4.1.1.2.10">𝑒</ci><ci id="S3.Ex2.m1.4.4.1.1.2.11.cmml" xref="S3.Ex2.m1.4.4.1.1.2.11">𝑠</ci><ci id="S3.Ex2.m1.4.4.1.1.2.12.cmml" xref="S3.Ex2.m1.4.4.1.1.2.12">𝑠</ci></apply><apply id="S3.Ex2.m1.3.3.cmml" xref="S3.Ex2.m1.3.3"><divide id="S3.Ex2.m1.3.3.4.cmml" xref="S3.Ex2.m1.3.3"></divide><apply id="S3.Ex2.m1.1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.1.3"><abs id="S3.Ex2.m1.1.1.1.2.1.cmml" xref="S3.Ex2.m1.1.1.1.3.1"></abs><ci id="S3.Ex2.m1.1.1.1.1a.cmml" xref="S3.Ex2.m1.1.1.1.1"><mtext id="S3.Ex2.m1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1">UD</mtext></ci></apply><apply id="S3.Ex2.m1.3.3.3.cmml" xref="S3.Ex2.m1.3.3.3"><plus id="S3.Ex2.m1.3.3.3.3.cmml" xref="S3.Ex2.m1.3.3.3.3"></plus><apply id="S3.Ex2.m1.3.3.3.4.1.cmml" xref="S3.Ex2.m1.3.3.3.4.2"><abs id="S3.Ex2.m1.3.3.3.4.1.1.cmml" xref="S3.Ex2.m1.3.3.3.4.2.1"></abs><ci id="S3.Ex2.m1.2.2.2.1a.cmml" xref="S3.Ex2.m1.2.2.2.1"><mtext id="S3.Ex2.m1.2.2.2.1.cmml" xref="S3.Ex2.m1.2.2.2.1">UK</mtext></ci></apply><apply id="S3.Ex2.m1.3.3.3.5.1.cmml" xref="S3.Ex2.m1.3.3.3.5.2"><abs id="S3.Ex2.m1.3.3.3.5.1.1.cmml" xref="S3.Ex2.m1.3.3.3.5.2.1"></abs><ci id="S3.Ex2.m1.3.3.3.2a.cmml" xref="S3.Ex2.m1.3.3.3.2"><mtext id="S3.Ex2.m1.3.3.3.2.cmml" xref="S3.Ex2.m1.3.3.3.2">UD</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.4c">carefulness=\frac{|\text{UD}|}{|\text{UK}|+|\text{UD}|}.</annotation><annotation encoding="application/x-llamapun" id="S3.Ex2.m1.4d">italic_c italic_a italic_r italic_e italic_f italic_u italic_l italic_n italic_e italic_s italic_s = divide start_ARG | UD | end_ARG start_ARG | UK | + | UD | end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</li>
<li class="ltx_item" id="S3.I3.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I3.i3.p1">
<p class="ltx_p" id="S3.I3.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I3.i3.p1.1.1">Alignment</span> (%) represents the percentage of samples where the judgment results are consistent with the labels, i.e.,</p>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="alignment=\frac{|\text{AK}|+|\text{UD}|}{|\text{AK}|+|\text{AD}|+|\text{UK}|+|%
\text{UD}|}." class="ltx_Math" display="block" id="S3.Ex3.m1.7"><semantics id="S3.Ex3.m1.7a"><mrow id="S3.Ex3.m1.7.7.1" xref="S3.Ex3.m1.7.7.1.1.cmml"><mrow id="S3.Ex3.m1.7.7.1.1" xref="S3.Ex3.m1.7.7.1.1.cmml"><mrow id="S3.Ex3.m1.7.7.1.1.2" xref="S3.Ex3.m1.7.7.1.1.2.cmml"><mi id="S3.Ex3.m1.7.7.1.1.2.2" xref="S3.Ex3.m1.7.7.1.1.2.2.cmml">a</mi><mo id="S3.Ex3.m1.7.7.1.1.2.1" xref="S3.Ex3.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex3.m1.7.7.1.1.2.3" xref="S3.Ex3.m1.7.7.1.1.2.3.cmml">l</mi><mo id="S3.Ex3.m1.7.7.1.1.2.1a" xref="S3.Ex3.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex3.m1.7.7.1.1.2.4" xref="S3.Ex3.m1.7.7.1.1.2.4.cmml">i</mi><mo id="S3.Ex3.m1.7.7.1.1.2.1b" xref="S3.Ex3.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex3.m1.7.7.1.1.2.5" xref="S3.Ex3.m1.7.7.1.1.2.5.cmml">g</mi><mo id="S3.Ex3.m1.7.7.1.1.2.1c" xref="S3.Ex3.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex3.m1.7.7.1.1.2.6" xref="S3.Ex3.m1.7.7.1.1.2.6.cmml">n</mi><mo id="S3.Ex3.m1.7.7.1.1.2.1d" xref="S3.Ex3.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex3.m1.7.7.1.1.2.7" xref="S3.Ex3.m1.7.7.1.1.2.7.cmml">m</mi><mo id="S3.Ex3.m1.7.7.1.1.2.1e" xref="S3.Ex3.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex3.m1.7.7.1.1.2.8" xref="S3.Ex3.m1.7.7.1.1.2.8.cmml">e</mi><mo id="S3.Ex3.m1.7.7.1.1.2.1f" xref="S3.Ex3.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex3.m1.7.7.1.1.2.9" xref="S3.Ex3.m1.7.7.1.1.2.9.cmml">n</mi><mo id="S3.Ex3.m1.7.7.1.1.2.1g" xref="S3.Ex3.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex3.m1.7.7.1.1.2.10" xref="S3.Ex3.m1.7.7.1.1.2.10.cmml">t</mi></mrow><mo id="S3.Ex3.m1.7.7.1.1.1" xref="S3.Ex3.m1.7.7.1.1.1.cmml">=</mo><mfrac id="S3.Ex3.m1.6.6" xref="S3.Ex3.m1.6.6.cmml"><mrow id="S3.Ex3.m1.2.2.2" xref="S3.Ex3.m1.2.2.2.cmml"><mrow id="S3.Ex3.m1.2.2.2.4.2" xref="S3.Ex3.m1.2.2.2.4.1.cmml"><mo id="S3.Ex3.m1.2.2.2.4.2.1" stretchy="false" xref="S3.Ex3.m1.2.2.2.4.1.1.cmml">|</mo><mtext id="S3.Ex3.m1.1.1.1.1" xref="S3.Ex3.m1.1.1.1.1a.cmml">AK</mtext><mo id="S3.Ex3.m1.2.2.2.4.2.2" stretchy="false" xref="S3.Ex3.m1.2.2.2.4.1.1.cmml">|</mo></mrow><mo id="S3.Ex3.m1.2.2.2.3" xref="S3.Ex3.m1.2.2.2.3.cmml">+</mo><mrow id="S3.Ex3.m1.2.2.2.5.2" xref="S3.Ex3.m1.2.2.2.5.1.cmml"><mo id="S3.Ex3.m1.2.2.2.5.2.1" stretchy="false" xref="S3.Ex3.m1.2.2.2.5.1.1.cmml">|</mo><mtext id="S3.Ex3.m1.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2a.cmml">UD</mtext><mo id="S3.Ex3.m1.2.2.2.5.2.2" stretchy="false" xref="S3.Ex3.m1.2.2.2.5.1.1.cmml">|</mo></mrow></mrow><mrow id="S3.Ex3.m1.6.6.6" xref="S3.Ex3.m1.6.6.6.cmml"><mrow id="S3.Ex3.m1.6.6.6.6.2" xref="S3.Ex3.m1.6.6.6.6.1.cmml"><mo id="S3.Ex3.m1.6.6.6.6.2.1" stretchy="false" xref="S3.Ex3.m1.6.6.6.6.1.1.cmml">|</mo><mtext id="S3.Ex3.m1.3.3.3.1" xref="S3.Ex3.m1.3.3.3.1a.cmml">AK</mtext><mo id="S3.Ex3.m1.6.6.6.6.2.2" stretchy="false" xref="S3.Ex3.m1.6.6.6.6.1.1.cmml">|</mo></mrow><mo id="S3.Ex3.m1.6.6.6.5" xref="S3.Ex3.m1.6.6.6.5.cmml">+</mo><mrow id="S3.Ex3.m1.6.6.6.7.2" xref="S3.Ex3.m1.6.6.6.7.1.cmml"><mo id="S3.Ex3.m1.6.6.6.7.2.1" stretchy="false" xref="S3.Ex3.m1.6.6.6.7.1.1.cmml">|</mo><mtext id="S3.Ex3.m1.4.4.4.2" xref="S3.Ex3.m1.4.4.4.2a.cmml">AD</mtext><mo id="S3.Ex3.m1.6.6.6.7.2.2" stretchy="false" xref="S3.Ex3.m1.6.6.6.7.1.1.cmml">|</mo></mrow><mo id="S3.Ex3.m1.6.6.6.5a" xref="S3.Ex3.m1.6.6.6.5.cmml">+</mo><mrow id="S3.Ex3.m1.6.6.6.8.2" xref="S3.Ex3.m1.6.6.6.8.1.cmml"><mo id="S3.Ex3.m1.6.6.6.8.2.1" stretchy="false" xref="S3.Ex3.m1.6.6.6.8.1.1.cmml">|</mo><mtext id="S3.Ex3.m1.5.5.5.3" xref="S3.Ex3.m1.5.5.5.3a.cmml">UK</mtext><mo id="S3.Ex3.m1.6.6.6.8.2.2" stretchy="false" xref="S3.Ex3.m1.6.6.6.8.1.1.cmml">|</mo></mrow><mo id="S3.Ex3.m1.6.6.6.5b" xref="S3.Ex3.m1.6.6.6.5.cmml">+</mo><mrow id="S3.Ex3.m1.6.6.6.9.2" xref="S3.Ex3.m1.6.6.6.9.1.cmml"><mo id="S3.Ex3.m1.6.6.6.9.2.1" stretchy="false" xref="S3.Ex3.m1.6.6.6.9.1.1.cmml">|</mo><mtext id="S3.Ex3.m1.6.6.6.4" xref="S3.Ex3.m1.6.6.6.4a.cmml">UD</mtext><mo id="S3.Ex3.m1.6.6.6.9.2.2" stretchy="false" xref="S3.Ex3.m1.6.6.6.9.1.1.cmml">|</mo></mrow></mrow></mfrac></mrow><mo id="S3.Ex3.m1.7.7.1.2" lspace="0em" xref="S3.Ex3.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex3.m1.7b"><apply id="S3.Ex3.m1.7.7.1.1.cmml" xref="S3.Ex3.m1.7.7.1"><eq id="S3.Ex3.m1.7.7.1.1.1.cmml" xref="S3.Ex3.m1.7.7.1.1.1"></eq><apply id="S3.Ex3.m1.7.7.1.1.2.cmml" xref="S3.Ex3.m1.7.7.1.1.2"><times id="S3.Ex3.m1.7.7.1.1.2.1.cmml" xref="S3.Ex3.m1.7.7.1.1.2.1"></times><ci id="S3.Ex3.m1.7.7.1.1.2.2.cmml" xref="S3.Ex3.m1.7.7.1.1.2.2">𝑎</ci><ci id="S3.Ex3.m1.7.7.1.1.2.3.cmml" xref="S3.Ex3.m1.7.7.1.1.2.3">𝑙</ci><ci id="S3.Ex3.m1.7.7.1.1.2.4.cmml" xref="S3.Ex3.m1.7.7.1.1.2.4">𝑖</ci><ci id="S3.Ex3.m1.7.7.1.1.2.5.cmml" xref="S3.Ex3.m1.7.7.1.1.2.5">𝑔</ci><ci id="S3.Ex3.m1.7.7.1.1.2.6.cmml" xref="S3.Ex3.m1.7.7.1.1.2.6">𝑛</ci><ci id="S3.Ex3.m1.7.7.1.1.2.7.cmml" xref="S3.Ex3.m1.7.7.1.1.2.7">𝑚</ci><ci id="S3.Ex3.m1.7.7.1.1.2.8.cmml" xref="S3.Ex3.m1.7.7.1.1.2.8">𝑒</ci><ci id="S3.Ex3.m1.7.7.1.1.2.9.cmml" xref="S3.Ex3.m1.7.7.1.1.2.9">𝑛</ci><ci id="S3.Ex3.m1.7.7.1.1.2.10.cmml" xref="S3.Ex3.m1.7.7.1.1.2.10">𝑡</ci></apply><apply id="S3.Ex3.m1.6.6.cmml" xref="S3.Ex3.m1.6.6"><divide id="S3.Ex3.m1.6.6.7.cmml" xref="S3.Ex3.m1.6.6"></divide><apply id="S3.Ex3.m1.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2"><plus id="S3.Ex3.m1.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.2.3"></plus><apply id="S3.Ex3.m1.2.2.2.4.1.cmml" xref="S3.Ex3.m1.2.2.2.4.2"><abs id="S3.Ex3.m1.2.2.2.4.1.1.cmml" xref="S3.Ex3.m1.2.2.2.4.2.1"></abs><ci id="S3.Ex3.m1.1.1.1.1a.cmml" xref="S3.Ex3.m1.1.1.1.1"><mtext id="S3.Ex3.m1.1.1.1.1.cmml" xref="S3.Ex3.m1.1.1.1.1">AK</mtext></ci></apply><apply id="S3.Ex3.m1.2.2.2.5.1.cmml" xref="S3.Ex3.m1.2.2.2.5.2"><abs id="S3.Ex3.m1.2.2.2.5.1.1.cmml" xref="S3.Ex3.m1.2.2.2.5.2.1"></abs><ci id="S3.Ex3.m1.2.2.2.2a.cmml" xref="S3.Ex3.m1.2.2.2.2"><mtext id="S3.Ex3.m1.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2">UD</mtext></ci></apply></apply><apply id="S3.Ex3.m1.6.6.6.cmml" xref="S3.Ex3.m1.6.6.6"><plus id="S3.Ex3.m1.6.6.6.5.cmml" xref="S3.Ex3.m1.6.6.6.5"></plus><apply id="S3.Ex3.m1.6.6.6.6.1.cmml" xref="S3.Ex3.m1.6.6.6.6.2"><abs id="S3.Ex3.m1.6.6.6.6.1.1.cmml" xref="S3.Ex3.m1.6.6.6.6.2.1"></abs><ci id="S3.Ex3.m1.3.3.3.1a.cmml" xref="S3.Ex3.m1.3.3.3.1"><mtext id="S3.Ex3.m1.3.3.3.1.cmml" xref="S3.Ex3.m1.3.3.3.1">AK</mtext></ci></apply><apply id="S3.Ex3.m1.6.6.6.7.1.cmml" xref="S3.Ex3.m1.6.6.6.7.2"><abs id="S3.Ex3.m1.6.6.6.7.1.1.cmml" xref="S3.Ex3.m1.6.6.6.7.2.1"></abs><ci id="S3.Ex3.m1.4.4.4.2a.cmml" xref="S3.Ex3.m1.4.4.4.2"><mtext id="S3.Ex3.m1.4.4.4.2.cmml" xref="S3.Ex3.m1.4.4.4.2">AD</mtext></ci></apply><apply id="S3.Ex3.m1.6.6.6.8.1.cmml" xref="S3.Ex3.m1.6.6.6.8.2"><abs id="S3.Ex3.m1.6.6.6.8.1.1.cmml" xref="S3.Ex3.m1.6.6.6.8.2.1"></abs><ci id="S3.Ex3.m1.5.5.5.3a.cmml" xref="S3.Ex3.m1.5.5.5.3"><mtext id="S3.Ex3.m1.5.5.5.3.cmml" xref="S3.Ex3.m1.5.5.5.3">UK</mtext></ci></apply><apply id="S3.Ex3.m1.6.6.6.9.1.cmml" xref="S3.Ex3.m1.6.6.6.9.2"><abs id="S3.Ex3.m1.6.6.6.9.1.1.cmml" xref="S3.Ex3.m1.6.6.6.9.2.1"></abs><ci id="S3.Ex3.m1.6.6.6.4a.cmml" xref="S3.Ex3.m1.6.6.6.4"><mtext id="S3.Ex3.m1.6.6.6.4.cmml" xref="S3.Ex3.m1.6.6.6.4">UD</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m1.7c">alignment=\frac{|\text{AK}|+|\text{UD}|}{|\text{AK}|+|\text{AD}|+|\text{UK}|+|%
\text{UD}|}.</annotation><annotation encoding="application/x-llamapun" id="S3.Ex3.m1.7d">italic_a italic_l italic_i italic_g italic_n italic_m italic_e italic_n italic_t = divide start_ARG | AK | + | UD | end_ARG start_ARG | AK | + | AD | + | UK | + | UD | end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</li>
<li class="ltx_item" id="S3.I3.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I3.i4.p1">
<p class="ltx_p" id="S3.I3.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I3.i4.p1.1.1">Coverage</span> (%) measures the percentage of samples to be kept, i.e.,</p>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="coverage=\frac{|\text{AK}|+|\text{UK}|}{|\text{AK}|+|\text{AD}|+|\text{UK}|+|%
\text{UD}|}." class="ltx_Math" display="block" id="S3.Ex4.m1.7"><semantics id="S3.Ex4.m1.7a"><mrow id="S3.Ex4.m1.7.7.1" xref="S3.Ex4.m1.7.7.1.1.cmml"><mrow id="S3.Ex4.m1.7.7.1.1" xref="S3.Ex4.m1.7.7.1.1.cmml"><mrow id="S3.Ex4.m1.7.7.1.1.2" xref="S3.Ex4.m1.7.7.1.1.2.cmml"><mi id="S3.Ex4.m1.7.7.1.1.2.2" xref="S3.Ex4.m1.7.7.1.1.2.2.cmml">c</mi><mo id="S3.Ex4.m1.7.7.1.1.2.1" xref="S3.Ex4.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex4.m1.7.7.1.1.2.3" xref="S3.Ex4.m1.7.7.1.1.2.3.cmml">o</mi><mo id="S3.Ex4.m1.7.7.1.1.2.1a" xref="S3.Ex4.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex4.m1.7.7.1.1.2.4" xref="S3.Ex4.m1.7.7.1.1.2.4.cmml">v</mi><mo id="S3.Ex4.m1.7.7.1.1.2.1b" xref="S3.Ex4.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex4.m1.7.7.1.1.2.5" xref="S3.Ex4.m1.7.7.1.1.2.5.cmml">e</mi><mo id="S3.Ex4.m1.7.7.1.1.2.1c" xref="S3.Ex4.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex4.m1.7.7.1.1.2.6" xref="S3.Ex4.m1.7.7.1.1.2.6.cmml">r</mi><mo id="S3.Ex4.m1.7.7.1.1.2.1d" xref="S3.Ex4.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex4.m1.7.7.1.1.2.7" xref="S3.Ex4.m1.7.7.1.1.2.7.cmml">a</mi><mo id="S3.Ex4.m1.7.7.1.1.2.1e" xref="S3.Ex4.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex4.m1.7.7.1.1.2.8" xref="S3.Ex4.m1.7.7.1.1.2.8.cmml">g</mi><mo id="S3.Ex4.m1.7.7.1.1.2.1f" xref="S3.Ex4.m1.7.7.1.1.2.1.cmml">⁢</mo><mi id="S3.Ex4.m1.7.7.1.1.2.9" xref="S3.Ex4.m1.7.7.1.1.2.9.cmml">e</mi></mrow><mo id="S3.Ex4.m1.7.7.1.1.1" xref="S3.Ex4.m1.7.7.1.1.1.cmml">=</mo><mfrac id="S3.Ex4.m1.6.6" xref="S3.Ex4.m1.6.6.cmml"><mrow id="S3.Ex4.m1.2.2.2" xref="S3.Ex4.m1.2.2.2.cmml"><mrow id="S3.Ex4.m1.2.2.2.4.2" xref="S3.Ex4.m1.2.2.2.4.1.cmml"><mo id="S3.Ex4.m1.2.2.2.4.2.1" stretchy="false" xref="S3.Ex4.m1.2.2.2.4.1.1.cmml">|</mo><mtext id="S3.Ex4.m1.1.1.1.1" xref="S3.Ex4.m1.1.1.1.1a.cmml">AK</mtext><mo id="S3.Ex4.m1.2.2.2.4.2.2" stretchy="false" xref="S3.Ex4.m1.2.2.2.4.1.1.cmml">|</mo></mrow><mo id="S3.Ex4.m1.2.2.2.3" xref="S3.Ex4.m1.2.2.2.3.cmml">+</mo><mrow id="S3.Ex4.m1.2.2.2.5.2" xref="S3.Ex4.m1.2.2.2.5.1.cmml"><mo id="S3.Ex4.m1.2.2.2.5.2.1" stretchy="false" xref="S3.Ex4.m1.2.2.2.5.1.1.cmml">|</mo><mtext id="S3.Ex4.m1.2.2.2.2" xref="S3.Ex4.m1.2.2.2.2a.cmml">UK</mtext><mo id="S3.Ex4.m1.2.2.2.5.2.2" stretchy="false" xref="S3.Ex4.m1.2.2.2.5.1.1.cmml">|</mo></mrow></mrow><mrow id="S3.Ex4.m1.6.6.6" xref="S3.Ex4.m1.6.6.6.cmml"><mrow id="S3.Ex4.m1.6.6.6.6.2" xref="S3.Ex4.m1.6.6.6.6.1.cmml"><mo id="S3.Ex4.m1.6.6.6.6.2.1" stretchy="false" xref="S3.Ex4.m1.6.6.6.6.1.1.cmml">|</mo><mtext id="S3.Ex4.m1.3.3.3.1" xref="S3.Ex4.m1.3.3.3.1a.cmml">AK</mtext><mo id="S3.Ex4.m1.6.6.6.6.2.2" stretchy="false" xref="S3.Ex4.m1.6.6.6.6.1.1.cmml">|</mo></mrow><mo id="S3.Ex4.m1.6.6.6.5" xref="S3.Ex4.m1.6.6.6.5.cmml">+</mo><mrow id="S3.Ex4.m1.6.6.6.7.2" xref="S3.Ex4.m1.6.6.6.7.1.cmml"><mo id="S3.Ex4.m1.6.6.6.7.2.1" stretchy="false" xref="S3.Ex4.m1.6.6.6.7.1.1.cmml">|</mo><mtext id="S3.Ex4.m1.4.4.4.2" xref="S3.Ex4.m1.4.4.4.2a.cmml">AD</mtext><mo id="S3.Ex4.m1.6.6.6.7.2.2" stretchy="false" xref="S3.Ex4.m1.6.6.6.7.1.1.cmml">|</mo></mrow><mo id="S3.Ex4.m1.6.6.6.5a" xref="S3.Ex4.m1.6.6.6.5.cmml">+</mo><mrow id="S3.Ex4.m1.6.6.6.8.2" xref="S3.Ex4.m1.6.6.6.8.1.cmml"><mo id="S3.Ex4.m1.6.6.6.8.2.1" stretchy="false" xref="S3.Ex4.m1.6.6.6.8.1.1.cmml">|</mo><mtext id="S3.Ex4.m1.5.5.5.3" xref="S3.Ex4.m1.5.5.5.3a.cmml">UK</mtext><mo id="S3.Ex4.m1.6.6.6.8.2.2" stretchy="false" xref="S3.Ex4.m1.6.6.6.8.1.1.cmml">|</mo></mrow><mo id="S3.Ex4.m1.6.6.6.5b" xref="S3.Ex4.m1.6.6.6.5.cmml">+</mo><mrow id="S3.Ex4.m1.6.6.6.9.2" xref="S3.Ex4.m1.6.6.6.9.1.cmml"><mo id="S3.Ex4.m1.6.6.6.9.2.1" stretchy="false" xref="S3.Ex4.m1.6.6.6.9.1.1.cmml">|</mo><mtext id="S3.Ex4.m1.6.6.6.4" xref="S3.Ex4.m1.6.6.6.4a.cmml">UD</mtext><mo id="S3.Ex4.m1.6.6.6.9.2.2" stretchy="false" xref="S3.Ex4.m1.6.6.6.9.1.1.cmml">|</mo></mrow></mrow></mfrac></mrow><mo id="S3.Ex4.m1.7.7.1.2" lspace="0em" xref="S3.Ex4.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex4.m1.7b"><apply id="S3.Ex4.m1.7.7.1.1.cmml" xref="S3.Ex4.m1.7.7.1"><eq id="S3.Ex4.m1.7.7.1.1.1.cmml" xref="S3.Ex4.m1.7.7.1.1.1"></eq><apply id="S3.Ex4.m1.7.7.1.1.2.cmml" xref="S3.Ex4.m1.7.7.1.1.2"><times id="S3.Ex4.m1.7.7.1.1.2.1.cmml" xref="S3.Ex4.m1.7.7.1.1.2.1"></times><ci id="S3.Ex4.m1.7.7.1.1.2.2.cmml" xref="S3.Ex4.m1.7.7.1.1.2.2">𝑐</ci><ci id="S3.Ex4.m1.7.7.1.1.2.3.cmml" xref="S3.Ex4.m1.7.7.1.1.2.3">𝑜</ci><ci id="S3.Ex4.m1.7.7.1.1.2.4.cmml" xref="S3.Ex4.m1.7.7.1.1.2.4">𝑣</ci><ci id="S3.Ex4.m1.7.7.1.1.2.5.cmml" xref="S3.Ex4.m1.7.7.1.1.2.5">𝑒</ci><ci id="S3.Ex4.m1.7.7.1.1.2.6.cmml" xref="S3.Ex4.m1.7.7.1.1.2.6">𝑟</ci><ci id="S3.Ex4.m1.7.7.1.1.2.7.cmml" xref="S3.Ex4.m1.7.7.1.1.2.7">𝑎</ci><ci id="S3.Ex4.m1.7.7.1.1.2.8.cmml" xref="S3.Ex4.m1.7.7.1.1.2.8">𝑔</ci><ci id="S3.Ex4.m1.7.7.1.1.2.9.cmml" xref="S3.Ex4.m1.7.7.1.1.2.9">𝑒</ci></apply><apply id="S3.Ex4.m1.6.6.cmml" xref="S3.Ex4.m1.6.6"><divide id="S3.Ex4.m1.6.6.7.cmml" xref="S3.Ex4.m1.6.6"></divide><apply id="S3.Ex4.m1.2.2.2.cmml" xref="S3.Ex4.m1.2.2.2"><plus id="S3.Ex4.m1.2.2.2.3.cmml" xref="S3.Ex4.m1.2.2.2.3"></plus><apply id="S3.Ex4.m1.2.2.2.4.1.cmml" xref="S3.Ex4.m1.2.2.2.4.2"><abs id="S3.Ex4.m1.2.2.2.4.1.1.cmml" xref="S3.Ex4.m1.2.2.2.4.2.1"></abs><ci id="S3.Ex4.m1.1.1.1.1a.cmml" xref="S3.Ex4.m1.1.1.1.1"><mtext id="S3.Ex4.m1.1.1.1.1.cmml" xref="S3.Ex4.m1.1.1.1.1">AK</mtext></ci></apply><apply id="S3.Ex4.m1.2.2.2.5.1.cmml" xref="S3.Ex4.m1.2.2.2.5.2"><abs id="S3.Ex4.m1.2.2.2.5.1.1.cmml" xref="S3.Ex4.m1.2.2.2.5.2.1"></abs><ci id="S3.Ex4.m1.2.2.2.2a.cmml" xref="S3.Ex4.m1.2.2.2.2"><mtext id="S3.Ex4.m1.2.2.2.2.cmml" xref="S3.Ex4.m1.2.2.2.2">UK</mtext></ci></apply></apply><apply id="S3.Ex4.m1.6.6.6.cmml" xref="S3.Ex4.m1.6.6.6"><plus id="S3.Ex4.m1.6.6.6.5.cmml" xref="S3.Ex4.m1.6.6.6.5"></plus><apply id="S3.Ex4.m1.6.6.6.6.1.cmml" xref="S3.Ex4.m1.6.6.6.6.2"><abs id="S3.Ex4.m1.6.6.6.6.1.1.cmml" xref="S3.Ex4.m1.6.6.6.6.2.1"></abs><ci id="S3.Ex4.m1.3.3.3.1a.cmml" xref="S3.Ex4.m1.3.3.3.1"><mtext id="S3.Ex4.m1.3.3.3.1.cmml" xref="S3.Ex4.m1.3.3.3.1">AK</mtext></ci></apply><apply id="S3.Ex4.m1.6.6.6.7.1.cmml" xref="S3.Ex4.m1.6.6.6.7.2"><abs id="S3.Ex4.m1.6.6.6.7.1.1.cmml" xref="S3.Ex4.m1.6.6.6.7.2.1"></abs><ci id="S3.Ex4.m1.4.4.4.2a.cmml" xref="S3.Ex4.m1.4.4.4.2"><mtext id="S3.Ex4.m1.4.4.4.2.cmml" xref="S3.Ex4.m1.4.4.4.2">AD</mtext></ci></apply><apply id="S3.Ex4.m1.6.6.6.8.1.cmml" xref="S3.Ex4.m1.6.6.6.8.2"><abs id="S3.Ex4.m1.6.6.6.8.1.1.cmml" xref="S3.Ex4.m1.6.6.6.8.2.1"></abs><ci id="S3.Ex4.m1.5.5.5.3a.cmml" xref="S3.Ex4.m1.5.5.5.3"><mtext id="S3.Ex4.m1.5.5.5.3.cmml" xref="S3.Ex4.m1.5.5.5.3">UK</mtext></ci></apply><apply id="S3.Ex4.m1.6.6.6.9.1.cmml" xref="S3.Ex4.m1.6.6.6.9.2"><abs id="S3.Ex4.m1.6.6.6.9.1.1.cmml" xref="S3.Ex4.m1.6.6.6.9.2.1"></abs><ci id="S3.Ex4.m1.6.6.6.4a.cmml" xref="S3.Ex4.m1.6.6.6.4"><mtext id="S3.Ex4.m1.6.6.6.4.cmml" xref="S3.Ex4.m1.6.6.6.4">UD</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex4.m1.7c">coverage=\frac{|\text{AK}|+|\text{UK}|}{|\text{AK}|+|\text{AD}|+|\text{UK}|+|%
\text{UD}|}.</annotation><annotation encoding="application/x-llamapun" id="S3.Ex4.m1.7d">italic_c italic_o italic_v italic_e italic_r italic_a italic_g italic_e = divide start_ARG | AK | + | UK | end_ARG start_ARG | AK | + | AD | + | UK | + | UD | end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.I3.i4.p2">
<p class="ltx_p" id="S3.I3.i4.p2.1">Note that a lower <span class="ltx_text ltx_font_italic" id="S3.I3.i4.p2.1.1">risk</span> score is better, whereas higher scores are better for the other metrics.</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Counterfactual prompting framework</h2>
<div class="ltx_para ltx_noindent" id="S4.p1">
<p class="ltx_p" id="S4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.p1.1.1">Overview.</span>
To achieve risk control for RAG, we propose a novel counterfactual (CF) prompting framework that assesses predictive uncertainty of RAG.
The overview is illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S3.F2" title="Figure 2 ‣ 3.2 Benchmark ‣ 3 Problem statement ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">2</span></a>, consisting of a prompting generation module, a judgment module, and a fusion module:

<span class="ltx_inline-enumerate" id="S4.I1">
<span class="ltx_inline-item" id="S4.I1.i1"><span class="ltx_tag ltx_tag_inline-item">(i)</span> <span class="ltx_text" id="S4.I1.i1.1">a prompting generation module, which utilizes counterfactual thinking to induce answer regeneration effected by two changing factors;
</span></span>
<span class="ltx_inline-item" id="S4.I1.i2"><span class="ltx_tag ltx_tag_inline-item">(ii)</span> <span class="ltx_text" id="S4.I1.i2.1">a judgment module, which makes judgment based on uncertainty assessment by analyzing the effect of each changing factor on their answer; and
</span></span>
<span class="ltx_inline-item" id="S4.I1.i3"><span class="ltx_tag ltx_tag_inline-item">(iii)</span> <span class="ltx_text" id="S4.I1.i3.1">a fusion module for the final judgment result.
</span></span>
</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p2">
<p class="ltx_p" id="S4.p2.1"><span class="ltx_text ltx_font_bold" id="S4.p2.1.1">Prompting generation module.</span>
In this work, we assume that two latent factors can affect RAG uncertainty, i.e., the quality and the usage of retrieved results.
Thus, we argue about each of them and ask for answer regeneration, respectively.
Specifically, we implement each prompt as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S3.F2" title="Figure 2 ‣ 3.2 Benchmark ‣ 3 Problem statement ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">2</span></a>, where CF-quality prompt challenges the poor quality of retrieved results and CF-usage prompt challenges the improper usage.
By imagining two scenarios that challenge each factor, the model adjusts the way it gets answers depending on its confidence level.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p3">
<p class="ltx_p" id="S4.p3.1"><span class="ltx_text ltx_font_bold" id="S4.p3.1.1">Judgment module.</span>
This module decides whether to keep or discard the answer according to uncertainty assessment for both scenarios.
Specifically, we compare the regenerated answer with the initial RAG answer to analyze the effect of changing factors.
There are two kinds of comparison results, i.e., same or different.
Accordingly, the decision is made as follow:

<span class="ltx_inline-enumerate" id="S4.I2">
<span class="ltx_inline-item" id="S4.I2.i1"><span class="ltx_tag ltx_tag_inline-item">(i)</span> <span class="ltx_text ltx_font_italic" id="S4.I2.i1.1">Keep</span><span class="ltx_text" id="S4.I2.i1.2">: Answer remaining the same indicates that the RAG answer is of relatively high confidence, which can be kept;
</span></span>
<span class="ltx_inline-item" id="S4.I2.i2"><span class="ltx_tag ltx_tag_inline-item">(ii)</span> <span class="ltx_text ltx_font_italic" id="S4.I2.i2.1">Discard</span><span class="ltx_text" id="S4.I2.i2.2">: Answer changing indicates that the RAG answer is uncertain, which should be discarded.
</span></span>
</span></p>
</div>
<div class="ltx_para" id="S4.p4">
<p class="ltx_p" id="S4.p4.2">In order to avoid overestimating confidence, we iteratively execute the prompting generation module and the judgment module in <math alttext="N" class="ltx_Math" display="inline" id="S4.p4.1.m1.1"><semantics id="S4.p4.1.m1.1a"><mi id="S4.p4.1.m1.1.1" xref="S4.p4.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.p4.1.m1.1b"><ci id="S4.p4.1.m1.1.1.cmml" xref="S4.p4.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.1.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S4.p4.1.m1.1d">italic_N</annotation></semantics></math> rounds to produce the judgment for each scenario.
Specifically, if the answer remains the same after <math alttext="N" class="ltx_Math" display="inline" id="S4.p4.2.m2.1"><semantics id="S4.p4.2.m2.1a"><mi id="S4.p4.2.m2.1.1" xref="S4.p4.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.p4.2.m2.1b"><ci id="S4.p4.2.m2.1.1.cmml" xref="S4.p4.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.2.m2.1c">N</annotation><annotation encoding="application/x-llamapun" id="S4.p4.2.m2.1d">italic_N</annotation></semantics></math> rounds, it can be judged as <span class="ltx_text ltx_font_italic" id="S4.p4.2.1">keep</span>.
Otherwise, if the answer changes once, it is judged as <span class="ltx_text ltx_font_italic" id="S4.p4.2.2">discard</span>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p5">
<p class="ltx_p" id="S4.p5.1"><span class="ltx_text ltx_font_bold" id="S4.p5.1.1">Fusion module.</span>
We aggregate above judgment results as below.

<span class="ltx_inline-enumerate" id="S4.I3">
<span class="ltx_inline-item" id="S4.I3.i1"><span class="ltx_tag ltx_tag_inline-item">(i)</span> <span class="ltx_text" id="S4.I3.i1.1">If the two judgment results are consistent (both are <span class="ltx_text ltx_font_italic" id="S4.I3.i1.1.1">keep</span> or <span class="ltx_text ltx_font_italic" id="S4.I3.i1.1.2">discard</span>), we follow this judgment directly;
</span></span>
<span class="ltx_inline-item" id="S4.I3.i2"><span class="ltx_tag ltx_tag_inline-item">(ii)</span> <span class="ltx_text" id="S4.I3.i2.1">Otherwise (one is <span class="ltx_text ltx_font_italic" id="S4.I3.i2.1.1">keep</span>, the other is <span class="ltx_text ltx_font_italic" id="S4.I3.i2.1.2">discard</span>), make the final judgment according to following prompts-based strategies (prompts can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A3.SS3" title="C.3 Prompt for fusion ‣ Appendix C Prompt for CF prompting framework ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">C.3</span></a>):
</span></span>
</span></p>
<ul class="ltx_itemize" id="S4.I4">
<li class="ltx_item" id="S4.I4.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I4.i1.p1">
<p class="ltx_p" id="S4.I4.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I4.i1.p1.1.1">Direct selection:</span>
We prompt the LLM to make a final decision, by telling it potential reasons resulting in wrong answers chosen from [<span class="ltx_text ltx_font_italic" id="S4.I4.i1.p1.1.2">improper use</span> or <span class="ltx_text ltx_font_italic" id="S4.I4.i1.p1.1.3">poor quality</span>] of retrieval results, according to the scenario in which the <span class="ltx_text ltx_font_italic" id="S4.I4.i1.p1.1.4">discard</span> judgment was made in the previous judgment module.</p>
</div>
</li>
<li class="ltx_item" id="S4.I4.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I4.i2.p1">
<p class="ltx_p" id="S4.I4.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I4.i2.p1.1.1">Probability comparison:</span>
We prompt the LLM to derive the probabilities of their respective judgments under two scenarios. By comparing the two probabilities, we select the judgment with the higher probability as the final judgment results.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.p6">
<p class="ltx_p" id="S4.p6.1">After fusion, we change the judgment result of a special case from <span class="ltx_text ltx_font_italic" id="S4.p6.1.1">keep</span> to <span class="ltx_text ltx_font_italic" id="S4.p6.1.2">discard</span>: when the result is <span class="ltx_text ltx_font_italic" id="S4.p6.1.3">keep</span> and the RAG output is "unknown". In this case, keeping the result of "unknown" is equivalent to discarding.</p>
</div>
<div class="ltx_para" id="S4.p7">
<p class="ltx_p" id="S4.p7.1">More details and the complete form of all the prompts can refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A2" title="Appendix B Implementation details ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">B</span></a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A3" title="Appendix C Prompt for CF prompting framework ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Experiment settings</h2>
<div class="ltx_para ltx_noindent" id="S5.p1">
<p class="ltx_p" id="S5.p1.1"><span class="ltx_text ltx_font_bold" id="S5.p1.1.1">Baselines.</span>
We compare our proposed CF prompting framework with three prompt-based baselines:

<span class="ltx_inline-enumerate" id="S5.I1">
<span class="ltx_inline-item" id="S5.I1.i1"><span class="ltx_tag ltx_tag_inline-item">(i)</span> <span class="ltx_text ltx_font_bold" id="S5.I1.i1.1">If-or-Else (IoE) prompting framework</span><cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib24" title="">2024</a>)</cite><span class="ltx_text" id="S5.I1.i1.2">, facilitating self-corrections based on LLMs’ confidence.
To adapt to the RC-RAG, we classify the case of answer correction as discard.
</span></span>
<span class="ltx_inline-item" id="S5.I1.i2"><span class="ltx_tag ltx_tag_inline-item">(ii)</span> <span class="ltx_text ltx_font_bold" id="S5.I1.i2.1">Calibration-based framework</span><cite class="ltx_cite ltx_citemacro_cite">Tian et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib45" title="">2023</a>)</cite><span class="ltx_text" id="S5.I1.i2.2">, verbalizing confidence scores after obtaining answers, with a threshold set over verbalized scores. If the score is below the threshold, then choose to discard the output.
</span></span>
<span class="ltx_inline-item" id="S5.I1.i3"><span class="ltx_tag ltx_tag_inline-item">(iii)</span> <span class="ltx_text ltx_font_bold" id="S5.I1.i3.1">Priori judgement framework</span><cite class="ltx_cite ltx_citemacro_cite">Ren et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib38" title="">2023</a>)</cite><span class="ltx_text" id="S5.I1.i3.2">, perceiving the factual knowledge boundary by self-judgment in the normal or RAG setting, which discards an answer by saying "unknown".
</span></span>
</span>
More information about the baselines and their prompts can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A4" title="Appendix D Baselines ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">D</span></a>,<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A5" title="Appendix E Prompt for baselines ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">E</span></a>.</p>
</div>
<figure class="ltx_table" id="S5.T3">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T3.8">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T3.8.9.1">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T3.8.9.1.1" rowspan="2" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.9.1.1.1">Backbone</span></th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T3.8.9.1.2" rowspan="2" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.9.1.2.1">Method</span></th>
<th class="ltx_td ltx_nopad_l ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S5.T3.8.9.1.3" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.9.1.3.1">RC-TQ</span></th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S5.T3.8.9.1.4" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.9.1.4.1">RC-NQ</span></th>
</tr>
<tr class="ltx_tr" id="S5.T3.8.8">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.1.1.1" style="padding-left:0.7pt;padding-right:0.7pt;">risk<math alttext="\downarrow" class="ltx_Math" display="inline" id="S5.T3.1.1.1.m1.1"><semantics id="S5.T3.1.1.1.m1.1a"><mo id="S5.T3.1.1.1.m1.1.1" stretchy="false" xref="S5.T3.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S5.T3.1.1.1.m1.1b"><ci id="S5.T3.1.1.1.m1.1.1.cmml" xref="S5.T3.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.1.1.1.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S5.T3.1.1.1.m1.1d">↓</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.2.2.2" style="padding-left:0.7pt;padding-right:0.7pt;">carefulness<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T3.2.2.2.m1.1"><semantics id="S5.T3.2.2.2.m1.1a"><mo id="S5.T3.2.2.2.m1.1.1" stretchy="false" xref="S5.T3.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T3.2.2.2.m1.1b"><ci id="S5.T3.2.2.2.m1.1.1.cmml" xref="S5.T3.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.2.2.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T3.2.2.2.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.3.3.3" style="padding-left:0.7pt;padding-right:0.7pt;">alignment<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T3.3.3.3.m1.1"><semantics id="S5.T3.3.3.3.m1.1a"><mo id="S5.T3.3.3.3.m1.1.1" stretchy="false" xref="S5.T3.3.3.3.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T3.3.3.3.m1.1b"><ci id="S5.T3.3.3.3.m1.1.1.cmml" xref="S5.T3.3.3.3.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.3.3.3.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T3.3.3.3.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.4.4.4" style="padding-left:0.7pt;padding-right:0.7pt;">coverage<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T3.4.4.4.m1.1"><semantics id="S5.T3.4.4.4.m1.1a"><mo id="S5.T3.4.4.4.m1.1.1" stretchy="false" xref="S5.T3.4.4.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T3.4.4.4.m1.1b"><ci id="S5.T3.4.4.4.m1.1.1.cmml" xref="S5.T3.4.4.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.4.4.4.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T3.4.4.4.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.5.5.5" style="padding-left:0.7pt;padding-right:0.7pt;">risk<math alttext="\downarrow" class="ltx_Math" display="inline" id="S5.T3.5.5.5.m1.1"><semantics id="S5.T3.5.5.5.m1.1a"><mo id="S5.T3.5.5.5.m1.1.1" stretchy="false" xref="S5.T3.5.5.5.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S5.T3.5.5.5.m1.1b"><ci id="S5.T3.5.5.5.m1.1.1.cmml" xref="S5.T3.5.5.5.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.5.5.5.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S5.T3.5.5.5.m1.1d">↓</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.6.6.6" style="padding-left:0.7pt;padding-right:0.7pt;">carefulness<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T3.6.6.6.m1.1"><semantics id="S5.T3.6.6.6.m1.1a"><mo id="S5.T3.6.6.6.m1.1.1" stretchy="false" xref="S5.T3.6.6.6.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T3.6.6.6.m1.1b"><ci id="S5.T3.6.6.6.m1.1.1.cmml" xref="S5.T3.6.6.6.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.6.6.6.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T3.6.6.6.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.7.7.7" style="padding-left:0.7pt;padding-right:0.7pt;">alignment<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T3.7.7.7.m1.1"><semantics id="S5.T3.7.7.7.m1.1a"><mo id="S5.T3.7.7.7.m1.1.1" stretchy="false" xref="S5.T3.7.7.7.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T3.7.7.7.m1.1b"><ci id="S5.T3.7.7.7.m1.1.1.cmml" xref="S5.T3.7.7.7.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.7.7.7.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T3.7.7.7.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.8.8.8" style="padding-left:0.7pt;padding-right:0.7pt;">coverage<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T3.8.8.8.m1.1"><semantics id="S5.T3.8.8.8.m1.1a"><mo id="S5.T3.8.8.8.m1.1.1" stretchy="false" xref="S5.T3.8.8.8.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T3.8.8.8.m1.1b"><ci id="S5.T3.8.8.8.m1.1.1.cmml" xref="S5.T3.8.8.8.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.8.8.8.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T3.8.8.8.m1.1d">↑</annotation></semantics></math>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T3.8.10.1">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.10.1.1" rowspan="4" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.10.1.1.1">Mistral</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.10.1.2" style="padding-left:0.7pt;padding-right:0.7pt;">IoE</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.10.1.3" style="padding-left:0.7pt;padding-right:0.7pt;">24.88</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.10.1.4" style="padding-left:0.7pt;padding-right:0.7pt;">20.97</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.10.1.5" style="padding-left:0.7pt;padding-right:0.7pt;">74.41</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.10.1.6" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.10.1.6.1">91.06</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.10.1.7" style="padding-left:0.7pt;padding-right:0.7pt;">45.59</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.10.1.8" style="padding-left:0.7pt;padding-right:0.7pt;">20.22</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.10.1.9" style="padding-left:0.7pt;padding-right:0.7pt;">56.93</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.10.1.10" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.10.1.10.1">86.29</span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.8.11.2">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.11.2.1" style="padding-left:0.7pt;padding-right:0.7pt;">Calibration</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.11.2.2" style="padding-left:0.7pt;padding-right:0.7pt;">24.79</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.11.2.3" style="padding-left:0.7pt;padding-right:0.7pt;">20.92</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.11.2.4" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.11.2.4.1">74.80</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.11.2.5" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.11.2.5.1">91.47</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.11.2.6" style="padding-left:0.7pt;padding-right:0.7pt;">45.65</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.11.2.7" style="padding-left:0.7pt;padding-right:0.7pt;">17.36</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.11.2.8" style="padding-left:0.7pt;padding-right:0.7pt;">57.06</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.11.2.9" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.11.2.9.1">89.25</span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.8.12.3">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.12.3.1" style="padding-left:0.7pt;padding-right:0.7pt;">Priori</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.12.3.2" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.12.3.2.1">21.95</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.12.3.3" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.12.3.3.1">33.87</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.12.3.4" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.12.3.4.1">77.14</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.12.3.5" style="padding-left:0.7pt;padding-right:0.7pt;">86.38</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.12.3.6" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.12.3.6.1">42.61</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.12.3.7" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.12.3.7.1">28.60</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.12.3.8" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.12.3.8.1">61.52</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.12.3.9" style="padding-left:0.7pt;padding-right:0.7pt;">82.63</td>
</tr>
<tr class="ltx_tr" id="S5.T3.8.13.4">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.13.4.1" style="padding-left:0.7pt;padding-right:0.7pt;">Ours</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.13.4.2" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.13.4.2.1">19.00</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.13.4.3" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.13.4.3.1">52.87</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.13.4.4" style="padding-left:0.7pt;padding-right:0.7pt;">72.78</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.13.4.5" style="padding-left:0.7pt;padding-right:0.7pt;">71.14</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.13.4.6" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.13.4.6.1">38.22</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.13.4.7" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.13.4.7.1">52.98</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.13.4.8" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.13.4.8.1">63.60</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.13.4.9" style="padding-left:0.7pt;padding-right:0.7pt;">60.66</td>
</tr>
<tr class="ltx_tr" id="S5.T3.8.14.5">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" id="S5.T3.8.14.5.1" rowspan="4" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.14.5.1.1">ChatGPT</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.14.5.2" style="padding-left:0.7pt;padding-right:0.7pt;">IoE</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.14.5.3" style="padding-left:0.7pt;padding-right:0.7pt;">21.59</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.14.5.4" style="padding-left:0.7pt;padding-right:0.7pt;">33.53</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.14.5.5" style="padding-left:0.7pt;padding-right:0.7pt;">78.88</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.14.5.6" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.14.5.6.1">88.34</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.14.5.7" style="padding-left:0.7pt;padding-right:0.7pt;">41.79</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.14.5.8" style="padding-left:0.7pt;padding-right:0.7pt;">31.14</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.14.5.9" style="padding-left:0.7pt;padding-right:0.7pt;">64.29</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T3.8.14.5.10" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.14.5.10.1">83.38</span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.8.15.6">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.15.6.1" style="padding-left:0.7pt;padding-right:0.7pt;">Calibration</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.15.6.2" style="padding-left:0.7pt;padding-right:0.7pt;">19.71</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.15.6.3" style="padding-left:0.7pt;padding-right:0.7pt;">42.51</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.15.6.4" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.15.6.4.1">79.45</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.15.6.5" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.15.6.5.1">83.75</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.15.6.6" style="padding-left:0.7pt;padding-right:0.7pt;">40.97</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.15.6.7" style="padding-left:0.7pt;padding-right:0.7pt;">35.34</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.15.6.8" style="padding-left:0.7pt;padding-right:0.7pt;">64.96</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.15.6.9" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.15.6.9.1">79.78</span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.8.16.7">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.16.7.1" style="padding-left:0.7pt;padding-right:0.7pt;">Priori</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.16.7.2" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.16.7.2.1">16.23</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.16.7.3" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.16.7.3.1">57.30</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.16.7.4" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.16.7.4.1">79.68</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.16.7.5" style="padding-left:0.7pt;padding-right:0.7pt;">75.49</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.16.7.6" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.16.7.6.1">34.72</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.16.7.7" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.16.7.7.1">55.23</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.16.7.8" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.16.7.8.1">70.55</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T3.8.16.7.9" style="padding-left:0.7pt;padding-right:0.7pt;">65.26</td>
</tr>
<tr class="ltx_tr" id="S5.T3.8.17.8">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T3.8.17.8.1" style="padding-left:0.7pt;padding-right:0.7pt;">Ours</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T3.8.17.8.2" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.17.8.2.1">14.94</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T3.8.17.8.3" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.17.8.3.1">65.37</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T3.8.17.8.4" style="padding-left:0.7pt;padding-right:0.7pt;">75.38</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T3.8.17.8.5" style="padding-left:0.7pt;padding-right:0.7pt;">66.55</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T3.8.17.8.6" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.17.8.6.1">35.22</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T3.8.17.8.7" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.8.17.8.7.1">62.86</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T3.8.17.8.8" style="padding-left:0.7pt;padding-right:0.7pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T3.8.17.8.8.1">66.23</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T3.8.17.8.9" style="padding-left:0.7pt;padding-right:0.7pt;">53.24</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Main results of RC-RAG on the test set of two datasets and two LLMs with dense retriever. Best results in bold and second best in underline.</figcaption>
</figure>
<figure class="ltx_table" id="S5.T4">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T4.4">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T4.4.4">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T4.4.4.5" style="padding-left:0.1pt;padding-right:0.1pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.4.4.5.1">Method</span></th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T4.1.1.1" style="padding-left:0.1pt;padding-right:0.1pt;">risk<math alttext="\downarrow" class="ltx_Math" display="inline" id="S5.T4.1.1.1.m1.1"><semantics id="S5.T4.1.1.1.m1.1a"><mo id="S5.T4.1.1.1.m1.1.1" stretchy="false" xref="S5.T4.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S5.T4.1.1.1.m1.1b"><ci id="S5.T4.1.1.1.m1.1.1.cmml" xref="S5.T4.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.1.1.1.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S5.T4.1.1.1.m1.1d">↓</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T4.2.2.2" style="padding-left:0.1pt;padding-right:0.1pt;">carefulness<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T4.2.2.2.m1.1"><semantics id="S5.T4.2.2.2.m1.1a"><mo id="S5.T4.2.2.2.m1.1.1" stretchy="false" xref="S5.T4.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T4.2.2.2.m1.1b"><ci id="S5.T4.2.2.2.m1.1.1.cmml" xref="S5.T4.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.2.2.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T4.2.2.2.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T4.3.3.3" style="padding-left:0.1pt;padding-right:0.1pt;">alignment<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T4.3.3.3.m1.1"><semantics id="S5.T4.3.3.3.m1.1a"><mo id="S5.T4.3.3.3.m1.1.1" stretchy="false" xref="S5.T4.3.3.3.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T4.3.3.3.m1.1b"><ci id="S5.T4.3.3.3.m1.1.1.cmml" xref="S5.T4.3.3.3.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.3.3.3.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T4.3.3.3.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T4.4.4.4" style="padding-left:0.1pt;padding-right:0.1pt;">coverage<math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T4.4.4.4.m1.1"><semantics id="S5.T4.4.4.4.m1.1a"><mo id="S5.T4.4.4.4.m1.1.1" stretchy="false" xref="S5.T4.4.4.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T4.4.4.4.m1.1b"><ci id="S5.T4.4.4.4.m1.1.1.cmml" xref="S5.T4.4.4.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.4.4.4.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T4.4.4.4.m1.1d">↑</annotation></semantics></math>
</th>
</tr>
<tr class="ltx_tr" id="S5.T4.4.5.1">
<th class="ltx_td ltx_nopad_l ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="5" id="S5.T4.4.5.1.1" style="padding-left:0.1pt;padding-right:0.1pt;"><span class="ltx_text ltx_font_italic" id="S5.T4.4.5.1.1.1">Sparse retrieval</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T4.4.6.1">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.4.6.1.1" style="padding-left:0.1pt;padding-right:0.1pt;">IoE</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.4.6.1.2" style="padding-left:0.1pt;padding-right:0.1pt;">65.18</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.4.6.1.3" style="padding-left:0.1pt;padding-right:0.1pt;">30.55</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.4.6.1.4" style="padding-left:0.1pt;padding-right:0.1pt;">47.73</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.4.6.1.5" style="padding-left:0.1pt;padding-right:0.1pt;">75.18</td>
</tr>
<tr class="ltx_tr" id="S5.T4.4.7.2">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.7.2.1" style="padding-left:0.1pt;padding-right:0.1pt;">Calibration</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.7.2.2" style="padding-left:0.1pt;padding-right:0.1pt;">65.10</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.7.2.3" style="padding-left:0.1pt;padding-right:0.1pt;">28.98</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.7.2.4" style="padding-left:0.1pt;padding-right:0.1pt;">47.31</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.7.2.5" style="padding-left:0.1pt;padding-right:0.1pt;">76.98</td>
</tr>
<tr class="ltx_tr" id="S5.T4.4.8.3">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.8.3.1" style="padding-left:0.1pt;padding-right:0.1pt;">Priori</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.8.3.2" style="padding-left:0.1pt;padding-right:0.1pt;">60.43</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.8.3.3" style="padding-left:0.1pt;padding-right:0.1pt;">43.15</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.8.3.4" style="padding-left:0.1pt;padding-right:0.1pt;">56.70</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.8.3.5" style="padding-left:0.1pt;padding-right:0.1pt;">66.37</td>
</tr>
<tr class="ltx_tr" id="S5.T4.4.9.4">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.9.4.1" style="padding-left:0.1pt;padding-right:0.1pt;">Ours</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.9.4.2" style="padding-left:0.1pt;padding-right:0.1pt;">56.30</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.9.4.3" style="padding-left:0.1pt;padding-right:0.1pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.4.9.4.3.1">65.80</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.9.4.4" style="padding-left:0.1pt;padding-right:0.1pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.4.9.4.4.1">65.15</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.9.4.5" style="padding-left:0.1pt;padding-right:0.1pt;">42.85</td>
</tr>
<tr class="ltx_tr" id="S5.T4.4.10.5">
<td class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t" colspan="5" id="S5.T4.4.10.5.1" style="padding-left:0.1pt;padding-right:0.1pt;"><span class="ltx_text ltx_font_italic" id="S5.T4.4.10.5.1.1">Dense retrieval</span></td>
</tr>
<tr class="ltx_tr" id="S5.T4.4.11.6">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.4.11.6.1" style="padding-left:0.1pt;padding-right:0.1pt;">IoE</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.4.11.6.2" style="padding-left:0.1pt;padding-right:0.1pt;">45.59</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.4.11.6.3" style="padding-left:0.1pt;padding-right:0.1pt;">20.22</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.4.11.6.4" style="padding-left:0.1pt;padding-right:0.1pt;">56.93</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.4.11.6.5" style="padding-left:0.1pt;padding-right:0.1pt;">86.29</td>
</tr>
<tr class="ltx_tr" id="S5.T4.4.12.7">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.12.7.1" style="padding-left:0.1pt;padding-right:0.1pt;">Calibration</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.12.7.2" style="padding-left:0.1pt;padding-right:0.1pt;">45.65</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.12.7.3" style="padding-left:0.1pt;padding-right:0.1pt;">17.36</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.12.7.4" style="padding-left:0.1pt;padding-right:0.1pt;">57.06</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.12.7.5" style="padding-left:0.1pt;padding-right:0.1pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.4.12.7.5.1">89.25</span></td>
</tr>
<tr class="ltx_tr" id="S5.T4.4.13.8">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.13.8.1" style="padding-left:0.1pt;padding-right:0.1pt;">Priori</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.13.8.2" style="padding-left:0.1pt;padding-right:0.1pt;">42.61</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.13.8.3" style="padding-left:0.1pt;padding-right:0.1pt;">28.60</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.13.8.4" style="padding-left:0.1pt;padding-right:0.1pt;">61.52</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="S5.T4.4.13.8.5" style="padding-left:0.1pt;padding-right:0.1pt;">82.63</td>
</tr>
<tr class="ltx_tr" id="S5.T4.4.14.9">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T4.4.14.9.1" style="padding-left:0.1pt;padding-right:0.1pt;">Ours</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T4.4.14.9.2" style="padding-left:0.1pt;padding-right:0.1pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.4.14.9.2.1">38.22</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T4.4.14.9.3" style="padding-left:0.1pt;padding-right:0.1pt;">52.98</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T4.4.14.9.4" style="padding-left:0.1pt;padding-right:0.1pt;">63.60</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T4.4.14.9.5" style="padding-left:0.1pt;padding-right:0.1pt;">60.66</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Results of RC-RAG on the RC-NQ test set and Mistral with sparse retriever and dense retriever.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S5.p2">
<p class="ltx_p" id="S5.p2.1"><span class="ltx_text ltx_font_bold" id="S5.p2.1.1">Backbones.</span>
We leverage two LLMs as backbones: Mistral <cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib15" title="">2024</a>)</cite> and ChatGPT <cite class="ltx_cite ltx_citemacro_cite">Roumeliotis and Tselikas (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib39" title="">2023</a>)</cite>, which belong to open-source models and black-box models respectively.
Note that these methods are general and can be extended to other LLMs.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.p3">
<p class="ltx_p" id="S5.p3.1"><span class="ltx_text ltx_font_bold" id="S5.p3.1.1">Implementation details.</span>
For LLMs, we call OpenAI’s API<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>platform.openai.com</span></span></span> to achieve ChatGPT (version gpt-3.5-turbo-0301), while we choose Mistral-7b<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>huggingface.co/mistralai/Mistral-7B-Instruct-v0.2</span></span></span> to implement Mistral.
The max sequence length of LLM output is set to 256, and the temperature is set to 0.
All the others are set as default.
For the retrieved results, we conduct dense retrieval and sparse retrieval following <cite class="ltx_cite ltx_citemacro_citet">Ren et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib38" title="">2023</a>)</cite>, and provide top-3 passages for each question following <cite class="ltx_cite ltx_citemacro_citet">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#bib.bib49" title="">2023</a>)</cite>.
Most of the experimental results of our method use the direct selection fusion strategy, unless otherwise stated.
More details refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A2" title="Appendix B Implementation details ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">B</span></a>.
According to the analysis on the iteration number, as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A2.F3" title="Figure 3 ‣ Appendix B Implementation details ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">3</span></a> in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A2" title="Appendix B Implementation details ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">B</span></a>, we report all results derived from a single run.</p>
</div>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Experiment results</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">We aim to answer six research questions:
<span class="ltx_text ltx_font_bold" id="S6.p1.1.1">(RQ1)</span> Does our CF prompting framework efficiently control the risk of RAG compared with the baseline methods?
<span class="ltx_text ltx_font_bold" id="S6.p1.1.2">(RQ2)</span> Does the ability of LLMs affect the effectiveness of RC-RAG?
<span class="ltx_text ltx_font_bold" id="S6.p1.1.3">(RQ3)</span> Does the difficulty of QA task affect the ability of RC-RAG?
<span class="ltx_text ltx_font_bold" id="S6.p1.1.4">(RQ4)</span> Does the quality of retrieval results affect the effectiveness of RC-RAG?
<span class="ltx_text ltx_font_bold" id="S6.p1.1.5">(RQ5)</span> How does two CF-prompts affect the effectiveness of RC-RAG respectively?
<span class="ltx_text ltx_font_bold" id="S6.p1.1.6">(RQ6)</span> Are our risk control framework interpretable?</p>
</div>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Main results</h3>
<div class="ltx_para" id="S6.SS1.p1">
<p class="ltx_p" id="S6.SS1.p1.1">As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S5.T3" title="Table 3 ‣ 5 Experiment settings ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">3</span></a>, we present the performance of different RC-RAG methods on two datasets.
We have the following observations for <span class="ltx_text ltx_font_bold" id="S6.SS1.p1.1.1">RQ1-3</span>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.SS1.p2">
<p class="ltx_p" id="S6.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S6.SS1.p2.1.1">Our approach effectively reduces risk and maintains carefulness compared to baselines.</span>
Baselines without a clear indication of the possible source of error struggle to reject uncertain RAG answers:
(1) IOE has the worst rejection performance. For example, when using ChatGPT as a generator, it had the highest risk score and the lowest carefulness score on both datasets.
This suggests that directly judging confidence in the answer is difficult to overcome the LLM’s overconfidence problem in the RAG setting, due to reliance on retrieved results.
(2) The calibration-based approach also suffers from overconfidence, resulting in the worst scores for risk and carefulness on both datasets when using Mistral as a generator.
This shows that LLMs tend to output high confidence scores in the RAG setting without considering the potential misdirection of retrieved results.
(3) The priori approach performs better on both metrics, particularly on the risk score of RC-NQ, achieving the lowest risk score of 34.72% with ChatGPT.
This improvement is due to the prompt’s mention of "based on the given information," leading the LLM to focus more on the quality of the retrieved results.
</p>
</div>
<div class="ltx_para" id="S6.SS1.p3">
<p class="ltx_p" id="S6.SS1.p3.1">Our method outperforms the baselines in 3 out of the 4 settings (2 models and 2 datasets), achieving an average reduction of 2.88% on risk scores and an average improvement of 14.77% on carefulness scores.
The results show that uncertainty prediction based on retrieval results explicitly can effectively help risk control.
At the same time, alignment scores are not significantly inferior, especially on the RC-NQ dataset.
However, as trade-off, the performance of coverage is inferior to the baseline method.
It demonstrates how to balance risk control with coverage remains a difficult task.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.SS1.p4">
<p class="ltx_p" id="S6.SS1.p4.1"><span class="ltx_text ltx_font_bold" id="S6.SS1.p4.1.1">Risk control ability is dependent on the LLM ability.</span>
We compare the performance of RC-RAG when using different LLMs as generators.
We find that risk control works better with ChatGPT than with Mistral.
Benchmark statistics (Table <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S3.T1" title="Table 1 ‣ 3.2 Benchmark ‣ 3 Problem statement ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">1</span></a>) show that Mistral outperforms ChatGPT on both datasets, particularly on RC-NQ.
This indicates that risk control is more effective with weaker LLMs, underscoring the necessity of risk control methods. The underlying reason is that more capable models are more confident in both their internal knowledge and retrieved results. Consequently, Mistral achieves higher coverage scores, demonstrating that stronger LLMs tend to retain answers, which is consistent with the reasons for the above results.</p>
</div>
<figure class="ltx_table" id="S6.T5">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S6.T5.4">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S6.T5.4.4">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T5.4.4.5" style="padding-left:0.1pt;padding-right:0.1pt;"><span class="ltx_text ltx_font_bold" id="S6.T5.4.4.5.1">Method</span></th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T5.1.1.1" style="padding-left:0.1pt;padding-right:0.1pt;">risk<math alttext="\downarrow" class="ltx_Math" display="inline" id="S6.T5.1.1.1.m1.1"><semantics id="S6.T5.1.1.1.m1.1a"><mo id="S6.T5.1.1.1.m1.1.1" stretchy="false" xref="S6.T5.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T5.1.1.1.m1.1b"><ci id="S6.T5.1.1.1.m1.1.1.cmml" xref="S6.T5.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.1.1.1.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S6.T5.1.1.1.m1.1d">↓</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T5.2.2.2" style="padding-left:0.1pt;padding-right:0.1pt;">carefulness<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T5.2.2.2.m1.1"><semantics id="S6.T5.2.2.2.m1.1a"><mo id="S6.T5.2.2.2.m1.1.1" stretchy="false" xref="S6.T5.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T5.2.2.2.m1.1b"><ci id="S6.T5.2.2.2.m1.1.1.cmml" xref="S6.T5.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.2.2.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T5.2.2.2.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T5.3.3.3" style="padding-left:0.1pt;padding-right:0.1pt;">alignment<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T5.3.3.3.m1.1"><semantics id="S6.T5.3.3.3.m1.1a"><mo id="S6.T5.3.3.3.m1.1.1" stretchy="false" xref="S6.T5.3.3.3.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T5.3.3.3.m1.1b"><ci id="S6.T5.3.3.3.m1.1.1.cmml" xref="S6.T5.3.3.3.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.3.3.3.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T5.3.3.3.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T5.4.4.4" style="padding-left:0.1pt;padding-right:0.1pt;">coverage<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T5.4.4.4.m1.1"><semantics id="S6.T5.4.4.4.m1.1a"><mo id="S6.T5.4.4.4.m1.1.1" stretchy="false" xref="S6.T5.4.4.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T5.4.4.4.m1.1b"><ci id="S6.T5.4.4.4.m1.1.1.cmml" xref="S6.T5.4.4.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.4.4.4.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T5.4.4.4.m1.1d">↑</annotation></semantics></math>
</th>
</tr>
<tr class="ltx_tr" id="S6.T5.4.5.1">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T5.4.5.1.1" style="padding-left:0.1pt;padding-right:0.1pt;">Ours</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T5.4.5.1.2" style="padding-left:0.1pt;padding-right:0.1pt;">13.56</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T5.4.5.1.3" style="padding-left:0.1pt;padding-right:0.1pt;">75.75</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T5.4.5.1.4" style="padding-left:0.1pt;padding-right:0.1pt;">76.00</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T5.4.5.1.5" style="padding-left:0.1pt;padding-right:0.1pt;">59.00</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T5.4.6.1">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S6.T5.4.6.1.1" style="padding-left:0.1pt;padding-right:0.1pt;">CF-usage</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S6.T5.4.6.1.2" style="padding-left:0.1pt;padding-right:0.1pt;">18.31</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S6.T5.4.6.1.3" style="padding-left:0.1pt;padding-right:0.1pt;">60.61</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S6.T5.4.6.1.4" style="padding-left:0.1pt;padding-right:0.1pt;">78.00</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="S6.T5.4.6.1.5" style="padding-left:0.1pt;padding-right:0.1pt;">71.00</td>
</tr>
<tr class="ltx_tr" id="S6.T5.4.7.2">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S6.T5.4.7.2.1" style="padding-left:0.1pt;padding-right:0.1pt;">CF-quality</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S6.T5.4.7.2.2" style="padding-left:0.1pt;padding-right:0.1pt;">10.48</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S6.T5.4.7.2.3" style="padding-left:0.1pt;padding-right:0.1pt;">83.33</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S6.T5.4.7.2.4" style="padding-left:0.1pt;padding-right:0.1pt;">74.50</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="S6.T5.4.7.2.5" style="padding-left:0.1pt;padding-right:0.1pt;">52.50</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Ablation study results of RC-RAG on the subset of RC-TQ test set and ChatGPT with dense retriever.</figcaption>
</figure>
<figure class="ltx_table" id="S6.T6">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T6.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T6.1.1.1">
<td class="ltx_td ltx_align_justify ltx_border_tt" id="S6.T6.1.1.1.1" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S6.T6.1.1.1.1.1">
<span class="ltx_p" id="S6.T6.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.1.1.1">Question:</span> What was the purpose of a revival meeting during the second great awakening?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.2.2">
<td class="ltx_td ltx_align_justify" id="S6.T6.1.2.2.1" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S6.T6.1.2.2.1.1">
<span class="ltx_p" id="S6.T6.1.2.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.2.2.1.1.1.1">Ground-truth answer:</span> Evangelizing.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.3.3">
<td class="ltx_td ltx_align_justify" id="S6.T6.1.3.3.1" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S6.T6.1.3.3.1.1">
<span class="ltx_p" id="S6.T6.1.3.3.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.3.3.1.1.1.1">Passage:</span>
[Passage-1]: Title: Second Great Awakening Content: a sense of personal salvation. Upon their return home, most converts joined or created small local churches, which grew rapidly. Calvinists emphasized the inability of men to save themselves. The only way to be saved was by God’s electing grace. The Revival of 1800 in Logan County, Kentucky, began as a traditional Presbyterian sacramental occasion.
… [Passage-2]: … [Passage-3]: …</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.4.4">
<td class="ltx_td ltx_align_justify ltx_border_t" id="S6.T6.1.4.4.1" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S6.T6.1.4.4.1.1">
<span class="ltx_p" id="S6.T6.1.4.4.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.4.4.1.1.1.1">RAG answer:</span> The purpose of a revival meeting during the Second Great Awakening was to inspire individuals to seek personal salvation and join or create small local churches. Evidence: Passage-1</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.5.5">
<td class="ltx_td ltx_align_justify ltx_border_t" id="S6.T6.1.5.5.1" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S6.T6.1.5.5.1.1">
<span class="ltx_p" id="S6.T6.1.5.5.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.5.5.1.1.1.1">IOE:</span> The purpose of a revival meeting during the Second Great Awakening was to inspire individuals to seek personal salvation and join or create small local churches. Evidence: Passage-2, Passage-1 (<span class="ltx_text" id="S6.T6.1.5.5.1.1.1.2" style="color:#0000FF;">Keep</span>)</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.6.6">
<td class="ltx_td ltx_align_justify" id="S6.T6.1.6.6.1" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S6.T6.1.6.6.1.1">
<span class="ltx_p" id="S6.T6.1.6.6.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.6.6.1.1.1.1">Calibration:</span> Probability: 0.95 (<span class="ltx_text" id="S6.T6.1.6.6.1.1.1.2" style="color:#0000FF;">Keep</span>)</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.7.7">
<td class="ltx_td ltx_align_justify" id="S6.T6.1.7.7.1" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S6.T6.1.7.7.1.1">
<span class="ltx_p" id="S6.T6.1.7.7.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.7.7.1.1.1.1">Priori:</span> To inspire personal salvation and encourage individuals to turn to Christ.(<span class="ltx_text" id="S6.T6.1.7.7.1.1.1.2" style="color:#0000FF;">Keep</span>)</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.8.8">
<td class="ltx_td ltx_align_justify ltx_border_t" id="S6.T6.1.8.8.1" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S6.T6.1.8.8.1.1">
<span class="ltx_p" id="S6.T6.1.8.8.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.8.8.1.1.1.1">CF-usage:</span> The purpose of a revival meeting during the Second Great Awakening was to inspire individuals to seek personal salvation and join or create small local churches, as well as to provide an opportunity for settlers to encounter organized religion and socialize with others. (<span class="ltx_text" id="S6.T6.1.8.8.1.1.1.2" style="color:#0000FF;">Keep</span>)</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.9.9">
<td class="ltx_td ltx_align_justify" id="S6.T6.1.9.9.1" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S6.T6.1.9.9.1.1">
<span class="ltx_p" id="S6.T6.1.9.9.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.9.9.1.1.1.1">CF-quality:</span> Sorry, there is no information provided in the given passages about the purpose of a revival meeting during the Second Great Awakening. (<span class="ltx_text" id="S6.T6.1.9.9.1.1.1.2" style="color:#FF0000;">Discard</span>)</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.10.10">
<td class="ltx_td ltx_align_justify ltx_border_bb" id="S6.T6.1.10.10.1" style="padding-left:5.0pt;padding-right:5.0pt;">
<span class="ltx_inline-block ltx_align_top" id="S6.T6.1.10.10.1.1">
<span class="ltx_p" id="S6.T6.1.10.10.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.10.10.1.1.1.1">Fusion:</span> <span class="ltx_text" id="S6.T6.1.10.10.1.1.1.2" style="color:#FF0000;">Discard</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>An example (No.135) from the RC-NQ test data, to analyze the generated answers and judgments of different risk control method for RAG.
We mark the correct judgments in red and wrong ones in blue.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S6.SS1.p5">
<p class="ltx_p" id="S6.SS1.p5.1"><span class="ltx_text ltx_font_bold" id="S6.SS1.p5.1.1">Task difficulty has limited influence on risk control ability.</span>
We compared the effect of RAG risk control methods on different tasks.
According to the risk and alignment scores, we find that the risk control methods perform worse in RC-NQ than in RC-TQ.
The statistics of the benchmark (Table <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S3.T1" title="Table 1 ‣ 3.2 Benchmark ‣ 3 Problem statement ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">1</span></a>) show that RC-NQ is significantly more difficult than RC-TQ, as both ChatGPT and Mistral have a lower percentage of answerable samples on the RC-NQ dataset.
We find that the more difficult the task to answer, the more difficult the risk control.
For coverage scores, the performance in RC-NQ is also weaker.
However, the performance in terms of carefulness scores was largely flat.
The conclusion drawn from the above phenomenon is that <span class="ltx_text ltx_font_italic" id="S6.SS1.p5.1.2">the difficulty of the task has a limited effect on the ability of the risk control method to accurately identify unanswerable samples</span>.
As the proportion of samples that cannot be answered is larger in tasks with higher difficulty, the proportion of samples (UK) that cannot be answered but are retained will also be larger, and the risk and coverage scores will be correspondingly increased.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span>Impact of retriever</h3>
<div class="ltx_para" id="S6.SS2.p1">
<p class="ltx_p" id="S6.SS2.p1.1">To answer <span class="ltx_text ltx_font_bold" id="S6.SS2.p1.1.1">RQ4</span>, we compared the performance of risk control of RAG with different retriever.
Results are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S5.T4" title="Table 4 ‣ 5 Experiment settings ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">4</span></a>, conducted on the RC-NQ test set using Mistral as a generator.</p>
</div>
<div class="ltx_para" id="S6.SS2.p2">
<p class="ltx_p" id="S6.SS2.p2.1">By comparing the results using different retrievers, we observe that the risk control method is more cautious with the sparse retriever in terms of carefulness.
However, the sparse retriever results in significantly more unanswerable samples than the dense retriever (Table <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A1.T7" title="Table 7 ‣ Appendix A Details about annotation ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">7</span></a> in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A1" title="Appendix A Details about annotation ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">A</span></a>), leading to a higher risk score.
Additionally, the experimental results show that our method outperforms all baselines using both retrievers in terms of risk, carefulness, and alignment.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3 </span>Analysis of CF prompt and fusion strategy</h3>
<div class="ltx_para" id="S6.SS3.p1">
<p class="ltx_p" id="S6.SS3.p1.1">To answer <span class="ltx_text ltx_font_bold" id="S6.SS3.p1.1.1">RQ5</span>, we conduct ablation study to investigate the effects of the two CF prompts separately.
The experiment was conducted on a subset of the RC-TQ test set using ChatGPT as a generator.
We used CF-quality and CF-usage separately in prompting generation module, followed by the judgement module.
The experimental results are shown in the Table <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S6.T5" title="Table 5 ‣ 6.1 Main results ‣ 6 Experiment results ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">5</span></a>, from which we have the following observations.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.SS3.p2">
<p class="ltx_p" id="S6.SS3.p2.1"><span class="ltx_text ltx_font_bold" id="S6.SS3.p2.1.1">Only CF-usage prompting.</span>
The effect of risk control decreases while the coverage score increases, indicating that the model tends to stick to its answer when confronted with challenge about the usage of retrieved results.
This shows that the model is confident about the usage of retrieved results, which is essentially the internal knowledge of the LLMs, consistent with their characteristics of overconfidence.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.SS3.p3">
<p class="ltx_p" id="S6.SS3.p3.1"><span class="ltx_text ltx_font_bold" id="S6.SS3.p3.1.1">Only CF-quality prompting.</span>
In contrast to the above, the risk score decreases significantly, indicating that the model tends to modify its answers when confronted with challenge about the quality of retrieved results.
This shows that the model is sensitive to the challenge of the quality of retrieved results, which belongs to external knowledge, and the model itself does not have the ability to judge the quality of external knowledge.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.SS3.p4">
<p class="ltx_p" id="S6.SS3.p4.1"><span class="ltx_text ltx_font_bold" id="S6.SS3.p4.1.1">Fusion strategy.</span>
The comparison results using two different fusion strategies are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A3.T8" title="Table 8 ‣ C.2 Prompt for prompting generation ‣ Appendix C Prompt for CF prompting framework ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">8</span></a> in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A6" title="Appendix F Analysis of fusion strategies ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">F</span></a>.
Our complete approach with fusion module can effectively balance the two situations, considering both risk and coverage.
Specifically, the direct fusion strategy can identify the unanswerable samples more effectively.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.4 </span>Case study</h3>
<div class="ltx_para" id="S6.SS4.p1">
<p class="ltx_p" id="S6.SS4.p1.1">To answer <span class="ltx_text ltx_font_bold" id="S6.SS4.p1.1.1">RQ6</span>, we conduct a case study to illustrate the working mechanism of our method, based on ChatGPT augmented with dense retrieval.</p>
</div>
<div class="ltx_para" id="S6.SS4.p2">
<p class="ltx_p" id="S6.SS4.p2.1">As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S6.T6" title="Table 6 ‣ 6.1 Main results ‣ 6 Experiment results ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">6</span></a>, the RAG answer and its referred passages inaccurately address the question, yet no baseline methods reject to answer.
Our approach, while unable to detect errors when the usage of retrieved passages is challenged, recognizes their quality limitation and abstains from providing an answer.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Conclusion</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">In this work, we propose a counterfactual prompting framework for assessing the uncertainty of RAG results, based on the quality of the retrieved results and the manner in which they are used.
We construct a benchmark and design risk-related evaluation metrics. Experimental results with two LLMs on two datasets show that our method can effectively reject unanswerable samples and has a certain interpretability.
In the future, we will explore other factors that may affect predictive uncertainty in RAG, such as conflicts between internal and external knowledge. Additionally, we will attempt to design objective functions based on risk-related metrics to guide the joint learning of the risk control framework and the RAG model.</p>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Limitations</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">Our approach requires multiple rounds of prompting generation, which is computationally expensive. Therefore, further exploration of more efficient prompting generation methods is necessary.
Additionally, the current fusion strategy is heuristic. In the future, semantic information can be incorporated to aid in the integration of the two judgments.
Furthermore, we only considered risk control in a zero-shot scenario. In the future, designing objective functions based on risk-related metrics for joint training with the RAG framework could be explored, aiming to achieve an effective balance between risk control and answering capability.</p>
</div>
</section>
<section class="ltx_section" id="Sx2">
<h2 class="ltx_title ltx_title_section">Ethics statement</h2>
<div class="ltx_para" id="Sx2.p1">
<p class="ltx_p" id="Sx2.p1.1">We have emphasized ethical considerations at every stage to ensure the responsible application of AI technologies.
This work does not utilize personally identifiable information or require manually annotated datasets.
Our methods are transparent, and we have made our data and code public to facilitate reproducibility and further research.</p>
</div>
</section>
<section class="ltx_section" id="Sx3">
<h2 class="ltx_title ltx_title_section">Acknowledgments</h2>
<div class="ltx_para" id="Sx3.p1">
<p class="ltx_p" id="Sx3.p1.1">This work was funded by the National Natural Science Foundation of China (NSFC) under Grants No. 62372431 and 62472408, the Strategic Priority Research Program of the CAS under Grants No. XDB0680102, XDB0680301, the National Key Research and Development Program of China under Grants No. 2023YFA1011602 and 2021QY1701, the Youth Innovation Promotion Association CAS under Grants No. 2021100, the Lenovo-CAS Joint Lab Youth Scientist Project, and the project under Grants No. JCKY2022130C039.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Aghaebrahimian (2018)</span>
<span class="ltx_bibblock">
Ahmad Aghaebrahimian. 2018.

</span>
<span class="ltx_bibblock">Linguistically-based deep unstructured question answering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">Proceedings of the 22nd Conference on Computational Natural Language Learning</em>, pages 433–443.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Aghaebrahimian and Jurcícek (2016)</span>
<span class="ltx_bibblock">
Ahmad Aghaebrahimian and Filip Jurcícek. 2016.

</span>
<span class="ltx_bibblock">Open-domain factoid question answering via knowledge graph search.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">Proceedings of the workshop on human-computer question answering</em>, pages 22–28.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ai et al. (2023)</span>
<span class="ltx_bibblock">
Qingyao Ai, Ting Bai, Zhao Cao, Yi Chang, Jiawei Chen, Zhumin Chen, Zhiyong Cheng, Shoubin Dong, Zhicheng Dou, Fuli Feng, et al. 2023.

</span>
<span class="ltx_bibblock">Information retrieval meets large language models: a strategic report from chinese ir community.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">AI Open</em>, 4:80–90.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Asai et al. (2023)</span>
<span class="ltx_bibblock">
Akari Asai, Zeqiu Wu, Yizhong Wang, Avirup Sil, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock">Self-rag: Learning to retrieve, generate, and critique through self-reflection.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">The Twelfth International Conference on Learning Representations</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Azamfirei et al. (2023)</span>
<span class="ltx_bibblock">
Razvan Azamfirei, Sapna R Kudchadkar, and James Fackler. 2023.

</span>
<span class="ltx_bibblock">Large language models and the perils of their hallucinations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">Critical Care</em>, 27(1):120.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Azaria and Mitchell (2023)</span>
<span class="ltx_bibblock">
Amos Azaria and Tom Mitchell. 2023.

</span>
<span class="ltx_bibblock">The internal state of an llm knows when it’s lying.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Findings of the Association for Computational Linguistics: EMNLP 2023</em>, pages 967–976.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Borgeaud et al. (2021)</span>
<span class="ltx_bibblock">
Sebastian Borgeaud, Arthur Mensch, Jordan Hoffmann, Trevor Cai, Eliza Rutherford, Katie Millican, George van den Driessche, Jean-Baptiste Lespiau, Bogdan Damoc, Aidan Clark, et al. 2021.

</span>
<span class="ltx_bibblock">Improving language models by retrieving from trillions of tokens.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2112.04426</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al. (2020)</span>
<span class="ltx_bibblock">
Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, et al. 2020.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">Advances in neural information processing systems</em>, 33:1877–1901.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deng et al. (2023)</span>
<span class="ltx_bibblock">
Xun Deng, Wenjie Wang, Fuli Feng, Hanwang Zhang, Xiangnan He, and Yong Liao. 2023.

</span>
<span class="ltx_bibblock">Counterfactual active learning for out-of-distribution generalization.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pages 11362–11377.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Feng et al. (2024)</span>
<span class="ltx_bibblock">
Shangbin Feng, Weijia Shi, Yike Wang, Wenxuan Ding, Vidhisha Balachandran, and Yulia Tsvetkov. 2024.

</span>
<span class="ltx_bibblock">Don’t hallucinate, abstain: Identifying llm knowledge gaps via multi-llm collaboration.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">arXiv preprint arXiv:2402.00367</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2023)</span>
<span class="ltx_bibblock">
Yunfan Gao, Yun Xiong, Xinyu Gao, Kangxiang Jia, Jinliu Pan, Yuxi Bi, Yi Dai, Jiawei Sun, and Haofen Wang. 2023.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for large language models: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:2312.10997</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guu et al. (2020)</span>
<span class="ltx_bibblock">
Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Ming-Wei Chang. 2020.

</span>
<span class="ltx_bibblock">Realm: retrieval-augmented language model pre-training.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">Proceedings of the 37th International Conference on Machine Learning</em>, pages 3929–3938.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard and Grave (2021)</span>
<span class="ltx_bibblock">
Gautier Izacard and Édouard Grave. 2021.

</span>
<span class="ltx_bibblock">Leveraging passage retrieval with generative models for open domain question answering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">Proceedings of the 16th Conference of the European Chapter of the Association for Computational Linguistics: Main Volume</em>, pages 874–880.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard et al. (2023)</span>
<span class="ltx_bibblock">
Gautier Izacard, Patrick Lewis, Maria Lomeli, Lucas Hosseini, Fabio Petroni, Timo Schick, Jane Dwivedi-Yu, Armand Joulin, Sebastian Riedel, and Edouard Grave. 2023.

</span>
<span class="ltx_bibblock">Atlas: Few-shot learning with retrieval augmented language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">Journal of Machine Learning Research</em>, 24(251):1–43.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2024)</span>
<span class="ltx_bibblock">
Albert Q Jiang, Alexandre Sablayrolles, Antoine Roux, Arthur Mensch, Blanche Savary, Chris Bamford, Devendra Singh Chaplot, Diego de las Casas, Emma Bou Hanna, Florian Bressand, et al. 2024.

</span>
<span class="ltx_bibblock">Mixtral of experts.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:2401.04088</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2023)</span>
<span class="ltx_bibblock">
Zhengbao Jiang, Frank F Xu, Luyu Gao, Zhiqing Sun, Qian Liu, Jane Dwivedi-Yu, Yiming Yang, Jamie Callan, and Graham Neubig. 2023.

</span>
<span class="ltx_bibblock">Active retrieval augmented generation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pages 7969–7992.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Joshi et al. (2017)</span>
<span class="ltx_bibblock">
Mandar Joshi, Eunsol Choi, Daniel S Weld, and Luke Zettlemoyer. 2017.

</span>
<span class="ltx_bibblock">Triviaqa: A large scale distantly supervised challenge dataset for reading comprehension.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">arXiv preprint arXiv:1705.03551</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kadavath et al. (2022)</span>
<span class="ltx_bibblock">
Saurav Kadavath, Tom Conerly, Amanda Askell, Tom Henighan, Dawn Drain, Ethan Perez, Nicholas Schiefer, Zac Hatfield-Dodds, Nova DasSarma, Eli Tran-Johnson, et al. 2022.

</span>
<span class="ltx_bibblock">Language models (mostly) know what they know.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">arXiv preprint arXiv:2207.05221</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kandpal et al. (2023)</span>
<span class="ltx_bibblock">
Nikhil Kandpal, Haikang Deng, Adam Roberts, Eric Wallace, and Colin Raffel. 2023.

</span>
<span class="ltx_bibblock">Large language models struggle to learn long-tail knowledge.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">Proceedings of the 40th International Conference on Machine Learning</em>, pages 15696–15707.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kwiatkowski et al. (2019)</span>
<span class="ltx_bibblock">
Tom Kwiatkowski, Jennimaria Palomaki, Olivia Redfield, Michael Collins, Ankur Parikh, Chris Alberti, Danielle Epstein, Illia Polosukhin, Jacob Devlin, Kenton Lee, et al. 2019.

</span>
<span class="ltx_bibblock">Natural questions: a benchmark for question answering research.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">Transactions of the Association for Computational Linguistics</em>, 7:453–466.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, et al. 2020.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Advances in Neural Information Processing Systems</em>, 33:9459–9474.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023a)</span>
<span class="ltx_bibblock">
Daliang Li, Ankit Singh Rawat, Manzil Zaheer, Xin Wang, Michal Lukasik, Andreas Veit, Felix Yu, and Sanjiv Kumar. 2023a.

</span>
<span class="ltx_bibblock">Large language models with controllable working memory.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Findings of the Association for Computational Linguistics: ACL 2023</em>, pages 1774–1793.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023b)</span>
<span class="ltx_bibblock">
Junnan Li, Dongxu Li, Silvio Savarese, and Steven Hoi. 2023b.

</span>
<span class="ltx_bibblock">Blip-2: Bootstrapping language-image pre-training with frozen image encoders and large language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">International conference on machine learning</em>, pages 19730–19742. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2024)</span>
<span class="ltx_bibblock">
Loka Li, Guangyi Chen, Yusheng Su, Zhenhao Chen, Yixuan Zhang, Eric Xing, and Kun Zhang. 2024.

</span>
<span class="ltx_bibblock">Confidence matters: Revisiting intrinsic self-correction capabilities of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">arXiv preprint arXiv:2402.12563</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al. (2023)</span>
<span class="ltx_bibblock">
Zhen Lin, Shubhendu Trivedi, and Jimeng Sun. 2023.

</span>
<span class="ltx_bibblock">Generating with confidence: Uncertainty quantification for black-box large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">arXiv preprint arXiv:2305.19187</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2024)</span>
<span class="ltx_bibblock">
Yanming Liu, Xinyue Peng, Xuhong Zhang, Weihao Liu, Jianwei Yin, Jiannan Cao, and Tianyu Du. 2024.

</span>
<span class="ltx_bibblock">Ra-isf: Learning to answer and understand from retrieval augmentation via iterative self-feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">arXiv preprint arXiv:2403.06840</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Longpre et al. (2021)</span>
<span class="ltx_bibblock">
Shayne Longpre, Kartik Perisetla, Anthony Chen, Nikhil Ramesh, Chris DuBois, and Sameer Singh. 2021.

</span>
<span class="ltx_bibblock">Entity-based knowledge conflicts in question answering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">Proceedings of the 2021 Conference on Empirical Methods in Natural Language Processing</em>, pages 7052–7063.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mallen et al. (2023)</span>
<span class="ltx_bibblock">
Alex Mallen, Akari Asai, Victor Zhong, Rajarshi Das, Daniel Khashabi, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock">When not to trust language models: Investigating effectiveness of parametric and non-parametric memories.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pages 9802–9822.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Manakul et al. (2023)</span>
<span class="ltx_bibblock">
Potsawee Manakul, Adian Liusie, and Mark Gales. 2023.

</span>
<span class="ltx_bibblock">Selfcheckgpt: Zero-resource black-box hallucination detection for generative large language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pages 9004–9017.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nan et al. (2021)</span>
<span class="ltx_bibblock">
Guoshun Nan, Jiaqi Zeng, Rui Qiao, Zhijiang Guo, and Wei Lu. 2021.

</span>
<span class="ltx_bibblock">Uncovering main causalities for long-tailed information extraction.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Proceedings of the 2021 Conference on Empirical Methods in Natural Language Processing</em>, pages 9683–9695.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Niu et al. (2021)</span>
<span class="ltx_bibblock">
Yulei Niu, Kaihua Tang, Hanwang Zhang, Zhiwu Lu, Xian-Sheng Hua, and Ji-Rong Wen. 2021.

</span>
<span class="ltx_bibblock">Counterfactual vqa: A cause-effect look at language bias.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition</em>, pages 12700–12710.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ouyang et al. (2022)</span>
<span class="ltx_bibblock">
Long Ouyang, Jeffrey Wu, Xu Jiang, Diogo Almeida, Carroll Wainwright, Pamela Mishkin, Chong Zhang, Sandhini Agarwal, Katarina Slama, Alex Ray, et al. 2022.

</span>
<span class="ltx_bibblock">Training language models to follow instructions with human feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">Advances in neural information processing systems</em>, 35:27730–27744.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pearl (2009)</span>
<span class="ltx_bibblock">
Judea Pearl. 2009.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">Causality</em>.

</span>
<span class="ltx_bibblock">Cambridge university press.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Petroni et al. (2021)</span>
<span class="ltx_bibblock">
Fabio Petroni, Aleksandra Piktus, Angela Fan, Patrick Lewis, Majid Yazdani, Nicola De Cao, James Thorne, Yacine Jernite, Vladimir Karpukhin, Jean Maillard, et al. 2021.

</span>
<span class="ltx_bibblock">Kilt: a benchmark for knowledge intensive language tasks.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">Proceedings of the 2021 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies</em>, pages 2523–2544.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qian et al. (2021)</span>
<span class="ltx_bibblock">
Chen Qian, Fuli Feng, Lijie Wen, Chunping Ma, and Pengjun Xie. 2021.

</span>
<span class="ltx_bibblock">Counterfactual inference for text classification debiasing.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">Proceedings of the 59th Annual Meeting of the Association for Computational Linguistics and the 11th International Joint Conference on Natural Language Processing (Volume 1: Long Papers)</em>, pages 5434–5445.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qian et al. (2023)</span>
<span class="ltx_bibblock">
Cheng Qian, Xinran Zhao, and Sherry Tongshuang Wu. 2023.

</span>
<span class="ltx_bibblock">" merge conflicts!" exploring the impacts of external distractors to parametric knowledge graphs.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">arXiv preprint arXiv:2309.08594</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ram et al. (2023)</span>
<span class="ltx_bibblock">
Ori Ram, Yoav Levine, Itay Dalmedigos, Dor Muhlgay, Amnon Shashua, Kevin Leyton-Brown, and Yoav Shoham. 2023.

</span>
<span class="ltx_bibblock">In-context retrieval-augmented language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">Transactions of the Association for Computational Linguistics</em>, 11:1316–1331.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ren et al. (2023)</span>
<span class="ltx_bibblock">
Ruiyang Ren, Yuhao Wang, Yingqi Qu, Wayne Xin Zhao, Jing Liu, Hao Tian, Hua Wu, Ji-Rong Wen, and Haifeng Wang. 2023.

</span>
<span class="ltx_bibblock">Investigating the factual knowledge boundary of large language models with retrieval augmentation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">arXiv preprint arXiv:2307.11019</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Roumeliotis and Tselikas (2023)</span>
<span class="ltx_bibblock">
Konstantinos I Roumeliotis and Nikolaos D Tselikas. 2023.

</span>
<span class="ltx_bibblock">Chatgpt and open-ai models: A preliminary review.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">Future Internet</em>, 15(6):192.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et al. (2023)</span>
<span class="ltx_bibblock">
Weijia Shi, Sewon Min, Michihiro Yasunaga, Minjoon Seo, Rich James, Mike Lewis, Luke Zettlemoyer, and Wen-tau Yih. 2023.

</span>
<span class="ltx_bibblock">Replug: Retrieval-augmented black-box language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">arXiv preprint arXiv:2301.12652</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Singh et al. (2021)</span>
<span class="ltx_bibblock">
Devendra Singh, Siva Reddy, Will Hamilton, Chris Dyer, and Dani Yogatama. 2021.

</span>
<span class="ltx_bibblock">End-to-end training of multi-document reader and retriever for open-domain question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">Advances in Neural Information Processing Systems</em>, 34:25968–25981.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Slobodkin et al. (2023)</span>
<span class="ltx_bibblock">
Aviv Slobodkin, Omer Goldman, Avi Caciularu, Ido Dagan, and Shauli Ravfogel. 2023.

</span>
<span class="ltx_bibblock">The curious case of hallucinatory (un) answerability: Finding truths in the hidden states of over-confident large language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pages 3607–3625.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tan et al. (2024)</span>
<span class="ltx_bibblock">
Hexiang Tan, Fei Sun, Wanli Yang, Yuanzhuo Wang, Qi Cao, and Xueqi Cheng. 2024.

</span>
<span class="ltx_bibblock">Blinded by generated contexts: How language models merge generated and retrieved contexts for open-domain qa?

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">arXiv preprint arXiv:2401.11911</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thorne et al. (2018)</span>
<span class="ltx_bibblock">
James Thorne, Andreas Vlachos, Christos Christodoulopoulos, and Arpit Mittal. 2018.

</span>
<span class="ltx_bibblock">Fever: a large-scale dataset for fact extraction and verification.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">arXiv preprint arXiv:1803.05355</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tian et al. (2023)</span>
<span class="ltx_bibblock">
Katherine Tian, Eric Mitchell, Allan Zhou, Archit Sharma, Rafael Rafailov, Huaxiu Yao, Chelsea Finn, and Christopher D Manning. 2023.

</span>
<span class="ltx_bibblock">Just ask for calibration: Strategies for eliciting calibrated confidence scores from language models fine-tuned with human feedback.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pages 5433–5442.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al. 2023.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">arXiv preprint arXiv:2307.09288</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Trivedi et al. (2023)</span>
<span class="ltx_bibblock">
Harsh Trivedi, Niranjan Balasubramanian, Tushar Khot, and Ashish Sabharwal. 2023.

</span>
<span class="ltx_bibblock">Interleaving retrieval with chain-of-thought reasoning for knowledge-intensive multi-step questions.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pages 10014–10037.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2022)</span>
<span class="ltx_bibblock">
Wenjie Wang, Xinyu Lin, Fuli Feng, Xiangnan He, Min Lin, and Tat-Seng Chua. 2022.

</span>
<span class="ltx_bibblock">Causal representation learning for out-of-distribution recommendation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">Proceedings of the ACM Web Conference 2022</em>, pages 3562–3571.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023)</span>
<span class="ltx_bibblock">
Yile Wang, Peng Li, Maosong Sun, and Yang Liu. 2023.

</span>
<span class="ltx_bibblock">Self-knowledge guided retrieval augmentation for large language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">Findings of the Association for Computational Linguistics: EMNLP 2023</em>, pages 10303–10315.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2021)</span>
<span class="ltx_bibblock">
Tianxin Wei, Fuli Feng, Jiawei Chen, Ziwei Wu, Jinfeng Yi, and Xiangnan He. 2021.

</span>
<span class="ltx_bibblock">Model-agnostic counterfactual reasoning for eliminating popularity bias in recommender system.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">Proceedings of the 27th ACM SIGKDD Conference on Knowledge Discovery &amp; Data Mining</em>, pages 1791–1800.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xie et al. (2023)</span>
<span class="ltx_bibblock">
Jian Xie, Kai Zhang, Jiangjie Chen, Renze Lou, and Yu Su. 2023.

</span>
<span class="ltx_bibblock">Adaptive chameleon or stubborn sloth: Unraveling the behavior of large language models in knowledge conflicts.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib51.1.1">arXiv preprint arXiv:2305.13300</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xie et al. (2021)</span>
<span class="ltx_bibblock">
Yuexiang Xie, Fei Sun, Yang Deng, Yaliang Li, and Bolin Ding. 2021.

</span>
<span class="ltx_bibblock">Factual consistency evaluation for text summarization via counterfactual estimation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib52.1.1">Findings of the Association for Computational Linguistics: EMNLP 2021</em>, pages 100–110.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2023)</span>
<span class="ltx_bibblock">
Yuqing Yang, Ethan Chern, Xipeng Qiu, Graham Neubig, and Pengfei Liu. 2023.

</span>
<span class="ltx_bibblock">Alignment for honesty.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib53.1.1">arXiv preprint arXiv:2312.07000</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2018)</span>
<span class="ltx_bibblock">
Zhilin Yang, Peng Qi, Saizheng Zhang, Yoshua Bengio, William W Cohen, Ruslan Salakhutdinov, and Christopher D Manning. 2018.

</span>
<span class="ltx_bibblock">Hotpotqa: A dataset for diverse, explainable multi-hop question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib54.1.1">arXiv preprint arXiv:1809.09600</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ye et al. (2023)</span>
<span class="ltx_bibblock">
Hongbin Ye, Tong Liu, Aijia Zhang, Wei Hua, and Weiqiang Jia. 2023.

</span>
<span class="ltx_bibblock">Cognitive mirage: A review of hallucinations in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">arXiv preprint arXiv:2309.06794</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yin et al. (2023)</span>
<span class="ltx_bibblock">
Zhangyue Yin, Qiushi Sun, Qipeng Guo, Jiawen Wu, Xipeng Qiu, and Xuan-Jing Huang. 2023.

</span>
<span class="ltx_bibblock">Do large language models know what they don’t know?

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib56.1.1">Findings of the Association for Computational Linguistics: ACL 2023</em>, pages 8653–8665.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yoran et al. (2023)</span>
<span class="ltx_bibblock">
Ori Yoran, Tomer Wolfson, Ori Ram, and Jonathan Berant. 2023.

</span>
<span class="ltx_bibblock">Making retrieval-augmented language models robust to irrelevant context.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib57.1.1">The Twelfth International Conference on Learning Representations</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2024)</span>
<span class="ltx_bibblock">
Hengran Zhang, Ruqing Zhang, Jiafeng Guo, Maarten de Rijke, Yixing Fan, and Xueqi Cheng. 2024.

</span>
<span class="ltx_bibblock">Are large language models good at utility judgments?

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib58.1.1">arXiv preprint arXiv:2403.19216</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al. (2023)</span>
<span class="ltx_bibblock">
Yutao Zhu, Huaying Yuan, Shuting Wang, Jiongnan Liu, Wenhan Liu, Chenlong Deng, Zhicheng Dou, and Ji-Rong Wen. 2023.

</span>
<span class="ltx_bibblock">Large language models for information retrieval: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib59.1.1">arXiv preprint arXiv:2308.07107</em>.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Details about annotation</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.6">At the judgment annotation stage, we define the following criteria:
Given the ground-truth answer <math alttext="a" class="ltx_Math" display="inline" id="A1.p1.1.m1.1"><semantics id="A1.p1.1.m1.1a"><mi id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b"><ci id="A1.p1.1.m1.1.1.cmml" xref="A1.p1.1.m1.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">a</annotation><annotation encoding="application/x-llamapun" id="A1.p1.1.m1.1d">italic_a</annotation></semantics></math> and the RAG answer <math alttext="\hat{a}" class="ltx_Math" display="inline" id="A1.p1.2.m2.1"><semantics id="A1.p1.2.m2.1a"><mover accent="true" id="A1.p1.2.m2.1.1" xref="A1.p1.2.m2.1.1.cmml"><mi id="A1.p1.2.m2.1.1.2" xref="A1.p1.2.m2.1.1.2.cmml">a</mi><mo id="A1.p1.2.m2.1.1.1" xref="A1.p1.2.m2.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="A1.p1.2.m2.1b"><apply id="A1.p1.2.m2.1.1.cmml" xref="A1.p1.2.m2.1.1"><ci id="A1.p1.2.m2.1.1.1.cmml" xref="A1.p1.2.m2.1.1.1">^</ci><ci id="A1.p1.2.m2.1.1.2.cmml" xref="A1.p1.2.m2.1.1.2">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.2.m2.1c">\hat{a}</annotation><annotation encoding="application/x-llamapun" id="A1.p1.2.m2.1d">over^ start_ARG italic_a end_ARG</annotation></semantics></math>, if <math alttext="EM(a,\hat{a})=1,F1&gt;\tau,RougeL&gt;\tau" class="ltx_Math" display="inline" id="A1.p1.3.m3.4"><semantics id="A1.p1.3.m3.4a"><mrow id="A1.p1.3.m3.4.4.2" xref="A1.p1.3.m3.4.4.3.cmml"><mrow id="A1.p1.3.m3.3.3.1.1" xref="A1.p1.3.m3.3.3.1.1.cmml"><mrow id="A1.p1.3.m3.3.3.1.1.2" xref="A1.p1.3.m3.3.3.1.1.2.cmml"><mi id="A1.p1.3.m3.3.3.1.1.2.2" xref="A1.p1.3.m3.3.3.1.1.2.2.cmml">E</mi><mo id="A1.p1.3.m3.3.3.1.1.2.1" xref="A1.p1.3.m3.3.3.1.1.2.1.cmml">⁢</mo><mi id="A1.p1.3.m3.3.3.1.1.2.3" xref="A1.p1.3.m3.3.3.1.1.2.3.cmml">M</mi><mo id="A1.p1.3.m3.3.3.1.1.2.1a" xref="A1.p1.3.m3.3.3.1.1.2.1.cmml">⁢</mo><mrow id="A1.p1.3.m3.3.3.1.1.2.4.2" xref="A1.p1.3.m3.3.3.1.1.2.4.1.cmml"><mo id="A1.p1.3.m3.3.3.1.1.2.4.2.1" stretchy="false" xref="A1.p1.3.m3.3.3.1.1.2.4.1.cmml">(</mo><mi id="A1.p1.3.m3.1.1" xref="A1.p1.3.m3.1.1.cmml">a</mi><mo id="A1.p1.3.m3.3.3.1.1.2.4.2.2" xref="A1.p1.3.m3.3.3.1.1.2.4.1.cmml">,</mo><mover accent="true" id="A1.p1.3.m3.2.2" xref="A1.p1.3.m3.2.2.cmml"><mi id="A1.p1.3.m3.2.2.2" xref="A1.p1.3.m3.2.2.2.cmml">a</mi><mo id="A1.p1.3.m3.2.2.1" xref="A1.p1.3.m3.2.2.1.cmml">^</mo></mover><mo id="A1.p1.3.m3.3.3.1.1.2.4.2.3" stretchy="false" xref="A1.p1.3.m3.3.3.1.1.2.4.1.cmml">)</mo></mrow></mrow><mo id="A1.p1.3.m3.3.3.1.1.1" xref="A1.p1.3.m3.3.3.1.1.1.cmml">=</mo><mn id="A1.p1.3.m3.3.3.1.1.3" xref="A1.p1.3.m3.3.3.1.1.3.cmml">1</mn></mrow><mo id="A1.p1.3.m3.4.4.2.3" xref="A1.p1.3.m3.4.4.3a.cmml">,</mo><mrow id="A1.p1.3.m3.4.4.2.2.2" xref="A1.p1.3.m3.4.4.2.2.3.cmml"><mrow id="A1.p1.3.m3.4.4.2.2.1.1" xref="A1.p1.3.m3.4.4.2.2.1.1.cmml"><mrow id="A1.p1.3.m3.4.4.2.2.1.1.2" xref="A1.p1.3.m3.4.4.2.2.1.1.2.cmml"><mi id="A1.p1.3.m3.4.4.2.2.1.1.2.2" xref="A1.p1.3.m3.4.4.2.2.1.1.2.2.cmml">F</mi><mo id="A1.p1.3.m3.4.4.2.2.1.1.2.1" xref="A1.p1.3.m3.4.4.2.2.1.1.2.1.cmml">⁢</mo><mn id="A1.p1.3.m3.4.4.2.2.1.1.2.3" xref="A1.p1.3.m3.4.4.2.2.1.1.2.3.cmml">1</mn></mrow><mo id="A1.p1.3.m3.4.4.2.2.1.1.1" xref="A1.p1.3.m3.4.4.2.2.1.1.1.cmml">&gt;</mo><mi id="A1.p1.3.m3.4.4.2.2.1.1.3" xref="A1.p1.3.m3.4.4.2.2.1.1.3.cmml">τ</mi></mrow><mo id="A1.p1.3.m3.4.4.2.2.2.3" xref="A1.p1.3.m3.4.4.2.2.3a.cmml">,</mo><mrow id="A1.p1.3.m3.4.4.2.2.2.2" xref="A1.p1.3.m3.4.4.2.2.2.2.cmml"><mrow id="A1.p1.3.m3.4.4.2.2.2.2.2" xref="A1.p1.3.m3.4.4.2.2.2.2.2.cmml"><mi id="A1.p1.3.m3.4.4.2.2.2.2.2.2" xref="A1.p1.3.m3.4.4.2.2.2.2.2.2.cmml">R</mi><mo id="A1.p1.3.m3.4.4.2.2.2.2.2.1" xref="A1.p1.3.m3.4.4.2.2.2.2.2.1.cmml">⁢</mo><mi id="A1.p1.3.m3.4.4.2.2.2.2.2.3" xref="A1.p1.3.m3.4.4.2.2.2.2.2.3.cmml">o</mi><mo id="A1.p1.3.m3.4.4.2.2.2.2.2.1a" xref="A1.p1.3.m3.4.4.2.2.2.2.2.1.cmml">⁢</mo><mi id="A1.p1.3.m3.4.4.2.2.2.2.2.4" xref="A1.p1.3.m3.4.4.2.2.2.2.2.4.cmml">u</mi><mo id="A1.p1.3.m3.4.4.2.2.2.2.2.1b" xref="A1.p1.3.m3.4.4.2.2.2.2.2.1.cmml">⁢</mo><mi id="A1.p1.3.m3.4.4.2.2.2.2.2.5" xref="A1.p1.3.m3.4.4.2.2.2.2.2.5.cmml">g</mi><mo id="A1.p1.3.m3.4.4.2.2.2.2.2.1c" xref="A1.p1.3.m3.4.4.2.2.2.2.2.1.cmml">⁢</mo><mi id="A1.p1.3.m3.4.4.2.2.2.2.2.6" xref="A1.p1.3.m3.4.4.2.2.2.2.2.6.cmml">e</mi><mo id="A1.p1.3.m3.4.4.2.2.2.2.2.1d" xref="A1.p1.3.m3.4.4.2.2.2.2.2.1.cmml">⁢</mo><mi id="A1.p1.3.m3.4.4.2.2.2.2.2.7" xref="A1.p1.3.m3.4.4.2.2.2.2.2.7.cmml">L</mi></mrow><mo id="A1.p1.3.m3.4.4.2.2.2.2.1" xref="A1.p1.3.m3.4.4.2.2.2.2.1.cmml">&gt;</mo><mi id="A1.p1.3.m3.4.4.2.2.2.2.3" xref="A1.p1.3.m3.4.4.2.2.2.2.3.cmml">τ</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.3.m3.4b"><apply id="A1.p1.3.m3.4.4.3.cmml" xref="A1.p1.3.m3.4.4.2"><csymbol cd="ambiguous" id="A1.p1.3.m3.4.4.3a.cmml" xref="A1.p1.3.m3.4.4.2.3">formulae-sequence</csymbol><apply id="A1.p1.3.m3.3.3.1.1.cmml" xref="A1.p1.3.m3.3.3.1.1"><eq id="A1.p1.3.m3.3.3.1.1.1.cmml" xref="A1.p1.3.m3.3.3.1.1.1"></eq><apply id="A1.p1.3.m3.3.3.1.1.2.cmml" xref="A1.p1.3.m3.3.3.1.1.2"><times id="A1.p1.3.m3.3.3.1.1.2.1.cmml" xref="A1.p1.3.m3.3.3.1.1.2.1"></times><ci id="A1.p1.3.m3.3.3.1.1.2.2.cmml" xref="A1.p1.3.m3.3.3.1.1.2.2">𝐸</ci><ci id="A1.p1.3.m3.3.3.1.1.2.3.cmml" xref="A1.p1.3.m3.3.3.1.1.2.3">𝑀</ci><interval closure="open" id="A1.p1.3.m3.3.3.1.1.2.4.1.cmml" xref="A1.p1.3.m3.3.3.1.1.2.4.2"><ci id="A1.p1.3.m3.1.1.cmml" xref="A1.p1.3.m3.1.1">𝑎</ci><apply id="A1.p1.3.m3.2.2.cmml" xref="A1.p1.3.m3.2.2"><ci id="A1.p1.3.m3.2.2.1.cmml" xref="A1.p1.3.m3.2.2.1">^</ci><ci id="A1.p1.3.m3.2.2.2.cmml" xref="A1.p1.3.m3.2.2.2">𝑎</ci></apply></interval></apply><cn id="A1.p1.3.m3.3.3.1.1.3.cmml" type="integer" xref="A1.p1.3.m3.3.3.1.1.3">1</cn></apply><apply id="A1.p1.3.m3.4.4.2.2.3.cmml" xref="A1.p1.3.m3.4.4.2.2.2"><csymbol cd="ambiguous" id="A1.p1.3.m3.4.4.2.2.3a.cmml" xref="A1.p1.3.m3.4.4.2.2.2.3">formulae-sequence</csymbol><apply id="A1.p1.3.m3.4.4.2.2.1.1.cmml" xref="A1.p1.3.m3.4.4.2.2.1.1"><gt id="A1.p1.3.m3.4.4.2.2.1.1.1.cmml" xref="A1.p1.3.m3.4.4.2.2.1.1.1"></gt><apply id="A1.p1.3.m3.4.4.2.2.1.1.2.cmml" xref="A1.p1.3.m3.4.4.2.2.1.1.2"><times id="A1.p1.3.m3.4.4.2.2.1.1.2.1.cmml" xref="A1.p1.3.m3.4.4.2.2.1.1.2.1"></times><ci id="A1.p1.3.m3.4.4.2.2.1.1.2.2.cmml" xref="A1.p1.3.m3.4.4.2.2.1.1.2.2">𝐹</ci><cn id="A1.p1.3.m3.4.4.2.2.1.1.2.3.cmml" type="integer" xref="A1.p1.3.m3.4.4.2.2.1.1.2.3">1</cn></apply><ci id="A1.p1.3.m3.4.4.2.2.1.1.3.cmml" xref="A1.p1.3.m3.4.4.2.2.1.1.3">𝜏</ci></apply><apply id="A1.p1.3.m3.4.4.2.2.2.2.cmml" xref="A1.p1.3.m3.4.4.2.2.2.2"><gt id="A1.p1.3.m3.4.4.2.2.2.2.1.cmml" xref="A1.p1.3.m3.4.4.2.2.2.2.1"></gt><apply id="A1.p1.3.m3.4.4.2.2.2.2.2.cmml" xref="A1.p1.3.m3.4.4.2.2.2.2.2"><times id="A1.p1.3.m3.4.4.2.2.2.2.2.1.cmml" xref="A1.p1.3.m3.4.4.2.2.2.2.2.1"></times><ci id="A1.p1.3.m3.4.4.2.2.2.2.2.2.cmml" xref="A1.p1.3.m3.4.4.2.2.2.2.2.2">𝑅</ci><ci id="A1.p1.3.m3.4.4.2.2.2.2.2.3.cmml" xref="A1.p1.3.m3.4.4.2.2.2.2.2.3">𝑜</ci><ci id="A1.p1.3.m3.4.4.2.2.2.2.2.4.cmml" xref="A1.p1.3.m3.4.4.2.2.2.2.2.4">𝑢</ci><ci id="A1.p1.3.m3.4.4.2.2.2.2.2.5.cmml" xref="A1.p1.3.m3.4.4.2.2.2.2.2.5">𝑔</ci><ci id="A1.p1.3.m3.4.4.2.2.2.2.2.6.cmml" xref="A1.p1.3.m3.4.4.2.2.2.2.2.6">𝑒</ci><ci id="A1.p1.3.m3.4.4.2.2.2.2.2.7.cmml" xref="A1.p1.3.m3.4.4.2.2.2.2.2.7">𝐿</ci></apply><ci id="A1.p1.3.m3.4.4.2.2.2.2.3.cmml" xref="A1.p1.3.m3.4.4.2.2.2.2.3">𝜏</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.3.m3.4c">EM(a,\hat{a})=1,F1&gt;\tau,RougeL&gt;\tau</annotation><annotation encoding="application/x-llamapun" id="A1.p1.3.m3.4d">italic_E italic_M ( italic_a , over^ start_ARG italic_a end_ARG ) = 1 , italic_F 1 &gt; italic_τ , italic_R italic_o italic_u italic_g italic_e italic_L &gt; italic_τ</annotation></semantics></math>, or the <math alttext="a" class="ltx_Math" display="inline" id="A1.p1.4.m4.1"><semantics id="A1.p1.4.m4.1a"><mi id="A1.p1.4.m4.1.1" xref="A1.p1.4.m4.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="A1.p1.4.m4.1b"><ci id="A1.p1.4.m4.1.1.cmml" xref="A1.p1.4.m4.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.4.m4.1c">a</annotation><annotation encoding="application/x-llamapun" id="A1.p1.4.m4.1d">italic_a</annotation></semantics></math> appears in <math alttext="\hat{a}" class="ltx_Math" display="inline" id="A1.p1.5.m5.1"><semantics id="A1.p1.5.m5.1a"><mover accent="true" id="A1.p1.5.m5.1.1" xref="A1.p1.5.m5.1.1.cmml"><mi id="A1.p1.5.m5.1.1.2" xref="A1.p1.5.m5.1.1.2.cmml">a</mi><mo id="A1.p1.5.m5.1.1.1" xref="A1.p1.5.m5.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="A1.p1.5.m5.1b"><apply id="A1.p1.5.m5.1.1.cmml" xref="A1.p1.5.m5.1.1"><ci id="A1.p1.5.m5.1.1.1.cmml" xref="A1.p1.5.m5.1.1.1">^</ci><ci id="A1.p1.5.m5.1.1.2.cmml" xref="A1.p1.5.m5.1.1.2">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.5.m5.1c">\hat{a}</annotation><annotation encoding="application/x-llamapun" id="A1.p1.5.m5.1d">over^ start_ARG italic_a end_ARG</annotation></semantics></math>, the RAG answer can be judged as correct, and the sample can be annotated as answerable.
We set <math alttext="\tau=0.7" class="ltx_Math" display="inline" id="A1.p1.6.m6.1"><semantics id="A1.p1.6.m6.1a"><mrow id="A1.p1.6.m6.1.1" xref="A1.p1.6.m6.1.1.cmml"><mi id="A1.p1.6.m6.1.1.2" xref="A1.p1.6.m6.1.1.2.cmml">τ</mi><mo id="A1.p1.6.m6.1.1.1" xref="A1.p1.6.m6.1.1.1.cmml">=</mo><mn id="A1.p1.6.m6.1.1.3" xref="A1.p1.6.m6.1.1.3.cmml">0.7</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.6.m6.1b"><apply id="A1.p1.6.m6.1.1.cmml" xref="A1.p1.6.m6.1.1"><eq id="A1.p1.6.m6.1.1.1.cmml" xref="A1.p1.6.m6.1.1.1"></eq><ci id="A1.p1.6.m6.1.1.2.cmml" xref="A1.p1.6.m6.1.1.2">𝜏</ci><cn id="A1.p1.6.m6.1.1.3.cmml" type="float" xref="A1.p1.6.m6.1.1.3">0.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.6.m6.1c">\tau=0.7</annotation><annotation encoding="application/x-llamapun" id="A1.p1.6.m6.1d">italic_τ = 0.7</annotation></semantics></math>.</p>
</div>
<figure class="ltx_table" id="A1.T7">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T7.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T7.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="A1.T7.1.1.1.1" style="padding-left:2.5pt;padding-right:2.5pt;"></th>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="A1.T7.1.1.1.2" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T7.1.1.1.2.1">Sparse-RC-NQ</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="A1.T7.1.1.1.3" style="padding-left:2.5pt;padding-right:2.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T7.1.1.1.3.1">Dense-RC-NQ</span></td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.2.2">
<th class="ltx_td ltx_th ltx_th_row" id="A1.T7.1.2.2.1" style="padding-left:2.5pt;padding-right:2.5pt;"></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T7.1.2.2.2" style="padding-left:2.5pt;padding-right:2.5pt;">S-NQ-A</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T7.1.2.2.3" style="padding-left:2.5pt;padding-right:2.5pt;">S-NQ-U</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T7.1.2.2.4" style="padding-left:2.5pt;padding-right:2.5pt;">D-NQ-A</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T7.1.2.2.5" style="padding-left:2.5pt;padding-right:2.5pt;">D-NQ-U</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.3.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="A1.T7.1.3.3.1" style="padding-left:2.5pt;padding-right:2.5pt;">Mistral</th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T7.1.3.3.2" style="padding-left:2.5pt;padding-right:2.5pt;">1063</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T7.1.3.3.3" style="padding-left:2.5pt;padding-right:2.5pt;">2547</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T7.1.3.3.4" style="padding-left:2.5pt;padding-right:2.5pt;">1830</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A1.T7.1.3.3.5" style="padding-left:2.5pt;padding-right:2.5pt;">1780</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>The statistics of the full test sets of RC-NQ and annotated results of answerable (A) and unanswerable (U) samples, utilizing Mistral as the generator with both sparse and dense retrievers.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Implementation details</h2>
<div class="ltx_para ltx_noindent" id="A2.p1">
<p class="ltx_p" id="A2.p1.1"><span class="ltx_text ltx_font_bold" id="A2.p1.1.1">Details of judgment module.</span>
The criteria for determining that the answers remain unchanged are consistent with the criteria for matching the answers in the judgment annotation stage (Appendix <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A1" title="Appendix A Details about annotation ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">A</span></a>).
If the regenerated answer matches the RAG answer, it can be judged as <span class="ltx_text ltx_font_italic" id="A2.p1.1.2">same</span> and thus <span class="ltx_text ltx_font_italic" id="A2.p1.1.3">keep</span>.</p>
</div>
<div class="ltx_para ltx_noindent" id="A2.p2">
<p class="ltx_p" id="A2.p2.1"><span class="ltx_text ltx_font_bold" id="A2.p2.1.1">Details of iterative process.</span>
The number of our iterative process <math alttext="N" class="ltx_Math" display="inline" id="A2.p2.1.m1.1"><semantics id="A2.p2.1.m1.1a"><mi id="A2.p2.1.m1.1.1" xref="A2.p2.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="A2.p2.1.m1.1b"><ci id="A2.p2.1.m1.1.1.cmml" xref="A2.p2.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p2.1.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="A2.p2.1.m1.1d">italic_N</annotation></semantics></math> is chosen from [1,2,3,4,5].
Specifically, we explored the performance of risk control when the number of iterations increased from 1 to 5, and the experimental setting was the same as Sec. <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#S6.SS3" title="6.3 Analysis of CF prompt and fusion strategy ‣ 6 Experiment results ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">6.3</span></a>.
The results are shown in the figure <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A2.F3" title="Figure 3 ‣ Appendix B Implementation details ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">3</span></a>, we can find that:
with the increase of iterations, risk and coverage score showed a downward trend, carefulness score increased, while the alignment index was basically flat.
In order to save the computational cost, we chose the number of iterations to be 1 to carry out the rest of our experiments.</p>
</div>
<figure class="ltx_figure" id="A2.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="622" id="A2.F3.g1" src="x3.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>The change of risk-related metrics with the increase of iteration number.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Prompt for CF prompting framework</h2>
<section class="ltx_subsection" id="A3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.1 </span>Prompt for basic RAG setting</h3>
<div class="ltx_para ltx_noindent" id="A3.SS1.p1">
<p class="ltx_p" id="A3.SS1.p1.1"><span class="ltx_text ltx_font_bold" id="A3.SS1.p1.1.1">RAG prompt.</span>
<span class="ltx_text ltx_font_italic" id="A3.SS1.p1.1.2">Answer the following question based on the given passages with one or few words. Provide your evidence between two ## symbols at the end of your response, either the passage id or your internal knowledge. For example, provide "Answer: apple. Evidence: ## Passage-0, Passage-1 ##." if you are referring to Passage-0 and Passage-1 to obtain the answer "apple". If there is no information in the passages, explain the answer by yourself.</span></p>
</div>
<div class="ltx_para" id="A3.SS1.p2">
<p class="ltx_p" id="A3.SS1.p2.1"><span class="ltx_text ltx_font_italic" id="A3.SS1.p2.1.1">Question: </span>{<span class="ltx_text ltx_font_italic" id="A3.SS1.p2.1.2">question</span>}</p>
</div>
<div class="ltx_para" id="A3.SS1.p3">
<p class="ltx_p" id="A3.SS1.p3.1"><span class="ltx_text ltx_font_italic" id="A3.SS1.p3.1.1">Passages: </span>{<span class="ltx_text ltx_font_italic" id="A3.SS1.p3.1.2">passage</span>}</p>
</div>
</section>
<section class="ltx_subsection" id="A3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.2 </span>Prompt for prompting generation</h3>
<div class="ltx_para ltx_noindent" id="A3.SS2.p1">
<p class="ltx_p" id="A3.SS2.p1.1"><span class="ltx_text ltx_font_bold" id="A3.SS2.p1.1.1">CF-quality prompt.</span>
<span class="ltx_text ltx_font_italic" id="A3.SS2.p1.1.2">Assume that your answer is wrong because the quality of your referred passages is poor. Please re-select the passages, to regenerate the answer with one or few words and your referred passage id as evidence.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p2">
<p class="ltx_p" id="A3.SS2.p2.1"><span class="ltx_text ltx_font_bold" id="A3.SS2.p2.1.1">CF-usage prompt.</span>
<span class="ltx_text ltx_font_italic" id="A3.SS2.p2.1.2">Assume that your answer is wrong due to your improper use of the retrieved passages. Please read the given passages carefully to regenerate the answer with one or few words.</span></p>
</div>
<figure class="ltx_table" id="A3.T8">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A3.T8.12">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A3.T8.12.13.1">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A3.T8.12.13.1.1" rowspan="2" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.12.13.1.1.1">Backbone</span></th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A3.T8.12.13.1.2" rowspan="2" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.12.13.1.2.1">Method</span></th>
<th class="ltx_td ltx_nopad_l ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="A3.T8.12.13.1.3" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.12.13.1.3.1">RC-TQ</span></th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="A3.T8.12.13.1.4" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.12.13.1.4.1">RC-NQ</span></th>
</tr>
<tr class="ltx_tr" id="A3.T8.8.8">
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A3.T8.1.1.1" style="padding-left:1.0pt;padding-right:1.0pt;">risk<math alttext="\downarrow" class="ltx_Math" display="inline" id="A3.T8.1.1.1.m1.1"><semantics id="A3.T8.1.1.1.m1.1a"><mo id="A3.T8.1.1.1.m1.1.1" stretchy="false" xref="A3.T8.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="A3.T8.1.1.1.m1.1b"><ci id="A3.T8.1.1.1.m1.1.1.cmml" xref="A3.T8.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.1.1.1.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="A3.T8.1.1.1.m1.1d">↓</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A3.T8.2.2.2" style="padding-left:1.0pt;padding-right:1.0pt;">carefulness<math alttext="\uparrow" class="ltx_Math" display="inline" id="A3.T8.2.2.2.m1.1"><semantics id="A3.T8.2.2.2.m1.1a"><mo id="A3.T8.2.2.2.m1.1.1" stretchy="false" xref="A3.T8.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A3.T8.2.2.2.m1.1b"><ci id="A3.T8.2.2.2.m1.1.1.cmml" xref="A3.T8.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.2.2.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A3.T8.2.2.2.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A3.T8.3.3.3" style="padding-left:1.0pt;padding-right:1.0pt;">alignment<math alttext="\uparrow" class="ltx_Math" display="inline" id="A3.T8.3.3.3.m1.1"><semantics id="A3.T8.3.3.3.m1.1a"><mo id="A3.T8.3.3.3.m1.1.1" stretchy="false" xref="A3.T8.3.3.3.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A3.T8.3.3.3.m1.1b"><ci id="A3.T8.3.3.3.m1.1.1.cmml" xref="A3.T8.3.3.3.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.3.3.3.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A3.T8.3.3.3.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A3.T8.4.4.4" style="padding-left:1.0pt;padding-right:1.0pt;">coverage<math alttext="\uparrow" class="ltx_Math" display="inline" id="A3.T8.4.4.4.m1.1"><semantics id="A3.T8.4.4.4.m1.1a"><mo id="A3.T8.4.4.4.m1.1.1" stretchy="false" xref="A3.T8.4.4.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A3.T8.4.4.4.m1.1b"><ci id="A3.T8.4.4.4.m1.1.1.cmml" xref="A3.T8.4.4.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.4.4.4.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A3.T8.4.4.4.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A3.T8.5.5.5" style="padding-left:1.0pt;padding-right:1.0pt;">risk<math alttext="\downarrow" class="ltx_Math" display="inline" id="A3.T8.5.5.5.m1.1"><semantics id="A3.T8.5.5.5.m1.1a"><mo id="A3.T8.5.5.5.m1.1.1" stretchy="false" xref="A3.T8.5.5.5.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="A3.T8.5.5.5.m1.1b"><ci id="A3.T8.5.5.5.m1.1.1.cmml" xref="A3.T8.5.5.5.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.5.5.5.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="A3.T8.5.5.5.m1.1d">↓</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A3.T8.6.6.6" style="padding-left:1.0pt;padding-right:1.0pt;">carefulness<math alttext="\uparrow" class="ltx_Math" display="inline" id="A3.T8.6.6.6.m1.1"><semantics id="A3.T8.6.6.6.m1.1a"><mo id="A3.T8.6.6.6.m1.1.1" stretchy="false" xref="A3.T8.6.6.6.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A3.T8.6.6.6.m1.1b"><ci id="A3.T8.6.6.6.m1.1.1.cmml" xref="A3.T8.6.6.6.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.6.6.6.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A3.T8.6.6.6.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A3.T8.7.7.7" style="padding-left:1.0pt;padding-right:1.0pt;">alignment<math alttext="\uparrow" class="ltx_Math" display="inline" id="A3.T8.7.7.7.m1.1"><semantics id="A3.T8.7.7.7.m1.1a"><mo id="A3.T8.7.7.7.m1.1.1" stretchy="false" xref="A3.T8.7.7.7.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A3.T8.7.7.7.m1.1b"><ci id="A3.T8.7.7.7.m1.1.1.cmml" xref="A3.T8.7.7.7.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.7.7.7.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A3.T8.7.7.7.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A3.T8.8.8.8" style="padding-left:1.0pt;padding-right:1.0pt;">coverage<math alttext="\uparrow" class="ltx_Math" display="inline" id="A3.T8.8.8.8.m1.1"><semantics id="A3.T8.8.8.8.m1.1a"><mo id="A3.T8.8.8.8.m1.1.1" stretchy="false" xref="A3.T8.8.8.8.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A3.T8.8.8.8.m1.1b"><ci id="A3.T8.8.8.8.m1.1.1.cmml" xref="A3.T8.8.8.8.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.8.8.8.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A3.T8.8.8.8.m1.1d">↑</annotation></semantics></math>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A3.T8.9.9">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.9.9.2" rowspan="2" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.9.9.2.1">Mistral</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.9.9.1" style="padding-left:1.0pt;padding-right:1.0pt;">Ours<sub class="ltx_sub" id="A3.T8.9.9.1.1"><span class="ltx_text ltx_font_italic" id="A3.T8.9.9.1.1.1">pro</span></sub>
</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.9.9.3" style="padding-left:1.0pt;padding-right:1.0pt;">21.23</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.9.9.4" style="padding-left:1.0pt;padding-right:1.0pt;">43.37</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.9.9.5" style="padding-left:1.0pt;padding-right:1.0pt;">72.68</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.9.9.6" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.9.9.6.1">76.48</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.9.9.7" style="padding-left:1.0pt;padding-right:1.0pt;">41.72</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.9.9.8" style="padding-left:1.0pt;padding-right:1.0pt;">44.49</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.9.9.9" style="padding-left:1.0pt;padding-right:1.0pt;">60.17</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.9.9.10" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.9.9.10.1">65.60</span></td>
</tr>
<tr class="ltx_tr" id="A3.T8.10.10">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="A3.T8.10.10.1" style="padding-left:1.0pt;padding-right:1.0pt;">Ours<sub class="ltx_sub" id="A3.T8.10.10.1.1"><span class="ltx_text ltx_font_italic" id="A3.T8.10.10.1.1.1">dir</span></sub>
</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="A3.T8.10.10.2" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.10.10.2.1">19.00</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="A3.T8.10.10.3" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.10.10.3.1">52.87</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="A3.T8.10.10.4" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.10.10.4.1">72.78</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="A3.T8.10.10.5" style="padding-left:1.0pt;padding-right:1.0pt;">71.14</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="A3.T8.10.10.6" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.10.10.6.1">38.22</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="A3.T8.10.10.7" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.10.10.7.1">52.98</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="A3.T8.10.10.8" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.10.10.8.1">63.60</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" id="A3.T8.10.10.9" style="padding-left:1.0pt;padding-right:1.0pt;">60.66</td>
</tr>
<tr class="ltx_tr" id="A3.T8.11.11">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" id="A3.T8.11.11.2" rowspan="2" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.11.11.2.1">ChatGPT</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.11.11.1" style="padding-left:1.0pt;padding-right:1.0pt;">Ours<sub class="ltx_sub" id="A3.T8.11.11.1.1"><span class="ltx_text ltx_font_italic" id="A3.T8.11.11.1.1.1">pro</span></sub>
</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.11.11.3" style="padding-left:1.0pt;padding-right:1.0pt;">16.30</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.11.11.4" style="padding-left:1.0pt;padding-right:1.0pt;">59.96</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.11.11.5" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.11.11.5.1">79.26</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.11.11.6" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.11.11.6.1">70.55</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.11.11.7" style="padding-left:1.0pt;padding-right:1.0pt;">36.24</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.11.11.8" style="padding-left:1.0pt;padding-right:1.0pt;">57.87</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.11.11.9" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.11.11.9.1">66.65</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" id="A3.T8.11.11.10" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.11.11.10.1">58.70</span></td>
</tr>
<tr class="ltx_tr" id="A3.T8.12.12">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="A3.T8.12.12.1" style="padding-left:1.0pt;padding-right:1.0pt;">Ours<sub class="ltx_sub" id="A3.T8.12.12.1.1"><span class="ltx_text ltx_font_italic" id="A3.T8.12.12.1.1.1">dir</span></sub>
</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="A3.T8.12.12.2" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.12.12.2.1">14.94</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="A3.T8.12.12.3" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.12.12.3.1">65.37</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="A3.T8.12.12.4" style="padding-left:1.0pt;padding-right:1.0pt;">75.38</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="A3.T8.12.12.5" style="padding-left:1.0pt;padding-right:1.0pt;">66.55</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="A3.T8.12.12.6" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.12.12.6.1">35.22</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="A3.T8.12.12.7" style="padding-left:1.0pt;padding-right:1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T8.12.12.7.1">62.86</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="A3.T8.12.12.8" style="padding-left:1.0pt;padding-right:1.0pt;">66.23</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb" id="A3.T8.12.12.9" style="padding-left:1.0pt;padding-right:1.0pt;">53.24</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 8: </span>Comparison results of our methods using two different fusion strategies, on the test set of two datasets and two LLMs with dense retriever. The subscripts <sub class="ltx_sub" id="A3.T8.19.1"><span class="ltx_text ltx_font_italic" id="A3.T8.19.1.1">dir</span></sub> and <sub class="ltx_sub" id="A3.T8.20.2"><span class="ltx_text ltx_font_italic" id="A3.T8.20.2.1">pro</span></sub> represent the use of direct selection strategy and probability comparison strategy, respectively.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.3 </span>Prompt for fusion</h3>
<div class="ltx_para ltx_noindent" id="A3.SS3.p1">
<p class="ltx_p" id="A3.SS3.p1.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p1.1.1">Direct selection prompt.</span></p>
</div>
<div class="ltx_para" id="A3.SS3.p2">
<ul class="ltx_itemize" id="A3.I1">
<li class="ltx_item" id="A3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A3.I1.i1.p1">
<p class="ltx_p" id="A3.I1.i1.p1.1"><span class="ltx_text ltx_font_italic" id="A3.I1.i1.p1.1.1">Your answer is likely to be wrong because of the poor quality of retrieval passages, please choose to keep or discard this output. Generate $$ keep $$ if you choose to keep this answer, otherwise, generate $$ discard $$.</span></p>
</div>
</li>
<li class="ltx_item" id="A3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A3.I1.i2.p1">
<p class="ltx_p" id="A3.I1.i2.p1.1"><span class="ltx_text ltx_font_italic" id="A3.I1.i2.p1.1.1">Your answer is likely to be wrong because of the improper use of retrieval passages, please choose to keep or discard this output. Generate $$ keep $$ if you choose to keep this answer, otherwise, generate $$ discard $$.</span></p>
</div>
</li>
</ul>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS3.p3">
<p class="ltx_p" id="A3.SS3.p3.1"><span class="ltx_text ltx_font_bold" id="A3.SS3.p3.1.1">Probability comparison prompt.</span>
<span class="ltx_text ltx_font_italic" id="A3.SS3.p3.1.2">Provide the probability that your regenerated answer is correct. Give ONLY the probability, no other words or explanation.</span></p>
</div>
<div class="ltx_para" id="A3.SS3.p4">
<p class="ltx_p" id="A3.SS3.p4.1"><span class="ltx_text ltx_font_italic" id="A3.SS3.p4.1.1">For example:</span></p>
</div>
<div class="ltx_para" id="A3.SS3.p5">
<p class="ltx_p" id="A3.SS3.p5.1"><span class="ltx_text ltx_font_italic" id="A3.SS3.p5.1.1">Probability: &lt;the probability between 0.0 and 1.0 that your specific answer is correct, without any extra commentary whatsoever; just the probability!&gt;</span></p>
</div>
</section>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Baselines</h2>
<div class="ltx_para" id="A4.p1">
<p class="ltx_p" id="A4.p1.1">Among the three baseline methods, IoE and calibration-based framework are post-processing methods, while priori judgment framework is a pre-processing method.</p>
</div>
<div class="ltx_para" id="A4.p2">
<p class="ltx_p" id="A4.p2.1"><span class="ltx_text ltx_font_bold" id="A4.p2.1.1">IoE method</span> was originally used for answer correction, requiring the model to update the answer of low confidence. If the model updates the answer, guide it to choose a final answer.
Based on the matching results between the final answer and the RAG answer, we decide whether to keep or discard the RAG answer.</p>
</div>
<div class="ltx_para" id="A4.p3">
<p class="ltx_p" id="A4.p3.1"><span class="ltx_text ltx_font_bold" id="A4.p3.1.1">Calibration-based framework</span> requires a threshold to discard answers.
We set the threshold as 0.6 based on the experimental results.</p>
</div>
<div class="ltx_para" id="A4.p4">
<p class="ltx_p" id="A4.p4.1"><span class="ltx_text ltx_font_bold" id="A4.p4.1.1">Priori judgment framework</span> requires prompt input only once, which explicitly mentions "given information" and "internal knowledge" in its prompt.</p>
</div>
</section>
<section class="ltx_appendix" id="A5">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Prompt for baselines</h2>
<div class="ltx_para ltx_noindent" id="A5.p1">
<p class="ltx_p" id="A5.p1.1"><span class="ltx_text ltx_font_bold" id="A5.p1.1.1">IOE prompt.</span></p>
</div>
<div class="ltx_para" id="A5.p2">
<ul class="ltx_itemize" id="A5.I1">
<li class="ltx_item" id="A5.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A5.I1.i1.p1">
<p class="ltx_p" id="A5.I1.i1.p1.1"><span class="ltx_text ltx_font_italic" id="A5.I1.i1.p1.1.1">If you are very confident about your answer, maintain your answer. Otherwise, update your answer.</span></p>
</div>
</li>
<li class="ltx_item" id="A5.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A5.I1.i2.p1">
<p class="ltx_p" id="A5.I1.i2.p1.1"><span class="ltx_text ltx_font_italic" id="A5.I1.i2.p1.1.1">You give two different answers in previous responses. Check the problem and your answers again, and give the best answer.</span></p>
</div>
</li>
</ul>
</div>
<div class="ltx_para ltx_noindent" id="A5.p3">
<p class="ltx_p" id="A5.p3.1"><span class="ltx_text ltx_font_bold" id="A5.p3.1.1">Calibration prompt.</span>
<span class="ltx_text ltx_font_italic" id="A5.p3.1.2">Provide the probability that your answer is correct. Give ONLY the probability, no other words or explanation.</span></p>
</div>
<div class="ltx_para" id="A5.p4">
<p class="ltx_p" id="A5.p4.1"><span class="ltx_text ltx_font_italic" id="A5.p4.1.1">For example:</span></p>
</div>
<div class="ltx_para" id="A5.p5">
<p class="ltx_p" id="A5.p5.1"><span class="ltx_text ltx_font_italic" id="A5.p5.1.1">Probability: &lt;the probability between 0.0 and 1.0 that your specific answer is correct, without any extra commentary whatsoever; just the probability!&gt;</span></p>
</div>
<div class="ltx_para ltx_noindent" id="A5.p6">
<p class="ltx_p" id="A5.p6.1"><span class="ltx_text ltx_font_bold" id="A5.p6.1.1">Priori prompt.</span>
<span class="ltx_text ltx_font_italic" id="A5.p6.1.2">Given the following information: </span></p>
</div>
<div class="ltx_para" id="A5.p7">
<p class="ltx_p" id="A5.p7.1">{<span class="ltx_text ltx_font_italic" id="A5.p7.1.1">passage</span>}</p>
</div>
<div class="ltx_para" id="A5.p8">
<p class="ltx_p" id="A5.p8.1"><span class="ltx_text ltx_font_italic" id="A5.p8.1.1">Can you answer the following question based on the given information or your internal knowledge, if yes, you should give a short answer with one or few words, if no, you should answer "Unknown".</span></p>
</div>
<div class="ltx_para" id="A5.p9">
<p class="ltx_p" id="A5.p9.1"><span class="ltx_text ltx_font_italic" id="A5.p9.1.1">Question: </span>{<span class="ltx_text ltx_font_italic" id="A5.p9.1.2">question</span>}</p>
</div>
</section>
<section class="ltx_appendix" id="A6">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix F </span>Analysis of fusion strategies</h2>
<div class="ltx_para" id="A6.p1">
<p class="ltx_p" id="A6.p1.1">We show the comparison results of our methods using two different fusion strategies in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.16146v1#A3.T8" title="Table 8 ‣ C.2 Prompt for prompting generation ‣ Appendix C Prompt for CF prompting framework ‣ Controlling Risk of Retrieval-augmented Generation: A Counterfactual Prompting Framework"><span class="ltx_text ltx_ref_tag">8</span></a>.</p>
</div>
</section>
<section class="ltx_appendix" id="A7">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix G </span>AI Tool Usage Instructions</h2>
<div class="ltx_para" id="A7.p1">
<p class="ltx_p" id="A7.p1.1">We utilized ChatGPT to assist in refining the expressions and wording of the paper.</p>
</div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Tue Sep 24 14:35:36 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
