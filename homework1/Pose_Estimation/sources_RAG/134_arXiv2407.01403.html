<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Optimization of Retrieval-Augmented Generation Context with Outlier Detection NextAI Systems LLC</title>
<!--Generated on Mon Jul  1 15:48:41 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on July 1, 2024.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2407.01403v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#S0.SSx2.SSS0.Px1" title="In 2. Theory and Methods ‣ Optimization of Retrieval-Augmented Generation Context with Outlier Detection NextAI Systems LLC"><span class="ltx_text ltx_ref_title">Distance Calculation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#S0.SSx2.SSS0.Px2" title="In 2. Theory and Methods ‣ Optimization of Retrieval-Augmented Generation Context with Outlier Detection NextAI Systems LLC"><span class="ltx_text ltx_ref_title">Feature Creation Methods</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#S0.SSx2.SSS0.Px3" title="In 2. Theory and Methods ‣ Optimization of Retrieval-Augmented Generation Context with Outlier Detection NextAI Systems LLC"><span class="ltx_text ltx_ref_title">Standardization</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#S0.SSx2.SSS0.Px4" title="In 2. Theory and Methods ‣ Optimization of Retrieval-Augmented Generation Context with Outlier Detection NextAI Systems LLC"><span class="ltx_text ltx_ref_title">Dimensionality Reduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#S0.SSx2.SSS0.Px5" title="In 2. Theory and Methods ‣ Optimization of Retrieval-Augmented Generation Context with Outlier Detection NextAI Systems LLC"><span class="ltx_text ltx_ref_title">Outlier Detection</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">
Optimization of Retrieval-Augmented Generation Context with Outlier Detection

<br class="ltx_break"/> 
<br class="ltx_break"/> <span class="ltx_text" id="id1.id1" style="font-size:90%;">NextAI Systems LLC </span>
</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Vitaly Bulgakov <a class="ltx_ref ltx_href" href="mailto:vbulgakov@nextaisystems.com" title=""><span class="ltx_ERROR undefined" id="id2.1.1.id1">\BeginAccSupp</span>method=escape,ActualText=vbulgakov@nextaisystems.com<span class="ltx_ERROR undefined" id="id3.2.2.id2">\EndAccSupp</span></a>
</span></span>
</div>
<div class="ltx_dates">(July 1, 2024)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id4.id1">In this paper, we focus on methods to reduce the size and improve the quality of the prompt context required for question-answering systems. Attempts to increase the number of retrieved chunked documents and thereby enlarge the context related to the query can significantly complicate the processing and decrease the performance of a Large Language Model (LLM) when generating responses to queries.
It is well known that a large set of documents retrieved from a database in response to a query may contain irrelevant information, which often leads to hallucinations in the resulting answers. Our goal is to select the most semantically relevant documents, treating the discarded ones as outliers. We propose and evaluate several methods for identifying outliers by creating features that utilize the distances of embedding vectors, retrieved from the vector database, to both the centroid and the query vectors.
The methods were evaluated by comparing the similarities of the retrieved LLM responses to ground-truth answers obtained using the OpenAI GPT-4o model. It was found that the greatest improvements were achieved with increasing complexity of the questions and answers.</p>
<p class="ltx_p" id="id5.id2"><span class="ltx_text ltx_font_bold" id="id5.id2.1">Keywords:</span> Artificial Intelligence (AI), Large Language Models (LLM), Retrieval-Augmented Generation (RAG), Feature Engineering, Dimensionality Reduction, Gaussian Mixture Model, Outlier Detection.</p>
</div>
<section class="ltx_subsection" id="S0.SSx1">
<h2 class="ltx_title ltx_title_subsection">1. Introduction</h2>
<div class="ltx_para" id="S0.SSx1.p1">
<p class="ltx_p" id="S0.SSx1.p1.1">Improving context retrieval in question-answering systems has garnered considerable attention over the past few years. For instance, <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#bib.bib1" title="">1</a>]</cite> presents a comprehensive survey on the Retrieval-Augmented Generation (RAG) framework, detailing the involved retrievers and generators. It explores various enhancement methods for RAG, evaluates benchmark frameworks, and addresses current limitations and future directions, providing a solid foundation for understanding RAG techniques and their applications.
In another study, <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#bib.bib2" title="">2</a>]</cite> introduces xRAG, a method for extreme context compression that reinterprets document embeddings used in dense retrieval as features for language models. This approach aims to maintain the semantic coherence of retrieved documents while minimizing memory overhead and computational expense. xRAG employs techniques such as self-distillation and instruction tuning to enhance the use of contextual information.
Also, <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#bib.bib3" title="">3</a>]</cite> presents a novel in-context retrieval approach for RAG systems that avoids the traditional chunking process. It uses encoded hidden states of documents for retrieval, improving the fidelity and accuracy of the evidence text used for generating responses. This method ensures that relevant and precise context is maintained without disrupting the semantic coherence of the documents.
<cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#bib.bib4" title="">4</a>]</cite> discusses the concept of re-ranking, where a re-ranking agent re-orders retrieved documents based on additional factors such as user behavior, document popularity, or deeper semantic analysis, ensuring the most useful and relevant documents appear at the top of search results. In <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#bib.bib5" title="">5</a>]</cite> we explore the benefits of reducing vector database dimensions with Fast Fourier Transform, with a focus on computational efficiency in processing context documents.

<br class="ltx_break"/> In the described approach, we propose a mechanism to improve the quality and reduce the size of the context based on retrieved documents for a given query. This mechanism identifies outliers that are far from or irrelevant to the query and focuses on the portion of the context most related to the query. Distances are calculated for each retrieved document, represented as an embedding vector by a sentence transformer model. We utilize distances to the vectors’ centroid and the query vector. These distances form features based on the following methods: <span class="ltx_text ltx_font_italic" id="S0.SSx1.p1.1.1">concatenation, weighted sum, interaction, and polynomial</span>, which will be described later. The constructed features provide a rich representation of the distances between embedding vectors, the centroid, and the query vector, capturing various aspects of the relationship between the vectors and helping distinguish typical vectors from outliers. Outliers are determined with help of a Gaussian Mixture Model (GMM) and Log-Likelihood approach with selected percentile, <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#bib.bib6" title="">6</a>]</cite> and <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#bib.bib7" title="">7</a>]</cite>.

<br class="ltx_break"/> We experimented with three categories of questions of increasing complexity and demonstrated that the approach provides the most significant advantage with the most complex questions.</p>
</div>
</section>
<section class="ltx_subsection" id="S0.SSx2">
<h2 class="ltx_title ltx_title_subsection">2. Theory and Methods</h2>
<div class="ltx_para" id="S0.SSx2.p1">
<p class="ltx_p" id="S0.SSx2.p1.1">Our approach aims to identify outliers among a set of embedding vectors used in a context for Retrieval-Augmented Generation (RAG). The outliers are detected based on distances from a query vector and a centroid vector. Below is a detailed explanation of the methods implemented, along with the corresponding formulas.</p>
</div>
<section class="ltx_paragraph" id="S0.SSx2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Distance Calculation</h4>
<div class="ltx_para" id="S0.SSx2.SSS0.Px1.p1">
<p class="ltx_p" id="S0.SSx2.SSS0.Px1.p1.1">For each embedding vector in the set, the distances to a given query vector and a centroid vector are calculated:</p>
<table class="ltx_equation ltx_eqn_table" id="S0.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\textbf{Distance to Centroid}:d_{\text{centroid}}=\|\mathbf{v}_{i}-\mathbf{c}\|" class="ltx_Math" display="block" id="S0.E1.m1.1"><semantics id="S0.E1.m1.1a"><mrow id="S0.E1.m1.1.1" xref="S0.E1.m1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S0.E1.m1.1.1.3" xref="S0.E1.m1.1.1.3a.cmml">Distance to Centroid</mtext><mo id="S0.E1.m1.1.1.2" lspace="0.278em" rspace="0.278em" xref="S0.E1.m1.1.1.2.cmml">:</mo><mrow id="S0.E1.m1.1.1.1" xref="S0.E1.m1.1.1.1.cmml"><msub id="S0.E1.m1.1.1.1.3" xref="S0.E1.m1.1.1.1.3.cmml"><mi id="S0.E1.m1.1.1.1.3.2" xref="S0.E1.m1.1.1.1.3.2.cmml">d</mi><mtext id="S0.E1.m1.1.1.1.3.3" xref="S0.E1.m1.1.1.1.3.3a.cmml">centroid</mtext></msub><mo id="S0.E1.m1.1.1.1.2" xref="S0.E1.m1.1.1.1.2.cmml">=</mo><mrow id="S0.E1.m1.1.1.1.1.1" xref="S0.E1.m1.1.1.1.1.2.cmml"><mo id="S0.E1.m1.1.1.1.1.1.2" stretchy="false" xref="S0.E1.m1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S0.E1.m1.1.1.1.1.1.1" xref="S0.E1.m1.1.1.1.1.1.1.cmml"><msub id="S0.E1.m1.1.1.1.1.1.1.2" xref="S0.E1.m1.1.1.1.1.1.1.2.cmml"><mi id="S0.E1.m1.1.1.1.1.1.1.2.2" xref="S0.E1.m1.1.1.1.1.1.1.2.2.cmml">𝐯</mi><mi id="S0.E1.m1.1.1.1.1.1.1.2.3" xref="S0.E1.m1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo id="S0.E1.m1.1.1.1.1.1.1.1" xref="S0.E1.m1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S0.E1.m1.1.1.1.1.1.1.3" xref="S0.E1.m1.1.1.1.1.1.1.3.cmml">𝐜</mi></mrow><mo id="S0.E1.m1.1.1.1.1.1.3" stretchy="false" xref="S0.E1.m1.1.1.1.1.2.1.cmml">‖</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E1.m1.1b"><apply id="S0.E1.m1.1.1.cmml" xref="S0.E1.m1.1.1"><ci id="S0.E1.m1.1.1.2.cmml" xref="S0.E1.m1.1.1.2">:</ci><ci id="S0.E1.m1.1.1.3a.cmml" xref="S0.E1.m1.1.1.3"><mtext class="ltx_mathvariant_bold" id="S0.E1.m1.1.1.3.cmml" xref="S0.E1.m1.1.1.3">Distance to Centroid</mtext></ci><apply id="S0.E1.m1.1.1.1.cmml" xref="S0.E1.m1.1.1.1"><eq id="S0.E1.m1.1.1.1.2.cmml" xref="S0.E1.m1.1.1.1.2"></eq><apply id="S0.E1.m1.1.1.1.3.cmml" xref="S0.E1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S0.E1.m1.1.1.1.3.1.cmml" xref="S0.E1.m1.1.1.1.3">subscript</csymbol><ci id="S0.E1.m1.1.1.1.3.2.cmml" xref="S0.E1.m1.1.1.1.3.2">𝑑</ci><ci id="S0.E1.m1.1.1.1.3.3a.cmml" xref="S0.E1.m1.1.1.1.3.3"><mtext id="S0.E1.m1.1.1.1.3.3.cmml" mathsize="70%" xref="S0.E1.m1.1.1.1.3.3">centroid</mtext></ci></apply><apply id="S0.E1.m1.1.1.1.1.2.cmml" xref="S0.E1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S0.E1.m1.1.1.1.1.2.1.cmml" xref="S0.E1.m1.1.1.1.1.1.2">norm</csymbol><apply id="S0.E1.m1.1.1.1.1.1.1.cmml" xref="S0.E1.m1.1.1.1.1.1.1"><minus id="S0.E1.m1.1.1.1.1.1.1.1.cmml" xref="S0.E1.m1.1.1.1.1.1.1.1"></minus><apply id="S0.E1.m1.1.1.1.1.1.1.2.cmml" xref="S0.E1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S0.E1.m1.1.1.1.1.1.1.2.1.cmml" xref="S0.E1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S0.E1.m1.1.1.1.1.1.1.2.2.cmml" xref="S0.E1.m1.1.1.1.1.1.1.2.2">𝐯</ci><ci id="S0.E1.m1.1.1.1.1.1.1.2.3.cmml" xref="S0.E1.m1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S0.E1.m1.1.1.1.1.1.1.3.cmml" xref="S0.E1.m1.1.1.1.1.1.1.3">𝐜</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E1.m1.1c">\textbf{Distance to Centroid}:d_{\text{centroid}}=\|\mathbf{v}_{i}-\mathbf{c}\|</annotation><annotation encoding="application/x-llamapun" id="S0.E1.m1.1d">Distance to Centroid : italic_d start_POSTSUBSCRIPT centroid end_POSTSUBSCRIPT = ∥ bold_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT - bold_c ∥</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S0.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\textbf{Distance to Query Vector}:d_{\text{query}}=\|\mathbf{v}_{i}-\mathbf{q}\|" class="ltx_Math" display="block" id="S0.E2.m1.1"><semantics id="S0.E2.m1.1a"><mrow id="S0.E2.m1.1.1" xref="S0.E2.m1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S0.E2.m1.1.1.3" xref="S0.E2.m1.1.1.3a.cmml">Distance to Query Vector</mtext><mo id="S0.E2.m1.1.1.2" lspace="0.278em" rspace="0.278em" xref="S0.E2.m1.1.1.2.cmml">:</mo><mrow id="S0.E2.m1.1.1.1" xref="S0.E2.m1.1.1.1.cmml"><msub id="S0.E2.m1.1.1.1.3" xref="S0.E2.m1.1.1.1.3.cmml"><mi id="S0.E2.m1.1.1.1.3.2" xref="S0.E2.m1.1.1.1.3.2.cmml">d</mi><mtext id="S0.E2.m1.1.1.1.3.3" xref="S0.E2.m1.1.1.1.3.3a.cmml">query</mtext></msub><mo id="S0.E2.m1.1.1.1.2" xref="S0.E2.m1.1.1.1.2.cmml">=</mo><mrow id="S0.E2.m1.1.1.1.1.1" xref="S0.E2.m1.1.1.1.1.2.cmml"><mo id="S0.E2.m1.1.1.1.1.1.2" stretchy="false" xref="S0.E2.m1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S0.E2.m1.1.1.1.1.1.1" xref="S0.E2.m1.1.1.1.1.1.1.cmml"><msub id="S0.E2.m1.1.1.1.1.1.1.2" xref="S0.E2.m1.1.1.1.1.1.1.2.cmml"><mi id="S0.E2.m1.1.1.1.1.1.1.2.2" xref="S0.E2.m1.1.1.1.1.1.1.2.2.cmml">𝐯</mi><mi id="S0.E2.m1.1.1.1.1.1.1.2.3" xref="S0.E2.m1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo id="S0.E2.m1.1.1.1.1.1.1.1" xref="S0.E2.m1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S0.E2.m1.1.1.1.1.1.1.3" xref="S0.E2.m1.1.1.1.1.1.1.3.cmml">𝐪</mi></mrow><mo id="S0.E2.m1.1.1.1.1.1.3" stretchy="false" xref="S0.E2.m1.1.1.1.1.2.1.cmml">‖</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E2.m1.1b"><apply id="S0.E2.m1.1.1.cmml" xref="S0.E2.m1.1.1"><ci id="S0.E2.m1.1.1.2.cmml" xref="S0.E2.m1.1.1.2">:</ci><ci id="S0.E2.m1.1.1.3a.cmml" xref="S0.E2.m1.1.1.3"><mtext class="ltx_mathvariant_bold" id="S0.E2.m1.1.1.3.cmml" xref="S0.E2.m1.1.1.3">Distance to Query Vector</mtext></ci><apply id="S0.E2.m1.1.1.1.cmml" xref="S0.E2.m1.1.1.1"><eq id="S0.E2.m1.1.1.1.2.cmml" xref="S0.E2.m1.1.1.1.2"></eq><apply id="S0.E2.m1.1.1.1.3.cmml" xref="S0.E2.m1.1.1.1.3"><csymbol cd="ambiguous" id="S0.E2.m1.1.1.1.3.1.cmml" xref="S0.E2.m1.1.1.1.3">subscript</csymbol><ci id="S0.E2.m1.1.1.1.3.2.cmml" xref="S0.E2.m1.1.1.1.3.2">𝑑</ci><ci id="S0.E2.m1.1.1.1.3.3a.cmml" xref="S0.E2.m1.1.1.1.3.3"><mtext id="S0.E2.m1.1.1.1.3.3.cmml" mathsize="70%" xref="S0.E2.m1.1.1.1.3.3">query</mtext></ci></apply><apply id="S0.E2.m1.1.1.1.1.2.cmml" xref="S0.E2.m1.1.1.1.1.1"><csymbol cd="latexml" id="S0.E2.m1.1.1.1.1.2.1.cmml" xref="S0.E2.m1.1.1.1.1.1.2">norm</csymbol><apply id="S0.E2.m1.1.1.1.1.1.1.cmml" xref="S0.E2.m1.1.1.1.1.1.1"><minus id="S0.E2.m1.1.1.1.1.1.1.1.cmml" xref="S0.E2.m1.1.1.1.1.1.1.1"></minus><apply id="S0.E2.m1.1.1.1.1.1.1.2.cmml" xref="S0.E2.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S0.E2.m1.1.1.1.1.1.1.2.1.cmml" xref="S0.E2.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S0.E2.m1.1.1.1.1.1.1.2.2.cmml" xref="S0.E2.m1.1.1.1.1.1.1.2.2">𝐯</ci><ci id="S0.E2.m1.1.1.1.1.1.1.2.3.cmml" xref="S0.E2.m1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S0.E2.m1.1.1.1.1.1.1.3.cmml" xref="S0.E2.m1.1.1.1.1.1.1.3">𝐪</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E2.m1.1c">\textbf{Distance to Query Vector}:d_{\text{query}}=\|\mathbf{v}_{i}-\mathbf{q}\|</annotation><annotation encoding="application/x-llamapun" id="S0.E2.m1.1d">Distance to Query Vector : italic_d start_POSTSUBSCRIPT query end_POSTSUBSCRIPT = ∥ bold_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT - bold_q ∥</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S0.SSx2.SSS0.Px1.p2">
<p class="ltx_p" id="S0.SSx2.SSS0.Px1.p2.1">Where:</p>
<ul class="ltx_itemize" id="S0.I1">
<li class="ltx_item" id="S0.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I1.i1.p1">
<p class="ltx_p" id="S0.I1.i1.p1.2"><math alttext="\mathbf{v}_{i}" class="ltx_Math" display="inline" id="S0.I1.i1.p1.1.m1.1"><semantics id="S0.I1.i1.p1.1.m1.1a"><msub id="S0.I1.i1.p1.1.m1.1.1" xref="S0.I1.i1.p1.1.m1.1.1.cmml"><mi id="S0.I1.i1.p1.1.m1.1.1.2" xref="S0.I1.i1.p1.1.m1.1.1.2.cmml">𝐯</mi><mi id="S0.I1.i1.p1.1.m1.1.1.3" xref="S0.I1.i1.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.I1.i1.p1.1.m1.1b"><apply id="S0.I1.i1.p1.1.m1.1.1.cmml" xref="S0.I1.i1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S0.I1.i1.p1.1.m1.1.1.1.cmml" xref="S0.I1.i1.p1.1.m1.1.1">subscript</csymbol><ci id="S0.I1.i1.p1.1.m1.1.1.2.cmml" xref="S0.I1.i1.p1.1.m1.1.1.2">𝐯</ci><ci id="S0.I1.i1.p1.1.m1.1.1.3.cmml" xref="S0.I1.i1.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I1.i1.p1.1.m1.1c">\mathbf{v}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.I1.i1.p1.1.m1.1d">bold_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is the <math alttext="i" class="ltx_Math" display="inline" id="S0.I1.i1.p1.2.m2.1"><semantics id="S0.I1.i1.p1.2.m2.1a"><mi id="S0.I1.i1.p1.2.m2.1.1" xref="S0.I1.i1.p1.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S0.I1.i1.p1.2.m2.1b"><ci id="S0.I1.i1.p1.2.m2.1.1.cmml" xref="S0.I1.i1.p1.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.I1.i1.p1.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S0.I1.i1.p1.2.m2.1d">italic_i</annotation></semantics></math>-th embedding vector,</p>
</div>
</li>
<li class="ltx_item" id="S0.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I1.i2.p1">
<p class="ltx_p" id="S0.I1.i2.p1.1"><math alttext="\mathbf{c}" class="ltx_Math" display="inline" id="S0.I1.i2.p1.1.m1.1"><semantics id="S0.I1.i2.p1.1.m1.1a"><mi id="S0.I1.i2.p1.1.m1.1.1" xref="S0.I1.i2.p1.1.m1.1.1.cmml">𝐜</mi><annotation-xml encoding="MathML-Content" id="S0.I1.i2.p1.1.m1.1b"><ci id="S0.I1.i2.p1.1.m1.1.1.cmml" xref="S0.I1.i2.p1.1.m1.1.1">𝐜</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.I1.i2.p1.1.m1.1c">\mathbf{c}</annotation><annotation encoding="application/x-llamapun" id="S0.I1.i2.p1.1.m1.1d">bold_c</annotation></semantics></math> is the centroid vector,</p>
</div>
</li>
<li class="ltx_item" id="S0.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I1.i3.p1">
<p class="ltx_p" id="S0.I1.i3.p1.1"><math alttext="\mathbf{q}" class="ltx_Math" display="inline" id="S0.I1.i3.p1.1.m1.1"><semantics id="S0.I1.i3.p1.1.m1.1a"><mi id="S0.I1.i3.p1.1.m1.1.1" xref="S0.I1.i3.p1.1.m1.1.1.cmml">𝐪</mi><annotation-xml encoding="MathML-Content" id="S0.I1.i3.p1.1.m1.1b"><ci id="S0.I1.i3.p1.1.m1.1.1.cmml" xref="S0.I1.i3.p1.1.m1.1.1">𝐪</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.I1.i3.p1.1.m1.1c">\mathbf{q}</annotation><annotation encoding="application/x-llamapun" id="S0.I1.i3.p1.1.m1.1d">bold_q</annotation></semantics></math> is the query vector,</p>
</div>
</li>
<li class="ltx_item" id="S0.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I1.i4.p1">
<p class="ltx_p" id="S0.I1.i4.p1.1"><math alttext="\|\cdot\|" class="ltx_math_unparsed" display="inline" id="S0.I1.i4.p1.1.m1.1"><semantics id="S0.I1.i4.p1.1.m1.1a"><mrow id="S0.I1.i4.p1.1.m1.1b"><mo id="S0.I1.i4.p1.1.m1.1.1" rspace="0em">∥</mo><mo id="S0.I1.i4.p1.1.m1.1.2" lspace="0em" rspace="0em">⋅</mo><mo id="S0.I1.i4.p1.1.m1.1.3" lspace="0em">∥</mo></mrow><annotation encoding="application/x-tex" id="S0.I1.i4.p1.1.m1.1c">\|\cdot\|</annotation><annotation encoding="application/x-llamapun" id="S0.I1.i4.p1.1.m1.1d">∥ ⋅ ∥</annotation></semantics></math> denotes the Euclidean norm.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S0.SSx2.SSS0.Px1.p3">
<p class="ltx_p" id="S0.SSx2.SSS0.Px1.p3.1">We use a weighting factor <math alttext="0\leq\alpha\leq 1" class="ltx_Math" display="inline" id="S0.SSx2.SSS0.Px1.p3.1.m1.1"><semantics id="S0.SSx2.SSS0.Px1.p3.1.m1.1a"><mrow id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.cmml"><mn id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.2" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.2.cmml">0</mn><mo id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.3" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.3.cmml">≤</mo><mi id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.4" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.4.cmml">α</mi><mo id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.5" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.5.cmml">≤</mo><mn id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.6" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S0.SSx2.SSS0.Px1.p3.1.m1.1b"><apply id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.cmml" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1"><and id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1a.cmml" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1"></and><apply id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1b.cmml" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1"><leq id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.3.cmml" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.3"></leq><cn id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.2.cmml" type="integer" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.2">0</cn><ci id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.4.cmml" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.4">𝛼</ci></apply><apply id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1c.cmml" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1"><leq id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.5.cmml" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.5"></leq><share href="https://arxiv.org/html/2407.01403v1#S0.SSx2.SSS0.Px1.p3.1.m1.1.1.4.cmml" id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1d.cmml" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1"></share><cn id="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.6.cmml" type="integer" xref="S0.SSx2.SSS0.Px1.p3.1.m1.1.1.6">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx2.SSS0.Px1.p3.1.m1.1c">0\leq\alpha\leq 1</annotation><annotation encoding="application/x-llamapun" id="S0.SSx2.SSS0.Px1.p3.1.m1.1d">0 ≤ italic_α ≤ 1</annotation></semantics></math> to balance these distances:</p>
<table class="ltx_equation ltx_eqn_table" id="S0.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{distance to centroid (weighted)}=d_{\text{centroid}}\times(1-\alpha)" class="ltx_Math" display="block" id="S0.E3.m1.1"><semantics id="S0.E3.m1.1a"><mrow id="S0.E3.m1.1.1" xref="S0.E3.m1.1.1.cmml"><mtext id="S0.E3.m1.1.1.3" xref="S0.E3.m1.1.1.3a.cmml">distance to centroid (weighted)</mtext><mo id="S0.E3.m1.1.1.2" xref="S0.E3.m1.1.1.2.cmml">=</mo><mrow id="S0.E3.m1.1.1.1" xref="S0.E3.m1.1.1.1.cmml"><msub id="S0.E3.m1.1.1.1.3" xref="S0.E3.m1.1.1.1.3.cmml"><mi id="S0.E3.m1.1.1.1.3.2" xref="S0.E3.m1.1.1.1.3.2.cmml">d</mi><mtext id="S0.E3.m1.1.1.1.3.3" xref="S0.E3.m1.1.1.1.3.3a.cmml">centroid</mtext></msub><mo id="S0.E3.m1.1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S0.E3.m1.1.1.1.2.cmml">×</mo><mrow id="S0.E3.m1.1.1.1.1.1" xref="S0.E3.m1.1.1.1.1.1.1.cmml"><mo id="S0.E3.m1.1.1.1.1.1.2" stretchy="false" xref="S0.E3.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S0.E3.m1.1.1.1.1.1.1" xref="S0.E3.m1.1.1.1.1.1.1.cmml"><mn id="S0.E3.m1.1.1.1.1.1.1.2" xref="S0.E3.m1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S0.E3.m1.1.1.1.1.1.1.1" xref="S0.E3.m1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S0.E3.m1.1.1.1.1.1.1.3" xref="S0.E3.m1.1.1.1.1.1.1.3.cmml">α</mi></mrow><mo id="S0.E3.m1.1.1.1.1.1.3" stretchy="false" xref="S0.E3.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E3.m1.1b"><apply id="S0.E3.m1.1.1.cmml" xref="S0.E3.m1.1.1"><eq id="S0.E3.m1.1.1.2.cmml" xref="S0.E3.m1.1.1.2"></eq><ci id="S0.E3.m1.1.1.3a.cmml" xref="S0.E3.m1.1.1.3"><mtext id="S0.E3.m1.1.1.3.cmml" xref="S0.E3.m1.1.1.3">distance to centroid (weighted)</mtext></ci><apply id="S0.E3.m1.1.1.1.cmml" xref="S0.E3.m1.1.1.1"><times id="S0.E3.m1.1.1.1.2.cmml" xref="S0.E3.m1.1.1.1.2"></times><apply id="S0.E3.m1.1.1.1.3.cmml" xref="S0.E3.m1.1.1.1.3"><csymbol cd="ambiguous" id="S0.E3.m1.1.1.1.3.1.cmml" xref="S0.E3.m1.1.1.1.3">subscript</csymbol><ci id="S0.E3.m1.1.1.1.3.2.cmml" xref="S0.E3.m1.1.1.1.3.2">𝑑</ci><ci id="S0.E3.m1.1.1.1.3.3a.cmml" xref="S0.E3.m1.1.1.1.3.3"><mtext id="S0.E3.m1.1.1.1.3.3.cmml" mathsize="70%" xref="S0.E3.m1.1.1.1.3.3">centroid</mtext></ci></apply><apply id="S0.E3.m1.1.1.1.1.1.1.cmml" xref="S0.E3.m1.1.1.1.1.1"><minus id="S0.E3.m1.1.1.1.1.1.1.1.cmml" xref="S0.E3.m1.1.1.1.1.1.1.1"></minus><cn id="S0.E3.m1.1.1.1.1.1.1.2.cmml" type="integer" xref="S0.E3.m1.1.1.1.1.1.1.2">1</cn><ci id="S0.E3.m1.1.1.1.1.1.1.3.cmml" xref="S0.E3.m1.1.1.1.1.1.1.3">𝛼</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E3.m1.1c">\text{distance to centroid (weighted)}=d_{\text{centroid}}\times(1-\alpha)</annotation><annotation encoding="application/x-llamapun" id="S0.E3.m1.1d">distance to centroid (weighted) = italic_d start_POSTSUBSCRIPT centroid end_POSTSUBSCRIPT × ( 1 - italic_α )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S0.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{distance to query (weighted)}=d_{\text{query}}\times\alpha" class="ltx_Math" display="block" id="S0.E4.m1.1"><semantics id="S0.E4.m1.1a"><mrow id="S0.E4.m1.1.1" xref="S0.E4.m1.1.1.cmml"><mtext id="S0.E4.m1.1.1.2" xref="S0.E4.m1.1.1.2a.cmml">distance to query (weighted)</mtext><mo id="S0.E4.m1.1.1.1" xref="S0.E4.m1.1.1.1.cmml">=</mo><mrow id="S0.E4.m1.1.1.3" xref="S0.E4.m1.1.1.3.cmml"><msub id="S0.E4.m1.1.1.3.2" xref="S0.E4.m1.1.1.3.2.cmml"><mi id="S0.E4.m1.1.1.3.2.2" xref="S0.E4.m1.1.1.3.2.2.cmml">d</mi><mtext id="S0.E4.m1.1.1.3.2.3" xref="S0.E4.m1.1.1.3.2.3a.cmml">query</mtext></msub><mo id="S0.E4.m1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S0.E4.m1.1.1.3.1.cmml">×</mo><mi id="S0.E4.m1.1.1.3.3" xref="S0.E4.m1.1.1.3.3.cmml">α</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E4.m1.1b"><apply id="S0.E4.m1.1.1.cmml" xref="S0.E4.m1.1.1"><eq id="S0.E4.m1.1.1.1.cmml" xref="S0.E4.m1.1.1.1"></eq><ci id="S0.E4.m1.1.1.2a.cmml" xref="S0.E4.m1.1.1.2"><mtext id="S0.E4.m1.1.1.2.cmml" xref="S0.E4.m1.1.1.2">distance to query (weighted)</mtext></ci><apply id="S0.E4.m1.1.1.3.cmml" xref="S0.E4.m1.1.1.3"><times id="S0.E4.m1.1.1.3.1.cmml" xref="S0.E4.m1.1.1.3.1"></times><apply id="S0.E4.m1.1.1.3.2.cmml" xref="S0.E4.m1.1.1.3.2"><csymbol cd="ambiguous" id="S0.E4.m1.1.1.3.2.1.cmml" xref="S0.E4.m1.1.1.3.2">subscript</csymbol><ci id="S0.E4.m1.1.1.3.2.2.cmml" xref="S0.E4.m1.1.1.3.2.2">𝑑</ci><ci id="S0.E4.m1.1.1.3.2.3a.cmml" xref="S0.E4.m1.1.1.3.2.3"><mtext id="S0.E4.m1.1.1.3.2.3.cmml" mathsize="70%" xref="S0.E4.m1.1.1.3.2.3">query</mtext></ci></apply><ci id="S0.E4.m1.1.1.3.3.cmml" xref="S0.E4.m1.1.1.3.3">𝛼</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E4.m1.1c">\text{distance to query (weighted)}=d_{\text{query}}\times\alpha</annotation><annotation encoding="application/x-llamapun" id="S0.E4.m1.1d">distance to query (weighted) = italic_d start_POSTSUBSCRIPT query end_POSTSUBSCRIPT × italic_α</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_paragraph" id="S0.SSx2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Feature Creation Methods</h4>
<div class="ltx_para" id="S0.SSx2.SSS0.Px2.p1">
<p class="ltx_p" id="S0.SSx2.SSS0.Px2.p1.1">We used multiple methods to combine these distances into features (see, e.g. <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#bib.bib8" title="">8</a>]</cite> - <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#bib.bib9" title="">9</a>]</cite>) for further analysis:</p>
</div>
<div class="ltx_para" id="S0.SSx2.SSS0.Px2.p2">
<table class="ltx_equation ltx_eqn_table" id="S0.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\textbf{Concatenate}:\mathbf{f}_{i}=\left[d_{\text{centroid}},d_{\text{query}}\right]" class="ltx_Math" display="block" id="S0.E5.m1.2"><semantics id="S0.E5.m1.2a"><mrow id="S0.E5.m1.2.2" xref="S0.E5.m1.2.2.cmml"><mtext class="ltx_mathvariant_bold" id="S0.E5.m1.2.2.4" xref="S0.E5.m1.2.2.4a.cmml">Concatenate</mtext><mo id="S0.E5.m1.2.2.3" lspace="0.278em" rspace="0.278em" xref="S0.E5.m1.2.2.3.cmml">:</mo><mrow id="S0.E5.m1.2.2.2" xref="S0.E5.m1.2.2.2.cmml"><msub id="S0.E5.m1.2.2.2.4" xref="S0.E5.m1.2.2.2.4.cmml"><mi id="S0.E5.m1.2.2.2.4.2" xref="S0.E5.m1.2.2.2.4.2.cmml">𝐟</mi><mi id="S0.E5.m1.2.2.2.4.3" xref="S0.E5.m1.2.2.2.4.3.cmml">i</mi></msub><mo id="S0.E5.m1.2.2.2.3" xref="S0.E5.m1.2.2.2.3.cmml">=</mo><mrow id="S0.E5.m1.2.2.2.2.2" xref="S0.E5.m1.2.2.2.2.3.cmml"><mo id="S0.E5.m1.2.2.2.2.2.3" xref="S0.E5.m1.2.2.2.2.3.cmml">[</mo><msub id="S0.E5.m1.1.1.1.1.1.1" xref="S0.E5.m1.1.1.1.1.1.1.cmml"><mi id="S0.E5.m1.1.1.1.1.1.1.2" xref="S0.E5.m1.1.1.1.1.1.1.2.cmml">d</mi><mtext id="S0.E5.m1.1.1.1.1.1.1.3" xref="S0.E5.m1.1.1.1.1.1.1.3a.cmml">centroid</mtext></msub><mo id="S0.E5.m1.2.2.2.2.2.4" xref="S0.E5.m1.2.2.2.2.3.cmml">,</mo><msub id="S0.E5.m1.2.2.2.2.2.2" xref="S0.E5.m1.2.2.2.2.2.2.cmml"><mi id="S0.E5.m1.2.2.2.2.2.2.2" xref="S0.E5.m1.2.2.2.2.2.2.2.cmml">d</mi><mtext id="S0.E5.m1.2.2.2.2.2.2.3" xref="S0.E5.m1.2.2.2.2.2.2.3a.cmml">query</mtext></msub><mo id="S0.E5.m1.2.2.2.2.2.5" xref="S0.E5.m1.2.2.2.2.3.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E5.m1.2b"><apply id="S0.E5.m1.2.2.cmml" xref="S0.E5.m1.2.2"><ci id="S0.E5.m1.2.2.3.cmml" xref="S0.E5.m1.2.2.3">:</ci><ci id="S0.E5.m1.2.2.4a.cmml" xref="S0.E5.m1.2.2.4"><mtext class="ltx_mathvariant_bold" id="S0.E5.m1.2.2.4.cmml" xref="S0.E5.m1.2.2.4">Concatenate</mtext></ci><apply id="S0.E5.m1.2.2.2.cmml" xref="S0.E5.m1.2.2.2"><eq id="S0.E5.m1.2.2.2.3.cmml" xref="S0.E5.m1.2.2.2.3"></eq><apply id="S0.E5.m1.2.2.2.4.cmml" xref="S0.E5.m1.2.2.2.4"><csymbol cd="ambiguous" id="S0.E5.m1.2.2.2.4.1.cmml" xref="S0.E5.m1.2.2.2.4">subscript</csymbol><ci id="S0.E5.m1.2.2.2.4.2.cmml" xref="S0.E5.m1.2.2.2.4.2">𝐟</ci><ci id="S0.E5.m1.2.2.2.4.3.cmml" xref="S0.E5.m1.2.2.2.4.3">𝑖</ci></apply><interval closure="closed" id="S0.E5.m1.2.2.2.2.3.cmml" xref="S0.E5.m1.2.2.2.2.2"><apply id="S0.E5.m1.1.1.1.1.1.1.cmml" xref="S0.E5.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S0.E5.m1.1.1.1.1.1.1.1.cmml" xref="S0.E5.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S0.E5.m1.1.1.1.1.1.1.2.cmml" xref="S0.E5.m1.1.1.1.1.1.1.2">𝑑</ci><ci id="S0.E5.m1.1.1.1.1.1.1.3a.cmml" xref="S0.E5.m1.1.1.1.1.1.1.3"><mtext id="S0.E5.m1.1.1.1.1.1.1.3.cmml" mathsize="70%" xref="S0.E5.m1.1.1.1.1.1.1.3">centroid</mtext></ci></apply><apply id="S0.E5.m1.2.2.2.2.2.2.cmml" xref="S0.E5.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S0.E5.m1.2.2.2.2.2.2.1.cmml" xref="S0.E5.m1.2.2.2.2.2.2">subscript</csymbol><ci id="S0.E5.m1.2.2.2.2.2.2.2.cmml" xref="S0.E5.m1.2.2.2.2.2.2.2">𝑑</ci><ci id="S0.E5.m1.2.2.2.2.2.2.3a.cmml" xref="S0.E5.m1.2.2.2.2.2.2.3"><mtext id="S0.E5.m1.2.2.2.2.2.2.3.cmml" mathsize="70%" xref="S0.E5.m1.2.2.2.2.2.2.3">query</mtext></ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E5.m1.2c">\textbf{Concatenate}:\mathbf{f}_{i}=\left[d_{\text{centroid}},d_{\text{query}}\right]</annotation><annotation encoding="application/x-llamapun" id="S0.E5.m1.2d">Concatenate : bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = [ italic_d start_POSTSUBSCRIPT centroid end_POSTSUBSCRIPT , italic_d start_POSTSUBSCRIPT query end_POSTSUBSCRIPT ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S0.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\textbf{Weighted Sum}:\mathbf{f}_{i}=\alpha d_{\text{query}}+(1-\alpha)d_{%
\text{centroid}}" class="ltx_Math" display="block" id="S0.E6.m1.1"><semantics id="S0.E6.m1.1a"><mrow id="S0.E6.m1.1.1" xref="S0.E6.m1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S0.E6.m1.1.1.3" xref="S0.E6.m1.1.1.3a.cmml">Weighted Sum</mtext><mo id="S0.E6.m1.1.1.2" lspace="0.278em" rspace="0.278em" xref="S0.E6.m1.1.1.2.cmml">:</mo><mrow id="S0.E6.m1.1.1.1" xref="S0.E6.m1.1.1.1.cmml"><msub id="S0.E6.m1.1.1.1.3" xref="S0.E6.m1.1.1.1.3.cmml"><mi id="S0.E6.m1.1.1.1.3.2" xref="S0.E6.m1.1.1.1.3.2.cmml">𝐟</mi><mi id="S0.E6.m1.1.1.1.3.3" xref="S0.E6.m1.1.1.1.3.3.cmml">i</mi></msub><mo id="S0.E6.m1.1.1.1.2" xref="S0.E6.m1.1.1.1.2.cmml">=</mo><mrow id="S0.E6.m1.1.1.1.1" xref="S0.E6.m1.1.1.1.1.cmml"><mrow id="S0.E6.m1.1.1.1.1.3" xref="S0.E6.m1.1.1.1.1.3.cmml"><mi id="S0.E6.m1.1.1.1.1.3.2" xref="S0.E6.m1.1.1.1.1.3.2.cmml">α</mi><mo id="S0.E6.m1.1.1.1.1.3.1" xref="S0.E6.m1.1.1.1.1.3.1.cmml">⁢</mo><msub id="S0.E6.m1.1.1.1.1.3.3" xref="S0.E6.m1.1.1.1.1.3.3.cmml"><mi id="S0.E6.m1.1.1.1.1.3.3.2" xref="S0.E6.m1.1.1.1.1.3.3.2.cmml">d</mi><mtext id="S0.E6.m1.1.1.1.1.3.3.3" xref="S0.E6.m1.1.1.1.1.3.3.3a.cmml">query</mtext></msub></mrow><mo id="S0.E6.m1.1.1.1.1.2" xref="S0.E6.m1.1.1.1.1.2.cmml">+</mo><mrow id="S0.E6.m1.1.1.1.1.1" xref="S0.E6.m1.1.1.1.1.1.cmml"><mrow id="S0.E6.m1.1.1.1.1.1.1.1" xref="S0.E6.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S0.E6.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S0.E6.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S0.E6.m1.1.1.1.1.1.1.1.1" xref="S0.E6.m1.1.1.1.1.1.1.1.1.cmml"><mn id="S0.E6.m1.1.1.1.1.1.1.1.1.2" xref="S0.E6.m1.1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S0.E6.m1.1.1.1.1.1.1.1.1.1" xref="S0.E6.m1.1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S0.E6.m1.1.1.1.1.1.1.1.1.3" xref="S0.E6.m1.1.1.1.1.1.1.1.1.3.cmml">α</mi></mrow><mo id="S0.E6.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S0.E6.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S0.E6.m1.1.1.1.1.1.2" xref="S0.E6.m1.1.1.1.1.1.2.cmml">⁢</mo><msub id="S0.E6.m1.1.1.1.1.1.3" xref="S0.E6.m1.1.1.1.1.1.3.cmml"><mi id="S0.E6.m1.1.1.1.1.1.3.2" xref="S0.E6.m1.1.1.1.1.1.3.2.cmml">d</mi><mtext id="S0.E6.m1.1.1.1.1.1.3.3" xref="S0.E6.m1.1.1.1.1.1.3.3a.cmml">centroid</mtext></msub></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E6.m1.1b"><apply id="S0.E6.m1.1.1.cmml" xref="S0.E6.m1.1.1"><ci id="S0.E6.m1.1.1.2.cmml" xref="S0.E6.m1.1.1.2">:</ci><ci id="S0.E6.m1.1.1.3a.cmml" xref="S0.E6.m1.1.1.3"><mtext class="ltx_mathvariant_bold" id="S0.E6.m1.1.1.3.cmml" xref="S0.E6.m1.1.1.3">Weighted Sum</mtext></ci><apply id="S0.E6.m1.1.1.1.cmml" xref="S0.E6.m1.1.1.1"><eq id="S0.E6.m1.1.1.1.2.cmml" xref="S0.E6.m1.1.1.1.2"></eq><apply id="S0.E6.m1.1.1.1.3.cmml" xref="S0.E6.m1.1.1.1.3"><csymbol cd="ambiguous" id="S0.E6.m1.1.1.1.3.1.cmml" xref="S0.E6.m1.1.1.1.3">subscript</csymbol><ci id="S0.E6.m1.1.1.1.3.2.cmml" xref="S0.E6.m1.1.1.1.3.2">𝐟</ci><ci id="S0.E6.m1.1.1.1.3.3.cmml" xref="S0.E6.m1.1.1.1.3.3">𝑖</ci></apply><apply id="S0.E6.m1.1.1.1.1.cmml" xref="S0.E6.m1.1.1.1.1"><plus id="S0.E6.m1.1.1.1.1.2.cmml" xref="S0.E6.m1.1.1.1.1.2"></plus><apply id="S0.E6.m1.1.1.1.1.3.cmml" xref="S0.E6.m1.1.1.1.1.3"><times id="S0.E6.m1.1.1.1.1.3.1.cmml" xref="S0.E6.m1.1.1.1.1.3.1"></times><ci id="S0.E6.m1.1.1.1.1.3.2.cmml" xref="S0.E6.m1.1.1.1.1.3.2">𝛼</ci><apply id="S0.E6.m1.1.1.1.1.3.3.cmml" xref="S0.E6.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S0.E6.m1.1.1.1.1.3.3.1.cmml" xref="S0.E6.m1.1.1.1.1.3.3">subscript</csymbol><ci id="S0.E6.m1.1.1.1.1.3.3.2.cmml" xref="S0.E6.m1.1.1.1.1.3.3.2">𝑑</ci><ci id="S0.E6.m1.1.1.1.1.3.3.3a.cmml" xref="S0.E6.m1.1.1.1.1.3.3.3"><mtext id="S0.E6.m1.1.1.1.1.3.3.3.cmml" mathsize="70%" xref="S0.E6.m1.1.1.1.1.3.3.3">query</mtext></ci></apply></apply><apply id="S0.E6.m1.1.1.1.1.1.cmml" xref="S0.E6.m1.1.1.1.1.1"><times id="S0.E6.m1.1.1.1.1.1.2.cmml" xref="S0.E6.m1.1.1.1.1.1.2"></times><apply id="S0.E6.m1.1.1.1.1.1.1.1.1.cmml" xref="S0.E6.m1.1.1.1.1.1.1.1"><minus id="S0.E6.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S0.E6.m1.1.1.1.1.1.1.1.1.1"></minus><cn id="S0.E6.m1.1.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S0.E6.m1.1.1.1.1.1.1.1.1.2">1</cn><ci id="S0.E6.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S0.E6.m1.1.1.1.1.1.1.1.1.3">𝛼</ci></apply><apply id="S0.E6.m1.1.1.1.1.1.3.cmml" xref="S0.E6.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S0.E6.m1.1.1.1.1.1.3.1.cmml" xref="S0.E6.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S0.E6.m1.1.1.1.1.1.3.2.cmml" xref="S0.E6.m1.1.1.1.1.1.3.2">𝑑</ci><ci id="S0.E6.m1.1.1.1.1.1.3.3a.cmml" xref="S0.E6.m1.1.1.1.1.1.3.3"><mtext id="S0.E6.m1.1.1.1.1.1.3.3.cmml" mathsize="70%" xref="S0.E6.m1.1.1.1.1.1.3.3">centroid</mtext></ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E6.m1.1c">\textbf{Weighted Sum}:\mathbf{f}_{i}=\alpha d_{\text{query}}+(1-\alpha)d_{%
\text{centroid}}</annotation><annotation encoding="application/x-llamapun" id="S0.E6.m1.1d">Weighted Sum : bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = italic_α italic_d start_POSTSUBSCRIPT query end_POSTSUBSCRIPT + ( 1 - italic_α ) italic_d start_POSTSUBSCRIPT centroid end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S0.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\textbf{Interaction}:\mathbf{f}_{i}=\left[d_{\text{centroid}},d_{\text{query}}%
,d_{\text{centroid}}\times d_{\text{query}},\frac{d_{\text{centroid}}}{d_{%
\text{query}}+\epsilon}\right]" class="ltx_Math" display="block" id="S0.E7.m1.4"><semantics id="S0.E7.m1.4a"><mrow id="S0.E7.m1.4.4" xref="S0.E7.m1.4.4.cmml"><mtext class="ltx_mathvariant_bold" id="S0.E7.m1.4.4.5" xref="S0.E7.m1.4.4.5a.cmml">Interaction</mtext><mo id="S0.E7.m1.4.4.4" lspace="0.278em" rspace="0.278em" xref="S0.E7.m1.4.4.4.cmml">:</mo><mrow id="S0.E7.m1.4.4.3" xref="S0.E7.m1.4.4.3.cmml"><msub id="S0.E7.m1.4.4.3.5" xref="S0.E7.m1.4.4.3.5.cmml"><mi id="S0.E7.m1.4.4.3.5.2" xref="S0.E7.m1.4.4.3.5.2.cmml">𝐟</mi><mi id="S0.E7.m1.4.4.3.5.3" xref="S0.E7.m1.4.4.3.5.3.cmml">i</mi></msub><mo id="S0.E7.m1.4.4.3.4" xref="S0.E7.m1.4.4.3.4.cmml">=</mo><mrow id="S0.E7.m1.4.4.3.3.3" xref="S0.E7.m1.4.4.3.3.4.cmml"><mo id="S0.E7.m1.4.4.3.3.3.4" xref="S0.E7.m1.4.4.3.3.4.cmml">[</mo><msub id="S0.E7.m1.2.2.1.1.1.1" xref="S0.E7.m1.2.2.1.1.1.1.cmml"><mi id="S0.E7.m1.2.2.1.1.1.1.2" xref="S0.E7.m1.2.2.1.1.1.1.2.cmml">d</mi><mtext id="S0.E7.m1.2.2.1.1.1.1.3" xref="S0.E7.m1.2.2.1.1.1.1.3a.cmml">centroid</mtext></msub><mo id="S0.E7.m1.4.4.3.3.3.5" xref="S0.E7.m1.4.4.3.3.4.cmml">,</mo><msub id="S0.E7.m1.3.3.2.2.2.2" xref="S0.E7.m1.3.3.2.2.2.2.cmml"><mi id="S0.E7.m1.3.3.2.2.2.2.2" xref="S0.E7.m1.3.3.2.2.2.2.2.cmml">d</mi><mtext id="S0.E7.m1.3.3.2.2.2.2.3" xref="S0.E7.m1.3.3.2.2.2.2.3a.cmml">query</mtext></msub><mo id="S0.E7.m1.4.4.3.3.3.6" xref="S0.E7.m1.4.4.3.3.4.cmml">,</mo><mrow id="S0.E7.m1.4.4.3.3.3.3" xref="S0.E7.m1.4.4.3.3.3.3.cmml"><msub id="S0.E7.m1.4.4.3.3.3.3.2" xref="S0.E7.m1.4.4.3.3.3.3.2.cmml"><mi id="S0.E7.m1.4.4.3.3.3.3.2.2" xref="S0.E7.m1.4.4.3.3.3.3.2.2.cmml">d</mi><mtext id="S0.E7.m1.4.4.3.3.3.3.2.3" xref="S0.E7.m1.4.4.3.3.3.3.2.3a.cmml">centroid</mtext></msub><mo id="S0.E7.m1.4.4.3.3.3.3.1" lspace="0.222em" rspace="0.222em" xref="S0.E7.m1.4.4.3.3.3.3.1.cmml">×</mo><msub id="S0.E7.m1.4.4.3.3.3.3.3" xref="S0.E7.m1.4.4.3.3.3.3.3.cmml"><mi id="S0.E7.m1.4.4.3.3.3.3.3.2" xref="S0.E7.m1.4.4.3.3.3.3.3.2.cmml">d</mi><mtext id="S0.E7.m1.4.4.3.3.3.3.3.3" xref="S0.E7.m1.4.4.3.3.3.3.3.3a.cmml">query</mtext></msub></mrow><mo id="S0.E7.m1.4.4.3.3.3.7" xref="S0.E7.m1.4.4.3.3.4.cmml">,</mo><mfrac id="S0.E7.m1.1.1" xref="S0.E7.m1.1.1.cmml"><msub id="S0.E7.m1.1.1.2" xref="S0.E7.m1.1.1.2.cmml"><mi id="S0.E7.m1.1.1.2.2" xref="S0.E7.m1.1.1.2.2.cmml">d</mi><mtext id="S0.E7.m1.1.1.2.3" xref="S0.E7.m1.1.1.2.3a.cmml">centroid</mtext></msub><mrow id="S0.E7.m1.1.1.3" xref="S0.E7.m1.1.1.3.cmml"><msub id="S0.E7.m1.1.1.3.2" xref="S0.E7.m1.1.1.3.2.cmml"><mi id="S0.E7.m1.1.1.3.2.2" xref="S0.E7.m1.1.1.3.2.2.cmml">d</mi><mtext id="S0.E7.m1.1.1.3.2.3" xref="S0.E7.m1.1.1.3.2.3a.cmml">query</mtext></msub><mo id="S0.E7.m1.1.1.3.1" xref="S0.E7.m1.1.1.3.1.cmml">+</mo><mi id="S0.E7.m1.1.1.3.3" xref="S0.E7.m1.1.1.3.3.cmml">ϵ</mi></mrow></mfrac><mo id="S0.E7.m1.4.4.3.3.3.8" xref="S0.E7.m1.4.4.3.3.4.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E7.m1.4b"><apply id="S0.E7.m1.4.4.cmml" xref="S0.E7.m1.4.4"><ci id="S0.E7.m1.4.4.4.cmml" xref="S0.E7.m1.4.4.4">:</ci><ci id="S0.E7.m1.4.4.5a.cmml" xref="S0.E7.m1.4.4.5"><mtext class="ltx_mathvariant_bold" id="S0.E7.m1.4.4.5.cmml" xref="S0.E7.m1.4.4.5">Interaction</mtext></ci><apply id="S0.E7.m1.4.4.3.cmml" xref="S0.E7.m1.4.4.3"><eq id="S0.E7.m1.4.4.3.4.cmml" xref="S0.E7.m1.4.4.3.4"></eq><apply id="S0.E7.m1.4.4.3.5.cmml" xref="S0.E7.m1.4.4.3.5"><csymbol cd="ambiguous" id="S0.E7.m1.4.4.3.5.1.cmml" xref="S0.E7.m1.4.4.3.5">subscript</csymbol><ci id="S0.E7.m1.4.4.3.5.2.cmml" xref="S0.E7.m1.4.4.3.5.2">𝐟</ci><ci id="S0.E7.m1.4.4.3.5.3.cmml" xref="S0.E7.m1.4.4.3.5.3">𝑖</ci></apply><list id="S0.E7.m1.4.4.3.3.4.cmml" xref="S0.E7.m1.4.4.3.3.3"><apply id="S0.E7.m1.2.2.1.1.1.1.cmml" xref="S0.E7.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S0.E7.m1.2.2.1.1.1.1.1.cmml" xref="S0.E7.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S0.E7.m1.2.2.1.1.1.1.2.cmml" xref="S0.E7.m1.2.2.1.1.1.1.2">𝑑</ci><ci id="S0.E7.m1.2.2.1.1.1.1.3a.cmml" xref="S0.E7.m1.2.2.1.1.1.1.3"><mtext id="S0.E7.m1.2.2.1.1.1.1.3.cmml" mathsize="70%" xref="S0.E7.m1.2.2.1.1.1.1.3">centroid</mtext></ci></apply><apply id="S0.E7.m1.3.3.2.2.2.2.cmml" xref="S0.E7.m1.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S0.E7.m1.3.3.2.2.2.2.1.cmml" xref="S0.E7.m1.3.3.2.2.2.2">subscript</csymbol><ci id="S0.E7.m1.3.3.2.2.2.2.2.cmml" xref="S0.E7.m1.3.3.2.2.2.2.2">𝑑</ci><ci id="S0.E7.m1.3.3.2.2.2.2.3a.cmml" xref="S0.E7.m1.3.3.2.2.2.2.3"><mtext id="S0.E7.m1.3.3.2.2.2.2.3.cmml" mathsize="70%" xref="S0.E7.m1.3.3.2.2.2.2.3">query</mtext></ci></apply><apply id="S0.E7.m1.4.4.3.3.3.3.cmml" xref="S0.E7.m1.4.4.3.3.3.3"><times id="S0.E7.m1.4.4.3.3.3.3.1.cmml" xref="S0.E7.m1.4.4.3.3.3.3.1"></times><apply id="S0.E7.m1.4.4.3.3.3.3.2.cmml" xref="S0.E7.m1.4.4.3.3.3.3.2"><csymbol cd="ambiguous" id="S0.E7.m1.4.4.3.3.3.3.2.1.cmml" xref="S0.E7.m1.4.4.3.3.3.3.2">subscript</csymbol><ci id="S0.E7.m1.4.4.3.3.3.3.2.2.cmml" xref="S0.E7.m1.4.4.3.3.3.3.2.2">𝑑</ci><ci id="S0.E7.m1.4.4.3.3.3.3.2.3a.cmml" xref="S0.E7.m1.4.4.3.3.3.3.2.3"><mtext id="S0.E7.m1.4.4.3.3.3.3.2.3.cmml" mathsize="70%" xref="S0.E7.m1.4.4.3.3.3.3.2.3">centroid</mtext></ci></apply><apply id="S0.E7.m1.4.4.3.3.3.3.3.cmml" xref="S0.E7.m1.4.4.3.3.3.3.3"><csymbol cd="ambiguous" id="S0.E7.m1.4.4.3.3.3.3.3.1.cmml" xref="S0.E7.m1.4.4.3.3.3.3.3">subscript</csymbol><ci id="S0.E7.m1.4.4.3.3.3.3.3.2.cmml" xref="S0.E7.m1.4.4.3.3.3.3.3.2">𝑑</ci><ci id="S0.E7.m1.4.4.3.3.3.3.3.3a.cmml" xref="S0.E7.m1.4.4.3.3.3.3.3.3"><mtext id="S0.E7.m1.4.4.3.3.3.3.3.3.cmml" mathsize="70%" xref="S0.E7.m1.4.4.3.3.3.3.3.3">query</mtext></ci></apply></apply><apply id="S0.E7.m1.1.1.cmml" xref="S0.E7.m1.1.1"><divide id="S0.E7.m1.1.1.1.cmml" xref="S0.E7.m1.1.1"></divide><apply id="S0.E7.m1.1.1.2.cmml" xref="S0.E7.m1.1.1.2"><csymbol cd="ambiguous" id="S0.E7.m1.1.1.2.1.cmml" xref="S0.E7.m1.1.1.2">subscript</csymbol><ci id="S0.E7.m1.1.1.2.2.cmml" xref="S0.E7.m1.1.1.2.2">𝑑</ci><ci id="S0.E7.m1.1.1.2.3a.cmml" xref="S0.E7.m1.1.1.2.3"><mtext id="S0.E7.m1.1.1.2.3.cmml" mathsize="70%" xref="S0.E7.m1.1.1.2.3">centroid</mtext></ci></apply><apply id="S0.E7.m1.1.1.3.cmml" xref="S0.E7.m1.1.1.3"><plus id="S0.E7.m1.1.1.3.1.cmml" xref="S0.E7.m1.1.1.3.1"></plus><apply id="S0.E7.m1.1.1.3.2.cmml" xref="S0.E7.m1.1.1.3.2"><csymbol cd="ambiguous" id="S0.E7.m1.1.1.3.2.1.cmml" xref="S0.E7.m1.1.1.3.2">subscript</csymbol><ci id="S0.E7.m1.1.1.3.2.2.cmml" xref="S0.E7.m1.1.1.3.2.2">𝑑</ci><ci id="S0.E7.m1.1.1.3.2.3a.cmml" xref="S0.E7.m1.1.1.3.2.3"><mtext id="S0.E7.m1.1.1.3.2.3.cmml" mathsize="70%" xref="S0.E7.m1.1.1.3.2.3">query</mtext></ci></apply><ci id="S0.E7.m1.1.1.3.3.cmml" xref="S0.E7.m1.1.1.3.3">italic-ϵ</ci></apply></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E7.m1.4c">\textbf{Interaction}:\mathbf{f}_{i}=\left[d_{\text{centroid}},d_{\text{query}}%
,d_{\text{centroid}}\times d_{\text{query}},\frac{d_{\text{centroid}}}{d_{%
\text{query}}+\epsilon}\right]</annotation><annotation encoding="application/x-llamapun" id="S0.E7.m1.4d">Interaction : bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = [ italic_d start_POSTSUBSCRIPT centroid end_POSTSUBSCRIPT , italic_d start_POSTSUBSCRIPT query end_POSTSUBSCRIPT , italic_d start_POSTSUBSCRIPT centroid end_POSTSUBSCRIPT × italic_d start_POSTSUBSCRIPT query end_POSTSUBSCRIPT , divide start_ARG italic_d start_POSTSUBSCRIPT centroid end_POSTSUBSCRIPT end_ARG start_ARG italic_d start_POSTSUBSCRIPT query end_POSTSUBSCRIPT + italic_ϵ end_ARG ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S0.SSx2.SSS0.Px2.p2.1">Where <math alttext="epsilon" class="ltx_Math" display="inline" id="S0.SSx2.SSS0.Px2.p2.1.m1.1"><semantics id="S0.SSx2.SSS0.Px2.p2.1.m1.1a"><mrow id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.cmml"><mi id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.2" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.2.cmml">e</mi><mo id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.3" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.3.cmml">p</mi><mo id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1a" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.4" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.4.cmml">s</mi><mo id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1b" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.5" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.5.cmml">i</mi><mo id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1c" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.6" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.6.cmml">l</mi><mo id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1d" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.7" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.7.cmml">o</mi><mo id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1e" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.8" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.8.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S0.SSx2.SSS0.Px2.p2.1.m1.1b"><apply id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.cmml" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1"><times id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1.cmml" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.1"></times><ci id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.2.cmml" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.2">𝑒</ci><ci id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.3.cmml" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.3">𝑝</ci><ci id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.4.cmml" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.4">𝑠</ci><ci id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.5.cmml" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.5">𝑖</ci><ci id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.6.cmml" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.6">𝑙</ci><ci id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.7.cmml" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.7">𝑜</ci><ci id="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.8.cmml" xref="S0.SSx2.SSS0.Px2.p2.1.m1.1.1.8">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx2.SSS0.Px2.p2.1.m1.1c">epsilon</annotation><annotation encoding="application/x-llamapun" id="S0.SSx2.SSS0.Px2.p2.1.m1.1d">italic_e italic_p italic_s italic_i italic_l italic_o italic_n</annotation></semantics></math> is a small value to avoid division by zero.</p>
<table class="ltx_equation ltx_eqn_table" id="S0.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\textbf{Polynomial}:\mathbf{f}_{i}=\text{PolynomialFeatures}(d_{\text{centroid%
}},d_{\text{query}})" class="ltx_Math" display="block" id="S0.E8.m1.2"><semantics id="S0.E8.m1.2a"><mrow id="S0.E8.m1.2.2" xref="S0.E8.m1.2.2.cmml"><mtext class="ltx_mathvariant_bold" id="S0.E8.m1.2.2.4" xref="S0.E8.m1.2.2.4a.cmml">Polynomial</mtext><mo id="S0.E8.m1.2.2.3" lspace="0.278em" rspace="0.278em" xref="S0.E8.m1.2.2.3.cmml">:</mo><mrow id="S0.E8.m1.2.2.2" xref="S0.E8.m1.2.2.2.cmml"><msub id="S0.E8.m1.2.2.2.4" xref="S0.E8.m1.2.2.2.4.cmml"><mi id="S0.E8.m1.2.2.2.4.2" xref="S0.E8.m1.2.2.2.4.2.cmml">𝐟</mi><mi id="S0.E8.m1.2.2.2.4.3" xref="S0.E8.m1.2.2.2.4.3.cmml">i</mi></msub><mo id="S0.E8.m1.2.2.2.3" xref="S0.E8.m1.2.2.2.3.cmml">=</mo><mrow id="S0.E8.m1.2.2.2.2" xref="S0.E8.m1.2.2.2.2.cmml"><mtext id="S0.E8.m1.2.2.2.2.4" xref="S0.E8.m1.2.2.2.2.4a.cmml">PolynomialFeatures</mtext><mo id="S0.E8.m1.2.2.2.2.3" xref="S0.E8.m1.2.2.2.2.3.cmml">⁢</mo><mrow id="S0.E8.m1.2.2.2.2.2.2" xref="S0.E8.m1.2.2.2.2.2.3.cmml"><mo id="S0.E8.m1.2.2.2.2.2.2.3" stretchy="false" xref="S0.E8.m1.2.2.2.2.2.3.cmml">(</mo><msub id="S0.E8.m1.1.1.1.1.1.1.1" xref="S0.E8.m1.1.1.1.1.1.1.1.cmml"><mi id="S0.E8.m1.1.1.1.1.1.1.1.2" xref="S0.E8.m1.1.1.1.1.1.1.1.2.cmml">d</mi><mtext id="S0.E8.m1.1.1.1.1.1.1.1.3" xref="S0.E8.m1.1.1.1.1.1.1.1.3a.cmml">centroid</mtext></msub><mo id="S0.E8.m1.2.2.2.2.2.2.4" xref="S0.E8.m1.2.2.2.2.2.3.cmml">,</mo><msub id="S0.E8.m1.2.2.2.2.2.2.2" xref="S0.E8.m1.2.2.2.2.2.2.2.cmml"><mi id="S0.E8.m1.2.2.2.2.2.2.2.2" xref="S0.E8.m1.2.2.2.2.2.2.2.2.cmml">d</mi><mtext id="S0.E8.m1.2.2.2.2.2.2.2.3" xref="S0.E8.m1.2.2.2.2.2.2.2.3a.cmml">query</mtext></msub><mo id="S0.E8.m1.2.2.2.2.2.2.5" stretchy="false" xref="S0.E8.m1.2.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E8.m1.2b"><apply id="S0.E8.m1.2.2.cmml" xref="S0.E8.m1.2.2"><ci id="S0.E8.m1.2.2.3.cmml" xref="S0.E8.m1.2.2.3">:</ci><ci id="S0.E8.m1.2.2.4a.cmml" xref="S0.E8.m1.2.2.4"><mtext class="ltx_mathvariant_bold" id="S0.E8.m1.2.2.4.cmml" xref="S0.E8.m1.2.2.4">Polynomial</mtext></ci><apply id="S0.E8.m1.2.2.2.cmml" xref="S0.E8.m1.2.2.2"><eq id="S0.E8.m1.2.2.2.3.cmml" xref="S0.E8.m1.2.2.2.3"></eq><apply id="S0.E8.m1.2.2.2.4.cmml" xref="S0.E8.m1.2.2.2.4"><csymbol cd="ambiguous" id="S0.E8.m1.2.2.2.4.1.cmml" xref="S0.E8.m1.2.2.2.4">subscript</csymbol><ci id="S0.E8.m1.2.2.2.4.2.cmml" xref="S0.E8.m1.2.2.2.4.2">𝐟</ci><ci id="S0.E8.m1.2.2.2.4.3.cmml" xref="S0.E8.m1.2.2.2.4.3">𝑖</ci></apply><apply id="S0.E8.m1.2.2.2.2.cmml" xref="S0.E8.m1.2.2.2.2"><times id="S0.E8.m1.2.2.2.2.3.cmml" xref="S0.E8.m1.2.2.2.2.3"></times><ci id="S0.E8.m1.2.2.2.2.4a.cmml" xref="S0.E8.m1.2.2.2.2.4"><mtext id="S0.E8.m1.2.2.2.2.4.cmml" xref="S0.E8.m1.2.2.2.2.4">PolynomialFeatures</mtext></ci><interval closure="open" id="S0.E8.m1.2.2.2.2.2.3.cmml" xref="S0.E8.m1.2.2.2.2.2.2"><apply id="S0.E8.m1.1.1.1.1.1.1.1.cmml" xref="S0.E8.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S0.E8.m1.1.1.1.1.1.1.1.1.cmml" xref="S0.E8.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S0.E8.m1.1.1.1.1.1.1.1.2.cmml" xref="S0.E8.m1.1.1.1.1.1.1.1.2">𝑑</ci><ci id="S0.E8.m1.1.1.1.1.1.1.1.3a.cmml" xref="S0.E8.m1.1.1.1.1.1.1.1.3"><mtext id="S0.E8.m1.1.1.1.1.1.1.1.3.cmml" mathsize="70%" xref="S0.E8.m1.1.1.1.1.1.1.1.3">centroid</mtext></ci></apply><apply id="S0.E8.m1.2.2.2.2.2.2.2.cmml" xref="S0.E8.m1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S0.E8.m1.2.2.2.2.2.2.2.1.cmml" xref="S0.E8.m1.2.2.2.2.2.2.2">subscript</csymbol><ci id="S0.E8.m1.2.2.2.2.2.2.2.2.cmml" xref="S0.E8.m1.2.2.2.2.2.2.2.2">𝑑</ci><ci id="S0.E8.m1.2.2.2.2.2.2.2.3a.cmml" xref="S0.E8.m1.2.2.2.2.2.2.2.3"><mtext id="S0.E8.m1.2.2.2.2.2.2.2.3.cmml" mathsize="70%" xref="S0.E8.m1.2.2.2.2.2.2.2.3">query</mtext></ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E8.m1.2c">\textbf{Polynomial}:\mathbf{f}_{i}=\text{PolynomialFeatures}(d_{\text{centroid%
}},d_{\text{query}})</annotation><annotation encoding="application/x-llamapun" id="S0.E8.m1.2d">Polynomial : bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = PolynomialFeatures ( italic_d start_POSTSUBSCRIPT centroid end_POSTSUBSCRIPT , italic_d start_POSTSUBSCRIPT query end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S0.SSx2.SSS0.Px2.p2.2">This expands the distance features to include polynomial combinations up to the specified degree.</p>
</div>
</section>
<section class="ltx_paragraph" id="S0.SSx2.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Standardization</h4>
<div class="ltx_para" id="S0.SSx2.SSS0.Px3.p1">
<p class="ltx_p" id="S0.SSx2.SSS0.Px3.p1.1">Standardization is applied to the feature vectors to ensure they have zero mean and unit variance:</p>
</div>
<div class="ltx_para" id="S0.SSx2.SSS0.Px3.p2">
<table class="ltx_equation ltx_eqn_table" id="S0.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{f}_{\text{normalized}}=\frac{\mathbf{f}_{i}-\mu}{\sigma}" class="ltx_Math" display="block" id="S0.E9.m1.1"><semantics id="S0.E9.m1.1a"><mrow id="S0.E9.m1.1.1" xref="S0.E9.m1.1.1.cmml"><msub id="S0.E9.m1.1.1.2" xref="S0.E9.m1.1.1.2.cmml"><mi id="S0.E9.m1.1.1.2.2" xref="S0.E9.m1.1.1.2.2.cmml">𝐟</mi><mtext id="S0.E9.m1.1.1.2.3" xref="S0.E9.m1.1.1.2.3a.cmml">normalized</mtext></msub><mo id="S0.E9.m1.1.1.1" xref="S0.E9.m1.1.1.1.cmml">=</mo><mfrac id="S0.E9.m1.1.1.3" xref="S0.E9.m1.1.1.3.cmml"><mrow id="S0.E9.m1.1.1.3.2" xref="S0.E9.m1.1.1.3.2.cmml"><msub id="S0.E9.m1.1.1.3.2.2" xref="S0.E9.m1.1.1.3.2.2.cmml"><mi id="S0.E9.m1.1.1.3.2.2.2" xref="S0.E9.m1.1.1.3.2.2.2.cmml">𝐟</mi><mi id="S0.E9.m1.1.1.3.2.2.3" xref="S0.E9.m1.1.1.3.2.2.3.cmml">i</mi></msub><mo id="S0.E9.m1.1.1.3.2.1" xref="S0.E9.m1.1.1.3.2.1.cmml">−</mo><mi id="S0.E9.m1.1.1.3.2.3" xref="S0.E9.m1.1.1.3.2.3.cmml">μ</mi></mrow><mi id="S0.E9.m1.1.1.3.3" xref="S0.E9.m1.1.1.3.3.cmml">σ</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S0.E9.m1.1b"><apply id="S0.E9.m1.1.1.cmml" xref="S0.E9.m1.1.1"><eq id="S0.E9.m1.1.1.1.cmml" xref="S0.E9.m1.1.1.1"></eq><apply id="S0.E9.m1.1.1.2.cmml" xref="S0.E9.m1.1.1.2"><csymbol cd="ambiguous" id="S0.E9.m1.1.1.2.1.cmml" xref="S0.E9.m1.1.1.2">subscript</csymbol><ci id="S0.E9.m1.1.1.2.2.cmml" xref="S0.E9.m1.1.1.2.2">𝐟</ci><ci id="S0.E9.m1.1.1.2.3a.cmml" xref="S0.E9.m1.1.1.2.3"><mtext id="S0.E9.m1.1.1.2.3.cmml" mathsize="70%" xref="S0.E9.m1.1.1.2.3">normalized</mtext></ci></apply><apply id="S0.E9.m1.1.1.3.cmml" xref="S0.E9.m1.1.1.3"><divide id="S0.E9.m1.1.1.3.1.cmml" xref="S0.E9.m1.1.1.3"></divide><apply id="S0.E9.m1.1.1.3.2.cmml" xref="S0.E9.m1.1.1.3.2"><minus id="S0.E9.m1.1.1.3.2.1.cmml" xref="S0.E9.m1.1.1.3.2.1"></minus><apply id="S0.E9.m1.1.1.3.2.2.cmml" xref="S0.E9.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S0.E9.m1.1.1.3.2.2.1.cmml" xref="S0.E9.m1.1.1.3.2.2">subscript</csymbol><ci id="S0.E9.m1.1.1.3.2.2.2.cmml" xref="S0.E9.m1.1.1.3.2.2.2">𝐟</ci><ci id="S0.E9.m1.1.1.3.2.2.3.cmml" xref="S0.E9.m1.1.1.3.2.2.3">𝑖</ci></apply><ci id="S0.E9.m1.1.1.3.2.3.cmml" xref="S0.E9.m1.1.1.3.2.3">𝜇</ci></apply><ci id="S0.E9.m1.1.1.3.3.cmml" xref="S0.E9.m1.1.1.3.3">𝜎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E9.m1.1c">\mathbf{f}_{\text{normalized}}=\frac{\mathbf{f}_{i}-\mu}{\sigma}</annotation><annotation encoding="application/x-llamapun" id="S0.E9.m1.1d">bold_f start_POSTSUBSCRIPT normalized end_POSTSUBSCRIPT = divide start_ARG bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT - italic_μ end_ARG start_ARG italic_σ end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S0.SSx2.SSS0.Px3.p3">
<p class="ltx_p" id="S0.SSx2.SSS0.Px3.p3.2">Where <math alttext="\mu" class="ltx_Math" display="inline" id="S0.SSx2.SSS0.Px3.p3.1.m1.1"><semantics id="S0.SSx2.SSS0.Px3.p3.1.m1.1a"><mi id="S0.SSx2.SSS0.Px3.p3.1.m1.1.1" xref="S0.SSx2.SSS0.Px3.p3.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S0.SSx2.SSS0.Px3.p3.1.m1.1b"><ci id="S0.SSx2.SSS0.Px3.p3.1.m1.1.1.cmml" xref="S0.SSx2.SSS0.Px3.p3.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx2.SSS0.Px3.p3.1.m1.1c">\mu</annotation><annotation encoding="application/x-llamapun" id="S0.SSx2.SSS0.Px3.p3.1.m1.1d">italic_μ</annotation></semantics></math> is the mean and <math alttext="\sigma" class="ltx_Math" display="inline" id="S0.SSx2.SSS0.Px3.p3.2.m2.1"><semantics id="S0.SSx2.SSS0.Px3.p3.2.m2.1a"><mi id="S0.SSx2.SSS0.Px3.p3.2.m2.1.1" xref="S0.SSx2.SSS0.Px3.p3.2.m2.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S0.SSx2.SSS0.Px3.p3.2.m2.1b"><ci id="S0.SSx2.SSS0.Px3.p3.2.m2.1.1.cmml" xref="S0.SSx2.SSS0.Px3.p3.2.m2.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx2.SSS0.Px3.p3.2.m2.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S0.SSx2.SSS0.Px3.p3.2.m2.1d">italic_σ</annotation></semantics></math> is the standard deviation of the features.</p>
</div>
</section>
<section class="ltx_paragraph" id="S0.SSx2.SSS0.Px4">
<h4 class="ltx_title ltx_title_paragraph">Dimensionality Reduction</h4>
<div class="ltx_para" id="S0.SSx2.SSS0.Px4.p1">
<p class="ltx_p" id="S0.SSx2.SSS0.Px4.p1.1">If the number of features is more than two, we apply Principal Component Analysis (PCA) to reduce the features to two dimensions for visualization. We also use various PCA dimensions for outliers detection which will be explained further:</p>
</div>
<div class="ltx_para" id="S0.SSx2.SSS0.Px4.p2">
<table class="ltx_equation ltx_eqn_table" id="S0.E10">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{f}_{\text{PCA}}=\text{PCA}(\mathbf{f}_{\text{normalized}})" class="ltx_Math" display="block" id="S0.E10.m1.1"><semantics id="S0.E10.m1.1a"><mrow id="S0.E10.m1.1.1" xref="S0.E10.m1.1.1.cmml"><msub id="S0.E10.m1.1.1.3" xref="S0.E10.m1.1.1.3.cmml"><mi id="S0.E10.m1.1.1.3.2" xref="S0.E10.m1.1.1.3.2.cmml">𝐟</mi><mtext id="S0.E10.m1.1.1.3.3" xref="S0.E10.m1.1.1.3.3a.cmml">PCA</mtext></msub><mo id="S0.E10.m1.1.1.2" xref="S0.E10.m1.1.1.2.cmml">=</mo><mrow id="S0.E10.m1.1.1.1" xref="S0.E10.m1.1.1.1.cmml"><mtext id="S0.E10.m1.1.1.1.3" xref="S0.E10.m1.1.1.1.3a.cmml">PCA</mtext><mo id="S0.E10.m1.1.1.1.2" xref="S0.E10.m1.1.1.1.2.cmml">⁢</mo><mrow id="S0.E10.m1.1.1.1.1.1" xref="S0.E10.m1.1.1.1.1.1.1.cmml"><mo id="S0.E10.m1.1.1.1.1.1.2" stretchy="false" xref="S0.E10.m1.1.1.1.1.1.1.cmml">(</mo><msub id="S0.E10.m1.1.1.1.1.1.1" xref="S0.E10.m1.1.1.1.1.1.1.cmml"><mi id="S0.E10.m1.1.1.1.1.1.1.2" xref="S0.E10.m1.1.1.1.1.1.1.2.cmml">𝐟</mi><mtext id="S0.E10.m1.1.1.1.1.1.1.3" xref="S0.E10.m1.1.1.1.1.1.1.3a.cmml">normalized</mtext></msub><mo id="S0.E10.m1.1.1.1.1.1.3" stretchy="false" xref="S0.E10.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E10.m1.1b"><apply id="S0.E10.m1.1.1.cmml" xref="S0.E10.m1.1.1"><eq id="S0.E10.m1.1.1.2.cmml" xref="S0.E10.m1.1.1.2"></eq><apply id="S0.E10.m1.1.1.3.cmml" xref="S0.E10.m1.1.1.3"><csymbol cd="ambiguous" id="S0.E10.m1.1.1.3.1.cmml" xref="S0.E10.m1.1.1.3">subscript</csymbol><ci id="S0.E10.m1.1.1.3.2.cmml" xref="S0.E10.m1.1.1.3.2">𝐟</ci><ci id="S0.E10.m1.1.1.3.3a.cmml" xref="S0.E10.m1.1.1.3.3"><mtext id="S0.E10.m1.1.1.3.3.cmml" mathsize="70%" xref="S0.E10.m1.1.1.3.3">PCA</mtext></ci></apply><apply id="S0.E10.m1.1.1.1.cmml" xref="S0.E10.m1.1.1.1"><times id="S0.E10.m1.1.1.1.2.cmml" xref="S0.E10.m1.1.1.1.2"></times><ci id="S0.E10.m1.1.1.1.3a.cmml" xref="S0.E10.m1.1.1.1.3"><mtext id="S0.E10.m1.1.1.1.3.cmml" xref="S0.E10.m1.1.1.1.3">PCA</mtext></ci><apply id="S0.E10.m1.1.1.1.1.1.1.cmml" xref="S0.E10.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S0.E10.m1.1.1.1.1.1.1.1.cmml" xref="S0.E10.m1.1.1.1.1.1">subscript</csymbol><ci id="S0.E10.m1.1.1.1.1.1.1.2.cmml" xref="S0.E10.m1.1.1.1.1.1.1.2">𝐟</ci><ci id="S0.E10.m1.1.1.1.1.1.1.3a.cmml" xref="S0.E10.m1.1.1.1.1.1.1.3"><mtext id="S0.E10.m1.1.1.1.1.1.1.3.cmml" mathsize="70%" xref="S0.E10.m1.1.1.1.1.1.1.3">normalized</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E10.m1.1c">\mathbf{f}_{\text{PCA}}=\text{PCA}(\mathbf{f}_{\text{normalized}})</annotation><annotation encoding="application/x-llamapun" id="S0.E10.m1.1d">bold_f start_POSTSUBSCRIPT PCA end_POSTSUBSCRIPT = PCA ( bold_f start_POSTSUBSCRIPT normalized end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_paragraph" id="S0.SSx2.SSS0.Px5">
<h4 class="ltx_title ltx_title_paragraph">Outlier Detection</h4>
<div class="ltx_para" id="S0.SSx2.SSS0.Px5.p1">
<p class="ltx_p" id="S0.SSx2.SSS0.Px5.p1.1">Outliers are identified based on a log-likelihood threshold. Points with a log-likelihood below the threshold are considered outliers.</p>
</div>
<div class="ltx_para" id="S0.SSx2.SSS0.Px5.p2">
<ol class="ltx_enumerate" id="S0.I2">
<li class="ltx_item" id="S0.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span>
<div class="ltx_para" id="S0.I2.i1.p1">
<p class="ltx_p" id="S0.I2.i1.p1.4"><span class="ltx_text ltx_font_bold" id="S0.I2.i1.p1.4.1">Fit a Gaussian Mixture Model (GMM)</span>:
The feature vectors are modeled using a GMM, which assumes that the data is generated from a mixture of several Gaussian distributions. The GMM is parameterized by the mean vectors <math alttext="\mu_{k}" class="ltx_Math" display="inline" id="S0.I2.i1.p1.1.m1.1"><semantics id="S0.I2.i1.p1.1.m1.1a"><msub id="S0.I2.i1.p1.1.m1.1.1" xref="S0.I2.i1.p1.1.m1.1.1.cmml"><mi id="S0.I2.i1.p1.1.m1.1.1.2" xref="S0.I2.i1.p1.1.m1.1.1.2.cmml">μ</mi><mi id="S0.I2.i1.p1.1.m1.1.1.3" xref="S0.I2.i1.p1.1.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S0.I2.i1.p1.1.m1.1b"><apply id="S0.I2.i1.p1.1.m1.1.1.cmml" xref="S0.I2.i1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S0.I2.i1.p1.1.m1.1.1.1.cmml" xref="S0.I2.i1.p1.1.m1.1.1">subscript</csymbol><ci id="S0.I2.i1.p1.1.m1.1.1.2.cmml" xref="S0.I2.i1.p1.1.m1.1.1.2">𝜇</ci><ci id="S0.I2.i1.p1.1.m1.1.1.3.cmml" xref="S0.I2.i1.p1.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I2.i1.p1.1.m1.1c">\mu_{k}</annotation><annotation encoding="application/x-llamapun" id="S0.I2.i1.p1.1.m1.1d">italic_μ start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math>, covariance matrices <math alttext="\Sigma_{k}" class="ltx_Math" display="inline" id="S0.I2.i1.p1.2.m2.1"><semantics id="S0.I2.i1.p1.2.m2.1a"><msub id="S0.I2.i1.p1.2.m2.1.1" xref="S0.I2.i1.p1.2.m2.1.1.cmml"><mi id="S0.I2.i1.p1.2.m2.1.1.2" mathvariant="normal" xref="S0.I2.i1.p1.2.m2.1.1.2.cmml">Σ</mi><mi id="S0.I2.i1.p1.2.m2.1.1.3" xref="S0.I2.i1.p1.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S0.I2.i1.p1.2.m2.1b"><apply id="S0.I2.i1.p1.2.m2.1.1.cmml" xref="S0.I2.i1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S0.I2.i1.p1.2.m2.1.1.1.cmml" xref="S0.I2.i1.p1.2.m2.1.1">subscript</csymbol><ci id="S0.I2.i1.p1.2.m2.1.1.2.cmml" xref="S0.I2.i1.p1.2.m2.1.1.2">Σ</ci><ci id="S0.I2.i1.p1.2.m2.1.1.3.cmml" xref="S0.I2.i1.p1.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I2.i1.p1.2.m2.1c">\Sigma_{k}</annotation><annotation encoding="application/x-llamapun" id="S0.I2.i1.p1.2.m2.1d">roman_Σ start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math>, and mixture weights <math alttext="\pi_{k}" class="ltx_Math" display="inline" id="S0.I2.i1.p1.3.m3.1"><semantics id="S0.I2.i1.p1.3.m3.1a"><msub id="S0.I2.i1.p1.3.m3.1.1" xref="S0.I2.i1.p1.3.m3.1.1.cmml"><mi id="S0.I2.i1.p1.3.m3.1.1.2" xref="S0.I2.i1.p1.3.m3.1.1.2.cmml">π</mi><mi id="S0.I2.i1.p1.3.m3.1.1.3" xref="S0.I2.i1.p1.3.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S0.I2.i1.p1.3.m3.1b"><apply id="S0.I2.i1.p1.3.m3.1.1.cmml" xref="S0.I2.i1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S0.I2.i1.p1.3.m3.1.1.1.cmml" xref="S0.I2.i1.p1.3.m3.1.1">subscript</csymbol><ci id="S0.I2.i1.p1.3.m3.1.1.2.cmml" xref="S0.I2.i1.p1.3.m3.1.1.2">𝜋</ci><ci id="S0.I2.i1.p1.3.m3.1.1.3.cmml" xref="S0.I2.i1.p1.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I2.i1.p1.3.m3.1c">\pi_{k}</annotation><annotation encoding="application/x-llamapun" id="S0.I2.i1.p1.3.m3.1d">italic_π start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> for each component <math alttext="k" class="ltx_Math" display="inline" id="S0.I2.i1.p1.4.m4.1"><semantics id="S0.I2.i1.p1.4.m4.1a"><mi id="S0.I2.i1.p1.4.m4.1.1" xref="S0.I2.i1.p1.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S0.I2.i1.p1.4.m4.1b"><ci id="S0.I2.i1.p1.4.m4.1.1.cmml" xref="S0.I2.i1.p1.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.I2.i1.p1.4.m4.1c">k</annotation><annotation encoding="application/x-llamapun" id="S0.I2.i1.p1.4.m4.1d">italic_k</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="S0.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span>
<div class="ltx_para" id="S0.I2.i2.p1">
<p class="ltx_p" id="S0.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I2.i2.p1.1.1">Calculate Log-Likelihood</span>:
For each feature vector <math alttext="\mathbf{f}_{i}" class="ltx_Math" display="inline" id="S0.I2.i2.p1.1.m1.1"><semantics id="S0.I2.i2.p1.1.m1.1a"><msub id="S0.I2.i2.p1.1.m1.1.1" xref="S0.I2.i2.p1.1.m1.1.1.cmml"><mi id="S0.I2.i2.p1.1.m1.1.1.2" xref="S0.I2.i2.p1.1.m1.1.1.2.cmml">𝐟</mi><mi id="S0.I2.i2.p1.1.m1.1.1.3" xref="S0.I2.i2.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.I2.i2.p1.1.m1.1b"><apply id="S0.I2.i2.p1.1.m1.1.1.cmml" xref="S0.I2.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S0.I2.i2.p1.1.m1.1.1.1.cmml" xref="S0.I2.i2.p1.1.m1.1.1">subscript</csymbol><ci id="S0.I2.i2.p1.1.m1.1.1.2.cmml" xref="S0.I2.i2.p1.1.m1.1.1.2">𝐟</ci><ci id="S0.I2.i2.p1.1.m1.1.1.3.cmml" xref="S0.I2.i2.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I2.i2.p1.1.m1.1c">\mathbf{f}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.I2.i2.p1.1.m1.1d">bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, compute the log-likelihood under the GMM:</p>
<table class="ltx_equation ltx_eqn_table" id="S0.E11">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\log p(\mathbf{f}_{i})=\log\left(\sum_{k=1}^{K}\pi_{k}\mathcal{N}(\mathbf{f}_{%
i}|\mu_{k},\Sigma_{k})\right)" class="ltx_Math" display="block" id="S0.E11.m1.3"><semantics id="S0.E11.m1.3a"><mrow id="S0.E11.m1.3.3" xref="S0.E11.m1.3.3.cmml"><mrow id="S0.E11.m1.2.2.1" xref="S0.E11.m1.2.2.1.cmml"><mrow id="S0.E11.m1.2.2.1.3" xref="S0.E11.m1.2.2.1.3.cmml"><mi id="S0.E11.m1.2.2.1.3.1" xref="S0.E11.m1.2.2.1.3.1.cmml">log</mi><mo id="S0.E11.m1.2.2.1.3a" lspace="0.167em" xref="S0.E11.m1.2.2.1.3.cmml">⁡</mo><mi id="S0.E11.m1.2.2.1.3.2" xref="S0.E11.m1.2.2.1.3.2.cmml">p</mi></mrow><mo id="S0.E11.m1.2.2.1.2" xref="S0.E11.m1.2.2.1.2.cmml">⁢</mo><mrow id="S0.E11.m1.2.2.1.1.1" xref="S0.E11.m1.2.2.1.1.1.1.cmml"><mo id="S0.E11.m1.2.2.1.1.1.2" stretchy="false" xref="S0.E11.m1.2.2.1.1.1.1.cmml">(</mo><msub id="S0.E11.m1.2.2.1.1.1.1" xref="S0.E11.m1.2.2.1.1.1.1.cmml"><mi id="S0.E11.m1.2.2.1.1.1.1.2" xref="S0.E11.m1.2.2.1.1.1.1.2.cmml">𝐟</mi><mi id="S0.E11.m1.2.2.1.1.1.1.3" xref="S0.E11.m1.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S0.E11.m1.2.2.1.1.1.3" stretchy="false" xref="S0.E11.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S0.E11.m1.3.3.3" xref="S0.E11.m1.3.3.3.cmml">=</mo><mrow id="S0.E11.m1.3.3.2.1" xref="S0.E11.m1.3.3.2.2.cmml"><mi id="S0.E11.m1.1.1" xref="S0.E11.m1.1.1.cmml">log</mi><mo id="S0.E11.m1.3.3.2.1a" xref="S0.E11.m1.3.3.2.2.cmml">⁡</mo><mrow id="S0.E11.m1.3.3.2.1.1" xref="S0.E11.m1.3.3.2.2.cmml"><mo id="S0.E11.m1.3.3.2.1.1.2" xref="S0.E11.m1.3.3.2.2.cmml">(</mo><mrow id="S0.E11.m1.3.3.2.1.1.1" xref="S0.E11.m1.3.3.2.1.1.1.cmml"><munderover id="S0.E11.m1.3.3.2.1.1.1.2" xref="S0.E11.m1.3.3.2.1.1.1.2.cmml"><mo id="S0.E11.m1.3.3.2.1.1.1.2.2.2" lspace="0em" movablelimits="false" xref="S0.E11.m1.3.3.2.1.1.1.2.2.2.cmml">∑</mo><mrow id="S0.E11.m1.3.3.2.1.1.1.2.2.3" xref="S0.E11.m1.3.3.2.1.1.1.2.2.3.cmml"><mi id="S0.E11.m1.3.3.2.1.1.1.2.2.3.2" xref="S0.E11.m1.3.3.2.1.1.1.2.2.3.2.cmml">k</mi><mo id="S0.E11.m1.3.3.2.1.1.1.2.2.3.1" xref="S0.E11.m1.3.3.2.1.1.1.2.2.3.1.cmml">=</mo><mn id="S0.E11.m1.3.3.2.1.1.1.2.2.3.3" xref="S0.E11.m1.3.3.2.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S0.E11.m1.3.3.2.1.1.1.2.3" xref="S0.E11.m1.3.3.2.1.1.1.2.3.cmml">K</mi></munderover><mrow id="S0.E11.m1.3.3.2.1.1.1.1" xref="S0.E11.m1.3.3.2.1.1.1.1.cmml"><msub id="S0.E11.m1.3.3.2.1.1.1.1.3" xref="S0.E11.m1.3.3.2.1.1.1.1.3.cmml"><mi id="S0.E11.m1.3.3.2.1.1.1.1.3.2" xref="S0.E11.m1.3.3.2.1.1.1.1.3.2.cmml">π</mi><mi id="S0.E11.m1.3.3.2.1.1.1.1.3.3" xref="S0.E11.m1.3.3.2.1.1.1.1.3.3.cmml">k</mi></msub><mo id="S0.E11.m1.3.3.2.1.1.1.1.2" xref="S0.E11.m1.3.3.2.1.1.1.1.2.cmml">⁢</mo><mi class="ltx_font_mathcaligraphic" id="S0.E11.m1.3.3.2.1.1.1.1.4" xref="S0.E11.m1.3.3.2.1.1.1.1.4.cmml">𝒩</mi><mo id="S0.E11.m1.3.3.2.1.1.1.1.2a" xref="S0.E11.m1.3.3.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S0.E11.m1.3.3.2.1.1.1.1.1.1" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.cmml"><mo id="S0.E11.m1.3.3.2.1.1.1.1.1.1.2" stretchy="false" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.cmml"><msub id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4.cmml"><mi id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4.2" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4.2.cmml">𝐟</mi><mi id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4.3" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4.3.cmml">i</mi></msub><mo fence="false" id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.3" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.3.cmml"><msub id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1.2" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1.2.cmml">μ</mi><mi id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1.3" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.3" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2.2" mathvariant="normal" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2.2.cmml">Σ</mi><mi id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2.3" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2.3.cmml">k</mi></msub></mrow></mrow><mo id="S0.E11.m1.3.3.2.1.1.1.1.1.1.3" stretchy="false" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S0.E11.m1.3.3.2.1.1.3" xref="S0.E11.m1.3.3.2.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E11.m1.3b"><apply id="S0.E11.m1.3.3.cmml" xref="S0.E11.m1.3.3"><eq id="S0.E11.m1.3.3.3.cmml" xref="S0.E11.m1.3.3.3"></eq><apply id="S0.E11.m1.2.2.1.cmml" xref="S0.E11.m1.2.2.1"><times id="S0.E11.m1.2.2.1.2.cmml" xref="S0.E11.m1.2.2.1.2"></times><apply id="S0.E11.m1.2.2.1.3.cmml" xref="S0.E11.m1.2.2.1.3"><log id="S0.E11.m1.2.2.1.3.1.cmml" xref="S0.E11.m1.2.2.1.3.1"></log><ci id="S0.E11.m1.2.2.1.3.2.cmml" xref="S0.E11.m1.2.2.1.3.2">𝑝</ci></apply><apply id="S0.E11.m1.2.2.1.1.1.1.cmml" xref="S0.E11.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S0.E11.m1.2.2.1.1.1.1.1.cmml" xref="S0.E11.m1.2.2.1.1.1">subscript</csymbol><ci id="S0.E11.m1.2.2.1.1.1.1.2.cmml" xref="S0.E11.m1.2.2.1.1.1.1.2">𝐟</ci><ci id="S0.E11.m1.2.2.1.1.1.1.3.cmml" xref="S0.E11.m1.2.2.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S0.E11.m1.3.3.2.2.cmml" xref="S0.E11.m1.3.3.2.1"><log id="S0.E11.m1.1.1.cmml" xref="S0.E11.m1.1.1"></log><apply id="S0.E11.m1.3.3.2.1.1.1.cmml" xref="S0.E11.m1.3.3.2.1.1.1"><apply id="S0.E11.m1.3.3.2.1.1.1.2.cmml" xref="S0.E11.m1.3.3.2.1.1.1.2"><csymbol cd="ambiguous" id="S0.E11.m1.3.3.2.1.1.1.2.1.cmml" xref="S0.E11.m1.3.3.2.1.1.1.2">superscript</csymbol><apply id="S0.E11.m1.3.3.2.1.1.1.2.2.cmml" xref="S0.E11.m1.3.3.2.1.1.1.2"><csymbol cd="ambiguous" id="S0.E11.m1.3.3.2.1.1.1.2.2.1.cmml" xref="S0.E11.m1.3.3.2.1.1.1.2">subscript</csymbol><sum id="S0.E11.m1.3.3.2.1.1.1.2.2.2.cmml" xref="S0.E11.m1.3.3.2.1.1.1.2.2.2"></sum><apply id="S0.E11.m1.3.3.2.1.1.1.2.2.3.cmml" xref="S0.E11.m1.3.3.2.1.1.1.2.2.3"><eq id="S0.E11.m1.3.3.2.1.1.1.2.2.3.1.cmml" xref="S0.E11.m1.3.3.2.1.1.1.2.2.3.1"></eq><ci id="S0.E11.m1.3.3.2.1.1.1.2.2.3.2.cmml" xref="S0.E11.m1.3.3.2.1.1.1.2.2.3.2">𝑘</ci><cn id="S0.E11.m1.3.3.2.1.1.1.2.2.3.3.cmml" type="integer" xref="S0.E11.m1.3.3.2.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S0.E11.m1.3.3.2.1.1.1.2.3.cmml" xref="S0.E11.m1.3.3.2.1.1.1.2.3">𝐾</ci></apply><apply id="S0.E11.m1.3.3.2.1.1.1.1.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1"><times id="S0.E11.m1.3.3.2.1.1.1.1.2.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.2"></times><apply id="S0.E11.m1.3.3.2.1.1.1.1.3.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S0.E11.m1.3.3.2.1.1.1.1.3.1.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.3">subscript</csymbol><ci id="S0.E11.m1.3.3.2.1.1.1.1.3.2.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.3.2">𝜋</ci><ci id="S0.E11.m1.3.3.2.1.1.1.1.3.3.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.3.3">𝑘</ci></apply><ci id="S0.E11.m1.3.3.2.1.1.1.1.4.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.4">𝒩</ci><apply id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.3.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.3">conditional</csymbol><apply id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4.1.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4.2.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4.2">𝐟</ci><ci id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4.3.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.4.3">𝑖</ci></apply><list id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.3.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2"><apply id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1.2">𝜇</ci><ci id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2.2">Σ</ci><ci id="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S0.E11.m1.3.3.2.1.1.1.1.1.1.1.2.2.2.3">𝑘</ci></apply></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E11.m1.3c">\log p(\mathbf{f}_{i})=\log\left(\sum_{k=1}^{K}\pi_{k}\mathcal{N}(\mathbf{f}_{%
i}|\mu_{k},\Sigma_{k})\right)</annotation><annotation encoding="application/x-llamapun" id="S0.E11.m1.3d">roman_log italic_p ( bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) = roman_log ( ∑ start_POSTSUBSCRIPT italic_k = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT italic_π start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT caligraphic_N ( bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_μ start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , roman_Σ start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S0.I2.i2.p1.4">where <math alttext="\mathcal{N}(\mathbf{f}_{i}|\mu_{k},\Sigma_{k})" class="ltx_Math" display="inline" id="S0.I2.i2.p1.2.m1.1"><semantics id="S0.I2.i2.p1.2.m1.1a"><mrow id="S0.I2.i2.p1.2.m1.1.1" xref="S0.I2.i2.p1.2.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S0.I2.i2.p1.2.m1.1.1.3" xref="S0.I2.i2.p1.2.m1.1.1.3.cmml">𝒩</mi><mo id="S0.I2.i2.p1.2.m1.1.1.2" xref="S0.I2.i2.p1.2.m1.1.1.2.cmml">⁢</mo><mrow id="S0.I2.i2.p1.2.m1.1.1.1.1" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.cmml"><mo id="S0.I2.i2.p1.2.m1.1.1.1.1.2" stretchy="false" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.cmml">(</mo><mrow id="S0.I2.i2.p1.2.m1.1.1.1.1.1" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.cmml"><msub id="S0.I2.i2.p1.2.m1.1.1.1.1.1.4" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.4.cmml"><mi id="S0.I2.i2.p1.2.m1.1.1.1.1.1.4.2" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.4.2.cmml">𝐟</mi><mi id="S0.I2.i2.p1.2.m1.1.1.1.1.1.4.3" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.4.3.cmml">i</mi></msub><mo fence="false" id="S0.I2.i2.p1.2.m1.1.1.1.1.1.3" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.3.cmml">|</mo><mrow id="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.3.cmml"><msub id="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1.2" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1.2.cmml">μ</mi><mi id="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1.3" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.3" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2.cmml"><mi id="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2.2" mathvariant="normal" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2.2.cmml">Σ</mi><mi id="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2.3" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2.3.cmml">k</mi></msub></mrow></mrow><mo id="S0.I2.i2.p1.2.m1.1.1.1.1.3" stretchy="false" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.I2.i2.p1.2.m1.1b"><apply id="S0.I2.i2.p1.2.m1.1.1.cmml" xref="S0.I2.i2.p1.2.m1.1.1"><times id="S0.I2.i2.p1.2.m1.1.1.2.cmml" xref="S0.I2.i2.p1.2.m1.1.1.2"></times><ci id="S0.I2.i2.p1.2.m1.1.1.3.cmml" xref="S0.I2.i2.p1.2.m1.1.1.3">𝒩</ci><apply id="S0.I2.i2.p1.2.m1.1.1.1.1.1.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1"><csymbol cd="latexml" id="S0.I2.i2.p1.2.m1.1.1.1.1.1.3.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.3">conditional</csymbol><apply id="S0.I2.i2.p1.2.m1.1.1.1.1.1.4.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S0.I2.i2.p1.2.m1.1.1.1.1.1.4.1.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.4">subscript</csymbol><ci id="S0.I2.i2.p1.2.m1.1.1.1.1.1.4.2.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.4.2">𝐟</ci><ci id="S0.I2.i2.p1.2.m1.1.1.1.1.1.4.3.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.4.3">𝑖</ci></apply><list id="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.3.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2"><apply id="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1.2">𝜇</ci><ci id="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2.1.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2.2.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2.2">Σ</ci><ci id="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2.3.cmml" xref="S0.I2.i2.p1.2.m1.1.1.1.1.1.2.2.2.3">𝑘</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I2.i2.p1.2.m1.1c">\mathcal{N}(\mathbf{f}_{i}|\mu_{k},\Sigma_{k})</annotation><annotation encoding="application/x-llamapun" id="S0.I2.i2.p1.2.m1.1d">caligraphic_N ( bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_μ start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , roman_Σ start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math> is the probability density function of the Gaussian distribution with mean <math alttext="\mu_{k}" class="ltx_Math" display="inline" id="S0.I2.i2.p1.3.m2.1"><semantics id="S0.I2.i2.p1.3.m2.1a"><msub id="S0.I2.i2.p1.3.m2.1.1" xref="S0.I2.i2.p1.3.m2.1.1.cmml"><mi id="S0.I2.i2.p1.3.m2.1.1.2" xref="S0.I2.i2.p1.3.m2.1.1.2.cmml">μ</mi><mi id="S0.I2.i2.p1.3.m2.1.1.3" xref="S0.I2.i2.p1.3.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S0.I2.i2.p1.3.m2.1b"><apply id="S0.I2.i2.p1.3.m2.1.1.cmml" xref="S0.I2.i2.p1.3.m2.1.1"><csymbol cd="ambiguous" id="S0.I2.i2.p1.3.m2.1.1.1.cmml" xref="S0.I2.i2.p1.3.m2.1.1">subscript</csymbol><ci id="S0.I2.i2.p1.3.m2.1.1.2.cmml" xref="S0.I2.i2.p1.3.m2.1.1.2">𝜇</ci><ci id="S0.I2.i2.p1.3.m2.1.1.3.cmml" xref="S0.I2.i2.p1.3.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I2.i2.p1.3.m2.1c">\mu_{k}</annotation><annotation encoding="application/x-llamapun" id="S0.I2.i2.p1.3.m2.1d">italic_μ start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> and covariance <math alttext="\Sigma_{k}" class="ltx_Math" display="inline" id="S0.I2.i2.p1.4.m3.1"><semantics id="S0.I2.i2.p1.4.m3.1a"><msub id="S0.I2.i2.p1.4.m3.1.1" xref="S0.I2.i2.p1.4.m3.1.1.cmml"><mi id="S0.I2.i2.p1.4.m3.1.1.2" mathvariant="normal" xref="S0.I2.i2.p1.4.m3.1.1.2.cmml">Σ</mi><mi id="S0.I2.i2.p1.4.m3.1.1.3" xref="S0.I2.i2.p1.4.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S0.I2.i2.p1.4.m3.1b"><apply id="S0.I2.i2.p1.4.m3.1.1.cmml" xref="S0.I2.i2.p1.4.m3.1.1"><csymbol cd="ambiguous" id="S0.I2.i2.p1.4.m3.1.1.1.cmml" xref="S0.I2.i2.p1.4.m3.1.1">subscript</csymbol><ci id="S0.I2.i2.p1.4.m3.1.1.2.cmml" xref="S0.I2.i2.p1.4.m3.1.1.2">Σ</ci><ci id="S0.I2.i2.p1.4.m3.1.1.3.cmml" xref="S0.I2.i2.p1.4.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I2.i2.p1.4.m3.1c">\Sigma_{k}</annotation><annotation encoding="application/x-llamapun" id="S0.I2.i2.p1.4.m3.1d">roman_Σ start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="S0.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span>
<div class="ltx_para" id="S0.I2.i3.p1">
<p class="ltx_p" id="S0.I2.i3.p1.2"><span class="ltx_text ltx_font_bold" id="S0.I2.i3.p1.2.1">Determine Outliers</span>:
Identify the outliers as those points whose log-likelihood is below a certain threshold. This threshold can be defined as a certain percentile of the log-likelihood values. For example, consider the bottom 10</p>
<table class="ltx_equation ltx_eqn_table" id="S0.E12">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{threshold}=\text{percentile}(\{\log p(\mathbf{f}_{i})\}_{i=1}^{N},10)" class="ltx_Math" display="block" id="S0.E12.m1.2"><semantics id="S0.E12.m1.2a"><mrow id="S0.E12.m1.2.2" xref="S0.E12.m1.2.2.cmml"><mtext id="S0.E12.m1.2.2.3" xref="S0.E12.m1.2.2.3a.cmml">threshold</mtext><mo id="S0.E12.m1.2.2.2" xref="S0.E12.m1.2.2.2.cmml">=</mo><mrow id="S0.E12.m1.2.2.1" xref="S0.E12.m1.2.2.1.cmml"><mtext id="S0.E12.m1.2.2.1.3" xref="S0.E12.m1.2.2.1.3a.cmml">percentile</mtext><mo id="S0.E12.m1.2.2.1.2" xref="S0.E12.m1.2.2.1.2.cmml">⁢</mo><mrow id="S0.E12.m1.2.2.1.1.1" xref="S0.E12.m1.2.2.1.1.2.cmml"><mo id="S0.E12.m1.2.2.1.1.1.2" stretchy="false" xref="S0.E12.m1.2.2.1.1.2.cmml">(</mo><msubsup id="S0.E12.m1.2.2.1.1.1.1" xref="S0.E12.m1.2.2.1.1.1.1.cmml"><mrow id="S0.E12.m1.2.2.1.1.1.1.1.1.1" xref="S0.E12.m1.2.2.1.1.1.1.1.1.2.cmml"><mo id="S0.E12.m1.2.2.1.1.1.1.1.1.1.2" stretchy="false" xref="S0.E12.m1.2.2.1.1.1.1.1.1.2.cmml">{</mo><mrow id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mrow id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3.cmml"><mi id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3.1" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3.1.cmml">log</mi><mo id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3a" lspace="0.167em" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3.cmml">⁡</mo><mi id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3.2" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3.2.cmml">p</mi></mrow><mo id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝐟</mi><mi id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S0.E12.m1.2.2.1.1.1.1.1.1.1.3" stretchy="false" xref="S0.E12.m1.2.2.1.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S0.E12.m1.2.2.1.1.1.1.1.3" xref="S0.E12.m1.2.2.1.1.1.1.1.3.cmml"><mi id="S0.E12.m1.2.2.1.1.1.1.1.3.2" xref="S0.E12.m1.2.2.1.1.1.1.1.3.2.cmml">i</mi><mo id="S0.E12.m1.2.2.1.1.1.1.1.3.1" xref="S0.E12.m1.2.2.1.1.1.1.1.3.1.cmml">=</mo><mn id="S0.E12.m1.2.2.1.1.1.1.1.3.3" xref="S0.E12.m1.2.2.1.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S0.E12.m1.2.2.1.1.1.1.3" xref="S0.E12.m1.2.2.1.1.1.1.3.cmml">N</mi></msubsup><mo id="S0.E12.m1.2.2.1.1.1.3" xref="S0.E12.m1.2.2.1.1.2.cmml">,</mo><mn id="S0.E12.m1.1.1" xref="S0.E12.m1.1.1.cmml">10</mn><mo id="S0.E12.m1.2.2.1.1.1.4" stretchy="false" xref="S0.E12.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E12.m1.2b"><apply id="S0.E12.m1.2.2.cmml" xref="S0.E12.m1.2.2"><eq id="S0.E12.m1.2.2.2.cmml" xref="S0.E12.m1.2.2.2"></eq><ci id="S0.E12.m1.2.2.3a.cmml" xref="S0.E12.m1.2.2.3"><mtext id="S0.E12.m1.2.2.3.cmml" xref="S0.E12.m1.2.2.3">threshold</mtext></ci><apply id="S0.E12.m1.2.2.1.cmml" xref="S0.E12.m1.2.2.1"><times id="S0.E12.m1.2.2.1.2.cmml" xref="S0.E12.m1.2.2.1.2"></times><ci id="S0.E12.m1.2.2.1.3a.cmml" xref="S0.E12.m1.2.2.1.3"><mtext id="S0.E12.m1.2.2.1.3.cmml" xref="S0.E12.m1.2.2.1.3">percentile</mtext></ci><interval closure="open" id="S0.E12.m1.2.2.1.1.2.cmml" xref="S0.E12.m1.2.2.1.1.1"><apply id="S0.E12.m1.2.2.1.1.1.1.cmml" xref="S0.E12.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S0.E12.m1.2.2.1.1.1.1.2.cmml" xref="S0.E12.m1.2.2.1.1.1.1">superscript</csymbol><apply id="S0.E12.m1.2.2.1.1.1.1.1.cmml" xref="S0.E12.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S0.E12.m1.2.2.1.1.1.1.1.2.cmml" xref="S0.E12.m1.2.2.1.1.1.1">subscript</csymbol><set id="S0.E12.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1"><apply id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1"><times id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.2"></times><apply id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3"><log id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3.1.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3.1"></log><ci id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3.2.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.3.2">𝑝</ci></apply><apply id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2">𝐟</ci><ci id="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply></set><apply id="S0.E12.m1.2.2.1.1.1.1.1.3.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.3"><eq id="S0.E12.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.3.1"></eq><ci id="S0.E12.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S0.E12.m1.2.2.1.1.1.1.1.3.2">𝑖</ci><cn id="S0.E12.m1.2.2.1.1.1.1.1.3.3.cmml" type="integer" xref="S0.E12.m1.2.2.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S0.E12.m1.2.2.1.1.1.1.3.cmml" xref="S0.E12.m1.2.2.1.1.1.1.3">𝑁</ci></apply><cn id="S0.E12.m1.1.1.cmml" type="integer" xref="S0.E12.m1.1.1">10</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E12.m1.2c">\text{threshold}=\text{percentile}(\{\log p(\mathbf{f}_{i})\}_{i=1}^{N},10)</annotation><annotation encoding="application/x-llamapun" id="S0.E12.m1.2d">threshold = percentile ( { roman_log italic_p ( bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT , 10 )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S0.I2.i3.p1.1">where <math alttext="N" class="ltx_Math" display="inline" id="S0.I2.i3.p1.1.m1.1"><semantics id="S0.I2.i3.p1.1.m1.1a"><mi id="S0.I2.i3.p1.1.m1.1.1" xref="S0.I2.i3.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S0.I2.i3.p1.1.m1.1b"><ci id="S0.I2.i3.p1.1.m1.1.1.cmml" xref="S0.I2.i3.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.I2.i3.p1.1.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S0.I2.i3.p1.1.m1.1d">italic_N</annotation></semantics></math> is the total number of feature vectors.</p>
</div>
</li>
<li class="ltx_item" id="S0.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span>
<div class="ltx_para" id="S0.I2.i4.p1">
<p class="ltx_p" id="S0.I2.i4.p1.2"><span class="ltx_text ltx_font_bold" id="S0.I2.i4.p1.2.1">Outlier Identification</span>:
Points with log-likelihood values less than the threshold are marked as outliers:</p>
<table class="ltx_equation ltx_eqn_table" id="S0.E13">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{outliers}=\{\mathbf{f}_{i}\mid\log p(\mathbf{f}_{i})&lt;\text{threshold}\}" class="ltx_Math" display="block" id="S0.E13.m1.2"><semantics id="S0.E13.m1.2a"><mrow id="S0.E13.m1.2.2" xref="S0.E13.m1.2.2.cmml"><mtext id="S0.E13.m1.2.2.4" xref="S0.E13.m1.2.2.4a.cmml">outliers</mtext><mo id="S0.E13.m1.2.2.3" xref="S0.E13.m1.2.2.3.cmml">=</mo><mrow id="S0.E13.m1.2.2.2.2" xref="S0.E13.m1.2.2.2.3.cmml"><mo id="S0.E13.m1.2.2.2.2.3" stretchy="false" xref="S0.E13.m1.2.2.2.3.1.cmml">{</mo><msub id="S0.E13.m1.1.1.1.1.1" xref="S0.E13.m1.1.1.1.1.1.cmml"><mi id="S0.E13.m1.1.1.1.1.1.2" xref="S0.E13.m1.1.1.1.1.1.2.cmml">𝐟</mi><mi id="S0.E13.m1.1.1.1.1.1.3" xref="S0.E13.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo fence="true" id="S0.E13.m1.2.2.2.2.4" lspace="0em" rspace="0.167em" xref="S0.E13.m1.2.2.2.3.1.cmml">∣</mo><mrow id="S0.E13.m1.2.2.2.2.2" xref="S0.E13.m1.2.2.2.2.2.cmml"><mrow id="S0.E13.m1.2.2.2.2.2.1" xref="S0.E13.m1.2.2.2.2.2.1.cmml"><mrow id="S0.E13.m1.2.2.2.2.2.1.3" xref="S0.E13.m1.2.2.2.2.2.1.3.cmml"><mi id="S0.E13.m1.2.2.2.2.2.1.3.1" xref="S0.E13.m1.2.2.2.2.2.1.3.1.cmml">log</mi><mo id="S0.E13.m1.2.2.2.2.2.1.3a" lspace="0.167em" xref="S0.E13.m1.2.2.2.2.2.1.3.cmml">⁡</mo><mi id="S0.E13.m1.2.2.2.2.2.1.3.2" xref="S0.E13.m1.2.2.2.2.2.1.3.2.cmml">p</mi></mrow><mo id="S0.E13.m1.2.2.2.2.2.1.2" xref="S0.E13.m1.2.2.2.2.2.1.2.cmml">⁢</mo><mrow id="S0.E13.m1.2.2.2.2.2.1.1.1" xref="S0.E13.m1.2.2.2.2.2.1.1.1.1.cmml"><mo id="S0.E13.m1.2.2.2.2.2.1.1.1.2" stretchy="false" xref="S0.E13.m1.2.2.2.2.2.1.1.1.1.cmml">(</mo><msub id="S0.E13.m1.2.2.2.2.2.1.1.1.1" xref="S0.E13.m1.2.2.2.2.2.1.1.1.1.cmml"><mi id="S0.E13.m1.2.2.2.2.2.1.1.1.1.2" xref="S0.E13.m1.2.2.2.2.2.1.1.1.1.2.cmml">𝐟</mi><mi id="S0.E13.m1.2.2.2.2.2.1.1.1.1.3" xref="S0.E13.m1.2.2.2.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S0.E13.m1.2.2.2.2.2.1.1.1.3" stretchy="false" xref="S0.E13.m1.2.2.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S0.E13.m1.2.2.2.2.2.2" xref="S0.E13.m1.2.2.2.2.2.2.cmml">&lt;</mo><mtext id="S0.E13.m1.2.2.2.2.2.3" xref="S0.E13.m1.2.2.2.2.2.3a.cmml">threshold</mtext></mrow><mo id="S0.E13.m1.2.2.2.2.5" stretchy="false" xref="S0.E13.m1.2.2.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E13.m1.2b"><apply id="S0.E13.m1.2.2.cmml" xref="S0.E13.m1.2.2"><eq id="S0.E13.m1.2.2.3.cmml" xref="S0.E13.m1.2.2.3"></eq><ci id="S0.E13.m1.2.2.4a.cmml" xref="S0.E13.m1.2.2.4"><mtext id="S0.E13.m1.2.2.4.cmml" xref="S0.E13.m1.2.2.4">outliers</mtext></ci><apply id="S0.E13.m1.2.2.2.3.cmml" xref="S0.E13.m1.2.2.2.2"><csymbol cd="latexml" id="S0.E13.m1.2.2.2.3.1.cmml" xref="S0.E13.m1.2.2.2.2.3">conditional-set</csymbol><apply id="S0.E13.m1.1.1.1.1.1.cmml" xref="S0.E13.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S0.E13.m1.1.1.1.1.1.1.cmml" xref="S0.E13.m1.1.1.1.1.1">subscript</csymbol><ci id="S0.E13.m1.1.1.1.1.1.2.cmml" xref="S0.E13.m1.1.1.1.1.1.2">𝐟</ci><ci id="S0.E13.m1.1.1.1.1.1.3.cmml" xref="S0.E13.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S0.E13.m1.2.2.2.2.2.cmml" xref="S0.E13.m1.2.2.2.2.2"><lt id="S0.E13.m1.2.2.2.2.2.2.cmml" xref="S0.E13.m1.2.2.2.2.2.2"></lt><apply id="S0.E13.m1.2.2.2.2.2.1.cmml" xref="S0.E13.m1.2.2.2.2.2.1"><times id="S0.E13.m1.2.2.2.2.2.1.2.cmml" xref="S0.E13.m1.2.2.2.2.2.1.2"></times><apply id="S0.E13.m1.2.2.2.2.2.1.3.cmml" xref="S0.E13.m1.2.2.2.2.2.1.3"><log id="S0.E13.m1.2.2.2.2.2.1.3.1.cmml" xref="S0.E13.m1.2.2.2.2.2.1.3.1"></log><ci id="S0.E13.m1.2.2.2.2.2.1.3.2.cmml" xref="S0.E13.m1.2.2.2.2.2.1.3.2">𝑝</ci></apply><apply id="S0.E13.m1.2.2.2.2.2.1.1.1.1.cmml" xref="S0.E13.m1.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S0.E13.m1.2.2.2.2.2.1.1.1.1.1.cmml" xref="S0.E13.m1.2.2.2.2.2.1.1.1">subscript</csymbol><ci id="S0.E13.m1.2.2.2.2.2.1.1.1.1.2.cmml" xref="S0.E13.m1.2.2.2.2.2.1.1.1.1.2">𝐟</ci><ci id="S0.E13.m1.2.2.2.2.2.1.1.1.1.3.cmml" xref="S0.E13.m1.2.2.2.2.2.1.1.1.1.3">𝑖</ci></apply></apply><ci id="S0.E13.m1.2.2.2.2.2.3a.cmml" xref="S0.E13.m1.2.2.2.2.2.3"><mtext id="S0.E13.m1.2.2.2.2.2.3.cmml" xref="S0.E13.m1.2.2.2.2.2.3">threshold</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E13.m1.2c">\text{outliers}=\{\mathbf{f}_{i}\mid\log p(\mathbf{f}_{i})&lt;\text{threshold}\}</annotation><annotation encoding="application/x-llamapun" id="S0.E13.m1.2d">outliers = { bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∣ roman_log italic_p ( bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) &lt; threshold }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(13)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S0.I2.i4.p1.1">GMM provides a probability distribution over clusters for each data point. This means each point can belong to multiple clusters with different probabilities. The choice of <math alttext="K" class="ltx_Math" display="inline" id="S0.I2.i4.p1.1.m1.1"><semantics id="S0.I2.i4.p1.1.m1.1a"><mi id="S0.I2.i4.p1.1.m1.1.1" xref="S0.I2.i4.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S0.I2.i4.p1.1.m1.1b"><ci id="S0.I2.i4.p1.1.m1.1.1.cmml" xref="S0.I2.i4.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.I2.i4.p1.1.m1.1c">K</annotation><annotation encoding="application/x-llamapun" id="S0.I2.i4.p1.1.m1.1d">italic_K</annotation></semantics></math> (number of components) is crucial. It can be selected based on prior knowledge, or determined using model selection criteria like the Bayesian Information Criterion (BIC) or the Akaike Information Criterion (AIC), which balance model fit and complexity. Another approach would be by varying a combinations of GMM components and PCA dimensions one can control and optimize outliers selection.</p>
</div>
</li>
</ol>
</div>
</section>
</section>
<section class="ltx_subsection" id="S0.SSx3">
<h2 class="ltx_title ltx_title_subsection">3. Numerical study</h2>
<div class="ltx_para" id="S0.SSx3.p1">
<p class="ltx_p" id="S0.SSx3.p1.1">The purpose of the numerical study was to determine if better responses could be obtained for a query using a filtered context (excluding outlier documents) compared to using the context based solely on a set of documents retrieved from the retrieval language model. Our base text-to-text model was ’TinyLlama/TinyLlama-1.1B-Chat-v1.0,’ which, although rather small, proved to be a good choice for research and allowed us to conduct extensive experiments on a regular laptop. We also tested the proposed method with the ’mistralai/Mistral-7B-Instruct-v0.2’ model and obtained very similar results but at a much higher cost.

<br class="ltx_break"/> As a document retriever, we used a popular sentence transformer model, ‘sentence-transformers/all-mpnet-base-v2,’ which can be used as a text to dense vectors converter. With this model we converted all chunked documents and stored them in a FAISS vector database developed by Facebook Research <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#bib.bib10" title="">10</a>]</cite>. All models we used are publicly available in Hugging Face hub <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01403v1#bib.bib11" title="">11</a>]</cite>.

<br class="ltx_break"/> For testing, we used various datasets. The results of this study are obtained with SQuAD2.0 - The Stanford Question Answering Dataset, which includes a mixture of 35 topics covering political aspects, geography, mathematics, chemistry, religion, etc., ranging from “Amazon Rainforest” to “Yuan Dynasty,” from “Pharmacy” to “Prime Numbers.” To generate questions and corresponding answers for a benchmark, we leveraged the extensive knowledge and capabilities of the OpenAI GPT-4o model with the uploaded dataset text. The following three categories of questions and corresponding answers were generated:</p>
</div>
<section class="ltx_subsubsection" id="S0.SSx3.SSSx1">
<h3 class="ltx_title ltx_title_subsubsection">“Simple”</h3>
<div class="ltx_para" id="S0.SSx3.SSSx1.p1">
<p class="ltx_p" id="S0.SSx3.SSSx1.p1.1">Questions that allow for a short simple answer, such as:</p>
<ul class="ltx_itemize" id="S0.I3">
<li class="ltx_item" id="S0.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I3.i1.p1">
<p class="ltx_p" id="S0.I3.i1.p1.1">When did the 1973 oil crisis begin?</p>
</div>
</li>
<li class="ltx_item" id="S0.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I3.i2.p1">
<p class="ltx_p" id="S0.I3.i2.p1.1">What did Nixon request from Congress on October 19, 1973?</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsubsection" id="S0.SSx3.SSSx2">
<h3 class="ltx_title ltx_title_subsubsection">“Broader”</h3>
<div class="ltx_para" id="S0.SSx3.SSSx2.p1">
<p class="ltx_p" id="S0.SSx3.SSSx2.p1.1">Questions that require to provide detail and insight, such as:</p>
<ul class="ltx_itemize" id="S0.I4">
<li class="ltx_item" id="S0.I4.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I4.i1.p1">
<p class="ltx_p" id="S0.I4.i1.p1.1">What allowed the tropical rainforest to spread out across the continent after the Cretaceous–Paleogene extinction event?</p>
</div>
</li>
<li class="ltx_item" id="S0.I4.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I4.i2.p1">
<p class="ltx_p" id="S0.I4.i2.p1.1">How did the construction of highways in the Amazon lead to deforestation?</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsubsection" id="S0.SSx3.SSSx3">
<h3 class="ltx_title ltx_title_subsubsection">“Double”</h3>
<div class="ltx_para" id="S0.SSx3.SSSx3.p1">
<p class="ltx_p" id="S0.SSx3.SSSx3.p1.1">Two questions of “broader” type combined in one, such as:</p>
<ul class="ltx_itemize" id="S0.I5">
<li class="ltx_item" id="S0.I5.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I5.i1.p1">
<p class="ltx_p" id="S0.I5.i1.p1.1">What caused the recurrence of plague outbreaks in Europe until the 19th century and how did the rise of the Andes Mountains create the Solimões Basin?</p>
</div>
</li>
<li class="ltx_item" id="S0.I5.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I5.i2.p1">
<p class="ltx_p" id="S0.I5.i2.p1.1">What led to the creation of the National Energy Act of 1978 and what caused the Amazon rainforest to be considered unsustainable by 2100?</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx3.p2">
<p class="ltx_p" id="S0.SSx3.SSSx3.p2.1">When splitting text documents into chunks we tried to select a max chunk size so that the number of tokens from 20 – 25 chunks, considered as documents, does not exceed the sequence length of the model, which in case of TinyLlama-1.1B-Chat-v1.0 model is 2048.</p>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx3.p3">
<p class="ltx_p" id="S0.SSx3.SSSx3.p3.1">In Outlier Detection section we described the method of selecting outliers from a given set of feature vectors. This selection depends on the number of GMM components (clusters). For example in case of ”interaction” method the size of the feature vector <math alttext="\mathbf{f}_{i}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p3.1.m1.1"><semantics id="S0.SSx3.SSSx3.p3.1.m1.1a"><msub id="S0.SSx3.SSSx3.p3.1.m1.1.1" xref="S0.SSx3.SSSx3.p3.1.m1.1.1.cmml"><mi id="S0.SSx3.SSSx3.p3.1.m1.1.1.2" xref="S0.SSx3.SSSx3.p3.1.m1.1.1.2.cmml">𝐟</mi><mi id="S0.SSx3.SSSx3.p3.1.m1.1.1.3" xref="S0.SSx3.SSSx3.p3.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p3.1.m1.1b"><apply id="S0.SSx3.SSSx3.p3.1.m1.1.1.cmml" xref="S0.SSx3.SSSx3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p3.1.m1.1.1.1.cmml" xref="S0.SSx3.SSSx3.p3.1.m1.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p3.1.m1.1.1.2.cmml" xref="S0.SSx3.SSSx3.p3.1.m1.1.1.2">𝐟</ci><ci id="S0.SSx3.SSSx3.p3.1.m1.1.1.3.cmml" xref="S0.SSx3.SSSx3.p3.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p3.1.m1.1c">\mathbf{f}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p3.1.m1.1d">bold_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is 4. This is because the feature vector is composed of four components:</p>
<ol class="ltx_enumerate" id="S0.I6">
<li class="ltx_item" id="S0.I6.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span>
<div class="ltx_para" id="S0.I6.i1.p1">
<p class="ltx_p" id="S0.I6.i1.p1.1"><math alttext="d_{\text{centroid}}" class="ltx_Math" display="inline" id="S0.I6.i1.p1.1.m1.1"><semantics id="S0.I6.i1.p1.1.m1.1a"><msub id="S0.I6.i1.p1.1.m1.1.1" xref="S0.I6.i1.p1.1.m1.1.1.cmml"><mi id="S0.I6.i1.p1.1.m1.1.1.2" xref="S0.I6.i1.p1.1.m1.1.1.2.cmml">d</mi><mtext id="S0.I6.i1.p1.1.m1.1.1.3" xref="S0.I6.i1.p1.1.m1.1.1.3a.cmml">centroid</mtext></msub><annotation-xml encoding="MathML-Content" id="S0.I6.i1.p1.1.m1.1b"><apply id="S0.I6.i1.p1.1.m1.1.1.cmml" xref="S0.I6.i1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S0.I6.i1.p1.1.m1.1.1.1.cmml" xref="S0.I6.i1.p1.1.m1.1.1">subscript</csymbol><ci id="S0.I6.i1.p1.1.m1.1.1.2.cmml" xref="S0.I6.i1.p1.1.m1.1.1.2">𝑑</ci><ci id="S0.I6.i1.p1.1.m1.1.1.3a.cmml" xref="S0.I6.i1.p1.1.m1.1.1.3"><mtext id="S0.I6.i1.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S0.I6.i1.p1.1.m1.1.1.3">centroid</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I6.i1.p1.1.m1.1c">d_{\text{centroid}}</annotation><annotation encoding="application/x-llamapun" id="S0.I6.i1.p1.1.m1.1d">italic_d start_POSTSUBSCRIPT centroid end_POSTSUBSCRIPT</annotation></semantics></math></p>
</div>
</li>
<li class="ltx_item" id="S0.I6.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span>
<div class="ltx_para" id="S0.I6.i2.p1">
<p class="ltx_p" id="S0.I6.i2.p1.1"><math alttext="d_{\text{query}}" class="ltx_Math" display="inline" id="S0.I6.i2.p1.1.m1.1"><semantics id="S0.I6.i2.p1.1.m1.1a"><msub id="S0.I6.i2.p1.1.m1.1.1" xref="S0.I6.i2.p1.1.m1.1.1.cmml"><mi id="S0.I6.i2.p1.1.m1.1.1.2" xref="S0.I6.i2.p1.1.m1.1.1.2.cmml">d</mi><mtext id="S0.I6.i2.p1.1.m1.1.1.3" xref="S0.I6.i2.p1.1.m1.1.1.3a.cmml">query</mtext></msub><annotation-xml encoding="MathML-Content" id="S0.I6.i2.p1.1.m1.1b"><apply id="S0.I6.i2.p1.1.m1.1.1.cmml" xref="S0.I6.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S0.I6.i2.p1.1.m1.1.1.1.cmml" xref="S0.I6.i2.p1.1.m1.1.1">subscript</csymbol><ci id="S0.I6.i2.p1.1.m1.1.1.2.cmml" xref="S0.I6.i2.p1.1.m1.1.1.2">𝑑</ci><ci id="S0.I6.i2.p1.1.m1.1.1.3a.cmml" xref="S0.I6.i2.p1.1.m1.1.1.3"><mtext id="S0.I6.i2.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S0.I6.i2.p1.1.m1.1.1.3">query</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I6.i2.p1.1.m1.1c">d_{\text{query}}</annotation><annotation encoding="application/x-llamapun" id="S0.I6.i2.p1.1.m1.1d">italic_d start_POSTSUBSCRIPT query end_POSTSUBSCRIPT</annotation></semantics></math></p>
</div>
</li>
<li class="ltx_item" id="S0.I6.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span>
<div class="ltx_para" id="S0.I6.i3.p1">
<p class="ltx_p" id="S0.I6.i3.p1.1"><math alttext="d_{\text{centroid}}\times d_{\text{query}}" class="ltx_Math" display="inline" id="S0.I6.i3.p1.1.m1.1"><semantics id="S0.I6.i3.p1.1.m1.1a"><mrow id="S0.I6.i3.p1.1.m1.1.1" xref="S0.I6.i3.p1.1.m1.1.1.cmml"><msub id="S0.I6.i3.p1.1.m1.1.1.2" xref="S0.I6.i3.p1.1.m1.1.1.2.cmml"><mi id="S0.I6.i3.p1.1.m1.1.1.2.2" xref="S0.I6.i3.p1.1.m1.1.1.2.2.cmml">d</mi><mtext id="S0.I6.i3.p1.1.m1.1.1.2.3" xref="S0.I6.i3.p1.1.m1.1.1.2.3a.cmml">centroid</mtext></msub><mo id="S0.I6.i3.p1.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S0.I6.i3.p1.1.m1.1.1.1.cmml">×</mo><msub id="S0.I6.i3.p1.1.m1.1.1.3" xref="S0.I6.i3.p1.1.m1.1.1.3.cmml"><mi id="S0.I6.i3.p1.1.m1.1.1.3.2" xref="S0.I6.i3.p1.1.m1.1.1.3.2.cmml">d</mi><mtext id="S0.I6.i3.p1.1.m1.1.1.3.3" xref="S0.I6.i3.p1.1.m1.1.1.3.3a.cmml">query</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="S0.I6.i3.p1.1.m1.1b"><apply id="S0.I6.i3.p1.1.m1.1.1.cmml" xref="S0.I6.i3.p1.1.m1.1.1"><times id="S0.I6.i3.p1.1.m1.1.1.1.cmml" xref="S0.I6.i3.p1.1.m1.1.1.1"></times><apply id="S0.I6.i3.p1.1.m1.1.1.2.cmml" xref="S0.I6.i3.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S0.I6.i3.p1.1.m1.1.1.2.1.cmml" xref="S0.I6.i3.p1.1.m1.1.1.2">subscript</csymbol><ci id="S0.I6.i3.p1.1.m1.1.1.2.2.cmml" xref="S0.I6.i3.p1.1.m1.1.1.2.2">𝑑</ci><ci id="S0.I6.i3.p1.1.m1.1.1.2.3a.cmml" xref="S0.I6.i3.p1.1.m1.1.1.2.3"><mtext id="S0.I6.i3.p1.1.m1.1.1.2.3.cmml" mathsize="70%" xref="S0.I6.i3.p1.1.m1.1.1.2.3">centroid</mtext></ci></apply><apply id="S0.I6.i3.p1.1.m1.1.1.3.cmml" xref="S0.I6.i3.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S0.I6.i3.p1.1.m1.1.1.3.1.cmml" xref="S0.I6.i3.p1.1.m1.1.1.3">subscript</csymbol><ci id="S0.I6.i3.p1.1.m1.1.1.3.2.cmml" xref="S0.I6.i3.p1.1.m1.1.1.3.2">𝑑</ci><ci id="S0.I6.i3.p1.1.m1.1.1.3.3a.cmml" xref="S0.I6.i3.p1.1.m1.1.1.3.3"><mtext id="S0.I6.i3.p1.1.m1.1.1.3.3.cmml" mathsize="70%" xref="S0.I6.i3.p1.1.m1.1.1.3.3">query</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I6.i3.p1.1.m1.1c">d_{\text{centroid}}\times d_{\text{query}}</annotation><annotation encoding="application/x-llamapun" id="S0.I6.i3.p1.1.m1.1d">italic_d start_POSTSUBSCRIPT centroid end_POSTSUBSCRIPT × italic_d start_POSTSUBSCRIPT query end_POSTSUBSCRIPT</annotation></semantics></math></p>
</div>
</li>
<li class="ltx_item" id="S0.I6.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span>
<div class="ltx_para" id="S0.I6.i4.p1">
<p class="ltx_p" id="S0.I6.i4.p1.1"><math alttext="\frac{d_{\text{centroid}}}{d_{\text{query}}+\epsilon}" class="ltx_Math" display="inline" id="S0.I6.i4.p1.1.m1.1"><semantics id="S0.I6.i4.p1.1.m1.1a"><mfrac id="S0.I6.i4.p1.1.m1.1.1" xref="S0.I6.i4.p1.1.m1.1.1.cmml"><msub id="S0.I6.i4.p1.1.m1.1.1.2" xref="S0.I6.i4.p1.1.m1.1.1.2.cmml"><mi id="S0.I6.i4.p1.1.m1.1.1.2.2" xref="S0.I6.i4.p1.1.m1.1.1.2.2.cmml">d</mi><mtext id="S0.I6.i4.p1.1.m1.1.1.2.3" xref="S0.I6.i4.p1.1.m1.1.1.2.3a.cmml">centroid</mtext></msub><mrow id="S0.I6.i4.p1.1.m1.1.1.3" xref="S0.I6.i4.p1.1.m1.1.1.3.cmml"><msub id="S0.I6.i4.p1.1.m1.1.1.3.2" xref="S0.I6.i4.p1.1.m1.1.1.3.2.cmml"><mi id="S0.I6.i4.p1.1.m1.1.1.3.2.2" xref="S0.I6.i4.p1.1.m1.1.1.3.2.2.cmml">d</mi><mtext id="S0.I6.i4.p1.1.m1.1.1.3.2.3" xref="S0.I6.i4.p1.1.m1.1.1.3.2.3a.cmml">query</mtext></msub><mo id="S0.I6.i4.p1.1.m1.1.1.3.1" xref="S0.I6.i4.p1.1.m1.1.1.3.1.cmml">+</mo><mi id="S0.I6.i4.p1.1.m1.1.1.3.3" xref="S0.I6.i4.p1.1.m1.1.1.3.3.cmml">ϵ</mi></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S0.I6.i4.p1.1.m1.1b"><apply id="S0.I6.i4.p1.1.m1.1.1.cmml" xref="S0.I6.i4.p1.1.m1.1.1"><divide id="S0.I6.i4.p1.1.m1.1.1.1.cmml" xref="S0.I6.i4.p1.1.m1.1.1"></divide><apply id="S0.I6.i4.p1.1.m1.1.1.2.cmml" xref="S0.I6.i4.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S0.I6.i4.p1.1.m1.1.1.2.1.cmml" xref="S0.I6.i4.p1.1.m1.1.1.2">subscript</csymbol><ci id="S0.I6.i4.p1.1.m1.1.1.2.2.cmml" xref="S0.I6.i4.p1.1.m1.1.1.2.2">𝑑</ci><ci id="S0.I6.i4.p1.1.m1.1.1.2.3a.cmml" xref="S0.I6.i4.p1.1.m1.1.1.2.3"><mtext id="S0.I6.i4.p1.1.m1.1.1.2.3.cmml" mathsize="50%" xref="S0.I6.i4.p1.1.m1.1.1.2.3">centroid</mtext></ci></apply><apply id="S0.I6.i4.p1.1.m1.1.1.3.cmml" xref="S0.I6.i4.p1.1.m1.1.1.3"><plus id="S0.I6.i4.p1.1.m1.1.1.3.1.cmml" xref="S0.I6.i4.p1.1.m1.1.1.3.1"></plus><apply id="S0.I6.i4.p1.1.m1.1.1.3.2.cmml" xref="S0.I6.i4.p1.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="S0.I6.i4.p1.1.m1.1.1.3.2.1.cmml" xref="S0.I6.i4.p1.1.m1.1.1.3.2">subscript</csymbol><ci id="S0.I6.i4.p1.1.m1.1.1.3.2.2.cmml" xref="S0.I6.i4.p1.1.m1.1.1.3.2.2">𝑑</ci><ci id="S0.I6.i4.p1.1.m1.1.1.3.2.3a.cmml" xref="S0.I6.i4.p1.1.m1.1.1.3.2.3"><mtext id="S0.I6.i4.p1.1.m1.1.1.3.2.3.cmml" mathsize="50%" xref="S0.I6.i4.p1.1.m1.1.1.3.2.3">query</mtext></ci></apply><ci id="S0.I6.i4.p1.1.m1.1.1.3.3.cmml" xref="S0.I6.i4.p1.1.m1.1.1.3.3">italic-ϵ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I6.i4.p1.1.m1.1c">\frac{d_{\text{centroid}}}{d_{\text{query}}+\epsilon}</annotation><annotation encoding="application/x-llamapun" id="S0.I6.i4.p1.1.m1.1d">divide start_ARG italic_d start_POSTSUBSCRIPT centroid end_POSTSUBSCRIPT end_ARG start_ARG italic_d start_POSTSUBSCRIPT query end_POSTSUBSCRIPT + italic_ϵ end_ARG</annotation></semantics></math></p>
</div>
</li>
</ol>
<p class="ltx_p" id="S0.SSx3.SSSx3.p3.3">Each of these components represents a different feature derived from the distances <math alttext="d_{\text{centroid}}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p3.2.m1.1"><semantics id="S0.SSx3.SSSx3.p3.2.m1.1a"><msub id="S0.SSx3.SSSx3.p3.2.m1.1.1" xref="S0.SSx3.SSSx3.p3.2.m1.1.1.cmml"><mi id="S0.SSx3.SSSx3.p3.2.m1.1.1.2" xref="S0.SSx3.SSSx3.p3.2.m1.1.1.2.cmml">d</mi><mtext id="S0.SSx3.SSSx3.p3.2.m1.1.1.3" xref="S0.SSx3.SSSx3.p3.2.m1.1.1.3a.cmml">centroid</mtext></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p3.2.m1.1b"><apply id="S0.SSx3.SSSx3.p3.2.m1.1.1.cmml" xref="S0.SSx3.SSSx3.p3.2.m1.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p3.2.m1.1.1.1.cmml" xref="S0.SSx3.SSSx3.p3.2.m1.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p3.2.m1.1.1.2.cmml" xref="S0.SSx3.SSSx3.p3.2.m1.1.1.2">𝑑</ci><ci id="S0.SSx3.SSSx3.p3.2.m1.1.1.3a.cmml" xref="S0.SSx3.SSSx3.p3.2.m1.1.1.3"><mtext id="S0.SSx3.SSSx3.p3.2.m1.1.1.3.cmml" mathsize="70%" xref="S0.SSx3.SSSx3.p3.2.m1.1.1.3">centroid</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p3.2.m1.1c">d_{\text{centroid}}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p3.2.m1.1d">italic_d start_POSTSUBSCRIPT centroid end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="d_{\text{query}}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p3.3.m2.1"><semantics id="S0.SSx3.SSSx3.p3.3.m2.1a"><msub id="S0.SSx3.SSSx3.p3.3.m2.1.1" xref="S0.SSx3.SSSx3.p3.3.m2.1.1.cmml"><mi id="S0.SSx3.SSSx3.p3.3.m2.1.1.2" xref="S0.SSx3.SSSx3.p3.3.m2.1.1.2.cmml">d</mi><mtext id="S0.SSx3.SSSx3.p3.3.m2.1.1.3" xref="S0.SSx3.SSSx3.p3.3.m2.1.1.3a.cmml">query</mtext></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p3.3.m2.1b"><apply id="S0.SSx3.SSSx3.p3.3.m2.1.1.cmml" xref="S0.SSx3.SSSx3.p3.3.m2.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p3.3.m2.1.1.1.cmml" xref="S0.SSx3.SSSx3.p3.3.m2.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p3.3.m2.1.1.2.cmml" xref="S0.SSx3.SSSx3.p3.3.m2.1.1.2">𝑑</ci><ci id="S0.SSx3.SSSx3.p3.3.m2.1.1.3a.cmml" xref="S0.SSx3.SSSx3.p3.3.m2.1.1.3"><mtext id="S0.SSx3.SSSx3.p3.3.m2.1.1.3.cmml" mathsize="70%" xref="S0.SSx3.SSSx3.p3.3.m2.1.1.3">query</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p3.3.m2.1c">d_{\text{query}}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p3.3.m2.1d">italic_d start_POSTSUBSCRIPT query end_POSTSUBSCRIPT</annotation></semantics></math>. Then, by projecting these 4 features to principal components using PCA and selecting 2, 3, or 4 components, another leverage for controlling the clustering mechanism is introduced. We will use the following notation in selecting outliers:</p>
<ul class="ltx_itemize" id="S0.I7">
<li class="ltx_item" id="S0.I7.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I7.i1.p1">
<p class="ltx_p" id="S0.I7.i1.p1.1">Number of clusters: [4, 5, 6]</p>
</div>
</li>
<li class="ltx_item" id="S0.I7.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I7.i2.p1">
<p class="ltx_p" id="S0.I7.i2.p1.1">PCA dimensions: [2, 3]</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S0.SSx3.SSSx3.p3.4">By running the double loop over the number of clusters and PCA dimensions we will be getting different sets of outlier documents and some of them will be common. The final set of outliers will be those that are common or those that that are common at least at certain given number of occurrences. We will call it ”min outlier frequency” denoted by ”freq”.

<br class="ltx_break"/> We will use the following experiment setup:</p>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx3.p4">
<ul class="ltx_itemize" id="S0.I8">
<li class="ltx_item" id="S0.I8.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I8.i1.p1">
<p class="ltx_p" id="S0.I8.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I8.i1.p1.1.1">Text-to-text model:</span> ’TinyLlama/TinyLlama-1.1B-Chat-v1.0’</p>
<ul class="ltx_itemize" id="S0.I8.i1.I1">
<li class="ltx_item" id="S0.I8.i1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S0.I8.i1.I1.i1.1.1.1">–</span></span>
<div class="ltx_para" id="S0.I8.i1.I1.i1.p1">
<p class="ltx_p" id="S0.I8.i1.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I8.i1.I1.i1.p1.1.1">Max Sequence Length:</span> 2048</p>
</div>
</li>
</ul>
</div>
</li>
<li class="ltx_item" id="S0.I8.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I8.i2.p1">
<p class="ltx_p" id="S0.I8.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I8.i2.p1.1.1">Retrieval Model:</span> ‘sentence-transformers/all-mpnet-base-v2’</p>
<ul class="ltx_itemize" id="S0.I8.i2.I1">
<li class="ltx_item" id="S0.I8.i2.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S0.I8.i2.I1.i1.1.1.1">–</span></span>
<div class="ltx_para" id="S0.I8.i2.I1.i1.p1">
<p class="ltx_p" id="S0.I8.i2.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I8.i2.I1.i1.p1.1.1">max_seq_length:</span> 384</p>
</div>
</li>
<li class="ltx_item" id="S0.I8.i2.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S0.I8.i2.I1.i2.1.1.1">–</span></span>
<div class="ltx_para" id="S0.I8.i2.I1.i2.p1">
<p class="ltx_p" id="S0.I8.i2.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I8.i2.I1.i2.p1.1.1">sentence_embedding_dimension:</span> 768</p>
</div>
</li>
</ul>
</div>
</li>
<li class="ltx_item" id="S0.I8.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I8.i3.p1">
<p class="ltx_p" id="S0.I8.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I8.i3.p1.1.1">max_new_tokens:</span> 1500</p>
</div>
</li>
<li class="ltx_item" id="S0.I8.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I8.i4.p1">
<p class="ltx_p" id="S0.I8.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I8.i4.p1.1.1">Number of Docs:</span> 20</p>
</div>
</li>
<li class="ltx_item" id="S0.I8.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I8.i5.p1">
<p class="ltx_p" id="S0.I8.i5.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I8.i5.p1.1.1">Threshold Percentile:</span> 15%</p>
</div>
</li>
<li class="ltx_item" id="S0.I8.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I8.i6.p1">
<p class="ltx_p" id="S0.I8.i6.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I8.i6.p1.1.1">Number of clusters:</span> [4, 5, 6]</p>
</div>
</li>
<li class="ltx_item" id="S0.I8.i7" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I8.i7.p1">
<p class="ltx_p" id="S0.I8.i7.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I8.i7.p1.1.1">PCA dimensions:</span> [2, 3]</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx3.p5">
<p class="ltx_p" id="S0.SSx3.SSSx3.p5.1">We use the following simple template to form a query prompt to the model that includes a short instruction, context and the query itself:</p>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx3.p6">
<pre class="ltx_verbatim ltx_font_typewriter" id="S0.SSx3.SSSx3.p6.11">
formatted_prompt = f’’’
    You are a friendly chatbot who responds to the user’s question by
    looking into context.&lt;/s&gt;
    Context:
    {context}
    &lt;/s&gt;
    Question: {question}&lt;/s&gt;
    ’’’
</pre>
<p class="ltx_p" id="S0.SSx3.SSSx3.p6.10">Context consists of documents retrieved on a query from the vector database. We call it a ”filtered prompt” when all outliers are removed from the context. The response to a filtered prompt is compared with the ground-truth response. The same is done with the ”original prompt,” where the context consists of the same number of first documents retrieved from the database. For comparison, we use two types of similarity metrics: cosine (dense vector) similarity and TFIDF similarity based on tokens. Our purpose is to determine the improvement received when using ”filtered prompts” over ”original prompts” with respect to these similarities. For query <math alttext="Q_{i}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p6.1.m1.1"><semantics id="S0.SSx3.SSSx3.p6.1.m1.1a"><msub id="S0.SSx3.SSSx3.p6.1.m1.1.1" xref="S0.SSx3.SSSx3.p6.1.m1.1.1.cmml"><mi id="S0.SSx3.SSSx3.p6.1.m1.1.1.2" xref="S0.SSx3.SSSx3.p6.1.m1.1.1.2.cmml">Q</mi><mi id="S0.SSx3.SSSx3.p6.1.m1.1.1.3" xref="S0.SSx3.SSSx3.p6.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p6.1.m1.1b"><apply id="S0.SSx3.SSSx3.p6.1.m1.1.1.cmml" xref="S0.SSx3.SSSx3.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p6.1.m1.1.1.1.cmml" xref="S0.SSx3.SSSx3.p6.1.m1.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p6.1.m1.1.1.2.cmml" xref="S0.SSx3.SSSx3.p6.1.m1.1.1.2">𝑄</ci><ci id="S0.SSx3.SSSx3.p6.1.m1.1.1.3.cmml" xref="S0.SSx3.SSSx3.p6.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p6.1.m1.1c">Q_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p6.1.m1.1d">italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, let <math alttext="\text{Rg}_{i}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p6.2.m2.1"><semantics id="S0.SSx3.SSSx3.p6.2.m2.1a"><msub id="S0.SSx3.SSSx3.p6.2.m2.1.1" xref="S0.SSx3.SSSx3.p6.2.m2.1.1.cmml"><mtext id="S0.SSx3.SSSx3.p6.2.m2.1.1.2" xref="S0.SSx3.SSSx3.p6.2.m2.1.1.2a.cmml">Rg</mtext><mi id="S0.SSx3.SSSx3.p6.2.m2.1.1.3" xref="S0.SSx3.SSSx3.p6.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p6.2.m2.1b"><apply id="S0.SSx3.SSSx3.p6.2.m2.1.1.cmml" xref="S0.SSx3.SSSx3.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p6.2.m2.1.1.1.cmml" xref="S0.SSx3.SSSx3.p6.2.m2.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p6.2.m2.1.1.2a.cmml" xref="S0.SSx3.SSSx3.p6.2.m2.1.1.2"><mtext id="S0.SSx3.SSSx3.p6.2.m2.1.1.2.cmml" xref="S0.SSx3.SSSx3.p6.2.m2.1.1.2">Rg</mtext></ci><ci id="S0.SSx3.SSSx3.p6.2.m2.1.1.3.cmml" xref="S0.SSx3.SSSx3.p6.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p6.2.m2.1c">\text{Rg}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p6.2.m2.1d">Rg start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> be the ground truth response, <math alttext="\text{Rf}_{i}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p6.3.m3.1"><semantics id="S0.SSx3.SSSx3.p6.3.m3.1a"><msub id="S0.SSx3.SSSx3.p6.3.m3.1.1" xref="S0.SSx3.SSSx3.p6.3.m3.1.1.cmml"><mtext id="S0.SSx3.SSSx3.p6.3.m3.1.1.2" xref="S0.SSx3.SSSx3.p6.3.m3.1.1.2a.cmml">Rf</mtext><mi id="S0.SSx3.SSSx3.p6.3.m3.1.1.3" xref="S0.SSx3.SSSx3.p6.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p6.3.m3.1b"><apply id="S0.SSx3.SSSx3.p6.3.m3.1.1.cmml" xref="S0.SSx3.SSSx3.p6.3.m3.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p6.3.m3.1.1.1.cmml" xref="S0.SSx3.SSSx3.p6.3.m3.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p6.3.m3.1.1.2a.cmml" xref="S0.SSx3.SSSx3.p6.3.m3.1.1.2"><mtext id="S0.SSx3.SSSx3.p6.3.m3.1.1.2.cmml" xref="S0.SSx3.SSSx3.p6.3.m3.1.1.2">Rf</mtext></ci><ci id="S0.SSx3.SSSx3.p6.3.m3.1.1.3.cmml" xref="S0.SSx3.SSSx3.p6.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p6.3.m3.1c">\text{Rf}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p6.3.m3.1d">Rf start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> be the filtered response, and <math alttext="\text{Ro}_{i}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p6.4.m4.1"><semantics id="S0.SSx3.SSSx3.p6.4.m4.1a"><msub id="S0.SSx3.SSSx3.p6.4.m4.1.1" xref="S0.SSx3.SSSx3.p6.4.m4.1.1.cmml"><mtext id="S0.SSx3.SSSx3.p6.4.m4.1.1.2" xref="S0.SSx3.SSSx3.p6.4.m4.1.1.2a.cmml">Ro</mtext><mi id="S0.SSx3.SSSx3.p6.4.m4.1.1.3" xref="S0.SSx3.SSSx3.p6.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p6.4.m4.1b"><apply id="S0.SSx3.SSSx3.p6.4.m4.1.1.cmml" xref="S0.SSx3.SSSx3.p6.4.m4.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p6.4.m4.1.1.1.cmml" xref="S0.SSx3.SSSx3.p6.4.m4.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p6.4.m4.1.1.2a.cmml" xref="S0.SSx3.SSSx3.p6.4.m4.1.1.2"><mtext id="S0.SSx3.SSSx3.p6.4.m4.1.1.2.cmml" xref="S0.SSx3.SSSx3.p6.4.m4.1.1.2">Ro</mtext></ci><ci id="S0.SSx3.SSSx3.p6.4.m4.1.1.3.cmml" xref="S0.SSx3.SSSx3.p6.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p6.4.m4.1c">\text{Ro}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p6.4.m4.1d">Ro start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> be the original response. The improvement in similarity can be expressed as the difference in similarities of <math alttext="\text{Rf}_{i}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p6.5.m5.1"><semantics id="S0.SSx3.SSSx3.p6.5.m5.1a"><msub id="S0.SSx3.SSSx3.p6.5.m5.1.1" xref="S0.SSx3.SSSx3.p6.5.m5.1.1.cmml"><mtext id="S0.SSx3.SSSx3.p6.5.m5.1.1.2" xref="S0.SSx3.SSSx3.p6.5.m5.1.1.2a.cmml">Rf</mtext><mi id="S0.SSx3.SSSx3.p6.5.m5.1.1.3" xref="S0.SSx3.SSSx3.p6.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p6.5.m5.1b"><apply id="S0.SSx3.SSSx3.p6.5.m5.1.1.cmml" xref="S0.SSx3.SSSx3.p6.5.m5.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p6.5.m5.1.1.1.cmml" xref="S0.SSx3.SSSx3.p6.5.m5.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p6.5.m5.1.1.2a.cmml" xref="S0.SSx3.SSSx3.p6.5.m5.1.1.2"><mtext id="S0.SSx3.SSSx3.p6.5.m5.1.1.2.cmml" xref="S0.SSx3.SSSx3.p6.5.m5.1.1.2">Rf</mtext></ci><ci id="S0.SSx3.SSSx3.p6.5.m5.1.1.3.cmml" xref="S0.SSx3.SSSx3.p6.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p6.5.m5.1c">\text{Rf}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p6.5.m5.1d">Rf start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> to <math alttext="\text{Rg}_{i}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p6.6.m6.1"><semantics id="S0.SSx3.SSSx3.p6.6.m6.1a"><msub id="S0.SSx3.SSSx3.p6.6.m6.1.1" xref="S0.SSx3.SSSx3.p6.6.m6.1.1.cmml"><mtext id="S0.SSx3.SSSx3.p6.6.m6.1.1.2" xref="S0.SSx3.SSSx3.p6.6.m6.1.1.2a.cmml">Rg</mtext><mi id="S0.SSx3.SSSx3.p6.6.m6.1.1.3" xref="S0.SSx3.SSSx3.p6.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p6.6.m6.1b"><apply id="S0.SSx3.SSSx3.p6.6.m6.1.1.cmml" xref="S0.SSx3.SSSx3.p6.6.m6.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p6.6.m6.1.1.1.cmml" xref="S0.SSx3.SSSx3.p6.6.m6.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p6.6.m6.1.1.2a.cmml" xref="S0.SSx3.SSSx3.p6.6.m6.1.1.2"><mtext id="S0.SSx3.SSSx3.p6.6.m6.1.1.2.cmml" xref="S0.SSx3.SSSx3.p6.6.m6.1.1.2">Rg</mtext></ci><ci id="S0.SSx3.SSSx3.p6.6.m6.1.1.3.cmml" xref="S0.SSx3.SSSx3.p6.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p6.6.m6.1c">\text{Rg}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p6.6.m6.1d">Rg start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\text{Ro}_{i}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p6.7.m7.1"><semantics id="S0.SSx3.SSSx3.p6.7.m7.1a"><msub id="S0.SSx3.SSSx3.p6.7.m7.1.1" xref="S0.SSx3.SSSx3.p6.7.m7.1.1.cmml"><mtext id="S0.SSx3.SSSx3.p6.7.m7.1.1.2" xref="S0.SSx3.SSSx3.p6.7.m7.1.1.2a.cmml">Ro</mtext><mi id="S0.SSx3.SSSx3.p6.7.m7.1.1.3" xref="S0.SSx3.SSSx3.p6.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p6.7.m7.1b"><apply id="S0.SSx3.SSSx3.p6.7.m7.1.1.cmml" xref="S0.SSx3.SSSx3.p6.7.m7.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p6.7.m7.1.1.1.cmml" xref="S0.SSx3.SSSx3.p6.7.m7.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p6.7.m7.1.1.2a.cmml" xref="S0.SSx3.SSSx3.p6.7.m7.1.1.2"><mtext id="S0.SSx3.SSSx3.p6.7.m7.1.1.2.cmml" xref="S0.SSx3.SSSx3.p6.7.m7.1.1.2">Ro</mtext></ci><ci id="S0.SSx3.SSSx3.p6.7.m7.1.1.3.cmml" xref="S0.SSx3.SSSx3.p6.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p6.7.m7.1c">\text{Ro}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p6.7.m7.1d">Ro start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> to <math alttext="\text{Rg}_{i}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p6.8.m8.1"><semantics id="S0.SSx3.SSSx3.p6.8.m8.1a"><msub id="S0.SSx3.SSSx3.p6.8.m8.1.1" xref="S0.SSx3.SSSx3.p6.8.m8.1.1.cmml"><mtext id="S0.SSx3.SSSx3.p6.8.m8.1.1.2" xref="S0.SSx3.SSSx3.p6.8.m8.1.1.2a.cmml">Rg</mtext><mi id="S0.SSx3.SSSx3.p6.8.m8.1.1.3" xref="S0.SSx3.SSSx3.p6.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p6.8.m8.1b"><apply id="S0.SSx3.SSSx3.p6.8.m8.1.1.cmml" xref="S0.SSx3.SSSx3.p6.8.m8.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p6.8.m8.1.1.1.cmml" xref="S0.SSx3.SSSx3.p6.8.m8.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p6.8.m8.1.1.2a.cmml" xref="S0.SSx3.SSSx3.p6.8.m8.1.1.2"><mtext id="S0.SSx3.SSSx3.p6.8.m8.1.1.2.cmml" xref="S0.SSx3.SSSx3.p6.8.m8.1.1.2">Rg</mtext></ci><ci id="S0.SSx3.SSSx3.p6.8.m8.1.1.3.cmml" xref="S0.SSx3.SSSx3.p6.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p6.8.m8.1c">\text{Rg}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p6.8.m8.1d">Rg start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> divided by the similarity of <math alttext="\text{Ro}_{i}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p6.9.m9.1"><semantics id="S0.SSx3.SSSx3.p6.9.m9.1a"><msub id="S0.SSx3.SSSx3.p6.9.m9.1.1" xref="S0.SSx3.SSSx3.p6.9.m9.1.1.cmml"><mtext id="S0.SSx3.SSSx3.p6.9.m9.1.1.2" xref="S0.SSx3.SSSx3.p6.9.m9.1.1.2a.cmml">Ro</mtext><mi id="S0.SSx3.SSSx3.p6.9.m9.1.1.3" xref="S0.SSx3.SSSx3.p6.9.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p6.9.m9.1b"><apply id="S0.SSx3.SSSx3.p6.9.m9.1.1.cmml" xref="S0.SSx3.SSSx3.p6.9.m9.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p6.9.m9.1.1.1.cmml" xref="S0.SSx3.SSSx3.p6.9.m9.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p6.9.m9.1.1.2a.cmml" xref="S0.SSx3.SSSx3.p6.9.m9.1.1.2"><mtext id="S0.SSx3.SSSx3.p6.9.m9.1.1.2.cmml" xref="S0.SSx3.SSSx3.p6.9.m9.1.1.2">Ro</mtext></ci><ci id="S0.SSx3.SSSx3.p6.9.m9.1.1.3.cmml" xref="S0.SSx3.SSSx3.p6.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p6.9.m9.1c">\text{Ro}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p6.9.m9.1d">Ro start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> to <math alttext="\text{Rg}_{i}" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p6.10.m10.1"><semantics id="S0.SSx3.SSSx3.p6.10.m10.1a"><msub id="S0.SSx3.SSSx3.p6.10.m10.1.1" xref="S0.SSx3.SSSx3.p6.10.m10.1.1.cmml"><mtext id="S0.SSx3.SSSx3.p6.10.m10.1.1.2" xref="S0.SSx3.SSSx3.p6.10.m10.1.1.2a.cmml">Rg</mtext><mi id="S0.SSx3.SSSx3.p6.10.m10.1.1.3" xref="S0.SSx3.SSSx3.p6.10.m10.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p6.10.m10.1b"><apply id="S0.SSx3.SSSx3.p6.10.m10.1.1.cmml" xref="S0.SSx3.SSSx3.p6.10.m10.1.1"><csymbol cd="ambiguous" id="S0.SSx3.SSSx3.p6.10.m10.1.1.1.cmml" xref="S0.SSx3.SSSx3.p6.10.m10.1.1">subscript</csymbol><ci id="S0.SSx3.SSSx3.p6.10.m10.1.1.2a.cmml" xref="S0.SSx3.SSSx3.p6.10.m10.1.1.2"><mtext id="S0.SSx3.SSSx3.p6.10.m10.1.1.2.cmml" xref="S0.SSx3.SSSx3.p6.10.m10.1.1.2">Rg</mtext></ci><ci id="S0.SSx3.SSSx3.p6.10.m10.1.1.3.cmml" xref="S0.SSx3.SSSx3.p6.10.m10.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p6.10.m10.1c">\text{Rg}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p6.10.m10.1d">Rg start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>:</p>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx3.p7">
<table class="ltx_equation ltx_eqn_table" id="S0.E14">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{Improvement}_{i}=\frac{\text{Similarity}(\text{Rf}_{i},\text{Rg}_{i})-%
\text{Similarity}(\text{Ro}_{i},\text{Rg}_{i})}{\text{Similarity}(\text{Ro}_{i%
},\text{Rg}_{i})}" class="ltx_Math" display="block" id="S0.E14.m1.6"><semantics id="S0.E14.m1.6a"><mrow id="S0.E14.m1.6.7" xref="S0.E14.m1.6.7.cmml"><msub id="S0.E14.m1.6.7.2" xref="S0.E14.m1.6.7.2.cmml"><mtext id="S0.E14.m1.6.7.2.2" xref="S0.E14.m1.6.7.2.2a.cmml">Improvement</mtext><mi id="S0.E14.m1.6.7.2.3" xref="S0.E14.m1.6.7.2.3.cmml">i</mi></msub><mo id="S0.E14.m1.6.7.1" xref="S0.E14.m1.6.7.1.cmml">=</mo><mfrac id="S0.E14.m1.6.6" xref="S0.E14.m1.6.6.cmml"><mrow id="S0.E14.m1.4.4.4" xref="S0.E14.m1.4.4.4.cmml"><mrow id="S0.E14.m1.2.2.2.2" xref="S0.E14.m1.2.2.2.2.cmml"><mtext id="S0.E14.m1.2.2.2.2.4" xref="S0.E14.m1.2.2.2.2.4a.cmml">Similarity</mtext><mo id="S0.E14.m1.2.2.2.2.3" xref="S0.E14.m1.2.2.2.2.3.cmml">⁢</mo><mrow id="S0.E14.m1.2.2.2.2.2.2" xref="S0.E14.m1.2.2.2.2.2.3.cmml"><mo id="S0.E14.m1.2.2.2.2.2.2.3" stretchy="false" xref="S0.E14.m1.2.2.2.2.2.3.cmml">(</mo><msub id="S0.E14.m1.1.1.1.1.1.1.1" xref="S0.E14.m1.1.1.1.1.1.1.1.cmml"><mtext id="S0.E14.m1.1.1.1.1.1.1.1.2" xref="S0.E14.m1.1.1.1.1.1.1.1.2a.cmml">Rf</mtext><mi id="S0.E14.m1.1.1.1.1.1.1.1.3" xref="S0.E14.m1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S0.E14.m1.2.2.2.2.2.2.4" xref="S0.E14.m1.2.2.2.2.2.3.cmml">,</mo><msub id="S0.E14.m1.2.2.2.2.2.2.2" xref="S0.E14.m1.2.2.2.2.2.2.2.cmml"><mtext id="S0.E14.m1.2.2.2.2.2.2.2.2" xref="S0.E14.m1.2.2.2.2.2.2.2.2a.cmml">Rg</mtext><mi id="S0.E14.m1.2.2.2.2.2.2.2.3" xref="S0.E14.m1.2.2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S0.E14.m1.2.2.2.2.2.2.5" stretchy="false" xref="S0.E14.m1.2.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S0.E14.m1.4.4.4.5" xref="S0.E14.m1.4.4.4.5.cmml">−</mo><mrow id="S0.E14.m1.4.4.4.4" xref="S0.E14.m1.4.4.4.4.cmml"><mtext id="S0.E14.m1.4.4.4.4.4" xref="S0.E14.m1.4.4.4.4.4a.cmml">Similarity</mtext><mo id="S0.E14.m1.4.4.4.4.3" xref="S0.E14.m1.4.4.4.4.3.cmml">⁢</mo><mrow id="S0.E14.m1.4.4.4.4.2.2" xref="S0.E14.m1.4.4.4.4.2.3.cmml"><mo id="S0.E14.m1.4.4.4.4.2.2.3" stretchy="false" xref="S0.E14.m1.4.4.4.4.2.3.cmml">(</mo><msub id="S0.E14.m1.3.3.3.3.1.1.1" xref="S0.E14.m1.3.3.3.3.1.1.1.cmml"><mtext id="S0.E14.m1.3.3.3.3.1.1.1.2" xref="S0.E14.m1.3.3.3.3.1.1.1.2a.cmml">Ro</mtext><mi id="S0.E14.m1.3.3.3.3.1.1.1.3" xref="S0.E14.m1.3.3.3.3.1.1.1.3.cmml">i</mi></msub><mo id="S0.E14.m1.4.4.4.4.2.2.4" xref="S0.E14.m1.4.4.4.4.2.3.cmml">,</mo><msub id="S0.E14.m1.4.4.4.4.2.2.2" xref="S0.E14.m1.4.4.4.4.2.2.2.cmml"><mtext id="S0.E14.m1.4.4.4.4.2.2.2.2" xref="S0.E14.m1.4.4.4.4.2.2.2.2a.cmml">Rg</mtext><mi id="S0.E14.m1.4.4.4.4.2.2.2.3" xref="S0.E14.m1.4.4.4.4.2.2.2.3.cmml">i</mi></msub><mo id="S0.E14.m1.4.4.4.4.2.2.5" stretchy="false" xref="S0.E14.m1.4.4.4.4.2.3.cmml">)</mo></mrow></mrow></mrow><mrow id="S0.E14.m1.6.6.6" xref="S0.E14.m1.6.6.6.cmml"><mtext id="S0.E14.m1.6.6.6.4" xref="S0.E14.m1.6.6.6.4a.cmml">Similarity</mtext><mo id="S0.E14.m1.6.6.6.3" xref="S0.E14.m1.6.6.6.3.cmml">⁢</mo><mrow id="S0.E14.m1.6.6.6.2.2" xref="S0.E14.m1.6.6.6.2.3.cmml"><mo id="S0.E14.m1.6.6.6.2.2.3" stretchy="false" xref="S0.E14.m1.6.6.6.2.3.cmml">(</mo><msub id="S0.E14.m1.5.5.5.1.1.1" xref="S0.E14.m1.5.5.5.1.1.1.cmml"><mtext id="S0.E14.m1.5.5.5.1.1.1.2" xref="S0.E14.m1.5.5.5.1.1.1.2a.cmml">Ro</mtext><mi id="S0.E14.m1.5.5.5.1.1.1.3" xref="S0.E14.m1.5.5.5.1.1.1.3.cmml">i</mi></msub><mo id="S0.E14.m1.6.6.6.2.2.4" xref="S0.E14.m1.6.6.6.2.3.cmml">,</mo><msub id="S0.E14.m1.6.6.6.2.2.2" xref="S0.E14.m1.6.6.6.2.2.2.cmml"><mtext id="S0.E14.m1.6.6.6.2.2.2.2" xref="S0.E14.m1.6.6.6.2.2.2.2a.cmml">Rg</mtext><mi id="S0.E14.m1.6.6.6.2.2.2.3" xref="S0.E14.m1.6.6.6.2.2.2.3.cmml">i</mi></msub><mo id="S0.E14.m1.6.6.6.2.2.5" stretchy="false" xref="S0.E14.m1.6.6.6.2.3.cmml">)</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S0.E14.m1.6b"><apply id="S0.E14.m1.6.7.cmml" xref="S0.E14.m1.6.7"><eq id="S0.E14.m1.6.7.1.cmml" xref="S0.E14.m1.6.7.1"></eq><apply id="S0.E14.m1.6.7.2.cmml" xref="S0.E14.m1.6.7.2"><csymbol cd="ambiguous" id="S0.E14.m1.6.7.2.1.cmml" xref="S0.E14.m1.6.7.2">subscript</csymbol><ci id="S0.E14.m1.6.7.2.2a.cmml" xref="S0.E14.m1.6.7.2.2"><mtext id="S0.E14.m1.6.7.2.2.cmml" xref="S0.E14.m1.6.7.2.2">Improvement</mtext></ci><ci id="S0.E14.m1.6.7.2.3.cmml" xref="S0.E14.m1.6.7.2.3">𝑖</ci></apply><apply id="S0.E14.m1.6.6.cmml" xref="S0.E14.m1.6.6"><divide id="S0.E14.m1.6.6.7.cmml" xref="S0.E14.m1.6.6"></divide><apply id="S0.E14.m1.4.4.4.cmml" xref="S0.E14.m1.4.4.4"><minus id="S0.E14.m1.4.4.4.5.cmml" xref="S0.E14.m1.4.4.4.5"></minus><apply id="S0.E14.m1.2.2.2.2.cmml" xref="S0.E14.m1.2.2.2.2"><times id="S0.E14.m1.2.2.2.2.3.cmml" xref="S0.E14.m1.2.2.2.2.3"></times><ci id="S0.E14.m1.2.2.2.2.4a.cmml" xref="S0.E14.m1.2.2.2.2.4"><mtext id="S0.E14.m1.2.2.2.2.4.cmml" xref="S0.E14.m1.2.2.2.2.4">Similarity</mtext></ci><interval closure="open" id="S0.E14.m1.2.2.2.2.2.3.cmml" xref="S0.E14.m1.2.2.2.2.2.2"><apply id="S0.E14.m1.1.1.1.1.1.1.1.cmml" xref="S0.E14.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S0.E14.m1.1.1.1.1.1.1.1.1.cmml" xref="S0.E14.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S0.E14.m1.1.1.1.1.1.1.1.2a.cmml" xref="S0.E14.m1.1.1.1.1.1.1.1.2"><mtext id="S0.E14.m1.1.1.1.1.1.1.1.2.cmml" xref="S0.E14.m1.1.1.1.1.1.1.1.2">Rf</mtext></ci><ci id="S0.E14.m1.1.1.1.1.1.1.1.3.cmml" xref="S0.E14.m1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S0.E14.m1.2.2.2.2.2.2.2.cmml" xref="S0.E14.m1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S0.E14.m1.2.2.2.2.2.2.2.1.cmml" xref="S0.E14.m1.2.2.2.2.2.2.2">subscript</csymbol><ci id="S0.E14.m1.2.2.2.2.2.2.2.2a.cmml" xref="S0.E14.m1.2.2.2.2.2.2.2.2"><mtext id="S0.E14.m1.2.2.2.2.2.2.2.2.cmml" xref="S0.E14.m1.2.2.2.2.2.2.2.2">Rg</mtext></ci><ci id="S0.E14.m1.2.2.2.2.2.2.2.3.cmml" xref="S0.E14.m1.2.2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply><apply id="S0.E14.m1.4.4.4.4.cmml" xref="S0.E14.m1.4.4.4.4"><times id="S0.E14.m1.4.4.4.4.3.cmml" xref="S0.E14.m1.4.4.4.4.3"></times><ci id="S0.E14.m1.4.4.4.4.4a.cmml" xref="S0.E14.m1.4.4.4.4.4"><mtext id="S0.E14.m1.4.4.4.4.4.cmml" xref="S0.E14.m1.4.4.4.4.4">Similarity</mtext></ci><interval closure="open" id="S0.E14.m1.4.4.4.4.2.3.cmml" xref="S0.E14.m1.4.4.4.4.2.2"><apply id="S0.E14.m1.3.3.3.3.1.1.1.cmml" xref="S0.E14.m1.3.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S0.E14.m1.3.3.3.3.1.1.1.1.cmml" xref="S0.E14.m1.3.3.3.3.1.1.1">subscript</csymbol><ci id="S0.E14.m1.3.3.3.3.1.1.1.2a.cmml" xref="S0.E14.m1.3.3.3.3.1.1.1.2"><mtext id="S0.E14.m1.3.3.3.3.1.1.1.2.cmml" xref="S0.E14.m1.3.3.3.3.1.1.1.2">Ro</mtext></ci><ci id="S0.E14.m1.3.3.3.3.1.1.1.3.cmml" xref="S0.E14.m1.3.3.3.3.1.1.1.3">𝑖</ci></apply><apply id="S0.E14.m1.4.4.4.4.2.2.2.cmml" xref="S0.E14.m1.4.4.4.4.2.2.2"><csymbol cd="ambiguous" id="S0.E14.m1.4.4.4.4.2.2.2.1.cmml" xref="S0.E14.m1.4.4.4.4.2.2.2">subscript</csymbol><ci id="S0.E14.m1.4.4.4.4.2.2.2.2a.cmml" xref="S0.E14.m1.4.4.4.4.2.2.2.2"><mtext id="S0.E14.m1.4.4.4.4.2.2.2.2.cmml" xref="S0.E14.m1.4.4.4.4.2.2.2.2">Rg</mtext></ci><ci id="S0.E14.m1.4.4.4.4.2.2.2.3.cmml" xref="S0.E14.m1.4.4.4.4.2.2.2.3">𝑖</ci></apply></interval></apply></apply><apply id="S0.E14.m1.6.6.6.cmml" xref="S0.E14.m1.6.6.6"><times id="S0.E14.m1.6.6.6.3.cmml" xref="S0.E14.m1.6.6.6.3"></times><ci id="S0.E14.m1.6.6.6.4a.cmml" xref="S0.E14.m1.6.6.6.4"><mtext id="S0.E14.m1.6.6.6.4.cmml" xref="S0.E14.m1.6.6.6.4">Similarity</mtext></ci><interval closure="open" id="S0.E14.m1.6.6.6.2.3.cmml" xref="S0.E14.m1.6.6.6.2.2"><apply id="S0.E14.m1.5.5.5.1.1.1.cmml" xref="S0.E14.m1.5.5.5.1.1.1"><csymbol cd="ambiguous" id="S0.E14.m1.5.5.5.1.1.1.1.cmml" xref="S0.E14.m1.5.5.5.1.1.1">subscript</csymbol><ci id="S0.E14.m1.5.5.5.1.1.1.2a.cmml" xref="S0.E14.m1.5.5.5.1.1.1.2"><mtext id="S0.E14.m1.5.5.5.1.1.1.2.cmml" xref="S0.E14.m1.5.5.5.1.1.1.2">Ro</mtext></ci><ci id="S0.E14.m1.5.5.5.1.1.1.3.cmml" xref="S0.E14.m1.5.5.5.1.1.1.3">𝑖</ci></apply><apply id="S0.E14.m1.6.6.6.2.2.2.cmml" xref="S0.E14.m1.6.6.6.2.2.2"><csymbol cd="ambiguous" id="S0.E14.m1.6.6.6.2.2.2.1.cmml" xref="S0.E14.m1.6.6.6.2.2.2">subscript</csymbol><ci id="S0.E14.m1.6.6.6.2.2.2.2a.cmml" xref="S0.E14.m1.6.6.6.2.2.2.2"><mtext id="S0.E14.m1.6.6.6.2.2.2.2.cmml" xref="S0.E14.m1.6.6.6.2.2.2.2">Rg</mtext></ci><ci id="S0.E14.m1.6.6.6.2.2.2.3.cmml" xref="S0.E14.m1.6.6.6.2.2.2.3">𝑖</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E14.m1.6c">\text{Improvement}_{i}=\frac{\text{Similarity}(\text{Rf}_{i},\text{Rg}_{i})-%
\text{Similarity}(\text{Ro}_{i},\text{Rg}_{i})}{\text{Similarity}(\text{Ro}_{i%
},\text{Rg}_{i})}</annotation><annotation encoding="application/x-llamapun" id="S0.E14.m1.6d">Improvement start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = divide start_ARG Similarity ( Rf start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , Rg start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) - Similarity ( Ro start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , Rg start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG Similarity ( Ro start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , Rg start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(14)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx3.p8">
<p class="ltx_p" id="S0.SSx3.SSSx3.p8.2">Where:</p>
<ul class="ltx_itemize" id="S0.I9">
<li class="ltx_item" id="S0.I9.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I9.i1.p1">
<p class="ltx_p" id="S0.I9.i1.p1.1"><math alttext="\text{Similarity}(\text{Rf}_{i},\text{Rg}_{i})" class="ltx_Math" display="inline" id="S0.I9.i1.p1.1.m1.2"><semantics id="S0.I9.i1.p1.1.m1.2a"><mrow id="S0.I9.i1.p1.1.m1.2.2" xref="S0.I9.i1.p1.1.m1.2.2.cmml"><mtext id="S0.I9.i1.p1.1.m1.2.2.4" xref="S0.I9.i1.p1.1.m1.2.2.4a.cmml">Similarity</mtext><mo id="S0.I9.i1.p1.1.m1.2.2.3" xref="S0.I9.i1.p1.1.m1.2.2.3.cmml">⁢</mo><mrow id="S0.I9.i1.p1.1.m1.2.2.2.2" xref="S0.I9.i1.p1.1.m1.2.2.2.3.cmml"><mo id="S0.I9.i1.p1.1.m1.2.2.2.2.3" stretchy="false" xref="S0.I9.i1.p1.1.m1.2.2.2.3.cmml">(</mo><msub id="S0.I9.i1.p1.1.m1.1.1.1.1.1" xref="S0.I9.i1.p1.1.m1.1.1.1.1.1.cmml"><mtext id="S0.I9.i1.p1.1.m1.1.1.1.1.1.2" xref="S0.I9.i1.p1.1.m1.1.1.1.1.1.2a.cmml">Rf</mtext><mi id="S0.I9.i1.p1.1.m1.1.1.1.1.1.3" xref="S0.I9.i1.p1.1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S0.I9.i1.p1.1.m1.2.2.2.2.4" xref="S0.I9.i1.p1.1.m1.2.2.2.3.cmml">,</mo><msub id="S0.I9.i1.p1.1.m1.2.2.2.2.2" xref="S0.I9.i1.p1.1.m1.2.2.2.2.2.cmml"><mtext id="S0.I9.i1.p1.1.m1.2.2.2.2.2.2" xref="S0.I9.i1.p1.1.m1.2.2.2.2.2.2a.cmml">Rg</mtext><mi id="S0.I9.i1.p1.1.m1.2.2.2.2.2.3" xref="S0.I9.i1.p1.1.m1.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S0.I9.i1.p1.1.m1.2.2.2.2.5" stretchy="false" xref="S0.I9.i1.p1.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.I9.i1.p1.1.m1.2b"><apply id="S0.I9.i1.p1.1.m1.2.2.cmml" xref="S0.I9.i1.p1.1.m1.2.2"><times id="S0.I9.i1.p1.1.m1.2.2.3.cmml" xref="S0.I9.i1.p1.1.m1.2.2.3"></times><ci id="S0.I9.i1.p1.1.m1.2.2.4a.cmml" xref="S0.I9.i1.p1.1.m1.2.2.4"><mtext id="S0.I9.i1.p1.1.m1.2.2.4.cmml" xref="S0.I9.i1.p1.1.m1.2.2.4">Similarity</mtext></ci><interval closure="open" id="S0.I9.i1.p1.1.m1.2.2.2.3.cmml" xref="S0.I9.i1.p1.1.m1.2.2.2.2"><apply id="S0.I9.i1.p1.1.m1.1.1.1.1.1.cmml" xref="S0.I9.i1.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S0.I9.i1.p1.1.m1.1.1.1.1.1.1.cmml" xref="S0.I9.i1.p1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S0.I9.i1.p1.1.m1.1.1.1.1.1.2a.cmml" xref="S0.I9.i1.p1.1.m1.1.1.1.1.1.2"><mtext id="S0.I9.i1.p1.1.m1.1.1.1.1.1.2.cmml" xref="S0.I9.i1.p1.1.m1.1.1.1.1.1.2">Rf</mtext></ci><ci id="S0.I9.i1.p1.1.m1.1.1.1.1.1.3.cmml" xref="S0.I9.i1.p1.1.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S0.I9.i1.p1.1.m1.2.2.2.2.2.cmml" xref="S0.I9.i1.p1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S0.I9.i1.p1.1.m1.2.2.2.2.2.1.cmml" xref="S0.I9.i1.p1.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S0.I9.i1.p1.1.m1.2.2.2.2.2.2a.cmml" xref="S0.I9.i1.p1.1.m1.2.2.2.2.2.2"><mtext id="S0.I9.i1.p1.1.m1.2.2.2.2.2.2.cmml" xref="S0.I9.i1.p1.1.m1.2.2.2.2.2.2">Rg</mtext></ci><ci id="S0.I9.i1.p1.1.m1.2.2.2.2.2.3.cmml" xref="S0.I9.i1.p1.1.m1.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I9.i1.p1.1.m1.2c">\text{Similarity}(\text{Rf}_{i},\text{Rg}_{i})</annotation><annotation encoding="application/x-llamapun" id="S0.I9.i1.p1.1.m1.2d">Similarity ( Rf start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , Rg start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> is the similarity between the filtered response and the ground truth response.</p>
</div>
</li>
<li class="ltx_item" id="S0.I9.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I9.i2.p1">
<p class="ltx_p" id="S0.I9.i2.p1.1"><math alttext="\text{Similarity}(\text{Ro}_{i},\text{Rg}_{i})" class="ltx_Math" display="inline" id="S0.I9.i2.p1.1.m1.2"><semantics id="S0.I9.i2.p1.1.m1.2a"><mrow id="S0.I9.i2.p1.1.m1.2.2" xref="S0.I9.i2.p1.1.m1.2.2.cmml"><mtext id="S0.I9.i2.p1.1.m1.2.2.4" xref="S0.I9.i2.p1.1.m1.2.2.4a.cmml">Similarity</mtext><mo id="S0.I9.i2.p1.1.m1.2.2.3" xref="S0.I9.i2.p1.1.m1.2.2.3.cmml">⁢</mo><mrow id="S0.I9.i2.p1.1.m1.2.2.2.2" xref="S0.I9.i2.p1.1.m1.2.2.2.3.cmml"><mo id="S0.I9.i2.p1.1.m1.2.2.2.2.3" stretchy="false" xref="S0.I9.i2.p1.1.m1.2.2.2.3.cmml">(</mo><msub id="S0.I9.i2.p1.1.m1.1.1.1.1.1" xref="S0.I9.i2.p1.1.m1.1.1.1.1.1.cmml"><mtext id="S0.I9.i2.p1.1.m1.1.1.1.1.1.2" xref="S0.I9.i2.p1.1.m1.1.1.1.1.1.2a.cmml">Ro</mtext><mi id="S0.I9.i2.p1.1.m1.1.1.1.1.1.3" xref="S0.I9.i2.p1.1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S0.I9.i2.p1.1.m1.2.2.2.2.4" xref="S0.I9.i2.p1.1.m1.2.2.2.3.cmml">,</mo><msub id="S0.I9.i2.p1.1.m1.2.2.2.2.2" xref="S0.I9.i2.p1.1.m1.2.2.2.2.2.cmml"><mtext id="S0.I9.i2.p1.1.m1.2.2.2.2.2.2" xref="S0.I9.i2.p1.1.m1.2.2.2.2.2.2a.cmml">Rg</mtext><mi id="S0.I9.i2.p1.1.m1.2.2.2.2.2.3" xref="S0.I9.i2.p1.1.m1.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S0.I9.i2.p1.1.m1.2.2.2.2.5" stretchy="false" xref="S0.I9.i2.p1.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.I9.i2.p1.1.m1.2b"><apply id="S0.I9.i2.p1.1.m1.2.2.cmml" xref="S0.I9.i2.p1.1.m1.2.2"><times id="S0.I9.i2.p1.1.m1.2.2.3.cmml" xref="S0.I9.i2.p1.1.m1.2.2.3"></times><ci id="S0.I9.i2.p1.1.m1.2.2.4a.cmml" xref="S0.I9.i2.p1.1.m1.2.2.4"><mtext id="S0.I9.i2.p1.1.m1.2.2.4.cmml" xref="S0.I9.i2.p1.1.m1.2.2.4">Similarity</mtext></ci><interval closure="open" id="S0.I9.i2.p1.1.m1.2.2.2.3.cmml" xref="S0.I9.i2.p1.1.m1.2.2.2.2"><apply id="S0.I9.i2.p1.1.m1.1.1.1.1.1.cmml" xref="S0.I9.i2.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S0.I9.i2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S0.I9.i2.p1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S0.I9.i2.p1.1.m1.1.1.1.1.1.2a.cmml" xref="S0.I9.i2.p1.1.m1.1.1.1.1.1.2"><mtext id="S0.I9.i2.p1.1.m1.1.1.1.1.1.2.cmml" xref="S0.I9.i2.p1.1.m1.1.1.1.1.1.2">Ro</mtext></ci><ci id="S0.I9.i2.p1.1.m1.1.1.1.1.1.3.cmml" xref="S0.I9.i2.p1.1.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S0.I9.i2.p1.1.m1.2.2.2.2.2.cmml" xref="S0.I9.i2.p1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S0.I9.i2.p1.1.m1.2.2.2.2.2.1.cmml" xref="S0.I9.i2.p1.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S0.I9.i2.p1.1.m1.2.2.2.2.2.2a.cmml" xref="S0.I9.i2.p1.1.m1.2.2.2.2.2.2"><mtext id="S0.I9.i2.p1.1.m1.2.2.2.2.2.2.cmml" xref="S0.I9.i2.p1.1.m1.2.2.2.2.2.2">Rg</mtext></ci><ci id="S0.I9.i2.p1.1.m1.2.2.2.2.2.3.cmml" xref="S0.I9.i2.p1.1.m1.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I9.i2.p1.1.m1.2c">\text{Similarity}(\text{Ro}_{i},\text{Rg}_{i})</annotation><annotation encoding="application/x-llamapun" id="S0.I9.i2.p1.1.m1.2d">Similarity ( Ro start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , Rg start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> is the similarity between the original response and the ground truth response.</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S0.SSx3.SSSx3.p8.1">The average improvement over <math alttext="N" class="ltx_Math" display="inline" id="S0.SSx3.SSSx3.p8.1.m1.1"><semantics id="S0.SSx3.SSSx3.p8.1.m1.1a"><mi id="S0.SSx3.SSSx3.p8.1.m1.1.1" xref="S0.SSx3.SSSx3.p8.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx3.p8.1.m1.1b"><ci id="S0.SSx3.SSSx3.p8.1.m1.1.1.cmml" xref="S0.SSx3.SSSx3.p8.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx3.p8.1.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx3.p8.1.m1.1d">italic_N</annotation></semantics></math> questions can be calculated as follows:</p>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx3.p9">
<table class="ltx_equation ltx_eqn_table" id="S0.E15">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{Average Improvement}=\frac{1}{N}\sum_{i=1}^{N}\text{Improvement}_{i}" class="ltx_Math" display="block" id="S0.E15.m1.1"><semantics id="S0.E15.m1.1a"><mrow id="S0.E15.m1.1.1" xref="S0.E15.m1.1.1.cmml"><mtext id="S0.E15.m1.1.1.2" xref="S0.E15.m1.1.1.2a.cmml">Average Improvement</mtext><mo id="S0.E15.m1.1.1.1" xref="S0.E15.m1.1.1.1.cmml">=</mo><mrow id="S0.E15.m1.1.1.3" xref="S0.E15.m1.1.1.3.cmml"><mfrac id="S0.E15.m1.1.1.3.2" xref="S0.E15.m1.1.1.3.2.cmml"><mn id="S0.E15.m1.1.1.3.2.2" xref="S0.E15.m1.1.1.3.2.2.cmml">1</mn><mi id="S0.E15.m1.1.1.3.2.3" xref="S0.E15.m1.1.1.3.2.3.cmml">N</mi></mfrac><mo id="S0.E15.m1.1.1.3.1" xref="S0.E15.m1.1.1.3.1.cmml">⁢</mo><mrow id="S0.E15.m1.1.1.3.3" xref="S0.E15.m1.1.1.3.3.cmml"><munderover id="S0.E15.m1.1.1.3.3.1" xref="S0.E15.m1.1.1.3.3.1.cmml"><mo id="S0.E15.m1.1.1.3.3.1.2.2" movablelimits="false" xref="S0.E15.m1.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S0.E15.m1.1.1.3.3.1.2.3" xref="S0.E15.m1.1.1.3.3.1.2.3.cmml"><mi id="S0.E15.m1.1.1.3.3.1.2.3.2" xref="S0.E15.m1.1.1.3.3.1.2.3.2.cmml">i</mi><mo id="S0.E15.m1.1.1.3.3.1.2.3.1" xref="S0.E15.m1.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S0.E15.m1.1.1.3.3.1.2.3.3" xref="S0.E15.m1.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S0.E15.m1.1.1.3.3.1.3" xref="S0.E15.m1.1.1.3.3.1.3.cmml">N</mi></munderover><msub id="S0.E15.m1.1.1.3.3.2" xref="S0.E15.m1.1.1.3.3.2.cmml"><mtext id="S0.E15.m1.1.1.3.3.2.2" xref="S0.E15.m1.1.1.3.3.2.2a.cmml">Improvement</mtext><mi id="S0.E15.m1.1.1.3.3.2.3" xref="S0.E15.m1.1.1.3.3.2.3.cmml">i</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S0.E15.m1.1b"><apply id="S0.E15.m1.1.1.cmml" xref="S0.E15.m1.1.1"><eq id="S0.E15.m1.1.1.1.cmml" xref="S0.E15.m1.1.1.1"></eq><ci id="S0.E15.m1.1.1.2a.cmml" xref="S0.E15.m1.1.1.2"><mtext id="S0.E15.m1.1.1.2.cmml" xref="S0.E15.m1.1.1.2">Average Improvement</mtext></ci><apply id="S0.E15.m1.1.1.3.cmml" xref="S0.E15.m1.1.1.3"><times id="S0.E15.m1.1.1.3.1.cmml" xref="S0.E15.m1.1.1.3.1"></times><apply id="S0.E15.m1.1.1.3.2.cmml" xref="S0.E15.m1.1.1.3.2"><divide id="S0.E15.m1.1.1.3.2.1.cmml" xref="S0.E15.m1.1.1.3.2"></divide><cn id="S0.E15.m1.1.1.3.2.2.cmml" type="integer" xref="S0.E15.m1.1.1.3.2.2">1</cn><ci id="S0.E15.m1.1.1.3.2.3.cmml" xref="S0.E15.m1.1.1.3.2.3">𝑁</ci></apply><apply id="S0.E15.m1.1.1.3.3.cmml" xref="S0.E15.m1.1.1.3.3"><apply id="S0.E15.m1.1.1.3.3.1.cmml" xref="S0.E15.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="S0.E15.m1.1.1.3.3.1.1.cmml" xref="S0.E15.m1.1.1.3.3.1">superscript</csymbol><apply id="S0.E15.m1.1.1.3.3.1.2.cmml" xref="S0.E15.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="S0.E15.m1.1.1.3.3.1.2.1.cmml" xref="S0.E15.m1.1.1.3.3.1">subscript</csymbol><sum id="S0.E15.m1.1.1.3.3.1.2.2.cmml" xref="S0.E15.m1.1.1.3.3.1.2.2"></sum><apply id="S0.E15.m1.1.1.3.3.1.2.3.cmml" xref="S0.E15.m1.1.1.3.3.1.2.3"><eq id="S0.E15.m1.1.1.3.3.1.2.3.1.cmml" xref="S0.E15.m1.1.1.3.3.1.2.3.1"></eq><ci id="S0.E15.m1.1.1.3.3.1.2.3.2.cmml" xref="S0.E15.m1.1.1.3.3.1.2.3.2">𝑖</ci><cn id="S0.E15.m1.1.1.3.3.1.2.3.3.cmml" type="integer" xref="S0.E15.m1.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S0.E15.m1.1.1.3.3.1.3.cmml" xref="S0.E15.m1.1.1.3.3.1.3">𝑁</ci></apply><apply id="S0.E15.m1.1.1.3.3.2.cmml" xref="S0.E15.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="S0.E15.m1.1.1.3.3.2.1.cmml" xref="S0.E15.m1.1.1.3.3.2">subscript</csymbol><ci id="S0.E15.m1.1.1.3.3.2.2a.cmml" xref="S0.E15.m1.1.1.3.3.2.2"><mtext id="S0.E15.m1.1.1.3.3.2.2.cmml" xref="S0.E15.m1.1.1.3.3.2.2">Improvement</mtext></ci><ci id="S0.E15.m1.1.1.3.3.2.3.cmml" xref="S0.E15.m1.1.1.3.3.2.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.E15.m1.1c">\text{Average Improvement}=\frac{1}{N}\sum_{i=1}^{N}\text{Improvement}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.E15.m1.1d">Average Improvement = divide start_ARG 1 end_ARG start_ARG italic_N end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT Improvement start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(15)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx3.p10">
<p class="ltx_p" id="S0.SSx3.SSSx3.p10.1">Where:</p>
<ul class="ltx_itemize" id="S0.I10">
<li class="ltx_item" id="S0.I10.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I10.i1.p1">
<p class="ltx_p" id="S0.I10.i1.p1.1"><math alttext="N" class="ltx_Math" display="inline" id="S0.I10.i1.p1.1.m1.1"><semantics id="S0.I10.i1.p1.1.m1.1a"><mi id="S0.I10.i1.p1.1.m1.1.1" xref="S0.I10.i1.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S0.I10.i1.p1.1.m1.1b"><ci id="S0.I10.i1.p1.1.m1.1.1.cmml" xref="S0.I10.i1.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.I10.i1.p1.1.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S0.I10.i1.p1.1.m1.1d">italic_N</annotation></semantics></math> is the total number of questions.</p>
</div>
</li>
<li class="ltx_item" id="S0.I10.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I10.i2.p1">
<p class="ltx_p" id="S0.I10.i2.p1.2"><math alttext="\text{Improvement}_{i}" class="ltx_Math" display="inline" id="S0.I10.i2.p1.1.m1.1"><semantics id="S0.I10.i2.p1.1.m1.1a"><msub id="S0.I10.i2.p1.1.m1.1.1" xref="S0.I10.i2.p1.1.m1.1.1.cmml"><mtext id="S0.I10.i2.p1.1.m1.1.1.2" xref="S0.I10.i2.p1.1.m1.1.1.2a.cmml">Improvement</mtext><mi id="S0.I10.i2.p1.1.m1.1.1.3" xref="S0.I10.i2.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.I10.i2.p1.1.m1.1b"><apply id="S0.I10.i2.p1.1.m1.1.1.cmml" xref="S0.I10.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S0.I10.i2.p1.1.m1.1.1.1.cmml" xref="S0.I10.i2.p1.1.m1.1.1">subscript</csymbol><ci id="S0.I10.i2.p1.1.m1.1.1.2a.cmml" xref="S0.I10.i2.p1.1.m1.1.1.2"><mtext id="S0.I10.i2.p1.1.m1.1.1.2.cmml" xref="S0.I10.i2.p1.1.m1.1.1.2">Improvement</mtext></ci><ci id="S0.I10.i2.p1.1.m1.1.1.3.cmml" xref="S0.I10.i2.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I10.i2.p1.1.m1.1c">\text{Improvement}_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.I10.i2.p1.1.m1.1d">Improvement start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is the improvement for question <math alttext="Q_{i}" class="ltx_Math" display="inline" id="S0.I10.i2.p1.2.m2.1"><semantics id="S0.I10.i2.p1.2.m2.1a"><msub id="S0.I10.i2.p1.2.m2.1.1" xref="S0.I10.i2.p1.2.m2.1.1.cmml"><mi id="S0.I10.i2.p1.2.m2.1.1.2" xref="S0.I10.i2.p1.2.m2.1.1.2.cmml">Q</mi><mi id="S0.I10.i2.p1.2.m2.1.1.3" xref="S0.I10.i2.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S0.I10.i2.p1.2.m2.1b"><apply id="S0.I10.i2.p1.2.m2.1.1.cmml" xref="S0.I10.i2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S0.I10.i2.p1.2.m2.1.1.1.cmml" xref="S0.I10.i2.p1.2.m2.1.1">subscript</csymbol><ci id="S0.I10.i2.p1.2.m2.1.1.2.cmml" xref="S0.I10.i2.p1.2.m2.1.1.2">𝑄</ci><ci id="S0.I10.i2.p1.2.m2.1.1.3.cmml" xref="S0.I10.i2.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.I10.i2.p1.2.m2.1c">Q_{i}</annotation><annotation encoding="application/x-llamapun" id="S0.I10.i2.p1.2.m2.1d">italic_Q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx3.p11">
<p class="ltx_p" id="S0.SSx3.SSSx3.p11.1">Table 1 on Figure 1 demonstrates the summary of conducted experiments. Columns ”Emb %” and ”TFIDF %” express positive or negative effect in similarities obtained in corresponding experiments or, in other words, average improvement given by (14)-(15) in the embedding vector (cosine) and textual TFIDF similarities respectively. The average values of these parameters are depicted as graphs as the number of processed questions increases in the appendix.</p>
</div>
<figure class="ltx_figure" id="S0.F1"><img alt="Refer to caption" class="ltx_graphics ltx_img_square" height="532" id="S0.F1.g1" src="extracted/5703208/table1.jpg" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S0.F1.2.1.1" style="font-size:90%;">Figure 1</span>: </span><span class="ltx_text" id="S0.F1.3.2" style="font-size:90%;">Summary of conducted experiments</span></figcaption>
</figure>
<div class="ltx_para" id="S0.SSx3.SSSx3.p12">
<p class="ltx_p" id="S0.SSx3.SSSx3.p12.1">For illustrative purposes we generated images of clusters and outliers with 2 principal components of a feature vector, see (7), as coordinates. Figure 2 demonstrates clusters and outliers distribution for the ”interaction” method (7) that has 4 features and with min_outlier_freq = 2.</p>
</div>
<figure class="ltx_figure" id="S0.F2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="465" id="S0.F2.g1" src="x1.png" width="664"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S0.F2.2.1.1" style="font-size:90%;">Figure 2</span>: </span><span class="ltx_text" id="S0.F2.3.2" style="font-size:90%;">Clusters and outliers with 2 principal components of the feature vector</span></figcaption>
</figure>
<div class="ltx_para" id="S0.SSx3.SSSx3.p13">
<p class="ltx_p" id="S0.SSx3.SSSx3.p13.1">The following 4 observations can be made from the results obtained:</p>
</div>
</section>
<section class="ltx_subsubsection" id="S0.SSx3.SSSx4">
<h3 class="ltx_title ltx_title_subsubsection">Observation 1</h3>
<div class="ltx_para" id="S0.SSx3.SSSx4.p1">
<p class="ltx_p" id="S0.SSx3.SSSx4.p1.1">Experiment 4-6 show that the ”interaction” method has an obvious advantage in term of both, dense vector Cosine and TFIDF similarities improvement, over ”weighted sum” and ”polynomial” methods. The rest of experiments were conducted with ”interaction” method. A possible explanation could be that it has a largest number of features than other methods that could better represent clusters and outliers.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S0.SSx3.SSSx5">
<h3 class="ltx_title ltx_title_subsubsection">Observation 2</h3>
<div class="ltx_para" id="S0.SSx3.SSSx5.p1">
<p class="ltx_p" id="S0.SSx3.SSSx5.p1.1">Experiments 3, 4 and 7, 8 demonstrate that the similarity improvement with a higher minimum outlier frequency of 4 is better than that with a lower frequency of 2. This is explained by a stronger outliers filtering. But the flip side of this improvement is a lower reduction of the number of filtered documents which causes higher computational cost in model’s response retrieval than that with the lower frequency.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S0.SSx3.SSSx6">
<h3 class="ltx_title ltx_title_subsubsection">Observation 3</h3>
<div class="ltx_para" id="S0.SSx3.SSSx6.p1">
<p class="ltx_p" id="S0.SSx3.SSSx6.p1.3">In (3)-(4) we use parameter <math alttext="\alpha" class="ltx_Math" display="inline" id="S0.SSx3.SSSx6.p1.1.m1.1"><semantics id="S0.SSx3.SSSx6.p1.1.m1.1a"><mi id="S0.SSx3.SSSx6.p1.1.m1.1.1" xref="S0.SSx3.SSSx6.p1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx6.p1.1.m1.1b"><ci id="S0.SSx3.SSSx6.p1.1.m1.1.1.cmml" xref="S0.SSx3.SSSx6.p1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx6.p1.1.m1.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx6.p1.1.m1.1d">italic_α</annotation></semantics></math> that balances contribution of 2 types of distances (1)-(2) into features. The higher the <math alttext="\alpha" class="ltx_Math" display="inline" id="S0.SSx3.SSSx6.p1.2.m2.1"><semantics id="S0.SSx3.SSSx6.p1.2.m2.1a"><mi id="S0.SSx3.SSSx6.p1.2.m2.1.1" xref="S0.SSx3.SSSx6.p1.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx6.p1.2.m2.1b"><ci id="S0.SSx3.SSSx6.p1.2.m2.1.1.cmml" xref="S0.SSx3.SSSx6.p1.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx6.p1.2.m2.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx6.p1.2.m2.1d">italic_α</annotation></semantics></math> the more significant role is played by the distance to query.
Experiments 8-10 demonstrated that the higher <math alttext="\alpha" class="ltx_Math" display="inline" id="S0.SSx3.SSSx6.p1.3.m3.1"><semantics id="S0.SSx3.SSSx6.p1.3.m3.1a"><mi id="S0.SSx3.SSSx6.p1.3.m3.1.1" xref="S0.SSx3.SSSx6.p1.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S0.SSx3.SSSx6.p1.3.m3.1b"><ci id="S0.SSx3.SSSx6.p1.3.m3.1.1.cmml" xref="S0.SSx3.SSSx6.p1.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx3.SSSx6.p1.3.m3.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S0.SSx3.SSSx6.p1.3.m3.1d">italic_α</annotation></semantics></math> is advantageous, at least in this particular testing settings.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S0.SSx3.SSSx7">
<h3 class="ltx_title ltx_title_subsubsection">Observation 4</h3>
<div class="ltx_para" id="S0.SSx3.SSSx7.p1">
<p class="ltx_p" id="S0.SSx3.SSSx7.p1.1">This is probably the most important observation. As was said, we introduced 3 categories of questions and corresponding answers. Let’s take a look at Figure 3 that demonstrates how the similarity improvement depends on the questions complexity:</p>
</div>
<figure class="ltx_figure" id="S0.F3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="287" id="S0.F3.g1" src="extracted/5703208/fig3.png" width="479"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S0.F3.2.1.1" style="font-size:90%;">Figure 3</span>: </span><span class="ltx_text" id="S0.F3.3.2" style="font-size:90%;">Similarity improvement with increasing question complexity</span></figcaption>
</figure>
<div class="ltx_para" id="S0.SSx3.SSSx7.p2">
<p class="ltx_p" id="S0.SSx3.SSSx7.p2.1"><span class="ltx_text ltx_font_bold" id="S0.SSx3.SSSx7.p2.1.1">The best improvement is achieved with the most complex question structure</span>. The explanation of this phenomena could be the following:

<br class="ltx_break"/> Simple, short queries generally do not require significant improvement, resorting, or filtering of retrieved documents for several reasons:</p>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx7.p3">
<p class="ltx_p" id="S0.SSx3.SSSx7.p3.1">1. <span class="ltx_text ltx_font_bold" id="S0.SSx3.SSSx7.p3.1.1">Clarity and Specificity</span>:
Simple queries are usually clear and specific, making it easier for retrieval models to find relevant documents. There is less ambiguity in understanding what the user is looking for, leading to more accurate initial retrieval.</p>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx7.p4">
<p class="ltx_p" id="S0.SSx3.SSSx7.p4.1">2. <span class="ltx_text ltx_font_bold" id="S0.SSx3.SSSx7.p4.1.1">Limited Scope</span>:
Short queries typically have a limited scope, focusing on a single piece of information or a straightforward fact. This reduces the chance of retrieving a large number of irrelevant documents, as the search space is more confined.</p>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx7.p5">
<p class="ltx_p" id="S0.SSx3.SSSx7.p5.1">3. <span class="ltx_text ltx_font_bold" id="S0.SSx3.SSSx7.p5.1.1">Reduced Ambiguity</span>:
Simple queries often contain fewer ambiguous terms. For instance, a query like ”capital of France” is very specific compared to a broader or more complex query like ”effects of climate change on urban development.” Reduced ambiguity helps in retrieving precise documents without needing additional filtering or resorting.</p>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx7.p6">
<p class="ltx_p" id="S0.SSx3.SSSx7.p6.1">4. <span class="ltx_text ltx_font_bold" id="S0.SSx3.SSSx7.p6.1.1">High Precision</span>:
Retrieval models are generally well-optimized for handling straightforward, fact-based queries. The top results for such queries are usually highly relevant, and additional processing may not significantly improve the relevance of the results.</p>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx7.p7">
<p class="ltx_p" id="S0.SSx3.SSSx7.p7.1">5. <span class="ltx_text ltx_font_bold" id="S0.SSx3.SSSx7.p7.1.1">Efficiency</span>:
For short, simple queries, the computational cost of additional processing (such as filtering outliers or resorting documents) may not be justified. The initial retrieval is often sufficient to provide the necessary information, making further refinement unnecessary.</p>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx7.p8">
<p class="ltx_p" id="S0.SSx3.SSSx7.p8.1">For example a simple query like ”What is the birthdate of Albert Einstein.” This query is:</p>
<ul class="ltx_itemize" id="S0.I11">
<li class="ltx_item" id="S0.I11.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I11.i1.p1">
<p class="ltx_p" id="S0.I11.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I11.i1.p1.1.1">Clear and specific</span>: It asks for a specific piece of information.</p>
</div>
</li>
<li class="ltx_item" id="S0.I11.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I11.i2.p1">
<p class="ltx_p" id="S0.I11.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I11.i2.p1.1.1">Limited in scope</span>: It only requires one fact, which reduces the search space.</p>
</div>
</li>
<li class="ltx_item" id="S0.I11.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S0.I11.i3.p1">
<p class="ltx_p" id="S0.I11.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S0.I11.i3.p1.1.1">Unambiguous</span>: The terms used are clear and not open to multiple interpretations.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S0.SSx3.SSSx7.p9">
<p class="ltx_p" id="S0.SSx3.SSSx7.p9.1">In contrast, <span class="ltx_text ltx_font_bold" id="S0.SSx3.SSSx7.p9.1.1">a more complex query like ”impact of climate change on coastal cities and mitigation strategies” involves multiple concepts and relationships, leading to a broader and more diverse set of documents. This complexity increases the likelihood of retrieving less relevant documents, making resorting and filtering more beneficial</span>.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S0.SSx4">
<h2 class="ltx_title ltx_title_subsection">4. Conclusion</h2>
<div class="ltx_para" id="S0.SSx4.p1">
<p class="ltx_p" id="S0.SSx4.p1.1">In conclusion, this study demonstrates the efficacy of filtering outlier documents to improve the quality of responses in question-answering systems using retrieval-augmented generation (RAG). By removing documents that are semantically irrelevant or far from the query, we have shown that the context can be significantly refined, leading to more accurate and relevant answers. Besides, a reduced context length is beneficial it terms of computational cost required to produce the response by the model.</p>
</div>
<div class="ltx_para" id="S0.SSx4.p2">
<p class="ltx_p" id="S0.SSx4.p2.1">Our experiments with different text-to-text models, including ’TinyLlama/TinyLlama-1.1B-Chat-v1.0’ and ’mistralai/Mistral-7B-Instruct-v0.2,’ revealed that even smaller models benefit from this approach, making it feasible to conduct extensive research on standard hardware. The use of a sentence transformer model, ’sentence-transformers/all-mpnet-base-v2,’ for document retrieval further reinforced the robustness of our method across diverse datasets, including the SQuAD2.0 dataset.</p>
</div>
<div class="ltx_para" id="S0.SSx4.p3">
<p class="ltx_p" id="S0.SSx4.p3.1">The key observations from our experiments indicated that:
1. The ”interaction” method provided the most significant improvement in similarity metrics.
2. Higher ”min outlier frequency” led to better similarity improvements, albeit at the cost of increased computational demands.
3. The balance parameter <math alttext="\alpha" class="ltx_Math" display="inline" id="S0.SSx4.p3.1.m1.1"><semantics id="S0.SSx4.p3.1.m1.1a"><mi id="S0.SSx4.p3.1.m1.1.1" xref="S0.SSx4.p3.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S0.SSx4.p3.1.m1.1b"><ci id="S0.SSx4.p3.1.m1.1.1.cmml" xref="S0.SSx4.p3.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.SSx4.p3.1.m1.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S0.SSx4.p3.1.m1.1d">italic_α</annotation></semantics></math> played a certain role in enhancing the feature representation for outlier detection.
4. The complexity of questions had a profound impact on the effectiveness of the filtering mechanism, with more complex queries benefiting the most from the refined context.</p>
</div>
<div class="ltx_para" id="S0.SSx4.p4">
<p class="ltx_p" id="S0.SSx4.p4.1">Overall, this study highlights the potential for enhanced context retrieval methods to address challenges in RAG systems, particularly when dealing with complex queries. Future work will focus on further optimizing the outlier detection mechanisms and exploring their applicability to other datasets and use cases.

<br class="ltx_break"/> Additional illustrative information and experimental details are provided in the appendix.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Penghao Zhao, Hailin Zhang, et al. Retrieval-Augmented Generation for AI-Generated Content: A Survey. https://arxiv.org/abs/2402.19473 20243

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Xin Cheng, Xun Wang, et al. xRAG: Extreme Context Compression for Retrieval-augmented Generation with One Token. https://arxiv.org/abs/2405.13792, 2024

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Hongjin Qian , Zheng Liu. Et al. Grounding Language Model with Chunking-Free In-Context Retrieval. https://arxiv.org/pdf/2402.09760v1 2024

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Weiwei Sun, Lingyong Yan, et al. Is ChatGPT Good at Search? Investigating Large Language Models as Re-Ranking Agents. https://arxiv.org/pdf/2304.09542, 2023

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Vitaly Bulgakov, Alec Segal, Dimensionality Reduction in Sentence Transformer Vector Databases with Fast Fourier Transform. https://arxiv.org/pdf/2404.06278, 2024

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Bishop, C. M. (2006). Pattern Recognition and Machine Learning. Springer. (Chapter 2: Probability Distributions, discusses Gaussian mixtures and their use in modeling data distribution)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Reynolds, D. A. (2009). Gaussian Mixture Models. In Encyclopedia of Biometrics (pp. 659-663). Springer. (An overview of Gaussian Mixture Models and their applications).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Hastie, T., Tibshirani, R., &amp; Friedman, J. (2009). The Elements of Statistical Learning: Data Mining, Inference, and Prediction. Springer. (Chapter 14: Unsupervised Learning, discusses distance metrics and feature engineering techniques.)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Zheng, A., &amp; Casari, A. (2018). Feature Engineering for Machine Learning: Principles and Techniques for Data Scientists. O’Reilly Media. (A practical guide to feature engineering, including techniques for combining and transforming features.)

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
https://github.com/facebookresearch/faiss/wiki

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
https://huggingface.co/docs/hub/en/index

</span>
</li>
</ul>
</section>
<section class="ltx_subsection" id="S0.SSx5">
<h2 class="ltx_title ltx_title_subsection">Appendix</h2>
<figure class="ltx_figure" id="S0.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S0.F4.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="419" id="S0.F4.1.g1" src="extracted/5703208/Figure_1.png" width="598"/>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S0.F4.2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="419" id="S0.F4.2.g1" src="extracted/5703208/Figure_2.png" width="598"/>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S0.F4.4.1.1" style="font-size:90%;">Figure 4</span>: </span><span class="ltx_text" id="S0.F4.5.2" style="font-size:90%;">The average values of similarity changes are presented as the number of processed questions increases (Part 1).</span></figcaption>
</figure>
<figure class="ltx_figure" id="S0.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S0.F5.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="419" id="S0.F5.1.g1" src="extracted/5703208/Figure_3.png" width="598"/>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S0.F5.2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="419" id="S0.F5.2.g1" src="extracted/5703208/Figure_4.png" width="598"/>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S0.F5.4.1.1" style="font-size:90%;">Figure 5</span>: </span><span class="ltx_text" id="S0.F5.5.2" style="font-size:90%;">The average values of similarity changes are presented as the number of processed questions increases (Part 2).</span></figcaption>
</figure>
<figure class="ltx_figure" id="S0.F6">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S0.F6.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="419" id="S0.F6.1.g1" src="extracted/5703208/Figure_5.png" width="598"/>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S0.F6.2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="419" id="S0.F6.2.g1" src="extracted/5703208/Figure_6.png" width="598"/>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S0.F6.4.1.1" style="font-size:90%;">Figure 6</span>: </span><span class="ltx_text" id="S0.F6.5.2" style="font-size:90%;">The average values of similarity changes are presented as the number of processed questions increases (Part 3).</span></figcaption>
</figure>
<figure class="ltx_figure" id="S0.F7">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S0.F7.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="419" id="S0.F7.1.g1" src="extracted/5703208/Figure_7.png" width="598"/>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S0.F7.2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="419" id="S0.F7.2.g1" src="extracted/5703208/Figure_8.png" width="598"/>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S0.F7.4.1.1" style="font-size:90%;">Figure 7</span>: </span><span class="ltx_text" id="S0.F7.5.2" style="font-size:90%;">The average values of similarity changes are presented as the number of processed questions increases (Part 4).</span></figcaption>
</figure>
<figure class="ltx_figure" id="S0.F8">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S0.F8.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="419" id="S0.F8.1.g1" src="extracted/5703208/Figure_9.png" width="598"/>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S0.F8.2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="419" id="S0.F8.2.g1" src="extracted/5703208/Figure_10.png" width="598"/>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S0.F8.4.1.1" style="font-size:90%;">Figure 8</span>: </span><span class="ltx_text" id="S0.F8.5.2" style="font-size:90%;">The average values of similarity changes are presented as the number of processed questions increases (Part 5).</span></figcaption>
</figure>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Mon Jul  1 15:48:41 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
