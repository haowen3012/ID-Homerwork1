<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers</title>
<!--Generated on Tue Jun 18 09:00:04 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2406.12430v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S1" title="In PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S2" title="In PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Decision QA task</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3" title="In PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>DQA: Decision QA benchmark</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.SS1" title="In 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Locating scenario</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.SS2" title="In 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Building scenario</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.SS3" title="In 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Statistics of DQA</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S4" title="In PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Methodology: PlanRAG</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5" title="In PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.SS1" title="In 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Experimental Setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.SS2" title="In 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Results and Analysis</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S6" title="In PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S7" title="In PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S8" title="In PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Limitations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S9" title="In PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">9 </span>Ethical Considerations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1" title="In PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text" style="color:#000000;">A</span> </span><span class="ltx_text" style="color:#000000;">Appendix</span></span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS1" title="In Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>Data collection</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS2" title="In Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Data instances</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS3" title="In Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3 </span>Simulators for annotation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS4" title="In Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.4 </span>Algorithm of simulators</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS4.SSS1" title="In A.4 Algorithm of simulators ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.4.1 </span>Locating simulator algorithm</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS4.SSS2" title="In A.4 Algorithm of simulators ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.4.2 </span>Building simulator algorithm</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS5" title="In Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.5 </span>Business rules in DQA</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS6" title="In Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.6 </span>Prompts for DQA</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS6.SSS1" title="In A.6 Prompts for DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.6.1 </span>Previous RAG-based LMs</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS6.SSS2" title="In A.6 Prompts for DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.6.2 </span>PlanRAG-based LM</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS7" title="In Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.7 </span>Experimenting with other models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS8" title="In Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.8 </span>Re-planning cases</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Myeonghwa Lee<sup class="ltx_sup" id="id8.4.id1">∗</sup>, Seonho An<sup class="ltx_sup" id="id9.5.id2">∗</sup>, Min-Soo Kim<sup class="ltx_sup" id="id10.6.id3">†</sup>
<br class="ltx_break"/>School of Computing, KAIST
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id11.7.id4">{myeon9h, asho1, minsoo.k}@kaist.ac.kr</span>
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id7.4">In this paper, we conduct a study to utilize LLMs as a solution for decision making that requires complex data analysis. We define <span class="ltx_text ltx_font_bold" id="id7.4.1">Decision QA</span> as the task of answering the best decision, <math alttext="d_{best}" class="ltx_Math" display="inline" id="id4.1.m1.1"><semantics id="id4.1.m1.1a"><msub id="id4.1.m1.1.1" xref="id4.1.m1.1.1.cmml"><mi id="id4.1.m1.1.1.2" xref="id4.1.m1.1.1.2.cmml">d</mi><mrow id="id4.1.m1.1.1.3" xref="id4.1.m1.1.1.3.cmml"><mi id="id4.1.m1.1.1.3.2" xref="id4.1.m1.1.1.3.2.cmml">b</mi><mo id="id4.1.m1.1.1.3.1" xref="id4.1.m1.1.1.3.1.cmml">⁢</mo><mi id="id4.1.m1.1.1.3.3" xref="id4.1.m1.1.1.3.3.cmml">e</mi><mo id="id4.1.m1.1.1.3.1a" xref="id4.1.m1.1.1.3.1.cmml">⁢</mo><mi id="id4.1.m1.1.1.3.4" xref="id4.1.m1.1.1.3.4.cmml">s</mi><mo id="id4.1.m1.1.1.3.1b" xref="id4.1.m1.1.1.3.1.cmml">⁢</mo><mi id="id4.1.m1.1.1.3.5" xref="id4.1.m1.1.1.3.5.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="id4.1.m1.1b"><apply id="id4.1.m1.1.1.cmml" xref="id4.1.m1.1.1"><csymbol cd="ambiguous" id="id4.1.m1.1.1.1.cmml" xref="id4.1.m1.1.1">subscript</csymbol><ci id="id4.1.m1.1.1.2.cmml" xref="id4.1.m1.1.1.2">𝑑</ci><apply id="id4.1.m1.1.1.3.cmml" xref="id4.1.m1.1.1.3"><times id="id4.1.m1.1.1.3.1.cmml" xref="id4.1.m1.1.1.3.1"></times><ci id="id4.1.m1.1.1.3.2.cmml" xref="id4.1.m1.1.1.3.2">𝑏</ci><ci id="id4.1.m1.1.1.3.3.cmml" xref="id4.1.m1.1.1.3.3">𝑒</ci><ci id="id4.1.m1.1.1.3.4.cmml" xref="id4.1.m1.1.1.3.4">𝑠</ci><ci id="id4.1.m1.1.1.3.5.cmml" xref="id4.1.m1.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="id4.1.m1.1c">d_{best}</annotation><annotation encoding="application/x-llamapun" id="id4.1.m1.1d">italic_d start_POSTSUBSCRIPT italic_b italic_e italic_s italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, for a decision-making question <math alttext="Q" class="ltx_Math" display="inline" id="id5.2.m2.1"><semantics id="id5.2.m2.1a"><mi id="id5.2.m2.1.1" xref="id5.2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="id5.2.m2.1b"><ci id="id5.2.m2.1.1.cmml" xref="id5.2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="id5.2.m2.1c">Q</annotation><annotation encoding="application/x-llamapun" id="id5.2.m2.1d">italic_Q</annotation></semantics></math>, business rules <math alttext="R" class="ltx_Math" display="inline" id="id6.3.m3.1"><semantics id="id6.3.m3.1a"><mi id="id6.3.m3.1.1" xref="id6.3.m3.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="id6.3.m3.1b"><ci id="id6.3.m3.1.1.cmml" xref="id6.3.m3.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="id6.3.m3.1c">R</annotation><annotation encoding="application/x-llamapun" id="id6.3.m3.1d">italic_R</annotation></semantics></math> and a database <math alttext="D" class="ltx_Math" display="inline" id="id7.4.m4.1"><semantics id="id7.4.m4.1a"><mi id="id7.4.m4.1.1" xref="id7.4.m4.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="id7.4.m4.1b"><ci id="id7.4.m4.1.1.cmml" xref="id7.4.m4.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="id7.4.m4.1c">D</annotation><annotation encoding="application/x-llamapun" id="id7.4.m4.1d">italic_D</annotation></semantics></math>. Since there is no benchmark that can examine Decision QA, we propose Decision QA benchmark, <span class="ltx_text ltx_font_bold" id="id7.4.2">DQA</span>. It has two scenarios, Locating and Building, constructed from two video games (Europa Universalis IV and Victoria 3) that have almost the same goal as Decision QA. To address Decision QA effectively, we also propose a new RAG technique called the <span class="ltx_text ltx_font_italic" id="id7.4.3">iterative plan-then-retrieval augmented generation</span> (<span class="ltx_text ltx_font_bold" id="id7.4.4">PlanRAG</span>). Our PlanRAG-based LM generates the plan for decision making as the first step, and the retriever generates the queries for data analysis as the second step. The proposed method outperforms the state-of-the-art iterative RAG method by 15.8% in the Locating scenario and by 7.4% in the Building scenario, respectively. We release our code and benchmark at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/myeon9h/PlanRAG" title="">https://github.com/myeon9h/PlanRAG</a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="p1">
<div class="ltx_block ltx_align_bottom" id="p1.3">
<p class="ltx_p" id="p1.3.4"><span class="ltx_text ltx_font_bold" id="p1.3.4.1">PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers</span></p>
<br class="ltx_break ltx_centering"/>
<p class="ltx_p ltx_align_center" id="p1.3.3" style="width:433.6pt;"><span class="ltx_text ltx_inline-block" id="p1.3.3.3" style="width:0.0pt;">
<span class="ltx_tabular ltx_align_top" id="p1.3.3.3.3">
<span class="ltx_tbody">
<span class="ltx_tr" id="p1.3.3.3.3.3">
<span class="ltx_td ltx_align_center" id="p1.3.3.3.3.3.3"><span class="ltx_text ltx_font_bold" id="p1.3.3.3.3.3.3.3">Myeonghwa Lee<sup class="ltx_sup" id="p1.3.3.3.3.3.3.3.1"><span class="ltx_text ltx_font_medium" id="p1.3.3.3.3.3.3.3.1.1">∗</span></sup>, Seonho An<sup class="ltx_sup" id="p1.3.3.3.3.3.3.3.2"><span class="ltx_text ltx_font_medium" id="p1.3.3.3.3.3.3.3.2.1">∗</span></sup>, Min-Soo Kim<sup class="ltx_sup" id="p1.3.3.3.3.3.3.3.3"><span class="ltx_text ltx_font_medium" id="p1.3.3.3.3.3.3.3.3.1">†</span></sup></span></span></span>
<span class="ltx_tr" id="p1.3.3.3.3.4.1">
<span class="ltx_td ltx_align_center" id="p1.3.3.3.3.4.1.1">School of Computing, KAIST</span></span>
<span class="ltx_tr" id="p1.3.3.3.3.5.2">
<span class="ltx_td ltx_align_center" id="p1.3.3.3.3.5.2.1"><span class="ltx_text ltx_font_typewriter" id="p1.3.3.3.3.5.2.1.1">{myeon9h, asho1, minsoo.k}@kaist.ac.kr</span></span></span>
</span>
</span></span></p>
<br class="ltx_break ltx_centering"/>
</div>
</div>
<span class="ltx_note ltx_role_footnotetext" id="footnotex1"><sup class="ltx_note_mark">$\ast$</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">$\ast$</sup><span class="ltx_note_type">footnotetext: </span>Equal contribution.</span></span></span><span class="ltx_note ltx_role_footnotetext" id="footnotex2"><sup class="ltx_note_mark">$\dagger$</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">$\dagger$</sup><span class="ltx_note_type">footnotetext: </span>Corresponding author.</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">In many business situations, decision making plays a crucial role for the success of organizations <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Kasie et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib27" title=""><span class="ltx_text" style="color:#000000;">2017</span></a>); <span class="ltx_text" style="color:#000000;">Gupta et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib12" title=""><span class="ltx_text" style="color:#000000;">2002</span></a>)</cite>.
Here, decision making involves analyzing data, ultimately leading to the selection of the most suitable alternative to achieve a specific goal <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Provost and Fawcett</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib36" title=""><span class="ltx_text" style="color:#000000;">2013</span></a>); <span class="ltx_text" style="color:#000000;">Diván</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib8" title=""><span class="ltx_text" style="color:#000000;">2017</span></a>)</cite>.
For example, we assume that one of the goals of the pharmacy company “Pfizer” is to minimize the production cost while maintaining on-time delivery from plants to customers in the pharmaceutical distribution network <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Gupta et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib12" title=""><span class="ltx_text" style="color:#000000;">2002</span></a>)</cite>, and the production cost is proportional to the amount of operation time and number of employees of a plant. Then, Pfizer may face the following decision-making problems: (P1) which plant it should operate or stop, and (P2) how many employees it should hire for each plant.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">In general, the decision-making task requires performing the following three steps: (1) making a plan for which kind of analysis is needed for decision; (2) retrieving necessary data using queries; (3) making a decision (i.e., answering) based on the data <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Troisi et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib43" title=""><span class="ltx_text" style="color:#000000;">2020</span></a>); <span class="ltx_text" style="color:#000000;">Sala et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib37" title=""><span class="ltx_text" style="color:#000000;">2022</span></a>)</cite>.
To make the Steps (2) and (3) easier, a lot of decision support systems have been developed and utilized during the past few decades <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Gupta et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib12" title=""><span class="ltx_text" style="color:#000000;">2002</span></a>); <span class="ltx_text" style="color:#000000;">Eom and Kim</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib9" title=""><span class="ltx_text" style="color:#000000;">2006</span></a>); <span class="ltx_text" style="color:#000000;">Power</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib34" title=""><span class="ltx_text" style="color:#000000;">2007</span></a>); <span class="ltx_text" style="color:#000000;">Hedgebeth</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib15" title=""><span class="ltx_text" style="color:#000000;">2007</span></a>); <span class="ltx_text" style="color:#000000;">Power</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib35" title=""><span class="ltx_text" style="color:#000000;">2008</span></a>); <span class="ltx_text" style="color:#000000;">Kasie et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib27" title=""><span class="ltx_text" style="color:#000000;">2017</span></a>)</cite>.
However, humans still have been in charge of the most hard part, Step (1).
The goal of this study is to investigate the possibility of replacing the human role with a Large Language Model(LLM) such that it performs not only Steps (2) and (3) but also Step (1), that is, all the Steps end-to-end.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.3">To achieve the goal, we propose, <span class="ltx_text ltx_font_bold" id="S1.p3.3.1">Decision QA</span>, a new decision-making task for language models.
Decision QA is defined as a QA-style task that takes a pair of database <math alttext="D" class="ltx_Math" display="inline" id="S1.p3.1.m1.1"><semantics id="S1.p3.1.m1.1a"><mi id="S1.p3.1.m1.1.1" xref="S1.p3.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S1.p3.1.m1.1b"><ci id="S1.p3.1.m1.1.1.cmml" xref="S1.p3.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S1.p3.1.m1.1d">italic_D</annotation></semantics></math>, business rules <math alttext="R" class="ltx_Math" display="inline" id="S1.p3.2.m2.1"><semantics id="S1.p3.2.m2.1a"><mi id="S1.p3.2.m2.1.1" xref="S1.p3.2.m2.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S1.p3.2.m2.1b"><ci id="S1.p3.2.m2.1.1.cmml" xref="S1.p3.2.m2.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.2.m2.1c">R</annotation><annotation encoding="application/x-llamapun" id="S1.p3.2.m2.1d">italic_R</annotation></semantics></math> and a decision-making question <math alttext="Q" class="ltx_Math" display="inline" id="S1.p3.3.m3.1"><semantics id="S1.p3.3.m3.1a"><mi id="S1.p3.3.m3.1.1" xref="S1.p3.3.m3.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S1.p3.3.m3.1b"><ci id="S1.p3.3.m3.1.1.cmml" xref="S1.p3.3.m3.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.3.m3.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S1.p3.3.m3.1d">italic_Q</annotation></semantics></math> as input and generates the best decision as output.
Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">1</span></a> shows a situation in Europa Universalis IV game where countries compete in trade at the Age of Discovery, as an example of Decision QA.
Each country decides which trading city (i.e., node) it should locate a merchant on to maximize its profit on its main (i.e., home) trading node.
The example shows that a decision-making LLM decides to locate a merchant in Doab to maximize the profit of Deccan, the home trading node of the country BAH, after analyzing the database about international trade.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="804" id="S1.F1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Example of Decision QA.
A red dot represents a trading node. A <span class="ltx_text ltx_font_italic" id="S1.F1.3.1">Profit</span> in the Deccan box indicates a potential profit change by each decision.
Note that the potential profit changes are not in the database, which should be calculated from the database.
Each country has only a single main(home) trading node. The <span class="ltx_text ltx_framed ltx_framed_underline" id="S1.F1.4.2">underlined</span> column names in a table indicate the key of the table.
</figcaption>
</figure>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Next, we propose a benchmark for Decision QA called <span class="ltx_text ltx_font_bold" id="S1.p4.1.1">DQA</span>, which consists of the following two scenarios: Locating and Building.
The former scenario consists of decision questions like “Which trade node should I locate a merchant on" (similar to P1 of Pfizer). The latter consists of questions like “How many woods should I supply to a factory” (similar to P2 of Pfizer).
Due to the difficulty of building DQA using real-world business data, we built the benchmark by extracting the game data involving 301 specific situations from the two video games Europa Universalis IV and Victoria 3<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Grand strategy games published by <a class="ltx_ref ltx_href" href="https://www.paradoxinteractive.com/" title="">Paradox Interactive</a></span></span></span>, which well imitate real business situations.
To eliminate the randomness of the game and publish our benchmark, we develop the game simulators that record the decision results for 301 situations.
We utilize the results as annotations for the questions of DQA.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">The recent breakthrough in LLMs is making it possible to replace Steps (2) and (3) of the decision making task with LLMs, in particular, based on <span class="ltx_text ltx_font_italic" id="S1.p5.1.1">Retrieval-Augmented Generation</span> (RAG) technique. So far, a lot of RAG-based methods have been proposed for various tasks<cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Lewis et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib30" title=""><span class="ltx_text" style="color:#000000;">2020</span></a>); <span class="ltx_text" style="color:#000000;">Khandelwal et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib28" title=""><span class="ltx_text" style="color:#000000;">2020</span></a>); <span class="ltx_text" style="color:#000000;">Izacard and Grave</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib18" title=""><span class="ltx_text" style="color:#000000;">2021</span></a>); <span class="ltx_text" style="color:#000000;">Borgeaud et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib3" title=""><span class="ltx_text" style="color:#000000;">2022</span></a>); <span class="ltx_text" style="color:#000000;">Izacard et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib19" title=""><span class="ltx_text" style="color:#000000;">2023</span></a>); <span class="ltx_text" style="color:#000000;">Yasunaga et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib47" title=""><span class="ltx_text" style="color:#000000;">2023</span></a>); <span class="ltx_text" style="color:#000000;">Jiang et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib23" title=""><span class="ltx_text" style="color:#000000;">2022a</span></a>); <span class="ltx_text" style="color:#000000;">Shi et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib39" title=""><span class="ltx_text" style="color:#000000;">2023</span></a>)</cite>.
In these methods, a retriever finds external data highly relevant to a question and conveys it to LMs, so that LMs can generate an answer based on it <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Lewis et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib30" title=""><span class="ltx_text" style="color:#000000;">2020</span></a>)</cite>.
Recently, the <span class="ltx_text ltx_font_italic" id="S1.p5.1.2">iterative RAG</span> technique has also been proposed to address more complex problems that should utilize retrieved results to perform further retrievals <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Trivedi et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib42" title=""><span class="ltx_text" style="color:#000000;">2023</span></a>); <span class="ltx_text" style="color:#000000;">Jiang et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib25" title=""><span class="ltx_text" style="color:#000000;">2023b</span></a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">However, the existing RAG-based methods mainly focus on the knowledge-based QA tasks <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Karpukhin et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib26" title=""><span class="ltx_text" style="color:#000000;">2020</span></a>); <span class="ltx_text" style="color:#000000;">Trivedi et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib42" title=""><span class="ltx_text" style="color:#000000;">2023</span></a>)</cite>, but do not focus on the decision making QA task.
As a result, they are not very good at handling Step (1), i.e., making a plan for decision, in our observation.
For instance, in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">1</span></a>, an LM for decision making should reason which analysis is needed to perform for maximize the profit of Deccan. However, the existing methods just try to identify, for example, what Deccan is.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">To address this limitation, we propose the iterative plan-then-retrieval augmented generation technique, <span class="ltx_text ltx_font_bold" id="S1.p7.1.1">PlanRAG</span>, which extends the iterative RAG technique for Decision QA.
A PlanRAG-based LM first makes a plan for which kind of analysis it needs by examining data schema and questions (the <span class="ltx_text ltx_font_italic" id="S1.p7.1.2">planning</span> step).
Next, it retrieves the scattered pieces of data for the analysis by generating and posing queries (the <span class="ltx_text ltx_font_italic" id="S1.p7.1.3">retrieving</span> step).
Finally, it assesses whether it needs to make a new plan for further analysis, and then repeats both the planning and retrieval steps iteratively (the <span class="ltx_text ltx_font_italic" id="S1.p7.1.4">re-planning</span> step), or makes a decision based on the data (the <span class="ltx_text ltx_font_italic" id="S1.p7.1.5">answering</span> step).</p>
</div>
<div class="ltx_para" id="S1.p8">
<p class="ltx_p" id="S1.p8.1">To validate the effectiveness of our PlanRAG on Decision QA, we compare both the state-of-the-art iterative RAG-based LM and our PlanRAG-based LM for the DQA benchmark.
Our contributions are summarized as follows:</p>
</div>
<div class="ltx_para" id="S1.p9">
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We define a new challenging task, <span class="ltx_text ltx_font_bold" id="S1.I1.i1.p1.1.1">Decision QA</span>, which requires both planning and data analysis for decision making.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We propose the benchmark for Decision QA called <span class="ltx_text ltx_font_bold" id="S1.I1.i2.p1.1.1">DQA</span> having two scenarios of Locating and Building.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">We propose a new retrieval-augmented generation technique, <span class="ltx_text ltx_font_bold" id="S1.I1.i3.p1.1.1">PlanRAG</span>, that can significantly enhance the capability of decision making of LLMs.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1">We demonstrated that PlanRAG is far more effective than the iterative RAG technique for Decision QA.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Decision QA task</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.9">We define <span class="ltx_text ltx_font_bold" id="S2.p1.9.1">Decision QA</span> as the task of answering the best decision <math alttext="d_{best}" class="ltx_Math" display="inline" id="S2.p1.1.m1.1"><semantics id="S2.p1.1.m1.1a"><msub id="S2.p1.1.m1.1.1" xref="S2.p1.1.m1.1.1.cmml"><mi id="S2.p1.1.m1.1.1.2" xref="S2.p1.1.m1.1.1.2.cmml">d</mi><mrow id="S2.p1.1.m1.1.1.3" xref="S2.p1.1.m1.1.1.3.cmml"><mi id="S2.p1.1.m1.1.1.3.2" xref="S2.p1.1.m1.1.1.3.2.cmml">b</mi><mo id="S2.p1.1.m1.1.1.3.1" xref="S2.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.p1.1.m1.1.1.3.3" xref="S2.p1.1.m1.1.1.3.3.cmml">e</mi><mo id="S2.p1.1.m1.1.1.3.1a" xref="S2.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.p1.1.m1.1.1.3.4" xref="S2.p1.1.m1.1.1.3.4.cmml">s</mi><mo id="S2.p1.1.m1.1.1.3.1b" xref="S2.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.p1.1.m1.1.1.3.5" xref="S2.p1.1.m1.1.1.3.5.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.p1.1.m1.1b"><apply id="S2.p1.1.m1.1.1.cmml" xref="S2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.p1.1.m1.1.1.1.cmml" xref="S2.p1.1.m1.1.1">subscript</csymbol><ci id="S2.p1.1.m1.1.1.2.cmml" xref="S2.p1.1.m1.1.1.2">𝑑</ci><apply id="S2.p1.1.m1.1.1.3.cmml" xref="S2.p1.1.m1.1.1.3"><times id="S2.p1.1.m1.1.1.3.1.cmml" xref="S2.p1.1.m1.1.1.3.1"></times><ci id="S2.p1.1.m1.1.1.3.2.cmml" xref="S2.p1.1.m1.1.1.3.2">𝑏</ci><ci id="S2.p1.1.m1.1.1.3.3.cmml" xref="S2.p1.1.m1.1.1.3.3">𝑒</ci><ci id="S2.p1.1.m1.1.1.3.4.cmml" xref="S2.p1.1.m1.1.1.3.4">𝑠</ci><ci id="S2.p1.1.m1.1.1.3.5.cmml" xref="S2.p1.1.m1.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.1.m1.1c">d_{best}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.1.m1.1d">italic_d start_POSTSUBSCRIPT italic_b italic_e italic_s italic_t end_POSTSUBSCRIPT</annotation></semantics></math> given a decision-making question <math alttext="Q" class="ltx_Math" display="inline" id="S2.p1.2.m2.1"><semantics id="S2.p1.2.m2.1a"><mi id="S2.p1.2.m2.1.1" xref="S2.p1.2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.p1.2.m2.1b"><ci id="S2.p1.2.m2.1.1.cmml" xref="S2.p1.2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.2.m2.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S2.p1.2.m2.1d">italic_Q</annotation></semantics></math>, business rules <math alttext="R" class="ltx_Math" display="inline" id="S2.p1.3.m3.1"><semantics id="S2.p1.3.m3.1a"><mi id="S2.p1.3.m3.1.1" xref="S2.p1.3.m3.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S2.p1.3.m3.1b"><ci id="S2.p1.3.m3.1.1.cmml" xref="S2.p1.3.m3.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.3.m3.1c">R</annotation><annotation encoding="application/x-llamapun" id="S2.p1.3.m3.1d">italic_R</annotation></semantics></math>, and structured database <math alttext="D" class="ltx_Math" display="inline" id="S2.p1.4.m4.1"><semantics id="S2.p1.4.m4.1a"><mi id="S2.p1.4.m4.1.1" xref="S2.p1.4.m4.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.p1.4.m4.1b"><ci id="S2.p1.4.m4.1.1.cmml" xref="S2.p1.4.m4.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.4.m4.1c">D</annotation><annotation encoding="application/x-llamapun" id="S2.p1.4.m4.1d">italic_D</annotation></semantics></math> that follows a schema <math alttext="S" class="ltx_Math" display="inline" id="S2.p1.5.m5.1"><semantics id="S2.p1.5.m5.1a"><mi id="S2.p1.5.m5.1.1" xref="S2.p1.5.m5.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.p1.5.m5.1b"><ci id="S2.p1.5.m5.1.1.cmml" xref="S2.p1.5.m5.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.5.m5.1c">S</annotation><annotation encoding="application/x-llamapun" id="S2.p1.5.m5.1d">italic_S</annotation></semantics></math>.
Here, <math alttext="Q" class="ltx_Math" display="inline" id="S2.p1.6.m6.1"><semantics id="S2.p1.6.m6.1a"><mi id="S2.p1.6.m6.1.1" xref="S2.p1.6.m6.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.p1.6.m6.1b"><ci id="S2.p1.6.m6.1.1.cmml" xref="S2.p1.6.m6.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.6.m6.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S2.p1.6.m6.1d">italic_Q</annotation></semantics></math> contains a textual goal that users want to be achieved through the decision <math alttext="d_{best}" class="ltx_Math" display="inline" id="S2.p1.7.m7.1"><semantics id="S2.p1.7.m7.1a"><msub id="S2.p1.7.m7.1.1" xref="S2.p1.7.m7.1.1.cmml"><mi id="S2.p1.7.m7.1.1.2" xref="S2.p1.7.m7.1.1.2.cmml">d</mi><mrow id="S2.p1.7.m7.1.1.3" xref="S2.p1.7.m7.1.1.3.cmml"><mi id="S2.p1.7.m7.1.1.3.2" xref="S2.p1.7.m7.1.1.3.2.cmml">b</mi><mo id="S2.p1.7.m7.1.1.3.1" xref="S2.p1.7.m7.1.1.3.1.cmml">⁢</mo><mi id="S2.p1.7.m7.1.1.3.3" xref="S2.p1.7.m7.1.1.3.3.cmml">e</mi><mo id="S2.p1.7.m7.1.1.3.1a" xref="S2.p1.7.m7.1.1.3.1.cmml">⁢</mo><mi id="S2.p1.7.m7.1.1.3.4" xref="S2.p1.7.m7.1.1.3.4.cmml">s</mi><mo id="S2.p1.7.m7.1.1.3.1b" xref="S2.p1.7.m7.1.1.3.1.cmml">⁢</mo><mi id="S2.p1.7.m7.1.1.3.5" xref="S2.p1.7.m7.1.1.3.5.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.p1.7.m7.1b"><apply id="S2.p1.7.m7.1.1.cmml" xref="S2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S2.p1.7.m7.1.1.1.cmml" xref="S2.p1.7.m7.1.1">subscript</csymbol><ci id="S2.p1.7.m7.1.1.2.cmml" xref="S2.p1.7.m7.1.1.2">𝑑</ci><apply id="S2.p1.7.m7.1.1.3.cmml" xref="S2.p1.7.m7.1.1.3"><times id="S2.p1.7.m7.1.1.3.1.cmml" xref="S2.p1.7.m7.1.1.3.1"></times><ci id="S2.p1.7.m7.1.1.3.2.cmml" xref="S2.p1.7.m7.1.1.3.2">𝑏</ci><ci id="S2.p1.7.m7.1.1.3.3.cmml" xref="S2.p1.7.m7.1.1.3.3">𝑒</ci><ci id="S2.p1.7.m7.1.1.3.4.cmml" xref="S2.p1.7.m7.1.1.3.4">𝑠</ci><ci id="S2.p1.7.m7.1.1.3.5.cmml" xref="S2.p1.7.m7.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.7.m7.1c">d_{best}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.7.m7.1d">italic_d start_POSTSUBSCRIPT italic_b italic_e italic_s italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, and <math alttext="R" class="ltx_Math" display="inline" id="S2.p1.8.m8.1"><semantics id="S2.p1.8.m8.1a"><mi id="S2.p1.8.m8.1.1" xref="S2.p1.8.m8.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S2.p1.8.m8.1b"><ci id="S2.p1.8.m8.1.1.cmml" xref="S2.p1.8.m8.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.8.m8.1c">R</annotation><annotation encoding="application/x-llamapun" id="S2.p1.8.m8.1d">italic_R</annotation></semantics></math> contains textual descriptions of formulas that are referenced to reason <math alttext="d_{best}" class="ltx_Math" display="inline" id="S2.p1.9.m9.1"><semantics id="S2.p1.9.m9.1a"><msub id="S2.p1.9.m9.1.1" xref="S2.p1.9.m9.1.1.cmml"><mi id="S2.p1.9.m9.1.1.2" xref="S2.p1.9.m9.1.1.2.cmml">d</mi><mrow id="S2.p1.9.m9.1.1.3" xref="S2.p1.9.m9.1.1.3.cmml"><mi id="S2.p1.9.m9.1.1.3.2" xref="S2.p1.9.m9.1.1.3.2.cmml">b</mi><mo id="S2.p1.9.m9.1.1.3.1" xref="S2.p1.9.m9.1.1.3.1.cmml">⁢</mo><mi id="S2.p1.9.m9.1.1.3.3" xref="S2.p1.9.m9.1.1.3.3.cmml">e</mi><mo id="S2.p1.9.m9.1.1.3.1a" xref="S2.p1.9.m9.1.1.3.1.cmml">⁢</mo><mi id="S2.p1.9.m9.1.1.3.4" xref="S2.p1.9.m9.1.1.3.4.cmml">s</mi><mo id="S2.p1.9.m9.1.1.3.1b" xref="S2.p1.9.m9.1.1.3.1.cmml">⁢</mo><mi id="S2.p1.9.m9.1.1.3.5" xref="S2.p1.9.m9.1.1.3.5.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.p1.9.m9.1b"><apply id="S2.p1.9.m9.1.1.cmml" xref="S2.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S2.p1.9.m9.1.1.1.cmml" xref="S2.p1.9.m9.1.1">subscript</csymbol><ci id="S2.p1.9.m9.1.1.2.cmml" xref="S2.p1.9.m9.1.1.2">𝑑</ci><apply id="S2.p1.9.m9.1.1.3.cmml" xref="S2.p1.9.m9.1.1.3"><times id="S2.p1.9.m9.1.1.3.1.cmml" xref="S2.p1.9.m9.1.1.3.1"></times><ci id="S2.p1.9.m9.1.1.3.2.cmml" xref="S2.p1.9.m9.1.1.3.2">𝑏</ci><ci id="S2.p1.9.m9.1.1.3.3.cmml" xref="S2.p1.9.m9.1.1.3.3">𝑒</ci><ci id="S2.p1.9.m9.1.1.3.4.cmml" xref="S2.p1.9.m9.1.1.3.4">𝑠</ci><ci id="S2.p1.9.m9.1.1.3.5.cmml" xref="S2.p1.9.m9.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.9.m9.1c">d_{best}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.9.m9.1d">italic_d start_POSTSUBSCRIPT italic_b italic_e italic_s italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.2">Without loss of generality, the database <math alttext="D" class="ltx_Math" display="inline" id="S2.p2.1.m1.1"><semantics id="S2.p2.1.m1.1a"><mi id="S2.p2.1.m1.1.1" xref="S2.p2.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.p2.1.m1.1b"><ci id="S2.p2.1.m1.1.1.cmml" xref="S2.p2.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S2.p2.1.m1.1d">italic_D</annotation></semantics></math> is too large to fit in the input of an LM all at once.
Therefore, we assume that an LM retrieves data from <math alttext="D" class="ltx_Math" display="inline" id="S2.p2.2.m2.1"><semantics id="S2.p2.2.m2.1a"><mi id="S2.p2.2.m2.1.1" xref="S2.p2.2.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.p2.2.m2.1b"><ci id="S2.p2.2.m2.1.1.cmml" xref="S2.p2.2.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.2.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="S2.p2.2.m2.1d">italic_D</annotation></semantics></math> by posing a query for data analysis, which we call as a <span class="ltx_text ltx_font_italic" id="S2.p2.2.1">data analysis query</span> hereafter.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1">We assume that <math alttext="D" class="ltx_Math" display="inline" id="S2.p3.1.m1.1"><semantics id="S2.p3.1.m1.1a"><mi id="S2.p3.1.m1.1.1" xref="S2.p3.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.p3.1.m1.1b"><ci id="S2.p3.1.m1.1.1.cmml" xref="S2.p3.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S2.p3.1.m1.1d">italic_D</annotation></semantics></math> is either a <span class="ltx_text ltx_font_italic" id="S2.p3.1.1">labeled property graph (LPG) database</span> or a <span class="ltx_text ltx_font_italic" id="S2.p3.1.2">relational database (RDB)</span>. For example, the database in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">1</span></a> is a relational database. Here, an LPG refers to a graph with properties on edges and nodes, which is widely used in the industry <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Akoglu et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib1" title=""><span class="ltx_text" style="color:#000000;">2015</span></a>); <span class="ltx_text" style="color:#000000;">Guo et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib11" title=""><span class="ltx_text" style="color:#000000;">2020</span></a>)</cite>. We call a labeled property graph database as simply a <span class="ltx_text ltx_font_italic" id="S2.p3.1.3">graph database</span>, or <span class="ltx_text ltx_font_italic" id="S2.p3.1.4">GDB</span> hereafter.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>DQA: Decision QA benchmark</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Locating scenario</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">The database in this scenario is composed of the following four tables when <math alttext="D" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">italic_D</annotation></semantics></math> is RDB.
It also can be easily represented as GDB by regarding the tuples in TradingFlow and NodeCountry as edges and the tuples in TradingNode and Country as vertices.</p>
</div>
<figure class="ltx_table" id="S3.T1"><img alt="[Uncaptioned image]" class="ltx_graphics ltx_centering ltx_img_square" height="862" id="S3.T1.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>RDB schema for Locating. The <span class="ltx_text ltx_font_bold" id="S3.T1.2.1">bold</span> indicate the columns which values depend on other values and a user decision. Some columns are omitted.
</figcaption>
</figure>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.6">There are some business rules for decision making. The column values in bold are calculated from some other values in the database and a user decision (e.g., location of a merchant) according to the rules. If a user locates a merchant on a trading node for a country, the flow from the trading node to the home node of the country increases.
In the below rules, <math alttext="c" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><mi id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">c</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">italic_c</annotation></semantics></math> is a country, <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><mi id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">italic_n</annotation></semantics></math> a trading node, <span class="ltx_text ltx_font_italic" id="S3.SS1.p2.6.1">src</span> a source node, <span class="ltx_text ltx_font_italic" id="S3.SS1.p2.6.2">dest</span> a destination node, and <math alttext="h" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.1"><semantics id="S3.SS1.p2.3.m3.1a"><mi id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">h</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">ℎ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">h</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.1d">italic_h</annotation></semantics></math> the home node of <math alttext="c" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1"><semantics id="S3.SS1.p2.4.m4.1a"><mi id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">c</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.4.m4.1d">italic_c</annotation></semantics></math>.
We also denote the set of countries as <math alttext="C" class="ltx_Math" display="inline" id="S3.SS1.p2.5.m5.1"><semantics id="S3.SS1.p2.5.m5.1a"><mi id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><ci id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.5.m5.1d">italic_C</annotation></semantics></math>, and the set of TradingFlow tuples as <math alttext="F" class="ltx_Math" display="inline" id="S3.SS1.p2.6.m6.1"><semantics id="S3.SS1.p2.6.m6.1a"><mi id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml">F</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b"><ci id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">𝐹</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">F</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.6.m6.1d">italic_F</annotation></semantics></math>. TPR means Trading Power Ratio.</p>
</div>
<div class="ltx_para" id="S3.SS1.p3">
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A1.EGx1">
<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle TPR(n,c)=TP_{\textit{country}}(n,c)/TP_{\textit{total}}(n)" class="ltx_Math" display="inline" id="S3.E1.m1.5"><semantics id="S3.E1.m1.5a"><mrow id="S3.E1.m1.5.6" xref="S3.E1.m1.5.6.cmml"><mrow id="S3.E1.m1.5.6.2" xref="S3.E1.m1.5.6.2.cmml"><mi id="S3.E1.m1.5.6.2.2" xref="S3.E1.m1.5.6.2.2.cmml">T</mi><mo id="S3.E1.m1.5.6.2.1" xref="S3.E1.m1.5.6.2.1.cmml">⁢</mo><mi id="S3.E1.m1.5.6.2.3" xref="S3.E1.m1.5.6.2.3.cmml">P</mi><mo id="S3.E1.m1.5.6.2.1a" xref="S3.E1.m1.5.6.2.1.cmml">⁢</mo><mi id="S3.E1.m1.5.6.2.4" xref="S3.E1.m1.5.6.2.4.cmml">R</mi><mo id="S3.E1.m1.5.6.2.1b" xref="S3.E1.m1.5.6.2.1.cmml">⁢</mo><mrow id="S3.E1.m1.5.6.2.5.2" xref="S3.E1.m1.5.6.2.5.1.cmml"><mo id="S3.E1.m1.5.6.2.5.2.1" stretchy="false" xref="S3.E1.m1.5.6.2.5.1.cmml">(</mo><mi id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml">n</mi><mo id="S3.E1.m1.5.6.2.5.2.2" xref="S3.E1.m1.5.6.2.5.1.cmml">,</mo><mi id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">c</mi><mo id="S3.E1.m1.5.6.2.5.2.3" stretchy="false" xref="S3.E1.m1.5.6.2.5.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.5.6.1" xref="S3.E1.m1.5.6.1.cmml">=</mo><mrow id="S3.E1.m1.5.6.3" xref="S3.E1.m1.5.6.3.cmml"><mrow id="S3.E1.m1.5.6.3.2" xref="S3.E1.m1.5.6.3.2.cmml"><mrow id="S3.E1.m1.5.6.3.2.2" xref="S3.E1.m1.5.6.3.2.2.cmml"><mi id="S3.E1.m1.5.6.3.2.2.2" xref="S3.E1.m1.5.6.3.2.2.2.cmml">T</mi><mo id="S3.E1.m1.5.6.3.2.2.1" xref="S3.E1.m1.5.6.3.2.2.1.cmml">⁢</mo><msub id="S3.E1.m1.5.6.3.2.2.3" xref="S3.E1.m1.5.6.3.2.2.3.cmml"><mi id="S3.E1.m1.5.6.3.2.2.3.2" xref="S3.E1.m1.5.6.3.2.2.3.2.cmml">P</mi><mtext class="ltx_mathvariant_italic" id="S3.E1.m1.5.6.3.2.2.3.3" xref="S3.E1.m1.5.6.3.2.2.3.3a.cmml">country</mtext></msub><mo id="S3.E1.m1.5.6.3.2.2.1a" xref="S3.E1.m1.5.6.3.2.2.1.cmml">⁢</mo><mrow id="S3.E1.m1.5.6.3.2.2.4.2" xref="S3.E1.m1.5.6.3.2.2.4.1.cmml"><mo id="S3.E1.m1.5.6.3.2.2.4.2.1" stretchy="false" xref="S3.E1.m1.5.6.3.2.2.4.1.cmml">(</mo><mi id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml">n</mi><mo id="S3.E1.m1.5.6.3.2.2.4.2.2" xref="S3.E1.m1.5.6.3.2.2.4.1.cmml">,</mo><mi id="S3.E1.m1.4.4" xref="S3.E1.m1.4.4.cmml">c</mi><mo id="S3.E1.m1.5.6.3.2.2.4.2.3" stretchy="false" xref="S3.E1.m1.5.6.3.2.2.4.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.5.6.3.2.1" xref="S3.E1.m1.5.6.3.2.1.cmml">/</mo><mi id="S3.E1.m1.5.6.3.2.3" xref="S3.E1.m1.5.6.3.2.3.cmml">T</mi></mrow><mo id="S3.E1.m1.5.6.3.1" xref="S3.E1.m1.5.6.3.1.cmml">⁢</mo><msub id="S3.E1.m1.5.6.3.3" xref="S3.E1.m1.5.6.3.3.cmml"><mi id="S3.E1.m1.5.6.3.3.2" xref="S3.E1.m1.5.6.3.3.2.cmml">P</mi><mtext class="ltx_mathvariant_italic" id="S3.E1.m1.5.6.3.3.3" xref="S3.E1.m1.5.6.3.3.3a.cmml">total</mtext></msub><mo id="S3.E1.m1.5.6.3.1a" xref="S3.E1.m1.5.6.3.1.cmml">⁢</mo><mrow id="S3.E1.m1.5.6.3.4.2" xref="S3.E1.m1.5.6.3.cmml"><mo id="S3.E1.m1.5.6.3.4.2.1" stretchy="false" xref="S3.E1.m1.5.6.3.cmml">(</mo><mi id="S3.E1.m1.5.5" xref="S3.E1.m1.5.5.cmml">n</mi><mo id="S3.E1.m1.5.6.3.4.2.2" stretchy="false" xref="S3.E1.m1.5.6.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.5b"><apply id="S3.E1.m1.5.6.cmml" xref="S3.E1.m1.5.6"><eq id="S3.E1.m1.5.6.1.cmml" xref="S3.E1.m1.5.6.1"></eq><apply id="S3.E1.m1.5.6.2.cmml" xref="S3.E1.m1.5.6.2"><times id="S3.E1.m1.5.6.2.1.cmml" xref="S3.E1.m1.5.6.2.1"></times><ci id="S3.E1.m1.5.6.2.2.cmml" xref="S3.E1.m1.5.6.2.2">𝑇</ci><ci id="S3.E1.m1.5.6.2.3.cmml" xref="S3.E1.m1.5.6.2.3">𝑃</ci><ci id="S3.E1.m1.5.6.2.4.cmml" xref="S3.E1.m1.5.6.2.4">𝑅</ci><interval closure="open" id="S3.E1.m1.5.6.2.5.1.cmml" xref="S3.E1.m1.5.6.2.5.2"><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">𝑛</ci><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">𝑐</ci></interval></apply><apply id="S3.E1.m1.5.6.3.cmml" xref="S3.E1.m1.5.6.3"><times id="S3.E1.m1.5.6.3.1.cmml" xref="S3.E1.m1.5.6.3.1"></times><apply id="S3.E1.m1.5.6.3.2.cmml" xref="S3.E1.m1.5.6.3.2"><divide id="S3.E1.m1.5.6.3.2.1.cmml" xref="S3.E1.m1.5.6.3.2.1"></divide><apply id="S3.E1.m1.5.6.3.2.2.cmml" xref="S3.E1.m1.5.6.3.2.2"><times id="S3.E1.m1.5.6.3.2.2.1.cmml" xref="S3.E1.m1.5.6.3.2.2.1"></times><ci id="S3.E1.m1.5.6.3.2.2.2.cmml" xref="S3.E1.m1.5.6.3.2.2.2">𝑇</ci><apply id="S3.E1.m1.5.6.3.2.2.3.cmml" xref="S3.E1.m1.5.6.3.2.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.5.6.3.2.2.3.1.cmml" xref="S3.E1.m1.5.6.3.2.2.3">subscript</csymbol><ci id="S3.E1.m1.5.6.3.2.2.3.2.cmml" xref="S3.E1.m1.5.6.3.2.2.3.2">𝑃</ci><ci id="S3.E1.m1.5.6.3.2.2.3.3a.cmml" xref="S3.E1.m1.5.6.3.2.2.3.3"><mtext class="ltx_mathvariant_italic" id="S3.E1.m1.5.6.3.2.2.3.3.cmml" mathsize="70%" xref="S3.E1.m1.5.6.3.2.2.3.3">country</mtext></ci></apply><interval closure="open" id="S3.E1.m1.5.6.3.2.2.4.1.cmml" xref="S3.E1.m1.5.6.3.2.2.4.2"><ci id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3">𝑛</ci><ci id="S3.E1.m1.4.4.cmml" xref="S3.E1.m1.4.4">𝑐</ci></interval></apply><ci id="S3.E1.m1.5.6.3.2.3.cmml" xref="S3.E1.m1.5.6.3.2.3">𝑇</ci></apply><apply id="S3.E1.m1.5.6.3.3.cmml" xref="S3.E1.m1.5.6.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.5.6.3.3.1.cmml" xref="S3.E1.m1.5.6.3.3">subscript</csymbol><ci id="S3.E1.m1.5.6.3.3.2.cmml" xref="S3.E1.m1.5.6.3.3.2">𝑃</ci><ci id="S3.E1.m1.5.6.3.3.3a.cmml" xref="S3.E1.m1.5.6.3.3.3"><mtext class="ltx_mathvariant_italic" id="S3.E1.m1.5.6.3.3.3.cmml" mathsize="70%" xref="S3.E1.m1.5.6.3.3.3">total</mtext></ci></apply><ci id="S3.E1.m1.5.5.cmml" xref="S3.E1.m1.5.5">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.5c">\displaystyle TPR(n,c)=TP_{\textit{country}}(n,c)/TP_{\textit{total}}(n)</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.5d">italic_T italic_P italic_R ( italic_n , italic_c ) = italic_T italic_P start_POSTSUBSCRIPT country end_POSTSUBSCRIPT ( italic_n , italic_c ) / italic_T italic_P start_POSTSUBSCRIPT total end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle IV(\textit{dest})=1.05\cdot\Sigma_{(\textit{src},\textit{dest})%
\in\text{F}}\textit{flow}(\textit{src},\textit{dest})" class="ltx_Math" display="inline" id="S3.E2.m1.5"><semantics id="S3.E2.m1.5a"><mrow id="S3.E2.m1.5.6" xref="S3.E2.m1.5.6.cmml"><mrow id="S3.E2.m1.5.6.2" xref="S3.E2.m1.5.6.2.cmml"><mi id="S3.E2.m1.5.6.2.2" xref="S3.E2.m1.5.6.2.2.cmml">I</mi><mo id="S3.E2.m1.5.6.2.1" xref="S3.E2.m1.5.6.2.1.cmml">⁢</mo><mi id="S3.E2.m1.5.6.2.3" xref="S3.E2.m1.5.6.2.3.cmml">V</mi><mo id="S3.E2.m1.5.6.2.1a" xref="S3.E2.m1.5.6.2.1.cmml">⁢</mo><mrow id="S3.E2.m1.5.6.2.4.2" xref="S3.E2.m1.3.3a.cmml"><mo id="S3.E2.m1.5.6.2.4.2.1" stretchy="false" xref="S3.E2.m1.3.3a.cmml">(</mo><mtext class="ltx_mathvariant_italic" id="S3.E2.m1.3.3" xref="S3.E2.m1.3.3.cmml">dest</mtext><mo id="S3.E2.m1.5.6.2.4.2.2" stretchy="false" xref="S3.E2.m1.3.3a.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.5.6.1" xref="S3.E2.m1.5.6.1.cmml">=</mo><mrow id="S3.E2.m1.5.6.3" xref="S3.E2.m1.5.6.3.cmml"><mrow id="S3.E2.m1.5.6.3.2" xref="S3.E2.m1.5.6.3.2.cmml"><mn id="S3.E2.m1.5.6.3.2.2" xref="S3.E2.m1.5.6.3.2.2.cmml">1.05</mn><mo id="S3.E2.m1.5.6.3.2.1" lspace="0.222em" rspace="0.222em" xref="S3.E2.m1.5.6.3.2.1.cmml">⋅</mo><msub id="S3.E2.m1.5.6.3.2.3" xref="S3.E2.m1.5.6.3.2.3.cmml"><mi id="S3.E2.m1.5.6.3.2.3.2" mathvariant="normal" xref="S3.E2.m1.5.6.3.2.3.2.cmml">Σ</mi><mrow id="S3.E2.m1.2.2.2" xref="S3.E2.m1.2.2.2.cmml"><mrow id="S3.E2.m1.2.2.2.4.2" xref="S3.E2.m1.2.2.2.4.1.cmml"><mo id="S3.E2.m1.2.2.2.4.2.1" stretchy="false" xref="S3.E2.m1.2.2.2.4.1.cmml">(</mo><mtext class="ltx_mathvariant_italic" id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.1a.cmml">src</mtext><mo id="S3.E2.m1.2.2.2.4.2.2" xref="S3.E2.m1.2.2.2.4.1.cmml">,</mo><mtext class="ltx_mathvariant_italic" id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.2a.cmml">dest</mtext><mo id="S3.E2.m1.2.2.2.4.2.3" stretchy="false" xref="S3.E2.m1.2.2.2.4.1.cmml">)</mo></mrow><mo id="S3.E2.m1.2.2.2.3" xref="S3.E2.m1.2.2.2.3.cmml">∈</mo><mtext id="S3.E2.m1.2.2.2.5" xref="S3.E2.m1.2.2.2.5a.cmml">F</mtext></mrow></msub></mrow><mo id="S3.E2.m1.5.6.3.1" xref="S3.E2.m1.5.6.3.1.cmml">⁢</mo><mtext class="ltx_mathvariant_italic" id="S3.E2.m1.5.6.3.3" xref="S3.E2.m1.5.6.3.3a.cmml">flow</mtext><mo id="S3.E2.m1.5.6.3.1a" xref="S3.E2.m1.5.6.3.1.cmml">⁢</mo><mrow id="S3.E2.m1.5.6.3.4.2" xref="S3.E2.m1.5.6.3.4.1.cmml"><mo id="S3.E2.m1.5.6.3.4.2.1" stretchy="false" xref="S3.E2.m1.5.6.3.4.1.cmml">(</mo><mtext class="ltx_mathvariant_italic" id="S3.E2.m1.4.4" xref="S3.E2.m1.4.4a.cmml">src</mtext><mo id="S3.E2.m1.5.6.3.4.2.2" xref="S3.E2.m1.5.6.3.4.1.cmml">,</mo><mtext class="ltx_mathvariant_italic" id="S3.E2.m1.5.5" xref="S3.E2.m1.5.5a.cmml">dest</mtext><mo id="S3.E2.m1.5.6.3.4.2.3" stretchy="false" xref="S3.E2.m1.5.6.3.4.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.5b"><apply id="S3.E2.m1.5.6.cmml" xref="S3.E2.m1.5.6"><eq id="S3.E2.m1.5.6.1.cmml" xref="S3.E2.m1.5.6.1"></eq><apply id="S3.E2.m1.5.6.2.cmml" xref="S3.E2.m1.5.6.2"><times id="S3.E2.m1.5.6.2.1.cmml" xref="S3.E2.m1.5.6.2.1"></times><ci id="S3.E2.m1.5.6.2.2.cmml" xref="S3.E2.m1.5.6.2.2">𝐼</ci><ci id="S3.E2.m1.5.6.2.3.cmml" xref="S3.E2.m1.5.6.2.3">𝑉</ci><ci id="S3.E2.m1.3.3a.cmml" xref="S3.E2.m1.5.6.2.4.2"><mtext class="ltx_mathvariant_italic" id="S3.E2.m1.3.3.cmml" xref="S3.E2.m1.3.3">dest</mtext></ci></apply><apply id="S3.E2.m1.5.6.3.cmml" xref="S3.E2.m1.5.6.3"><times id="S3.E2.m1.5.6.3.1.cmml" xref="S3.E2.m1.5.6.3.1"></times><apply id="S3.E2.m1.5.6.3.2.cmml" xref="S3.E2.m1.5.6.3.2"><ci id="S3.E2.m1.5.6.3.2.1.cmml" xref="S3.E2.m1.5.6.3.2.1">⋅</ci><cn id="S3.E2.m1.5.6.3.2.2.cmml" type="float" xref="S3.E2.m1.5.6.3.2.2">1.05</cn><apply id="S3.E2.m1.5.6.3.2.3.cmml" xref="S3.E2.m1.5.6.3.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.5.6.3.2.3.1.cmml" xref="S3.E2.m1.5.6.3.2.3">subscript</csymbol><ci id="S3.E2.m1.5.6.3.2.3.2.cmml" xref="S3.E2.m1.5.6.3.2.3.2">Σ</ci><apply id="S3.E2.m1.2.2.2.cmml" xref="S3.E2.m1.2.2.2"><in id="S3.E2.m1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.3"></in><interval closure="open" id="S3.E2.m1.2.2.2.4.1.cmml" xref="S3.E2.m1.2.2.2.4.2"><ci id="S3.E2.m1.1.1.1.1a.cmml" xref="S3.E2.m1.1.1.1.1"><mtext class="ltx_mathvariant_italic" id="S3.E2.m1.1.1.1.1.cmml" mathsize="70%" xref="S3.E2.m1.1.1.1.1">src</mtext></ci><ci id="S3.E2.m1.2.2.2.2a.cmml" xref="S3.E2.m1.2.2.2.2"><mtext class="ltx_mathvariant_italic" id="S3.E2.m1.2.2.2.2.cmml" mathsize="70%" xref="S3.E2.m1.2.2.2.2">dest</mtext></ci></interval><ci id="S3.E2.m1.2.2.2.5a.cmml" xref="S3.E2.m1.2.2.2.5"><mtext id="S3.E2.m1.2.2.2.5.cmml" mathsize="70%" xref="S3.E2.m1.2.2.2.5">F</mtext></ci></apply></apply></apply><ci id="S3.E2.m1.5.6.3.3a.cmml" xref="S3.E2.m1.5.6.3.3"><mtext class="ltx_mathvariant_italic" id="S3.E2.m1.5.6.3.3.cmml" xref="S3.E2.m1.5.6.3.3">flow</mtext></ci><interval closure="open" id="S3.E2.m1.5.6.3.4.1.cmml" xref="S3.E2.m1.5.6.3.4.2"><ci id="S3.E2.m1.4.4a.cmml" xref="S3.E2.m1.4.4"><mtext class="ltx_mathvariant_italic" id="S3.E2.m1.4.4.cmml" xref="S3.E2.m1.4.4">src</mtext></ci><ci id="S3.E2.m1.5.5a.cmml" xref="S3.E2.m1.5.5"><mtext class="ltx_mathvariant_italic" id="S3.E2.m1.5.5.cmml" xref="S3.E2.m1.5.5">dest</mtext></ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.5c">\displaystyle IV(\textit{dest})=1.05\cdot\Sigma_{(\textit{src},\textit{dest})%
\in\text{F}}\textit{flow}(\textit{src},\textit{dest})</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.5d">italic_I italic_V ( dest ) = 1.05 ⋅ roman_Σ start_POSTSUBSCRIPT ( src , dest ) ∈ F end_POSTSUBSCRIPT flow ( src , dest )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\textit{profit}(c)=(LV(h)+IV(h))\cdot TPR(h,c)" class="ltx_Math" display="inline" id="S3.E3.m1.6"><semantics id="S3.E3.m1.6a"><mrow id="S3.E3.m1.6.6" xref="S3.E3.m1.6.6.cmml"><mrow id="S3.E3.m1.6.6.3" xref="S3.E3.m1.6.6.3.cmml"><mtext class="ltx_mathvariant_italic" id="S3.E3.m1.6.6.3.2" xref="S3.E3.m1.6.6.3.2a.cmml">profit</mtext><mo id="S3.E3.m1.6.6.3.1" xref="S3.E3.m1.6.6.3.1.cmml">⁢</mo><mrow id="S3.E3.m1.6.6.3.3.2" xref="S3.E3.m1.6.6.3.cmml"><mo id="S3.E3.m1.6.6.3.3.2.1" stretchy="false" xref="S3.E3.m1.6.6.3.cmml">(</mo><mi id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml">c</mi><mo id="S3.E3.m1.6.6.3.3.2.2" stretchy="false" xref="S3.E3.m1.6.6.3.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.6.6.2" xref="S3.E3.m1.6.6.2.cmml">=</mo><mrow id="S3.E3.m1.6.6.1" xref="S3.E3.m1.6.6.1.cmml"><mrow id="S3.E3.m1.6.6.1.1" xref="S3.E3.m1.6.6.1.1.cmml"><mrow id="S3.E3.m1.6.6.1.1.1.1" xref="S3.E3.m1.6.6.1.1.1.1.1.cmml"><mo id="S3.E3.m1.6.6.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.6.6.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.6.6.1.1.1.1.1" xref="S3.E3.m1.6.6.1.1.1.1.1.cmml"><mrow id="S3.E3.m1.6.6.1.1.1.1.1.2" xref="S3.E3.m1.6.6.1.1.1.1.1.2.cmml"><mi id="S3.E3.m1.6.6.1.1.1.1.1.2.2" xref="S3.E3.m1.6.6.1.1.1.1.1.2.2.cmml">L</mi><mo id="S3.E3.m1.6.6.1.1.1.1.1.2.1" xref="S3.E3.m1.6.6.1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S3.E3.m1.6.6.1.1.1.1.1.2.3" xref="S3.E3.m1.6.6.1.1.1.1.1.2.3.cmml">V</mi><mo id="S3.E3.m1.6.6.1.1.1.1.1.2.1a" xref="S3.E3.m1.6.6.1.1.1.1.1.2.1.cmml">⁢</mo><mrow id="S3.E3.m1.6.6.1.1.1.1.1.2.4.2" xref="S3.E3.m1.6.6.1.1.1.1.1.2.cmml"><mo id="S3.E3.m1.6.6.1.1.1.1.1.2.4.2.1" stretchy="false" xref="S3.E3.m1.6.6.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml">h</mi><mo id="S3.E3.m1.6.6.1.1.1.1.1.2.4.2.2" stretchy="false" xref="S3.E3.m1.6.6.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.6.6.1.1.1.1.1.1" xref="S3.E3.m1.6.6.1.1.1.1.1.1.cmml">+</mo><mrow id="S3.E3.m1.6.6.1.1.1.1.1.3" xref="S3.E3.m1.6.6.1.1.1.1.1.3.cmml"><mi id="S3.E3.m1.6.6.1.1.1.1.1.3.2" xref="S3.E3.m1.6.6.1.1.1.1.1.3.2.cmml">I</mi><mo id="S3.E3.m1.6.6.1.1.1.1.1.3.1" xref="S3.E3.m1.6.6.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E3.m1.6.6.1.1.1.1.1.3.3" xref="S3.E3.m1.6.6.1.1.1.1.1.3.3.cmml">V</mi><mo id="S3.E3.m1.6.6.1.1.1.1.1.3.1a" xref="S3.E3.m1.6.6.1.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S3.E3.m1.6.6.1.1.1.1.1.3.4.2" xref="S3.E3.m1.6.6.1.1.1.1.1.3.cmml"><mo id="S3.E3.m1.6.6.1.1.1.1.1.3.4.2.1" stretchy="false" xref="S3.E3.m1.6.6.1.1.1.1.1.3.cmml">(</mo><mi id="S3.E3.m1.3.3" xref="S3.E3.m1.3.3.cmml">h</mi><mo id="S3.E3.m1.6.6.1.1.1.1.1.3.4.2.2" stretchy="false" xref="S3.E3.m1.6.6.1.1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E3.m1.6.6.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S3.E3.m1.6.6.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E3.m1.6.6.1.1.2" rspace="0.222em" xref="S3.E3.m1.6.6.1.1.2.cmml">⋅</mo><mi id="S3.E3.m1.6.6.1.1.3" xref="S3.E3.m1.6.6.1.1.3.cmml">T</mi></mrow><mo id="S3.E3.m1.6.6.1.2" xref="S3.E3.m1.6.6.1.2.cmml">⁢</mo><mi id="S3.E3.m1.6.6.1.3" xref="S3.E3.m1.6.6.1.3.cmml">P</mi><mo id="S3.E3.m1.6.6.1.2a" xref="S3.E3.m1.6.6.1.2.cmml">⁢</mo><mi id="S3.E3.m1.6.6.1.4" xref="S3.E3.m1.6.6.1.4.cmml">R</mi><mo id="S3.E3.m1.6.6.1.2b" xref="S3.E3.m1.6.6.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.6.6.1.5.2" xref="S3.E3.m1.6.6.1.5.1.cmml"><mo id="S3.E3.m1.6.6.1.5.2.1" stretchy="false" xref="S3.E3.m1.6.6.1.5.1.cmml">(</mo><mi id="S3.E3.m1.4.4" xref="S3.E3.m1.4.4.cmml">h</mi><mo id="S3.E3.m1.6.6.1.5.2.2" xref="S3.E3.m1.6.6.1.5.1.cmml">,</mo><mi id="S3.E3.m1.5.5" xref="S3.E3.m1.5.5.cmml">c</mi><mo id="S3.E3.m1.6.6.1.5.2.3" stretchy="false" xref="S3.E3.m1.6.6.1.5.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.6b"><apply id="S3.E3.m1.6.6.cmml" xref="S3.E3.m1.6.6"><eq id="S3.E3.m1.6.6.2.cmml" xref="S3.E3.m1.6.6.2"></eq><apply id="S3.E3.m1.6.6.3.cmml" xref="S3.E3.m1.6.6.3"><times id="S3.E3.m1.6.6.3.1.cmml" xref="S3.E3.m1.6.6.3.1"></times><ci id="S3.E3.m1.6.6.3.2a.cmml" xref="S3.E3.m1.6.6.3.2"><mtext class="ltx_mathvariant_italic" id="S3.E3.m1.6.6.3.2.cmml" xref="S3.E3.m1.6.6.3.2">profit</mtext></ci><ci id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1">𝑐</ci></apply><apply id="S3.E3.m1.6.6.1.cmml" xref="S3.E3.m1.6.6.1"><times id="S3.E3.m1.6.6.1.2.cmml" xref="S3.E3.m1.6.6.1.2"></times><apply id="S3.E3.m1.6.6.1.1.cmml" xref="S3.E3.m1.6.6.1.1"><ci id="S3.E3.m1.6.6.1.1.2.cmml" xref="S3.E3.m1.6.6.1.1.2">⋅</ci><apply id="S3.E3.m1.6.6.1.1.1.1.1.cmml" xref="S3.E3.m1.6.6.1.1.1.1"><plus id="S3.E3.m1.6.6.1.1.1.1.1.1.cmml" xref="S3.E3.m1.6.6.1.1.1.1.1.1"></plus><apply id="S3.E3.m1.6.6.1.1.1.1.1.2.cmml" xref="S3.E3.m1.6.6.1.1.1.1.1.2"><times id="S3.E3.m1.6.6.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.6.6.1.1.1.1.1.2.1"></times><ci id="S3.E3.m1.6.6.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.6.6.1.1.1.1.1.2.2">𝐿</ci><ci id="S3.E3.m1.6.6.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.6.6.1.1.1.1.1.2.3">𝑉</ci><ci id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2">ℎ</ci></apply><apply id="S3.E3.m1.6.6.1.1.1.1.1.3.cmml" xref="S3.E3.m1.6.6.1.1.1.1.1.3"><times id="S3.E3.m1.6.6.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.6.6.1.1.1.1.1.3.1"></times><ci id="S3.E3.m1.6.6.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.6.6.1.1.1.1.1.3.2">𝐼</ci><ci id="S3.E3.m1.6.6.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.6.6.1.1.1.1.1.3.3">𝑉</ci><ci id="S3.E3.m1.3.3.cmml" xref="S3.E3.m1.3.3">ℎ</ci></apply></apply><ci id="S3.E3.m1.6.6.1.1.3.cmml" xref="S3.E3.m1.6.6.1.1.3">𝑇</ci></apply><ci id="S3.E3.m1.6.6.1.3.cmml" xref="S3.E3.m1.6.6.1.3">𝑃</ci><ci id="S3.E3.m1.6.6.1.4.cmml" xref="S3.E3.m1.6.6.1.4">𝑅</ci><interval closure="open" id="S3.E3.m1.6.6.1.5.1.cmml" xref="S3.E3.m1.6.6.1.5.2"><ci id="S3.E3.m1.4.4.cmml" xref="S3.E3.m1.4.4">ℎ</ci><ci id="S3.E3.m1.5.5.cmml" xref="S3.E3.m1.5.5">𝑐</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.6c">\displaystyle\textit{profit}(c)=(LV(h)+IV(h))\cdot TPR(h,c)</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.6d">profit ( italic_c ) = ( italic_L italic_V ( italic_h ) + italic_I italic_V ( italic_h ) ) ⋅ italic_T italic_P italic_R ( italic_h , italic_c )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.p4">
<p class="ltx_p" id="S3.SS1.p4.2">In this scenario, the goal of decision making is to choose trading node that can maximize <math alttext="\Delta\textit{profit}(c)" class="ltx_Math" display="inline" id="S3.SS1.p4.1.m1.1"><semantics id="S3.SS1.p4.1.m1.1a"><mrow id="S3.SS1.p4.1.m1.1.2" xref="S3.SS1.p4.1.m1.1.2.cmml"><mi id="S3.SS1.p4.1.m1.1.2.2" mathvariant="normal" xref="S3.SS1.p4.1.m1.1.2.2.cmml">Δ</mi><mo id="S3.SS1.p4.1.m1.1.2.1" xref="S3.SS1.p4.1.m1.1.2.1.cmml">⁢</mo><mtext class="ltx_mathvariant_italic" id="S3.SS1.p4.1.m1.1.2.3" xref="S3.SS1.p4.1.m1.1.2.3a.cmml">profit</mtext><mo id="S3.SS1.p4.1.m1.1.2.1a" xref="S3.SS1.p4.1.m1.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.p4.1.m1.1.2.4.2" xref="S3.SS1.p4.1.m1.1.2.cmml"><mo id="S3.SS1.p4.1.m1.1.2.4.2.1" stretchy="false" xref="S3.SS1.p4.1.m1.1.2.cmml">(</mo><mi id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml">c</mi><mo id="S3.SS1.p4.1.m1.1.2.4.2.2" stretchy="false" xref="S3.SS1.p4.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.1b"><apply id="S3.SS1.p4.1.m1.1.2.cmml" xref="S3.SS1.p4.1.m1.1.2"><times id="S3.SS1.p4.1.m1.1.2.1.cmml" xref="S3.SS1.p4.1.m1.1.2.1"></times><ci id="S3.SS1.p4.1.m1.1.2.2.cmml" xref="S3.SS1.p4.1.m1.1.2.2">Δ</ci><ci id="S3.SS1.p4.1.m1.1.2.3a.cmml" xref="S3.SS1.p4.1.m1.1.2.3"><mtext class="ltx_mathvariant_italic" id="S3.SS1.p4.1.m1.1.2.3.cmml" xref="S3.SS1.p4.1.m1.1.2.3">profit</mtext></ci><ci id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.1c">\Delta\textit{profit}(c)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.1.m1.1d">roman_Δ profit ( italic_c )</annotation></semantics></math> of the given target country <math alttext="c" class="ltx_Math" display="inline" id="S3.SS1.p4.2.m2.1"><semantics id="S3.SS1.p4.2.m2.1a"><mi id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.1b"><ci id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.1c">c</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.2.m2.1d">italic_c</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Building scenario</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.2">The database <math alttext="D" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">italic_D</annotation></semantics></math> in this scenario is composed of the following four tables when <math alttext="D" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><mi id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.1d">italic_D</annotation></semantics></math> is RDB.
It also can be easily represented as GDB by regarding the tuples in Demand and Supply as edges and the tuples in Goods and Buildings as vertices.</p>
</div>
<figure class="ltx_table" id="S3.T2"><img alt="[Uncaptioned image]" class="ltx_graphics ltx_centering ltx_img_square" height="862" id="S3.T2.g1" src="x3.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>
RDB schema for Building. Some columns are omitted.
</figcaption>
</figure>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="1259" id="S3.F2.g1" src="x4.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>
Example of the Building scenario. The red, green, and blue circles indicate furniture, wood, and hardwood, respectively. We assume that the goal is reducing the price of furniture by deciding the factory between B1 and B2 to expand and so increase its production.
</figcaption>
</figure>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.7">The most basic business rule is that <math alttext="CO(g,b)" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.2"><semantics id="S3.SS2.p2.1.m1.2a"><mrow id="S3.SS2.p2.1.m1.2.3" xref="S3.SS2.p2.1.m1.2.3.cmml"><mi id="S3.SS2.p2.1.m1.2.3.2" xref="S3.SS2.p2.1.m1.2.3.2.cmml">C</mi><mo id="S3.SS2.p2.1.m1.2.3.1" xref="S3.SS2.p2.1.m1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.1.m1.2.3.3" xref="S3.SS2.p2.1.m1.2.3.3.cmml">O</mi><mo id="S3.SS2.p2.1.m1.2.3.1a" xref="S3.SS2.p2.1.m1.2.3.1.cmml">⁢</mo><mrow id="S3.SS2.p2.1.m1.2.3.4.2" xref="S3.SS2.p2.1.m1.2.3.4.1.cmml"><mo id="S3.SS2.p2.1.m1.2.3.4.2.1" stretchy="false" xref="S3.SS2.p2.1.m1.2.3.4.1.cmml">(</mo><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">g</mi><mo id="S3.SS2.p2.1.m1.2.3.4.2.2" xref="S3.SS2.p2.1.m1.2.3.4.1.cmml">,</mo><mi id="S3.SS2.p2.1.m1.2.2" xref="S3.SS2.p2.1.m1.2.2.cmml">b</mi><mo id="S3.SS2.p2.1.m1.2.3.4.2.3" stretchy="false" xref="S3.SS2.p2.1.m1.2.3.4.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.2b"><apply id="S3.SS2.p2.1.m1.2.3.cmml" xref="S3.SS2.p2.1.m1.2.3"><times id="S3.SS2.p2.1.m1.2.3.1.cmml" xref="S3.SS2.p2.1.m1.2.3.1"></times><ci id="S3.SS2.p2.1.m1.2.3.2.cmml" xref="S3.SS2.p2.1.m1.2.3.2">𝐶</ci><ci id="S3.SS2.p2.1.m1.2.3.3.cmml" xref="S3.SS2.p2.1.m1.2.3.3">𝑂</ci><interval closure="open" id="S3.SS2.p2.1.m1.2.3.4.1.cmml" xref="S3.SS2.p2.1.m1.2.3.4.2"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝑔</ci><ci id="S3.SS2.p2.1.m1.2.2.cmml" xref="S3.SS2.p2.1.m1.2.2">𝑏</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.2c">CO(g,b)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.2d">italic_C italic_O ( italic_g , italic_b )</annotation></semantics></math> increases for any goods <math alttext="g" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">g</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_g</annotation></semantics></math>, if a decision maker expands the factory building <math alttext="b" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.1"><semantics id="S3.SS2.p2.3.m3.1a"><mi id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><ci id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">b</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.1d">italic_b</annotation></semantics></math>.
In the below rules, <math alttext="g" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m4.1"><semantics id="S3.SS2.p2.4.m4.1a"><mi id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><ci id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">g</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m4.1d">italic_g</annotation></semantics></math> is goods, and <math alttext="b" class="ltx_Math" display="inline" id="S3.SS2.p2.5.m5.1"><semantics id="S3.SS2.p2.5.m5.1a"><mi id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><ci id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">b</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.5.m5.1d">italic_b</annotation></semantics></math> is a building. We also denote the set of Supply as <span class="ltx_text ltx_font_italic" id="S3.SS2.p2.7.1">Sup</span>, and the set of Demand as <span class="ltx_text ltx_font_italic" id="S3.SS2.p2.7.2">Dem</span>. <math alttext="TD" class="ltx_Math" display="inline" id="S3.SS2.p2.6.m6.1"><semantics id="S3.SS2.p2.6.m6.1a"><mrow id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml"><mi id="S3.SS2.p2.6.m6.1.1.2" xref="S3.SS2.p2.6.m6.1.1.2.cmml">T</mi><mo id="S3.SS2.p2.6.m6.1.1.1" xref="S3.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.6.m6.1.1.3" xref="S3.SS2.p2.6.m6.1.1.3.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.1b"><apply id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1"><times id="S3.SS2.p2.6.m6.1.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1.1"></times><ci id="S3.SS2.p2.6.m6.1.1.2.cmml" xref="S3.SS2.p2.6.m6.1.1.2">𝑇</ci><ci id="S3.SS2.p2.6.m6.1.1.3.cmml" xref="S3.SS2.p2.6.m6.1.1.3">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.1c">TD</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.6.m6.1d">italic_T italic_D</annotation></semantics></math> means Total Demand, and <math alttext="TS" class="ltx_Math" display="inline" id="S3.SS2.p2.7.m7.1"><semantics id="S3.SS2.p2.7.m7.1a"><mrow id="S3.SS2.p2.7.m7.1.1" xref="S3.SS2.p2.7.m7.1.1.cmml"><mi id="S3.SS2.p2.7.m7.1.1.2" xref="S3.SS2.p2.7.m7.1.1.2.cmml">T</mi><mo id="S3.SS2.p2.7.m7.1.1.1" xref="S3.SS2.p2.7.m7.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p2.7.m7.1.1.3" xref="S3.SS2.p2.7.m7.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.7.m7.1b"><apply id="S3.SS2.p2.7.m7.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1"><times id="S3.SS2.p2.7.m7.1.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1.1"></times><ci id="S3.SS2.p2.7.m7.1.1.2.cmml" xref="S3.SS2.p2.7.m7.1.1.2">𝑇</ci><ci id="S3.SS2.p2.7.m7.1.1.3.cmml" xref="S3.SS2.p2.7.m7.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m7.1c">TS</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.7.m7.1d">italic_T italic_S</annotation></semantics></math> Total Supply.
Other major business rules are as follow:</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A1.EGx2">
<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle{TD}(g)" class="ltx_Math" display="inline" id="S3.E4.m1.1"><semantics id="S3.E4.m1.1a"><mrow id="S3.E4.m1.1.2" xref="S3.E4.m1.1.2.cmml"><mi id="S3.E4.m1.1.2.2" xref="S3.E4.m1.1.2.2.cmml">T</mi><mo id="S3.E4.m1.1.2.1" xref="S3.E4.m1.1.2.1.cmml">⁢</mo><mi id="S3.E4.m1.1.2.3" xref="S3.E4.m1.1.2.3.cmml">D</mi><mo id="S3.E4.m1.1.2.1a" xref="S3.E4.m1.1.2.1.cmml">⁢</mo><mrow id="S3.E4.m1.1.2.4.2" xref="S3.E4.m1.1.2.cmml"><mo id="S3.E4.m1.1.2.4.2.1" stretchy="false" xref="S3.E4.m1.1.2.cmml">(</mo><mi id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml">g</mi><mo id="S3.E4.m1.1.2.4.2.2" stretchy="false" xref="S3.E4.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.1b"><apply id="S3.E4.m1.1.2.cmml" xref="S3.E4.m1.1.2"><times id="S3.E4.m1.1.2.1.cmml" xref="S3.E4.m1.1.2.1"></times><ci id="S3.E4.m1.1.2.2.cmml" xref="S3.E4.m1.1.2.2">𝑇</ci><ci id="S3.E4.m1.1.2.3.cmml" xref="S3.E4.m1.1.2.3">𝐷</ci><ci id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.1c">\displaystyle{TD}(g)</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.1d">italic_T italic_D ( italic_g )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=PD(g)+\Sigma_{(g,b)\in\textit{Dem}}MD(g,b)" class="ltx_Math" display="inline" id="S3.E4.m2.5"><semantics id="S3.E4.m2.5a"><mrow id="S3.E4.m2.5.6" xref="S3.E4.m2.5.6.cmml"><mi id="S3.E4.m2.5.6.2" xref="S3.E4.m2.5.6.2.cmml"></mi><mo id="S3.E4.m2.5.6.1" xref="S3.E4.m2.5.6.1.cmml">=</mo><mrow id="S3.E4.m2.5.6.3" xref="S3.E4.m2.5.6.3.cmml"><mrow id="S3.E4.m2.5.6.3.2" xref="S3.E4.m2.5.6.3.2.cmml"><mi id="S3.E4.m2.5.6.3.2.2" xref="S3.E4.m2.5.6.3.2.2.cmml">P</mi><mo id="S3.E4.m2.5.6.3.2.1" xref="S3.E4.m2.5.6.3.2.1.cmml">⁢</mo><mi id="S3.E4.m2.5.6.3.2.3" xref="S3.E4.m2.5.6.3.2.3.cmml">D</mi><mo id="S3.E4.m2.5.6.3.2.1a" xref="S3.E4.m2.5.6.3.2.1.cmml">⁢</mo><mrow id="S3.E4.m2.5.6.3.2.4.2" xref="S3.E4.m2.5.6.3.2.cmml"><mo id="S3.E4.m2.5.6.3.2.4.2.1" stretchy="false" xref="S3.E4.m2.5.6.3.2.cmml">(</mo><mi id="S3.E4.m2.3.3" xref="S3.E4.m2.3.3.cmml">g</mi><mo id="S3.E4.m2.5.6.3.2.4.2.2" stretchy="false" xref="S3.E4.m2.5.6.3.2.cmml">)</mo></mrow></mrow><mo id="S3.E4.m2.5.6.3.1" xref="S3.E4.m2.5.6.3.1.cmml">+</mo><mrow id="S3.E4.m2.5.6.3.3" xref="S3.E4.m2.5.6.3.3.cmml"><msub id="S3.E4.m2.5.6.3.3.2" xref="S3.E4.m2.5.6.3.3.2.cmml"><mi id="S3.E4.m2.5.6.3.3.2.2" mathvariant="normal" xref="S3.E4.m2.5.6.3.3.2.2.cmml">Σ</mi><mrow id="S3.E4.m2.2.2.2" xref="S3.E4.m2.2.2.2.cmml"><mrow id="S3.E4.m2.2.2.2.4.2" xref="S3.E4.m2.2.2.2.4.1.cmml"><mo id="S3.E4.m2.2.2.2.4.2.1" stretchy="false" xref="S3.E4.m2.2.2.2.4.1.cmml">(</mo><mi id="S3.E4.m2.1.1.1.1" xref="S3.E4.m2.1.1.1.1.cmml">g</mi><mo id="S3.E4.m2.2.2.2.4.2.2" xref="S3.E4.m2.2.2.2.4.1.cmml">,</mo><mi id="S3.E4.m2.2.2.2.2" xref="S3.E4.m2.2.2.2.2.cmml">b</mi><mo id="S3.E4.m2.2.2.2.4.2.3" stretchy="false" xref="S3.E4.m2.2.2.2.4.1.cmml">)</mo></mrow><mo id="S3.E4.m2.2.2.2.3" xref="S3.E4.m2.2.2.2.3.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="S3.E4.m2.2.2.2.5" xref="S3.E4.m2.2.2.2.5a.cmml">Dem</mtext></mrow></msub><mo id="S3.E4.m2.5.6.3.3.1" xref="S3.E4.m2.5.6.3.3.1.cmml">⁢</mo><mi id="S3.E4.m2.5.6.3.3.3" xref="S3.E4.m2.5.6.3.3.3.cmml">M</mi><mo id="S3.E4.m2.5.6.3.3.1a" xref="S3.E4.m2.5.6.3.3.1.cmml">⁢</mo><mi id="S3.E4.m2.5.6.3.3.4" xref="S3.E4.m2.5.6.3.3.4.cmml">D</mi><mo id="S3.E4.m2.5.6.3.3.1b" xref="S3.E4.m2.5.6.3.3.1.cmml">⁢</mo><mrow id="S3.E4.m2.5.6.3.3.5.2" xref="S3.E4.m2.5.6.3.3.5.1.cmml"><mo id="S3.E4.m2.5.6.3.3.5.2.1" stretchy="false" xref="S3.E4.m2.5.6.3.3.5.1.cmml">(</mo><mi id="S3.E4.m2.4.4" xref="S3.E4.m2.4.4.cmml">g</mi><mo id="S3.E4.m2.5.6.3.3.5.2.2" xref="S3.E4.m2.5.6.3.3.5.1.cmml">,</mo><mi id="S3.E4.m2.5.5" xref="S3.E4.m2.5.5.cmml">b</mi><mo id="S3.E4.m2.5.6.3.3.5.2.3" stretchy="false" xref="S3.E4.m2.5.6.3.3.5.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m2.5b"><apply id="S3.E4.m2.5.6.cmml" xref="S3.E4.m2.5.6"><eq id="S3.E4.m2.5.6.1.cmml" xref="S3.E4.m2.5.6.1"></eq><csymbol cd="latexml" id="S3.E4.m2.5.6.2.cmml" xref="S3.E4.m2.5.6.2">absent</csymbol><apply id="S3.E4.m2.5.6.3.cmml" xref="S3.E4.m2.5.6.3"><plus id="S3.E4.m2.5.6.3.1.cmml" xref="S3.E4.m2.5.6.3.1"></plus><apply id="S3.E4.m2.5.6.3.2.cmml" xref="S3.E4.m2.5.6.3.2"><times id="S3.E4.m2.5.6.3.2.1.cmml" xref="S3.E4.m2.5.6.3.2.1"></times><ci id="S3.E4.m2.5.6.3.2.2.cmml" xref="S3.E4.m2.5.6.3.2.2">𝑃</ci><ci id="S3.E4.m2.5.6.3.2.3.cmml" xref="S3.E4.m2.5.6.3.2.3">𝐷</ci><ci id="S3.E4.m2.3.3.cmml" xref="S3.E4.m2.3.3">𝑔</ci></apply><apply id="S3.E4.m2.5.6.3.3.cmml" xref="S3.E4.m2.5.6.3.3"><times id="S3.E4.m2.5.6.3.3.1.cmml" xref="S3.E4.m2.5.6.3.3.1"></times><apply id="S3.E4.m2.5.6.3.3.2.cmml" xref="S3.E4.m2.5.6.3.3.2"><csymbol cd="ambiguous" id="S3.E4.m2.5.6.3.3.2.1.cmml" xref="S3.E4.m2.5.6.3.3.2">subscript</csymbol><ci id="S3.E4.m2.5.6.3.3.2.2.cmml" xref="S3.E4.m2.5.6.3.3.2.2">Σ</ci><apply id="S3.E4.m2.2.2.2.cmml" xref="S3.E4.m2.2.2.2"><in id="S3.E4.m2.2.2.2.3.cmml" xref="S3.E4.m2.2.2.2.3"></in><interval closure="open" id="S3.E4.m2.2.2.2.4.1.cmml" xref="S3.E4.m2.2.2.2.4.2"><ci id="S3.E4.m2.1.1.1.1.cmml" xref="S3.E4.m2.1.1.1.1">𝑔</ci><ci id="S3.E4.m2.2.2.2.2.cmml" xref="S3.E4.m2.2.2.2.2">𝑏</ci></interval><ci id="S3.E4.m2.2.2.2.5a.cmml" xref="S3.E4.m2.2.2.2.5"><mtext class="ltx_mathvariant_italic" id="S3.E4.m2.2.2.2.5.cmml" mathsize="70%" xref="S3.E4.m2.2.2.2.5">Dem</mtext></ci></apply></apply><ci id="S3.E4.m2.5.6.3.3.3.cmml" xref="S3.E4.m2.5.6.3.3.3">𝑀</ci><ci id="S3.E4.m2.5.6.3.3.4.cmml" xref="S3.E4.m2.5.6.3.3.4">𝐷</ci><interval closure="open" id="S3.E4.m2.5.6.3.3.5.1.cmml" xref="S3.E4.m2.5.6.3.3.5.2"><ci id="S3.E4.m2.4.4.cmml" xref="S3.E4.m2.4.4">𝑔</ci><ci id="S3.E4.m2.5.5.cmml" xref="S3.E4.m2.5.5">𝑏</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m2.5c">\displaystyle=PD(g)+\Sigma_{(g,b)\in\textit{Dem}}MD(g,b)</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m2.5d">= italic_P italic_D ( italic_g ) + roman_Σ start_POSTSUBSCRIPT ( italic_g , italic_b ) ∈ Dem end_POSTSUBSCRIPT italic_M italic_D ( italic_g , italic_b )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle{TS}(g)" class="ltx_Math" display="inline" id="S3.E5.m1.1"><semantics id="S3.E5.m1.1a"><mrow id="S3.E5.m1.1.2" xref="S3.E5.m1.1.2.cmml"><mi id="S3.E5.m1.1.2.2" xref="S3.E5.m1.1.2.2.cmml">T</mi><mo id="S3.E5.m1.1.2.1" xref="S3.E5.m1.1.2.1.cmml">⁢</mo><mi id="S3.E5.m1.1.2.3" xref="S3.E5.m1.1.2.3.cmml">S</mi><mo id="S3.E5.m1.1.2.1a" xref="S3.E5.m1.1.2.1.cmml">⁢</mo><mrow id="S3.E5.m1.1.2.4.2" xref="S3.E5.m1.1.2.cmml"><mo id="S3.E5.m1.1.2.4.2.1" stretchy="false" xref="S3.E5.m1.1.2.cmml">(</mo><mi id="S3.E5.m1.1.1" xref="S3.E5.m1.1.1.cmml">g</mi><mo id="S3.E5.m1.1.2.4.2.2" stretchy="false" xref="S3.E5.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.2.cmml" xref="S3.E5.m1.1.2"><times id="S3.E5.m1.1.2.1.cmml" xref="S3.E5.m1.1.2.1"></times><ci id="S3.E5.m1.1.2.2.cmml" xref="S3.E5.m1.1.2.2">𝑇</ci><ci id="S3.E5.m1.1.2.3.cmml" xref="S3.E5.m1.1.2.3">𝑆</ci><ci id="S3.E5.m1.1.1.cmml" xref="S3.E5.m1.1.1">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">\displaystyle{TS}(g)</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.1d">italic_T italic_S ( italic_g )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\Sigma_{(g,b)\in\textit{Sup}}CO(g,b)" class="ltx_Math" display="inline" id="S3.E5.m2.4"><semantics id="S3.E5.m2.4a"><mrow id="S3.E5.m2.4.5" xref="S3.E5.m2.4.5.cmml"><mi id="S3.E5.m2.4.5.2" xref="S3.E5.m2.4.5.2.cmml"></mi><mo id="S3.E5.m2.4.5.1" xref="S3.E5.m2.4.5.1.cmml">=</mo><mrow id="S3.E5.m2.4.5.3" xref="S3.E5.m2.4.5.3.cmml"><msub id="S3.E5.m2.4.5.3.2" xref="S3.E5.m2.4.5.3.2.cmml"><mi id="S3.E5.m2.4.5.3.2.2" mathvariant="normal" xref="S3.E5.m2.4.5.3.2.2.cmml">Σ</mi><mrow id="S3.E5.m2.2.2.2" xref="S3.E5.m2.2.2.2.cmml"><mrow id="S3.E5.m2.2.2.2.4.2" xref="S3.E5.m2.2.2.2.4.1.cmml"><mo id="S3.E5.m2.2.2.2.4.2.1" stretchy="false" xref="S3.E5.m2.2.2.2.4.1.cmml">(</mo><mi id="S3.E5.m2.1.1.1.1" xref="S3.E5.m2.1.1.1.1.cmml">g</mi><mo id="S3.E5.m2.2.2.2.4.2.2" xref="S3.E5.m2.2.2.2.4.1.cmml">,</mo><mi id="S3.E5.m2.2.2.2.2" xref="S3.E5.m2.2.2.2.2.cmml">b</mi><mo id="S3.E5.m2.2.2.2.4.2.3" stretchy="false" xref="S3.E5.m2.2.2.2.4.1.cmml">)</mo></mrow><mo id="S3.E5.m2.2.2.2.3" xref="S3.E5.m2.2.2.2.3.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="S3.E5.m2.2.2.2.5" xref="S3.E5.m2.2.2.2.5a.cmml">Sup</mtext></mrow></msub><mo id="S3.E5.m2.4.5.3.1" xref="S3.E5.m2.4.5.3.1.cmml">⁢</mo><mi id="S3.E5.m2.4.5.3.3" xref="S3.E5.m2.4.5.3.3.cmml">C</mi><mo id="S3.E5.m2.4.5.3.1a" xref="S3.E5.m2.4.5.3.1.cmml">⁢</mo><mi id="S3.E5.m2.4.5.3.4" xref="S3.E5.m2.4.5.3.4.cmml">O</mi><mo id="S3.E5.m2.4.5.3.1b" xref="S3.E5.m2.4.5.3.1.cmml">⁢</mo><mrow id="S3.E5.m2.4.5.3.5.2" xref="S3.E5.m2.4.5.3.5.1.cmml"><mo id="S3.E5.m2.4.5.3.5.2.1" stretchy="false" xref="S3.E5.m2.4.5.3.5.1.cmml">(</mo><mi id="S3.E5.m2.3.3" xref="S3.E5.m2.3.3.cmml">g</mi><mo id="S3.E5.m2.4.5.3.5.2.2" xref="S3.E5.m2.4.5.3.5.1.cmml">,</mo><mi id="S3.E5.m2.4.4" xref="S3.E5.m2.4.4.cmml">b</mi><mo id="S3.E5.m2.4.5.3.5.2.3" stretchy="false" xref="S3.E5.m2.4.5.3.5.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m2.4b"><apply id="S3.E5.m2.4.5.cmml" xref="S3.E5.m2.4.5"><eq id="S3.E5.m2.4.5.1.cmml" xref="S3.E5.m2.4.5.1"></eq><csymbol cd="latexml" id="S3.E5.m2.4.5.2.cmml" xref="S3.E5.m2.4.5.2">absent</csymbol><apply id="S3.E5.m2.4.5.3.cmml" xref="S3.E5.m2.4.5.3"><times id="S3.E5.m2.4.5.3.1.cmml" xref="S3.E5.m2.4.5.3.1"></times><apply id="S3.E5.m2.4.5.3.2.cmml" xref="S3.E5.m2.4.5.3.2"><csymbol cd="ambiguous" id="S3.E5.m2.4.5.3.2.1.cmml" xref="S3.E5.m2.4.5.3.2">subscript</csymbol><ci id="S3.E5.m2.4.5.3.2.2.cmml" xref="S3.E5.m2.4.5.3.2.2">Σ</ci><apply id="S3.E5.m2.2.2.2.cmml" xref="S3.E5.m2.2.2.2"><in id="S3.E5.m2.2.2.2.3.cmml" xref="S3.E5.m2.2.2.2.3"></in><interval closure="open" id="S3.E5.m2.2.2.2.4.1.cmml" xref="S3.E5.m2.2.2.2.4.2"><ci id="S3.E5.m2.1.1.1.1.cmml" xref="S3.E5.m2.1.1.1.1">𝑔</ci><ci id="S3.E5.m2.2.2.2.2.cmml" xref="S3.E5.m2.2.2.2.2">𝑏</ci></interval><ci id="S3.E5.m2.2.2.2.5a.cmml" xref="S3.E5.m2.2.2.2.5"><mtext class="ltx_mathvariant_italic" id="S3.E5.m2.2.2.2.5.cmml" mathsize="70%" xref="S3.E5.m2.2.2.2.5">Sup</mtext></ci></apply></apply><ci id="S3.E5.m2.4.5.3.3.cmml" xref="S3.E5.m2.4.5.3.3">𝐶</ci><ci id="S3.E5.m2.4.5.3.4.cmml" xref="S3.E5.m2.4.5.3.4">𝑂</ci><interval closure="open" id="S3.E5.m2.4.5.3.5.1.cmml" xref="S3.E5.m2.4.5.3.5.2"><ci id="S3.E5.m2.3.3.cmml" xref="S3.E5.m2.3.3">𝑔</ci><ci id="S3.E5.m2.4.4.cmml" xref="S3.E5.m2.4.4">𝑏</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m2.4c">\displaystyle=\Sigma_{(g,b)\in\textit{Sup}}CO(g,b)</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m2.4d">= roman_Σ start_POSTSUBSCRIPT ( italic_g , italic_b ) ∈ Sup end_POSTSUBSCRIPT italic_C italic_O ( italic_g , italic_b )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle CP(g)" class="ltx_Math" display="inline" id="S3.Ex1.m1.1"><semantics id="S3.Ex1.m1.1a"><mrow id="S3.Ex1.m1.1.2" xref="S3.Ex1.m1.1.2.cmml"><mi id="S3.Ex1.m1.1.2.2" xref="S3.Ex1.m1.1.2.2.cmml">C</mi><mo id="S3.Ex1.m1.1.2.1" xref="S3.Ex1.m1.1.2.1.cmml">⁢</mo><mi id="S3.Ex1.m1.1.2.3" xref="S3.Ex1.m1.1.2.3.cmml">P</mi><mo id="S3.Ex1.m1.1.2.1a" xref="S3.Ex1.m1.1.2.1.cmml">⁢</mo><mrow id="S3.Ex1.m1.1.2.4.2" xref="S3.Ex1.m1.1.2.cmml"><mo id="S3.Ex1.m1.1.2.4.2.1" stretchy="false" xref="S3.Ex1.m1.1.2.cmml">(</mo><mi id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml">g</mi><mo id="S3.Ex1.m1.1.2.4.2.2" stretchy="false" xref="S3.Ex1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.1b"><apply id="S3.Ex1.m1.1.2.cmml" xref="S3.Ex1.m1.1.2"><times id="S3.Ex1.m1.1.2.1.cmml" xref="S3.Ex1.m1.1.2.1"></times><ci id="S3.Ex1.m1.1.2.2.cmml" xref="S3.Ex1.m1.1.2.2">𝐶</ci><ci id="S3.Ex1.m1.1.2.3.cmml" xref="S3.Ex1.m1.1.2.3">𝑃</ci><ci id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.1c">\displaystyle CP(g)</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m1.1d">italic_C italic_P ( italic_g )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=BP(g)\cdot" class="ltx_math_unparsed" display="inline" id="S3.Ex1.m2.1"><semantics id="S3.Ex1.m2.1a"><mrow id="S3.Ex1.m2.1b"><mo id="S3.Ex1.m2.1.2">=</mo><mi id="S3.Ex1.m2.1.3">B</mi><mi id="S3.Ex1.m2.1.4">P</mi><mrow id="S3.Ex1.m2.1.5"><mo id="S3.Ex1.m2.1.5.1" stretchy="false">(</mo><mi id="S3.Ex1.m2.1.1">g</mi><mo id="S3.Ex1.m2.1.5.2" rspace="0.055em" stretchy="false">)</mo></mrow><mo id="S3.Ex1.m2.1.6">⋅</mo></mrow><annotation encoding="application/x-tex" id="S3.Ex1.m2.1c">\displaystyle=BP(g)\cdot</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m2.1d">= italic_B italic_P ( italic_g ) ⋅</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle(1+0.75\cdot\frac{{TD}(g)-{TS}(g)}{\textit{max}({TD}(g),{TS}(g))})" class="ltx_Math" display="inline" id="S3.E6.m1.7"><semantics id="S3.E6.m1.7a"><mrow id="S3.E6.m1.7.7.1" xref="S3.E6.m1.7.7.1.1.cmml"><mo id="S3.E6.m1.7.7.1.2" stretchy="false" xref="S3.E6.m1.7.7.1.1.cmml">(</mo><mrow id="S3.E6.m1.7.7.1.1" xref="S3.E6.m1.7.7.1.1.cmml"><mn id="S3.E6.m1.7.7.1.1.2" xref="S3.E6.m1.7.7.1.1.2.cmml">1</mn><mo id="S3.E6.m1.7.7.1.1.1" xref="S3.E6.m1.7.7.1.1.1.cmml">+</mo><mrow id="S3.E6.m1.7.7.1.1.3" xref="S3.E6.m1.7.7.1.1.3.cmml"><mn id="S3.E6.m1.7.7.1.1.3.2" xref="S3.E6.m1.7.7.1.1.3.2.cmml">0.75</mn><mo id="S3.E6.m1.7.7.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.E6.m1.7.7.1.1.3.1.cmml">⋅</mo><mstyle displaystyle="true" id="S3.E6.m1.6.6" xref="S3.E6.m1.6.6.cmml"><mfrac id="S3.E6.m1.6.6a" xref="S3.E6.m1.6.6.cmml"><mrow id="S3.E6.m1.2.2.2" xref="S3.E6.m1.2.2.2.cmml"><mrow id="S3.E6.m1.2.2.2.4" xref="S3.E6.m1.2.2.2.4.cmml"><mi id="S3.E6.m1.2.2.2.4.2" xref="S3.E6.m1.2.2.2.4.2.cmml">T</mi><mo id="S3.E6.m1.2.2.2.4.1" xref="S3.E6.m1.2.2.2.4.1.cmml">⁢</mo><mi id="S3.E6.m1.2.2.2.4.3" xref="S3.E6.m1.2.2.2.4.3.cmml">D</mi><mo id="S3.E6.m1.2.2.2.4.1a" xref="S3.E6.m1.2.2.2.4.1.cmml">⁢</mo><mrow id="S3.E6.m1.2.2.2.4.4.2" xref="S3.E6.m1.2.2.2.4.cmml"><mo id="S3.E6.m1.2.2.2.4.4.2.1" stretchy="false" xref="S3.E6.m1.2.2.2.4.cmml">(</mo><mi id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml">g</mi><mo id="S3.E6.m1.2.2.2.4.4.2.2" stretchy="false" xref="S3.E6.m1.2.2.2.4.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.2.2.2.3" xref="S3.E6.m1.2.2.2.3.cmml">−</mo><mrow id="S3.E6.m1.2.2.2.5" xref="S3.E6.m1.2.2.2.5.cmml"><mi id="S3.E6.m1.2.2.2.5.2" xref="S3.E6.m1.2.2.2.5.2.cmml">T</mi><mo id="S3.E6.m1.2.2.2.5.1" xref="S3.E6.m1.2.2.2.5.1.cmml">⁢</mo><mi id="S3.E6.m1.2.2.2.5.3" xref="S3.E6.m1.2.2.2.5.3.cmml">S</mi><mo id="S3.E6.m1.2.2.2.5.1a" xref="S3.E6.m1.2.2.2.5.1.cmml">⁢</mo><mrow id="S3.E6.m1.2.2.2.5.4.2" xref="S3.E6.m1.2.2.2.5.cmml"><mo id="S3.E6.m1.2.2.2.5.4.2.1" stretchy="false" xref="S3.E6.m1.2.2.2.5.cmml">(</mo><mi id="S3.E6.m1.2.2.2.2" xref="S3.E6.m1.2.2.2.2.cmml">g</mi><mo id="S3.E6.m1.2.2.2.5.4.2.2" stretchy="false" xref="S3.E6.m1.2.2.2.5.cmml">)</mo></mrow></mrow></mrow><mrow id="S3.E6.m1.6.6.6" xref="S3.E6.m1.6.6.6.cmml"><mtext class="ltx_mathvariant_italic" id="S3.E6.m1.6.6.6.6" xref="S3.E6.m1.6.6.6.6a.cmml">max</mtext><mo id="S3.E6.m1.6.6.6.5" xref="S3.E6.m1.6.6.6.5.cmml">⁢</mo><mrow id="S3.E6.m1.6.6.6.4.2" xref="S3.E6.m1.6.6.6.4.3.cmml"><mo id="S3.E6.m1.6.6.6.4.2.3" stretchy="false" xref="S3.E6.m1.6.6.6.4.3.cmml">(</mo><mrow id="S3.E6.m1.5.5.5.3.1.1" xref="S3.E6.m1.5.5.5.3.1.1.cmml"><mi id="S3.E6.m1.5.5.5.3.1.1.2" xref="S3.E6.m1.5.5.5.3.1.1.2.cmml">T</mi><mo id="S3.E6.m1.5.5.5.3.1.1.1" xref="S3.E6.m1.5.5.5.3.1.1.1.cmml">⁢</mo><mi id="S3.E6.m1.5.5.5.3.1.1.3" xref="S3.E6.m1.5.5.5.3.1.1.3.cmml">D</mi><mo id="S3.E6.m1.5.5.5.3.1.1.1a" xref="S3.E6.m1.5.5.5.3.1.1.1.cmml">⁢</mo><mrow id="S3.E6.m1.5.5.5.3.1.1.4.2" xref="S3.E6.m1.5.5.5.3.1.1.cmml"><mo id="S3.E6.m1.5.5.5.3.1.1.4.2.1" stretchy="false" xref="S3.E6.m1.5.5.5.3.1.1.cmml">(</mo><mi id="S3.E6.m1.3.3.3.1" xref="S3.E6.m1.3.3.3.1.cmml">g</mi><mo id="S3.E6.m1.5.5.5.3.1.1.4.2.2" stretchy="false" xref="S3.E6.m1.5.5.5.3.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.6.6.6.4.2.4" xref="S3.E6.m1.6.6.6.4.3.cmml">,</mo><mrow id="S3.E6.m1.6.6.6.4.2.2" xref="S3.E6.m1.6.6.6.4.2.2.cmml"><mi id="S3.E6.m1.6.6.6.4.2.2.2" xref="S3.E6.m1.6.6.6.4.2.2.2.cmml">T</mi><mo id="S3.E6.m1.6.6.6.4.2.2.1" xref="S3.E6.m1.6.6.6.4.2.2.1.cmml">⁢</mo><mi id="S3.E6.m1.6.6.6.4.2.2.3" xref="S3.E6.m1.6.6.6.4.2.2.3.cmml">S</mi><mo id="S3.E6.m1.6.6.6.4.2.2.1a" xref="S3.E6.m1.6.6.6.4.2.2.1.cmml">⁢</mo><mrow id="S3.E6.m1.6.6.6.4.2.2.4.2" xref="S3.E6.m1.6.6.6.4.2.2.cmml"><mo id="S3.E6.m1.6.6.6.4.2.2.4.2.1" stretchy="false" xref="S3.E6.m1.6.6.6.4.2.2.cmml">(</mo><mi id="S3.E6.m1.4.4.4.2" xref="S3.E6.m1.4.4.4.2.cmml">g</mi><mo id="S3.E6.m1.6.6.6.4.2.2.4.2.2" stretchy="false" xref="S3.E6.m1.6.6.6.4.2.2.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.6.6.6.4.2.5" stretchy="false" xref="S3.E6.m1.6.6.6.4.3.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S3.E6.m1.7.7.1.3" stretchy="false" xref="S3.E6.m1.7.7.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.7b"><apply id="S3.E6.m1.7.7.1.1.cmml" xref="S3.E6.m1.7.7.1"><plus id="S3.E6.m1.7.7.1.1.1.cmml" xref="S3.E6.m1.7.7.1.1.1"></plus><cn id="S3.E6.m1.7.7.1.1.2.cmml" type="integer" xref="S3.E6.m1.7.7.1.1.2">1</cn><apply id="S3.E6.m1.7.7.1.1.3.cmml" xref="S3.E6.m1.7.7.1.1.3"><ci id="S3.E6.m1.7.7.1.1.3.1.cmml" xref="S3.E6.m1.7.7.1.1.3.1">⋅</ci><cn id="S3.E6.m1.7.7.1.1.3.2.cmml" type="float" xref="S3.E6.m1.7.7.1.1.3.2">0.75</cn><apply id="S3.E6.m1.6.6.cmml" xref="S3.E6.m1.6.6"><divide id="S3.E6.m1.6.6.7.cmml" xref="S3.E6.m1.6.6"></divide><apply id="S3.E6.m1.2.2.2.cmml" xref="S3.E6.m1.2.2.2"><minus id="S3.E6.m1.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.3"></minus><apply id="S3.E6.m1.2.2.2.4.cmml" xref="S3.E6.m1.2.2.2.4"><times id="S3.E6.m1.2.2.2.4.1.cmml" xref="S3.E6.m1.2.2.2.4.1"></times><ci id="S3.E6.m1.2.2.2.4.2.cmml" xref="S3.E6.m1.2.2.2.4.2">𝑇</ci><ci id="S3.E6.m1.2.2.2.4.3.cmml" xref="S3.E6.m1.2.2.2.4.3">𝐷</ci><ci id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1">𝑔</ci></apply><apply id="S3.E6.m1.2.2.2.5.cmml" xref="S3.E6.m1.2.2.2.5"><times id="S3.E6.m1.2.2.2.5.1.cmml" xref="S3.E6.m1.2.2.2.5.1"></times><ci id="S3.E6.m1.2.2.2.5.2.cmml" xref="S3.E6.m1.2.2.2.5.2">𝑇</ci><ci id="S3.E6.m1.2.2.2.5.3.cmml" xref="S3.E6.m1.2.2.2.5.3">𝑆</ci><ci id="S3.E6.m1.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2">𝑔</ci></apply></apply><apply id="S3.E6.m1.6.6.6.cmml" xref="S3.E6.m1.6.6.6"><times id="S3.E6.m1.6.6.6.5.cmml" xref="S3.E6.m1.6.6.6.5"></times><ci id="S3.E6.m1.6.6.6.6a.cmml" xref="S3.E6.m1.6.6.6.6"><mtext class="ltx_mathvariant_italic" id="S3.E6.m1.6.6.6.6.cmml" xref="S3.E6.m1.6.6.6.6">max</mtext></ci><interval closure="open" id="S3.E6.m1.6.6.6.4.3.cmml" xref="S3.E6.m1.6.6.6.4.2"><apply id="S3.E6.m1.5.5.5.3.1.1.cmml" xref="S3.E6.m1.5.5.5.3.1.1"><times id="S3.E6.m1.5.5.5.3.1.1.1.cmml" xref="S3.E6.m1.5.5.5.3.1.1.1"></times><ci id="S3.E6.m1.5.5.5.3.1.1.2.cmml" xref="S3.E6.m1.5.5.5.3.1.1.2">𝑇</ci><ci id="S3.E6.m1.5.5.5.3.1.1.3.cmml" xref="S3.E6.m1.5.5.5.3.1.1.3">𝐷</ci><ci id="S3.E6.m1.3.3.3.1.cmml" xref="S3.E6.m1.3.3.3.1">𝑔</ci></apply><apply id="S3.E6.m1.6.6.6.4.2.2.cmml" xref="S3.E6.m1.6.6.6.4.2.2"><times id="S3.E6.m1.6.6.6.4.2.2.1.cmml" xref="S3.E6.m1.6.6.6.4.2.2.1"></times><ci id="S3.E6.m1.6.6.6.4.2.2.2.cmml" xref="S3.E6.m1.6.6.6.4.2.2.2">𝑇</ci><ci id="S3.E6.m1.6.6.6.4.2.2.3.cmml" xref="S3.E6.m1.6.6.6.4.2.2.3">𝑆</ci><ci id="S3.E6.m1.4.4.4.2.cmml" xref="S3.E6.m1.4.4.4.2">𝑔</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.7c">\displaystyle(1+0.75\cdot\frac{{TD}(g)-{TS}(g)}{\textit{max}({TD}(g),{TS}(g))})</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.7d">( 1 + 0.75 ⋅ divide start_ARG italic_T italic_D ( italic_g ) - italic_T italic_S ( italic_g ) end_ARG start_ARG max ( italic_T italic_D ( italic_g ) , italic_T italic_S ( italic_g ) ) end_ARG )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.2">In this scenario, the goal is to minimize <math alttext="CP(g)" class="ltx_Math" display="inline" id="S3.SS2.p4.1.m1.1"><semantics id="S3.SS2.p4.1.m1.1a"><mrow id="S3.SS2.p4.1.m1.1.2" xref="S3.SS2.p4.1.m1.1.2.cmml"><mi id="S3.SS2.p4.1.m1.1.2.2" xref="S3.SS2.p4.1.m1.1.2.2.cmml">C</mi><mo id="S3.SS2.p4.1.m1.1.2.1" xref="S3.SS2.p4.1.m1.1.2.1.cmml">⁢</mo><mi id="S3.SS2.p4.1.m1.1.2.3" xref="S3.SS2.p4.1.m1.1.2.3.cmml">P</mi><mo id="S3.SS2.p4.1.m1.1.2.1a" xref="S3.SS2.p4.1.m1.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p4.1.m1.1.2.4.2" xref="S3.SS2.p4.1.m1.1.2.cmml"><mo id="S3.SS2.p4.1.m1.1.2.4.2.1" stretchy="false" xref="S3.SS2.p4.1.m1.1.2.cmml">(</mo><mi id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml">g</mi><mo id="S3.SS2.p4.1.m1.1.2.4.2.2" stretchy="false" xref="S3.SS2.p4.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.2"><times id="S3.SS2.p4.1.m1.1.2.1.cmml" xref="S3.SS2.p4.1.m1.1.2.1"></times><ci id="S3.SS2.p4.1.m1.1.2.2.cmml" xref="S3.SS2.p4.1.m1.1.2.2">𝐶</ci><ci id="S3.SS2.p4.1.m1.1.2.3.cmml" xref="S3.SS2.p4.1.m1.1.2.3">𝑃</ci><ci id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">CP(g)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.1.m1.1d">italic_C italic_P ( italic_g )</annotation></semantics></math> for a given goods <math alttext="g" class="ltx_Math" display="inline" id="S3.SS2.p4.2.m2.1"><semantics id="S3.SS2.p4.2.m2.1a"><mi id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><ci id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">g</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.2.m2.1d">italic_g</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Statistics of DQA</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.2">DQA consists of a total of 301 pairs of <math alttext="D" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1"><semantics id="S3.SS3.p1.1.m1.1a"><mi id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.1d">italic_D</annotation></semantics></math> and <math alttext="Q" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m2.1"><semantics id="S3.SS3.p1.2.m2.1a"><mi id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><ci id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.2.m2.1d">italic_Q</annotation></semantics></math>: (1) 200 pairs for the Locating scenario and (2) 101 pairs for the Building scenario.
Each database again has two versions, RDB and GDB, for the same corresponding question, and so, a total of 602 databases are provided in the DQA benchmark.
We assume that SQL is used for RDB, while Cypher Query Language (CQL) <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Francis et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib10" title=""><span class="ltx_text" style="color:#000000;">2018</span></a>)</cite> used for GDB.
Table <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.T3" title="Table 3 ‣ 3.3 Statistics of DQA ‣ 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">3</span></a> shows some statistics of the databases in DQA.
Details for data collection are in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS1" title="A.1 Data collection ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">A.1</span></a>.</p>
</div>
<figure class="ltx_table" id="S3.T3">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T3.8">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T3.8.9.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S3.T3.8.9.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.8.9.1.1.1">Statistics</span></th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S3.T3.8.9.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.8.9.1.2.1">Locating</span></th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S3.T3.8.9.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.8.9.1.3.1">Building</span></th>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S3.T3.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"># of <math alttext="\langle" class="ltx_Math" display="inline" id="S3.T3.1.1.1.m1.1"><semantics id="S3.T3.1.1.1.m1.1a"><mo id="S3.T3.1.1.1.m1.1.1" stretchy="false" xref="S3.T3.1.1.1.m1.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S3.T3.1.1.1.m1.1b"><ci id="S3.T3.1.1.1.m1.1.1.cmml" xref="S3.T3.1.1.1.m1.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.1.1.1.m1.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S3.T3.1.1.1.m1.1d">⟨</annotation></semantics></math><math alttext="Q" class="ltx_Math" display="inline" id="S3.T3.2.2.2.m2.1"><semantics id="S3.T3.2.2.2.m2.1a"><mi id="S3.T3.2.2.2.m2.1.1" xref="S3.T3.2.2.2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S3.T3.2.2.2.m2.1b"><ci id="S3.T3.2.2.2.m2.1.1.cmml" xref="S3.T3.2.2.2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.2.2.2.m2.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S3.T3.2.2.2.m2.1d">italic_Q</annotation></semantics></math>,<math alttext="D" class="ltx_Math" display="inline" id="S3.T3.3.3.3.m3.1"><semantics id="S3.T3.3.3.3.m3.1a"><mi id="S3.T3.3.3.3.m3.1.1" xref="S3.T3.3.3.3.m3.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.T3.3.3.3.m3.1b"><ci id="S3.T3.3.3.3.m3.1.1.cmml" xref="S3.T3.3.3.3.m3.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.3.3.3.m3.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.T3.3.3.3.m3.1d">italic_D</annotation></semantics></math><math alttext="\rangle" class="ltx_Math" display="inline" id="S3.T3.4.4.4.m4.1"><semantics id="S3.T3.4.4.4.m4.1a"><mo id="S3.T3.4.4.4.m4.1.1" stretchy="false" xref="S3.T3.4.4.4.m4.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S3.T3.4.4.4.m4.1b"><ci id="S3.T3.4.4.4.m4.1.1.cmml" xref="S3.T3.4.4.4.m4.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.4.4.4.m4.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.T3.4.4.4.m4.1d">⟩</annotation></semantics></math> pairs</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S3.T3.4.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">200</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S3.T3.4.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">101</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T3.8.10.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.8.10.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.8.10.1.1.1">Relational DB (RDB)</span></td>
<td class="ltx_td ltx_border_t" id="S3.T3.8.10.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_border_t" id="S3.T3.8.10.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
</tr>
<tr class="ltx_tr" id="S3.T3.5.5">
<td class="ltx_td ltx_align_left" id="S3.T3.5.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Avg. rows in tables of <math alttext="D" class="ltx_Math" display="inline" id="S3.T3.5.5.1.m1.1"><semantics id="S3.T3.5.5.1.m1.1a"><mi id="S3.T3.5.5.1.m1.1.1" xref="S3.T3.5.5.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.T3.5.5.1.m1.1b"><ci id="S3.T3.5.5.1.m1.1.1.cmml" xref="S3.T3.5.5.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.5.5.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.T3.5.5.1.m1.1d">italic_D</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right" id="S3.T3.5.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">2038.8</td>
<td class="ltx_td ltx_align_right" id="S3.T3.5.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">579.0</td>
</tr>
<tr class="ltx_tr" id="S3.T3.6.6">
<td class="ltx_td ltx_align_left" id="S3.T3.6.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Avg. cols in tables of <math alttext="D" class="ltx_Math" display="inline" id="S3.T3.6.6.1.m1.1"><semantics id="S3.T3.6.6.1.m1.1a"><mi id="S3.T3.6.6.1.m1.1.1" xref="S3.T3.6.6.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.T3.6.6.1.m1.1b"><ci id="S3.T3.6.6.1.m1.1.1.cmml" xref="S3.T3.6.6.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.6.6.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.T3.6.6.1.m1.1d">italic_D</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right" id="S3.T3.6.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.5</td>
<td class="ltx_td ltx_align_right" id="S3.T3.6.6.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.5</td>
</tr>
<tr class="ltx_tr" id="S3.T3.8.11.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.8.11.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.8.11.2.1.1">Graph DB (GDB)</span></td>
<td class="ltx_td ltx_border_t" id="S3.T3.8.11.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_border_t" id="S3.T3.8.11.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
</tr>
<tr class="ltx_tr" id="S3.T3.7.7">
<td class="ltx_td ltx_align_left" id="S3.T3.7.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Avg. # of edges of <math alttext="D" class="ltx_Math" display="inline" id="S3.T3.7.7.1.m1.1"><semantics id="S3.T3.7.7.1.m1.1a"><mi id="S3.T3.7.7.1.m1.1.1" xref="S3.T3.7.7.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.T3.7.7.1.m1.1b"><ci id="S3.T3.7.7.1.m1.1.1.cmml" xref="S3.T3.7.7.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.7.7.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.T3.7.7.1.m1.1d">italic_D</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right" id="S3.T3.7.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">1432.3</td>
<td class="ltx_td ltx_align_right" id="S3.T3.7.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">374.7</td>
</tr>
<tr class="ltx_tr" id="S3.T3.8.8">
<td class="ltx_td ltx_align_left ltx_border_b" id="S3.T3.8.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Avg. # of vertices of <math alttext="D" class="ltx_Math" display="inline" id="S3.T3.8.8.1.m1.1"><semantics id="S3.T3.8.8.1.m1.1a"><mi id="S3.T3.8.8.1.m1.1.1" xref="S3.T3.8.8.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.T3.8.8.1.m1.1b"><ci id="S3.T3.8.8.1.m1.1.1.cmml" xref="S3.T3.8.8.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.8.8.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.T3.8.8.1.m1.1d">italic_D</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S3.T3.8.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">606.5</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S3.T3.8.8.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">204.3</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Statistics about the databases in DQA.
</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Methodology: PlanRAG</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.8">For Decision QA, the existing RAG technique <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Jiang et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib25" title=""><span class="ltx_text" style="color:#000000;">2023b</span></a>); <span class="ltx_text" style="color:#000000;">Trivedi et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib42" title=""><span class="ltx_text" style="color:#000000;">2023</span></a>)</cite> tries to answer the best decision <math alttext="d_{best}" class="ltx_Math" display="inline" id="S4.p1.1.m1.1"><semantics id="S4.p1.1.m1.1a"><msub id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml"><mi id="S4.p1.1.m1.1.1.2" xref="S4.p1.1.m1.1.1.2.cmml">d</mi><mrow id="S4.p1.1.m1.1.1.3" xref="S4.p1.1.m1.1.1.3.cmml"><mi id="S4.p1.1.m1.1.1.3.2" xref="S4.p1.1.m1.1.1.3.2.cmml">b</mi><mo id="S4.p1.1.m1.1.1.3.1" xref="S4.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.p1.1.m1.1.1.3.3" xref="S4.p1.1.m1.1.1.3.3.cmml">e</mi><mo id="S4.p1.1.m1.1.1.3.1a" xref="S4.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.p1.1.m1.1.1.3.4" xref="S4.p1.1.m1.1.1.3.4.cmml">s</mi><mo id="S4.p1.1.m1.1.1.3.1b" xref="S4.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.p1.1.m1.1.1.3.5" xref="S4.p1.1.m1.1.1.3.5.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><apply id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p1.1.m1.1.1.1.cmml" xref="S4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.p1.1.m1.1.1.2.cmml" xref="S4.p1.1.m1.1.1.2">𝑑</ci><apply id="S4.p1.1.m1.1.1.3.cmml" xref="S4.p1.1.m1.1.1.3"><times id="S4.p1.1.m1.1.1.3.1.cmml" xref="S4.p1.1.m1.1.1.3.1"></times><ci id="S4.p1.1.m1.1.1.3.2.cmml" xref="S4.p1.1.m1.1.1.3.2">𝑏</ci><ci id="S4.p1.1.m1.1.1.3.3.cmml" xref="S4.p1.1.m1.1.1.3.3">𝑒</ci><ci id="S4.p1.1.m1.1.1.3.4.cmml" xref="S4.p1.1.m1.1.1.3.4">𝑠</ci><ci id="S4.p1.1.m1.1.1.3.5.cmml" xref="S4.p1.1.m1.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">d_{best}</annotation><annotation encoding="application/x-llamapun" id="S4.p1.1.m1.1d">italic_d start_POSTSUBSCRIPT italic_b italic_e italic_s italic_t end_POSTSUBSCRIPT</annotation></semantics></math> for given <math alttext="\langle" class="ltx_Math" display="inline" id="S4.p1.2.m2.1"><semantics id="S4.p1.2.m2.1a"><mo id="S4.p1.2.m2.1.1" stretchy="false" xref="S4.p1.2.m2.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S4.p1.2.m2.1b"><ci id="S4.p1.2.m2.1.1.cmml" xref="S4.p1.2.m2.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.2.m2.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S4.p1.2.m2.1d">⟨</annotation></semantics></math><math alttext="Q" class="ltx_Math" display="inline" id="S4.p1.3.m3.1"><semantics id="S4.p1.3.m3.1a"><mi id="S4.p1.3.m3.1.1" xref="S4.p1.3.m3.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.p1.3.m3.1b"><ci id="S4.p1.3.m3.1.1.cmml" xref="S4.p1.3.m3.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.3.m3.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S4.p1.3.m3.1d">italic_Q</annotation></semantics></math>,<math alttext="S" class="ltx_Math" display="inline" id="S4.p1.4.m4.1"><semantics id="S4.p1.4.m4.1a"><mi id="S4.p1.4.m4.1.1" xref="S4.p1.4.m4.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S4.p1.4.m4.1b"><ci id="S4.p1.4.m4.1.1.cmml" xref="S4.p1.4.m4.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.4.m4.1c">S</annotation><annotation encoding="application/x-llamapun" id="S4.p1.4.m4.1d">italic_S</annotation></semantics></math>,<math alttext="R" class="ltx_Math" display="inline" id="S4.p1.5.m5.1"><semantics id="S4.p1.5.m5.1a"><mi id="S4.p1.5.m5.1.1" xref="S4.p1.5.m5.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S4.p1.5.m5.1b"><ci id="S4.p1.5.m5.1.1.cmml" xref="S4.p1.5.m5.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.5.m5.1c">R</annotation><annotation encoding="application/x-llamapun" id="S4.p1.5.m5.1d">italic_R</annotation></semantics></math><math alttext="\rangle" class="ltx_Math" display="inline" id="S4.p1.6.m6.1"><semantics id="S4.p1.6.m6.1a"><mo id="S4.p1.6.m6.1.1" stretchy="false" xref="S4.p1.6.m6.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S4.p1.6.m6.1b"><ci id="S4.p1.6.m6.1.1.cmml" xref="S4.p1.6.m6.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.6.m6.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S4.p1.6.m6.1d">⟩</annotation></semantics></math> through a single type of reasoning that utilizes on the results retrieved from <math alttext="D" class="ltx_Math" display="inline" id="S4.p1.7.m7.1"><semantics id="S4.p1.7.m7.1a"><mi id="S4.p1.7.m7.1.1" xref="S4.p1.7.m7.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S4.p1.7.m7.1b"><ci id="S4.p1.7.m7.1.1.cmml" xref="S4.p1.7.m7.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.7.m7.1c">D</annotation><annotation encoding="application/x-llamapun" id="S4.p1.7.m7.1d">italic_D</annotation></semantics></math> by data analysis queries. Figure 3 (a) shows its reasoning process.
If the retrieval from <math alttext="D" class="ltx_Math" display="inline" id="S4.p1.8.m8.1"><semantics id="S4.p1.8.m8.1a"><mi id="S4.p1.8.m8.1.1" xref="S4.p1.8.m8.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S4.p1.8.m8.1b"><ci id="S4.p1.8.m8.1.1.cmml" xref="S4.p1.8.m8.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.8.m8.1c">D</annotation><annotation encoding="application/x-llamapun" id="S4.p1.8.m8.1d">italic_D</annotation></semantics></math> is performed only once, the process is called as <span class="ltx_text ltx_font_italic" id="S4.p1.8.1">single-turn RAG</span>.
Otherwise, if the retrieval is performed multiple times, the process is called as <span class="ltx_text ltx_font_italic" id="S4.p1.8.2">iterative RAG</span>.</p>
</div>
<figure class="ltx_figure" id="S4.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="246" id="S4.F3.g1" src="x5.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Comparison of the reasoning processes of between previous RAG and our PlanRAG techniques.
</figcaption>
</figure>
<div class="ltx_para" id="S4.p2">
<p class="ltx_p" id="S4.p2.2">In contrast, our <span class="ltx_text ltx_font_italic" id="S4.p2.2.1">iterative plan-then-retrieval augmented generation</span> (PlanRAG) technique tries to answer <math alttext="d_{\textit{best}}" class="ltx_Math" display="inline" id="S4.p2.1.m1.1"><semantics id="S4.p2.1.m1.1a"><msub id="S4.p2.1.m1.1.1" xref="S4.p2.1.m1.1.1.cmml"><mi id="S4.p2.1.m1.1.1.2" xref="S4.p2.1.m1.1.1.2.cmml">d</mi><mtext class="ltx_mathvariant_italic" id="S4.p2.1.m1.1.1.3" xref="S4.p2.1.m1.1.1.3a.cmml">best</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.p2.1.m1.1b"><apply id="S4.p2.1.m1.1.1.cmml" xref="S4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p2.1.m1.1.1.1.cmml" xref="S4.p2.1.m1.1.1">subscript</csymbol><ci id="S4.p2.1.m1.1.1.2.cmml" xref="S4.p2.1.m1.1.1.2">𝑑</ci><ci id="S4.p2.1.m1.1.1.3a.cmml" xref="S4.p2.1.m1.1.1.3"><mtext class="ltx_mathvariant_italic" id="S4.p2.1.m1.1.1.3.cmml" mathsize="70%" xref="S4.p2.1.m1.1.1.3">best</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.1.m1.1c">d_{\textit{best}}</annotation><annotation encoding="application/x-llamapun" id="S4.p2.1.m1.1d">italic_d start_POSTSUBSCRIPT best end_POSTSUBSCRIPT</annotation></semantics></math> through two types of reasoning.
The first type of reasoning is making a plan, and the second type of reasoning is similar to the reasoning of the existing RAG, i.e., answering based on the results retrieved from <math alttext="D" class="ltx_Math" display="inline" id="S4.p2.2.m2.1"><semantics id="S4.p2.2.m2.1a"><mi id="S4.p2.2.m2.1.1" xref="S4.p2.2.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S4.p2.2.m2.1b"><ci id="S4.p2.2.m2.1.1.cmml" xref="S4.p2.2.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.2.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="S4.p2.2.m2.1d">italic_D</annotation></semantics></math> by of data analysis queries.
In particular, we built a single LM that can perform both types of reasoning because to reduce the side effects of using separate LMs.
We prompted the LM by adding the ‘Plan’ and ‘Re-plan’ instructions to ReAct <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Yao et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib46" title=""><span class="ltx_text" style="color:#000000;">2023</span></a>)</cite>, about which details are in Appendix. <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS6.SSS2" title="A.6.2 PlanRAG-based LM ‣ A.6 Prompts for DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">A.6.2</span></a>.
Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S4.F3" title="Figure 3 ‣ 4 Methodology: PlanRAG ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">3</span></a> (b) shows the reasoning process of PlanRAG, where we explain the steps of (1) planning, (2) retrieving &amp; answering, and (3) re-planning, in detail as follows.</p>
</div>
<div class="ltx_para" id="S4.p3">
<p class="ltx_p" id="S4.p3.5"><span class="ltx_text ltx_font_bold" id="S4.p3.5.1">Planning:</span> In this step, an LM takes <math alttext="\langle" class="ltx_Math" display="inline" id="S4.p3.1.m1.1"><semantics id="S4.p3.1.m1.1a"><mo id="S4.p3.1.m1.1.1" stretchy="false" xref="S4.p3.1.m1.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S4.p3.1.m1.1b"><ci id="S4.p3.1.m1.1.1.cmml" xref="S4.p3.1.m1.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.1.m1.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S4.p3.1.m1.1d">⟨</annotation></semantics></math><math alttext="Q" class="ltx_Math" display="inline" id="S4.p3.2.m2.1"><semantics id="S4.p3.2.m2.1a"><mi id="S4.p3.2.m2.1.1" xref="S4.p3.2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.p3.2.m2.1b"><ci id="S4.p3.2.m2.1.1.cmml" xref="S4.p3.2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.2.m2.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S4.p3.2.m2.1d">italic_Q</annotation></semantics></math>, <math alttext="S" class="ltx_Math" display="inline" id="S4.p3.3.m3.1"><semantics id="S4.p3.3.m3.1a"><mi id="S4.p3.3.m3.1.1" xref="S4.p3.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S4.p3.3.m3.1b"><ci id="S4.p3.3.m3.1.1.cmml" xref="S4.p3.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.3.m3.1c">S</annotation><annotation encoding="application/x-llamapun" id="S4.p3.3.m3.1d">italic_S</annotation></semantics></math>, <math alttext="R" class="ltx_Math" display="inline" id="S4.p3.4.m4.1"><semantics id="S4.p3.4.m4.1a"><mi id="S4.p3.4.m4.1.1" xref="S4.p3.4.m4.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S4.p3.4.m4.1b"><ci id="S4.p3.4.m4.1.1.cmml" xref="S4.p3.4.m4.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.4.m4.1c">R</annotation><annotation encoding="application/x-llamapun" id="S4.p3.4.m4.1d">italic_R</annotation></semantics></math><math alttext="\rangle" class="ltx_Math" display="inline" id="S4.p3.5.m5.1"><semantics id="S4.p3.5.m5.1a"><mo id="S4.p3.5.m5.1.1" stretchy="false" xref="S4.p3.5.m5.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S4.p3.5.m5.1b"><ci id="S4.p3.5.m5.1.1.cmml" xref="S4.p3.5.m5.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.5.m5.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S4.p3.5.m5.1d">⟩</annotation></semantics></math> as input, and then generates an initial plan for data analysis.
The initial plan describes a series of data analyses that needs for decision making and so need to be performed in the retrieving step.
The red box in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S4.F4" title="Figure 4 ‣ 4 Methodology: PlanRAG ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a>(b) shows its example.</p>
</div>
<div class="ltx_para" id="S4.p4">
<p class="ltx_p" id="S4.p4.5"><span class="ltx_text ltx_font_bold" id="S4.p4.5.1">Retrieving &amp; Answering:</span> Unlike the previous RAG technique, an LM takes not only <math alttext="\langle" class="ltx_Math" display="inline" id="S4.p4.1.m1.1"><semantics id="S4.p4.1.m1.1a"><mo id="S4.p4.1.m1.1.1" stretchy="false" xref="S4.p4.1.m1.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S4.p4.1.m1.1b"><ci id="S4.p4.1.m1.1.1.cmml" xref="S4.p4.1.m1.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.1.m1.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S4.p4.1.m1.1d">⟨</annotation></semantics></math><math alttext="Q" class="ltx_Math" display="inline" id="S4.p4.2.m2.1"><semantics id="S4.p4.2.m2.1a"><mi id="S4.p4.2.m2.1.1" xref="S4.p4.2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.p4.2.m2.1b"><ci id="S4.p4.2.m2.1.1.cmml" xref="S4.p4.2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.2.m2.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S4.p4.2.m2.1d">italic_Q</annotation></semantics></math>, <math alttext="S" class="ltx_Math" display="inline" id="S4.p4.3.m3.1"><semantics id="S4.p4.3.m3.1a"><mi id="S4.p4.3.m3.1.1" xref="S4.p4.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S4.p4.3.m3.1b"><ci id="S4.p4.3.m3.1.1.cmml" xref="S4.p4.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.3.m3.1c">S</annotation><annotation encoding="application/x-llamapun" id="S4.p4.3.m3.1d">italic_S</annotation></semantics></math>, <math alttext="R" class="ltx_Math" display="inline" id="S4.p4.4.m4.1"><semantics id="S4.p4.4.m4.1a"><mi id="S4.p4.4.m4.1.1" xref="S4.p4.4.m4.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S4.p4.4.m4.1b"><ci id="S4.p4.4.m4.1.1.cmml" xref="S4.p4.4.m4.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.4.m4.1c">R</annotation><annotation encoding="application/x-llamapun" id="S4.p4.4.m4.1d">italic_R</annotation></semantics></math><math alttext="\rangle" class="ltx_Math" display="inline" id="S4.p4.5.m5.1"><semantics id="S4.p4.5.m5.1a"><mo id="S4.p4.5.m5.1.1" stretchy="false" xref="S4.p4.5.m5.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S4.p4.5.m5.1b"><ci id="S4.p4.5.m5.1.1.cmml" xref="S4.p4.5.m5.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.5.m5.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S4.p4.5.m5.1d">⟩</annotation></semantics></math> but also the initial plan as input.
Then, it can generate data analysis queries for decision making much more effectively than the previous RAG.
Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S4.F4" title="Figure 4 ‣ 4 Methodology: PlanRAG ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a> shows how PlanRAG-based LM generates the queries differently from the previous RAG.
The queries are actually executed by SQL or Cypher to the database through RAG interfaces such as LangChain<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a class="ltx_ref ltx_href" href="https://langchain.readthedocs.io/en/latest" title="">https://langchain.readthedocs.io/en/latest</a></span></span></span>
and LlamaIndex<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><a class="ltx_ref ltx_href" href="https://docs.llamaindex.ai/en/stable/" title="">https://docs.llamaindex.ai/en/stable/</a></span></span></span>.
The query results are used iteratively for reasoning about whether it needs re-planning or just a further retrieval for better decision making.
Through the backward link to the planning process, the planning and retrieving processes are iteratively performed until an LM determines that there is no longer a need for further analysis to make a decision.</p>
</div>
<div class="ltx_para" id="S4.p5">
<p class="ltx_p" id="S4.p5.5"><span class="ltx_text ltx_font_bold" id="S4.p5.5.1">Re-planning:</span> Re-planning is done when the initial plan is not good enough to solve the decision question.
In order to make the LM possible to decide whether re-planning or not, we prompted the LM with some instructions to assess the current plan by referring to the result of each retrieval step (see Appendix. <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS6.SSS2" title="A.6.2 PlanRAG-based LM ‣ A.6 Prompts for DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">A.6.2</span></a> for details).
As a result, the LM takes not only <math alttext="\langle" class="ltx_Math" display="inline" id="S4.p5.1.m1.1"><semantics id="S4.p5.1.m1.1a"><mo id="S4.p5.1.m1.1.1" stretchy="false" xref="S4.p5.1.m1.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S4.p5.1.m1.1b"><ci id="S4.p5.1.m1.1.1.cmml" xref="S4.p5.1.m1.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p5.1.m1.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S4.p5.1.m1.1d">⟨</annotation></semantics></math><math alttext="Q" class="ltx_Math" display="inline" id="S4.p5.2.m2.1"><semantics id="S4.p5.2.m2.1a"><mi id="S4.p5.2.m2.1.1" xref="S4.p5.2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.p5.2.m2.1b"><ci id="S4.p5.2.m2.1.1.cmml" xref="S4.p5.2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p5.2.m2.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S4.p5.2.m2.1d">italic_Q</annotation></semantics></math>, <math alttext="S" class="ltx_Math" display="inline" id="S4.p5.3.m3.1"><semantics id="S4.p5.3.m3.1a"><mi id="S4.p5.3.m3.1.1" xref="S4.p5.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S4.p5.3.m3.1b"><ci id="S4.p5.3.m3.1.1.cmml" xref="S4.p5.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p5.3.m3.1c">S</annotation><annotation encoding="application/x-llamapun" id="S4.p5.3.m3.1d">italic_S</annotation></semantics></math>, <math alttext="R" class="ltx_Math" display="inline" id="S4.p5.4.m4.1"><semantics id="S4.p5.4.m4.1a"><mi id="S4.p5.4.m4.1.1" xref="S4.p5.4.m4.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S4.p5.4.m4.1b"><ci id="S4.p5.4.m4.1.1.cmml" xref="S4.p5.4.m4.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p5.4.m4.1c">R</annotation><annotation encoding="application/x-llamapun" id="S4.p5.4.m4.1d">italic_R</annotation></semantics></math><math alttext="\rangle" class="ltx_Math" display="inline" id="S4.p5.5.m5.1"><semantics id="S4.p5.5.m5.1a"><mo id="S4.p5.5.m5.1.1" stretchy="false" xref="S4.p5.5.m5.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S4.p5.5.m5.1b"><ci id="S4.p5.5.m5.1.1.cmml" xref="S4.p5.5.m5.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p5.5.m5.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S4.p5.5.m5.1d">⟩</annotation></semantics></math> but also a current plan and query results as input and generates a new plan to do further analysis, or correct the direction of previous analysis.</p>
</div>
<figure class="ltx_figure" id="S4.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="774" id="S4.F4.g1" src="x6.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Example of the reasoning processes of previous Iterative RAG and our PlanRAG in the Locating scenario.</figcaption>
</figure>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Experiments</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Experimental Setup</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">To validate the effectiveness of the proposed PlanRAG for the Decision QA task,
we implement and compare four different decision-making LMs: (1) SingleRAG-LM based on Single-turn RAG, (2) IterRAG-LM based on Iterative RAG, (3) PlanRAG-LM based on PlanRAG, (4) PlanRAG-LM w/o RP, which means PlanRAG without re-planning.
Prompts based on ReAct <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Yao et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib46" title=""><span class="ltx_text" style="color:#000000;">2023</span></a>)</cite> are used to make these LMs as decision makers (see details in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS6" title="A.6 Prompts for DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">A.6</span></a>).
All these decision makers are implemented by GPT-4 <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">OpenAI</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib33" title=""><span class="ltx_text" style="color:#000000;">2023</span></a>)</cite> with a zero temperature and the LangChain library.
In terms of database, we use MySQL<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span><a class="ltx_ref ltx_href" href="https://www.mysql.com" title="">https://www.mysql.com</a></span></span></span> for an RDBMS and Neo4j<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span><a class="ltx_ref ltx_href" href="https://neo4j.com" title="">https://neo4j.com</a></span></span></span> for a GDBMS.</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.1">All experiments are conducted in a zero-shot and single run setting.
This zero-shot setting is predicated on the following two reasons.
First, in most of real-world business situations, it is very hard to know the strategies for making the best decisions in advance.
Second, in few-shot settings, we have observed that an LM is overfitted to not only the problem-solving strategy but also the content of a database in the given shots.</p>
</div>
<div class="ltx_para" id="S5.SS1.p3">
<p class="ltx_p" id="S5.SS1.p3.1">An answer from a decision maker is considered correct only if it is semantically identical to a ground-truth best decision on DQA.
For example, in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S4.F4" title="Figure 4 ‣ 4 Methodology: PlanRAG ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a> (b), we consider the answer is correct since the ground-truth best decision is <span class="ltx_text ltx_font_italic" id="S5.SS1.p3.1.1">Doab</span>.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Results and Analysis</h3>
<div class="ltx_para ltx_noindent" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1"><span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.1">Main results:</span>
Table <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.T4" title="Table 4 ‣ 5.2 Results and Analysis ‣ 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a> presents the experimental results, where
significantly improves the performance of decision making for both scenarios, by 15.8% for Locating and 7.4% for Building, compared to the existing SOTA technique, Iterative RAG <cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Yao et al.</span> (<a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib46" title=""><span class="ltx_text" style="color:#000000;">2023</span></a>)</cite>.
It shows well the effectiveness of PlanRAG for the decision making task.
The reason why PlanRAG is relatively more effective in Locating than in Building is that
Building requires a longer traversal than Locating scenario and it makes planning harder than Locating.
The accuracy of SingleRAG-LM in Building is very low, which is because the Building scenario requires generating a very complex query that is hard to be reasoned at once.
SingleRAG-LM failed to retrieve any results from the database in over 60% of Locating and 95% of Building questions.
Table <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.T4" title="Table 4 ‣ 5.2 Results and Analysis ‣ 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a> also present that no re-planning in PlanRAG leads to a decrease in accuracy, in particular, by 10.8% in Locating and 0.9% in Building.
This result shows that the re-planning process is helpful and important to the decision maker LM of the PlanRAG technique for the decision making task.</p>
</div>
<figure class="ltx_table" id="S5.T4">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S5.T4.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T4.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T4.1.1.1.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.1.1">Decision makers</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.1.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.2.1">Locating</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.1.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.3.1">Building</span></td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.2.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T4.1.2.2.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.2.2.1.1">Single-turn RAG</span></td>
<td class="ltx_td ltx_border_t" id="S5.T4.1.2.2.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td ltx_border_t" id="S5.T4.1.2.2.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.3.3">
<td class="ltx_td ltx_align_left" id="S5.T4.1.3.3.1" style="padding-top:1.25pt;padding-bottom:1.25pt;">SingleRAG-LM</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.3.3.2" style="padding-top:1.25pt;padding-bottom:1.25pt;">30.5</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.3.3.3" style="padding-top:1.25pt;padding-bottom:1.25pt;">2.5</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.4.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T4.1.4.4.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.4.4.1.1">Iterative RAG</span></td>
<td class="ltx_td ltx_border_t" id="S5.T4.1.4.4.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td ltx_border_t" id="S5.T4.1.4.4.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.5.5">
<td class="ltx_td ltx_align_left" id="S5.T4.1.5.5.1" style="padding-top:1.25pt;padding-bottom:1.25pt;">IterRAG-LM</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.5.5.2" style="padding-top:1.25pt;padding-bottom:1.25pt;">48.5</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.5.5.3" style="padding-top:1.25pt;padding-bottom:1.25pt;">37.6</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.6.6">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T4.1.6.6.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.6.6.1.1">PlanRAG (ours)</span></td>
<td class="ltx_td ltx_border_t" id="S5.T4.1.6.6.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td ltx_border_t" id="S5.T4.1.6.6.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.7.7">
<td class="ltx_td ltx_align_left" id="S5.T4.1.7.7.1" style="padding-top:1.25pt;padding-bottom:1.25pt;">PlanRAG-LM</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.7.7.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.7.7.2.1">64.3</span></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.7.7.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.7.7.3.1">45.0</span></td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.8.8">
<td class="ltx_td ltx_align_left ltx_border_b" id="S5.T4.1.8.8.1" style="padding-top:1.25pt;padding-bottom:1.25pt;">PlanRAG-LM w/o RP</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.1.8.8.2" style="padding-top:1.25pt;padding-bottom:1.25pt;">53.5</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.1.8.8.3" style="padding-top:1.25pt;padding-bottom:1.25pt;">44.1</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Accuracy(%) of the techniques for DQA (Each accuracy is an average of the accuracies in RDB and GDB).</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.9"><span class="ltx_text ltx_font_bold" id="S5.SS2.p2.9.1">Analysis for SR and MR:</span>
There are relatively simple questions and relatively hard questions in DQA. To check the effectiveness of PlanRAG according to the degree of difficulty of questions, we divide DQA questions into two different types: (1) Single retrieval (<span class="ltx_text ltx_font_italic" id="S5.SS2.p2.9.2">SR</span>) questions, and (2) Multiple Retrieval (<span class="ltx_text ltx_font_italic" id="S5.SS2.p2.9.3">MR</span>) questions.
Here, SR refers to the case where IterRAG-LM performs a single retrieval from <math alttext="D" class="ltx_Math" display="inline" id="S5.SS2.p2.1.m1.1"><semantics id="S5.SS2.p2.1.m1.1a"><mi id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.1b"><ci id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.1.m1.1d">italic_D</annotation></semantics></math> for solving the question, while MR refers to the questions that it performs multiple retrievals for solving the question.
There are a total of 84 <math alttext="\langle" class="ltx_Math" display="inline" id="S5.SS2.p2.2.m2.1"><semantics id="S5.SS2.p2.2.m2.1a"><mo id="S5.SS2.p2.2.m2.1.1" stretchy="false" xref="S5.SS2.p2.2.m2.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.2.m2.1b"><ci id="S5.SS2.p2.2.m2.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.2.m2.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.2.m2.1d">⟨</annotation></semantics></math><math alttext="Q" class="ltx_Math" display="inline" id="S5.SS2.p2.3.m3.1"><semantics id="S5.SS2.p2.3.m3.1a"><mi id="S5.SS2.p2.3.m3.1.1" xref="S5.SS2.p2.3.m3.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.3.m3.1b"><ci id="S5.SS2.p2.3.m3.1.1.cmml" xref="S5.SS2.p2.3.m3.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.3.m3.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.3.m3.1d">italic_Q</annotation></semantics></math>, <math alttext="D" class="ltx_Math" display="inline" id="S5.SS2.p2.4.m4.1"><semantics id="S5.SS2.p2.4.m4.1a"><mi id="S5.SS2.p2.4.m4.1.1" xref="S5.SS2.p2.4.m4.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.4.m4.1b"><ci id="S5.SS2.p2.4.m4.1.1.cmml" xref="S5.SS2.p2.4.m4.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.4.m4.1c">D</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.4.m4.1d">italic_D</annotation></semantics></math><math alttext="\rangle" class="ltx_Math" display="inline" id="S5.SS2.p2.5.m5.1"><semantics id="S5.SS2.p2.5.m5.1a"><mo id="S5.SS2.p2.5.m5.1.1" stretchy="false" xref="S5.SS2.p2.5.m5.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.5.m5.1b"><ci id="S5.SS2.p2.5.m5.1.1.cmml" xref="S5.SS2.p2.5.m5.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.5.m5.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.5.m5.1d">⟩</annotation></semantics></math> pairs of SR and 518 <math alttext="\langle" class="ltx_Math" display="inline" id="S5.SS2.p2.6.m6.1"><semantics id="S5.SS2.p2.6.m6.1a"><mo id="S5.SS2.p2.6.m6.1.1" stretchy="false" xref="S5.SS2.p2.6.m6.1.1.cmml">⟨</mo><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.6.m6.1b"><ci id="S5.SS2.p2.6.m6.1.1.cmml" xref="S5.SS2.p2.6.m6.1.1">⟨</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.6.m6.1c">\langle</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.6.m6.1d">⟨</annotation></semantics></math><math alttext="Q" class="ltx_Math" display="inline" id="S5.SS2.p2.7.m7.1"><semantics id="S5.SS2.p2.7.m7.1a"><mi id="S5.SS2.p2.7.m7.1.1" xref="S5.SS2.p2.7.m7.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.7.m7.1b"><ci id="S5.SS2.p2.7.m7.1.1.cmml" xref="S5.SS2.p2.7.m7.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.7.m7.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.7.m7.1d">italic_Q</annotation></semantics></math>, <math alttext="D" class="ltx_Math" display="inline" id="S5.SS2.p2.8.m8.1"><semantics id="S5.SS2.p2.8.m8.1a"><mi id="S5.SS2.p2.8.m8.1.1" xref="S5.SS2.p2.8.m8.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.8.m8.1b"><ci id="S5.SS2.p2.8.m8.1.1.cmml" xref="S5.SS2.p2.8.m8.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.8.m8.1c">D</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.8.m8.1d">italic_D</annotation></semantics></math><math alttext="\rangle" class="ltx_Math" display="inline" id="S5.SS2.p2.9.m9.1"><semantics id="S5.SS2.p2.9.m9.1a"><mo id="S5.SS2.p2.9.m9.1.1" stretchy="false" xref="S5.SS2.p2.9.m9.1.1.cmml">⟩</mo><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.9.m9.1b"><ci id="S5.SS2.p2.9.m9.1.1.cmml" xref="S5.SS2.p2.9.m9.1.1">⟩</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.9.m9.1c">\rangle</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.9.m9.1d">⟩</annotation></semantics></math> pairs of MR. We compare the accuracy of IterRAG-LM and PlanRAG-LM for SR and MR, which results are presented in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.F5" title="Figure 5 ‣ 5.2 Results and Analysis ‣ 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<figure class="ltx_figure" id="S5.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="380" id="S5.F5.g1" src="x7.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>
Accuracy(%) of IterRAG-LM and PlanRAG-LM for SR and MR questions.
</figcaption>
</figure>
<div class="ltx_para" id="S5.SS2.p3">
<p class="ltx_p" id="S5.SS2.p3.1">In the result, PlanRAG-LM outperforms much more IterRAG-LM for the SR questions than for the MR questions.
It is because the SR questions actually are not so easy in many cases.
They are the ones that IterRAG-LM tried to solve only by using a single retrieval.
That is, some of them are the questions that IterRAG-LM underestimated its degree of difficulty, but actually are relatively hard ones that require multiple retrievals.
In contrast, PlanRAG-LM reduces the likelihood that it understands the degree of difficulty of given questions through the planning step and performs multiple retrievals according to the plan. As a result, it could significantly improve the accuracy.
For the MR cases, PlanRAG-LM is still more effective than IterRAG-LM because the former performs data retrievals relatively systematically according to the plan, whereas the latter performs retrievals relatively in a disorganized manner like in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S4.F4" title="Figure 4 ‣ 4 Methodology: PlanRAG ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a> (a).</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS2.p4">
<p class="ltx_p" id="S5.SS2.p4.1"><span class="ltx_text ltx_font_bold" id="S5.SS2.p4.1.1">Analysis for RDB and GDB:</span>
Table <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.T5" title="Table 5 ‣ 5.2 Results and Analysis ‣ 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">5</span></a> presents the accuracy of LMs for two different databases, RDB and GDB, in DQA.
In the results, PlanRAG-LM is more effective than other LMs in both scenarios regardless of the database types, i.e., RDB and GDB.
We note that PlanRAG-LM is more effective for GDB than for RDB in the Building scenario.
It is because Building is a harder scenario than Locating that requires a longer traversal in GDB (or a more number of joins in RDB) for answering a question.
For example, the questions in Locating need just a single-hop traversal from source nodes to the home node, but the ones in Building need a multi-hop traversal to find high supply goods in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.F2" title="Figure 2 ‣ 3.2 Building scenario ‣ 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<figure class="ltx_table" id="S5.T5">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T5.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T5.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_t" id="S5.T5.1.1.1.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="2" id="S5.T5.1.1.1.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.2.1">Locating</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="2" id="S5.T5.1.1.1.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.3.1">Building</span></th>
</tr>
<tr class="ltx_tr" id="S5.T5.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row" id="S5.T5.1.2.2.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.2.2.1.1">Decision makers</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.2.2.2" style="padding-top:1.25pt;padding-bottom:1.25pt;">RDB</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.2.2.3" style="padding-top:1.25pt;padding-bottom:1.25pt;">GDB</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.2.2.4" style="padding-top:1.25pt;padding-bottom:1.25pt;">RDB</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.2.2.5" style="padding-top:1.25pt;padding-bottom:1.25pt;">GDB</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T5.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T5.1.3.1.1" style="padding-top:1.25pt;padding-bottom:1.25pt;">SingleRAG-LM</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.3.1.2" style="padding-top:1.25pt;padding-bottom:1.25pt;">25.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.3.1.3" style="padding-top:1.25pt;padding-bottom:1.25pt;">35.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.3.1.4" style="padding-top:1.25pt;padding-bottom:1.25pt;">2.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.3.1.5" style="padding-top:1.25pt;padding-bottom:1.25pt;">3.0</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T5.1.4.2.1" style="padding-top:1.25pt;padding-bottom:1.25pt;">IterRAG-LM</th>
<td class="ltx_td ltx_align_center" id="S5.T5.1.4.2.2" style="padding-top:1.25pt;padding-bottom:1.25pt;">37.5</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.4.2.3" style="padding-top:1.25pt;padding-bottom:1.25pt;">59.5</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.4.2.4" style="padding-top:1.25pt;padding-bottom:1.25pt;">34.7</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.4.2.5" style="padding-top:1.25pt;padding-bottom:1.25pt;">40.6</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b" id="S5.T5.1.5.3.1" style="padding-top:1.25pt;padding-bottom:1.25pt;">PlanRAG-LM</th>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.1.5.3.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.5.3.2.1">64.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.1.5.3.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.5.3.3.1">64.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.1.5.3.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.5.3.4.1">40.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.1.5.3.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.5.3.5.1">49.5</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Accuracy(%) of LMs for RDB and GDB.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S5.SS2.p5">
<p class="ltx_p" id="S5.SS2.p5.8"><span class="ltx_text ltx_font_bold" id="S5.SS2.p5.8.1">Rate of missed data analysis:</span>
In each scenario, there are some critical values that need to be queries or calculated in order to answer the questions.
For example, Locating has such values including <math alttext="IV" class="ltx_Math" display="inline" id="S5.SS2.p5.1.m1.1"><semantics id="S5.SS2.p5.1.m1.1a"><mrow id="S5.SS2.p5.1.m1.1.1" xref="S5.SS2.p5.1.m1.1.1.cmml"><mi id="S5.SS2.p5.1.m1.1.1.2" xref="S5.SS2.p5.1.m1.1.1.2.cmml">I</mi><mo id="S5.SS2.p5.1.m1.1.1.1" xref="S5.SS2.p5.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p5.1.m1.1.1.3" xref="S5.SS2.p5.1.m1.1.1.3.cmml">V</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.1.m1.1b"><apply id="S5.SS2.p5.1.m1.1.1.cmml" xref="S5.SS2.p5.1.m1.1.1"><times id="S5.SS2.p5.1.m1.1.1.1.cmml" xref="S5.SS2.p5.1.m1.1.1.1"></times><ci id="S5.SS2.p5.1.m1.1.1.2.cmml" xref="S5.SS2.p5.1.m1.1.1.2">𝐼</ci><ci id="S5.SS2.p5.1.m1.1.1.3.cmml" xref="S5.SS2.p5.1.m1.1.1.3">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.1.m1.1c">IV</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p5.1.m1.1d">italic_I italic_V</annotation></semantics></math> and <math alttext="TP_{\textit{total}}" class="ltx_Math" display="inline" id="S5.SS2.p5.2.m2.1"><semantics id="S5.SS2.p5.2.m2.1a"><mrow id="S5.SS2.p5.2.m2.1.1" xref="S5.SS2.p5.2.m2.1.1.cmml"><mi id="S5.SS2.p5.2.m2.1.1.2" xref="S5.SS2.p5.2.m2.1.1.2.cmml">T</mi><mo id="S5.SS2.p5.2.m2.1.1.1" xref="S5.SS2.p5.2.m2.1.1.1.cmml">⁢</mo><msub id="S5.SS2.p5.2.m2.1.1.3" xref="S5.SS2.p5.2.m2.1.1.3.cmml"><mi id="S5.SS2.p5.2.m2.1.1.3.2" xref="S5.SS2.p5.2.m2.1.1.3.2.cmml">P</mi><mtext class="ltx_mathvariant_italic" id="S5.SS2.p5.2.m2.1.1.3.3" xref="S5.SS2.p5.2.m2.1.1.3.3a.cmml">total</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.2.m2.1b"><apply id="S5.SS2.p5.2.m2.1.1.cmml" xref="S5.SS2.p5.2.m2.1.1"><times id="S5.SS2.p5.2.m2.1.1.1.cmml" xref="S5.SS2.p5.2.m2.1.1.1"></times><ci id="S5.SS2.p5.2.m2.1.1.2.cmml" xref="S5.SS2.p5.2.m2.1.1.2">𝑇</ci><apply id="S5.SS2.p5.2.m2.1.1.3.cmml" xref="S5.SS2.p5.2.m2.1.1.3"><csymbol cd="ambiguous" id="S5.SS2.p5.2.m2.1.1.3.1.cmml" xref="S5.SS2.p5.2.m2.1.1.3">subscript</csymbol><ci id="S5.SS2.p5.2.m2.1.1.3.2.cmml" xref="S5.SS2.p5.2.m2.1.1.3.2">𝑃</ci><ci id="S5.SS2.p5.2.m2.1.1.3.3a.cmml" xref="S5.SS2.p5.2.m2.1.1.3.3"><mtext class="ltx_mathvariant_italic" id="S5.SS2.p5.2.m2.1.1.3.3.cmml" mathsize="70%" xref="S5.SS2.p5.2.m2.1.1.3.3">total</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.2.m2.1c">TP_{\textit{total}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p5.2.m2.1d">italic_T italic_P start_POSTSUBSCRIPT total end_POSTSUBSCRIPT</annotation></semantics></math>, and Building has such values including <math alttext="CO" class="ltx_Math" display="inline" id="S5.SS2.p5.3.m3.1"><semantics id="S5.SS2.p5.3.m3.1a"><mrow id="S5.SS2.p5.3.m3.1.1" xref="S5.SS2.p5.3.m3.1.1.cmml"><mi id="S5.SS2.p5.3.m3.1.1.2" xref="S5.SS2.p5.3.m3.1.1.2.cmml">C</mi><mo id="S5.SS2.p5.3.m3.1.1.1" xref="S5.SS2.p5.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p5.3.m3.1.1.3" xref="S5.SS2.p5.3.m3.1.1.3.cmml">O</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.3.m3.1b"><apply id="S5.SS2.p5.3.m3.1.1.cmml" xref="S5.SS2.p5.3.m3.1.1"><times id="S5.SS2.p5.3.m3.1.1.1.cmml" xref="S5.SS2.p5.3.m3.1.1.1"></times><ci id="S5.SS2.p5.3.m3.1.1.2.cmml" xref="S5.SS2.p5.3.m3.1.1.2">𝐶</ci><ci id="S5.SS2.p5.3.m3.1.1.3.cmml" xref="S5.SS2.p5.3.m3.1.1.3">𝑂</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.3.m3.1c">CO</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p5.3.m3.1d">italic_C italic_O</annotation></semantics></math> and <math alttext="PD" class="ltx_Math" display="inline" id="S5.SS2.p5.4.m4.1"><semantics id="S5.SS2.p5.4.m4.1a"><mrow id="S5.SS2.p5.4.m4.1.1" xref="S5.SS2.p5.4.m4.1.1.cmml"><mi id="S5.SS2.p5.4.m4.1.1.2" xref="S5.SS2.p5.4.m4.1.1.2.cmml">P</mi><mo id="S5.SS2.p5.4.m4.1.1.1" xref="S5.SS2.p5.4.m4.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p5.4.m4.1.1.3" xref="S5.SS2.p5.4.m4.1.1.3.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.4.m4.1b"><apply id="S5.SS2.p5.4.m4.1.1.cmml" xref="S5.SS2.p5.4.m4.1.1"><times id="S5.SS2.p5.4.m4.1.1.1.cmml" xref="S5.SS2.p5.4.m4.1.1.1"></times><ci id="S5.SS2.p5.4.m4.1.1.2.cmml" xref="S5.SS2.p5.4.m4.1.1.2">𝑃</ci><ci id="S5.SS2.p5.4.m4.1.1.3.cmml" xref="S5.SS2.p5.4.m4.1.1.3">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.4.m4.1c">PD</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p5.4.m4.1d">italic_P italic_D</annotation></semantics></math>. In order to analyze why PlanRAG is more effective than IterRAG-LM, we measure the rate of missed data analysis for querying or calculating such values. We use <math alttext="IV" class="ltx_Math" display="inline" id="S5.SS2.p5.5.m5.1"><semantics id="S5.SS2.p5.5.m5.1a"><mrow id="S5.SS2.p5.5.m5.1.1" xref="S5.SS2.p5.5.m5.1.1.cmml"><mi id="S5.SS2.p5.5.m5.1.1.2" xref="S5.SS2.p5.5.m5.1.1.2.cmml">I</mi><mo id="S5.SS2.p5.5.m5.1.1.1" xref="S5.SS2.p5.5.m5.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p5.5.m5.1.1.3" xref="S5.SS2.p5.5.m5.1.1.3.cmml">V</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.5.m5.1b"><apply id="S5.SS2.p5.5.m5.1.1.cmml" xref="S5.SS2.p5.5.m5.1.1"><times id="S5.SS2.p5.5.m5.1.1.1.cmml" xref="S5.SS2.p5.5.m5.1.1.1"></times><ci id="S5.SS2.p5.5.m5.1.1.2.cmml" xref="S5.SS2.p5.5.m5.1.1.2">𝐼</ci><ci id="S5.SS2.p5.5.m5.1.1.3.cmml" xref="S5.SS2.p5.5.m5.1.1.3">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.5.m5.1c">IV</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p5.5.m5.1d">italic_I italic_V</annotation></semantics></math> and <math alttext="TP_{\textit{total}}" class="ltx_Math" display="inline" id="S5.SS2.p5.6.m6.1"><semantics id="S5.SS2.p5.6.m6.1a"><mrow id="S5.SS2.p5.6.m6.1.1" xref="S5.SS2.p5.6.m6.1.1.cmml"><mi id="S5.SS2.p5.6.m6.1.1.2" xref="S5.SS2.p5.6.m6.1.1.2.cmml">T</mi><mo id="S5.SS2.p5.6.m6.1.1.1" xref="S5.SS2.p5.6.m6.1.1.1.cmml">⁢</mo><msub id="S5.SS2.p5.6.m6.1.1.3" xref="S5.SS2.p5.6.m6.1.1.3.cmml"><mi id="S5.SS2.p5.6.m6.1.1.3.2" xref="S5.SS2.p5.6.m6.1.1.3.2.cmml">P</mi><mtext class="ltx_mathvariant_italic" id="S5.SS2.p5.6.m6.1.1.3.3" xref="S5.SS2.p5.6.m6.1.1.3.3a.cmml">total</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.6.m6.1b"><apply id="S5.SS2.p5.6.m6.1.1.cmml" xref="S5.SS2.p5.6.m6.1.1"><times id="S5.SS2.p5.6.m6.1.1.1.cmml" xref="S5.SS2.p5.6.m6.1.1.1"></times><ci id="S5.SS2.p5.6.m6.1.1.2.cmml" xref="S5.SS2.p5.6.m6.1.1.2">𝑇</ci><apply id="S5.SS2.p5.6.m6.1.1.3.cmml" xref="S5.SS2.p5.6.m6.1.1.3"><csymbol cd="ambiguous" id="S5.SS2.p5.6.m6.1.1.3.1.cmml" xref="S5.SS2.p5.6.m6.1.1.3">subscript</csymbol><ci id="S5.SS2.p5.6.m6.1.1.3.2.cmml" xref="S5.SS2.p5.6.m6.1.1.3.2">𝑃</ci><ci id="S5.SS2.p5.6.m6.1.1.3.3a.cmml" xref="S5.SS2.p5.6.m6.1.1.3.3"><mtext class="ltx_mathvariant_italic" id="S5.SS2.p5.6.m6.1.1.3.3.cmml" mathsize="70%" xref="S5.SS2.p5.6.m6.1.1.3.3">total</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.6.m6.1c">TP_{\textit{total}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p5.6.m6.1d">italic_T italic_P start_POSTSUBSCRIPT total end_POSTSUBSCRIPT</annotation></semantics></math> for Locating, and <math alttext="CO" class="ltx_Math" display="inline" id="S5.SS2.p5.7.m7.1"><semantics id="S5.SS2.p5.7.m7.1a"><mrow id="S5.SS2.p5.7.m7.1.1" xref="S5.SS2.p5.7.m7.1.1.cmml"><mi id="S5.SS2.p5.7.m7.1.1.2" xref="S5.SS2.p5.7.m7.1.1.2.cmml">C</mi><mo id="S5.SS2.p5.7.m7.1.1.1" xref="S5.SS2.p5.7.m7.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p5.7.m7.1.1.3" xref="S5.SS2.p5.7.m7.1.1.3.cmml">O</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.7.m7.1b"><apply id="S5.SS2.p5.7.m7.1.1.cmml" xref="S5.SS2.p5.7.m7.1.1"><times id="S5.SS2.p5.7.m7.1.1.1.cmml" xref="S5.SS2.p5.7.m7.1.1.1"></times><ci id="S5.SS2.p5.7.m7.1.1.2.cmml" xref="S5.SS2.p5.7.m7.1.1.2">𝐶</ci><ci id="S5.SS2.p5.7.m7.1.1.3.cmml" xref="S5.SS2.p5.7.m7.1.1.3">𝑂</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.7.m7.1c">CO</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p5.7.m7.1d">italic_C italic_O</annotation></semantics></math> and <math alttext="PD" class="ltx_Math" display="inline" id="S5.SS2.p5.8.m8.1"><semantics id="S5.SS2.p5.8.m8.1a"><mrow id="S5.SS2.p5.8.m8.1.1" xref="S5.SS2.p5.8.m8.1.1.cmml"><mi id="S5.SS2.p5.8.m8.1.1.2" xref="S5.SS2.p5.8.m8.1.1.2.cmml">P</mi><mo id="S5.SS2.p5.8.m8.1.1.1" xref="S5.SS2.p5.8.m8.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p5.8.m8.1.1.3" xref="S5.SS2.p5.8.m8.1.1.3.cmml">D</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.8.m8.1b"><apply id="S5.SS2.p5.8.m8.1.1.cmml" xref="S5.SS2.p5.8.m8.1.1"><times id="S5.SS2.p5.8.m8.1.1.1.cmml" xref="S5.SS2.p5.8.m8.1.1.1"></times><ci id="S5.SS2.p5.8.m8.1.1.2.cmml" xref="S5.SS2.p5.8.m8.1.1.2">𝑃</ci><ci id="S5.SS2.p5.8.m8.1.1.3.cmml" xref="S5.SS2.p5.8.m8.1.1.3">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.8.m8.1c">PD</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p5.8.m8.1d">italic_P italic_D</annotation></semantics></math> for Building, as a criteria.
Table <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.T6" title="Table 6 ‣ 5.2 Results and Analysis ‣ 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">6</span></a> shows that PlanRAG-LM has low rates, 1.3% and 21.8%, while IterRAG-LM has higher rates, 3.3% and 33.2%. It means that IterRAG-LM would achieve lower accuracy than PlanRAG-LM even though it could do reasoning perfectly. According to Table <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.T6" title="Table 6 ‣ 5.2 Results and Analysis ‣ 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">6</span></a>, PlanRAG-LM might be able to achieve the accuracy of 98.7% in Locating, but the actual accuracy in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.T4" title="Table 4 ‣ 5.2 Results and Analysis ‣ 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a> is lower than that. It is because reasoning (including planning) itself is very challenging besides missed data analysis.</p>
</div>
<figure class="ltx_table" id="S5.T6">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T6.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T6.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S5.T6.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T6.1.1.1.1.1">Decision makers</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T6.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S5.T6.1.1.1.2.1">Locating</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T6.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S5.T6.1.1.1.3.1">Building</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T6.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T6.1.2.1.1">IterRAG-LM</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.1.2">3.3%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.1.3">33.2%</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b" id="S5.T6.1.3.2.1">PlanRAG-LM</th>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T6.1.3.2.2"><span class="ltx_text ltx_font_bold" id="S5.T6.1.3.2.2.1">1.3%</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T6.1.3.2.3"><span class="ltx_text ltx_font_bold" id="S5.T6.1.3.2.3.1">21.8%</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Rate of missed data analysis. </figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S5.SS2.p6">
<p class="ltx_p" id="S5.SS2.p6.1"><span class="ltx_text ltx_font_bold" id="S5.SS2.p6.1.1">Analysis for failure cases:</span>
We classify each failure case into five error categories as follows: (1) <span class="ltx_text ltx_font_italic" id="S5.SS2.p6.1.2">CAN</span>, which means an LM fails to solve a question by considering improper candidates (e.g. <span class="ltx_text ltx_font_italic" id="S5.SS2.p6.1.3">dest</span> of Deccan in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">1</span></a>) and answer them; (2) <span class="ltx_text ltx_font_italic" id="S5.SS2.p6.1.4">MIS</span>, missed data analysis; (3) <span class="ltx_text ltx_font_italic" id="S5.SS2.p6.1.5">DEEP</span>, using retrieved data or equations unproperly; (4) <span class="ltx_text ltx_font_italic" id="S5.SS2.p6.1.6">QUR</span>, query generation error; and (5) <span class="ltx_text ltx_font_italic" id="S5.SS2.p6.1.7">OTH</span>, other errors (e.g. exceeding token length limits). For example, we classify <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S4.F4" title="Figure 4 ‣ 4 Methodology: PlanRAG ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a>(a) as DEEP, because an LM misused some equations and so underestimated the profit of Doab.
We compare failure cases done by IterRAG-LM and PlanRAG-LM based on these categories, in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.F6" title="Figure 6 ‣ 5.2 Results and Analysis ‣ 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<figure class="ltx_figure" id="S5.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="463" id="S5.F6.g1" src="x8.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>A result of failure case analysis. Failure rate means the number of failure questions divided by the number of all questions.
</figcaption>
</figure>
<div class="ltx_para" id="S5.SS2.p7">
<p class="ltx_p" id="S5.SS2.p7.1">In the result, PlanRAG-LM significantly reduces CAN and MIS errors for both scenarios.
It means that PlanRAG-LM can understand a question of Decision QA better and query critical data for the question better than IterRAG-LM.
We also note that PlanRAG-LM has slightly more DEEP cases than IterRAG-LM for both scenarios.
In our observation, DEEP error appears only if there are no CAN or MIS errors.
For example, in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S4.F4" title="Figure 4 ‣ 4 Methodology: PlanRAG ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a>(a), there is no chance for an LM to underestimate the profit of Doab (i.e. making DEEP error) when it fails to take Doab as one of the candidates (i.e. making CAN error).
Thus, we can say that the increase of DEEP cases in PlanRAG-LM comes from side effects of reducing both CAN and MIS cases.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS2.p8">
<p class="ltx_p" id="S5.SS2.p8.1"><span class="ltx_text ltx_font_bold" id="S5.SS2.p8.1.1">Analysis for re-planning:</span>
PlanRAG-LM performs re-planning for some DQA questions.
Table <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.T7" title="Table 7 ‣ 5.2 Results and Analysis ‣ 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">7</span></a> presents the distribution of questions based on the number of re-plannings conducted by PlanRAG-LM and the accuracy improved by re-planning.
Detailed cases and statistics for re-planning are in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS8" title="A.8 Re-planning cases ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">A.8</span></a>.</p>
</div>
<figure class="ltx_table" id="S5.T7">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T7.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T7.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S5.T7.1.1.1.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S5.T7.1.1.1.1.1">No. of re-plannings</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T7.1.1.1.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S5.T7.1.1.1.2.1">Locating</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T7.1.1.1.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S5.T7.1.1.1.3.1">Building</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T7.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T7.1.2.1.1" style="padding-top:1pt;padding-bottom:1pt;">0</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.1.2.1.2" style="padding-top:1pt;padding-bottom:1pt;">376 (66.8%)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T7.1.2.1.3" style="padding-top:1pt;padding-bottom:1pt;">125 (57.6%)</td>
</tr>
<tr class="ltx_tr" id="S5.T7.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T7.1.3.2.1" style="padding-top:1pt;padding-bottom:1pt;">1</th>
<td class="ltx_td ltx_align_center" id="S5.T7.1.3.2.2" style="padding-top:1pt;padding-bottom:1pt;">0 (-)</td>
<td class="ltx_td ltx_align_center" id="S5.T7.1.3.2.3" style="padding-top:1pt;padding-bottom:1pt;">0 (-)</td>
</tr>
<tr class="ltx_tr" id="S5.T7.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T7.1.4.3.1" style="padding-top:1pt;padding-bottom:1pt;">2</th>
<td class="ltx_td ltx_align_center" id="S5.T7.1.4.3.2" style="padding-top:1pt;padding-bottom:1pt;">12 (41.7%)</td>
<td class="ltx_td ltx_align_center" id="S5.T7.1.4.3.3" style="padding-top:1pt;padding-bottom:1pt;">24 (41.7%)</td>
</tr>
<tr class="ltx_tr" id="S5.T7.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T7.1.5.4.1" style="padding-top:1pt;padding-bottom:1pt;">3</th>
<td class="ltx_td ltx_align_center" id="S5.T7.1.5.4.2" style="padding-top:1pt;padding-bottom:1pt;">5 (20.0%)</td>
<td class="ltx_td ltx_align_center" id="S5.T7.1.5.4.3" style="padding-top:1pt;padding-bottom:1pt;">23 (21.7%)</td>
</tr>
<tr class="ltx_tr" id="S5.T7.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T7.1.6.5.1" style="padding-top:1pt;padding-bottom:1pt;">more than 4</th>
<td class="ltx_td ltx_align_center" id="S5.T7.1.6.5.2" style="padding-top:1pt;padding-bottom:1pt;">7 (0.0%)</td>
<td class="ltx_td ltx_align_center" id="S5.T7.1.6.5.3" style="padding-top:1pt;padding-bottom:1pt;">30 (13.3%)</td>
</tr>
<tr class="ltx_tr" id="S5.T7.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_t" id="S5.T7.1.7.6.1" style="padding-top:1pt;padding-bottom:1pt;">Total</th>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T7.1.7.6.2" style="padding-top:1pt;padding-bottom:1pt;">400 (64.3%)</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S5.T7.1.7.6.3" style="padding-top:1pt;padding-bottom:1pt;">202 (45.0%)</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>Statistics of DQA questions according to the number of re-plannings conducted by PlanRAG-LM. The percentage in parentheses indicates the accuracy(%) on a set of corresponding questions.</figcaption>
</figure>
<div class="ltx_para" id="S5.SS2.p9">
<p class="ltx_p" id="S5.SS2.p9.1">In the result, PlanRAG-LM re-plans more frequently in the Building scenario than the Locating scenario.
PlanRAG-LM re-plans 24 out of 400 questions (6% of questions) in Locating, but re-plan 77 out of 202 questions (38% of questions) in Building.
In addition, the rate of questions that are re-planned more than four times is much larger in Building (30 questions, 14.85%) than Locating (7 ones, 1.75%).
We note that an LM re-plans if its original plan is insufficient, as we explained in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S4" title="4 Methodology: PlanRAG ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a>.
Thus, the result indicates that an LM struggles to make a plan (for both initial planning and re-planning) in Building and explains relatively small gap between PlanRAG-LM and other techniques in Building, in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.T4" title="Table 4 ‣ 5.2 Results and Analysis ‣ 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a>.
It is also consistent with the result in Table 7 where the accuracy improved by re-planning decreases as the number of re-plannings increases.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section" style="color:#000000;">
<span class="ltx_tag ltx_tag_section">6 </span>Related Work</h2>
<div class="ltx_para ltx_noindent" id="S6.p1">
<p class="ltx_p" id="S6.p1.1"><span class="ltx_text ltx_font_bold" id="S6.p1.1.1" style="color:#000000;">NLP tasks using structured data</span><span class="ltx_text" id="S6.p1.1.2" style="color:#000000;">
A number of benchmarks for reasoning over structured data have been proposed, such as Table NLI benchmarks </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Chen et al.</span> <span class="ltx_text" id="S6.p1.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib5" title=""><span class="ltx_text" style="color:#000000;">2020a</span></a><span class="ltx_text" id="S6.p1.1.4.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Gupta et al.</span> <span class="ltx_text" id="S6.p1.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib13" title=""><span class="ltx_text" style="color:#000000;">2020</span></a><span class="ltx_text" id="S6.p1.1.4.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Jena et al.</span> <span class="ltx_text" id="S6.p1.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib21" title=""><span class="ltx_text" style="color:#000000;">2022</span></a><span class="ltx_text" id="S6.p1.1.4.2.2.1" style="color:#000000;">)</span></cite><span class="ltx_text" id="S6.p1.1.5" style="color:#000000;"> and Tabular QA </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Iyyer et al.</span> <span class="ltx_text" id="S6.p1.1.6.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib17" title=""><span class="ltx_text" style="color:#000000;">2017</span></a><span class="ltx_text" id="S6.p1.1.7.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Chen et al.</span> <span class="ltx_text" id="S6.p1.1.6.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib6" title=""><span class="ltx_text" style="color:#000000;">2020b</span></a><span class="ltx_text" id="S6.p1.1.7.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Zhu et al.</span> <span class="ltx_text" id="S6.p1.1.6.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib48" title=""><span class="ltx_text" style="color:#000000;">2021</span></a><span class="ltx_text" id="S6.p1.1.7.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Chen et al.</span> <span class="ltx_text" id="S6.p1.1.6.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib7" title=""><span class="ltx_text" style="color:#000000;">2021b</span></a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib4" title="">a</a><span class="ltx_text" id="S6.p1.1.7.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Li et al.</span> <span class="ltx_text" id="S6.p1.1.6.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib31" title=""><span class="ltx_text" style="color:#000000;">2022</span></a><span class="ltx_text" id="S6.p1.1.7.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Nan et al.</span> <span class="ltx_text" id="S6.p1.1.6.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib32" title=""><span class="ltx_text" style="color:#000000;">2022</span></a><span class="ltx_text" id="S6.p1.1.7.2.2.1" style="color:#000000;">)</span></cite><span class="ltx_text" id="S6.p1.1.8" style="color:#000000;">.
Tabular QA is a task answering questions based on given tabular data, and Tabular NLI is a task determining hypotheses are entailment, contradiction, or neutral based on given tabular data.
However, such benchmarks did not consider the business rules, and also, not consider LMs’ querying over a large structured database.
Table </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S6.T8" style="color:#000000;" title="Table 8 ‣ 6 Related Work ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">8</span></a><span class="ltx_text" id="S6.p1.1.9" style="color:#000000;"> shows that the number of rows per table in the above benchmarks is much smaller than that in our DQA benchmark.</span></p>
</div>
<figure class="ltx_table" id="S6.T8">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S6.T8.3">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T8.3.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S6.T8.3.1.1.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T8.3.1.1.1.1" style="color:#000000;">Benchmarks</span></th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S6.T8.3.1.1.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T8.3.1.1.2.1" style="color:#000000;">Avg. rows</span></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S6.T8.3.2.2.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T8.3.2.2.1.1" style="color:#000000;">Tabular QA</span></th>
<td class="ltx_td ltx_border_t" id="S6.T8.3.2.2.2" style="padding-top:1pt;padding-bottom:1pt;"></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T8.3.3.3.1" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T8.3.3.3.1.1" style="color:#000000;">HybridQA </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Chen et al.</span> <span class="ltx_text" id="S6.T8.3.3.3.1.2.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib6" title=""><span class="ltx_text" style="color:#000000;">2020b</span></a><span class="ltx_text" id="S6.T8.3.3.3.1.3.2.2.1" style="color:#000000;">)</span></cite>
</th>
<td class="ltx_td ltx_align_right" id="S6.T8.3.3.3.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T8.3.3.3.2.1" style="color:#000000;">15.7</span></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T8.3.4.4.1" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T8.3.4.4.1.1" style="color:#000000;">TAT-QA </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Zhu et al.</span> <span class="ltx_text" id="S6.T8.3.4.4.1.2.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib48" title=""><span class="ltx_text" style="color:#000000;">2021</span></a><span class="ltx_text" id="S6.T8.3.4.4.1.3.2.2.1" style="color:#000000;">)</span></cite>
</th>
<td class="ltx_td ltx_align_right" id="S6.T8.3.4.4.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T8.3.4.4.2.1" style="color:#000000;">9.5</span></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T8.3.5.5.1" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T8.3.5.5.1.1" style="color:#000000;">FinQA </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Chen et al.</span> <span class="ltx_text" id="S6.T8.3.5.5.1.2.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib7" title=""><span class="ltx_text" style="color:#000000;">2021b</span></a><span class="ltx_text" id="S6.T8.3.5.5.1.3.2.2.1" style="color:#000000;">)</span></cite>
</th>
<td class="ltx_td ltx_align_right" id="S6.T8.3.5.5.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T8.3.5.5.2.1" style="color:#000000;">6.26</span></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T8.3.6.6.1" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T8.3.6.6.1.1" style="color:#000000;">WikiTableQA </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Zhu et al.</span> <span class="ltx_text" id="S6.T8.3.6.6.1.2.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib48" title=""><span class="ltx_text" style="color:#000000;">2021</span></a><span class="ltx_text" id="S6.T8.3.6.6.1.3.2.2.1" style="color:#000000;">)</span></cite>
</th>
<td class="ltx_td ltx_align_right" id="S6.T8.3.6.6.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T8.3.6.6.2.1" style="color:#000000;">30</span></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S6.T8.3.7.7.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T8.3.7.7.1.1" style="color:#000000;">Table NLI</span></th>
<td class="ltx_td ltx_border_t" id="S6.T8.3.7.7.2" style="padding-top:1pt;padding-bottom:1pt;"></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T8.3.8.8.1" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T8.3.8.8.1.1" style="color:#000000;">TabFact </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Chen et al.</span> <span class="ltx_text" id="S6.T8.3.8.8.1.2.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib5" title=""><span class="ltx_text" style="color:#000000;">2020a</span></a><span class="ltx_text" id="S6.T8.3.8.8.1.3.2.2.1" style="color:#000000;">)</span></cite>
</th>
<td class="ltx_td ltx_align_right" id="S6.T8.3.8.8.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T8.3.8.8.2.1" style="color:#000000;">14.5</span></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.9.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T8.3.9.9.1" style="padding-top:1pt;padding-bottom:1pt;">
<span class="ltx_text" id="S6.T8.3.9.9.1.1" style="color:#000000;">ToTTo-TNLI </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Jena et al.</span> <span class="ltx_text" id="S6.T8.3.9.9.1.2.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib21" title=""><span class="ltx_text" style="color:#000000;">2022</span></a><span class="ltx_text" id="S6.T8.3.9.9.1.3.2.2.1" style="color:#000000;">)</span></cite>
</th>
<td class="ltx_td ltx_align_right" id="S6.T8.3.9.9.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T8.3.9.9.2.1" style="color:#000000;">35.8</span></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S6.T8.3.10.10.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T8.3.10.10.1.1" style="color:#000000;">Decision QA (ours)</span></th>
<td class="ltx_td ltx_border_t" id="S6.T8.3.10.10.2" style="padding-top:1pt;padding-bottom:1pt;"></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.11.11">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T8.3.11.11.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T8.3.11.11.1.1" style="color:#000000;">Building with RDB</span></th>
<td class="ltx_td ltx_align_right" id="S6.T8.3.11.11.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T8.3.11.11.2.1" style="color:#000000;">579.0</span></td>
</tr>
<tr class="ltx_tr" id="S6.T8.3.12.12">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b" id="S6.T8.3.12.12.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S6.T8.3.12.12.1.1" style="color:#000000;">Locating with RDB</span></th>
<td class="ltx_td ltx_align_right ltx_border_b" id="S6.T8.3.12.12.2" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S6.T8.3.12.12.2.1" style="color:#000000;">2038.8</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="color:#000000;"><span class="ltx_tag ltx_tag_table">Table 8: </span>Average number of rows per table in Tabular QA, Table NLI and Decision QA benchmarks. For Tabular QA and Table NLI, and DQA benchmarks.
For DQA, the number of rows of <math alttext="D" class="ltx_Math" display="inline" id="S6.T8.2.m1.1"><semantics id="S6.T8.2.m1.1b"><mi id="S6.T8.2.m1.1.1" mathcolor="#000000" xref="S6.T8.2.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S6.T8.2.m1.1c"><ci id="S6.T8.2.m1.1.1.cmml" xref="S6.T8.2.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T8.2.m1.1d">D</annotation><annotation encoding="application/x-llamapun" id="S6.T8.2.m1.1e">italic_D</annotation></semantics></math> are presented since every question needs to access to all tables.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S6.p2">
<p class="ltx_p" id="S6.p2.1"><span class="ltx_text ltx_font_bold" id="S6.p2.1.1" style="color:#000000;">RAG technique</span><span class="ltx_text" id="S6.p2.1.2" style="color:#000000;">
RAG is the most common approach to augment the generation of LMs with external data.
LMs retrieve the data related to an input (e.g., question) and then, generate a response (e.g., answer) based on the retrieved observations. Most of them operate in a single-turn (i.e., non-iterative) manner </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Guu et al.</span> <span class="ltx_text" id="S6.p2.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib14" title=""><span class="ltx_text" style="color:#000000;">2020</span></a><span class="ltx_text" id="S6.p2.1.4.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Izacard et al.</span> <span class="ltx_text" id="S6.p2.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib19" title=""><span class="ltx_text" style="color:#000000;">2023</span></a><span class="ltx_text" id="S6.p2.1.4.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Izacard and Grave</span> <span class="ltx_text" id="S6.p2.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib18" title=""><span class="ltx_text" style="color:#000000;">2021</span></a><span class="ltx_text" id="S6.p2.1.4.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Jiang et al.</span> <span class="ltx_text" id="S6.p2.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib24" title=""><span class="ltx_text" style="color:#000000;">2022b</span></a><span class="ltx_text" id="S6.p2.1.4.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Shi et al.</span> <span class="ltx_text" id="S6.p2.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib39" title=""><span class="ltx_text" style="color:#000000;">2023</span></a><span class="ltx_text" id="S6.p2.1.4.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Borgeaud et al.</span> <span class="ltx_text" id="S6.p2.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib3" title=""><span class="ltx_text" style="color:#000000;">2022</span></a><span class="ltx_text" id="S6.p2.1.4.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Lewis et al.</span> <span class="ltx_text" id="S6.p2.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib30" title=""><span class="ltx_text" style="color:#000000;">2020</span></a><span class="ltx_text" id="S6.p2.1.4.2.2.1" style="color:#000000;">)</span></cite><span class="ltx_text" id="S6.p2.1.5" style="color:#000000;"> and so have clear limitations in complex tasks that require multi-hop reasoning.
To address this, several methods have been proposed to augment generation by performing a process of retrieval-then-generation iteratively </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Jiang et al.</span> <span class="ltx_text" id="S6.p2.1.6.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib25" title=""><span class="ltx_text" style="color:#000000;">2023b</span></a><span class="ltx_text" id="S6.p2.1.7.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Shao et al.</span> <span class="ltx_text" id="S6.p2.1.6.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib38" title=""><span class="ltx_text" style="color:#000000;">2023</span></a><span class="ltx_text" id="S6.p2.1.7.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Trivedi et al.</span> <span class="ltx_text" id="S6.p2.1.6.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib42" title=""><span class="ltx_text" style="color:#000000;">2023</span></a><span class="ltx_text" id="S6.p2.1.7.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Jiang et al.</span> <span class="ltx_text" id="S6.p2.1.6.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib22" title=""><span class="ltx_text" style="color:#000000;">2023a</span></a><span class="ltx_text" id="S6.p2.1.7.2.2.1" style="color:#000000;">)</span></cite><span class="ltx_text" id="S6.p2.1.8" style="color:#000000;">. It has shown successful performance on various tasks that require multiple data accesses to generate responses </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Yang et al.</span> <span class="ltx_text" id="S6.p2.1.9.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib45" title=""><span class="ltx_text" style="color:#000000;">2018</span></a><span class="ltx_text" id="S6.p2.1.10.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Thorne et al.</span> <span class="ltx_text" id="S6.p2.1.9.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib40" title=""><span class="ltx_text" style="color:#000000;">2018</span></a><span class="ltx_text" id="S6.p2.1.10.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Ho et al.</span> <span class="ltx_text" id="S6.p2.1.9.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib16" title=""><span class="ltx_text" style="color:#000000;">2020</span></a><span class="ltx_text" id="S6.p2.1.10.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Aly et al.</span> <span class="ltx_text" id="S6.p2.1.9.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib2" title=""><span class="ltx_text" style="color:#000000;">2021</span></a><span class="ltx_text" id="S6.p2.1.10.2.2.1" style="color:#000000;">)</span></cite><span class="ltx_text" id="S6.p2.1.11" style="color:#000000;">, but is not powerful enough to solve the decision making task well in our experiments.</span></p>
</div>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section" style="color:#000000;">
<span class="ltx_tag ltx_tag_section">7 </span>Conclusions</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1"><span class="ltx_text" id="S7.p1.1.1" style="color:#000000;">In this paper, we explored the capability of LLMs as a solution for decision making.
We proposed the new decision-making task, </span><span class="ltx_text ltx_font_bold" id="S7.p1.1.2" style="color:#000000;">Decision QA</span><span class="ltx_text" id="S7.p1.1.3" style="color:#000000;">, which answers the best decision for a given complex decision-making question that requires considering both the business rules and business situation represented in a large database (in either RDB or GDB).
We built the benchmark for Decision QA, called </span><span class="ltx_text ltx_font_bold" id="S7.p1.1.4" style="color:#000000;">DQA</span><span class="ltx_text" id="S7.p1.1.5" style="color:#000000;">, by extracting 301 sets of a database (in both RDB and GDB), a question, and an answers(ground truth) from two popular video games imitating real business situations that require decision making.
We also proposed the new RAG technique called </span><span class="ltx_text ltx_font_bold" id="S7.p1.1.6" style="color:#000000;">PlanRAG</span><span class="ltx_text" id="S7.p1.1.7" style="color:#000000;">, which performs planning before retrieving and re-planning if the initial plan is not good enough.
Through extensive experiments, we demonstrated that PlanRAG significantly outperforms the SOTA iterative RAG for the Decision QA task.</span></p>
</div>
</section>
<section class="ltx_section" id="S8">
<h2 class="ltx_title ltx_title_section" style="color:#000000;">
<span class="ltx_tag ltx_tag_section">8 </span>Limitations</h2>
<div class="ltx_para" id="S8.p1">
<p class="ltx_p" id="S8.p1.1"><span class="ltx_text" id="S8.p1.1.1" style="color:#000000;">In this paper, we explored the capability of LLM as a solution for decision making. However, our study still has several limitations.</span></p>
</div>
<div class="ltx_para" id="S8.p2">
<p class="ltx_p" id="S8.p2.1"><span class="ltx_text" id="S8.p2.1.1" style="color:#000000;">First, in this study, we focused on Decision QA using graph database or relational database. Decision making based on other databases, such as a hybrid form of database and vector database, could be explored in future research.</span></p>
</div>
<div class="ltx_para" id="S8.p3">
<p class="ltx_p" id="S8.p3.1"><span class="ltx_text" id="S8.p3.1.1" style="color:#000000;">Next, we proposed techniques from a high-level RAG technique perspective that should be considered when solving Decision QA. Therefore, we do not focus on the low-level methods for solving Decision QA in this paper. For example, creating a fine-tuned model that efficiently generates Cypher queries could be beneficial for solving Decision QA using GDB. These areas should also be addressed in future works.</span></p>
</div>
<div class="ltx_para" id="S8.p4">
<p class="ltx_p" id="S8.p4.1"><span class="ltx_text" id="S8.p4.1.1" style="color:#000000;">Lastly, we designed our PlanRAG methodology and implemented our PlanRAG-LM using single LM, while some researches have suggest language model frameworks using multiple LMs. The effectiveness of the PlanRAG in multiple LMs framework is not a focus of this paper and is left as a further study.</span></p>
</div>
</section>
<section class="ltx_section" id="S9">
<h2 class="ltx_title ltx_title_section" style="color:#000000;">
<span class="ltx_tag ltx_tag_section">9 </span>Ethical Considerations</h2>
<div class="ltx_para" id="S9.p1">
<p class="ltx_p" id="S9.p1.1"><span class="ltx_text" id="S9.p1.1.1" style="color:#000000;">Language models have a hallucination issue and can potentially generate biased answers. RAG methods we have discussed are known to mitigate these issues to some extent, but it does not imply that these issues do not occur.
Therefore, when applying our research to real-world applications, it is essential to closely examine whether the generated decisions are inferred based on hallucinated or biased knowledge.</span></p>
</div>
<div class="ltx_para" id="S9.p2">
<p class="ltx_p" id="S9.p2.1"><span class="ltx_text" id="S9.p2.1.1" style="color:#000000;">Before constructing our benchmark and simulator from Europa Universalis IV and Victoria 3 games, we have considered end user license agreement (EULA)</span><span class="ltx_note ltx_role_footnote" id="footnote6"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span><a class="ltx_ref ltx_href" href="https://legal.paradoxplaza.com/eula?locale=en" title="">https://legal.paradoxplaza.com/eula?locale=en</a></span></span></span><span class="ltx_text" id="S9.p2.1.2" style="color:#000000;"> of their game publisher, Paradox Interactive.
Our benchmark and simulator correspond to gameplay and scripts of user generated content (UGC) in section 5 of EULA, and thus our content should be open-sourced. Therefore, we open our benchmark and simulator under the MIT license. Also, utilizing all icons that came from these games in our paper is classified as streaming Paradox Games in section 6 of EULA. According to EULA, we can freely use icons if our paper is not behind a paywall.</span></p>
</div>
<div class="ltx_para" id="S9.p3">
<p class="ltx_p" id="S9.p3.1"><span class="ltx_text" id="S9.p3.1.1" style="color:#000000;">Video games that we have used to construct DQA describe historical situations. Therefore, our datasets, based on these games, include knowledge that contradicts contemporary common sense and might be aggressive towards certain groups.
For example, the correct answer that a specific nation should influence a particular region in the Locating scenario of our benchmark might be aggressive to specific nations or regions.
To avoid these issues, we anonymized the names of nations into three-letter codes rather than mentioning their names directly.
For example, instead of using the term </span><span class="ltx_text ltx_font_italic" id="S9.p3.1.2" style="color:#000000;">Bahmanis Sultanate<span class="ltx_note ltx_role_footnote" id="footnote7"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_upright" id="footnote7.1.1.1" style="color:#000000;">7</span></span><a class="ltx_ref ltx_href ltx_font_upright" href="https://en.wikipedia.org/wiki/Bahmani_Sultanate" style="color:#000000;" title="">https://en.wikipedia.org/wiki/Bahmani_Sultanate</a></span></span></span></span><span class="ltx_text" id="S9.p3.1.3" style="color:#000000;">, we employed the term </span><span class="ltx_text ltx_font_italic" id="S9.p3.1.4" style="color:#000000;">BAH</span><span class="ltx_text" id="S9.p3.1.5" style="color:#000000;">, and instead of </span><span class="ltx_text ltx_font_italic" id="S9.p3.1.6" style="color:#000000;">The Papel States<span class="ltx_note ltx_role_footnote" id="footnote8"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_upright" id="footnote8.1.1.1" style="color:#000000;">8</span></span><a class="ltx_ref ltx_href ltx_font_upright" href="https://en.wikipedia.org/wiki/Papal_States" style="color:#000000;" title="">https://en.wikipedia.org/wiki/Papal_States</a></span></span></span></span><span class="ltx_text" id="S9.p3.1.7" style="color:#000000;">, we used </span><span class="ltx_text ltx_font_italic" id="S9.p3.1.8" style="color:#000000;">PAP</span><span class="ltx_text" id="S9.p3.1.9" style="color:#000000;"> as terminology.</span></p>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section" style="color:#000000;">Acknowledgements</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1"><span class="ltx_text" id="Sx1.p1.1.1" style="color:#000000;">This work was supported by the National Research Foundation of Korea (NRF) grant funded by the Korea government(MSIT) (No. 2018R1A5A1060031, RS-2023-00281635) and Institute of Information &amp; communications Technology Planning &amp; Evaluation (IITP) grant funded by the Korea government(MSIT) (No. 2019-0-01267, GPU-based Ultrafast Multi-type Graph Database Engine SW).</span></p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography" style="color:#000000;">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib1.5.5.1" style="color:#000000;">Akoglu et al. (2015)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib1.7.1" style="color:#000000;">
Leman Akoglu, Hanghang Tong, and Danai Koutra. 2015.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib1.8.1" style="color:#000000;">Graph based anomaly detection and description: a survey.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.9.1" style="color:#000000;">Data mining and knowledge discovery</em><span class="ltx_text" id="bib.bib1.10.2" style="color:#000000;">, 29:626–688.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib2.5.5.1" style="color:#000000;">Aly et al. (2021)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib2.7.1" style="color:#000000;">
Rami Aly, Zhijiang Guo, Michael Sejr Schlichtkrull, James Thorne, Andreas Vlachos, Christos Christodoulopoulos, Oana Cocarascu, and Arpit Mittal. 2021.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2021.fever-1.1" style="color:#000000;" title="">The fact extraction and VERification over unstructured and structured information (FEVEROUS) shared task</a><span class="ltx_text" id="bib.bib2.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib2.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib2.10.2" style="color:#000000;">Proceedings of the Fourth Workshop on Fact Extraction and VERification (FEVER)</em><span class="ltx_text" id="bib.bib2.11.3" style="color:#000000;">, pages 1–13, Dominican Republic. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib3.5.5.1" style="color:#000000;">Borgeaud et al. (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib3.7.1" style="color:#000000;">
Sebastian Borgeaud, Arthur Mensch, Jordan Hoffmann, Trevor Cai, Eliza Rutherford, Katie Millican, George van den Driessche, Jean-Baptiste Lespiau, Bogdan Damoc, Aidan Clark, Diego de Las Casas, Aurelia Guy, Jacob Menick, Roman Ring, Tom Hennigan, Saffron Huang, Loren Maggiore, Chris Jones, Albin Cassirer, Andy Brock, Michela Paganini, Geoffrey Irving, Oriol Vinyals, Simon Osindero, Karen Simonyan, Jack W. Rae, Erich Elsen, and Laurent Sifre. 2022.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://proceedings.mlr.press/v162/borgeaud22a.html" style="color:#000000;" title="">Improving language models by retrieving from trillions of tokens</a><span class="ltx_text" id="bib.bib3.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib3.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib3.10.2" style="color:#000000;">International Conference on Machine Learning, ICML 2022, 17-23 July 2022, Baltimore, Maryland, USA</em><span class="ltx_text" id="bib.bib3.11.3" style="color:#000000;">, volume 162 of </span><em class="ltx_emph ltx_font_italic" id="bib.bib3.12.4" style="color:#000000;">Proceedings of Machine Learning Research</em><span class="ltx_text" id="bib.bib3.13.5" style="color:#000000;">, pages 2206–2240. PMLR.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib4.5.5.1" style="color:#000000;">Chen et al. (2021a)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib4.7.1" style="color:#000000;">
Wenhu Chen, Ming-Wei Chang, Eva Schlinger, William Yang Wang, and William W. Cohen. 2021a.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=MmCRswl1UYl" style="color:#000000;" title="">Open question answering over tables and text</a><span class="ltx_text" id="bib.bib4.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib4.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib4.10.2" style="color:#000000;">9th International Conference on Learning Representations, ICLR 2021, Virtual Event, Austria, May 3-7, 2021</em><span class="ltx_text" id="bib.bib4.11.3" style="color:#000000;">. OpenReview.net.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib5.5.5.1" style="color:#000000;">Chen et al. (2020a)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib5.7.1" style="color:#000000;">
Wenhu Chen, Hongmin Wang, Jianshu Chen, Yunkai Zhang, Hong Wang, Shiyang Li, Xiyou Zhou, and William Yang Wang. 2020a.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=rkeJRhNYDH" style="color:#000000;" title="">Tabfact: A large-scale dataset for table-based fact verification</a><span class="ltx_text" id="bib.bib5.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib5.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib5.10.2" style="color:#000000;">8th International Conference on Learning Representations, ICLR 2020, Addis Ababa, Ethiopia, April 26-30, 2020</em><span class="ltx_text" id="bib.bib5.11.3" style="color:#000000;">. OpenReview.net.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib6.5.5.1" style="color:#000000;">Chen et al. (2020b)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib6.7.1" style="color:#000000;">
Wenhu Chen, Hanwen Zha, Zhiyu Chen, Wenhan Xiong, Hong Wang, and William Yang Wang. 2020b.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2020.findings-emnlp.91" style="color:#000000;" title="">HybridQA: A dataset of multi-hop question answering over tabular and textual data</a><span class="ltx_text" id="bib.bib6.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib6.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib6.10.2" style="color:#000000;">Findings of the Association for Computational Linguistics: EMNLP 2020</em><span class="ltx_text" id="bib.bib6.11.3" style="color:#000000;">, pages 1026–1036, Online. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib7.5.5.1" style="color:#000000;">Chen et al. (2021b)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib7.7.1" style="color:#000000;">
Zhiyu Chen, Wenhu Chen, Charese Smiley, Sameena Shah, Iana Borova, Dylan Langdon, Reema Moussa, Matt Beane, Ting-Hao Huang, Bryan Routledge, and William Yang Wang. 2021b.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2021.emnlp-main.300" style="color:#000000;" title="">FinQA: A dataset of numerical reasoning over financial data</a><span class="ltx_text" id="bib.bib7.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib7.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib7.10.2" style="color:#000000;">Proceedings of the 2021 Conference on Empirical Methods in Natural Language Processing</em><span class="ltx_text" id="bib.bib7.11.3" style="color:#000000;">, pages 3697–3711, Online and Punta Cana, Dominican Republic. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib8.4.4.1" style="color:#000000;">Diván (2017)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib8.6.1" style="color:#000000;">
Mario José Diván. 2017.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib8.7.1" style="color:#000000;">Data-driven decision making.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib8.8.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib8.9.2" style="color:#000000;">2017 international conference on Infocom technologies and unmanned systems (trends and future directions)(ICTUS)</em><span class="ltx_text" id="bib.bib8.10.3" style="color:#000000;">, pages 50–56. IEEE.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib9.4.4.1" style="color:#000000;">Eom and Kim (2006)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib9.6.1" style="color:#000000;">
Sean Eom and E Kim. 2006.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib9.7.1" style="color:#000000;">A survey of decision support system applications (1995–2001).
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.8.1" style="color:#000000;">Journal of the Operational Research Society</em><span class="ltx_text" id="bib.bib9.9.2" style="color:#000000;">, 57:1264–1278.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib10.5.5.1" style="color:#000000;">Francis et al. (2018)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib10.7.1" style="color:#000000;">
Nadime Francis, Alastair Green, Paolo Guagliardo, Leonid Libkin, Tobias Lindaaker, Victor Marsault, Stefan Plantikow, Mats Rydberg, Petra Selmer, and Andrés Taylor. 2018.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib10.8.1" style="color:#000000;">Cypher: An evolving query language for property graphs.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib10.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib10.10.2" style="color:#000000;">Proceedings of the 2018 international conference on management of data</em><span class="ltx_text" id="bib.bib10.11.3" style="color:#000000;">, pages 1433–1445.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib11.5.5.1" style="color:#000000;">Guo et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib11.7.1" style="color:#000000;">
Qingyu Guo, Fuzhen Zhuang, Chuan Qin, Hengshu Zhu, Xing Xie, Hui Xiong, and Qing He. 2020.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib11.8.1" style="color:#000000;">A survey on knowledge graph-based recommender systems.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.9.1" style="color:#000000;">IEEE Transactions on Knowledge and Data Engineering</em><span class="ltx_text" id="bib.bib11.10.2" style="color:#000000;">, 34(8):3549–3568.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib12.5.5.1" style="color:#000000;">Gupta et al. (2002)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib12.7.1" style="color:#000000;">
Vijay Gupta, Emmanuel Peters, Tan Miller, and Kelvin Blyden. 2002.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib12.8.1" style="color:#000000;">Implementing a distribution-network decision-support system at pfizer/warner-lambert.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.9.1" style="color:#000000;">Interfaces</em><span class="ltx_text" id="bib.bib12.10.2" style="color:#000000;">, 32(4):28–45.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib13.5.5.1" style="color:#000000;">Gupta et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib13.7.1" style="color:#000000;">
Vivek Gupta, Maitrey Mehta, Pegah Nokhiz, and Vivek Srikumar. 2020.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2020.acl-main.210" style="color:#000000;" title="">INFOTABS: Inference on tables as semi-structured data</a><span class="ltx_text" id="bib.bib13.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib13.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib13.10.2" style="color:#000000;">Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics</em><span class="ltx_text" id="bib.bib13.11.3" style="color:#000000;">, pages 2309–2324, Online. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib14.5.5.1" style="color:#000000;">Guu et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib14.7.1" style="color:#000000;">
Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Mingwei Chang. 2020.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib14.8.1" style="color:#000000;">Retrieval augmented language model pre-training.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib14.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib14.10.2" style="color:#000000;">International conference on machine learning</em><span class="ltx_text" id="bib.bib14.11.3" style="color:#000000;">, pages 3929–3938. PMLR.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib15.4.4.1" style="color:#000000;">Hedgebeth (2007)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib15.6.1" style="color:#000000;">
Darius Hedgebeth. 2007.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib15.7.1" style="color:#000000;">Data-driven decision making for the enterprise: an overview of business intelligence applications.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.8.1" style="color:#000000;">Vine</em><span class="ltx_text" id="bib.bib15.9.2" style="color:#000000;">, 37(4):414–420.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib16.5.5.1" style="color:#000000;">Ho et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib16.7.1" style="color:#000000;">
Xanh Ho, Anh-Khoa Duong Nguyen, Saku Sugawara, and Akiko Aizawa. 2020.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib16.8.1" style="color:#000000;">Constructing a multi-hop qa dataset for comprehensive evaluation of reasoning steps.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib16.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib16.10.2" style="color:#000000;">Proceedings of the 28th International Conference on Computational Linguistics</em><span class="ltx_text" id="bib.bib16.11.3" style="color:#000000;">, pages 6609–6625.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib17.5.5.1" style="color:#000000;">Iyyer et al. (2017)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib17.7.1" style="color:#000000;">
Mohit Iyyer, Wen-tau Yih, and Ming-Wei Chang. 2017.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/P17-1167" style="color:#000000;" title="">Search-based neural structured learning for sequential question answering</a><span class="ltx_text" id="bib.bib17.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib17.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib17.10.2" style="color:#000000;">Proceedings of the 55th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em><span class="ltx_text" id="bib.bib17.11.3" style="color:#000000;">, pages 1821–1831, Vancouver, Canada. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib18.4.4.1" style="color:#000000;">Izacard and Grave (2021)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib18.6.1" style="color:#000000;">
Gautier Izacard and Edouard Grave. 2021.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2021.eacl-main.74" style="color:#000000;" title="">Leveraging passage retrieval with generative models for open domain question answering</a><span class="ltx_text" id="bib.bib18.7.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib18.8.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib18.9.2" style="color:#000000;">Proceedings of the 16th Conference of the European Chapter of the Association for Computational Linguistics: Main Volume</em><span class="ltx_text" id="bib.bib18.10.3" style="color:#000000;">, pages 874–880, Online. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib19.5.5.1" style="color:#000000;">Izacard et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib19.7.1" style="color:#000000;">
Gautier Izacard, Patrick Lewis, Maria Lomeli, Lucas Hosseini, Fabio Petroni, Timo Schick, Jane Dwivedi-Yu, Armand Joulin, Sebastian Riedel, and Edouard Grave. 2023.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://jmlr.org/papers/v24/23-0037.html" style="color:#000000;" title="">Atlas: Few-shot learning with retrieval augmented language models</a><span class="ltx_text" id="bib.bib19.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.9.1" style="color:#000000;">Journal of Machine Learning Research</em><span class="ltx_text" id="bib.bib19.10.2" style="color:#000000;">, 24(251):1–43.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib20.5.5.1" style="color:#000000;">Javaheripi et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib20.7.1" style="color:#000000;">
Mojan Javaheripi, Sébastien Bubeck, Marah Abdin, Jyoti Aneja, Sebastien Bubeck, Caio César Teodoro Mendes, Weizhu Chen, Allie Del Giorno, Ronen Eldan, Sivakanth Gopi, et al. 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib20.8.1" style="color:#000000;">Phi-2: The surprising power of small language models.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.9.1" style="color:#000000;">Microsoft Research Blog</em><span class="ltx_text" id="bib.bib20.10.2" style="color:#000000;">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib21.5.5.1" style="color:#000000;">Jena et al. (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib21.7.1" style="color:#000000;">
Aashna Jena, Vivek Gupta, Manish Shrivastava, and Julian Eisenschlos. 2022.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://aclanthology.org/2022.findings-emnlp.328" style="color:#000000;" title="">Leveraging data recasting to enhance tabular reasoning</a><span class="ltx_text" id="bib.bib21.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib21.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib21.10.2" style="color:#000000;">Findings of the Association for Computational Linguistics: EMNLP 2022</em><span class="ltx_text" id="bib.bib21.11.3" style="color:#000000;">, pages 4483–4496, Abu Dhabi, United Arab Emirates. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib22.5.5.1" style="color:#000000;">Jiang et al. (2023a)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib22.7.1" style="color:#000000;">
Jinhao Jiang, Kun Zhou, Zican Dong, Keming Ye, Wayne Xin Zhao, and Ji-Rong Wen. 2023a.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib22.8.1" style="color:#000000;">Structgpt: A general framework for large language model to reason over structured data.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.9.1" style="color:#000000;">arXiv preprint arXiv:2305.09645</em><span class="ltx_text" id="bib.bib22.10.2" style="color:#000000;">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib23.5.5.1" style="color:#000000;">Jiang et al. (2022a)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib23.7.1" style="color:#000000;">
Zhengbao Jiang, Luyu Gao, Zhiruo Wang, Jun Araki, Haibo Ding, Jamie Callan, and Graham Neubig. 2022a.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://aclanthology.org/2022.emnlp-main.149" style="color:#000000;" title="">Retrieval as attention: End-to-end learning of retrieval and reading within a single transformer</a><span class="ltx_text" id="bib.bib23.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib23.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib23.10.2" style="color:#000000;">Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing</em><span class="ltx_text" id="bib.bib23.11.3" style="color:#000000;">, pages 2336–2349, Abu Dhabi, United Arab Emirates. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib24.5.5.1" style="color:#000000;">Jiang et al. (2022b)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib24.7.1" style="color:#000000;">
Zhengbao Jiang, Luyu Gao, Zhiruo Wang, Jun Araki, Haibo Ding, Jamie Callan, and Graham Neubig. 2022b.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib24.8.1" style="color:#000000;">Retrieval as attention: End-to-end learning of retrieval and reading within a single transformer.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib24.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib24.10.2" style="color:#000000;">Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing</em><span class="ltx_text" id="bib.bib24.11.3" style="color:#000000;">, pages 2336–2349.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib25.5.5.1" style="color:#000000;">Jiang et al. (2023b)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib25.7.1" style="color:#000000;">
Zhengbao Jiang, Frank F Xu, Luyu Gao, Zhiqing Sun, Qian Liu, Jane Dwivedi-Yu, Yiming Yang, Jamie Callan, and Graham Neubig. 2023b.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib25.8.1" style="color:#000000;">Active retrieval augmented generation.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.9.1" style="color:#000000;">arXiv preprint arXiv:2305.06983</em><span class="ltx_text" id="bib.bib25.10.2" style="color:#000000;">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib26.5.5.1" style="color:#000000;">Karpukhin et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib26.7.1" style="color:#000000;">
Vladimir Karpukhin, Barlas Oguz, Sewon Min, Patrick Lewis, Ledell Wu, Sergey Edunov, Danqi Chen, and Wen-tau Yih. 2020.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2020.emnlp-main.550" style="color:#000000;" title="">Dense passage retrieval for open-domain question answering</a><span class="ltx_text" id="bib.bib26.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib26.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib26.10.2" style="color:#000000;">Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP)</em><span class="ltx_text" id="bib.bib26.11.3" style="color:#000000;">, pages 6769–6781, Online. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib27.5.5.1" style="color:#000000;">Kasie et al. (2017)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib27.7.1" style="color:#000000;">
Fentahun Moges Kasie, Glen Bright, and Anthony Walker. 2017.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib27.8.1" style="color:#000000;">Decision support systems in manufacturing: a survey and future trends.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.9.1" style="color:#000000;">Journal of Modelling in Management</em><span class="ltx_text" id="bib.bib27.10.2" style="color:#000000;">, 12(3):432–454.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib28.5.5.1" style="color:#000000;">Khandelwal et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib28.7.1" style="color:#000000;">
Urvashi Khandelwal, Omer Levy, Dan Jurafsky, Luke Zettlemoyer, and Mike Lewis. 2020.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=HklBjCEKvH" style="color:#000000;" title="">Generalization through memorization: Nearest neighbor language models</a><span class="ltx_text" id="bib.bib28.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib28.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib28.10.2" style="color:#000000;">8th International Conference on Learning Representations, ICLR 2020, Addis Ababa, Ethiopia, April 26-30, 2020</em><span class="ltx_text" id="bib.bib28.11.3" style="color:#000000;">. OpenReview.net.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib29.5.5.1" style="color:#000000;">Kwon et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib29.7.1" style="color:#000000;">
Woosuk Kwon, Zhuohan Li, Siyuan Zhuang, Ying Sheng, Lianmin Zheng, Cody Hao Yu, Joseph E. Gonzalez, Hao Zhang, and Ion Stoica. 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib29.8.1" style="color:#000000;">Efficient memory management for large language model serving with pagedattention.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib29.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib29.10.2" style="color:#000000;">Proceedings of the ACM SIGOPS 29th Symposium on Operating Systems Principles</em><span class="ltx_text" id="bib.bib29.11.3" style="color:#000000;">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib30.5.5.1" style="color:#000000;">Lewis et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib30.7.1" style="color:#000000;">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, et al. 2020.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib30.8.1" style="color:#000000;">Retrieval-augmented generation for knowledge-intensive nlp tasks.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.9.1" style="color:#000000;">Advances in Neural Information Processing Systems</em><span class="ltx_text" id="bib.bib30.10.2" style="color:#000000;">, 33:9459–9474.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib31.5.5.1" style="color:#000000;">Li et al. (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib31.7.1" style="color:#000000;">
Moxin Li, Fuli Feng, Hanwang Zhang, Xiangnan He, Fengbin Zhu, and Tat-Seng Chua. 2022.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2022.acl-long.5" style="color:#000000;" title="">Learning to imagine: Integrating counterfactual thinking in neural discrete reasoning</a><span class="ltx_text" id="bib.bib31.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib31.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib31.10.2" style="color:#000000;">Proceedings of the 60th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em><span class="ltx_text" id="bib.bib31.11.3" style="color:#000000;">, pages 57–69, Dublin, Ireland. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib32.5.5.1" style="color:#000000;">Nan et al. (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib32.7.1" style="color:#000000;">
Linyong Nan, Chiachun Hsieh, Ziming Mao, Xi Victoria Lin, Neha Verma, Rui Zhang, Wojciech Kryściński, Hailey Schoelkopf, Riley Kong, Xiangru Tang, Mutethia Mutuma, Ben Rosand, Isabel Trindade, Renusree Bandaru, Jacob Cunningham, Caiming Xiong, Dragomir Radev, and Dragomir Radev. 2022.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1162/tacl_a_00446" style="color:#000000;" title="">FeTaQA: Free-form table question answering</a><span class="ltx_text" id="bib.bib32.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.9.1" style="color:#000000;">Transactions of the Association for Computational Linguistics</em><span class="ltx_text" id="bib.bib32.10.2" style="color:#000000;">, 10:35–49.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib33.4.4.1" style="color:#000000;">OpenAI (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib33.6.1" style="color:#000000;">
R OpenAI. 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib33.7.1" style="color:#000000;">Gpt-4 technical report.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.8.1" style="color:#000000;">arXiv</em><span class="ltx_text" id="bib.bib33.9.2" style="color:#000000;">, pages 2303–08774.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib34.4.4.1" style="color:#000000;">Power (2007)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib34.6.1" style="color:#000000;">
Daniel J Power. 2007.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib34.7.1" style="color:#000000;">A brief history of decision support systems.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.8.1" style="color:#000000;">DSSResources. com</em><span class="ltx_text" id="bib.bib34.9.2" style="color:#000000;">, 3.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib35.4.4.1" style="color:#000000;">Power (2008)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib35.6.1" style="color:#000000;">
Daniel J Power. 2008.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib35.7.1" style="color:#000000;">Understanding data-driven decision support systems.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.8.1" style="color:#000000;">Information Systems Management</em><span class="ltx_text" id="bib.bib35.9.2" style="color:#000000;">, 25(2):149–154.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib36.4.4.1" style="color:#000000;">Provost and Fawcett (2013)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib36.6.1" style="color:#000000;">
Foster Provost and Tom Fawcett. 2013.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib36.7.1" style="color:#000000;">Data science and its relationship to big data and data-driven decision making.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.8.1" style="color:#000000;">Big data</em><span class="ltx_text" id="bib.bib36.9.2" style="color:#000000;">, 1(1):51–59.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib37.5.5.1" style="color:#000000;">Sala et al. (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib37.7.1" style="color:#000000;">
Roberto Sala, Fabiana Pirola, Giuditta Pezzotta, and Sergio Cavalieri. 2022.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib37.8.1" style="color:#000000;">Data-driven decision making in maintenance service delivery process: A case study.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.9.1" style="color:#000000;">Applied Sciences</em><span class="ltx_text" id="bib.bib37.10.2" style="color:#000000;">, 12(15):7395.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib38.5.5.1" style="color:#000000;">Shao et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib38.7.1" style="color:#000000;">
Zhihong Shao, Yeyun Gong, Yelong Shen, Minlie Huang, Nan Duan, and Weizhu Chen. 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib38.8.1" style="color:#000000;">Enhancing retrieval-augmented large language models with iterative retrieval-generation synergy.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.9.1" style="color:#000000;">arXiv preprint arXiv:2305.15294</em><span class="ltx_text" id="bib.bib38.10.2" style="color:#000000;">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib39.5.5.1" style="color:#000000;">Shi et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib39.7.1" style="color:#000000;">
Weijia Shi, Sewon Min, Michihiro Yasunaga, Minjoon Seo, Rich James, Mike Lewis, Luke Zettlemoyer, and Wen-tau Yih. 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib39.8.1" style="color:#000000;">Replug: Retrieval-augmented black-box language models.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.9.1" style="color:#000000;">arXiv preprint arXiv:2301.12652</em><span class="ltx_text" id="bib.bib39.10.2" style="color:#000000;">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib40.5.5.1" style="color:#000000;">Thorne et al. (2018)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib40.7.1" style="color:#000000;">
James Thorne, Andreas Vlachos, Christos Christodoulopoulos, and Arpit Mittal. 2018.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/N18-1074" style="color:#000000;" title="">FEVER: a large-scale dataset for fact extraction and VERification</a><span class="ltx_text" id="bib.bib40.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib40.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib40.10.2" style="color:#000000;">Proceedings of the 2018 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, Volume 1 (Long Papers)</em><span class="ltx_text" id="bib.bib40.11.3" style="color:#000000;">, pages 809–819, New Orleans, Louisiana. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib41.5.5.1" style="color:#000000;">Touvron et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib41.7.1" style="color:#000000;">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al. 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib41.8.1" style="color:#000000;">Llama 2: Open foundation and fine-tuned chat models.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.9.1" style="color:#000000;">arXiv preprint arXiv:2307.09288</em><span class="ltx_text" id="bib.bib41.10.2" style="color:#000000;">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib42.5.5.1" style="color:#000000;">Trivedi et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib42.7.1" style="color:#000000;">
Harsh Trivedi, Niranjan Balasubramanian, Tushar Khot, and Ashish Sabharwal. 2023.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://aclanthology.org/2023.acl-long.557" style="color:#000000;" title="">Interleaving retrieval with chain-of-thought reasoning for knowledge-intensive multi-step questions</a><span class="ltx_text" id="bib.bib42.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib42.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib42.10.2" style="color:#000000;">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em><span class="ltx_text" id="bib.bib42.11.3" style="color:#000000;">, pages 10014–10037, Toronto, Canada. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib43.5.5.1" style="color:#000000;">Troisi et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib43.7.1" style="color:#000000;">
Orlando Troisi, Gennaro Maione, Mara Grimaldi, and Francesca Loia. 2020.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib43.8.1" style="color:#000000;">Growth hacking: Insights on data-driven decision-making from three firms.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.9.1" style="color:#000000;">Industrial Marketing Management</em><span class="ltx_text" id="bib.bib43.10.2" style="color:#000000;">, 90:538–557.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib44.5.5.1" style="color:#000000;">Wei et al. (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib44.7.1" style="color:#000000;">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al. 2022.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib44.8.1" style="color:#000000;">Chain-of-thought prompting elicits reasoning in large language models.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.9.1" style="color:#000000;">Advances in Neural Information Processing Systems</em><span class="ltx_text" id="bib.bib44.10.2" style="color:#000000;">, 35:24824–24837.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib45.5.5.1" style="color:#000000;">Yang et al. (2018)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib45.7.1" style="color:#000000;">
Zhilin Yang, Peng Qi, Saizheng Zhang, Yoshua Bengio, William Cohen, Ruslan Salakhutdinov, and Christopher D. Manning. 2018.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/D18-1259" style="color:#000000;" title="">HotpotQA: A dataset for diverse, explainable multi-hop question answering</a><span class="ltx_text" id="bib.bib45.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib45.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib45.10.2" style="color:#000000;">Proceedings of the 2018 Conference on Empirical Methods in Natural Language Processing</em><span class="ltx_text" id="bib.bib45.11.3" style="color:#000000;">, pages 2369–2380, Brussels, Belgium. Association for Computational Linguistics.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib46.5.5.1" style="color:#000000;">Yao et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib46.7.1" style="color:#000000;">
Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik R. Narasimhan, and Yuan Cao. 2023.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/pdf?id=WE_vluYUL-X" style="color:#000000;" title="">React: Synergizing reasoning and acting in language models</a><span class="ltx_text" id="bib.bib46.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib46.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib46.10.2" style="color:#000000;">The Eleventh International Conference on Learning Representations, ICLR 2023, Kigali, Rwanda, May 1-5, 2023</em><span class="ltx_text" id="bib.bib46.11.3" style="color:#000000;">. OpenReview.net.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib47.5.5.1" style="color:#000000;">Yasunaga et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib47.7.1" style="color:#000000;">
Michihiro Yasunaga, Armen Aghajanyan, Weijia Shi, Richard James, Jure Leskovec, Percy Liang, Mike Lewis, Luke Zettlemoyer, and Wen-Tau Yih. 2023.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://proceedings.mlr.press/v202/yasunaga23a.html" style="color:#000000;" title="">Retrieval-augmented multimodal language modeling</a><span class="ltx_text" id="bib.bib47.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib47.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib47.10.2" style="color:#000000;">International Conference on Machine Learning, ICML 2023, 23-29 July 2023, Honolulu, Hawaii, USA</em><span class="ltx_text" id="bib.bib47.11.3" style="color:#000000;">, volume 202 of </span><em class="ltx_emph ltx_font_italic" id="bib.bib47.12.4" style="color:#000000;">Proceedings of Machine Learning Research</em><span class="ltx_text" id="bib.bib47.13.5" style="color:#000000;">, pages 39755–39769. PMLR.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text" id="bib.bib48.5.5.1" style="color:#000000;">Zhu et al. (2021)</span></span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib48.7.1" style="color:#000000;">
Fengbin Zhu, Wenqiang Lei, Youcheng Huang, Chao Wang, Shuo Zhang, Jiancheng Lv, Fuli Feng, and Tat-Seng Chua. 2021.
</span>
</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2021.acl-long.254" style="color:#000000;" title="">TAT-QA: A question answering benchmark on a hybrid of tabular and textual content in finance</a><span class="ltx_text" id="bib.bib48.8.1" style="color:#000000;">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text" id="bib.bib48.9.1" style="color:#000000;">In </span><em class="ltx_emph ltx_font_italic" id="bib.bib48.10.2" style="color:#000000;">Proceedings of the 59th Annual Meeting of the Association for Computational Linguistics and the 11th International Joint Conference on Natural Language Processing (Volume 1: Long Papers)</em><span class="ltx_text" id="bib.bib48.11.3" style="color:#000000;">, pages 3277–3287, Online. Association for Computational Linguistics.
</span>
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix" style="color:#000000;">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Appendix</h2>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection" style="color:#000000;">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Data collection</h3>
<div class="ltx_para" id="A1.SS1.p1">
<p class="ltx_p" id="A1.SS1.p1.4"><span class="ltx_text" id="A1.SS1.p1.4.1" style="color:#000000;">To collect </span><math alttext="D" class="ltx_Math" display="inline" id="A1.SS1.p1.1.m1.1"><semantics id="A1.SS1.p1.1.m1.1a"><mi id="A1.SS1.p1.1.m1.1.1" mathcolor="#000000" xref="A1.SS1.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.1.m1.1b"><ci id="A1.SS1.p1.1.m1.1.1.cmml" xref="A1.SS1.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p1.1.m1.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="A1.SS1.p1.4.2" style="color:#000000;">, we first select the provided savefile from each game and extract related data by game savefile parser. The extracted data was stored in </span><math alttext="D" class="ltx_Math" display="inline" id="A1.SS1.p1.2.m2.1"><semantics id="A1.SS1.p1.2.m2.1a"><mi id="A1.SS1.p1.2.m2.1.1" mathcolor="#000000" xref="A1.SS1.p1.2.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.2.m2.1b"><ci id="A1.SS1.p1.2.m2.1.1.cmml" xref="A1.SS1.p1.2.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.2.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p1.2.m2.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="A1.SS1.p1.4.3" style="color:#000000;"> according to the DB schema of each scenario. Next, we generate </span><math alttext="Q" class="ltx_Math" display="inline" id="A1.SS1.p1.3.m3.1"><semantics id="A1.SS1.p1.3.m3.1a"><mi id="A1.SS1.p1.3.m3.1.1" mathcolor="#000000" xref="A1.SS1.p1.3.m3.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.3.m3.1b"><ci id="A1.SS1.p1.3.m3.1.1.cmml" xref="A1.SS1.p1.3.m3.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.3.m3.1c">Q</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p1.3.m3.1d">italic_Q</annotation></semantics></math><span class="ltx_text" id="A1.SS1.p1.4.4" style="color:#000000;"> by applying components of </span><math alttext="D" class="ltx_Math" display="inline" id="A1.SS1.p1.4.m4.1"><semantics id="A1.SS1.p1.4.m4.1a"><mi id="A1.SS1.p1.4.m4.1.1" mathcolor="#000000" xref="A1.SS1.p1.4.m4.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.4.m4.1b"><ci id="A1.SS1.p1.4.m4.1.1.cmml" xref="A1.SS1.p1.4.m4.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.4.m4.1c">D</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p1.4.m4.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="A1.SS1.p1.4.5" style="color:#000000;"> into pre-defined question format for each scenario.
To control the quality of our benchmark, we consider the following points:</span></p>
<ul class="ltx_itemize" id="A1.I1">
<li class="ltx_item" id="A1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i1.p1">
<p class="ltx_p" id="A1.I1.i1.p1.2"><span class="ltx_text" id="A1.I1.i1.p1.2.1" style="color:#000000;">For the Locating scenario, we create one problem for each country. As </span><span class="ltx_text ltx_font_italic" id="A1.I1.i1.p1.2.2" style="color:#000000;">profit</span><span class="ltx_text" id="A1.I1.i1.p1.2.3" style="color:#000000;"> is determined by </span><math alttext="TP_{\textit{country}}" class="ltx_Math" display="inline" id="A1.I1.i1.p1.1.m1.1"><semantics id="A1.I1.i1.p1.1.m1.1a"><mrow id="A1.I1.i1.p1.1.m1.1.1" xref="A1.I1.i1.p1.1.m1.1.1.cmml"><mi id="A1.I1.i1.p1.1.m1.1.1.2" mathcolor="#000000" xref="A1.I1.i1.p1.1.m1.1.1.2.cmml">T</mi><mo id="A1.I1.i1.p1.1.m1.1.1.1" xref="A1.I1.i1.p1.1.m1.1.1.1.cmml">⁢</mo><msub id="A1.I1.i1.p1.1.m1.1.1.3" xref="A1.I1.i1.p1.1.m1.1.1.3.cmml"><mi id="A1.I1.i1.p1.1.m1.1.1.3.2" mathcolor="#000000" xref="A1.I1.i1.p1.1.m1.1.1.3.2.cmml">P</mi><mtext class="ltx_mathvariant_italic" id="A1.I1.i1.p1.1.m1.1.1.3.3" mathcolor="#000000" xref="A1.I1.i1.p1.1.m1.1.1.3.3a.cmml">country</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.i1.p1.1.m1.1b"><apply id="A1.I1.i1.p1.1.m1.1.1.cmml" xref="A1.I1.i1.p1.1.m1.1.1"><times id="A1.I1.i1.p1.1.m1.1.1.1.cmml" xref="A1.I1.i1.p1.1.m1.1.1.1"></times><ci id="A1.I1.i1.p1.1.m1.1.1.2.cmml" xref="A1.I1.i1.p1.1.m1.1.1.2">𝑇</ci><apply id="A1.I1.i1.p1.1.m1.1.1.3.cmml" xref="A1.I1.i1.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A1.I1.i1.p1.1.m1.1.1.3.1.cmml" xref="A1.I1.i1.p1.1.m1.1.1.3">subscript</csymbol><ci id="A1.I1.i1.p1.1.m1.1.1.3.2.cmml" xref="A1.I1.i1.p1.1.m1.1.1.3.2">𝑃</ci><ci id="A1.I1.i1.p1.1.m1.1.1.3.3a.cmml" xref="A1.I1.i1.p1.1.m1.1.1.3.3"><mtext class="ltx_mathvariant_italic" id="A1.I1.i1.p1.1.m1.1.1.3.3.cmml" mathsize="70%" xref="A1.I1.i1.p1.1.m1.1.1.3.3">country</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.i1.p1.1.m1.1c">TP_{\textit{country}}</annotation><annotation encoding="application/x-llamapun" id="A1.I1.i1.p1.1.m1.1d">italic_T italic_P start_POSTSUBSCRIPT country end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="A1.I1.i1.p1.2.4" style="color:#000000;">, we omit countries with low </span><math alttext="TP_{\textit{country}}" class="ltx_Math" display="inline" id="A1.I1.i1.p1.2.m2.1"><semantics id="A1.I1.i1.p1.2.m2.1a"><mrow id="A1.I1.i1.p1.2.m2.1.1" xref="A1.I1.i1.p1.2.m2.1.1.cmml"><mi id="A1.I1.i1.p1.2.m2.1.1.2" mathcolor="#000000" xref="A1.I1.i1.p1.2.m2.1.1.2.cmml">T</mi><mo id="A1.I1.i1.p1.2.m2.1.1.1" xref="A1.I1.i1.p1.2.m2.1.1.1.cmml">⁢</mo><msub id="A1.I1.i1.p1.2.m2.1.1.3" xref="A1.I1.i1.p1.2.m2.1.1.3.cmml"><mi id="A1.I1.i1.p1.2.m2.1.1.3.2" mathcolor="#000000" xref="A1.I1.i1.p1.2.m2.1.1.3.2.cmml">P</mi><mtext class="ltx_mathvariant_italic" id="A1.I1.i1.p1.2.m2.1.1.3.3" mathcolor="#000000" xref="A1.I1.i1.p1.2.m2.1.1.3.3a.cmml">country</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.i1.p1.2.m2.1b"><apply id="A1.I1.i1.p1.2.m2.1.1.cmml" xref="A1.I1.i1.p1.2.m2.1.1"><times id="A1.I1.i1.p1.2.m2.1.1.1.cmml" xref="A1.I1.i1.p1.2.m2.1.1.1"></times><ci id="A1.I1.i1.p1.2.m2.1.1.2.cmml" xref="A1.I1.i1.p1.2.m2.1.1.2">𝑇</ci><apply id="A1.I1.i1.p1.2.m2.1.1.3.cmml" xref="A1.I1.i1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="A1.I1.i1.p1.2.m2.1.1.3.1.cmml" xref="A1.I1.i1.p1.2.m2.1.1.3">subscript</csymbol><ci id="A1.I1.i1.p1.2.m2.1.1.3.2.cmml" xref="A1.I1.i1.p1.2.m2.1.1.3.2">𝑃</ci><ci id="A1.I1.i1.p1.2.m2.1.1.3.3a.cmml" xref="A1.I1.i1.p1.2.m2.1.1.3.3"><mtext class="ltx_mathvariant_italic" id="A1.I1.i1.p1.2.m2.1.1.3.3.cmml" mathsize="70%" xref="A1.I1.i1.p1.2.m2.1.1.3.3">country</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.i1.p1.2.m2.1c">TP_{\textit{country}}</annotation><annotation encoding="application/x-llamapun" id="A1.I1.i1.p1.2.m2.1d">italic_T italic_P start_POSTSUBSCRIPT country end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="A1.I1.i1.p1.2.5" style="color:#000000;"> due to their minimal impact on decisions.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i2.p1">
<p class="ltx_p" id="A1.I1.i2.p1.1"><span class="ltx_text" id="A1.I1.i2.p1.1.1" style="color:#000000;">For the Building scenario, we filtered problems which have multiple answers.</span></p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection" style="color:#000000;">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Data instances</h3>
<div class="ltx_para" id="A1.SS2.p1">
<p class="ltx_p" id="A1.SS2.p1.3"><span class="ltx_text" id="A1.SS2.p1.3.1" style="color:#000000;">For both scenarios, the instances share the same business rules </span><math alttext="R" class="ltx_Math" display="inline" id="A1.SS2.p1.1.m1.1"><semantics id="A1.SS2.p1.1.m1.1a"><mi id="A1.SS2.p1.1.m1.1.1" mathcolor="#000000" xref="A1.SS2.p1.1.m1.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.1.m1.1b"><ci id="A1.SS2.p1.1.m1.1.1.cmml" xref="A1.SS2.p1.1.m1.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.1.m1.1c">R</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.p1.1.m1.1d">italic_R</annotation></semantics></math><span class="ltx_text" id="A1.SS2.p1.3.2" style="color:#000000;">. Some instances share the same database </span><math alttext="D" class="ltx_Math" display="inline" id="A1.SS2.p1.2.m2.1"><semantics id="A1.SS2.p1.2.m2.1a"><mi id="A1.SS2.p1.2.m2.1.1" mathcolor="#000000" xref="A1.SS2.p1.2.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.2.m2.1b"><ci id="A1.SS2.p1.2.m2.1.1.cmml" xref="A1.SS2.p1.2.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.2.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.p1.2.m2.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="A1.SS2.p1.3.3" style="color:#000000;">, but not all use the same one. Here, each database </span><math alttext="D" class="ltx_Math" display="inline" id="A1.SS2.p1.3.m3.1"><semantics id="A1.SS2.p1.3.m3.1a"><mi id="A1.SS2.p1.3.m3.1.1" mathcolor="#000000" xref="A1.SS2.p1.3.m3.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.3.m3.1b"><ci id="A1.SS2.p1.3.m3.1.1.cmml" xref="A1.SS2.p1.3.m3.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.3.m3.1c">D</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.p1.3.m3.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="A1.SS2.p1.3.4" style="color:#000000;"> has a different number of rows and different column values (e.g., LV, size of the building, current price of goods).</span></p>
</div>
<div class="ltx_para" id="A1.SS2.p2">
<p class="ltx_p" id="A1.SS2.p2.1"><span class="ltx_text" id="A1.SS2.p2.1.1" style="color:#000000;">In the Locating scenario, every instance has a different goal with a different pair of {COUNTRY_NODE} and {HOME_NODE} in the template of questions of </span><span class="ltx_text ltx_font_italic" id="A1.SS2.p2.1.2" style="color:#000000;">“Where should I locate my merchant? My goal is maximizing</span><span class="ltx_text" id="A1.SS2.p2.1.3" style="color:#000000;"> {COUNTRY_NODE}</span><span class="ltx_text ltx_font_italic" id="A1.SS2.p2.1.4" style="color:#000000;">’s profit on home node, </span><span class="ltx_text" id="A1.SS2.p2.1.5" style="color:#000000;">{HOME_NODE}</span><span class="ltx_text ltx_font_italic" id="A1.SS2.p2.1.6" style="color:#000000;">”</span><span class="ltx_text" id="A1.SS2.p2.1.7" style="color:#000000;">.</span></p>
</div>
<div class="ltx_para" id="A1.SS2.p3">
<p class="ltx_p" id="A1.SS2.p3.1"><span class="ltx_text" id="A1.SS2.p3.1.1" style="color:#000000;">In the Building scenario, every instance has a different {GOODS} in the template of questions of </span><span class="ltx_text ltx_font_italic" id="A1.SS2.p3.1.2" style="color:#000000;">“Which building ID should we increase a level by 5 to maximally decrease the market price of </span><span class="ltx_text" id="A1.SS2.p3.1.3" style="color:#000000;">{GOODS}</span><span class="ltx_text ltx_font_italic" id="A1.SS2.p3.1.4" style="color:#000000;">?”</span><span class="ltx_text" id="A1.SS2.p3.1.5" style="color:#000000;">.</span></p>
</div>
<div class="ltx_para" id="A1.SS2.p4">
<p class="ltx_p" id="A1.SS2.p4.1"><span class="ltx_text" id="A1.SS2.p4.1.1" style="color:#000000;">The instances in both scenarios are designed that LMs should retrieve different intermediate nodes and edges to calculate the values, such as </span><span class="ltx_text ltx_font_italic" id="A1.SS2.p4.1.2" style="color:#000000;">TPR</span><span class="ltx_text" id="A1.SS2.p4.1.3" style="color:#000000;"> for Locating and </span><span class="ltx_text ltx_font_italic" id="A1.SS2.p4.1.4" style="color:#000000;">TS</span><span class="ltx_text" id="A1.SS2.p4.1.5" style="color:#000000;"> for Building, required to make a best decision.</span></p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS3">
<h3 class="ltx_title ltx_title_subsection" style="color:#000000;">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Simulators for annotation</h3>
<div class="ltx_para" id="A1.SS3.p1">
<p class="ltx_p" id="A1.SS3.p1.1"><span class="ltx_text" id="A1.SS3.p1.1.1" style="color:#000000;">Although applying every decision to real games and comparing the results is the most credible approach to annotate the best decision, it is impossible due to the following characteristics of games: (1) randomness and (2) not being open-sourced.
Thus, we develop simulators for each scenario on DQA to calculate decision results deterministically.</span></p>
</div>
<div class="ltx_para" id="A1.SS3.p2">
<p class="ltx_p" id="A1.SS3.p2.2"><span class="ltx_text" id="A1.SS3.p2.2.1" style="color:#000000;">Our simulator takes </span><math alttext="D" class="ltx_Math" display="inline" id="A1.SS3.p2.1.m1.1"><semantics id="A1.SS3.p2.1.m1.1a"><mi id="A1.SS3.p2.1.m1.1.1" mathcolor="#000000" xref="A1.SS3.p2.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.1.m1.1b"><ci id="A1.SS3.p2.1.m1.1.1.cmml" xref="A1.SS3.p2.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.p2.1.m1.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="A1.SS3.p2.2.2" style="color:#000000;"> with </span><span class="ltx_text ltx_font_italic" id="A1.SS3.p2.2.3" style="color:#000000;">decision</span><span class="ltx_text" id="A1.SS3.p2.2.4" style="color:#000000;"> as input, calculate effects of decision, and returns updated </span><math alttext="D" class="ltx_Math" display="inline" id="A1.SS3.p2.2.m2.1"><semantics id="A1.SS3.p2.2.m2.1a"><mi id="A1.SS3.p2.2.m2.1.1" mathcolor="#000000" xref="A1.SS3.p2.2.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.2.m2.1b"><ci id="A1.SS3.p2.2.m2.1.1.cmml" xref="A1.SS3.p2.2.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.2.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.p2.2.m2.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="A1.SS3.p2.2.5" style="color:#000000;"> by simulating based on business rules. To annotate answers for a question, we simulates all decision candidates.
For example, in Figure </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S1.F1" style="color:#000000;" title="Figure 1 ‣ 1 Introduction ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">1</span></a><span class="ltx_text" id="A1.SS3.p2.2.6" style="color:#000000;">, we locates a merchant on Doab and Ganges, our simulator calculates profit increments, 0.23 and 0.03 for each decisions, respectively. From these calculated results, we can annotate that Doab is the best decision for the question. Detailed algorithms are in Appendix </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.SS4" style="color:#000000;" title="A.4 Algorithm of simulators ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">A.4</span></a><span class="ltx_text" id="A1.SS3.p2.2.7" style="color:#000000;"></span></p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS4">
<h3 class="ltx_title ltx_title_subsection" style="color:#000000;">
<span class="ltx_tag ltx_tag_subsection">A.4 </span>Algorithm of simulators</h3>
<div class="ltx_para" id="A1.SS4.p1">
<p class="ltx_p" id="A1.SS4.p1.1"><span class="ltx_text" id="A1.SS4.p1.1.1" style="color:#000000;">We provide an algorithm of simulator for each scenario for future research.
Before explaining each simulator, we introduce some additional symbols in Table </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.T9" style="color:#000000;" title="Table 9 ‣ A.4 Algorithm of simulators ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">9</span></a><span class="ltx_text" id="A1.SS4.p1.1.2" style="color:#000000;">, while other symbols are described in Section </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3" style="color:#000000;" title="3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">3</span></a><span class="ltx_text" id="A1.SS4.p1.1.3" style="color:#000000;">.</span></p>
</div>
<figure class="ltx_table" id="A1.T9">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A1.T9.6">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T9.6.7.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="A1.T9.6.7.1.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.6.7.1.1.1" style="color:#000000;">Symbol</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.6.7.1.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.6.7.1.2.1" style="color:#000000;">Description</span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.6.8.2">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="A1.T9.6.8.2.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.6.8.2.1.1" style="color:#000000;">Locating</span></td>
<td class="ltx_td ltx_border_t" id="A1.T9.6.8.2.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T9.6.9.3">
<td class="ltx_td ltx_align_left ltx_border_r" id="A1.T9.6.9.3.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_italic" id="A1.T9.6.9.3.1.1" style="color:#000000;">obj_n</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.6.9.3.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T9.6.9.3.2.1" style="color:#000000;">The node we should calculate its flow</span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.6.10.4">
<td class="ltx_td ltx_align_left ltx_border_r" id="A1.T9.6.10.4.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_italic" id="A1.T9.6.10.4.1.1" style="color:#000000;">Nodes</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.6.10.4.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T9.6.10.4.2.1" style="color:#000000;">The set of nodes</span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.6.11.5">
<td class="ltx_td ltx_align_left ltx_border_r" id="A1.T9.6.11.5.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_italic" id="A1.T9.6.11.5.1.1" style="color:#000000;">Countries</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.6.11.5.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T9.6.11.5.2.1" style="color:#000000;">The set of countries</span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.6.12.6">
<td class="ltx_td ltx_align_left ltx_border_r" id="A1.T9.6.12.6.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_italic" id="A1.T9.6.12.6.1.1" style="color:#000000;">NodeCountry</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.6.12.6.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T9.6.12.6.2.1" style="color:#000000;">The set of NodeCountry relationships</span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.6.13.7">
<td class="ltx_td ltx_align_left ltx_border_r" id="A1.T9.6.13.7.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_italic" id="A1.T9.6.13.7.1.1" style="color:#000000;">Simulated_n</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.6.13.7.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T9.6.13.7.2.1" style="color:#000000;">The set of nodes which are simulated</span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.6.14.8">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="A1.T9.6.14.8.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.6.14.8.1.1" style="color:#000000;">Building</span></td>
<td class="ltx_td ltx_border_t" id="A1.T9.6.14.8.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T9.6.15.9">
<td class="ltx_td ltx_align_left ltx_border_r" id="A1.T9.6.15.9.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_italic" id="A1.T9.6.15.9.1.1" style="color:#000000;">Goods</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.6.15.9.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T9.6.15.9.2.1" style="color:#000000;">The set of goods</span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.6.16.10">
<td class="ltx_td ltx_align_left ltx_border_r" id="A1.T9.6.16.10.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_italic" id="A1.T9.6.16.10.1.1" style="color:#000000;">Buildings</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.6.16.10.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T9.6.16.10.2.1" style="color:#000000;">The set of buildings</span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.6.17.11">
<td class="ltx_td ltx_align_left ltx_border_r" id="A1.T9.6.17.11.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_italic" id="A1.T9.6.17.11.1.1" style="color:#000000;">cycle_cnt</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.6.17.11.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T9.6.17.11.2.1" style="color:#000000;"># of hops that a building affects</span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.3.3">
<td class="ltx_td ltx_align_left ltx_border_r" id="A1.T9.1.1.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><math alttext="MIN(x,y)" class="ltx_Math" display="inline" id="A1.T9.1.1.1.m1.2"><semantics id="A1.T9.1.1.1.m1.2a"><mrow id="A1.T9.1.1.1.m1.2.3" xref="A1.T9.1.1.1.m1.2.3.cmml"><mi id="A1.T9.1.1.1.m1.2.3.2" mathcolor="#000000" xref="A1.T9.1.1.1.m1.2.3.2.cmml">M</mi><mo id="A1.T9.1.1.1.m1.2.3.1" xref="A1.T9.1.1.1.m1.2.3.1.cmml">⁢</mo><mi id="A1.T9.1.1.1.m1.2.3.3" mathcolor="#000000" xref="A1.T9.1.1.1.m1.2.3.3.cmml">I</mi><mo id="A1.T9.1.1.1.m1.2.3.1a" xref="A1.T9.1.1.1.m1.2.3.1.cmml">⁢</mo><mi id="A1.T9.1.1.1.m1.2.3.4" mathcolor="#000000" xref="A1.T9.1.1.1.m1.2.3.4.cmml">N</mi><mo id="A1.T9.1.1.1.m1.2.3.1b" xref="A1.T9.1.1.1.m1.2.3.1.cmml">⁢</mo><mrow id="A1.T9.1.1.1.m1.2.3.5.2" xref="A1.T9.1.1.1.m1.2.3.5.1.cmml"><mo id="A1.T9.1.1.1.m1.2.3.5.2.1" mathcolor="#000000" stretchy="false" xref="A1.T9.1.1.1.m1.2.3.5.1.cmml">(</mo><mi id="A1.T9.1.1.1.m1.1.1" mathcolor="#000000" xref="A1.T9.1.1.1.m1.1.1.cmml">x</mi><mo id="A1.T9.1.1.1.m1.2.3.5.2.2" mathcolor="#000000" xref="A1.T9.1.1.1.m1.2.3.5.1.cmml">,</mo><mi id="A1.T9.1.1.1.m1.2.2" mathcolor="#000000" xref="A1.T9.1.1.1.m1.2.2.cmml">y</mi><mo id="A1.T9.1.1.1.m1.2.3.5.2.3" mathcolor="#000000" stretchy="false" xref="A1.T9.1.1.1.m1.2.3.5.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.T9.1.1.1.m1.2b"><apply id="A1.T9.1.1.1.m1.2.3.cmml" xref="A1.T9.1.1.1.m1.2.3"><times id="A1.T9.1.1.1.m1.2.3.1.cmml" xref="A1.T9.1.1.1.m1.2.3.1"></times><ci id="A1.T9.1.1.1.m1.2.3.2.cmml" xref="A1.T9.1.1.1.m1.2.3.2">𝑀</ci><ci id="A1.T9.1.1.1.m1.2.3.3.cmml" xref="A1.T9.1.1.1.m1.2.3.3">𝐼</ci><ci id="A1.T9.1.1.1.m1.2.3.4.cmml" xref="A1.T9.1.1.1.m1.2.3.4">𝑁</ci><interval closure="open" id="A1.T9.1.1.1.m1.2.3.5.1.cmml" xref="A1.T9.1.1.1.m1.2.3.5.2"><ci id="A1.T9.1.1.1.m1.1.1.cmml" xref="A1.T9.1.1.1.m1.1.1">𝑥</ci><ci id="A1.T9.1.1.1.m1.2.2.cmml" xref="A1.T9.1.1.1.m1.2.2">𝑦</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.1.1.1.m1.2c">MIN(x,y)</annotation><annotation encoding="application/x-llamapun" id="A1.T9.1.1.1.m1.2d">italic_M italic_I italic_N ( italic_x , italic_y )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left" id="A1.T9.3.3.3" style="padding-top:1.25pt;padding-bottom:1.25pt;">
<span class="ltx_text" id="A1.T9.3.3.3.1" style="color:#000000;">Minimum value between </span><math alttext="x" class="ltx_Math" display="inline" id="A1.T9.2.2.2.m1.1"><semantics id="A1.T9.2.2.2.m1.1a"><mi id="A1.T9.2.2.2.m1.1.1" mathcolor="#000000" xref="A1.T9.2.2.2.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="A1.T9.2.2.2.m1.1b"><ci id="A1.T9.2.2.2.m1.1.1.cmml" xref="A1.T9.2.2.2.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.2.2.2.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="A1.T9.2.2.2.m1.1d">italic_x</annotation></semantics></math><span class="ltx_text" id="A1.T9.3.3.3.2" style="color:#000000;"> and </span><math alttext="y" class="ltx_Math" display="inline" id="A1.T9.3.3.3.m2.1"><semantics id="A1.T9.3.3.3.m2.1a"><mi id="A1.T9.3.3.3.m2.1.1" mathcolor="#000000" xref="A1.T9.3.3.3.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="A1.T9.3.3.3.m2.1b"><ci id="A1.T9.3.3.3.m2.1.1.cmml" xref="A1.T9.3.3.3.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.3.3.3.m2.1c">y</annotation><annotation encoding="application/x-llamapun" id="A1.T9.3.3.3.m2.1d">italic_y</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.6.6">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r" id="A1.T9.4.4.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><math alttext="AVG_{Y}(X)" class="ltx_Math" display="inline" id="A1.T9.4.4.1.m1.1"><semantics id="A1.T9.4.4.1.m1.1a"><mrow id="A1.T9.4.4.1.m1.1.2" xref="A1.T9.4.4.1.m1.1.2.cmml"><mi id="A1.T9.4.4.1.m1.1.2.2" mathcolor="#000000" xref="A1.T9.4.4.1.m1.1.2.2.cmml">A</mi><mo id="A1.T9.4.4.1.m1.1.2.1" xref="A1.T9.4.4.1.m1.1.2.1.cmml">⁢</mo><mi id="A1.T9.4.4.1.m1.1.2.3" mathcolor="#000000" xref="A1.T9.4.4.1.m1.1.2.3.cmml">V</mi><mo id="A1.T9.4.4.1.m1.1.2.1a" xref="A1.T9.4.4.1.m1.1.2.1.cmml">⁢</mo><msub id="A1.T9.4.4.1.m1.1.2.4" xref="A1.T9.4.4.1.m1.1.2.4.cmml"><mi id="A1.T9.4.4.1.m1.1.2.4.2" mathcolor="#000000" xref="A1.T9.4.4.1.m1.1.2.4.2.cmml">G</mi><mi id="A1.T9.4.4.1.m1.1.2.4.3" mathcolor="#000000" xref="A1.T9.4.4.1.m1.1.2.4.3.cmml">Y</mi></msub><mo id="A1.T9.4.4.1.m1.1.2.1b" xref="A1.T9.4.4.1.m1.1.2.1.cmml">⁢</mo><mrow id="A1.T9.4.4.1.m1.1.2.5.2" xref="A1.T9.4.4.1.m1.1.2.cmml"><mo id="A1.T9.4.4.1.m1.1.2.5.2.1" mathcolor="#000000" stretchy="false" xref="A1.T9.4.4.1.m1.1.2.cmml">(</mo><mi id="A1.T9.4.4.1.m1.1.1" mathcolor="#000000" xref="A1.T9.4.4.1.m1.1.1.cmml">X</mi><mo id="A1.T9.4.4.1.m1.1.2.5.2.2" mathcolor="#000000" stretchy="false" xref="A1.T9.4.4.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.T9.4.4.1.m1.1b"><apply id="A1.T9.4.4.1.m1.1.2.cmml" xref="A1.T9.4.4.1.m1.1.2"><times id="A1.T9.4.4.1.m1.1.2.1.cmml" xref="A1.T9.4.4.1.m1.1.2.1"></times><ci id="A1.T9.4.4.1.m1.1.2.2.cmml" xref="A1.T9.4.4.1.m1.1.2.2">𝐴</ci><ci id="A1.T9.4.4.1.m1.1.2.3.cmml" xref="A1.T9.4.4.1.m1.1.2.3">𝑉</ci><apply id="A1.T9.4.4.1.m1.1.2.4.cmml" xref="A1.T9.4.4.1.m1.1.2.4"><csymbol cd="ambiguous" id="A1.T9.4.4.1.m1.1.2.4.1.cmml" xref="A1.T9.4.4.1.m1.1.2.4">subscript</csymbol><ci id="A1.T9.4.4.1.m1.1.2.4.2.cmml" xref="A1.T9.4.4.1.m1.1.2.4.2">𝐺</ci><ci id="A1.T9.4.4.1.m1.1.2.4.3.cmml" xref="A1.T9.4.4.1.m1.1.2.4.3">𝑌</ci></apply><ci id="A1.T9.4.4.1.m1.1.1.cmml" xref="A1.T9.4.4.1.m1.1.1">𝑋</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.4.4.1.m1.1c">AVG_{Y}(X)</annotation><annotation encoding="application/x-llamapun" id="A1.T9.4.4.1.m1.1d">italic_A italic_V italic_G start_POSTSUBSCRIPT italic_Y end_POSTSUBSCRIPT ( italic_X )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_border_b" id="A1.T9.6.6.3" style="padding-top:1.25pt;padding-bottom:1.25pt;">
<span class="ltx_text" id="A1.T9.6.6.3.1" style="color:#000000;">For </span><math alttext="y\in Y" class="ltx_Math" display="inline" id="A1.T9.5.5.2.m1.1"><semantics id="A1.T9.5.5.2.m1.1a"><mrow id="A1.T9.5.5.2.m1.1.1" xref="A1.T9.5.5.2.m1.1.1.cmml"><mi id="A1.T9.5.5.2.m1.1.1.2" mathcolor="#000000" xref="A1.T9.5.5.2.m1.1.1.2.cmml">y</mi><mo id="A1.T9.5.5.2.m1.1.1.1" mathcolor="#000000" xref="A1.T9.5.5.2.m1.1.1.1.cmml">∈</mo><mi id="A1.T9.5.5.2.m1.1.1.3" mathcolor="#000000" xref="A1.T9.5.5.2.m1.1.1.3.cmml">Y</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.T9.5.5.2.m1.1b"><apply id="A1.T9.5.5.2.m1.1.1.cmml" xref="A1.T9.5.5.2.m1.1.1"><in id="A1.T9.5.5.2.m1.1.1.1.cmml" xref="A1.T9.5.5.2.m1.1.1.1"></in><ci id="A1.T9.5.5.2.m1.1.1.2.cmml" xref="A1.T9.5.5.2.m1.1.1.2">𝑦</ci><ci id="A1.T9.5.5.2.m1.1.1.3.cmml" xref="A1.T9.5.5.2.m1.1.1.3">𝑌</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.5.5.2.m1.1c">y\in Y</annotation><annotation encoding="application/x-llamapun" id="A1.T9.5.5.2.m1.1d">italic_y ∈ italic_Y</annotation></semantics></math><span class="ltx_text" id="A1.T9.6.6.3.2" style="color:#000000;">, An average of the set </span><math alttext="X(y)" class="ltx_Math" display="inline" id="A1.T9.6.6.3.m2.1"><semantics id="A1.T9.6.6.3.m2.1a"><mrow id="A1.T9.6.6.3.m2.1.2" xref="A1.T9.6.6.3.m2.1.2.cmml"><mi id="A1.T9.6.6.3.m2.1.2.2" mathcolor="#000000" xref="A1.T9.6.6.3.m2.1.2.2.cmml">X</mi><mo id="A1.T9.6.6.3.m2.1.2.1" xref="A1.T9.6.6.3.m2.1.2.1.cmml">⁢</mo><mrow id="A1.T9.6.6.3.m2.1.2.3.2" xref="A1.T9.6.6.3.m2.1.2.cmml"><mo id="A1.T9.6.6.3.m2.1.2.3.2.1" mathcolor="#000000" stretchy="false" xref="A1.T9.6.6.3.m2.1.2.cmml">(</mo><mi id="A1.T9.6.6.3.m2.1.1" mathcolor="#000000" xref="A1.T9.6.6.3.m2.1.1.cmml">y</mi><mo id="A1.T9.6.6.3.m2.1.2.3.2.2" mathcolor="#000000" stretchy="false" xref="A1.T9.6.6.3.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.T9.6.6.3.m2.1b"><apply id="A1.T9.6.6.3.m2.1.2.cmml" xref="A1.T9.6.6.3.m2.1.2"><times id="A1.T9.6.6.3.m2.1.2.1.cmml" xref="A1.T9.6.6.3.m2.1.2.1"></times><ci id="A1.T9.6.6.3.m2.1.2.2.cmml" xref="A1.T9.6.6.3.m2.1.2.2">𝑋</ci><ci id="A1.T9.6.6.3.m2.1.1.cmml" xref="A1.T9.6.6.3.m2.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.6.6.3.m2.1c">X(y)</annotation><annotation encoding="application/x-llamapun" id="A1.T9.6.6.3.m2.1d">italic_X ( italic_y )</annotation></semantics></math>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="color:#000000;"><span class="ltx_tag ltx_tag_table">Table 9: </span>Summary of additional symbols.</figcaption>
</figure>
<section class="ltx_subsubsection" id="A1.SS4.SSS1">
<h4 class="ltx_title ltx_title_subsubsection" style="color:#000000;">
<span class="ltx_tag ltx_tag_subsubsection">A.4.1 </span>Locating simulator algorithm</h4>
<div class="ltx_para" id="A1.SS4.SSS1.p1">
<p class="ltx_p" id="A1.SS4.SSS1.p1.1"><span class="ltx_text" id="A1.SS4.SSS1.p1.1.1" style="color:#000000;">Algorithm </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#algorithm1" style="color:#000000;" title="In A.4.1 Locating simulator algorithm ‣ A.4 Algorithm of simulators ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">1</span></a><span class="ltx_text" id="A1.SS4.SSS1.p1.1.2" style="color:#000000;"> describes the mechanism of Locating simulator. There are three different functions in the Locating simulator: ‘trading_power_estimate’, ‘flow_estimation’, and ‘find_top_n’.</span></p>
<ul class="ltx_itemize" id="A1.I2">
<li class="ltx_item" id="A1.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i1.p1">
<p class="ltx_p" id="A1.I2.i1.p1.5"><span class="ltx_text ltx_font_bold" id="A1.I2.i1.p1.5.1" style="color:#000000;">trading_power_estimate</span><span class="ltx_text" id="A1.I2.i1.p1.5.2" style="color:#000000;"> takes the database </span><math alttext="D" class="ltx_Math" display="inline" id="A1.I2.i1.p1.1.m1.1"><semantics id="A1.I2.i1.p1.1.m1.1a"><mi id="A1.I2.i1.p1.1.m1.1.1" mathcolor="#000000" xref="A1.I2.i1.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.I2.i1.p1.1.m1.1b"><ci id="A1.I2.i1.p1.1.m1.1.1.cmml" xref="A1.I2.i1.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.I2.i1.p1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="A1.I2.i1.p1.1.m1.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="A1.I2.i1.p1.5.3" style="color:#000000;"> as an input, calculates and updates </span><math alttext="TP_{\textit{country}}(n,c)" class="ltx_Math" display="inline" id="A1.I2.i1.p1.2.m2.2"><semantics id="A1.I2.i1.p1.2.m2.2a"><mrow id="A1.I2.i1.p1.2.m2.2.3" xref="A1.I2.i1.p1.2.m2.2.3.cmml"><mi id="A1.I2.i1.p1.2.m2.2.3.2" mathcolor="#000000" xref="A1.I2.i1.p1.2.m2.2.3.2.cmml">T</mi><mo id="A1.I2.i1.p1.2.m2.2.3.1" xref="A1.I2.i1.p1.2.m2.2.3.1.cmml">⁢</mo><msub id="A1.I2.i1.p1.2.m2.2.3.3" xref="A1.I2.i1.p1.2.m2.2.3.3.cmml"><mi id="A1.I2.i1.p1.2.m2.2.3.3.2" mathcolor="#000000" xref="A1.I2.i1.p1.2.m2.2.3.3.2.cmml">P</mi><mtext class="ltx_mathvariant_italic" id="A1.I2.i1.p1.2.m2.2.3.3.3" mathcolor="#000000" xref="A1.I2.i1.p1.2.m2.2.3.3.3a.cmml">country</mtext></msub><mo id="A1.I2.i1.p1.2.m2.2.3.1a" xref="A1.I2.i1.p1.2.m2.2.3.1.cmml">⁢</mo><mrow id="A1.I2.i1.p1.2.m2.2.3.4.2" xref="A1.I2.i1.p1.2.m2.2.3.4.1.cmml"><mo id="A1.I2.i1.p1.2.m2.2.3.4.2.1" mathcolor="#000000" stretchy="false" xref="A1.I2.i1.p1.2.m2.2.3.4.1.cmml">(</mo><mi id="A1.I2.i1.p1.2.m2.1.1" mathcolor="#000000" xref="A1.I2.i1.p1.2.m2.1.1.cmml">n</mi><mo id="A1.I2.i1.p1.2.m2.2.3.4.2.2" mathcolor="#000000" xref="A1.I2.i1.p1.2.m2.2.3.4.1.cmml">,</mo><mi id="A1.I2.i1.p1.2.m2.2.2" mathcolor="#000000" xref="A1.I2.i1.p1.2.m2.2.2.cmml">c</mi><mo id="A1.I2.i1.p1.2.m2.2.3.4.2.3" mathcolor="#000000" stretchy="false" xref="A1.I2.i1.p1.2.m2.2.3.4.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.I2.i1.p1.2.m2.2b"><apply id="A1.I2.i1.p1.2.m2.2.3.cmml" xref="A1.I2.i1.p1.2.m2.2.3"><times id="A1.I2.i1.p1.2.m2.2.3.1.cmml" xref="A1.I2.i1.p1.2.m2.2.3.1"></times><ci id="A1.I2.i1.p1.2.m2.2.3.2.cmml" xref="A1.I2.i1.p1.2.m2.2.3.2">𝑇</ci><apply id="A1.I2.i1.p1.2.m2.2.3.3.cmml" xref="A1.I2.i1.p1.2.m2.2.3.3"><csymbol cd="ambiguous" id="A1.I2.i1.p1.2.m2.2.3.3.1.cmml" xref="A1.I2.i1.p1.2.m2.2.3.3">subscript</csymbol><ci id="A1.I2.i1.p1.2.m2.2.3.3.2.cmml" xref="A1.I2.i1.p1.2.m2.2.3.3.2">𝑃</ci><ci id="A1.I2.i1.p1.2.m2.2.3.3.3a.cmml" xref="A1.I2.i1.p1.2.m2.2.3.3.3"><mtext class="ltx_mathvariant_italic" id="A1.I2.i1.p1.2.m2.2.3.3.3.cmml" mathsize="70%" xref="A1.I2.i1.p1.2.m2.2.3.3.3">country</mtext></ci></apply><interval closure="open" id="A1.I2.i1.p1.2.m2.2.3.4.1.cmml" xref="A1.I2.i1.p1.2.m2.2.3.4.2"><ci id="A1.I2.i1.p1.2.m2.1.1.cmml" xref="A1.I2.i1.p1.2.m2.1.1">𝑛</ci><ci id="A1.I2.i1.p1.2.m2.2.2.cmml" xref="A1.I2.i1.p1.2.m2.2.2">𝑐</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I2.i1.p1.2.m2.2c">TP_{\textit{country}}(n,c)</annotation><annotation encoding="application/x-llamapun" id="A1.I2.i1.p1.2.m2.2d">italic_T italic_P start_POSTSUBSCRIPT country end_POSTSUBSCRIPT ( italic_n , italic_c )</annotation></semantics></math><span class="ltx_text" id="A1.I2.i1.p1.5.4" style="color:#000000;"> and </span><math alttext="TP_{\textit{total}}(n)" class="ltx_Math" display="inline" id="A1.I2.i1.p1.3.m3.1"><semantics id="A1.I2.i1.p1.3.m3.1a"><mrow id="A1.I2.i1.p1.3.m3.1.2" xref="A1.I2.i1.p1.3.m3.1.2.cmml"><mi id="A1.I2.i1.p1.3.m3.1.2.2" mathcolor="#000000" xref="A1.I2.i1.p1.3.m3.1.2.2.cmml">T</mi><mo id="A1.I2.i1.p1.3.m3.1.2.1" xref="A1.I2.i1.p1.3.m3.1.2.1.cmml">⁢</mo><msub id="A1.I2.i1.p1.3.m3.1.2.3" xref="A1.I2.i1.p1.3.m3.1.2.3.cmml"><mi id="A1.I2.i1.p1.3.m3.1.2.3.2" mathcolor="#000000" xref="A1.I2.i1.p1.3.m3.1.2.3.2.cmml">P</mi><mtext class="ltx_mathvariant_italic" id="A1.I2.i1.p1.3.m3.1.2.3.3" mathcolor="#000000" xref="A1.I2.i1.p1.3.m3.1.2.3.3a.cmml">total</mtext></msub><mo id="A1.I2.i1.p1.3.m3.1.2.1a" xref="A1.I2.i1.p1.3.m3.1.2.1.cmml">⁢</mo><mrow id="A1.I2.i1.p1.3.m3.1.2.4.2" xref="A1.I2.i1.p1.3.m3.1.2.cmml"><mo id="A1.I2.i1.p1.3.m3.1.2.4.2.1" mathcolor="#000000" stretchy="false" xref="A1.I2.i1.p1.3.m3.1.2.cmml">(</mo><mi id="A1.I2.i1.p1.3.m3.1.1" mathcolor="#000000" xref="A1.I2.i1.p1.3.m3.1.1.cmml">n</mi><mo id="A1.I2.i1.p1.3.m3.1.2.4.2.2" mathcolor="#000000" stretchy="false" xref="A1.I2.i1.p1.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.I2.i1.p1.3.m3.1b"><apply id="A1.I2.i1.p1.3.m3.1.2.cmml" xref="A1.I2.i1.p1.3.m3.1.2"><times id="A1.I2.i1.p1.3.m3.1.2.1.cmml" xref="A1.I2.i1.p1.3.m3.1.2.1"></times><ci id="A1.I2.i1.p1.3.m3.1.2.2.cmml" xref="A1.I2.i1.p1.3.m3.1.2.2">𝑇</ci><apply id="A1.I2.i1.p1.3.m3.1.2.3.cmml" xref="A1.I2.i1.p1.3.m3.1.2.3"><csymbol cd="ambiguous" id="A1.I2.i1.p1.3.m3.1.2.3.1.cmml" xref="A1.I2.i1.p1.3.m3.1.2.3">subscript</csymbol><ci id="A1.I2.i1.p1.3.m3.1.2.3.2.cmml" xref="A1.I2.i1.p1.3.m3.1.2.3.2">𝑃</ci><ci id="A1.I2.i1.p1.3.m3.1.2.3.3a.cmml" xref="A1.I2.i1.p1.3.m3.1.2.3.3"><mtext class="ltx_mathvariant_italic" id="A1.I2.i1.p1.3.m3.1.2.3.3.cmml" mathsize="70%" xref="A1.I2.i1.p1.3.m3.1.2.3.3">total</mtext></ci></apply><ci id="A1.I2.i1.p1.3.m3.1.1.cmml" xref="A1.I2.i1.p1.3.m3.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I2.i1.p1.3.m3.1c">TP_{\textit{total}}(n)</annotation><annotation encoding="application/x-llamapun" id="A1.I2.i1.p1.3.m3.1d">italic_T italic_P start_POSTSUBSCRIPT total end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math><span class="ltx_text" id="A1.I2.i1.p1.5.5" style="color:#000000;"> for all </span><math alttext="n,c\in\textit{NodeCountry}" class="ltx_Math" display="inline" id="A1.I2.i1.p1.4.m4.2"><semantics id="A1.I2.i1.p1.4.m4.2a"><mrow id="A1.I2.i1.p1.4.m4.2.3" xref="A1.I2.i1.p1.4.m4.2.3.cmml"><mrow id="A1.I2.i1.p1.4.m4.2.3.2.2" xref="A1.I2.i1.p1.4.m4.2.3.2.1.cmml"><mi id="A1.I2.i1.p1.4.m4.1.1" mathcolor="#000000" xref="A1.I2.i1.p1.4.m4.1.1.cmml">n</mi><mo id="A1.I2.i1.p1.4.m4.2.3.2.2.1" mathcolor="#000000" xref="A1.I2.i1.p1.4.m4.2.3.2.1.cmml">,</mo><mi id="A1.I2.i1.p1.4.m4.2.2" mathcolor="#000000" xref="A1.I2.i1.p1.4.m4.2.2.cmml">c</mi></mrow><mo id="A1.I2.i1.p1.4.m4.2.3.1" mathcolor="#000000" xref="A1.I2.i1.p1.4.m4.2.3.1.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="A1.I2.i1.p1.4.m4.2.3.3" mathcolor="#000000" xref="A1.I2.i1.p1.4.m4.2.3.3a.cmml">NodeCountry</mtext></mrow><annotation-xml encoding="MathML-Content" id="A1.I2.i1.p1.4.m4.2b"><apply id="A1.I2.i1.p1.4.m4.2.3.cmml" xref="A1.I2.i1.p1.4.m4.2.3"><in id="A1.I2.i1.p1.4.m4.2.3.1.cmml" xref="A1.I2.i1.p1.4.m4.2.3.1"></in><list id="A1.I2.i1.p1.4.m4.2.3.2.1.cmml" xref="A1.I2.i1.p1.4.m4.2.3.2.2"><ci id="A1.I2.i1.p1.4.m4.1.1.cmml" xref="A1.I2.i1.p1.4.m4.1.1">𝑛</ci><ci id="A1.I2.i1.p1.4.m4.2.2.cmml" xref="A1.I2.i1.p1.4.m4.2.2">𝑐</ci></list><ci id="A1.I2.i1.p1.4.m4.2.3.3a.cmml" xref="A1.I2.i1.p1.4.m4.2.3.3"><mtext class="ltx_mathvariant_italic" id="A1.I2.i1.p1.4.m4.2.3.3.cmml" xref="A1.I2.i1.p1.4.m4.2.3.3">NodeCountry</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I2.i1.p1.4.m4.2c">n,c\in\textit{NodeCountry}</annotation><annotation encoding="application/x-llamapun" id="A1.I2.i1.p1.4.m4.2d">italic_n , italic_c ∈ NodeCountry</annotation></semantics></math><span class="ltx_text" id="A1.I2.i1.p1.5.6" style="color:#000000;">, and returns updated </span><math alttext="D" class="ltx_Math" display="inline" id="A1.I2.i1.p1.5.m5.1"><semantics id="A1.I2.i1.p1.5.m5.1a"><mi id="A1.I2.i1.p1.5.m5.1.1" mathcolor="#000000" xref="A1.I2.i1.p1.5.m5.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.I2.i1.p1.5.m5.1b"><ci id="A1.I2.i1.p1.5.m5.1.1.cmml" xref="A1.I2.i1.p1.5.m5.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.I2.i1.p1.5.m5.1c">D</annotation><annotation encoding="application/x-llamapun" id="A1.I2.i1.p1.5.m5.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="A1.I2.i1.p1.5.7" style="color:#000000;">.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i2.p1">
<p class="ltx_p" id="A1.I2.i2.p1.3"><span class="ltx_text ltx_font_bold" id="A1.I2.i2.p1.3.1" style="color:#000000;">flow_estimation</span><span class="ltx_text" id="A1.I2.i2.p1.3.2" style="color:#000000;"> takes the database </span><math alttext="D" class="ltx_Math" display="inline" id="A1.I2.i2.p1.1.m1.1"><semantics id="A1.I2.i2.p1.1.m1.1a"><mi id="A1.I2.i2.p1.1.m1.1.1" mathcolor="#000000" xref="A1.I2.i2.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.I2.i2.p1.1.m1.1b"><ci id="A1.I2.i2.p1.1.m1.1.1.cmml" xref="A1.I2.i2.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.I2.i2.p1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="A1.I2.i2.p1.1.m1.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="A1.I2.i2.p1.3.3" style="color:#000000;"> and an objective node </span><span class="ltx_text ltx_font_italic" id="A1.I2.i2.p1.3.4" style="color:#000000;">obj_n</span><span class="ltx_text" id="A1.I2.i2.p1.3.5" style="color:#000000;"> as inputs, calculates and updates </span><span class="ltx_text ltx_font_italic" id="A1.I2.i2.p1.3.6" style="color:#000000;">flow(obj_n, dest)</span><span class="ltx_text" id="A1.I2.i2.p1.3.7" style="color:#000000;"> and IV(</span><span class="ltx_text ltx_font_italic" id="A1.I2.i2.p1.3.8" style="color:#000000;">dest</span><span class="ltx_text" id="A1.I2.i2.p1.3.9" style="color:#000000;">) for all </span><span class="ltx_text ltx_font_italic" id="A1.I2.i2.p1.3.10" style="color:#000000;">dest</span><span class="ltx_text" id="A1.I2.i2.p1.3.11" style="color:#000000;"> such that </span><math alttext="\textit{(obj\_n, dest)}\in F" class="ltx_Math" display="inline" id="A1.I2.i2.p1.2.m2.1"><semantics id="A1.I2.i2.p1.2.m2.1a"><mrow id="A1.I2.i2.p1.2.m2.1.1" xref="A1.I2.i2.p1.2.m2.1.1.cmml"><mtext class="ltx_mathvariant_italic" id="A1.I2.i2.p1.2.m2.1.1.2" mathcolor="#000000" xref="A1.I2.i2.p1.2.m2.1.1.2a.cmml">(obj_n, dest)</mtext><mo id="A1.I2.i2.p1.2.m2.1.1.1" mathcolor="#000000" xref="A1.I2.i2.p1.2.m2.1.1.1.cmml">∈</mo><mi id="A1.I2.i2.p1.2.m2.1.1.3" mathcolor="#000000" xref="A1.I2.i2.p1.2.m2.1.1.3.cmml">F</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.I2.i2.p1.2.m2.1b"><apply id="A1.I2.i2.p1.2.m2.1.1.cmml" xref="A1.I2.i2.p1.2.m2.1.1"><in id="A1.I2.i2.p1.2.m2.1.1.1.cmml" xref="A1.I2.i2.p1.2.m2.1.1.1"></in><ci id="A1.I2.i2.p1.2.m2.1.1.2a.cmml" xref="A1.I2.i2.p1.2.m2.1.1.2"><mtext class="ltx_mathvariant_italic" id="A1.I2.i2.p1.2.m2.1.1.2.cmml" xref="A1.I2.i2.p1.2.m2.1.1.2">(obj_n, dest)</mtext></ci><ci id="A1.I2.i2.p1.2.m2.1.1.3.cmml" xref="A1.I2.i2.p1.2.m2.1.1.3">𝐹</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I2.i2.p1.2.m2.1c">\textit{(obj\_n, dest)}\in F</annotation><annotation encoding="application/x-llamapun" id="A1.I2.i2.p1.2.m2.1d">(obj_n, dest) ∈ italic_F</annotation></semantics></math><span class="ltx_text" id="A1.I2.i2.p1.3.12" style="color:#000000;"> by using Eq. (</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.E2" style="color:#000000;" title="In 3.1 Locating scenario ‣ 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">2</span></a><span class="ltx_text" id="A1.I2.i2.p1.3.13" style="color:#000000;">), and returns updated </span><math alttext="D" class="ltx_Math" display="inline" id="A1.I2.i2.p1.3.m3.1"><semantics id="A1.I2.i2.p1.3.m3.1a"><mi id="A1.I2.i2.p1.3.m3.1.1" mathcolor="#000000" xref="A1.I2.i2.p1.3.m3.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.I2.i2.p1.3.m3.1b"><ci id="A1.I2.i2.p1.3.m3.1.1.cmml" xref="A1.I2.i2.p1.3.m3.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.I2.i2.p1.3.m3.1c">D</annotation><annotation encoding="application/x-llamapun" id="A1.I2.i2.p1.3.m3.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="A1.I2.i2.p1.3.14" style="color:#000000;">.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i3.p1">
<p class="ltx_p" id="A1.I2.i3.p1.4"><span class="ltx_text ltx_font_bold" id="A1.I2.i3.p1.4.1" style="color:#000000;">find_top_n</span><span class="ltx_text" id="A1.I2.i3.p1.4.2" style="color:#000000;"> takes the database </span><math alttext="D" class="ltx_Math" display="inline" id="A1.I2.i3.p1.1.m1.1"><semantics id="A1.I2.i3.p1.1.m1.1a"><mi id="A1.I2.i3.p1.1.m1.1.1" mathcolor="#000000" xref="A1.I2.i3.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.I2.i3.p1.1.m1.1b"><ci id="A1.I2.i3.p1.1.m1.1.1.cmml" xref="A1.I2.i3.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.I2.i3.p1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="A1.I2.i3.p1.1.m1.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="A1.I2.i3.p1.4.3" style="color:#000000;"> and </span><span class="ltx_text ltx_font_italic" id="A1.I2.i3.p1.4.4" style="color:#000000;">Simulated_n</span><span class="ltx_text" id="A1.I2.i3.p1.4.5" style="color:#000000;"> as inputs and returns a node </span><math alttext="n\in\textit{Nodes}-\textit{Simulated\_n}" class="ltx_Math" display="inline" id="A1.I2.i3.p1.2.m2.1"><semantics id="A1.I2.i3.p1.2.m2.1a"><mrow id="A1.I2.i3.p1.2.m2.1.1" xref="A1.I2.i3.p1.2.m2.1.1.cmml"><mi id="A1.I2.i3.p1.2.m2.1.1.2" mathcolor="#000000" xref="A1.I2.i3.p1.2.m2.1.1.2.cmml">n</mi><mo id="A1.I2.i3.p1.2.m2.1.1.1" mathcolor="#000000" xref="A1.I2.i3.p1.2.m2.1.1.1.cmml">∈</mo><mrow id="A1.I2.i3.p1.2.m2.1.1.3" xref="A1.I2.i3.p1.2.m2.1.1.3.cmml"><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.2.m2.1.1.3.2" mathcolor="#000000" xref="A1.I2.i3.p1.2.m2.1.1.3.2a.cmml">Nodes</mtext><mo id="A1.I2.i3.p1.2.m2.1.1.3.1" mathcolor="#000000" xref="A1.I2.i3.p1.2.m2.1.1.3.1.cmml">−</mo><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.2.m2.1.1.3.3" mathcolor="#000000" xref="A1.I2.i3.p1.2.m2.1.1.3.3a.cmml">Simulated_n</mtext></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.I2.i3.p1.2.m2.1b"><apply id="A1.I2.i3.p1.2.m2.1.1.cmml" xref="A1.I2.i3.p1.2.m2.1.1"><in id="A1.I2.i3.p1.2.m2.1.1.1.cmml" xref="A1.I2.i3.p1.2.m2.1.1.1"></in><ci id="A1.I2.i3.p1.2.m2.1.1.2.cmml" xref="A1.I2.i3.p1.2.m2.1.1.2">𝑛</ci><apply id="A1.I2.i3.p1.2.m2.1.1.3.cmml" xref="A1.I2.i3.p1.2.m2.1.1.3"><minus id="A1.I2.i3.p1.2.m2.1.1.3.1.cmml" xref="A1.I2.i3.p1.2.m2.1.1.3.1"></minus><ci id="A1.I2.i3.p1.2.m2.1.1.3.2a.cmml" xref="A1.I2.i3.p1.2.m2.1.1.3.2"><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.2.m2.1.1.3.2.cmml" xref="A1.I2.i3.p1.2.m2.1.1.3.2">Nodes</mtext></ci><ci id="A1.I2.i3.p1.2.m2.1.1.3.3a.cmml" xref="A1.I2.i3.p1.2.m2.1.1.3.3"><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.2.m2.1.1.3.3.cmml" xref="A1.I2.i3.p1.2.m2.1.1.3.3">Simulated_n</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I2.i3.p1.2.m2.1c">n\in\textit{Nodes}-\textit{Simulated\_n}</annotation><annotation encoding="application/x-llamapun" id="A1.I2.i3.p1.2.m2.1d">italic_n ∈ Nodes - Simulated_n</annotation></semantics></math><span class="ltx_text" id="A1.I2.i3.p1.4.6" style="color:#000000;"> such that </span><math alttext="\forall_{\textit{n'}\in\textit{Nodes-Simulated\_n}}\textit{(n, n')}\notin F" class="ltx_Math" display="inline" id="A1.I2.i3.p1.3.m3.1"><semantics id="A1.I2.i3.p1.3.m3.1a"><mrow id="A1.I2.i3.p1.3.m3.1.1" xref="A1.I2.i3.p1.3.m3.1.1.cmml"><mrow id="A1.I2.i3.p1.3.m3.1.1.2" xref="A1.I2.i3.p1.3.m3.1.1.2.cmml"><msub id="A1.I2.i3.p1.3.m3.1.1.2.1" xref="A1.I2.i3.p1.3.m3.1.1.2.1.cmml"><mo id="A1.I2.i3.p1.3.m3.1.1.2.1.2" mathcolor="#000000" xref="A1.I2.i3.p1.3.m3.1.1.2.1.2.cmml">∀</mo><mrow id="A1.I2.i3.p1.3.m3.1.1.2.1.3" xref="A1.I2.i3.p1.3.m3.1.1.2.1.3.cmml"><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.3.m3.1.1.2.1.3.2" mathcolor="#000000" xref="A1.I2.i3.p1.3.m3.1.1.2.1.3.2a.cmml">n’</mtext><mo id="A1.I2.i3.p1.3.m3.1.1.2.1.3.1" mathcolor="#000000" xref="A1.I2.i3.p1.3.m3.1.1.2.1.3.1.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.3.m3.1.1.2.1.3.3" mathcolor="#000000" xref="A1.I2.i3.p1.3.m3.1.1.2.1.3.3a.cmml">Nodes-Simulated_n</mtext></mrow></msub><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.3.m3.1.1.2.2" mathcolor="#000000" xref="A1.I2.i3.p1.3.m3.1.1.2.2a.cmml">(n, n’)</mtext></mrow><mo id="A1.I2.i3.p1.3.m3.1.1.1" mathcolor="#000000" xref="A1.I2.i3.p1.3.m3.1.1.1.cmml">∉</mo><mi id="A1.I2.i3.p1.3.m3.1.1.3" mathcolor="#000000" xref="A1.I2.i3.p1.3.m3.1.1.3.cmml">F</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.I2.i3.p1.3.m3.1b"><apply id="A1.I2.i3.p1.3.m3.1.1.cmml" xref="A1.I2.i3.p1.3.m3.1.1"><notin id="A1.I2.i3.p1.3.m3.1.1.1.cmml" xref="A1.I2.i3.p1.3.m3.1.1.1"></notin><apply id="A1.I2.i3.p1.3.m3.1.1.2.cmml" xref="A1.I2.i3.p1.3.m3.1.1.2"><apply id="A1.I2.i3.p1.3.m3.1.1.2.1.cmml" xref="A1.I2.i3.p1.3.m3.1.1.2.1"><csymbol cd="ambiguous" id="A1.I2.i3.p1.3.m3.1.1.2.1.1.cmml" xref="A1.I2.i3.p1.3.m3.1.1.2.1">subscript</csymbol><csymbol cd="latexml" id="A1.I2.i3.p1.3.m3.1.1.2.1.2.cmml" xref="A1.I2.i3.p1.3.m3.1.1.2.1.2">for-all</csymbol><apply id="A1.I2.i3.p1.3.m3.1.1.2.1.3.cmml" xref="A1.I2.i3.p1.3.m3.1.1.2.1.3"><in id="A1.I2.i3.p1.3.m3.1.1.2.1.3.1.cmml" xref="A1.I2.i3.p1.3.m3.1.1.2.1.3.1"></in><ci id="A1.I2.i3.p1.3.m3.1.1.2.1.3.2a.cmml" xref="A1.I2.i3.p1.3.m3.1.1.2.1.3.2"><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.3.m3.1.1.2.1.3.2.cmml" mathsize="70%" xref="A1.I2.i3.p1.3.m3.1.1.2.1.3.2">n’</mtext></ci><ci id="A1.I2.i3.p1.3.m3.1.1.2.1.3.3a.cmml" xref="A1.I2.i3.p1.3.m3.1.1.2.1.3.3"><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.3.m3.1.1.2.1.3.3.cmml" mathsize="70%" xref="A1.I2.i3.p1.3.m3.1.1.2.1.3.3">Nodes-Simulated_n</mtext></ci></apply></apply><ci id="A1.I2.i3.p1.3.m3.1.1.2.2a.cmml" xref="A1.I2.i3.p1.3.m3.1.1.2.2"><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.3.m3.1.1.2.2.cmml" xref="A1.I2.i3.p1.3.m3.1.1.2.2">(n, n’)</mtext></ci></apply><ci id="A1.I2.i3.p1.3.m3.1.1.3.cmml" xref="A1.I2.i3.p1.3.m3.1.1.3">𝐹</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I2.i3.p1.3.m3.1c">\forall_{\textit{n'}\in\textit{Nodes-Simulated\_n}}\textit{(n, n')}\notin F</annotation><annotation encoding="application/x-llamapun" id="A1.I2.i3.p1.3.m3.1d">∀ start_POSTSUBSCRIPT n’ ∈ Nodes-Simulated_n end_POSTSUBSCRIPT (n, n’) ∉ italic_F</annotation></semantics></math><span class="ltx_text" id="A1.I2.i3.p1.4.7" style="color:#000000;">. If </span><math alttext="\textit{Nodes}-\textit{Simulated\_n}=\emptyset" class="ltx_Math" display="inline" id="A1.I2.i3.p1.4.m4.1"><semantics id="A1.I2.i3.p1.4.m4.1a"><mrow id="A1.I2.i3.p1.4.m4.1.1" xref="A1.I2.i3.p1.4.m4.1.1.cmml"><mrow id="A1.I2.i3.p1.4.m4.1.1.2" xref="A1.I2.i3.p1.4.m4.1.1.2.cmml"><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.4.m4.1.1.2.2" mathcolor="#000000" xref="A1.I2.i3.p1.4.m4.1.1.2.2a.cmml">Nodes</mtext><mo id="A1.I2.i3.p1.4.m4.1.1.2.1" mathcolor="#000000" xref="A1.I2.i3.p1.4.m4.1.1.2.1.cmml">−</mo><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.4.m4.1.1.2.3" mathcolor="#000000" xref="A1.I2.i3.p1.4.m4.1.1.2.3a.cmml">Simulated_n</mtext></mrow><mo id="A1.I2.i3.p1.4.m4.1.1.1" mathcolor="#000000" xref="A1.I2.i3.p1.4.m4.1.1.1.cmml">=</mo><mi id="A1.I2.i3.p1.4.m4.1.1.3" mathcolor="#000000" mathvariant="normal" xref="A1.I2.i3.p1.4.m4.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.I2.i3.p1.4.m4.1b"><apply id="A1.I2.i3.p1.4.m4.1.1.cmml" xref="A1.I2.i3.p1.4.m4.1.1"><eq id="A1.I2.i3.p1.4.m4.1.1.1.cmml" xref="A1.I2.i3.p1.4.m4.1.1.1"></eq><apply id="A1.I2.i3.p1.4.m4.1.1.2.cmml" xref="A1.I2.i3.p1.4.m4.1.1.2"><minus id="A1.I2.i3.p1.4.m4.1.1.2.1.cmml" xref="A1.I2.i3.p1.4.m4.1.1.2.1"></minus><ci id="A1.I2.i3.p1.4.m4.1.1.2.2a.cmml" xref="A1.I2.i3.p1.4.m4.1.1.2.2"><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.4.m4.1.1.2.2.cmml" xref="A1.I2.i3.p1.4.m4.1.1.2.2">Nodes</mtext></ci><ci id="A1.I2.i3.p1.4.m4.1.1.2.3a.cmml" xref="A1.I2.i3.p1.4.m4.1.1.2.3"><mtext class="ltx_mathvariant_italic" id="A1.I2.i3.p1.4.m4.1.1.2.3.cmml" xref="A1.I2.i3.p1.4.m4.1.1.2.3">Simulated_n</mtext></ci></apply><emptyset id="A1.I2.i3.p1.4.m4.1.1.3.cmml" xref="A1.I2.i3.p1.4.m4.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I2.i3.p1.4.m4.1c">\textit{Nodes}-\textit{Simulated\_n}=\emptyset</annotation><annotation encoding="application/x-llamapun" id="A1.I2.i3.p1.4.m4.1d">Nodes - Simulated_n = ∅</annotation></semantics></math><span class="ltx_text" id="A1.I2.i3.p1.4.8" style="color:#000000;">, it returns </span><span class="ltx_text ltx_font_italic" id="A1.I2.i3.p1.4.9" style="color:#000000;">NULL</span><span class="ltx_text" id="A1.I2.i3.p1.4.10" style="color:#000000;">.</span></p>
</div>
</li>
</ul>
</div>
<figure class="ltx_float ltx_algorithm" id="algorithm1">
<div class="ltx_listing ltx_lst_numbers_left ltx_listing" id="algorithm1.16">
<div class="ltx_listingline" id="algorithm1.1.1">
<span class="ltx_text" id="algorithm1.1.1.1" style="color:#000000;">
</span><span class="ltx_text" id="algorithm1.1.1.2" style="color:#000000;"><span class="ltx_text ltx_font_bold" id="algorithm1.1.1.2.1">Input:</span> </span><span class="ltx_text" id="algorithm1.1.1.3" style="color:#000000;">
</span><math alttext="D" class="ltx_Math" display="inline" id="algorithm1.1.1.m1.1"><semantics id="algorithm1.1.1.m1.1a"><mi id="algorithm1.1.1.m1.1.1" mathcolor="#000000" xref="algorithm1.1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="algorithm1.1.1.m1.1b"><ci id="algorithm1.1.1.m1.1.1.cmml" xref="algorithm1.1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="algorithm1.1.1.m1.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="algorithm1.1.1.4" style="color:#000000;">   /* Database for Locating */
</span>
</div>
<div class="ltx_listingline" id="algorithm1.3.3">
<span class="ltx_text" id="algorithm1.3.3.1" style="color:#000000;">
</span><span class="ltx_text" id="algorithm1.3.3.2" style="color:#000000;"><span class="ltx_text ltx_font_bold" id="algorithm1.3.3.2.1">Output:</span> </span><span class="ltx_text" id="algorithm1.3.3.3" style="color:#000000;">
</span><math alttext="D" class="ltx_Math" display="inline" id="algorithm1.2.2.m1.1"><semantics id="algorithm1.2.2.m1.1a"><mi id="algorithm1.2.2.m1.1.1" mathcolor="#000000" xref="algorithm1.2.2.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="algorithm1.2.2.m1.1b"><ci id="algorithm1.2.2.m1.1.1.cmml" xref="algorithm1.2.2.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.2.2.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="algorithm1.2.2.m1.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="algorithm1.3.3.4" style="color:#000000;">   /* Database after calculating a </span><span class="ltx_text ltx_font_italic" id="algorithm1.3.3.5" style="color:#000000;">profit</span><span class="ltx_text" id="algorithm1.3.3.6" style="color:#000000;"> for every country in </span><math alttext="D" class="ltx_Math" display="inline" id="algorithm1.3.3.m2.1"><semantics id="algorithm1.3.3.m2.1a"><mi id="algorithm1.3.3.m2.1.1" mathcolor="#000000" xref="algorithm1.3.3.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="algorithm1.3.3.m2.1b"><ci id="algorithm1.3.3.m2.1.1.cmml" xref="algorithm1.3.3.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.3.3.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="algorithm1.3.3.m2.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="algorithm1.3.3.7" style="color:#000000;">. */
</span>
</div>
<div class="ltx_listingline" id="algorithm1.8.8">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm1.8.8.1.1.1" style="color:#000000;">1</span></span><span class="ltx_text" id="algorithm1.8.8.2" style="color:#000000;">
</span><math alttext="D" class="ltx_Math" display="inline" id="algorithm1.4.4.m1.1"><semantics id="algorithm1.4.4.m1.1a"><mi id="algorithm1.4.4.m1.1.1" mathcolor="#000000" xref="algorithm1.4.4.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="algorithm1.4.4.m1.1b"><ci id="algorithm1.4.4.m1.1.1.cmml" xref="algorithm1.4.4.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.4.4.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="algorithm1.4.4.m1.1d">italic_D</annotation></semantics></math><math alttext="\leftarrow" class="ltx_Math" display="inline" id="algorithm1.5.5.m2.1"><semantics id="algorithm1.5.5.m2.1a"><mo id="algorithm1.5.5.m2.1.1" mathcolor="#000000" stretchy="false" xref="algorithm1.5.5.m2.1.1.cmml">←</mo><annotation-xml encoding="MathML-Content" id="algorithm1.5.5.m2.1b"><ci id="algorithm1.5.5.m2.1.1.cmml" xref="algorithm1.5.5.m2.1.1">←</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.5.5.m2.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="algorithm1.5.5.m2.1d">←</annotation></semantics></math><span class="ltx_text" id="algorithm1.8.8.3" style="color:#000000;"> trading_power_estimate(</span><math alttext="D" class="ltx_Math" display="inline" id="algorithm1.6.6.m3.1"><semantics id="algorithm1.6.6.m3.1a"><mi id="algorithm1.6.6.m3.1.1" mathcolor="#000000" xref="algorithm1.6.6.m3.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="algorithm1.6.6.m3.1b"><ci id="algorithm1.6.6.m3.1.1.cmml" xref="algorithm1.6.6.m3.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.6.6.m3.1c">D</annotation><annotation encoding="application/x-llamapun" id="algorithm1.6.6.m3.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="algorithm1.8.8.4" style="color:#000000;">) /* Initialize </span><math alttext="TP_{\textit{country}}(n,c)" class="ltx_Math" display="inline" id="algorithm1.7.7.m4.2"><semantics id="algorithm1.7.7.m4.2a"><mrow id="algorithm1.7.7.m4.2.3" xref="algorithm1.7.7.m4.2.3.cmml"><mi id="algorithm1.7.7.m4.2.3.2" mathcolor="#000000" xref="algorithm1.7.7.m4.2.3.2.cmml">T</mi><mo id="algorithm1.7.7.m4.2.3.1" xref="algorithm1.7.7.m4.2.3.1.cmml">⁢</mo><msub id="algorithm1.7.7.m4.2.3.3" xref="algorithm1.7.7.m4.2.3.3.cmml"><mi id="algorithm1.7.7.m4.2.3.3.2" mathcolor="#000000" xref="algorithm1.7.7.m4.2.3.3.2.cmml">P</mi><mtext class="ltx_mathvariant_italic" id="algorithm1.7.7.m4.2.3.3.3" mathcolor="#000000" xref="algorithm1.7.7.m4.2.3.3.3a.cmml">country</mtext></msub><mo id="algorithm1.7.7.m4.2.3.1a" xref="algorithm1.7.7.m4.2.3.1.cmml">⁢</mo><mrow id="algorithm1.7.7.m4.2.3.4.2" xref="algorithm1.7.7.m4.2.3.4.1.cmml"><mo id="algorithm1.7.7.m4.2.3.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm1.7.7.m4.2.3.4.1.cmml">(</mo><mi id="algorithm1.7.7.m4.1.1" mathcolor="#000000" xref="algorithm1.7.7.m4.1.1.cmml">n</mi><mo id="algorithm1.7.7.m4.2.3.4.2.2" mathcolor="#000000" xref="algorithm1.7.7.m4.2.3.4.1.cmml">,</mo><mi id="algorithm1.7.7.m4.2.2" mathcolor="#000000" xref="algorithm1.7.7.m4.2.2.cmml">c</mi><mo id="algorithm1.7.7.m4.2.3.4.2.3" mathcolor="#000000" stretchy="false" xref="algorithm1.7.7.m4.2.3.4.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.7.7.m4.2b"><apply id="algorithm1.7.7.m4.2.3.cmml" xref="algorithm1.7.7.m4.2.3"><times id="algorithm1.7.7.m4.2.3.1.cmml" xref="algorithm1.7.7.m4.2.3.1"></times><ci id="algorithm1.7.7.m4.2.3.2.cmml" xref="algorithm1.7.7.m4.2.3.2">𝑇</ci><apply id="algorithm1.7.7.m4.2.3.3.cmml" xref="algorithm1.7.7.m4.2.3.3"><csymbol cd="ambiguous" id="algorithm1.7.7.m4.2.3.3.1.cmml" xref="algorithm1.7.7.m4.2.3.3">subscript</csymbol><ci id="algorithm1.7.7.m4.2.3.3.2.cmml" xref="algorithm1.7.7.m4.2.3.3.2">𝑃</ci><ci id="algorithm1.7.7.m4.2.3.3.3a.cmml" xref="algorithm1.7.7.m4.2.3.3.3"><mtext class="ltx_mathvariant_italic" id="algorithm1.7.7.m4.2.3.3.3.cmml" mathsize="70%" xref="algorithm1.7.7.m4.2.3.3.3">country</mtext></ci></apply><interval closure="open" id="algorithm1.7.7.m4.2.3.4.1.cmml" xref="algorithm1.7.7.m4.2.3.4.2"><ci id="algorithm1.7.7.m4.1.1.cmml" xref="algorithm1.7.7.m4.1.1">𝑛</ci><ci id="algorithm1.7.7.m4.2.2.cmml" xref="algorithm1.7.7.m4.2.2">𝑐</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.7.7.m4.2c">TP_{\textit{country}}(n,c)</annotation><annotation encoding="application/x-llamapun" id="algorithm1.7.7.m4.2d">italic_T italic_P start_POSTSUBSCRIPT country end_POSTSUBSCRIPT ( italic_n , italic_c )</annotation></semantics></math><span class="ltx_text" id="algorithm1.8.8.5" style="color:#000000;"> and </span><math alttext="TP_{\textit{total}}(n)" class="ltx_Math" display="inline" id="algorithm1.8.8.m5.1"><semantics id="algorithm1.8.8.m5.1a"><mrow id="algorithm1.8.8.m5.1.2" xref="algorithm1.8.8.m5.1.2.cmml"><mi id="algorithm1.8.8.m5.1.2.2" mathcolor="#000000" xref="algorithm1.8.8.m5.1.2.2.cmml">T</mi><mo id="algorithm1.8.8.m5.1.2.1" xref="algorithm1.8.8.m5.1.2.1.cmml">⁢</mo><msub id="algorithm1.8.8.m5.1.2.3" xref="algorithm1.8.8.m5.1.2.3.cmml"><mi id="algorithm1.8.8.m5.1.2.3.2" mathcolor="#000000" xref="algorithm1.8.8.m5.1.2.3.2.cmml">P</mi><mtext class="ltx_mathvariant_italic" id="algorithm1.8.8.m5.1.2.3.3" mathcolor="#000000" xref="algorithm1.8.8.m5.1.2.3.3a.cmml">total</mtext></msub><mo id="algorithm1.8.8.m5.1.2.1a" xref="algorithm1.8.8.m5.1.2.1.cmml">⁢</mo><mrow id="algorithm1.8.8.m5.1.2.4.2" xref="algorithm1.8.8.m5.1.2.cmml"><mo id="algorithm1.8.8.m5.1.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm1.8.8.m5.1.2.cmml">(</mo><mi id="algorithm1.8.8.m5.1.1" mathcolor="#000000" xref="algorithm1.8.8.m5.1.1.cmml">n</mi><mo id="algorithm1.8.8.m5.1.2.4.2.2" mathcolor="#000000" stretchy="false" xref="algorithm1.8.8.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.8.8.m5.1b"><apply id="algorithm1.8.8.m5.1.2.cmml" xref="algorithm1.8.8.m5.1.2"><times id="algorithm1.8.8.m5.1.2.1.cmml" xref="algorithm1.8.8.m5.1.2.1"></times><ci id="algorithm1.8.8.m5.1.2.2.cmml" xref="algorithm1.8.8.m5.1.2.2">𝑇</ci><apply id="algorithm1.8.8.m5.1.2.3.cmml" xref="algorithm1.8.8.m5.1.2.3"><csymbol cd="ambiguous" id="algorithm1.8.8.m5.1.2.3.1.cmml" xref="algorithm1.8.8.m5.1.2.3">subscript</csymbol><ci id="algorithm1.8.8.m5.1.2.3.2.cmml" xref="algorithm1.8.8.m5.1.2.3.2">𝑃</ci><ci id="algorithm1.8.8.m5.1.2.3.3a.cmml" xref="algorithm1.8.8.m5.1.2.3.3"><mtext class="ltx_mathvariant_italic" id="algorithm1.8.8.m5.1.2.3.3.cmml" mathsize="70%" xref="algorithm1.8.8.m5.1.2.3.3">total</mtext></ci></apply><ci id="algorithm1.8.8.m5.1.1.cmml" xref="algorithm1.8.8.m5.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.8.8.m5.1c">TP_{\textit{total}}(n)</annotation><annotation encoding="application/x-llamapun" id="algorithm1.8.8.m5.1d">italic_T italic_P start_POSTSUBSCRIPT total end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math><span class="ltx_text" id="algorithm1.8.8.6" style="color:#000000;"> */</span>
</div>
<div class="ltx_listingline" id="algorithm1.9.9">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm1.9.9.2.1.1" style="color:#000000;">2</span></span><span class="ltx_text" id="algorithm1.9.9.3" style="color:#000000;">
</span><span class="ltx_text ltx_font_italic" id="algorithm1.9.9.1" style="color:#000000;">Simulated_n<math alttext="\leftarrow" class="ltx_Math" display="inline" id="algorithm1.9.9.1.m1.1"><semantics id="algorithm1.9.9.1.m1.1a"><mo id="algorithm1.9.9.1.m1.1.1" mathcolor="#000000" stretchy="false" xref="algorithm1.9.9.1.m1.1.1.cmml">←</mo><annotation-xml encoding="MathML-Content" id="algorithm1.9.9.1.m1.1b"><ci id="algorithm1.9.9.1.m1.1.1.cmml" xref="algorithm1.9.9.1.m1.1.1">←</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.9.9.1.m1.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="algorithm1.9.9.1.m1.1d">←</annotation></semantics></math></span><span class="ltx_text" id="algorithm1.9.9.4" style="color:#000000;">{}  /* empty set. */</span>
</div>
<div class="ltx_listingline" id="algorithm1.16.17">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm1.16.17.1.1.1" style="color:#000000;">3</span></span><span class="ltx_text" id="algorithm1.16.17.2" style="color:#000000;">
</span><span class="ltx_text ltx_font_bold" id="algorithm1.16.17.3" style="color:#000000;">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.10.10">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm1.10.10.2.1.1" style="color:#000000;">4</span></span><span class="ltx_text" id="algorithm1.10.10.3" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm1.10.10.4" style="color:#000000;">   </span><span class="ltx_text" id="algorithm1.10.10.5" style="color:#000000;">
</span><span class="ltx_text ltx_font_italic" id="algorithm1.10.10.1" style="color:#000000;">obj_n<math alttext="\leftarrow" class="ltx_Math" display="inline" id="algorithm1.10.10.1.m1.1"><semantics id="algorithm1.10.10.1.m1.1a"><mo id="algorithm1.10.10.1.m1.1.1" mathcolor="#000000" stretchy="false" xref="algorithm1.10.10.1.m1.1.1.cmml">←</mo><annotation-xml encoding="MathML-Content" id="algorithm1.10.10.1.m1.1b"><ci id="algorithm1.10.10.1.m1.1.1.cmml" xref="algorithm1.10.10.1.m1.1.1">←</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.10.10.1.m1.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="algorithm1.10.10.1.m1.1d">←</annotation></semantics></math></span><span class="ltx_text" id="algorithm1.10.10.6" style="color:#000000;"> find_top_n</span><span class="ltx_text ltx_font_italic" id="algorithm1.10.10.7" style="color:#000000;">(D, Simulated_n)</span><span class="ltx_text" id="algorithm1.10.10.8" style="color:#000000;"> </span>
</div>
<div class="ltx_listingline" id="algorithm1.12.12">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm1.12.12.1.1.1" style="color:#000000;">5</span></span><span class="ltx_text" id="algorithm1.12.12.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm1.12.12.3" style="color:#000000;">   </span><span class="ltx_text" id="algorithm1.12.12.4" style="color:#000000;"> </span><math alttext="D" class="ltx_Math" display="inline" id="algorithm1.11.11.m1.1"><semantics id="algorithm1.11.11.m1.1a"><mi id="algorithm1.11.11.m1.1.1" mathcolor="#000000" xref="algorithm1.11.11.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="algorithm1.11.11.m1.1b"><ci id="algorithm1.11.11.m1.1.1.cmml" xref="algorithm1.11.11.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.11.11.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="algorithm1.11.11.m1.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="algorithm1.12.12.5" style="color:#000000;"> </span><math alttext="\leftarrow" class="ltx_Math" display="inline" id="algorithm1.12.12.m2.1"><semantics id="algorithm1.12.12.m2.1a"><mo id="algorithm1.12.12.m2.1.1" mathcolor="#000000" stretchy="false" xref="algorithm1.12.12.m2.1.1.cmml">←</mo><annotation-xml encoding="MathML-Content" id="algorithm1.12.12.m2.1b"><ci id="algorithm1.12.12.m2.1.1.cmml" xref="algorithm1.12.12.m2.1.1">←</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.12.12.m2.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="algorithm1.12.12.m2.1d">←</annotation></semantics></math><span class="ltx_text" id="algorithm1.12.12.6" style="color:#000000;"> flow_estimation</span><span class="ltx_text ltx_font_italic" id="algorithm1.12.12.7" style="color:#000000;">(D, obj_n)</span><span class="ltx_text" id="algorithm1.12.12.8" style="color:#000000;"> </span>
</div>
<div class="ltx_listingline" id="algorithm1.16.18">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm1.16.18.1.1.1" style="color:#000000;">6</span></span><span class="ltx_text" id="algorithm1.16.18.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm1.16.18.3" style="color:#000000;">   </span><span class="ltx_text" id="algorithm1.16.18.4" style="color:#000000;"> </span><span class="ltx_text ltx_font_italic" id="algorithm1.16.18.5" style="color:#000000;">Simulated_n</span><span class="ltx_text" id="algorithm1.16.18.6" style="color:#000000;">.add</span><span class="ltx_text ltx_font_italic" id="algorithm1.16.18.7" style="color:#000000;">(obj_n)</span><span class="ltx_text" id="algorithm1.16.18.8" style="color:#000000;"> </span>
</div>
<div class="ltx_listingline" id="algorithm1.16.19">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm1.16.19.1.1.1" style="color:#000000;">7</span></span><span class="ltx_text" id="algorithm1.16.19.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm1.16.19.3" style="color:#000000;">   </span><span class="ltx_text" id="algorithm1.16.19.4" style="color:#000000;"> </span>
</div>
<div class="ltx_listingline" id="algorithm1.13.13">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm1.13.13.2.1.1" style="color:#000000;">8</span></span><span class="ltx_text ltx_font_bold" id="algorithm1.13.13.3" style="color:#000000;">while</span><span class="ltx_text" id="algorithm1.13.13.4" style="color:#000000;"> </span><em class="ltx_emph ltx_font_italic" id="algorithm1.13.13.1" style="color:#000000;"><math alttext="\textit{Nodes}-\textit{Simulated\_n}\not=\emptyset" class="ltx_Math" display="inline" id="algorithm1.13.13.1.m1.1"><semantics id="algorithm1.13.13.1.m1.1a"><mrow id="algorithm1.13.13.1.m1.1.1" xref="algorithm1.13.13.1.m1.1.1.cmml"><mrow id="algorithm1.13.13.1.m1.1.1.2" xref="algorithm1.13.13.1.m1.1.1.2.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm1.13.13.1.m1.1.1.2.2" mathcolor="#000000" xref="algorithm1.13.13.1.m1.1.1.2.2a.cmml">Nodes</mtext><mo id="algorithm1.13.13.1.m1.1.1.2.1" mathcolor="#000000" xref="algorithm1.13.13.1.m1.1.1.2.1.cmml">−</mo><mtext class="ltx_mathvariant_italic" id="algorithm1.13.13.1.m1.1.1.2.3" mathcolor="#000000" xref="algorithm1.13.13.1.m1.1.1.2.3a.cmml">Simulated_n</mtext></mrow><mo id="algorithm1.13.13.1.m1.1.1.1" mathcolor="#000000" xref="algorithm1.13.13.1.m1.1.1.1.cmml">≠</mo><mi id="algorithm1.13.13.1.m1.1.1.3" mathcolor="#000000" mathvariant="normal" xref="algorithm1.13.13.1.m1.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.13.13.1.m1.1b"><apply id="algorithm1.13.13.1.m1.1.1.cmml" xref="algorithm1.13.13.1.m1.1.1"><neq id="algorithm1.13.13.1.m1.1.1.1.cmml" xref="algorithm1.13.13.1.m1.1.1.1"></neq><apply id="algorithm1.13.13.1.m1.1.1.2.cmml" xref="algorithm1.13.13.1.m1.1.1.2"><minus id="algorithm1.13.13.1.m1.1.1.2.1.cmml" xref="algorithm1.13.13.1.m1.1.1.2.1"></minus><ci id="algorithm1.13.13.1.m1.1.1.2.2a.cmml" xref="algorithm1.13.13.1.m1.1.1.2.2"><mtext class="ltx_mathvariant_italic" id="algorithm1.13.13.1.m1.1.1.2.2.cmml" mathcolor="#000000" xref="algorithm1.13.13.1.m1.1.1.2.2">Nodes</mtext></ci><ci id="algorithm1.13.13.1.m1.1.1.2.3a.cmml" xref="algorithm1.13.13.1.m1.1.1.2.3"><mtext class="ltx_mathvariant_italic" id="algorithm1.13.13.1.m1.1.1.2.3.cmml" mathcolor="#000000" xref="algorithm1.13.13.1.m1.1.1.2.3">Simulated_n</mtext></ci></apply><emptyset id="algorithm1.13.13.1.m1.1.1.3.cmml" xref="algorithm1.13.13.1.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.13.13.1.m1.1c">\textit{Nodes}-\textit{Simulated\_n}\not=\emptyset</annotation><annotation encoding="application/x-llamapun" id="algorithm1.13.13.1.m1.1d">Nodes - Simulated_n ≠ ∅</annotation></semantics></math></em><span class="ltx_text" id="algorithm1.13.13.5" style="color:#000000;">;</span>
</div>
<div class="ltx_listingline" id="algorithm1.14.14">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm1.14.14.2.1.1" style="color:#000000;">9</span></span><span class="ltx_text ltx_font_bold" id="algorithm1.14.14.3" style="color:#000000;">for</span><span class="ltx_text" id="algorithm1.14.14.4" style="color:#000000;"> </span><em class="ltx_emph ltx_font_italic" id="algorithm1.14.14.1" style="color:#000000;"><math alttext="c,h\in\textit{Countries}" class="ltx_Math" display="inline" id="algorithm1.14.14.1.m1.2"><semantics id="algorithm1.14.14.1.m1.2a"><mrow id="algorithm1.14.14.1.m1.2.3" xref="algorithm1.14.14.1.m1.2.3.cmml"><mrow id="algorithm1.14.14.1.m1.2.3.2.2" xref="algorithm1.14.14.1.m1.2.3.2.1.cmml"><mi id="algorithm1.14.14.1.m1.1.1" mathcolor="#000000" xref="algorithm1.14.14.1.m1.1.1.cmml">c</mi><mo id="algorithm1.14.14.1.m1.2.3.2.2.1" mathcolor="#000000" xref="algorithm1.14.14.1.m1.2.3.2.1.cmml">,</mo><mi id="algorithm1.14.14.1.m1.2.2" mathcolor="#000000" xref="algorithm1.14.14.1.m1.2.2.cmml">h</mi></mrow><mo id="algorithm1.14.14.1.m1.2.3.1" mathcolor="#000000" xref="algorithm1.14.14.1.m1.2.3.1.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="algorithm1.14.14.1.m1.2.3.3" mathcolor="#000000" xref="algorithm1.14.14.1.m1.2.3.3a.cmml">Countries</mtext></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.14.14.1.m1.2b"><apply id="algorithm1.14.14.1.m1.2.3.cmml" xref="algorithm1.14.14.1.m1.2.3"><in id="algorithm1.14.14.1.m1.2.3.1.cmml" xref="algorithm1.14.14.1.m1.2.3.1"></in><list id="algorithm1.14.14.1.m1.2.3.2.1.cmml" xref="algorithm1.14.14.1.m1.2.3.2.2"><ci id="algorithm1.14.14.1.m1.1.1.cmml" xref="algorithm1.14.14.1.m1.1.1">𝑐</ci><ci id="algorithm1.14.14.1.m1.2.2.cmml" xref="algorithm1.14.14.1.m1.2.2">ℎ</ci></list><ci id="algorithm1.14.14.1.m1.2.3.3a.cmml" xref="algorithm1.14.14.1.m1.2.3.3"><mtext class="ltx_mathvariant_italic" id="algorithm1.14.14.1.m1.2.3.3.cmml" mathcolor="#000000" xref="algorithm1.14.14.1.m1.2.3.3">Countries</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.14.14.1.m1.2c">c,h\in\textit{Countries}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.14.14.1.m1.2d">italic_c , italic_h ∈ Countries</annotation></semantics></math></em><span class="ltx_text" id="algorithm1.14.14.5" style="color:#000000;"> </span><span class="ltx_text ltx_font_bold" id="algorithm1.14.14.6" style="color:#000000;">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.15.15">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm1.15.15.1.1.1" style="color:#000000;">10</span></span><span class="ltx_text" id="algorithm1.15.15.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm1.15.15.3" style="color:#000000;">   </span><span class="ltx_text" id="algorithm1.15.15.4" style="color:#000000;">
</span><math alttext="\textit{profit}(c)\leftarrow(LV(h,c)+IV(h,c))\cdot\frac{TP_{\textit{country}}(%
h,c)}{TP_{\textit{total}}(h)}" class="ltx_Math" display="inline" id="algorithm1.15.15.m1.9"><semantics id="algorithm1.15.15.m1.9a"><mrow id="algorithm1.15.15.m1.9.9" xref="algorithm1.15.15.m1.9.9.cmml"><mrow id="algorithm1.15.15.m1.9.9.3" xref="algorithm1.15.15.m1.9.9.3.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm1.15.15.m1.9.9.3.2" mathcolor="#000000" xref="algorithm1.15.15.m1.9.9.3.2a.cmml">profit</mtext><mo id="algorithm1.15.15.m1.9.9.3.1" xref="algorithm1.15.15.m1.9.9.3.1.cmml">⁢</mo><mrow id="algorithm1.15.15.m1.9.9.3.3.2" xref="algorithm1.15.15.m1.9.9.3.cmml"><mo id="algorithm1.15.15.m1.9.9.3.3.2.1" mathcolor="#000000" stretchy="false" xref="algorithm1.15.15.m1.9.9.3.cmml">(</mo><mi id="algorithm1.15.15.m1.4.4" mathcolor="#000000" xref="algorithm1.15.15.m1.4.4.cmml">c</mi><mo id="algorithm1.15.15.m1.9.9.3.3.2.2" mathcolor="#000000" stretchy="false" xref="algorithm1.15.15.m1.9.9.3.cmml">)</mo></mrow></mrow><mo id="algorithm1.15.15.m1.9.9.2" mathcolor="#000000" stretchy="false" xref="algorithm1.15.15.m1.9.9.2.cmml">←</mo><mrow id="algorithm1.15.15.m1.9.9.1" xref="algorithm1.15.15.m1.9.9.1.cmml"><mrow id="algorithm1.15.15.m1.9.9.1.1.1" xref="algorithm1.15.15.m1.9.9.1.1.1.1.cmml"><mo id="algorithm1.15.15.m1.9.9.1.1.1.2" mathcolor="#000000" stretchy="false" xref="algorithm1.15.15.m1.9.9.1.1.1.1.cmml">(</mo><mrow id="algorithm1.15.15.m1.9.9.1.1.1.1" xref="algorithm1.15.15.m1.9.9.1.1.1.1.cmml"><mrow id="algorithm1.15.15.m1.9.9.1.1.1.1.2" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.cmml"><mi id="algorithm1.15.15.m1.9.9.1.1.1.1.2.2" mathcolor="#000000" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.2.cmml">L</mi><mo id="algorithm1.15.15.m1.9.9.1.1.1.1.2.1" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.1.cmml">⁢</mo><mi id="algorithm1.15.15.m1.9.9.1.1.1.1.2.3" mathcolor="#000000" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.3.cmml">V</mi><mo id="algorithm1.15.15.m1.9.9.1.1.1.1.2.1a" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.1.cmml">⁢</mo><mrow id="algorithm1.15.15.m1.9.9.1.1.1.1.2.4.2" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.4.1.cmml"><mo id="algorithm1.15.15.m1.9.9.1.1.1.1.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.4.1.cmml">(</mo><mi id="algorithm1.15.15.m1.5.5" mathcolor="#000000" xref="algorithm1.15.15.m1.5.5.cmml">h</mi><mo id="algorithm1.15.15.m1.9.9.1.1.1.1.2.4.2.2" mathcolor="#000000" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.4.1.cmml">,</mo><mi id="algorithm1.15.15.m1.6.6" mathcolor="#000000" xref="algorithm1.15.15.m1.6.6.cmml">c</mi><mo id="algorithm1.15.15.m1.9.9.1.1.1.1.2.4.2.3" mathcolor="#000000" stretchy="false" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.4.1.cmml">)</mo></mrow></mrow><mo id="algorithm1.15.15.m1.9.9.1.1.1.1.1" mathcolor="#000000" xref="algorithm1.15.15.m1.9.9.1.1.1.1.1.cmml">+</mo><mrow id="algorithm1.15.15.m1.9.9.1.1.1.1.3" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.cmml"><mi id="algorithm1.15.15.m1.9.9.1.1.1.1.3.2" mathcolor="#000000" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.2.cmml">I</mi><mo id="algorithm1.15.15.m1.9.9.1.1.1.1.3.1" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.15.15.m1.9.9.1.1.1.1.3.3" mathcolor="#000000" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.3.cmml">V</mi><mo id="algorithm1.15.15.m1.9.9.1.1.1.1.3.1a" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.1.cmml">⁢</mo><mrow id="algorithm1.15.15.m1.9.9.1.1.1.1.3.4.2" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.4.1.cmml"><mo id="algorithm1.15.15.m1.9.9.1.1.1.1.3.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.4.1.cmml">(</mo><mi id="algorithm1.15.15.m1.7.7" mathcolor="#000000" xref="algorithm1.15.15.m1.7.7.cmml">h</mi><mo id="algorithm1.15.15.m1.9.9.1.1.1.1.3.4.2.2" mathcolor="#000000" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.4.1.cmml">,</mo><mi id="algorithm1.15.15.m1.8.8" mathcolor="#000000" xref="algorithm1.15.15.m1.8.8.cmml">c</mi><mo id="algorithm1.15.15.m1.9.9.1.1.1.1.3.4.2.3" mathcolor="#000000" stretchy="false" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.4.1.cmml">)</mo></mrow></mrow></mrow><mo id="algorithm1.15.15.m1.9.9.1.1.1.3" mathcolor="#000000" rspace="0.055em" stretchy="false" xref="algorithm1.15.15.m1.9.9.1.1.1.1.cmml">)</mo></mrow><mo id="algorithm1.15.15.m1.9.9.1.2" mathcolor="#000000" rspace="0.222em" xref="algorithm1.15.15.m1.9.9.1.2.cmml">⋅</mo><mfrac id="algorithm1.15.15.m1.3.3" mathcolor="#000000" xref="algorithm1.15.15.m1.3.3.cmml"><mrow id="algorithm1.15.15.m1.2.2.2" xref="algorithm1.15.15.m1.2.2.2.cmml"><mi id="algorithm1.15.15.m1.2.2.2.4" mathcolor="#000000" xref="algorithm1.15.15.m1.2.2.2.4.cmml">T</mi><mo id="algorithm1.15.15.m1.2.2.2.3" xref="algorithm1.15.15.m1.2.2.2.3.cmml">⁢</mo><msub id="algorithm1.15.15.m1.2.2.2.5" xref="algorithm1.15.15.m1.2.2.2.5.cmml"><mi id="algorithm1.15.15.m1.2.2.2.5.2" mathcolor="#000000" xref="algorithm1.15.15.m1.2.2.2.5.2.cmml">P</mi><mtext class="ltx_mathvariant_italic" id="algorithm1.15.15.m1.2.2.2.5.3" mathcolor="#000000" xref="algorithm1.15.15.m1.2.2.2.5.3a.cmml">country</mtext></msub><mo id="algorithm1.15.15.m1.2.2.2.3a" xref="algorithm1.15.15.m1.2.2.2.3.cmml">⁢</mo><mrow id="algorithm1.15.15.m1.2.2.2.6.2" xref="algorithm1.15.15.m1.2.2.2.6.1.cmml"><mo id="algorithm1.15.15.m1.2.2.2.6.2.1" mathcolor="#000000" stretchy="false" xref="algorithm1.15.15.m1.2.2.2.6.1.cmml">(</mo><mi id="algorithm1.15.15.m1.1.1.1.1" mathcolor="#000000" xref="algorithm1.15.15.m1.1.1.1.1.cmml">h</mi><mo id="algorithm1.15.15.m1.2.2.2.6.2.2" mathcolor="#000000" xref="algorithm1.15.15.m1.2.2.2.6.1.cmml">,</mo><mi id="algorithm1.15.15.m1.2.2.2.2" mathcolor="#000000" xref="algorithm1.15.15.m1.2.2.2.2.cmml">c</mi><mo id="algorithm1.15.15.m1.2.2.2.6.2.3" mathcolor="#000000" stretchy="false" xref="algorithm1.15.15.m1.2.2.2.6.1.cmml">)</mo></mrow></mrow><mrow id="algorithm1.15.15.m1.3.3.3" xref="algorithm1.15.15.m1.3.3.3.cmml"><mi id="algorithm1.15.15.m1.3.3.3.3" mathcolor="#000000" xref="algorithm1.15.15.m1.3.3.3.3.cmml">T</mi><mo id="algorithm1.15.15.m1.3.3.3.2" xref="algorithm1.15.15.m1.3.3.3.2.cmml">⁢</mo><msub id="algorithm1.15.15.m1.3.3.3.4" xref="algorithm1.15.15.m1.3.3.3.4.cmml"><mi id="algorithm1.15.15.m1.3.3.3.4.2" mathcolor="#000000" xref="algorithm1.15.15.m1.3.3.3.4.2.cmml">P</mi><mtext class="ltx_mathvariant_italic" id="algorithm1.15.15.m1.3.3.3.4.3" mathcolor="#000000" xref="algorithm1.15.15.m1.3.3.3.4.3a.cmml">total</mtext></msub><mo id="algorithm1.15.15.m1.3.3.3.2a" xref="algorithm1.15.15.m1.3.3.3.2.cmml">⁢</mo><mrow id="algorithm1.15.15.m1.3.3.3.5.2" xref="algorithm1.15.15.m1.3.3.3.cmml"><mo id="algorithm1.15.15.m1.3.3.3.5.2.1" mathcolor="#000000" stretchy="false" xref="algorithm1.15.15.m1.3.3.3.cmml">(</mo><mi id="algorithm1.15.15.m1.3.3.3.1" mathcolor="#000000" xref="algorithm1.15.15.m1.3.3.3.1.cmml">h</mi><mo id="algorithm1.15.15.m1.3.3.3.5.2.2" mathcolor="#000000" stretchy="false" xref="algorithm1.15.15.m1.3.3.3.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.15.15.m1.9b"><apply id="algorithm1.15.15.m1.9.9.cmml" xref="algorithm1.15.15.m1.9.9"><ci id="algorithm1.15.15.m1.9.9.2.cmml" xref="algorithm1.15.15.m1.9.9.2">←</ci><apply id="algorithm1.15.15.m1.9.9.3.cmml" xref="algorithm1.15.15.m1.9.9.3"><times id="algorithm1.15.15.m1.9.9.3.1.cmml" xref="algorithm1.15.15.m1.9.9.3.1"></times><ci id="algorithm1.15.15.m1.9.9.3.2a.cmml" xref="algorithm1.15.15.m1.9.9.3.2"><mtext class="ltx_mathvariant_italic" id="algorithm1.15.15.m1.9.9.3.2.cmml" xref="algorithm1.15.15.m1.9.9.3.2">profit</mtext></ci><ci id="algorithm1.15.15.m1.4.4.cmml" xref="algorithm1.15.15.m1.4.4">𝑐</ci></apply><apply id="algorithm1.15.15.m1.9.9.1.cmml" xref="algorithm1.15.15.m1.9.9.1"><ci id="algorithm1.15.15.m1.9.9.1.2.cmml" xref="algorithm1.15.15.m1.9.9.1.2">⋅</ci><apply id="algorithm1.15.15.m1.9.9.1.1.1.1.cmml" xref="algorithm1.15.15.m1.9.9.1.1.1"><plus id="algorithm1.15.15.m1.9.9.1.1.1.1.1.cmml" xref="algorithm1.15.15.m1.9.9.1.1.1.1.1"></plus><apply id="algorithm1.15.15.m1.9.9.1.1.1.1.2.cmml" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2"><times id="algorithm1.15.15.m1.9.9.1.1.1.1.2.1.cmml" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.1"></times><ci id="algorithm1.15.15.m1.9.9.1.1.1.1.2.2.cmml" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.2">𝐿</ci><ci id="algorithm1.15.15.m1.9.9.1.1.1.1.2.3.cmml" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.3">𝑉</ci><interval closure="open" id="algorithm1.15.15.m1.9.9.1.1.1.1.2.4.1.cmml" xref="algorithm1.15.15.m1.9.9.1.1.1.1.2.4.2"><ci id="algorithm1.15.15.m1.5.5.cmml" xref="algorithm1.15.15.m1.5.5">ℎ</ci><ci id="algorithm1.15.15.m1.6.6.cmml" xref="algorithm1.15.15.m1.6.6">𝑐</ci></interval></apply><apply id="algorithm1.15.15.m1.9.9.1.1.1.1.3.cmml" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3"><times id="algorithm1.15.15.m1.9.9.1.1.1.1.3.1.cmml" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.1"></times><ci id="algorithm1.15.15.m1.9.9.1.1.1.1.3.2.cmml" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.2">𝐼</ci><ci id="algorithm1.15.15.m1.9.9.1.1.1.1.3.3.cmml" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.3">𝑉</ci><interval closure="open" id="algorithm1.15.15.m1.9.9.1.1.1.1.3.4.1.cmml" xref="algorithm1.15.15.m1.9.9.1.1.1.1.3.4.2"><ci id="algorithm1.15.15.m1.7.7.cmml" xref="algorithm1.15.15.m1.7.7">ℎ</ci><ci id="algorithm1.15.15.m1.8.8.cmml" xref="algorithm1.15.15.m1.8.8">𝑐</ci></interval></apply></apply><apply id="algorithm1.15.15.m1.3.3.cmml" xref="algorithm1.15.15.m1.3.3"><divide id="algorithm1.15.15.m1.3.3.4.cmml" xref="algorithm1.15.15.m1.3.3"></divide><apply id="algorithm1.15.15.m1.2.2.2.cmml" xref="algorithm1.15.15.m1.2.2.2"><times id="algorithm1.15.15.m1.2.2.2.3.cmml" xref="algorithm1.15.15.m1.2.2.2.3"></times><ci id="algorithm1.15.15.m1.2.2.2.4.cmml" xref="algorithm1.15.15.m1.2.2.2.4">𝑇</ci><apply id="algorithm1.15.15.m1.2.2.2.5.cmml" xref="algorithm1.15.15.m1.2.2.2.5"><csymbol cd="ambiguous" id="algorithm1.15.15.m1.2.2.2.5.1.cmml" xref="algorithm1.15.15.m1.2.2.2.5">subscript</csymbol><ci id="algorithm1.15.15.m1.2.2.2.5.2.cmml" xref="algorithm1.15.15.m1.2.2.2.5.2">𝑃</ci><ci id="algorithm1.15.15.m1.2.2.2.5.3a.cmml" xref="algorithm1.15.15.m1.2.2.2.5.3"><mtext class="ltx_mathvariant_italic" id="algorithm1.15.15.m1.2.2.2.5.3.cmml" mathsize="50%" xref="algorithm1.15.15.m1.2.2.2.5.3">country</mtext></ci></apply><interval closure="open" id="algorithm1.15.15.m1.2.2.2.6.1.cmml" xref="algorithm1.15.15.m1.2.2.2.6.2"><ci id="algorithm1.15.15.m1.1.1.1.1.cmml" xref="algorithm1.15.15.m1.1.1.1.1">ℎ</ci><ci id="algorithm1.15.15.m1.2.2.2.2.cmml" xref="algorithm1.15.15.m1.2.2.2.2">𝑐</ci></interval></apply><apply id="algorithm1.15.15.m1.3.3.3.cmml" xref="algorithm1.15.15.m1.3.3.3"><times id="algorithm1.15.15.m1.3.3.3.2.cmml" xref="algorithm1.15.15.m1.3.3.3.2"></times><ci id="algorithm1.15.15.m1.3.3.3.3.cmml" xref="algorithm1.15.15.m1.3.3.3.3">𝑇</ci><apply id="algorithm1.15.15.m1.3.3.3.4.cmml" xref="algorithm1.15.15.m1.3.3.3.4"><csymbol cd="ambiguous" id="algorithm1.15.15.m1.3.3.3.4.1.cmml" xref="algorithm1.15.15.m1.3.3.3.4">subscript</csymbol><ci id="algorithm1.15.15.m1.3.3.3.4.2.cmml" xref="algorithm1.15.15.m1.3.3.3.4.2">𝑃</ci><ci id="algorithm1.15.15.m1.3.3.3.4.3a.cmml" xref="algorithm1.15.15.m1.3.3.3.4.3"><mtext class="ltx_mathvariant_italic" id="algorithm1.15.15.m1.3.3.3.4.3.cmml" mathsize="50%" xref="algorithm1.15.15.m1.3.3.3.4.3">total</mtext></ci></apply><ci id="algorithm1.15.15.m1.3.3.3.1.cmml" xref="algorithm1.15.15.m1.3.3.3.1">ℎ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.15.15.m1.9c">\textit{profit}(c)\leftarrow(LV(h,c)+IV(h,c))\cdot\frac{TP_{\textit{country}}(%
h,c)}{TP_{\textit{total}}(h)}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.15.15.m1.9d">profit ( italic_c ) ← ( italic_L italic_V ( italic_h , italic_c ) + italic_I italic_V ( italic_h , italic_c ) ) ⋅ divide start_ARG italic_T italic_P start_POSTSUBSCRIPT country end_POSTSUBSCRIPT ( italic_h , italic_c ) end_ARG start_ARG italic_T italic_P start_POSTSUBSCRIPT total end_POSTSUBSCRIPT ( italic_h ) end_ARG</annotation></semantics></math><span class="ltx_text" id="algorithm1.15.15.5" style="color:#000000;">   /* Eq. (</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.E1" style="color:#000000;" title="In 3.1 Locating scenario ‣ 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">1</span></a><span class="ltx_text" id="algorithm1.15.15.6" style="color:#000000;">, </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.E3" style="color:#000000;" title="In 3.1 Locating scenario ‣ 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">3</span></a><span class="ltx_text" id="algorithm1.15.15.7" style="color:#000000;">) */
</span>
</div>
<div class="ltx_listingline" id="algorithm1.16.16">
<span class="ltx_text ltx_font_bold" id="algorithm1.16.16.1" style="color:#000000;">return</span><span class="ltx_text" id="algorithm1.16.16.2" style="color:#000000;"> </span><math alttext="D" class="ltx_Math" display="inline" id="algorithm1.16.16.m1.1"><semantics id="algorithm1.16.16.m1.1a"><mi id="algorithm1.16.16.m1.1.1" mathcolor="#000000" xref="algorithm1.16.16.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="algorithm1.16.16.m1.1b"><ci id="algorithm1.16.16.m1.1.1.cmml" xref="algorithm1.16.16.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.16.16.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="algorithm1.16.16.m1.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="algorithm1.16.16.3" style="color:#000000;">
</span>
</div>
</div>
<figcaption class="ltx_caption" style="color:#000000;"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="algorithm1.20.1.1">Algorithm 1</span> </span>Locating simulator</figcaption>
</figure>
</section>
<section class="ltx_subsubsection" id="A1.SS4.SSS2">
<h4 class="ltx_title ltx_title_subsubsection" style="color:#000000;">
<span class="ltx_tag ltx_tag_subsubsection">A.4.2 </span>Building simulator algorithm</h4>
<div class="ltx_para" id="A1.SS4.SSS2.p1">
<p class="ltx_p" id="A1.SS4.SSS2.p1.2"><span class="ltx_text" id="A1.SS4.SSS2.p1.2.1" style="color:#000000;">We provide the mechanism of Locating simulator in Algorithm </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#algorithm2" style="color:#000000;" title="In A.4.2 Building simulator algorithm ‣ A.4 Algorithm of simulators ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">2</span></a><span class="ltx_text" id="A1.SS4.SSS2.p1.2.2" style="color:#000000;">. We initialize </span><math alttext="TS(g)" class="ltx_Math" display="inline" id="A1.SS4.SSS2.p1.1.m1.1"><semantics id="A1.SS4.SSS2.p1.1.m1.1a"><mrow id="A1.SS4.SSS2.p1.1.m1.1.2" xref="A1.SS4.SSS2.p1.1.m1.1.2.cmml"><mi id="A1.SS4.SSS2.p1.1.m1.1.2.2" mathcolor="#000000" xref="A1.SS4.SSS2.p1.1.m1.1.2.2.cmml">T</mi><mo id="A1.SS4.SSS2.p1.1.m1.1.2.1" xref="A1.SS4.SSS2.p1.1.m1.1.2.1.cmml">⁢</mo><mi id="A1.SS4.SSS2.p1.1.m1.1.2.3" mathcolor="#000000" xref="A1.SS4.SSS2.p1.1.m1.1.2.3.cmml">S</mi><mo id="A1.SS4.SSS2.p1.1.m1.1.2.1a" xref="A1.SS4.SSS2.p1.1.m1.1.2.1.cmml">⁢</mo><mrow id="A1.SS4.SSS2.p1.1.m1.1.2.4.2" xref="A1.SS4.SSS2.p1.1.m1.1.2.cmml"><mo id="A1.SS4.SSS2.p1.1.m1.1.2.4.2.1" mathcolor="#000000" stretchy="false" xref="A1.SS4.SSS2.p1.1.m1.1.2.cmml">(</mo><mi id="A1.SS4.SSS2.p1.1.m1.1.1" mathcolor="#000000" xref="A1.SS4.SSS2.p1.1.m1.1.1.cmml">g</mi><mo id="A1.SS4.SSS2.p1.1.m1.1.2.4.2.2" mathcolor="#000000" stretchy="false" xref="A1.SS4.SSS2.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS4.SSS2.p1.1.m1.1b"><apply id="A1.SS4.SSS2.p1.1.m1.1.2.cmml" xref="A1.SS4.SSS2.p1.1.m1.1.2"><times id="A1.SS4.SSS2.p1.1.m1.1.2.1.cmml" xref="A1.SS4.SSS2.p1.1.m1.1.2.1"></times><ci id="A1.SS4.SSS2.p1.1.m1.1.2.2.cmml" xref="A1.SS4.SSS2.p1.1.m1.1.2.2">𝑇</ci><ci id="A1.SS4.SSS2.p1.1.m1.1.2.3.cmml" xref="A1.SS4.SSS2.p1.1.m1.1.2.3">𝑆</ci><ci id="A1.SS4.SSS2.p1.1.m1.1.1.cmml" xref="A1.SS4.SSS2.p1.1.m1.1.1">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS4.SSS2.p1.1.m1.1c">TS(g)</annotation><annotation encoding="application/x-llamapun" id="A1.SS4.SSS2.p1.1.m1.1d">italic_T italic_S ( italic_g )</annotation></semantics></math><span class="ltx_text" id="A1.SS4.SSS2.p1.2.3" style="color:#000000;"> as the sum of </span><math alttext="MS(g,b)" class="ltx_Math" display="inline" id="A1.SS4.SSS2.p1.2.m2.2"><semantics id="A1.SS4.SSS2.p1.2.m2.2a"><mrow id="A1.SS4.SSS2.p1.2.m2.2.3" xref="A1.SS4.SSS2.p1.2.m2.2.3.cmml"><mi id="A1.SS4.SSS2.p1.2.m2.2.3.2" mathcolor="#000000" xref="A1.SS4.SSS2.p1.2.m2.2.3.2.cmml">M</mi><mo id="A1.SS4.SSS2.p1.2.m2.2.3.1" xref="A1.SS4.SSS2.p1.2.m2.2.3.1.cmml">⁢</mo><mi id="A1.SS4.SSS2.p1.2.m2.2.3.3" mathcolor="#000000" xref="A1.SS4.SSS2.p1.2.m2.2.3.3.cmml">S</mi><mo id="A1.SS4.SSS2.p1.2.m2.2.3.1a" xref="A1.SS4.SSS2.p1.2.m2.2.3.1.cmml">⁢</mo><mrow id="A1.SS4.SSS2.p1.2.m2.2.3.4.2" xref="A1.SS4.SSS2.p1.2.m2.2.3.4.1.cmml"><mo id="A1.SS4.SSS2.p1.2.m2.2.3.4.2.1" mathcolor="#000000" stretchy="false" xref="A1.SS4.SSS2.p1.2.m2.2.3.4.1.cmml">(</mo><mi id="A1.SS4.SSS2.p1.2.m2.1.1" mathcolor="#000000" xref="A1.SS4.SSS2.p1.2.m2.1.1.cmml">g</mi><mo id="A1.SS4.SSS2.p1.2.m2.2.3.4.2.2" mathcolor="#000000" xref="A1.SS4.SSS2.p1.2.m2.2.3.4.1.cmml">,</mo><mi id="A1.SS4.SSS2.p1.2.m2.2.2" mathcolor="#000000" xref="A1.SS4.SSS2.p1.2.m2.2.2.cmml">b</mi><mo id="A1.SS4.SSS2.p1.2.m2.2.3.4.2.3" mathcolor="#000000" stretchy="false" xref="A1.SS4.SSS2.p1.2.m2.2.3.4.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS4.SSS2.p1.2.m2.2b"><apply id="A1.SS4.SSS2.p1.2.m2.2.3.cmml" xref="A1.SS4.SSS2.p1.2.m2.2.3"><times id="A1.SS4.SSS2.p1.2.m2.2.3.1.cmml" xref="A1.SS4.SSS2.p1.2.m2.2.3.1"></times><ci id="A1.SS4.SSS2.p1.2.m2.2.3.2.cmml" xref="A1.SS4.SSS2.p1.2.m2.2.3.2">𝑀</ci><ci id="A1.SS4.SSS2.p1.2.m2.2.3.3.cmml" xref="A1.SS4.SSS2.p1.2.m2.2.3.3">𝑆</ci><interval closure="open" id="A1.SS4.SSS2.p1.2.m2.2.3.4.1.cmml" xref="A1.SS4.SSS2.p1.2.m2.2.3.4.2"><ci id="A1.SS4.SSS2.p1.2.m2.1.1.cmml" xref="A1.SS4.SSS2.p1.2.m2.1.1">𝑔</ci><ci id="A1.SS4.SSS2.p1.2.m2.2.2.cmml" xref="A1.SS4.SSS2.p1.2.m2.2.2">𝑏</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS4.SSS2.p1.2.m2.2c">MS(g,b)</annotation><annotation encoding="application/x-llamapun" id="A1.SS4.SSS2.p1.2.m2.2d">italic_M italic_S ( italic_g , italic_b )</annotation></semantics></math><span class="ltx_text" id="A1.SS4.SSS2.p1.2.4" style="color:#000000;"> to avoid the situation where the price of the goods falls to the local minimum. We also limit maximum </span><span class="ltx_text ltx_font_italic" id="A1.SS4.SSS2.p1.2.5" style="color:#000000;">cycle_cnt</span><span class="ltx_text" id="A1.SS4.SSS2.p1.2.6" style="color:#000000;"> as 10 to make our simulator more efficient.</span></p>
</div>
<figure class="ltx_float ltx_algorithm" id="algorithm2">
<div class="ltx_listing ltx_lst_numbers_left ltx_listing" id="algorithm2.23">
<div class="ltx_listingline" id="algorithm2.1.1">
<span class="ltx_text" id="algorithm2.1.1.1" style="color:#000000;">
</span><span class="ltx_text" id="algorithm2.1.1.2" style="color:#000000;"><span class="ltx_text ltx_font_bold" id="algorithm2.1.1.2.1">Input:</span> </span><span class="ltx_text" id="algorithm2.1.1.3" style="color:#000000;">
</span><math alttext="D" class="ltx_Math" display="inline" id="algorithm2.1.1.m1.1"><semantics id="algorithm2.1.1.m1.1a"><mi id="algorithm2.1.1.m1.1.1" mathcolor="#000000" xref="algorithm2.1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="algorithm2.1.1.m1.1b"><ci id="algorithm2.1.1.m1.1.1.cmml" xref="algorithm2.1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="algorithm2.1.1.m1.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="algorithm2.1.1.4" style="color:#000000;">   /* Database for Building */
</span>
</div>
<div class="ltx_listingline" id="algorithm2.2.2">
<span class="ltx_text" id="algorithm2.2.2.1" style="color:#000000;">
</span><span class="ltx_text" id="algorithm2.2.2.2" style="color:#000000;"><span class="ltx_text ltx_font_bold" id="algorithm2.2.2.2.1">Output:</span> </span><span class="ltx_text" id="algorithm2.2.2.3" style="color:#000000;">
</span><math alttext="D" class="ltx_Math" display="inline" id="algorithm2.2.2.m1.1"><semantics id="algorithm2.2.2.m1.1a"><mi id="algorithm2.2.2.m1.1.1" mathcolor="#000000" xref="algorithm2.2.2.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="algorithm2.2.2.m1.1b"><ci id="algorithm2.2.2.m1.1.1.cmml" xref="algorithm2.2.2.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.2.2.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="algorithm2.2.2.m1.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="algorithm2.2.2.4" style="color:#000000;">  /* Database after calculating prices*/
</span>
</div>
<div class="ltx_listingline" id="algorithm2.3.3">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.3.3.2.1.1" style="color:#000000;">1</span></span><span class="ltx_text" id="algorithm2.3.3.3" style="color:#000000;">
</span><span class="ltx_text ltx_font_bold" id="algorithm2.3.3.4" style="color:#000000;">for</span><span class="ltx_text" id="algorithm2.3.3.5" style="color:#000000;"> </span><em class="ltx_emph ltx_font_italic" id="algorithm2.3.3.1" style="color:#000000;"><math alttext="g\in\textit{Goods}" class="ltx_Math" display="inline" id="algorithm2.3.3.1.m1.1"><semantics id="algorithm2.3.3.1.m1.1a"><mrow id="algorithm2.3.3.1.m1.1.1" xref="algorithm2.3.3.1.m1.1.1.cmml"><mi id="algorithm2.3.3.1.m1.1.1.2" mathcolor="#000000" xref="algorithm2.3.3.1.m1.1.1.2.cmml">g</mi><mo id="algorithm2.3.3.1.m1.1.1.1" mathcolor="#000000" xref="algorithm2.3.3.1.m1.1.1.1.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="algorithm2.3.3.1.m1.1.1.3" mathcolor="#000000" xref="algorithm2.3.3.1.m1.1.1.3a.cmml">Goods</mtext></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.3.3.1.m1.1b"><apply id="algorithm2.3.3.1.m1.1.1.cmml" xref="algorithm2.3.3.1.m1.1.1"><in id="algorithm2.3.3.1.m1.1.1.1.cmml" xref="algorithm2.3.3.1.m1.1.1.1"></in><ci id="algorithm2.3.3.1.m1.1.1.2.cmml" xref="algorithm2.3.3.1.m1.1.1.2">𝑔</ci><ci id="algorithm2.3.3.1.m1.1.1.3a.cmml" xref="algorithm2.3.3.1.m1.1.1.3"><mtext class="ltx_mathvariant_italic" id="algorithm2.3.3.1.m1.1.1.3.cmml" mathcolor="#000000" xref="algorithm2.3.3.1.m1.1.1.3">Goods</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.3.3.1.m1.1c">g\in\textit{Goods}</annotation><annotation encoding="application/x-llamapun" id="algorithm2.3.3.1.m1.1d">italic_g ∈ Goods</annotation></semantics></math></em><span class="ltx_text" id="algorithm2.3.3.6" style="color:#000000;"> </span><span class="ltx_text ltx_font_bold" id="algorithm2.3.3.7" style="color:#000000;">do</span>
</div>
<div class="ltx_listingline" id="algorithm2.4.4">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.4.4.1.1.1" style="color:#000000;">2</span></span><span class="ltx_text" id="algorithm2.4.4.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.4.4.3" style="color:#000000;">   </span><span class="ltx_text" id="algorithm2.4.4.4" style="color:#000000;">
</span><math alttext="TD(g)\leftarrow PD(g)" class="ltx_Math" display="inline" id="algorithm2.4.4.m1.2"><semantics id="algorithm2.4.4.m1.2a"><mrow id="algorithm2.4.4.m1.2.3" xref="algorithm2.4.4.m1.2.3.cmml"><mrow id="algorithm2.4.4.m1.2.3.2" xref="algorithm2.4.4.m1.2.3.2.cmml"><mi id="algorithm2.4.4.m1.2.3.2.2" mathcolor="#000000" xref="algorithm2.4.4.m1.2.3.2.2.cmml">T</mi><mo id="algorithm2.4.4.m1.2.3.2.1" xref="algorithm2.4.4.m1.2.3.2.1.cmml">⁢</mo><mi id="algorithm2.4.4.m1.2.3.2.3" mathcolor="#000000" xref="algorithm2.4.4.m1.2.3.2.3.cmml">D</mi><mo id="algorithm2.4.4.m1.2.3.2.1a" xref="algorithm2.4.4.m1.2.3.2.1.cmml">⁢</mo><mrow id="algorithm2.4.4.m1.2.3.2.4.2" xref="algorithm2.4.4.m1.2.3.2.cmml"><mo id="algorithm2.4.4.m1.2.3.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.4.4.m1.2.3.2.cmml">(</mo><mi id="algorithm2.4.4.m1.1.1" mathcolor="#000000" xref="algorithm2.4.4.m1.1.1.cmml">g</mi><mo id="algorithm2.4.4.m1.2.3.2.4.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.4.4.m1.2.3.2.cmml">)</mo></mrow></mrow><mo id="algorithm2.4.4.m1.2.3.1" mathcolor="#000000" stretchy="false" xref="algorithm2.4.4.m1.2.3.1.cmml">←</mo><mrow id="algorithm2.4.4.m1.2.3.3" xref="algorithm2.4.4.m1.2.3.3.cmml"><mi id="algorithm2.4.4.m1.2.3.3.2" mathcolor="#000000" xref="algorithm2.4.4.m1.2.3.3.2.cmml">P</mi><mo id="algorithm2.4.4.m1.2.3.3.1" xref="algorithm2.4.4.m1.2.3.3.1.cmml">⁢</mo><mi id="algorithm2.4.4.m1.2.3.3.3" mathcolor="#000000" xref="algorithm2.4.4.m1.2.3.3.3.cmml">D</mi><mo id="algorithm2.4.4.m1.2.3.3.1a" xref="algorithm2.4.4.m1.2.3.3.1.cmml">⁢</mo><mrow id="algorithm2.4.4.m1.2.3.3.4.2" xref="algorithm2.4.4.m1.2.3.3.cmml"><mo id="algorithm2.4.4.m1.2.3.3.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.4.4.m1.2.3.3.cmml">(</mo><mi id="algorithm2.4.4.m1.2.2" mathcolor="#000000" xref="algorithm2.4.4.m1.2.2.cmml">g</mi><mo id="algorithm2.4.4.m1.2.3.3.4.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.4.4.m1.2.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.4.4.m1.2b"><apply id="algorithm2.4.4.m1.2.3.cmml" xref="algorithm2.4.4.m1.2.3"><ci id="algorithm2.4.4.m1.2.3.1.cmml" xref="algorithm2.4.4.m1.2.3.1">←</ci><apply id="algorithm2.4.4.m1.2.3.2.cmml" xref="algorithm2.4.4.m1.2.3.2"><times id="algorithm2.4.4.m1.2.3.2.1.cmml" xref="algorithm2.4.4.m1.2.3.2.1"></times><ci id="algorithm2.4.4.m1.2.3.2.2.cmml" xref="algorithm2.4.4.m1.2.3.2.2">𝑇</ci><ci id="algorithm2.4.4.m1.2.3.2.3.cmml" xref="algorithm2.4.4.m1.2.3.2.3">𝐷</ci><ci id="algorithm2.4.4.m1.1.1.cmml" xref="algorithm2.4.4.m1.1.1">𝑔</ci></apply><apply id="algorithm2.4.4.m1.2.3.3.cmml" xref="algorithm2.4.4.m1.2.3.3"><times id="algorithm2.4.4.m1.2.3.3.1.cmml" xref="algorithm2.4.4.m1.2.3.3.1"></times><ci id="algorithm2.4.4.m1.2.3.3.2.cmml" xref="algorithm2.4.4.m1.2.3.3.2">𝑃</ci><ci id="algorithm2.4.4.m1.2.3.3.3.cmml" xref="algorithm2.4.4.m1.2.3.3.3">𝐷</ci><ci id="algorithm2.4.4.m1.2.2.cmml" xref="algorithm2.4.4.m1.2.2">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.4.4.m1.2c">TD(g)\leftarrow PD(g)</annotation><annotation encoding="application/x-llamapun" id="algorithm2.4.4.m1.2d">italic_T italic_D ( italic_g ) ← italic_P italic_D ( italic_g )</annotation></semantics></math><span class="ltx_text" id="algorithm2.4.4.5" style="color:#000000;">  /* Eq. (</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.E4" style="color:#000000;" title="In 3.2 Building scenario ‣ 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a><span class="ltx_text" id="algorithm2.4.4.6" style="color:#000000;">)*/ </span>
</div>
<div class="ltx_listingline" id="algorithm2.5.5">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.5.5.1.1.1" style="color:#000000;">3</span></span><span class="ltx_text" id="algorithm2.5.5.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.5.5.3" style="color:#000000;">   </span><span class="ltx_text" id="algorithm2.5.5.4" style="color:#000000;">
</span><math alttext="TS(g)\leftarrow 0" class="ltx_Math" display="inline" id="algorithm2.5.5.m1.1"><semantics id="algorithm2.5.5.m1.1a"><mrow id="algorithm2.5.5.m1.1.2" xref="algorithm2.5.5.m1.1.2.cmml"><mrow id="algorithm2.5.5.m1.1.2.2" xref="algorithm2.5.5.m1.1.2.2.cmml"><mi id="algorithm2.5.5.m1.1.2.2.2" mathcolor="#000000" xref="algorithm2.5.5.m1.1.2.2.2.cmml">T</mi><mo id="algorithm2.5.5.m1.1.2.2.1" xref="algorithm2.5.5.m1.1.2.2.1.cmml">⁢</mo><mi id="algorithm2.5.5.m1.1.2.2.3" mathcolor="#000000" xref="algorithm2.5.5.m1.1.2.2.3.cmml">S</mi><mo id="algorithm2.5.5.m1.1.2.2.1a" xref="algorithm2.5.5.m1.1.2.2.1.cmml">⁢</mo><mrow id="algorithm2.5.5.m1.1.2.2.4.2" xref="algorithm2.5.5.m1.1.2.2.cmml"><mo id="algorithm2.5.5.m1.1.2.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.5.5.m1.1.2.2.cmml">(</mo><mi id="algorithm2.5.5.m1.1.1" mathcolor="#000000" xref="algorithm2.5.5.m1.1.1.cmml">g</mi><mo id="algorithm2.5.5.m1.1.2.2.4.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.5.5.m1.1.2.2.cmml">)</mo></mrow></mrow><mo id="algorithm2.5.5.m1.1.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.5.5.m1.1.2.1.cmml">←</mo><mn id="algorithm2.5.5.m1.1.2.3" mathcolor="#000000" xref="algorithm2.5.5.m1.1.2.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.5.5.m1.1b"><apply id="algorithm2.5.5.m1.1.2.cmml" xref="algorithm2.5.5.m1.1.2"><ci id="algorithm2.5.5.m1.1.2.1.cmml" xref="algorithm2.5.5.m1.1.2.1">←</ci><apply id="algorithm2.5.5.m1.1.2.2.cmml" xref="algorithm2.5.5.m1.1.2.2"><times id="algorithm2.5.5.m1.1.2.2.1.cmml" xref="algorithm2.5.5.m1.1.2.2.1"></times><ci id="algorithm2.5.5.m1.1.2.2.2.cmml" xref="algorithm2.5.5.m1.1.2.2.2">𝑇</ci><ci id="algorithm2.5.5.m1.1.2.2.3.cmml" xref="algorithm2.5.5.m1.1.2.2.3">𝑆</ci><ci id="algorithm2.5.5.m1.1.1.cmml" xref="algorithm2.5.5.m1.1.1">𝑔</ci></apply><cn id="algorithm2.5.5.m1.1.2.3.cmml" type="integer" xref="algorithm2.5.5.m1.1.2.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.5.5.m1.1c">TS(g)\leftarrow 0</annotation><annotation encoding="application/x-llamapun" id="algorithm2.5.5.m1.1d">italic_T italic_S ( italic_g ) ← 0</annotation></semantics></math><span class="ltx_text" id="algorithm2.5.5.5" style="color:#000000;">   /* Eq. (</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.E5" style="color:#000000;" title="In 3.2 Building scenario ‣ 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">5</span></a><span class="ltx_text" id="algorithm2.5.5.6" style="color:#000000;">)*/
</span>
</div>
<div class="ltx_listingline" id="algorithm2.6.6">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.6.6.2.1.1" style="color:#000000;">4</span></span><span class="ltx_text ltx_font_bold" id="algorithm2.6.6.3" style="color:#000000;">for</span><span class="ltx_text" id="algorithm2.6.6.4" style="color:#000000;"> </span><em class="ltx_emph ltx_font_italic" id="algorithm2.6.6.1" style="color:#000000;"><math alttext="g,b\in\textit{Dem}" class="ltx_Math" display="inline" id="algorithm2.6.6.1.m1.2"><semantics id="algorithm2.6.6.1.m1.2a"><mrow id="algorithm2.6.6.1.m1.2.3" xref="algorithm2.6.6.1.m1.2.3.cmml"><mrow id="algorithm2.6.6.1.m1.2.3.2.2" xref="algorithm2.6.6.1.m1.2.3.2.1.cmml"><mi id="algorithm2.6.6.1.m1.1.1" mathcolor="#000000" xref="algorithm2.6.6.1.m1.1.1.cmml">g</mi><mo id="algorithm2.6.6.1.m1.2.3.2.2.1" mathcolor="#000000" xref="algorithm2.6.6.1.m1.2.3.2.1.cmml">,</mo><mi id="algorithm2.6.6.1.m1.2.2" mathcolor="#000000" xref="algorithm2.6.6.1.m1.2.2.cmml">b</mi></mrow><mo id="algorithm2.6.6.1.m1.2.3.1" mathcolor="#000000" xref="algorithm2.6.6.1.m1.2.3.1.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="algorithm2.6.6.1.m1.2.3.3" mathcolor="#000000" xref="algorithm2.6.6.1.m1.2.3.3a.cmml">Dem</mtext></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.6.6.1.m1.2b"><apply id="algorithm2.6.6.1.m1.2.3.cmml" xref="algorithm2.6.6.1.m1.2.3"><in id="algorithm2.6.6.1.m1.2.3.1.cmml" xref="algorithm2.6.6.1.m1.2.3.1"></in><list id="algorithm2.6.6.1.m1.2.3.2.1.cmml" xref="algorithm2.6.6.1.m1.2.3.2.2"><ci id="algorithm2.6.6.1.m1.1.1.cmml" xref="algorithm2.6.6.1.m1.1.1">𝑔</ci><ci id="algorithm2.6.6.1.m1.2.2.cmml" xref="algorithm2.6.6.1.m1.2.2">𝑏</ci></list><ci id="algorithm2.6.6.1.m1.2.3.3a.cmml" xref="algorithm2.6.6.1.m1.2.3.3"><mtext class="ltx_mathvariant_italic" id="algorithm2.6.6.1.m1.2.3.3.cmml" mathcolor="#000000" xref="algorithm2.6.6.1.m1.2.3.3">Dem</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.6.6.1.m1.2c">g,b\in\textit{Dem}</annotation><annotation encoding="application/x-llamapun" id="algorithm2.6.6.1.m1.2d">italic_g , italic_b ∈ Dem</annotation></semantics></math></em><span class="ltx_text" id="algorithm2.6.6.5" style="color:#000000;"> </span><span class="ltx_text ltx_font_bold" id="algorithm2.6.6.6" style="color:#000000;">do</span>
</div>
<div class="ltx_listingline" id="algorithm2.7.7">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.7.7.1.1.1" style="color:#000000;">5</span></span><span class="ltx_text" id="algorithm2.7.7.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.7.7.3" style="color:#000000;">   </span><span class="ltx_text" id="algorithm2.7.7.4" style="color:#000000;">
</span><math alttext="TD(g)\leftarrow TD(g)+MD(g,b)" class="ltx_Math" display="inline" id="algorithm2.7.7.m1.4"><semantics id="algorithm2.7.7.m1.4a"><mrow id="algorithm2.7.7.m1.4.5" xref="algorithm2.7.7.m1.4.5.cmml"><mrow id="algorithm2.7.7.m1.4.5.2" xref="algorithm2.7.7.m1.4.5.2.cmml"><mi id="algorithm2.7.7.m1.4.5.2.2" mathcolor="#000000" xref="algorithm2.7.7.m1.4.5.2.2.cmml">T</mi><mo id="algorithm2.7.7.m1.4.5.2.1" xref="algorithm2.7.7.m1.4.5.2.1.cmml">⁢</mo><mi id="algorithm2.7.7.m1.4.5.2.3" mathcolor="#000000" xref="algorithm2.7.7.m1.4.5.2.3.cmml">D</mi><mo id="algorithm2.7.7.m1.4.5.2.1a" xref="algorithm2.7.7.m1.4.5.2.1.cmml">⁢</mo><mrow id="algorithm2.7.7.m1.4.5.2.4.2" xref="algorithm2.7.7.m1.4.5.2.cmml"><mo id="algorithm2.7.7.m1.4.5.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.7.7.m1.4.5.2.cmml">(</mo><mi id="algorithm2.7.7.m1.1.1" mathcolor="#000000" xref="algorithm2.7.7.m1.1.1.cmml">g</mi><mo id="algorithm2.7.7.m1.4.5.2.4.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.7.7.m1.4.5.2.cmml">)</mo></mrow></mrow><mo id="algorithm2.7.7.m1.4.5.1" mathcolor="#000000" stretchy="false" xref="algorithm2.7.7.m1.4.5.1.cmml">←</mo><mrow id="algorithm2.7.7.m1.4.5.3" xref="algorithm2.7.7.m1.4.5.3.cmml"><mrow id="algorithm2.7.7.m1.4.5.3.2" xref="algorithm2.7.7.m1.4.5.3.2.cmml"><mi id="algorithm2.7.7.m1.4.5.3.2.2" mathcolor="#000000" xref="algorithm2.7.7.m1.4.5.3.2.2.cmml">T</mi><mo id="algorithm2.7.7.m1.4.5.3.2.1" xref="algorithm2.7.7.m1.4.5.3.2.1.cmml">⁢</mo><mi id="algorithm2.7.7.m1.4.5.3.2.3" mathcolor="#000000" xref="algorithm2.7.7.m1.4.5.3.2.3.cmml">D</mi><mo id="algorithm2.7.7.m1.4.5.3.2.1a" xref="algorithm2.7.7.m1.4.5.3.2.1.cmml">⁢</mo><mrow id="algorithm2.7.7.m1.4.5.3.2.4.2" xref="algorithm2.7.7.m1.4.5.3.2.cmml"><mo id="algorithm2.7.7.m1.4.5.3.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.7.7.m1.4.5.3.2.cmml">(</mo><mi id="algorithm2.7.7.m1.2.2" mathcolor="#000000" xref="algorithm2.7.7.m1.2.2.cmml">g</mi><mo id="algorithm2.7.7.m1.4.5.3.2.4.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.7.7.m1.4.5.3.2.cmml">)</mo></mrow></mrow><mo id="algorithm2.7.7.m1.4.5.3.1" mathcolor="#000000" xref="algorithm2.7.7.m1.4.5.3.1.cmml">+</mo><mrow id="algorithm2.7.7.m1.4.5.3.3" xref="algorithm2.7.7.m1.4.5.3.3.cmml"><mi id="algorithm2.7.7.m1.4.5.3.3.2" mathcolor="#000000" xref="algorithm2.7.7.m1.4.5.3.3.2.cmml">M</mi><mo id="algorithm2.7.7.m1.4.5.3.3.1" xref="algorithm2.7.7.m1.4.5.3.3.1.cmml">⁢</mo><mi id="algorithm2.7.7.m1.4.5.3.3.3" mathcolor="#000000" xref="algorithm2.7.7.m1.4.5.3.3.3.cmml">D</mi><mo id="algorithm2.7.7.m1.4.5.3.3.1a" xref="algorithm2.7.7.m1.4.5.3.3.1.cmml">⁢</mo><mrow id="algorithm2.7.7.m1.4.5.3.3.4.2" xref="algorithm2.7.7.m1.4.5.3.3.4.1.cmml"><mo id="algorithm2.7.7.m1.4.5.3.3.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.7.7.m1.4.5.3.3.4.1.cmml">(</mo><mi id="algorithm2.7.7.m1.3.3" mathcolor="#000000" xref="algorithm2.7.7.m1.3.3.cmml">g</mi><mo id="algorithm2.7.7.m1.4.5.3.3.4.2.2" mathcolor="#000000" xref="algorithm2.7.7.m1.4.5.3.3.4.1.cmml">,</mo><mi id="algorithm2.7.7.m1.4.4" mathcolor="#000000" xref="algorithm2.7.7.m1.4.4.cmml">b</mi><mo id="algorithm2.7.7.m1.4.5.3.3.4.2.3" mathcolor="#000000" stretchy="false" xref="algorithm2.7.7.m1.4.5.3.3.4.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.7.7.m1.4b"><apply id="algorithm2.7.7.m1.4.5.cmml" xref="algorithm2.7.7.m1.4.5"><ci id="algorithm2.7.7.m1.4.5.1.cmml" xref="algorithm2.7.7.m1.4.5.1">←</ci><apply id="algorithm2.7.7.m1.4.5.2.cmml" xref="algorithm2.7.7.m1.4.5.2"><times id="algorithm2.7.7.m1.4.5.2.1.cmml" xref="algorithm2.7.7.m1.4.5.2.1"></times><ci id="algorithm2.7.7.m1.4.5.2.2.cmml" xref="algorithm2.7.7.m1.4.5.2.2">𝑇</ci><ci id="algorithm2.7.7.m1.4.5.2.3.cmml" xref="algorithm2.7.7.m1.4.5.2.3">𝐷</ci><ci id="algorithm2.7.7.m1.1.1.cmml" xref="algorithm2.7.7.m1.1.1">𝑔</ci></apply><apply id="algorithm2.7.7.m1.4.5.3.cmml" xref="algorithm2.7.7.m1.4.5.3"><plus id="algorithm2.7.7.m1.4.5.3.1.cmml" xref="algorithm2.7.7.m1.4.5.3.1"></plus><apply id="algorithm2.7.7.m1.4.5.3.2.cmml" xref="algorithm2.7.7.m1.4.5.3.2"><times id="algorithm2.7.7.m1.4.5.3.2.1.cmml" xref="algorithm2.7.7.m1.4.5.3.2.1"></times><ci id="algorithm2.7.7.m1.4.5.3.2.2.cmml" xref="algorithm2.7.7.m1.4.5.3.2.2">𝑇</ci><ci id="algorithm2.7.7.m1.4.5.3.2.3.cmml" xref="algorithm2.7.7.m1.4.5.3.2.3">𝐷</ci><ci id="algorithm2.7.7.m1.2.2.cmml" xref="algorithm2.7.7.m1.2.2">𝑔</ci></apply><apply id="algorithm2.7.7.m1.4.5.3.3.cmml" xref="algorithm2.7.7.m1.4.5.3.3"><times id="algorithm2.7.7.m1.4.5.3.3.1.cmml" xref="algorithm2.7.7.m1.4.5.3.3.1"></times><ci id="algorithm2.7.7.m1.4.5.3.3.2.cmml" xref="algorithm2.7.7.m1.4.5.3.3.2">𝑀</ci><ci id="algorithm2.7.7.m1.4.5.3.3.3.cmml" xref="algorithm2.7.7.m1.4.5.3.3.3">𝐷</ci><interval closure="open" id="algorithm2.7.7.m1.4.5.3.3.4.1.cmml" xref="algorithm2.7.7.m1.4.5.3.3.4.2"><ci id="algorithm2.7.7.m1.3.3.cmml" xref="algorithm2.7.7.m1.3.3">𝑔</ci><ci id="algorithm2.7.7.m1.4.4.cmml" xref="algorithm2.7.7.m1.4.4">𝑏</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.7.7.m1.4c">TD(g)\leftarrow TD(g)+MD(g,b)</annotation><annotation encoding="application/x-llamapun" id="algorithm2.7.7.m1.4d">italic_T italic_D ( italic_g ) ← italic_T italic_D ( italic_g ) + italic_M italic_D ( italic_g , italic_b )</annotation></semantics></math><span class="ltx_text" id="algorithm2.7.7.5" style="color:#000000;">  /* Eq. (</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.E4" style="color:#000000;" title="In 3.2 Building scenario ‣ 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">4</span></a><span class="ltx_text" id="algorithm2.7.7.6" style="color:#000000;">)*/ </span>
</div>
<div class="ltx_listingline" id="algorithm2.23.24">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.23.24.1.1.1" style="color:#000000;">6</span></span><span class="ltx_text" id="algorithm2.23.24.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.23.24.3" style="color:#000000;">   </span><span class="ltx_text" id="algorithm2.23.24.4" style="color:#000000;">
</span>
</div>
<div class="ltx_listingline" id="algorithm2.8.8">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.8.8.2.1.1" style="color:#000000;">7</span></span><span class="ltx_text ltx_font_bold" id="algorithm2.8.8.3" style="color:#000000;">for</span><span class="ltx_text" id="algorithm2.8.8.4" style="color:#000000;"> </span><em class="ltx_emph ltx_font_italic" id="algorithm2.8.8.1" style="color:#000000;"><math alttext="g,b\in\textit{Sup}" class="ltx_Math" display="inline" id="algorithm2.8.8.1.m1.2"><semantics id="algorithm2.8.8.1.m1.2a"><mrow id="algorithm2.8.8.1.m1.2.3" xref="algorithm2.8.8.1.m1.2.3.cmml"><mrow id="algorithm2.8.8.1.m1.2.3.2.2" xref="algorithm2.8.8.1.m1.2.3.2.1.cmml"><mi id="algorithm2.8.8.1.m1.1.1" mathcolor="#000000" xref="algorithm2.8.8.1.m1.1.1.cmml">g</mi><mo id="algorithm2.8.8.1.m1.2.3.2.2.1" mathcolor="#000000" xref="algorithm2.8.8.1.m1.2.3.2.1.cmml">,</mo><mi id="algorithm2.8.8.1.m1.2.2" mathcolor="#000000" xref="algorithm2.8.8.1.m1.2.2.cmml">b</mi></mrow><mo id="algorithm2.8.8.1.m1.2.3.1" mathcolor="#000000" xref="algorithm2.8.8.1.m1.2.3.1.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="algorithm2.8.8.1.m1.2.3.3" mathcolor="#000000" xref="algorithm2.8.8.1.m1.2.3.3a.cmml">Sup</mtext></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.8.8.1.m1.2b"><apply id="algorithm2.8.8.1.m1.2.3.cmml" xref="algorithm2.8.8.1.m1.2.3"><in id="algorithm2.8.8.1.m1.2.3.1.cmml" xref="algorithm2.8.8.1.m1.2.3.1"></in><list id="algorithm2.8.8.1.m1.2.3.2.1.cmml" xref="algorithm2.8.8.1.m1.2.3.2.2"><ci id="algorithm2.8.8.1.m1.1.1.cmml" xref="algorithm2.8.8.1.m1.1.1">𝑔</ci><ci id="algorithm2.8.8.1.m1.2.2.cmml" xref="algorithm2.8.8.1.m1.2.2">𝑏</ci></list><ci id="algorithm2.8.8.1.m1.2.3.3a.cmml" xref="algorithm2.8.8.1.m1.2.3.3"><mtext class="ltx_mathvariant_italic" id="algorithm2.8.8.1.m1.2.3.3.cmml" mathcolor="#000000" xref="algorithm2.8.8.1.m1.2.3.3">Sup</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.8.8.1.m1.2c">g,b\in\textit{Sup}</annotation><annotation encoding="application/x-llamapun" id="algorithm2.8.8.1.m1.2d">italic_g , italic_b ∈ Sup</annotation></semantics></math></em><span class="ltx_text" id="algorithm2.8.8.5" style="color:#000000;"> </span><span class="ltx_text ltx_font_bold" id="algorithm2.8.8.6" style="color:#000000;">do</span>
</div>
<div class="ltx_listingline" id="algorithm2.9.9">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.9.9.1.1.1" style="color:#000000;">8</span></span><span class="ltx_text" id="algorithm2.9.9.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.9.9.3" style="color:#000000;">   </span><span class="ltx_text" id="algorithm2.9.9.4" style="color:#000000;">
</span><math alttext="TS(g)\leftarrow TS(g)+MS(g,b)" class="ltx_Math" display="inline" id="algorithm2.9.9.m1.4"><semantics id="algorithm2.9.9.m1.4a"><mrow id="algorithm2.9.9.m1.4.5" xref="algorithm2.9.9.m1.4.5.cmml"><mrow id="algorithm2.9.9.m1.4.5.2" xref="algorithm2.9.9.m1.4.5.2.cmml"><mi id="algorithm2.9.9.m1.4.5.2.2" mathcolor="#000000" xref="algorithm2.9.9.m1.4.5.2.2.cmml">T</mi><mo id="algorithm2.9.9.m1.4.5.2.1" xref="algorithm2.9.9.m1.4.5.2.1.cmml">⁢</mo><mi id="algorithm2.9.9.m1.4.5.2.3" mathcolor="#000000" xref="algorithm2.9.9.m1.4.5.2.3.cmml">S</mi><mo id="algorithm2.9.9.m1.4.5.2.1a" xref="algorithm2.9.9.m1.4.5.2.1.cmml">⁢</mo><mrow id="algorithm2.9.9.m1.4.5.2.4.2" xref="algorithm2.9.9.m1.4.5.2.cmml"><mo id="algorithm2.9.9.m1.4.5.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.9.9.m1.4.5.2.cmml">(</mo><mi id="algorithm2.9.9.m1.1.1" mathcolor="#000000" xref="algorithm2.9.9.m1.1.1.cmml">g</mi><mo id="algorithm2.9.9.m1.4.5.2.4.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.9.9.m1.4.5.2.cmml">)</mo></mrow></mrow><mo id="algorithm2.9.9.m1.4.5.1" mathcolor="#000000" stretchy="false" xref="algorithm2.9.9.m1.4.5.1.cmml">←</mo><mrow id="algorithm2.9.9.m1.4.5.3" xref="algorithm2.9.9.m1.4.5.3.cmml"><mrow id="algorithm2.9.9.m1.4.5.3.2" xref="algorithm2.9.9.m1.4.5.3.2.cmml"><mi id="algorithm2.9.9.m1.4.5.3.2.2" mathcolor="#000000" xref="algorithm2.9.9.m1.4.5.3.2.2.cmml">T</mi><mo id="algorithm2.9.9.m1.4.5.3.2.1" xref="algorithm2.9.9.m1.4.5.3.2.1.cmml">⁢</mo><mi id="algorithm2.9.9.m1.4.5.3.2.3" mathcolor="#000000" xref="algorithm2.9.9.m1.4.5.3.2.3.cmml">S</mi><mo id="algorithm2.9.9.m1.4.5.3.2.1a" xref="algorithm2.9.9.m1.4.5.3.2.1.cmml">⁢</mo><mrow id="algorithm2.9.9.m1.4.5.3.2.4.2" xref="algorithm2.9.9.m1.4.5.3.2.cmml"><mo id="algorithm2.9.9.m1.4.5.3.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.9.9.m1.4.5.3.2.cmml">(</mo><mi id="algorithm2.9.9.m1.2.2" mathcolor="#000000" xref="algorithm2.9.9.m1.2.2.cmml">g</mi><mo id="algorithm2.9.9.m1.4.5.3.2.4.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.9.9.m1.4.5.3.2.cmml">)</mo></mrow></mrow><mo id="algorithm2.9.9.m1.4.5.3.1" mathcolor="#000000" xref="algorithm2.9.9.m1.4.5.3.1.cmml">+</mo><mrow id="algorithm2.9.9.m1.4.5.3.3" xref="algorithm2.9.9.m1.4.5.3.3.cmml"><mi id="algorithm2.9.9.m1.4.5.3.3.2" mathcolor="#000000" xref="algorithm2.9.9.m1.4.5.3.3.2.cmml">M</mi><mo id="algorithm2.9.9.m1.4.5.3.3.1" xref="algorithm2.9.9.m1.4.5.3.3.1.cmml">⁢</mo><mi id="algorithm2.9.9.m1.4.5.3.3.3" mathcolor="#000000" xref="algorithm2.9.9.m1.4.5.3.3.3.cmml">S</mi><mo id="algorithm2.9.9.m1.4.5.3.3.1a" xref="algorithm2.9.9.m1.4.5.3.3.1.cmml">⁢</mo><mrow id="algorithm2.9.9.m1.4.5.3.3.4.2" xref="algorithm2.9.9.m1.4.5.3.3.4.1.cmml"><mo id="algorithm2.9.9.m1.4.5.3.3.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.9.9.m1.4.5.3.3.4.1.cmml">(</mo><mi id="algorithm2.9.9.m1.3.3" mathcolor="#000000" xref="algorithm2.9.9.m1.3.3.cmml">g</mi><mo id="algorithm2.9.9.m1.4.5.3.3.4.2.2" mathcolor="#000000" xref="algorithm2.9.9.m1.4.5.3.3.4.1.cmml">,</mo><mi id="algorithm2.9.9.m1.4.4" mathcolor="#000000" xref="algorithm2.9.9.m1.4.4.cmml">b</mi><mo id="algorithm2.9.9.m1.4.5.3.3.4.2.3" mathcolor="#000000" stretchy="false" xref="algorithm2.9.9.m1.4.5.3.3.4.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.9.9.m1.4b"><apply id="algorithm2.9.9.m1.4.5.cmml" xref="algorithm2.9.9.m1.4.5"><ci id="algorithm2.9.9.m1.4.5.1.cmml" xref="algorithm2.9.9.m1.4.5.1">←</ci><apply id="algorithm2.9.9.m1.4.5.2.cmml" xref="algorithm2.9.9.m1.4.5.2"><times id="algorithm2.9.9.m1.4.5.2.1.cmml" xref="algorithm2.9.9.m1.4.5.2.1"></times><ci id="algorithm2.9.9.m1.4.5.2.2.cmml" xref="algorithm2.9.9.m1.4.5.2.2">𝑇</ci><ci id="algorithm2.9.9.m1.4.5.2.3.cmml" xref="algorithm2.9.9.m1.4.5.2.3">𝑆</ci><ci id="algorithm2.9.9.m1.1.1.cmml" xref="algorithm2.9.9.m1.1.1">𝑔</ci></apply><apply id="algorithm2.9.9.m1.4.5.3.cmml" xref="algorithm2.9.9.m1.4.5.3"><plus id="algorithm2.9.9.m1.4.5.3.1.cmml" xref="algorithm2.9.9.m1.4.5.3.1"></plus><apply id="algorithm2.9.9.m1.4.5.3.2.cmml" xref="algorithm2.9.9.m1.4.5.3.2"><times id="algorithm2.9.9.m1.4.5.3.2.1.cmml" xref="algorithm2.9.9.m1.4.5.3.2.1"></times><ci id="algorithm2.9.9.m1.4.5.3.2.2.cmml" xref="algorithm2.9.9.m1.4.5.3.2.2">𝑇</ci><ci id="algorithm2.9.9.m1.4.5.3.2.3.cmml" xref="algorithm2.9.9.m1.4.5.3.2.3">𝑆</ci><ci id="algorithm2.9.9.m1.2.2.cmml" xref="algorithm2.9.9.m1.2.2">𝑔</ci></apply><apply id="algorithm2.9.9.m1.4.5.3.3.cmml" xref="algorithm2.9.9.m1.4.5.3.3"><times id="algorithm2.9.9.m1.4.5.3.3.1.cmml" xref="algorithm2.9.9.m1.4.5.3.3.1"></times><ci id="algorithm2.9.9.m1.4.5.3.3.2.cmml" xref="algorithm2.9.9.m1.4.5.3.3.2">𝑀</ci><ci id="algorithm2.9.9.m1.4.5.3.3.3.cmml" xref="algorithm2.9.9.m1.4.5.3.3.3">𝑆</ci><interval closure="open" id="algorithm2.9.9.m1.4.5.3.3.4.1.cmml" xref="algorithm2.9.9.m1.4.5.3.3.4.2"><ci id="algorithm2.9.9.m1.3.3.cmml" xref="algorithm2.9.9.m1.3.3">𝑔</ci><ci id="algorithm2.9.9.m1.4.4.cmml" xref="algorithm2.9.9.m1.4.4">𝑏</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.9.9.m1.4c">TS(g)\leftarrow TS(g)+MS(g,b)</annotation><annotation encoding="application/x-llamapun" id="algorithm2.9.9.m1.4d">italic_T italic_S ( italic_g ) ← italic_T italic_S ( italic_g ) + italic_M italic_S ( italic_g , italic_b )</annotation></semantics></math><span class="ltx_text" id="algorithm2.9.9.5" style="color:#000000;"> /*TS initialize*/
</span>
</div>
<div class="ltx_listingline" id="algorithm2.10.10">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.10.10.1.1.1" style="color:#000000;">9</span></span><span class="ltx_text ltx_font_italic" id="algorithm2.10.10.2" style="color:#000000;">cycle_cnt</span><span class="ltx_text" id="algorithm2.10.10.3" style="color:#000000;"> </span><math alttext="\leftarrow 0" class="ltx_Math" display="inline" id="algorithm2.10.10.m1.1"><semantics id="algorithm2.10.10.m1.1a"><mrow id="algorithm2.10.10.m1.1.1" xref="algorithm2.10.10.m1.1.1.cmml"><mi id="algorithm2.10.10.m1.1.1.2" xref="algorithm2.10.10.m1.1.1.2.cmml"></mi><mo id="algorithm2.10.10.m1.1.1.1" mathcolor="#000000" stretchy="false" xref="algorithm2.10.10.m1.1.1.1.cmml">←</mo><mn id="algorithm2.10.10.m1.1.1.3" mathcolor="#000000" xref="algorithm2.10.10.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.10.10.m1.1b"><apply id="algorithm2.10.10.m1.1.1.cmml" xref="algorithm2.10.10.m1.1.1"><ci id="algorithm2.10.10.m1.1.1.1.cmml" xref="algorithm2.10.10.m1.1.1.1">←</ci><csymbol cd="latexml" id="algorithm2.10.10.m1.1.1.2.cmml" xref="algorithm2.10.10.m1.1.1.2">absent</csymbol><cn id="algorithm2.10.10.m1.1.1.3.cmml" type="integer" xref="algorithm2.10.10.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.10.10.m1.1c">\leftarrow 0</annotation><annotation encoding="application/x-llamapun" id="algorithm2.10.10.m1.1d">← 0</annotation></semantics></math><span class="ltx_text" id="algorithm2.10.10.4" style="color:#000000;"> </span>
</div>
<div class="ltx_listingline" id="algorithm2.11.11">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.11.11.2.1.1" style="color:#000000;">10</span></span><span class="ltx_text" id="algorithm2.11.11.3" style="color:#000000;">
</span><span class="ltx_text ltx_font_bold" id="algorithm2.11.11.4" style="color:#000000;">while</span><span class="ltx_text" id="algorithm2.11.11.5" style="color:#000000;"> </span><em class="ltx_emph ltx_font_italic" id="algorithm2.11.11.1" style="color:#000000;"><math alttext="\textit{cycle\_cnt}&lt;10" class="ltx_Math" display="inline" id="algorithm2.11.11.1.m1.1"><semantics id="algorithm2.11.11.1.m1.1a"><mrow id="algorithm2.11.11.1.m1.1.1" xref="algorithm2.11.11.1.m1.1.1.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm2.11.11.1.m1.1.1.2" mathcolor="#000000" xref="algorithm2.11.11.1.m1.1.1.2a.cmml">cycle_cnt</mtext><mo id="algorithm2.11.11.1.m1.1.1.1" mathcolor="#000000" xref="algorithm2.11.11.1.m1.1.1.1.cmml">&lt;</mo><mn id="algorithm2.11.11.1.m1.1.1.3" mathcolor="#000000" xref="algorithm2.11.11.1.m1.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.11.11.1.m1.1b"><apply id="algorithm2.11.11.1.m1.1.1.cmml" xref="algorithm2.11.11.1.m1.1.1"><lt id="algorithm2.11.11.1.m1.1.1.1.cmml" xref="algorithm2.11.11.1.m1.1.1.1"></lt><ci id="algorithm2.11.11.1.m1.1.1.2a.cmml" xref="algorithm2.11.11.1.m1.1.1.2"><mtext class="ltx_mathvariant_italic" id="algorithm2.11.11.1.m1.1.1.2.cmml" mathcolor="#000000" xref="algorithm2.11.11.1.m1.1.1.2">cycle_cnt</mtext></ci><cn id="algorithm2.11.11.1.m1.1.1.3.cmml" type="integer" xref="algorithm2.11.11.1.m1.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.11.11.1.m1.1c">\textit{cycle\_cnt}&lt;10</annotation><annotation encoding="application/x-llamapun" id="algorithm2.11.11.1.m1.1d">cycle_cnt &lt; 10</annotation></semantics></math></em><span class="ltx_text" id="algorithm2.11.11.6" style="color:#000000;"> </span><span class="ltx_text ltx_font_bold" id="algorithm2.11.11.7" style="color:#000000;">do</span>
</div>
<div class="ltx_listingline" id="algorithm2.12.12">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.12.12.2.1.1" style="color:#000000;">11</span></span><span class="ltx_text" id="algorithm2.12.12.3" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.12.12.4" style="color:#000000;">   </span><span class="ltx_text" id="algorithm2.12.12.5" style="color:#000000;">
</span><span class="ltx_text ltx_font_bold" id="algorithm2.12.12.6" style="color:#000000;">for</span><span class="ltx_text" id="algorithm2.12.12.7" style="color:#000000;"> </span><em class="ltx_emph ltx_font_italic" id="algorithm2.12.12.1" style="color:#000000;"><math alttext="g,b\in\textit{Dem}" class="ltx_Math" display="inline" id="algorithm2.12.12.1.m1.2"><semantics id="algorithm2.12.12.1.m1.2a"><mrow id="algorithm2.12.12.1.m1.2.3" xref="algorithm2.12.12.1.m1.2.3.cmml"><mrow id="algorithm2.12.12.1.m1.2.3.2.2" xref="algorithm2.12.12.1.m1.2.3.2.1.cmml"><mi id="algorithm2.12.12.1.m1.1.1" mathcolor="#000000" xref="algorithm2.12.12.1.m1.1.1.cmml">g</mi><mo id="algorithm2.12.12.1.m1.2.3.2.2.1" mathcolor="#000000" xref="algorithm2.12.12.1.m1.2.3.2.1.cmml">,</mo><mi id="algorithm2.12.12.1.m1.2.2" mathcolor="#000000" xref="algorithm2.12.12.1.m1.2.2.cmml">b</mi></mrow><mo id="algorithm2.12.12.1.m1.2.3.1" mathcolor="#000000" xref="algorithm2.12.12.1.m1.2.3.1.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="algorithm2.12.12.1.m1.2.3.3" mathcolor="#000000" xref="algorithm2.12.12.1.m1.2.3.3a.cmml">Dem</mtext></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.12.12.1.m1.2b"><apply id="algorithm2.12.12.1.m1.2.3.cmml" xref="algorithm2.12.12.1.m1.2.3"><in id="algorithm2.12.12.1.m1.2.3.1.cmml" xref="algorithm2.12.12.1.m1.2.3.1"></in><list id="algorithm2.12.12.1.m1.2.3.2.1.cmml" xref="algorithm2.12.12.1.m1.2.3.2.2"><ci id="algorithm2.12.12.1.m1.1.1.cmml" xref="algorithm2.12.12.1.m1.1.1">𝑔</ci><ci id="algorithm2.12.12.1.m1.2.2.cmml" xref="algorithm2.12.12.1.m1.2.2">𝑏</ci></list><ci id="algorithm2.12.12.1.m1.2.3.3a.cmml" xref="algorithm2.12.12.1.m1.2.3.3"><mtext class="ltx_mathvariant_italic" id="algorithm2.12.12.1.m1.2.3.3.cmml" mathcolor="#000000" xref="algorithm2.12.12.1.m1.2.3.3">Dem</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.12.12.1.m1.2c">g,b\in\textit{Dem}</annotation><annotation encoding="application/x-llamapun" id="algorithm2.12.12.1.m1.2d">italic_g , italic_b ∈ Dem</annotation></semantics></math></em><span class="ltx_text" id="algorithm2.12.12.8" style="color:#000000;"> </span><span class="ltx_text ltx_font_bold" id="algorithm2.12.12.9" style="color:#000000;">do</span>
</div>
<div class="ltx_listingline" id="algorithm2.13.13">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.13.13.1.1.1" style="color:#000000;">12</span></span><span class="ltx_text" id="algorithm2.13.13.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.13.13.3" style="color:#000000;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.13.13.4" style="color:#000000;">   </span><span class="ltx_text" id="algorithm2.13.13.5" style="color:#000000;">
</span><math alttext="CI(g,b)\leftarrow MD(g,b)*\frac{TS(g)}{TD(g)}" class="ltx_Math" display="inline" id="algorithm2.13.13.m1.6"><semantics id="algorithm2.13.13.m1.6a"><mrow id="algorithm2.13.13.m1.6.7" xref="algorithm2.13.13.m1.6.7.cmml"><mrow id="algorithm2.13.13.m1.6.7.2" xref="algorithm2.13.13.m1.6.7.2.cmml"><mi id="algorithm2.13.13.m1.6.7.2.2" mathcolor="#000000" xref="algorithm2.13.13.m1.6.7.2.2.cmml">C</mi><mo id="algorithm2.13.13.m1.6.7.2.1" xref="algorithm2.13.13.m1.6.7.2.1.cmml">⁢</mo><mi id="algorithm2.13.13.m1.6.7.2.3" mathcolor="#000000" xref="algorithm2.13.13.m1.6.7.2.3.cmml">I</mi><mo id="algorithm2.13.13.m1.6.7.2.1a" xref="algorithm2.13.13.m1.6.7.2.1.cmml">⁢</mo><mrow id="algorithm2.13.13.m1.6.7.2.4.2" xref="algorithm2.13.13.m1.6.7.2.4.1.cmml"><mo id="algorithm2.13.13.m1.6.7.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.13.13.m1.6.7.2.4.1.cmml">(</mo><mi id="algorithm2.13.13.m1.3.3" mathcolor="#000000" xref="algorithm2.13.13.m1.3.3.cmml">g</mi><mo id="algorithm2.13.13.m1.6.7.2.4.2.2" mathcolor="#000000" xref="algorithm2.13.13.m1.6.7.2.4.1.cmml">,</mo><mi id="algorithm2.13.13.m1.4.4" mathcolor="#000000" xref="algorithm2.13.13.m1.4.4.cmml">b</mi><mo id="algorithm2.13.13.m1.6.7.2.4.2.3" mathcolor="#000000" stretchy="false" xref="algorithm2.13.13.m1.6.7.2.4.1.cmml">)</mo></mrow></mrow><mo id="algorithm2.13.13.m1.6.7.1" mathcolor="#000000" stretchy="false" xref="algorithm2.13.13.m1.6.7.1.cmml">←</mo><mrow id="algorithm2.13.13.m1.6.7.3" xref="algorithm2.13.13.m1.6.7.3.cmml"><mrow id="algorithm2.13.13.m1.6.7.3.2" xref="algorithm2.13.13.m1.6.7.3.2.cmml"><mi id="algorithm2.13.13.m1.6.7.3.2.2" mathcolor="#000000" xref="algorithm2.13.13.m1.6.7.3.2.2.cmml">M</mi><mo id="algorithm2.13.13.m1.6.7.3.2.1" xref="algorithm2.13.13.m1.6.7.3.2.1.cmml">⁢</mo><mi id="algorithm2.13.13.m1.6.7.3.2.3" mathcolor="#000000" xref="algorithm2.13.13.m1.6.7.3.2.3.cmml">D</mi><mo id="algorithm2.13.13.m1.6.7.3.2.1a" xref="algorithm2.13.13.m1.6.7.3.2.1.cmml">⁢</mo><mrow id="algorithm2.13.13.m1.6.7.3.2.4.2" xref="algorithm2.13.13.m1.6.7.3.2.4.1.cmml"><mo id="algorithm2.13.13.m1.6.7.3.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.13.13.m1.6.7.3.2.4.1.cmml">(</mo><mi id="algorithm2.13.13.m1.5.5" mathcolor="#000000" xref="algorithm2.13.13.m1.5.5.cmml">g</mi><mo id="algorithm2.13.13.m1.6.7.3.2.4.2.2" mathcolor="#000000" xref="algorithm2.13.13.m1.6.7.3.2.4.1.cmml">,</mo><mi id="algorithm2.13.13.m1.6.6" mathcolor="#000000" xref="algorithm2.13.13.m1.6.6.cmml">b</mi><mo id="algorithm2.13.13.m1.6.7.3.2.4.2.3" mathcolor="#000000" rspace="0.055em" stretchy="false" xref="algorithm2.13.13.m1.6.7.3.2.4.1.cmml">)</mo></mrow></mrow><mo id="algorithm2.13.13.m1.6.7.3.1" mathcolor="#000000" rspace="0.222em" xref="algorithm2.13.13.m1.6.7.3.1.cmml">∗</mo><mfrac id="algorithm2.13.13.m1.2.2" mathcolor="#000000" xref="algorithm2.13.13.m1.2.2.cmml"><mrow id="algorithm2.13.13.m1.1.1.1" xref="algorithm2.13.13.m1.1.1.1.cmml"><mi id="algorithm2.13.13.m1.1.1.1.3" mathcolor="#000000" xref="algorithm2.13.13.m1.1.1.1.3.cmml">T</mi><mo id="algorithm2.13.13.m1.1.1.1.2" xref="algorithm2.13.13.m1.1.1.1.2.cmml">⁢</mo><mi id="algorithm2.13.13.m1.1.1.1.4" mathcolor="#000000" xref="algorithm2.13.13.m1.1.1.1.4.cmml">S</mi><mo id="algorithm2.13.13.m1.1.1.1.2a" xref="algorithm2.13.13.m1.1.1.1.2.cmml">⁢</mo><mrow id="algorithm2.13.13.m1.1.1.1.5.2" xref="algorithm2.13.13.m1.1.1.1.cmml"><mo id="algorithm2.13.13.m1.1.1.1.5.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.13.13.m1.1.1.1.cmml">(</mo><mi id="algorithm2.13.13.m1.1.1.1.1" mathcolor="#000000" xref="algorithm2.13.13.m1.1.1.1.1.cmml">g</mi><mo id="algorithm2.13.13.m1.1.1.1.5.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.13.13.m1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="algorithm2.13.13.m1.2.2.2" xref="algorithm2.13.13.m1.2.2.2.cmml"><mi id="algorithm2.13.13.m1.2.2.2.3" mathcolor="#000000" xref="algorithm2.13.13.m1.2.2.2.3.cmml">T</mi><mo id="algorithm2.13.13.m1.2.2.2.2" xref="algorithm2.13.13.m1.2.2.2.2.cmml">⁢</mo><mi id="algorithm2.13.13.m1.2.2.2.4" mathcolor="#000000" xref="algorithm2.13.13.m1.2.2.2.4.cmml">D</mi><mo id="algorithm2.13.13.m1.2.2.2.2a" xref="algorithm2.13.13.m1.2.2.2.2.cmml">⁢</mo><mrow id="algorithm2.13.13.m1.2.2.2.5.2" xref="algorithm2.13.13.m1.2.2.2.cmml"><mo id="algorithm2.13.13.m1.2.2.2.5.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.13.13.m1.2.2.2.cmml">(</mo><mi id="algorithm2.13.13.m1.2.2.2.1" mathcolor="#000000" xref="algorithm2.13.13.m1.2.2.2.1.cmml">g</mi><mo id="algorithm2.13.13.m1.2.2.2.5.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.13.13.m1.2.2.2.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.13.13.m1.6b"><apply id="algorithm2.13.13.m1.6.7.cmml" xref="algorithm2.13.13.m1.6.7"><ci id="algorithm2.13.13.m1.6.7.1.cmml" xref="algorithm2.13.13.m1.6.7.1">←</ci><apply id="algorithm2.13.13.m1.6.7.2.cmml" xref="algorithm2.13.13.m1.6.7.2"><times id="algorithm2.13.13.m1.6.7.2.1.cmml" xref="algorithm2.13.13.m1.6.7.2.1"></times><ci id="algorithm2.13.13.m1.6.7.2.2.cmml" xref="algorithm2.13.13.m1.6.7.2.2">𝐶</ci><ci id="algorithm2.13.13.m1.6.7.2.3.cmml" xref="algorithm2.13.13.m1.6.7.2.3">𝐼</ci><interval closure="open" id="algorithm2.13.13.m1.6.7.2.4.1.cmml" xref="algorithm2.13.13.m1.6.7.2.4.2"><ci id="algorithm2.13.13.m1.3.3.cmml" xref="algorithm2.13.13.m1.3.3">𝑔</ci><ci id="algorithm2.13.13.m1.4.4.cmml" xref="algorithm2.13.13.m1.4.4">𝑏</ci></interval></apply><apply id="algorithm2.13.13.m1.6.7.3.cmml" xref="algorithm2.13.13.m1.6.7.3"><times id="algorithm2.13.13.m1.6.7.3.1.cmml" xref="algorithm2.13.13.m1.6.7.3.1"></times><apply id="algorithm2.13.13.m1.6.7.3.2.cmml" xref="algorithm2.13.13.m1.6.7.3.2"><times id="algorithm2.13.13.m1.6.7.3.2.1.cmml" xref="algorithm2.13.13.m1.6.7.3.2.1"></times><ci id="algorithm2.13.13.m1.6.7.3.2.2.cmml" xref="algorithm2.13.13.m1.6.7.3.2.2">𝑀</ci><ci id="algorithm2.13.13.m1.6.7.3.2.3.cmml" xref="algorithm2.13.13.m1.6.7.3.2.3">𝐷</ci><interval closure="open" id="algorithm2.13.13.m1.6.7.3.2.4.1.cmml" xref="algorithm2.13.13.m1.6.7.3.2.4.2"><ci id="algorithm2.13.13.m1.5.5.cmml" xref="algorithm2.13.13.m1.5.5">𝑔</ci><ci id="algorithm2.13.13.m1.6.6.cmml" xref="algorithm2.13.13.m1.6.6">𝑏</ci></interval></apply><apply id="algorithm2.13.13.m1.2.2.cmml" xref="algorithm2.13.13.m1.2.2"><divide id="algorithm2.13.13.m1.2.2.3.cmml" xref="algorithm2.13.13.m1.2.2"></divide><apply id="algorithm2.13.13.m1.1.1.1.cmml" xref="algorithm2.13.13.m1.1.1.1"><times id="algorithm2.13.13.m1.1.1.1.2.cmml" xref="algorithm2.13.13.m1.1.1.1.2"></times><ci id="algorithm2.13.13.m1.1.1.1.3.cmml" xref="algorithm2.13.13.m1.1.1.1.3">𝑇</ci><ci id="algorithm2.13.13.m1.1.1.1.4.cmml" xref="algorithm2.13.13.m1.1.1.1.4">𝑆</ci><ci id="algorithm2.13.13.m1.1.1.1.1.cmml" xref="algorithm2.13.13.m1.1.1.1.1">𝑔</ci></apply><apply id="algorithm2.13.13.m1.2.2.2.cmml" xref="algorithm2.13.13.m1.2.2.2"><times id="algorithm2.13.13.m1.2.2.2.2.cmml" xref="algorithm2.13.13.m1.2.2.2.2"></times><ci id="algorithm2.13.13.m1.2.2.2.3.cmml" xref="algorithm2.13.13.m1.2.2.2.3">𝑇</ci><ci id="algorithm2.13.13.m1.2.2.2.4.cmml" xref="algorithm2.13.13.m1.2.2.2.4">𝐷</ci><ci id="algorithm2.13.13.m1.2.2.2.1.cmml" xref="algorithm2.13.13.m1.2.2.2.1">𝑔</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.13.13.m1.6c">CI(g,b)\leftarrow MD(g,b)*\frac{TS(g)}{TD(g)}</annotation><annotation encoding="application/x-llamapun" id="algorithm2.13.13.m1.6d">italic_C italic_I ( italic_g , italic_b ) ← italic_M italic_D ( italic_g , italic_b ) ∗ divide start_ARG italic_T italic_S ( italic_g ) end_ARG start_ARG italic_T italic_D ( italic_g ) end_ARG</annotation></semantics></math><span class="ltx_text" id="algorithm2.13.13.6" style="color:#000000;">     /* From business rules in Figure </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.F7" style="color:#000000;" title="Figure 7 ‣ A.5 Business rules in DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">7</span></a><span class="ltx_text" id="algorithm2.13.13.7" style="color:#000000;"> (b). */
</span>
</div>
<div class="ltx_listingline" id="algorithm2.14.14">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.14.14.2.1.1" style="color:#000000;">13</span></span><span class="ltx_text" id="algorithm2.14.14.3" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.14.14.4" style="color:#000000;">   </span><span class="ltx_text ltx_font_bold" id="algorithm2.14.14.5" style="color:#000000;">for</span><span class="ltx_text" id="algorithm2.14.14.6" style="color:#000000;"> </span><em class="ltx_emph ltx_font_italic" id="algorithm2.14.14.1" style="color:#000000;"><math alttext="g\in\textit{Goods}" class="ltx_Math" display="inline" id="algorithm2.14.14.1.m1.1"><semantics id="algorithm2.14.14.1.m1.1a"><mrow id="algorithm2.14.14.1.m1.1.1" xref="algorithm2.14.14.1.m1.1.1.cmml"><mi id="algorithm2.14.14.1.m1.1.1.2" mathcolor="#000000" xref="algorithm2.14.14.1.m1.1.1.2.cmml">g</mi><mo id="algorithm2.14.14.1.m1.1.1.1" mathcolor="#000000" xref="algorithm2.14.14.1.m1.1.1.1.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="algorithm2.14.14.1.m1.1.1.3" mathcolor="#000000" xref="algorithm2.14.14.1.m1.1.1.3a.cmml">Goods</mtext></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.14.14.1.m1.1b"><apply id="algorithm2.14.14.1.m1.1.1.cmml" xref="algorithm2.14.14.1.m1.1.1"><in id="algorithm2.14.14.1.m1.1.1.1.cmml" xref="algorithm2.14.14.1.m1.1.1.1"></in><ci id="algorithm2.14.14.1.m1.1.1.2.cmml" xref="algorithm2.14.14.1.m1.1.1.2">𝑔</ci><ci id="algorithm2.14.14.1.m1.1.1.3a.cmml" xref="algorithm2.14.14.1.m1.1.1.3"><mtext class="ltx_mathvariant_italic" id="algorithm2.14.14.1.m1.1.1.3.cmml" mathcolor="#000000" xref="algorithm2.14.14.1.m1.1.1.3">Goods</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.14.14.1.m1.1c">g\in\textit{Goods}</annotation><annotation encoding="application/x-llamapun" id="algorithm2.14.14.1.m1.1d">italic_g ∈ Goods</annotation></semantics></math></em><span class="ltx_text" id="algorithm2.14.14.7" style="color:#000000;"> </span><span class="ltx_text ltx_font_bold" id="algorithm2.14.14.8" style="color:#000000;">do</span>
</div>
<div class="ltx_listingline" id="algorithm2.15.15">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.15.15.1.1.1" style="color:#000000;">14</span></span><span class="ltx_text" id="algorithm2.15.15.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.15.15.3" style="color:#000000;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.15.15.4" style="color:#000000;">   </span><span class="ltx_text" id="algorithm2.15.15.5" style="color:#000000;">
</span><math alttext="TS(g)\leftarrow 0" class="ltx_Math" display="inline" id="algorithm2.15.15.m1.1"><semantics id="algorithm2.15.15.m1.1a"><mrow id="algorithm2.15.15.m1.1.2" xref="algorithm2.15.15.m1.1.2.cmml"><mrow id="algorithm2.15.15.m1.1.2.2" xref="algorithm2.15.15.m1.1.2.2.cmml"><mi id="algorithm2.15.15.m1.1.2.2.2" mathcolor="#000000" xref="algorithm2.15.15.m1.1.2.2.2.cmml">T</mi><mo id="algorithm2.15.15.m1.1.2.2.1" xref="algorithm2.15.15.m1.1.2.2.1.cmml">⁢</mo><mi id="algorithm2.15.15.m1.1.2.2.3" mathcolor="#000000" xref="algorithm2.15.15.m1.1.2.2.3.cmml">S</mi><mo id="algorithm2.15.15.m1.1.2.2.1a" xref="algorithm2.15.15.m1.1.2.2.1.cmml">⁢</mo><mrow id="algorithm2.15.15.m1.1.2.2.4.2" xref="algorithm2.15.15.m1.1.2.2.cmml"><mo id="algorithm2.15.15.m1.1.2.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.15.15.m1.1.2.2.cmml">(</mo><mi id="algorithm2.15.15.m1.1.1" mathcolor="#000000" xref="algorithm2.15.15.m1.1.1.cmml">g</mi><mo id="algorithm2.15.15.m1.1.2.2.4.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.15.15.m1.1.2.2.cmml">)</mo></mrow></mrow><mo id="algorithm2.15.15.m1.1.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.15.15.m1.1.2.1.cmml">←</mo><mn id="algorithm2.15.15.m1.1.2.3" mathcolor="#000000" xref="algorithm2.15.15.m1.1.2.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.15.15.m1.1b"><apply id="algorithm2.15.15.m1.1.2.cmml" xref="algorithm2.15.15.m1.1.2"><ci id="algorithm2.15.15.m1.1.2.1.cmml" xref="algorithm2.15.15.m1.1.2.1">←</ci><apply id="algorithm2.15.15.m1.1.2.2.cmml" xref="algorithm2.15.15.m1.1.2.2"><times id="algorithm2.15.15.m1.1.2.2.1.cmml" xref="algorithm2.15.15.m1.1.2.2.1"></times><ci id="algorithm2.15.15.m1.1.2.2.2.cmml" xref="algorithm2.15.15.m1.1.2.2.2">𝑇</ci><ci id="algorithm2.15.15.m1.1.2.2.3.cmml" xref="algorithm2.15.15.m1.1.2.2.3">𝑆</ci><ci id="algorithm2.15.15.m1.1.1.cmml" xref="algorithm2.15.15.m1.1.1">𝑔</ci></apply><cn id="algorithm2.15.15.m1.1.2.3.cmml" type="integer" xref="algorithm2.15.15.m1.1.2.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.15.15.m1.1c">TS(g)\leftarrow 0</annotation><annotation encoding="application/x-llamapun" id="algorithm2.15.15.m1.1d">italic_T italic_S ( italic_g ) ← 0</annotation></semantics></math><span class="ltx_text" id="algorithm2.15.15.6" style="color:#000000;">  /* Eq. (</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.E5" style="color:#000000;" title="In 3.2 Building scenario ‣ 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">5</span></a><span class="ltx_text" id="algorithm2.15.15.7" style="color:#000000;">)*/
</span>
</div>
<div class="ltx_listingline" id="algorithm2.16.16">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.16.16.2.1.1" style="color:#000000;">15</span></span><span class="ltx_text" id="algorithm2.16.16.3" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.16.16.4" style="color:#000000;">   </span><span class="ltx_text ltx_font_bold" id="algorithm2.16.16.5" style="color:#000000;">for</span><span class="ltx_text" id="algorithm2.16.16.6" style="color:#000000;"> </span><em class="ltx_emph ltx_font_italic" id="algorithm2.16.16.1" style="color:#000000;"><math alttext="g,b\in\textit{Sup}" class="ltx_Math" display="inline" id="algorithm2.16.16.1.m1.2"><semantics id="algorithm2.16.16.1.m1.2a"><mrow id="algorithm2.16.16.1.m1.2.3" xref="algorithm2.16.16.1.m1.2.3.cmml"><mrow id="algorithm2.16.16.1.m1.2.3.2.2" xref="algorithm2.16.16.1.m1.2.3.2.1.cmml"><mi id="algorithm2.16.16.1.m1.1.1" mathcolor="#000000" xref="algorithm2.16.16.1.m1.1.1.cmml">g</mi><mo id="algorithm2.16.16.1.m1.2.3.2.2.1" mathcolor="#000000" xref="algorithm2.16.16.1.m1.2.3.2.1.cmml">,</mo><mi id="algorithm2.16.16.1.m1.2.2" mathcolor="#000000" xref="algorithm2.16.16.1.m1.2.2.cmml">b</mi></mrow><mo id="algorithm2.16.16.1.m1.2.3.1" mathcolor="#000000" xref="algorithm2.16.16.1.m1.2.3.1.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="algorithm2.16.16.1.m1.2.3.3" mathcolor="#000000" xref="algorithm2.16.16.1.m1.2.3.3a.cmml">Sup</mtext></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.16.16.1.m1.2b"><apply id="algorithm2.16.16.1.m1.2.3.cmml" xref="algorithm2.16.16.1.m1.2.3"><in id="algorithm2.16.16.1.m1.2.3.1.cmml" xref="algorithm2.16.16.1.m1.2.3.1"></in><list id="algorithm2.16.16.1.m1.2.3.2.1.cmml" xref="algorithm2.16.16.1.m1.2.3.2.2"><ci id="algorithm2.16.16.1.m1.1.1.cmml" xref="algorithm2.16.16.1.m1.1.1">𝑔</ci><ci id="algorithm2.16.16.1.m1.2.2.cmml" xref="algorithm2.16.16.1.m1.2.2">𝑏</ci></list><ci id="algorithm2.16.16.1.m1.2.3.3a.cmml" xref="algorithm2.16.16.1.m1.2.3.3"><mtext class="ltx_mathvariant_italic" id="algorithm2.16.16.1.m1.2.3.3.cmml" mathcolor="#000000" xref="algorithm2.16.16.1.m1.2.3.3">Sup</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.16.16.1.m1.2c">g,b\in\textit{Sup}</annotation><annotation encoding="application/x-llamapun" id="algorithm2.16.16.1.m1.2d">italic_g , italic_b ∈ Sup</annotation></semantics></math></em><span class="ltx_text" id="algorithm2.16.16.7" style="color:#000000;"> </span><span class="ltx_text ltx_font_bold" id="algorithm2.16.16.8" style="color:#000000;">do</span>
</div>
<div class="ltx_listingline" id="algorithm2.17.17">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.17.17.1.1.1" style="color:#000000;">16</span></span><span class="ltx_text" id="algorithm2.17.17.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.17.17.3" style="color:#000000;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.17.17.4" style="color:#000000;">   </span><span class="ltx_text" id="algorithm2.17.17.5" style="color:#000000;">
</span><math alttext="CO(g,b)\leftarrow MS(g,b)\cdot AVG_{{\{b^{\prime}|(g,b^{\prime})\in\textit{Dem%
}\}}}(MIN(1,\frac{CI(g,b^{\prime})}{MD(g,b^{\prime})}))" class="ltx_Math" display="inline" id="algorithm2.17.17.m1.13"><semantics id="algorithm2.17.17.m1.13a"><mrow id="algorithm2.17.17.m1.13.13" xref="algorithm2.17.17.m1.13.13.cmml"><mrow id="algorithm2.17.17.m1.13.13.3" xref="algorithm2.17.17.m1.13.13.3.cmml"><mi id="algorithm2.17.17.m1.13.13.3.2" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.3.2.cmml">C</mi><mo id="algorithm2.17.17.m1.13.13.3.1" xref="algorithm2.17.17.m1.13.13.3.1.cmml">⁢</mo><mi id="algorithm2.17.17.m1.13.13.3.3" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.3.3.cmml">O</mi><mo id="algorithm2.17.17.m1.13.13.3.1a" xref="algorithm2.17.17.m1.13.13.3.1.cmml">⁢</mo><mrow id="algorithm2.17.17.m1.13.13.3.4.2" xref="algorithm2.17.17.m1.13.13.3.4.1.cmml"><mo id="algorithm2.17.17.m1.13.13.3.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.13.13.3.4.1.cmml">(</mo><mi id="algorithm2.17.17.m1.8.8" mathcolor="#000000" xref="algorithm2.17.17.m1.8.8.cmml">g</mi><mo id="algorithm2.17.17.m1.13.13.3.4.2.2" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.3.4.1.cmml">,</mo><mi id="algorithm2.17.17.m1.9.9" mathcolor="#000000" xref="algorithm2.17.17.m1.9.9.cmml">b</mi><mo id="algorithm2.17.17.m1.13.13.3.4.2.3" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.13.13.3.4.1.cmml">)</mo></mrow></mrow><mo id="algorithm2.17.17.m1.13.13.2" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.13.13.2.cmml">←</mo><mrow id="algorithm2.17.17.m1.13.13.1" xref="algorithm2.17.17.m1.13.13.1.cmml"><mrow id="algorithm2.17.17.m1.13.13.1.3" xref="algorithm2.17.17.m1.13.13.1.3.cmml"><mrow id="algorithm2.17.17.m1.13.13.1.3.2" xref="algorithm2.17.17.m1.13.13.1.3.2.cmml"><mi id="algorithm2.17.17.m1.13.13.1.3.2.2" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.1.3.2.2.cmml">M</mi><mo id="algorithm2.17.17.m1.13.13.1.3.2.1" xref="algorithm2.17.17.m1.13.13.1.3.2.1.cmml">⁢</mo><mi id="algorithm2.17.17.m1.13.13.1.3.2.3" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.1.3.2.3.cmml">S</mi><mo id="algorithm2.17.17.m1.13.13.1.3.2.1a" xref="algorithm2.17.17.m1.13.13.1.3.2.1.cmml">⁢</mo><mrow id="algorithm2.17.17.m1.13.13.1.3.2.4.2" xref="algorithm2.17.17.m1.13.13.1.3.2.4.1.cmml"><mo id="algorithm2.17.17.m1.13.13.1.3.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.13.13.1.3.2.4.1.cmml">(</mo><mi id="algorithm2.17.17.m1.10.10" mathcolor="#000000" xref="algorithm2.17.17.m1.10.10.cmml">g</mi><mo id="algorithm2.17.17.m1.13.13.1.3.2.4.2.2" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.1.3.2.4.1.cmml">,</mo><mi id="algorithm2.17.17.m1.11.11" mathcolor="#000000" xref="algorithm2.17.17.m1.11.11.cmml">b</mi><mo id="algorithm2.17.17.m1.13.13.1.3.2.4.2.3" mathcolor="#000000" rspace="0.055em" stretchy="false" xref="algorithm2.17.17.m1.13.13.1.3.2.4.1.cmml">)</mo></mrow></mrow><mo id="algorithm2.17.17.m1.13.13.1.3.1" mathcolor="#000000" rspace="0.222em" xref="algorithm2.17.17.m1.13.13.1.3.1.cmml">⋅</mo><mi id="algorithm2.17.17.m1.13.13.1.3.3" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.1.3.3.cmml">A</mi></mrow><mo id="algorithm2.17.17.m1.13.13.1.2" xref="algorithm2.17.17.m1.13.13.1.2.cmml">⁢</mo><mi id="algorithm2.17.17.m1.13.13.1.4" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.1.4.cmml">V</mi><mo id="algorithm2.17.17.m1.13.13.1.2a" xref="algorithm2.17.17.m1.13.13.1.2.cmml">⁢</mo><msub id="algorithm2.17.17.m1.13.13.1.5" xref="algorithm2.17.17.m1.13.13.1.5.cmml"><mi id="algorithm2.17.17.m1.13.13.1.5.2" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.1.5.2.cmml">G</mi><mrow id="algorithm2.17.17.m1.3.3.3.3" xref="algorithm2.17.17.m1.3.3.3.4.cmml"><mo id="algorithm2.17.17.m1.3.3.3.3.3" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.3.3.3.4.1.cmml">{</mo><msup id="algorithm2.17.17.m1.2.2.2.2.1" xref="algorithm2.17.17.m1.2.2.2.2.1.cmml"><mi id="algorithm2.17.17.m1.2.2.2.2.1.2" mathcolor="#000000" xref="algorithm2.17.17.m1.2.2.2.2.1.2.cmml">b</mi><mo id="algorithm2.17.17.m1.2.2.2.2.1.3" mathcolor="#000000" xref="algorithm2.17.17.m1.2.2.2.2.1.3.cmml">′</mo></msup><mo id="algorithm2.17.17.m1.3.3.3.3.4" lspace="0em" mathcolor="#000000" rspace="0em" xref="algorithm2.17.17.m1.3.3.3.4.1.cmml">|</mo><mrow id="algorithm2.17.17.m1.3.3.3.3.2" xref="algorithm2.17.17.m1.3.3.3.3.2.cmml"><mrow id="algorithm2.17.17.m1.3.3.3.3.2.1.1" xref="algorithm2.17.17.m1.3.3.3.3.2.1.2.cmml"><mo id="algorithm2.17.17.m1.3.3.3.3.2.1.1.2" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.3.3.3.3.2.1.2.cmml">(</mo><mi id="algorithm2.17.17.m1.1.1.1.1" mathcolor="#000000" xref="algorithm2.17.17.m1.1.1.1.1.cmml">g</mi><mo id="algorithm2.17.17.m1.3.3.3.3.2.1.1.3" mathcolor="#000000" xref="algorithm2.17.17.m1.3.3.3.3.2.1.2.cmml">,</mo><msup id="algorithm2.17.17.m1.3.3.3.3.2.1.1.1" xref="algorithm2.17.17.m1.3.3.3.3.2.1.1.1.cmml"><mi id="algorithm2.17.17.m1.3.3.3.3.2.1.1.1.2" mathcolor="#000000" xref="algorithm2.17.17.m1.3.3.3.3.2.1.1.1.2.cmml">b</mi><mo id="algorithm2.17.17.m1.3.3.3.3.2.1.1.1.3" mathcolor="#000000" xref="algorithm2.17.17.m1.3.3.3.3.2.1.1.1.3.cmml">′</mo></msup><mo id="algorithm2.17.17.m1.3.3.3.3.2.1.1.4" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.3.3.3.3.2.1.2.cmml">)</mo></mrow><mo id="algorithm2.17.17.m1.3.3.3.3.2.2" mathcolor="#000000" xref="algorithm2.17.17.m1.3.3.3.3.2.2.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="algorithm2.17.17.m1.3.3.3.3.2.3" mathcolor="#000000" xref="algorithm2.17.17.m1.3.3.3.3.2.3a.cmml">Dem</mtext></mrow><mo id="algorithm2.17.17.m1.3.3.3.3.5" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.3.3.3.4.1.cmml">}</mo></mrow></msub><mo id="algorithm2.17.17.m1.13.13.1.2b" xref="algorithm2.17.17.m1.13.13.1.2.cmml">⁢</mo><mrow id="algorithm2.17.17.m1.13.13.1.1.1" xref="algorithm2.17.17.m1.13.13.1.1.1.1.cmml"><mo id="algorithm2.17.17.m1.13.13.1.1.1.2" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.13.13.1.1.1.1.cmml">(</mo><mrow id="algorithm2.17.17.m1.13.13.1.1.1.1" xref="algorithm2.17.17.m1.13.13.1.1.1.1.cmml"><mi id="algorithm2.17.17.m1.13.13.1.1.1.1.2" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.1.1.1.1.2.cmml">M</mi><mo id="algorithm2.17.17.m1.13.13.1.1.1.1.1" xref="algorithm2.17.17.m1.13.13.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm2.17.17.m1.13.13.1.1.1.1.3" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.1.1.1.1.3.cmml">I</mi><mo id="algorithm2.17.17.m1.13.13.1.1.1.1.1a" xref="algorithm2.17.17.m1.13.13.1.1.1.1.1.cmml">⁢</mo><mi id="algorithm2.17.17.m1.13.13.1.1.1.1.4" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.1.1.1.1.4.cmml">N</mi><mo id="algorithm2.17.17.m1.13.13.1.1.1.1.1b" xref="algorithm2.17.17.m1.13.13.1.1.1.1.1.cmml">⁢</mo><mrow id="algorithm2.17.17.m1.13.13.1.1.1.1.5.2" xref="algorithm2.17.17.m1.13.13.1.1.1.1.5.1.cmml"><mo id="algorithm2.17.17.m1.13.13.1.1.1.1.5.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.13.13.1.1.1.1.5.1.cmml">(</mo><mn id="algorithm2.17.17.m1.12.12" mathcolor="#000000" xref="algorithm2.17.17.m1.12.12.cmml">1</mn><mo id="algorithm2.17.17.m1.13.13.1.1.1.1.5.2.2" mathcolor="#000000" xref="algorithm2.17.17.m1.13.13.1.1.1.1.5.1.cmml">,</mo><mfrac id="algorithm2.17.17.m1.7.7" mathcolor="#000000" xref="algorithm2.17.17.m1.7.7.cmml"><mrow id="algorithm2.17.17.m1.5.5.2" xref="algorithm2.17.17.m1.5.5.2.cmml"><mi id="algorithm2.17.17.m1.5.5.2.4" mathcolor="#000000" xref="algorithm2.17.17.m1.5.5.2.4.cmml">C</mi><mo id="algorithm2.17.17.m1.5.5.2.3" xref="algorithm2.17.17.m1.5.5.2.3.cmml">⁢</mo><mi id="algorithm2.17.17.m1.5.5.2.5" mathcolor="#000000" xref="algorithm2.17.17.m1.5.5.2.5.cmml">I</mi><mo id="algorithm2.17.17.m1.5.5.2.3a" xref="algorithm2.17.17.m1.5.5.2.3.cmml">⁢</mo><mrow id="algorithm2.17.17.m1.5.5.2.2.1" xref="algorithm2.17.17.m1.5.5.2.2.2.cmml"><mo id="algorithm2.17.17.m1.5.5.2.2.1.2" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.5.5.2.2.2.cmml">(</mo><mi id="algorithm2.17.17.m1.4.4.1.1" mathcolor="#000000" xref="algorithm2.17.17.m1.4.4.1.1.cmml">g</mi><mo id="algorithm2.17.17.m1.5.5.2.2.1.3" mathcolor="#000000" xref="algorithm2.17.17.m1.5.5.2.2.2.cmml">,</mo><msup id="algorithm2.17.17.m1.5.5.2.2.1.1" xref="algorithm2.17.17.m1.5.5.2.2.1.1.cmml"><mi id="algorithm2.17.17.m1.5.5.2.2.1.1.2" mathcolor="#000000" xref="algorithm2.17.17.m1.5.5.2.2.1.1.2.cmml">b</mi><mo id="algorithm2.17.17.m1.5.5.2.2.1.1.3" mathcolor="#000000" xref="algorithm2.17.17.m1.5.5.2.2.1.1.3.cmml">′</mo></msup><mo id="algorithm2.17.17.m1.5.5.2.2.1.4" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.5.5.2.2.2.cmml">)</mo></mrow></mrow><mrow id="algorithm2.17.17.m1.7.7.4" xref="algorithm2.17.17.m1.7.7.4.cmml"><mi id="algorithm2.17.17.m1.7.7.4.4" mathcolor="#000000" xref="algorithm2.17.17.m1.7.7.4.4.cmml">M</mi><mo id="algorithm2.17.17.m1.7.7.4.3" xref="algorithm2.17.17.m1.7.7.4.3.cmml">⁢</mo><mi id="algorithm2.17.17.m1.7.7.4.5" mathcolor="#000000" xref="algorithm2.17.17.m1.7.7.4.5.cmml">D</mi><mo id="algorithm2.17.17.m1.7.7.4.3a" xref="algorithm2.17.17.m1.7.7.4.3.cmml">⁢</mo><mrow id="algorithm2.17.17.m1.7.7.4.2.1" xref="algorithm2.17.17.m1.7.7.4.2.2.cmml"><mo id="algorithm2.17.17.m1.7.7.4.2.1.2" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.7.7.4.2.2.cmml">(</mo><mi id="algorithm2.17.17.m1.6.6.3.1" mathcolor="#000000" xref="algorithm2.17.17.m1.6.6.3.1.cmml">g</mi><mo id="algorithm2.17.17.m1.7.7.4.2.1.3" mathcolor="#000000" xref="algorithm2.17.17.m1.7.7.4.2.2.cmml">,</mo><msup id="algorithm2.17.17.m1.7.7.4.2.1.1" xref="algorithm2.17.17.m1.7.7.4.2.1.1.cmml"><mi id="algorithm2.17.17.m1.7.7.4.2.1.1.2" mathcolor="#000000" xref="algorithm2.17.17.m1.7.7.4.2.1.1.2.cmml">b</mi><mo id="algorithm2.17.17.m1.7.7.4.2.1.1.3" mathcolor="#000000" xref="algorithm2.17.17.m1.7.7.4.2.1.1.3.cmml">′</mo></msup><mo id="algorithm2.17.17.m1.7.7.4.2.1.4" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.7.7.4.2.2.cmml">)</mo></mrow></mrow></mfrac><mo id="algorithm2.17.17.m1.13.13.1.1.1.1.5.2.3" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.13.13.1.1.1.1.5.1.cmml">)</mo></mrow></mrow><mo id="algorithm2.17.17.m1.13.13.1.1.1.3" mathcolor="#000000" stretchy="false" xref="algorithm2.17.17.m1.13.13.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.17.17.m1.13b"><apply id="algorithm2.17.17.m1.13.13.cmml" xref="algorithm2.17.17.m1.13.13"><ci id="algorithm2.17.17.m1.13.13.2.cmml" xref="algorithm2.17.17.m1.13.13.2">←</ci><apply id="algorithm2.17.17.m1.13.13.3.cmml" xref="algorithm2.17.17.m1.13.13.3"><times id="algorithm2.17.17.m1.13.13.3.1.cmml" xref="algorithm2.17.17.m1.13.13.3.1"></times><ci id="algorithm2.17.17.m1.13.13.3.2.cmml" xref="algorithm2.17.17.m1.13.13.3.2">𝐶</ci><ci id="algorithm2.17.17.m1.13.13.3.3.cmml" xref="algorithm2.17.17.m1.13.13.3.3">𝑂</ci><interval closure="open" id="algorithm2.17.17.m1.13.13.3.4.1.cmml" xref="algorithm2.17.17.m1.13.13.3.4.2"><ci id="algorithm2.17.17.m1.8.8.cmml" xref="algorithm2.17.17.m1.8.8">𝑔</ci><ci id="algorithm2.17.17.m1.9.9.cmml" xref="algorithm2.17.17.m1.9.9">𝑏</ci></interval></apply><apply id="algorithm2.17.17.m1.13.13.1.cmml" xref="algorithm2.17.17.m1.13.13.1"><times id="algorithm2.17.17.m1.13.13.1.2.cmml" xref="algorithm2.17.17.m1.13.13.1.2"></times><apply id="algorithm2.17.17.m1.13.13.1.3.cmml" xref="algorithm2.17.17.m1.13.13.1.3"><ci id="algorithm2.17.17.m1.13.13.1.3.1.cmml" xref="algorithm2.17.17.m1.13.13.1.3.1">⋅</ci><apply id="algorithm2.17.17.m1.13.13.1.3.2.cmml" xref="algorithm2.17.17.m1.13.13.1.3.2"><times id="algorithm2.17.17.m1.13.13.1.3.2.1.cmml" xref="algorithm2.17.17.m1.13.13.1.3.2.1"></times><ci id="algorithm2.17.17.m1.13.13.1.3.2.2.cmml" xref="algorithm2.17.17.m1.13.13.1.3.2.2">𝑀</ci><ci id="algorithm2.17.17.m1.13.13.1.3.2.3.cmml" xref="algorithm2.17.17.m1.13.13.1.3.2.3">𝑆</ci><interval closure="open" id="algorithm2.17.17.m1.13.13.1.3.2.4.1.cmml" xref="algorithm2.17.17.m1.13.13.1.3.2.4.2"><ci id="algorithm2.17.17.m1.10.10.cmml" xref="algorithm2.17.17.m1.10.10">𝑔</ci><ci id="algorithm2.17.17.m1.11.11.cmml" xref="algorithm2.17.17.m1.11.11">𝑏</ci></interval></apply><ci id="algorithm2.17.17.m1.13.13.1.3.3.cmml" xref="algorithm2.17.17.m1.13.13.1.3.3">𝐴</ci></apply><ci id="algorithm2.17.17.m1.13.13.1.4.cmml" xref="algorithm2.17.17.m1.13.13.1.4">𝑉</ci><apply id="algorithm2.17.17.m1.13.13.1.5.cmml" xref="algorithm2.17.17.m1.13.13.1.5"><csymbol cd="ambiguous" id="algorithm2.17.17.m1.13.13.1.5.1.cmml" xref="algorithm2.17.17.m1.13.13.1.5">subscript</csymbol><ci id="algorithm2.17.17.m1.13.13.1.5.2.cmml" xref="algorithm2.17.17.m1.13.13.1.5.2">𝐺</ci><apply id="algorithm2.17.17.m1.3.3.3.4.cmml" xref="algorithm2.17.17.m1.3.3.3.3"><csymbol cd="latexml" id="algorithm2.17.17.m1.3.3.3.4.1.cmml" xref="algorithm2.17.17.m1.3.3.3.3.3">conditional-set</csymbol><apply id="algorithm2.17.17.m1.2.2.2.2.1.cmml" xref="algorithm2.17.17.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="algorithm2.17.17.m1.2.2.2.2.1.1.cmml" xref="algorithm2.17.17.m1.2.2.2.2.1">superscript</csymbol><ci id="algorithm2.17.17.m1.2.2.2.2.1.2.cmml" xref="algorithm2.17.17.m1.2.2.2.2.1.2">𝑏</ci><ci id="algorithm2.17.17.m1.2.2.2.2.1.3.cmml" xref="algorithm2.17.17.m1.2.2.2.2.1.3">′</ci></apply><apply id="algorithm2.17.17.m1.3.3.3.3.2.cmml" xref="algorithm2.17.17.m1.3.3.3.3.2"><in id="algorithm2.17.17.m1.3.3.3.3.2.2.cmml" xref="algorithm2.17.17.m1.3.3.3.3.2.2"></in><interval closure="open" id="algorithm2.17.17.m1.3.3.3.3.2.1.2.cmml" xref="algorithm2.17.17.m1.3.3.3.3.2.1.1"><ci id="algorithm2.17.17.m1.1.1.1.1.cmml" xref="algorithm2.17.17.m1.1.1.1.1">𝑔</ci><apply id="algorithm2.17.17.m1.3.3.3.3.2.1.1.1.cmml" xref="algorithm2.17.17.m1.3.3.3.3.2.1.1.1"><csymbol cd="ambiguous" id="algorithm2.17.17.m1.3.3.3.3.2.1.1.1.1.cmml" xref="algorithm2.17.17.m1.3.3.3.3.2.1.1.1">superscript</csymbol><ci id="algorithm2.17.17.m1.3.3.3.3.2.1.1.1.2.cmml" xref="algorithm2.17.17.m1.3.3.3.3.2.1.1.1.2">𝑏</ci><ci id="algorithm2.17.17.m1.3.3.3.3.2.1.1.1.3.cmml" xref="algorithm2.17.17.m1.3.3.3.3.2.1.1.1.3">′</ci></apply></interval><ci id="algorithm2.17.17.m1.3.3.3.3.2.3a.cmml" xref="algorithm2.17.17.m1.3.3.3.3.2.3"><mtext class="ltx_mathvariant_italic" id="algorithm2.17.17.m1.3.3.3.3.2.3.cmml" mathsize="70%" xref="algorithm2.17.17.m1.3.3.3.3.2.3">Dem</mtext></ci></apply></apply></apply><apply id="algorithm2.17.17.m1.13.13.1.1.1.1.cmml" xref="algorithm2.17.17.m1.13.13.1.1.1"><times id="algorithm2.17.17.m1.13.13.1.1.1.1.1.cmml" xref="algorithm2.17.17.m1.13.13.1.1.1.1.1"></times><ci id="algorithm2.17.17.m1.13.13.1.1.1.1.2.cmml" xref="algorithm2.17.17.m1.13.13.1.1.1.1.2">𝑀</ci><ci id="algorithm2.17.17.m1.13.13.1.1.1.1.3.cmml" xref="algorithm2.17.17.m1.13.13.1.1.1.1.3">𝐼</ci><ci id="algorithm2.17.17.m1.13.13.1.1.1.1.4.cmml" xref="algorithm2.17.17.m1.13.13.1.1.1.1.4">𝑁</ci><interval closure="open" id="algorithm2.17.17.m1.13.13.1.1.1.1.5.1.cmml" xref="algorithm2.17.17.m1.13.13.1.1.1.1.5.2"><cn id="algorithm2.17.17.m1.12.12.cmml" type="integer" xref="algorithm2.17.17.m1.12.12">1</cn><apply id="algorithm2.17.17.m1.7.7.cmml" xref="algorithm2.17.17.m1.7.7"><divide id="algorithm2.17.17.m1.7.7.5.cmml" xref="algorithm2.17.17.m1.7.7"></divide><apply id="algorithm2.17.17.m1.5.5.2.cmml" xref="algorithm2.17.17.m1.5.5.2"><times id="algorithm2.17.17.m1.5.5.2.3.cmml" xref="algorithm2.17.17.m1.5.5.2.3"></times><ci id="algorithm2.17.17.m1.5.5.2.4.cmml" xref="algorithm2.17.17.m1.5.5.2.4">𝐶</ci><ci id="algorithm2.17.17.m1.5.5.2.5.cmml" xref="algorithm2.17.17.m1.5.5.2.5">𝐼</ci><interval closure="open" id="algorithm2.17.17.m1.5.5.2.2.2.cmml" xref="algorithm2.17.17.m1.5.5.2.2.1"><ci id="algorithm2.17.17.m1.4.4.1.1.cmml" xref="algorithm2.17.17.m1.4.4.1.1">𝑔</ci><apply id="algorithm2.17.17.m1.5.5.2.2.1.1.cmml" xref="algorithm2.17.17.m1.5.5.2.2.1.1"><csymbol cd="ambiguous" id="algorithm2.17.17.m1.5.5.2.2.1.1.1.cmml" xref="algorithm2.17.17.m1.5.5.2.2.1.1">superscript</csymbol><ci id="algorithm2.17.17.m1.5.5.2.2.1.1.2.cmml" xref="algorithm2.17.17.m1.5.5.2.2.1.1.2">𝑏</ci><ci id="algorithm2.17.17.m1.5.5.2.2.1.1.3.cmml" xref="algorithm2.17.17.m1.5.5.2.2.1.1.3">′</ci></apply></interval></apply><apply id="algorithm2.17.17.m1.7.7.4.cmml" xref="algorithm2.17.17.m1.7.7.4"><times id="algorithm2.17.17.m1.7.7.4.3.cmml" xref="algorithm2.17.17.m1.7.7.4.3"></times><ci id="algorithm2.17.17.m1.7.7.4.4.cmml" xref="algorithm2.17.17.m1.7.7.4.4">𝑀</ci><ci id="algorithm2.17.17.m1.7.7.4.5.cmml" xref="algorithm2.17.17.m1.7.7.4.5">𝐷</ci><interval closure="open" id="algorithm2.17.17.m1.7.7.4.2.2.cmml" xref="algorithm2.17.17.m1.7.7.4.2.1"><ci id="algorithm2.17.17.m1.6.6.3.1.cmml" xref="algorithm2.17.17.m1.6.6.3.1">𝑔</ci><apply id="algorithm2.17.17.m1.7.7.4.2.1.1.cmml" xref="algorithm2.17.17.m1.7.7.4.2.1.1"><csymbol cd="ambiguous" id="algorithm2.17.17.m1.7.7.4.2.1.1.1.cmml" xref="algorithm2.17.17.m1.7.7.4.2.1.1">superscript</csymbol><ci id="algorithm2.17.17.m1.7.7.4.2.1.1.2.cmml" xref="algorithm2.17.17.m1.7.7.4.2.1.1.2">𝑏</ci><ci id="algorithm2.17.17.m1.7.7.4.2.1.1.3.cmml" xref="algorithm2.17.17.m1.7.7.4.2.1.1.3">′</ci></apply></interval></apply></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.17.17.m1.13c">CO(g,b)\leftarrow MS(g,b)\cdot AVG_{{\{b^{\prime}|(g,b^{\prime})\in\textit{Dem%
}\}}}(MIN(1,\frac{CI(g,b^{\prime})}{MD(g,b^{\prime})}))</annotation><annotation encoding="application/x-llamapun" id="algorithm2.17.17.m1.13d">italic_C italic_O ( italic_g , italic_b ) ← italic_M italic_S ( italic_g , italic_b ) ⋅ italic_A italic_V italic_G start_POSTSUBSCRIPT { italic_b start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT | ( italic_g , italic_b start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ) ∈ Dem } end_POSTSUBSCRIPT ( italic_M italic_I italic_N ( 1 , divide start_ARG italic_C italic_I ( italic_g , italic_b start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ) end_ARG start_ARG italic_M italic_D ( italic_g , italic_b start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ) end_ARG ) )</annotation></semantics></math><span class="ltx_text" id="algorithm2.17.17.6" style="color:#000000;">  /* From business rules in Figure </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.F7" style="color:#000000;" title="Figure 7 ‣ A.5 Business rules in DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">7</span></a><span class="ltx_text" id="algorithm2.17.17.7" style="color:#000000;"> (b). */
</span>
</div>
<div class="ltx_listingline" id="algorithm2.18.18">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.18.18.2.1.1" style="color:#000000;">17</span></span><span class="ltx_text" id="algorithm2.18.18.3" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.18.18.4" style="color:#000000;">   </span><span class="ltx_text ltx_font_bold" id="algorithm2.18.18.5" style="color:#000000;">for</span><span class="ltx_text" id="algorithm2.18.18.6" style="color:#000000;"> </span><em class="ltx_emph ltx_font_italic" id="algorithm2.18.18.1" style="color:#000000;"><math alttext="g,b\in\textit{Sup}" class="ltx_Math" display="inline" id="algorithm2.18.18.1.m1.2"><semantics id="algorithm2.18.18.1.m1.2a"><mrow id="algorithm2.18.18.1.m1.2.3" xref="algorithm2.18.18.1.m1.2.3.cmml"><mrow id="algorithm2.18.18.1.m1.2.3.2.2" xref="algorithm2.18.18.1.m1.2.3.2.1.cmml"><mi id="algorithm2.18.18.1.m1.1.1" mathcolor="#000000" xref="algorithm2.18.18.1.m1.1.1.cmml">g</mi><mo id="algorithm2.18.18.1.m1.2.3.2.2.1" mathcolor="#000000" xref="algorithm2.18.18.1.m1.2.3.2.1.cmml">,</mo><mi id="algorithm2.18.18.1.m1.2.2" mathcolor="#000000" xref="algorithm2.18.18.1.m1.2.2.cmml">b</mi></mrow><mo id="algorithm2.18.18.1.m1.2.3.1" mathcolor="#000000" xref="algorithm2.18.18.1.m1.2.3.1.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="algorithm2.18.18.1.m1.2.3.3" mathcolor="#000000" xref="algorithm2.18.18.1.m1.2.3.3a.cmml">Sup</mtext></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.18.18.1.m1.2b"><apply id="algorithm2.18.18.1.m1.2.3.cmml" xref="algorithm2.18.18.1.m1.2.3"><in id="algorithm2.18.18.1.m1.2.3.1.cmml" xref="algorithm2.18.18.1.m1.2.3.1"></in><list id="algorithm2.18.18.1.m1.2.3.2.1.cmml" xref="algorithm2.18.18.1.m1.2.3.2.2"><ci id="algorithm2.18.18.1.m1.1.1.cmml" xref="algorithm2.18.18.1.m1.1.1">𝑔</ci><ci id="algorithm2.18.18.1.m1.2.2.cmml" xref="algorithm2.18.18.1.m1.2.2">𝑏</ci></list><ci id="algorithm2.18.18.1.m1.2.3.3a.cmml" xref="algorithm2.18.18.1.m1.2.3.3"><mtext class="ltx_mathvariant_italic" id="algorithm2.18.18.1.m1.2.3.3.cmml" mathcolor="#000000" xref="algorithm2.18.18.1.m1.2.3.3">Sup</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.18.18.1.m1.2c">g,b\in\textit{Sup}</annotation><annotation encoding="application/x-llamapun" id="algorithm2.18.18.1.m1.2d">italic_g , italic_b ∈ Sup</annotation></semantics></math></em><span class="ltx_text" id="algorithm2.18.18.7" style="color:#000000;"> </span><span class="ltx_text ltx_font_bold" id="algorithm2.18.18.8" style="color:#000000;">do</span>
</div>
<div class="ltx_listingline" id="algorithm2.19.19">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.19.19.1.1.1" style="color:#000000;">18</span></span><span class="ltx_text" id="algorithm2.19.19.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.19.19.3" style="color:#000000;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.19.19.4" style="color:#000000;">   </span><span class="ltx_text" id="algorithm2.19.19.5" style="color:#000000;">
</span><math alttext="TS(g)\leftarrow TS(g)+CO(g,b)" class="ltx_Math" display="inline" id="algorithm2.19.19.m1.4"><semantics id="algorithm2.19.19.m1.4a"><mrow id="algorithm2.19.19.m1.4.5" xref="algorithm2.19.19.m1.4.5.cmml"><mrow id="algorithm2.19.19.m1.4.5.2" xref="algorithm2.19.19.m1.4.5.2.cmml"><mi id="algorithm2.19.19.m1.4.5.2.2" mathcolor="#000000" xref="algorithm2.19.19.m1.4.5.2.2.cmml">T</mi><mo id="algorithm2.19.19.m1.4.5.2.1" xref="algorithm2.19.19.m1.4.5.2.1.cmml">⁢</mo><mi id="algorithm2.19.19.m1.4.5.2.3" mathcolor="#000000" xref="algorithm2.19.19.m1.4.5.2.3.cmml">S</mi><mo id="algorithm2.19.19.m1.4.5.2.1a" xref="algorithm2.19.19.m1.4.5.2.1.cmml">⁢</mo><mrow id="algorithm2.19.19.m1.4.5.2.4.2" xref="algorithm2.19.19.m1.4.5.2.cmml"><mo id="algorithm2.19.19.m1.4.5.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.19.19.m1.4.5.2.cmml">(</mo><mi id="algorithm2.19.19.m1.1.1" mathcolor="#000000" xref="algorithm2.19.19.m1.1.1.cmml">g</mi><mo id="algorithm2.19.19.m1.4.5.2.4.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.19.19.m1.4.5.2.cmml">)</mo></mrow></mrow><mo id="algorithm2.19.19.m1.4.5.1" mathcolor="#000000" stretchy="false" xref="algorithm2.19.19.m1.4.5.1.cmml">←</mo><mrow id="algorithm2.19.19.m1.4.5.3" xref="algorithm2.19.19.m1.4.5.3.cmml"><mrow id="algorithm2.19.19.m1.4.5.3.2" xref="algorithm2.19.19.m1.4.5.3.2.cmml"><mi id="algorithm2.19.19.m1.4.5.3.2.2" mathcolor="#000000" xref="algorithm2.19.19.m1.4.5.3.2.2.cmml">T</mi><mo id="algorithm2.19.19.m1.4.5.3.2.1" xref="algorithm2.19.19.m1.4.5.3.2.1.cmml">⁢</mo><mi id="algorithm2.19.19.m1.4.5.3.2.3" mathcolor="#000000" xref="algorithm2.19.19.m1.4.5.3.2.3.cmml">S</mi><mo id="algorithm2.19.19.m1.4.5.3.2.1a" xref="algorithm2.19.19.m1.4.5.3.2.1.cmml">⁢</mo><mrow id="algorithm2.19.19.m1.4.5.3.2.4.2" xref="algorithm2.19.19.m1.4.5.3.2.cmml"><mo id="algorithm2.19.19.m1.4.5.3.2.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.19.19.m1.4.5.3.2.cmml">(</mo><mi id="algorithm2.19.19.m1.2.2" mathcolor="#000000" xref="algorithm2.19.19.m1.2.2.cmml">g</mi><mo id="algorithm2.19.19.m1.4.5.3.2.4.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.19.19.m1.4.5.3.2.cmml">)</mo></mrow></mrow><mo id="algorithm2.19.19.m1.4.5.3.1" mathcolor="#000000" xref="algorithm2.19.19.m1.4.5.3.1.cmml">+</mo><mrow id="algorithm2.19.19.m1.4.5.3.3" xref="algorithm2.19.19.m1.4.5.3.3.cmml"><mi id="algorithm2.19.19.m1.4.5.3.3.2" mathcolor="#000000" xref="algorithm2.19.19.m1.4.5.3.3.2.cmml">C</mi><mo id="algorithm2.19.19.m1.4.5.3.3.1" xref="algorithm2.19.19.m1.4.5.3.3.1.cmml">⁢</mo><mi id="algorithm2.19.19.m1.4.5.3.3.3" mathcolor="#000000" xref="algorithm2.19.19.m1.4.5.3.3.3.cmml">O</mi><mo id="algorithm2.19.19.m1.4.5.3.3.1a" xref="algorithm2.19.19.m1.4.5.3.3.1.cmml">⁢</mo><mrow id="algorithm2.19.19.m1.4.5.3.3.4.2" xref="algorithm2.19.19.m1.4.5.3.3.4.1.cmml"><mo id="algorithm2.19.19.m1.4.5.3.3.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.19.19.m1.4.5.3.3.4.1.cmml">(</mo><mi id="algorithm2.19.19.m1.3.3" mathcolor="#000000" xref="algorithm2.19.19.m1.3.3.cmml">g</mi><mo id="algorithm2.19.19.m1.4.5.3.3.4.2.2" mathcolor="#000000" xref="algorithm2.19.19.m1.4.5.3.3.4.1.cmml">,</mo><mi id="algorithm2.19.19.m1.4.4" mathcolor="#000000" xref="algorithm2.19.19.m1.4.4.cmml">b</mi><mo id="algorithm2.19.19.m1.4.5.3.3.4.2.3" mathcolor="#000000" stretchy="false" xref="algorithm2.19.19.m1.4.5.3.3.4.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.19.19.m1.4b"><apply id="algorithm2.19.19.m1.4.5.cmml" xref="algorithm2.19.19.m1.4.5"><ci id="algorithm2.19.19.m1.4.5.1.cmml" xref="algorithm2.19.19.m1.4.5.1">←</ci><apply id="algorithm2.19.19.m1.4.5.2.cmml" xref="algorithm2.19.19.m1.4.5.2"><times id="algorithm2.19.19.m1.4.5.2.1.cmml" xref="algorithm2.19.19.m1.4.5.2.1"></times><ci id="algorithm2.19.19.m1.4.5.2.2.cmml" xref="algorithm2.19.19.m1.4.5.2.2">𝑇</ci><ci id="algorithm2.19.19.m1.4.5.2.3.cmml" xref="algorithm2.19.19.m1.4.5.2.3">𝑆</ci><ci id="algorithm2.19.19.m1.1.1.cmml" xref="algorithm2.19.19.m1.1.1">𝑔</ci></apply><apply id="algorithm2.19.19.m1.4.5.3.cmml" xref="algorithm2.19.19.m1.4.5.3"><plus id="algorithm2.19.19.m1.4.5.3.1.cmml" xref="algorithm2.19.19.m1.4.5.3.1"></plus><apply id="algorithm2.19.19.m1.4.5.3.2.cmml" xref="algorithm2.19.19.m1.4.5.3.2"><times id="algorithm2.19.19.m1.4.5.3.2.1.cmml" xref="algorithm2.19.19.m1.4.5.3.2.1"></times><ci id="algorithm2.19.19.m1.4.5.3.2.2.cmml" xref="algorithm2.19.19.m1.4.5.3.2.2">𝑇</ci><ci id="algorithm2.19.19.m1.4.5.3.2.3.cmml" xref="algorithm2.19.19.m1.4.5.3.2.3">𝑆</ci><ci id="algorithm2.19.19.m1.2.2.cmml" xref="algorithm2.19.19.m1.2.2">𝑔</ci></apply><apply id="algorithm2.19.19.m1.4.5.3.3.cmml" xref="algorithm2.19.19.m1.4.5.3.3"><times id="algorithm2.19.19.m1.4.5.3.3.1.cmml" xref="algorithm2.19.19.m1.4.5.3.3.1"></times><ci id="algorithm2.19.19.m1.4.5.3.3.2.cmml" xref="algorithm2.19.19.m1.4.5.3.3.2">𝐶</ci><ci id="algorithm2.19.19.m1.4.5.3.3.3.cmml" xref="algorithm2.19.19.m1.4.5.3.3.3">𝑂</ci><interval closure="open" id="algorithm2.19.19.m1.4.5.3.3.4.1.cmml" xref="algorithm2.19.19.m1.4.5.3.3.4.2"><ci id="algorithm2.19.19.m1.3.3.cmml" xref="algorithm2.19.19.m1.3.3">𝑔</ci><ci id="algorithm2.19.19.m1.4.4.cmml" xref="algorithm2.19.19.m1.4.4">𝑏</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.19.19.m1.4c">TS(g)\leftarrow TS(g)+CO(g,b)</annotation><annotation encoding="application/x-llamapun" id="algorithm2.19.19.m1.4d">italic_T italic_S ( italic_g ) ← italic_T italic_S ( italic_g ) + italic_C italic_O ( italic_g , italic_b )</annotation></semantics></math><span class="ltx_text" id="algorithm2.19.19.6" style="color:#000000;"> /* Eq. (</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.E5" style="color:#000000;" title="In 3.2 Building scenario ‣ 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">5</span></a><span class="ltx_text" id="algorithm2.19.19.7" style="color:#000000;">)*/
</span>
</div>
<div class="ltx_listingline" id="algorithm2.20.20">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.20.20.1.1.1" style="color:#000000;">19</span></span><span class="ltx_text" id="algorithm2.20.20.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.20.20.3" style="color:#000000;">   </span><math alttext="\textit{cycle\_cnt}\leftarrow\textit{cycle\_cnt}+1" class="ltx_Math" display="inline" id="algorithm2.20.20.m1.1"><semantics id="algorithm2.20.20.m1.1a"><mrow id="algorithm2.20.20.m1.1.1" xref="algorithm2.20.20.m1.1.1.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm2.20.20.m1.1.1.2" mathcolor="#000000" xref="algorithm2.20.20.m1.1.1.2a.cmml">cycle_cnt</mtext><mo id="algorithm2.20.20.m1.1.1.1" mathcolor="#000000" stretchy="false" xref="algorithm2.20.20.m1.1.1.1.cmml">←</mo><mrow id="algorithm2.20.20.m1.1.1.3" xref="algorithm2.20.20.m1.1.1.3.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm2.20.20.m1.1.1.3.2" mathcolor="#000000" xref="algorithm2.20.20.m1.1.1.3.2a.cmml">cycle_cnt</mtext><mo id="algorithm2.20.20.m1.1.1.3.1" mathcolor="#000000" xref="algorithm2.20.20.m1.1.1.3.1.cmml">+</mo><mn id="algorithm2.20.20.m1.1.1.3.3" mathcolor="#000000" xref="algorithm2.20.20.m1.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.20.20.m1.1b"><apply id="algorithm2.20.20.m1.1.1.cmml" xref="algorithm2.20.20.m1.1.1"><ci id="algorithm2.20.20.m1.1.1.1.cmml" xref="algorithm2.20.20.m1.1.1.1">←</ci><ci id="algorithm2.20.20.m1.1.1.2a.cmml" xref="algorithm2.20.20.m1.1.1.2"><mtext class="ltx_mathvariant_italic" id="algorithm2.20.20.m1.1.1.2.cmml" xref="algorithm2.20.20.m1.1.1.2">cycle_cnt</mtext></ci><apply id="algorithm2.20.20.m1.1.1.3.cmml" xref="algorithm2.20.20.m1.1.1.3"><plus id="algorithm2.20.20.m1.1.1.3.1.cmml" xref="algorithm2.20.20.m1.1.1.3.1"></plus><ci id="algorithm2.20.20.m1.1.1.3.2a.cmml" xref="algorithm2.20.20.m1.1.1.3.2"><mtext class="ltx_mathvariant_italic" id="algorithm2.20.20.m1.1.1.3.2.cmml" xref="algorithm2.20.20.m1.1.1.3.2">cycle_cnt</mtext></ci><cn id="algorithm2.20.20.m1.1.1.3.3.cmml" type="integer" xref="algorithm2.20.20.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.20.20.m1.1c">\textit{cycle\_cnt}\leftarrow\textit{cycle\_cnt}+1</annotation><annotation encoding="application/x-llamapun" id="algorithm2.20.20.m1.1d">cycle_cnt ← cycle_cnt + 1</annotation></semantics></math><span class="ltx_text" id="algorithm2.20.20.4" style="color:#000000;">
</span>
</div>
<div class="ltx_listingline" id="algorithm2.21.21">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.21.21.2.1.1" style="color:#000000;">20</span></span><span class="ltx_text ltx_font_bold" id="algorithm2.21.21.3" style="color:#000000;">for</span><span class="ltx_text" id="algorithm2.21.21.4" style="color:#000000;"> </span><em class="ltx_emph ltx_font_italic" id="algorithm2.21.21.1" style="color:#000000;"><math alttext="g\in\textit{Goods}" class="ltx_Math" display="inline" id="algorithm2.21.21.1.m1.1"><semantics id="algorithm2.21.21.1.m1.1a"><mrow id="algorithm2.21.21.1.m1.1.1" xref="algorithm2.21.21.1.m1.1.1.cmml"><mi id="algorithm2.21.21.1.m1.1.1.2" mathcolor="#000000" xref="algorithm2.21.21.1.m1.1.1.2.cmml">g</mi><mo id="algorithm2.21.21.1.m1.1.1.1" mathcolor="#000000" xref="algorithm2.21.21.1.m1.1.1.1.cmml">∈</mo><mtext class="ltx_mathvariant_italic" id="algorithm2.21.21.1.m1.1.1.3" mathcolor="#000000" xref="algorithm2.21.21.1.m1.1.1.3a.cmml">Goods</mtext></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.21.21.1.m1.1b"><apply id="algorithm2.21.21.1.m1.1.1.cmml" xref="algorithm2.21.21.1.m1.1.1"><in id="algorithm2.21.21.1.m1.1.1.1.cmml" xref="algorithm2.21.21.1.m1.1.1.1"></in><ci id="algorithm2.21.21.1.m1.1.1.2.cmml" xref="algorithm2.21.21.1.m1.1.1.2">𝑔</ci><ci id="algorithm2.21.21.1.m1.1.1.3a.cmml" xref="algorithm2.21.21.1.m1.1.1.3"><mtext class="ltx_mathvariant_italic" id="algorithm2.21.21.1.m1.1.1.3.cmml" mathcolor="#000000" xref="algorithm2.21.21.1.m1.1.1.3">Goods</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.21.21.1.m1.1c">g\in\textit{Goods}</annotation><annotation encoding="application/x-llamapun" id="algorithm2.21.21.1.m1.1d">italic_g ∈ Goods</annotation></semantics></math></em><span class="ltx_text" id="algorithm2.21.21.5" style="color:#000000;"> </span><span class="ltx_text ltx_font_bold" id="algorithm2.21.21.6" style="color:#000000;">do</span>
</div>
<div class="ltx_listingline" id="algorithm2.22.22">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.22.22.1.1.1" style="color:#000000;">21</span></span><span class="ltx_text" id="algorithm2.22.22.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.22.22.3" style="color:#000000;">   </span><span class="ltx_text" id="algorithm2.22.22.4" style="color:#000000;">
</span><math alttext="CP(g)\leftarrow BP(g)\cdot(1+0.75\cdot\frac{\textit{TD}(g)-\textit{TS}(g)}{%
\textit{max}(\textit{TD}(g),\textit{TS}(g))})" class="ltx_Math" display="inline" id="algorithm2.22.22.m1.9"><semantics id="algorithm2.22.22.m1.9a"><mrow id="algorithm2.22.22.m1.9.9" xref="algorithm2.22.22.m1.9.9.cmml"><mrow id="algorithm2.22.22.m1.9.9.3" xref="algorithm2.22.22.m1.9.9.3.cmml"><mi id="algorithm2.22.22.m1.9.9.3.2" mathcolor="#000000" xref="algorithm2.22.22.m1.9.9.3.2.cmml">C</mi><mo id="algorithm2.22.22.m1.9.9.3.1" xref="algorithm2.22.22.m1.9.9.3.1.cmml">⁢</mo><mi id="algorithm2.22.22.m1.9.9.3.3" mathcolor="#000000" xref="algorithm2.22.22.m1.9.9.3.3.cmml">P</mi><mo id="algorithm2.22.22.m1.9.9.3.1a" xref="algorithm2.22.22.m1.9.9.3.1.cmml">⁢</mo><mrow id="algorithm2.22.22.m1.9.9.3.4.2" xref="algorithm2.22.22.m1.9.9.3.cmml"><mo id="algorithm2.22.22.m1.9.9.3.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.9.9.3.cmml">(</mo><mi id="algorithm2.22.22.m1.7.7" mathcolor="#000000" xref="algorithm2.22.22.m1.7.7.cmml">g</mi><mo id="algorithm2.22.22.m1.9.9.3.4.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.9.9.3.cmml">)</mo></mrow></mrow><mo id="algorithm2.22.22.m1.9.9.2" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.9.9.2.cmml">←</mo><mrow id="algorithm2.22.22.m1.9.9.1" xref="algorithm2.22.22.m1.9.9.1.cmml"><mrow id="algorithm2.22.22.m1.9.9.1.3" xref="algorithm2.22.22.m1.9.9.1.3.cmml"><mi id="algorithm2.22.22.m1.9.9.1.3.2" mathcolor="#000000" xref="algorithm2.22.22.m1.9.9.1.3.2.cmml">B</mi><mo id="algorithm2.22.22.m1.9.9.1.3.1" xref="algorithm2.22.22.m1.9.9.1.3.1.cmml">⁢</mo><mi id="algorithm2.22.22.m1.9.9.1.3.3" mathcolor="#000000" xref="algorithm2.22.22.m1.9.9.1.3.3.cmml">P</mi><mo id="algorithm2.22.22.m1.9.9.1.3.1a" xref="algorithm2.22.22.m1.9.9.1.3.1.cmml">⁢</mo><mrow id="algorithm2.22.22.m1.9.9.1.3.4.2" xref="algorithm2.22.22.m1.9.9.1.3.cmml"><mo id="algorithm2.22.22.m1.9.9.1.3.4.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.9.9.1.3.cmml">(</mo><mi id="algorithm2.22.22.m1.8.8" mathcolor="#000000" xref="algorithm2.22.22.m1.8.8.cmml">g</mi><mo id="algorithm2.22.22.m1.9.9.1.3.4.2.2" mathcolor="#000000" rspace="0.055em" stretchy="false" xref="algorithm2.22.22.m1.9.9.1.3.cmml">)</mo></mrow></mrow><mo id="algorithm2.22.22.m1.9.9.1.2" mathcolor="#000000" rspace="0.222em" xref="algorithm2.22.22.m1.9.9.1.2.cmml">⋅</mo><mrow id="algorithm2.22.22.m1.9.9.1.1.1" xref="algorithm2.22.22.m1.9.9.1.1.1.1.cmml"><mo id="algorithm2.22.22.m1.9.9.1.1.1.2" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.9.9.1.1.1.1.cmml">(</mo><mrow id="algorithm2.22.22.m1.9.9.1.1.1.1" xref="algorithm2.22.22.m1.9.9.1.1.1.1.cmml"><mn id="algorithm2.22.22.m1.9.9.1.1.1.1.2" mathcolor="#000000" xref="algorithm2.22.22.m1.9.9.1.1.1.1.2.cmml">1</mn><mo id="algorithm2.22.22.m1.9.9.1.1.1.1.1" mathcolor="#000000" xref="algorithm2.22.22.m1.9.9.1.1.1.1.1.cmml">+</mo><mrow id="algorithm2.22.22.m1.9.9.1.1.1.1.3" xref="algorithm2.22.22.m1.9.9.1.1.1.1.3.cmml"><mn id="algorithm2.22.22.m1.9.9.1.1.1.1.3.2" mathcolor="#000000" xref="algorithm2.22.22.m1.9.9.1.1.1.1.3.2.cmml">0.75</mn><mo id="algorithm2.22.22.m1.9.9.1.1.1.1.3.1" lspace="0.222em" mathcolor="#000000" rspace="0.222em" xref="algorithm2.22.22.m1.9.9.1.1.1.1.3.1.cmml">⋅</mo><mfrac id="algorithm2.22.22.m1.6.6" mathcolor="#000000" xref="algorithm2.22.22.m1.6.6.cmml"><mrow id="algorithm2.22.22.m1.2.2.2" xref="algorithm2.22.22.m1.2.2.2.cmml"><mrow id="algorithm2.22.22.m1.2.2.2.4" xref="algorithm2.22.22.m1.2.2.2.4.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm2.22.22.m1.2.2.2.4.2" mathcolor="#000000" xref="algorithm2.22.22.m1.2.2.2.4.2a.cmml">TD</mtext><mo id="algorithm2.22.22.m1.2.2.2.4.1" xref="algorithm2.22.22.m1.2.2.2.4.1.cmml">⁢</mo><mrow id="algorithm2.22.22.m1.2.2.2.4.3.2" xref="algorithm2.22.22.m1.2.2.2.4.cmml"><mo id="algorithm2.22.22.m1.2.2.2.4.3.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.2.2.2.4.cmml">(</mo><mi id="algorithm2.22.22.m1.1.1.1.1" mathcolor="#000000" xref="algorithm2.22.22.m1.1.1.1.1.cmml">g</mi><mo id="algorithm2.22.22.m1.2.2.2.4.3.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.2.2.2.4.cmml">)</mo></mrow></mrow><mo id="algorithm2.22.22.m1.2.2.2.3" mathcolor="#000000" xref="algorithm2.22.22.m1.2.2.2.3.cmml">−</mo><mrow id="algorithm2.22.22.m1.2.2.2.5" xref="algorithm2.22.22.m1.2.2.2.5.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm2.22.22.m1.2.2.2.5.2" mathcolor="#000000" xref="algorithm2.22.22.m1.2.2.2.5.2a.cmml">TS</mtext><mo id="algorithm2.22.22.m1.2.2.2.5.1" xref="algorithm2.22.22.m1.2.2.2.5.1.cmml">⁢</mo><mrow id="algorithm2.22.22.m1.2.2.2.5.3.2" xref="algorithm2.22.22.m1.2.2.2.5.cmml"><mo id="algorithm2.22.22.m1.2.2.2.5.3.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.2.2.2.5.cmml">(</mo><mi id="algorithm2.22.22.m1.2.2.2.2" mathcolor="#000000" xref="algorithm2.22.22.m1.2.2.2.2.cmml">g</mi><mo id="algorithm2.22.22.m1.2.2.2.5.3.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.2.2.2.5.cmml">)</mo></mrow></mrow></mrow><mrow id="algorithm2.22.22.m1.6.6.6" xref="algorithm2.22.22.m1.6.6.6.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm2.22.22.m1.6.6.6.6" mathcolor="#000000" xref="algorithm2.22.22.m1.6.6.6.6a.cmml">max</mtext><mo id="algorithm2.22.22.m1.6.6.6.5" xref="algorithm2.22.22.m1.6.6.6.5.cmml">⁢</mo><mrow id="algorithm2.22.22.m1.6.6.6.4.2" xref="algorithm2.22.22.m1.6.6.6.4.3.cmml"><mo id="algorithm2.22.22.m1.6.6.6.4.2.3" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.6.6.6.4.3.cmml">(</mo><mrow id="algorithm2.22.22.m1.5.5.5.3.1.1" xref="algorithm2.22.22.m1.5.5.5.3.1.1.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm2.22.22.m1.5.5.5.3.1.1.2" mathcolor="#000000" xref="algorithm2.22.22.m1.5.5.5.3.1.1.2a.cmml">TD</mtext><mo id="algorithm2.22.22.m1.5.5.5.3.1.1.1" xref="algorithm2.22.22.m1.5.5.5.3.1.1.1.cmml">⁢</mo><mrow id="algorithm2.22.22.m1.5.5.5.3.1.1.3.2" xref="algorithm2.22.22.m1.5.5.5.3.1.1.cmml"><mo id="algorithm2.22.22.m1.5.5.5.3.1.1.3.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.5.5.5.3.1.1.cmml">(</mo><mi id="algorithm2.22.22.m1.3.3.3.1" mathcolor="#000000" xref="algorithm2.22.22.m1.3.3.3.1.cmml">g</mi><mo id="algorithm2.22.22.m1.5.5.5.3.1.1.3.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.5.5.5.3.1.1.cmml">)</mo></mrow></mrow><mo id="algorithm2.22.22.m1.6.6.6.4.2.4" mathcolor="#000000" xref="algorithm2.22.22.m1.6.6.6.4.3.cmml">,</mo><mrow id="algorithm2.22.22.m1.6.6.6.4.2.2" xref="algorithm2.22.22.m1.6.6.6.4.2.2.cmml"><mtext class="ltx_mathvariant_italic" id="algorithm2.22.22.m1.6.6.6.4.2.2.2" mathcolor="#000000" xref="algorithm2.22.22.m1.6.6.6.4.2.2.2a.cmml">TS</mtext><mo id="algorithm2.22.22.m1.6.6.6.4.2.2.1" xref="algorithm2.22.22.m1.6.6.6.4.2.2.1.cmml">⁢</mo><mrow id="algorithm2.22.22.m1.6.6.6.4.2.2.3.2" xref="algorithm2.22.22.m1.6.6.6.4.2.2.cmml"><mo id="algorithm2.22.22.m1.6.6.6.4.2.2.3.2.1" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.6.6.6.4.2.2.cmml">(</mo><mi id="algorithm2.22.22.m1.4.4.4.2" mathcolor="#000000" xref="algorithm2.22.22.m1.4.4.4.2.cmml">g</mi><mo id="algorithm2.22.22.m1.6.6.6.4.2.2.3.2.2" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.6.6.6.4.2.2.cmml">)</mo></mrow></mrow><mo id="algorithm2.22.22.m1.6.6.6.4.2.5" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.6.6.6.4.3.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="algorithm2.22.22.m1.9.9.1.1.1.3" mathcolor="#000000" stretchy="false" xref="algorithm2.22.22.m1.9.9.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.22.22.m1.9b"><apply id="algorithm2.22.22.m1.9.9.cmml" xref="algorithm2.22.22.m1.9.9"><ci id="algorithm2.22.22.m1.9.9.2.cmml" xref="algorithm2.22.22.m1.9.9.2">←</ci><apply id="algorithm2.22.22.m1.9.9.3.cmml" xref="algorithm2.22.22.m1.9.9.3"><times id="algorithm2.22.22.m1.9.9.3.1.cmml" xref="algorithm2.22.22.m1.9.9.3.1"></times><ci id="algorithm2.22.22.m1.9.9.3.2.cmml" xref="algorithm2.22.22.m1.9.9.3.2">𝐶</ci><ci id="algorithm2.22.22.m1.9.9.3.3.cmml" xref="algorithm2.22.22.m1.9.9.3.3">𝑃</ci><ci id="algorithm2.22.22.m1.7.7.cmml" xref="algorithm2.22.22.m1.7.7">𝑔</ci></apply><apply id="algorithm2.22.22.m1.9.9.1.cmml" xref="algorithm2.22.22.m1.9.9.1"><ci id="algorithm2.22.22.m1.9.9.1.2.cmml" xref="algorithm2.22.22.m1.9.9.1.2">⋅</ci><apply id="algorithm2.22.22.m1.9.9.1.3.cmml" xref="algorithm2.22.22.m1.9.9.1.3"><times id="algorithm2.22.22.m1.9.9.1.3.1.cmml" xref="algorithm2.22.22.m1.9.9.1.3.1"></times><ci id="algorithm2.22.22.m1.9.9.1.3.2.cmml" xref="algorithm2.22.22.m1.9.9.1.3.2">𝐵</ci><ci id="algorithm2.22.22.m1.9.9.1.3.3.cmml" xref="algorithm2.22.22.m1.9.9.1.3.3">𝑃</ci><ci id="algorithm2.22.22.m1.8.8.cmml" xref="algorithm2.22.22.m1.8.8">𝑔</ci></apply><apply id="algorithm2.22.22.m1.9.9.1.1.1.1.cmml" xref="algorithm2.22.22.m1.9.9.1.1.1"><plus id="algorithm2.22.22.m1.9.9.1.1.1.1.1.cmml" xref="algorithm2.22.22.m1.9.9.1.1.1.1.1"></plus><cn id="algorithm2.22.22.m1.9.9.1.1.1.1.2.cmml" type="integer" xref="algorithm2.22.22.m1.9.9.1.1.1.1.2">1</cn><apply id="algorithm2.22.22.m1.9.9.1.1.1.1.3.cmml" xref="algorithm2.22.22.m1.9.9.1.1.1.1.3"><ci id="algorithm2.22.22.m1.9.9.1.1.1.1.3.1.cmml" xref="algorithm2.22.22.m1.9.9.1.1.1.1.3.1">⋅</ci><cn id="algorithm2.22.22.m1.9.9.1.1.1.1.3.2.cmml" type="float" xref="algorithm2.22.22.m1.9.9.1.1.1.1.3.2">0.75</cn><apply id="algorithm2.22.22.m1.6.6.cmml" xref="algorithm2.22.22.m1.6.6"><divide id="algorithm2.22.22.m1.6.6.7.cmml" xref="algorithm2.22.22.m1.6.6"></divide><apply id="algorithm2.22.22.m1.2.2.2.cmml" xref="algorithm2.22.22.m1.2.2.2"><minus id="algorithm2.22.22.m1.2.2.2.3.cmml" xref="algorithm2.22.22.m1.2.2.2.3"></minus><apply id="algorithm2.22.22.m1.2.2.2.4.cmml" xref="algorithm2.22.22.m1.2.2.2.4"><times id="algorithm2.22.22.m1.2.2.2.4.1.cmml" xref="algorithm2.22.22.m1.2.2.2.4.1"></times><ci id="algorithm2.22.22.m1.2.2.2.4.2a.cmml" xref="algorithm2.22.22.m1.2.2.2.4.2"><mtext class="ltx_mathvariant_italic" id="algorithm2.22.22.m1.2.2.2.4.2.cmml" mathsize="70%" xref="algorithm2.22.22.m1.2.2.2.4.2">TD</mtext></ci><ci id="algorithm2.22.22.m1.1.1.1.1.cmml" xref="algorithm2.22.22.m1.1.1.1.1">𝑔</ci></apply><apply id="algorithm2.22.22.m1.2.2.2.5.cmml" xref="algorithm2.22.22.m1.2.2.2.5"><times id="algorithm2.22.22.m1.2.2.2.5.1.cmml" xref="algorithm2.22.22.m1.2.2.2.5.1"></times><ci id="algorithm2.22.22.m1.2.2.2.5.2a.cmml" xref="algorithm2.22.22.m1.2.2.2.5.2"><mtext class="ltx_mathvariant_italic" id="algorithm2.22.22.m1.2.2.2.5.2.cmml" mathsize="70%" xref="algorithm2.22.22.m1.2.2.2.5.2">TS</mtext></ci><ci id="algorithm2.22.22.m1.2.2.2.2.cmml" xref="algorithm2.22.22.m1.2.2.2.2">𝑔</ci></apply></apply><apply id="algorithm2.22.22.m1.6.6.6.cmml" xref="algorithm2.22.22.m1.6.6.6"><times id="algorithm2.22.22.m1.6.6.6.5.cmml" xref="algorithm2.22.22.m1.6.6.6.5"></times><ci id="algorithm2.22.22.m1.6.6.6.6a.cmml" xref="algorithm2.22.22.m1.6.6.6.6"><mtext class="ltx_mathvariant_italic" id="algorithm2.22.22.m1.6.6.6.6.cmml" mathsize="70%" xref="algorithm2.22.22.m1.6.6.6.6">max</mtext></ci><interval closure="open" id="algorithm2.22.22.m1.6.6.6.4.3.cmml" xref="algorithm2.22.22.m1.6.6.6.4.2"><apply id="algorithm2.22.22.m1.5.5.5.3.1.1.cmml" xref="algorithm2.22.22.m1.5.5.5.3.1.1"><times id="algorithm2.22.22.m1.5.5.5.3.1.1.1.cmml" xref="algorithm2.22.22.m1.5.5.5.3.1.1.1"></times><ci id="algorithm2.22.22.m1.5.5.5.3.1.1.2a.cmml" xref="algorithm2.22.22.m1.5.5.5.3.1.1.2"><mtext class="ltx_mathvariant_italic" id="algorithm2.22.22.m1.5.5.5.3.1.1.2.cmml" mathsize="70%" xref="algorithm2.22.22.m1.5.5.5.3.1.1.2">TD</mtext></ci><ci id="algorithm2.22.22.m1.3.3.3.1.cmml" xref="algorithm2.22.22.m1.3.3.3.1">𝑔</ci></apply><apply id="algorithm2.22.22.m1.6.6.6.4.2.2.cmml" xref="algorithm2.22.22.m1.6.6.6.4.2.2"><times id="algorithm2.22.22.m1.6.6.6.4.2.2.1.cmml" xref="algorithm2.22.22.m1.6.6.6.4.2.2.1"></times><ci id="algorithm2.22.22.m1.6.6.6.4.2.2.2a.cmml" xref="algorithm2.22.22.m1.6.6.6.4.2.2.2"><mtext class="ltx_mathvariant_italic" id="algorithm2.22.22.m1.6.6.6.4.2.2.2.cmml" mathsize="70%" xref="algorithm2.22.22.m1.6.6.6.4.2.2.2">TS</mtext></ci><ci id="algorithm2.22.22.m1.4.4.4.2.cmml" xref="algorithm2.22.22.m1.4.4.4.2">𝑔</ci></apply></interval></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.22.22.m1.9c">CP(g)\leftarrow BP(g)\cdot(1+0.75\cdot\frac{\textit{TD}(g)-\textit{TS}(g)}{%
\textit{max}(\textit{TD}(g),\textit{TS}(g))})</annotation><annotation encoding="application/x-llamapun" id="algorithm2.22.22.m1.9d">italic_C italic_P ( italic_g ) ← italic_B italic_P ( italic_g ) ⋅ ( 1 + 0.75 ⋅ divide start_ARG TD ( italic_g ) - TS ( italic_g ) end_ARG start_ARG max ( TD ( italic_g ) , TS ( italic_g ) ) end_ARG )</annotation></semantics></math><span class="ltx_text" id="algorithm2.22.22.5" style="color:#000000;">
  /* Eq. (</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3.E6" style="color:#000000;" title="In 3.2 Building scenario ‣ 3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">6</span></a><span class="ltx_text" id="algorithm2.22.22.6" style="color:#000000;">)*/ </span>
</div>
<div class="ltx_listingline" id="algorithm2.23.25">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="algorithm2.23.25.1.1.1" style="color:#000000;">22</span></span><span class="ltx_text" id="algorithm2.23.25.2" style="color:#000000;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span class="ltx_text" id="algorithm2.23.25.3" style="color:#000000;">   </span><span class="ltx_text" id="algorithm2.23.25.4" style="color:#000000;">
</span>
</div>
<div class="ltx_listingline" id="algorithm2.23.23">
<span class="ltx_text ltx_font_bold" id="algorithm2.23.23.1" style="color:#000000;">return</span><span class="ltx_text" id="algorithm2.23.23.2" style="color:#000000;"> </span><math alttext="D" class="ltx_Math" display="inline" id="algorithm2.23.23.m1.1"><semantics id="algorithm2.23.23.m1.1a"><mi id="algorithm2.23.23.m1.1.1" mathcolor="#000000" xref="algorithm2.23.23.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="algorithm2.23.23.m1.1b"><ci id="algorithm2.23.23.m1.1.1.cmml" xref="algorithm2.23.23.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.23.23.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="algorithm2.23.23.m1.1d">italic_D</annotation></semantics></math><span class="ltx_text" id="algorithm2.23.23.3" style="color:#000000;">
</span>
</div>
</div>
<figcaption class="ltx_caption" style="color:#000000;"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="algorithm2.27.1.1">Algorithm 2</span> </span>Building simulator</figcaption>
</figure>
</section>
</section>
<section class="ltx_subsection" id="A1.SS5">
<h3 class="ltx_title ltx_title_subsection" style="color:#000000;">
<span class="ltx_tag ltx_tag_subsection">A.5 </span>Business rules in DQA</h3>
<div class="ltx_para" id="A1.SS5.p1">
<p class="ltx_p" id="A1.SS5.p1.1"><span class="ltx_text" id="A1.SS5.p1.1.1" style="color:#000000;">Figure </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.F7" style="color:#000000;" title="Figure 7 ‣ A.5 Business rules in DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">7</span></a><span class="ltx_text" id="A1.SS5.p1.1.2" style="color:#000000;"> shows the business rules </span><math alttext="R" class="ltx_Math" display="inline" id="A1.SS5.p1.1.m1.1"><semantics id="A1.SS5.p1.1.m1.1a"><mi id="A1.SS5.p1.1.m1.1.1" mathcolor="#000000" xref="A1.SS5.p1.1.m1.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="A1.SS5.p1.1.m1.1b"><ci id="A1.SS5.p1.1.m1.1.1.cmml" xref="A1.SS5.p1.1.m1.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS5.p1.1.m1.1c">R</annotation><annotation encoding="application/x-llamapun" id="A1.SS5.p1.1.m1.1d">italic_R</annotation></semantics></math><span class="ltx_text" id="A1.SS5.p1.1.3" style="color:#000000;"> used as LM’s input in Locating and Building.
These are textual descriptions of the contents in Section </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S3" style="color:#000000;" title="3 DQA: Decision QA benchmark ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">3</span></a><span class="ltx_text" id="A1.SS5.p1.1.4" style="color:#000000;">.</span></p>
</div>
<figure class="ltx_figure" id="A1.F7">
<p class="ltx_p ltx_align_center" id="A1.F7.1">
<span class="ltx_inline-block ltx_minipage ltx_align_middle ltx_framed ltx_framed_rectangle" id="A1.F7.1.1" style="width:240.0pt;">
<span class="ltx_p" id="A1.F7.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.F7.1.1.1.1" style="color:#000000;">(a)</span><span class="ltx_text" id="A1.F7.1.1.1.2" style="color:#000000;">
A "Trading node" has a "local_value", "total_power", "outgoing", "ingoing" and **whether it’s inland**. A "Country" has a "name", "development" and a "home_node" (home node). Between "Trading nodes“, there can be a directional edge [source]. It connects from a higher node to a lower node. A "Country" can have a non-directional connection to a trading node. Each connection has a unique "base_trading_power" for each node.
If a specific node is the home node of a country, that country earns profit from that node. The profit is proportional to the "local_value" plus "ingoing" and the ratio of the country’s trading power and the total trading power of that node. i.e. (local_value+ingoing)*(country_trading_power / total_trading_power)</span></span>
<span class="ltx_p" id="A1.F7.1.1.2"><span class="ltx_text" id="A1.F7.1.1.2.1" style="color:#000000;">If a specific node is source of a country’s home node, the country moves a value to dest node, proportional to the ratio of the country’s trading power to the node’s total trading power and (local_value + ingoing). In the dest node, the moved value is increased by 1.05 times and added to the ingoing. A "Merchant" belongs to a country and can be assigned to a specific trading node. A "Merchant" belonging to a trading node adds 2 to the trading power of the country’s trading node and amplifies it by 1.05 times. *If one of the edges has an inland node, the added value changes to 2+max(development/3, 50). (optional)* If a specific trading node has more than one dest node, and a country that doesn’t have that node as its home node places a "Merchant" on the Trading node, it can decide which dest node to move the "current_value" to. That is, the country can move a "current_value" proportional to its trading power to a specific dest node. If no merchant is placed, when there’s more than one dest node, they lose the right to decide the direction. In other words, the country’s "current_value" proportional to its trading power flows out in proportion to other outflows to the dest nodes. If there’s only one dest node, it doesn’t matter.</span></span>
</span><span class="ltx_text" id="A1.F7.1.2" style="color:#000000;">
</span>
<span class="ltx_inline-block ltx_minipage ltx_align_middle ltx_framed ltx_framed_rectangle" id="A1.F7.1.3" style="width:240.0pt;">
<span class="ltx_p" id="A1.F7.1.3.1"><span class="ltx_text ltx_font_bold" id="A1.F7.1.3.1.1" style="color:#000000;">(b)</span><span class="ltx_text" id="A1.F7.1.3.1.2" style="color:#000000;">
Goods have a "name", corresponding "code", "base_price", "current_price", and "pop_demand". Buildings have a unique "id" and a "name" and "level" corresponding to their type. There exists a relation called Supply from Buildings to Goods. Supply has "max_supply", "current_output", and "level". The level here is the same as the level of the Building. Furthermore, max_supply and level have a proportional relationship. There exists a relation called Demand from Goods to Buildings. Demand has "max_demand", "current_input", and "level". Also, max_demand and level have a proportional relationship. The demand of Goods is defined as the Goods’ "pop_demand" plus sum of the "max_demand" of all Demands connected to the Goods. The supply of Goods is defined by the sum of "current_output" of all Supplies connected to Goods. The "current_input" of Demand is determined by the ratio of connected Building’s "max_demand" to connected Goods’ demand, and multiplied by the supply of Goods. The "current_output" of Supply is determined by the average ratio of the connected Building’s "current_input" to connected Goods’ "max_demand", and multiplied by the "max_supply" of Supply. The "current_price" of Goods is determined by base_price*(1+0.75(demand-supply)/max(demand,supply)).</span></span>
</span><span class="ltx_text" id="A1.F7.1.4" style="color:#000000;"></span></p>
<figcaption class="ltx_caption ltx_centering" style="color:#000000;"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Business rules for (a) Locating and (b) Building.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A1.SS6">
<h3 class="ltx_title ltx_title_subsection" style="color:#000000;">
<span class="ltx_tag ltx_tag_subsection">A.6 </span>Prompts for DQA</h3>
<section class="ltx_subsubsection" id="A1.SS6.SSS1">
<h4 class="ltx_title ltx_title_subsubsection" style="color:#000000;">
<span class="ltx_tag ltx_tag_subsubsection">A.6.1 </span>Previous RAG-based LMs</h4>
<div class="ltx_para" id="A1.SS6.SSS1.p1">
<p class="ltx_p" id="A1.SS6.SSS1.p1.1"><span class="ltx_text" id="A1.SS6.SSS1.p1.1.1" style="color:#000000;">Figure </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.F8" style="color:#000000;" title="Figure 8 ‣ A.6.1 Previous RAG-based LMs ‣ A.6 Prompts for DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">8</span></a><span class="ltx_text" id="A1.SS6.SSS1.p1.1.2" style="color:#000000;"> and </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.F9" style="color:#000000;" title="Figure 9 ‣ A.6.1 Previous RAG-based LMs ‣ A.6 Prompts for DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">9</span></a><span class="ltx_text" id="A1.SS6.SSS1.p1.1.3" style="color:#000000;"> show an example of the prompts used for the single-turn RAG-based decision maker, SingleRAG-LM, in the Locating scenario with GDB setting.
Figure </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.F10" style="color:#000000;" title="Figure 10 ‣ A.6.1 Previous RAG-based LMs ‣ A.6 Prompts for DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">10</span></a><span class="ltx_text" id="A1.SS6.SSS1.p1.1.4" style="color:#000000;"> shows an example of the prompt used for the iterative RAG-based decision maker, IterRAG-LM, in the Locating scenario with GDB setting.
Those prompts are based on the structure of ReAct, ‘Thought’-‘Action’-‘Observation’.</span></p>
</div>
<figure class="ltx_figure" id="A1.F8"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="1164" id="A1.F8.g1" src="x9.png" width="830"/>
<figcaption class="ltx_caption ltx_centering" style="color:#000000;"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Retrieval prompt for a single-turn RAG technique on GDB case in Locating scenario.</figcaption>
</figure>
<figure class="ltx_figure" id="A1.F9"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="890" id="A1.F9.g1" src="x10.png" width="830"/>
<figcaption class="ltx_caption ltx_centering" style="color:#000000;"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Answer generation prompt for a single-turn RAG technique on GDB case in Locating scenario.</figcaption>
</figure>
<figure class="ltx_figure" id="A1.F10"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="1266" id="A1.F10.g1" src="x11.png" width="830"/>
<figcaption class="ltx_caption ltx_centering" style="color:#000000;"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>Prompt for an iterative RAG technique on GDB case in Locating scenario.</figcaption>
</figure>
</section>
<section class="ltx_subsubsection" id="A1.SS6.SSS2">
<h4 class="ltx_title ltx_title_subsubsection" style="color:#000000;">
<span class="ltx_tag ltx_tag_subsubsection">A.6.2 </span>PlanRAG-based LM</h4>
<div class="ltx_para" id="A1.SS6.SSS2.p1">
<p class="ltx_p" id="A1.SS6.SSS2.p1.1"><span class="ltx_text" id="A1.SS6.SSS2.p1.1.1" style="color:#000000;">The prompt used to implement our PlanRAG-based decision maker, PlanRAG-LM, has a structure of ‘Plan’-‘Thought’-‘Action’-‘Observation’-‘Re-plan’.
Figure </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.F11" style="color:#000000;" title="Figure 11 ‣ A.6.2 PlanRAG-based LM ‣ A.6 Prompts for DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">11</span></a><span class="ltx_text" id="A1.SS6.SSS2.p1.1.2" style="color:#000000;"> shows an example of the prompt for Locating scenario with GDB setting.
The prompt structure was designed empirically through experiments conducted on both DQA scenarios.</span></p>
</div>
<div class="ltx_para" id="A1.SS6.SSS2.p2">
<p class="ltx_p" id="A1.SS6.SSS2.p2.1"><span class="ltx_text" id="A1.SS6.SSS2.p2.1.1" style="color:#000000;">In the experiments, we also considered the following two variations of the prompt structure:
(1) Act without additional reasoning about a current step after planning (i.e., ‘Plan’-‘Action’-‘Observation’-‘Re-plan’),
(2) Reason about planning in advance (i.e., ‘Thought’-‘Plan’-‘Action’-‘Observation’-‘Re-plan’).
The experiments were conducted by the same setup as in Section 5.1, using GPT-4 with zero temperature as base LMs in a zero-shot setting.</span></p>
</div>
<div class="ltx_para" id="A1.SS6.SSS2.p3">
<p class="ltx_p" id="A1.SS6.SSS2.p3.1"><span class="ltx_text" id="A1.SS6.SSS2.p3.1.1" style="color:#000000;">Table </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.T10" style="color:#000000;" title="Table 10 ‣ A.6.2 PlanRAG-based LM ‣ A.6 Prompts for DQA ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">10</span></a><span class="ltx_text" id="A1.SS6.SSS2.p3.1.2" style="color:#000000;"> shows the experimental results of the prompt structure of PlanRAG-LM, two aforementioned variations of that, and the ReAct prompt structure of IterRAG for 10% of questions in each DQA scenario.
Here, in each scenario, we sampled the questions randomly at 10% from each DB setting.
In the results, the prompt structure of PlanRAG-LM outperforms other baselines in both DQA scenarios.
Meanwhile, one PlanRAG-LM variation using the prompt structure of ‘Thought’-‘Plan’-‘Action’-‘Observation’-‘Re-plan’ fails to demonstrate its effectiveness.
Another variation of PlanRAG-LM shows slightly better performance than the ReAct structure.
The difference between these two results comes from whether to reason about the next action to take at each iteration, ‘Thought’, or to act based on the plan established through the planning process, ‘Plan’.
The importance and effectiveness of the process ‘Thought’ have been well discussed in several studies </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Yao et al.</span> <span class="ltx_text" id="A1.SS6.SSS2.p3.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib46" title=""><span class="ltx_text" style="color:#000000;">2023</span></a><span class="ltx_text" id="A1.SS6.SSS2.p3.1.4.2.2.1" style="color:#000000;">)</span>; <span class="ltx_text" style="color:#000000;">Wei et al.</span> <span class="ltx_text" id="A1.SS6.SSS2.p3.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib44" title=""><span class="ltx_text" style="color:#000000;">2022</span></a><span class="ltx_text" id="A1.SS6.SSS2.p3.1.4.2.2.1" style="color:#000000;">)</span></cite><span class="ltx_text" id="A1.SS6.SSS2.p3.1.5" style="color:#000000;">.
Therefore, these results can show the significance of the planning process in decision-making tasks such as Decision QA.</span></p>
</div>
<figure class="ltx_figure" id="A1.F11"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="1577" id="A1.F11.g1" src="x12.png" width="830"/>
<figcaption class="ltx_caption ltx_centering" style="color:#000000;"><span class="ltx_tag ltx_tag_figure">Figure 11: </span>Prompt for PlanRAG technique on GDB case in Locating scenario.</figcaption>
</figure>
<figure class="ltx_table" id="A1.T10">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A1.T10.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T10.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.1.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.1.1.1" style="color:#000000;">Prompt structure</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T10.1.1.1.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.1.2.1" style="color:#000000;">Locating</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T10.1.1.1.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.1.3.1" style="color:#000000;">Building</span></td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.2.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.2.2.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.2.2.1.1" style="color:#000000;">IterRAG-LM</span></td>
<td class="ltx_td ltx_border_t" id="A1.T10.1.2.2.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td ltx_border_t" id="A1.T10.1.2.2.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.3.3">
<td class="ltx_td ltx_align_left" id="A1.T10.1.3.3.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T10.1.3.3.1.1" style="color:#000000;">Thou-Act-Obs</span></td>
<td class="ltx_td ltx_align_center" id="A1.T10.1.3.3.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T10.1.3.3.2.1" style="color:#000000;">37.5</span></td>
<td class="ltx_td ltx_align_center" id="A1.T10.1.3.3.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T10.1.3.3.3.1" style="color:#000000;">30</span></td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.4.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.4.4.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.4.4.1.1" style="color:#000000;">PlanRAG-LM</span></td>
<td class="ltx_td ltx_border_t" id="A1.T10.1.4.4.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td ltx_border_t" id="A1.T10.1.4.4.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.5.5">
<td class="ltx_td ltx_align_left" id="A1.T10.1.5.5.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T10.1.5.5.1.1" style="color:#000000;">Plan-Thou-Act-Obs-Replan</span></td>
<td class="ltx_td ltx_align_center" id="A1.T10.1.5.5.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.5.5.2.1" style="color:#000000;">57.5</span></td>
<td class="ltx_td ltx_align_center" id="A1.T10.1.5.5.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.5.5.3.1" style="color:#000000;">50</span></td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.6.6">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.6.6.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.6.6.1.1" style="color:#000000;">PlanRAG-LM variations</span></td>
<td class="ltx_td ltx_border_t" id="A1.T10.1.6.6.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td ltx_border_t" id="A1.T10.1.6.6.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.7.7">
<td class="ltx_td ltx_align_left" id="A1.T10.1.7.7.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T10.1.7.7.1.1" style="color:#000000;">Plan-Act-Obs-Replan</span></td>
<td class="ltx_td ltx_align_center" id="A1.T10.1.7.7.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T10.1.7.7.2.1" style="color:#000000;">40</span></td>
<td class="ltx_td ltx_align_center" id="A1.T10.1.7.7.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T10.1.7.7.3.1" style="color:#000000;">40</span></td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.8.8">
<td class="ltx_td ltx_align_left ltx_border_b" id="A1.T10.1.8.8.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T10.1.8.8.1.1" style="color:#000000;">Thou-Plan-Act-Obs-Replan</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="A1.T10.1.8.8.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T10.1.8.8.2.1" style="color:#000000;">27.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="A1.T10.1.8.8.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T10.1.8.8.3.1" style="color:#000000;">30</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="color:#000000;"><span class="ltx_tag ltx_tag_table">Table 10: </span>Accuracy(%) of LMs for DQA by prompt structure. ‘Thou’, ‘Act’, and ‘Obs’ means ‘Thought’, ‘Action’, and ‘Observation’, respectively.</figcaption>
</figure>
</section>
</section>
<section class="ltx_subsection" id="A1.SS7">
<h3 class="ltx_title ltx_title_subsection" style="color:#000000;">
<span class="ltx_tag ltx_tag_subsection">A.7 </span>Experimenting with other models</h3>
<div class="ltx_para" id="A1.SS7.p1">
<p class="ltx_p" id="A1.SS7.p1.1"><span class="ltx_text" id="A1.SS7.p1.1.1" style="color:#000000;">In this section, we implement IterRAG-LM and PlanRAG-LM by four different models: (1) GPT-3.5</span><span class="ltx_note ltx_role_footnote" id="footnote9"><sup class="ltx_note_mark">9</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">9</sup><span class="ltx_tag ltx_tag_note">9</span>gpt-3.5-turbo-0125, which is the latest gpt-3.5 model.</span></span></span><span class="ltx_text" id="A1.SS7.p1.1.2" style="color:#000000;"> (2) Llama 2 (70B), (3) Llama 2 (13B) </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Touvron et al.</span> <span class="ltx_text" id="A1.SS7.p1.1.3.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib41" title=""><span class="ltx_text" style="color:#000000;">2023</span></a><span class="ltx_text" id="A1.SS7.p1.1.4.2.2.1" style="color:#000000;">)</span></cite><span class="ltx_text" id="A1.SS7.p1.1.5" style="color:#000000;">, and (4) Phi-2 </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Javaheripi et al.</span> <span class="ltx_text" id="A1.SS7.p1.1.6.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib20" title=""><span class="ltx_text" style="color:#000000;">2023</span></a><span class="ltx_text" id="A1.SS7.p1.1.7.2.2.1" style="color:#000000;">)</span></cite><span class="ltx_text" id="A1.SS7.p1.1.8" style="color:#000000;">.
All experiments are conducted on a single machine equipped with eight Nvidia A100 (80GB) GPUs. To accelerate inference speed, we utilize vLLM </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text" style="color:#000000;">Kwon et al.</span> <span class="ltx_text" id="A1.SS7.p1.1.9.1.1.1" style="color:#000000;">(</span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#bib.bib29" title=""><span class="ltx_text" style="color:#000000;">2023</span></a><span class="ltx_text" id="A1.SS7.p1.1.10.2.2.1" style="color:#000000;">)</span></cite><span class="ltx_text" id="A1.SS7.p1.1.11" style="color:#000000;"> library for open models inference. We set temperature to zero and 0.1 for GPT-3.5-turbo and other open models, respectively. Other settings are consistent with those described in Section </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5" style="color:#000000;" title="5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">5</span></a><span class="ltx_text" id="A1.SS7.p1.1.12" style="color:#000000;">.
We provide results of PlanRAG-LM and IterRAG-LM by four models in Table </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.T11" style="color:#000000;" title="Table 11 ‣ A.7 Experimenting with other models ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">11</span></a><span class="ltx_text" id="A1.SS7.p1.1.13" style="color:#000000;">.
In the result, PlanRAG-LM and IterRAG-LM by Llama-2 and Phi-2 models cannot solve any problems in DQA. By GPT-3.5, IterRAG-LM shows batter performance rather than PlanRAG-LM. It is because the prompt of PlanRAG is too complex for GPT-3.5 to understand instructions and generate proper answers.</span></p>
</div>
<figure class="ltx_table" id="A1.T11">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T11.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T11.1.1.1">
<td class="ltx_td ltx_border_t" id="A1.T11.1.1.1.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="2" id="A1.T11.1.1.1.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.1.1.2.1" style="color:#000000;">Locating</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="2" id="A1.T11.1.1.1.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.1.1.3.1" style="color:#000000;">Building</span></th>
</tr>
<tr class="ltx_tr" id="A1.T11.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column" id="A1.T11.1.2.2.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.2.2.1.1" style="color:#000000;">Models</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T11.1.2.2.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.2.2.2.1" style="color:#000000;">RDB</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T11.1.2.2.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.2.2.3.1" style="color:#000000;">GDB</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T11.1.2.2.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.2.2.4.1" style="color:#000000;">RDB</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="A1.T11.1.2.2.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.2.2.5.1" style="color:#000000;">GDB</span></th>
</tr>
<tr class="ltx_tr" id="A1.T11.1.3.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T11.1.3.3.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.3.3.1.1" style="color:#000000;">GPT-3.5</span></td>
<td class="ltx_td ltx_border_t" id="A1.T11.1.3.3.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td ltx_border_t" id="A1.T11.1.3.3.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td ltx_border_t" id="A1.T11.1.3.3.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td ltx_border_t" id="A1.T11.1.3.3.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.4.4">
<td class="ltx_td ltx_align_left" id="A1.T11.1.4.4.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.4.4.1.1" style="color:#000000;">IterRAG-LM</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.4.4.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.4.4.2.1" style="color:#000000;">8.0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.4.4.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.4.4.3.1" style="color:#000000;">2.5</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.4.4.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.4.4.4.1" style="color:#000000;">22.8</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.4.4.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.4.4.5.1" style="color:#000000;">3.96</span></td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.5.5">
<td class="ltx_td ltx_align_left" id="A1.T11.1.5.5.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.5.5.1.1" style="color:#000000;">PlanRAG-LM</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.5.5.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.5.5.2.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.5.5.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.5.5.3.1" style="color:#000000;">4.0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.5.5.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.5.5.4.1" style="color:#000000;">1.0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.5.5.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.5.5.5.1" style="color:#000000;">1.0</span></td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.6.6">
<td class="ltx_td ltx_align_left" id="A1.T11.1.6.6.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.6.6.1.1" style="color:#000000;">Llama 2 (70B)</span></td>
<td class="ltx_td" id="A1.T11.1.6.6.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td" id="A1.T11.1.6.6.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td" id="A1.T11.1.6.6.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td" id="A1.T11.1.6.6.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.7.7">
<td class="ltx_td ltx_align_left" id="A1.T11.1.7.7.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.7.7.1.1" style="color:#000000;">IterRAG</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.7.7.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.7.7.2.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.7.7.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.7.7.3.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.7.7.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.7.7.4.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.7.7.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.7.7.5.1" style="color:#000000;">0</span></td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.8.8">
<td class="ltx_td ltx_align_left" id="A1.T11.1.8.8.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.8.8.1.1" style="color:#000000;">PlanRAG</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.8.8.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.8.8.2.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.8.8.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.8.8.3.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.8.8.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.8.8.4.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.8.8.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.8.8.5.1" style="color:#000000;">0</span></td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.9.9">
<td class="ltx_td ltx_align_left" id="A1.T11.1.9.9.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.9.9.1.1" style="color:#000000;">Llama 2 (13B)</span></td>
<td class="ltx_td" id="A1.T11.1.9.9.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td" id="A1.T11.1.9.9.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td" id="A1.T11.1.9.9.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td" id="A1.T11.1.9.9.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.10.10">
<td class="ltx_td ltx_align_left" id="A1.T11.1.10.10.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.10.10.1.1" style="color:#000000;">IterRAG</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.10.10.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.10.10.2.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.10.10.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.10.10.3.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.10.10.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.10.10.4.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.10.10.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.10.10.5.1" style="color:#000000;">0</span></td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.11.11">
<td class="ltx_td ltx_align_left" id="A1.T11.1.11.11.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.11.11.1.1" style="color:#000000;">PlanRAG</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.11.11.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.11.11.2.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.11.11.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.11.11.3.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.11.11.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.11.11.4.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.11.11.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.11.11.5.1" style="color:#000000;">0</span></td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.12.12">
<td class="ltx_td ltx_align_left" id="A1.T11.1.12.12.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.12.12.1.1" style="color:#000000;">Phi-2</span></td>
<td class="ltx_td" id="A1.T11.1.12.12.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td" id="A1.T11.1.12.12.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td" id="A1.T11.1.12.12.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
<td class="ltx_td" id="A1.T11.1.12.12.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"></td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.13.13">
<td class="ltx_td ltx_align_left" id="A1.T11.1.13.13.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.13.13.1.1" style="color:#000000;">IterRAG</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.13.13.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.13.13.2.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.13.13.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.13.13.3.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.13.13.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.13.13.4.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center" id="A1.T11.1.13.13.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.13.13.5.1" style="color:#000000;">0</span></td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.14.14">
<td class="ltx_td ltx_align_left ltx_border_b" id="A1.T11.1.14.14.1" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.14.14.1.1" style="color:#000000;">PlanRAG</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="A1.T11.1.14.14.2" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.14.14.2.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="A1.T11.1.14.14.3" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.14.14.3.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="A1.T11.1.14.14.4" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.14.14.4.1" style="color:#000000;">0</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="A1.T11.1.14.14.5" style="padding-top:1.25pt;padding-bottom:1.25pt;"><span class="ltx_text" id="A1.T11.1.14.14.5.1" style="color:#000000;">0</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="color:#000000;"><span class="ltx_tag ltx_tag_table">Table 11: </span>Accuracy(%) of IterRAG-LM and PlanRAG-LM using several models.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A1.SS8">
<h3 class="ltx_title ltx_title_subsection" style="color:#000000;">
<span class="ltx_tag ltx_tag_subsection">A.8 </span>Re-planning cases</h3>
<div class="ltx_para" id="A1.SS8.p1">
<p class="ltx_p" id="A1.SS8.p1.1"><span class="ltx_text" id="A1.SS8.p1.1.1" style="color:#000000;">Table </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#A1.T12" style="color:#000000;" title="Table 12 ‣ A.8 Re-planning cases ‣ Appendix A Appendix ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">12</span></a><span class="ltx_text" id="A1.SS8.p1.1.2" style="color:#000000;"> presents statistics and examples of re-plannings conducted by PlanRAG-LM.
We categorized all re-planning cases into three groups: </span><span class="ltx_text ltx_font_bold" id="A1.SS8.p1.1.3" style="color:#000000;">(1) Increase</span><span class="ltx_text" id="A1.SS8.p1.1.4" style="color:#000000;">, </span><span class="ltx_text ltx_font_bold" id="A1.SS8.p1.1.5" style="color:#000000;">(2) Same</span><span class="ltx_text" id="A1.SS8.p1.1.6" style="color:#000000;">, and </span><span class="ltx_text ltx_font_bold" id="A1.SS8.p1.1.7" style="color:#000000;">(3) Decrease</span><span class="ltx_text" id="A1.SS8.p1.1.8" style="color:#000000;">, where “Increase” means the number of steps increases after re-planning compared to the original plan, “Same” means the number of steps is the same with the number of steps of the original plan, and “Decrease” means the number of steps decreases after re-planning.</span></p>
</div>
<div class="ltx_para" id="A1.SS8.p2">
<p class="ltx_p" id="A1.SS8.p2.1"><span class="ltx_text" id="A1.SS8.p2.1.1" style="color:#000000;">Each category is further divided into the following sub-categories:</span></p>
<ul class="ltx_itemize" id="A1.I3">
<li class="ltx_item" id="A1.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I3.i1.p1">
<p class="ltx_p" id="A1.I3.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I3.i1.p1.1.1" style="color:#000000;">Re-order</span><span class="ltx_text" id="A1.I3.i1.p1.1.2" style="color:#000000;"> includes cases where a sequence of steps is arranged.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I3.i2.p1">
<p class="ltx_p" id="A1.I3.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I3.i2.p1.1.1" style="color:#000000;">Replace</span><span class="ltx_text" id="A1.I3.i2.p1.1.2" style="color:#000000;"> includes cases where some steps are substituted with new steps.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I3.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I3.i3.p1">
<p class="ltx_p" id="A1.I3.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I3.i3.p1.1.1" style="color:#000000;">Change target</span><span class="ltx_text" id="A1.I3.i3.p1.1.2" style="color:#000000;"> includes cases where targets of actions, such as lookup or calculation, are changed.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I3.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I3.i4.p1">
<p class="ltx_p" id="A1.I3.i4.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I3.i4.p1.1.1" style="color:#000000;">Add look-up</span><span class="ltx_text" id="A1.I3.i4.p1.1.2" style="color:#000000;"> includes cases where new lookup actions are added to an original plan.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I3.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I3.i5.p1">
<p class="ltx_p" id="A1.I3.i5.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I3.i5.p1.1.1" style="color:#000000;">Add calculation</span><span class="ltx_text" id="A1.I3.i5.p1.1.2" style="color:#000000;"> includes cases where new calculation actions are added to an original plan.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I3.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I3.i6.p1">
<p class="ltx_p" id="A1.I3.i6.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I3.i6.p1.1.1" style="color:#000000;">Add both actions</span><span class="ltx_text" id="A1.I3.i6.p1.1.2" style="color:#000000;"> includes cases where both the lookup and the calculation actions are added to an original plan by a single re-planning process.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I3.i7" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I3.i7.p1">
<p class="ltx_p" id="A1.I3.i7.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I3.i7.p1.1.1" style="color:#000000;">Divide to sub-steps</span><span class="ltx_text" id="A1.I3.i7.p1.1.2" style="color:#000000;"> includes cases where a single step of an original plan is divided into sub-steps by breaking it down into detailed actions.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I3.i8" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I3.i8.p1">
<p class="ltx_p" id="A1.I3.i8.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I3.i8.p1.1.1" style="color:#000000;">Delete</span><span class="ltx_text" id="A1.I3.i8.p1.1.2" style="color:#000000;"> includes cases where some steps are removed from an original plan.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I3.i9" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I3.i9.p1">
<p class="ltx_p" id="A1.I3.i9.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I3.i9.p1.1.1" style="color:#000000;">Merge</span><span class="ltx_text" id="A1.I3.i9.p1.1.2" style="color:#000000;"> includes cases where some steps are summarized or merged into a single step.</span></p>
</div>
</li>
</ul>
<p class="ltx_p" id="A1.SS8.p2.2"><span class="ltx_text" id="A1.SS8.p2.2.1" style="color:#000000;">As shown in Table </span><a class="ltx_ref" href="https://arxiv.org/html/2406.12430v1#S5.T7" style="color:#000000;" title="Table 7 ‣ 5.2 Results and Analysis ‣ 5 Experiments ‣ PlanRAG: A Plan-then-Retrieval Augmented Generation for Generative Large Language Models as Decision Makers"><span class="ltx_text ltx_ref_tag">7</span></a><span class="ltx_text" id="A1.SS8.p2.2.2" style="color:#000000;">, since re-planning is done more than twice for some questions, they can belong to several categories.
In the Locating scenario, PlanRAG-LM primarily performs re-planning of "Add look-up".
In the case of Building, it is observed that "Divide to sub-steps" is the predominant strategy for re-planning across most cases.</span></p>
</div>
<figure class="ltx_table" id="A1.T12"><img alt="[Uncaptioned image]" class="ltx_graphics ltx_centering ltx_img_portrait" height="1204" id="A1.T12.g1" src="x13.png" width="830"/>
<figcaption class="ltx_caption ltx_centering" style="color:#000000;"><span class="ltx_tag ltx_tag_table">Table 12: </span>Category-wise statistics and examples of re-planning cases. The occurrence rate indicates the proportion of re-planning cases within a specific category relative to the total number of questions that re-plannings are conducted.</figcaption>
</figure>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Tue Jun 18 09:00:04 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
