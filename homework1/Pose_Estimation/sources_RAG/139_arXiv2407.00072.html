<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation</title>
<!--Generated on Thu Aug  1 06:56:45 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2407.00072v4/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S1" title="In Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S1.SS0.SSS0.Px1" title="In 1. Introduction ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Contributions</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S2" title="In Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Background</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S2.SS1" title="In 2. Background ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Large-Scale Generative AI Systems</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S2.SS2" title="In 2. Background ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Open Domain Question Answering</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S3" title="In Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>The Pistis-RAG Framework</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S3.SS1" title="In 3. The Pistis-RAG Framework ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Content-Centric vs. Model-Centric</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S3.SS2" title="In 3. The Pistis-RAG Framework ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Rethinking RAG through a Content-Centric Lens</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S3.SS2.SSS1" title="In 3.2. Rethinking RAG through a Content-Centric Lens ‣ 3. The Pistis-RAG Framework ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.1 </span>Stage 1: Matching (Filtering)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S3.SS2.SSS2" title="In 3.2. Rethinking RAG through a Content-Centric Lens ‣ 3. The Pistis-RAG Framework ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.2 </span>Stage 2: Pre-Ranking (Semantic Refinement)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S3.SS2.SSS3" title="In 3.2. Rethinking RAG through a Content-Centric Lens ‣ 3. The Pistis-RAG Framework ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.3 </span>Stage 3: Ranking (LLM Alignment)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S3.SS2.SSS4" title="In 3.2. Rethinking RAG through a Content-Centric Lens ‣ 3. The Pistis-RAG Framework ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.4 </span>Stage 4: Re-Ranking (Domain Specific Requirements)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S3.SS2.SSS5" title="In 3.2. Rethinking RAG through a Content-Centric Lens ‣ 3. The Pistis-RAG Framework ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.5 </span>Stage 5: Reasoning (Multi-Path CoT Strategy)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S3.SS2.SSS6" title="In 3.2. Rethinking RAG through a Content-Centric Lens ‣ 3. The Pistis-RAG Framework ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.6 </span>Stage 6: Aggregating (Consistency Checking)</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S3.SS3" title="In 3. The Pistis-RAG Framework ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Architecture</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S4" title="In Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Ranking Details</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S4.SS1" title="In 4. Ranking Details ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>RAG "Re-Rankers" in the Pre-Ranking Stage</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S4.SS2" title="In 4. Ranking Details ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Ranking for LLM Prompt Order Sensitivity</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S4.SS3" title="In 4. Ranking Details ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Ranking Problem Definition</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S4.SS4" title="In 4. Ranking Details ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Listwide Labels</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S4.SS5" title="In 4. Ranking Details ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>Ranking Model Alignment</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S5" title="In Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Experiments on Public Datasets</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S5.SS1" title="In 5. Experiments on Public Datasets ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Simulating Feedback</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S5.SS1.SSS1" title="In 5.1. Simulating Feedback ‣ 5. Experiments on Public Datasets ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1.1 </span>Collecting Few-shot Examples</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S5.SS1.SSS2" title="In 5.1. Simulating Feedback ‣ 5. Experiments on Public Datasets ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1.2 </span>Simulating User Behavior</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S5.SS2" title="In 5. Experiments on Public Datasets ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S5.SS3" title="In 5. Experiments on Public Datasets ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Experimental Setup</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S5.SS3.SSS1" title="In 5.3. Experimental Setup ‣ 5. Experiments on Public Datasets ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3.1 </span>Evaluation Procedure</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S5.SS3.SSS2" title="In 5.3. Experimental Setup ‣ 5. Experiments on Public Datasets ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3.2 </span>Experimental Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S5.SS3.SSS3" title="In 5.3. Experimental Setup ‣ 5. Experiments on Public Datasets ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3.3 </span>Analysis and Discussion</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S6" title="In Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusions</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Yu Bai<sup class="ltx_sup" id="id12.12.id1"><span class="ltx_text ltx_font_italic" id="id12.12.id1.1">1</span></sup>,
Yukai Miao<sup class="ltx_sup" id="id13.13.id2"><span class="ltx_text ltx_font_italic" id="id13.13.id2.1">1</span></sup>,
Li Chen<sup class="ltx_sup" id="id14.14.id3"><span class="ltx_text ltx_font_italic" id="id14.14.id3.1">1</span></sup>,
Dan Li<sup class="ltx_sup" id="id15.15.id4"><span class="ltx_text ltx_font_italic" id="id15.15.id4.1">1,2</span></sup>,
Yanyu Ren<sup class="ltx_sup" id="id16.16.id5"><span class="ltx_text ltx_font_italic" id="id16.16.id5.1">2</span></sup>,
Hongtao Xie<sup class="ltx_sup" id="id17.17.id6"><span class="ltx_text ltx_font_italic" id="id17.17.id6.1">3</span></sup>,
Ce Yang<sup class="ltx_sup" id="id18.18.id7"><span class="ltx_text ltx_font_italic" id="id18.18.id7.1">3</span></sup>,
Xuhui Cai<sup class="ltx_sup" id="id19.19.id8"><span class="ltx_text ltx_font_italic" id="id19.19.id8.1">3</span></sup>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id9.9.1"><sup class="ltx_sup" id="id9.9.1.1"><span class="ltx_text ltx_font_italic" id="id9.9.1.1.1">1</span></sup> <span class="ltx_text ltx_font_italic" id="id9.9.1.2">Zhongguancun Laboratory</span></span>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id10.10.1"><sup class="ltx_sup" id="id10.10.1.1"><span class="ltx_text ltx_font_italic" id="id10.10.1.1.1">2</span></sup> <span class="ltx_text ltx_font_italic" id="id10.10.1.2">Tsinghua University</span></span>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id11.11.1"><sup class="ltx_sup" id="id11.11.1.1"><span class="ltx_text ltx_font_italic" id="id11.11.1.1.1">3</span></sup> <span class="ltx_text ltx_font_italic" id="id11.11.1.2">China Mobile Communications Group Co., Ltd.</span></span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:baiyu,%20miaoyk,%20lichen@zgclab.edu.cn,%20tolidan@tsinghua.edu.cn,%20ryy23@mails.tsinghua.edu.cn">baiyu, miaoyk, lichen@zgclab.edu.cn, tolidan@tsinghua.edu.cn, ryy23@mails.tsinghua.edu.cn</a>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:xiehongtao,%20yangce,%20caixuhui@chinamobile.com">xiehongtao, yangce, caixuhui@chinamobile.com</a>
</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id20.id1">We argue that the alignment issue between LLMs and external knowledge ranking methods is tied to the model-centric paradigm dominant in RAG systems. We propose a content-centric approach, emphasizing seamless integration between LLMs and external information sources to optimize content transformation for specific tasks.</p>
<p class="ltx_p" id="id21.id2">In Greek mythology, Pistis symbolized good faith, trust, and reliability. Drawing inspiration from these principles, Pistis-RAG is a scalable multi-stage framework designed to address the challenges of large-scale retrieval-augmented generation (RAG) systems. This framework consists of distinct stages: matching, pre-ranking, ranking, reasoning, and aggregating. Each stage contributes to narrowing the search space, prioritizing semantically relevant documents, aligning with the large language model’s (LLM) preferences, supporting complex chain-of-thought (CoT) methods, and combining information from multiple sources.</p>
<p class="ltx_p" id="id22.id3">Our ranking stage introduces a significant innovation by recognizing that semantic relevance alone may not lead to improved generation quality, due to the sensitivity of the few-shot prompt order, as noted in previous research <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib8" title="">lu2021fantastically, </a>)</cite>. This critical aspect is often overlooked in current RAG frameworks.</p>
<p class="ltx_p" id="id23.id4">Our novel ranking stage is designed specifically for RAG systems, incorporating principles of information retrieval while considering the unique business scenarios reflected in LLM preferences and user feedback. We simulated feedback signals on the MMLU benchmark, resulting in a 9.3% performance improvement. Our model and code will be open-sourced on GitHub. Additionally, experiments on real-world, large-scale data validate the scalability of our framework.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<figure class="ltx_figure" id="S1.F1">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="352" id="S1.F1.g1" src="extracted/5767874/figures/introduction/rag_generation.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>Brief of RAG Framework: from the initial bi-encoder encoding to mixed retrieval, and cross-encoder re-ranking.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S1.F1.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S1.F1.2">Diagram showing the RAG framework stages: initial bi-encoder encoding, hybrid retrieval, and re-ranking.</p>
</div>
</div>
</figure>
<figure class="ltx_figure" id="S1.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="181" id="S1.F2.g1" src="extracted/5767874/figures/design/ir_vs_rag.png" width="538"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>This illustration highlights the disparity between traditional Information Retrieval (IR) systems and the RAG system, showcasing the mismatch in re-rankers and the absence of ranking and re-ranking in the RAG system.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S1.F2.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S1.F2.2">Diagram comparing traditional Information Retrieval (IR) systems and the RAG system. The IR systems include ranking and re-ranking processes, while the RAG system does not involve these steps, highlighting a mismatch in re-rankers.</p>
</div>
</div>
</figure>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">In recent years, LLMs have demonstrated remarkable capabilities in natural language understanding and generation tasks. These models, trained in vast datasets that represent a wide range of human knowledge, excel in generating coherent and contextually relevant text in various domains  <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib1" title="">achiam2023gpt, </a>)</cite>. Despite their advancements, LLMs are inherently limited by the scope and quality of their training data. They cannot often incorporate real-time or domain-specific knowledge not present in their training corpus, leading to challenges in accuracy and relevance, particularly in dynamic environments.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">To mitigate these limitations, RAG  <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib6" title="">lewis2020retrieval, </a>)</cite> has emerged as a promising paradigm. RAG enhances LLMs by augmenting their input with additional information retrieved from external sources at inference time. This approach not only enriches the context of LLM-generated responses but also enables them to leverage up-to-date and domain-specific knowledge without the need for extensive retraining. By integrating ICL from the retrieved knowledge, LLMs can adapt and perform better on tasks that require specialized knowledge or current events.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Current RAG frameworks face significant challenges that hinder their widespread adoption. These challenges primarily lie in two areas: accurately retrieving relevant knowledge and striking a balance between generation quality and computational efficiency. Additionally, integrating retrieved information with LLM-generated outputs remains a nontrivial task, requiring careful consideration of factors like semantic alignment, prompt engineering, and user preferences (as discussed in  <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib14" title="">yu2023augmentation, </a>)</cite>). Traditional RAG approaches may also overlook the nuances of how LLMs process and prioritize information, leading to suboptimal performance in real-world applications.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">This paper tackles key challenges in retrieval-augmented generation by introducing Pistis-RAG, a novel framework that boosts both effectiveness and efficiency. Pistis-RAG leverages a multi-stage retrieval pipeline, consisting of matching, pre-ranking, ranking, and re-ranking stages. Each stage plays a critical role in optimizing how relevant knowledge is retrieved and integrated into LLM-generated responses. Notably, our framework prioritizes a content-centric approach, ensuring retrieved information seamlessly aligns with user needs and LLM capabilities.</p>
</div>
<section class="ltx_paragraph" id="S1.SS0.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Contributions</h5>
<div class="ltx_para" id="S1.SS0.SSS0.Px1.p1">
<ol class="ltx_enumerate" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i1.p1.1.1">Content-Centric Integration:</span> We introduce a content-centric perspective to the end-to-end process in RAG systems, emphasizing the alignment of content delivery with both business objectives and user preferences. This approach surpasses traditional ranking methods by focusing on relevance as well as the contextual and strategic value of the retrieved and presented content.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i2.p1.1.1">Enhanced User Feedback Mechanisms:</span> Our framework effectively leverages user feedback. By continuously incorporating feedback into the ranking process, the system adapts to evolving user preferences and business goals. This dynamic adjustment enhances the system’s ability to deliver personalized and contextually appropriate content. We introduce a specialized ranking mechanism to address the prompt order sensitivity of LLMs, optimizing the sequence of prompts to prioritize the most relevant and informative ones according to LLM preferences.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i3.p1.1.1">Novel Framework:</span> We propose a comprehensive framework for optimizing the end-to-end process in RAG systems. This framework integrates advanced ranking techniques across the matching, pre-ranking, ranking, re-ranking, and multi-path reasoning stages. It ensures a systematic approach to content evaluation and selection, enhancing retrieval accuracy and relevance for end-users.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(4)</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i4.p1.1.1">Experimental Validation:</span> We conduct extensive experiments demonstrating the effectiveness of our approach, showcasing significant improvements in overall system performance. Our results show that our framework outperforms existing methods by 9.3%, leading to more relevant and personalized results.</p>
</div>
</li>
</ol>
</div>
<div class="ltx_para" id="S1.SS0.SSS0.Px1.p2">
<p class="ltx_p" id="S1.SS0.SSS0.Px1.p2.1">In conclusion, Pistis-RAG represents a significant advancement in the field of retrieval-augmented generation, addressing critical shortcomings in existing frameworks and paving the way for more effective and adaptive AIGC systems.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Background</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">Fundamentally, our approach serves large-scale online content generation systems (such as ChatGPT<cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib1" title="">achiam2023gpt, </a>)</cite>), which address the core issue of Open-Domain Question Answering (ODQA) <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib4" title="">guu2020retrieval, </a>)</cite>.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Large-Scale Generative AI Systems</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">Large-scale generative AI systems, are designed to handle a high volume of real-time user requests with high accuracy and efficiency. These systems are becoming increasingly important in a wide range of applications, including customer service, chatbots, and social media platforms.</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">One of the key challenges in developing large-scale generative AI systems is ensuring that the generated content is both relevant and accurate. This is particularly important in applications where users are relying on the system for information or assistance. RAG is a promising approach to addressing this challenge. RAG systems use a combination of retrieval and generation techniques to produce more accurate and relevant responses.</p>
</div>
<div class="ltx_para" id="S2.SS1.p3">
<p class="ltx_p" id="S2.SS1.p3.1">Another challenge in developing large-scale generative AI systems is ensuring that they can scale to handle the high volume of requests that they are likely to receive. This requires careful design of the system architecture and algorithms. Additionally, large-scale generative AI systems often need to be trained on massive amounts of data, which can be computationally expensive.</p>
</div>
<div class="ltx_para" id="S2.SS1.p4">
<p class="ltx_p" id="S2.SS1.p4.1">Advanced content generation platforms such as ChatGPT, Gemini<cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib10" title="">team2023gemini, </a>)</cite>, WenXinYiYan<cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib9" title="">sun2021ernie, </a>)</cite>, and TongYiQianWen<cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib2" title="">bai2023qwen, </a>)</cite>, among others, are engineered to manage substantial real-time user queries efficiently. These platforms play a pivotal role in applications requiring rapid response times, precise outputs, and extensive generation capacities.</p>
</div>
<div class="ltx_para" id="S2.SS1.p5">
<p class="ltx_p" id="S2.SS1.p5.1">RAG plays a vital role in these systems by functioning as a powerful external memory source. This significantly reduces hallucinations and enhances responses’ relevance and factual accuracy.</p>
</div>
<div class="ltx_para" id="S2.SS1.p6">
<p class="ltx_p" id="S2.SS1.p6.1">Moreover, these large-scale generative AI systems benefit from real-time user feedback. This feedback loop allows for continuous improvement in the quality and accuracy of content generation over time. We propose the Pistis-RAG framework to recognize the need for a robust, scalable solution that addresses these specific challenges and optimizes system performance.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Open Domain Question Answering</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">The RAG framework leverages a two-stage Retriever-Generator architecture. This approach is particularly effective for ODQA, a challenging information retrieval task. ODQA questions are often complex, open-ended, and require reasoning over vast amounts of information.</p>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">By employing a cascading system derived from traditional IR disciplines, the RAG framework allows for the integration of advanced techniques such as prompt engineering and multi-step reasoning. This cascading system approach is especially beneficial in environments that demand high-performance content generation, such as search engines, recommendation systems, and computational advertising. Utilizing cascade modeling within the Pistis-RAG framework, we aim to achieve substantial enhancements in system performance and output quality, specifically tailored for the demands of ODQA tasks.</p>
</div>
<div class="ltx_para" id="S2.SS2.p3">
<p class="ltx_p" id="S2.SS2.p3.1">In the following sections, we will delve into the details of the Pistis-RAG framework, highlighting its unique architecture and capabilities. We will also present experimental results demonstrating the framework’s effectiveness in various large-scale content generation and ODQA tasks.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>The Pistis-RAG Framework</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">This section explores online generative AI tasks through a cascading system, emphasizing a content-centric perspective.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Content-Centric vs. Model-Centric</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">This perspective views the process as transforming content from one form to another, rather than a traditional model-centric approach focused on manipulating data within the model. Specifically, the system operates in a series of actions:</p>
<ul class="ltx_itemize" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.1">Content Acquisition: The system first retrieves information from an external knowledge base. This retrieval process is driven by the user’s intent, ensuring the retrieved content aligns with the user’s desired task.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.1">Content Transformation and Integration: The system then leverages the retrieved content alongside the knowledge it has learned during pre-training. This combined knowledge base informs the generation of new content, tailored to the user’s needs. This new content could be instructions, summaries, creative text formats, or any other output relevant to the user’s intent.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i3.p1">
<p class="ltx_p" id="S3.I1.i3.p1.1">Content Delivery: Finally, the system returns the generated content to the user, completing the online task.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1">The content-centric perspective highlights the critical role of external information in this process, content from long-term memory becomes the system’s primary input, driving the entire content transformation pipeline.</p>
</div>
<div class="ltx_para" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.1">We argue that the lack of strong alignment between LLMs and the external knowledge ranking methods used in RAG tasks is relevant to the reliance on the model-centric paradigm in Langchain-like frameworks. A content-centric approach would prioritize seamless integration between the LLMs and external information sources, optimizing the content transformation process for each specific task. This topic will be further explored in later sections of the paper.</p>
</div>
<figure class="ltx_figure" id="S3.F3">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="429" id="S3.F3.g1" src="extracted/5767874/figures/design/content-centric.png" width="538"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>An Illustration of a Content-Centric Cascading System (Pistis-RAG): This diagram highlights the process where content retrieval and generation are from a content-centric view, utilizing external data sources.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S3.F3.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S3.F3.2">Diagram of a Content-Centric Cascading System (Pistis-RAG) illustrating the process of content retrieval and generation from a content-centric perspective, incorporating external data sources.</p>
</div>
</div>
</figure>
<figure class="ltx_figure" id="S3.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="239" id="S3.F4.g1" src="extracted/5767874/figures/design/model-centric.png" width="509"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>A Model-Centric Perspective from a LangChain<cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib3" title="">Chase_LangChain_2022, </a>)</cite>-like Framework: This illustration contrasts with a Content-Centric Cascading System by emphasizing the model’s role in processing tasks, where the primary focus is on the model’s capabilities rather than solely on the flow and transformation of content.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S3.F4.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S3.F4.2">Diagram showing a model-centric perspective from a LangChain-like framework, contrasting with a content-centric cascading system. Emphasis is on the model’s role in processing tasks, focusing on the model’s capabilities rather than just content flow and transformation.</p>
</div>
</div>
</figure>
<figure class="ltx_table" id="S3.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span>Overview of Pistis-RAG Framework Stages and Industry Enhancements. The Pistis-RAG framework encompasses stages including Matching, Pre-Ranking, Ranking, Re-Ranking, Reasoning, and Aggregating, each playing a crucial role in the response generation process. This table provides detailed insights into the function of each stage, the techniques employed, the challenges faced, and the industry-specific considerations. Additionally, it includes a column showcasing the number of ranking items at each stage, demonstrating the reduction as the process progresses.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S3.T1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T1.1.1.1">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="S3.T1.1.1.1.1" style="width:56.9pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.1.1">
<span class="ltx_p" id="S3.T1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.1.1.1">Stage</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.1.1.2" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.2.1">
<span class="ltx_p" id="S3.T1.1.1.1.2.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.2.1.1.1">Item Size</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.1.1.3" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.3.1">
<span class="ltx_p" id="S3.T1.1.1.1.3.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.3.1.1.1">Function</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.1.1.4" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.4.1">
<span class="ltx_p" id="S3.T1.1.1.1.4.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.4.1.1.1">Techniques</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.1.1.5" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.5.1">
<span class="ltx_p" id="S3.T1.1.1.1.5.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.5.1.1.1">Challenges</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.1.1.6" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.1.1.6.1">
<span class="ltx_p" id="S3.T1.1.1.1.6.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.6.1.1.1">Industry Setting</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.2.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="S3.T1.1.2.2.1" style="width:56.9pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.2.2.1.1">
<span class="ltx_p" id="S3.T1.1.2.2.1.1.1">Matching</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.2.2.2" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.2.2.2.1">
<span class="ltx_p" id="S3.T1.1.2.2.2.1.1">Tens of Thousands</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.2.2.3" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.2.2.3.1">
<span class="ltx_p" id="S3.T1.1.2.2.3.1.1">Low-latency retrieval of relevant documents</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.2.2.4" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.2.2.4.1">
<span class="ltx_p" id="S3.T1.1.2.2.4.1.1">TF-IDF, BM25, Bi-Encoder, etc.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.2.2.5" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.2.2.5.1">
<span class="ltx_p" id="S3.T1.1.2.2.5.1.1">Ensuring relevance by mixed retrieval methods</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.2.2.6" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.2.2.6.1">
<span class="ltx_p" id="S3.T1.1.2.2.6.1.1">Integration with external search engines, etc.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.3.3">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="S3.T1.1.3.3.1" style="width:56.9pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.3.3.1.1">
<span class="ltx_p" id="S3.T1.1.3.3.1.1.1">Pre-ranking</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.3.3.2" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.3.3.2.1">
<span class="ltx_p" id="S3.T1.1.3.3.2.1.1">Hundreds</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.3.3.3" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.3.3.3.1">
<span class="ltx_p" id="S3.T1.1.3.3.3.1.1">Pre-ranking for workload reduction in ranking stage</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.3.3.4" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.3.3.4.1">
<span class="ltx_p" id="S3.T1.1.3.3.4.1.1">Cross-Encoder, etc.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.3.3.5" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.3.3.5.1">
<span class="ltx_p" id="S3.T1.1.3.3.5.1.1">Balancing accuracy and relevance</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.3.3.6" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.3.3.6.1">
<span class="ltx_p" id="S3.T1.1.3.3.6.1.1">Auto scaling and Failover, etc.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.4.4">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="S3.T1.1.4.4.1" style="width:56.9pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.4.4.1.1">
<span class="ltx_p" id="S3.T1.1.4.4.1.1.1">Ranking</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.4.4.2" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.4.4.2.1">
<span class="ltx_p" id="S3.T1.1.4.4.2.1.1">Tens</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.4.4.3" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.4.4.3.1">
<span class="ltx_p" id="S3.T1.1.4.4.3.1.1">Detailed ranking based on LLM preferences</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.4.4.4" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.4.4.4.1">
<span class="ltx_p" id="S3.T1.1.4.4.4.1.1">Listwise LTR methods w/ listwide label optimization</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.4.4.5" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.4.4.5.1">
<span class="ltx_p" id="S3.T1.1.4.4.5.1.1">Learning from listwide labels</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.4.4.6" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.4.4.6.1">
<span class="ltx_p" id="S3.T1.1.4.4.6.1.1">Auto scaling and Failover, etc.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.5.5">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="S3.T1.1.5.5.1" style="width:56.9pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.5.5.1.1">
<span class="ltx_p" id="S3.T1.1.5.5.1.1.1">Re-ranking</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.5.5.2" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.5.5.2.1">
<span class="ltx_p" id="S3.T1.1.5.5.2.1.1">Even Fewer</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.5.5.3" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.5.5.3.1">
<span class="ltx_p" id="S3.T1.1.5.5.3.1.1">Ranking based on additional criteria such as credibility</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.5.5.4" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.5.5.4.1">
<span class="ltx_p" id="S3.T1.1.5.5.4.1.1">Pointwise ranking algorithms for precise control</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.5.5.5" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.5.5.5.1">
<span class="ltx_p" id="S3.T1.1.5.5.5.1.1">Depending on user requirements</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.5.5.6" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.5.5.6.1">
<span class="ltx_p" id="S3.T1.1.5.5.6.1.1">Ensuring credibility of generated content, etc.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.6.6">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="S3.T1.1.6.6.1" style="width:56.9pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.6.6.1.1">
<span class="ltx_p" id="S3.T1.1.6.6.1.1.1">Reasoning</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.6.6.2" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.6.6.2.1">
<span class="ltx_p" id="S3.T1.1.6.6.2.1.1">/</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.6.6.3" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.6.6.3.1">
<span class="ltx_p" id="S3.T1.1.6.6.3.1.1">Generating reasoned outputs through LLM inference</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.6.6.4" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.6.6.4.1">
<span class="ltx_p" id="S3.T1.1.6.6.4.1.1">Multi-Path reasoning, etc.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.6.6.5" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.6.6.5.1">
<span class="ltx_p" id="S3.T1.1.6.6.5.1.1">Maintaining response coherence</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="S3.T1.1.6.6.6" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.6.6.6.1">
<span class="ltx_p" id="S3.T1.1.6.6.6.1.1">Speculative decoding for online performance, etc.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.7.7">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_l ltx_border_r ltx_border_t" id="S3.T1.1.7.7.1" style="width:56.9pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.7.7.1.1">
<span class="ltx_p" id="S3.T1.1.7.7.1.1.1">Aggregating</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_r ltx_border_t" id="S3.T1.1.7.7.2" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.7.7.2.1">
<span class="ltx_p" id="S3.T1.1.7.7.2.1.1">/</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_r ltx_border_t" id="S3.T1.1.7.7.3" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.7.7.3.1">
<span class="ltx_p" id="S3.T1.1.7.7.3.1.1">Synthesizing coherent user responses from reasoning results</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_r ltx_border_t" id="S3.T1.1.7.7.4" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.7.7.4.1">
<span class="ltx_p" id="S3.T1.1.7.7.4.1.1">Consistency checks, etc.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_r ltx_border_t" id="S3.T1.1.7.7.5" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.7.7.5.1">
<span class="ltx_p" id="S3.T1.1.7.7.5.1.1">Ensuring credibility and readability</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_r ltx_border_t" id="S3.T1.1.7.7.6" style="width:85.4pt;">
<span class="ltx_inline-block ltx_align_top" id="S3.T1.1.7.7.6.1">
<span class="ltx_p" id="S3.T1.1.7.7.6.1.1">Citations, Markdown formatting, Content safety integration, etc.</span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Rethinking RAG through a Content-Centric Lens</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">Adopting a content-centric perspective on RAG tasks, particularly when viewed within the framework of cascading systems, offers valuable insights. This perspective allows us to draw meaningful comparisons between RAG and traditional IR systems. Through this comparison, we can identify potential mismatches between the previously defined stages of both systems and uncover opportunities for introducing new stages that could enhance the overall process.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1">A content-centric investigation, as exemplified in Figure 2, highlights a key issue: the current RAG "re-ranker" can easily lead to misunderstandings. Its function aligns more closely with the pre-ranking stage.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.1">Moreover, We can see an absence of the ranking stage, the ranking stage is designed to align with feedback that reflects the user’s final needs and preferences. Although similar signals can be obtained in online RAG systems, they are not widely utilized in the existing popular RAG frameworks, which are predominantly model-centric.</p>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.1">The cascading architecture of Pistis-RAG is structured into five pivotal stages, each contributing uniquely to the processing pipeline:</p>
</div>
<section class="ltx_subsubsection" id="S3.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.1. </span>Stage 1: Matching (Filtering)</h4>
<div class="ltx_para" id="S3.SS2.SSS1.p1">
<p class="ltx_p" id="S3.SS2.SSS1.p1.1">In the initial stage, the system employs robust retrieval algorithms to navigate through a vast corpus of documents, selecting those most relevant to the user’s query. This stage utilizes a Mixed Retrieval strategy to ensure that the filtering process is both efficient and effective.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.2. </span>Stage 2: Pre-Ranking (Semantic Refinement)</h4>
<div class="ltx_para" id="S3.SS2.SSS2.p1">
<p class="ltx_p" id="S3.SS2.SSS2.p1.1">Following the matching phase, this stage enhances the scoring process by refining it based on the complete document obtained through the retrieved fragment. It enhances the sorting process by scoring documents based on their semantic correlation with the user’s query, using Cross-Encoder methods to achieve higher accuracy.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.3. </span>Stage 3: Ranking (LLM Alignment)</h4>
<div class="ltx_para" id="S3.SS2.SSS3.p1">
<p class="ltx_p" id="S3.SS2.SSS3.p1.1">At this juncture, the process refines the document ranking by aligning with the preferences of the LLM. This adjustment ensures that the most relevant information is positioned advantageously within the prompt templates, optimizing the LLM’s performance.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.4. </span>Stage 4: Re-Ranking (Domain Specific Requirements)</h4>
<div class="ltx_para" id="S3.SS2.SSS4.p1">
<p class="ltx_p" id="S3.SS2.SSS4.p1.1">The Re-Ranking phase, although discretionary, plays a pivotal role in domain-specific requirements like assessing the credibility of information sources in official document composition or critical decision-making scenarios.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS5">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.5. </span>Stage 5: Reasoning (Multi-Path CoT Strategy)</h4>
<div class="ltx_para" id="S3.SS2.SSS5.p1">
<p class="ltx_p" id="S3.SS2.SSS5.p1.1">If documents exhibit low distinctiveness in their semantic content, this stage intervenes by generating multiple response sequences. The LLM concurrently generates answers based on varied retrieval outputs, enhancing content diversity and decision-making in the aggregation stage.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS6">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.6. </span>Stage 6: Aggregating (Consistency Checking)</h4>
<div class="ltx_para" id="S3.SS2.SSS6.p1">
<p class="ltx_p" id="S3.SS2.SSS6.p1.1">The final stage employs sophisticated voting methods to synthesize the outputs from the Reasoning stage. This method ensures consistency and stability in the final user responses, mitigating potential variability due to the LLM’s sensitivity to input sequences.</p>
</div>
<figure class="ltx_figure" id="S3.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="186" id="S3.F5.g1" src="extracted/5767874/figures/introduction/GMSC_online.png" width="538"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5. </span>The Multi-Stage Cascading Retrieval and Pistis-RAG Framework is designed to optimize information retrieval and response generation for LLMs. It comprises five stages: Matching, Pre-Ranking, Ranking, Reasoning, and Aggregating. In the Matching stage, retrieval algorithms select pertinent documents from repositories. Semantic analysis in the Pre-Ranking stage refines document scores based on query relevance. Ranking aligns document ranking with LLM preferences for coherent responses. Reasoning enhances response diversity, exploring multiple sequences. The Aggregation stage synthesizes responses for coherence. Pistis-RAG employs advanced techniques such as Cross-Encoder methods and Concurrent Chain-of-Thought generation to enhance performance and response quality. It is a comprehensive solution for complex queries and contextually relevant responses.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S3.F5.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S3.F5.2">Diagram of the Pistis-RAG Framework, detailing its five stages: Matching, Ranking, Reranking, Reasoning, and Aggregating. The framework optimizes information retrieval and response generation for LLMs using advanced techniques like Cross-Encoder methods and Concurrent Chain-of-Thought generation.</p>
</div>
</div>
</figure>
</section>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Architecture</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">The Pistis-RAG system architecture comprises four core components: Matching, Ranking, Reasoning, and Aggregating Services, each meticulously designed to handle specific segments of the query-response cycle efficiently.</p>
</div>
<section class="ltx_subsubsection" id="S3.SS3.SSSx1">
<h4 class="ltx_title ltx_font_bold ltx_title_subsubsection">Matching Service</h4>
<div class="ltx_para" id="S3.SS3.SSSx1.p1">
<p class="ltx_p" id="S3.SS3.SSSx1.p1.1">The Matching Service is the cornerstone of the user interaction process, responsible for understanding user intent and swiftly retrieving the most relevant information. To achieve this, the Matching Service employs a sophisticated blend of IR techniques, focusing on optimizing latency for online large-scale retrieval.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx1.p2">
<p class="ltx_p" id="S3.SS3.SSSx1.p2.1">The Matching Service utilizes various data structures to optimize information retrieval based on the specific technique employed:</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx1.p3">
<ul class="ltx_itemize" id="S3.I2">
<li class="ltx_item" id="S3.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I2.i1.p1">
<p class="ltx_p" id="S3.I2.i1.p1.1">Vector Storage: This structure is crucial for embedding-based retrieval approaches like ANN. It efficiently stores document representations as vectors, allowing for fast similarity comparisons with the user’s query vector. Example: The Matching Service can represent documents as vectors in a high-dimensional space, enabling it to quickly identify documents that are semantically similar to the user’s query.</p>
</div>
</li>
<li class="ltx_item" id="S3.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I2.i2.p1">
<p class="ltx_p" id="S3.I2.i2.p1.1">Inverted Index: A fundamental data structure for keyword-based retrieval. It allows for rapid identification of documents containing specific keywords present in the user’s query. Example: When a user searches for a specific term, the inverted index efficiently directs the Matching Service to the documents that contain that term.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S3.SS3.SSSx1.p4">
<p class="ltx_p" id="S3.SS3.SSSx1.p4.1">In-memory K-V Cache also plays a critical role in stateful services. It can be used for:</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx1.p5">
<ul class="ltx_itemize" id="S3.I3">
<li class="ltx_item" id="S3.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I3.i1.p1">
<p class="ltx_p" id="S3.I3.i1.p1.1">Maintaining User Conversation Session: Storing the context of a user’s ongoing conversation allows for a more coherent and personalized user experience. Example: The Matching Service can use the K-V cache to remember the user’s previous queries and interactions, enabling it to provide more tailored responses.</p>
</div>
</li>
<li class="ltx_item" id="S3.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I3.i2.p1">
<p class="ltx_p" id="S3.I3.i2.p1.1">User Prompt-Answer Pair Cache: Storing previously accessed responses to commonly asked questions or user prompts can substantially enhance response times. Moreover, it serves as an effective few-shot example for RAG. For instance, when a user poses a recurring question, the Matching Service can save the corresponding answer in the key-value cache, thereby obviating the necessity to conduct a fresh search on each occasion.</p>
</div>
</li>
<li class="ltx_item" id="S3.I3.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I3.i3.p1">
<p class="ltx_p" id="S3.I3.i3.p1.1">User-Relevant Session History: By storing high-quality content relevant to the user’s past interactions, the Matching Service can prioritize its retrieval for future queries, enhancing the user experience. Example: If a user has previously shown interest in a particular topic, the Matching Service can prioritize content related to that topic when responding to future queries.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S3.SS3.SSSx1.p6">
<p class="ltx_p" id="S3.SS3.SSSx1.p6.1">In large-scale industrial settings, the Matching Service might also integrate with external search engines to access a vast corpus of information. However, this approach typically comes with increased latency due to network communication overhead.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx1.p7">
<p class="ltx_p" id="S3.SS3.SSSx1.p7.1">The choice of retrieval technique and data structure depends on the specific requirements of the application. For instance, if higher accuracy is desired, ANN or inverted index and BM25 and TF-IDF methods can be used together. It is important to carefully consider the trade-offs between speed and accuracy when selecting the appropriate techniques.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx1.p8">
<p class="ltx_p" id="S3.SS3.SSSx1.p8.1">Additionally, it is important to acknowledge that the Matching Service has its limitations. For example, it may struggle with handling ambiguous or complex queries that require.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS3.SSSx2">
<h4 class="ltx_title ltx_font_bold ltx_title_subsubsection">Ranking Service</h4>
<div class="ltx_para" id="S3.SS3.SSSx2.p1">
<p class="ltx_p" id="S3.SS3.SSSx2.p1.2">The ranking service optimizes the information retrieval process by prioritizing items relevant to the user’s intent. It takes a set of relevant items, denoted by <math alttext="\mathcal{I}" class="ltx_Math" display="inline" id="S3.SS3.SSSx2.p1.1.m1.1"><semantics id="S3.SS3.SSSx2.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSSx2.p1.1.m1.1.1" xref="S3.SS3.SSSx2.p1.1.m1.1.1.cmml">ℐ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSSx2.p1.1.m1.1b"><ci id="S3.SS3.SSSx2.p1.1.m1.1.1.cmml" xref="S3.SS3.SSSx2.p1.1.m1.1.1">ℐ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSSx2.p1.1.m1.1c">\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSSx2.p1.1.m1.1d">caligraphic_I</annotation></semantics></math>, identified by the matching service, and outputs a prioritized list, denoted by <math alttext="\mathcal{O}" class="ltx_Math" display="inline" id="S3.SS3.SSSx2.p1.2.m2.1"><semantics id="S3.SS3.SSSx2.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSSx2.p1.2.m2.1.1" xref="S3.SS3.SSSx2.p1.2.m2.1.1.cmml">𝒪</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSSx2.p1.2.m2.1b"><ci id="S3.SS3.SSSx2.p1.2.m2.1.1.cmml" xref="S3.SS3.SSSx2.p1.2.m2.1.1">𝒪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSSx2.p1.2.m2.1c">\mathcal{O}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSSx2.p1.2.m2.1d">caligraphic_O</annotation></semantics></math>. This prioritization considers both the retrieved items and the user’s intent representation.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx2.p2">
<p class="ltx_p" id="S3.SS3.SSSx2.p2.1">The ranking service employs several techniques to achieve this. Below are the key stages and processes formally defined:</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx2.p3">
<ol class="ltx_enumerate" id="S3.I4">
<li class="ltx_item" id="S3.I4.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S3.I4.i1.p1">
<p class="ltx_p" id="S3.I4.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I4.i1.p1.1.1">Stage 1: Pre-Ranking</span></p>
</div>
<div class="ltx_para" id="S3.I4.i1.p2">
<p class="ltx_p" id="S3.I4.i1.p2.3">The Pre-Ranking stage serves as an initial filtering mechanism aimed at streamlining the subsequent ranking process. It employs a coarse ranking mechanism, typically denoted by the function <math alttext="f_{\text{pre}}" class="ltx_Math" display="inline" id="S3.I4.i1.p2.1.m1.1"><semantics id="S3.I4.i1.p2.1.m1.1a"><msub id="S3.I4.i1.p2.1.m1.1.1" xref="S3.I4.i1.p2.1.m1.1.1.cmml"><mi id="S3.I4.i1.p2.1.m1.1.1.2" xref="S3.I4.i1.p2.1.m1.1.1.2.cmml">f</mi><mtext id="S3.I4.i1.p2.1.m1.1.1.3" xref="S3.I4.i1.p2.1.m1.1.1.3a.cmml">pre</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i1.p2.1.m1.1b"><apply id="S3.I4.i1.p2.1.m1.1.1.cmml" xref="S3.I4.i1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I4.i1.p2.1.m1.1.1.1.cmml" xref="S3.I4.i1.p2.1.m1.1.1">subscript</csymbol><ci id="S3.I4.i1.p2.1.m1.1.1.2.cmml" xref="S3.I4.i1.p2.1.m1.1.1.2">𝑓</ci><ci id="S3.I4.i1.p2.1.m1.1.1.3a.cmml" xref="S3.I4.i1.p2.1.m1.1.1.3"><mtext id="S3.I4.i1.p2.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.I4.i1.p2.1.m1.1.1.3">pre</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i1.p2.1.m1.1c">f_{\text{pre}}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i1.p2.1.m1.1d">italic_f start_POSTSUBSCRIPT pre end_POSTSUBSCRIPT</annotation></semantics></math>, which assesses preliminary relevance scores for each item in the set <math alttext="\mathcal{I}" class="ltx_Math" display="inline" id="S3.I4.i1.p2.2.m2.1"><semantics id="S3.I4.i1.p2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.I4.i1.p2.2.m2.1.1" xref="S3.I4.i1.p2.2.m2.1.1.cmml">ℐ</mi><annotation-xml encoding="MathML-Content" id="S3.I4.i1.p2.2.m2.1b"><ci id="S3.I4.i1.p2.2.m2.1.1.cmml" xref="S3.I4.i1.p2.2.m2.1.1">ℐ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i1.p2.2.m2.1c">\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i1.p2.2.m2.1d">caligraphic_I</annotation></semantics></math>. These scores are generated based on the user’s intent representation <math alttext="u" class="ltx_Math" display="inline" id="S3.I4.i1.p2.3.m3.1"><semantics id="S3.I4.i1.p2.3.m3.1a"><mi id="S3.I4.i1.p2.3.m3.1.1" xref="S3.I4.i1.p2.3.m3.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.I4.i1.p2.3.m3.1b"><ci id="S3.I4.i1.p2.3.m3.1.1.cmml" xref="S3.I4.i1.p2.3.m3.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i1.p2.3.m3.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i1.p2.3.m3.1d">italic_u</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.I4.i1.p3">
<p class="ltx_p" id="S3.I4.i1.p3.5">The preliminary relevance scores are computed as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="P=\{(I_{j},P_{j})\mid I_{j}\in\mathcal{I},P_{j}=f_{\text{pre}}(I_{j},u)\}" class="ltx_Math" display="block" id="S3.Ex1.m1.3"><semantics id="S3.Ex1.m1.3a"><mrow id="S3.Ex1.m1.3.3" xref="S3.Ex1.m1.3.3.cmml"><mi id="S3.Ex1.m1.3.3.4" xref="S3.Ex1.m1.3.3.4.cmml">P</mi><mo id="S3.Ex1.m1.3.3.3" xref="S3.Ex1.m1.3.3.3.cmml">=</mo><mrow id="S3.Ex1.m1.3.3.2.2" xref="S3.Ex1.m1.3.3.2.3.cmml"><mo id="S3.Ex1.m1.3.3.2.2.3" stretchy="false" xref="S3.Ex1.m1.3.3.2.3.1.cmml">{</mo><mrow id="S3.Ex1.m1.2.2.1.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.3.cmml"><mo id="S3.Ex1.m1.2.2.1.1.1.2.3" stretchy="false" xref="S3.Ex1.m1.2.2.1.1.1.3.cmml">(</mo><msub id="S3.Ex1.m1.2.2.1.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2.cmml">I</mi><mi id="S3.Ex1.m1.2.2.1.1.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S3.Ex1.m1.2.2.1.1.1.2.4" xref="S3.Ex1.m1.2.2.1.1.1.3.cmml">,</mo><msub id="S3.Ex1.m1.2.2.1.1.1.2.2" xref="S3.Ex1.m1.2.2.1.1.1.2.2.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.2.2.2" xref="S3.Ex1.m1.2.2.1.1.1.2.2.2.cmml">P</mi><mi id="S3.Ex1.m1.2.2.1.1.1.2.2.3" xref="S3.Ex1.m1.2.2.1.1.1.2.2.3.cmml">j</mi></msub><mo id="S3.Ex1.m1.2.2.1.1.1.2.5" stretchy="false" xref="S3.Ex1.m1.2.2.1.1.1.3.cmml">)</mo></mrow><mo fence="true" id="S3.Ex1.m1.3.3.2.2.4" lspace="0em" rspace="0em" xref="S3.Ex1.m1.3.3.2.3.1.cmml">∣</mo><mrow id="S3.Ex1.m1.3.3.2.2.2.2" xref="S3.Ex1.m1.3.3.2.2.2.3.cmml"><mrow id="S3.Ex1.m1.3.3.2.2.2.1.1" xref="S3.Ex1.m1.3.3.2.2.2.1.1.cmml"><msub id="S3.Ex1.m1.3.3.2.2.2.1.1.2" xref="S3.Ex1.m1.3.3.2.2.2.1.1.2.cmml"><mi id="S3.Ex1.m1.3.3.2.2.2.1.1.2.2" xref="S3.Ex1.m1.3.3.2.2.2.1.1.2.2.cmml">I</mi><mi id="S3.Ex1.m1.3.3.2.2.2.1.1.2.3" xref="S3.Ex1.m1.3.3.2.2.2.1.1.2.3.cmml">j</mi></msub><mo id="S3.Ex1.m1.3.3.2.2.2.1.1.1" xref="S3.Ex1.m1.3.3.2.2.2.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.Ex1.m1.3.3.2.2.2.1.1.3" xref="S3.Ex1.m1.3.3.2.2.2.1.1.3.cmml">ℐ</mi></mrow><mo id="S3.Ex1.m1.3.3.2.2.2.2.3" xref="S3.Ex1.m1.3.3.2.2.2.3a.cmml">,</mo><mrow id="S3.Ex1.m1.3.3.2.2.2.2.2" xref="S3.Ex1.m1.3.3.2.2.2.2.2.cmml"><msub id="S3.Ex1.m1.3.3.2.2.2.2.2.3" xref="S3.Ex1.m1.3.3.2.2.2.2.2.3.cmml"><mi id="S3.Ex1.m1.3.3.2.2.2.2.2.3.2" xref="S3.Ex1.m1.3.3.2.2.2.2.2.3.2.cmml">P</mi><mi id="S3.Ex1.m1.3.3.2.2.2.2.2.3.3" xref="S3.Ex1.m1.3.3.2.2.2.2.2.3.3.cmml">j</mi></msub><mo id="S3.Ex1.m1.3.3.2.2.2.2.2.2" xref="S3.Ex1.m1.3.3.2.2.2.2.2.2.cmml">=</mo><mrow id="S3.Ex1.m1.3.3.2.2.2.2.2.1" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.cmml"><msub id="S3.Ex1.m1.3.3.2.2.2.2.2.1.3" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.cmml"><mi id="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.2" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.2.cmml">f</mi><mtext id="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.3" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.3a.cmml">pre</mtext></msub><mo id="S3.Ex1.m1.3.3.2.2.2.2.2.1.2" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.2.cmml">⁢</mo><mrow id="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.2.cmml"><mo id="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.2" stretchy="false" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.2.cmml">(</mo><msub id="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1.cmml"><mi id="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1.2" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1.2.cmml">I</mi><mi id="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1.3" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1.3.cmml">j</mi></msub><mo id="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.3" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.2.cmml">,</mo><mi id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml">u</mi><mo id="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.4" stretchy="false" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.Ex1.m1.3.3.2.2.5" stretchy="false" xref="S3.Ex1.m1.3.3.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.3b"><apply id="S3.Ex1.m1.3.3.cmml" xref="S3.Ex1.m1.3.3"><eq id="S3.Ex1.m1.3.3.3.cmml" xref="S3.Ex1.m1.3.3.3"></eq><ci id="S3.Ex1.m1.3.3.4.cmml" xref="S3.Ex1.m1.3.3.4">𝑃</ci><apply id="S3.Ex1.m1.3.3.2.3.cmml" xref="S3.Ex1.m1.3.3.2.2"><csymbol cd="latexml" id="S3.Ex1.m1.3.3.2.3.1.cmml" xref="S3.Ex1.m1.3.3.2.2.3">conditional-set</csymbol><interval closure="open" id="S3.Ex1.m1.2.2.1.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.2"><apply id="S3.Ex1.m1.2.2.1.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.2">𝐼</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1.3">𝑗</ci></apply><apply id="S3.Ex1.m1.2.2.1.1.1.2.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.2.2.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.2.2">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.2.2.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.2.2.2">𝑃</ci><ci id="S3.Ex1.m1.2.2.1.1.1.2.2.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.2.2.3">𝑗</ci></apply></interval><apply id="S3.Ex1.m1.3.3.2.2.2.3.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.3.3.2.2.2.3a.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.Ex1.m1.3.3.2.2.2.1.1.cmml" xref="S3.Ex1.m1.3.3.2.2.2.1.1"><in id="S3.Ex1.m1.3.3.2.2.2.1.1.1.cmml" xref="S3.Ex1.m1.3.3.2.2.2.1.1.1"></in><apply id="S3.Ex1.m1.3.3.2.2.2.1.1.2.cmml" xref="S3.Ex1.m1.3.3.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.3.3.2.2.2.1.1.2.1.cmml" xref="S3.Ex1.m1.3.3.2.2.2.1.1.2">subscript</csymbol><ci id="S3.Ex1.m1.3.3.2.2.2.1.1.2.2.cmml" xref="S3.Ex1.m1.3.3.2.2.2.1.1.2.2">𝐼</ci><ci id="S3.Ex1.m1.3.3.2.2.2.1.1.2.3.cmml" xref="S3.Ex1.m1.3.3.2.2.2.1.1.2.3">𝑗</ci></apply><ci id="S3.Ex1.m1.3.3.2.2.2.1.1.3.cmml" xref="S3.Ex1.m1.3.3.2.2.2.1.1.3">ℐ</ci></apply><apply id="S3.Ex1.m1.3.3.2.2.2.2.2.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2"><eq id="S3.Ex1.m1.3.3.2.2.2.2.2.2.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.2"></eq><apply id="S3.Ex1.m1.3.3.2.2.2.2.2.3.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.3.3.2.2.2.2.2.3.1.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.3">subscript</csymbol><ci id="S3.Ex1.m1.3.3.2.2.2.2.2.3.2.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.3.2">𝑃</ci><ci id="S3.Ex1.m1.3.3.2.2.2.2.2.3.3.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.3.3">𝑗</ci></apply><apply id="S3.Ex1.m1.3.3.2.2.2.2.2.1.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1"><times id="S3.Ex1.m1.3.3.2.2.2.2.2.1.2.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.2"></times><apply id="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.1.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.3">subscript</csymbol><ci id="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.2.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.2">𝑓</ci><ci id="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.3a.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.3"><mtext id="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.3.cmml" mathsize="70%" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.3.3">pre</mtext></ci></apply><interval closure="open" id="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.2.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1"><apply id="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1.1.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1">subscript</csymbol><ci id="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1.2.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1.2">𝐼</ci><ci id="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1.3.cmml" xref="S3.Ex1.m1.3.3.2.2.2.2.2.1.1.1.1.3">𝑗</ci></apply><ci id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1">𝑢</ci></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.3c">P=\{(I_{j},P_{j})\mid I_{j}\in\mathcal{I},P_{j}=f_{\text{pre}}(I_{j},u)\}</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m1.3d">italic_P = { ( italic_I start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ∣ italic_I start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ caligraphic_I , italic_P start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT = italic_f start_POSTSUBSCRIPT pre end_POSTSUBSCRIPT ( italic_I start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , italic_u ) }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.I4.i1.p3.4">Here, <math alttext="P" class="ltx_Math" display="inline" id="S3.I4.i1.p3.1.m1.1"><semantics id="S3.I4.i1.p3.1.m1.1a"><mi id="S3.I4.i1.p3.1.m1.1.1" xref="S3.I4.i1.p3.1.m1.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.I4.i1.p3.1.m1.1b"><ci id="S3.I4.i1.p3.1.m1.1.1.cmml" xref="S3.I4.i1.p3.1.m1.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i1.p3.1.m1.1c">P</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i1.p3.1.m1.1d">italic_P</annotation></semantics></math> represents a set of pairs where <math alttext="I_{j}" class="ltx_Math" display="inline" id="S3.I4.i1.p3.2.m2.1"><semantics id="S3.I4.i1.p3.2.m2.1a"><msub id="S3.I4.i1.p3.2.m2.1.1" xref="S3.I4.i1.p3.2.m2.1.1.cmml"><mi id="S3.I4.i1.p3.2.m2.1.1.2" xref="S3.I4.i1.p3.2.m2.1.1.2.cmml">I</mi><mi id="S3.I4.i1.p3.2.m2.1.1.3" xref="S3.I4.i1.p3.2.m2.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i1.p3.2.m2.1b"><apply id="S3.I4.i1.p3.2.m2.1.1.cmml" xref="S3.I4.i1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.I4.i1.p3.2.m2.1.1.1.cmml" xref="S3.I4.i1.p3.2.m2.1.1">subscript</csymbol><ci id="S3.I4.i1.p3.2.m2.1.1.2.cmml" xref="S3.I4.i1.p3.2.m2.1.1.2">𝐼</ci><ci id="S3.I4.i1.p3.2.m2.1.1.3.cmml" xref="S3.I4.i1.p3.2.m2.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i1.p3.2.m2.1c">I_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i1.p3.2.m2.1d">italic_I start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> is an item from <math alttext="\mathcal{I}" class="ltx_Math" display="inline" id="S3.I4.i1.p3.3.m3.1"><semantics id="S3.I4.i1.p3.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.I4.i1.p3.3.m3.1.1" xref="S3.I4.i1.p3.3.m3.1.1.cmml">ℐ</mi><annotation-xml encoding="MathML-Content" id="S3.I4.i1.p3.3.m3.1b"><ci id="S3.I4.i1.p3.3.m3.1.1.cmml" xref="S3.I4.i1.p3.3.m3.1.1">ℐ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i1.p3.3.m3.1c">\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i1.p3.3.m3.1d">caligraphic_I</annotation></semantics></math> and <math alttext="P_{j}" class="ltx_Math" display="inline" id="S3.I4.i1.p3.4.m4.1"><semantics id="S3.I4.i1.p3.4.m4.1a"><msub id="S3.I4.i1.p3.4.m4.1.1" xref="S3.I4.i1.p3.4.m4.1.1.cmml"><mi id="S3.I4.i1.p3.4.m4.1.1.2" xref="S3.I4.i1.p3.4.m4.1.1.2.cmml">P</mi><mi id="S3.I4.i1.p3.4.m4.1.1.3" xref="S3.I4.i1.p3.4.m4.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i1.p3.4.m4.1b"><apply id="S3.I4.i1.p3.4.m4.1.1.cmml" xref="S3.I4.i1.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.I4.i1.p3.4.m4.1.1.1.cmml" xref="S3.I4.i1.p3.4.m4.1.1">subscript</csymbol><ci id="S3.I4.i1.p3.4.m4.1.1.2.cmml" xref="S3.I4.i1.p3.4.m4.1.1.2">𝑃</ci><ci id="S3.I4.i1.p3.4.m4.1.1.3.cmml" xref="S3.I4.i1.p3.4.m4.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i1.p3.4.m4.1c">P_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i1.p3.4.m4.1d">italic_P start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> denotes its corresponding preliminary relevance score.</p>
</div>
</li>
<li class="ltx_item" id="S3.I4.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S3.I4.i2.p1">
<p class="ltx_p" id="S3.I4.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I4.i2.p1.1.1">Stage 2: Ranking</span></p>
</div>
<div class="ltx_para" id="S3.I4.i2.p2">
<p class="ltx_p" id="S3.I4.i2.p2.3">The Ranking stage focuses on refining the relevance assessment process by scoring each item in the pre-ranked subset <math alttext="S_{\text{pre}}" class="ltx_Math" display="inline" id="S3.I4.i2.p2.1.m1.1"><semantics id="S3.I4.i2.p2.1.m1.1a"><msub id="S3.I4.i2.p2.1.m1.1.1" xref="S3.I4.i2.p2.1.m1.1.1.cmml"><mi id="S3.I4.i2.p2.1.m1.1.1.2" xref="S3.I4.i2.p2.1.m1.1.1.2.cmml">S</mi><mtext id="S3.I4.i2.p2.1.m1.1.1.3" xref="S3.I4.i2.p2.1.m1.1.1.3a.cmml">pre</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i2.p2.1.m1.1b"><apply id="S3.I4.i2.p2.1.m1.1.1.cmml" xref="S3.I4.i2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I4.i2.p2.1.m1.1.1.1.cmml" xref="S3.I4.i2.p2.1.m1.1.1">subscript</csymbol><ci id="S3.I4.i2.p2.1.m1.1.1.2.cmml" xref="S3.I4.i2.p2.1.m1.1.1.2">𝑆</ci><ci id="S3.I4.i2.p2.1.m1.1.1.3a.cmml" xref="S3.I4.i2.p2.1.m1.1.1.3"><mtext id="S3.I4.i2.p2.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.I4.i2.p2.1.m1.1.1.3">pre</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i2.p2.1.m1.1c">S_{\text{pre}}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i2.p2.1.m1.1d">italic_S start_POSTSUBSCRIPT pre end_POSTSUBSCRIPT</annotation></semantics></math>. This is achieved through the application of a ranking function, often denoted as <math alttext="f_{\text{rank}}" class="ltx_Math" display="inline" id="S3.I4.i2.p2.2.m2.1"><semantics id="S3.I4.i2.p2.2.m2.1a"><msub id="S3.I4.i2.p2.2.m2.1.1" xref="S3.I4.i2.p2.2.m2.1.1.cmml"><mi id="S3.I4.i2.p2.2.m2.1.1.2" xref="S3.I4.i2.p2.2.m2.1.1.2.cmml">f</mi><mtext id="S3.I4.i2.p2.2.m2.1.1.3" xref="S3.I4.i2.p2.2.m2.1.1.3a.cmml">rank</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i2.p2.2.m2.1b"><apply id="S3.I4.i2.p2.2.m2.1.1.cmml" xref="S3.I4.i2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.I4.i2.p2.2.m2.1.1.1.cmml" xref="S3.I4.i2.p2.2.m2.1.1">subscript</csymbol><ci id="S3.I4.i2.p2.2.m2.1.1.2.cmml" xref="S3.I4.i2.p2.2.m2.1.1.2">𝑓</ci><ci id="S3.I4.i2.p2.2.m2.1.1.3a.cmml" xref="S3.I4.i2.p2.2.m2.1.1.3"><mtext id="S3.I4.i2.p2.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.I4.i2.p2.2.m2.1.1.3">rank</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i2.p2.2.m2.1c">f_{\text{rank}}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i2.p2.2.m2.1d">italic_f start_POSTSUBSCRIPT rank end_POSTSUBSCRIPT</annotation></semantics></math>, which takes into account both the features of the items and the user’s intent representation <math alttext="u" class="ltx_Math" display="inline" id="S3.I4.i2.p2.3.m3.1"><semantics id="S3.I4.i2.p2.3.m3.1a"><mi id="S3.I4.i2.p2.3.m3.1.1" xref="S3.I4.i2.p2.3.m3.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.I4.i2.p2.3.m3.1b"><ci id="S3.I4.i2.p2.3.m3.1.1.cmml" xref="S3.I4.i2.p2.3.m3.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i2.p2.3.m3.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i2.p2.3.m3.1d">italic_u</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.I4.i2.p3">
<p class="ltx_p" id="S3.I4.i2.p3.5">The relevance scores for the pre-ranked subset are computed as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="R=\{(S_{\text{pre}_{j}},R_{j})\mid S_{\text{pre}_{j}}\in S_{\text{pre}},R_{j}=%
f_{\text{rank}}(S_{\text{p}_{j}},u)\}" class="ltx_Math" display="block" id="S3.Ex2.m1.3"><semantics id="S3.Ex2.m1.3a"><mrow id="S3.Ex2.m1.3.3" xref="S3.Ex2.m1.3.3.cmml"><mi id="S3.Ex2.m1.3.3.4" xref="S3.Ex2.m1.3.3.4.cmml">R</mi><mo id="S3.Ex2.m1.3.3.3" xref="S3.Ex2.m1.3.3.3.cmml">=</mo><mrow id="S3.Ex2.m1.3.3.2.2" xref="S3.Ex2.m1.3.3.2.3.cmml"><mo id="S3.Ex2.m1.3.3.2.2.3" stretchy="false" xref="S3.Ex2.m1.3.3.2.3.1.cmml">{</mo><mrow id="S3.Ex2.m1.2.2.1.1.1.2" xref="S3.Ex2.m1.2.2.1.1.1.3.cmml"><mo id="S3.Ex2.m1.2.2.1.1.1.2.3" stretchy="false" xref="S3.Ex2.m1.2.2.1.1.1.3.cmml">(</mo><msub id="S3.Ex2.m1.2.2.1.1.1.1.1" xref="S3.Ex2.m1.2.2.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.2.2.1.1.1.1.1.2" xref="S3.Ex2.m1.2.2.1.1.1.1.1.2.cmml">S</mi><msub id="S3.Ex2.m1.2.2.1.1.1.1.1.3" xref="S3.Ex2.m1.2.2.1.1.1.1.1.3.cmml"><mtext id="S3.Ex2.m1.2.2.1.1.1.1.1.3.2" xref="S3.Ex2.m1.2.2.1.1.1.1.1.3.2a.cmml">pre</mtext><mi id="S3.Ex2.m1.2.2.1.1.1.1.1.3.3" xref="S3.Ex2.m1.2.2.1.1.1.1.1.3.3.cmml">j</mi></msub></msub><mo id="S3.Ex2.m1.2.2.1.1.1.2.4" xref="S3.Ex2.m1.2.2.1.1.1.3.cmml">,</mo><msub id="S3.Ex2.m1.2.2.1.1.1.2.2" xref="S3.Ex2.m1.2.2.1.1.1.2.2.cmml"><mi id="S3.Ex2.m1.2.2.1.1.1.2.2.2" xref="S3.Ex2.m1.2.2.1.1.1.2.2.2.cmml">R</mi><mi id="S3.Ex2.m1.2.2.1.1.1.2.2.3" xref="S3.Ex2.m1.2.2.1.1.1.2.2.3.cmml">j</mi></msub><mo id="S3.Ex2.m1.2.2.1.1.1.2.5" stretchy="false" xref="S3.Ex2.m1.2.2.1.1.1.3.cmml">)</mo></mrow><mo fence="true" id="S3.Ex2.m1.3.3.2.2.4" lspace="0em" rspace="0em" xref="S3.Ex2.m1.3.3.2.3.1.cmml">∣</mo><mrow id="S3.Ex2.m1.3.3.2.2.2.2" xref="S3.Ex2.m1.3.3.2.2.2.3.cmml"><mrow id="S3.Ex2.m1.3.3.2.2.2.1.1" xref="S3.Ex2.m1.3.3.2.2.2.1.1.cmml"><msub id="S3.Ex2.m1.3.3.2.2.2.1.1.2" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2.cmml"><mi id="S3.Ex2.m1.3.3.2.2.2.1.1.2.2" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2.2.cmml">S</mi><msub id="S3.Ex2.m1.3.3.2.2.2.1.1.2.3" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.cmml"><mtext id="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.2" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.2a.cmml">pre</mtext><mi id="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.3" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.3.cmml">j</mi></msub></msub><mo id="S3.Ex2.m1.3.3.2.2.2.1.1.1" xref="S3.Ex2.m1.3.3.2.2.2.1.1.1.cmml">∈</mo><msub id="S3.Ex2.m1.3.3.2.2.2.1.1.3" xref="S3.Ex2.m1.3.3.2.2.2.1.1.3.cmml"><mi id="S3.Ex2.m1.3.3.2.2.2.1.1.3.2" xref="S3.Ex2.m1.3.3.2.2.2.1.1.3.2.cmml">S</mi><mtext id="S3.Ex2.m1.3.3.2.2.2.1.1.3.3" xref="S3.Ex2.m1.3.3.2.2.2.1.1.3.3a.cmml">pre</mtext></msub></mrow><mo id="S3.Ex2.m1.3.3.2.2.2.2.3" xref="S3.Ex2.m1.3.3.2.2.2.3a.cmml">,</mo><mrow id="S3.Ex2.m1.3.3.2.2.2.2.2" xref="S3.Ex2.m1.3.3.2.2.2.2.2.cmml"><msub id="S3.Ex2.m1.3.3.2.2.2.2.2.3" xref="S3.Ex2.m1.3.3.2.2.2.2.2.3.cmml"><mi id="S3.Ex2.m1.3.3.2.2.2.2.2.3.2" xref="S3.Ex2.m1.3.3.2.2.2.2.2.3.2.cmml">R</mi><mi id="S3.Ex2.m1.3.3.2.2.2.2.2.3.3" xref="S3.Ex2.m1.3.3.2.2.2.2.2.3.3.cmml">j</mi></msub><mo id="S3.Ex2.m1.3.3.2.2.2.2.2.2" xref="S3.Ex2.m1.3.3.2.2.2.2.2.2.cmml">=</mo><mrow id="S3.Ex2.m1.3.3.2.2.2.2.2.1" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.cmml"><msub id="S3.Ex2.m1.3.3.2.2.2.2.2.1.3" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.cmml"><mi id="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.2" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.2.cmml">f</mi><mtext id="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.3" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.3a.cmml">rank</mtext></msub><mo id="S3.Ex2.m1.3.3.2.2.2.2.2.1.2" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.2.cmml">⁢</mo><mrow id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.2.cmml"><mo id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.2" stretchy="false" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.2.cmml">(</mo><msub id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.cmml"><mi id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.2" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.2.cmml">S</mi><msub id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.cmml"><mtext id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.2" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.2a.cmml">p</mtext><mi id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.3" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.3.cmml">j</mi></msub></msub><mo id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.3" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.2.cmml">,</mo><mi id="S3.Ex2.m1.1.1" xref="S3.Ex2.m1.1.1.cmml">u</mi><mo id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.4" stretchy="false" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.Ex2.m1.3.3.2.2.5" stretchy="false" xref="S3.Ex2.m1.3.3.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.3b"><apply id="S3.Ex2.m1.3.3.cmml" xref="S3.Ex2.m1.3.3"><eq id="S3.Ex2.m1.3.3.3.cmml" xref="S3.Ex2.m1.3.3.3"></eq><ci id="S3.Ex2.m1.3.3.4.cmml" xref="S3.Ex2.m1.3.3.4">𝑅</ci><apply id="S3.Ex2.m1.3.3.2.3.cmml" xref="S3.Ex2.m1.3.3.2.2"><csymbol cd="latexml" id="S3.Ex2.m1.3.3.2.3.1.cmml" xref="S3.Ex2.m1.3.3.2.2.3">conditional-set</csymbol><interval closure="open" id="S3.Ex2.m1.2.2.1.1.1.3.cmml" xref="S3.Ex2.m1.2.2.1.1.1.2"><apply id="S3.Ex2.m1.2.2.1.1.1.1.1.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex2.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.1.2">𝑆</ci><apply id="S3.Ex2.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex2.m1.2.2.1.1.1.1.1.3.2a.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.1.3.2"><mtext id="S3.Ex2.m1.2.2.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="S3.Ex2.m1.2.2.1.1.1.1.1.3.2">pre</mtext></ci><ci id="S3.Ex2.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S3.Ex2.m1.2.2.1.1.1.1.1.3.3">𝑗</ci></apply></apply><apply id="S3.Ex2.m1.2.2.1.1.1.2.2.cmml" xref="S3.Ex2.m1.2.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.2.2.1.1.1.2.2.1.cmml" xref="S3.Ex2.m1.2.2.1.1.1.2.2">subscript</csymbol><ci id="S3.Ex2.m1.2.2.1.1.1.2.2.2.cmml" xref="S3.Ex2.m1.2.2.1.1.1.2.2.2">𝑅</ci><ci id="S3.Ex2.m1.2.2.1.1.1.2.2.3.cmml" xref="S3.Ex2.m1.2.2.1.1.1.2.2.3">𝑗</ci></apply></interval><apply id="S3.Ex2.m1.3.3.2.2.2.3.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.2.2.2.3a.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.Ex2.m1.3.3.2.2.2.1.1.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1"><in id="S3.Ex2.m1.3.3.2.2.2.1.1.1.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1.1"></in><apply id="S3.Ex2.m1.3.3.2.2.2.1.1.2.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.2.2.2.1.1.2.1.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2">subscript</csymbol><ci id="S3.Ex2.m1.3.3.2.2.2.1.1.2.2.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2.2">𝑆</ci><apply id="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.1.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2.3">subscript</csymbol><ci id="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.2a.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.2"><mtext id="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.2.cmml" mathsize="70%" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.2">pre</mtext></ci><ci id="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.3.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1.2.3.3">𝑗</ci></apply></apply><apply id="S3.Ex2.m1.3.3.2.2.2.1.1.3.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.2.2.2.1.1.3.1.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1.3">subscript</csymbol><ci id="S3.Ex2.m1.3.3.2.2.2.1.1.3.2.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1.3.2">𝑆</ci><ci id="S3.Ex2.m1.3.3.2.2.2.1.1.3.3a.cmml" xref="S3.Ex2.m1.3.3.2.2.2.1.1.3.3"><mtext id="S3.Ex2.m1.3.3.2.2.2.1.1.3.3.cmml" mathsize="70%" xref="S3.Ex2.m1.3.3.2.2.2.1.1.3.3">pre</mtext></ci></apply></apply><apply id="S3.Ex2.m1.3.3.2.2.2.2.2.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2"><eq id="S3.Ex2.m1.3.3.2.2.2.2.2.2.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.2"></eq><apply id="S3.Ex2.m1.3.3.2.2.2.2.2.3.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.2.2.2.2.2.3.1.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.3">subscript</csymbol><ci id="S3.Ex2.m1.3.3.2.2.2.2.2.3.2.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.3.2">𝑅</ci><ci id="S3.Ex2.m1.3.3.2.2.2.2.2.3.3.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.3.3">𝑗</ci></apply><apply id="S3.Ex2.m1.3.3.2.2.2.2.2.1.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1"><times id="S3.Ex2.m1.3.3.2.2.2.2.2.1.2.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.2"></times><apply id="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.1.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.3">subscript</csymbol><ci id="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.2.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.2">𝑓</ci><ci id="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.3a.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.3"><mtext id="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.3.cmml" mathsize="70%" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.3.3">rank</mtext></ci></apply><interval closure="open" id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.2.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1"><apply id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.1.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1">subscript</csymbol><ci id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.2.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.2">𝑆</ci><apply id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.1.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.2a.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.2"><mtext id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.2.cmml" mathsize="70%" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.2">p</mtext></ci><ci id="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.3.cmml" xref="S3.Ex2.m1.3.3.2.2.2.2.2.1.1.1.1.3.3">𝑗</ci></apply></apply><ci id="S3.Ex2.m1.1.1.cmml" xref="S3.Ex2.m1.1.1">𝑢</ci></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.3c">R=\{(S_{\text{pre}_{j}},R_{j})\mid S_{\text{pre}_{j}}\in S_{\text{pre}},R_{j}=%
f_{\text{rank}}(S_{\text{p}_{j}},u)\}</annotation><annotation encoding="application/x-llamapun" id="S3.Ex2.m1.3d">italic_R = { ( italic_S start_POSTSUBSCRIPT pre start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ∣ italic_S start_POSTSUBSCRIPT pre start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT ∈ italic_S start_POSTSUBSCRIPT pre end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT = italic_f start_POSTSUBSCRIPT rank end_POSTSUBSCRIPT ( italic_S start_POSTSUBSCRIPT p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_u ) }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.I4.i2.p3.4">Here, <math alttext="R" class="ltx_Math" display="inline" id="S3.I4.i2.p3.1.m1.1"><semantics id="S3.I4.i2.p3.1.m1.1a"><mi id="S3.I4.i2.p3.1.m1.1.1" xref="S3.I4.i2.p3.1.m1.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S3.I4.i2.p3.1.m1.1b"><ci id="S3.I4.i2.p3.1.m1.1.1.cmml" xref="S3.I4.i2.p3.1.m1.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i2.p3.1.m1.1c">R</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i2.p3.1.m1.1d">italic_R</annotation></semantics></math> represents a set of pairs where <math alttext="S_{\text{pre}_{j}}" class="ltx_Math" display="inline" id="S3.I4.i2.p3.2.m2.1"><semantics id="S3.I4.i2.p3.2.m2.1a"><msub id="S3.I4.i2.p3.2.m2.1.1" xref="S3.I4.i2.p3.2.m2.1.1.cmml"><mi id="S3.I4.i2.p3.2.m2.1.1.2" xref="S3.I4.i2.p3.2.m2.1.1.2.cmml">S</mi><msub id="S3.I4.i2.p3.2.m2.1.1.3" xref="S3.I4.i2.p3.2.m2.1.1.3.cmml"><mtext id="S3.I4.i2.p3.2.m2.1.1.3.2" xref="S3.I4.i2.p3.2.m2.1.1.3.2a.cmml">pre</mtext><mi id="S3.I4.i2.p3.2.m2.1.1.3.3" xref="S3.I4.i2.p3.2.m2.1.1.3.3.cmml">j</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i2.p3.2.m2.1b"><apply id="S3.I4.i2.p3.2.m2.1.1.cmml" xref="S3.I4.i2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.I4.i2.p3.2.m2.1.1.1.cmml" xref="S3.I4.i2.p3.2.m2.1.1">subscript</csymbol><ci id="S3.I4.i2.p3.2.m2.1.1.2.cmml" xref="S3.I4.i2.p3.2.m2.1.1.2">𝑆</ci><apply id="S3.I4.i2.p3.2.m2.1.1.3.cmml" xref="S3.I4.i2.p3.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.I4.i2.p3.2.m2.1.1.3.1.cmml" xref="S3.I4.i2.p3.2.m2.1.1.3">subscript</csymbol><ci id="S3.I4.i2.p3.2.m2.1.1.3.2a.cmml" xref="S3.I4.i2.p3.2.m2.1.1.3.2"><mtext id="S3.I4.i2.p3.2.m2.1.1.3.2.cmml" mathsize="70%" xref="S3.I4.i2.p3.2.m2.1.1.3.2">pre</mtext></ci><ci id="S3.I4.i2.p3.2.m2.1.1.3.3.cmml" xref="S3.I4.i2.p3.2.m2.1.1.3.3">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i2.p3.2.m2.1c">S_{\text{pre}_{j}}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i2.p3.2.m2.1d">italic_S start_POSTSUBSCRIPT pre start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> is an item from the pre-ranked subset <math alttext="S_{\text{pre}}" class="ltx_Math" display="inline" id="S3.I4.i2.p3.3.m3.1"><semantics id="S3.I4.i2.p3.3.m3.1a"><msub id="S3.I4.i2.p3.3.m3.1.1" xref="S3.I4.i2.p3.3.m3.1.1.cmml"><mi id="S3.I4.i2.p3.3.m3.1.1.2" xref="S3.I4.i2.p3.3.m3.1.1.2.cmml">S</mi><mtext id="S3.I4.i2.p3.3.m3.1.1.3" xref="S3.I4.i2.p3.3.m3.1.1.3a.cmml">pre</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i2.p3.3.m3.1b"><apply id="S3.I4.i2.p3.3.m3.1.1.cmml" xref="S3.I4.i2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.I4.i2.p3.3.m3.1.1.1.cmml" xref="S3.I4.i2.p3.3.m3.1.1">subscript</csymbol><ci id="S3.I4.i2.p3.3.m3.1.1.2.cmml" xref="S3.I4.i2.p3.3.m3.1.1.2">𝑆</ci><ci id="S3.I4.i2.p3.3.m3.1.1.3a.cmml" xref="S3.I4.i2.p3.3.m3.1.1.3"><mtext id="S3.I4.i2.p3.3.m3.1.1.3.cmml" mathsize="70%" xref="S3.I4.i2.p3.3.m3.1.1.3">pre</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i2.p3.3.m3.1c">S_{\text{pre}}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i2.p3.3.m3.1d">italic_S start_POSTSUBSCRIPT pre end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="R_{j}" class="ltx_Math" display="inline" id="S3.I4.i2.p3.4.m4.1"><semantics id="S3.I4.i2.p3.4.m4.1a"><msub id="S3.I4.i2.p3.4.m4.1.1" xref="S3.I4.i2.p3.4.m4.1.1.cmml"><mi id="S3.I4.i2.p3.4.m4.1.1.2" xref="S3.I4.i2.p3.4.m4.1.1.2.cmml">R</mi><mi id="S3.I4.i2.p3.4.m4.1.1.3" xref="S3.I4.i2.p3.4.m4.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i2.p3.4.m4.1b"><apply id="S3.I4.i2.p3.4.m4.1.1.cmml" xref="S3.I4.i2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.I4.i2.p3.4.m4.1.1.1.cmml" xref="S3.I4.i2.p3.4.m4.1.1">subscript</csymbol><ci id="S3.I4.i2.p3.4.m4.1.1.2.cmml" xref="S3.I4.i2.p3.4.m4.1.1.2">𝑅</ci><ci id="S3.I4.i2.p3.4.m4.1.1.3.cmml" xref="S3.I4.i2.p3.4.m4.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i2.p3.4.m4.1c">R_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i2.p3.4.m4.1d">italic_R start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> denotes its corresponding relevance score.</p>
</div>
</li>
<li class="ltx_item" id="S3.I4.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S3.I4.i3.p1">
<p class="ltx_p" id="S3.I4.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I4.i3.p1.1.1">Stage 3: Re-Ranking</span></p>
</div>
<div class="ltx_para" id="S3.I4.i3.p2">
<p class="ltx_p" id="S3.I4.i3.p2.3">The Re-Ranking phase, although discretionary, plays a pivotal role in certain contexts such as in official document composition or critical decision-making scenarios. This step involves isolating a subset <math alttext="S_{\text{re}}" class="ltx_Math" display="inline" id="S3.I4.i3.p2.1.m1.1"><semantics id="S3.I4.i3.p2.1.m1.1a"><msub id="S3.I4.i3.p2.1.m1.1.1" xref="S3.I4.i3.p2.1.m1.1.1.cmml"><mi id="S3.I4.i3.p2.1.m1.1.1.2" xref="S3.I4.i3.p2.1.m1.1.1.2.cmml">S</mi><mtext id="S3.I4.i3.p2.1.m1.1.1.3" xref="S3.I4.i3.p2.1.m1.1.1.3a.cmml">re</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i3.p2.1.m1.1b"><apply id="S3.I4.i3.p2.1.m1.1.1.cmml" xref="S3.I4.i3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I4.i3.p2.1.m1.1.1.1.cmml" xref="S3.I4.i3.p2.1.m1.1.1">subscript</csymbol><ci id="S3.I4.i3.p2.1.m1.1.1.2.cmml" xref="S3.I4.i3.p2.1.m1.1.1.2">𝑆</ci><ci id="S3.I4.i3.p2.1.m1.1.1.3a.cmml" xref="S3.I4.i3.p2.1.m1.1.1.3"><mtext id="S3.I4.i3.p2.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.I4.i3.p2.1.m1.1.1.3">re</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i3.p2.1.m1.1c">S_{\text{re}}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i3.p2.1.m1.1d">italic_S start_POSTSUBSCRIPT re end_POSTSUBSCRIPT</annotation></semantics></math> from the previously ranked set <math alttext="S_{\text{rank}}" class="ltx_Math" display="inline" id="S3.I4.i3.p2.2.m2.1"><semantics id="S3.I4.i3.p2.2.m2.1a"><msub id="S3.I4.i3.p2.2.m2.1.1" xref="S3.I4.i3.p2.2.m2.1.1.cmml"><mi id="S3.I4.i3.p2.2.m2.1.1.2" xref="S3.I4.i3.p2.2.m2.1.1.2.cmml">S</mi><mtext id="S3.I4.i3.p2.2.m2.1.1.3" xref="S3.I4.i3.p2.2.m2.1.1.3a.cmml">rank</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i3.p2.2.m2.1b"><apply id="S3.I4.i3.p2.2.m2.1.1.cmml" xref="S3.I4.i3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.I4.i3.p2.2.m2.1.1.1.cmml" xref="S3.I4.i3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.I4.i3.p2.2.m2.1.1.2.cmml" xref="S3.I4.i3.p2.2.m2.1.1.2">𝑆</ci><ci id="S3.I4.i3.p2.2.m2.1.1.3a.cmml" xref="S3.I4.i3.p2.2.m2.1.1.3"><mtext id="S3.I4.i3.p2.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.I4.i3.p2.2.m2.1.1.3">rank</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i3.p2.2.m2.1c">S_{\text{rank}}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i3.p2.2.m2.1d">italic_S start_POSTSUBSCRIPT rank end_POSTSUBSCRIPT</annotation></semantics></math> and applying a re-ranking function, commonly denoted as <math alttext="f_{\text{re}}" class="ltx_Math" display="inline" id="S3.I4.i3.p2.3.m3.1"><semantics id="S3.I4.i3.p2.3.m3.1a"><msub id="S3.I4.i3.p2.3.m3.1.1" xref="S3.I4.i3.p2.3.m3.1.1.cmml"><mi id="S3.I4.i3.p2.3.m3.1.1.2" xref="S3.I4.i3.p2.3.m3.1.1.2.cmml">f</mi><mtext id="S3.I4.i3.p2.3.m3.1.1.3" xref="S3.I4.i3.p2.3.m3.1.1.3a.cmml">re</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i3.p2.3.m3.1b"><apply id="S3.I4.i3.p2.3.m3.1.1.cmml" xref="S3.I4.i3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.I4.i3.p2.3.m3.1.1.1.cmml" xref="S3.I4.i3.p2.3.m3.1.1">subscript</csymbol><ci id="S3.I4.i3.p2.3.m3.1.1.2.cmml" xref="S3.I4.i3.p2.3.m3.1.1.2">𝑓</ci><ci id="S3.I4.i3.p2.3.m3.1.1.3a.cmml" xref="S3.I4.i3.p2.3.m3.1.1.3"><mtext id="S3.I4.i3.p2.3.m3.1.1.3.cmml" mathsize="70%" xref="S3.I4.i3.p2.3.m3.1.1.3">re</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i3.p2.3.m3.1c">f_{\text{re}}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i3.p2.3.m3.1d">italic_f start_POSTSUBSCRIPT re end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.I4.i3.p3">
<p class="ltx_p" id="S3.I4.i3.p3.3">The re-ranking process adjusts the relevance scores of items in <math alttext="S_{\text{re}}" class="ltx_Math" display="inline" id="S3.I4.i3.p3.1.m1.1"><semantics id="S3.I4.i3.p3.1.m1.1a"><msub id="S3.I4.i3.p3.1.m1.1.1" xref="S3.I4.i3.p3.1.m1.1.1.cmml"><mi id="S3.I4.i3.p3.1.m1.1.1.2" xref="S3.I4.i3.p3.1.m1.1.1.2.cmml">S</mi><mtext id="S3.I4.i3.p3.1.m1.1.1.3" xref="S3.I4.i3.p3.1.m1.1.1.3a.cmml">re</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i3.p3.1.m1.1b"><apply id="S3.I4.i3.p3.1.m1.1.1.cmml" xref="S3.I4.i3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I4.i3.p3.1.m1.1.1.1.cmml" xref="S3.I4.i3.p3.1.m1.1.1">subscript</csymbol><ci id="S3.I4.i3.p3.1.m1.1.1.2.cmml" xref="S3.I4.i3.p3.1.m1.1.1.2">𝑆</ci><ci id="S3.I4.i3.p3.1.m1.1.1.3a.cmml" xref="S3.I4.i3.p3.1.m1.1.1.3"><mtext id="S3.I4.i3.p3.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.I4.i3.p3.1.m1.1.1.3">re</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i3.p3.1.m1.1c">S_{\text{re}}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i3.p3.1.m1.1d">italic_S start_POSTSUBSCRIPT re end_POSTSUBSCRIPT</annotation></semantics></math> based on credibility scores <math alttext="s_{k}" class="ltx_Math" display="inline" id="S3.I4.i3.p3.2.m2.1"><semantics id="S3.I4.i3.p3.2.m2.1a"><msub id="S3.I4.i3.p3.2.m2.1.1" xref="S3.I4.i3.p3.2.m2.1.1.cmml"><mi id="S3.I4.i3.p3.2.m2.1.1.2" xref="S3.I4.i3.p3.2.m2.1.1.2.cmml">s</mi><mi id="S3.I4.i3.p3.2.m2.1.1.3" xref="S3.I4.i3.p3.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i3.p3.2.m2.1b"><apply id="S3.I4.i3.p3.2.m2.1.1.cmml" xref="S3.I4.i3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.I4.i3.p3.2.m2.1.1.1.cmml" xref="S3.I4.i3.p3.2.m2.1.1">subscript</csymbol><ci id="S3.I4.i3.p3.2.m2.1.1.2.cmml" xref="S3.I4.i3.p3.2.m2.1.1.2">𝑠</ci><ci id="S3.I4.i3.p3.2.m2.1.1.3.cmml" xref="S3.I4.i3.p3.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i3.p3.2.m2.1c">s_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i3.p3.2.m2.1d">italic_s start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> associated with each item. The final output of the Re-Ranking stage denoted as <math alttext="O" class="ltx_Math" display="inline" id="S3.I4.i3.p3.3.m3.1"><semantics id="S3.I4.i3.p3.3.m3.1a"><mi id="S3.I4.i3.p3.3.m3.1.1" xref="S3.I4.i3.p3.3.m3.1.1.cmml">O</mi><annotation-xml encoding="MathML-Content" id="S3.I4.i3.p3.3.m3.1b"><ci id="S3.I4.i3.p3.3.m3.1.1.cmml" xref="S3.I4.i3.p3.3.m3.1.1">𝑂</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i3.p3.3.m3.1c">O</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i3.p3.3.m3.1d">italic_O</annotation></semantics></math>, is obtained by sorting the re-ranked subset in descending order of relevance scores.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.Ex3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="O=\{(S_{\text{re}_{k}},O_{k})\mid S_{\text{re}_{k}}\in S_{\text{re}},O_{k}=f_{%
\text{re}}(S_{\text{re}_{k}},s_{k})\}" class="ltx_Math" display="block" id="S3.Ex3.m1.2"><semantics id="S3.Ex3.m1.2a"><mrow id="S3.Ex3.m1.2.2" xref="S3.Ex3.m1.2.2.cmml"><mi id="S3.Ex3.m1.2.2.4" xref="S3.Ex3.m1.2.2.4.cmml">O</mi><mo id="S3.Ex3.m1.2.2.3" xref="S3.Ex3.m1.2.2.3.cmml">=</mo><mrow id="S3.Ex3.m1.2.2.2.2" xref="S3.Ex3.m1.2.2.2.3.cmml"><mo id="S3.Ex3.m1.2.2.2.2.3" stretchy="false" xref="S3.Ex3.m1.2.2.2.3.1.cmml">{</mo><mrow id="S3.Ex3.m1.1.1.1.1.1.2" xref="S3.Ex3.m1.1.1.1.1.1.3.cmml"><mo id="S3.Ex3.m1.1.1.1.1.1.2.3" stretchy="false" xref="S3.Ex3.m1.1.1.1.1.1.3.cmml">(</mo><msub id="S3.Ex3.m1.1.1.1.1.1.1.1" xref="S3.Ex3.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex3.m1.1.1.1.1.1.1.1.2" xref="S3.Ex3.m1.1.1.1.1.1.1.1.2.cmml">S</mi><msub id="S3.Ex3.m1.1.1.1.1.1.1.1.3" xref="S3.Ex3.m1.1.1.1.1.1.1.1.3.cmml"><mtext id="S3.Ex3.m1.1.1.1.1.1.1.1.3.2" xref="S3.Ex3.m1.1.1.1.1.1.1.1.3.2a.cmml">re</mtext><mi id="S3.Ex3.m1.1.1.1.1.1.1.1.3.3" xref="S3.Ex3.m1.1.1.1.1.1.1.1.3.3.cmml">k</mi></msub></msub><mo id="S3.Ex3.m1.1.1.1.1.1.2.4" xref="S3.Ex3.m1.1.1.1.1.1.3.cmml">,</mo><msub id="S3.Ex3.m1.1.1.1.1.1.2.2" xref="S3.Ex3.m1.1.1.1.1.1.2.2.cmml"><mi id="S3.Ex3.m1.1.1.1.1.1.2.2.2" xref="S3.Ex3.m1.1.1.1.1.1.2.2.2.cmml">O</mi><mi id="S3.Ex3.m1.1.1.1.1.1.2.2.3" xref="S3.Ex3.m1.1.1.1.1.1.2.2.3.cmml">k</mi></msub><mo id="S3.Ex3.m1.1.1.1.1.1.2.5" stretchy="false" xref="S3.Ex3.m1.1.1.1.1.1.3.cmml">)</mo></mrow><mo fence="true" id="S3.Ex3.m1.2.2.2.2.4" lspace="0em" rspace="0em" xref="S3.Ex3.m1.2.2.2.3.1.cmml">∣</mo><mrow id="S3.Ex3.m1.2.2.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.2.3.cmml"><mrow id="S3.Ex3.m1.2.2.2.2.2.1.1" xref="S3.Ex3.m1.2.2.2.2.2.1.1.cmml"><msub id="S3.Ex3.m1.2.2.2.2.2.1.1.2" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2.cmml"><mi id="S3.Ex3.m1.2.2.2.2.2.1.1.2.2" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2.2.cmml">S</mi><msub id="S3.Ex3.m1.2.2.2.2.2.1.1.2.3" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.cmml"><mtext id="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.2" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.2a.cmml">re</mtext><mi id="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.3" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.3.cmml">k</mi></msub></msub><mo id="S3.Ex3.m1.2.2.2.2.2.1.1.1" xref="S3.Ex3.m1.2.2.2.2.2.1.1.1.cmml">∈</mo><msub id="S3.Ex3.m1.2.2.2.2.2.1.1.3" xref="S3.Ex3.m1.2.2.2.2.2.1.1.3.cmml"><mi id="S3.Ex3.m1.2.2.2.2.2.1.1.3.2" xref="S3.Ex3.m1.2.2.2.2.2.1.1.3.2.cmml">S</mi><mtext id="S3.Ex3.m1.2.2.2.2.2.1.1.3.3" xref="S3.Ex3.m1.2.2.2.2.2.1.1.3.3a.cmml">re</mtext></msub></mrow><mo id="S3.Ex3.m1.2.2.2.2.2.2.3" xref="S3.Ex3.m1.2.2.2.2.2.3a.cmml">,</mo><mrow id="S3.Ex3.m1.2.2.2.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.2.2.2.cmml"><msub id="S3.Ex3.m1.2.2.2.2.2.2.2.4" xref="S3.Ex3.m1.2.2.2.2.2.2.2.4.cmml"><mi id="S3.Ex3.m1.2.2.2.2.2.2.2.4.2" xref="S3.Ex3.m1.2.2.2.2.2.2.2.4.2.cmml">O</mi><mi id="S3.Ex3.m1.2.2.2.2.2.2.2.4.3" xref="S3.Ex3.m1.2.2.2.2.2.2.2.4.3.cmml">k</mi></msub><mo id="S3.Ex3.m1.2.2.2.2.2.2.2.3" xref="S3.Ex3.m1.2.2.2.2.2.2.2.3.cmml">=</mo><mrow id="S3.Ex3.m1.2.2.2.2.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.cmml"><msub id="S3.Ex3.m1.2.2.2.2.2.2.2.2.4" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.cmml"><mi id="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.2" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.2.cmml">f</mi><mtext id="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.3" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.3a.cmml">re</mtext></msub><mo id="S3.Ex3.m1.2.2.2.2.2.2.2.2.3" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.3.cmml">⁢</mo><mrow id="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.3.cmml"><mo id="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.3" stretchy="false" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.3.cmml">(</mo><msub id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.cmml"><mi id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.2" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.2.cmml">S</mi><msub id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.cmml"><mtext id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.2" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.2a.cmml">re</mtext><mi id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.3" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.3.cmml">k</mi></msub></msub><mo id="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.4" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.3.cmml">,</mo><msub id="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2.cmml"><mi id="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2.2.cmml">s</mi><mi id="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2.3" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2.3.cmml">k</mi></msub><mo id="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.5" stretchy="false" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.Ex3.m1.2.2.2.2.5" stretchy="false" xref="S3.Ex3.m1.2.2.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex3.m1.2b"><apply id="S3.Ex3.m1.2.2.cmml" xref="S3.Ex3.m1.2.2"><eq id="S3.Ex3.m1.2.2.3.cmml" xref="S3.Ex3.m1.2.2.3"></eq><ci id="S3.Ex3.m1.2.2.4.cmml" xref="S3.Ex3.m1.2.2.4">𝑂</ci><apply id="S3.Ex3.m1.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.2.2"><csymbol cd="latexml" id="S3.Ex3.m1.2.2.2.3.1.cmml" xref="S3.Ex3.m1.2.2.2.2.3">conditional-set</csymbol><interval closure="open" id="S3.Ex3.m1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.1.1.1.1.1.2"><apply id="S3.Ex3.m1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex3.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.1.1.1.1.1.1.1.2">𝑆</ci><apply id="S3.Ex3.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex3.m1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex3.m1.1.1.1.1.1.1.1.3.2a.cmml" xref="S3.Ex3.m1.1.1.1.1.1.1.1.3.2"><mtext id="S3.Ex3.m1.1.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="S3.Ex3.m1.1.1.1.1.1.1.1.3.2">re</mtext></ci><ci id="S3.Ex3.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex3.m1.1.1.1.1.1.1.1.3.3">𝑘</ci></apply></apply><apply id="S3.Ex3.m1.1.1.1.1.1.2.2.cmml" xref="S3.Ex3.m1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.1.1.1.1.1.2.2.1.cmml" xref="S3.Ex3.m1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.Ex3.m1.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex3.m1.1.1.1.1.1.2.2.2">𝑂</ci><ci id="S3.Ex3.m1.1.1.1.1.1.2.2.3.cmml" xref="S3.Ex3.m1.1.1.1.1.1.2.2.3">𝑘</ci></apply></interval><apply id="S3.Ex3.m1.2.2.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.2.2.3a.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.Ex3.m1.2.2.2.2.2.1.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1"><in id="S3.Ex3.m1.2.2.2.2.2.1.1.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1.1"></in><apply id="S3.Ex3.m1.2.2.2.2.2.1.1.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.2.2.1.1.2.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2">subscript</csymbol><ci id="S3.Ex3.m1.2.2.2.2.2.1.1.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2.2">𝑆</ci><apply id="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2.3">subscript</csymbol><ci id="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.2a.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.2"><mtext id="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.2.cmml" mathsize="70%" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.2">re</mtext></ci><ci id="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1.2.3.3">𝑘</ci></apply></apply><apply id="S3.Ex3.m1.2.2.2.2.2.1.1.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.2.2.1.1.3.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1.3">subscript</csymbol><ci id="S3.Ex3.m1.2.2.2.2.2.1.1.3.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1.3.2">𝑆</ci><ci id="S3.Ex3.m1.2.2.2.2.2.1.1.3.3a.cmml" xref="S3.Ex3.m1.2.2.2.2.2.1.1.3.3"><mtext id="S3.Ex3.m1.2.2.2.2.2.1.1.3.3.cmml" mathsize="70%" xref="S3.Ex3.m1.2.2.2.2.2.1.1.3.3">re</mtext></ci></apply></apply><apply id="S3.Ex3.m1.2.2.2.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2"><eq id="S3.Ex3.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.3"></eq><apply id="S3.Ex3.m1.2.2.2.2.2.2.2.4.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.4"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.2.2.2.2.4.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.4">subscript</csymbol><ci id="S3.Ex3.m1.2.2.2.2.2.2.2.4.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.4.2">𝑂</ci><ci id="S3.Ex3.m1.2.2.2.2.2.2.2.4.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.4.3">𝑘</ci></apply><apply id="S3.Ex3.m1.2.2.2.2.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2"><times id="S3.Ex3.m1.2.2.2.2.2.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.3"></times><apply id="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.4"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.4">subscript</csymbol><ci id="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.2">𝑓</ci><ci id="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.3a.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.3"><mtext id="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.3.cmml" mathsize="70%" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.4.3">re</mtext></ci></apply><interval closure="open" id="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2"><apply id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1">subscript</csymbol><ci id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.2">𝑆</ci><apply id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.2a.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.2"><mtext id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.2.cmml" mathsize="70%" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.2">re</mtext></ci><ci id="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.1.1.1.1.3.3">𝑘</ci></apply></apply><apply id="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2.2">𝑠</ci><ci id="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2.2.2.2.2.2.3">𝑘</ci></apply></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m1.2c">O=\{(S_{\text{re}_{k}},O_{k})\mid S_{\text{re}_{k}}\in S_{\text{re}},O_{k}=f_{%
\text{re}}(S_{\text{re}_{k}},s_{k})\}</annotation><annotation encoding="application/x-llamapun" id="S3.Ex3.m1.2d">italic_O = { ( italic_S start_POSTSUBSCRIPT re start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_O start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) ∣ italic_S start_POSTSUBSCRIPT re start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT ∈ italic_S start_POSTSUBSCRIPT re end_POSTSUBSCRIPT , italic_O start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT = italic_f start_POSTSUBSCRIPT re end_POSTSUBSCRIPT ( italic_S start_POSTSUBSCRIPT re start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_s start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.I4.i3.p3.7">Here, <math alttext="O" class="ltx_Math" display="inline" id="S3.I4.i3.p3.4.m1.1"><semantics id="S3.I4.i3.p3.4.m1.1a"><mi id="S3.I4.i3.p3.4.m1.1.1" xref="S3.I4.i3.p3.4.m1.1.1.cmml">O</mi><annotation-xml encoding="MathML-Content" id="S3.I4.i3.p3.4.m1.1b"><ci id="S3.I4.i3.p3.4.m1.1.1.cmml" xref="S3.I4.i3.p3.4.m1.1.1">𝑂</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i3.p3.4.m1.1c">O</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i3.p3.4.m1.1d">italic_O</annotation></semantics></math> represents a set of pairs where <math alttext="S_{\text{re}_{k}}" class="ltx_Math" display="inline" id="S3.I4.i3.p3.5.m2.1"><semantics id="S3.I4.i3.p3.5.m2.1a"><msub id="S3.I4.i3.p3.5.m2.1.1" xref="S3.I4.i3.p3.5.m2.1.1.cmml"><mi id="S3.I4.i3.p3.5.m2.1.1.2" xref="S3.I4.i3.p3.5.m2.1.1.2.cmml">S</mi><msub id="S3.I4.i3.p3.5.m2.1.1.3" xref="S3.I4.i3.p3.5.m2.1.1.3.cmml"><mtext id="S3.I4.i3.p3.5.m2.1.1.3.2" xref="S3.I4.i3.p3.5.m2.1.1.3.2a.cmml">re</mtext><mi id="S3.I4.i3.p3.5.m2.1.1.3.3" xref="S3.I4.i3.p3.5.m2.1.1.3.3.cmml">k</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i3.p3.5.m2.1b"><apply id="S3.I4.i3.p3.5.m2.1.1.cmml" xref="S3.I4.i3.p3.5.m2.1.1"><csymbol cd="ambiguous" id="S3.I4.i3.p3.5.m2.1.1.1.cmml" xref="S3.I4.i3.p3.5.m2.1.1">subscript</csymbol><ci id="S3.I4.i3.p3.5.m2.1.1.2.cmml" xref="S3.I4.i3.p3.5.m2.1.1.2">𝑆</ci><apply id="S3.I4.i3.p3.5.m2.1.1.3.cmml" xref="S3.I4.i3.p3.5.m2.1.1.3"><csymbol cd="ambiguous" id="S3.I4.i3.p3.5.m2.1.1.3.1.cmml" xref="S3.I4.i3.p3.5.m2.1.1.3">subscript</csymbol><ci id="S3.I4.i3.p3.5.m2.1.1.3.2a.cmml" xref="S3.I4.i3.p3.5.m2.1.1.3.2"><mtext id="S3.I4.i3.p3.5.m2.1.1.3.2.cmml" mathsize="70%" xref="S3.I4.i3.p3.5.m2.1.1.3.2">re</mtext></ci><ci id="S3.I4.i3.p3.5.m2.1.1.3.3.cmml" xref="S3.I4.i3.p3.5.m2.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i3.p3.5.m2.1c">S_{\text{re}_{k}}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i3.p3.5.m2.1d">italic_S start_POSTSUBSCRIPT re start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> is an item from the re-ranked subset <math alttext="S_{\text{re}}" class="ltx_Math" display="inline" id="S3.I4.i3.p3.6.m3.1"><semantics id="S3.I4.i3.p3.6.m3.1a"><msub id="S3.I4.i3.p3.6.m3.1.1" xref="S3.I4.i3.p3.6.m3.1.1.cmml"><mi id="S3.I4.i3.p3.6.m3.1.1.2" xref="S3.I4.i3.p3.6.m3.1.1.2.cmml">S</mi><mtext id="S3.I4.i3.p3.6.m3.1.1.3" xref="S3.I4.i3.p3.6.m3.1.1.3a.cmml">re</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i3.p3.6.m3.1b"><apply id="S3.I4.i3.p3.6.m3.1.1.cmml" xref="S3.I4.i3.p3.6.m3.1.1"><csymbol cd="ambiguous" id="S3.I4.i3.p3.6.m3.1.1.1.cmml" xref="S3.I4.i3.p3.6.m3.1.1">subscript</csymbol><ci id="S3.I4.i3.p3.6.m3.1.1.2.cmml" xref="S3.I4.i3.p3.6.m3.1.1.2">𝑆</ci><ci id="S3.I4.i3.p3.6.m3.1.1.3a.cmml" xref="S3.I4.i3.p3.6.m3.1.1.3"><mtext id="S3.I4.i3.p3.6.m3.1.1.3.cmml" mathsize="70%" xref="S3.I4.i3.p3.6.m3.1.1.3">re</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i3.p3.6.m3.1c">S_{\text{re}}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i3.p3.6.m3.1d">italic_S start_POSTSUBSCRIPT re end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="O_{k}" class="ltx_Math" display="inline" id="S3.I4.i3.p3.7.m4.1"><semantics id="S3.I4.i3.p3.7.m4.1a"><msub id="S3.I4.i3.p3.7.m4.1.1" xref="S3.I4.i3.p3.7.m4.1.1.cmml"><mi id="S3.I4.i3.p3.7.m4.1.1.2" xref="S3.I4.i3.p3.7.m4.1.1.2.cmml">O</mi><mi id="S3.I4.i3.p3.7.m4.1.1.3" xref="S3.I4.i3.p3.7.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I4.i3.p3.7.m4.1b"><apply id="S3.I4.i3.p3.7.m4.1.1.cmml" xref="S3.I4.i3.p3.7.m4.1.1"><csymbol cd="ambiguous" id="S3.I4.i3.p3.7.m4.1.1.1.cmml" xref="S3.I4.i3.p3.7.m4.1.1">subscript</csymbol><ci id="S3.I4.i3.p3.7.m4.1.1.2.cmml" xref="S3.I4.i3.p3.7.m4.1.1.2">𝑂</ci><ci id="S3.I4.i3.p3.7.m4.1.1.3.cmml" xref="S3.I4.i3.p3.7.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I4.i3.p3.7.m4.1c">O_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.I4.i3.p3.7.m4.1d">italic_O start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> denotes its corresponding relevance score after re-ranking.</p>
</div>
</li>
</ol>
</div>
<div class="ltx_para" id="S3.SS3.SSSx2.p4">
<p class="ltx_p" id="S3.SS3.SSSx2.p4.3">At the core of the Ranking Service lies a commitment to delivering information with utmost accuracy and relevance. Advanced relevance assessment algorithms, such as <math alttext="bge" class="ltx_Math" display="inline" id="S3.SS3.SSSx2.p4.1.m1.1"><semantics id="S3.SS3.SSSx2.p4.1.m1.1a"><mrow id="S3.SS3.SSSx2.p4.1.m1.1.1" xref="S3.SS3.SSSx2.p4.1.m1.1.1.cmml"><mi id="S3.SS3.SSSx2.p4.1.m1.1.1.2" xref="S3.SS3.SSSx2.p4.1.m1.1.1.2.cmml">b</mi><mo id="S3.SS3.SSSx2.p4.1.m1.1.1.1" xref="S3.SS3.SSSx2.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.1.m1.1.1.3" xref="S3.SS3.SSSx2.p4.1.m1.1.1.3.cmml">g</mi><mo id="S3.SS3.SSSx2.p4.1.m1.1.1.1a" xref="S3.SS3.SSSx2.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.1.m1.1.1.4" xref="S3.SS3.SSSx2.p4.1.m1.1.1.4.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSSx2.p4.1.m1.1b"><apply id="S3.SS3.SSSx2.p4.1.m1.1.1.cmml" xref="S3.SS3.SSSx2.p4.1.m1.1.1"><times id="S3.SS3.SSSx2.p4.1.m1.1.1.1.cmml" xref="S3.SS3.SSSx2.p4.1.m1.1.1.1"></times><ci id="S3.SS3.SSSx2.p4.1.m1.1.1.2.cmml" xref="S3.SS3.SSSx2.p4.1.m1.1.1.2">𝑏</ci><ci id="S3.SS3.SSSx2.p4.1.m1.1.1.3.cmml" xref="S3.SS3.SSSx2.p4.1.m1.1.1.3">𝑔</ci><ci id="S3.SS3.SSSx2.p4.1.m1.1.1.4.cmml" xref="S3.SS3.SSSx2.p4.1.m1.1.1.4">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSSx2.p4.1.m1.1c">bge</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSSx2.p4.1.m1.1d">italic_b italic_g italic_e</annotation></semantics></math>-<math alttext="reranker" class="ltx_Math" display="inline" id="S3.SS3.SSSx2.p4.2.m2.1"><semantics id="S3.SS3.SSSx2.p4.2.m2.1a"><mrow id="S3.SS3.SSSx2.p4.2.m2.1.1" xref="S3.SS3.SSSx2.p4.2.m2.1.1.cmml"><mi id="S3.SS3.SSSx2.p4.2.m2.1.1.2" xref="S3.SS3.SSSx2.p4.2.m2.1.1.2.cmml">r</mi><mo id="S3.SS3.SSSx2.p4.2.m2.1.1.1" xref="S3.SS3.SSSx2.p4.2.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.2.m2.1.1.3" xref="S3.SS3.SSSx2.p4.2.m2.1.1.3.cmml">e</mi><mo id="S3.SS3.SSSx2.p4.2.m2.1.1.1a" xref="S3.SS3.SSSx2.p4.2.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.2.m2.1.1.4" xref="S3.SS3.SSSx2.p4.2.m2.1.1.4.cmml">r</mi><mo id="S3.SS3.SSSx2.p4.2.m2.1.1.1b" xref="S3.SS3.SSSx2.p4.2.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.2.m2.1.1.5" xref="S3.SS3.SSSx2.p4.2.m2.1.1.5.cmml">a</mi><mo id="S3.SS3.SSSx2.p4.2.m2.1.1.1c" xref="S3.SS3.SSSx2.p4.2.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.2.m2.1.1.6" xref="S3.SS3.SSSx2.p4.2.m2.1.1.6.cmml">n</mi><mo id="S3.SS3.SSSx2.p4.2.m2.1.1.1d" xref="S3.SS3.SSSx2.p4.2.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.2.m2.1.1.7" xref="S3.SS3.SSSx2.p4.2.m2.1.1.7.cmml">k</mi><mo id="S3.SS3.SSSx2.p4.2.m2.1.1.1e" xref="S3.SS3.SSSx2.p4.2.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.2.m2.1.1.8" xref="S3.SS3.SSSx2.p4.2.m2.1.1.8.cmml">e</mi><mo id="S3.SS3.SSSx2.p4.2.m2.1.1.1f" xref="S3.SS3.SSSx2.p4.2.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.2.m2.1.1.9" xref="S3.SS3.SSSx2.p4.2.m2.1.1.9.cmml">r</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSSx2.p4.2.m2.1b"><apply id="S3.SS3.SSSx2.p4.2.m2.1.1.cmml" xref="S3.SS3.SSSx2.p4.2.m2.1.1"><times id="S3.SS3.SSSx2.p4.2.m2.1.1.1.cmml" xref="S3.SS3.SSSx2.p4.2.m2.1.1.1"></times><ci id="S3.SS3.SSSx2.p4.2.m2.1.1.2.cmml" xref="S3.SS3.SSSx2.p4.2.m2.1.1.2">𝑟</ci><ci id="S3.SS3.SSSx2.p4.2.m2.1.1.3.cmml" xref="S3.SS3.SSSx2.p4.2.m2.1.1.3">𝑒</ci><ci id="S3.SS3.SSSx2.p4.2.m2.1.1.4.cmml" xref="S3.SS3.SSSx2.p4.2.m2.1.1.4">𝑟</ci><ci id="S3.SS3.SSSx2.p4.2.m2.1.1.5.cmml" xref="S3.SS3.SSSx2.p4.2.m2.1.1.5">𝑎</ci><ci id="S3.SS3.SSSx2.p4.2.m2.1.1.6.cmml" xref="S3.SS3.SSSx2.p4.2.m2.1.1.6">𝑛</ci><ci id="S3.SS3.SSSx2.p4.2.m2.1.1.7.cmml" xref="S3.SS3.SSSx2.p4.2.m2.1.1.7">𝑘</ci><ci id="S3.SS3.SSSx2.p4.2.m2.1.1.8.cmml" xref="S3.SS3.SSSx2.p4.2.m2.1.1.8">𝑒</ci><ci id="S3.SS3.SSSx2.p4.2.m2.1.1.9.cmml" xref="S3.SS3.SSSx2.p4.2.m2.1.1.9">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSSx2.p4.2.m2.1c">reranker</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSSx2.p4.2.m2.1d">italic_r italic_e italic_r italic_a italic_n italic_k italic_e italic_r</annotation></semantics></math>-<math alttext="base/large" class="ltx_Math" display="inline" id="S3.SS3.SSSx2.p4.3.m3.1"><semantics id="S3.SS3.SSSx2.p4.3.m3.1a"><mrow id="S3.SS3.SSSx2.p4.3.m3.1.1" xref="S3.SS3.SSSx2.p4.3.m3.1.1.cmml"><mrow id="S3.SS3.SSSx2.p4.3.m3.1.1.2" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.cmml"><mrow id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.cmml"><mi id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.2" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.2.cmml">b</mi><mo id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.1" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.3" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.3.cmml">a</mi><mo id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.1a" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.4" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.4.cmml">s</mi><mo id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.1b" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.5" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.5.cmml">e</mi></mrow><mo id="S3.SS3.SSSx2.p4.3.m3.1.1.2.1" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.1.cmml">/</mo><mi id="S3.SS3.SSSx2.p4.3.m3.1.1.2.3" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.3.cmml">l</mi></mrow><mo id="S3.SS3.SSSx2.p4.3.m3.1.1.1" xref="S3.SS3.SSSx2.p4.3.m3.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.3.m3.1.1.3" xref="S3.SS3.SSSx2.p4.3.m3.1.1.3.cmml">a</mi><mo id="S3.SS3.SSSx2.p4.3.m3.1.1.1a" xref="S3.SS3.SSSx2.p4.3.m3.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.3.m3.1.1.4" xref="S3.SS3.SSSx2.p4.3.m3.1.1.4.cmml">r</mi><mo id="S3.SS3.SSSx2.p4.3.m3.1.1.1b" xref="S3.SS3.SSSx2.p4.3.m3.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.3.m3.1.1.5" xref="S3.SS3.SSSx2.p4.3.m3.1.1.5.cmml">g</mi><mo id="S3.SS3.SSSx2.p4.3.m3.1.1.1c" xref="S3.SS3.SSSx2.p4.3.m3.1.1.1.cmml">⁢</mo><mi id="S3.SS3.SSSx2.p4.3.m3.1.1.6" xref="S3.SS3.SSSx2.p4.3.m3.1.1.6.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSSx2.p4.3.m3.1b"><apply id="S3.SS3.SSSx2.p4.3.m3.1.1.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1"><times id="S3.SS3.SSSx2.p4.3.m3.1.1.1.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.1"></times><apply id="S3.SS3.SSSx2.p4.3.m3.1.1.2.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2"><divide id="S3.SS3.SSSx2.p4.3.m3.1.1.2.1.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.1"></divide><apply id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2"><times id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.1.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.1"></times><ci id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.2.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.2">𝑏</ci><ci id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.3.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.3">𝑎</ci><ci id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.4.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.4">𝑠</ci><ci id="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.5.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.2.5">𝑒</ci></apply><ci id="S3.SS3.SSSx2.p4.3.m3.1.1.2.3.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.2.3">𝑙</ci></apply><ci id="S3.SS3.SSSx2.p4.3.m3.1.1.3.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.3">𝑎</ci><ci id="S3.SS3.SSSx2.p4.3.m3.1.1.4.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.4">𝑟</ci><ci id="S3.SS3.SSSx2.p4.3.m3.1.1.5.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.5">𝑔</ci><ci id="S3.SS3.SSSx2.p4.3.m3.1.1.6.cmml" xref="S3.SS3.SSSx2.p4.3.m3.1.1.6">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSSx2.p4.3.m3.1c">base/large</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSSx2.p4.3.m3.1d">italic_b italic_a italic_s italic_e / italic_l italic_a italic_r italic_g italic_e</annotation></semantics></math>, are utilized to identify items that are semantically aligned with the user’s query. Additionally, factors like factual accuracy, comprehensiveness, and novelty are carefully considered during the ranking process to ensure that the most informative and reliable items are surfaced.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx2.p5">
<p class="ltx_p" id="S3.SS3.SSSx2.p5.1">By prioritizing accuracy and relevance, the Ranking Service enhances the clarity, comprehensiveness, and effectiveness of the information retrieval process, thereby providing users with a more valuable and trustworthy experience.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS3.SSSx3">
<h4 class="ltx_title ltx_font_bold ltx_title_subsubsection">Reasoning Service</h4>
<div class="ltx_para" id="S3.SS3.SSSx3.p1">
<p class="ltx_p" id="S3.SS3.SSSx3.p1.1">The Reasoning Service Enhanced Reasoning with Parallel Inference and Expert Routing. The Reasoning Service leverages an advanced Chain of Though  <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib13" title="">wei2022chain, </a>)</cite> to execute parallel inference across LLMs, generating diverse results for subsequent aggregation. This service takes prompts and retrieved information as input, producing a series of reasoned outputs. By harnessing LLMs, it extracts insights, draws conclusions, and answers inquiries based on the provided data. The outcome is a comprehensive set of reasoned responses that comprehensively address the user’s intent.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx3.p2">
<p class="ltx_p" id="S3.SS3.SSSx3.p2.1">Concurrent multi-step inference feeds into the aggregation stage, enabling consistency checks like self-consistency and others. Additionally, industry-specific decoding strategies, such as speculative decoding, can be applied for further refinement. This tailors the inference process to the specific domain, enhancing the relevance and accuracy of generated responses.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx3.p3">
<p class="ltx_p" id="S3.SS3.SSSx3.p3.1">Furthermore, the service routes issues to the most suitable expert model based on the problem nature. By simultaneously invoking multiple LLMs with varying specializations, it leverages their diversity to improve question-answering effectiveness.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS3.SSSx4">
<h4 class="ltx_title ltx_font_bold ltx_title_subsubsection">Aggregating Service</h4>
<div class="ltx_para" id="S3.SS3.SSSx4.p1">
<p class="ltx_p" id="S3.SS3.SSSx4.p1.1">The Aggregating Service plays a critical role in transforming reasoning outputs into clear, user-centric responses. It takes a set of reasoning outcomes and crafts structured answers tailored to the user’s initial query. This involves organizing information logically, ensuring clarity, and conciseness, and maintaining user engagement.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx4.p2">
<p class="ltx_p" id="S3.SS3.SSSx4.p2.1">Merging Concurrent Inference Results: This service seamlessly combines outcomes from concurrent inference processes, guaranteeing coherence and consistency. Self-consistency  <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib12" title="">wang2022self, </a>)</cite> checks and similar techniques are employed to validate and harmonize the aggregated results.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx4.p3">
<p class="ltx_p" id="S3.SS3.SSSx4.p3.1">Industry-Specific Optimizations: To enhance the aggregation process for industry settings, the Aggregating Service incorporates several key elements:</p>
</div>
<div class="ltx_para" id="S3.SS3.SSSx4.p4">
<ul class="ltx_itemize" id="S3.I5">
<li class="ltx_item" id="S3.I5.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I5.i1.p1">
<p class="ltx_p" id="S3.I5.i1.p1.1">Citation and Transparency: Credibility is bolstered by incorporating citations  <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib7" title="">li2024citation, </a>)</cite> to trustworthy sources within industry contexts. This may involve referencing established sources and providing transparency regarding data origin. Additionally, the reasoning process, such as the Chain of Thought and decision-making steps, can be showcased to provide deeper insights.</p>
</div>
</li>
<li class="ltx_item" id="S3.I5.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I5.i2.p1">
<p class="ltx_p" id="S3.I5.i2.p1.1">Tailored Formatting: Readability and visual appeal are improved through the application of industry-standard formatting techniques, like Markdown. Adhering to formatting conventions ensures consistency with established norms, facilitating user comprehension.</p>
</div>
</li>
<li class="ltx_item" id="S3.I5.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I5.i3.p1">
<p class="ltx_p" id="S3.I5.i3.p1.1">Content Safety Integration: In safety-critical settings, content safety checks are incorporated to filter out potentially harmful or inappropriate content. Algorithms and protocols are implemented to screen aggregated information, guaranteeing compliance with industry safety standards and regulations.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S3.SS3.SSSx4.p5">
<p class="ltx_p" id="S3.SS3.SSSx4.p5.1">By integrating these components, the Aggregating Service goes beyond consolidating reasoning results. It elevates the quality, trustworthiness, and safety of the final user response, ultimately delivering a smooth and enriching user experience.</p>
</div>
<figure class="ltx_figure" id="S3.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="117" id="S3.F6.g1" src="extracted/5767874/figures/implementation/simulate_feedback.png" width="479"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6. </span>Simulating Feedback: An illustration of the continuous feedback loop to enhance model performance. Correct answers (<math alttext="Y_{\text{correct}}" class="ltx_Math" display="inline" id="S3.F6.4.m1.1"><semantics id="S3.F6.4.m1.1b"><msub id="S3.F6.4.m1.1.1" xref="S3.F6.4.m1.1.1.cmml"><mi id="S3.F6.4.m1.1.1.2" xref="S3.F6.4.m1.1.1.2.cmml">Y</mi><mtext id="S3.F6.4.m1.1.1.3" xref="S3.F6.4.m1.1.1.3a.cmml">correct</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.F6.4.m1.1c"><apply id="S3.F6.4.m1.1.1.cmml" xref="S3.F6.4.m1.1.1"><csymbol cd="ambiguous" id="S3.F6.4.m1.1.1.1.cmml" xref="S3.F6.4.m1.1.1">subscript</csymbol><ci id="S3.F6.4.m1.1.1.2.cmml" xref="S3.F6.4.m1.1.1.2">𝑌</ci><ci id="S3.F6.4.m1.1.1.3a.cmml" xref="S3.F6.4.m1.1.1.3"><mtext id="S3.F6.4.m1.1.1.3.cmml" mathsize="70%" xref="S3.F6.4.m1.1.1.3">correct</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F6.4.m1.1d">Y_{\text{correct}}</annotation><annotation encoding="application/x-llamapun" id="S3.F6.4.m1.1e">italic_Y start_POSTSUBSCRIPT correct end_POSTSUBSCRIPT</annotation></semantics></math>) are similar to text copying, incorrect answers (<math alttext="Y_{\text{incorrect}}" class="ltx_Math" display="inline" id="S3.F6.5.m2.1"><semantics id="S3.F6.5.m2.1b"><msub id="S3.F6.5.m2.1.1" xref="S3.F6.5.m2.1.1.cmml"><mi id="S3.F6.5.m2.1.1.2" xref="S3.F6.5.m2.1.1.2.cmml">Y</mi><mtext id="S3.F6.5.m2.1.1.3" xref="S3.F6.5.m2.1.1.3a.cmml">incorrect</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.F6.5.m2.1c"><apply id="S3.F6.5.m2.1.1.cmml" xref="S3.F6.5.m2.1.1"><csymbol cd="ambiguous" id="S3.F6.5.m2.1.1.1.cmml" xref="S3.F6.5.m2.1.1">subscript</csymbol><ci id="S3.F6.5.m2.1.1.2.cmml" xref="S3.F6.5.m2.1.1.2">𝑌</ci><ci id="S3.F6.5.m2.1.1.3a.cmml" xref="S3.F6.5.m2.1.1.3"><mtext id="S3.F6.5.m2.1.1.3.cmml" mathsize="70%" xref="S3.F6.5.m2.1.1.3">incorrect</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F6.5.m2.1d">Y_{\text{incorrect}}</annotation><annotation encoding="application/x-llamapun" id="S3.F6.5.m2.1e">italic_Y start_POSTSUBSCRIPT incorrect end_POSTSUBSCRIPT</annotation></semantics></math>) are akin to regeneration, and no answers (<math alttext="Y_{\text{no\_answer}}" class="ltx_Math" display="inline" id="S3.F6.6.m3.1"><semantics id="S3.F6.6.m3.1b"><msub id="S3.F6.6.m3.1.1" xref="S3.F6.6.m3.1.1.cmml"><mi id="S3.F6.6.m3.1.1.2" xref="S3.F6.6.m3.1.1.2.cmml">Y</mi><mtext id="S3.F6.6.m3.1.1.3" xref="S3.F6.6.m3.1.1.3a.cmml">no_answer</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.F6.6.m3.1c"><apply id="S3.F6.6.m3.1.1.cmml" xref="S3.F6.6.m3.1.1"><csymbol cd="ambiguous" id="S3.F6.6.m3.1.1.1.cmml" xref="S3.F6.6.m3.1.1">subscript</csymbol><ci id="S3.F6.6.m3.1.1.2.cmml" xref="S3.F6.6.m3.1.1.2">𝑌</ci><ci id="S3.F6.6.m3.1.1.3a.cmml" xref="S3.F6.6.m3.1.1.3"><mtext id="S3.F6.6.m3.1.1.3.cmml" mathsize="70%" xref="S3.F6.6.m3.1.1.3">no_answer</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F6.6.m3.1d">Y_{\text{no\_answer}}</annotation><annotation encoding="application/x-llamapun" id="S3.F6.6.m3.1e">italic_Y start_POSTSUBSCRIPT no_answer end_POSTSUBSCRIPT</annotation></semantics></math>) correspond to negative user feedback.</figcaption>
</figure>
</section>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Ranking Details</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we outline the ranking process, differentiating it from the commonly discussed concept of rerankers in RAG discourse. The ranking stage in information retrieval systems plays a crucial role in aligning content delivery with business objectives and user preferences. The ranking stage transcends this, encompassing a broader range of tasks essential for optimizing the retrieval and presentation of information.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>RAG "Re-Rankers" in the Pre-Ranking Stage</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">While terms like <math alttext="bge-reranker" class="ltx_Math" display="inline" id="S4.SS1.p1.1.m1.1"><semantics id="S4.SS1.p1.1.m1.1a"><mrow id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mrow id="S4.SS1.p1.1.m1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.2.cmml"><mi id="S4.SS1.p1.1.m1.1.1.2.2" xref="S4.SS1.p1.1.m1.1.1.2.2.cmml">b</mi><mo id="S4.SS1.p1.1.m1.1.1.2.1" xref="S4.SS1.p1.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.2.3" xref="S4.SS1.p1.1.m1.1.1.2.3.cmml">g</mi><mo id="S4.SS1.p1.1.m1.1.1.2.1a" xref="S4.SS1.p1.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.2.4" xref="S4.SS1.p1.1.m1.1.1.2.4.cmml">e</mi></mrow><mo id="S4.SS1.p1.1.m1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.cmml">−</mo><mrow id="S4.SS1.p1.1.m1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.3.cmml"><mi id="S4.SS1.p1.1.m1.1.1.3.2" xref="S4.SS1.p1.1.m1.1.1.3.2.cmml">r</mi><mo id="S4.SS1.p1.1.m1.1.1.3.1" xref="S4.SS1.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.3.3" xref="S4.SS1.p1.1.m1.1.1.3.3.cmml">e</mi><mo id="S4.SS1.p1.1.m1.1.1.3.1a" xref="S4.SS1.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.3.4" xref="S4.SS1.p1.1.m1.1.1.3.4.cmml">r</mi><mo id="S4.SS1.p1.1.m1.1.1.3.1b" xref="S4.SS1.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.3.5" xref="S4.SS1.p1.1.m1.1.1.3.5.cmml">a</mi><mo id="S4.SS1.p1.1.m1.1.1.3.1c" xref="S4.SS1.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.3.6" xref="S4.SS1.p1.1.m1.1.1.3.6.cmml">n</mi><mo id="S4.SS1.p1.1.m1.1.1.3.1d" xref="S4.SS1.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.3.7" xref="S4.SS1.p1.1.m1.1.1.3.7.cmml">k</mi><mo id="S4.SS1.p1.1.m1.1.1.3.1e" xref="S4.SS1.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.3.8" xref="S4.SS1.p1.1.m1.1.1.3.8.cmml">e</mi><mo id="S4.SS1.p1.1.m1.1.1.3.1f" xref="S4.SS1.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.1.m1.1.1.3.9" xref="S4.SS1.p1.1.m1.1.1.3.9.cmml">r</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><minus id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1"></minus><apply id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2"><times id="S4.SS1.p1.1.m1.1.1.2.1.cmml" xref="S4.SS1.p1.1.m1.1.1.2.1"></times><ci id="S4.SS1.p1.1.m1.1.1.2.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2.2">𝑏</ci><ci id="S4.SS1.p1.1.m1.1.1.2.3.cmml" xref="S4.SS1.p1.1.m1.1.1.2.3">𝑔</ci><ci id="S4.SS1.p1.1.m1.1.1.2.4.cmml" xref="S4.SS1.p1.1.m1.1.1.2.4">𝑒</ci></apply><apply id="S4.SS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3"><times id="S4.SS1.p1.1.m1.1.1.3.1.cmml" xref="S4.SS1.p1.1.m1.1.1.3.1"></times><ci id="S4.SS1.p1.1.m1.1.1.3.2.cmml" xref="S4.SS1.p1.1.m1.1.1.3.2">𝑟</ci><ci id="S4.SS1.p1.1.m1.1.1.3.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3.3">𝑒</ci><ci id="S4.SS1.p1.1.m1.1.1.3.4.cmml" xref="S4.SS1.p1.1.m1.1.1.3.4">𝑟</ci><ci id="S4.SS1.p1.1.m1.1.1.3.5.cmml" xref="S4.SS1.p1.1.m1.1.1.3.5">𝑎</ci><ci id="S4.SS1.p1.1.m1.1.1.3.6.cmml" xref="S4.SS1.p1.1.m1.1.1.3.6">𝑛</ci><ci id="S4.SS1.p1.1.m1.1.1.3.7.cmml" xref="S4.SS1.p1.1.m1.1.1.3.7">𝑘</ci><ci id="S4.SS1.p1.1.m1.1.1.3.8.cmml" xref="S4.SS1.p1.1.m1.1.1.3.8">𝑒</ci><ci id="S4.SS1.p1.1.m1.1.1.3.9.cmml" xref="S4.SS1.p1.1.m1.1.1.3.9">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">bge-reranker</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.1.m1.1d">italic_b italic_g italic_e - italic_r italic_e italic_r italic_a italic_n italic_k italic_e italic_r</annotation></semantics></math> are commonly used for components within RAG systems, they can be misleading. Information Retrieval systems like search engines employ re-ranking models in a later stage to refine results based on specific business needs. In RAG, however, these models are used upfront during the pre-ranking stage to narrow down candidate documents. Therefore, a more accurate term for this function would be "pre-ranker."</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Ranking for LLM Prompt Order Sensitivity</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">LLMs are known for their impressive capabilities, but their performance can be heavily influenced by the order in which prompts are presented (prompt order sensitivity). This is particularly relevant in the RAG system, where ranking plays a crucial role. If the order of prompt examples is not carefully considered, the LLM might generate responses that lack coherence or deviate from the user’s intent. The order of prompts can shape the LLM’s understanding of the task and the user’s expectations. If prompts are not presented logically, the LLM might struggle to generate an output that aligns with the user’s desired outcome.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">Existing rule-based studies, such as those that focus on cue word placement, suggest that placing examples at the beginning or end may be more effective. However, we assume that this preference cannot be determined by rules alone; rather, it requires a statistic learning model to capture this preference distribution accurately.</p>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1">The RAG system addresses prompt order sensitivity by employing a ranking mechanism. This mechanism ensures that the most relevant and informative prompt examples are presented to the LLM first. This alignment between the ranking and the ideal order of prompts leads to the following.</p>
</div>
<div class="ltx_para" id="S4.SS2.p4">
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1">Improved Coherence: By prioritizing relevant information, the LLM is more likely to produce coherent and consistent outputs that align with the user’s intent.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1">Enhanced User Experience: When the LLM generates responses that meet user expectations, the overall user experience is significantly improved.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.SS2.p5">
<p class="ltx_p" id="S4.SS2.p5.1">We can ensure that LLMs leverage their potential to generate informative, coherent, and user-centric outputs by addressing prompt order sensitivity.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Ranking Problem Definition</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">The ranking problem in online systems involves improving the order of items presented to users based on various factors beyond just relevance. This can be achieved by using user feedback to understand their preferences for the content.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">User feedback can be obtained through actions such as copying the content (indicating a strong preference), regenerating (suggesting a mild preference for an alternative), or disliking the content (clear disapproval). By analyzing these feedback labels, we aim to learn a ranking model that optimizes the order of items within a list to better match user preferences.</p>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.2">Formally, let us denote our dataset as <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S4.SS3.p3.1.m1.1"><semantics id="S4.SS3.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><ci id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.1.m1.1d">caligraphic_D</annotation></semantics></math>, containing a set of examples <math alttext="\{(p_{i},x_{i},y_{i},f_{i})\}" class="ltx_Math" display="inline" id="S4.SS3.p3.2.m2.1"><semantics id="S4.SS3.p3.2.m2.1a"><mrow id="S4.SS3.p3.2.m2.1.1.1" xref="S4.SS3.p3.2.m2.1.1.2.cmml"><mo id="S4.SS3.p3.2.m2.1.1.1.2" stretchy="false" xref="S4.SS3.p3.2.m2.1.1.2.cmml">{</mo><mrow id="S4.SS3.p3.2.m2.1.1.1.1.4" xref="S4.SS3.p3.2.m2.1.1.1.1.5.cmml"><mo id="S4.SS3.p3.2.m2.1.1.1.1.4.5" stretchy="false" xref="S4.SS3.p3.2.m2.1.1.1.1.5.cmml">(</mo><msub id="S4.SS3.p3.2.m2.1.1.1.1.1.1" xref="S4.SS3.p3.2.m2.1.1.1.1.1.1.cmml"><mi id="S4.SS3.p3.2.m2.1.1.1.1.1.1.2" xref="S4.SS3.p3.2.m2.1.1.1.1.1.1.2.cmml">p</mi><mi id="S4.SS3.p3.2.m2.1.1.1.1.1.1.3" xref="S4.SS3.p3.2.m2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS3.p3.2.m2.1.1.1.1.4.6" xref="S4.SS3.p3.2.m2.1.1.1.1.5.cmml">,</mo><msub id="S4.SS3.p3.2.m2.1.1.1.1.2.2" xref="S4.SS3.p3.2.m2.1.1.1.1.2.2.cmml"><mi id="S4.SS3.p3.2.m2.1.1.1.1.2.2.2" xref="S4.SS3.p3.2.m2.1.1.1.1.2.2.2.cmml">x</mi><mi id="S4.SS3.p3.2.m2.1.1.1.1.2.2.3" xref="S4.SS3.p3.2.m2.1.1.1.1.2.2.3.cmml">i</mi></msub><mo id="S4.SS3.p3.2.m2.1.1.1.1.4.7" xref="S4.SS3.p3.2.m2.1.1.1.1.5.cmml">,</mo><msub id="S4.SS3.p3.2.m2.1.1.1.1.3.3" xref="S4.SS3.p3.2.m2.1.1.1.1.3.3.cmml"><mi id="S4.SS3.p3.2.m2.1.1.1.1.3.3.2" xref="S4.SS3.p3.2.m2.1.1.1.1.3.3.2.cmml">y</mi><mi id="S4.SS3.p3.2.m2.1.1.1.1.3.3.3" xref="S4.SS3.p3.2.m2.1.1.1.1.3.3.3.cmml">i</mi></msub><mo id="S4.SS3.p3.2.m2.1.1.1.1.4.8" xref="S4.SS3.p3.2.m2.1.1.1.1.5.cmml">,</mo><msub id="S4.SS3.p3.2.m2.1.1.1.1.4.4" xref="S4.SS3.p3.2.m2.1.1.1.1.4.4.cmml"><mi id="S4.SS3.p3.2.m2.1.1.1.1.4.4.2" xref="S4.SS3.p3.2.m2.1.1.1.1.4.4.2.cmml">f</mi><mi id="S4.SS3.p3.2.m2.1.1.1.1.4.4.3" xref="S4.SS3.p3.2.m2.1.1.1.1.4.4.3.cmml">i</mi></msub><mo id="S4.SS3.p3.2.m2.1.1.1.1.4.9" stretchy="false" xref="S4.SS3.p3.2.m2.1.1.1.1.5.cmml">)</mo></mrow><mo id="S4.SS3.p3.2.m2.1.1.1.3" stretchy="false" xref="S4.SS3.p3.2.m2.1.1.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.2.m2.1b"><set id="S4.SS3.p3.2.m2.1.1.2.cmml" xref="S4.SS3.p3.2.m2.1.1.1"><vector id="S4.SS3.p3.2.m2.1.1.1.1.5.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.4"><apply id="S4.SS3.p3.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.2.m2.1.1.1.1.1.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.p3.2.m2.1.1.1.1.1.1.2.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.1.1.2">𝑝</ci><ci id="S4.SS3.p3.2.m2.1.1.1.1.1.1.3.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.SS3.p3.2.m2.1.1.1.1.2.2.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.p3.2.m2.1.1.1.1.2.2.1.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.2.2">subscript</csymbol><ci id="S4.SS3.p3.2.m2.1.1.1.1.2.2.2.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.2.2.2">𝑥</ci><ci id="S4.SS3.p3.2.m2.1.1.1.1.2.2.3.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.2.2.3">𝑖</ci></apply><apply id="S4.SS3.p3.2.m2.1.1.1.1.3.3.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.SS3.p3.2.m2.1.1.1.1.3.3.1.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.3.3">subscript</csymbol><ci id="S4.SS3.p3.2.m2.1.1.1.1.3.3.2.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.3.3.2">𝑦</ci><ci id="S4.SS3.p3.2.m2.1.1.1.1.3.3.3.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.3.3.3">𝑖</ci></apply><apply id="S4.SS3.p3.2.m2.1.1.1.1.4.4.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.4.4"><csymbol cd="ambiguous" id="S4.SS3.p3.2.m2.1.1.1.1.4.4.1.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.4.4">subscript</csymbol><ci id="S4.SS3.p3.2.m2.1.1.1.1.4.4.2.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.4.4.2">𝑓</ci><ci id="S4.SS3.p3.2.m2.1.1.1.1.4.4.3.cmml" xref="S4.SS3.p3.2.m2.1.1.1.1.4.4.3">𝑖</ci></apply></vector></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.2.m2.1c">\{(p_{i},x_{i},y_{i},f_{i})\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.2.m2.1d">{ ( italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) }</annotation></semantics></math>, where:</p>
</div>
<div class="ltx_para" id="S4.SS3.p4">
<ul class="ltx_itemize" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.1"><math alttext="p_{i}" class="ltx_Math" display="inline" id="S4.I2.i1.p1.1.m1.1"><semantics id="S4.I2.i1.p1.1.m1.1a"><msub id="S4.I2.i1.p1.1.m1.1.1" xref="S4.I2.i1.p1.1.m1.1.1.cmml"><mi id="S4.I2.i1.p1.1.m1.1.1.2" xref="S4.I2.i1.p1.1.m1.1.1.2.cmml">p</mi><mi id="S4.I2.i1.p1.1.m1.1.1.3" xref="S4.I2.i1.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I2.i1.p1.1.m1.1b"><apply id="S4.I2.i1.p1.1.m1.1.1.cmml" xref="S4.I2.i1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i1.p1.1.m1.1.1.1.cmml" xref="S4.I2.i1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I2.i1.p1.1.m1.1.1.2.cmml" xref="S4.I2.i1.p1.1.m1.1.1.2">𝑝</ci><ci id="S4.I2.i1.p1.1.m1.1.1.3.cmml" xref="S4.I2.i1.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.p1.1.m1.1c">p_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i1.p1.1.m1.1d">italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> represents the user’s intent.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.1"><math alttext="x_{i}" class="ltx_Math" display="inline" id="S4.I2.i2.p1.1.m1.1"><semantics id="S4.I2.i2.p1.1.m1.1a"><msub id="S4.I2.i2.p1.1.m1.1.1" xref="S4.I2.i2.p1.1.m1.1.1.cmml"><mi id="S4.I2.i2.p1.1.m1.1.1.2" xref="S4.I2.i2.p1.1.m1.1.1.2.cmml">x</mi><mi id="S4.I2.i2.p1.1.m1.1.1.3" xref="S4.I2.i2.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p1.1.m1.1b"><apply id="S4.I2.i2.p1.1.m1.1.1.cmml" xref="S4.I2.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i2.p1.1.m1.1.1.1.cmml" xref="S4.I2.i2.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I2.i2.p1.1.m1.1.1.2.cmml" xref="S4.I2.i2.p1.1.m1.1.1.2">𝑥</ci><ci id="S4.I2.i2.p1.1.m1.1.1.3.cmml" xref="S4.I2.i2.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p1.1.m1.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p1.1.m1.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> represents the ordered few-shot example list.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.1"><math alttext="y_{i}" class="ltx_Math" display="inline" id="S4.I2.i3.p1.1.m1.1"><semantics id="S4.I2.i3.p1.1.m1.1a"><msub id="S4.I2.i3.p1.1.m1.1.1" xref="S4.I2.i3.p1.1.m1.1.1.cmml"><mi id="S4.I2.i3.p1.1.m1.1.1.2" xref="S4.I2.i3.p1.1.m1.1.1.2.cmml">y</mi><mi id="S4.I2.i3.p1.1.m1.1.1.3" xref="S4.I2.i3.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I2.i3.p1.1.m1.1b"><apply id="S4.I2.i3.p1.1.m1.1.1.cmml" xref="S4.I2.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i3.p1.1.m1.1.1.1.cmml" xref="S4.I2.i3.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I2.i3.p1.1.m1.1.1.2.cmml" xref="S4.I2.i3.p1.1.m1.1.1.2">𝑦</ci><ci id="S4.I2.i3.p1.1.m1.1.1.3.cmml" xref="S4.I2.i3.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i3.p1.1.m1.1c">y_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i3.p1.1.m1.1d">italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> represents the end-to-end generated output.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i4.p1">
<p class="ltx_p" id="S4.I2.i4.p1.2"><math alttext="f_{i}" class="ltx_Math" display="inline" id="S4.I2.i4.p1.1.m1.1"><semantics id="S4.I2.i4.p1.1.m1.1a"><msub id="S4.I2.i4.p1.1.m1.1.1" xref="S4.I2.i4.p1.1.m1.1.1.cmml"><mi id="S4.I2.i4.p1.1.m1.1.1.2" xref="S4.I2.i4.p1.1.m1.1.1.2.cmml">f</mi><mi id="S4.I2.i4.p1.1.m1.1.1.3" xref="S4.I2.i4.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I2.i4.p1.1.m1.1b"><apply id="S4.I2.i4.p1.1.m1.1.1.cmml" xref="S4.I2.i4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i4.p1.1.m1.1.1.1.cmml" xref="S4.I2.i4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I2.i4.p1.1.m1.1.1.2.cmml" xref="S4.I2.i4.p1.1.m1.1.1.2">𝑓</ci><ci id="S4.I2.i4.p1.1.m1.1.1.3.cmml" xref="S4.I2.i4.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i4.p1.1.m1.1c">f_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i4.p1.1.m1.1d">italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> represents the specific feedback label (copying, regenerating, disliking) associated with the <math alttext="i" class="ltx_Math" display="inline" id="S4.I2.i4.p1.2.m2.1"><semantics id="S4.I2.i4.p1.2.m2.1a"><mi id="S4.I2.i4.p1.2.m2.1.1" xref="S4.I2.i4.p1.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i4.p1.2.m2.1b"><ci id="S4.I2.i4.p1.2.m2.1.1.cmml" xref="S4.I2.i4.p1.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i4.p1.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i4.p1.2.m2.1d">italic_i</annotation></semantics></math>-th pair.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.SS3.p5">
<p class="ltx_p" id="S4.SS3.p5.1">The objective of the RAG ranking stages is to develop a ranking model that utilizes these feedback signals to optimize the ranking sequences produced by the large language model, ultimately enhancing the user experience and satisfaction with the system.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Listwide Labels</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">This part delves into the complexities of learning from implicit user feedback in Listwide Learning to Rank (LTR) methods. Specifically, we focus on scenarios where explicit relevancy labels are absent for all items in a list.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.1">Our primary focus is on using indirect signals derived from user feedback, which reflect how the ranking of content impacts the results produced by LLMs. These indirect signals are termed Listwide Labels.</p>
</div>
<div class="ltx_para" id="S4.SS4.p3">
<p class="ltx_p" id="S4.SS4.p3.1">Training ranking models using Listwide Labels poses significant challenges. A key issue is the potential oversight of critical insights into the overall ranking quality. Therefore, developing effective strategies to utilize Listwide Labels is essential for enhancing ranking model performance.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5. </span>Ranking Model Alignment</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">To address the ranking problem in online systems, we employ the listwise Transformer to combine the listwise LTR objective with a listwide objective, where the overall quality of the list is explicitly modeled.</p>
</div>
<div class="ltx_para" id="S4.SS5.p2">
<p class="ltx_p" id="S4.SS5.p2.1">For effective utilization of listwide labels, we initially collect user feedback data, encompassing actions such as copying, regenerating, disliking, etc., to serve as the ground truth for evaluating the efficacy of the content generation by the large language model.</p>
</div>
<div class="ltx_para" id="S4.SS5.p3">
<p class="ltx_p" id="S4.SS5.p3.3">The core ranking process employs advanced algorithms to meticulously assess each item’s quality and relevance. These algorithms take a set <math alttext="I" class="ltx_Math" display="inline" id="S4.SS5.p3.1.m1.1"><semantics id="S4.SS5.p3.1.m1.1a"><mi id="S4.SS5.p3.1.m1.1.1" xref="S4.SS5.p3.1.m1.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.p3.1.m1.1b"><ci id="S4.SS5.p3.1.m1.1.1.cmml" xref="S4.SS5.p3.1.m1.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p3.1.m1.1c">I</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p3.1.m1.1d">italic_I</annotation></semantics></math> of items to be ranked as input and produce an ordered set <math alttext="O" class="ltx_Math" display="inline" id="S4.SS5.p3.2.m2.1"><semantics id="S4.SS5.p3.2.m2.1a"><mi id="S4.SS5.p3.2.m2.1.1" xref="S4.SS5.p3.2.m2.1.1.cmml">O</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.p3.2.m2.1b"><ci id="S4.SS5.p3.2.m2.1.1.cmml" xref="S4.SS5.p3.2.m2.1.1">𝑂</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p3.2.m2.1c">O</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p3.2.m2.1d">italic_O</annotation></semantics></math> based on the ranking function <math alttext="f" class="ltx_Math" display="inline" id="S4.SS5.p3.3.m3.1"><semantics id="S4.SS5.p3.3.m3.1a"><mi id="S4.SS5.p3.3.m3.1.1" xref="S4.SS5.p3.3.m3.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.p3.3.m3.1b"><ci id="S4.SS5.p3.3.m3.1.1.cmml" xref="S4.SS5.p3.3.m3.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p3.3.m3.1c">f</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p3.3.m3.1d">italic_f</annotation></semantics></math>:</p>
</div>
<div class="ltx_para" id="S4.SS5.p4">
<table class="ltx_equation ltx_eqn_table" id="S4.Ex4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="O=f(I)" class="ltx_Math" display="block" id="S4.Ex4.m1.1"><semantics id="S4.Ex4.m1.1a"><mrow id="S4.Ex4.m1.1.2" xref="S4.Ex4.m1.1.2.cmml"><mi id="S4.Ex4.m1.1.2.2" xref="S4.Ex4.m1.1.2.2.cmml">O</mi><mo id="S4.Ex4.m1.1.2.1" xref="S4.Ex4.m1.1.2.1.cmml">=</mo><mrow id="S4.Ex4.m1.1.2.3" xref="S4.Ex4.m1.1.2.3.cmml"><mi id="S4.Ex4.m1.1.2.3.2" xref="S4.Ex4.m1.1.2.3.2.cmml">f</mi><mo id="S4.Ex4.m1.1.2.3.1" xref="S4.Ex4.m1.1.2.3.1.cmml">⁢</mo><mrow id="S4.Ex4.m1.1.2.3.3.2" xref="S4.Ex4.m1.1.2.3.cmml"><mo id="S4.Ex4.m1.1.2.3.3.2.1" stretchy="false" xref="S4.Ex4.m1.1.2.3.cmml">(</mo><mi id="S4.Ex4.m1.1.1" xref="S4.Ex4.m1.1.1.cmml">I</mi><mo id="S4.Ex4.m1.1.2.3.3.2.2" stretchy="false" xref="S4.Ex4.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex4.m1.1b"><apply id="S4.Ex4.m1.1.2.cmml" xref="S4.Ex4.m1.1.2"><eq id="S4.Ex4.m1.1.2.1.cmml" xref="S4.Ex4.m1.1.2.1"></eq><ci id="S4.Ex4.m1.1.2.2.cmml" xref="S4.Ex4.m1.1.2.2">𝑂</ci><apply id="S4.Ex4.m1.1.2.3.cmml" xref="S4.Ex4.m1.1.2.3"><times id="S4.Ex4.m1.1.2.3.1.cmml" xref="S4.Ex4.m1.1.2.3.1"></times><ci id="S4.Ex4.m1.1.2.3.2.cmml" xref="S4.Ex4.m1.1.2.3.2">𝑓</ci><ci id="S4.Ex4.m1.1.1.cmml" xref="S4.Ex4.m1.1.1">𝐼</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex4.m1.1c">O=f(I)</annotation><annotation encoding="application/x-llamapun" id="S4.Ex4.m1.1d">italic_O = italic_f ( italic_I )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S4.SS5.p5">
<p class="ltx_p" id="S4.SS5.p5.1">In the industry setting, we formulate the ranking task as a learning-to-rank problem based on listwide signals. This involves training a ranking model using supervised learning techniques to learn a ranking function that sorts the content generated by the large language model into the desired order. Our model incorporates a diverse range of features, including:</p>
</div>
<div class="ltx_para" id="S4.SS5.p6">
<ul class="ltx_itemize" id="S4.I3">
<li class="ltx_item" id="S4.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i1.p1">
<p class="ltx_p" id="S4.I3.i1.p1.1">Semantic similarity between generated content and user intent <math alttext="\text{sim}(c,\text{intent})" class="ltx_Math" display="inline" id="S4.I3.i1.p1.1.m1.2"><semantics id="S4.I3.i1.p1.1.m1.2a"><mrow id="S4.I3.i1.p1.1.m1.2.3" xref="S4.I3.i1.p1.1.m1.2.3.cmml"><mtext id="S4.I3.i1.p1.1.m1.2.3.2" xref="S4.I3.i1.p1.1.m1.2.3.2a.cmml">sim</mtext><mo id="S4.I3.i1.p1.1.m1.2.3.1" xref="S4.I3.i1.p1.1.m1.2.3.1.cmml">⁢</mo><mrow id="S4.I3.i1.p1.1.m1.2.3.3.2" xref="S4.I3.i1.p1.1.m1.2.3.3.1.cmml"><mo id="S4.I3.i1.p1.1.m1.2.3.3.2.1" stretchy="false" xref="S4.I3.i1.p1.1.m1.2.3.3.1.cmml">(</mo><mi id="S4.I3.i1.p1.1.m1.1.1" xref="S4.I3.i1.p1.1.m1.1.1.cmml">c</mi><mo id="S4.I3.i1.p1.1.m1.2.3.3.2.2" xref="S4.I3.i1.p1.1.m1.2.3.3.1.cmml">,</mo><mtext id="S4.I3.i1.p1.1.m1.2.2" xref="S4.I3.i1.p1.1.m1.2.2a.cmml">intent</mtext><mo id="S4.I3.i1.p1.1.m1.2.3.3.2.3" stretchy="false" xref="S4.I3.i1.p1.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.I3.i1.p1.1.m1.2b"><apply id="S4.I3.i1.p1.1.m1.2.3.cmml" xref="S4.I3.i1.p1.1.m1.2.3"><times id="S4.I3.i1.p1.1.m1.2.3.1.cmml" xref="S4.I3.i1.p1.1.m1.2.3.1"></times><ci id="S4.I3.i1.p1.1.m1.2.3.2a.cmml" xref="S4.I3.i1.p1.1.m1.2.3.2"><mtext id="S4.I3.i1.p1.1.m1.2.3.2.cmml" xref="S4.I3.i1.p1.1.m1.2.3.2">sim</mtext></ci><interval closure="open" id="S4.I3.i1.p1.1.m1.2.3.3.1.cmml" xref="S4.I3.i1.p1.1.m1.2.3.3.2"><ci id="S4.I3.i1.p1.1.m1.1.1.cmml" xref="S4.I3.i1.p1.1.m1.1.1">𝑐</ci><ci id="S4.I3.i1.p1.1.m1.2.2a.cmml" xref="S4.I3.i1.p1.1.m1.2.2"><mtext id="S4.I3.i1.p1.1.m1.2.2.cmml" xref="S4.I3.i1.p1.1.m1.2.2">intent</mtext></ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I3.i1.p1.1.m1.2c">\text{sim}(c,\text{intent})</annotation><annotation encoding="application/x-llamapun" id="S4.I3.i1.p1.1.m1.2d">sim ( italic_c , intent )</annotation></semantics></math></p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i2.p1">
<p class="ltx_p" id="S4.I3.i2.p1.1">Relevance of generated content to the prompt <math alttext="\text{rel}(c,\text{prompt})" class="ltx_Math" display="inline" id="S4.I3.i2.p1.1.m1.2"><semantics id="S4.I3.i2.p1.1.m1.2a"><mrow id="S4.I3.i2.p1.1.m1.2.3" xref="S4.I3.i2.p1.1.m1.2.3.cmml"><mtext id="S4.I3.i2.p1.1.m1.2.3.2" xref="S4.I3.i2.p1.1.m1.2.3.2a.cmml">rel</mtext><mo id="S4.I3.i2.p1.1.m1.2.3.1" xref="S4.I3.i2.p1.1.m1.2.3.1.cmml">⁢</mo><mrow id="S4.I3.i2.p1.1.m1.2.3.3.2" xref="S4.I3.i2.p1.1.m1.2.3.3.1.cmml"><mo id="S4.I3.i2.p1.1.m1.2.3.3.2.1" stretchy="false" xref="S4.I3.i2.p1.1.m1.2.3.3.1.cmml">(</mo><mi id="S4.I3.i2.p1.1.m1.1.1" xref="S4.I3.i2.p1.1.m1.1.1.cmml">c</mi><mo id="S4.I3.i2.p1.1.m1.2.3.3.2.2" xref="S4.I3.i2.p1.1.m1.2.3.3.1.cmml">,</mo><mtext id="S4.I3.i2.p1.1.m1.2.2" xref="S4.I3.i2.p1.1.m1.2.2a.cmml">prompt</mtext><mo id="S4.I3.i2.p1.1.m1.2.3.3.2.3" stretchy="false" xref="S4.I3.i2.p1.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.I3.i2.p1.1.m1.2b"><apply id="S4.I3.i2.p1.1.m1.2.3.cmml" xref="S4.I3.i2.p1.1.m1.2.3"><times id="S4.I3.i2.p1.1.m1.2.3.1.cmml" xref="S4.I3.i2.p1.1.m1.2.3.1"></times><ci id="S4.I3.i2.p1.1.m1.2.3.2a.cmml" xref="S4.I3.i2.p1.1.m1.2.3.2"><mtext id="S4.I3.i2.p1.1.m1.2.3.2.cmml" xref="S4.I3.i2.p1.1.m1.2.3.2">rel</mtext></ci><interval closure="open" id="S4.I3.i2.p1.1.m1.2.3.3.1.cmml" xref="S4.I3.i2.p1.1.m1.2.3.3.2"><ci id="S4.I3.i2.p1.1.m1.1.1.cmml" xref="S4.I3.i2.p1.1.m1.1.1">𝑐</ci><ci id="S4.I3.i2.p1.1.m1.2.2a.cmml" xref="S4.I3.i2.p1.1.m1.2.2"><mtext id="S4.I3.i2.p1.1.m1.2.2.cmml" xref="S4.I3.i2.p1.1.m1.2.2">prompt</mtext></ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I3.i2.p1.1.m1.2c">\text{rel}(c,\text{prompt})</annotation><annotation encoding="application/x-llamapun" id="S4.I3.i2.p1.1.m1.2d">rel ( italic_c , prompt )</annotation></semantics></math></p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i3.p1">
<p class="ltx_p" id="S4.I3.i3.p1.1">Novelty of generated content <math alttext="\text{nov}(c)" class="ltx_Math" display="inline" id="S4.I3.i3.p1.1.m1.1"><semantics id="S4.I3.i3.p1.1.m1.1a"><mrow id="S4.I3.i3.p1.1.m1.1.2" xref="S4.I3.i3.p1.1.m1.1.2.cmml"><mtext id="S4.I3.i3.p1.1.m1.1.2.2" xref="S4.I3.i3.p1.1.m1.1.2.2a.cmml">nov</mtext><mo id="S4.I3.i3.p1.1.m1.1.2.1" xref="S4.I3.i3.p1.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.I3.i3.p1.1.m1.1.2.3.2" xref="S4.I3.i3.p1.1.m1.1.2.cmml"><mo id="S4.I3.i3.p1.1.m1.1.2.3.2.1" stretchy="false" xref="S4.I3.i3.p1.1.m1.1.2.cmml">(</mo><mi id="S4.I3.i3.p1.1.m1.1.1" xref="S4.I3.i3.p1.1.m1.1.1.cmml">c</mi><mo id="S4.I3.i3.p1.1.m1.1.2.3.2.2" stretchy="false" xref="S4.I3.i3.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.I3.i3.p1.1.m1.1b"><apply id="S4.I3.i3.p1.1.m1.1.2.cmml" xref="S4.I3.i3.p1.1.m1.1.2"><times id="S4.I3.i3.p1.1.m1.1.2.1.cmml" xref="S4.I3.i3.p1.1.m1.1.2.1"></times><ci id="S4.I3.i3.p1.1.m1.1.2.2a.cmml" xref="S4.I3.i3.p1.1.m1.1.2.2"><mtext id="S4.I3.i3.p1.1.m1.1.2.2.cmml" xref="S4.I3.i3.p1.1.m1.1.2.2">nov</mtext></ci><ci id="S4.I3.i3.p1.1.m1.1.1.cmml" xref="S4.I3.i3.p1.1.m1.1.1">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I3.i3.p1.1.m1.1c">\text{nov}(c)</annotation><annotation encoding="application/x-llamapun" id="S4.I3.i3.p1.1.m1.1d">nov ( italic_c )</annotation></semantics></math></p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i4.p1">
<p class="ltx_p" id="S4.I3.i4.p1.1">User engagement metrics <math alttext="\text{eng}(c)" class="ltx_Math" display="inline" id="S4.I3.i4.p1.1.m1.1"><semantics id="S4.I3.i4.p1.1.m1.1a"><mrow id="S4.I3.i4.p1.1.m1.1.2" xref="S4.I3.i4.p1.1.m1.1.2.cmml"><mtext id="S4.I3.i4.p1.1.m1.1.2.2" xref="S4.I3.i4.p1.1.m1.1.2.2a.cmml">eng</mtext><mo id="S4.I3.i4.p1.1.m1.1.2.1" xref="S4.I3.i4.p1.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.I3.i4.p1.1.m1.1.2.3.2" xref="S4.I3.i4.p1.1.m1.1.2.cmml"><mo id="S4.I3.i4.p1.1.m1.1.2.3.2.1" stretchy="false" xref="S4.I3.i4.p1.1.m1.1.2.cmml">(</mo><mi id="S4.I3.i4.p1.1.m1.1.1" xref="S4.I3.i4.p1.1.m1.1.1.cmml">c</mi><mo id="S4.I3.i4.p1.1.m1.1.2.3.2.2" stretchy="false" xref="S4.I3.i4.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.I3.i4.p1.1.m1.1b"><apply id="S4.I3.i4.p1.1.m1.1.2.cmml" xref="S4.I3.i4.p1.1.m1.1.2"><times id="S4.I3.i4.p1.1.m1.1.2.1.cmml" xref="S4.I3.i4.p1.1.m1.1.2.1"></times><ci id="S4.I3.i4.p1.1.m1.1.2.2a.cmml" xref="S4.I3.i4.p1.1.m1.1.2.2"><mtext id="S4.I3.i4.p1.1.m1.1.2.2.cmml" xref="S4.I3.i4.p1.1.m1.1.2.2">eng</mtext></ci><ci id="S4.I3.i4.p1.1.m1.1.1.cmml" xref="S4.I3.i4.p1.1.m1.1.1">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I3.i4.p1.1.m1.1c">\text{eng}(c)</annotation><annotation encoding="application/x-llamapun" id="S4.I3.i4.p1.1.m1.1d">eng ( italic_c )</annotation></semantics></math></p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.SS5.p7">
<p class="ltx_p" id="S4.SS5.p7.1">In addition, we integrate techniques for managing user feedback dynamics and evolving user preferences over time, ensuring that our ranking model remains adaptive and responsive to changes in user behavior.</p>
</div>
<div class="ltx_para" id="S4.SS5.p8">
<p class="ltx_p" id="S4.SS5.p8.1">Our methodology aims to optimize the ranking of content produced by the LLMs in alignment with user preferences and business objectives, thereby enhancing the overall user experience and utility.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2. </span>Ablation Study Results on MMLU. Evaluated configurations: (1) Baseline without enhancements; (2) Full Pistis-RAG with all components; (3) Without Ranking Stage Feedback Label Integration; (4) Without Multi-Path Reasoning and Aggregating.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T2.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T2.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.1.1">Paradigm</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.2.1">Component</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.3.1">F1-Score</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.1.2.1.1" rowspan="3"><span class="ltx_text" id="S4.T2.1.2.1.1.1">Content-Centric</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.2.1.2">Full Pistis-RAG</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.2.1.3">54.65%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.3.2">
<td class="ltx_td ltx_align_center" id="S4.T2.1.3.2.1">Without Ranking Stage (LTR Transformer w/ Feedback Label Integration)</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.3.2.2">52.3%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.4.3">
<td class="ltx_td ltx_align_center" id="S4.T2.1.4.3.1">Without Reasoning and Aggregating Stage (Multi-Path Reasoning and Consistency Check)</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.4.3.2">52.8%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" id="S4.T2.1.5.4.1">Model-Centric</th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.1.5.4.2">Baseline (Matching: BAAI/beg-m3 + Pre-Ranking: BAAI/bge-reranker-large)</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.1.5.4.3">50.0%</td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Experiments on Public Datasets</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">Our experimental analysis delves into the prominent public datasets MMLU<cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib5" title="">hendrycks2020measuring, </a>)</cite>, which comprise a substantial volume of data, and human annotators assign explicit answers to each question in the selection.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">However, our primary focus lies in learning from feedback labels, which are more abundant and reflective of real-world scenarios. Hence, we simulate feedback labels to mirror the realistic user behavior observed in various industries. This simulation approach is detailed in the subsequent sections.</p>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Simulating Feedback</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">Online platforms, such as ChatGPT, continuously enhance their performance through user feedback mechanisms such as copying, regenerating, and disliking responses. Our simulation process aims to align our system with this prevalent scenario.</p>
</div>
<section class="ltx_subsubsection" id="S5.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.1. </span>Collecting Few-shot Examples</h4>
<div class="ltx_para" id="S5.SS1.SSS1.p1">
<p class="ltx_p" id="S5.SS1.SSS1.p1.1">Within our system architecture, we seamlessly integrate highly rated user feedback into our contextual learning example database for the utilization of RAG. Specifically, we incorporate precise question-answer pairs sourced from public datasets as supplementary ICL examples <math alttext="D" class="ltx_Math" display="inline" id="S5.SS1.SSS1.p1.1.m1.1"><semantics id="S5.SS1.SSS1.p1.1.m1.1a"><mi id="S5.SS1.SSS1.p1.1.m1.1.1" xref="S5.SS1.SSS1.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS1.p1.1.m1.1b"><ci id="S5.SS1.SSS1.p1.1.m1.1.1.cmml" xref="S5.SS1.SSS1.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS1.p1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS1.p1.1.m1.1d">italic_D</annotation></semantics></math>. To ensure impartial evaluation, we filter out answers identical to questions during retrieval (though in the live online system, such cases are directly cached for future retrieval). This meticulous approach establishes a simulated example of learning from an external knowledge base, enriching the system’s performance through augmented retrieval data.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.2. </span>Simulating User Behavior</h4>
<div class="ltx_para" id="S5.SS1.SSS2.p1">
<p class="ltx_p" id="S5.SS1.SSS2.p1.1">We refine user behavior data from open source datasets to simulate user feedback through the following steps:</p>
</div>
<div class="ltx_para" id="S5.SS1.SSS2.p2">
<ol class="ltx_enumerate" id="S5.I1">
<li class="ltx_item" id="S5.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S5.I1.i1.p1">
<p class="ltx_p" id="S5.I1.i1.p1.2"><span class="ltx_text ltx_font_bold" id="S5.I1.i1.p1.2.1">Leveraging Retrieval-Augmented Generation:</span> Our system employs RAG to augment response generation by retrieving relevant information from a vast dataset <math alttext="D" class="ltx_Math" display="inline" id="S5.I1.i1.p1.1.m1.1"><semantics id="S5.I1.i1.p1.1.m1.1a"><mi id="S5.I1.i1.p1.1.m1.1.1" xref="S5.I1.i1.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i1.p1.1.m1.1b"><ci id="S5.I1.i1.p1.1.m1.1.1.cmml" xref="S5.I1.i1.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i1.p1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i1.p1.1.m1.1d">italic_D</annotation></semantics></math> before generating an answer. This process, denoted as <math alttext="RAG(D)" class="ltx_Math" display="inline" id="S5.I1.i1.p1.2.m2.1"><semantics id="S5.I1.i1.p1.2.m2.1a"><mrow id="S5.I1.i1.p1.2.m2.1.2" xref="S5.I1.i1.p1.2.m2.1.2.cmml"><mi id="S5.I1.i1.p1.2.m2.1.2.2" xref="S5.I1.i1.p1.2.m2.1.2.2.cmml">R</mi><mo id="S5.I1.i1.p1.2.m2.1.2.1" xref="S5.I1.i1.p1.2.m2.1.2.1.cmml">⁢</mo><mi id="S5.I1.i1.p1.2.m2.1.2.3" xref="S5.I1.i1.p1.2.m2.1.2.3.cmml">A</mi><mo id="S5.I1.i1.p1.2.m2.1.2.1a" xref="S5.I1.i1.p1.2.m2.1.2.1.cmml">⁢</mo><mi id="S5.I1.i1.p1.2.m2.1.2.4" xref="S5.I1.i1.p1.2.m2.1.2.4.cmml">G</mi><mo id="S5.I1.i1.p1.2.m2.1.2.1b" xref="S5.I1.i1.p1.2.m2.1.2.1.cmml">⁢</mo><mrow id="S5.I1.i1.p1.2.m2.1.2.5.2" xref="S5.I1.i1.p1.2.m2.1.2.cmml"><mo id="S5.I1.i1.p1.2.m2.1.2.5.2.1" stretchy="false" xref="S5.I1.i1.p1.2.m2.1.2.cmml">(</mo><mi id="S5.I1.i1.p1.2.m2.1.1" xref="S5.I1.i1.p1.2.m2.1.1.cmml">D</mi><mo id="S5.I1.i1.p1.2.m2.1.2.5.2.2" stretchy="false" xref="S5.I1.i1.p1.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.I1.i1.p1.2.m2.1b"><apply id="S5.I1.i1.p1.2.m2.1.2.cmml" xref="S5.I1.i1.p1.2.m2.1.2"><times id="S5.I1.i1.p1.2.m2.1.2.1.cmml" xref="S5.I1.i1.p1.2.m2.1.2.1"></times><ci id="S5.I1.i1.p1.2.m2.1.2.2.cmml" xref="S5.I1.i1.p1.2.m2.1.2.2">𝑅</ci><ci id="S5.I1.i1.p1.2.m2.1.2.3.cmml" xref="S5.I1.i1.p1.2.m2.1.2.3">𝐴</ci><ci id="S5.I1.i1.p1.2.m2.1.2.4.cmml" xref="S5.I1.i1.p1.2.m2.1.2.4">𝐺</ci><ci id="S5.I1.i1.p1.2.m2.1.1.cmml" xref="S5.I1.i1.p1.2.m2.1.1">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i1.p1.2.m2.1c">RAG(D)</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i1.p1.2.m2.1d">italic_R italic_A italic_G ( italic_D )</annotation></semantics></math>, aims to establish the correlation between RAG ranking methods and generated responses.</p>
</div>
</li>
<li class="ltx_item" id="S5.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S5.I1.i2.p1">
<p class="ltx_p" id="S5.I1.i2.p1.4"><span class="ltx_text ltx_font_bold" id="S5.I1.i2.p1.4.1">Extracting Information with Regular Expressions:</span> Following the generation stage, we employ regular expressions to extract specific information <math alttext="X" class="ltx_Math" display="inline" id="S5.I1.i2.p1.1.m1.1"><semantics id="S5.I1.i2.p1.1.m1.1a"><mi id="S5.I1.i2.p1.1.m1.1.1" xref="S5.I1.i2.p1.1.m1.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i2.p1.1.m1.1b"><ci id="S5.I1.i2.p1.1.m1.1.1.cmml" xref="S5.I1.i2.p1.1.m1.1.1">𝑋</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i2.p1.1.m1.1c">X</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i2.p1.1.m1.1d">italic_X</annotation></semantics></math> from the generated texts <math alttext="Y" class="ltx_Math" display="inline" id="S5.I1.i2.p1.2.m2.1"><semantics id="S5.I1.i2.p1.2.m2.1a"><mi id="S5.I1.i2.p1.2.m2.1.1" xref="S5.I1.i2.p1.2.m2.1.1.cmml">Y</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i2.p1.2.m2.1b"><ci id="S5.I1.i2.p1.2.m2.1.1.cmml" xref="S5.I1.i2.p1.2.m2.1.1">𝑌</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i2.p1.2.m2.1c">Y</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i2.p1.2.m2.1d">italic_Y</annotation></semantics></math>. This operation is represented as <math alttext="P(Y)=X" class="ltx_Math" display="inline" id="S5.I1.i2.p1.3.m3.1"><semantics id="S5.I1.i2.p1.3.m3.1a"><mrow id="S5.I1.i2.p1.3.m3.1.2" xref="S5.I1.i2.p1.3.m3.1.2.cmml"><mrow id="S5.I1.i2.p1.3.m3.1.2.2" xref="S5.I1.i2.p1.3.m3.1.2.2.cmml"><mi id="S5.I1.i2.p1.3.m3.1.2.2.2" xref="S5.I1.i2.p1.3.m3.1.2.2.2.cmml">P</mi><mo id="S5.I1.i2.p1.3.m3.1.2.2.1" xref="S5.I1.i2.p1.3.m3.1.2.2.1.cmml">⁢</mo><mrow id="S5.I1.i2.p1.3.m3.1.2.2.3.2" xref="S5.I1.i2.p1.3.m3.1.2.2.cmml"><mo id="S5.I1.i2.p1.3.m3.1.2.2.3.2.1" stretchy="false" xref="S5.I1.i2.p1.3.m3.1.2.2.cmml">(</mo><mi id="S5.I1.i2.p1.3.m3.1.1" xref="S5.I1.i2.p1.3.m3.1.1.cmml">Y</mi><mo id="S5.I1.i2.p1.3.m3.1.2.2.3.2.2" stretchy="false" xref="S5.I1.i2.p1.3.m3.1.2.2.cmml">)</mo></mrow></mrow><mo id="S5.I1.i2.p1.3.m3.1.2.1" xref="S5.I1.i2.p1.3.m3.1.2.1.cmml">=</mo><mi id="S5.I1.i2.p1.3.m3.1.2.3" xref="S5.I1.i2.p1.3.m3.1.2.3.cmml">X</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.I1.i2.p1.3.m3.1b"><apply id="S5.I1.i2.p1.3.m3.1.2.cmml" xref="S5.I1.i2.p1.3.m3.1.2"><eq id="S5.I1.i2.p1.3.m3.1.2.1.cmml" xref="S5.I1.i2.p1.3.m3.1.2.1"></eq><apply id="S5.I1.i2.p1.3.m3.1.2.2.cmml" xref="S5.I1.i2.p1.3.m3.1.2.2"><times id="S5.I1.i2.p1.3.m3.1.2.2.1.cmml" xref="S5.I1.i2.p1.3.m3.1.2.2.1"></times><ci id="S5.I1.i2.p1.3.m3.1.2.2.2.cmml" xref="S5.I1.i2.p1.3.m3.1.2.2.2">𝑃</ci><ci id="S5.I1.i2.p1.3.m3.1.1.cmml" xref="S5.I1.i2.p1.3.m3.1.1">𝑌</ci></apply><ci id="S5.I1.i2.p1.3.m3.1.2.3.cmml" xref="S5.I1.i2.p1.3.m3.1.2.3">𝑋</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i2.p1.3.m3.1c">P(Y)=X</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i2.p1.3.m3.1d">italic_P ( italic_Y ) = italic_X</annotation></semantics></math>, where <math alttext="P" class="ltx_Math" display="inline" id="S5.I1.i2.p1.4.m4.1"><semantics id="S5.I1.i2.p1.4.m4.1a"><mi id="S5.I1.i2.p1.4.m4.1.1" xref="S5.I1.i2.p1.4.m4.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i2.p1.4.m4.1b"><ci id="S5.I1.i2.p1.4.m4.1.1.cmml" xref="S5.I1.i2.p1.4.m4.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i2.p1.4.m4.1c">P</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i2.p1.4.m4.1d">italic_P</annotation></semantics></math> represents the regex parsing function.</p>
</div>
</li>
<li class="ltx_item" id="S5.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S5.I1.i3.p1">
<p class="ltx_p" id="S5.I1.i3.p1.2"><span class="ltx_text ltx_font_bold" id="S5.I1.i3.p1.2.1">Assigning Labels Based on Correctness:</span> The final step involves assigning labels to the generated outputs based on their accuracy relative to the expected answers. We define the labeling function <math alttext="L(y)" class="ltx_Math" display="inline" id="S5.I1.i3.p1.1.m1.1"><semantics id="S5.I1.i3.p1.1.m1.1a"><mrow id="S5.I1.i3.p1.1.m1.1.2" xref="S5.I1.i3.p1.1.m1.1.2.cmml"><mi id="S5.I1.i3.p1.1.m1.1.2.2" xref="S5.I1.i3.p1.1.m1.1.2.2.cmml">L</mi><mo id="S5.I1.i3.p1.1.m1.1.2.1" xref="S5.I1.i3.p1.1.m1.1.2.1.cmml">⁢</mo><mrow id="S5.I1.i3.p1.1.m1.1.2.3.2" xref="S5.I1.i3.p1.1.m1.1.2.cmml"><mo id="S5.I1.i3.p1.1.m1.1.2.3.2.1" stretchy="false" xref="S5.I1.i3.p1.1.m1.1.2.cmml">(</mo><mi id="S5.I1.i3.p1.1.m1.1.1" xref="S5.I1.i3.p1.1.m1.1.1.cmml">y</mi><mo id="S5.I1.i3.p1.1.m1.1.2.3.2.2" stretchy="false" xref="S5.I1.i3.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.I1.i3.p1.1.m1.1b"><apply id="S5.I1.i3.p1.1.m1.1.2.cmml" xref="S5.I1.i3.p1.1.m1.1.2"><times id="S5.I1.i3.p1.1.m1.1.2.1.cmml" xref="S5.I1.i3.p1.1.m1.1.2.1"></times><ci id="S5.I1.i3.p1.1.m1.1.2.2.cmml" xref="S5.I1.i3.p1.1.m1.1.2.2">𝐿</ci><ci id="S5.I1.i3.p1.1.m1.1.1.cmml" xref="S5.I1.i3.p1.1.m1.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i3.p1.1.m1.1c">L(y)</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i3.p1.1.m1.1d">italic_L ( italic_y )</annotation></semantics></math> for the generated output <math alttext="y" class="ltx_Math" display="inline" id="S5.I1.i3.p1.2.m2.1"><semantics id="S5.I1.i3.p1.2.m2.1a"><mi id="S5.I1.i3.p1.2.m2.1.1" xref="S5.I1.i3.p1.2.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i3.p1.2.m2.1b"><ci id="S5.I1.i3.p1.2.m2.1.1.cmml" xref="S5.I1.i3.p1.2.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i3.p1.2.m2.1c">y</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i3.p1.2.m2.1d">italic_y</annotation></semantics></math> in comparison to the expected answer.</p>
</div>
</li>
</ol>
</div>
<div class="ltx_para" id="S5.SS1.SSS2.p3">
<p class="ltx_p" id="S5.SS1.SSS2.p3.1">This feedback loop is fundamental to continuously enhancing the model’s accuracy and aligning it with user preferences. Here’s the breakdown of the labels:</p>
<ul class="ltx_itemize" id="S5.I2">
<li class="ltx_item" id="S5.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I2.i1.p1">
<p class="ltx_p" id="S5.I2.i1.p1.3"><span class="ltx_text ltx_font_bold" id="S5.I2.i1.p1.1.1">Correct (<math alttext="L(y)=Positive" class="ltx_Math" display="inline" id="S5.I2.i1.p1.1.1.m1.1"><semantics id="S5.I2.i1.p1.1.1.m1.1a"><mrow id="S5.I2.i1.p1.1.1.m1.1.2" xref="S5.I2.i1.p1.1.1.m1.1.2.cmml"><mrow id="S5.I2.i1.p1.1.1.m1.1.2.2" xref="S5.I2.i1.p1.1.1.m1.1.2.2.cmml"><mi id="S5.I2.i1.p1.1.1.m1.1.2.2.2" xref="S5.I2.i1.p1.1.1.m1.1.2.2.2.cmml">L</mi><mo id="S5.I2.i1.p1.1.1.m1.1.2.2.1" xref="S5.I2.i1.p1.1.1.m1.1.2.2.1.cmml">⁢</mo><mrow id="S5.I2.i1.p1.1.1.m1.1.2.2.3.2" xref="S5.I2.i1.p1.1.1.m1.1.2.2.cmml"><mo id="S5.I2.i1.p1.1.1.m1.1.2.2.3.2.1" stretchy="false" xref="S5.I2.i1.p1.1.1.m1.1.2.2.cmml">(</mo><mi id="S5.I2.i1.p1.1.1.m1.1.1" xref="S5.I2.i1.p1.1.1.m1.1.1.cmml">y</mi><mo id="S5.I2.i1.p1.1.1.m1.1.2.2.3.2.2" stretchy="false" xref="S5.I2.i1.p1.1.1.m1.1.2.2.cmml">)</mo></mrow></mrow><mo id="S5.I2.i1.p1.1.1.m1.1.2.1" xref="S5.I2.i1.p1.1.1.m1.1.2.1.cmml">=</mo><mrow id="S5.I2.i1.p1.1.1.m1.1.2.3" xref="S5.I2.i1.p1.1.1.m1.1.2.3.cmml"><mi id="S5.I2.i1.p1.1.1.m1.1.2.3.2" xref="S5.I2.i1.p1.1.1.m1.1.2.3.2.cmml">P</mi><mo id="S5.I2.i1.p1.1.1.m1.1.2.3.1" xref="S5.I2.i1.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i1.p1.1.1.m1.1.2.3.3" xref="S5.I2.i1.p1.1.1.m1.1.2.3.3.cmml">o</mi><mo id="S5.I2.i1.p1.1.1.m1.1.2.3.1a" xref="S5.I2.i1.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i1.p1.1.1.m1.1.2.3.4" xref="S5.I2.i1.p1.1.1.m1.1.2.3.4.cmml">s</mi><mo id="S5.I2.i1.p1.1.1.m1.1.2.3.1b" xref="S5.I2.i1.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i1.p1.1.1.m1.1.2.3.5" xref="S5.I2.i1.p1.1.1.m1.1.2.3.5.cmml">i</mi><mo id="S5.I2.i1.p1.1.1.m1.1.2.3.1c" xref="S5.I2.i1.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i1.p1.1.1.m1.1.2.3.6" xref="S5.I2.i1.p1.1.1.m1.1.2.3.6.cmml">t</mi><mo id="S5.I2.i1.p1.1.1.m1.1.2.3.1d" xref="S5.I2.i1.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i1.p1.1.1.m1.1.2.3.7" xref="S5.I2.i1.p1.1.1.m1.1.2.3.7.cmml">i</mi><mo id="S5.I2.i1.p1.1.1.m1.1.2.3.1e" xref="S5.I2.i1.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i1.p1.1.1.m1.1.2.3.8" xref="S5.I2.i1.p1.1.1.m1.1.2.3.8.cmml">v</mi><mo id="S5.I2.i1.p1.1.1.m1.1.2.3.1f" xref="S5.I2.i1.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i1.p1.1.1.m1.1.2.3.9" xref="S5.I2.i1.p1.1.1.m1.1.2.3.9.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.I2.i1.p1.1.1.m1.1b"><apply id="S5.I2.i1.p1.1.1.m1.1.2.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2"><eq id="S5.I2.i1.p1.1.1.m1.1.2.1.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.1"></eq><apply id="S5.I2.i1.p1.1.1.m1.1.2.2.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.2"><times id="S5.I2.i1.p1.1.1.m1.1.2.2.1.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.2.1"></times><ci id="S5.I2.i1.p1.1.1.m1.1.2.2.2.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.2.2">𝐿</ci><ci id="S5.I2.i1.p1.1.1.m1.1.1.cmml" xref="S5.I2.i1.p1.1.1.m1.1.1">𝑦</ci></apply><apply id="S5.I2.i1.p1.1.1.m1.1.2.3.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.3"><times id="S5.I2.i1.p1.1.1.m1.1.2.3.1.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.3.1"></times><ci id="S5.I2.i1.p1.1.1.m1.1.2.3.2.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.3.2">𝑃</ci><ci id="S5.I2.i1.p1.1.1.m1.1.2.3.3.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.3.3">𝑜</ci><ci id="S5.I2.i1.p1.1.1.m1.1.2.3.4.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.3.4">𝑠</ci><ci id="S5.I2.i1.p1.1.1.m1.1.2.3.5.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.3.5">𝑖</ci><ci id="S5.I2.i1.p1.1.1.m1.1.2.3.6.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.3.6">𝑡</ci><ci id="S5.I2.i1.p1.1.1.m1.1.2.3.7.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.3.7">𝑖</ci><ci id="S5.I2.i1.p1.1.1.m1.1.2.3.8.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.3.8">𝑣</ci><ci id="S5.I2.i1.p1.1.1.m1.1.2.3.9.cmml" xref="S5.I2.i1.p1.1.1.m1.1.2.3.9">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i1.p1.1.1.m1.1c">L(y)=Positive</annotation><annotation encoding="application/x-llamapun" id="S5.I2.i1.p1.1.1.m1.1d">italic_L ( italic_y ) = italic_P italic_o italic_s italic_i italic_t italic_i italic_v italic_e</annotation></semantics></math>):</span> Indicates that the generated output <math alttext="y" class="ltx_Math" display="inline" id="S5.I2.i1.p1.2.m1.1"><semantics id="S5.I2.i1.p1.2.m1.1a"><mi id="S5.I2.i1.p1.2.m1.1.1" xref="S5.I2.i1.p1.2.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S5.I2.i1.p1.2.m1.1b"><ci id="S5.I2.i1.p1.2.m1.1.1.cmml" xref="S5.I2.i1.p1.2.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i1.p1.2.m1.1c">y</annotation><annotation encoding="application/x-llamapun" id="S5.I2.i1.p1.2.m1.1d">italic_y</annotation></semantics></math> matches the set of correct answers <math alttext="Y_{\text{correct}}" class="ltx_Math" display="inline" id="S5.I2.i1.p1.3.m2.1"><semantics id="S5.I2.i1.p1.3.m2.1a"><msub id="S5.I2.i1.p1.3.m2.1.1" xref="S5.I2.i1.p1.3.m2.1.1.cmml"><mi id="S5.I2.i1.p1.3.m2.1.1.2" xref="S5.I2.i1.p1.3.m2.1.1.2.cmml">Y</mi><mtext id="S5.I2.i1.p1.3.m2.1.1.3" xref="S5.I2.i1.p1.3.m2.1.1.3a.cmml">correct</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.I2.i1.p1.3.m2.1b"><apply id="S5.I2.i1.p1.3.m2.1.1.cmml" xref="S5.I2.i1.p1.3.m2.1.1"><csymbol cd="ambiguous" id="S5.I2.i1.p1.3.m2.1.1.1.cmml" xref="S5.I2.i1.p1.3.m2.1.1">subscript</csymbol><ci id="S5.I2.i1.p1.3.m2.1.1.2.cmml" xref="S5.I2.i1.p1.3.m2.1.1.2">𝑌</ci><ci id="S5.I2.i1.p1.3.m2.1.1.3a.cmml" xref="S5.I2.i1.p1.3.m2.1.1.3"><mtext id="S5.I2.i1.p1.3.m2.1.1.3.cmml" mathsize="70%" xref="S5.I2.i1.p1.3.m2.1.1.3">correct</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i1.p1.3.m2.1c">Y_{\text{correct}}</annotation><annotation encoding="application/x-llamapun" id="S5.I2.i1.p1.3.m2.1d">italic_Y start_POSTSUBSCRIPT correct end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="S5.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I2.i2.p1">
<p class="ltx_p" id="S5.I2.i2.p1.3"><span class="ltx_text ltx_font_bold" id="S5.I2.i2.p1.1.1">Incorrect (<math alttext="L(y)=Even" class="ltx_Math" display="inline" id="S5.I2.i2.p1.1.1.m1.1"><semantics id="S5.I2.i2.p1.1.1.m1.1a"><mrow id="S5.I2.i2.p1.1.1.m1.1.2" xref="S5.I2.i2.p1.1.1.m1.1.2.cmml"><mrow id="S5.I2.i2.p1.1.1.m1.1.2.2" xref="S5.I2.i2.p1.1.1.m1.1.2.2.cmml"><mi id="S5.I2.i2.p1.1.1.m1.1.2.2.2" xref="S5.I2.i2.p1.1.1.m1.1.2.2.2.cmml">L</mi><mo id="S5.I2.i2.p1.1.1.m1.1.2.2.1" xref="S5.I2.i2.p1.1.1.m1.1.2.2.1.cmml">⁢</mo><mrow id="S5.I2.i2.p1.1.1.m1.1.2.2.3.2" xref="S5.I2.i2.p1.1.1.m1.1.2.2.cmml"><mo id="S5.I2.i2.p1.1.1.m1.1.2.2.3.2.1" stretchy="false" xref="S5.I2.i2.p1.1.1.m1.1.2.2.cmml">(</mo><mi id="S5.I2.i2.p1.1.1.m1.1.1" xref="S5.I2.i2.p1.1.1.m1.1.1.cmml">y</mi><mo id="S5.I2.i2.p1.1.1.m1.1.2.2.3.2.2" stretchy="false" xref="S5.I2.i2.p1.1.1.m1.1.2.2.cmml">)</mo></mrow></mrow><mo id="S5.I2.i2.p1.1.1.m1.1.2.1" xref="S5.I2.i2.p1.1.1.m1.1.2.1.cmml">=</mo><mrow id="S5.I2.i2.p1.1.1.m1.1.2.3" xref="S5.I2.i2.p1.1.1.m1.1.2.3.cmml"><mi id="S5.I2.i2.p1.1.1.m1.1.2.3.2" xref="S5.I2.i2.p1.1.1.m1.1.2.3.2.cmml">E</mi><mo id="S5.I2.i2.p1.1.1.m1.1.2.3.1" xref="S5.I2.i2.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i2.p1.1.1.m1.1.2.3.3" xref="S5.I2.i2.p1.1.1.m1.1.2.3.3.cmml">v</mi><mo id="S5.I2.i2.p1.1.1.m1.1.2.3.1a" xref="S5.I2.i2.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i2.p1.1.1.m1.1.2.3.4" xref="S5.I2.i2.p1.1.1.m1.1.2.3.4.cmml">e</mi><mo id="S5.I2.i2.p1.1.1.m1.1.2.3.1b" xref="S5.I2.i2.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i2.p1.1.1.m1.1.2.3.5" xref="S5.I2.i2.p1.1.1.m1.1.2.3.5.cmml">n</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.I2.i2.p1.1.1.m1.1b"><apply id="S5.I2.i2.p1.1.1.m1.1.2.cmml" xref="S5.I2.i2.p1.1.1.m1.1.2"><eq id="S5.I2.i2.p1.1.1.m1.1.2.1.cmml" xref="S5.I2.i2.p1.1.1.m1.1.2.1"></eq><apply id="S5.I2.i2.p1.1.1.m1.1.2.2.cmml" xref="S5.I2.i2.p1.1.1.m1.1.2.2"><times id="S5.I2.i2.p1.1.1.m1.1.2.2.1.cmml" xref="S5.I2.i2.p1.1.1.m1.1.2.2.1"></times><ci id="S5.I2.i2.p1.1.1.m1.1.2.2.2.cmml" xref="S5.I2.i2.p1.1.1.m1.1.2.2.2">𝐿</ci><ci id="S5.I2.i2.p1.1.1.m1.1.1.cmml" xref="S5.I2.i2.p1.1.1.m1.1.1">𝑦</ci></apply><apply id="S5.I2.i2.p1.1.1.m1.1.2.3.cmml" xref="S5.I2.i2.p1.1.1.m1.1.2.3"><times id="S5.I2.i2.p1.1.1.m1.1.2.3.1.cmml" xref="S5.I2.i2.p1.1.1.m1.1.2.3.1"></times><ci id="S5.I2.i2.p1.1.1.m1.1.2.3.2.cmml" xref="S5.I2.i2.p1.1.1.m1.1.2.3.2">𝐸</ci><ci id="S5.I2.i2.p1.1.1.m1.1.2.3.3.cmml" xref="S5.I2.i2.p1.1.1.m1.1.2.3.3">𝑣</ci><ci id="S5.I2.i2.p1.1.1.m1.1.2.3.4.cmml" xref="S5.I2.i2.p1.1.1.m1.1.2.3.4">𝑒</ci><ci id="S5.I2.i2.p1.1.1.m1.1.2.3.5.cmml" xref="S5.I2.i2.p1.1.1.m1.1.2.3.5">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i2.p1.1.1.m1.1c">L(y)=Even</annotation><annotation encoding="application/x-llamapun" id="S5.I2.i2.p1.1.1.m1.1d">italic_L ( italic_y ) = italic_E italic_v italic_e italic_n</annotation></semantics></math>):</span> Signals that the generated output <math alttext="y" class="ltx_Math" display="inline" id="S5.I2.i2.p1.2.m1.1"><semantics id="S5.I2.i2.p1.2.m1.1a"><mi id="S5.I2.i2.p1.2.m1.1.1" xref="S5.I2.i2.p1.2.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S5.I2.i2.p1.2.m1.1b"><ci id="S5.I2.i2.p1.2.m1.1.1.cmml" xref="S5.I2.i2.p1.2.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i2.p1.2.m1.1c">y</annotation><annotation encoding="application/x-llamapun" id="S5.I2.i2.p1.2.m1.1d">italic_y</annotation></semantics></math> falls within the set of incorrect answers <math alttext="Y_{\text{incorrect}}" class="ltx_Math" display="inline" id="S5.I2.i2.p1.3.m2.1"><semantics id="S5.I2.i2.p1.3.m2.1a"><msub id="S5.I2.i2.p1.3.m2.1.1" xref="S5.I2.i2.p1.3.m2.1.1.cmml"><mi id="S5.I2.i2.p1.3.m2.1.1.2" xref="S5.I2.i2.p1.3.m2.1.1.2.cmml">Y</mi><mtext id="S5.I2.i2.p1.3.m2.1.1.3" xref="S5.I2.i2.p1.3.m2.1.1.3a.cmml">incorrect</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.I2.i2.p1.3.m2.1b"><apply id="S5.I2.i2.p1.3.m2.1.1.cmml" xref="S5.I2.i2.p1.3.m2.1.1"><csymbol cd="ambiguous" id="S5.I2.i2.p1.3.m2.1.1.1.cmml" xref="S5.I2.i2.p1.3.m2.1.1">subscript</csymbol><ci id="S5.I2.i2.p1.3.m2.1.1.2.cmml" xref="S5.I2.i2.p1.3.m2.1.1.2">𝑌</ci><ci id="S5.I2.i2.p1.3.m2.1.1.3a.cmml" xref="S5.I2.i2.p1.3.m2.1.1.3"><mtext id="S5.I2.i2.p1.3.m2.1.1.3.cmml" mathsize="70%" xref="S5.I2.i2.p1.3.m2.1.1.3">incorrect</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i2.p1.3.m2.1c">Y_{\text{incorrect}}</annotation><annotation encoding="application/x-llamapun" id="S5.I2.i2.p1.3.m2.1d">italic_Y start_POSTSUBSCRIPT incorrect end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="S5.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I2.i3.p1">
<p class="ltx_p" id="S5.I2.i3.p1.2"><span class="ltx_text ltx_font_bold" id="S5.I2.i3.p1.1.1">No Answer (<math alttext="L(y)=Negative" class="ltx_Math" display="inline" id="S5.I2.i3.p1.1.1.m1.1"><semantics id="S5.I2.i3.p1.1.1.m1.1a"><mrow id="S5.I2.i3.p1.1.1.m1.1.2" xref="S5.I2.i3.p1.1.1.m1.1.2.cmml"><mrow id="S5.I2.i3.p1.1.1.m1.1.2.2" xref="S5.I2.i3.p1.1.1.m1.1.2.2.cmml"><mi id="S5.I2.i3.p1.1.1.m1.1.2.2.2" xref="S5.I2.i3.p1.1.1.m1.1.2.2.2.cmml">L</mi><mo id="S5.I2.i3.p1.1.1.m1.1.2.2.1" xref="S5.I2.i3.p1.1.1.m1.1.2.2.1.cmml">⁢</mo><mrow id="S5.I2.i3.p1.1.1.m1.1.2.2.3.2" xref="S5.I2.i3.p1.1.1.m1.1.2.2.cmml"><mo id="S5.I2.i3.p1.1.1.m1.1.2.2.3.2.1" stretchy="false" xref="S5.I2.i3.p1.1.1.m1.1.2.2.cmml">(</mo><mi id="S5.I2.i3.p1.1.1.m1.1.1" xref="S5.I2.i3.p1.1.1.m1.1.1.cmml">y</mi><mo id="S5.I2.i3.p1.1.1.m1.1.2.2.3.2.2" stretchy="false" xref="S5.I2.i3.p1.1.1.m1.1.2.2.cmml">)</mo></mrow></mrow><mo id="S5.I2.i3.p1.1.1.m1.1.2.1" xref="S5.I2.i3.p1.1.1.m1.1.2.1.cmml">=</mo><mrow id="S5.I2.i3.p1.1.1.m1.1.2.3" xref="S5.I2.i3.p1.1.1.m1.1.2.3.cmml"><mi id="S5.I2.i3.p1.1.1.m1.1.2.3.2" xref="S5.I2.i3.p1.1.1.m1.1.2.3.2.cmml">N</mi><mo id="S5.I2.i3.p1.1.1.m1.1.2.3.1" xref="S5.I2.i3.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i3.p1.1.1.m1.1.2.3.3" xref="S5.I2.i3.p1.1.1.m1.1.2.3.3.cmml">e</mi><mo id="S5.I2.i3.p1.1.1.m1.1.2.3.1a" xref="S5.I2.i3.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i3.p1.1.1.m1.1.2.3.4" xref="S5.I2.i3.p1.1.1.m1.1.2.3.4.cmml">g</mi><mo id="S5.I2.i3.p1.1.1.m1.1.2.3.1b" xref="S5.I2.i3.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i3.p1.1.1.m1.1.2.3.5" xref="S5.I2.i3.p1.1.1.m1.1.2.3.5.cmml">a</mi><mo id="S5.I2.i3.p1.1.1.m1.1.2.3.1c" xref="S5.I2.i3.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i3.p1.1.1.m1.1.2.3.6" xref="S5.I2.i3.p1.1.1.m1.1.2.3.6.cmml">t</mi><mo id="S5.I2.i3.p1.1.1.m1.1.2.3.1d" xref="S5.I2.i3.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i3.p1.1.1.m1.1.2.3.7" xref="S5.I2.i3.p1.1.1.m1.1.2.3.7.cmml">i</mi><mo id="S5.I2.i3.p1.1.1.m1.1.2.3.1e" xref="S5.I2.i3.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i3.p1.1.1.m1.1.2.3.8" xref="S5.I2.i3.p1.1.1.m1.1.2.3.8.cmml">v</mi><mo id="S5.I2.i3.p1.1.1.m1.1.2.3.1f" xref="S5.I2.i3.p1.1.1.m1.1.2.3.1.cmml">⁢</mo><mi id="S5.I2.i3.p1.1.1.m1.1.2.3.9" xref="S5.I2.i3.p1.1.1.m1.1.2.3.9.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.I2.i3.p1.1.1.m1.1b"><apply id="S5.I2.i3.p1.1.1.m1.1.2.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2"><eq id="S5.I2.i3.p1.1.1.m1.1.2.1.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.1"></eq><apply id="S5.I2.i3.p1.1.1.m1.1.2.2.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.2"><times id="S5.I2.i3.p1.1.1.m1.1.2.2.1.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.2.1"></times><ci id="S5.I2.i3.p1.1.1.m1.1.2.2.2.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.2.2">𝐿</ci><ci id="S5.I2.i3.p1.1.1.m1.1.1.cmml" xref="S5.I2.i3.p1.1.1.m1.1.1">𝑦</ci></apply><apply id="S5.I2.i3.p1.1.1.m1.1.2.3.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.3"><times id="S5.I2.i3.p1.1.1.m1.1.2.3.1.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.3.1"></times><ci id="S5.I2.i3.p1.1.1.m1.1.2.3.2.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.3.2">𝑁</ci><ci id="S5.I2.i3.p1.1.1.m1.1.2.3.3.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.3.3">𝑒</ci><ci id="S5.I2.i3.p1.1.1.m1.1.2.3.4.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.3.4">𝑔</ci><ci id="S5.I2.i3.p1.1.1.m1.1.2.3.5.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.3.5">𝑎</ci><ci id="S5.I2.i3.p1.1.1.m1.1.2.3.6.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.3.6">𝑡</ci><ci id="S5.I2.i3.p1.1.1.m1.1.2.3.7.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.3.7">𝑖</ci><ci id="S5.I2.i3.p1.1.1.m1.1.2.3.8.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.3.8">𝑣</ci><ci id="S5.I2.i3.p1.1.1.m1.1.2.3.9.cmml" xref="S5.I2.i3.p1.1.1.m1.1.2.3.9">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i3.p1.1.1.m1.1c">L(y)=Negative</annotation><annotation encoding="application/x-llamapun" id="S5.I2.i3.p1.1.1.m1.1d">italic_L ( italic_y ) = italic_N italic_e italic_g italic_a italic_t italic_i italic_v italic_e</annotation></semantics></math>):</span> Represents outputs lacking an answer and belonging to the set of nonresponses <math alttext="Y_{\text{no\_answer}}" class="ltx_Math" display="inline" id="S5.I2.i3.p1.2.m1.1"><semantics id="S5.I2.i3.p1.2.m1.1a"><msub id="S5.I2.i3.p1.2.m1.1.1" xref="S5.I2.i3.p1.2.m1.1.1.cmml"><mi id="S5.I2.i3.p1.2.m1.1.1.2" xref="S5.I2.i3.p1.2.m1.1.1.2.cmml">Y</mi><mtext id="S5.I2.i3.p1.2.m1.1.1.3" xref="S5.I2.i3.p1.2.m1.1.1.3a.cmml">no_answer</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.I2.i3.p1.2.m1.1b"><apply id="S5.I2.i3.p1.2.m1.1.1.cmml" xref="S5.I2.i3.p1.2.m1.1.1"><csymbol cd="ambiguous" id="S5.I2.i3.p1.2.m1.1.1.1.cmml" xref="S5.I2.i3.p1.2.m1.1.1">subscript</csymbol><ci id="S5.I2.i3.p1.2.m1.1.1.2.cmml" xref="S5.I2.i3.p1.2.m1.1.1.2">𝑌</ci><ci id="S5.I2.i3.p1.2.m1.1.1.3a.cmml" xref="S5.I2.i3.p1.2.m1.1.1.3"><mtext id="S5.I2.i3.p1.2.m1.1.1.3.cmml" mathsize="70%" xref="S5.I2.i3.p1.2.m1.1.1.3">no_answer</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i3.p1.2.m1.1c">Y_{\text{no\_answer}}</annotation><annotation encoding="application/x-llamapun" id="S5.I2.i3.p1.2.m1.1d">italic_Y start_POSTSUBSCRIPT no_answer end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S5.SS1.SSS2.p4">
<p class="ltx_p" id="S5.SS1.SSS2.p4.3">This formalization illustrates a continuous learning system in which feedback from real user interactions refines and enhances the model, aligning its output more closely with user expectations and real-world applications. Specifically, the correct answers (<math alttext="Y_{\text{correct}}" class="ltx_Math" display="inline" id="S5.SS1.SSS2.p4.1.m1.1"><semantics id="S5.SS1.SSS2.p4.1.m1.1a"><msub id="S5.SS1.SSS2.p4.1.m1.1.1" xref="S5.SS1.SSS2.p4.1.m1.1.1.cmml"><mi id="S5.SS1.SSS2.p4.1.m1.1.1.2" xref="S5.SS1.SSS2.p4.1.m1.1.1.2.cmml">Y</mi><mtext id="S5.SS1.SSS2.p4.1.m1.1.1.3" xref="S5.SS1.SSS2.p4.1.m1.1.1.3a.cmml">correct</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p4.1.m1.1b"><apply id="S5.SS1.SSS2.p4.1.m1.1.1.cmml" xref="S5.SS1.SSS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS2.p4.1.m1.1.1.1.cmml" xref="S5.SS1.SSS2.p4.1.m1.1.1">subscript</csymbol><ci id="S5.SS1.SSS2.p4.1.m1.1.1.2.cmml" xref="S5.SS1.SSS2.p4.1.m1.1.1.2">𝑌</ci><ci id="S5.SS1.SSS2.p4.1.m1.1.1.3a.cmml" xref="S5.SS1.SSS2.p4.1.m1.1.1.3"><mtext id="S5.SS1.SSS2.p4.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.SS1.SSS2.p4.1.m1.1.1.3">correct</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p4.1.m1.1c">Y_{\text{correct}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS2.p4.1.m1.1d">italic_Y start_POSTSUBSCRIPT correct end_POSTSUBSCRIPT</annotation></semantics></math>) resemble text copying, the incorrect answers (<math alttext="Y_{\text{incorrect}}" class="ltx_Math" display="inline" id="S5.SS1.SSS2.p4.2.m2.1"><semantics id="S5.SS1.SSS2.p4.2.m2.1a"><msub id="S5.SS1.SSS2.p4.2.m2.1.1" xref="S5.SS1.SSS2.p4.2.m2.1.1.cmml"><mi id="S5.SS1.SSS2.p4.2.m2.1.1.2" xref="S5.SS1.SSS2.p4.2.m2.1.1.2.cmml">Y</mi><mtext id="S5.SS1.SSS2.p4.2.m2.1.1.3" xref="S5.SS1.SSS2.p4.2.m2.1.1.3a.cmml">incorrect</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p4.2.m2.1b"><apply id="S5.SS1.SSS2.p4.2.m2.1.1.cmml" xref="S5.SS1.SSS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS2.p4.2.m2.1.1.1.cmml" xref="S5.SS1.SSS2.p4.2.m2.1.1">subscript</csymbol><ci id="S5.SS1.SSS2.p4.2.m2.1.1.2.cmml" xref="S5.SS1.SSS2.p4.2.m2.1.1.2">𝑌</ci><ci id="S5.SS1.SSS2.p4.2.m2.1.1.3a.cmml" xref="S5.SS1.SSS2.p4.2.m2.1.1.3"><mtext id="S5.SS1.SSS2.p4.2.m2.1.1.3.cmml" mathsize="70%" xref="S5.SS1.SSS2.p4.2.m2.1.1.3">incorrect</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p4.2.m2.1c">Y_{\text{incorrect}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS2.p4.2.m2.1d">italic_Y start_POSTSUBSCRIPT incorrect end_POSTSUBSCRIPT</annotation></semantics></math>) resemble regeneration, and the lack of answers (<math alttext="Y_{\text{no\_answer}}" class="ltx_Math" display="inline" id="S5.SS1.SSS2.p4.3.m3.1"><semantics id="S5.SS1.SSS2.p4.3.m3.1a"><msub id="S5.SS1.SSS2.p4.3.m3.1.1" xref="S5.SS1.SSS2.p4.3.m3.1.1.cmml"><mi id="S5.SS1.SSS2.p4.3.m3.1.1.2" xref="S5.SS1.SSS2.p4.3.m3.1.1.2.cmml">Y</mi><mtext id="S5.SS1.SSS2.p4.3.m3.1.1.3" xref="S5.SS1.SSS2.p4.3.m3.1.1.3a.cmml">no_answer</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p4.3.m3.1b"><apply id="S5.SS1.SSS2.p4.3.m3.1.1.cmml" xref="S5.SS1.SSS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.SSS2.p4.3.m3.1.1.1.cmml" xref="S5.SS1.SSS2.p4.3.m3.1.1">subscript</csymbol><ci id="S5.SS1.SSS2.p4.3.m3.1.1.2.cmml" xref="S5.SS1.SSS2.p4.3.m3.1.1.2">𝑌</ci><ci id="S5.SS1.SSS2.p4.3.m3.1.1.3a.cmml" xref="S5.SS1.SSS2.p4.3.m3.1.1.3"><mtext id="S5.SS1.SSS2.p4.3.m3.1.1.3.cmml" mathsize="70%" xref="S5.SS1.SSS2.p4.3.m3.1.1.3">no_answer</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p4.3.m3.1c">Y_{\text{no\_answer}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS2.p4.3.m3.1d">italic_Y start_POSTSUBSCRIPT no_answer end_POSTSUBSCRIPT</annotation></semantics></math>) correspond to negative user feedback.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>Datasets</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">In assessing the effectiveness of the Pistis-RAG framework, it is essential to leverage datasets that offer a comprehensive evaluation of its capabilities. MMLU is an invaluable resource, providing insights into the framework’s adaptability and performance across various domains. With 15,908 questions, MMLU provides a robust benchmark for evaluating language models’ performance across multiple tasks. Particularly noteworthy is its relevance to healthcare, making it an ideal choice for assessing the Pistis-RAG framework’s ability to handle complex queries. It evaluates a framework’s ability to understand and generate coherent responses across various subjects, making it an ideal choice for evaluating the Pistis-RAG framework’s performance in handling complex queries.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3. </span>Experimental Setup</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">Our experimental setup is meticulously designed to optimize the performance of our models in both retrieval and response generation. Below are the key components of our setup: To evaluate the effectiveness of our proposed method, we conducted experiments on the MMLU dataset. We first built an index of the MMLU training set, then used BEG-M3 to retrieve the top 10 candidate few-shots based on Milvus. Then, we used BEG-reranker-larger to pre-rank the candidate few-shots and obtain the top five candidate few-shots. Finally, we used these five candidate few-shots to generate 5-shot results as the baseline.</p>
</div>
<div class="ltx_para" id="S5.SS3.p2">
<p class="ltx_p" id="S5.SS3.p2.1">Matching: We used BEG-M3 to retrieve the top 10 candidate few-shots based on Milvus. BEG-M3 is a dense vector similarity search engine that can efficiently retrieve similar vectors from many vectors. Milvus is a vector database that stores and manages vectors.</p>
</div>
<div class="ltx_para" id="S5.SS3.p3">
<p class="ltx_p" id="S5.SS3.p3.1">Pre-Ranking: We used BEG-reranker-larger to pre-sort the candidate few-shots. BEG-reranker-larger that improves the ranking of candidate few-shots.</p>
</div>
<div class="ltx_para" id="S5.SS3.p4">
<p class="ltx_p" id="S5.SS3.p4.1">Generation: We used the top five candidate few-shots to generate 5-shot results. We used Llama-2-13B-chat as a generation model to generate text from the few-shot prompts. Llama-2 <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#bib.bib11" title="">touvron2023llama, </a>)</cite> leverages a sophisticated transformer architecture, enabling advanced capabilities in natural language understanding and generation. It excels in its depth of contextual comprehension, allowing it to generate responses that are coherent and contextually aligned across various NLP tasks. Extensive benchmarking has demonstrated Llama-2’s ability to handle complex queries with nuanced understanding and high precision.</p>
</div>
<section class="ltx_subsubsection" id="S5.SS3.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.3.1. </span>Evaluation Procedure</h4>
<div class="ltx_para" id="S5.SS3.SSS1.p1">
<p class="ltx_p" id="S5.SS3.SSS1.p1.1">The performance of our models is evaluated using MMLU test set. We compute several metrics to assess the models’ effectiveness in generating accurate responses:</p>
</div>
<div class="ltx_para" id="S5.SS3.SSS1.p2">
<ul class="ltx_itemize" id="S5.I3">
<li class="ltx_item" id="S5.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I3.i1.p1">
<p class="ltx_p" id="S5.I3.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I3.i1.p1.1.1">Precision</span>: The ratio of true positive predictions to the total number of positive predictions made by the model:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.Ex5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="P=\frac{TP}{TP+FP}" class="ltx_Math" display="block" id="S5.Ex5.m1.1"><semantics id="S5.Ex5.m1.1a"><mrow id="S5.Ex5.m1.1.1" xref="S5.Ex5.m1.1.1.cmml"><mi id="S5.Ex5.m1.1.1.2" xref="S5.Ex5.m1.1.1.2.cmml">P</mi><mo id="S5.Ex5.m1.1.1.1" xref="S5.Ex5.m1.1.1.1.cmml">=</mo><mfrac id="S5.Ex5.m1.1.1.3" xref="S5.Ex5.m1.1.1.3.cmml"><mrow id="S5.Ex5.m1.1.1.3.2" xref="S5.Ex5.m1.1.1.3.2.cmml"><mi id="S5.Ex5.m1.1.1.3.2.2" xref="S5.Ex5.m1.1.1.3.2.2.cmml">T</mi><mo id="S5.Ex5.m1.1.1.3.2.1" xref="S5.Ex5.m1.1.1.3.2.1.cmml">⁢</mo><mi id="S5.Ex5.m1.1.1.3.2.3" xref="S5.Ex5.m1.1.1.3.2.3.cmml">P</mi></mrow><mrow id="S5.Ex5.m1.1.1.3.3" xref="S5.Ex5.m1.1.1.3.3.cmml"><mrow id="S5.Ex5.m1.1.1.3.3.2" xref="S5.Ex5.m1.1.1.3.3.2.cmml"><mi id="S5.Ex5.m1.1.1.3.3.2.2" xref="S5.Ex5.m1.1.1.3.3.2.2.cmml">T</mi><mo id="S5.Ex5.m1.1.1.3.3.2.1" xref="S5.Ex5.m1.1.1.3.3.2.1.cmml">⁢</mo><mi id="S5.Ex5.m1.1.1.3.3.2.3" xref="S5.Ex5.m1.1.1.3.3.2.3.cmml">P</mi></mrow><mo id="S5.Ex5.m1.1.1.3.3.1" xref="S5.Ex5.m1.1.1.3.3.1.cmml">+</mo><mrow id="S5.Ex5.m1.1.1.3.3.3" xref="S5.Ex5.m1.1.1.3.3.3.cmml"><mi id="S5.Ex5.m1.1.1.3.3.3.2" xref="S5.Ex5.m1.1.1.3.3.3.2.cmml">F</mi><mo id="S5.Ex5.m1.1.1.3.3.3.1" xref="S5.Ex5.m1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S5.Ex5.m1.1.1.3.3.3.3" xref="S5.Ex5.m1.1.1.3.3.3.3.cmml">P</mi></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S5.Ex5.m1.1b"><apply id="S5.Ex5.m1.1.1.cmml" xref="S5.Ex5.m1.1.1"><eq id="S5.Ex5.m1.1.1.1.cmml" xref="S5.Ex5.m1.1.1.1"></eq><ci id="S5.Ex5.m1.1.1.2.cmml" xref="S5.Ex5.m1.1.1.2">𝑃</ci><apply id="S5.Ex5.m1.1.1.3.cmml" xref="S5.Ex5.m1.1.1.3"><divide id="S5.Ex5.m1.1.1.3.1.cmml" xref="S5.Ex5.m1.1.1.3"></divide><apply id="S5.Ex5.m1.1.1.3.2.cmml" xref="S5.Ex5.m1.1.1.3.2"><times id="S5.Ex5.m1.1.1.3.2.1.cmml" xref="S5.Ex5.m1.1.1.3.2.1"></times><ci id="S5.Ex5.m1.1.1.3.2.2.cmml" xref="S5.Ex5.m1.1.1.3.2.2">𝑇</ci><ci id="S5.Ex5.m1.1.1.3.2.3.cmml" xref="S5.Ex5.m1.1.1.3.2.3">𝑃</ci></apply><apply id="S5.Ex5.m1.1.1.3.3.cmml" xref="S5.Ex5.m1.1.1.3.3"><plus id="S5.Ex5.m1.1.1.3.3.1.cmml" xref="S5.Ex5.m1.1.1.3.3.1"></plus><apply id="S5.Ex5.m1.1.1.3.3.2.cmml" xref="S5.Ex5.m1.1.1.3.3.2"><times id="S5.Ex5.m1.1.1.3.3.2.1.cmml" xref="S5.Ex5.m1.1.1.3.3.2.1"></times><ci id="S5.Ex5.m1.1.1.3.3.2.2.cmml" xref="S5.Ex5.m1.1.1.3.3.2.2">𝑇</ci><ci id="S5.Ex5.m1.1.1.3.3.2.3.cmml" xref="S5.Ex5.m1.1.1.3.3.2.3">𝑃</ci></apply><apply id="S5.Ex5.m1.1.1.3.3.3.cmml" xref="S5.Ex5.m1.1.1.3.3.3"><times id="S5.Ex5.m1.1.1.3.3.3.1.cmml" xref="S5.Ex5.m1.1.1.3.3.3.1"></times><ci id="S5.Ex5.m1.1.1.3.3.3.2.cmml" xref="S5.Ex5.m1.1.1.3.3.3.2">𝐹</ci><ci id="S5.Ex5.m1.1.1.3.3.3.3.cmml" xref="S5.Ex5.m1.1.1.3.3.3.3">𝑃</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Ex5.m1.1c">P=\frac{TP}{TP+FP}</annotation><annotation encoding="application/x-llamapun" id="S5.Ex5.m1.1d">italic_P = divide start_ARG italic_T italic_P end_ARG start_ARG italic_T italic_P + italic_F italic_P end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</li>
<li class="ltx_item" id="S5.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I3.i2.p1">
<p class="ltx_p" id="S5.I3.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I3.i2.p1.1.1">Recall</span>: The ratio of true positive predictions to the total number of actual positive instances in the dataset:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.Ex6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="R=\frac{TP}{TP+FN}" class="ltx_Math" display="block" id="S5.Ex6.m1.1"><semantics id="S5.Ex6.m1.1a"><mrow id="S5.Ex6.m1.1.1" xref="S5.Ex6.m1.1.1.cmml"><mi id="S5.Ex6.m1.1.1.2" xref="S5.Ex6.m1.1.1.2.cmml">R</mi><mo id="S5.Ex6.m1.1.1.1" xref="S5.Ex6.m1.1.1.1.cmml">=</mo><mfrac id="S5.Ex6.m1.1.1.3" xref="S5.Ex6.m1.1.1.3.cmml"><mrow id="S5.Ex6.m1.1.1.3.2" xref="S5.Ex6.m1.1.1.3.2.cmml"><mi id="S5.Ex6.m1.1.1.3.2.2" xref="S5.Ex6.m1.1.1.3.2.2.cmml">T</mi><mo id="S5.Ex6.m1.1.1.3.2.1" xref="S5.Ex6.m1.1.1.3.2.1.cmml">⁢</mo><mi id="S5.Ex6.m1.1.1.3.2.3" xref="S5.Ex6.m1.1.1.3.2.3.cmml">P</mi></mrow><mrow id="S5.Ex6.m1.1.1.3.3" xref="S5.Ex6.m1.1.1.3.3.cmml"><mrow id="S5.Ex6.m1.1.1.3.3.2" xref="S5.Ex6.m1.1.1.3.3.2.cmml"><mi id="S5.Ex6.m1.1.1.3.3.2.2" xref="S5.Ex6.m1.1.1.3.3.2.2.cmml">T</mi><mo id="S5.Ex6.m1.1.1.3.3.2.1" xref="S5.Ex6.m1.1.1.3.3.2.1.cmml">⁢</mo><mi id="S5.Ex6.m1.1.1.3.3.2.3" xref="S5.Ex6.m1.1.1.3.3.2.3.cmml">P</mi></mrow><mo id="S5.Ex6.m1.1.1.3.3.1" xref="S5.Ex6.m1.1.1.3.3.1.cmml">+</mo><mrow id="S5.Ex6.m1.1.1.3.3.3" xref="S5.Ex6.m1.1.1.3.3.3.cmml"><mi id="S5.Ex6.m1.1.1.3.3.3.2" xref="S5.Ex6.m1.1.1.3.3.3.2.cmml">F</mi><mo id="S5.Ex6.m1.1.1.3.3.3.1" xref="S5.Ex6.m1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S5.Ex6.m1.1.1.3.3.3.3" xref="S5.Ex6.m1.1.1.3.3.3.3.cmml">N</mi></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S5.Ex6.m1.1b"><apply id="S5.Ex6.m1.1.1.cmml" xref="S5.Ex6.m1.1.1"><eq id="S5.Ex6.m1.1.1.1.cmml" xref="S5.Ex6.m1.1.1.1"></eq><ci id="S5.Ex6.m1.1.1.2.cmml" xref="S5.Ex6.m1.1.1.2">𝑅</ci><apply id="S5.Ex6.m1.1.1.3.cmml" xref="S5.Ex6.m1.1.1.3"><divide id="S5.Ex6.m1.1.1.3.1.cmml" xref="S5.Ex6.m1.1.1.3"></divide><apply id="S5.Ex6.m1.1.1.3.2.cmml" xref="S5.Ex6.m1.1.1.3.2"><times id="S5.Ex6.m1.1.1.3.2.1.cmml" xref="S5.Ex6.m1.1.1.3.2.1"></times><ci id="S5.Ex6.m1.1.1.3.2.2.cmml" xref="S5.Ex6.m1.1.1.3.2.2">𝑇</ci><ci id="S5.Ex6.m1.1.1.3.2.3.cmml" xref="S5.Ex6.m1.1.1.3.2.3">𝑃</ci></apply><apply id="S5.Ex6.m1.1.1.3.3.cmml" xref="S5.Ex6.m1.1.1.3.3"><plus id="S5.Ex6.m1.1.1.3.3.1.cmml" xref="S5.Ex6.m1.1.1.3.3.1"></plus><apply id="S5.Ex6.m1.1.1.3.3.2.cmml" xref="S5.Ex6.m1.1.1.3.3.2"><times id="S5.Ex6.m1.1.1.3.3.2.1.cmml" xref="S5.Ex6.m1.1.1.3.3.2.1"></times><ci id="S5.Ex6.m1.1.1.3.3.2.2.cmml" xref="S5.Ex6.m1.1.1.3.3.2.2">𝑇</ci><ci id="S5.Ex6.m1.1.1.3.3.2.3.cmml" xref="S5.Ex6.m1.1.1.3.3.2.3">𝑃</ci></apply><apply id="S5.Ex6.m1.1.1.3.3.3.cmml" xref="S5.Ex6.m1.1.1.3.3.3"><times id="S5.Ex6.m1.1.1.3.3.3.1.cmml" xref="S5.Ex6.m1.1.1.3.3.3.1"></times><ci id="S5.Ex6.m1.1.1.3.3.3.2.cmml" xref="S5.Ex6.m1.1.1.3.3.3.2">𝐹</ci><ci id="S5.Ex6.m1.1.1.3.3.3.3.cmml" xref="S5.Ex6.m1.1.1.3.3.3.3">𝑁</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Ex6.m1.1c">R=\frac{TP}{TP+FN}</annotation><annotation encoding="application/x-llamapun" id="S5.Ex6.m1.1d">italic_R = divide start_ARG italic_T italic_P end_ARG start_ARG italic_T italic_P + italic_F italic_N end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</li>
<li class="ltx_item" id="S5.I3.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I3.i3.p1">
<p class="ltx_p" id="S5.I3.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I3.i3.p1.1.1">F1-score</span>: The harmonic mean of precision and recall, providing a balanced measure of the model’s performance:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.Ex7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="F1=2\cdot\frac{P\cdot R}{P+R}" class="ltx_Math" display="block" id="S5.Ex7.m1.1"><semantics id="S5.Ex7.m1.1a"><mrow id="S5.Ex7.m1.1.1" xref="S5.Ex7.m1.1.1.cmml"><mrow id="S5.Ex7.m1.1.1.2" xref="S5.Ex7.m1.1.1.2.cmml"><mi id="S5.Ex7.m1.1.1.2.2" xref="S5.Ex7.m1.1.1.2.2.cmml">F</mi><mo id="S5.Ex7.m1.1.1.2.1" xref="S5.Ex7.m1.1.1.2.1.cmml">⁢</mo><mn id="S5.Ex7.m1.1.1.2.3" xref="S5.Ex7.m1.1.1.2.3.cmml">1</mn></mrow><mo id="S5.Ex7.m1.1.1.1" xref="S5.Ex7.m1.1.1.1.cmml">=</mo><mrow id="S5.Ex7.m1.1.1.3" xref="S5.Ex7.m1.1.1.3.cmml"><mn id="S5.Ex7.m1.1.1.3.2" xref="S5.Ex7.m1.1.1.3.2.cmml">2</mn><mo id="S5.Ex7.m1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S5.Ex7.m1.1.1.3.1.cmml">⋅</mo><mfrac id="S5.Ex7.m1.1.1.3.3" xref="S5.Ex7.m1.1.1.3.3.cmml"><mrow id="S5.Ex7.m1.1.1.3.3.2" xref="S5.Ex7.m1.1.1.3.3.2.cmml"><mi id="S5.Ex7.m1.1.1.3.3.2.2" xref="S5.Ex7.m1.1.1.3.3.2.2.cmml">P</mi><mo id="S5.Ex7.m1.1.1.3.3.2.1" lspace="0.222em" rspace="0.222em" xref="S5.Ex7.m1.1.1.3.3.2.1.cmml">⋅</mo><mi id="S5.Ex7.m1.1.1.3.3.2.3" xref="S5.Ex7.m1.1.1.3.3.2.3.cmml">R</mi></mrow><mrow id="S5.Ex7.m1.1.1.3.3.3" xref="S5.Ex7.m1.1.1.3.3.3.cmml"><mi id="S5.Ex7.m1.1.1.3.3.3.2" xref="S5.Ex7.m1.1.1.3.3.3.2.cmml">P</mi><mo id="S5.Ex7.m1.1.1.3.3.3.1" xref="S5.Ex7.m1.1.1.3.3.3.1.cmml">+</mo><mi id="S5.Ex7.m1.1.1.3.3.3.3" xref="S5.Ex7.m1.1.1.3.3.3.3.cmml">R</mi></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.Ex7.m1.1b"><apply id="S5.Ex7.m1.1.1.cmml" xref="S5.Ex7.m1.1.1"><eq id="S5.Ex7.m1.1.1.1.cmml" xref="S5.Ex7.m1.1.1.1"></eq><apply id="S5.Ex7.m1.1.1.2.cmml" xref="S5.Ex7.m1.1.1.2"><times id="S5.Ex7.m1.1.1.2.1.cmml" xref="S5.Ex7.m1.1.1.2.1"></times><ci id="S5.Ex7.m1.1.1.2.2.cmml" xref="S5.Ex7.m1.1.1.2.2">𝐹</ci><cn id="S5.Ex7.m1.1.1.2.3.cmml" type="integer" xref="S5.Ex7.m1.1.1.2.3">1</cn></apply><apply id="S5.Ex7.m1.1.1.3.cmml" xref="S5.Ex7.m1.1.1.3"><ci id="S5.Ex7.m1.1.1.3.1.cmml" xref="S5.Ex7.m1.1.1.3.1">⋅</ci><cn id="S5.Ex7.m1.1.1.3.2.cmml" type="integer" xref="S5.Ex7.m1.1.1.3.2">2</cn><apply id="S5.Ex7.m1.1.1.3.3.cmml" xref="S5.Ex7.m1.1.1.3.3"><divide id="S5.Ex7.m1.1.1.3.3.1.cmml" xref="S5.Ex7.m1.1.1.3.3"></divide><apply id="S5.Ex7.m1.1.1.3.3.2.cmml" xref="S5.Ex7.m1.1.1.3.3.2"><ci id="S5.Ex7.m1.1.1.3.3.2.1.cmml" xref="S5.Ex7.m1.1.1.3.3.2.1">⋅</ci><ci id="S5.Ex7.m1.1.1.3.3.2.2.cmml" xref="S5.Ex7.m1.1.1.3.3.2.2">𝑃</ci><ci id="S5.Ex7.m1.1.1.3.3.2.3.cmml" xref="S5.Ex7.m1.1.1.3.3.2.3">𝑅</ci></apply><apply id="S5.Ex7.m1.1.1.3.3.3.cmml" xref="S5.Ex7.m1.1.1.3.3.3"><plus id="S5.Ex7.m1.1.1.3.3.3.1.cmml" xref="S5.Ex7.m1.1.1.3.3.3.1"></plus><ci id="S5.Ex7.m1.1.1.3.3.3.2.cmml" xref="S5.Ex7.m1.1.1.3.3.3.2">𝑃</ci><ci id="S5.Ex7.m1.1.1.3.3.3.3.cmml" xref="S5.Ex7.m1.1.1.3.3.3.3">𝑅</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Ex7.m1.1c">F1=2\cdot\frac{P\cdot R}{P+R}</annotation><annotation encoding="application/x-llamapun" id="S5.Ex7.m1.1d">italic_F 1 = 2 ⋅ divide start_ARG italic_P ⋅ italic_R end_ARG start_ARG italic_P + italic_R end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S5.SS3.SSS1.p3">
<p class="ltx_p" id="S5.SS3.SSS1.p3.1">These metrics offer a comprehensive evaluation of the model’s ability to generate accurate and effective end-to-end results.</p>
</div>
<div class="ltx_para" id="S5.SS3.SSS1.p4">
<p class="ltx_p" id="S5.SS3.SSS1.p4.1">Through this meticulously designed experimental setup, we aim to provide a thorough evaluation of the effectiveness and robustness of our Pistis-RAG framework in handling diverse language understanding and generation tasks.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS3.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.3.2. </span>Experimental Results</h4>
<div class="ltx_para" id="S5.SS3.SSS2.p1">
<p class="ltx_p" id="S5.SS3.SSS2.p1.1">We evaluated the effectiveness of different components within the Pistis-RAG framework through an ablation study. This approach systematically removes or modifies key components to assess their impact on performance metrics, focusing on the MMLU dataset.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS3.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.3.3. </span>Analysis and Discussion</h4>
<div class="ltx_para" id="S5.SS3.SSS3.p1">
<p class="ltx_p" id="S5.SS3.SSS3.p1.1">The ablation study results summarized in Table <a class="ltx_ref" href="https://arxiv.org/html/2407.00072v4#S4.T2" title="Table 2 ‣ 4.5. Ranking Model Alignment ‣ 4. Ranking Details ‣ Pistis-RAG: A Scalable Cascading Framework Towards Trustworthy Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> offer valuable insights:</p>
</div>
<div class="ltx_para" id="S5.SS3.SSS3.p2">
<ul class="ltx_itemize" id="S5.I4">
<li class="ltx_item" id="S5.I4.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I4.i1.p1">
<p class="ltx_p" id="S5.I4.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I4.i1.p1.1.1">Importance of Feedback Label Integration:</span> Excluding feedback labels led to a significant F1-score drop, underlining the crucial role of user feedback in model improvement.</p>
</div>
</li>
<li class="ltx_item" id="S5.I4.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I4.i2.p1">
<p class="ltx_p" id="S5.I4.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I4.i2.p1.1.1">Multi-Path Reasoning Impact:</span> Removing multi-path reasoning resulted in a lower F1-score, demonstrating its importance in strengthening the model’s analytical capabilities.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S5.SS3.SSS3.p3">
<p class="ltx_p" id="S5.SS3.SSS3.p3.1">In conclusion, the ablation study confirms that these components play a critical role in the Pistis-RAG framework’s performance.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Conclusions</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">This study highlights cascade modeling and optimization as critical areas for robust large-scale online AIGC systems. We revisited the Retrieval-Augmented Generation problem through a content-centric lens, uncovering potential shortcomings in large-scale deployments. Firstly, a mismatch exists between the intended and actual function of the "re-ranker" component, suggesting it acts more like a pre-ranker. We addressed this by proposing distinct ranking and re-ranking stages within RAG and a listwide ranking approach. Furthermore, we introduced reasoning and aggregation stages specific to AIGC services, paving the way for a more comprehensive and high-performing system.</p>
</div>
<div class="ltx_para" id="S6.p2">
<p class="ltx_p" id="S6.p2.1">Our work emphasizes the importance of effective ranking and aggregation mechanisms for enhancing AIGC system accuracy and reliability. The engineering techniques discussed here are crucial for ensuring robustness and resilience, enabling the system to handle various real-world challenges while maintaining high performance. However, a significant gap exists in publicly available methods for building practical, high-performance, and robust online AIGC systems. This highlights a compelling opportunity for further research and development in this field.</p>
</div>
<div class="ltx_para" id="S6.p3">
<p class="ltx_p" id="S6.p3.1">In conclusion, our findings advocate for continuous innovation in cascade modeling, ranking, aggregation, and engineering techniques to propel the capabilities of online AIGC systems forward.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad, Ilge Akkaya, Florencia Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman, Shyamal Anadkat, et al.

</span>
<span class="ltx_bibblock">Gpt-4 technical report.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2303.08774</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Jinze Bai, Shuai Bai, Yunfei Chu, Zeyu Cui, Kai Dang, Xiaodong Deng, Yang Fan, Wenbin Ge, Yu Han, Fei Huang, et al.

</span>
<span class="ltx_bibblock">Qwen technical report.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib2.1.1">arXiv preprint arXiv:2309.16609</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Harrison Chase.

</span>
<span class="ltx_bibblock">LangChain, October 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Mingwei Chang.

</span>
<span class="ltx_bibblock">Retrieval augmented language model pre-training.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib4.1.1">International conference on machine learning</span>, pages 3929–3938. PMLR, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Dan Hendrycks, Collin Burns, Steven Basart, Andy Zou, Mantas Mazeika, Dawn Song, and Jacob Steinhardt.

</span>
<span class="ltx_bibblock">Measuring massive multitask language understanding.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:2009.03300</span>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, et al.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib6.1.1">Advances in Neural Information Processing Systems</span>, 33:9459–9474, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Weitao Li, Junkai Li, Weizhi Ma, and Yang Liu.

</span>
<span class="ltx_bibblock">Citation-enhanced generation for llm-based chatbot.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2402.16063</span>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Yao Lu, Max Bartolo, Alastair Moore, Sebastian Riedel, and Pontus Stenetorp.

</span>
<span class="ltx_bibblock">Fantastically ordered prompts and where to find them: Overcoming few-shot prompt order sensitivity.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib8.1.1">arXiv preprint arXiv:2104.08786</span>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Yu Sun, Shuohuan Wang, Shikun Feng, Siyu Ding, Chao Pang, Junyuan Shang, Jiaxiang Liu, Xuyi Chen, Yanbin Zhao, Yuxiang Lu, et al.

</span>
<span class="ltx_bibblock">Ernie 3.0: Large-scale knowledge enhanced pre-training for language understanding and generation.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib9.1.1">arXiv preprint arXiv:2107.02137</span>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Gemini Team, Rohan Anil, Sebastian Borgeaud, Yonghui Wu, Jean-Baptiste Alayrac, Jiahui Yu, Radu Soricut, Johan Schalkwyk, Andrew M Dai, Anja Hauth, et al.

</span>
<span class="ltx_bibblock">Gemini: a family of highly capable multimodal models.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib10.1.1">arXiv preprint arXiv:2312.11805</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:2307.09288</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc Le, Ed Chi, Sharan Narang, Aakanksha Chowdhery, and Denny Zhou.

</span>
<span class="ltx_bibblock">Self-consistency improves chain of thought reasoning in language models.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib12.1.1">arXiv preprint arXiv:2203.11171</span>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language models.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib13.1.1">Advances in neural information processing systems</span>, 35:24824–24837, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Zichun Yu, Chenyan Xiong, Shi Yu, and Zhiyuan Liu.

</span>
<span class="ltx_bibblock">Augmentation-adapted retriever improves generalization of language models as generic plug-in.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib14.1.1">arXiv preprint arXiv:2305.17331</span>, 2023.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Thu Aug  1 06:56:45 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
