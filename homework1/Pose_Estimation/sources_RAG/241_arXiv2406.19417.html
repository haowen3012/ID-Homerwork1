<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>“Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive.</title>
<!--Generated on Wed Jun 26 05:32:19 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2406.19417v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S1" title="In “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S2" title="In “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Background</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S2.SS0.SSS0.Px1" title="In 2 Background ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">Retrival Augmented Generation (RAG).</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S2.SS0.SSS0.Px2" title="In 2 Background ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">Jailbreak and Prompt Injection Attacks.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S2.SS0.SSS0.Px3" title="In 2 Background ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">Attacking Retrieval Systems.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S2.SS0.SSS0.Px4" title="In 2 Background ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">Attacking RAG Systems.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S3" title="In “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Threat Model</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S3.SS1" title="In 3 Threat Model ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Adversary Capabilities</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S3.SS2" title="In 3 Threat Model ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Attack Scenarios</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S3.SS3" title="In 3 Threat Model ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Adversarial Goals</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S4" title="In “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Warm-up study: Attacking RAG models is <span class="ltx_text ltx_font_italic">not</span> trivial.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5" title="In “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Methods</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.SS1" title="In 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Structure of the Adversarial Content</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.SS2" title="In 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Attack on the Retriever</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.SS3" title="In 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Attack on the LLM</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.SS4" title="In 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4 </span>LIAR: Exploitative Bi-level RAG Training</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6" title="In “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.SS1" title="In 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1 </span>Overall Performance of LIAR</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.SS2" title="In 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2 </span>Ablation Study</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.SS2.SSS0.Px1" title="In 6.2 Ablation Study ‣ 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">Transferability to Unseen Knowledge Database.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.SS2.SSS0.Px2" title="In 6.2 Ablation Study ‣ 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">Transferability to Unseen LLM Generators.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.SS2.SSS0.Px3" title="In 6.2 Ablation Study ‣ 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">Impact of Different Attack Components.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.SS3" title="In 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.3 </span>Senstivity of Hyper-parameters</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S7" title="In “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1" title="In “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Detailed Experiment Setups</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1.SS1" title="In Appendix A Detailed Experiment Setups ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>Warmup Experiment</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1.SS2" title="In Appendix A Detailed Experiment Setups ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Settings for Major Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1.SS2.SSS0.Px1" title="In A.2 Settings for Major Experiments ‣ Appendix A Detailed Experiment Setups ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">Dataset.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1.SS2.SSS0.Px2" title="In A.2 Settings for Major Experiments ‣ Appendix A Detailed Experiment Setups ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">Knowledge Base.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1.SS2.SSS0.Px3" title="In A.2 Settings for Major Experiments ‣ Appendix A Detailed Experiment Setups ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">Retriever.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1.SS2.SSS0.Px4" title="In A.2 Settings for Major Experiments ‣ Appendix A Detailed Experiment Setups ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">LLM Selection.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1.SS2.SSS0.Px5" title="In A.2 Settings for Major Experiments ‣ Appendix A Detailed Experiment Setups ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">Training Detail.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1.SS2.SSS0.Px6" title="In A.2 Settings for Major Experiments ‣ Appendix A Detailed Experiment Setups ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title">Evaluation Merics:</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A2" title="In “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>More Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A2.SS1" title="In Appendix B More Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.1 </span>Effect of Different Retriever Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A2.SS2" title="In Appendix B More Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.2 </span>Analysis of Attack Effectiveness Against Defense Methods</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A3" title="In “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Acknowledgment of AI Assistance in Writing and Revision</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A4" title="In “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Convergence of LIAR</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A4.SS1" title="In Appendix D Convergence of LIAR ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.1 </span>Empirical Evidence</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A4.SS2" title="In Appendix D Convergence of LIAR ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.2 </span>Theoretical Proof</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A5" title="In “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Case Studies</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">“Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models

<span class="ltx_inline-block" id="id1.id1"><span class="ltx_ERROR ltx_centering undefined" id="id1.id1.1">\faWarning</span>
<span class="ltx_p ltx_align_center" id="id1.id1.2"><span class="ltx_text ltx_font_bold" id="id1.id1.2.1" style="color:#FF8000;">WARNING: This paper contains model outputs that may be considered offensive.</span></span>
</span>
</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Zhen Tan<sup class="ltx_sup" id="id2.1.id1">♠</sup>  Chengshuai Zhao<sup class="ltx_sup" id="id3.2.id2">♠</sup><span class="ltx_note ltx_role_footnotemark" id="footnotex1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">1</span></span></span></span>  Raha Moraffah<sup class="ltx_sup" id="id4.3.id3">♠</sup>  <span class="ltx_text ltx_font_bold" id="id5.4.id4">Yifan Li<sup class="ltx_sup" id="id5.4.id4.1"><span class="ltx_text ltx_font_medium" id="id5.4.id4.1.1">♠</span></sup></span>  
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id6.5.id5">Song Wang<sup class="ltx_sup" id="id6.5.id5.1"><span class="ltx_text ltx_font_medium" id="id6.5.id5.1.1">♣</span></sup></span>  <span class="ltx_text ltx_font_bold" id="id7.6.id6">Jundong Li<sup class="ltx_sup" id="id7.6.id6.1"><span class="ltx_text ltx_font_medium" id="id7.6.id6.1.1">♣</span></sup></span>  <span class="ltx_text ltx_font_bold" id="id8.7.id7">Tianlong Chen</span> <sup class="ltx_sup" id="id9.8.id8">♥</sup>  <span class="ltx_text ltx_font_bold" id="id10.9.id9">Huan Liu<sup class="ltx_sup" id="id10.9.id9.1"><span class="ltx_text ltx_font_medium" id="id10.9.id9.1.1">♠</span></sup></span>
<br class="ltx_break"/><sup class="ltx_sup" id="id11.10.id10">♠</sup>Arizona State University  <sup class="ltx_sup" id="id12.11.id11">♠</sup>Michigan State University 
<br class="ltx_break"/><sup class="ltx_sup" id="id13.12.id12">♣</sup>University of Virginia  <sup class="ltx_sup" id="id14.13.id13">♠</sup>University of North Carolina at Chapel Hill
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id15.14.id14">{ztan36,czhao93,rmoraffa,huanliu}@asu.edu</span>  <span class="ltx_text ltx_font_typewriter" id="id16.15.id15">liyifa11@msu.edu
<br class="ltx_break"/>{sw3wv,jundong}@virginia.edu</span>  <span class="ltx_text ltx_font_typewriter" id="id17.16.id16">tianlong@cs.unc.edu
<br class="ltx_break"/></span>
</span><span class="ltx_author_notes">  Equal contribution.</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id18.id1">Retrieval-Augmented Generative (RAG) models enhance Large Language Models (LLMs) by integrating external knowledge bases, improving their performance in applications like fact-checking and information searching.
In this paper, we demonstrate a security threat where adversaries can exploit
the openness of these knowledge bases by injecting deceptive content into the retrieval database, intentionally changing the model’s behavior.
This threat is critical as it mirrors real-world usage scenarios where RAG systems interact with publicly accessible knowledge bases, such as web scrapings and user-contributed data pools.
To be more realistic, we target a realistic
setting where the adversary has no knowledge of users’ queries, knowledge base data, and the LLM parameters. We demonstrate that it is possible to exploit the model successfully through crafted content uploads with access to the retriever.
Our findings emphasize an urgent need for security measures in the design and deployment of RAG systems to prevent potential manipulation and ensure the integrity of machine-generated content.</p>
</div>
<div class="ltx_para" id="p1">
<span class="ltx_ERROR undefined" id="p1.1">\newmdenv</span>
<p class="ltx_p" id="p1.2">[
linewidth=2pt, roundcorner=10pt, linecolor=blue!60, skipabove=3pt, skipbelow=3pt ]custombox</p>
</div>
<div class="ltx_para ltx_noindent" id="p2">
<div class="ltx_block ltx_align_bottom" id="p2.1">
<p class="ltx_p" id="p2.1.1"><span class="ltx_text ltx_font_bold" id="p2.1.1.1">“Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models</span></p>
<span class="ltx_ERROR ltx_centering undefined" id="p2.1.2">\faWarning</span>
<p class="ltx_p ltx_align_center" id="p2.1.3"><span class="ltx_text ltx_font_bold" id="p2.1.3.1" style="color:#FF8000;">WARNING: This paper contains model outputs that may be considered offensive.</span><span class="ltx_text ltx_font_bold" id="p2.1.3.2"></span></p>
<br class="ltx_break ltx_centering"/>
<p class="ltx_p ltx_align_center" id="p2.1.4" style="width:433.6pt;"><span class="ltx_text ltx_inline-block" id="p2.1.4.1" style="width:0.0pt;">
<span class="ltx_tabular ltx_align_top" id="p2.1.4.1.1">
<span class="ltx_tbody">
<span class="ltx_tr" id="p2.1.4.1.1.1.1">
<span class="ltx_td ltx_align_center" id="p2.1.4.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="p2.1.4.1.1.1.1.1.1">
Zhen Tan<sup class="ltx_sup" id="p2.1.4.1.1.1.1.1.1.1">♠</sup><span class="ltx_note ltx_role_thanks" id="p2.1.4.1.1.1.1.1.1.2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">thanks: </span>  Equal contribution.</span></span></span>  Chengshuai Zhao<sup class="ltx_sup" id="p2.1.4.1.1.1.1.1.1.3">♠</sup><span class="ltx_note ltx_role_footnotemark" id="footnotex2"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_medium" id="footnotex2.1.1.1">1</span></span></span></span></span>  Raha Moraffah<sup class="ltx_sup" id="p2.1.4.1.1.1.1.1.1.4">♠</sup>  Yifan Li<sup class="ltx_sup" id="p2.1.4.1.1.1.1.1.1.5">♠</sup></span></span></span>
<span class="ltx_tr" id="p2.1.4.1.1.2.2">
<span class="ltx_td ltx_align_center" id="p2.1.4.1.1.2.2.1"><span class="ltx_text ltx_font_bold" id="p2.1.4.1.1.2.2.1.1">Song Wang<sup class="ltx_sup" id="p2.1.4.1.1.2.2.1.1.1"><span class="ltx_text ltx_font_medium" id="p2.1.4.1.1.2.2.1.1.1.1">♣</span></sup></span>  <span class="ltx_text ltx_font_bold" id="p2.1.4.1.1.2.2.1.2">Jundong Li<sup class="ltx_sup" id="p2.1.4.1.1.2.2.1.2.1"><span class="ltx_text ltx_font_medium" id="p2.1.4.1.1.2.2.1.2.1.1">♣</span></sup></span>  <span class="ltx_text ltx_font_bold" id="p2.1.4.1.1.2.2.1.3">Tianlong Chen</span> <sup class="ltx_sup" id="p2.1.4.1.1.2.2.1.4">♥</sup>  <span class="ltx_text ltx_font_bold" id="p2.1.4.1.1.2.2.1.5">Huan Liu<sup class="ltx_sup" id="p2.1.4.1.1.2.2.1.5.1"><span class="ltx_text ltx_font_medium" id="p2.1.4.1.1.2.2.1.5.1.1">♠</span></sup></span></span></span>
<span class="ltx_tr" id="p2.1.4.1.1.3.3">
<span class="ltx_td ltx_align_center" id="p2.1.4.1.1.3.3.1"><sup class="ltx_sup" id="p2.1.4.1.1.3.3.1.1">♠</sup>Arizona State University  <sup class="ltx_sup" id="p2.1.4.1.1.3.3.1.2">♠</sup>Michigan State University</span></span>
<span class="ltx_tr" id="p2.1.4.1.1.4.4">
<span class="ltx_td ltx_align_center" id="p2.1.4.1.1.4.4.1"><sup class="ltx_sup" id="p2.1.4.1.1.4.4.1.1">♣</sup>University of Virginia  <sup class="ltx_sup" id="p2.1.4.1.1.4.4.1.2">♠</sup>University of North Carolina at Chapel Hill</span></span>
<span class="ltx_tr" id="p2.1.4.1.1.5.5">
<span class="ltx_td ltx_align_center" id="p2.1.4.1.1.5.5.1"><span class="ltx_text ltx_font_typewriter" id="p2.1.4.1.1.5.5.1.1">{ztan36,czhao93,rmoraffa,huanliu}@asu.edu</span>  <span class="ltx_text ltx_font_typewriter" id="p2.1.4.1.1.5.5.1.2">liyifa11@msu.edu</span></span></span>
<span class="ltx_tr" id="p2.1.4.1.1.6.6">
<span class="ltx_td ltx_align_center" id="p2.1.4.1.1.6.6.1"><span class="ltx_text ltx_font_typewriter" id="p2.1.4.1.1.6.6.1.1">{sw3wv,jundong}@virginia.edu</span>  <span class="ltx_text ltx_font_typewriter" id="p2.1.4.1.1.6.6.1.2">tianlong@cs.unc.edu</span></span></span>
</span>
</span></span></p>
<br class="ltx_break ltx_centering"/>
</div>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Retrieval-Augmented Generative (RAG) models <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib6" title="">2024</a>); Gao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib14" title="">2023</a>); Lewis et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib25" title="">2020</a>); Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib26" title="">2022</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib27" title="">2024</a>)</cite> represent a significant advancement in enhancing Large Language Models (LLMs) by dynamically retrieving information from external knowledge databases. This integration improves performance in complex tasks such as fact checking <cite class="ltx_cite ltx_citemacro_cite">Khaliq et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib22" title="">2024</a>); Wei et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib49" title="">2024</a>)</cite> and information retrieval <cite class="ltx_cite ltx_citemacro_cite">Komeili et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib23" title="">2021</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib47" title="">2024</a>)</cite>. Major search engines such as Google Search <cite class="ltx_cite ltx_citemacro_cite">Kaz Sato (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib21" title="">2024</a>)</cite> and Bing <cite class="ltx_cite ltx_citemacro_cite">Heidi Steen (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib16" title="">2024</a>)</cite> are increasingly looking to integrate RAG systems to elevate their performance, leveraging databases that range from curated repositories to real-time web content.</p>
</div>
<figure class="ltx_figure" id="S1.F1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S1.F1.1" style="width:433.6pt;height:161.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-0.9pt,0.4pt) scale(0.995664971167545,0.995664971167545) ;">
<div class="ltx_inline-block ltx_transformed_outer" id="S1.F1.1.1" style="width:432.2pt;height:162.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="312" id="S1.F1.1.1.g1" src="x1.png" width="831"/>
</span></div>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Example of a misleading search result. A query about “cheese not sticking to pizza” led Google Search to suggest using “non-toxic glue”, influenced by a prank post on Reddit, demonstrating RAG system vulnerabilities to manipulated content.
</figcaption>
</figure>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Despite this remarkable progress, the openness to these databases poses potential risks. Media reports highlight that AI-powered search engines can easily “<span class="ltx_text ltx_font_italic" id="S1.p2.1.1">Go Viral</span>”<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a class="ltx_ref ltx_href" href="https://www.bbc.com/news/articles/cd11gzejgz4o/" title="">https://www.bbc.com/news/articles/cd11gzejgz4o/</a></span></span></span> due to vulnerabilities in their knowledge sources.
For example (in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">1</span></a>), when a user queried “cheese not sticking to pizza”, Google search suggested using “non-toxic glue”. This misleading response resulted from the retriever behind Google Search retrieving a prank post from Reddit<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a class="ltx_ref ltx_href" href="https://www.reddit.com/r/Pizza/comments/1a19s0/my_cheese_slides_off_the_pizza_too_easily/" title="">https://www.reddit.com/r/Pizza/comments/1a19s0/</a></span></span></span>, and subsequently, the LLM, Gemini <cite class="ltx_cite ltx_citemacro_cite">Team et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib43" title="">2023</a>)</cite>, was influenced to generate the deceptive reply. Such vulnerabilities have forced Google to scale back AI search answers<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><a class="ltx_ref ltx_href" href="https://www.washingtonpost.com/technology/2024/05/30/google-halt-ai-search/" title="">https://www.washingtonpost.com/google-halt-ai-search/</a></span></span></span>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Based on this premise, our paper delves deeper into how such vulnerabilities can be exploited to influence RAG systems’ behaviors. We focus on a practical <span class="ltx_text ltx_font_bold" id="S1.p3.1.1">gray-box</span> scenario:</p>
</div>
<div class="ltx_para" id="S1.p4">
<span class="ltx_ERROR undefined" id="S1.p4.1">{custombox}</span>
<p class="ltx_p" id="S1.p4.2">The adversary does not have access to the contents of user queries, existing knowledge in the database, or the internal parameters of the LLM. The adversary only accesses the retriever and can influence the RAG system outcomes by uploading or <span class="ltx_text ltx_font_italic" id="S1.p4.2.1">injecting</span> <span class="ltx_text ltx_font_bold" id="S1.p4.2.2">adversarial contents</span>.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">Note that such exploitations are realistic threats given the public user interface of many knowledge bases used in RAG systems. Also, white-box retrievers such as Contriever <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib18" title="">2022</a>)</cite>, Contriever-ms (fine-tuned on
MS MARCO), and ANCE <cite class="ltx_cite ltx_citemacro_cite">Xiong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib51" title="">2021</a>)</cite> remain popular and are freely accessible on platforms like HuggingFace <span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span><a class="ltx_ref ltx_href" href="https://huggingface.co/datasets/Salesforce/wikitext" title="">https://huggingface.co/datasets/Salesforce/wikitext/</a></span></span></span>. These retrievers can be seamlessly integrated into online service like LangChain for Google Search <span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span><a class="ltx_ref ltx_href" href="https://python.langchain.com/v0.2/docs/integrations/tools/google_search/" title="">https://python.langchain.com/google_search/</a></span></span></span>, allowing for free local deployment. For instance, similar to the example in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">1</span></a>, an adversary could upload, or <span class="ltx_text ltx_font_italic" id="S1.p5.1.1">inject</span>, malicious content to its knowledge base,
causing the search engine to return misleading or harmful information to other unsuspecting users.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">Deriving such adversarial contents is <span class="ltx_text ltx_font_bold ltx_font_italic" id="S1.p6.1.1">not</span> trivial. We conduct a warm-up study in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S4" title="4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">4</span></a> and demonstrate that a vanilla approach that optimizes the injected content with a joint single-purpose objective will result in significant loss oscillation and prohibit the model from converging.
Accordingly, we propose to decouple the purpose of the injected content into a dual objective:
❶ It is devised to be preferentially retrieved by the RAG’s retriever, and ❷ It effectively influences the behaviors of the downstream LLM once retrieved.
Then, we propose a new training framework, exp<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S1.p6.1.2">L</span>oitative b<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S1.p6.1.3">I</span>-level r<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S1.p6.1.4">A</span>g t<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S1.p6.1.5">R</span>aining (<span class="ltx_text ltx_font_bold" id="S1.p6.1.6">LIAR</span>), which effectively generates adversarial contents to influence RAG systems to generate misleading responses.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">Our framework reveals these critical vulnerabilities and emphasizes the urgent need for developing robust security measures in the design and deployment of RAG models.
Our major contributions are unfolded as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.ix1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math alttext="\star" class="ltx_Math" display="inline" id="S1.I1.ix1.1.1.m1.1"><semantics id="S1.I1.ix1.1.1.m1.1b"><mo id="S1.I1.ix1.1.1.m1.1.1" xref="S1.I1.ix1.1.1.m1.1.1.cmml">⋆</mo><annotation-xml encoding="MathML-Content" id="S1.I1.ix1.1.1.m1.1c"><ci id="S1.I1.ix1.1.1.m1.1.1.cmml" xref="S1.I1.ix1.1.1.m1.1.1">⋆</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.ix1.1.1.m1.1d">\star</annotation><annotation encoding="application/x-llamapun" id="S1.I1.ix1.1.1.m1.1e">⋆</annotation></semantics></math></span>
<div class="ltx_para" id="S1.I1.ix1.p1">
<p class="ltx_p" id="S1.I1.ix1.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.ix1.p1.1.1">Threat Identification.</span> We are the first to identify a severe, practical security threat to prevalent RAG systems. Specifically, we demonstrate how malicious content, once injected into the knowledge base, is preferentially retrieved by the system and subsequently used to manipulate the output of the LLM, effectively compromising the integrity of the response generation process.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.ix2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math alttext="\star" class="ltx_Math" display="inline" id="S1.I1.ix2.1.1.m1.1"><semantics id="S1.I1.ix2.1.1.m1.1b"><mo id="S1.I1.ix2.1.1.m1.1.1" xref="S1.I1.ix2.1.1.m1.1.1.cmml">⋆</mo><annotation-xml encoding="MathML-Content" id="S1.I1.ix2.1.1.m1.1c"><ci id="S1.I1.ix2.1.1.m1.1.1.cmml" xref="S1.I1.ix2.1.1.m1.1.1">⋆</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.ix2.1.1.m1.1d">\star</annotation><annotation encoding="application/x-llamapun" id="S1.I1.ix2.1.1.m1.1e">⋆</annotation></semantics></math></span>
<div class="ltx_para" id="S1.I1.ix2.p1">
<p class="ltx_p" id="S1.I1.ix2.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.ix2.p1.1.1">Framework Design.</span> We introduce the LIAR framework, a novel attack strategy that
effectively generates adversarial contents serving the dual objective mentioned previously.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.ix3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math alttext="\star" class="ltx_Math" display="inline" id="S1.I1.ix3.1.1.m1.1"><semantics id="S1.I1.ix3.1.1.m1.1b"><mo id="S1.I1.ix3.1.1.m1.1.1" xref="S1.I1.ix3.1.1.m1.1.1.cmml">⋆</mo><annotation-xml encoding="MathML-Content" id="S1.I1.ix3.1.1.m1.1c"><ci id="S1.I1.ix3.1.1.m1.1.1.cmml" xref="S1.I1.ix3.1.1.m1.1.1">⋆</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.ix3.1.1.m1.1d">\star</annotation><annotation encoding="application/x-llamapun" id="S1.I1.ix3.1.1.m1.1e">⋆</annotation></semantics></math></span>
<div class="ltx_para" id="S1.I1.ix3.p1">
<p class="ltx_p" id="S1.I1.ix3.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.ix3.p1.1.1">Impact Discussion &amp; Future Directions:</span> Our experimental validation of the LIAR Framework suggests strategies are needed for enhancing RAG model security, or in broader terms,
preserving the integrity and reliability of LLMs.
</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Background</h2>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Retrival Augmented Generation (RAG).</h4>
<div class="ltx_para" id="S2.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p1.9">As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S2.F2" title="Figure 2 ‣ Retrival Augmented Generation (RAG). ‣ 2 Background ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">2</span></a>, RAG systems <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib6" title="">2024</a>); Gao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib14" title="">2023</a>); Lewis et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib25" title="">2020</a>); Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib26" title="">2022</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib27" title="">2024</a>)</cite> are comprised of three fundamental components: <span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px1.p1.9.1">knowledge base</span>, <span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px1.p1.9.2">retriever</span>, and <span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px1.p1.9.3">LLM generator</span>. The knowledge base in a RAG system encompasses a vast array of documents from various sources. For simplicity, we denote the knowledge base as <math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.1.m1.1"><semantics id="S2.SS0.SSS0.Px1.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.1.m1.1b"><ci id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.1.m1.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.1.m1.1d">caligraphic_K</annotation></semantics></math>, comprising <math alttext="n" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.2.m2.1"><semantics id="S2.SS0.SSS0.Px1.p1.2.m2.1a"><mi id="S2.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS0.SSS0.Px1.p1.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.2.m2.1b"><ci id="S2.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.2.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.2.m2.1d">italic_n</annotation></semantics></math> documents, i.e., <math alttext="\mathcal{K}=\{D_{1},D_{2},\ldots,D_{n}\}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.3.m3.4"><semantics id="S2.SS0.SSS0.Px1.p1.3.m3.4a"><mrow id="S2.SS0.SSS0.Px1.p1.3.m3.4.4" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.5" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.5.cmml">𝒦</mi><mo id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.4" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.4.cmml">=</mo><mrow id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.4.cmml"><mo id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.4" stretchy="false" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.4.cmml">{</mo><msub id="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1" xref="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1.2" xref="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1.2.cmml">D</mi><mn id="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1.3" xref="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.5" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.4.cmml">,</mo><msub id="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2" xref="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2.2" xref="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2.2.cmml">D</mi><mn id="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2.3" xref="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.6" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.4.cmml">,</mo><mi id="S2.SS0.SSS0.Px1.p1.3.m3.1.1" mathvariant="normal" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1.cmml">…</mi><mo id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.7" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.4.cmml">,</mo><msub id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3.cmml"><mi id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3.2" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3.2.cmml">D</mi><mi id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3.3" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3.3.cmml">n</mi></msub><mo id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.8" stretchy="false" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.3.m3.4b"><apply id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4"><eq id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.4.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.4"></eq><ci id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.5.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.5">𝒦</ci><set id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.4.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3"><apply id="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1.2">𝐷</ci><cn id="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1.3.cmml" type="integer" xref="S2.SS0.SSS0.Px1.p1.3.m3.2.2.1.1.1.3">1</cn></apply><apply id="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2.2">𝐷</ci><cn id="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2.3.cmml" type="integer" xref="S2.SS0.SSS0.Px1.p1.3.m3.3.3.2.2.2.3">2</cn></apply><ci id="S2.SS0.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1">…</ci><apply id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3.1.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3.2.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3.2">𝐷</ci><ci id="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3.3.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.4.4.3.3.3.3">𝑛</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.3.m3.4c">\mathcal{K}=\{D_{1},D_{2},\ldots,D_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.3.m3.4d">caligraphic_K = { italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_D start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>, where <math alttext="D_{i}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.4.m4.1"><semantics id="S2.SS0.SSS0.Px1.p1.4.m4.1a"><msub id="S2.SS0.SSS0.Px1.p1.4.m4.1.1" xref="S2.SS0.SSS0.Px1.p1.4.m4.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p1.4.m4.1.1.2" xref="S2.SS0.SSS0.Px1.p1.4.m4.1.1.2.cmml">D</mi><mi id="S2.SS0.SSS0.Px1.p1.4.m4.1.1.3" xref="S2.SS0.SSS0.Px1.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.4.m4.1b"><apply id="S2.SS0.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.4.m4.1.1.2">𝐷</ci><ci id="S2.SS0.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.4.m4.1c">D_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.4.m4.1d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> denotes the <math alttext="i" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.5.m5.1"><semantics id="S2.SS0.SSS0.Px1.p1.5.m5.1a"><mi id="S2.SS0.SSS0.Px1.p1.5.m5.1.1" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.5.m5.1b"><ci id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.5.m5.1c">i</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.5.m5.1d">italic_i</annotation></semantics></math>th document. This knowledge base can be significantly large, often containing millions of documents from sources like Wikipedia <cite class="ltx_cite ltx_citemacro_cite">Thakur et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib45" title="">2021b</a>)</cite>. When a user submits a query, the retriever <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.6.m6.1"><semantics id="S2.SS0.SSS0.Px1.p1.6.m6.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p1.6.m6.1.1" xref="S2.SS0.SSS0.Px1.p1.6.m6.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.6.m6.1b"><ci id="S2.SS0.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.6.m6.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.6.m6.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.6.m6.1d">caligraphic_R</annotation></semantics></math> identifies the top-<math alttext="m" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.7.m7.1"><semantics id="S2.SS0.SSS0.Px1.p1.7.m7.1a"><mi id="S2.SS0.SSS0.Px1.p1.7.m7.1.1" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.7.m7.1b"><ci id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.7.m7.1c">m</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.7.m7.1d">italic_m</annotation></semantics></math> documents from the knowledge base that are most relevant to the query. This selection serves as the external knowledge to assist the LLM Generator <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.8.m8.1"><semantics id="S2.SS0.SSS0.Px1.p1.8.m8.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p1.8.m8.1.1" xref="S2.SS0.SSS0.Px1.p1.8.m8.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.8.m8.1b"><ci id="S2.SS0.SSS0.Px1.p1.8.m8.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.8.m8.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.8.m8.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.8.m8.1d">caligraphic_G</annotation></semantics></math> in providing an accurate response.
For a given query <math alttext="Q" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.9.m9.1"><semantics id="S2.SS0.SSS0.Px1.p1.9.m9.1a"><mi id="S2.SS0.SSS0.Px1.p1.9.m9.1.1" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.9.m9.1b"><ci id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.9.m9.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.9.m9.1d">italic_Q</annotation></semantics></math>, a RAG system follows two key steps to generate an answer.</p>
</div>
<figure class="ltx_figure" id="S2.F2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S2.F2.1" style="width:433.6pt;height:111.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-0.9pt,0.2pt) scale(0.995664971167545,0.995664971167545) ;">
<div class="ltx_inline-block ltx_transformed_outer" id="S2.F2.1.1" style="width:432.2pt;height:112pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="214" id="S2.F2.1.1.g1" src="x2.png" width="830"/>
</span></div>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>An illustration of a RAG system.</figcaption>
</figure>
<div class="ltx_para" id="S2.SS0.SSS0.Px1.p2">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p2.20">❶ <span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px1.p2.20.1">Step 1—Knowledge Retrieval:</span> The retriever employs two encoders: a query encoder <math alttext="h_{Q}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.1.m1.1"><semantics id="S2.SS0.SSS0.Px1.p2.1.m1.1a"><msub id="S2.SS0.SSS0.Px1.p2.1.m1.1.1" xref="S2.SS0.SSS0.Px1.p2.1.m1.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.1.m1.1.1.2" xref="S2.SS0.SSS0.Px1.p2.1.m1.1.1.2.cmml">h</mi><mi id="S2.SS0.SSS0.Px1.p2.1.m1.1.1.3" xref="S2.SS0.SSS0.Px1.p2.1.m1.1.1.3.cmml">Q</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.1.m1.1b"><apply id="S2.SS0.SSS0.Px1.p2.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.1.m1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.1.m1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.1.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.1.m1.1.1.2">ℎ</ci><ci id="S2.SS0.SSS0.Px1.p2.1.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.1.m1.1.1.3">𝑄</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.1.m1.1c">h_{Q}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.1.m1.1d">italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT</annotation></semantics></math> and a document encoder <math alttext="h_{D}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.2.m2.1"><semantics id="S2.SS0.SSS0.Px1.p2.2.m2.1a"><msub id="S2.SS0.SSS0.Px1.p2.2.m2.1.1" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.2.m2.1.1.2" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.1.2.cmml">h</mi><mi id="S2.SS0.SSS0.Px1.p2.2.m2.1.1.3" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.1.3.cmml">D</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.2.m2.1b"><apply id="S2.SS0.SSS0.Px1.p2.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.2.m2.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.2.m2.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.1.2">ℎ</ci><ci id="S2.SS0.SSS0.Px1.p2.2.m2.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.1.3">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.2.m2.1c">h_{D}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.2.m2.1d">italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT</annotation></semantics></math>. The query encoder <math alttext="h_{Q}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.3.m3.1"><semantics id="S2.SS0.SSS0.Px1.p2.3.m3.1a"><msub id="S2.SS0.SSS0.Px1.p2.3.m3.1.1" xref="S2.SS0.SSS0.Px1.p2.3.m3.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.3.m3.1.1.2" xref="S2.SS0.SSS0.Px1.p2.3.m3.1.1.2.cmml">h</mi><mi id="S2.SS0.SSS0.Px1.p2.3.m3.1.1.3" xref="S2.SS0.SSS0.Px1.p2.3.m3.1.1.3.cmml">Q</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.3.m3.1b"><apply id="S2.SS0.SSS0.Px1.p2.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.3.m3.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.3.m3.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.3.m3.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.3.m3.1.1.2">ℎ</ci><ci id="S2.SS0.SSS0.Px1.p2.3.m3.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.3.m3.1.1.3">𝑄</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.3.m3.1c">h_{Q}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.3.m3.1d">italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT</annotation></semantics></math> converts any query into an embedding vector, while the document encoder <math alttext="h_{D}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.4.m4.1"><semantics id="S2.SS0.SSS0.Px1.p2.4.m4.1a"><msub id="S2.SS0.SSS0.Px1.p2.4.m4.1.1" xref="S2.SS0.SSS0.Px1.p2.4.m4.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.4.m4.1.1.2" xref="S2.SS0.SSS0.Px1.p2.4.m4.1.1.2.cmml">h</mi><mi id="S2.SS0.SSS0.Px1.p2.4.m4.1.1.3" xref="S2.SS0.SSS0.Px1.p2.4.m4.1.1.3.cmml">D</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.4.m4.1b"><apply id="S2.SS0.SSS0.Px1.p2.4.m4.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.4.m4.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.4.m4.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.4.m4.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.4.m4.1.1.2">ℎ</ci><ci id="S2.SS0.SSS0.Px1.p2.4.m4.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.4.m4.1.1.3">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.4.m4.1c">h_{D}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.4.m4.1d">italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT</annotation></semantics></math> produces an embedding vector for each document in the knowledge base. Depending on the retriever’s configuration, <math alttext="h_{Q}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.5.m5.1"><semantics id="S2.SS0.SSS0.Px1.p2.5.m5.1a"><msub id="S2.SS0.SSS0.Px1.p2.5.m5.1.1" xref="S2.SS0.SSS0.Px1.p2.5.m5.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.5.m5.1.1.2" xref="S2.SS0.SSS0.Px1.p2.5.m5.1.1.2.cmml">h</mi><mi id="S2.SS0.SSS0.Px1.p2.5.m5.1.1.3" xref="S2.SS0.SSS0.Px1.p2.5.m5.1.1.3.cmml">Q</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.5.m5.1b"><apply id="S2.SS0.SSS0.Px1.p2.5.m5.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.5.m5.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.5.m5.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.5.m5.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.5.m5.1.1.2">ℎ</ci><ci id="S2.SS0.SSS0.Px1.p2.5.m5.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.5.m5.1.1.3">𝑄</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.5.m5.1c">h_{Q}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.5.m5.1d">italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="h_{D}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.6.m6.1"><semantics id="S2.SS0.SSS0.Px1.p2.6.m6.1a"><msub id="S2.SS0.SSS0.Px1.p2.6.m6.1.1" xref="S2.SS0.SSS0.Px1.p2.6.m6.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.6.m6.1.1.2" xref="S2.SS0.SSS0.Px1.p2.6.m6.1.1.2.cmml">h</mi><mi id="S2.SS0.SSS0.Px1.p2.6.m6.1.1.3" xref="S2.SS0.SSS0.Px1.p2.6.m6.1.1.3.cmml">D</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.6.m6.1b"><apply id="S2.SS0.SSS0.Px1.p2.6.m6.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.6.m6.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.6.m6.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.6.m6.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.6.m6.1.1.2">ℎ</ci><ci id="S2.SS0.SSS0.Px1.p2.6.m6.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.6.m6.1.1.3">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.6.m6.1c">h_{D}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.6.m6.1d">italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT</annotation></semantics></math> might be the same or different. For a given query <math alttext="Q" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.7.m7.1"><semantics id="S2.SS0.SSS0.Px1.p2.7.m7.1a"><mi id="S2.SS0.SSS0.Px1.p2.7.m7.1.1" xref="S2.SS0.SSS0.Px1.p2.7.m7.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.7.m7.1b"><ci id="S2.SS0.SSS0.Px1.p2.7.m7.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.7.m7.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.7.m7.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.7.m7.1d">italic_Q</annotation></semantics></math>, the RAG system retrieves <math alttext="m" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.8.m8.1"><semantics id="S2.SS0.SSS0.Px1.p2.8.m8.1a"><mi id="S2.SS0.SSS0.Px1.p2.8.m8.1.1" xref="S2.SS0.SSS0.Px1.p2.8.m8.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.8.m8.1b"><ci id="S2.SS0.SSS0.Px1.p2.8.m8.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.8.m8.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.8.m8.1c">m</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.8.m8.1d">italic_m</annotation></semantics></math> documents (termed as <span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px1.p2.20.2">retrieved documents</span>) from the knowledge base <math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.9.m9.1"><semantics id="S2.SS0.SSS0.Px1.p2.9.m9.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p2.9.m9.1.1" xref="S2.SS0.SSS0.Px1.p2.9.m9.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.9.m9.1b"><ci id="S2.SS0.SSS0.Px1.p2.9.m9.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.9.m9.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.9.m9.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.9.m9.1d">caligraphic_K</annotation></semantics></math> that exhibit the highest semantic similarity with <math alttext="Q" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.10.m10.1"><semantics id="S2.SS0.SSS0.Px1.p2.10.m10.1a"><mi id="S2.SS0.SSS0.Px1.p2.10.m10.1.1" xref="S2.SS0.SSS0.Px1.p2.10.m10.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.10.m10.1b"><ci id="S2.SS0.SSS0.Px1.p2.10.m10.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.10.m10.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.10.m10.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.10.m10.1d">italic_Q</annotation></semantics></math>. Specifically, for each document <math alttext="D_{j}\in\mathcal{K}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.11.m11.1"><semantics id="S2.SS0.SSS0.Px1.p2.11.m11.1a"><mrow id="S2.SS0.SSS0.Px1.p2.11.m11.1.1" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1.cmml"><msub id="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2.2" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2.2.cmml">D</mi><mi id="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2.3" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px1.p2.11.m11.1.1.1" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p2.11.m11.1.1.3" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1.3.cmml">𝒦</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.11.m11.1b"><apply id="S2.SS0.SSS0.Px1.p2.11.m11.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1"><in id="S2.SS0.SSS0.Px1.p2.11.m11.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1.1"></in><apply id="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2.2">𝐷</ci><ci id="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1.2.3">𝑗</ci></apply><ci id="S2.SS0.SSS0.Px1.p2.11.m11.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.11.m11.1.1.3">𝒦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.11.m11.1c">D_{j}\in\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.11.m11.1d">italic_D start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ caligraphic_K</annotation></semantics></math>, the similarity score between <math alttext="D_{j}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.12.m12.1"><semantics id="S2.SS0.SSS0.Px1.p2.12.m12.1a"><msub id="S2.SS0.SSS0.Px1.p2.12.m12.1.1" xref="S2.SS0.SSS0.Px1.p2.12.m12.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.12.m12.1.1.2" xref="S2.SS0.SSS0.Px1.p2.12.m12.1.1.2.cmml">D</mi><mi id="S2.SS0.SSS0.Px1.p2.12.m12.1.1.3" xref="S2.SS0.SSS0.Px1.p2.12.m12.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.12.m12.1b"><apply id="S2.SS0.SSS0.Px1.p2.12.m12.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.12.m12.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.12.m12.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.12.m12.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.12.m12.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.12.m12.1.1.2">𝐷</ci><ci id="S2.SS0.SSS0.Px1.p2.12.m12.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.12.m12.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.12.m12.1c">D_{j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.12.m12.1d">italic_D start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> and the query <math alttext="Q" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.13.m13.1"><semantics id="S2.SS0.SSS0.Px1.p2.13.m13.1a"><mi id="S2.SS0.SSS0.Px1.p2.13.m13.1.1" xref="S2.SS0.SSS0.Px1.p2.13.m13.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.13.m13.1b"><ci id="S2.SS0.SSS0.Px1.p2.13.m13.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.13.m13.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.13.m13.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.13.m13.1d">italic_Q</annotation></semantics></math> is computed by their inner product as <math alttext="\Sigma(Q,D_{j})=\text{Sim}(h_{Q}(Q),h_{D}(D_{j}))=h_{Q}(Q)^{T}\cdot h_{D}(D_{j})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.14.m14.7"><semantics id="S2.SS0.SSS0.Px1.p2.14.m14.7a"><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.7.7" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.cmml"><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.3" mathvariant="normal" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.3.cmml">Σ</mi><mo id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.2.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.2.cmml"><mo id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.2.cmml">(</mo><mi id="S2.SS0.SSS0.Px1.p2.14.m14.1.1" xref="S2.SS0.SSS0.Px1.p2.14.m14.1.1.cmml">Q</mi><mo id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.2.cmml">,</mo><msub id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1.2.cmml">D</mi><mi id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.4" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.6" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.6.cmml">=</mo><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.cmml"><mtext id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.4" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.4a.cmml">Sim</mtext><mo id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.3.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.3.cmml"><mo id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.3" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.3.cmml">(</mo><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.cmml"><msub id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2.2.cmml">h</mi><mi id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2.3.cmml">Q</mi></msub><mo id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.1" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.1.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.3.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.3.2.1" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.cmml">(</mo><mi id="S2.SS0.SSS0.Px1.p2.14.m14.2.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.2.2.cmml">Q</mi><mo id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.3.2.2" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.4" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.3.cmml">,</mo><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.cmml"><msub id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3.cmml"><mi id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3.2.cmml">h</mi><mi id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3.3.cmml">D</mi></msub><mo id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.2.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.cmml">(</mo><msub id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.2.cmml">D</mi><mi id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.5" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.3.cmml">)</mo></mrow></mrow><mo id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.7" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.7.cmml">=</mo><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.cmml"><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.cmml"><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.cmml"><msub id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2.cmml"><mi id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2.2.cmml">h</mi><mi id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2.3.cmml">Q</mi></msub><mo id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.1" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.1.cmml">⁢</mo><msup id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.cmml"><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.2.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.cmml"><mo id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.2.2.1" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.cmml">(</mo><mi id="S2.SS0.SSS0.Px1.p2.14.m14.3.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.3.3.cmml">Q</mi><mo id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.2.2.2" rspace="0.055em" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.cmml">)</mo></mrow><mi id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.3.cmml">T</mi></msup></mrow><mo id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.1" rspace="0.222em" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.1.cmml">⋅</mo><msub id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3.cmml"><mi id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3.2.cmml">h</mi><mi id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3.3.cmml">D</mi></msub></mrow><mo id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.2.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.cmml">(</mo><msub id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.2" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.2.cmml">D</mi><mi id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.3" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.14.m14.7b"><apply id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7"><and id="S2.SS0.SSS0.Px1.p2.14.m14.7.7a.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7"></and><apply id="S2.SS0.SSS0.Px1.p2.14.m14.7.7b.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7"><eq id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.6.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.6"></eq><apply id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1"><times id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.2"></times><ci id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.3">Σ</ci><interval closure="open" id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1"><ci id="S2.SS0.SSS0.Px1.p2.14.m14.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.1.1">𝑄</ci><apply id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1.2">𝐷</ci><ci id="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.4.4.1.1.1.1.3">𝑗</ci></apply></interval></apply><apply id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3"><times id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.3"></times><ci id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.4a.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.4"><mtext id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.4.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.4">Sim</mtext></ci><interval closure="open" id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2"><apply id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1"><times id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.1"></times><apply id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2.2">ℎ</ci><ci id="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.5.5.2.1.1.1.2.3">𝑄</ci></apply><ci id="S2.SS0.SSS0.Px1.p2.14.m14.2.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.2.2">𝑄</ci></apply><apply id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2"><times id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.2"></times><apply id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3.2">ℎ</ci><ci id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.3.3">𝐷</ci></apply><apply id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.2">𝐷</ci><ci id="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.2.2.2.1.1.1.3">𝑗</ci></apply></apply></interval></apply></apply><apply id="S2.SS0.SSS0.Px1.p2.14.m14.7.7c.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7"><eq id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.7.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.7"></eq><share href="https://arxiv.org/html/2406.19417v1#S2.SS0.SSS0.Px1.p2.14.m14.6.6.3.cmml" id="S2.SS0.SSS0.Px1.p2.14.m14.7.7d.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7"></share><apply id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4"><times id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.2"></times><apply id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3"><ci id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.1">⋅</ci><apply id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2"><times id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.1"></times><apply id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2.2">ℎ</ci><ci id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.2.3">𝑄</ci></apply><apply id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3">superscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.14.m14.3.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.3.3">𝑄</ci><ci id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.2.3.3">𝑇</ci></apply></apply><apply id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3.2">ℎ</ci><ci id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.3.3.3">𝐷</ci></apply></apply><apply id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.2">𝐷</ci><ci id="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.14.m14.7.7.4.1.1.1.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.14.m14.7c">\Sigma(Q,D_{j})=\text{Sim}(h_{Q}(Q),h_{D}(D_{j}))=h_{Q}(Q)^{T}\cdot h_{D}(D_{j})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.14.m14.7d">roman_Σ ( italic_Q , italic_D start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) = Sim ( italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_Q ) , italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ) = italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_Q ) start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ⋅ italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math>.
For simplicity, we omit <math alttext="h_{Q}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.15.m15.1"><semantics id="S2.SS0.SSS0.Px1.p2.15.m15.1a"><msub id="S2.SS0.SSS0.Px1.p2.15.m15.1.1" xref="S2.SS0.SSS0.Px1.p2.15.m15.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.15.m15.1.1.2" xref="S2.SS0.SSS0.Px1.p2.15.m15.1.1.2.cmml">h</mi><mi id="S2.SS0.SSS0.Px1.p2.15.m15.1.1.3" xref="S2.SS0.SSS0.Px1.p2.15.m15.1.1.3.cmml">Q</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.15.m15.1b"><apply id="S2.SS0.SSS0.Px1.p2.15.m15.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.15.m15.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.15.m15.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.15.m15.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.15.m15.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.15.m15.1.1.2">ℎ</ci><ci id="S2.SS0.SSS0.Px1.p2.15.m15.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.15.m15.1.1.3">𝑄</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.15.m15.1c">h_{Q}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.15.m15.1d">italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="h_{D}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.16.m16.1"><semantics id="S2.SS0.SSS0.Px1.p2.16.m16.1a"><msub id="S2.SS0.SSS0.Px1.p2.16.m16.1.1" xref="S2.SS0.SSS0.Px1.p2.16.m16.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p2.16.m16.1.1.2" xref="S2.SS0.SSS0.Px1.p2.16.m16.1.1.2.cmml">h</mi><mi id="S2.SS0.SSS0.Px1.p2.16.m16.1.1.3" xref="S2.SS0.SSS0.Px1.p2.16.m16.1.1.3.cmml">D</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.16.m16.1b"><apply id="S2.SS0.SSS0.Px1.p2.16.m16.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.16.m16.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p2.16.m16.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.16.m16.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p2.16.m16.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.16.m16.1.1.2">ℎ</ci><ci id="S2.SS0.SSS0.Px1.p2.16.m16.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p2.16.m16.1.1.3">𝐷</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.16.m16.1c">h_{D}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.16.m16.1d">italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT</annotation></semantics></math> and denote the set of <math alttext="m" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.17.m17.1"><semantics id="S2.SS0.SSS0.Px1.p2.17.m17.1a"><mi id="S2.SS0.SSS0.Px1.p2.17.m17.1.1" xref="S2.SS0.SSS0.Px1.p2.17.m17.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.17.m17.1b"><ci id="S2.SS0.SSS0.Px1.p2.17.m17.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.17.m17.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.17.m17.1c">m</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.17.m17.1d">italic_m</annotation></semantics></math> retrieved documents as <math alttext="\mathcal{R}(Q;\mathcal{K})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.18.m18.2"><semantics id="S2.SS0.SSS0.Px1.p2.18.m18.2a"><mrow id="S2.SS0.SSS0.Px1.p2.18.m18.2.3" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p2.18.m18.2.3.2" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.3.2.cmml">ℛ</mi><mo id="S2.SS0.SSS0.Px1.p2.18.m18.2.3.1" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.3.1.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p2.18.m18.2.3.3.2" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.3.3.1.cmml"><mo id="S2.SS0.SSS0.Px1.p2.18.m18.2.3.3.2.1" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.3.3.1.cmml">(</mo><mi id="S2.SS0.SSS0.Px1.p2.18.m18.1.1" xref="S2.SS0.SSS0.Px1.p2.18.m18.1.1.cmml">Q</mi><mo id="S2.SS0.SSS0.Px1.p2.18.m18.2.3.3.2.2" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.3.3.1.cmml">;</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p2.18.m18.2.2" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.2.cmml">𝒦</mi><mo id="S2.SS0.SSS0.Px1.p2.18.m18.2.3.3.2.3" stretchy="false" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.18.m18.2b"><apply id="S2.SS0.SSS0.Px1.p2.18.m18.2.3.cmml" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.3"><times id="S2.SS0.SSS0.Px1.p2.18.m18.2.3.1.cmml" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.3.1"></times><ci id="S2.SS0.SSS0.Px1.p2.18.m18.2.3.2.cmml" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.3.2">ℛ</ci><list id="S2.SS0.SSS0.Px1.p2.18.m18.2.3.3.1.cmml" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.3.3.2"><ci id="S2.SS0.SSS0.Px1.p2.18.m18.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.18.m18.1.1">𝑄</ci><ci id="S2.SS0.SSS0.Px1.p2.18.m18.2.2.cmml" xref="S2.SS0.SSS0.Px1.p2.18.m18.2.2">𝒦</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.18.m18.2c">\mathcal{R}(Q;\mathcal{K})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.18.m18.2d">caligraphic_R ( italic_Q ; caligraphic_K )</annotation></semantics></math>, representing the documents from the knowledge base <math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.19.m19.1"><semantics id="S2.SS0.SSS0.Px1.p2.19.m19.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p2.19.m19.1.1" xref="S2.SS0.SSS0.Px1.p2.19.m19.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.19.m19.1b"><ci id="S2.SS0.SSS0.Px1.p2.19.m19.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.19.m19.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.19.m19.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.19.m19.1d">caligraphic_K</annotation></semantics></math> with the highest similarity scores to the query <math alttext="Q" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p2.20.m20.1"><semantics id="S2.SS0.SSS0.Px1.p2.20.m20.1a"><mi id="S2.SS0.SSS0.Px1.p2.20.m20.1.1" xref="S2.SS0.SSS0.Px1.p2.20.m20.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.20.m20.1b"><ci id="S2.SS0.SSS0.Px1.p2.20.m20.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.20.m20.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.20.m20.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.20.m20.1d">italic_Q</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px1.p3">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p3.8">❷ <span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px1.p3.8.1">Step 2—Answer Generation:</span> Given the query <math alttext="Q" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p3.1.m1.1"><semantics id="S2.SS0.SSS0.Px1.p3.1.m1.1a"><mi id="S2.SS0.SSS0.Px1.p3.1.m1.1.1" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p3.1.m1.1b"><ci id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p3.1.m1.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p3.1.m1.1d">italic_Q</annotation></semantics></math>, the set of <math alttext="m" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p3.2.m2.1"><semantics id="S2.SS0.SSS0.Px1.p3.2.m2.1a"><mi id="S2.SS0.SSS0.Px1.p3.2.m2.1.1" xref="S2.SS0.SSS0.Px1.p3.2.m2.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p3.2.m2.1b"><ci id="S2.SS0.SSS0.Px1.p3.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.2.m2.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p3.2.m2.1c">m</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p3.2.m2.1d">italic_m</annotation></semantics></math> retrieved documents <math alttext="\mathcal{R}(Q;\mathcal{K})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p3.3.m3.2"><semantics id="S2.SS0.SSS0.Px1.p3.3.m3.2a"><mrow id="S2.SS0.SSS0.Px1.p3.3.m3.2.3" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p3.3.m3.2.3.2" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.3.2.cmml">ℛ</mi><mo id="S2.SS0.SSS0.Px1.p3.3.m3.2.3.1" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.3.1.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p3.3.m3.2.3.3.2" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.3.3.1.cmml"><mo id="S2.SS0.SSS0.Px1.p3.3.m3.2.3.3.2.1" stretchy="false" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.3.3.1.cmml">(</mo><mi id="S2.SS0.SSS0.Px1.p3.3.m3.1.1" xref="S2.SS0.SSS0.Px1.p3.3.m3.1.1.cmml">Q</mi><mo id="S2.SS0.SSS0.Px1.p3.3.m3.2.3.3.2.2" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.3.3.1.cmml">;</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p3.3.m3.2.2" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.2.cmml">𝒦</mi><mo id="S2.SS0.SSS0.Px1.p3.3.m3.2.3.3.2.3" stretchy="false" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p3.3.m3.2b"><apply id="S2.SS0.SSS0.Px1.p3.3.m3.2.3.cmml" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.3"><times id="S2.SS0.SSS0.Px1.p3.3.m3.2.3.1.cmml" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.3.1"></times><ci id="S2.SS0.SSS0.Px1.p3.3.m3.2.3.2.cmml" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.3.2">ℛ</ci><list id="S2.SS0.SSS0.Px1.p3.3.m3.2.3.3.1.cmml" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.3.3.2"><ci id="S2.SS0.SSS0.Px1.p3.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.3.m3.1.1">𝑄</ci><ci id="S2.SS0.SSS0.Px1.p3.3.m3.2.2.cmml" xref="S2.SS0.SSS0.Px1.p3.3.m3.2.2">𝒦</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p3.3.m3.2c">\mathcal{R}(Q;\mathcal{K})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p3.3.m3.2d">caligraphic_R ( italic_Q ; caligraphic_K )</annotation></semantics></math>, and the API of a LLM, we can query the LLM with the question <math alttext="Q" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p3.4.m4.1"><semantics id="S2.SS0.SSS0.Px1.p3.4.m4.1a"><mi id="S2.SS0.SSS0.Px1.p3.4.m4.1.1" xref="S2.SS0.SSS0.Px1.p3.4.m4.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p3.4.m4.1b"><ci id="S2.SS0.SSS0.Px1.p3.4.m4.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.4.m4.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p3.4.m4.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p3.4.m4.1d">italic_Q</annotation></semantics></math> and the retrieved documents <math alttext="\mathcal{R}(Q;\mathcal{K})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p3.5.m5.2"><semantics id="S2.SS0.SSS0.Px1.p3.5.m5.2a"><mrow id="S2.SS0.SSS0.Px1.p3.5.m5.2.3" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p3.5.m5.2.3.2" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.3.2.cmml">ℛ</mi><mo id="S2.SS0.SSS0.Px1.p3.5.m5.2.3.1" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.3.1.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p3.5.m5.2.3.3.2" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.3.3.1.cmml"><mo id="S2.SS0.SSS0.Px1.p3.5.m5.2.3.3.2.1" stretchy="false" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.3.3.1.cmml">(</mo><mi id="S2.SS0.SSS0.Px1.p3.5.m5.1.1" xref="S2.SS0.SSS0.Px1.p3.5.m5.1.1.cmml">Q</mi><mo id="S2.SS0.SSS0.Px1.p3.5.m5.2.3.3.2.2" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.3.3.1.cmml">;</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p3.5.m5.2.2" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.2.cmml">𝒦</mi><mo id="S2.SS0.SSS0.Px1.p3.5.m5.2.3.3.2.3" stretchy="false" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p3.5.m5.2b"><apply id="S2.SS0.SSS0.Px1.p3.5.m5.2.3.cmml" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.3"><times id="S2.SS0.SSS0.Px1.p3.5.m5.2.3.1.cmml" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.3.1"></times><ci id="S2.SS0.SSS0.Px1.p3.5.m5.2.3.2.cmml" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.3.2">ℛ</ci><list id="S2.SS0.SSS0.Px1.p3.5.m5.2.3.3.1.cmml" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.3.3.2"><ci id="S2.SS0.SSS0.Px1.p3.5.m5.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.5.m5.1.1">𝑄</ci><ci id="S2.SS0.SSS0.Px1.p3.5.m5.2.2.cmml" xref="S2.SS0.SSS0.Px1.p3.5.m5.2.2">𝒦</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p3.5.m5.2c">\mathcal{R}(Q;\mathcal{K})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p3.5.m5.2d">caligraphic_R ( italic_Q ; caligraphic_K )</annotation></semantics></math> to generate an answer utilizing a system prompt (omited in this paper for simiplicity). The LLM <math alttext="f_{\theta}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p3.6.m6.1"><semantics id="S2.SS0.SSS0.Px1.p3.6.m6.1a"><msub id="S2.SS0.SSS0.Px1.p3.6.m6.1.1" xref="S2.SS0.SSS0.Px1.p3.6.m6.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p3.6.m6.1.1.2" xref="S2.SS0.SSS0.Px1.p3.6.m6.1.1.2.cmml">f</mi><mi id="S2.SS0.SSS0.Px1.p3.6.m6.1.1.3" xref="S2.SS0.SSS0.Px1.p3.6.m6.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p3.6.m6.1b"><apply id="S2.SS0.SSS0.Px1.p3.6.m6.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p3.6.m6.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.6.m6.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p3.6.m6.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p3.6.m6.1.1.2">𝑓</ci><ci id="S2.SS0.SSS0.Px1.p3.6.m6.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p3.6.m6.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p3.6.m6.1c">f_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p3.6.m6.1d">italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> generates the response to <math alttext="Q" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p3.7.m7.1"><semantics id="S2.SS0.SSS0.Px1.p3.7.m7.1a"><mi id="S2.SS0.SSS0.Px1.p3.7.m7.1.1" xref="S2.SS0.SSS0.Px1.p3.7.m7.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p3.7.m7.1b"><ci id="S2.SS0.SSS0.Px1.p3.7.m7.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.7.m7.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p3.7.m7.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p3.7.m7.1d">italic_Q</annotation></semantics></math> using the retrieved documents as contextual support (illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S2.F2" title="Figure 2 ‣ Retrival Augmented Generation (RAG). ‣ 2 Background ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">2</span></a>. We denote the generated answer by <math alttext="f_{\theta}(Q,\mathcal{R}(Q;\mathcal{K}))" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p3.8.m8.4"><semantics id="S2.SS0.SSS0.Px1.p3.8.m8.4a"><mrow id="S2.SS0.SSS0.Px1.p3.8.m8.4.4" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.cmml"><msub id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3.cmml"><mi id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3.2" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3.2.cmml">f</mi><mi id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3.3" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3.3.cmml">θ</mi></msub><mo id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.2" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.2.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.2.cmml"><mo id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.2.cmml">(</mo><mi id="S2.SS0.SSS0.Px1.p3.8.m8.3.3" xref="S2.SS0.SSS0.Px1.p3.8.m8.3.3.cmml">Q</mi><mo id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.3" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.2.cmml">,</mo><mrow id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.2" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.2.cmml">ℛ</mi><mo id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.1" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.1.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.3.2" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.3.1.cmml"><mo id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.3.2.1" stretchy="false" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.3.1.cmml">(</mo><mi id="S2.SS0.SSS0.Px1.p3.8.m8.1.1" xref="S2.SS0.SSS0.Px1.p3.8.m8.1.1.cmml">Q</mi><mo id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.3.2.2" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.3.1.cmml">;</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p3.8.m8.2.2" xref="S2.SS0.SSS0.Px1.p3.8.m8.2.2.cmml">𝒦</mi><mo id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.3.2.3" stretchy="false" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.4" stretchy="false" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p3.8.m8.4b"><apply id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4"><times id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.2.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.2"></times><apply id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3.1.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3.2.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3.2">𝑓</ci><ci id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3.3.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.3.3">𝜃</ci></apply><interval closure="open" id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.2.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1"><ci id="S2.SS0.SSS0.Px1.p3.8.m8.3.3.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.3.3">𝑄</ci><apply id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1"><times id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.1"></times><ci id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.2">ℛ</ci><list id="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.4.4.1.1.1.3.2"><ci id="S2.SS0.SSS0.Px1.p3.8.m8.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.1.1">𝑄</ci><ci id="S2.SS0.SSS0.Px1.p3.8.m8.2.2.cmml" xref="S2.SS0.SSS0.Px1.p3.8.m8.2.2">𝒦</ci></list></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p3.8.m8.4c">f_{\theta}(Q,\mathcal{R}(Q;\mathcal{K}))</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p3.8.m8.4d">italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_Q , caligraphic_R ( italic_Q ; caligraphic_K ) )</annotation></semantics></math>, omitting the system prompt for brevity.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Jailbreak and Prompt Injection Attacks.</h4>
<div class="ltx_para" id="S2.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p1.1">A particularly relevant area of research involves the investigation of “jailbreaking” techniques, where LLMs are coerced into bypassing their built-in safety mechanisms through carefully designed prompts <cite class="ltx_cite ltx_citemacro_citep">(Bai et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib3" title="">2022</a>; Zeng et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib54" title="">2024</a>)</cite>. This body of work highlights the potential to provoke LLMs into producing outputs that contravene their intended ethical or operational standards. The existing research on jailbreaking LLMs can broadly be divided into two main categories: (1) Prompt engineering approaches, which involve crafting specific prompts to intentionally produce jailbroken content <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib30" title="">2023b</a>; Wei et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib48" title="">2023</a>)</cite>; and (2) Learning-based approaches, which aim to automatically enhance jailbreak prompts by optimizing a customized objective <cite class="ltx_cite ltx_citemacro_citep">(Guo et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib15" title="">2021</a>; Lyu et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib33" title="">2022</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib34" title="">2023</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib32" title="">2024</a>; Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib29" title="">2023a</a>; Zou et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib58" title="">2023</a>; Tan et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib42" title="">2024</a>)</cite>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Attacking Retrieval Systems.</h4>
<div class="ltx_para" id="S2.SS0.SSS0.Px3.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p1.1">Research on adversarial attacks in retrieval systems has predominantly focused on minor modifications to text documents to alter their retrieval ranking for specific queries or a limited set of queries <cite class="ltx_cite ltx_citemacro_citep">(Song et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib40" title="">2020</a>; Raval and Verma, <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib39" title="">2020</a>; Song et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib41" title="">2022</a>; Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib31" title="">2023c</a>)</cite>. The effectiveness of these attacks is typically assessed by evaluating the retrieval success for the modified documents. One recent work <cite class="ltx_cite ltx_citemacro_cite">Zhong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib57" title="">2023</a>)</cite> involves injecting new, adversarial documents into the retrieval corpus. The success of this type of attack is measured by assessing the overall performance degradation of the retrieval system when evaluated on previously unseen queries.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px4">
<h4 class="ltx_title ltx_title_paragraph">Attacking RAG Systems.</h4>
<div class="ltx_para" id="S2.SS0.SSS0.Px4.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px4.p1.1">We notice that there are a few concurrent works <cite class="ltx_cite ltx_citemacro_cite">Zou et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib59" title="">2024</a>); Cho et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib9" title="">2024</a>); Xue et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib52" title="">2024</a>); Cheng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib7" title="">2024</a>); Anderson et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib1" title="">2024</a>)</cite> on attacking the RAG systems. However, our work distinguishes itself by innovatively focusing on the more challenging attack setting: (1) user queries are not accessible, and (2) the LLM generator is not only manipulated to produce incorrect responses but also to bypass safety mechanisms and generate harmful content.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Threat Model</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we define the threat model for our investigation into the vulnerabilities of RAG systems. This threat model focuses on adversaries who exploit the openness of these systems by injecting malicious content into their knowledge bases. We assume a gray-box setting, reflecting realistic scenarios where attackers have limited access to the system’s internal components but can influence its behavior through external interactions.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Adversary Capabilities</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">Our threat model assumes the adversary has the following capabilities:</p>
<ul class="ltx_itemize" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.1"><span class="ltx_text ltx_font_italic" id="S3.I1.i1.p1.1.1">Content Injection</span>: The adversary can inject maliciously crafted content into the knowledge database utilized by the RAG system. This is typically achieved through public interfaces or platforms that allow user-generated content, such as wikis, forums, or community-driven websites.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.1"><span class="ltx_text ltx_font_italic" id="S3.I1.i2.p1.1.1">Knowledge of External Database</span>: Although the adversary does not have access to the LLM’s internal parameters or specific user queries, they are aware of the general sources and nature of the data contained in the external knowledge database (e.g., language used).</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i3.p1">
<p class="ltx_p" id="S3.I1.i3.p1.1"><span class="ltx_text ltx_font_italic" id="S3.I1.i3.p1.1.1">Restricted System Access</span>: The adversary does not have direct access to user queries, the existing knowledge within the database, or the internal parameters of the LLM, but has <span class="ltx_text ltx_font_italic" id="S3.I1.i3.p1.1.2">white-box</span> access to the RAG retriever.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Attack Scenarios</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">The primary attack scenario we identify is <span class="ltx_text ltx_font_italic" id="S3.SS2.p1.1.1">Poisoning Attack</span>, where the adversary injects misleading or harmful content into the knowledge database. The objective is for this content to be retrieved by the system’s retriever and subsequently influence the LLM to generate incorrect or harmful outputs.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Adversarial Goals</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">We consider two types of goals of the adversary in this threat model. Example case studies of both types are given in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A5" title="Appendix E Case Studies ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">E</span></a>.</p>
<ul class="ltx_itemize" id="S3.I2">
<li class="ltx_item" id="S3.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I2.i1.p1">
<p class="ltx_p" id="S3.I2.i1.p1.1"><span class="ltx_text ltx_font_italic" id="S3.I2.i1.p1.1.1">Harmful Output</span>: The adversary aims to deceive the RAG system into generating outputs that are incorrect, misleading, or harmful, thereby spreading misinformation, biased content, or malicious instructions. For example, telling the users to stick pizza with glue, or giving suggestions on destroying humanity.</p>
</div>
</li>
<li class="ltx_item" id="S3.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I2.i2.p1">
<p class="ltx_p" id="S3.I2.i2.p1.1"><span class="ltx_text ltx_font_italic" id="S3.I2.i2.p1.1.1">Enforced Information</span>: The adversary seeks to compel the RAG system to consistently generate responses containing specific content. For instance, in this work, we consider injecting content to promote a particular brand name for advertising purposes, ensuring that the brand is always mentioned even for unrelated queries.</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Warm-up study: Attacking RAG models is <span class="ltx_text ltx_font_italic" id="S4.1.1">not</span> trivial.</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">Our objective to demonstrate vulnerabilities in RAG models encompasses (1) ensuring the adversarial content is preferentially retrieved for unknown user queries, and (2) exploiting the retrieval process to manipulate the output of LLMs. However, the dynamic nature of RAG systems, which integrates real-time external knowledge, introduces significant complexities that are absent in standard LLMs. Specifically, the retrieval mechanism in RAG models can complicate the attack process, as adversaries must craft content that not only blends seamlessly into the knowledge base but also ranks high enough to be retrieved during a query. This requirement for “<span class="ltx_text ltx_font_italic" id="S4.p1.1.1">two-way attack mode</span>” makes attacking RAG models highly complex. Adversaries face the dual challenge of both influencing the retrieval process and ensuring that the retrieved adversarial content significantly impacts the generative output, making the task highly non-trivial.</p>
</div>
<div class="ltx_para" id="S4.p2">
<p class="ltx_p" id="S4.p2.5">In this warm-up study, we present a vanilla <span class="ltx_text ltx_font_italic" id="S4.p2.5.1">Attack Training</span> (<span class="ltx_text" id="S4.p2.5.2" style="color:#FF0000;"><a class="ltx_anchor" id="AT" name="AT">AT</a></span>) framework.
Given a query set <math alttext="\mathcal{Q}" class="ltx_Math" display="inline" id="S4.p2.1.m1.1"><semantics id="S4.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.p2.1.m1.1.1" xref="S4.p2.1.m1.1.1.cmml">𝒬</mi><annotation-xml encoding="MathML-Content" id="S4.p2.1.m1.1b"><ci id="S4.p2.1.m1.1.1.cmml" xref="S4.p2.1.m1.1.1">𝒬</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.1.m1.1c">\mathcal{Q}</annotation><annotation encoding="application/x-llamapun" id="S4.p2.1.m1.1d">caligraphic_Q</annotation></semantics></math>, the RAG model consists of a retriever <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.p2.2.m2.1"><semantics id="S4.p2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.p2.2.m2.1.1" xref="S4.p2.2.m2.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.p2.2.m2.1b"><ci id="S4.p2.2.m2.1.1.cmml" xref="S4.p2.2.m2.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.2.m2.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.p2.2.m2.1d">caligraphic_R</annotation></semantics></math> and a generator <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.p2.3.m3.1"><semantics id="S4.p2.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.p2.3.m3.1.1" xref="S4.p2.3.m3.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.p2.3.m3.1b"><ci id="S4.p2.3.m3.1.1.cmml" xref="S4.p2.3.m3.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.3.m3.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.p2.3.m3.1d">caligraphic_G</annotation></semantics></math>. Our goal is to generate adversarial content <math alttext="\mathcal{D}_{\text{adv}}" class="ltx_Math" display="inline" id="S4.p2.4.m4.1"><semantics id="S4.p2.4.m4.1a"><msub id="S4.p2.4.m4.1.1" xref="S4.p2.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p2.4.m4.1.1.2" xref="S4.p2.4.m4.1.1.2.cmml">𝒟</mi><mtext id="S4.p2.4.m4.1.1.3" xref="S4.p2.4.m4.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.p2.4.m4.1b"><apply id="S4.p2.4.m4.1.1.cmml" xref="S4.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.p2.4.m4.1.1.1.cmml" xref="S4.p2.4.m4.1.1">subscript</csymbol><ci id="S4.p2.4.m4.1.1.2.cmml" xref="S4.p2.4.m4.1.1.2">𝒟</ci><ci id="S4.p2.4.m4.1.1.3a.cmml" xref="S4.p2.4.m4.1.1.3"><mtext id="S4.p2.4.m4.1.1.3.cmml" mathsize="70%" xref="S4.p2.4.m4.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.4.m4.1c">\mathcal{D}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S4.p2.4.m4.1d">caligraphic_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> that, when added to the knowledge base <math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.p2.5.m5.1"><semantics id="S4.p2.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S4.p2.5.m5.1.1" xref="S4.p2.5.m5.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.p2.5.m5.1b"><ci id="S4.p2.5.m5.1.1.cmml" xref="S4.p2.5.m5.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.5.m5.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.p2.5.m5.1d">caligraphic_K</annotation></semantics></math>, maximizes the retrieval and impact on the generative output. The objective is:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\min_{\mathcal{D}_{\text{adv}}}\mathbb{E}_{q\sim\mathcal{Q}}\left[\ell_{\text{%
NLL}}\left(\mathcal{G}\left(\mathcal{R}(q,\mathcal{K}\cup\mathcal{D}_{\text{%
adv}})\right),{y}^{*}\right)\right]," class="ltx_Math" display="block" id="S4.E1.m1.2"><semantics id="S4.E1.m1.2a"><mrow id="S4.E1.m1.2.2.1" xref="S4.E1.m1.2.2.1.1.cmml"><mrow id="S4.E1.m1.2.2.1.1" xref="S4.E1.m1.2.2.1.1.cmml"><mrow id="S4.E1.m1.2.2.1.1.3" xref="S4.E1.m1.2.2.1.1.3.cmml"><munder id="S4.E1.m1.2.2.1.1.3.1" xref="S4.E1.m1.2.2.1.1.3.1.cmml"><mi id="S4.E1.m1.2.2.1.1.3.1.2" xref="S4.E1.m1.2.2.1.1.3.1.2.cmml">min</mi><msub id="S4.E1.m1.2.2.1.1.3.1.3" xref="S4.E1.m1.2.2.1.1.3.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.2.2.1.1.3.1.3.2" xref="S4.E1.m1.2.2.1.1.3.1.3.2.cmml">𝒟</mi><mtext id="S4.E1.m1.2.2.1.1.3.1.3.3" xref="S4.E1.m1.2.2.1.1.3.1.3.3a.cmml">adv</mtext></msub></munder><mo id="S4.E1.m1.2.2.1.1.3a" lspace="0.167em" xref="S4.E1.m1.2.2.1.1.3.cmml">⁡</mo><msub id="S4.E1.m1.2.2.1.1.3.2" xref="S4.E1.m1.2.2.1.1.3.2.cmml"><mi id="S4.E1.m1.2.2.1.1.3.2.2" xref="S4.E1.m1.2.2.1.1.3.2.2.cmml">𝔼</mi><mrow id="S4.E1.m1.2.2.1.1.3.2.3" xref="S4.E1.m1.2.2.1.1.3.2.3.cmml"><mi id="S4.E1.m1.2.2.1.1.3.2.3.2" xref="S4.E1.m1.2.2.1.1.3.2.3.2.cmml">q</mi><mo id="S4.E1.m1.2.2.1.1.3.2.3.1" xref="S4.E1.m1.2.2.1.1.3.2.3.1.cmml">∼</mo><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.2.2.1.1.3.2.3.3" xref="S4.E1.m1.2.2.1.1.3.2.3.3.cmml">𝒬</mi></mrow></msub></mrow><mo id="S4.E1.m1.2.2.1.1.2" xref="S4.E1.m1.2.2.1.1.2.cmml">⁢</mo><mrow id="S4.E1.m1.2.2.1.1.1.1" xref="S4.E1.m1.2.2.1.1.1.2.cmml"><mo id="S4.E1.m1.2.2.1.1.1.1.2" xref="S4.E1.m1.2.2.1.1.1.2.1.cmml">[</mo><mrow id="S4.E1.m1.2.2.1.1.1.1.1" xref="S4.E1.m1.2.2.1.1.1.1.1.cmml"><msub id="S4.E1.m1.2.2.1.1.1.1.1.4" xref="S4.E1.m1.2.2.1.1.1.1.1.4.cmml"><mi id="S4.E1.m1.2.2.1.1.1.1.1.4.2" mathvariant="normal" xref="S4.E1.m1.2.2.1.1.1.1.1.4.2.cmml">ℓ</mi><mtext id="S4.E1.m1.2.2.1.1.1.1.1.4.3" xref="S4.E1.m1.2.2.1.1.1.1.1.4.3a.cmml">NLL</mtext></msub><mo id="S4.E1.m1.2.2.1.1.1.1.1.3" xref="S4.E1.m1.2.2.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.E1.m1.2.2.1.1.1.1.1.2.2" xref="S4.E1.m1.2.2.1.1.1.1.1.2.3.cmml"><mo id="S4.E1.m1.2.2.1.1.1.1.1.2.2.3" xref="S4.E1.m1.2.2.1.1.1.1.1.2.3.cmml">(</mo><mrow id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.3.cmml">𝒢</mi><mo id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml">ℛ</mi><mo id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="S4.E1.m1.1.1" xref="S4.E1.m1.1.1.cmml">q</mi><mo id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><mrow id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝒦</mi><mo id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">∪</mo><msub id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">𝒟</mi><mtext id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3a.cmml">adv</mtext></msub></mrow><mo id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.4" stretchy="false" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E1.m1.2.2.1.1.1.1.1.2.2.4" xref="S4.E1.m1.2.2.1.1.1.1.1.2.3.cmml">,</mo><msup id="S4.E1.m1.2.2.1.1.1.1.1.2.2.2" xref="S4.E1.m1.2.2.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E1.m1.2.2.1.1.1.1.1.2.2.2.2" xref="S4.E1.m1.2.2.1.1.1.1.1.2.2.2.2.cmml">y</mi><mo id="S4.E1.m1.2.2.1.1.1.1.1.2.2.2.3" xref="S4.E1.m1.2.2.1.1.1.1.1.2.2.2.3.cmml">∗</mo></msup><mo id="S4.E1.m1.2.2.1.1.1.1.1.2.2.5" xref="S4.E1.m1.2.2.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S4.E1.m1.2.2.1.1.1.1.3" xref="S4.E1.m1.2.2.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S4.E1.m1.2.2.1.2" xref="S4.E1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E1.m1.2b"><apply id="S4.E1.m1.2.2.1.1.cmml" xref="S4.E1.m1.2.2.1"><times id="S4.E1.m1.2.2.1.1.2.cmml" xref="S4.E1.m1.2.2.1.1.2"></times><apply id="S4.E1.m1.2.2.1.1.3.cmml" xref="S4.E1.m1.2.2.1.1.3"><apply id="S4.E1.m1.2.2.1.1.3.1.cmml" xref="S4.E1.m1.2.2.1.1.3.1"><csymbol cd="ambiguous" id="S4.E1.m1.2.2.1.1.3.1.1.cmml" xref="S4.E1.m1.2.2.1.1.3.1">subscript</csymbol><min id="S4.E1.m1.2.2.1.1.3.1.2.cmml" xref="S4.E1.m1.2.2.1.1.3.1.2"></min><apply id="S4.E1.m1.2.2.1.1.3.1.3.cmml" xref="S4.E1.m1.2.2.1.1.3.1.3"><csymbol cd="ambiguous" id="S4.E1.m1.2.2.1.1.3.1.3.1.cmml" xref="S4.E1.m1.2.2.1.1.3.1.3">subscript</csymbol><ci id="S4.E1.m1.2.2.1.1.3.1.3.2.cmml" xref="S4.E1.m1.2.2.1.1.3.1.3.2">𝒟</ci><ci id="S4.E1.m1.2.2.1.1.3.1.3.3a.cmml" xref="S4.E1.m1.2.2.1.1.3.1.3.3"><mtext id="S4.E1.m1.2.2.1.1.3.1.3.3.cmml" mathsize="50%" xref="S4.E1.m1.2.2.1.1.3.1.3.3">adv</mtext></ci></apply></apply><apply id="S4.E1.m1.2.2.1.1.3.2.cmml" xref="S4.E1.m1.2.2.1.1.3.2"><csymbol cd="ambiguous" id="S4.E1.m1.2.2.1.1.3.2.1.cmml" xref="S4.E1.m1.2.2.1.1.3.2">subscript</csymbol><ci id="S4.E1.m1.2.2.1.1.3.2.2.cmml" xref="S4.E1.m1.2.2.1.1.3.2.2">𝔼</ci><apply id="S4.E1.m1.2.2.1.1.3.2.3.cmml" xref="S4.E1.m1.2.2.1.1.3.2.3"><csymbol cd="latexml" id="S4.E1.m1.2.2.1.1.3.2.3.1.cmml" xref="S4.E1.m1.2.2.1.1.3.2.3.1">similar-to</csymbol><ci id="S4.E1.m1.2.2.1.1.3.2.3.2.cmml" xref="S4.E1.m1.2.2.1.1.3.2.3.2">𝑞</ci><ci id="S4.E1.m1.2.2.1.1.3.2.3.3.cmml" xref="S4.E1.m1.2.2.1.1.3.2.3.3">𝒬</ci></apply></apply></apply><apply id="S4.E1.m1.2.2.1.1.1.2.cmml" xref="S4.E1.m1.2.2.1.1.1.1"><csymbol cd="latexml" id="S4.E1.m1.2.2.1.1.1.2.1.cmml" xref="S4.E1.m1.2.2.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.E1.m1.2.2.1.1.1.1.1.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1"><times id="S4.E1.m1.2.2.1.1.1.1.1.3.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.3"></times><apply id="S4.E1.m1.2.2.1.1.1.1.1.4.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E1.m1.2.2.1.1.1.1.1.4.1.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.4">subscript</csymbol><ci id="S4.E1.m1.2.2.1.1.1.1.1.4.2.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.4.2">ℓ</ci><ci id="S4.E1.m1.2.2.1.1.1.1.1.4.3a.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.4.3"><mtext id="S4.E1.m1.2.2.1.1.1.1.1.4.3.cmml" mathsize="70%" xref="S4.E1.m1.2.2.1.1.1.1.1.4.3">NLL</mtext></ci></apply><interval closure="open" id="S4.E1.m1.2.2.1.1.1.1.1.2.3.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.2.2"><apply id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1"><times id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.2"></times><ci id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.3">𝒢</ci><apply id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1"><times id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3">ℛ</ci><interval closure="open" id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1"><ci id="S4.E1.m1.1.1.cmml" xref="S4.E1.m1.1.1">𝑞</ci><apply id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><union id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"></union><ci id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝒦</ci><apply id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝒟</ci><ci id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3a.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3"><mtext id="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" mathsize="70%" xref="S4.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">adv</mtext></ci></apply></apply></interval></apply></apply><apply id="S4.E1.m1.2.2.1.1.1.1.1.2.2.2.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E1.m1.2.2.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.2.2.2">superscript</csymbol><ci id="S4.E1.m1.2.2.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.2.2.2.2">𝑦</ci><times id="S4.E1.m1.2.2.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E1.m1.2.2.1.1.1.1.1.2.2.2.3"></times></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E1.m1.2c">\min_{\mathcal{D}_{\text{adv}}}\mathbb{E}_{q\sim\mathcal{Q}}\left[\ell_{\text{%
NLL}}\left(\mathcal{G}\left(\mathcal{R}(q,\mathcal{K}\cup\mathcal{D}_{\text{%
adv}})\right),{y}^{*}\right)\right],</annotation><annotation encoding="application/x-llamapun" id="S4.E1.m1.2d">roman_min start_POSTSUBSCRIPT caligraphic_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT end_POSTSUBSCRIPT blackboard_E start_POSTSUBSCRIPT italic_q ∼ caligraphic_Q end_POSTSUBSCRIPT [ roman_ℓ start_POSTSUBSCRIPT NLL end_POSTSUBSCRIPT ( caligraphic_G ( caligraphic_R ( italic_q , caligraphic_K ∪ caligraphic_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) ) , italic_y start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT ) ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.p2.7">where <math alttext="\ell_{\text{NLL}}" class="ltx_Math" display="inline" id="S4.p2.6.m1.1"><semantics id="S4.p2.6.m1.1a"><msub id="S4.p2.6.m1.1.1" xref="S4.p2.6.m1.1.1.cmml"><mi id="S4.p2.6.m1.1.1.2" mathvariant="normal" xref="S4.p2.6.m1.1.1.2.cmml">ℓ</mi><mtext id="S4.p2.6.m1.1.1.3" xref="S4.p2.6.m1.1.1.3a.cmml">NLL</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.p2.6.m1.1b"><apply id="S4.p2.6.m1.1.1.cmml" xref="S4.p2.6.m1.1.1"><csymbol cd="ambiguous" id="S4.p2.6.m1.1.1.1.cmml" xref="S4.p2.6.m1.1.1">subscript</csymbol><ci id="S4.p2.6.m1.1.1.2.cmml" xref="S4.p2.6.m1.1.1.2">ℓ</ci><ci id="S4.p2.6.m1.1.1.3a.cmml" xref="S4.p2.6.m1.1.1.3"><mtext id="S4.p2.6.m1.1.1.3.cmml" mathsize="70%" xref="S4.p2.6.m1.1.1.3">NLL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.6.m1.1c">\ell_{\text{NLL}}</annotation><annotation encoding="application/x-llamapun" id="S4.p2.6.m1.1d">roman_ℓ start_POSTSUBSCRIPT NLL end_POSTSUBSCRIPT</annotation></semantics></math> is the widely-used Negative Log-Likelihood (NLL) loss <cite class="ltx_cite ltx_citemacro_cite">Zou et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib58" title="">2023</a>); Qi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib38" title="">2024</a>)</cite> that measures the divergence between the output and the adversarial target <math alttext="y^{*}" class="ltx_Math" display="inline" id="S4.p2.7.m2.1"><semantics id="S4.p2.7.m2.1a"><msup id="S4.p2.7.m2.1.1" xref="S4.p2.7.m2.1.1.cmml"><mi id="S4.p2.7.m2.1.1.2" xref="S4.p2.7.m2.1.1.2.cmml">y</mi><mo id="S4.p2.7.m2.1.1.3" xref="S4.p2.7.m2.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.p2.7.m2.1b"><apply id="S4.p2.7.m2.1.1.cmml" xref="S4.p2.7.m2.1.1"><csymbol cd="ambiguous" id="S4.p2.7.m2.1.1.1.cmml" xref="S4.p2.7.m2.1.1">superscript</csymbol><ci id="S4.p2.7.m2.1.1.2.cmml" xref="S4.p2.7.m2.1.1.2">𝑦</ci><times id="S4.p2.7.m2.1.1.3.cmml" xref="S4.p2.7.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.7.m2.1c">y^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.p2.7.m2.1d">italic_y start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math>. To facilitate backpropagation when sampling tokens from the vocabulary, we use the Gumbel trick <cite class="ltx_cite ltx_citemacro_citep">(Jang et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib19" title="">2016</a>; Joo et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib20" title="">2020</a>)</cite>. Complete form of Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S4.E1" title="In 4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">1</span></a>) is detailed in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5" title="5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<div class="ltx_para" id="S4.p3">
<p class="ltx_p" id="S4.p3.1">Detailed experiment setting is given in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1.SS1" title="A.1 Warmup Experiment ‣ Appendix A Detailed Experiment Setups ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">A.1</span></a>. In this experiment, we evaluate the retrieval of adversarial content and its influence on the generated outputs, specifically measuring the success rate of adversarial retrieval (AR) and the achievement of the adversarial goal (AG) in the generated responses, alongside the training loss <math alttext="\ell_{\text{NLL}}" class="ltx_Math" display="inline" id="S4.p3.1.m1.1"><semantics id="S4.p3.1.m1.1a"><msub id="S4.p3.1.m1.1.1" xref="S4.p3.1.m1.1.1.cmml"><mi id="S4.p3.1.m1.1.1.2" mathvariant="normal" xref="S4.p3.1.m1.1.1.2.cmml">ℓ</mi><mtext id="S4.p3.1.m1.1.1.3" xref="S4.p3.1.m1.1.1.3a.cmml">NLL</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.p3.1.m1.1b"><apply id="S4.p3.1.m1.1.1.cmml" xref="S4.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p3.1.m1.1.1.1.cmml" xref="S4.p3.1.m1.1.1">subscript</csymbol><ci id="S4.p3.1.m1.1.1.2.cmml" xref="S4.p3.1.m1.1.1.2">ℓ</ci><ci id="S4.p3.1.m1.1.1.3a.cmml" xref="S4.p3.1.m1.1.1.3"><mtext id="S4.p3.1.m1.1.1.3.cmml" mathsize="70%" xref="S4.p3.1.m1.1.1.3">NLL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.1.m1.1c">\ell_{\text{NLL}}</annotation><annotation encoding="application/x-llamapun" id="S4.p3.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT NLL end_POSTSUBSCRIPT</annotation></semantics></math> across training epochs.</p>
</div>
<figure class="ltx_figure" id="S4.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="495" id="S4.F3.g1" src="x3.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Visualization of adversarial retrieval rate AR, adversarial goal achievement rate AG, and training loss across training iteration of <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#AT" title="AT ‣ 4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive.">AT</a>.</figcaption>
</figure>
<div class="ltx_para" id="S4.p4">
<p class="ltx_p" id="S4.p4.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S4.F3" title="Figure 3 ‣ 4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">3</span></a> empirically demonstrates the challenges of effectively attacking RAG models.
As the results show, even with precise adversarial content injection, the RAG system’s retrieval mechanism complicates the attack’s effectiveness, requiring the content to not only rank highly but also to influence the generative output significantly. Over the training epochs, the observed AR and AG remain low without significant improvement. Additionally, the loss <math alttext="\ell_{\text{NLL}}" class="ltx_Math" display="inline" id="S4.p4.1.m1.1"><semantics id="S4.p4.1.m1.1a"><msub id="S4.p4.1.m1.1.1" xref="S4.p4.1.m1.1.1.cmml"><mi id="S4.p4.1.m1.1.1.2" mathvariant="normal" xref="S4.p4.1.m1.1.1.2.cmml">ℓ</mi><mtext id="S4.p4.1.m1.1.1.3" xref="S4.p4.1.m1.1.1.3a.cmml">NLL</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.p4.1.m1.1b"><apply id="S4.p4.1.m1.1.1.cmml" xref="S4.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p4.1.m1.1.1.1.cmml" xref="S4.p4.1.m1.1.1">subscript</csymbol><ci id="S4.p4.1.m1.1.1.2.cmml" xref="S4.p4.1.m1.1.1.2">ℓ</ci><ci id="S4.p4.1.m1.1.1.3a.cmml" xref="S4.p4.1.m1.1.1.3"><mtext id="S4.p4.1.m1.1.1.3.cmml" mathsize="70%" xref="S4.p4.1.m1.1.1.3">NLL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.1.m1.1c">\ell_{\text{NLL}}</annotation><annotation encoding="application/x-llamapun" id="S4.p4.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT NLL end_POSTSUBSCRIPT</annotation></semantics></math> shows notable oscillations, demonstrate that the individual components struggle to adapt to each other and fail to make a concerted effort within the process of <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#AT" title="AT ‣ 4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive.">AT</a>.
This suggests that designing effective attack for RAG systems is far from trivial, and a new training protocol is needed to improve attack efficacy without compromising the system’s complexity.</p>
</div>
<figure class="ltx_figure" id="S4.F4">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.F4.1" style="width:392.0pt;height:125.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-21.8pt,7.0pt) scale(0.9,0.9) ;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="268" id="S4.F4.1.g1" src="x4.png" width="830"/>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>An illustration of the proposed LIAR framework that effectively generates adversarial for the dual objective: (1) attack the retriever (2) attak the LLM generator.</figcaption>
</figure>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Methods</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.2">In this section, we begin by decoupling the structure and objective of
attacking (i) the retriever <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S5.p1.1.m1.1"><semantics id="S5.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S5.p1.1.m1.1.1" xref="S5.p1.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S5.p1.1.m1.1b"><ci id="S5.p1.1.m1.1.1.cmml" xref="S5.p1.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S5.p1.1.m1.1d">caligraphic_R</annotation></semantics></math> and (ii) the LLM generator <math alttext="f_{\theta}(\cdot)" class="ltx_Math" display="inline" id="S5.p1.2.m2.1"><semantics id="S5.p1.2.m2.1a"><mrow id="S5.p1.2.m2.1.2" xref="S5.p1.2.m2.1.2.cmml"><msub id="S5.p1.2.m2.1.2.2" xref="S5.p1.2.m2.1.2.2.cmml"><mi id="S5.p1.2.m2.1.2.2.2" xref="S5.p1.2.m2.1.2.2.2.cmml">f</mi><mi id="S5.p1.2.m2.1.2.2.3" xref="S5.p1.2.m2.1.2.2.3.cmml">θ</mi></msub><mo id="S5.p1.2.m2.1.2.1" xref="S5.p1.2.m2.1.2.1.cmml">⁢</mo><mrow id="S5.p1.2.m2.1.2.3.2" xref="S5.p1.2.m2.1.2.cmml"><mo id="S5.p1.2.m2.1.2.3.2.1" stretchy="false" xref="S5.p1.2.m2.1.2.cmml">(</mo><mo id="S5.p1.2.m2.1.1" lspace="0em" rspace="0em" xref="S5.p1.2.m2.1.1.cmml">⋅</mo><mo id="S5.p1.2.m2.1.2.3.2.2" stretchy="false" xref="S5.p1.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.2.m2.1b"><apply id="S5.p1.2.m2.1.2.cmml" xref="S5.p1.2.m2.1.2"><times id="S5.p1.2.m2.1.2.1.cmml" xref="S5.p1.2.m2.1.2.1"></times><apply id="S5.p1.2.m2.1.2.2.cmml" xref="S5.p1.2.m2.1.2.2"><csymbol cd="ambiguous" id="S5.p1.2.m2.1.2.2.1.cmml" xref="S5.p1.2.m2.1.2.2">subscript</csymbol><ci id="S5.p1.2.m2.1.2.2.2.cmml" xref="S5.p1.2.m2.1.2.2.2">𝑓</ci><ci id="S5.p1.2.m2.1.2.2.3.cmml" xref="S5.p1.2.m2.1.2.2.3">𝜃</ci></apply><ci id="S5.p1.2.m2.1.1.cmml" xref="S5.p1.2.m2.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.2.m2.1c">f_{\theta}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S5.p1.2.m2.1d">italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( ⋅ )</annotation></semantics></math> within the AT framework. We empirically demonstrate that these individual components struggle to adapt to each other and fail to make a concerted effort within the <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#AT" title="AT ‣ 4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive.">AT</a> process in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.T4" title="Table 4 ‣ Impact of Different Attack Components. ‣ 6.2 Ablation Study ‣ 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">4</span></a>. Building on this, we propose a new attack training framework for RAG systems, <span class="ltx_text ltx_font_bold" id="S5.p1.2.1">LIAR</span>, which draws inspiration from bi-level optimization techniques. Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S4.F4" title="Figure 4 ‣ 4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">4</span></a> gives an illustration of our framework.</p>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Structure of the Adversarial Content</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.9">The adversarial content consists of a small set of documents: <math alttext="\mathcal{D}_{\text{adv}}=\{\mathbf{D}_{\text{adv}}^{n}\}_{n=1}^{N}" class="ltx_Math" display="inline" id="S5.SS1.p1.1.m1.1"><semantics id="S5.SS1.p1.1.m1.1a"><mrow id="S5.SS1.p1.1.m1.1.1" xref="S5.SS1.p1.1.m1.1.1.cmml"><msub id="S5.SS1.p1.1.m1.1.1.3" xref="S5.SS1.p1.1.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS1.p1.1.m1.1.1.3.2" xref="S5.SS1.p1.1.m1.1.1.3.2.cmml">𝒟</mi><mtext id="S5.SS1.p1.1.m1.1.1.3.3" xref="S5.SS1.p1.1.m1.1.1.3.3a.cmml">adv</mtext></msub><mo id="S5.SS1.p1.1.m1.1.1.2" xref="S5.SS1.p1.1.m1.1.1.2.cmml">=</mo><msubsup id="S5.SS1.p1.1.m1.1.1.1" xref="S5.SS1.p1.1.m1.1.1.1.cmml"><mrow id="S5.SS1.p1.1.m1.1.1.1.1.1.1" xref="S5.SS1.p1.1.m1.1.1.1.1.1.2.cmml"><mo id="S5.SS1.p1.1.m1.1.1.1.1.1.1.2" stretchy="false" xref="S5.SS1.p1.1.m1.1.1.1.1.1.2.cmml">{</mo><msubsup id="S5.SS1.p1.1.m1.1.1.1.1.1.1.1" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.cmml"><mi id="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.cmml">𝐃</mi><mtext id="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.2.3" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.2.3a.cmml">adv</mtext><mi id="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.3" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.3.cmml">n</mi></msubsup><mo id="S5.SS1.p1.1.m1.1.1.1.1.1.1.3" stretchy="false" xref="S5.SS1.p1.1.m1.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S5.SS1.p1.1.m1.1.1.1.1.3" xref="S5.SS1.p1.1.m1.1.1.1.1.3.cmml"><mi id="S5.SS1.p1.1.m1.1.1.1.1.3.2" xref="S5.SS1.p1.1.m1.1.1.1.1.3.2.cmml">n</mi><mo id="S5.SS1.p1.1.m1.1.1.1.1.3.1" xref="S5.SS1.p1.1.m1.1.1.1.1.3.1.cmml">=</mo><mn id="S5.SS1.p1.1.m1.1.1.1.1.3.3" xref="S5.SS1.p1.1.m1.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S5.SS1.p1.1.m1.1.1.1.3" xref="S5.SS1.p1.1.m1.1.1.1.3.cmml">N</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.1.m1.1b"><apply id="S5.SS1.p1.1.m1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1"><eq id="S5.SS1.p1.1.m1.1.1.2.cmml" xref="S5.SS1.p1.1.m1.1.1.2"></eq><apply id="S5.SS1.p1.1.m1.1.1.3.cmml" xref="S5.SS1.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p1.1.m1.1.1.3.1.cmml" xref="S5.SS1.p1.1.m1.1.1.3">subscript</csymbol><ci id="S5.SS1.p1.1.m1.1.1.3.2.cmml" xref="S5.SS1.p1.1.m1.1.1.3.2">𝒟</ci><ci id="S5.SS1.p1.1.m1.1.1.3.3a.cmml" xref="S5.SS1.p1.1.m1.1.1.3.3"><mtext id="S5.SS1.p1.1.m1.1.1.3.3.cmml" mathsize="70%" xref="S5.SS1.p1.1.m1.1.1.3.3">adv</mtext></ci></apply><apply id="S5.SS1.p1.1.m1.1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.1.m1.1.1.1.2.cmml" xref="S5.SS1.p1.1.m1.1.1.1">superscript</csymbol><apply id="S5.SS1.p1.1.m1.1.1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.1.m1.1.1.1.1.2.cmml" xref="S5.SS1.p1.1.m1.1.1.1">subscript</csymbol><set id="S5.SS1.p1.1.m1.1.1.1.1.1.2.cmml" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1"><apply id="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.2.cmml" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2">𝐃</ci><ci id="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.2.3a.cmml" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.2.3"><mtext id="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.2.3.cmml" mathsize="70%" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.2.3">adv</mtext></ci></apply><ci id="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.3.cmml" xref="S5.SS1.p1.1.m1.1.1.1.1.1.1.1.3">𝑛</ci></apply></set><apply id="S5.SS1.p1.1.m1.1.1.1.1.3.cmml" xref="S5.SS1.p1.1.m1.1.1.1.1.3"><eq id="S5.SS1.p1.1.m1.1.1.1.1.3.1.cmml" xref="S5.SS1.p1.1.m1.1.1.1.1.3.1"></eq><ci id="S5.SS1.p1.1.m1.1.1.1.1.3.2.cmml" xref="S5.SS1.p1.1.m1.1.1.1.1.3.2">𝑛</ci><cn id="S5.SS1.p1.1.m1.1.1.1.1.3.3.cmml" type="integer" xref="S5.SS1.p1.1.m1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S5.SS1.p1.1.m1.1.1.1.3.cmml" xref="S5.SS1.p1.1.m1.1.1.1.3">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.1.m1.1c">\mathcal{D}_{\text{adv}}=\{\mathbf{D}_{\text{adv}}^{n}\}_{n=1}^{N}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.1.m1.1d">caligraphic_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT = { bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT } start_POSTSUBSCRIPT italic_n = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math alttext="N\ll|\mathcal{K}|" class="ltx_Math" display="inline" id="S5.SS1.p1.2.m2.1"><semantics id="S5.SS1.p1.2.m2.1a"><mrow id="S5.SS1.p1.2.m2.1.2" xref="S5.SS1.p1.2.m2.1.2.cmml"><mi id="S5.SS1.p1.2.m2.1.2.2" xref="S5.SS1.p1.2.m2.1.2.2.cmml">N</mi><mo id="S5.SS1.p1.2.m2.1.2.1" xref="S5.SS1.p1.2.m2.1.2.1.cmml">≪</mo><mrow id="S5.SS1.p1.2.m2.1.2.3.2" xref="S5.SS1.p1.2.m2.1.2.3.1.cmml"><mo id="S5.SS1.p1.2.m2.1.2.3.2.1" stretchy="false" xref="S5.SS1.p1.2.m2.1.2.3.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.SS1.p1.2.m2.1.1" xref="S5.SS1.p1.2.m2.1.1.cmml">𝒦</mi><mo id="S5.SS1.p1.2.m2.1.2.3.2.2" stretchy="false" xref="S5.SS1.p1.2.m2.1.2.3.1.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.2.m2.1b"><apply id="S5.SS1.p1.2.m2.1.2.cmml" xref="S5.SS1.p1.2.m2.1.2"><csymbol cd="latexml" id="S5.SS1.p1.2.m2.1.2.1.cmml" xref="S5.SS1.p1.2.m2.1.2.1">much-less-than</csymbol><ci id="S5.SS1.p1.2.m2.1.2.2.cmml" xref="S5.SS1.p1.2.m2.1.2.2">𝑁</ci><apply id="S5.SS1.p1.2.m2.1.2.3.1.cmml" xref="S5.SS1.p1.2.m2.1.2.3.2"><abs id="S5.SS1.p1.2.m2.1.2.3.1.1.cmml" xref="S5.SS1.p1.2.m2.1.2.3.2.1"></abs><ci id="S5.SS1.p1.2.m2.1.1.cmml" xref="S5.SS1.p1.2.m2.1.1">𝒦</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.2.m2.1c">N\ll|\mathcal{K}|</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.2.m2.1d">italic_N ≪ | caligraphic_K |</annotation></semantics></math>. Given the ineffectiveness of coupled training, we propose to decouple the sequence tokens of each adversarial document <math alttext="\mathbf{D}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS1.p1.3.m3.1"><semantics id="S5.SS1.p1.3.m3.1a"><msub id="S5.SS1.p1.3.m3.1.1" xref="S5.SS1.p1.3.m3.1.1.cmml"><mi id="S5.SS1.p1.3.m3.1.1.2" xref="S5.SS1.p1.3.m3.1.1.2.cmml">𝐃</mi><mtext id="S5.SS1.p1.3.m3.1.1.3" xref="S5.SS1.p1.3.m3.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.3.m3.1b"><apply id="S5.SS1.p1.3.m3.1.1.cmml" xref="S5.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.3.m3.1.1.1.cmml" xref="S5.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S5.SS1.p1.3.m3.1.1.2.cmml" xref="S5.SS1.p1.3.m3.1.1.2">𝐃</ci><ci id="S5.SS1.p1.3.m3.1.1.3a.cmml" xref="S5.SS1.p1.3.m3.1.1.3"><mtext id="S5.SS1.p1.3.m3.1.1.3.cmml" mathsize="70%" xref="S5.SS1.p1.3.m3.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.3.m3.1c">\mathbf{D}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.3.m3.1d">bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>
into three components:
<span class="ltx_text ltx_font_italic" id="S5.SS1.p1.9.1">Adversarial Retriever Sequence</span> (ARS): <math alttext="\mathbf{R}_{\text{adv}}=\{x_{i}\}_{i=1}^{s_{R}}" class="ltx_Math" display="inline" id="S5.SS1.p1.4.m4.1"><semantics id="S5.SS1.p1.4.m4.1a"><mrow id="S5.SS1.p1.4.m4.1.1" xref="S5.SS1.p1.4.m4.1.1.cmml"><msub id="S5.SS1.p1.4.m4.1.1.3" xref="S5.SS1.p1.4.m4.1.1.3.cmml"><mi id="S5.SS1.p1.4.m4.1.1.3.2" xref="S5.SS1.p1.4.m4.1.1.3.2.cmml">𝐑</mi><mtext id="S5.SS1.p1.4.m4.1.1.3.3" xref="S5.SS1.p1.4.m4.1.1.3.3a.cmml">adv</mtext></msub><mo id="S5.SS1.p1.4.m4.1.1.2" xref="S5.SS1.p1.4.m4.1.1.2.cmml">=</mo><msubsup id="S5.SS1.p1.4.m4.1.1.1" xref="S5.SS1.p1.4.m4.1.1.1.cmml"><mrow id="S5.SS1.p1.4.m4.1.1.1.1.1.1" xref="S5.SS1.p1.4.m4.1.1.1.1.1.2.cmml"><mo id="S5.SS1.p1.4.m4.1.1.1.1.1.1.2" stretchy="false" xref="S5.SS1.p1.4.m4.1.1.1.1.1.2.cmml">{</mo><msub id="S5.SS1.p1.4.m4.1.1.1.1.1.1.1" xref="S5.SS1.p1.4.m4.1.1.1.1.1.1.1.cmml"><mi id="S5.SS1.p1.4.m4.1.1.1.1.1.1.1.2" xref="S5.SS1.p1.4.m4.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S5.SS1.p1.4.m4.1.1.1.1.1.1.1.3" xref="S5.SS1.p1.4.m4.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S5.SS1.p1.4.m4.1.1.1.1.1.1.3" stretchy="false" xref="S5.SS1.p1.4.m4.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S5.SS1.p1.4.m4.1.1.1.1.3" xref="S5.SS1.p1.4.m4.1.1.1.1.3.cmml"><mi id="S5.SS1.p1.4.m4.1.1.1.1.3.2" xref="S5.SS1.p1.4.m4.1.1.1.1.3.2.cmml">i</mi><mo id="S5.SS1.p1.4.m4.1.1.1.1.3.1" xref="S5.SS1.p1.4.m4.1.1.1.1.3.1.cmml">=</mo><mn id="S5.SS1.p1.4.m4.1.1.1.1.3.3" xref="S5.SS1.p1.4.m4.1.1.1.1.3.3.cmml">1</mn></mrow><msub id="S5.SS1.p1.4.m4.1.1.1.3" xref="S5.SS1.p1.4.m4.1.1.1.3.cmml"><mi id="S5.SS1.p1.4.m4.1.1.1.3.2" xref="S5.SS1.p1.4.m4.1.1.1.3.2.cmml">s</mi><mi id="S5.SS1.p1.4.m4.1.1.1.3.3" xref="S5.SS1.p1.4.m4.1.1.1.3.3.cmml">R</mi></msub></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.4.m4.1b"><apply id="S5.SS1.p1.4.m4.1.1.cmml" xref="S5.SS1.p1.4.m4.1.1"><eq id="S5.SS1.p1.4.m4.1.1.2.cmml" xref="S5.SS1.p1.4.m4.1.1.2"></eq><apply id="S5.SS1.p1.4.m4.1.1.3.cmml" xref="S5.SS1.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p1.4.m4.1.1.3.1.cmml" xref="S5.SS1.p1.4.m4.1.1.3">subscript</csymbol><ci id="S5.SS1.p1.4.m4.1.1.3.2.cmml" xref="S5.SS1.p1.4.m4.1.1.3.2">𝐑</ci><ci id="S5.SS1.p1.4.m4.1.1.3.3a.cmml" xref="S5.SS1.p1.4.m4.1.1.3.3"><mtext id="S5.SS1.p1.4.m4.1.1.3.3.cmml" mathsize="70%" xref="S5.SS1.p1.4.m4.1.1.3.3">adv</mtext></ci></apply><apply id="S5.SS1.p1.4.m4.1.1.1.cmml" xref="S5.SS1.p1.4.m4.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.4.m4.1.1.1.2.cmml" xref="S5.SS1.p1.4.m4.1.1.1">superscript</csymbol><apply id="S5.SS1.p1.4.m4.1.1.1.1.cmml" xref="S5.SS1.p1.4.m4.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.4.m4.1.1.1.1.2.cmml" xref="S5.SS1.p1.4.m4.1.1.1">subscript</csymbol><set id="S5.SS1.p1.4.m4.1.1.1.1.1.2.cmml" xref="S5.SS1.p1.4.m4.1.1.1.1.1.1"><apply id="S5.SS1.p1.4.m4.1.1.1.1.1.1.1.cmml" xref="S5.SS1.p1.4.m4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.4.m4.1.1.1.1.1.1.1.1.cmml" xref="S5.SS1.p1.4.m4.1.1.1.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p1.4.m4.1.1.1.1.1.1.1.2.cmml" xref="S5.SS1.p1.4.m4.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S5.SS1.p1.4.m4.1.1.1.1.1.1.1.3.cmml" xref="S5.SS1.p1.4.m4.1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S5.SS1.p1.4.m4.1.1.1.1.3.cmml" xref="S5.SS1.p1.4.m4.1.1.1.1.3"><eq id="S5.SS1.p1.4.m4.1.1.1.1.3.1.cmml" xref="S5.SS1.p1.4.m4.1.1.1.1.3.1"></eq><ci id="S5.SS1.p1.4.m4.1.1.1.1.3.2.cmml" xref="S5.SS1.p1.4.m4.1.1.1.1.3.2">𝑖</ci><cn id="S5.SS1.p1.4.m4.1.1.1.1.3.3.cmml" type="integer" xref="S5.SS1.p1.4.m4.1.1.1.1.3.3">1</cn></apply></apply><apply id="S5.SS1.p1.4.m4.1.1.1.3.cmml" xref="S5.SS1.p1.4.m4.1.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p1.4.m4.1.1.1.3.1.cmml" xref="S5.SS1.p1.4.m4.1.1.1.3">subscript</csymbol><ci id="S5.SS1.p1.4.m4.1.1.1.3.2.cmml" xref="S5.SS1.p1.4.m4.1.1.1.3.2">𝑠</ci><ci id="S5.SS1.p1.4.m4.1.1.1.3.3.cmml" xref="S5.SS1.p1.4.m4.1.1.1.3.3">𝑅</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.4.m4.1c">\mathbf{R}_{\text{adv}}=\{x_{i}\}_{i=1}^{s_{R}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.4.m4.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT = { italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_R end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>, <span class="ltx_text ltx_font_italic" id="S5.SS1.p1.9.2">Adversarial Target Sequence</span> (ATS): <math alttext="\mathbf{T}_{\text{adv}}=\{x_{i}\}_{i=1}^{s_{T}}" class="ltx_Math" display="inline" id="S5.SS1.p1.5.m5.1"><semantics id="S5.SS1.p1.5.m5.1a"><mrow id="S5.SS1.p1.5.m5.1.1" xref="S5.SS1.p1.5.m5.1.1.cmml"><msub id="S5.SS1.p1.5.m5.1.1.3" xref="S5.SS1.p1.5.m5.1.1.3.cmml"><mi id="S5.SS1.p1.5.m5.1.1.3.2" xref="S5.SS1.p1.5.m5.1.1.3.2.cmml">𝐓</mi><mtext id="S5.SS1.p1.5.m5.1.1.3.3" xref="S5.SS1.p1.5.m5.1.1.3.3a.cmml">adv</mtext></msub><mo id="S5.SS1.p1.5.m5.1.1.2" xref="S5.SS1.p1.5.m5.1.1.2.cmml">=</mo><msubsup id="S5.SS1.p1.5.m5.1.1.1" xref="S5.SS1.p1.5.m5.1.1.1.cmml"><mrow id="S5.SS1.p1.5.m5.1.1.1.1.1.1" xref="S5.SS1.p1.5.m5.1.1.1.1.1.2.cmml"><mo id="S5.SS1.p1.5.m5.1.1.1.1.1.1.2" stretchy="false" xref="S5.SS1.p1.5.m5.1.1.1.1.1.2.cmml">{</mo><msub id="S5.SS1.p1.5.m5.1.1.1.1.1.1.1" xref="S5.SS1.p1.5.m5.1.1.1.1.1.1.1.cmml"><mi id="S5.SS1.p1.5.m5.1.1.1.1.1.1.1.2" xref="S5.SS1.p1.5.m5.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S5.SS1.p1.5.m5.1.1.1.1.1.1.1.3" xref="S5.SS1.p1.5.m5.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S5.SS1.p1.5.m5.1.1.1.1.1.1.3" stretchy="false" xref="S5.SS1.p1.5.m5.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S5.SS1.p1.5.m5.1.1.1.1.3" xref="S5.SS1.p1.5.m5.1.1.1.1.3.cmml"><mi id="S5.SS1.p1.5.m5.1.1.1.1.3.2" xref="S5.SS1.p1.5.m5.1.1.1.1.3.2.cmml">i</mi><mo id="S5.SS1.p1.5.m5.1.1.1.1.3.1" xref="S5.SS1.p1.5.m5.1.1.1.1.3.1.cmml">=</mo><mn id="S5.SS1.p1.5.m5.1.1.1.1.3.3" xref="S5.SS1.p1.5.m5.1.1.1.1.3.3.cmml">1</mn></mrow><msub id="S5.SS1.p1.5.m5.1.1.1.3" xref="S5.SS1.p1.5.m5.1.1.1.3.cmml"><mi id="S5.SS1.p1.5.m5.1.1.1.3.2" xref="S5.SS1.p1.5.m5.1.1.1.3.2.cmml">s</mi><mi id="S5.SS1.p1.5.m5.1.1.1.3.3" xref="S5.SS1.p1.5.m5.1.1.1.3.3.cmml">T</mi></msub></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.5.m5.1b"><apply id="S5.SS1.p1.5.m5.1.1.cmml" xref="S5.SS1.p1.5.m5.1.1"><eq id="S5.SS1.p1.5.m5.1.1.2.cmml" xref="S5.SS1.p1.5.m5.1.1.2"></eq><apply id="S5.SS1.p1.5.m5.1.1.3.cmml" xref="S5.SS1.p1.5.m5.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p1.5.m5.1.1.3.1.cmml" xref="S5.SS1.p1.5.m5.1.1.3">subscript</csymbol><ci id="S5.SS1.p1.5.m5.1.1.3.2.cmml" xref="S5.SS1.p1.5.m5.1.1.3.2">𝐓</ci><ci id="S5.SS1.p1.5.m5.1.1.3.3a.cmml" xref="S5.SS1.p1.5.m5.1.1.3.3"><mtext id="S5.SS1.p1.5.m5.1.1.3.3.cmml" mathsize="70%" xref="S5.SS1.p1.5.m5.1.1.3.3">adv</mtext></ci></apply><apply id="S5.SS1.p1.5.m5.1.1.1.cmml" xref="S5.SS1.p1.5.m5.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.5.m5.1.1.1.2.cmml" xref="S5.SS1.p1.5.m5.1.1.1">superscript</csymbol><apply id="S5.SS1.p1.5.m5.1.1.1.1.cmml" xref="S5.SS1.p1.5.m5.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.5.m5.1.1.1.1.2.cmml" xref="S5.SS1.p1.5.m5.1.1.1">subscript</csymbol><set id="S5.SS1.p1.5.m5.1.1.1.1.1.2.cmml" xref="S5.SS1.p1.5.m5.1.1.1.1.1.1"><apply id="S5.SS1.p1.5.m5.1.1.1.1.1.1.1.cmml" xref="S5.SS1.p1.5.m5.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.5.m5.1.1.1.1.1.1.1.1.cmml" xref="S5.SS1.p1.5.m5.1.1.1.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p1.5.m5.1.1.1.1.1.1.1.2.cmml" xref="S5.SS1.p1.5.m5.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S5.SS1.p1.5.m5.1.1.1.1.1.1.1.3.cmml" xref="S5.SS1.p1.5.m5.1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S5.SS1.p1.5.m5.1.1.1.1.3.cmml" xref="S5.SS1.p1.5.m5.1.1.1.1.3"><eq id="S5.SS1.p1.5.m5.1.1.1.1.3.1.cmml" xref="S5.SS1.p1.5.m5.1.1.1.1.3.1"></eq><ci id="S5.SS1.p1.5.m5.1.1.1.1.3.2.cmml" xref="S5.SS1.p1.5.m5.1.1.1.1.3.2">𝑖</ci><cn id="S5.SS1.p1.5.m5.1.1.1.1.3.3.cmml" type="integer" xref="S5.SS1.p1.5.m5.1.1.1.1.3.3">1</cn></apply></apply><apply id="S5.SS1.p1.5.m5.1.1.1.3.cmml" xref="S5.SS1.p1.5.m5.1.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p1.5.m5.1.1.1.3.1.cmml" xref="S5.SS1.p1.5.m5.1.1.1.3">subscript</csymbol><ci id="S5.SS1.p1.5.m5.1.1.1.3.2.cmml" xref="S5.SS1.p1.5.m5.1.1.1.3.2">𝑠</ci><ci id="S5.SS1.p1.5.m5.1.1.1.3.3.cmml" xref="S5.SS1.p1.5.m5.1.1.1.3.3">𝑇</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.5.m5.1c">\mathbf{T}_{\text{adv}}=\{x_{i}\}_{i=1}^{s_{T}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.5.m5.1d">bold_T start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT = { italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>, and <span class="ltx_text ltx_font_italic" id="S5.SS1.p1.9.3">Adversarial Generation Sequence</span> (AGS): <math alttext="\mathbf{G}_{\text{adv}}=\{x_{i}\}_{i=1}^{s_{G}}" class="ltx_Math" display="inline" id="S5.SS1.p1.6.m6.1"><semantics id="S5.SS1.p1.6.m6.1a"><mrow id="S5.SS1.p1.6.m6.1.1" xref="S5.SS1.p1.6.m6.1.1.cmml"><msub id="S5.SS1.p1.6.m6.1.1.3" xref="S5.SS1.p1.6.m6.1.1.3.cmml"><mi id="S5.SS1.p1.6.m6.1.1.3.2" xref="S5.SS1.p1.6.m6.1.1.3.2.cmml">𝐆</mi><mtext id="S5.SS1.p1.6.m6.1.1.3.3" xref="S5.SS1.p1.6.m6.1.1.3.3a.cmml">adv</mtext></msub><mo id="S5.SS1.p1.6.m6.1.1.2" xref="S5.SS1.p1.6.m6.1.1.2.cmml">=</mo><msubsup id="S5.SS1.p1.6.m6.1.1.1" xref="S5.SS1.p1.6.m6.1.1.1.cmml"><mrow id="S5.SS1.p1.6.m6.1.1.1.1.1.1" xref="S5.SS1.p1.6.m6.1.1.1.1.1.2.cmml"><mo id="S5.SS1.p1.6.m6.1.1.1.1.1.1.2" stretchy="false" xref="S5.SS1.p1.6.m6.1.1.1.1.1.2.cmml">{</mo><msub id="S5.SS1.p1.6.m6.1.1.1.1.1.1.1" xref="S5.SS1.p1.6.m6.1.1.1.1.1.1.1.cmml"><mi id="S5.SS1.p1.6.m6.1.1.1.1.1.1.1.2" xref="S5.SS1.p1.6.m6.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S5.SS1.p1.6.m6.1.1.1.1.1.1.1.3" xref="S5.SS1.p1.6.m6.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S5.SS1.p1.6.m6.1.1.1.1.1.1.3" stretchy="false" xref="S5.SS1.p1.6.m6.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S5.SS1.p1.6.m6.1.1.1.1.3" xref="S5.SS1.p1.6.m6.1.1.1.1.3.cmml"><mi id="S5.SS1.p1.6.m6.1.1.1.1.3.2" xref="S5.SS1.p1.6.m6.1.1.1.1.3.2.cmml">i</mi><mo id="S5.SS1.p1.6.m6.1.1.1.1.3.1" xref="S5.SS1.p1.6.m6.1.1.1.1.3.1.cmml">=</mo><mn id="S5.SS1.p1.6.m6.1.1.1.1.3.3" xref="S5.SS1.p1.6.m6.1.1.1.1.3.3.cmml">1</mn></mrow><msub id="S5.SS1.p1.6.m6.1.1.1.3" xref="S5.SS1.p1.6.m6.1.1.1.3.cmml"><mi id="S5.SS1.p1.6.m6.1.1.1.3.2" xref="S5.SS1.p1.6.m6.1.1.1.3.2.cmml">s</mi><mi id="S5.SS1.p1.6.m6.1.1.1.3.3" xref="S5.SS1.p1.6.m6.1.1.1.3.3.cmml">G</mi></msub></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.6.m6.1b"><apply id="S5.SS1.p1.6.m6.1.1.cmml" xref="S5.SS1.p1.6.m6.1.1"><eq id="S5.SS1.p1.6.m6.1.1.2.cmml" xref="S5.SS1.p1.6.m6.1.1.2"></eq><apply id="S5.SS1.p1.6.m6.1.1.3.cmml" xref="S5.SS1.p1.6.m6.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p1.6.m6.1.1.3.1.cmml" xref="S5.SS1.p1.6.m6.1.1.3">subscript</csymbol><ci id="S5.SS1.p1.6.m6.1.1.3.2.cmml" xref="S5.SS1.p1.6.m6.1.1.3.2">𝐆</ci><ci id="S5.SS1.p1.6.m6.1.1.3.3a.cmml" xref="S5.SS1.p1.6.m6.1.1.3.3"><mtext id="S5.SS1.p1.6.m6.1.1.3.3.cmml" mathsize="70%" xref="S5.SS1.p1.6.m6.1.1.3.3">adv</mtext></ci></apply><apply id="S5.SS1.p1.6.m6.1.1.1.cmml" xref="S5.SS1.p1.6.m6.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.6.m6.1.1.1.2.cmml" xref="S5.SS1.p1.6.m6.1.1.1">superscript</csymbol><apply id="S5.SS1.p1.6.m6.1.1.1.1.cmml" xref="S5.SS1.p1.6.m6.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.6.m6.1.1.1.1.2.cmml" xref="S5.SS1.p1.6.m6.1.1.1">subscript</csymbol><set id="S5.SS1.p1.6.m6.1.1.1.1.1.2.cmml" xref="S5.SS1.p1.6.m6.1.1.1.1.1.1"><apply id="S5.SS1.p1.6.m6.1.1.1.1.1.1.1.cmml" xref="S5.SS1.p1.6.m6.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.6.m6.1.1.1.1.1.1.1.1.cmml" xref="S5.SS1.p1.6.m6.1.1.1.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p1.6.m6.1.1.1.1.1.1.1.2.cmml" xref="S5.SS1.p1.6.m6.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S5.SS1.p1.6.m6.1.1.1.1.1.1.1.3.cmml" xref="S5.SS1.p1.6.m6.1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S5.SS1.p1.6.m6.1.1.1.1.3.cmml" xref="S5.SS1.p1.6.m6.1.1.1.1.3"><eq id="S5.SS1.p1.6.m6.1.1.1.1.3.1.cmml" xref="S5.SS1.p1.6.m6.1.1.1.1.3.1"></eq><ci id="S5.SS1.p1.6.m6.1.1.1.1.3.2.cmml" xref="S5.SS1.p1.6.m6.1.1.1.1.3.2">𝑖</ci><cn id="S5.SS1.p1.6.m6.1.1.1.1.3.3.cmml" type="integer" xref="S5.SS1.p1.6.m6.1.1.1.1.3.3">1</cn></apply></apply><apply id="S5.SS1.p1.6.m6.1.1.1.3.cmml" xref="S5.SS1.p1.6.m6.1.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p1.6.m6.1.1.1.3.1.cmml" xref="S5.SS1.p1.6.m6.1.1.1.3">subscript</csymbol><ci id="S5.SS1.p1.6.m6.1.1.1.3.2.cmml" xref="S5.SS1.p1.6.m6.1.1.1.3.2">𝑠</ci><ci id="S5.SS1.p1.6.m6.1.1.1.3.3.cmml" xref="S5.SS1.p1.6.m6.1.1.1.3.3">𝐺</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.6.m6.1c">\mathbf{G}_{\text{adv}}=\{x_{i}\}_{i=1}^{s_{G}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.6.m6.1d">bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT = { italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_G end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>.
The full adversarial document can thus be expressed as <math alttext="\mathbf{D}_{\text{adv}}=[\mathbf{R}_{\text{adv}}\oplus\mathbf{T}_{\text{adv}}%
\oplus\mathbf{G}_{\text{adv}}]=\{x_{i}\}_{i=1}^{s}" class="ltx_Math" display="inline" id="S5.SS1.p1.7.m7.2"><semantics id="S5.SS1.p1.7.m7.2a"><mrow id="S5.SS1.p1.7.m7.2.2" xref="S5.SS1.p1.7.m7.2.2.cmml"><msub id="S5.SS1.p1.7.m7.2.2.4" xref="S5.SS1.p1.7.m7.2.2.4.cmml"><mi id="S5.SS1.p1.7.m7.2.2.4.2" xref="S5.SS1.p1.7.m7.2.2.4.2.cmml">𝐃</mi><mtext id="S5.SS1.p1.7.m7.2.2.4.3" xref="S5.SS1.p1.7.m7.2.2.4.3a.cmml">adv</mtext></msub><mo id="S5.SS1.p1.7.m7.2.2.5" xref="S5.SS1.p1.7.m7.2.2.5.cmml">=</mo><mrow id="S5.SS1.p1.7.m7.1.1.1.1" xref="S5.SS1.p1.7.m7.1.1.1.2.cmml"><mo id="S5.SS1.p1.7.m7.1.1.1.1.2" stretchy="false" xref="S5.SS1.p1.7.m7.1.1.1.2.1.cmml">[</mo><mrow id="S5.SS1.p1.7.m7.1.1.1.1.1" xref="S5.SS1.p1.7.m7.1.1.1.1.1.cmml"><msub id="S5.SS1.p1.7.m7.1.1.1.1.1.2" xref="S5.SS1.p1.7.m7.1.1.1.1.1.2.cmml"><mi id="S5.SS1.p1.7.m7.1.1.1.1.1.2.2" xref="S5.SS1.p1.7.m7.1.1.1.1.1.2.2.cmml">𝐑</mi><mtext id="S5.SS1.p1.7.m7.1.1.1.1.1.2.3" xref="S5.SS1.p1.7.m7.1.1.1.1.1.2.3a.cmml">adv</mtext></msub><mo id="S5.SS1.p1.7.m7.1.1.1.1.1.1" xref="S5.SS1.p1.7.m7.1.1.1.1.1.1.cmml">⊕</mo><msub id="S5.SS1.p1.7.m7.1.1.1.1.1.3" xref="S5.SS1.p1.7.m7.1.1.1.1.1.3.cmml"><mi id="S5.SS1.p1.7.m7.1.1.1.1.1.3.2" xref="S5.SS1.p1.7.m7.1.1.1.1.1.3.2.cmml">𝐓</mi><mtext id="S5.SS1.p1.7.m7.1.1.1.1.1.3.3" xref="S5.SS1.p1.7.m7.1.1.1.1.1.3.3a.cmml">adv</mtext></msub><mo id="S5.SS1.p1.7.m7.1.1.1.1.1.1a" xref="S5.SS1.p1.7.m7.1.1.1.1.1.1.cmml">⊕</mo><msub id="S5.SS1.p1.7.m7.1.1.1.1.1.4" xref="S5.SS1.p1.7.m7.1.1.1.1.1.4.cmml"><mi id="S5.SS1.p1.7.m7.1.1.1.1.1.4.2" xref="S5.SS1.p1.7.m7.1.1.1.1.1.4.2.cmml">𝐆</mi><mtext id="S5.SS1.p1.7.m7.1.1.1.1.1.4.3" xref="S5.SS1.p1.7.m7.1.1.1.1.1.4.3a.cmml">adv</mtext></msub></mrow><mo id="S5.SS1.p1.7.m7.1.1.1.1.3" stretchy="false" xref="S5.SS1.p1.7.m7.1.1.1.2.1.cmml">]</mo></mrow><mo id="S5.SS1.p1.7.m7.2.2.6" xref="S5.SS1.p1.7.m7.2.2.6.cmml">=</mo><msubsup id="S5.SS1.p1.7.m7.2.2.2" xref="S5.SS1.p1.7.m7.2.2.2.cmml"><mrow id="S5.SS1.p1.7.m7.2.2.2.1.1.1" xref="S5.SS1.p1.7.m7.2.2.2.1.1.2.cmml"><mo id="S5.SS1.p1.7.m7.2.2.2.1.1.1.2" stretchy="false" xref="S5.SS1.p1.7.m7.2.2.2.1.1.2.cmml">{</mo><msub id="S5.SS1.p1.7.m7.2.2.2.1.1.1.1" xref="S5.SS1.p1.7.m7.2.2.2.1.1.1.1.cmml"><mi id="S5.SS1.p1.7.m7.2.2.2.1.1.1.1.2" xref="S5.SS1.p1.7.m7.2.2.2.1.1.1.1.2.cmml">x</mi><mi id="S5.SS1.p1.7.m7.2.2.2.1.1.1.1.3" xref="S5.SS1.p1.7.m7.2.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S5.SS1.p1.7.m7.2.2.2.1.1.1.3" stretchy="false" xref="S5.SS1.p1.7.m7.2.2.2.1.1.2.cmml">}</mo></mrow><mrow id="S5.SS1.p1.7.m7.2.2.2.1.3" xref="S5.SS1.p1.7.m7.2.2.2.1.3.cmml"><mi id="S5.SS1.p1.7.m7.2.2.2.1.3.2" xref="S5.SS1.p1.7.m7.2.2.2.1.3.2.cmml">i</mi><mo id="S5.SS1.p1.7.m7.2.2.2.1.3.1" xref="S5.SS1.p1.7.m7.2.2.2.1.3.1.cmml">=</mo><mn id="S5.SS1.p1.7.m7.2.2.2.1.3.3" xref="S5.SS1.p1.7.m7.2.2.2.1.3.3.cmml">1</mn></mrow><mi id="S5.SS1.p1.7.m7.2.2.2.3" xref="S5.SS1.p1.7.m7.2.2.2.3.cmml">s</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.7.m7.2b"><apply id="S5.SS1.p1.7.m7.2.2.cmml" xref="S5.SS1.p1.7.m7.2.2"><and id="S5.SS1.p1.7.m7.2.2a.cmml" xref="S5.SS1.p1.7.m7.2.2"></and><apply id="S5.SS1.p1.7.m7.2.2b.cmml" xref="S5.SS1.p1.7.m7.2.2"><eq id="S5.SS1.p1.7.m7.2.2.5.cmml" xref="S5.SS1.p1.7.m7.2.2.5"></eq><apply id="S5.SS1.p1.7.m7.2.2.4.cmml" xref="S5.SS1.p1.7.m7.2.2.4"><csymbol cd="ambiguous" id="S5.SS1.p1.7.m7.2.2.4.1.cmml" xref="S5.SS1.p1.7.m7.2.2.4">subscript</csymbol><ci id="S5.SS1.p1.7.m7.2.2.4.2.cmml" xref="S5.SS1.p1.7.m7.2.2.4.2">𝐃</ci><ci id="S5.SS1.p1.7.m7.2.2.4.3a.cmml" xref="S5.SS1.p1.7.m7.2.2.4.3"><mtext id="S5.SS1.p1.7.m7.2.2.4.3.cmml" mathsize="70%" xref="S5.SS1.p1.7.m7.2.2.4.3">adv</mtext></ci></apply><apply id="S5.SS1.p1.7.m7.1.1.1.2.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1"><csymbol cd="latexml" id="S5.SS1.p1.7.m7.1.1.1.2.1.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.2">delimited-[]</csymbol><apply id="S5.SS1.p1.7.m7.1.1.1.1.1.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1"><csymbol cd="latexml" id="S5.SS1.p1.7.m7.1.1.1.1.1.1.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.1">direct-sum</csymbol><apply id="S5.SS1.p1.7.m7.1.1.1.1.1.2.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.SS1.p1.7.m7.1.1.1.1.1.2.1.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.2">subscript</csymbol><ci id="S5.SS1.p1.7.m7.1.1.1.1.1.2.2.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.2.2">𝐑</ci><ci id="S5.SS1.p1.7.m7.1.1.1.1.1.2.3a.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.2.3"><mtext id="S5.SS1.p1.7.m7.1.1.1.1.1.2.3.cmml" mathsize="70%" xref="S5.SS1.p1.7.m7.1.1.1.1.1.2.3">adv</mtext></ci></apply><apply id="S5.SS1.p1.7.m7.1.1.1.1.1.3.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p1.7.m7.1.1.1.1.1.3.1.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.3">subscript</csymbol><ci id="S5.SS1.p1.7.m7.1.1.1.1.1.3.2.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.3.2">𝐓</ci><ci id="S5.SS1.p1.7.m7.1.1.1.1.1.3.3a.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.3.3"><mtext id="S5.SS1.p1.7.m7.1.1.1.1.1.3.3.cmml" mathsize="70%" xref="S5.SS1.p1.7.m7.1.1.1.1.1.3.3">adv</mtext></ci></apply><apply id="S5.SS1.p1.7.m7.1.1.1.1.1.4.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S5.SS1.p1.7.m7.1.1.1.1.1.4.1.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.4">subscript</csymbol><ci id="S5.SS1.p1.7.m7.1.1.1.1.1.4.2.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.4.2">𝐆</ci><ci id="S5.SS1.p1.7.m7.1.1.1.1.1.4.3a.cmml" xref="S5.SS1.p1.7.m7.1.1.1.1.1.4.3"><mtext id="S5.SS1.p1.7.m7.1.1.1.1.1.4.3.cmml" mathsize="70%" xref="S5.SS1.p1.7.m7.1.1.1.1.1.4.3">adv</mtext></ci></apply></apply></apply></apply><apply id="S5.SS1.p1.7.m7.2.2c.cmml" xref="S5.SS1.p1.7.m7.2.2"><eq id="S5.SS1.p1.7.m7.2.2.6.cmml" xref="S5.SS1.p1.7.m7.2.2.6"></eq><share href="https://arxiv.org/html/2406.19417v1#S5.SS1.p1.7.m7.1.1.1.cmml" id="S5.SS1.p1.7.m7.2.2d.cmml" xref="S5.SS1.p1.7.m7.2.2"></share><apply id="S5.SS1.p1.7.m7.2.2.2.cmml" xref="S5.SS1.p1.7.m7.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p1.7.m7.2.2.2.2.cmml" xref="S5.SS1.p1.7.m7.2.2.2">superscript</csymbol><apply id="S5.SS1.p1.7.m7.2.2.2.1.cmml" xref="S5.SS1.p1.7.m7.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p1.7.m7.2.2.2.1.2.cmml" xref="S5.SS1.p1.7.m7.2.2.2">subscript</csymbol><set id="S5.SS1.p1.7.m7.2.2.2.1.1.2.cmml" xref="S5.SS1.p1.7.m7.2.2.2.1.1.1"><apply id="S5.SS1.p1.7.m7.2.2.2.1.1.1.1.cmml" xref="S5.SS1.p1.7.m7.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.7.m7.2.2.2.1.1.1.1.1.cmml" xref="S5.SS1.p1.7.m7.2.2.2.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p1.7.m7.2.2.2.1.1.1.1.2.cmml" xref="S5.SS1.p1.7.m7.2.2.2.1.1.1.1.2">𝑥</ci><ci id="S5.SS1.p1.7.m7.2.2.2.1.1.1.1.3.cmml" xref="S5.SS1.p1.7.m7.2.2.2.1.1.1.1.3">𝑖</ci></apply></set><apply id="S5.SS1.p1.7.m7.2.2.2.1.3.cmml" xref="S5.SS1.p1.7.m7.2.2.2.1.3"><eq id="S5.SS1.p1.7.m7.2.2.2.1.3.1.cmml" xref="S5.SS1.p1.7.m7.2.2.2.1.3.1"></eq><ci id="S5.SS1.p1.7.m7.2.2.2.1.3.2.cmml" xref="S5.SS1.p1.7.m7.2.2.2.1.3.2">𝑖</ci><cn id="S5.SS1.p1.7.m7.2.2.2.1.3.3.cmml" type="integer" xref="S5.SS1.p1.7.m7.2.2.2.1.3.3">1</cn></apply></apply><ci id="S5.SS1.p1.7.m7.2.2.2.3.cmml" xref="S5.SS1.p1.7.m7.2.2.2.3">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.7.m7.2c">\mathbf{D}_{\text{adv}}=[\mathbf{R}_{\text{adv}}\oplus\mathbf{T}_{\text{adv}}%
\oplus\mathbf{G}_{\text{adv}}]=\{x_{i}\}_{i=1}^{s}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.7.m7.2d">bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT = [ bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ⊕ bold_T start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ⊕ bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ] = { italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_s end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math alttext="\oplus" class="ltx_Math" display="inline" id="S5.SS1.p1.8.m8.1"><semantics id="S5.SS1.p1.8.m8.1a"><mo id="S5.SS1.p1.8.m8.1.1" xref="S5.SS1.p1.8.m8.1.1.cmml">⊕</mo><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.8.m8.1b"><csymbol cd="latexml" id="S5.SS1.p1.8.m8.1.1.cmml" xref="S5.SS1.p1.8.m8.1.1">direct-sum</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.8.m8.1c">\oplus</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.8.m8.1d">⊕</annotation></semantics></math> indicates concatenation and <math alttext="s=s_{R}+s_{T}+s_{G}" class="ltx_Math" display="inline" id="S5.SS1.p1.9.m9.1"><semantics id="S5.SS1.p1.9.m9.1a"><mrow id="S5.SS1.p1.9.m9.1.1" xref="S5.SS1.p1.9.m9.1.1.cmml"><mi id="S5.SS1.p1.9.m9.1.1.2" xref="S5.SS1.p1.9.m9.1.1.2.cmml">s</mi><mo id="S5.SS1.p1.9.m9.1.1.1" xref="S5.SS1.p1.9.m9.1.1.1.cmml">=</mo><mrow id="S5.SS1.p1.9.m9.1.1.3" xref="S5.SS1.p1.9.m9.1.1.3.cmml"><msub id="S5.SS1.p1.9.m9.1.1.3.2" xref="S5.SS1.p1.9.m9.1.1.3.2.cmml"><mi id="S5.SS1.p1.9.m9.1.1.3.2.2" xref="S5.SS1.p1.9.m9.1.1.3.2.2.cmml">s</mi><mi id="S5.SS1.p1.9.m9.1.1.3.2.3" xref="S5.SS1.p1.9.m9.1.1.3.2.3.cmml">R</mi></msub><mo id="S5.SS1.p1.9.m9.1.1.3.1" xref="S5.SS1.p1.9.m9.1.1.3.1.cmml">+</mo><msub id="S5.SS1.p1.9.m9.1.1.3.3" xref="S5.SS1.p1.9.m9.1.1.3.3.cmml"><mi id="S5.SS1.p1.9.m9.1.1.3.3.2" xref="S5.SS1.p1.9.m9.1.1.3.3.2.cmml">s</mi><mi id="S5.SS1.p1.9.m9.1.1.3.3.3" xref="S5.SS1.p1.9.m9.1.1.3.3.3.cmml">T</mi></msub><mo id="S5.SS1.p1.9.m9.1.1.3.1a" xref="S5.SS1.p1.9.m9.1.1.3.1.cmml">+</mo><msub id="S5.SS1.p1.9.m9.1.1.3.4" xref="S5.SS1.p1.9.m9.1.1.3.4.cmml"><mi id="S5.SS1.p1.9.m9.1.1.3.4.2" xref="S5.SS1.p1.9.m9.1.1.3.4.2.cmml">s</mi><mi id="S5.SS1.p1.9.m9.1.1.3.4.3" xref="S5.SS1.p1.9.m9.1.1.3.4.3.cmml">G</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.9.m9.1b"><apply id="S5.SS1.p1.9.m9.1.1.cmml" xref="S5.SS1.p1.9.m9.1.1"><eq id="S5.SS1.p1.9.m9.1.1.1.cmml" xref="S5.SS1.p1.9.m9.1.1.1"></eq><ci id="S5.SS1.p1.9.m9.1.1.2.cmml" xref="S5.SS1.p1.9.m9.1.1.2">𝑠</ci><apply id="S5.SS1.p1.9.m9.1.1.3.cmml" xref="S5.SS1.p1.9.m9.1.1.3"><plus id="S5.SS1.p1.9.m9.1.1.3.1.cmml" xref="S5.SS1.p1.9.m9.1.1.3.1"></plus><apply id="S5.SS1.p1.9.m9.1.1.3.2.cmml" xref="S5.SS1.p1.9.m9.1.1.3.2"><csymbol cd="ambiguous" id="S5.SS1.p1.9.m9.1.1.3.2.1.cmml" xref="S5.SS1.p1.9.m9.1.1.3.2">subscript</csymbol><ci id="S5.SS1.p1.9.m9.1.1.3.2.2.cmml" xref="S5.SS1.p1.9.m9.1.1.3.2.2">𝑠</ci><ci id="S5.SS1.p1.9.m9.1.1.3.2.3.cmml" xref="S5.SS1.p1.9.m9.1.1.3.2.3">𝑅</ci></apply><apply id="S5.SS1.p1.9.m9.1.1.3.3.cmml" xref="S5.SS1.p1.9.m9.1.1.3.3"><csymbol cd="ambiguous" id="S5.SS1.p1.9.m9.1.1.3.3.1.cmml" xref="S5.SS1.p1.9.m9.1.1.3.3">subscript</csymbol><ci id="S5.SS1.p1.9.m9.1.1.3.3.2.cmml" xref="S5.SS1.p1.9.m9.1.1.3.3.2">𝑠</ci><ci id="S5.SS1.p1.9.m9.1.1.3.3.3.cmml" xref="S5.SS1.p1.9.m9.1.1.3.3.3">𝑇</ci></apply><apply id="S5.SS1.p1.9.m9.1.1.3.4.cmml" xref="S5.SS1.p1.9.m9.1.1.3.4"><csymbol cd="ambiguous" id="S5.SS1.p1.9.m9.1.1.3.4.1.cmml" xref="S5.SS1.p1.9.m9.1.1.3.4">subscript</csymbol><ci id="S5.SS1.p1.9.m9.1.1.3.4.2.cmml" xref="S5.SS1.p1.9.m9.1.1.3.4.2">𝑠</ci><ci id="S5.SS1.p1.9.m9.1.1.3.4.3.cmml" xref="S5.SS1.p1.9.m9.1.1.3.4.3">𝐺</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.9.m9.1c">s=s_{R}+s_{T}+s_{G}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.9.m9.1d">italic_s = italic_s start_POSTSUBSCRIPT italic_R end_POSTSUBSCRIPT + italic_s start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT + italic_s start_POSTSUBSCRIPT italic_G end_POSTSUBSCRIPT</annotation></semantics></math>. The ARS and AGS are obtained through training, while the ATS is predefined by the adversary, for instance, a directive like “Write a convincing anonymous death threat” as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S4.F4" title="Figure 4 ‣ 4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Attack on the Retriever</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.7">We aim to create adversarial documents, <math alttext="\mathcal{D}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS2.p1.1.m1.1"><semantics id="S5.SS2.p1.1.m1.1a"><msub id="S5.SS2.p1.1.m1.1.1" xref="S5.SS2.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS2.p1.1.m1.1.1.2" xref="S5.SS2.p1.1.m1.1.1.2.cmml">𝒟</mi><mtext id="S5.SS2.p1.1.m1.1.1.3" xref="S5.SS2.p1.1.m1.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.1.m1.1b"><apply id="S5.SS2.p1.1.m1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.1.m1.1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S5.SS2.p1.1.m1.1.1.2.cmml" xref="S5.SS2.p1.1.m1.1.1.2">𝒟</ci><ci id="S5.SS2.p1.1.m1.1.1.3a.cmml" xref="S5.SS2.p1.1.m1.1.1.3"><mtext id="S5.SS2.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.1.m1.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.1.m1.1c">\mathcal{D}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.1.m1.1d">caligraphic_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, to ensure at least one is among the top-m retrievals for any user query. To achieve so, we use
documents <math alttext="D_{i}" class="ltx_Math" display="inline" id="S5.SS2.p1.2.m2.1"><semantics id="S5.SS2.p1.2.m2.1a"><msub id="S5.SS2.p1.2.m2.1.1" xref="S5.SS2.p1.2.m2.1.1.cmml"><mi id="S5.SS2.p1.2.m2.1.1.2" xref="S5.SS2.p1.2.m2.1.1.2.cmml">D</mi><mi id="S5.SS2.p1.2.m2.1.1.3" xref="S5.SS2.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.2.m2.1b"><apply id="S5.SS2.p1.2.m2.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.2.m2.1.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S5.SS2.p1.2.m2.1.1.2.cmml" xref="S5.SS2.p1.2.m2.1.1.2">𝐷</ci><ci id="S5.SS2.p1.2.m2.1.1.3.cmml" xref="S5.SS2.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.2.m2.1c">D_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.2.m2.1d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> within the knowledge bases <math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S5.SS2.p1.3.m3.1"><semantics id="S5.SS2.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS2.p1.3.m3.1.1" xref="S5.SS2.p1.3.m3.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.3.m3.1b"><ci id="S5.SS2.p1.3.m3.1.1.cmml" xref="S5.SS2.p1.3.m3.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.3.m3.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.3.m3.1d">caligraphic_K</annotation></semantics></math> as pseudo queries for training. We assume access to a training subset of <span class="ltx_text ltx_font_italic" id="S5.SS2.p1.7.1">source</span> knowledge base <math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S5.SS2.p1.4.m4.1"><semantics id="S5.SS2.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS2.p1.4.m4.1.1" xref="S5.SS2.p1.4.m4.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.4.m4.1b"><ci id="S5.SS2.p1.4.m4.1.1.cmml" xref="S5.SS2.p1.4.m4.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.4.m4.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.4.m4.1d">caligraphic_K</annotation></semantics></math> to craft <math alttext="\mathcal{D}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS2.p1.5.m5.1"><semantics id="S5.SS2.p1.5.m5.1a"><msub id="S5.SS2.p1.5.m5.1.1" xref="S5.SS2.p1.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS2.p1.5.m5.1.1.2" xref="S5.SS2.p1.5.m5.1.1.2.cmml">𝒟</mi><mtext id="S5.SS2.p1.5.m5.1.1.3" xref="S5.SS2.p1.5.m5.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.5.m5.1b"><apply id="S5.SS2.p1.5.m5.1.1.cmml" xref="S5.SS2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.5.m5.1.1.1.cmml" xref="S5.SS2.p1.5.m5.1.1">subscript</csymbol><ci id="S5.SS2.p1.5.m5.1.1.2.cmml" xref="S5.SS2.p1.5.m5.1.1.2">𝒟</ci><ci id="S5.SS2.p1.5.m5.1.1.3a.cmml" xref="S5.SS2.p1.5.m5.1.1.3"><mtext id="S5.SS2.p1.5.m5.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.5.m5.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.5.m5.1c">\mathcal{D}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.5.m5.1d">caligraphic_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, which should generalize to <span class="ltx_text ltx_font_bold" id="S5.SS2.p1.7.2">unseen</span> <span class="ltx_text ltx_font_italic" id="S5.SS2.p1.7.3">target</span> knowledge base and user queries.
Formally, for an adversarial content <math alttext="\mathbf{D}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS2.p1.6.m6.1"><semantics id="S5.SS2.p1.6.m6.1a"><msub id="S5.SS2.p1.6.m6.1.1" xref="S5.SS2.p1.6.m6.1.1.cmml"><mi id="S5.SS2.p1.6.m6.1.1.2" xref="S5.SS2.p1.6.m6.1.1.2.cmml">𝐃</mi><mtext id="S5.SS2.p1.6.m6.1.1.3" xref="S5.SS2.p1.6.m6.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.6.m6.1b"><apply id="S5.SS2.p1.6.m6.1.1.cmml" xref="S5.SS2.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.6.m6.1.1.1.cmml" xref="S5.SS2.p1.6.m6.1.1">subscript</csymbol><ci id="S5.SS2.p1.6.m6.1.1.2.cmml" xref="S5.SS2.p1.6.m6.1.1.2">𝐃</ci><ci id="S5.SS2.p1.6.m6.1.1.3a.cmml" xref="S5.SS2.p1.6.m6.1.1.3"><mtext id="S5.SS2.p1.6.m6.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.6.m6.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.6.m6.1c">\mathbf{D}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.6.m6.1d">bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, we maximize the similarity between its ARS, <math alttext="\mathbf{R}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS2.p1.7.m7.1"><semantics id="S5.SS2.p1.7.m7.1a"><msub id="S5.SS2.p1.7.m7.1.1" xref="S5.SS2.p1.7.m7.1.1.cmml"><mi id="S5.SS2.p1.7.m7.1.1.2" xref="S5.SS2.p1.7.m7.1.1.2.cmml">𝐑</mi><mtext id="S5.SS2.p1.7.m7.1.1.3" xref="S5.SS2.p1.7.m7.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.7.m7.1b"><apply id="S5.SS2.p1.7.m7.1.1.cmml" xref="S5.SS2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.7.m7.1.1.1.cmml" xref="S5.SS2.p1.7.m7.1.1">subscript</csymbol><ci id="S5.SS2.p1.7.m7.1.1.2.cmml" xref="S5.SS2.p1.7.m7.1.1.2">𝐑</ci><ci id="S5.SS2.p1.7.m7.1.1.3a.cmml" xref="S5.SS2.p1.7.m7.1.1.3"><mtext id="S5.SS2.p1.7.m7.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.7.m7.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.7.m7.1c">\mathbf{R}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.7.m7.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>,
and the knowledge base:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S5.E2">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S5.E2X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathbf{R}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.E2X.2.1.1.m1.1"><semantics id="S5.E2X.2.1.1.m1.1a"><msub id="S5.E2X.2.1.1.m1.1.1" xref="S5.E2X.2.1.1.m1.1.1.cmml"><mi id="S5.E2X.2.1.1.m1.1.1.2" xref="S5.E2X.2.1.1.m1.1.1.2.cmml">𝐑</mi><mtext id="S5.E2X.2.1.1.m1.1.1.3" xref="S5.E2X.2.1.1.m1.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.E2X.2.1.1.m1.1b"><apply id="S5.E2X.2.1.1.m1.1.1.cmml" xref="S5.E2X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.E2X.2.1.1.m1.1.1.1.cmml" xref="S5.E2X.2.1.1.m1.1.1">subscript</csymbol><ci id="S5.E2X.2.1.1.m1.1.1.2.cmml" xref="S5.E2X.2.1.1.m1.1.1.2">𝐑</ci><ci id="S5.E2X.2.1.1.m1.1.1.3a.cmml" xref="S5.E2X.2.1.1.m1.1.1.3"><mtext id="S5.E2X.2.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.E2X.2.1.1.m1.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E2X.2.1.1.m1.1c">\displaystyle\mathbf{R}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.E2X.2.1.1.m1.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\arg\max_{\mathbf{R}_{\text{adv}}^{\prime}}\frac{1}{|\mathcal{K}%
|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}})" class="ltx_Math" display="inline" id="S5.E2X.3.2.2.m1.3"><semantics id="S5.E2X.3.2.2.m1.3a"><mrow id="S5.E2X.3.2.2.m1.3.3" xref="S5.E2X.3.2.2.m1.3.3.cmml"><mi id="S5.E2X.3.2.2.m1.3.3.4" xref="S5.E2X.3.2.2.m1.3.3.4.cmml"></mi><mo id="S5.E2X.3.2.2.m1.3.3.3" xref="S5.E2X.3.2.2.m1.3.3.3.cmml">=</mo><mrow id="S5.E2X.3.2.2.m1.3.3.2" xref="S5.E2X.3.2.2.m1.3.3.2.cmml"><mrow id="S5.E2X.3.2.2.m1.3.3.2.4" xref="S5.E2X.3.2.2.m1.3.3.2.4.cmml"><mi id="S5.E2X.3.2.2.m1.3.3.2.4.1" xref="S5.E2X.3.2.2.m1.3.3.2.4.1.cmml">arg</mi><mo id="S5.E2X.3.2.2.m1.3.3.2.4a" lspace="0.167em" xref="S5.E2X.3.2.2.m1.3.3.2.4.cmml">⁡</mo><mrow id="S5.E2X.3.2.2.m1.3.3.2.4.2" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.cmml"><munder id="S5.E2X.3.2.2.m1.3.3.2.4.2.1" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.cmml"><mi id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.2" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.2.cmml">max</mi><msubsup id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.cmml"><mi id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.2.2" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.2.2.cmml">𝐑</mi><mtext id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.2.3" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.2.3a.cmml">adv</mtext><mo id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.3" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.3.cmml">′</mo></msubsup></munder><mo id="S5.E2X.3.2.2.m1.3.3.2.4.2a" lspace="0.167em" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.cmml">⁡</mo><mstyle displaystyle="true" id="S5.E2X.3.2.2.m1.1.1" xref="S5.E2X.3.2.2.m1.1.1.cmml"><mfrac id="S5.E2X.3.2.2.m1.1.1a" xref="S5.E2X.3.2.2.m1.1.1.cmml"><mn id="S5.E2X.3.2.2.m1.1.1.3" xref="S5.E2X.3.2.2.m1.1.1.3.cmml">1</mn><mrow id="S5.E2X.3.2.2.m1.1.1.1.3" xref="S5.E2X.3.2.2.m1.1.1.1.2.cmml"><mo id="S5.E2X.3.2.2.m1.1.1.1.3.1" stretchy="false" xref="S5.E2X.3.2.2.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E2X.3.2.2.m1.1.1.1.1" xref="S5.E2X.3.2.2.m1.1.1.1.1.cmml">𝒦</mi><mo id="S5.E2X.3.2.2.m1.1.1.1.3.2" stretchy="false" xref="S5.E2X.3.2.2.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle></mrow></mrow><mo id="S5.E2X.3.2.2.m1.3.3.2.3" xref="S5.E2X.3.2.2.m1.3.3.2.3.cmml">⁢</mo><mrow id="S5.E2X.3.2.2.m1.3.3.2.2" xref="S5.E2X.3.2.2.m1.3.3.2.2.cmml"><mstyle displaystyle="true" id="S5.E2X.3.2.2.m1.3.3.2.2.3" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.cmml"><munder id="S5.E2X.3.2.2.m1.3.3.2.2.3a" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.cmml"><mo id="S5.E2X.3.2.2.m1.3.3.2.2.3.2" movablelimits="false" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.2.cmml">∑</mo><mrow id="S5.E2X.3.2.2.m1.3.3.2.2.3.3" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3.cmml"><msub id="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2.cmml"><mi id="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2.2" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2.2.cmml">D</mi><mi id="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2.3" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2.3.cmml">i</mi></msub><mo id="S5.E2X.3.2.2.m1.3.3.2.2.3.3.1" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E2X.3.2.2.m1.3.3.2.2.3.3.3" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3.3.cmml">𝒦</mi></mrow></munder></mstyle><mrow id="S5.E2X.3.2.2.m1.3.3.2.2.2" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.cmml"><msub id="S5.E2X.3.2.2.m1.3.3.2.2.2.4" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.4.cmml"><mi id="S5.E2X.3.2.2.m1.3.3.2.2.2.4.2" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.4.2.cmml">h</mi><mi id="S5.E2X.3.2.2.m1.3.3.2.2.2.4.3" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.4.3.cmml">Q</mi></msub><mo id="S5.E2X.3.2.2.m1.3.3.2.2.2.3" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.3.cmml">⁢</mo><msup id="S5.E2X.3.2.2.m1.2.2.1.1.1.1" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.cmml"><mrow id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><msub id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2.cmml">D</mi><mi id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.3" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.3.cmml">⊤</mo></msup><mo id="S5.E2X.3.2.2.m1.3.3.2.2.2.3a" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.3.cmml">⁢</mo><msub id="S5.E2X.3.2.2.m1.3.3.2.2.2.5" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.5.cmml"><mi id="S5.E2X.3.2.2.m1.3.3.2.2.2.5.2" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.5.2.cmml">h</mi><mi id="S5.E2X.3.2.2.m1.3.3.2.2.2.5.3" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.5.3.cmml">D</mi></msub><mo id="S5.E2X.3.2.2.m1.3.3.2.2.2.3b" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.3.cmml">⁢</mo><mrow id="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.cmml"><mo id="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.2" stretchy="false" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.cmml">(</mo><msub id="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.cmml"><mi id="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.2" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.2.cmml">𝐃</mi><mtext id="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.3" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.3a.cmml">adv</mtext></msub><mo id="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.3" stretchy="false" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.E2X.3.2.2.m1.3b"><apply id="S5.E2X.3.2.2.m1.3.3.cmml" xref="S5.E2X.3.2.2.m1.3.3"><eq id="S5.E2X.3.2.2.m1.3.3.3.cmml" xref="S5.E2X.3.2.2.m1.3.3.3"></eq><csymbol cd="latexml" id="S5.E2X.3.2.2.m1.3.3.4.cmml" xref="S5.E2X.3.2.2.m1.3.3.4">absent</csymbol><apply id="S5.E2X.3.2.2.m1.3.3.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2"><times id="S5.E2X.3.2.2.m1.3.3.2.3.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.3"></times><apply id="S5.E2X.3.2.2.m1.3.3.2.4.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4"><arg id="S5.E2X.3.2.2.m1.3.3.2.4.1.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4.1"></arg><apply id="S5.E2X.3.2.2.m1.3.3.2.4.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4.2"><apply id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1"><csymbol cd="ambiguous" id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.1.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1">subscript</csymbol><max id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.2"></max><apply id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3"><csymbol cd="ambiguous" id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.1.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3">superscript</csymbol><apply id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3"><csymbol cd="ambiguous" id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.2.1.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3">subscript</csymbol><ci id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.2.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.2.2">𝐑</ci><ci id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.2.3a.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.2.3"><mtext id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.2.3.cmml" mathsize="50%" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.2.3">adv</mtext></ci></apply><ci id="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.3.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.4.2.1.3.3">′</ci></apply></apply><apply id="S5.E2X.3.2.2.m1.1.1.cmml" xref="S5.E2X.3.2.2.m1.1.1"><divide id="S5.E2X.3.2.2.m1.1.1.2.cmml" xref="S5.E2X.3.2.2.m1.1.1"></divide><cn id="S5.E2X.3.2.2.m1.1.1.3.cmml" type="integer" xref="S5.E2X.3.2.2.m1.1.1.3">1</cn><apply id="S5.E2X.3.2.2.m1.1.1.1.2.cmml" xref="S5.E2X.3.2.2.m1.1.1.1.3"><abs id="S5.E2X.3.2.2.m1.1.1.1.2.1.cmml" xref="S5.E2X.3.2.2.m1.1.1.1.3.1"></abs><ci id="S5.E2X.3.2.2.m1.1.1.1.1.cmml" xref="S5.E2X.3.2.2.m1.1.1.1.1">𝒦</ci></apply></apply></apply></apply><apply id="S5.E2X.3.2.2.m1.3.3.2.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2"><apply id="S5.E2X.3.2.2.m1.3.3.2.2.3.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.3"><csymbol cd="ambiguous" id="S5.E2X.3.2.2.m1.3.3.2.2.3.1.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.3">subscript</csymbol><sum id="S5.E2X.3.2.2.m1.3.3.2.2.3.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.2"></sum><apply id="S5.E2X.3.2.2.m1.3.3.2.2.3.3.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3"><in id="S5.E2X.3.2.2.m1.3.3.2.2.3.3.1.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3.1"></in><apply id="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2"><csymbol cd="ambiguous" id="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2.1.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2">subscript</csymbol><ci id="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2.2">𝐷</ci><ci id="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2.3.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3.2.3">𝑖</ci></apply><ci id="S5.E2X.3.2.2.m1.3.3.2.2.3.3.3.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.3.3.3">𝒦</ci></apply></apply><apply id="S5.E2X.3.2.2.m1.3.3.2.2.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2"><times id="S5.E2X.3.2.2.m1.3.3.2.2.2.3.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.3"></times><apply id="S5.E2X.3.2.2.m1.3.3.2.2.2.4.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.4"><csymbol cd="ambiguous" id="S5.E2X.3.2.2.m1.3.3.2.2.2.4.1.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.4">subscript</csymbol><ci id="S5.E2X.3.2.2.m1.3.3.2.2.2.4.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.4.2">ℎ</ci><ci id="S5.E2X.3.2.2.m1.3.3.2.2.2.4.3.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.4.3">𝑄</ci></apply><apply id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.cmml" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.2.cmml" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1">superscript</csymbol><apply id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2">𝐷</ci><ci id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3">𝑖</ci></apply><csymbol cd="latexml" id="S5.E2X.3.2.2.m1.2.2.1.1.1.1.3.cmml" xref="S5.E2X.3.2.2.m1.2.2.1.1.1.1.3">top</csymbol></apply><apply id="S5.E2X.3.2.2.m1.3.3.2.2.2.5.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.5"><csymbol cd="ambiguous" id="S5.E2X.3.2.2.m1.3.3.2.2.2.5.1.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.5">subscript</csymbol><ci id="S5.E2X.3.2.2.m1.3.3.2.2.2.5.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.5.2">ℎ</ci><ci id="S5.E2X.3.2.2.m1.3.3.2.2.2.5.3.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.5.3">𝐷</ci></apply><apply id="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1"><csymbol cd="ambiguous" id="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.1.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1">subscript</csymbol><ci id="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.2.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.2">𝐃</ci><ci id="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.3a.cmml" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.3"><mtext id="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.3.cmml" mathsize="70%" xref="S5.E2X.3.2.2.m1.3.3.2.2.2.2.1.1.3">adv</mtext></ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E2X.3.2.2.m1.3c">\displaystyle=\arg\max_{\mathbf{R}_{\text{adv}}^{\prime}}\frac{1}{|\mathcal{K}%
|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="S5.E2X.3.2.2.m1.3d">= roman_arg roman_max start_POSTSUBSCRIPT bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUBSCRIPT divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(2)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S5.E2Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\arg\max_{\mathbf{R}_{\text{adv}}^{\prime}}\frac{1}{|\mathcal{K}%
|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{R}_{\text{adv}}^{%
\prime}\oplus\mathbf{T}_{\text{adv}}\oplus\mathbf{G}_{\text{adv}})" class="ltx_Math" display="inline" id="S5.E2Xa.2.1.1.m1.3"><semantics id="S5.E2Xa.2.1.1.m1.3a"><mrow id="S5.E2Xa.2.1.1.m1.3.3" xref="S5.E2Xa.2.1.1.m1.3.3.cmml"><mi id="S5.E2Xa.2.1.1.m1.3.3.4" xref="S5.E2Xa.2.1.1.m1.3.3.4.cmml"></mi><mo id="S5.E2Xa.2.1.1.m1.3.3.3" xref="S5.E2Xa.2.1.1.m1.3.3.3.cmml">=</mo><mrow id="S5.E2Xa.2.1.1.m1.3.3.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.cmml"><mrow id="S5.E2Xa.2.1.1.m1.3.3.2.4" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.cmml"><mi id="S5.E2Xa.2.1.1.m1.3.3.2.4.1" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.1.cmml">arg</mi><mo id="S5.E2Xa.2.1.1.m1.3.3.2.4a" lspace="0.167em" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.cmml">⁡</mo><mrow id="S5.E2Xa.2.1.1.m1.3.3.2.4.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.cmml"><munder id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.cmml"><mi id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.2.cmml">max</mi><msubsup id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.cmml"><mi id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.2.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.2.2.cmml">𝐑</mi><mtext id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.2.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.2.3a.cmml">adv</mtext><mo id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.3.cmml">′</mo></msubsup></munder><mo id="S5.E2Xa.2.1.1.m1.3.3.2.4.2a" lspace="0.167em" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.cmml">⁡</mo><mstyle displaystyle="true" id="S5.E2Xa.2.1.1.m1.1.1" xref="S5.E2Xa.2.1.1.m1.1.1.cmml"><mfrac id="S5.E2Xa.2.1.1.m1.1.1a" xref="S5.E2Xa.2.1.1.m1.1.1.cmml"><mn id="S5.E2Xa.2.1.1.m1.1.1.3" xref="S5.E2Xa.2.1.1.m1.1.1.3.cmml">1</mn><mrow id="S5.E2Xa.2.1.1.m1.1.1.1.3" xref="S5.E2Xa.2.1.1.m1.1.1.1.2.cmml"><mo id="S5.E2Xa.2.1.1.m1.1.1.1.3.1" stretchy="false" xref="S5.E2Xa.2.1.1.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E2Xa.2.1.1.m1.1.1.1.1" xref="S5.E2Xa.2.1.1.m1.1.1.1.1.cmml">𝒦</mi><mo id="S5.E2Xa.2.1.1.m1.1.1.1.3.2" stretchy="false" xref="S5.E2Xa.2.1.1.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle></mrow></mrow><mo id="S5.E2Xa.2.1.1.m1.3.3.2.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.3.cmml">⁢</mo><mrow id="S5.E2Xa.2.1.1.m1.3.3.2.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.cmml"><mstyle displaystyle="true" id="S5.E2Xa.2.1.1.m1.3.3.2.2.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.cmml"><munder id="S5.E2Xa.2.1.1.m1.3.3.2.2.3a" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.cmml"><mo id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.2" movablelimits="false" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.2.cmml">∑</mo><mrow id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.cmml"><msub id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2.cmml"><mi id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2.2.cmml">D</mi><mi id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2.3.cmml">i</mi></msub><mo id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.1" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.3.cmml">𝒦</mi></mrow></munder></mstyle><mrow id="S5.E2Xa.2.1.1.m1.3.3.2.2.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.cmml"><msub id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4.cmml"><mi id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4.2.cmml">h</mi><mi id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4.3.cmml">Q</mi></msub><mo id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.3.cmml">⁢</mo><msup id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.cmml"><mrow id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><msub id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml">D</mi><mi id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.3" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.3.cmml">⊤</mo></msup><mo id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.3a" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.3.cmml">⁢</mo><msub id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5.cmml"><mi id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5.2.cmml">h</mi><mi id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5.3.cmml">D</mi></msub><mo id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.3b" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.3.cmml">⁢</mo><mrow id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.cmml"><mo id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.2" stretchy="false" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.cmml">(</mo><mrow id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.cmml"><msubsup id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.cmml"><mi id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.2.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.2.2.cmml">𝐑</mi><mtext id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.2.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.2.3a.cmml">adv</mtext><mo id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.3.cmml">′</mo></msubsup><mo id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.1" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.1.cmml">⊕</mo><msub id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.cmml"><mi id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.2.cmml">𝐓</mi><mtext id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.3a.cmml">adv</mtext></msub><mo id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.1a" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.1.cmml">⊕</mo><msub id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.cmml"><mi id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.2" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.2.cmml">𝐆</mi><mtext id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.3" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.3a.cmml">adv</mtext></msub></mrow><mo id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.3" stretchy="false" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.E2Xa.2.1.1.m1.3b"><apply id="S5.E2Xa.2.1.1.m1.3.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3"><eq id="S5.E2Xa.2.1.1.m1.3.3.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.3"></eq><csymbol cd="latexml" id="S5.E2Xa.2.1.1.m1.3.3.4.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.4">absent</csymbol><apply id="S5.E2Xa.2.1.1.m1.3.3.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2"><times id="S5.E2Xa.2.1.1.m1.3.3.2.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.3"></times><apply id="S5.E2Xa.2.1.1.m1.3.3.2.4.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4"><arg id="S5.E2Xa.2.1.1.m1.3.3.2.4.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.1"></arg><apply id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2"><apply id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1">subscript</csymbol><max id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.2"></max><apply id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3">superscript</csymbol><apply id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.2.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3">subscript</csymbol><ci id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.2.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.2.2">𝐑</ci><ci id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.2.3a.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.2.3"><mtext id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.2.3.cmml" mathsize="50%" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.2.3">adv</mtext></ci></apply><ci id="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.4.2.1.3.3">′</ci></apply></apply><apply id="S5.E2Xa.2.1.1.m1.1.1.cmml" xref="S5.E2Xa.2.1.1.m1.1.1"><divide id="S5.E2Xa.2.1.1.m1.1.1.2.cmml" xref="S5.E2Xa.2.1.1.m1.1.1"></divide><cn id="S5.E2Xa.2.1.1.m1.1.1.3.cmml" type="integer" xref="S5.E2Xa.2.1.1.m1.1.1.3">1</cn><apply id="S5.E2Xa.2.1.1.m1.1.1.1.2.cmml" xref="S5.E2Xa.2.1.1.m1.1.1.1.3"><abs id="S5.E2Xa.2.1.1.m1.1.1.1.2.1.cmml" xref="S5.E2Xa.2.1.1.m1.1.1.1.3.1"></abs><ci id="S5.E2Xa.2.1.1.m1.1.1.1.1.cmml" xref="S5.E2Xa.2.1.1.m1.1.1.1.1">𝒦</ci></apply></apply></apply></apply><apply id="S5.E2Xa.2.1.1.m1.3.3.2.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2"><apply id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3">subscript</csymbol><sum id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.2"></sum><apply id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3"><in id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.1"></in><apply id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2">subscript</csymbol><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2.2">𝐷</ci><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.2.3">𝑖</ci></apply><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.3.3.3">𝒦</ci></apply></apply><apply id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2"><times id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.3"></times><apply id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4">subscript</csymbol><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4.2">ℎ</ci><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.4.3">𝑄</ci></apply><apply id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.cmml" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.2.cmml" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1">superscript</csymbol><apply id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.2">𝐷</ci><ci id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.1.1.1.3">𝑖</ci></apply><csymbol cd="latexml" id="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.3.cmml" xref="S5.E2Xa.2.1.1.m1.2.2.1.1.1.1.3">top</csymbol></apply><apply id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5">subscript</csymbol><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5.2">ℎ</ci><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.5.3">𝐷</ci></apply><apply id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1"><csymbol cd="latexml" id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.1">direct-sum</csymbol><apply id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2">superscript</csymbol><apply id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.2.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2">subscript</csymbol><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.2.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.2.2">𝐑</ci><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.2.3a.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.2.3"><mtext id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.2.3.cmml" mathsize="70%" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.2.3">adv</mtext></ci></apply><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.2.3">′</ci></apply><apply id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3">subscript</csymbol><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.2">𝐓</ci><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.3a.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.3"><mtext id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.3.cmml" mathsize="70%" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.3.3">adv</mtext></ci></apply><apply id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4"><csymbol cd="ambiguous" id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.1.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4">subscript</csymbol><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.2.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.2">𝐆</ci><ci id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.3a.cmml" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.3"><mtext id="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.3.cmml" mathsize="70%" xref="S5.E2Xa.2.1.1.m1.3.3.2.2.2.2.1.1.4.3">adv</mtext></ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E2Xa.2.1.1.m1.3c">\displaystyle=\arg\max_{\mathbf{R}_{\text{adv}}^{\prime}}\frac{1}{|\mathcal{K}%
|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{R}_{\text{adv}}^{%
\prime}\oplus\mathbf{T}_{\text{adv}}\oplus\mathbf{G}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="S5.E2Xa.2.1.1.m1.3d">= roman_arg roman_max start_POSTSUBSCRIPT bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUBSCRIPT divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ⊕ bold_T start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ⊕ bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S5.SS2.p1.11">Inspaired by <cite class="ltx_cite ltx_citemacro_citet">Zhong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib57" title="">2023</a>)</cite>, we use the gradient-based approach based on HotFlip <cite class="ltx_cite ltx_citemacro_cite">Ebrahimi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib11" title="">2017</a>)</cite> to optimize the ARS by iteratively replacing tokens in <math alttext="\mathbf{R}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS2.p1.8.m1.1"><semantics id="S5.SS2.p1.8.m1.1a"><msub id="S5.SS2.p1.8.m1.1.1" xref="S5.SS2.p1.8.m1.1.1.cmml"><mi id="S5.SS2.p1.8.m1.1.1.2" xref="S5.SS2.p1.8.m1.1.1.2.cmml">𝐑</mi><mtext id="S5.SS2.p1.8.m1.1.1.3" xref="S5.SS2.p1.8.m1.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.8.m1.1b"><apply id="S5.SS2.p1.8.m1.1.1.cmml" xref="S5.SS2.p1.8.m1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.8.m1.1.1.1.cmml" xref="S5.SS2.p1.8.m1.1.1">subscript</csymbol><ci id="S5.SS2.p1.8.m1.1.1.2.cmml" xref="S5.SS2.p1.8.m1.1.1.2">𝐑</ci><ci id="S5.SS2.p1.8.m1.1.1.3a.cmml" xref="S5.SS2.p1.8.m1.1.1.3"><mtext id="S5.SS2.p1.8.m1.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.8.m1.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.8.m1.1c">\mathbf{R}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.8.m1.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>. We start with a random document and iteratively choose a token <math alttext="x_{i}" class="ltx_Math" display="inline" id="S5.SS2.p1.9.m2.1"><semantics id="S5.SS2.p1.9.m2.1a"><msub id="S5.SS2.p1.9.m2.1.1" xref="S5.SS2.p1.9.m2.1.1.cmml"><mi id="S5.SS2.p1.9.m2.1.1.2" xref="S5.SS2.p1.9.m2.1.1.2.cmml">x</mi><mi id="S5.SS2.p1.9.m2.1.1.3" xref="S5.SS2.p1.9.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.9.m2.1b"><apply id="S5.SS2.p1.9.m2.1.1.cmml" xref="S5.SS2.p1.9.m2.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.9.m2.1.1.1.cmml" xref="S5.SS2.p1.9.m2.1.1">subscript</csymbol><ci id="S5.SS2.p1.9.m2.1.1.2.cmml" xref="S5.SS2.p1.9.m2.1.1.2">𝑥</ci><ci id="S5.SS2.p1.9.m2.1.1.3.cmml" xref="S5.SS2.p1.9.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.9.m2.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.9.m2.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in <math alttext="\mathbf{R}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS2.p1.10.m3.1"><semantics id="S5.SS2.p1.10.m3.1a"><msub id="S5.SS2.p1.10.m3.1.1" xref="S5.SS2.p1.10.m3.1.1.cmml"><mi id="S5.SS2.p1.10.m3.1.1.2" xref="S5.SS2.p1.10.m3.1.1.2.cmml">𝐑</mi><mtext id="S5.SS2.p1.10.m3.1.1.3" xref="S5.SS2.p1.10.m3.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.10.m3.1b"><apply id="S5.SS2.p1.10.m3.1.1.cmml" xref="S5.SS2.p1.10.m3.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.10.m3.1.1.1.cmml" xref="S5.SS2.p1.10.m3.1.1">subscript</csymbol><ci id="S5.SS2.p1.10.m3.1.1.2.cmml" xref="S5.SS2.p1.10.m3.1.1.2">𝐑</ci><ci id="S5.SS2.p1.10.m3.1.1.3a.cmml" xref="S5.SS2.p1.10.m3.1.1.3"><mtext id="S5.SS2.p1.10.m3.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.10.m3.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.10.m3.1c">\mathbf{R}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.10.m3.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, replacing it with a token <math alttext="x_{i}^{\prime}" class="ltx_Math" display="inline" id="S5.SS2.p1.11.m4.1"><semantics id="S5.SS2.p1.11.m4.1a"><msubsup id="S5.SS2.p1.11.m4.1.1" xref="S5.SS2.p1.11.m4.1.1.cmml"><mi id="S5.SS2.p1.11.m4.1.1.2.2" xref="S5.SS2.p1.11.m4.1.1.2.2.cmml">x</mi><mi id="S5.SS2.p1.11.m4.1.1.2.3" xref="S5.SS2.p1.11.m4.1.1.2.3.cmml">i</mi><mo id="S5.SS2.p1.11.m4.1.1.3" xref="S5.SS2.p1.11.m4.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.11.m4.1b"><apply id="S5.SS2.p1.11.m4.1.1.cmml" xref="S5.SS2.p1.11.m4.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.11.m4.1.1.1.cmml" xref="S5.SS2.p1.11.m4.1.1">superscript</csymbol><apply id="S5.SS2.p1.11.m4.1.1.2.cmml" xref="S5.SS2.p1.11.m4.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.11.m4.1.1.2.1.cmml" xref="S5.SS2.p1.11.m4.1.1">subscript</csymbol><ci id="S5.SS2.p1.11.m4.1.1.2.2.cmml" xref="S5.SS2.p1.11.m4.1.1.2.2">𝑥</ci><ci id="S5.SS2.p1.11.m4.1.1.2.3.cmml" xref="S5.SS2.p1.11.m4.1.1.2.3">𝑖</ci></apply><ci id="S5.SS2.p1.11.m4.1.1.3.cmml" xref="S5.SS2.p1.11.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.11.m4.1c">x_{i}^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.11.m4.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> that maximizes the output approximation:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="x_{i}=\arg\max_{x_{i}^{\prime}\in\mathcal{V}}\frac{1}{|\mathcal{K}|}\sum_{D_{i%
}\in\mathcal{K}}e_{x_{i}^{\prime}}^{\top}\nabla_{e_{x_{i}}}\text{sim}(D_{i},%
\mathbf{D}_{\text{adv}})," class="ltx_Math" display="block" id="S5.E3.m1.2"><semantics id="S5.E3.m1.2a"><mrow id="S5.E3.m1.2.2.1" xref="S5.E3.m1.2.2.1.1.cmml"><mrow id="S5.E3.m1.2.2.1.1" xref="S5.E3.m1.2.2.1.1.cmml"><msub id="S5.E3.m1.2.2.1.1.4" xref="S5.E3.m1.2.2.1.1.4.cmml"><mi id="S5.E3.m1.2.2.1.1.4.2" xref="S5.E3.m1.2.2.1.1.4.2.cmml">x</mi><mi id="S5.E3.m1.2.2.1.1.4.3" xref="S5.E3.m1.2.2.1.1.4.3.cmml">i</mi></msub><mo id="S5.E3.m1.2.2.1.1.3" xref="S5.E3.m1.2.2.1.1.3.cmml">=</mo><mrow id="S5.E3.m1.2.2.1.1.2" xref="S5.E3.m1.2.2.1.1.2.cmml"><mrow id="S5.E3.m1.2.2.1.1.2.4" xref="S5.E3.m1.2.2.1.1.2.4.cmml"><mi id="S5.E3.m1.2.2.1.1.2.4.1" xref="S5.E3.m1.2.2.1.1.2.4.1.cmml">arg</mi><mo id="S5.E3.m1.2.2.1.1.2.4a" lspace="0.167em" xref="S5.E3.m1.2.2.1.1.2.4.cmml">⁡</mo><mrow id="S5.E3.m1.2.2.1.1.2.4.2" xref="S5.E3.m1.2.2.1.1.2.4.2.cmml"><munder id="S5.E3.m1.2.2.1.1.2.4.2.1" xref="S5.E3.m1.2.2.1.1.2.4.2.1.cmml"><mi id="S5.E3.m1.2.2.1.1.2.4.2.1.2" xref="S5.E3.m1.2.2.1.1.2.4.2.1.2.cmml">max</mi><mrow id="S5.E3.m1.2.2.1.1.2.4.2.1.3" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.cmml"><msubsup id="S5.E3.m1.2.2.1.1.2.4.2.1.3.2" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.cmml"><mi id="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.2.2" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.2.2.cmml">x</mi><mi id="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.2.3" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.2.3.cmml">i</mi><mo id="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.3" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.3.cmml">′</mo></msubsup><mo id="S5.E3.m1.2.2.1.1.2.4.2.1.3.1" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E3.m1.2.2.1.1.2.4.2.1.3.3" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.3.cmml">𝒱</mi></mrow></munder><mo id="S5.E3.m1.2.2.1.1.2.4.2a" lspace="0.167em" xref="S5.E3.m1.2.2.1.1.2.4.2.cmml">⁡</mo><mfrac id="S5.E3.m1.1.1" xref="S5.E3.m1.1.1.cmml"><mn id="S5.E3.m1.1.1.3" xref="S5.E3.m1.1.1.3.cmml">1</mn><mrow id="S5.E3.m1.1.1.1.3" xref="S5.E3.m1.1.1.1.2.cmml"><mo id="S5.E3.m1.1.1.1.3.1" stretchy="false" xref="S5.E3.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E3.m1.1.1.1.1" xref="S5.E3.m1.1.1.1.1.cmml">𝒦</mi><mo id="S5.E3.m1.1.1.1.3.2" stretchy="false" xref="S5.E3.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mrow></mrow><mo id="S5.E3.m1.2.2.1.1.2.3" xref="S5.E3.m1.2.2.1.1.2.3.cmml">⁢</mo><mrow id="S5.E3.m1.2.2.1.1.2.2" xref="S5.E3.m1.2.2.1.1.2.2.cmml"><munder id="S5.E3.m1.2.2.1.1.2.2.3" xref="S5.E3.m1.2.2.1.1.2.2.3.cmml"><mo id="S5.E3.m1.2.2.1.1.2.2.3.2" movablelimits="false" xref="S5.E3.m1.2.2.1.1.2.2.3.2.cmml">∑</mo><mrow id="S5.E3.m1.2.2.1.1.2.2.3.3" xref="S5.E3.m1.2.2.1.1.2.2.3.3.cmml"><msub id="S5.E3.m1.2.2.1.1.2.2.3.3.2" xref="S5.E3.m1.2.2.1.1.2.2.3.3.2.cmml"><mi id="S5.E3.m1.2.2.1.1.2.2.3.3.2.2" xref="S5.E3.m1.2.2.1.1.2.2.3.3.2.2.cmml">D</mi><mi id="S5.E3.m1.2.2.1.1.2.2.3.3.2.3" xref="S5.E3.m1.2.2.1.1.2.2.3.3.2.3.cmml">i</mi></msub><mo id="S5.E3.m1.2.2.1.1.2.2.3.3.1" xref="S5.E3.m1.2.2.1.1.2.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E3.m1.2.2.1.1.2.2.3.3.3" xref="S5.E3.m1.2.2.1.1.2.2.3.3.3.cmml">𝒦</mi></mrow></munder><mrow id="S5.E3.m1.2.2.1.1.2.2.2" xref="S5.E3.m1.2.2.1.1.2.2.2.cmml"><msubsup id="S5.E3.m1.2.2.1.1.2.2.2.4" xref="S5.E3.m1.2.2.1.1.2.2.2.4.cmml"><mi id="S5.E3.m1.2.2.1.1.2.2.2.4.2.2" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.2.cmml">e</mi><msubsup id="S5.E3.m1.2.2.1.1.2.2.2.4.2.3" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.cmml"><mi id="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.2.2" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.2.2.cmml">x</mi><mi id="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.2.3" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.2.3.cmml">i</mi><mo id="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.3" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.3.cmml">′</mo></msubsup><mo id="S5.E3.m1.2.2.1.1.2.2.2.4.3" xref="S5.E3.m1.2.2.1.1.2.2.2.4.3.cmml">⊤</mo></msubsup><mo id="S5.E3.m1.2.2.1.1.2.2.2.3" lspace="0.167em" xref="S5.E3.m1.2.2.1.1.2.2.2.3.cmml">⁢</mo><mrow id="S5.E3.m1.2.2.1.1.2.2.2.5" xref="S5.E3.m1.2.2.1.1.2.2.2.5.cmml"><msub id="S5.E3.m1.2.2.1.1.2.2.2.5.1" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.cmml"><mo id="S5.E3.m1.2.2.1.1.2.2.2.5.1.2" rspace="0.167em" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.2.cmml">∇</mo><msub id="S5.E3.m1.2.2.1.1.2.2.2.5.1.3" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.cmml"><mi id="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.2" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.2.cmml">e</mi><msub id="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3.cmml"><mi id="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3.2" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3.2.cmml">x</mi><mi id="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3.3" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3.3.cmml">i</mi></msub></msub></msub><mtext id="S5.E3.m1.2.2.1.1.2.2.2.5.2" xref="S5.E3.m1.2.2.1.1.2.2.2.5.2a.cmml">sim</mtext></mrow><mo id="S5.E3.m1.2.2.1.1.2.2.2.3a" xref="S5.E3.m1.2.2.1.1.2.2.2.3.cmml">⁢</mo><mrow id="S5.E3.m1.2.2.1.1.2.2.2.2.2" xref="S5.E3.m1.2.2.1.1.2.2.2.2.3.cmml"><mo id="S5.E3.m1.2.2.1.1.2.2.2.2.2.3" stretchy="false" xref="S5.E3.m1.2.2.1.1.2.2.2.2.3.cmml">(</mo><msub id="S5.E3.m1.2.2.1.1.1.1.1.1.1.1" xref="S5.E3.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S5.E3.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S5.E3.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">D</mi><mi id="S5.E3.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S5.E3.m1.2.2.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S5.E3.m1.2.2.1.1.2.2.2.2.2.4" xref="S5.E3.m1.2.2.1.1.2.2.2.2.3.cmml">,</mo><msub id="S5.E3.m1.2.2.1.1.2.2.2.2.2.2" xref="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.cmml"><mi id="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.2" xref="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.2.cmml">𝐃</mi><mtext id="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.3" xref="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.3a.cmml">adv</mtext></msub><mo id="S5.E3.m1.2.2.1.1.2.2.2.2.2.5" stretchy="false" xref="S5.E3.m1.2.2.1.1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S5.E3.m1.2.2.1.2" xref="S5.E3.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E3.m1.2b"><apply id="S5.E3.m1.2.2.1.1.cmml" xref="S5.E3.m1.2.2.1"><eq id="S5.E3.m1.2.2.1.1.3.cmml" xref="S5.E3.m1.2.2.1.1.3"></eq><apply id="S5.E3.m1.2.2.1.1.4.cmml" xref="S5.E3.m1.2.2.1.1.4"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.4.1.cmml" xref="S5.E3.m1.2.2.1.1.4">subscript</csymbol><ci id="S5.E3.m1.2.2.1.1.4.2.cmml" xref="S5.E3.m1.2.2.1.1.4.2">𝑥</ci><ci id="S5.E3.m1.2.2.1.1.4.3.cmml" xref="S5.E3.m1.2.2.1.1.4.3">𝑖</ci></apply><apply id="S5.E3.m1.2.2.1.1.2.cmml" xref="S5.E3.m1.2.2.1.1.2"><times id="S5.E3.m1.2.2.1.1.2.3.cmml" xref="S5.E3.m1.2.2.1.1.2.3"></times><apply id="S5.E3.m1.2.2.1.1.2.4.cmml" xref="S5.E3.m1.2.2.1.1.2.4"><arg id="S5.E3.m1.2.2.1.1.2.4.1.cmml" xref="S5.E3.m1.2.2.1.1.2.4.1"></arg><apply id="S5.E3.m1.2.2.1.1.2.4.2.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2"><apply id="S5.E3.m1.2.2.1.1.2.4.2.1.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.4.2.1.1.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1">subscript</csymbol><max id="S5.E3.m1.2.2.1.1.2.4.2.1.2.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1.2"></max><apply id="S5.E3.m1.2.2.1.1.2.4.2.1.3.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3"><in id="S5.E3.m1.2.2.1.1.2.4.2.1.3.1.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.1"></in><apply id="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.2"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.1.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.2">superscript</csymbol><apply id="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.2.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.2"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.2.1.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.2">subscript</csymbol><ci id="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.2.2.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.2.2">𝑥</ci><ci id="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.2.3.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.2.3">𝑖</ci></apply><ci id="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.3.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.2.3">′</ci></apply><ci id="S5.E3.m1.2.2.1.1.2.4.2.1.3.3.cmml" xref="S5.E3.m1.2.2.1.1.2.4.2.1.3.3">𝒱</ci></apply></apply><apply id="S5.E3.m1.1.1.cmml" xref="S5.E3.m1.1.1"><divide id="S5.E3.m1.1.1.2.cmml" xref="S5.E3.m1.1.1"></divide><cn id="S5.E3.m1.1.1.3.cmml" type="integer" xref="S5.E3.m1.1.1.3">1</cn><apply id="S5.E3.m1.1.1.1.2.cmml" xref="S5.E3.m1.1.1.1.3"><abs id="S5.E3.m1.1.1.1.2.1.cmml" xref="S5.E3.m1.1.1.1.3.1"></abs><ci id="S5.E3.m1.1.1.1.1.cmml" xref="S5.E3.m1.1.1.1.1">𝒦</ci></apply></apply></apply></apply><apply id="S5.E3.m1.2.2.1.1.2.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2"><apply id="S5.E3.m1.2.2.1.1.2.2.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.3"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.2.3.1.cmml" xref="S5.E3.m1.2.2.1.1.2.2.3">subscript</csymbol><sum id="S5.E3.m1.2.2.1.1.2.2.3.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.3.2"></sum><apply id="S5.E3.m1.2.2.1.1.2.2.3.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.3.3"><in id="S5.E3.m1.2.2.1.1.2.2.3.3.1.cmml" xref="S5.E3.m1.2.2.1.1.2.2.3.3.1"></in><apply id="S5.E3.m1.2.2.1.1.2.2.3.3.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.3.3.2"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.2.3.3.2.1.cmml" xref="S5.E3.m1.2.2.1.1.2.2.3.3.2">subscript</csymbol><ci id="S5.E3.m1.2.2.1.1.2.2.3.3.2.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.3.3.2.2">𝐷</ci><ci id="S5.E3.m1.2.2.1.1.2.2.3.3.2.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.3.3.2.3">𝑖</ci></apply><ci id="S5.E3.m1.2.2.1.1.2.2.3.3.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.3.3.3">𝒦</ci></apply></apply><apply id="S5.E3.m1.2.2.1.1.2.2.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2"><times id="S5.E3.m1.2.2.1.1.2.2.2.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.3"></times><apply id="S5.E3.m1.2.2.1.1.2.2.2.4.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.2.2.4.1.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4">superscript</csymbol><apply id="S5.E3.m1.2.2.1.1.2.2.2.4.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.2.2.4.2.1.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4">subscript</csymbol><ci id="S5.E3.m1.2.2.1.1.2.2.2.4.2.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.2">𝑒</ci><apply id="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.3"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.1.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.3">superscript</csymbol><apply id="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.3"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.2.1.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.3">subscript</csymbol><ci id="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.2.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.2.2">𝑥</ci><ci id="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.2.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.2.3">𝑖</ci></apply><ci id="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4.2.3.3">′</ci></apply></apply><csymbol cd="latexml" id="S5.E3.m1.2.2.1.1.2.2.2.4.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.4.3">top</csymbol></apply><apply id="S5.E3.m1.2.2.1.1.2.2.2.5.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5"><apply id="S5.E3.m1.2.2.1.1.2.2.2.5.1.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.2.2.5.1.1.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1">subscript</csymbol><ci id="S5.E3.m1.2.2.1.1.2.2.2.5.1.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.2">∇</ci><apply id="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.3"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.1.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.3">subscript</csymbol><ci id="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.2">𝑒</ci><apply id="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3.1.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3">subscript</csymbol><ci id="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3.2">𝑥</ci><ci id="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5.1.3.3.3">𝑖</ci></apply></apply></apply><ci id="S5.E3.m1.2.2.1.1.2.2.2.5.2a.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5.2"><mtext id="S5.E3.m1.2.2.1.1.2.2.2.5.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.5.2">sim</mtext></ci></apply><interval closure="open" id="S5.E3.m1.2.2.1.1.2.2.2.2.3.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.2.2"><apply id="S5.E3.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S5.E3.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E3.m1.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S5.E3.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E3.m1.2.2.1.1.1.1.1.1.1.1.2">𝐷</ci><ci id="S5.E3.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E3.m1.2.2.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.1.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.2.2.2">subscript</csymbol><ci id="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.2.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.2">𝐃</ci><ci id="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.3a.cmml" xref="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.3"><mtext id="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.3.cmml" mathsize="70%" xref="S5.E3.m1.2.2.1.1.2.2.2.2.2.2.3">adv</mtext></ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E3.m1.2c">x_{i}=\arg\max_{x_{i}^{\prime}\in\mathcal{V}}\frac{1}{|\mathcal{K}|}\sum_{D_{i%
}\in\mathcal{K}}e_{x_{i}^{\prime}}^{\top}\nabla_{e_{x_{i}}}\text{sim}(D_{i},%
\mathbf{D}_{\text{adv}}),</annotation><annotation encoding="application/x-llamapun" id="S5.E3.m1.2d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = roman_arg roman_max start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ∈ caligraphic_V end_POSTSUBSCRIPT divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT ∇ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_POSTSUBSCRIPT sim ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS2.p1.19">where <math alttext="\mathcal{V}" class="ltx_Math" display="inline" id="S5.SS2.p1.12.m1.1"><semantics id="S5.SS2.p1.12.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS2.p1.12.m1.1.1" xref="S5.SS2.p1.12.m1.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.12.m1.1b"><ci id="S5.SS2.p1.12.m1.1.1.cmml" xref="S5.SS2.p1.12.m1.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.12.m1.1c">\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.12.m1.1d">caligraphic_V</annotation></semantics></math> is the vocabulary, and <math alttext="\nabla_{e_{x_{i}}}\text{sim}(q,\mathbf{R}_{\text{adv}})" class="ltx_Math" display="inline" id="S5.SS2.p1.13.m2.2"><semantics id="S5.SS2.p1.13.m2.2a"><mrow id="S5.SS2.p1.13.m2.2.2" xref="S5.SS2.p1.13.m2.2.2.cmml"><mrow id="S5.SS2.p1.13.m2.2.2.3" xref="S5.SS2.p1.13.m2.2.2.3.cmml"><msub id="S5.SS2.p1.13.m2.2.2.3.1" xref="S5.SS2.p1.13.m2.2.2.3.1.cmml"><mo id="S5.SS2.p1.13.m2.2.2.3.1.2" xref="S5.SS2.p1.13.m2.2.2.3.1.2.cmml">∇</mo><msub id="S5.SS2.p1.13.m2.2.2.3.1.3" xref="S5.SS2.p1.13.m2.2.2.3.1.3.cmml"><mi id="S5.SS2.p1.13.m2.2.2.3.1.3.2" xref="S5.SS2.p1.13.m2.2.2.3.1.3.2.cmml">e</mi><msub id="S5.SS2.p1.13.m2.2.2.3.1.3.3" xref="S5.SS2.p1.13.m2.2.2.3.1.3.3.cmml"><mi id="S5.SS2.p1.13.m2.2.2.3.1.3.3.2" xref="S5.SS2.p1.13.m2.2.2.3.1.3.3.2.cmml">x</mi><mi id="S5.SS2.p1.13.m2.2.2.3.1.3.3.3" xref="S5.SS2.p1.13.m2.2.2.3.1.3.3.3.cmml">i</mi></msub></msub></msub><mtext id="S5.SS2.p1.13.m2.2.2.3.2" xref="S5.SS2.p1.13.m2.2.2.3.2a.cmml">sim</mtext></mrow><mo id="S5.SS2.p1.13.m2.2.2.2" xref="S5.SS2.p1.13.m2.2.2.2.cmml">⁢</mo><mrow id="S5.SS2.p1.13.m2.2.2.1.1" xref="S5.SS2.p1.13.m2.2.2.1.2.cmml"><mo id="S5.SS2.p1.13.m2.2.2.1.1.2" stretchy="false" xref="S5.SS2.p1.13.m2.2.2.1.2.cmml">(</mo><mi id="S5.SS2.p1.13.m2.1.1" xref="S5.SS2.p1.13.m2.1.1.cmml">q</mi><mo id="S5.SS2.p1.13.m2.2.2.1.1.3" xref="S5.SS2.p1.13.m2.2.2.1.2.cmml">,</mo><msub id="S5.SS2.p1.13.m2.2.2.1.1.1" xref="S5.SS2.p1.13.m2.2.2.1.1.1.cmml"><mi id="S5.SS2.p1.13.m2.2.2.1.1.1.2" xref="S5.SS2.p1.13.m2.2.2.1.1.1.2.cmml">𝐑</mi><mtext id="S5.SS2.p1.13.m2.2.2.1.1.1.3" xref="S5.SS2.p1.13.m2.2.2.1.1.1.3a.cmml">adv</mtext></msub><mo id="S5.SS2.p1.13.m2.2.2.1.1.4" stretchy="false" xref="S5.SS2.p1.13.m2.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.13.m2.2b"><apply id="S5.SS2.p1.13.m2.2.2.cmml" xref="S5.SS2.p1.13.m2.2.2"><times id="S5.SS2.p1.13.m2.2.2.2.cmml" xref="S5.SS2.p1.13.m2.2.2.2"></times><apply id="S5.SS2.p1.13.m2.2.2.3.cmml" xref="S5.SS2.p1.13.m2.2.2.3"><apply id="S5.SS2.p1.13.m2.2.2.3.1.cmml" xref="S5.SS2.p1.13.m2.2.2.3.1"><csymbol cd="ambiguous" id="S5.SS2.p1.13.m2.2.2.3.1.1.cmml" xref="S5.SS2.p1.13.m2.2.2.3.1">subscript</csymbol><ci id="S5.SS2.p1.13.m2.2.2.3.1.2.cmml" xref="S5.SS2.p1.13.m2.2.2.3.1.2">∇</ci><apply id="S5.SS2.p1.13.m2.2.2.3.1.3.cmml" xref="S5.SS2.p1.13.m2.2.2.3.1.3"><csymbol cd="ambiguous" id="S5.SS2.p1.13.m2.2.2.3.1.3.1.cmml" xref="S5.SS2.p1.13.m2.2.2.3.1.3">subscript</csymbol><ci id="S5.SS2.p1.13.m2.2.2.3.1.3.2.cmml" xref="S5.SS2.p1.13.m2.2.2.3.1.3.2">𝑒</ci><apply id="S5.SS2.p1.13.m2.2.2.3.1.3.3.cmml" xref="S5.SS2.p1.13.m2.2.2.3.1.3.3"><csymbol cd="ambiguous" id="S5.SS2.p1.13.m2.2.2.3.1.3.3.1.cmml" xref="S5.SS2.p1.13.m2.2.2.3.1.3.3">subscript</csymbol><ci id="S5.SS2.p1.13.m2.2.2.3.1.3.3.2.cmml" xref="S5.SS2.p1.13.m2.2.2.3.1.3.3.2">𝑥</ci><ci id="S5.SS2.p1.13.m2.2.2.3.1.3.3.3.cmml" xref="S5.SS2.p1.13.m2.2.2.3.1.3.3.3">𝑖</ci></apply></apply></apply><ci id="S5.SS2.p1.13.m2.2.2.3.2a.cmml" xref="S5.SS2.p1.13.m2.2.2.3.2"><mtext id="S5.SS2.p1.13.m2.2.2.3.2.cmml" xref="S5.SS2.p1.13.m2.2.2.3.2">sim</mtext></ci></apply><interval closure="open" id="S5.SS2.p1.13.m2.2.2.1.2.cmml" xref="S5.SS2.p1.13.m2.2.2.1.1"><ci id="S5.SS2.p1.13.m2.1.1.cmml" xref="S5.SS2.p1.13.m2.1.1">𝑞</ci><apply id="S5.SS2.p1.13.m2.2.2.1.1.1.cmml" xref="S5.SS2.p1.13.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.13.m2.2.2.1.1.1.1.cmml" xref="S5.SS2.p1.13.m2.2.2.1.1.1">subscript</csymbol><ci id="S5.SS2.p1.13.m2.2.2.1.1.1.2.cmml" xref="S5.SS2.p1.13.m2.2.2.1.1.1.2">𝐑</ci><ci id="S5.SS2.p1.13.m2.2.2.1.1.1.3a.cmml" xref="S5.SS2.p1.13.m2.2.2.1.1.1.3"><mtext id="S5.SS2.p1.13.m2.2.2.1.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.13.m2.2.2.1.1.1.3">adv</mtext></ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.13.m2.2c">\nabla_{e_{x_{i}}}\text{sim}(q,\mathbf{R}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.13.m2.2d">∇ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_POSTSUBSCRIPT sim ( italic_q , bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math> is the gradient of the similarity with respect to the token embedding <math alttext="e_{x_{i}}" class="ltx_Math" display="inline" id="S5.SS2.p1.14.m3.1"><semantics id="S5.SS2.p1.14.m3.1a"><msub id="S5.SS2.p1.14.m3.1.1" xref="S5.SS2.p1.14.m3.1.1.cmml"><mi id="S5.SS2.p1.14.m3.1.1.2" xref="S5.SS2.p1.14.m3.1.1.2.cmml">e</mi><msub id="S5.SS2.p1.14.m3.1.1.3" xref="S5.SS2.p1.14.m3.1.1.3.cmml"><mi id="S5.SS2.p1.14.m3.1.1.3.2" xref="S5.SS2.p1.14.m3.1.1.3.2.cmml">x</mi><mi id="S5.SS2.p1.14.m3.1.1.3.3" xref="S5.SS2.p1.14.m3.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.14.m3.1b"><apply id="S5.SS2.p1.14.m3.1.1.cmml" xref="S5.SS2.p1.14.m3.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.14.m3.1.1.1.cmml" xref="S5.SS2.p1.14.m3.1.1">subscript</csymbol><ci id="S5.SS2.p1.14.m3.1.1.2.cmml" xref="S5.SS2.p1.14.m3.1.1.2">𝑒</ci><apply id="S5.SS2.p1.14.m3.1.1.3.cmml" xref="S5.SS2.p1.14.m3.1.1.3"><csymbol cd="ambiguous" id="S5.SS2.p1.14.m3.1.1.3.1.cmml" xref="S5.SS2.p1.14.m3.1.1.3">subscript</csymbol><ci id="S5.SS2.p1.14.m3.1.1.3.2.cmml" xref="S5.SS2.p1.14.m3.1.1.3.2">𝑥</ci><ci id="S5.SS2.p1.14.m3.1.1.3.3.cmml" xref="S5.SS2.p1.14.m3.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.14.m3.1c">e_{x_{i}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.14.m3.1d">italic_e start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>.
To generate multiple adversarial documents to form <math alttext="\mathcal{D}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS2.p1.15.m4.1"><semantics id="S5.SS2.p1.15.m4.1a"><msub id="S5.SS2.p1.15.m4.1.1" xref="S5.SS2.p1.15.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS2.p1.15.m4.1.1.2" xref="S5.SS2.p1.15.m4.1.1.2.cmml">𝒟</mi><mtext id="S5.SS2.p1.15.m4.1.1.3" xref="S5.SS2.p1.15.m4.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.15.m4.1b"><apply id="S5.SS2.p1.15.m4.1.1.cmml" xref="S5.SS2.p1.15.m4.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.15.m4.1.1.1.cmml" xref="S5.SS2.p1.15.m4.1.1">subscript</csymbol><ci id="S5.SS2.p1.15.m4.1.1.2.cmml" xref="S5.SS2.p1.15.m4.1.1.2">𝒟</ci><ci id="S5.SS2.p1.15.m4.1.1.3a.cmml" xref="S5.SS2.p1.15.m4.1.1.3"><mtext id="S5.SS2.p1.15.m4.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.15.m4.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.15.m4.1c">\mathcal{D}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.15.m4.1d">caligraphic_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, we cluster queries using <math alttext="K" class="ltx_Math" display="inline" id="S5.SS2.p1.16.m5.1"><semantics id="S5.SS2.p1.16.m5.1a"><mi id="S5.SS2.p1.16.m5.1.1" xref="S5.SS2.p1.16.m5.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.16.m5.1b"><ci id="S5.SS2.p1.16.m5.1.1.cmml" xref="S5.SS2.p1.16.m5.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.16.m5.1c">K</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.16.m5.1d">italic_K</annotation></semantics></math>-means based on their embeddings <math alttext="h_{q}(q_{i})" class="ltx_Math" display="inline" id="S5.SS2.p1.17.m6.1"><semantics id="S5.SS2.p1.17.m6.1a"><mrow id="S5.SS2.p1.17.m6.1.1" xref="S5.SS2.p1.17.m6.1.1.cmml"><msub id="S5.SS2.p1.17.m6.1.1.3" xref="S5.SS2.p1.17.m6.1.1.3.cmml"><mi id="S5.SS2.p1.17.m6.1.1.3.2" xref="S5.SS2.p1.17.m6.1.1.3.2.cmml">h</mi><mi id="S5.SS2.p1.17.m6.1.1.3.3" xref="S5.SS2.p1.17.m6.1.1.3.3.cmml">q</mi></msub><mo id="S5.SS2.p1.17.m6.1.1.2" xref="S5.SS2.p1.17.m6.1.1.2.cmml">⁢</mo><mrow id="S5.SS2.p1.17.m6.1.1.1.1" xref="S5.SS2.p1.17.m6.1.1.1.1.1.cmml"><mo id="S5.SS2.p1.17.m6.1.1.1.1.2" stretchy="false" xref="S5.SS2.p1.17.m6.1.1.1.1.1.cmml">(</mo><msub id="S5.SS2.p1.17.m6.1.1.1.1.1" xref="S5.SS2.p1.17.m6.1.1.1.1.1.cmml"><mi id="S5.SS2.p1.17.m6.1.1.1.1.1.2" xref="S5.SS2.p1.17.m6.1.1.1.1.1.2.cmml">q</mi><mi id="S5.SS2.p1.17.m6.1.1.1.1.1.3" xref="S5.SS2.p1.17.m6.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S5.SS2.p1.17.m6.1.1.1.1.3" stretchy="false" xref="S5.SS2.p1.17.m6.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.17.m6.1b"><apply id="S5.SS2.p1.17.m6.1.1.cmml" xref="S5.SS2.p1.17.m6.1.1"><times id="S5.SS2.p1.17.m6.1.1.2.cmml" xref="S5.SS2.p1.17.m6.1.1.2"></times><apply id="S5.SS2.p1.17.m6.1.1.3.cmml" xref="S5.SS2.p1.17.m6.1.1.3"><csymbol cd="ambiguous" id="S5.SS2.p1.17.m6.1.1.3.1.cmml" xref="S5.SS2.p1.17.m6.1.1.3">subscript</csymbol><ci id="S5.SS2.p1.17.m6.1.1.3.2.cmml" xref="S5.SS2.p1.17.m6.1.1.3.2">ℎ</ci><ci id="S5.SS2.p1.17.m6.1.1.3.3.cmml" xref="S5.SS2.p1.17.m6.1.1.3.3">𝑞</ci></apply><apply id="S5.SS2.p1.17.m6.1.1.1.1.1.cmml" xref="S5.SS2.p1.17.m6.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.17.m6.1.1.1.1.1.1.cmml" xref="S5.SS2.p1.17.m6.1.1.1.1">subscript</csymbol><ci id="S5.SS2.p1.17.m6.1.1.1.1.1.2.cmml" xref="S5.SS2.p1.17.m6.1.1.1.1.1.2">𝑞</ci><ci id="S5.SS2.p1.17.m6.1.1.1.1.1.3.cmml" xref="S5.SS2.p1.17.m6.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.17.m6.1c">h_{q}(q_{i})</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.17.m6.1d">italic_h start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math>. By setting <math alttext="K=m" class="ltx_Math" display="inline" id="S5.SS2.p1.18.m7.1"><semantics id="S5.SS2.p1.18.m7.1a"><mrow id="S5.SS2.p1.18.m7.1.1" xref="S5.SS2.p1.18.m7.1.1.cmml"><mi id="S5.SS2.p1.18.m7.1.1.2" xref="S5.SS2.p1.18.m7.1.1.2.cmml">K</mi><mo id="S5.SS2.p1.18.m7.1.1.1" xref="S5.SS2.p1.18.m7.1.1.1.cmml">=</mo><mi id="S5.SS2.p1.18.m7.1.1.3" xref="S5.SS2.p1.18.m7.1.1.3.cmml">m</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.18.m7.1b"><apply id="S5.SS2.p1.18.m7.1.1.cmml" xref="S5.SS2.p1.18.m7.1.1"><eq id="S5.SS2.p1.18.m7.1.1.1.cmml" xref="S5.SS2.p1.18.m7.1.1.1"></eq><ci id="S5.SS2.p1.18.m7.1.1.2.cmml" xref="S5.SS2.p1.18.m7.1.1.2">𝐾</ci><ci id="S5.SS2.p1.18.m7.1.1.3.cmml" xref="S5.SS2.p1.18.m7.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.18.m7.1c">K=m</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.18.m7.1d">italic_K = italic_m</annotation></semantics></math>, for each cluster, we generate one adversarial document by solving Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.E2" title="In 5.2 Attack on the Retriever ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">2</span></a>), then we get the set <math alttext="\mathcal{D}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS2.p1.19.m8.1"><semantics id="S5.SS2.p1.19.m8.1a"><msub id="S5.SS2.p1.19.m8.1.1" xref="S5.SS2.p1.19.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS2.p1.19.m8.1.1.2" xref="S5.SS2.p1.19.m8.1.1.2.cmml">𝒟</mi><mtext id="S5.SS2.p1.19.m8.1.1.3" xref="S5.SS2.p1.19.m8.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.19.m8.1b"><apply id="S5.SS2.p1.19.m8.1.1.cmml" xref="S5.SS2.p1.19.m8.1.1"><csymbol cd="ambiguous" id="S5.SS2.p1.19.m8.1.1.1.cmml" xref="S5.SS2.p1.19.m8.1.1">subscript</csymbol><ci id="S5.SS2.p1.19.m8.1.1.2.cmml" xref="S5.SS2.p1.19.m8.1.1.2">𝒟</ci><ci id="S5.SS2.p1.19.m8.1.1.3a.cmml" xref="S5.SS2.p1.19.m8.1.1.3"><mtext id="S5.SS2.p1.19.m8.1.1.3.cmml" mathsize="70%" xref="S5.SS2.p1.19.m8.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.19.m8.1c">\mathcal{D}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.19.m8.1d">caligraphic_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> with all the trained ARS part.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Attack on the LLM</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.8">The objective is to create a AGS, <math alttext="\mathbf{G}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS3.p1.1.m1.1"><semantics id="S5.SS3.p1.1.m1.1a"><msub id="S5.SS3.p1.1.m1.1.1" xref="S5.SS3.p1.1.m1.1.1.cmml"><mi id="S5.SS3.p1.1.m1.1.1.2" xref="S5.SS3.p1.1.m1.1.1.2.cmml">𝐆</mi><mtext id="S5.SS3.p1.1.m1.1.1.3" xref="S5.SS3.p1.1.m1.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.1.m1.1b"><apply id="S5.SS3.p1.1.m1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.1.m1.1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1">subscript</csymbol><ci id="S5.SS3.p1.1.m1.1.1.2.cmml" xref="S5.SS3.p1.1.m1.1.1.2">𝐆</ci><ci id="S5.SS3.p1.1.m1.1.1.3a.cmml" xref="S5.SS3.p1.1.m1.1.1.3"><mtext id="S5.SS3.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.1.m1.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.1.m1.1c">\mathbf{G}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.1.m1.1d">bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, that, when appended to any ARS, <math alttext="\mathbf{R}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS3.p1.2.m2.1"><semantics id="S5.SS3.p1.2.m2.1a"><msub id="S5.SS3.p1.2.m2.1.1" xref="S5.SS3.p1.2.m2.1.1.cmml"><mi id="S5.SS3.p1.2.m2.1.1.2" xref="S5.SS3.p1.2.m2.1.1.2.cmml">𝐑</mi><mtext id="S5.SS3.p1.2.m2.1.1.3" xref="S5.SS3.p1.2.m2.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.2.m2.1b"><apply id="S5.SS3.p1.2.m2.1.1.cmml" xref="S5.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.2.m2.1.1.1.cmml" xref="S5.SS3.p1.2.m2.1.1">subscript</csymbol><ci id="S5.SS3.p1.2.m2.1.1.2.cmml" xref="S5.SS3.p1.2.m2.1.1.2">𝐑</ci><ci id="S5.SS3.p1.2.m2.1.1.3a.cmml" xref="S5.SS3.p1.2.m2.1.1.3"><mtext id="S5.SS3.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.2.m2.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.2.m2.1c">\mathbf{R}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.2.m2.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, maximizes the likelihood of the LLM generating harmful or undesirable content according to a given ATS, <math alttext="\mathcal{T}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS3.p1.3.m3.1"><semantics id="S5.SS3.p1.3.m3.1a"><msub id="S5.SS3.p1.3.m3.1.1" xref="S5.SS3.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.p1.3.m3.1.1.2" xref="S5.SS3.p1.3.m3.1.1.2.cmml">𝒯</mi><mtext id="S5.SS3.p1.3.m3.1.1.3" xref="S5.SS3.p1.3.m3.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.3.m3.1b"><apply id="S5.SS3.p1.3.m3.1.1.cmml" xref="S5.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.3.m3.1.1.1.cmml" xref="S5.SS3.p1.3.m3.1.1">subscript</csymbol><ci id="S5.SS3.p1.3.m3.1.1.2.cmml" xref="S5.SS3.p1.3.m3.1.1.2">𝒯</ci><ci id="S5.SS3.p1.3.m3.1.1.3a.cmml" xref="S5.SS3.p1.3.m3.1.1.3"><mtext id="S5.SS3.p1.3.m3.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.3.m3.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.3.m3.1c">\mathcal{T}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.3.m3.1d">caligraphic_T start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>. We assume access to a set of <span class="ltx_text ltx_font_italic" id="S5.SS3.p1.8.1">source</span> LLM models <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S5.SS3.p1.4.m4.1"><semantics id="S5.SS3.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.p1.4.m4.1.1" xref="S5.SS3.p1.4.m4.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.4.m4.1b"><ci id="S5.SS3.p1.4.m4.1.1.cmml" xref="S5.SS3.p1.4.m4.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.4.m4.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.4.m4.1d">caligraphic_M</annotation></semantics></math> to craft <math alttext="\mathcal{D}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS3.p1.5.m5.1"><semantics id="S5.SS3.p1.5.m5.1a"><msub id="S5.SS3.p1.5.m5.1.1" xref="S5.SS3.p1.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.p1.5.m5.1.1.2" xref="S5.SS3.p1.5.m5.1.1.2.cmml">𝒟</mi><mtext id="S5.SS3.p1.5.m5.1.1.3" xref="S5.SS3.p1.5.m5.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.5.m5.1b"><apply id="S5.SS3.p1.5.m5.1.1.cmml" xref="S5.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.5.m5.1.1.1.cmml" xref="S5.SS3.p1.5.m5.1.1">subscript</csymbol><ci id="S5.SS3.p1.5.m5.1.1.2.cmml" xref="S5.SS3.p1.5.m5.1.1.2">𝒟</ci><ci id="S5.SS3.p1.5.m5.1.1.3a.cmml" xref="S5.SS3.p1.5.m5.1.1.3"><mtext id="S5.SS3.p1.5.m5.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.5.m5.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.5.m5.1c">\mathcal{D}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.5.m5.1d">caligraphic_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, which is expected to generalize to <span class="ltx_text ltx_font_bold" id="S5.SS3.p1.8.2">unseen</span> <span class="ltx_text ltx_font_italic" id="S5.SS3.p1.8.3">target</span> LLMs.
We formulate the problem as minimizing the NLL loss <math alttext="\ell_{\text{NLL}}" class="ltx_Math" display="inline" id="S5.SS3.p1.6.m6.1"><semantics id="S5.SS3.p1.6.m6.1a"><msub id="S5.SS3.p1.6.m6.1.1" xref="S5.SS3.p1.6.m6.1.1.cmml"><mi id="S5.SS3.p1.6.m6.1.1.2" mathvariant="normal" xref="S5.SS3.p1.6.m6.1.1.2.cmml">ℓ</mi><mtext id="S5.SS3.p1.6.m6.1.1.3" xref="S5.SS3.p1.6.m6.1.1.3a.cmml">NLL</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.6.m6.1b"><apply id="S5.SS3.p1.6.m6.1.1.cmml" xref="S5.SS3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.6.m6.1.1.1.cmml" xref="S5.SS3.p1.6.m6.1.1">subscript</csymbol><ci id="S5.SS3.p1.6.m6.1.1.2.cmml" xref="S5.SS3.p1.6.m6.1.1.2">ℓ</ci><ci id="S5.SS3.p1.6.m6.1.1.3a.cmml" xref="S5.SS3.p1.6.m6.1.1.3"><mtext id="S5.SS3.p1.6.m6.1.1.3.cmml" mathsize="70%" xref="S5.SS3.p1.6.m6.1.1.3">NLL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.6.m6.1c">\ell_{\text{NLL}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.6.m6.1d">roman_ℓ start_POSTSUBSCRIPT NLL end_POSTSUBSCRIPT</annotation></semantics></math> of producing the target sequence <math alttext="{y}^{*}" class="ltx_Math" display="inline" id="S5.SS3.p1.7.m7.1"><semantics id="S5.SS3.p1.7.m7.1a"><msup id="S5.SS3.p1.7.m7.1.1" xref="S5.SS3.p1.7.m7.1.1.cmml"><mi id="S5.SS3.p1.7.m7.1.1.2" xref="S5.SS3.p1.7.m7.1.1.2.cmml">y</mi><mo id="S5.SS3.p1.7.m7.1.1.3" xref="S5.SS3.p1.7.m7.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.7.m7.1b"><apply id="S5.SS3.p1.7.m7.1.1.cmml" xref="S5.SS3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.7.m7.1.1.1.cmml" xref="S5.SS3.p1.7.m7.1.1">superscript</csymbol><ci id="S5.SS3.p1.7.m7.1.1.2.cmml" xref="S5.SS3.p1.7.m7.1.1.2">𝑦</ci><times id="S5.SS3.p1.7.m7.1.1.3.cmml" xref="S5.SS3.p1.7.m7.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.7.m7.1c">{y}^{*}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.7.m7.1d">italic_y start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math>, given a user query <math alttext="q" class="ltx_Math" display="inline" id="S5.SS3.p1.8.m8.1"><semantics id="S5.SS3.p1.8.m8.1a"><mi id="S5.SS3.p1.8.m8.1.1" xref="S5.SS3.p1.8.m8.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.8.m8.1b"><ci id="S5.SS3.p1.8.m8.1.1.cmml" xref="S5.SS3.p1.8.m8.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.8.m8.1c">q</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.8.m8.1d">italic_q</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\min_{\mathbf{G}_{\text{adv}}}\ell_{\text{NLL}}(\hat{y},y^{*})=-\log p(\mathbf%
{y}^{*}|\mathbf{R}_{\text{adv}}\oplus\mathbf{T}_{\text{adv}}\oplus\mathbf{G}_{%
\text{adv}}\oplus q)," class="ltx_Math" display="block" id="S5.E4.m1.2"><semantics id="S5.E4.m1.2a"><mrow id="S5.E4.m1.2.2.1" xref="S5.E4.m1.2.2.1.1.cmml"><mrow id="S5.E4.m1.2.2.1.1" xref="S5.E4.m1.2.2.1.1.cmml"><mrow id="S5.E4.m1.2.2.1.1.1" xref="S5.E4.m1.2.2.1.1.1.cmml"><mrow id="S5.E4.m1.2.2.1.1.1.3" xref="S5.E4.m1.2.2.1.1.1.3.cmml"><munder id="S5.E4.m1.2.2.1.1.1.3.1" xref="S5.E4.m1.2.2.1.1.1.3.1.cmml"><mi id="S5.E4.m1.2.2.1.1.1.3.1.2" xref="S5.E4.m1.2.2.1.1.1.3.1.2.cmml">min</mi><msub id="S5.E4.m1.2.2.1.1.1.3.1.3" xref="S5.E4.m1.2.2.1.1.1.3.1.3.cmml"><mi id="S5.E4.m1.2.2.1.1.1.3.1.3.2" xref="S5.E4.m1.2.2.1.1.1.3.1.3.2.cmml">𝐆</mi><mtext id="S5.E4.m1.2.2.1.1.1.3.1.3.3" xref="S5.E4.m1.2.2.1.1.1.3.1.3.3a.cmml">adv</mtext></msub></munder><mo id="S5.E4.m1.2.2.1.1.1.3a" lspace="0.167em" xref="S5.E4.m1.2.2.1.1.1.3.cmml">⁡</mo><msub id="S5.E4.m1.2.2.1.1.1.3.2" xref="S5.E4.m1.2.2.1.1.1.3.2.cmml"><mi id="S5.E4.m1.2.2.1.1.1.3.2.2" mathvariant="normal" xref="S5.E4.m1.2.2.1.1.1.3.2.2.cmml">ℓ</mi><mtext id="S5.E4.m1.2.2.1.1.1.3.2.3" xref="S5.E4.m1.2.2.1.1.1.3.2.3a.cmml">NLL</mtext></msub></mrow><mo id="S5.E4.m1.2.2.1.1.1.2" xref="S5.E4.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S5.E4.m1.2.2.1.1.1.1.1" xref="S5.E4.m1.2.2.1.1.1.1.2.cmml"><mo id="S5.E4.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S5.E4.m1.2.2.1.1.1.1.2.cmml">(</mo><mover accent="true" id="S5.E4.m1.1.1" xref="S5.E4.m1.1.1.cmml"><mi id="S5.E4.m1.1.1.2" xref="S5.E4.m1.1.1.2.cmml">y</mi><mo id="S5.E4.m1.1.1.1" xref="S5.E4.m1.1.1.1.cmml">^</mo></mover><mo id="S5.E4.m1.2.2.1.1.1.1.1.3" xref="S5.E4.m1.2.2.1.1.1.1.2.cmml">,</mo><msup id="S5.E4.m1.2.2.1.1.1.1.1.1" xref="S5.E4.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S5.E4.m1.2.2.1.1.1.1.1.1.2" xref="S5.E4.m1.2.2.1.1.1.1.1.1.2.cmml">y</mi><mo id="S5.E4.m1.2.2.1.1.1.1.1.1.3" xref="S5.E4.m1.2.2.1.1.1.1.1.1.3.cmml">∗</mo></msup><mo id="S5.E4.m1.2.2.1.1.1.1.1.4" stretchy="false" xref="S5.E4.m1.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S5.E4.m1.2.2.1.1.3" xref="S5.E4.m1.2.2.1.1.3.cmml">=</mo><mrow id="S5.E4.m1.2.2.1.1.2" xref="S5.E4.m1.2.2.1.1.2.cmml"><mo id="S5.E4.m1.2.2.1.1.2a" rspace="0.167em" xref="S5.E4.m1.2.2.1.1.2.cmml">−</mo><mrow id="S5.E4.m1.2.2.1.1.2.1" xref="S5.E4.m1.2.2.1.1.2.1.cmml"><mrow id="S5.E4.m1.2.2.1.1.2.1.3" xref="S5.E4.m1.2.2.1.1.2.1.3.cmml"><mi id="S5.E4.m1.2.2.1.1.2.1.3.1" xref="S5.E4.m1.2.2.1.1.2.1.3.1.cmml">log</mi><mo id="S5.E4.m1.2.2.1.1.2.1.3a" lspace="0.167em" xref="S5.E4.m1.2.2.1.1.2.1.3.cmml">⁡</mo><mi id="S5.E4.m1.2.2.1.1.2.1.3.2" xref="S5.E4.m1.2.2.1.1.2.1.3.2.cmml">p</mi></mrow><mo id="S5.E4.m1.2.2.1.1.2.1.2" xref="S5.E4.m1.2.2.1.1.2.1.2.cmml">⁢</mo><mrow id="S5.E4.m1.2.2.1.1.2.1.1.1" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.cmml"><mo id="S5.E4.m1.2.2.1.1.2.1.1.1.2" stretchy="false" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S5.E4.m1.2.2.1.1.2.1.1.1.1" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.cmml"><msup id="S5.E4.m1.2.2.1.1.2.1.1.1.1.2" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.2.cmml"><mi id="S5.E4.m1.2.2.1.1.2.1.1.1.1.2.2" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.2.2.cmml">𝐲</mi><mo id="S5.E4.m1.2.2.1.1.2.1.1.1.1.2.3" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.2.3.cmml">∗</mo></msup><mo fence="false" id="S5.E4.m1.2.2.1.1.2.1.1.1.1.1" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.1.cmml">|</mo><mrow id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.cmml"><msub id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.cmml"><mi id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.2" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.2.cmml">𝐑</mi><mtext id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.3" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.3a.cmml">adv</mtext></msub><mo id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.1" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.1.cmml">⊕</mo><msub id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.cmml"><mi id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.2" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.2.cmml">𝐓</mi><mtext id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.3" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.3a.cmml">adv</mtext></msub><mo id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.1a" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.1.cmml">⊕</mo><msub id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.cmml"><mi id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.2" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.2.cmml">𝐆</mi><mtext id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.3" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.3a.cmml">adv</mtext></msub><mo id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.1b" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.1.cmml">⊕</mo><mi id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.5" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.5.cmml">q</mi></mrow></mrow><mo id="S5.E4.m1.2.2.1.1.2.1.1.1.3" stretchy="false" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S5.E4.m1.2.2.1.2" xref="S5.E4.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E4.m1.2b"><apply id="S5.E4.m1.2.2.1.1.cmml" xref="S5.E4.m1.2.2.1"><eq id="S5.E4.m1.2.2.1.1.3.cmml" xref="S5.E4.m1.2.2.1.1.3"></eq><apply id="S5.E4.m1.2.2.1.1.1.cmml" xref="S5.E4.m1.2.2.1.1.1"><times id="S5.E4.m1.2.2.1.1.1.2.cmml" xref="S5.E4.m1.2.2.1.1.1.2"></times><apply id="S5.E4.m1.2.2.1.1.1.3.cmml" xref="S5.E4.m1.2.2.1.1.1.3"><apply id="S5.E4.m1.2.2.1.1.1.3.1.cmml" xref="S5.E4.m1.2.2.1.1.1.3.1"><csymbol cd="ambiguous" id="S5.E4.m1.2.2.1.1.1.3.1.1.cmml" xref="S5.E4.m1.2.2.1.1.1.3.1">subscript</csymbol><min id="S5.E4.m1.2.2.1.1.1.3.1.2.cmml" xref="S5.E4.m1.2.2.1.1.1.3.1.2"></min><apply id="S5.E4.m1.2.2.1.1.1.3.1.3.cmml" xref="S5.E4.m1.2.2.1.1.1.3.1.3"><csymbol cd="ambiguous" id="S5.E4.m1.2.2.1.1.1.3.1.3.1.cmml" xref="S5.E4.m1.2.2.1.1.1.3.1.3">subscript</csymbol><ci id="S5.E4.m1.2.2.1.1.1.3.1.3.2.cmml" xref="S5.E4.m1.2.2.1.1.1.3.1.3.2">𝐆</ci><ci id="S5.E4.m1.2.2.1.1.1.3.1.3.3a.cmml" xref="S5.E4.m1.2.2.1.1.1.3.1.3.3"><mtext id="S5.E4.m1.2.2.1.1.1.3.1.3.3.cmml" mathsize="50%" xref="S5.E4.m1.2.2.1.1.1.3.1.3.3">adv</mtext></ci></apply></apply><apply id="S5.E4.m1.2.2.1.1.1.3.2.cmml" xref="S5.E4.m1.2.2.1.1.1.3.2"><csymbol cd="ambiguous" id="S5.E4.m1.2.2.1.1.1.3.2.1.cmml" xref="S5.E4.m1.2.2.1.1.1.3.2">subscript</csymbol><ci id="S5.E4.m1.2.2.1.1.1.3.2.2.cmml" xref="S5.E4.m1.2.2.1.1.1.3.2.2">ℓ</ci><ci id="S5.E4.m1.2.2.1.1.1.3.2.3a.cmml" xref="S5.E4.m1.2.2.1.1.1.3.2.3"><mtext id="S5.E4.m1.2.2.1.1.1.3.2.3.cmml" mathsize="70%" xref="S5.E4.m1.2.2.1.1.1.3.2.3">NLL</mtext></ci></apply></apply><interval closure="open" id="S5.E4.m1.2.2.1.1.1.1.2.cmml" xref="S5.E4.m1.2.2.1.1.1.1.1"><apply id="S5.E4.m1.1.1.cmml" xref="S5.E4.m1.1.1"><ci id="S5.E4.m1.1.1.1.cmml" xref="S5.E4.m1.1.1.1">^</ci><ci id="S5.E4.m1.1.1.2.cmml" xref="S5.E4.m1.1.1.2">𝑦</ci></apply><apply id="S5.E4.m1.2.2.1.1.1.1.1.1.cmml" xref="S5.E4.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E4.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S5.E4.m1.2.2.1.1.1.1.1.1">superscript</csymbol><ci id="S5.E4.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S5.E4.m1.2.2.1.1.1.1.1.1.2">𝑦</ci><times id="S5.E4.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S5.E4.m1.2.2.1.1.1.1.1.1.3"></times></apply></interval></apply><apply id="S5.E4.m1.2.2.1.1.2.cmml" xref="S5.E4.m1.2.2.1.1.2"><minus id="S5.E4.m1.2.2.1.1.2.2.cmml" xref="S5.E4.m1.2.2.1.1.2"></minus><apply id="S5.E4.m1.2.2.1.1.2.1.cmml" xref="S5.E4.m1.2.2.1.1.2.1"><times id="S5.E4.m1.2.2.1.1.2.1.2.cmml" xref="S5.E4.m1.2.2.1.1.2.1.2"></times><apply id="S5.E4.m1.2.2.1.1.2.1.3.cmml" xref="S5.E4.m1.2.2.1.1.2.1.3"><log id="S5.E4.m1.2.2.1.1.2.1.3.1.cmml" xref="S5.E4.m1.2.2.1.1.2.1.3.1"></log><ci id="S5.E4.m1.2.2.1.1.2.1.3.2.cmml" xref="S5.E4.m1.2.2.1.1.2.1.3.2">𝑝</ci></apply><apply id="S5.E4.m1.2.2.1.1.2.1.1.1.1.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1"><csymbol cd="latexml" id="S5.E4.m1.2.2.1.1.2.1.1.1.1.1.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.1">conditional</csymbol><apply id="S5.E4.m1.2.2.1.1.2.1.1.1.1.2.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.E4.m1.2.2.1.1.2.1.1.1.1.2.1.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.2">superscript</csymbol><ci id="S5.E4.m1.2.2.1.1.2.1.1.1.1.2.2.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.2.2">𝐲</ci><times id="S5.E4.m1.2.2.1.1.2.1.1.1.1.2.3.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.2.3"></times></apply><apply id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3"><csymbol cd="latexml" id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.1.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.1">direct-sum</csymbol><apply id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.1.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2">subscript</csymbol><ci id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.2.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.2">𝐑</ci><ci id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.3a.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.3"><mtext id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.3.cmml" mathsize="70%" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.2.3">adv</mtext></ci></apply><apply id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.1.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3">subscript</csymbol><ci id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.2.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.2">𝐓</ci><ci id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.3a.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.3"><mtext id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.3.cmml" mathsize="70%" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.3.3">adv</mtext></ci></apply><apply id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4"><csymbol cd="ambiguous" id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.1.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4">subscript</csymbol><ci id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.2.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.2">𝐆</ci><ci id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.3a.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.3"><mtext id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.3.cmml" mathsize="70%" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.4.3">adv</mtext></ci></apply><ci id="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.5.cmml" xref="S5.E4.m1.2.2.1.1.2.1.1.1.1.3.5">𝑞</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E4.m1.2c">\min_{\mathbf{G}_{\text{adv}}}\ell_{\text{NLL}}(\hat{y},y^{*})=-\log p(\mathbf%
{y}^{*}|\mathbf{R}_{\text{adv}}\oplus\mathbf{T}_{\text{adv}}\oplus\mathbf{G}_{%
\text{adv}}\oplus q),</annotation><annotation encoding="application/x-llamapun" id="S5.E4.m1.2d">roman_min start_POSTSUBSCRIPT bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_ℓ start_POSTSUBSCRIPT NLL end_POSTSUBSCRIPT ( over^ start_ARG italic_y end_ARG , italic_y start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT ) = - roman_log italic_p ( bold_y start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT | bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ⊕ bold_T start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ⊕ bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ⊕ italic_q ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS3.p1.9">where <math alttext="y^{*}" class="ltx_Math" display="inline" id="S5.SS3.p1.9.m1.1"><semantics id="S5.SS3.p1.9.m1.1a"><msup id="S5.SS3.p1.9.m1.1.1" xref="S5.SS3.p1.9.m1.1.1.cmml"><mi id="S5.SS3.p1.9.m1.1.1.2" xref="S5.SS3.p1.9.m1.1.1.2.cmml">y</mi><mo id="S5.SS3.p1.9.m1.1.1.3" xref="S5.SS3.p1.9.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.9.m1.1b"><apply id="S5.SS3.p1.9.m1.1.1.cmml" xref="S5.SS3.p1.9.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.9.m1.1.1.1.cmml" xref="S5.SS3.p1.9.m1.1.1">superscript</csymbol><ci id="S5.SS3.p1.9.m1.1.1.2.cmml" xref="S5.SS3.p1.9.m1.1.1.2">𝑦</ci><times id="S5.SS3.p1.9.m1.1.1.3.cmml" xref="S5.SS3.p1.9.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.9.m1.1c">y^{*}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.9.m1.1d">italic_y start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> represents the targeted harmful response.</p>
</div>
<div class="ltx_para" id="S5.SS3.p2">
<p class="ltx_p" id="S5.SS3.p2.5">To find the optimal AGS, we employ a gradient-based approach combined with greedy search for efficient token replacement. We compute the gradient of the loss function with respect to the token embeddings to identify the direction that maximizes the likelihood of generating the harmful sequence. The gradient with respect to the embedding of the <math alttext="i" class="ltx_Math" display="inline" id="S5.SS3.p2.1.m1.1"><semantics id="S5.SS3.p2.1.m1.1a"><mi id="S5.SS3.p2.1.m1.1.1" xref="S5.SS3.p2.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.1.m1.1b"><ci id="S5.SS3.p2.1.m1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.1.m1.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.1.m1.1d">italic_i</annotation></semantics></math>-th token <math alttext="x_{i}" class="ltx_Math" display="inline" id="S5.SS3.p2.2.m2.1"><semantics id="S5.SS3.p2.2.m2.1a"><msub id="S5.SS3.p2.2.m2.1.1" xref="S5.SS3.p2.2.m2.1.1.cmml"><mi id="S5.SS3.p2.2.m2.1.1.2" xref="S5.SS3.p2.2.m2.1.1.2.cmml">x</mi><mi id="S5.SS3.p2.2.m2.1.1.3" xref="S5.SS3.p2.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.2.m2.1b"><apply id="S5.SS3.p2.2.m2.1.1.cmml" xref="S5.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.2.m2.1.1.1.cmml" xref="S5.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S5.SS3.p2.2.m2.1.1.2.cmml" xref="S5.SS3.p2.2.m2.1.1.2">𝑥</ci><ci id="S5.SS3.p2.2.m2.1.1.3.cmml" xref="S5.SS3.p2.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.2.m2.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.2.m2.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is given by:
<math alttext="\nabla_{\mathbf{e}_{x_{i}}}\ell_{\text{NLL}}(\hat{y})=\frac{\partial\ell_{%
\text{NLL}}(\mathbf{x})}{\partial\mathbf{e}_{x_{i}}}" class="ltx_Math" display="inline" id="S5.SS3.p2.3.m3.2"><semantics id="S5.SS3.p2.3.m3.2a"><mrow id="S5.SS3.p2.3.m3.2.3" xref="S5.SS3.p2.3.m3.2.3.cmml"><mrow id="S5.SS3.p2.3.m3.2.3.2" xref="S5.SS3.p2.3.m3.2.3.2.cmml"><mrow id="S5.SS3.p2.3.m3.2.3.2.2" xref="S5.SS3.p2.3.m3.2.3.2.2.cmml"><msub id="S5.SS3.p2.3.m3.2.3.2.2.1" xref="S5.SS3.p2.3.m3.2.3.2.2.1.cmml"><mo id="S5.SS3.p2.3.m3.2.3.2.2.1.2" xref="S5.SS3.p2.3.m3.2.3.2.2.1.2.cmml">∇</mo><msub id="S5.SS3.p2.3.m3.2.3.2.2.1.3" xref="S5.SS3.p2.3.m3.2.3.2.2.1.3.cmml"><mi id="S5.SS3.p2.3.m3.2.3.2.2.1.3.2" xref="S5.SS3.p2.3.m3.2.3.2.2.1.3.2.cmml">𝐞</mi><msub id="S5.SS3.p2.3.m3.2.3.2.2.1.3.3" xref="S5.SS3.p2.3.m3.2.3.2.2.1.3.3.cmml"><mi id="S5.SS3.p2.3.m3.2.3.2.2.1.3.3.2" xref="S5.SS3.p2.3.m3.2.3.2.2.1.3.3.2.cmml">x</mi><mi id="S5.SS3.p2.3.m3.2.3.2.2.1.3.3.3" xref="S5.SS3.p2.3.m3.2.3.2.2.1.3.3.3.cmml">i</mi></msub></msub></msub><msub id="S5.SS3.p2.3.m3.2.3.2.2.2" xref="S5.SS3.p2.3.m3.2.3.2.2.2.cmml"><mi id="S5.SS3.p2.3.m3.2.3.2.2.2.2" mathvariant="normal" xref="S5.SS3.p2.3.m3.2.3.2.2.2.2.cmml">ℓ</mi><mtext id="S5.SS3.p2.3.m3.2.3.2.2.2.3" xref="S5.SS3.p2.3.m3.2.3.2.2.2.3a.cmml">NLL</mtext></msub></mrow><mo id="S5.SS3.p2.3.m3.2.3.2.1" xref="S5.SS3.p2.3.m3.2.3.2.1.cmml">⁢</mo><mrow id="S5.SS3.p2.3.m3.2.3.2.3.2" xref="S5.SS3.p2.3.m3.2.2.cmml"><mo id="S5.SS3.p2.3.m3.2.3.2.3.2.1" stretchy="false" xref="S5.SS3.p2.3.m3.2.2.cmml">(</mo><mover accent="true" id="S5.SS3.p2.3.m3.2.2" xref="S5.SS3.p2.3.m3.2.2.cmml"><mi id="S5.SS3.p2.3.m3.2.2.2" xref="S5.SS3.p2.3.m3.2.2.2.cmml">y</mi><mo id="S5.SS3.p2.3.m3.2.2.1" xref="S5.SS3.p2.3.m3.2.2.1.cmml">^</mo></mover><mo id="S5.SS3.p2.3.m3.2.3.2.3.2.2" stretchy="false" xref="S5.SS3.p2.3.m3.2.2.cmml">)</mo></mrow></mrow><mo id="S5.SS3.p2.3.m3.2.3.1" xref="S5.SS3.p2.3.m3.2.3.1.cmml">=</mo><mfrac id="S5.SS3.p2.3.m3.1.1" xref="S5.SS3.p2.3.m3.1.1.cmml"><mrow id="S5.SS3.p2.3.m3.1.1.1" xref="S5.SS3.p2.3.m3.1.1.1.cmml"><mo id="S5.SS3.p2.3.m3.1.1.1.2" rspace="0em" xref="S5.SS3.p2.3.m3.1.1.1.2.cmml">∂</mo><mrow id="S5.SS3.p2.3.m3.1.1.1.3" xref="S5.SS3.p2.3.m3.1.1.1.3.cmml"><msub id="S5.SS3.p2.3.m3.1.1.1.3.2" xref="S5.SS3.p2.3.m3.1.1.1.3.2.cmml"><mi id="S5.SS3.p2.3.m3.1.1.1.3.2.2" mathvariant="normal" xref="S5.SS3.p2.3.m3.1.1.1.3.2.2.cmml">ℓ</mi><mtext id="S5.SS3.p2.3.m3.1.1.1.3.2.3" xref="S5.SS3.p2.3.m3.1.1.1.3.2.3a.cmml">NLL</mtext></msub><mo id="S5.SS3.p2.3.m3.1.1.1.3.1" xref="S5.SS3.p2.3.m3.1.1.1.3.1.cmml">⁢</mo><mrow id="S5.SS3.p2.3.m3.1.1.1.3.3.2" xref="S5.SS3.p2.3.m3.1.1.1.3.cmml"><mo id="S5.SS3.p2.3.m3.1.1.1.3.3.2.1" stretchy="false" xref="S5.SS3.p2.3.m3.1.1.1.3.cmml">(</mo><mi id="S5.SS3.p2.3.m3.1.1.1.1" xref="S5.SS3.p2.3.m3.1.1.1.1.cmml">𝐱</mi><mo id="S5.SS3.p2.3.m3.1.1.1.3.3.2.2" stretchy="false" xref="S5.SS3.p2.3.m3.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mrow id="S5.SS3.p2.3.m3.1.1.3" xref="S5.SS3.p2.3.m3.1.1.3.cmml"><mo id="S5.SS3.p2.3.m3.1.1.3.1" rspace="0em" xref="S5.SS3.p2.3.m3.1.1.3.1.cmml">∂</mo><msub id="S5.SS3.p2.3.m3.1.1.3.2" xref="S5.SS3.p2.3.m3.1.1.3.2.cmml"><mi id="S5.SS3.p2.3.m3.1.1.3.2.2" xref="S5.SS3.p2.3.m3.1.1.3.2.2.cmml">𝐞</mi><msub id="S5.SS3.p2.3.m3.1.1.3.2.3" xref="S5.SS3.p2.3.m3.1.1.3.2.3.cmml"><mi id="S5.SS3.p2.3.m3.1.1.3.2.3.2" xref="S5.SS3.p2.3.m3.1.1.3.2.3.2.cmml">x</mi><mi id="S5.SS3.p2.3.m3.1.1.3.2.3.3" xref="S5.SS3.p2.3.m3.1.1.3.2.3.3.cmml">i</mi></msub></msub></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.3.m3.2b"><apply id="S5.SS3.p2.3.m3.2.3.cmml" xref="S5.SS3.p2.3.m3.2.3"><eq id="S5.SS3.p2.3.m3.2.3.1.cmml" xref="S5.SS3.p2.3.m3.2.3.1"></eq><apply id="S5.SS3.p2.3.m3.2.3.2.cmml" xref="S5.SS3.p2.3.m3.2.3.2"><times id="S5.SS3.p2.3.m3.2.3.2.1.cmml" xref="S5.SS3.p2.3.m3.2.3.2.1"></times><apply id="S5.SS3.p2.3.m3.2.3.2.2.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2"><apply id="S5.SS3.p2.3.m3.2.3.2.2.1.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.1"><csymbol cd="ambiguous" id="S5.SS3.p2.3.m3.2.3.2.2.1.1.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.1">subscript</csymbol><ci id="S5.SS3.p2.3.m3.2.3.2.2.1.2.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.1.2">∇</ci><apply id="S5.SS3.p2.3.m3.2.3.2.2.1.3.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.1.3"><csymbol cd="ambiguous" id="S5.SS3.p2.3.m3.2.3.2.2.1.3.1.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.1.3">subscript</csymbol><ci id="S5.SS3.p2.3.m3.2.3.2.2.1.3.2.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.1.3.2">𝐞</ci><apply id="S5.SS3.p2.3.m3.2.3.2.2.1.3.3.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.1.3.3"><csymbol cd="ambiguous" id="S5.SS3.p2.3.m3.2.3.2.2.1.3.3.1.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.1.3.3">subscript</csymbol><ci id="S5.SS3.p2.3.m3.2.3.2.2.1.3.3.2.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.1.3.3.2">𝑥</ci><ci id="S5.SS3.p2.3.m3.2.3.2.2.1.3.3.3.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.1.3.3.3">𝑖</ci></apply></apply></apply><apply id="S5.SS3.p2.3.m3.2.3.2.2.2.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.2"><csymbol cd="ambiguous" id="S5.SS3.p2.3.m3.2.3.2.2.2.1.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.2">subscript</csymbol><ci id="S5.SS3.p2.3.m3.2.3.2.2.2.2.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.2.2">ℓ</ci><ci id="S5.SS3.p2.3.m3.2.3.2.2.2.3a.cmml" xref="S5.SS3.p2.3.m3.2.3.2.2.2.3"><mtext id="S5.SS3.p2.3.m3.2.3.2.2.2.3.cmml" mathsize="70%" xref="S5.SS3.p2.3.m3.2.3.2.2.2.3">NLL</mtext></ci></apply></apply><apply id="S5.SS3.p2.3.m3.2.2.cmml" xref="S5.SS3.p2.3.m3.2.3.2.3.2"><ci id="S5.SS3.p2.3.m3.2.2.1.cmml" xref="S5.SS3.p2.3.m3.2.2.1">^</ci><ci id="S5.SS3.p2.3.m3.2.2.2.cmml" xref="S5.SS3.p2.3.m3.2.2.2">𝑦</ci></apply></apply><apply id="S5.SS3.p2.3.m3.1.1.cmml" xref="S5.SS3.p2.3.m3.1.1"><divide id="S5.SS3.p2.3.m3.1.1.2.cmml" xref="S5.SS3.p2.3.m3.1.1"></divide><apply id="S5.SS3.p2.3.m3.1.1.1.cmml" xref="S5.SS3.p2.3.m3.1.1.1"><partialdiff id="S5.SS3.p2.3.m3.1.1.1.2.cmml" xref="S5.SS3.p2.3.m3.1.1.1.2"></partialdiff><apply id="S5.SS3.p2.3.m3.1.1.1.3.cmml" xref="S5.SS3.p2.3.m3.1.1.1.3"><times id="S5.SS3.p2.3.m3.1.1.1.3.1.cmml" xref="S5.SS3.p2.3.m3.1.1.1.3.1"></times><apply id="S5.SS3.p2.3.m3.1.1.1.3.2.cmml" xref="S5.SS3.p2.3.m3.1.1.1.3.2"><csymbol cd="ambiguous" id="S5.SS3.p2.3.m3.1.1.1.3.2.1.cmml" xref="S5.SS3.p2.3.m3.1.1.1.3.2">subscript</csymbol><ci id="S5.SS3.p2.3.m3.1.1.1.3.2.2.cmml" xref="S5.SS3.p2.3.m3.1.1.1.3.2.2">ℓ</ci><ci id="S5.SS3.p2.3.m3.1.1.1.3.2.3a.cmml" xref="S5.SS3.p2.3.m3.1.1.1.3.2.3"><mtext id="S5.SS3.p2.3.m3.1.1.1.3.2.3.cmml" mathsize="50%" xref="S5.SS3.p2.3.m3.1.1.1.3.2.3">NLL</mtext></ci></apply><ci id="S5.SS3.p2.3.m3.1.1.1.1.cmml" xref="S5.SS3.p2.3.m3.1.1.1.1">𝐱</ci></apply></apply><apply id="S5.SS3.p2.3.m3.1.1.3.cmml" xref="S5.SS3.p2.3.m3.1.1.3"><partialdiff id="S5.SS3.p2.3.m3.1.1.3.1.cmml" xref="S5.SS3.p2.3.m3.1.1.3.1"></partialdiff><apply id="S5.SS3.p2.3.m3.1.1.3.2.cmml" xref="S5.SS3.p2.3.m3.1.1.3.2"><csymbol cd="ambiguous" id="S5.SS3.p2.3.m3.1.1.3.2.1.cmml" xref="S5.SS3.p2.3.m3.1.1.3.2">subscript</csymbol><ci id="S5.SS3.p2.3.m3.1.1.3.2.2.cmml" xref="S5.SS3.p2.3.m3.1.1.3.2.2">𝐞</ci><apply id="S5.SS3.p2.3.m3.1.1.3.2.3.cmml" xref="S5.SS3.p2.3.m3.1.1.3.2.3"><csymbol cd="ambiguous" id="S5.SS3.p2.3.m3.1.1.3.2.3.1.cmml" xref="S5.SS3.p2.3.m3.1.1.3.2.3">subscript</csymbol><ci id="S5.SS3.p2.3.m3.1.1.3.2.3.2.cmml" xref="S5.SS3.p2.3.m3.1.1.3.2.3.2">𝑥</ci><ci id="S5.SS3.p2.3.m3.1.1.3.2.3.3.cmml" xref="S5.SS3.p2.3.m3.1.1.3.2.3.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.3.m3.2c">\nabla_{\mathbf{e}_{x_{i}}}\ell_{\text{NLL}}(\hat{y})=\frac{\partial\ell_{%
\text{NLL}}(\mathbf{x})}{\partial\mathbf{e}_{x_{i}}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.3.m3.2d">∇ start_POSTSUBSCRIPT bold_e start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_ℓ start_POSTSUBSCRIPT NLL end_POSTSUBSCRIPT ( over^ start_ARG italic_y end_ARG ) = divide start_ARG ∂ roman_ℓ start_POSTSUBSCRIPT NLL end_POSTSUBSCRIPT ( bold_x ) end_ARG start_ARG ∂ bold_e start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_ARG</annotation></semantics></math>,
where <math alttext="\mathbf{e}_{x_{i}}" class="ltx_Math" display="inline" id="S5.SS3.p2.4.m4.1"><semantics id="S5.SS3.p2.4.m4.1a"><msub id="S5.SS3.p2.4.m4.1.1" xref="S5.SS3.p2.4.m4.1.1.cmml"><mi id="S5.SS3.p2.4.m4.1.1.2" xref="S5.SS3.p2.4.m4.1.1.2.cmml">𝐞</mi><msub id="S5.SS3.p2.4.m4.1.1.3" xref="S5.SS3.p2.4.m4.1.1.3.cmml"><mi id="S5.SS3.p2.4.m4.1.1.3.2" xref="S5.SS3.p2.4.m4.1.1.3.2.cmml">x</mi><mi id="S5.SS3.p2.4.m4.1.1.3.3" xref="S5.SS3.p2.4.m4.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.4.m4.1b"><apply id="S5.SS3.p2.4.m4.1.1.cmml" xref="S5.SS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.4.m4.1.1.1.cmml" xref="S5.SS3.p2.4.m4.1.1">subscript</csymbol><ci id="S5.SS3.p2.4.m4.1.1.2.cmml" xref="S5.SS3.p2.4.m4.1.1.2">𝐞</ci><apply id="S5.SS3.p2.4.m4.1.1.3.cmml" xref="S5.SS3.p2.4.m4.1.1.3"><csymbol cd="ambiguous" id="S5.SS3.p2.4.m4.1.1.3.1.cmml" xref="S5.SS3.p2.4.m4.1.1.3">subscript</csymbol><ci id="S5.SS3.p2.4.m4.1.1.3.2.cmml" xref="S5.SS3.p2.4.m4.1.1.3.2">𝑥</ci><ci id="S5.SS3.p2.4.m4.1.1.3.3.cmml" xref="S5.SS3.p2.4.m4.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.4.m4.1c">\mathbf{e}_{x_{i}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.4.m4.1d">bold_e start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> denotes the embedding of token <math alttext="x_{i}" class="ltx_Math" display="inline" id="S5.SS3.p2.5.m5.1"><semantics id="S5.SS3.p2.5.m5.1a"><msub id="S5.SS3.p2.5.m5.1.1" xref="S5.SS3.p2.5.m5.1.1.cmml"><mi id="S5.SS3.p2.5.m5.1.1.2" xref="S5.SS3.p2.5.m5.1.1.2.cmml">x</mi><mi id="S5.SS3.p2.5.m5.1.1.3" xref="S5.SS3.p2.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.5.m5.1b"><apply id="S5.SS3.p2.5.m5.1.1.cmml" xref="S5.SS3.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.5.m5.1.1.1.cmml" xref="S5.SS3.p2.5.m5.1.1">subscript</csymbol><ci id="S5.SS3.p2.5.m5.1.1.2.cmml" xref="S5.SS3.p2.5.m5.1.1.2">𝑥</ci><ci id="S5.SS3.p2.5.m5.1.1.3.cmml" xref="S5.SS3.p2.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.5.m5.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.5.m5.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S5.SS3.p3">
<p class="ltx_p" id="S5.SS3.p3.4">Using the computed gradients, we iteratively select tokens from the vocabulary <math alttext="\mathcal{V}" class="ltx_Math" display="inline" id="S5.SS3.p3.1.m1.1"><semantics id="S5.SS3.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.p3.1.m1.1.1" xref="S5.SS3.p3.1.m1.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.1.m1.1b"><ci id="S5.SS3.p3.1.m1.1.1.cmml" xref="S5.SS3.p3.1.m1.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.1.m1.1c">\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.1.m1.1d">caligraphic_V</annotation></semantics></math> that minimize the loss function. At each step, we replace a token <math alttext="x_{i}" class="ltx_Math" display="inline" id="S5.SS3.p3.2.m2.1"><semantics id="S5.SS3.p3.2.m2.1a"><msub id="S5.SS3.p3.2.m2.1.1" xref="S5.SS3.p3.2.m2.1.1.cmml"><mi id="S5.SS3.p3.2.m2.1.1.2" xref="S5.SS3.p3.2.m2.1.1.2.cmml">x</mi><mi id="S5.SS3.p3.2.m2.1.1.3" xref="S5.SS3.p3.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.2.m2.1b"><apply id="S5.SS3.p3.2.m2.1.1.cmml" xref="S5.SS3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.p3.2.m2.1.1.1.cmml" xref="S5.SS3.p3.2.m2.1.1">subscript</csymbol><ci id="S5.SS3.p3.2.m2.1.1.2.cmml" xref="S5.SS3.p3.2.m2.1.1.2">𝑥</ci><ci id="S5.SS3.p3.2.m2.1.1.3.cmml" xref="S5.SS3.p3.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.2.m2.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.2.m2.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in the query with a new token <math alttext="x_{i}^{\prime}" class="ltx_Math" display="inline" id="S5.SS3.p3.3.m3.1"><semantics id="S5.SS3.p3.3.m3.1a"><msubsup id="S5.SS3.p3.3.m3.1.1" xref="S5.SS3.p3.3.m3.1.1.cmml"><mi id="S5.SS3.p3.3.m3.1.1.2.2" xref="S5.SS3.p3.3.m3.1.1.2.2.cmml">x</mi><mi id="S5.SS3.p3.3.m3.1.1.2.3" xref="S5.SS3.p3.3.m3.1.1.2.3.cmml">i</mi><mo id="S5.SS3.p3.3.m3.1.1.3" xref="S5.SS3.p3.3.m3.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.3.m3.1b"><apply id="S5.SS3.p3.3.m3.1.1.cmml" xref="S5.SS3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS3.p3.3.m3.1.1.1.cmml" xref="S5.SS3.p3.3.m3.1.1">superscript</csymbol><apply id="S5.SS3.p3.3.m3.1.1.2.cmml" xref="S5.SS3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS3.p3.3.m3.1.1.2.1.cmml" xref="S5.SS3.p3.3.m3.1.1">subscript</csymbol><ci id="S5.SS3.p3.3.m3.1.1.2.2.cmml" xref="S5.SS3.p3.3.m3.1.1.2.2">𝑥</ci><ci id="S5.SS3.p3.3.m3.1.1.2.3.cmml" xref="S5.SS3.p3.3.m3.1.1.2.3">𝑖</ci></apply><ci id="S5.SS3.p3.3.m3.1.1.3.cmml" xref="S5.SS3.p3.3.m3.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.3.m3.1c">x_{i}^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.3.m3.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> from <math alttext="\mathcal{V}" class="ltx_Math" display="inline" id="S5.SS3.p3.4.m4.1"><semantics id="S5.SS3.p3.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.p3.4.m4.1.1" xref="S5.SS3.p3.4.m4.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.4.m4.1b"><ci id="S5.SS3.p3.4.m4.1.1.cmml" xref="S5.SS3.p3.4.m4.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.4.m4.1c">\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.4.m4.1d">caligraphic_V</annotation></semantics></math> and update the AGS.
The replacement is chosen based on the token that provides the largest decrease in the NLL loss defined in Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.E4" title="In 5.3 Attack on the LLM ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">4</span></a>).</p>
</div>
<div class="ltx_para" id="S5.SS3.p4">
<p class="ltx_p" id="S5.SS3.p4.1">To strengthen the transferability of AGS to unseen black-box LLMs, we deploy the <span class="ltx_text ltx_font_italic" id="S5.SS3.p4.1.1">ensemble</span> method <cite class="ltx_cite ltx_citemacro_cite">Zou et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib58" title="">2023</a>)</cite> by optimizing it across multiple ATS and language models. The resulting AGS is refined by aggregating the loss over a set of models <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S5.SS3.p4.1.m1.1"><semantics id="S5.SS3.p4.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.p4.1.m1.1.1" xref="S5.SS3.p4.1.m1.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p4.1.m1.1b"><ci id="S5.SS3.p4.1.m1.1.1.cmml" xref="S5.SS3.p4.1.m1.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p4.1.m1.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p4.1.m1.1d">caligraphic_M</annotation></semantics></math>. The objective is then formulated as:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{G}_{\text{adv}}=\arg\min_{\mathbf{G}_{\text{adv}}^{\prime}}\frac{1}{|%
\mathcal{M}|}\sum_{f_{\theta}\in\mathcal{M}}\ell_{\text{NLL}}(\mathbf{R}_{%
\text{adv}}\oplus\mathbf{T}_{\text{adv}}\oplus\mathbf{G}_{\text{adv}}^{\prime}%
\oplus q|\theta)," class="ltx_Math" display="block" id="S5.E5.m1.2"><semantics id="S5.E5.m1.2a"><mrow id="S5.E5.m1.2.2.1" xref="S5.E5.m1.2.2.1.1.cmml"><mrow id="S5.E5.m1.2.2.1.1" xref="S5.E5.m1.2.2.1.1.cmml"><msub id="S5.E5.m1.2.2.1.1.3" xref="S5.E5.m1.2.2.1.1.3.cmml"><mi id="S5.E5.m1.2.2.1.1.3.2" xref="S5.E5.m1.2.2.1.1.3.2.cmml">𝐆</mi><mtext id="S5.E5.m1.2.2.1.1.3.3" xref="S5.E5.m1.2.2.1.1.3.3a.cmml">adv</mtext></msub><mo id="S5.E5.m1.2.2.1.1.2" xref="S5.E5.m1.2.2.1.1.2.cmml">=</mo><mrow id="S5.E5.m1.2.2.1.1.1" xref="S5.E5.m1.2.2.1.1.1.cmml"><mrow id="S5.E5.m1.2.2.1.1.1.3" xref="S5.E5.m1.2.2.1.1.1.3.cmml"><mi id="S5.E5.m1.2.2.1.1.1.3.1" xref="S5.E5.m1.2.2.1.1.1.3.1.cmml">arg</mi><mo id="S5.E5.m1.2.2.1.1.1.3a" lspace="0.167em" xref="S5.E5.m1.2.2.1.1.1.3.cmml">⁡</mo><mrow id="S5.E5.m1.2.2.1.1.1.3.2" xref="S5.E5.m1.2.2.1.1.1.3.2.cmml"><munder id="S5.E5.m1.2.2.1.1.1.3.2.1" xref="S5.E5.m1.2.2.1.1.1.3.2.1.cmml"><mi id="S5.E5.m1.2.2.1.1.1.3.2.1.2" xref="S5.E5.m1.2.2.1.1.1.3.2.1.2.cmml">min</mi><msubsup id="S5.E5.m1.2.2.1.1.1.3.2.1.3" xref="S5.E5.m1.2.2.1.1.1.3.2.1.3.cmml"><mi id="S5.E5.m1.2.2.1.1.1.3.2.1.3.2.2" xref="S5.E5.m1.2.2.1.1.1.3.2.1.3.2.2.cmml">𝐆</mi><mtext id="S5.E5.m1.2.2.1.1.1.3.2.1.3.2.3" xref="S5.E5.m1.2.2.1.1.1.3.2.1.3.2.3a.cmml">adv</mtext><mo id="S5.E5.m1.2.2.1.1.1.3.2.1.3.3" xref="S5.E5.m1.2.2.1.1.1.3.2.1.3.3.cmml">′</mo></msubsup></munder><mo id="S5.E5.m1.2.2.1.1.1.3.2a" lspace="0.167em" xref="S5.E5.m1.2.2.1.1.1.3.2.cmml">⁡</mo><mfrac id="S5.E5.m1.1.1" xref="S5.E5.m1.1.1.cmml"><mn id="S5.E5.m1.1.1.3" xref="S5.E5.m1.1.1.3.cmml">1</mn><mrow id="S5.E5.m1.1.1.1.3" xref="S5.E5.m1.1.1.1.2.cmml"><mo id="S5.E5.m1.1.1.1.3.1" stretchy="false" xref="S5.E5.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E5.m1.1.1.1.1" xref="S5.E5.m1.1.1.1.1.cmml">ℳ</mi><mo id="S5.E5.m1.1.1.1.3.2" stretchy="false" xref="S5.E5.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mrow></mrow><mo id="S5.E5.m1.2.2.1.1.1.2" xref="S5.E5.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S5.E5.m1.2.2.1.1.1.1" xref="S5.E5.m1.2.2.1.1.1.1.cmml"><munder id="S5.E5.m1.2.2.1.1.1.1.2" xref="S5.E5.m1.2.2.1.1.1.1.2.cmml"><mo id="S5.E5.m1.2.2.1.1.1.1.2.2" movablelimits="false" xref="S5.E5.m1.2.2.1.1.1.1.2.2.cmml">∑</mo><mrow id="S5.E5.m1.2.2.1.1.1.1.2.3" xref="S5.E5.m1.2.2.1.1.1.1.2.3.cmml"><msub id="S5.E5.m1.2.2.1.1.1.1.2.3.2" xref="S5.E5.m1.2.2.1.1.1.1.2.3.2.cmml"><mi id="S5.E5.m1.2.2.1.1.1.1.2.3.2.2" xref="S5.E5.m1.2.2.1.1.1.1.2.3.2.2.cmml">f</mi><mi id="S5.E5.m1.2.2.1.1.1.1.2.3.2.3" xref="S5.E5.m1.2.2.1.1.1.1.2.3.2.3.cmml">θ</mi></msub><mo id="S5.E5.m1.2.2.1.1.1.1.2.3.1" xref="S5.E5.m1.2.2.1.1.1.1.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E5.m1.2.2.1.1.1.1.2.3.3" xref="S5.E5.m1.2.2.1.1.1.1.2.3.3.cmml">ℳ</mi></mrow></munder><mrow id="S5.E5.m1.2.2.1.1.1.1.1" xref="S5.E5.m1.2.2.1.1.1.1.1.cmml"><msub id="S5.E5.m1.2.2.1.1.1.1.1.3" xref="S5.E5.m1.2.2.1.1.1.1.1.3.cmml"><mi id="S5.E5.m1.2.2.1.1.1.1.1.3.2" mathvariant="normal" xref="S5.E5.m1.2.2.1.1.1.1.1.3.2.cmml">ℓ</mi><mtext id="S5.E5.m1.2.2.1.1.1.1.1.3.3" xref="S5.E5.m1.2.2.1.1.1.1.1.3.3a.cmml">NLL</mtext></msub><mo id="S5.E5.m1.2.2.1.1.1.1.1.2" xref="S5.E5.m1.2.2.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E5.m1.2.2.1.1.1.1.1.1.1" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mo id="S5.E5.m1.2.2.1.1.1.1.1.1.1.2" stretchy="false" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.cmml"><msub id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.cmml"><mi id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.2" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.2.cmml">𝐑</mi><mtext id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.3" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.3a.cmml">adv</mtext></msub><mo id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">⊕</mo><msub id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.cmml"><mi id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.2" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.2.cmml">𝐓</mi><mtext id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.3" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.3a.cmml">adv</mtext></msub><mo id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.1a" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">⊕</mo><msubsup id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.cmml"><mi id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.2.2" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.2.2.cmml">𝐆</mi><mtext id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.2.3" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.2.3a.cmml">adv</mtext><mo id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.3" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.3.cmml">′</mo></msubsup><mo id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.1b" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">⊕</mo><mrow id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.cmml"><mi id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.2" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.2.cmml">q</mi><mo fence="false" id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.1" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.1.cmml">|</mo><mi id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.3" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.3.cmml">θ</mi></mrow></mrow><mo id="S5.E5.m1.2.2.1.1.1.1.1.1.1.3" stretchy="false" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S5.E5.m1.2.2.1.2" xref="S5.E5.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E5.m1.2b"><apply id="S5.E5.m1.2.2.1.1.cmml" xref="S5.E5.m1.2.2.1"><eq id="S5.E5.m1.2.2.1.1.2.cmml" xref="S5.E5.m1.2.2.1.1.2"></eq><apply id="S5.E5.m1.2.2.1.1.3.cmml" xref="S5.E5.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S5.E5.m1.2.2.1.1.3.1.cmml" xref="S5.E5.m1.2.2.1.1.3">subscript</csymbol><ci id="S5.E5.m1.2.2.1.1.3.2.cmml" xref="S5.E5.m1.2.2.1.1.3.2">𝐆</ci><ci id="S5.E5.m1.2.2.1.1.3.3a.cmml" xref="S5.E5.m1.2.2.1.1.3.3"><mtext id="S5.E5.m1.2.2.1.1.3.3.cmml" mathsize="70%" xref="S5.E5.m1.2.2.1.1.3.3">adv</mtext></ci></apply><apply id="S5.E5.m1.2.2.1.1.1.cmml" xref="S5.E5.m1.2.2.1.1.1"><times id="S5.E5.m1.2.2.1.1.1.2.cmml" xref="S5.E5.m1.2.2.1.1.1.2"></times><apply id="S5.E5.m1.2.2.1.1.1.3.cmml" xref="S5.E5.m1.2.2.1.1.1.3"><arg id="S5.E5.m1.2.2.1.1.1.3.1.cmml" xref="S5.E5.m1.2.2.1.1.1.3.1"></arg><apply id="S5.E5.m1.2.2.1.1.1.3.2.cmml" xref="S5.E5.m1.2.2.1.1.1.3.2"><apply id="S5.E5.m1.2.2.1.1.1.3.2.1.cmml" xref="S5.E5.m1.2.2.1.1.1.3.2.1"><csymbol cd="ambiguous" id="S5.E5.m1.2.2.1.1.1.3.2.1.1.cmml" xref="S5.E5.m1.2.2.1.1.1.3.2.1">subscript</csymbol><min id="S5.E5.m1.2.2.1.1.1.3.2.1.2.cmml" xref="S5.E5.m1.2.2.1.1.1.3.2.1.2"></min><apply id="S5.E5.m1.2.2.1.1.1.3.2.1.3.cmml" xref="S5.E5.m1.2.2.1.1.1.3.2.1.3"><csymbol cd="ambiguous" id="S5.E5.m1.2.2.1.1.1.3.2.1.3.1.cmml" xref="S5.E5.m1.2.2.1.1.1.3.2.1.3">superscript</csymbol><apply id="S5.E5.m1.2.2.1.1.1.3.2.1.3.2.cmml" xref="S5.E5.m1.2.2.1.1.1.3.2.1.3"><csymbol cd="ambiguous" id="S5.E5.m1.2.2.1.1.1.3.2.1.3.2.1.cmml" xref="S5.E5.m1.2.2.1.1.1.3.2.1.3">subscript</csymbol><ci id="S5.E5.m1.2.2.1.1.1.3.2.1.3.2.2.cmml" xref="S5.E5.m1.2.2.1.1.1.3.2.1.3.2.2">𝐆</ci><ci id="S5.E5.m1.2.2.1.1.1.3.2.1.3.2.3a.cmml" xref="S5.E5.m1.2.2.1.1.1.3.2.1.3.2.3"><mtext id="S5.E5.m1.2.2.1.1.1.3.2.1.3.2.3.cmml" mathsize="50%" xref="S5.E5.m1.2.2.1.1.1.3.2.1.3.2.3">adv</mtext></ci></apply><ci id="S5.E5.m1.2.2.1.1.1.3.2.1.3.3.cmml" xref="S5.E5.m1.2.2.1.1.1.3.2.1.3.3">′</ci></apply></apply><apply id="S5.E5.m1.1.1.cmml" xref="S5.E5.m1.1.1"><divide id="S5.E5.m1.1.1.2.cmml" xref="S5.E5.m1.1.1"></divide><cn id="S5.E5.m1.1.1.3.cmml" type="integer" xref="S5.E5.m1.1.1.3">1</cn><apply id="S5.E5.m1.1.1.1.2.cmml" xref="S5.E5.m1.1.1.1.3"><abs id="S5.E5.m1.1.1.1.2.1.cmml" xref="S5.E5.m1.1.1.1.3.1"></abs><ci id="S5.E5.m1.1.1.1.1.cmml" xref="S5.E5.m1.1.1.1.1">ℳ</ci></apply></apply></apply></apply><apply id="S5.E5.m1.2.2.1.1.1.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1"><apply id="S5.E5.m1.2.2.1.1.1.1.2.cmml" xref="S5.E5.m1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.E5.m1.2.2.1.1.1.1.2.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1.2">subscript</csymbol><sum id="S5.E5.m1.2.2.1.1.1.1.2.2.cmml" xref="S5.E5.m1.2.2.1.1.1.1.2.2"></sum><apply id="S5.E5.m1.2.2.1.1.1.1.2.3.cmml" xref="S5.E5.m1.2.2.1.1.1.1.2.3"><in id="S5.E5.m1.2.2.1.1.1.1.2.3.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1.2.3.1"></in><apply id="S5.E5.m1.2.2.1.1.1.1.2.3.2.cmml" xref="S5.E5.m1.2.2.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S5.E5.m1.2.2.1.1.1.1.2.3.2.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1.2.3.2">subscript</csymbol><ci id="S5.E5.m1.2.2.1.1.1.1.2.3.2.2.cmml" xref="S5.E5.m1.2.2.1.1.1.1.2.3.2.2">𝑓</ci><ci id="S5.E5.m1.2.2.1.1.1.1.2.3.2.3.cmml" xref="S5.E5.m1.2.2.1.1.1.1.2.3.2.3">𝜃</ci></apply><ci id="S5.E5.m1.2.2.1.1.1.1.2.3.3.cmml" xref="S5.E5.m1.2.2.1.1.1.1.2.3.3">ℳ</ci></apply></apply><apply id="S5.E5.m1.2.2.1.1.1.1.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1"><times id="S5.E5.m1.2.2.1.1.1.1.1.2.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.2"></times><apply id="S5.E5.m1.2.2.1.1.1.1.1.3.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E5.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="S5.E5.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.3.2">ℓ</ci><ci id="S5.E5.m1.2.2.1.1.1.1.1.3.3a.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.3.3"><mtext id="S5.E5.m1.2.2.1.1.1.1.1.3.3.cmml" mathsize="70%" xref="S5.E5.m1.2.2.1.1.1.1.1.3.3">NLL</mtext></ci></apply><apply id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.1">direct-sum</csymbol><apply id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.2.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.2">𝐑</ci><ci id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.3a.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.3"><mtext id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.3.cmml" mathsize="70%" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.2.3">adv</mtext></ci></apply><apply id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.2.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.2">𝐓</ci><ci id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.3a.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.3"><mtext id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.3.cmml" mathsize="70%" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.3.3">adv</mtext></ci></apply><apply id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4">superscript</csymbol><apply id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.2.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.2.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.2.2.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.2.2">𝐆</ci><ci id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.2.3a.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.2.3"><mtext id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.2.3.cmml" mathsize="70%" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.2.3">adv</mtext></ci></apply><ci id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.3.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.4.3">′</ci></apply><apply id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5"><csymbol cd="latexml" id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.1.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.1">conditional</csymbol><ci id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.2.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.2">𝑞</ci><ci id="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.3.cmml" xref="S5.E5.m1.2.2.1.1.1.1.1.1.1.1.5.3">𝜃</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E5.m1.2c">\mathbf{G}_{\text{adv}}=\arg\min_{\mathbf{G}_{\text{adv}}^{\prime}}\frac{1}{|%
\mathcal{M}|}\sum_{f_{\theta}\in\mathcal{M}}\ell_{\text{NLL}}(\mathbf{R}_{%
\text{adv}}\oplus\mathbf{T}_{\text{adv}}\oplus\mathbf{G}_{\text{adv}}^{\prime}%
\oplus q|\theta),</annotation><annotation encoding="application/x-llamapun" id="S5.E5.m1.2d">bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT = roman_arg roman_min start_POSTSUBSCRIPT bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUBSCRIPT divide start_ARG 1 end_ARG start_ARG | caligraphic_M | end_ARG ∑ start_POSTSUBSCRIPT italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ∈ caligraphic_M end_POSTSUBSCRIPT roman_ℓ start_POSTSUBSCRIPT NLL end_POSTSUBSCRIPT ( bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ⊕ bold_T start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ⊕ bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ⊕ italic_q | italic_θ ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS3.p4.3">where <math alttext="\theta" class="ltx_Math" display="inline" id="S5.SS3.p4.2.m1.1"><semantics id="S5.SS3.p4.2.m1.1a"><mi id="S5.SS3.p4.2.m1.1.1" xref="S5.SS3.p4.2.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p4.2.m1.1b"><ci id="S5.SS3.p4.2.m1.1.1.cmml" xref="S5.SS3.p4.2.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p4.2.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p4.2.m1.1d">italic_θ</annotation></semantics></math> denotes the parameter for LLM <math alttext="f_{\theta}" class="ltx_Math" display="inline" id="S5.SS3.p4.3.m2.1"><semantics id="S5.SS3.p4.3.m2.1a"><msub id="S5.SS3.p4.3.m2.1.1" xref="S5.SS3.p4.3.m2.1.1.cmml"><mi id="S5.SS3.p4.3.m2.1.1.2" xref="S5.SS3.p4.3.m2.1.1.2.cmml">f</mi><mi id="S5.SS3.p4.3.m2.1.1.3" xref="S5.SS3.p4.3.m2.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p4.3.m2.1b"><apply id="S5.SS3.p4.3.m2.1.1.cmml" xref="S5.SS3.p4.3.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.p4.3.m2.1.1.1.cmml" xref="S5.SS3.p4.3.m2.1.1">subscript</csymbol><ci id="S5.SS3.p4.3.m2.1.1.2.cmml" xref="S5.SS3.p4.3.m2.1.1.2">𝑓</ci><ci id="S5.SS3.p4.3.m2.1.1.3.cmml" xref="S5.SS3.p4.3.m2.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p4.3.m2.1c">f_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p4.3.m2.1d">italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4 </span>LIAR: Exploitative Bi-level RAG Training</h3>
<div class="ltx_para" id="S5.SS4.p1">
<p class="ltx_p" id="S5.SS4.p1.1">As revealed by our warm-up study, <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#AT" title="AT ‣ 4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive.">AT</a> with jointly optimizing both the retriever and the LLM generator is ineffective due to the inability to adaptively model and optimize the coupling of the dual adversarial objective.</p>
</div>
<div class="ltx_para" id="S5.SS4.p2">
<p class="ltx_p" id="S5.SS4.p2.6">To address this, we propose a new AT framework based on bi-level optimization (<span class="ltx_text ltx_font_bold" id="S5.SS4.p2.6.1">BLO</span>). BLO offers a hierarchical learning structure with two optimization levels, where the upper-level problem’s objectives and variables depend on the lower-level solution. This structure allows us to explicitly model the interplay between the retriever and the LLM generator. Specifically, we modify the conventional AT setup, as defined in Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S4.E1" title="In 4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">1</span></a>), (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.E2" title="In 5.2 Attack on the Retriever ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">2</span></a>) and (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.E5" title="In 5.3 Attack on the LLM ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">5</span></a>), into a bi-level optimization framework:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S5.E6">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S5.E6X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\min_{\mathbf{G}_{\text{adv}}}" class="ltx_Math" display="inline" id="S5.E6X.2.1.1.m1.1"><semantics id="S5.E6X.2.1.1.m1.1a"><munder id="S5.E6X.2.1.1.m1.1.1" xref="S5.E6X.2.1.1.m1.1.1.cmml"><mi id="S5.E6X.2.1.1.m1.1.1.2" xref="S5.E6X.2.1.1.m1.1.1.2.cmml">min</mi><msub id="S5.E6X.2.1.1.m1.1.1.3" xref="S5.E6X.2.1.1.m1.1.1.3.cmml"><mi id="S5.E6X.2.1.1.m1.1.1.3.2" xref="S5.E6X.2.1.1.m1.1.1.3.2.cmml">𝐆</mi><mtext id="S5.E6X.2.1.1.m1.1.1.3.3" xref="S5.E6X.2.1.1.m1.1.1.3.3a.cmml">adv</mtext></msub></munder><annotation-xml encoding="MathML-Content" id="S5.E6X.2.1.1.m1.1b"><apply id="S5.E6X.2.1.1.m1.1.1.cmml" xref="S5.E6X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.E6X.2.1.1.m1.1.1.1.cmml" xref="S5.E6X.2.1.1.m1.1.1">subscript</csymbol><min id="S5.E6X.2.1.1.m1.1.1.2.cmml" xref="S5.E6X.2.1.1.m1.1.1.2"></min><apply id="S5.E6X.2.1.1.m1.1.1.3.cmml" xref="S5.E6X.2.1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S5.E6X.2.1.1.m1.1.1.3.1.cmml" xref="S5.E6X.2.1.1.m1.1.1.3">subscript</csymbol><ci id="S5.E6X.2.1.1.m1.1.1.3.2.cmml" xref="S5.E6X.2.1.1.m1.1.1.3.2">𝐆</ci><ci id="S5.E6X.2.1.1.m1.1.1.3.3a.cmml" xref="S5.E6X.2.1.1.m1.1.1.3.3"><mtext id="S5.E6X.2.1.1.m1.1.1.3.3.cmml" mathsize="50%" xref="S5.E6X.2.1.1.m1.1.1.3.3">adv</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E6X.2.1.1.m1.1c">\displaystyle\min_{\mathbf{G}_{\text{adv}}}</annotation><annotation encoding="application/x-llamapun" id="S5.E6X.2.1.1.m1.1d">roman_min start_POSTSUBSCRIPT bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\frac{1}{|\mathcal{M}|}\sum_{f_{\theta}\in\mathcal{M}}\ell_{\text%
{NLL}}(\mathbf{R}_{\text{adv}}^{*}(\mathbf{G}_{\text{adv}})\oplus\mathbf{T}_{%
\text{adv}}\oplus\mathbf{G}_{\text{adv}}\oplus q|\theta)," class="ltx_Math" display="inline" id="S5.E6X.3.2.2.m1.2"><semantics id="S5.E6X.3.2.2.m1.2a"><mrow id="S5.E6X.3.2.2.m1.2.2.1" xref="S5.E6X.3.2.2.m1.2.2.1.1.cmml"><mrow id="S5.E6X.3.2.2.m1.2.2.1.1" xref="S5.E6X.3.2.2.m1.2.2.1.1.cmml"><mstyle displaystyle="true" id="S5.E6X.3.2.2.m1.1.1" xref="S5.E6X.3.2.2.m1.1.1.cmml"><mfrac id="S5.E6X.3.2.2.m1.1.1a" xref="S5.E6X.3.2.2.m1.1.1.cmml"><mn id="S5.E6X.3.2.2.m1.1.1.3" xref="S5.E6X.3.2.2.m1.1.1.3.cmml">1</mn><mrow id="S5.E6X.3.2.2.m1.1.1.1.3" xref="S5.E6X.3.2.2.m1.1.1.1.2.cmml"><mo id="S5.E6X.3.2.2.m1.1.1.1.3.1" stretchy="false" xref="S5.E6X.3.2.2.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E6X.3.2.2.m1.1.1.1.1" xref="S5.E6X.3.2.2.m1.1.1.1.1.cmml">ℳ</mi><mo id="S5.E6X.3.2.2.m1.1.1.1.3.2" stretchy="false" xref="S5.E6X.3.2.2.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo id="S5.E6X.3.2.2.m1.2.2.1.1.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.2.cmml">⁢</mo><mrow id="S5.E6X.3.2.2.m1.2.2.1.1.1" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.cmml"><mstyle displaystyle="true" id="S5.E6X.3.2.2.m1.2.2.1.1.1.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.cmml"><munder id="S5.E6X.3.2.2.m1.2.2.1.1.1.2a" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.cmml"><mo id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.2" movablelimits="false" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.2.cmml">∑</mo><mrow id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.cmml"><msub id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2.cmml"><mi id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2.2.cmml">f</mi><mi id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2.3.cmml">θ</mi></msub><mo id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.1" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.3.cmml">ℳ</mi></mrow></munder></mstyle><mrow id="S5.E6X.3.2.2.m1.2.2.1.1.1.1" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.cmml"><msub id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.cmml"><mi id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.2" mathvariant="normal" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.2.cmml">ℓ</mi><mtext id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.3a.cmml">NLL</mtext></msub><mo id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml"><mrow id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.cmml"><msubsup id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.cmml"><mi id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.2.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.2.2.cmml">𝐑</mi><mtext id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.2.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.2.3a.cmml">adv</mtext><mo id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.3.cmml">∗</mo></msubsup><mo id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝐆</mi><mtext id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3a.cmml">adv</mtext></msub><mo id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2.cmml">⊕</mo><msub id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.2.cmml">𝐓</mi><mtext id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.3a.cmml">adv</mtext></msub><mo id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2a" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2.cmml">⊕</mo><msub id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.cmml"><mi id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.2.cmml">𝐆</mi><mtext id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.3a.cmml">adv</mtext></msub><mo id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2b" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2.cmml">⊕</mo><mrow id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.cmml"><mi id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.2.cmml">q</mi><mo fence="false" id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.1" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.1.cmml">|</mo><mi id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.3" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.3.cmml">θ</mi></mrow></mrow><mo id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S5.E6X.3.2.2.m1.2.2.1.2" xref="S5.E6X.3.2.2.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E6X.3.2.2.m1.2b"><apply id="S5.E6X.3.2.2.m1.2.2.1.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1"><times id="S5.E6X.3.2.2.m1.2.2.1.1.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.2"></times><apply id="S5.E6X.3.2.2.m1.1.1.cmml" xref="S5.E6X.3.2.2.m1.1.1"><divide id="S5.E6X.3.2.2.m1.1.1.2.cmml" xref="S5.E6X.3.2.2.m1.1.1"></divide><cn id="S5.E6X.3.2.2.m1.1.1.3.cmml" type="integer" xref="S5.E6X.3.2.2.m1.1.1.3">1</cn><apply id="S5.E6X.3.2.2.m1.1.1.1.2.cmml" xref="S5.E6X.3.2.2.m1.1.1.1.3"><abs id="S5.E6X.3.2.2.m1.1.1.1.2.1.cmml" xref="S5.E6X.3.2.2.m1.1.1.1.3.1"></abs><ci id="S5.E6X.3.2.2.m1.1.1.1.1.cmml" xref="S5.E6X.3.2.2.m1.1.1.1.1">ℳ</ci></apply></apply><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1"><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2">subscript</csymbol><sum id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.2"></sum><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3"><in id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.1"></in><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2">subscript</csymbol><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2.2">𝑓</ci><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2.3.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.2.3">𝜃</ci></apply><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.3.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.2.3.3">ℳ</ci></apply></apply><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1"><times id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.2"></times><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3">subscript</csymbol><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.2">ℓ</ci><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.3a.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.3"><mtext id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.3.cmml" mathsize="70%" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.3.3">NLL</mtext></ci></apply><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.2">direct-sum</csymbol><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1"><times id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.2"></times><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.2.2">𝐑</ci><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.2.3a.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.2.3"><mtext id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.2.3.cmml" mathsize="70%" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.2.3">adv</mtext></ci></apply><times id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.3.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.3"></times></apply><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2">𝐆</ci><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3a.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3"><mtext id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" mathsize="70%" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3">adv</mtext></ci></apply></apply><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.2">𝐓</ci><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.3a.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.3"><mtext id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.3.cmml" mathsize="70%" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.3">adv</mtext></ci></apply><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.2">𝐆</ci><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.3a.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.3"><mtext id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.3.cmml" mathsize="70%" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.4.3">adv</mtext></ci></apply><apply id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5"><csymbol cd="latexml" id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.1.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.1">conditional</csymbol><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.2.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.2">𝑞</ci><ci id="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.3.cmml" xref="S5.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.5.3">𝜃</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E6X.3.2.2.m1.2c">\displaystyle\frac{1}{|\mathcal{M}|}\sum_{f_{\theta}\in\mathcal{M}}\ell_{\text%
{NLL}}(\mathbf{R}_{\text{adv}}^{*}(\mathbf{G}_{\text{adv}})\oplus\mathbf{T}_{%
\text{adv}}\oplus\mathbf{G}_{\text{adv}}\oplus q|\theta),</annotation><annotation encoding="application/x-llamapun" id="S5.E6X.3.2.2.m1.2d">divide start_ARG 1 end_ARG start_ARG | caligraphic_M | end_ARG ∑ start_POSTSUBSCRIPT italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ∈ caligraphic_M end_POSTSUBSCRIPT roman_ℓ start_POSTSUBSCRIPT NLL end_POSTSUBSCRIPT ( bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT ( bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) ⊕ bold_T start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ⊕ bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ⊕ italic_q | italic_θ ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(6)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S5.E6Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><span class="ltx_text ltx_markedasmath ltx_font_italic" id="S5.E6Xa.2.1.1.1">s.t.</span></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\mathbf{R}_{\text{adv}}^{*}(\mathbf{G}_{\text{adv}})=\arg\max_{%
\mathbf{R}_{\text{adv}}}\frac{1}{|\mathcal{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}%
(D_{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}})," class="ltx_Math" display="inline" id="S5.E6Xa.3.2.2.m1.2"><semantics id="S5.E6Xa.3.2.2.m1.2a"><mrow id="S5.E6Xa.3.2.2.m1.2.2.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.cmml"><mrow id="S5.E6Xa.3.2.2.m1.2.2.1.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.cmml"><mrow id="S5.E6Xa.3.2.2.m1.2.2.1.1.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.cmml"><msubsup id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.cmml"><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.2.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.2.2.cmml">𝐑</mi><mtext id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.2.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.2.3a.cmml">adv</mtext><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.3.cmml">∗</mo></msubsup><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.cmml"><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.cmml">(</mo><msub id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml">𝐆</mi><mtext id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3a.cmml">adv</mtext></msub><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.3" stretchy="false" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.4" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.4.cmml">=</mo><mrow id="S5.E6Xa.3.2.2.m1.2.2.1.1.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.cmml"><mrow id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.cmml"><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.1.cmml">arg</mi><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4a" lspace="0.167em" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.cmml">⁡</mo><mrow id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.cmml"><munder id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.cmml"><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.2.cmml">max</mi><msub id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.cmml"><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.2.cmml">𝐑</mi><mtext id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.3a.cmml">adv</mtext></msub></munder><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2a" lspace="0.167em" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.cmml">⁡</mo><mstyle displaystyle="true" id="S5.E6Xa.3.2.2.m1.1.1" xref="S5.E6Xa.3.2.2.m1.1.1.cmml"><mfrac id="S5.E6Xa.3.2.2.m1.1.1a" xref="S5.E6Xa.3.2.2.m1.1.1.cmml"><mn id="S5.E6Xa.3.2.2.m1.1.1.3" xref="S5.E6Xa.3.2.2.m1.1.1.3.cmml">1</mn><mrow id="S5.E6Xa.3.2.2.m1.1.1.1.3" xref="S5.E6Xa.3.2.2.m1.1.1.1.2.cmml"><mo id="S5.E6Xa.3.2.2.m1.1.1.1.3.1" stretchy="false" xref="S5.E6Xa.3.2.2.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E6Xa.3.2.2.m1.1.1.1.1" xref="S5.E6Xa.3.2.2.m1.1.1.1.1.cmml">𝒦</mi><mo id="S5.E6Xa.3.2.2.m1.1.1.1.3.2" stretchy="false" xref="S5.E6Xa.3.2.2.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle></mrow></mrow><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.3.cmml">⁢</mo><mrow id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.cmml"><mstyle displaystyle="true" id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.cmml"><munder id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3a" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.cmml"><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.2" movablelimits="false" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.2.cmml">∑</mo><mrow id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.cmml"><msub id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2.cmml"><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2.2.cmml">D</mi><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2.3.cmml">i</mi></msub><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.3.cmml">𝒦</mi></mrow></munder></mstyle><mrow id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.cmml"><msub id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4.cmml"><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4.2.cmml">h</mi><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4.3.cmml">Q</mi></msub><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.3.cmml">⁢</mo><msup id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.cmml"><mrow id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.cmml"><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.2" stretchy="false" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.cmml">(</mo><msub id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.cmml"><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.2.cmml">D</mi><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.3" stretchy="false" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.3.cmml">⊤</mo></msup><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.3a" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.3.cmml">⁢</mo><msub id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5.cmml"><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5.2.cmml">h</mi><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5.3.cmml">D</mi></msub><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.3b" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.3.cmml">⁢</mo><mrow id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.cmml"><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.2" stretchy="false" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.cmml">(</mo><msub id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.cmml"><mi id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.2.cmml">𝐃</mi><mtext id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.3" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.3a.cmml">adv</mtext></msub><mo id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.3" stretchy="false" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S5.E6Xa.3.2.2.m1.2.2.1.2" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E6Xa.3.2.2.m1.2b"><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1"><eq id="S5.E6Xa.3.2.2.m1.2.2.1.1.4.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.4"></eq><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1"><times id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.2"></times><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3">superscript</csymbol><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.2.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.2.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.2.2">𝐑</ci><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.2.3a.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.2.3"><mtext id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.2.3.cmml" mathsize="70%" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.2.3">adv</mtext></ci></apply><times id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.3.3"></times></apply><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2">𝐆</ci><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3a.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3"><mtext id="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml" mathsize="70%" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3">adv</mtext></ci></apply></apply><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3"><times id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.3"></times><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4"><arg id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.1"></arg><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2"><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1"><csymbol cd="ambiguous" id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1">subscript</csymbol><max id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.2"></max><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3"><csymbol cd="ambiguous" id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3">subscript</csymbol><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.2">𝐑</ci><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.3a.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.3"><mtext id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.3.cmml" mathsize="50%" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.4.2.1.3.3">adv</mtext></ci></apply></apply><apply id="S5.E6Xa.3.2.2.m1.1.1.cmml" xref="S5.E6Xa.3.2.2.m1.1.1"><divide id="S5.E6Xa.3.2.2.m1.1.1.2.cmml" xref="S5.E6Xa.3.2.2.m1.1.1"></divide><cn id="S5.E6Xa.3.2.2.m1.1.1.3.cmml" type="integer" xref="S5.E6Xa.3.2.2.m1.1.1.3">1</cn><apply id="S5.E6Xa.3.2.2.m1.1.1.1.2.cmml" xref="S5.E6Xa.3.2.2.m1.1.1.1.3"><abs id="S5.E6Xa.3.2.2.m1.1.1.1.2.1.cmml" xref="S5.E6Xa.3.2.2.m1.1.1.1.3.1"></abs><ci id="S5.E6Xa.3.2.2.m1.1.1.1.1.cmml" xref="S5.E6Xa.3.2.2.m1.1.1.1.1">𝒦</ci></apply></apply></apply></apply><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2"><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3"><csymbol cd="ambiguous" id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3">subscript</csymbol><sum id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.2"></sum><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3"><in id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.1"></in><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2"><csymbol cd="ambiguous" id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2">subscript</csymbol><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2.2">𝐷</ci><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.2.3">𝑖</ci></apply><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.3.3.3">𝒦</ci></apply></apply><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2"><times id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.3"></times><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4"><csymbol cd="ambiguous" id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4">subscript</csymbol><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4.2">ℎ</ci><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.4.3">𝑄</ci></apply><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1">superscript</csymbol><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1">subscript</csymbol><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.2">𝐷</ci><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.1.1.1.3">𝑖</ci></apply><csymbol cd="latexml" id="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.2.1.1.1.3">top</csymbol></apply><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5"><csymbol cd="ambiguous" id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5">subscript</csymbol><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5.2">ℎ</ci><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5.3.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.5.3">𝐷</ci></apply><apply id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1"><csymbol cd="ambiguous" id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.1.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1">subscript</csymbol><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.2.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.2">𝐃</ci><ci id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.3a.cmml" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.3"><mtext id="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.3.cmml" mathsize="70%" xref="S5.E6Xa.3.2.2.m1.2.2.1.1.3.2.2.2.1.1.3">adv</mtext></ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E6Xa.3.2.2.m1.2c">\displaystyle\mathbf{R}_{\text{adv}}^{*}(\mathbf{G}_{\text{adv}})=\arg\max_{%
\mathbf{R}_{\text{adv}}}\frac{1}{|\mathcal{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}%
(D_{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}}),</annotation><annotation encoding="application/x-llamapun" id="S5.E6Xa.3.2.2.m1.2d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT ( bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) = roman_arg roman_max start_POSTSUBSCRIPT bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT end_POSTSUBSCRIPT divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S5.SS4.p2.5">Compared to conventional AT defined in Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S4.E1" title="In 4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">1</span></a>), our approach has two key differences. <span class="ltx_text ltx_font_bold" id="S5.SS4.p2.5.1">First</span>, the adversarial retriever sequence (ARS), <math alttext="\mathbf{R}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS4.p2.1.m1.1"><semantics id="S5.SS4.p2.1.m1.1a"><msub id="S5.SS4.p2.1.m1.1.1" xref="S5.SS4.p2.1.m1.1.1.cmml"><mi id="S5.SS4.p2.1.m1.1.1.2" xref="S5.SS4.p2.1.m1.1.1.2.cmml">𝐑</mi><mtext id="S5.SS4.p2.1.m1.1.1.3" xref="S5.SS4.p2.1.m1.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p2.1.m1.1b"><apply id="S5.SS4.p2.1.m1.1.1.cmml" xref="S5.SS4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS4.p2.1.m1.1.1.1.cmml" xref="S5.SS4.p2.1.m1.1.1">subscript</csymbol><ci id="S5.SS4.p2.1.m1.1.1.2.cmml" xref="S5.SS4.p2.1.m1.1.1.2">𝐑</ci><ci id="S5.SS4.p2.1.m1.1.1.3a.cmml" xref="S5.SS4.p2.1.m1.1.1.3"><mtext id="S5.SS4.p2.1.m1.1.1.3.cmml" mathsize="70%" xref="S5.SS4.p2.1.m1.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p2.1.m1.1c">\mathbf{R}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p2.1.m1.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, is now explicitly linked to the optimization of the adversarial generation sequence (AGS), <math alttext="\mathbf{G}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS4.p2.2.m2.1"><semantics id="S5.SS4.p2.2.m2.1a"><msub id="S5.SS4.p2.2.m2.1.1" xref="S5.SS4.p2.2.m2.1.1.cmml"><mi id="S5.SS4.p2.2.m2.1.1.2" xref="S5.SS4.p2.2.m2.1.1.2.cmml">𝐆</mi><mtext id="S5.SS4.p2.2.m2.1.1.3" xref="S5.SS4.p2.2.m2.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p2.2.m2.1b"><apply id="S5.SS4.p2.2.m2.1.1.cmml" xref="S5.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS4.p2.2.m2.1.1.1.cmml" xref="S5.SS4.p2.2.m2.1.1">subscript</csymbol><ci id="S5.SS4.p2.2.m2.1.1.2.cmml" xref="S5.SS4.p2.2.m2.1.1.2">𝐆</ci><ci id="S5.SS4.p2.2.m2.1.1.3a.cmml" xref="S5.SS4.p2.2.m2.1.1.3"><mtext id="S5.SS4.p2.2.m2.1.1.3.cmml" mathsize="70%" xref="S5.SS4.p2.2.m2.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p2.2.m2.1c">\mathbf{G}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p2.2.m2.1d">bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, through the lower-level solution <math alttext="\mathbf{R}_{\text{adv}}^{*}(\mathbf{G}_{\text{adv}})" class="ltx_Math" display="inline" id="S5.SS4.p2.3.m3.1"><semantics id="S5.SS4.p2.3.m3.1a"><mrow id="S5.SS4.p2.3.m3.1.1" xref="S5.SS4.p2.3.m3.1.1.cmml"><msubsup id="S5.SS4.p2.3.m3.1.1.3" xref="S5.SS4.p2.3.m3.1.1.3.cmml"><mi id="S5.SS4.p2.3.m3.1.1.3.2.2" xref="S5.SS4.p2.3.m3.1.1.3.2.2.cmml">𝐑</mi><mtext id="S5.SS4.p2.3.m3.1.1.3.2.3" xref="S5.SS4.p2.3.m3.1.1.3.2.3a.cmml">adv</mtext><mo id="S5.SS4.p2.3.m3.1.1.3.3" xref="S5.SS4.p2.3.m3.1.1.3.3.cmml">∗</mo></msubsup><mo id="S5.SS4.p2.3.m3.1.1.2" xref="S5.SS4.p2.3.m3.1.1.2.cmml">⁢</mo><mrow id="S5.SS4.p2.3.m3.1.1.1.1" xref="S5.SS4.p2.3.m3.1.1.1.1.1.cmml"><mo id="S5.SS4.p2.3.m3.1.1.1.1.2" stretchy="false" xref="S5.SS4.p2.3.m3.1.1.1.1.1.cmml">(</mo><msub id="S5.SS4.p2.3.m3.1.1.1.1.1" xref="S5.SS4.p2.3.m3.1.1.1.1.1.cmml"><mi id="S5.SS4.p2.3.m3.1.1.1.1.1.2" xref="S5.SS4.p2.3.m3.1.1.1.1.1.2.cmml">𝐆</mi><mtext id="S5.SS4.p2.3.m3.1.1.1.1.1.3" xref="S5.SS4.p2.3.m3.1.1.1.1.1.3a.cmml">adv</mtext></msub><mo id="S5.SS4.p2.3.m3.1.1.1.1.3" stretchy="false" xref="S5.SS4.p2.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p2.3.m3.1b"><apply id="S5.SS4.p2.3.m3.1.1.cmml" xref="S5.SS4.p2.3.m3.1.1"><times id="S5.SS4.p2.3.m3.1.1.2.cmml" xref="S5.SS4.p2.3.m3.1.1.2"></times><apply id="S5.SS4.p2.3.m3.1.1.3.cmml" xref="S5.SS4.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="S5.SS4.p2.3.m3.1.1.3.1.cmml" xref="S5.SS4.p2.3.m3.1.1.3">superscript</csymbol><apply id="S5.SS4.p2.3.m3.1.1.3.2.cmml" xref="S5.SS4.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="S5.SS4.p2.3.m3.1.1.3.2.1.cmml" xref="S5.SS4.p2.3.m3.1.1.3">subscript</csymbol><ci id="S5.SS4.p2.3.m3.1.1.3.2.2.cmml" xref="S5.SS4.p2.3.m3.1.1.3.2.2">𝐑</ci><ci id="S5.SS4.p2.3.m3.1.1.3.2.3a.cmml" xref="S5.SS4.p2.3.m3.1.1.3.2.3"><mtext id="S5.SS4.p2.3.m3.1.1.3.2.3.cmml" mathsize="70%" xref="S5.SS4.p2.3.m3.1.1.3.2.3">adv</mtext></ci></apply><times id="S5.SS4.p2.3.m3.1.1.3.3.cmml" xref="S5.SS4.p2.3.m3.1.1.3.3"></times></apply><apply id="S5.SS4.p2.3.m3.1.1.1.1.1.cmml" xref="S5.SS4.p2.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS4.p2.3.m3.1.1.1.1.1.1.cmml" xref="S5.SS4.p2.3.m3.1.1.1.1">subscript</csymbol><ci id="S5.SS4.p2.3.m3.1.1.1.1.1.2.cmml" xref="S5.SS4.p2.3.m3.1.1.1.1.1.2">𝐆</ci><ci id="S5.SS4.p2.3.m3.1.1.1.1.1.3a.cmml" xref="S5.SS4.p2.3.m3.1.1.1.1.1.3"><mtext id="S5.SS4.p2.3.m3.1.1.1.1.1.3.cmml" mathsize="70%" xref="S5.SS4.p2.3.m3.1.1.1.1.1.3">adv</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p2.3.m3.1c">\mathbf{R}_{\text{adv}}^{*}(\mathbf{G}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p2.3.m3.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT ( bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math>. <span class="ltx_text ltx_font_bold" id="S5.SS4.p2.5.2">Second</span>, the lower-level optimization in Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.E6" title="In 5.4 LIAR: Exploitative Bi-level RAG Training ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">6</span></a>) facilitates quick adaptation of <math alttext="\mathbf{R}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS4.p2.4.m4.1"><semantics id="S5.SS4.p2.4.m4.1a"><msub id="S5.SS4.p2.4.m4.1.1" xref="S5.SS4.p2.4.m4.1.1.cmml"><mi id="S5.SS4.p2.4.m4.1.1.2" xref="S5.SS4.p2.4.m4.1.1.2.cmml">𝐑</mi><mtext id="S5.SS4.p2.4.m4.1.1.3" xref="S5.SS4.p2.4.m4.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p2.4.m4.1b"><apply id="S5.SS4.p2.4.m4.1.1.cmml" xref="S5.SS4.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS4.p2.4.m4.1.1.1.cmml" xref="S5.SS4.p2.4.m4.1.1">subscript</csymbol><ci id="S5.SS4.p2.4.m4.1.1.2.cmml" xref="S5.SS4.p2.4.m4.1.1.2">𝐑</ci><ci id="S5.SS4.p2.4.m4.1.1.3a.cmml" xref="S5.SS4.p2.4.m4.1.1.3"><mtext id="S5.SS4.p2.4.m4.1.1.3.cmml" mathsize="70%" xref="S5.SS4.p2.4.m4.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p2.4.m4.1c">\mathbf{R}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p2.4.m4.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> to the current state of <math alttext="\mathbf{G}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS4.p2.5.m5.1"><semantics id="S5.SS4.p2.5.m5.1a"><msub id="S5.SS4.p2.5.m5.1.1" xref="S5.SS4.p2.5.m5.1.1.cmml"><mi id="S5.SS4.p2.5.m5.1.1.2" xref="S5.SS4.p2.5.m5.1.1.2.cmml">𝐆</mi><mtext id="S5.SS4.p2.5.m5.1.1.3" xref="S5.SS4.p2.5.m5.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p2.5.m5.1b"><apply id="S5.SS4.p2.5.m5.1.1.cmml" xref="S5.SS4.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS4.p2.5.m5.1.1.1.cmml" xref="S5.SS4.p2.5.m5.1.1">subscript</csymbol><ci id="S5.SS4.p2.5.m5.1.1.2.cmml" xref="S5.SS4.p2.5.m5.1.1.2">𝐆</ci><ci id="S5.SS4.p2.5.m5.1.1.3a.cmml" xref="S5.SS4.p2.5.m5.1.1.3"><mtext id="S5.SS4.p2.5.m5.1.1.3.cmml" mathsize="70%" xref="S5.SS4.p2.5.m5.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p2.5.m5.1c">\mathbf{G}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p2.5.m5.1d">bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, similar to meta-learning <cite class="ltx_cite ltx_citemacro_cite">Finn et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib13" title="">2017</a>)</cite>, addressing the convergence issues seen in vanilla AT.</p>
</div>
<div class="ltx_para" id="S5.SS4.p3">
<p class="ltx_p" id="S5.SS4.p3.1">To solve Eq. <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.E6" title="In 5.4 LIAR: Exploitative Bi-level RAG Training ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">6</span></a>, we adopt the alternating optimization (AO) method <cite class="ltx_cite ltx_citemacro_cite">Bezdek and Hathaway (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib4" title="">2003</a>)</cite>, noted for its efficiency compared to other methods <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib28" title="">2021</a>)</cite>. Our extensive experiments (see Section <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6" title="6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">6</span></a>) demonstrate that AO significantly enhances the success rate of attacks compared to conventional AT. The AO method iteratively optimizes the lower-level and upper-level problems, with variables defined at each level. We call this framework exp<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S5.SS4.p3.1.1">L</span>oitative b<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S5.SS4.p3.1.2">I</span>-level r<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S5.SS4.p3.1.3">A</span>g t<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S5.SS4.p3.1.4">R</span>aining (<span class="ltx_text ltx_font_bold" id="S5.SS4.p3.1.5">LIAR</span>); Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#alg1" title="In 5.4 LIAR: Exploitative Bi-level RAG Training ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">1</span></a> provides a summary.</p>
</div>
<figure class="ltx_float ltx_algorithm" id="alg1">
<div class="ltx_listing ltx_lst_numbers_left ltx_listing" id="alg1.17">
<div class="ltx_listingline" id="alg1.6.6">
<span class="ltx_text ltx_font_bold" id="alg1.6.6.1">Initialize :</span> Adversarial ARS <math alttext="\mathbf{R}_{\text{adv}}" class="ltx_Math" display="inline" id="alg1.1.1.m1.1"><semantics id="alg1.1.1.m1.1a"><msub id="alg1.1.1.m1.1.1" xref="alg1.1.1.m1.1.1.cmml"><mi id="alg1.1.1.m1.1.1.2" xref="alg1.1.1.m1.1.1.2.cmml">𝐑</mi><mtext id="alg1.1.1.m1.1.1.3" xref="alg1.1.1.m1.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.1.1.m1.1b"><apply id="alg1.1.1.m1.1.1.cmml" xref="alg1.1.1.m1.1.1"><csymbol cd="ambiguous" id="alg1.1.1.m1.1.1.1.cmml" xref="alg1.1.1.m1.1.1">subscript</csymbol><ci id="alg1.1.1.m1.1.1.2.cmml" xref="alg1.1.1.m1.1.1.2">𝐑</ci><ci id="alg1.1.1.m1.1.1.3a.cmml" xref="alg1.1.1.m1.1.1.3"><mtext id="alg1.1.1.m1.1.1.3.cmml" mathsize="70%" xref="alg1.1.1.m1.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.1.m1.1c">\mathbf{R}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="alg1.1.1.m1.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, ATS <math alttext="\mathbf{T}_{\text{adv}}" class="ltx_Math" display="inline" id="alg1.2.2.m2.1"><semantics id="alg1.2.2.m2.1a"><msub id="alg1.2.2.m2.1.1" xref="alg1.2.2.m2.1.1.cmml"><mi id="alg1.2.2.m2.1.1.2" xref="alg1.2.2.m2.1.1.2.cmml">𝐓</mi><mtext id="alg1.2.2.m2.1.1.3" xref="alg1.2.2.m2.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.2.2.m2.1b"><apply id="alg1.2.2.m2.1.1.cmml" xref="alg1.2.2.m2.1.1"><csymbol cd="ambiguous" id="alg1.2.2.m2.1.1.1.cmml" xref="alg1.2.2.m2.1.1">subscript</csymbol><ci id="alg1.2.2.m2.1.1.2.cmml" xref="alg1.2.2.m2.1.1.2">𝐓</ci><ci id="alg1.2.2.m2.1.1.3a.cmml" xref="alg1.2.2.m2.1.1.3"><mtext id="alg1.2.2.m2.1.1.3.cmml" mathsize="70%" xref="alg1.2.2.m2.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.2.m2.1c">\mathbf{T}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="alg1.2.2.m2.1d">bold_T start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, AGS <math alttext="\mathbf{G}_{\text{adv}}" class="ltx_Math" display="inline" id="alg1.3.3.m3.1"><semantics id="alg1.3.3.m3.1a"><msub id="alg1.3.3.m3.1.1" xref="alg1.3.3.m3.1.1.cmml"><mi id="alg1.3.3.m3.1.1.2" xref="alg1.3.3.m3.1.1.2.cmml">𝐆</mi><mtext id="alg1.3.3.m3.1.1.3" xref="alg1.3.3.m3.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.3.3.m3.1b"><apply id="alg1.3.3.m3.1.1.cmml" xref="alg1.3.3.m3.1.1"><csymbol cd="ambiguous" id="alg1.3.3.m3.1.1.1.cmml" xref="alg1.3.3.m3.1.1">subscript</csymbol><ci id="alg1.3.3.m3.1.1.2.cmml" xref="alg1.3.3.m3.1.1.2">𝐆</ci><ci id="alg1.3.3.m3.1.1.3a.cmml" xref="alg1.3.3.m3.1.1.3"><mtext id="alg1.3.3.m3.1.1.3.cmml" mathsize="70%" xref="alg1.3.3.m3.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.3.m3.1c">\mathbf{G}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="alg1.3.3.m3.1d">bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, batch size <math alttext="b" class="ltx_Math" display="inline" id="alg1.4.4.m4.1"><semantics id="alg1.4.4.m4.1a"><mi id="alg1.4.4.m4.1.1" xref="alg1.4.4.m4.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="alg1.4.4.m4.1b"><ci id="alg1.4.4.m4.1.1.cmml" xref="alg1.4.4.m4.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.4.m4.1c">b</annotation><annotation encoding="application/x-llamapun" id="alg1.4.4.m4.1d">italic_b</annotation></semantics></math>, attack generation step <math alttext="K_{1}" class="ltx_Math" display="inline" id="alg1.5.5.m5.1"><semantics id="alg1.5.5.m5.1a"><msub id="alg1.5.5.m5.1.1" xref="alg1.5.5.m5.1.1.cmml"><mi id="alg1.5.5.m5.1.1.2" xref="alg1.5.5.m5.1.1.2.cmml">K</mi><mn id="alg1.5.5.m5.1.1.3" xref="alg1.5.5.m5.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.5.5.m5.1b"><apply id="alg1.5.5.m5.1.1.cmml" xref="alg1.5.5.m5.1.1"><csymbol cd="ambiguous" id="alg1.5.5.m5.1.1.1.cmml" xref="alg1.5.5.m5.1.1">subscript</csymbol><ci id="alg1.5.5.m5.1.1.2.cmml" xref="alg1.5.5.m5.1.1.2">𝐾</ci><cn id="alg1.5.5.m5.1.1.3.cmml" type="integer" xref="alg1.5.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.5.m5.1c">K_{1}</annotation><annotation encoding="application/x-llamapun" id="alg1.5.5.m5.1d">italic_K start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="K_{2}" class="ltx_Math" display="inline" id="alg1.6.6.m6.1"><semantics id="alg1.6.6.m6.1a"><msub id="alg1.6.6.m6.1.1" xref="alg1.6.6.m6.1.1.cmml"><mi id="alg1.6.6.m6.1.1.2" xref="alg1.6.6.m6.1.1.2.cmml">K</mi><mn id="alg1.6.6.m6.1.1.3" xref="alg1.6.6.m6.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.6.6.m6.1b"><apply id="alg1.6.6.m6.1.1.cmml" xref="alg1.6.6.m6.1.1"><csymbol cd="ambiguous" id="alg1.6.6.m6.1.1.1.cmml" xref="alg1.6.6.m6.1.1">subscript</csymbol><ci id="alg1.6.6.m6.1.1.2.cmml" xref="alg1.6.6.m6.1.1.2">𝐾</ci><cn id="alg1.6.6.m6.1.1.3.cmml" type="integer" xref="alg1.6.6.m6.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.6.m6.1c">K_{2}</annotation><annotation encoding="application/x-llamapun" id="alg1.6.6.m6.1d">italic_K start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>.
</div>
<div class="ltx_listingline" id="alg1.7.7">
<span class="ltx_text ltx_font_bold" id="alg1.7.7.2">for</span> <em class="ltx_emph ltx_font_italic" id="alg1.7.7.1">Iteration <math alttext="t=0,1,\ldots,T" class="ltx_Math" display="inline" id="alg1.7.7.1.m1.4"><semantics id="alg1.7.7.1.m1.4a"><mrow id="alg1.7.7.1.m1.4.5" xref="alg1.7.7.1.m1.4.5.cmml"><mi id="alg1.7.7.1.m1.4.5.2" xref="alg1.7.7.1.m1.4.5.2.cmml">t</mi><mo id="alg1.7.7.1.m1.4.5.1" xref="alg1.7.7.1.m1.4.5.1.cmml">=</mo><mrow id="alg1.7.7.1.m1.4.5.3.2" xref="alg1.7.7.1.m1.4.5.3.1.cmml"><mn id="alg1.7.7.1.m1.1.1" xref="alg1.7.7.1.m1.1.1.cmml">0</mn><mo id="alg1.7.7.1.m1.4.5.3.2.1" xref="alg1.7.7.1.m1.4.5.3.1.cmml">,</mo><mn id="alg1.7.7.1.m1.2.2" xref="alg1.7.7.1.m1.2.2.cmml">1</mn><mo id="alg1.7.7.1.m1.4.5.3.2.2" xref="alg1.7.7.1.m1.4.5.3.1.cmml">,</mo><mi id="alg1.7.7.1.m1.3.3" mathvariant="normal" xref="alg1.7.7.1.m1.3.3.cmml">…</mi><mo id="alg1.7.7.1.m1.4.5.3.2.3" xref="alg1.7.7.1.m1.4.5.3.1.cmml">,</mo><mi id="alg1.7.7.1.m1.4.4" xref="alg1.7.7.1.m1.4.4.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.7.7.1.m1.4b"><apply id="alg1.7.7.1.m1.4.5.cmml" xref="alg1.7.7.1.m1.4.5"><eq id="alg1.7.7.1.m1.4.5.1.cmml" xref="alg1.7.7.1.m1.4.5.1"></eq><ci id="alg1.7.7.1.m1.4.5.2.cmml" xref="alg1.7.7.1.m1.4.5.2">𝑡</ci><list id="alg1.7.7.1.m1.4.5.3.1.cmml" xref="alg1.7.7.1.m1.4.5.3.2"><cn id="alg1.7.7.1.m1.1.1.cmml" type="integer" xref="alg1.7.7.1.m1.1.1">0</cn><cn id="alg1.7.7.1.m1.2.2.cmml" type="integer" xref="alg1.7.7.1.m1.2.2">1</cn><ci id="alg1.7.7.1.m1.3.3.cmml" xref="alg1.7.7.1.m1.3.3">…</ci><ci id="alg1.7.7.1.m1.4.4.cmml" xref="alg1.7.7.1.m1.4.4">𝑇</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.7.1.m1.4c">t=0,1,\ldots,T</annotation><annotation encoding="application/x-llamapun" id="alg1.7.7.1.m1.4d">italic_t = 0 , 1 , … , italic_T</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="alg1.7.7.3">do</span>
</div>
<div class="ltx_listingline" id="alg1.9.9">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

<span class="ltx_text ltx_font_bold" id="alg1.9.9.1">Step 1:</span> Sample data batches <math alttext="\mathcal{B}_{\mathbf{R}_{\text{adv}}}" class="ltx_Math" display="inline" id="alg1.8.8.m1.1"><semantics id="alg1.8.8.m1.1a"><msub id="alg1.8.8.m1.1.1" xref="alg1.8.8.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.8.8.m1.1.1.2" xref="alg1.8.8.m1.1.1.2.cmml">ℬ</mi><msub id="alg1.8.8.m1.1.1.3" xref="alg1.8.8.m1.1.1.3.cmml"><mi id="alg1.8.8.m1.1.1.3.2" xref="alg1.8.8.m1.1.1.3.2.cmml">𝐑</mi><mtext id="alg1.8.8.m1.1.1.3.3" xref="alg1.8.8.m1.1.1.3.3a.cmml">adv</mtext></msub></msub><annotation-xml encoding="MathML-Content" id="alg1.8.8.m1.1b"><apply id="alg1.8.8.m1.1.1.cmml" xref="alg1.8.8.m1.1.1"><csymbol cd="ambiguous" id="alg1.8.8.m1.1.1.1.cmml" xref="alg1.8.8.m1.1.1">subscript</csymbol><ci id="alg1.8.8.m1.1.1.2.cmml" xref="alg1.8.8.m1.1.1.2">ℬ</ci><apply id="alg1.8.8.m1.1.1.3.cmml" xref="alg1.8.8.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.8.8.m1.1.1.3.1.cmml" xref="alg1.8.8.m1.1.1.3">subscript</csymbol><ci id="alg1.8.8.m1.1.1.3.2.cmml" xref="alg1.8.8.m1.1.1.3.2">𝐑</ci><ci id="alg1.8.8.m1.1.1.3.3a.cmml" xref="alg1.8.8.m1.1.1.3.3"><mtext id="alg1.8.8.m1.1.1.3.3.cmml" mathsize="50%" xref="alg1.8.8.m1.1.1.3.3">adv</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.8.m1.1c">\mathcal{B}_{\mathbf{R}_{\text{adv}}}</annotation><annotation encoding="application/x-llamapun" id="alg1.8.8.m1.1d">caligraphic_B start_POSTSUBSCRIPT bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{B}_{\mathbf{G}_{\text{adv}}}" class="ltx_Math" display="inline" id="alg1.9.9.m2.1"><semantics id="alg1.9.9.m2.1a"><msub id="alg1.9.9.m2.1.1" xref="alg1.9.9.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.9.9.m2.1.1.2" xref="alg1.9.9.m2.1.1.2.cmml">ℬ</mi><msub id="alg1.9.9.m2.1.1.3" xref="alg1.9.9.m2.1.1.3.cmml"><mi id="alg1.9.9.m2.1.1.3.2" xref="alg1.9.9.m2.1.1.3.2.cmml">𝐆</mi><mtext id="alg1.9.9.m2.1.1.3.3" xref="alg1.9.9.m2.1.1.3.3a.cmml">adv</mtext></msub></msub><annotation-xml encoding="MathML-Content" id="alg1.9.9.m2.1b"><apply id="alg1.9.9.m2.1.1.cmml" xref="alg1.9.9.m2.1.1"><csymbol cd="ambiguous" id="alg1.9.9.m2.1.1.1.cmml" xref="alg1.9.9.m2.1.1">subscript</csymbol><ci id="alg1.9.9.m2.1.1.2.cmml" xref="alg1.9.9.m2.1.1.2">ℬ</ci><apply id="alg1.9.9.m2.1.1.3.cmml" xref="alg1.9.9.m2.1.1.3"><csymbol cd="ambiguous" id="alg1.9.9.m2.1.1.3.1.cmml" xref="alg1.9.9.m2.1.1.3">subscript</csymbol><ci id="alg1.9.9.m2.1.1.3.2.cmml" xref="alg1.9.9.m2.1.1.3.2">𝐆</ci><ci id="alg1.9.9.m2.1.1.3.3a.cmml" xref="alg1.9.9.m2.1.1.3.3"><mtext id="alg1.9.9.m2.1.1.3.3.cmml" mathsize="50%" xref="alg1.9.9.m2.1.1.3.3">adv</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.9.9.m2.1c">\mathcal{B}_{\mathbf{G}_{\text{adv}}}</annotation><annotation encoding="application/x-llamapun" id="alg1.9.9.m2.1d">caligraphic_B start_POSTSUBSCRIPT bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> for attack training;
</div>
<div class="ltx_listingline" id="alg1.17.18">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="alg1.13.13">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span class="ltx_text ltx_font_bold" id="alg1.13.13.1">Step 2:</span> Update <math alttext="\mathbf{R}_{\text{adv}}" class="ltx_Math" display="inline" id="alg1.10.10.m1.1"><semantics id="alg1.10.10.m1.1a"><msub id="alg1.10.10.m1.1.1" xref="alg1.10.10.m1.1.1.cmml"><mi id="alg1.10.10.m1.1.1.2" xref="alg1.10.10.m1.1.1.2.cmml">𝐑</mi><mtext id="alg1.10.10.m1.1.1.3" xref="alg1.10.10.m1.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.10.10.m1.1b"><apply id="alg1.10.10.m1.1.1.cmml" xref="alg1.10.10.m1.1.1"><csymbol cd="ambiguous" id="alg1.10.10.m1.1.1.1.cmml" xref="alg1.10.10.m1.1.1">subscript</csymbol><ci id="alg1.10.10.m1.1.1.2.cmml" xref="alg1.10.10.m1.1.1.2">𝐑</ci><ci id="alg1.10.10.m1.1.1.3a.cmml" xref="alg1.10.10.m1.1.1.3"><mtext id="alg1.10.10.m1.1.1.3.cmml" mathsize="70%" xref="alg1.10.10.m1.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.10.10.m1.1c">\mathbf{R}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="alg1.10.10.m1.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> with fixed <math alttext="\mathbf{G}_{\text{adv}}" class="ltx_Math" display="inline" id="alg1.11.11.m2.1"><semantics id="alg1.11.11.m2.1a"><msub id="alg1.11.11.m2.1.1" xref="alg1.11.11.m2.1.1.cmml"><mi id="alg1.11.11.m2.1.1.2" xref="alg1.11.11.m2.1.1.2.cmml">𝐆</mi><mtext id="alg1.11.11.m2.1.1.3" xref="alg1.11.11.m2.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.11.11.m2.1b"><apply id="alg1.11.11.m2.1.1.cmml" xref="alg1.11.11.m2.1.1"><csymbol cd="ambiguous" id="alg1.11.11.m2.1.1.1.cmml" xref="alg1.11.11.m2.1.1">subscript</csymbol><ci id="alg1.11.11.m2.1.1.2.cmml" xref="alg1.11.11.m2.1.1.2">𝐆</ci><ci id="alg1.11.11.m2.1.1.3a.cmml" xref="alg1.11.11.m2.1.1.3"><mtext id="alg1.11.11.m2.1.1.3.cmml" mathsize="70%" xref="alg1.11.11.m2.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.11.11.m2.1c">\mathbf{G}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="alg1.11.11.m2.1d">bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>: Perform <math alttext="K_{1}" class="ltx_Math" display="inline" id="alg1.12.12.m3.1"><semantics id="alg1.12.12.m3.1a"><msub id="alg1.12.12.m3.1.1" xref="alg1.12.12.m3.1.1.cmml"><mi id="alg1.12.12.m3.1.1.2" xref="alg1.12.12.m3.1.1.2.cmml">K</mi><mn id="alg1.12.12.m3.1.1.3" xref="alg1.12.12.m3.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.12.12.m3.1b"><apply id="alg1.12.12.m3.1.1.cmml" xref="alg1.12.12.m3.1.1"><csymbol cd="ambiguous" id="alg1.12.12.m3.1.1.1.cmml" xref="alg1.12.12.m3.1.1">subscript</csymbol><ci id="alg1.12.12.m3.1.1.2.cmml" xref="alg1.12.12.m3.1.1.2">𝐾</ci><cn id="alg1.12.12.m3.1.1.3.cmml" type="integer" xref="alg1.12.12.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.12.12.m3.1c">K_{1}</annotation><annotation encoding="application/x-llamapun" id="alg1.12.12.m3.1d">italic_K start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> steps of Eq. <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.E6" title="In 5.4 LIAR: Exploitative Bi-level RAG Training ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">6</span></a> with <math alttext="\mathcal{B}_{\mathbf{R}_{\text{adv}}}" class="ltx_Math" display="inline" id="alg1.13.13.m4.1"><semantics id="alg1.13.13.m4.1a"><msub id="alg1.13.13.m4.1.1" xref="alg1.13.13.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.13.13.m4.1.1.2" xref="alg1.13.13.m4.1.1.2.cmml">ℬ</mi><msub id="alg1.13.13.m4.1.1.3" xref="alg1.13.13.m4.1.1.3.cmml"><mi id="alg1.13.13.m4.1.1.3.2" xref="alg1.13.13.m4.1.1.3.2.cmml">𝐑</mi><mtext id="alg1.13.13.m4.1.1.3.3" xref="alg1.13.13.m4.1.1.3.3a.cmml">adv</mtext></msub></msub><annotation-xml encoding="MathML-Content" id="alg1.13.13.m4.1b"><apply id="alg1.13.13.m4.1.1.cmml" xref="alg1.13.13.m4.1.1"><csymbol cd="ambiguous" id="alg1.13.13.m4.1.1.1.cmml" xref="alg1.13.13.m4.1.1">subscript</csymbol><ci id="alg1.13.13.m4.1.1.2.cmml" xref="alg1.13.13.m4.1.1.2">ℬ</ci><apply id="alg1.13.13.m4.1.1.3.cmml" xref="alg1.13.13.m4.1.1.3"><csymbol cd="ambiguous" id="alg1.13.13.m4.1.1.3.1.cmml" xref="alg1.13.13.m4.1.1.3">subscript</csymbol><ci id="alg1.13.13.m4.1.1.3.2.cmml" xref="alg1.13.13.m4.1.1.3.2">𝐑</ci><ci id="alg1.13.13.m4.1.1.3.3a.cmml" xref="alg1.13.13.m4.1.1.3.3"><mtext id="alg1.13.13.m4.1.1.3.3.cmml" mathsize="50%" xref="alg1.13.13.m4.1.1.3.3">adv</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.13.13.m4.1c">\mathcal{B}_{\mathbf{R}_{\text{adv}}}</annotation><annotation encoding="application/x-llamapun" id="alg1.13.13.m4.1d">caligraphic_B start_POSTSUBSCRIPT bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>;
</div>
<div class="ltx_listingline" id="alg1.17.19">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="alg1.17.17">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span class="ltx_text ltx_font_bold" id="alg1.17.17.1">Step 3:</span> Update <math alttext="\mathbf{G}_{\text{adv}}" class="ltx_Math" display="inline" id="alg1.14.14.m1.1"><semantics id="alg1.14.14.m1.1a"><msub id="alg1.14.14.m1.1.1" xref="alg1.14.14.m1.1.1.cmml"><mi id="alg1.14.14.m1.1.1.2" xref="alg1.14.14.m1.1.1.2.cmml">𝐆</mi><mtext id="alg1.14.14.m1.1.1.3" xref="alg1.14.14.m1.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.14.14.m1.1b"><apply id="alg1.14.14.m1.1.1.cmml" xref="alg1.14.14.m1.1.1"><csymbol cd="ambiguous" id="alg1.14.14.m1.1.1.1.cmml" xref="alg1.14.14.m1.1.1">subscript</csymbol><ci id="alg1.14.14.m1.1.1.2.cmml" xref="alg1.14.14.m1.1.1.2">𝐆</ci><ci id="alg1.14.14.m1.1.1.3a.cmml" xref="alg1.14.14.m1.1.1.3"><mtext id="alg1.14.14.m1.1.1.3.cmml" mathsize="70%" xref="alg1.14.14.m1.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.14.14.m1.1c">\mathbf{G}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="alg1.14.14.m1.1d">bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> with fixed <math alttext="\mathbf{R}_{\text{adv}}" class="ltx_Math" display="inline" id="alg1.15.15.m2.1"><semantics id="alg1.15.15.m2.1a"><msub id="alg1.15.15.m2.1.1" xref="alg1.15.15.m2.1.1.cmml"><mi id="alg1.15.15.m2.1.1.2" xref="alg1.15.15.m2.1.1.2.cmml">𝐑</mi><mtext id="alg1.15.15.m2.1.1.3" xref="alg1.15.15.m2.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="alg1.15.15.m2.1b"><apply id="alg1.15.15.m2.1.1.cmml" xref="alg1.15.15.m2.1.1"><csymbol cd="ambiguous" id="alg1.15.15.m2.1.1.1.cmml" xref="alg1.15.15.m2.1.1">subscript</csymbol><ci id="alg1.15.15.m2.1.1.2.cmml" xref="alg1.15.15.m2.1.1.2">𝐑</ci><ci id="alg1.15.15.m2.1.1.3a.cmml" xref="alg1.15.15.m2.1.1.3"><mtext id="alg1.15.15.m2.1.1.3.cmml" mathsize="70%" xref="alg1.15.15.m2.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.15.15.m2.1c">\mathbf{R}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="alg1.15.15.m2.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>: Perform <math alttext="K_{2}" class="ltx_Math" display="inline" id="alg1.16.16.m3.1"><semantics id="alg1.16.16.m3.1a"><msub id="alg1.16.16.m3.1.1" xref="alg1.16.16.m3.1.1.cmml"><mi id="alg1.16.16.m3.1.1.2" xref="alg1.16.16.m3.1.1.2.cmml">K</mi><mn id="alg1.16.16.m3.1.1.3" xref="alg1.16.16.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.16.16.m3.1b"><apply id="alg1.16.16.m3.1.1.cmml" xref="alg1.16.16.m3.1.1"><csymbol cd="ambiguous" id="alg1.16.16.m3.1.1.1.cmml" xref="alg1.16.16.m3.1.1">subscript</csymbol><ci id="alg1.16.16.m3.1.1.2.cmml" xref="alg1.16.16.m3.1.1.2">𝐾</ci><cn id="alg1.16.16.m3.1.1.3.cmml" type="integer" xref="alg1.16.16.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.16.16.m3.1c">K_{2}</annotation><annotation encoding="application/x-llamapun" id="alg1.16.16.m3.1d">italic_K start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> steps of Eq. <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.E6" title="In 5.4 LIAR: Exploitative Bi-level RAG Training ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">6</span></a> with <math alttext="\mathcal{B}_{\mathbf{G}_{\text{adv}}}" class="ltx_Math" display="inline" id="alg1.17.17.m4.1"><semantics id="alg1.17.17.m4.1a"><msub id="alg1.17.17.m4.1.1" xref="alg1.17.17.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.17.17.m4.1.1.2" xref="alg1.17.17.m4.1.1.2.cmml">ℬ</mi><msub id="alg1.17.17.m4.1.1.3" xref="alg1.17.17.m4.1.1.3.cmml"><mi id="alg1.17.17.m4.1.1.3.2" xref="alg1.17.17.m4.1.1.3.2.cmml">𝐆</mi><mtext id="alg1.17.17.m4.1.1.3.3" xref="alg1.17.17.m4.1.1.3.3a.cmml">adv</mtext></msub></msub><annotation-xml encoding="MathML-Content" id="alg1.17.17.m4.1b"><apply id="alg1.17.17.m4.1.1.cmml" xref="alg1.17.17.m4.1.1"><csymbol cd="ambiguous" id="alg1.17.17.m4.1.1.1.cmml" xref="alg1.17.17.m4.1.1">subscript</csymbol><ci id="alg1.17.17.m4.1.1.2.cmml" xref="alg1.17.17.m4.1.1.2">ℬ</ci><apply id="alg1.17.17.m4.1.1.3.cmml" xref="alg1.17.17.m4.1.1.3"><csymbol cd="ambiguous" id="alg1.17.17.m4.1.1.3.1.cmml" xref="alg1.17.17.m4.1.1.3">subscript</csymbol><ci id="alg1.17.17.m4.1.1.3.2.cmml" xref="alg1.17.17.m4.1.1.3.2">𝐆</ci><ci id="alg1.17.17.m4.1.1.3.3a.cmml" xref="alg1.17.17.m4.1.1.3.3"><mtext id="alg1.17.17.m4.1.1.3.3.cmml" mathsize="50%" xref="alg1.17.17.m4.1.1.3.3">adv</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.17.17.m4.1c">\mathcal{B}_{\mathbf{G}_{\text{adv}}}</annotation><annotation encoding="application/x-llamapun" id="alg1.17.17.m4.1d">caligraphic_B start_POSTSUBSCRIPT bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>;
</div>
<div class="ltx_listingline" id="alg1.17.20">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="alg1.17.21">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.19.1.1">Algorithm 1</span> </span>The LIAR Algorithm</figcaption>
</figure>
<div class="ltx_para" id="S5.SS4.p4">
<p class="ltx_p" id="S5.SS4.p4.2">LIAR helps coordinated training of ARS and AGS. Unlike conventional AT frameworks, LIAR produces a coupled <math alttext="\mathbf{R}_{\text{adv}}^{*}(\mathbf{G}_{\text{adv}})" class="ltx_Math" display="inline" id="S5.SS4.p4.1.m1.1"><semantics id="S5.SS4.p4.1.m1.1a"><mrow id="S5.SS4.p4.1.m1.1.1" xref="S5.SS4.p4.1.m1.1.1.cmml"><msubsup id="S5.SS4.p4.1.m1.1.1.3" xref="S5.SS4.p4.1.m1.1.1.3.cmml"><mi id="S5.SS4.p4.1.m1.1.1.3.2.2" xref="S5.SS4.p4.1.m1.1.1.3.2.2.cmml">𝐑</mi><mtext id="S5.SS4.p4.1.m1.1.1.3.2.3" xref="S5.SS4.p4.1.m1.1.1.3.2.3a.cmml">adv</mtext><mo id="S5.SS4.p4.1.m1.1.1.3.3" xref="S5.SS4.p4.1.m1.1.1.3.3.cmml">∗</mo></msubsup><mo id="S5.SS4.p4.1.m1.1.1.2" xref="S5.SS4.p4.1.m1.1.1.2.cmml">⁢</mo><mrow id="S5.SS4.p4.1.m1.1.1.1.1" xref="S5.SS4.p4.1.m1.1.1.1.1.1.cmml"><mo id="S5.SS4.p4.1.m1.1.1.1.1.2" stretchy="false" xref="S5.SS4.p4.1.m1.1.1.1.1.1.cmml">(</mo><msub id="S5.SS4.p4.1.m1.1.1.1.1.1" xref="S5.SS4.p4.1.m1.1.1.1.1.1.cmml"><mi id="S5.SS4.p4.1.m1.1.1.1.1.1.2" xref="S5.SS4.p4.1.m1.1.1.1.1.1.2.cmml">𝐆</mi><mtext id="S5.SS4.p4.1.m1.1.1.1.1.1.3" xref="S5.SS4.p4.1.m1.1.1.1.1.1.3a.cmml">adv</mtext></msub><mo id="S5.SS4.p4.1.m1.1.1.1.1.3" stretchy="false" xref="S5.SS4.p4.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.1.m1.1b"><apply id="S5.SS4.p4.1.m1.1.1.cmml" xref="S5.SS4.p4.1.m1.1.1"><times id="S5.SS4.p4.1.m1.1.1.2.cmml" xref="S5.SS4.p4.1.m1.1.1.2"></times><apply id="S5.SS4.p4.1.m1.1.1.3.cmml" xref="S5.SS4.p4.1.m1.1.1.3"><csymbol cd="ambiguous" id="S5.SS4.p4.1.m1.1.1.3.1.cmml" xref="S5.SS4.p4.1.m1.1.1.3">superscript</csymbol><apply id="S5.SS4.p4.1.m1.1.1.3.2.cmml" xref="S5.SS4.p4.1.m1.1.1.3"><csymbol cd="ambiguous" id="S5.SS4.p4.1.m1.1.1.3.2.1.cmml" xref="S5.SS4.p4.1.m1.1.1.3">subscript</csymbol><ci id="S5.SS4.p4.1.m1.1.1.3.2.2.cmml" xref="S5.SS4.p4.1.m1.1.1.3.2.2">𝐑</ci><ci id="S5.SS4.p4.1.m1.1.1.3.2.3a.cmml" xref="S5.SS4.p4.1.m1.1.1.3.2.3"><mtext id="S5.SS4.p4.1.m1.1.1.3.2.3.cmml" mathsize="70%" xref="S5.SS4.p4.1.m1.1.1.3.2.3">adv</mtext></ci></apply><times id="S5.SS4.p4.1.m1.1.1.3.3.cmml" xref="S5.SS4.p4.1.m1.1.1.3.3"></times></apply><apply id="S5.SS4.p4.1.m1.1.1.1.1.1.cmml" xref="S5.SS4.p4.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS4.p4.1.m1.1.1.1.1.1.1.cmml" xref="S5.SS4.p4.1.m1.1.1.1.1">subscript</csymbol><ci id="S5.SS4.p4.1.m1.1.1.1.1.1.2.cmml" xref="S5.SS4.p4.1.m1.1.1.1.1.1.2">𝐆</ci><ci id="S5.SS4.p4.1.m1.1.1.1.1.1.3a.cmml" xref="S5.SS4.p4.1.m1.1.1.1.1.1.3"><mtext id="S5.SS4.p4.1.m1.1.1.1.1.1.3.cmml" mathsize="70%" xref="S5.SS4.p4.1.m1.1.1.1.1.1.3">adv</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.1.m1.1c">\mathbf{R}_{\text{adv}}^{*}(\mathbf{G}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.1.m1.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT ( bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math> and <math alttext="\mathbf{G}_{\text{adv}}" class="ltx_Math" display="inline" id="S5.SS4.p4.2.m2.1"><semantics id="S5.SS4.p4.2.m2.1a"><msub id="S5.SS4.p4.2.m2.1.1" xref="S5.SS4.p4.2.m2.1.1.cmml"><mi id="S5.SS4.p4.2.m2.1.1.2" xref="S5.SS4.p4.2.m2.1.1.2.cmml">𝐆</mi><mtext id="S5.SS4.p4.2.m2.1.1.3" xref="S5.SS4.p4.2.m2.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p4.2.m2.1b"><apply id="S5.SS4.p4.2.m2.1.1.cmml" xref="S5.SS4.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS4.p4.2.m2.1.1.1.cmml" xref="S5.SS4.p4.2.m2.1.1">subscript</csymbol><ci id="S5.SS4.p4.2.m2.1.1.2.cmml" xref="S5.SS4.p4.2.m2.1.1.2">𝐆</ci><ci id="S5.SS4.p4.2.m2.1.1.3a.cmml" xref="S5.SS4.p4.2.m2.1.1.3"><mtext id="S5.SS4.p4.2.m2.1.1.3.cmml" mathsize="70%" xref="S5.SS4.p4.2.m2.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p4.2.m2.1c">\mathbf{G}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p4.2.m2.1d">bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>, enhancing overall robustness. More implementation details are in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1" title="Appendix A Detailed Experiment Setups ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">A</span></a>. We demonstrate effective convergence of our method in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A3.F7" title="Figure 7 ‣ Appendix C Acknowledgment of AI Assistance in Writing and Revision ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">7</span></a> in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A4" title="Appendix D Convergence of LIAR ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">D</span></a>. Compared with Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S4.F3" title="Figure 3 ‣ 4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">3</span></a>, LIAR helps each individual objective make concerted effort, thus leading to smoother training trajectory. Note that according to <cite class="ltx_cite ltx_citemacro_citet">Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib56" title="">2024b</a>)</cite>, the tractability of the convergence of BLO relies on the convexity of the lower-level problems objective of Eq. <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.E6" title="In 5.4 LIAR: Exploitative Bi-level RAG Training ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">6</span></a>. We thus provide a theoretical proof for the convexity in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A4" title="Appendix D Convergence of LIAR ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">D</span></a>.</p>
</div>
<figure class="ltx_table" id="S5.T1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T1.10" style="width:433.6pt;height:246.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-99.3pt,56.5pt) scale(0.685865092979586,0.685865092979586) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T1.10.10">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T1.10.10.11.1">
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S5.T1.10.10.11.1.1"><span class="ltx_text ltx_font_bold" id="S5.T1.10.10.11.1.1.1">Experiment</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="5" id="S5.T1.10.10.11.1.2"><span class="ltx_text ltx_font_bold" id="S5.T1.10.10.11.1.2.1">Harmful Behavior / Target Database</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="5" id="S5.T1.10.10.11.1.3"><span class="ltx_text ltx_font_bold" id="S5.T1.10.10.11.1.3.1">Harmful String / Target Database</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.10">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.10.11">Source Model</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.10.12">Target Model</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.10.13">Source Database</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.1.1">NQ <math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T1.1.1.1.1.m1.1"><semantics id="S5.T1.1.1.1.1.m1.1a"><mo id="S5.T1.1.1.1.1.m1.1.1" stretchy="false" xref="S5.T1.1.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T1.1.1.1.1.m1.1b"><ci id="S5.T1.1.1.1.1.m1.1.1.cmml" xref="S5.T1.1.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.1.1.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T1.1.1.1.1.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.2.2.2.2">MS <math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T1.2.2.2.2.m1.1"><semantics id="S5.T1.2.2.2.2.m1.1a"><mo id="S5.T1.2.2.2.2.m1.1.1" stretchy="false" xref="S5.T1.2.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T1.2.2.2.2.m1.1b"><ci id="S5.T1.2.2.2.2.m1.1.1.cmml" xref="S5.T1.2.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.2.2.2.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T1.2.2.2.2.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.3.3.3.3">HQ <math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T1.3.3.3.3.m1.1"><semantics id="S5.T1.3.3.3.3.m1.1a"><mo id="S5.T1.3.3.3.3.m1.1.1" stretchy="false" xref="S5.T1.3.3.3.3.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T1.3.3.3.3.m1.1b"><ci id="S5.T1.3.3.3.3.m1.1.1.cmml" xref="S5.T1.3.3.3.3.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.3.3.3.3.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T1.3.3.3.3.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.4.4.4.4">FQ <math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T1.4.4.4.4.m1.1"><semantics id="S5.T1.4.4.4.4.m1.1a"><mo id="S5.T1.4.4.4.4.m1.1.1" stretchy="false" xref="S5.T1.4.4.4.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T1.4.4.4.4.m1.1b"><ci id="S5.T1.4.4.4.4.m1.1.1.cmml" xref="S5.T1.4.4.4.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.4.4.4.4.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T1.4.4.4.4.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.5.5.5.5">QR <math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T1.5.5.5.5.m1.1"><semantics id="S5.T1.5.5.5.5.m1.1a"><mo id="S5.T1.5.5.5.5.m1.1.1" stretchy="false" xref="S5.T1.5.5.5.5.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T1.5.5.5.5.m1.1b"><ci id="S5.T1.5.5.5.5.m1.1.1.cmml" xref="S5.T1.5.5.5.5.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.5.5.5.5.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T1.5.5.5.5.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.6.6.6.6">NQ <math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T1.6.6.6.6.m1.1"><semantics id="S5.T1.6.6.6.6.m1.1a"><mo id="S5.T1.6.6.6.6.m1.1.1" stretchy="false" xref="S5.T1.6.6.6.6.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T1.6.6.6.6.m1.1b"><ci id="S5.T1.6.6.6.6.m1.1.1.cmml" xref="S5.T1.6.6.6.6.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.6.6.6.6.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T1.6.6.6.6.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.7.7.7.7">MS <math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T1.7.7.7.7.m1.1"><semantics id="S5.T1.7.7.7.7.m1.1a"><mo id="S5.T1.7.7.7.7.m1.1.1" stretchy="false" xref="S5.T1.7.7.7.7.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T1.7.7.7.7.m1.1b"><ci id="S5.T1.7.7.7.7.m1.1.1.cmml" xref="S5.T1.7.7.7.7.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.7.7.7.7.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T1.7.7.7.7.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.8.8.8.8">HQ <math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T1.8.8.8.8.m1.1"><semantics id="S5.T1.8.8.8.8.m1.1a"><mo id="S5.T1.8.8.8.8.m1.1.1" stretchy="false" xref="S5.T1.8.8.8.8.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T1.8.8.8.8.m1.1b"><ci id="S5.T1.8.8.8.8.m1.1.1.cmml" xref="S5.T1.8.8.8.8.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.8.8.8.8.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T1.8.8.8.8.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.9.9.9.9">FQ <math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T1.9.9.9.9.m1.1"><semantics id="S5.T1.9.9.9.9.m1.1a"><mo id="S5.T1.9.9.9.9.m1.1.1" stretchy="false" xref="S5.T1.9.9.9.9.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T1.9.9.9.9.m1.1b"><ci id="S5.T1.9.9.9.9.m1.1.1.cmml" xref="S5.T1.9.9.9.9.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.9.9.9.9.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T1.9.9.9.9.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.10.10">QR <math alttext="\uparrow" class="ltx_Math" display="inline" id="S5.T1.10.10.10.10.m1.1"><semantics id="S5.T1.10.10.10.10.m1.1a"><mo id="S5.T1.10.10.10.10.m1.1.1" stretchy="false" xref="S5.T1.10.10.10.10.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S5.T1.10.10.10.10.m1.1b"><ci id="S5.T1.10.10.10.10.m1.1.1.cmml" xref="S5.T1.10.10.10.10.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.10.10.10.10.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S5.T1.10.10.10.10.m1.1d">↑</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.12.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.1" rowspan="6"><span class="ltx_text" id="S5.T1.10.10.12.2.1.1">LLaMA-2-7B</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.2" rowspan="2"><span class="ltx_text" id="S5.T1.10.10.12.2.2.1">LLaMA-2-13B</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.3">NQ</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.4">0.3865</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.5">0.3596</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.6">0.3788</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.7">0.3538</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.8">0.3635</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.9">0.3502</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.10">0.3118</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.11">0.3502</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.12">0.3066</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.12.2.13">0.3153</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.13.3">
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.13.3.1">MS</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.13.3.2">0.3385</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.13.3.3">0.3500</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.13.3.4">0.3404</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.13.3.5">0.3250</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.13.3.6">0.3346</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.13.3.7">0.2927</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.13.3.8">0.3153</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.13.3.9">0.3153</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.13.3.10">0.2857</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.13.3.11">0.2892</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.14.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.14.4.1" rowspan="2"><span class="ltx_text" id="S5.T1.10.10.14.4.1.1">Vicuna-13B</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.14.4.2">NQ</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.14.4.3">0.3788</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.14.4.4">0.3519</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.14.4.5">0.3731</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.14.4.6">0.3481</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.14.4.7">0.3577</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.14.4.8">0.3432</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.14.4.9">0.3066</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.14.4.10">0.3432</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.14.4.11">0.3014</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.14.4.12">0.3101</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.15.5">
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.15.5.1">MS</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.15.5.2">0.3442</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.15.5.3">0.3558</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.15.5.4">0.3462</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.15.5.5">0.3327</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.15.5.6">0.3404</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.15.5.7">0.2979</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.15.5.8">0.3223</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.15.5.9">0.3223</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.15.5.10">0.2909</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.15.5.11">0.2944</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.16.6">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.16.6.1" rowspan="2"><span class="ltx_text" id="S5.T1.10.10.16.6.1.1">GPT-3.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.16.6.2">NQ</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.16.6.3">0.1904</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.16.6.4">0.1769</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.16.6.5">0.1865</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.16.6.6">0.1750</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.16.6.7">0.1808</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.16.6.8">0.1725</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.16.6.9">0.1533</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.16.6.10">0.1725</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.16.6.11">0.1516</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.16.6.12">0.1568</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.17.7">
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.17.7.1">MS</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.17.7.2">0.1673</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.17.7.3">0.1712</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.17.7.4">0.1673</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.17.7.5">0.1596</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.17.7.6">0.1654</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.17.7.7">0.1446</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.17.7.8">0.1551</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.17.7.9">0.1551</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.17.7.10">0.1411</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.17.7.11">0.1429</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.18.8">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.1" rowspan="6"><span class="ltx_text" id="S5.T1.10.10.18.8.1.1">Vicuna-7B</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.2" rowspan="2"><span class="ltx_text" id="S5.T1.10.10.18.8.2.1">LLaMA-2-13B</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.3">NQ</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.4">0.3192</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.5">0.2962</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.6">0.3135</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.7">0.2923</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.8">0.3019</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.9">0.2857</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.10">0.2544</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.11">0.2857</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.12">0.2509</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.18.8.13">0.2578</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.19.9">
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.19.9.1">MS</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.19.9.2">0.2808</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.19.9.3">0.2904</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.19.9.4">0.2827</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.19.9.5">0.2712</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.19.9.6">0.2788</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.19.9.7">0.2404</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.19.9.8">0.2596</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.19.9.9">0.2596</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.19.9.10">0.2352</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.19.9.11">0.2387</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.20.10">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.20.10.1" rowspan="2"><span class="ltx_text" id="S5.T1.10.10.20.10.1.1">Vicuna-13B</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.20.10.2">NQ</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.20.10.3">0.3654</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.20.10.4">0.3385</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.20.10.5">0.3577</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.20.10.6">0.3346</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.20.10.7">0.3442</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.20.10.8">0.3275</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.20.10.9">0.2909</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.20.10.10">0.3275</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.20.10.11">0.2875</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.20.10.12">0.2962</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.21.11">
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.21.11.1">MS</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.21.11.2">0.3346</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.21.11.3">0.3442</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.21.11.4">0.3346</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.21.11.5">0.3212</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.21.11.6">0.3308</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.21.11.7">0.2857</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.21.11.8">0.3084</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.21.11.9">0.3084</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.21.11.10">0.2787</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.21.11.11">0.2822</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.22.12">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.22.12.1" rowspan="2"><span class="ltx_text" id="S5.T1.10.10.22.12.1.1">GPT-3.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.22.12.2">NQ</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.22.12.3">0.1712</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.22.12.4">0.1596</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.22.12.5">0.1673</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.22.12.6">0.1558</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.22.12.7">0.1615</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.22.12.8">0.1533</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.22.12.9">0.1359</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.22.12.10">0.1533</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.22.12.11">0.1341</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.22.12.12">0.1376</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.23.13">
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.23.13.1">MS</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.23.13.2">0.1500</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.23.13.3">0.1558</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.23.13.4">0.1500</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.23.13.5">0.1442</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.23.13.6">0.1481</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.23.13.7">0.1289</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.23.13.8">0.1394</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.23.13.9">0.1394</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.23.13.10">0.1254</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.23.13.11">0.1272</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.24.14">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T1.10.10.24.14.1" rowspan="7"><span class="ltx_text" id="S5.T1.10.10.24.14.1.1">Ensemble</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.24.14.2" rowspan="2"><span class="ltx_text" id="S5.T1.10.10.24.14.2.1">LLaMA-2-13B</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.24.14.3">NQ</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.24.14.4">0.5500</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.24.14.5">0.4827</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.24.14.6">0.5173</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.24.14.7">0.4769</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.24.14.8">0.4904</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.24.14.9">0.4913</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.24.14.10">0.4146</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.24.14.11">0.4634</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.24.14.12">0.4094</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.24.14.13">0.4199</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.25.15">
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.25.15.1">MS</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.25.15.2">0.4750</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.25.15.3">0.5192</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.25.15.4">0.4885</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.25.15.5">0.4577</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.25.15.6">0.4692</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.25.15.7">0.4111</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.25.15.8">0.4686</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.25.15.9">0.4425</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.25.15.10">0.4007</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.25.15.11">0.4077</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.26.16">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.26.16.1" rowspan="2"><span class="ltx_text" id="S5.T1.10.10.26.16.1.1">Vicuna-13B</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.26.16.2">NQ</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.26.16.3">0.5846</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.26.16.4">0.5135</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.26.16.5">0.5500</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.26.16.6">0.5077</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.26.16.7">0.5212</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.26.16.8">0.5226</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.26.16.9">0.4408</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.26.16.10">0.4930</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.26.16.11">0.4355</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.26.16.12">0.4460</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.27.17">
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.27.17.1">MS</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.27.17.2">0.5231</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.27.17.3">0.5731</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.27.17.4">0.5404</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.27.17.5">0.5058</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.27.17.6">0.5173</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.27.17.7">0.4547</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.27.17.8">0.5174</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.27.17.9">0.4878</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.27.17.10">0.4425</td>
<td class="ltx_td ltx_align_center" id="S5.T1.10.10.27.17.11">0.4495</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.28.18">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T1.10.10.28.18.1" rowspan="2"><span class="ltx_text" id="S5.T1.10.10.28.18.1.1">GPT-3.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.28.18.2">NQ</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.28.18.3">0.2942</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.28.18.4">0.2596</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.28.18.5">0.2769</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.28.18.6">0.2558</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.28.18.7">0.2615</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.28.18.8">0.2631</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.28.18.9">0.2213</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.28.18.10">0.2474</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.28.18.11">0.2195</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.28.18.12">0.2247</td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.29.19">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.10.10.29.19.1">MS</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.10.10.29.19.2">0.2519</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.10.10.29.19.3">0.2769</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.10.10.29.19.4">0.2615</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.10.10.29.19.5">0.2442</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.10.10.29.19.6">0.2500</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.10.10.29.19.7">0.2195</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.10.10.29.19.8">0.2509</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.10.10.29.19.9">0.2352</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.10.10.29.19.10">0.2143</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.10.10.29.19.11">0.2178</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Results of gray-box attack based on LIAR for RAG systems with different knowledge databases and LLM generators. We consider the two adversarial goals defined in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S3.SS3" title="3.3 Adversarial Goals ‣ 3 Threat Model ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">3.3</span></a> with example case studies in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A5" title="Appendix E Case Studies ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">E</span></a>. Model settings including ensemble are detailed in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1" title="Appendix A Detailed Experiment Setups ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">A</span></a>.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Experiments</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">We conduct a series of experiments to evaluate the effectiveness of LIAR. Detailed <span class="ltx_text ltx_font_italic" id="S6.p1.1.1">Experiment Settings</span>, including (1) dataset for attacks, (2) knowledge databases, (3) Retriever models, (4) LLM models, and (5) Training details are included in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A1" title="Appendix A Detailed Experiment Setups ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">A</span></a>.
<span class="ltx_text ltx_font_italic" id="S6.p1.1.2">Evaluation Protocol:</span>
We set the Attack Success Rate (ASR) as the primary metric and evaluate the result by text matching and human judgment akin to <cite class="ltx_cite ltx_citemacro_citet">Zou et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib58" title="">2023</a>)</cite>.</p>
</div>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Overall Performance of LIAR</h3>
<div class="ltx_para" id="S6.SS1.p1">
<p class="ltx_p" id="S6.SS1.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.T1" title="Table 1 ‣ 5.4 LIAR: Exploitative Bi-level RAG Training ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">1</span></a> summarizes the effectiveness of LIAR for gray-box attacks on various RAG systems, with different source and target models and knowledge bases. We obtain the following key observations:
❶ <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S6.SS1.p1.1.1">Performance Variability:</span>
The effectiveness of gray-box attacks varies significantly across different model pairings. For example, when using LLaMA-2-7B as the source model, attacks on LLaMA-2-13B show relatively higher Harmful Behavior rates, such as 0.3865 for NQ and 0.3596 for MS, compared to Vicuna-13B and GPT-3.5 targets. This suggests that attacks are more effective when source and target models are similar.
❷ <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S6.SS1.p1.1.2">Knowledge Base Sensitivity:</span>
Different knowledge bases exhibit varying levels of vulnerability. The NQ and MS databases consistently show higher Harmful Behavior detection rates, such as 0.3865 and 0.3596 for LLaMA-2-13B under attack by LLaMA-2-7B. In contrast, HQ and FQ databases tend to be less impacted, with lower detection rates, highlighting that the nature of the database content influences attack susceptibility.
❸ <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S6.SS1.p1.1.3">Ensemble Approach Efficacy:</span>
Ensemble attacks, which combine multiple models, generally perform better. For instance, attacks on Vicuna-13B using an ensemble approach show a Harmful Behavior rate of 0.5846 for NQ and 0.5135 for MS. This indicates that using multiple models can enhance the transferability of the generated adversarial content attacks.
❹ <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S6.SS1.p1.1.4">Behavior Detection Rates:</span>
Harmful String detection rates are lower than Harmful Behavior rates across the board. For example, the highest string detection for LLaMA-2-13B under attack by LLaMA-2-7B is 0.3502 for NQ, suggesting that broader content manipulation is more achievable than specific string alterations.
❻ <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S6.SS1.p1.1.5">General Observations:</span>
The results highlight that adversarial contents learned through vulnerabilities can effectively manipulate RAG systems under the gray-box attack scenario. The vulnerabilities is influenced by the choice of models and knowledge bases. More detailed analyses on each components are explored in following subsections.</p>
</div>
<figure class="ltx_figure" id="S6.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S6.F5.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="515" id="S6.F5.sf1.g1" src="x5.png" width="831"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">(a) </span>ASR <span class="ltx_text ltx_font_italic" id="S6.F5.sf1.2.1">v.s.</span> Length of ARS.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S6.F5.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="515" id="S6.F5.sf2.g1" src="x6.png" width="831"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">(b) </span>ASR <span class="ltx_text ltx_font_italic" id="S6.F5.sf2.2.1">v.s.</span> Length of AGS.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S6.F5.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="515" id="S6.F5.sf3.g1" src="x7.png" width="831"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">(c) </span>ASR <span class="ltx_text ltx_font_italic" id="S6.F5.sf3.2.1">v.s.</span> Number of Adversarial Doc.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Sensitivity analyses on three key hyper-parameters.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span>Ablation Study</h3>
<div class="ltx_para" id="S6.SS2.p1">
<p class="ltx_p" id="S6.SS2.p1.1">In the ablation study, we individually investigate the transferability of the two attack components to assess their effectiveness in different scenarios.</p>
</div>
<section class="ltx_paragraph" id="S6.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Transferability to Unseen Knowledge Database.</h4>
<div class="ltx_para" id="S6.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S6.SS2.SSS0.Px1.p1.1">We evaluated the performance of our attack on the retriever when applied to RAG with unseen knowledge database. The transferability is measured by the retrieval success rate of adversarial content across various target databases, as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.T2" title="Table 2 ‣ Transferability to Unseen Knowledge Database. ‣ 6.2 Ablation Study ‣ 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">2</span></a>. The results indicate that the attack maintains a performance with a success rate exceeding 70% across different databases. Notably, when transferring to HotpotQA, the attack achieved a success rate of 77.12%, suggesting robust generalization to diverse question types. However, the performance on FiQA and Quora was slightly lower, highlighting some variability in effectiveness depending on the nature of the queries.</p>
</div>
<figure class="ltx_table" id="S6.T2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S6.T2.1" style="width:152.3pt;height:86.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-19.0pt,10.8pt) scale(0.8,0.8) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S6.T2.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S6.T2.1.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T2.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.1.1.1.1">Target Database</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T2.1.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.1.1.2.1">NQ</span></th>
<th class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T2.1.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S6.T2.1.1.1.1.3.1">MS MARCO</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T2.1.1.2.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.1.1.2.1.1">NQ</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.1.1.2.1.2">NA</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S6.T2.1.1.2.1.3">0.7269</td>
</tr>
<tr class="ltx_tr" id="S6.T2.1.1.3.2">
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.3.2.1">MS MARCO</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.3.2.2">0.7173</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T2.1.1.3.2.3">NA</td>
</tr>
<tr class="ltx_tr" id="S6.T2.1.1.4.3">
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.4.3.1">HotpotQA</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.4.3.2">0.7712</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T2.1.1.4.3.3">0.7519</td>
</tr>
<tr class="ltx_tr" id="S6.T2.1.1.5.4">
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.5.4.1">FiQA</td>
<td class="ltx_td ltx_align_center" id="S6.T2.1.1.5.4.2">0.7077</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T2.1.1.5.4.3">0.7000</td>
</tr>
<tr class="ltx_tr" id="S6.T2.1.1.6.5">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.1.1.6.5.1">Quora</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.1.1.6.5.2">0.7269</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S6.T2.1.1.6.5.3">0.7192</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Transfer results across different databases</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S6.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Transferability to Unseen LLM Generators.</h4>
<div class="ltx_para" id="S6.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S6.SS2.SSS0.Px2.p1.1">We also examined the attack’s transferability to different LLM generators that were not used during the attack’s development. As depicted in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.T3" title="Table 3 ‣ Transferability to Unseen LLM Generators. ‣ 6.2 Ablation Study ‣ 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">3</span></a>, the attack was particularly effective when transferred to models with similar architectures to those used in training. For instance, Vicuna-13B showed a high success rate of 58.46% on NQ and 57.31% on MS MARCO. In contrast, models like Claude-3-Haiku and Gemini-1.0-Pro exhibited significantly lower transferability rates, with success rates dropping below 3% for Claude-3-Haiku. These results suggest that the effectiveness of the attack may vary considerably with different model architectures.</p>
</div>
<figure class="ltx_table" id="S6.T3">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S6.T3.1" style="width:139.7pt;height:94.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-23.3pt,15.8pt) scale(0.75,0.75) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S6.T3.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S6.T3.1.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T3.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T3.1.1.1.1.1.1">Target Model</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T3.1.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S6.T3.1.1.1.1.2.1">NQ</span></th>
<th class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T3.1.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S6.T3.1.1.1.1.3.1">MS MARCO</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T3.1.1.2.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.1.2.1.1">LLaMA-2-13B</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.1.2.1.2">0.5500</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S6.T3.1.1.2.1.3">0.5192</td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.1.3.2">
<td class="ltx_td ltx_align_center" id="S6.T3.1.1.3.2.1">Vicuna-13B</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.1.3.2.2">0.5846</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.1.3.2.3">0.5731</td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.1.4.3">
<td class="ltx_td ltx_align_center" id="S6.T3.1.1.4.3.1">Claude-3-Haiku</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.1.4.3.2">0.0288</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.1.4.3.3">0.0212</td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.1.5.4">
<td class="ltx_td ltx_align_center" id="S6.T3.1.1.5.4.1">Gemini-1.0-Pro</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.1.5.4.2">0.2635</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.1.5.4.3">0.2250</td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.1.6.5">
<td class="ltx_td ltx_align_center" id="S6.T3.1.1.6.5.1">GPT-3.5</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.1.6.5.2">0.2942</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.1.6.5.3">0.2769</td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.1.7.6">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.1.7.6.1">GPT-4</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.1.7.6.2">0.1673</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S6.T3.1.1.7.6.3">0.1442</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Transfer results across different models</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S6.SS2.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Impact of Different Attack Components.</h4>
<div class="ltx_para" id="S6.SS2.SSS0.Px3.p1">
<p class="ltx_p" id="S6.SS2.SSS0.Px3.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.T4" title="Table 4 ‣ Impact of Different Attack Components. ‣ 6.2 Ablation Study ‣ 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">4</span></a> presents AR, AG, and ASR for various settings. LIAR shows the highest ASR for both NQ (0.7654) and MS MARCO (0.7288), indicating its effectiveness. The absence of a retriever attack significantly reduces AR and ASR, showing the importance of this component. Notably, the removal of the jailbreak prompt results in an ASR of 0.0000 for both datasets, suggesting its vital role in successful attacks.</p>
</div>
<figure class="ltx_table" id="S6.T4">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S6.T4.1" style="width:433.6pt;height:236.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(68.1pt,-37.1pt) scale(1.45795180020702,1.45795180020702) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S6.T4.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S6.T4.1.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T4.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T4.1.1.1.1.1.1">Database</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T4.1.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S6.T4.1.1.1.1.2.1">Setting</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T4.1.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S6.T4.1.1.1.1.3.1">AR</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T4.1.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S6.T4.1.1.1.1.4.1">AG</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T4.1.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S6.T4.1.1.1.1.5.1">ASR</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T4.1.1.2.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.2.1.1" rowspan="4"><span class="ltx_text" id="S6.T4.1.1.2.1.1.1">NQ</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.2.1.2">w/o retriever attack</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.2.1.3">0.0412</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.2.1.4">0.9288</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.2.1.5">0.0135</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.1.3.2">
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.3.2.1">w/o jailbreak prompt</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.3.2.2">0.9148</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.3.2.3">0.0000</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.3.2.4">0.0000</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.1.4.3">
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.4.3.1">warm-up training</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.4.3.2">0.0703</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.4.3.3">0.0462</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.4.3.4">0.0462</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.1.5.4">
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.5.4.1">LIAR</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.5.4.2">0.8740</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.5.4.3">0.7654</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.5.4.4">0.7654</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.1.6.5">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T4.1.1.6.5.1" rowspan="4"><span class="ltx_text" id="S6.T4.1.1.6.5.1.1">MS MARCO</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.6.5.2">w/o retriever attack</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.6.5.3">0.0124</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.6.5.4">0.9288</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.1.6.5.5">0.0038</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.1.7.6">
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.7.6.1">w/o jailbreak prompt</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.7.6.2">0.8672</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.7.6.3">0.0000</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.7.6.4">0.0000</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.1.8.7">
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.8.7.1">warm-up training</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.8.7.2">0.0539</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.8.7.3">0.0365</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.1.8.7.4">0.0365</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.1.9.8">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.1.9.8.1">LIAR</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.1.9.8.2">0.8247</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.1.9.8.3">0.7288</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.1.9.8.4">0.7288</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>AR, AG, and ASR for Different Settings</figcaption>
</figure>
</section>
</section>
<section class="ltx_subsection" id="S6.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3 </span>Senstivity of Hyper-parameters</h3>
<div class="ltx_para" id="S6.SS3.p1">
<p class="ltx_p" id="S6.SS3.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.F5" title="Figure 5 ‣ 6.1 Overall Performance of LIAR ‣ 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">5</span></a> shows the impact of varying three parameters on ASR for NQ and MS MARCO datasets. We use LLaMA-2-7B as the LLM generator.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.SS3.p2">
<p class="ltx_p" id="S6.SS3.p2.1">❶ <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S6.SS3.p2.1.1">Length of ARS</span> (Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.F5" title="Figure 5 ‣ 6.1 Overall Performance of LIAR ‣ 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">5</span></a>a).
Increasing ARS length from 10 to 50 tokens slightly improves ASR, with NQ seeing a more noticeable increase from 0.82 to 0.86 compared to MS MARCO, which improves from 0.82 to 0.84.
❷ <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S6.SS3.p2.1.2">Length of AGS</span> (Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.F5" title="Figure 5 ‣ 6.1 Overall Performance of LIAR ‣ 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">5</span></a>b).
Extending AGS from 10 to 50 tokens also enhances ASR. NQ shows an increase from 0.80 to 0.875, while MS MARCO improves from 0.775 to 0.85, indicating a positive but moderate effect.
❸ <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S6.SS3.p2.1.3">Number of Adversarial Documents</span> (Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.F5" title="Figure 5 ‣ 6.1 Overall Performance of LIAR ‣ 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">5</span></a>c).
Adding more adversarial documents from 2 to 10 leads to a significant rise in ASR, with NQ increasing from 0.75 to 0.90 and MS MARCO from 0.75 to 0.85, suggesting higher content volume can aid attack success.</p>
</div>
<div class="ltx_para" id="S6.SS3.p3">
<p class="ltx_p" id="S6.SS3.p3.1">Overall, longer sequences and more documents generally enhance attack effectiveness, though improvements vary by datasets. We further provide experiment results in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A2" title="Appendix B More Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">B</span></a>, including the effetiveness of different retriever models, and effectiveness against classic defense. Case studies can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A5" title="Appendix E Case Studies ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">E</span></a>.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Conclusion</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">In this paper, we demonstrated the vulnerabilities of Retrieval-Augmented Generative (RAG) models to gray-box attacks. Through a series of experiments, we showed that adversarial content could significantly impact the retrieval and generative components of these systems. Our findings show the need for robust defense mechanisms to protect against such attacks, ensuring the integrity and reliability of RAG models in various applications. In broader terms, we emphasize the urgent need to strengthen trustworthiness of LLM applications.</p>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Limitation Discussions &amp; Future Work</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">Despite the promising results, our study has several limitations that warrant discussion.</p>
</div>
<div class="ltx_para" id="Sx1.p2">
<p class="ltx_p" id="Sx1.p2.1">Firstly, the scope of our experiments was limited to specific datasets and models, which may not fully capture the diversity and complexity of real-world RAG systems. Future work should extend these evaluations to a broader range of datasets, tasks and models, such as math <cite class="ltx_cite ltx_citemacro_cite">Wu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib50" title="">2024</a>); Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib55" title="">2024a</a>)</cite>, or even multi-modal scenarios <cite class="ltx_cite ltx_citemacro_cite">Feng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib12" title="">2022</a>)</cite>.</p>
</div>
<div class="ltx_para" id="Sx1.p3">
<p class="ltx_p" id="Sx1.p3.1">Secondly, our gray-box attack assumes partial knowledge of the retriever, which may not always reflect practical attack scenarios where attackers have less information.</p>
</div>
<div class="ltx_para" id="Sx1.p4">
<p class="ltx_p" id="Sx1.p4.1">Thirdly, while we demonstrated the effectiveness of our attack in controlled settings, the real-world applicability and impact need further exploration. Real-world systems often involve additional complexities such as continuous updates and dynamic content changes, which were not accounted for in our static evaluation framework. Future work should focus on developing adaptive attack strategies that can cope with these dynamics.</p>
</div>
<div class="ltx_para" id="Sx1.p5">
<p class="ltx_p" id="Sx1.p5.1">Moreover, our approach primarily targets the text-based RAG systems, and its applicability to multimodal RAG systems, which integrate text with other data forms such as images or audio, remains unexplored. Expanding our methodology to address multimodal contexts will be an important area of future research.</p>
</div>
<div class="ltx_para" id="Sx1.p6">
<p class="ltx_p" id="Sx1.p6.1">Lastly, our work highlights the need for robust defense mechanisms against adversarial attacks. Future research should aim to develop and evaluate more effective defense strategies, including adversarial training and anomaly detection techniques, to enhance the resilience of RAG models against such threats.</p>
</div>
</section>
<section class="ltx_section" id="Sx2">
<h2 class="ltx_title ltx_title_section">Ethical Statement</h2>
<div class="ltx_para" id="Sx2.p1">
<p class="ltx_p" id="Sx2.p1.1">Our research on attacking RAG models aims to highlight and address potential security vulnerabilities in AI systems. The intention behind this study is to raise awareness about the risks associated with the use of RAG models and to promote the development of more secure and reliable AI technologies.</p>
</div>
<div class="ltx_para" id="Sx2.p2">
<p class="ltx_p" id="Sx2.p2.1">We acknowledge that the techniques discussed could potentially be misused to cause harm or manipulate information. To mitigate these risks, our work adheres to the principles of responsible disclosure, ensuring that the details provided are sufficient for researchers and practitioners to understand and counteract the vulnerabilities without enabling malicious use. We strongly advocate for the responsible application of AI technologies and emphasize that the findings from this study should be used solely for improving system security.</p>
</div>
<div class="ltx_para" id="Sx2.p3">
<p class="ltx_p" id="Sx2.p3.1">Additionally, we conducted our experiments in a controlled environment and did not involve real user data or deploy any harmful actions that could affect individuals or organizations. We are committed to ensuring that our research practices align with ethical guidelines and contribute positively to the field of AI security.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anderson et al. (2024)</span>
<span class="ltx_bibblock">
Maya Anderson, Guy Amit, and Abigail Goldsteen. 2024.

</span>
<span class="ltx_bibblock">Is my data in your retrieval database? membership inference attacks against retrieval augmented generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2405.20446</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anthropic (2024)</span>
<span class="ltx_bibblock">
AI Anthropic. 2024.

</span>
<span class="ltx_bibblock">The claude 3 model family: Opus, sonnet, haiku.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">Claude-3 Model Card</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al. (2022)</span>
<span class="ltx_bibblock">
Yuntao Bai, Saurav Kadavath, Sandipan Kundu, Amanda Askell, Jackson Kernion, Andy Jones, Anna Chen, Anna Goldie, Azalia Mirhoseini, Cameron McKinnon, et al. 2022.

</span>
<span class="ltx_bibblock">Constitutional ai: Harmlessness from ai feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">arXiv preprint arXiv:2212.08073</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bezdek and Hathaway (2003)</span>
<span class="ltx_bibblock">
James C Bezdek and Richard J Hathaway. 2003.

</span>
<span class="ltx_bibblock">Convergence of alternating optimization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Neural, Parallel &amp; Scientific Computations</em>, 11(4):351–368.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al. (2020)</span>
<span class="ltx_bibblock">
Tom B. Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, Sandhini Agarwal, Ariel Herbert-Voss, Gretchen Krueger, Tom Henighan, Rewon Child, Aditya Ramesh, Daniel M. Ziegler, Jeffrey Wu, Clemens Winter, Christopher Hesse, Mark Chen, Eric Sigler, Mateusz Litwin, Scott Gray, Benjamin Chess, Jack Clark, Christopher Berner, Sam McCandlish, Alec Radford, Ilya Sutskever, and Dario Amodei. 2020.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">NeurIPS</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2024)</span>
<span class="ltx_bibblock">
Jiawei Chen, Hongyu Lin, Xianpei Han, and Le Sun. 2024.

</span>
<span class="ltx_bibblock">Benchmarking large language models in retrieval-augmented generation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, volume 38, pages 17754–17762.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cheng et al. (2024)</span>
<span class="ltx_bibblock">
Pengzhou Cheng, Yidong Ding, Tianjie Ju, Zongru Wu, Wei Du, Ping Yi, Zhuosheng Zhang, and Gongshen Liu. 2024.

</span>
<span class="ltx_bibblock">Trojanrag: Retrieval-augmented generation can be backdoor driver in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2405.13401</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chiang et al. (2023)</span>
<span class="ltx_bibblock">
Wei-Lin Chiang, Zhuohan Li, Zi Lin, Ying Sheng, Zhanghao Wu, Hao Zhang, Lianmin Zheng, Siyuan Zhuang, Yonghao Zhuang, Joseph E. Gonzalez, Ion Stoica, and Eric P. Xing. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://lmsys.org/blog/2023-03-30-vicuna/" title="">Vicuna: An open-source chatbot impressing gpt-4 with 90%* chatgpt quality</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cho et al. (2024)</span>
<span class="ltx_bibblock">
Sukmin Cho, Soyeong Jeong, Jeongyeon Seo, Taeho Hwang, and Jong C Park. 2024.

</span>
<span class="ltx_bibblock">Typos that broke the rag’s back: Genetic attack on rag pipeline by simulating documents in the wild via low-level perturbations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">arXiv preprint arXiv:2404.13948</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dettmers et al. (2023)</span>
<span class="ltx_bibblock">
Tim Dettmers, Artidoro Pagnoni, Ari Holtzman, and Luke Zettlemoyer. 2023.

</span>
<span class="ltx_bibblock">Qlora: Efficient finetuning of quantized llms.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">NeurIPS</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ebrahimi et al. (2017)</span>
<span class="ltx_bibblock">
Javid Ebrahimi, Anyi Rao, Daniel Lowd, and Dejing Dou. 2017.

</span>
<span class="ltx_bibblock">Hotflip: White-box adversarial examples for text classification.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:1712.06751</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Feng et al. (2022)</span>
<span class="ltx_bibblock">
Weixin Feng, Xingyuan Bu, Chenchen Zhang, and Xubin Li. 2022.

</span>
<span class="ltx_bibblock">Beyond bounding box: Multimodal knowledge learning for object detection.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">arXiv preprint arXiv:2205.04072</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Finn et al. (2017)</span>
<span class="ltx_bibblock">
Chelsea Finn, Pieter Abbeel, and Sergey Levine. 2017.

</span>
<span class="ltx_bibblock">Model-agnostic meta-learning for fast adaptation of deep networks.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">International conference on machine learning</em>, pages 1126–1135. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2023)</span>
<span class="ltx_bibblock">
Yunfan Gao, Yun Xiong, Xinyu Gao, Kangxiang Jia, Jinliu Pan, Yuxi Bi, Yi Dai, Jiawei Sun, and Haofen Wang. 2023.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for large language models: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">arXiv preprint arXiv:2312.10997</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al. (2021)</span>
<span class="ltx_bibblock">
Chuan Guo, Alexandre Sablayrolles, Hervé Jégou, and Douwe Kiela. 2021.

</span>
<span class="ltx_bibblock">Gradient-based adversarial attacks against text transformers.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:2104.13733</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Heidi Steen (2024)</span>
<span class="ltx_bibblock">
Dan Wahlin Heidi Steen. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://learn.microsoft.com/en-us/azure/search/retrieval-augmented-generation-overview" title="">Retrieval augmented generation (rag) in azure ai search</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard et al. (2021)</span>
<span class="ltx_bibblock">
Gautier Izacard, Mathilde Caron, Lucas Hosseini, Sebastian Riedel, Piotr Bojanowski, Armand Joulin, and Edouard Grave. 2021.

</span>
<span class="ltx_bibblock">Unsupervised dense information retrieval with contrastive learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">arXiv preprint arXiv:2112.09118</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard et al. (2022)</span>
<span class="ltx_bibblock">
Gautier Izacard, Mathilde Caron, Lucas Hosseini, Sebastian Riedel, Piotr Bojanowski, Armand Joulin, and Edouard Grave. 2022.

</span>
<span class="ltx_bibblock">Unsupervised dense information retrieval with contrastive learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">Trans. Mach. Learn. Res.</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jang et al. (2016)</span>
<span class="ltx_bibblock">
Eric Jang, Shixiang Gu, and Ben Poole. 2016.

</span>
<span class="ltx_bibblock">Categorical reparameterization with gumbel-softmax.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">arXiv preprint arXiv:1611.01144</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Joo et al. (2020)</span>
<span class="ltx_bibblock">
Weonyoung Joo, Dongjun Kim, Seungjae Shin, and Il-Chul Moon. 2020.

</span>
<span class="ltx_bibblock">Generalized gumbel-softmax gradient estimator for various discrete random variables.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">arXiv preprint arXiv:2003.01847</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kaz Sato (2024)</span>
<span class="ltx_bibblock">
Guangsha Shi Kaz Sato. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://cloud.google.com/blog/products/ai-machine-learning/rags-powered-by-google-search-technology-part-1" title="">Your rags powered by google search technology</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khaliq et al. (2024)</span>
<span class="ltx_bibblock">
M Abdul Khaliq, P Chang, M Ma, B Pflugfelder, and F Miletić. 2024.

</span>
<span class="ltx_bibblock">Ragar, your falsehood radar: Rag-augmented reasoning for political fact-checking using multimodal large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">arXiv preprint arXiv:2404.12065</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Komeili et al. (2021)</span>
<span class="ltx_bibblock">
Mojtaba Komeili, Kurt Shuster, and Jason Weston. 2021.

</span>
<span class="ltx_bibblock">Internet-augmented dialogue generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">arXiv preprint arXiv:2107.07566</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kwiatkowski et al. (2019)</span>
<span class="ltx_bibblock">
Tom Kwiatkowski, Jennimaria Palomaki, Olivia Redfield, Michael Collins, Ankur P. Parikh, Chris Alberti, Danielle Epstein, Illia Polosukhin, Jacob Devlin, Kenton Lee, Kristina Toutanova, Llion Jones, Matthew Kelcey, Ming-Wei Chang, Andrew M. Dai, Jakob Uszkoreit, Quoc Le, and Slav Petrov. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1162/TACL_A_00276" title="">Natural questions: a benchmark for question answering research</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">Trans. Assoc. Comput. Linguistics</em>, 7:452–466.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, et al. 2020.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">Advances in Neural Information Processing Systems</em>, 33:9459–9474.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2022)</span>
<span class="ltx_bibblock">
Huayang Li, Yixuan Su, Deng Cai, Yan Wang, and Lemao Liu. 2022.

</span>
<span class="ltx_bibblock">A survey on retrieval-augmented text generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">arXiv preprint arXiv:2202.01110</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2024)</span>
<span class="ltx_bibblock">
Xiaoxi Li, Jiajie Jin, Yujia Zhou, Yuyao Zhang, Peitian Zhang, Yutao Zhu, and Zhicheng Dou. 2024.

</span>
<span class="ltx_bibblock">From matching to generation: A survey on generative information retrieval.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">arXiv preprint arXiv:2404.14851</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2021)</span>
<span class="ltx_bibblock">
Risheng Liu, Jiaxin Gao, Jin Zhang, Deyu Meng, and Zhouchen Lin. 2021.

</span>
<span class="ltx_bibblock">Investigating bi-level optimization for learning and vision from a unified perspective: A survey and beyond.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">IEEE Transactions on Pattern Analysis and Machine Intelligence</em>, 44(12):10045–10067.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023a)</span>
<span class="ltx_bibblock">
Xiaogeng Liu, Nan Xu, Muhao Chen, and Chaowei Xiao. 2023a.

</span>
<span class="ltx_bibblock">Autodan: Generating stealthy jailbreak prompts on aligned large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">arXiv preprint arXiv:2310.04451</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023b)</span>
<span class="ltx_bibblock">
Yi Liu, Gelei Deng, Zhengzi Xu, Yuekang Li, Yaowen Zheng, Ying Zhang, Lida Zhao, Tianwei Zhang, and Yang Liu. 2023b.

</span>
<span class="ltx_bibblock">Jailbreaking chatgpt via prompt engineering: An empirical study.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">arXiv preprint arXiv:2305.13860</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023c)</span>
<span class="ltx_bibblock">
Yu-An Liu, Ruqing Zhang, Jiafeng Guo, Maarten de Rijke, Wei Chen, Yixing Fan, and Xueqi Cheng. 2023c.

</span>
<span class="ltx_bibblock">Black-box adversarial attacks against dense retrieval models: A multi-view contrastive learning method.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">Proceedings of the 32nd ACM International Conference on Information and Knowledge Management</em>, pages 1647–1656.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lyu et al. (2024)</span>
<span class="ltx_bibblock">
Weimin Lyu, Xiao Lin, Songzhu Zheng, Lu Pang, Haibin Ling, Susmit Jha, and Chao Chen. 2024.

</span>
<span class="ltx_bibblock">Task-agnostic detector for insertion-based backdoor attacks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">arXiv preprint arXiv:2403.17155</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lyu et al. (2022)</span>
<span class="ltx_bibblock">
Weimin Lyu, Songzhu Zheng, Tengfei Ma, and Chao Chen. 2022.

</span>
<span class="ltx_bibblock">A study of the attention abnormality in trojaned berts.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">Proceedings of the 2022 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies</em>, pages 4727–4741.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lyu et al. (2023)</span>
<span class="ltx_bibblock">
Weimin Lyu, Songzhu Zheng, Lu Pang, Haibin Ling, and Chao Chen. 2023.

</span>
<span class="ltx_bibblock">Attention-enhancing backdoor attacks against bert-based models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">Findings of the Association for Computational Linguistics: EMNLP 2023</em>, pages 10672–10690.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Maia et al. (2018)</span>
<span class="ltx_bibblock">
Macedo Maia, Siegfried Handschuh, André Freitas, Brian Davis, Ross McDermott, Manel Zarrouk, and Alexandra Balahur. 2018.

</span>
<span class="ltx_bibblock">Www’18 open challenge: Financial opinion mining and question answering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">WWW (Companion Volume)</em>, pages 1941–1942. ACM.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nguyen et al. (2016)</span>
<span class="ltx_bibblock">
Tri Nguyen, Mir Rosenberg, Xia Song, Jianfeng Gao, Saurabh Tiwary, Rangan Majumder, and Li Deng. 2016.

</span>
<span class="ltx_bibblock">MS MARCO: A human generated machine reading comprehension dataset.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">CoCo@NIPS</em>, volume 1773 of <em class="ltx_emph ltx_font_italic" id="bib.bib36.2.2">CEUR Workshop Proceedings</em>. CEUR-WS.org.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2023)</span>
<span class="ltx_bibblock">
OpenAI. 2023.

</span>
<span class="ltx_bibblock">GPT-4 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">CoRR</em>, abs/2303.08774.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qi et al. (2024)</span>
<span class="ltx_bibblock">
Xiangyu Qi, Kaixuan Huang, Ashwinee Panda, Peter Henderson, Mengdi Wang, and Prateek Mittal. 2024.

</span>
<span class="ltx_bibblock">Visual adversarial examples jailbreak aligned large language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, volume 38, pages 21527–21536.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Raval and Verma (2020)</span>
<span class="ltx_bibblock">
Nisarg Raval and Manisha Verma. 2020.

</span>
<span class="ltx_bibblock">One word at a time: adversarial attacks on retrieval models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">arXiv preprint arXiv:2008.02197</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Song et al. (2020)</span>
<span class="ltx_bibblock">
Congzheng Song, Alexander M Rush, and Vitaly Shmatikov. 2020.

</span>
<span class="ltx_bibblock">Adversarial semantic collisions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">arXiv preprint arXiv:2011.04743</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Song et al. (2022)</span>
<span class="ltx_bibblock">
Junshuai Song, Jiangshan Zhang, Jifeng Zhu, Mengyun Tang, and Yong Yang. 2022.

</span>
<span class="ltx_bibblock">Trattack: Text rewriting attack against text retrieval.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">Proceedings of the 7th Workshop on Representation Learning for NLP</em>, pages 191–203.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tan et al. (2024)</span>
<span class="ltx_bibblock">
Zhen Tan, Chengshuai Zhao, Raha Moraffah, Yifan Li, Yu Kong, Tianlong Chen, and Huan Liu. 2024.

</span>
<span class="ltx_bibblock">The wolf within: Covert injection of malice into mllm societies via an mllm operative.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">arXiv preprint arXiv:2402.14859</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Team et al. (2023)</span>
<span class="ltx_bibblock">
Gemini Team, Rohan Anil, Sebastian Borgeaud, Yonghui Wu, Jean-Baptiste Alayrac, Jiahui Yu, Radu Soricut, Johan Schalkwyk, Andrew M Dai, Anja Hauth, et al. 2023.

</span>
<span class="ltx_bibblock">Gemini: a family of highly capable multimodal models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">arXiv preprint arXiv:2312.11805</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thakur et al. (2021a)</span>
<span class="ltx_bibblock">
Nandan Thakur, Nils Reimers, Andreas Rücklé, Abhishek Srivastava, and Iryna Gurevych. 2021a.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://datasets-benchmarks-proceedings.neurips.cc/paper/2021/hash/65b9eea6e1cc6bb9f0cd2a47751a186f-Abstract-round2.html" title="">BEIR: A heterogeneous benchmark for zero-shot evaluation of information retrieval models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">Proceedings of the Neural Information Processing Systems Track on Datasets and Benchmarks 1, NeurIPS Datasets and Benchmarks 2021, December 2021, virtual</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thakur et al. (2021b)</span>
<span class="ltx_bibblock">
Nandan Thakur, Nils Reimers, Andreas Rücklé, Abhishek Srivastava, and Iryna Gurevych. 2021b.

</span>
<span class="ltx_bibblock">Beir: A heterogenous benchmark for zero-shot evaluation of information retrieval models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">arXiv preprint arXiv:2104.08663</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, Dan Bikel, Lukas Blecher, Cristian Canton-Ferrer, Moya Chen, Guillem Cucurull, David Esiobu, Jude Fernandes, Jeremy Fu, Wenyin Fu, Brian Fuller, Cynthia Gao, Vedanuj Goswami, Naman Goyal, Anthony Hartshorn, Saghar Hosseini, Rui Hou, Hakan Inan, Marcin Kardas, Viktor Kerkez, Madian Khabsa, Isabel Kloumann, Artem Korenev, Punit Singh Koura, Marie-Anne Lachaux, Thibaut Lavril, Jenya Lee, Diana Liskovich, Yinghai Lu, Yuning Mao, Xavier Martinet, Todor Mihaylov, Pushkar Mishra, Igor Molybog, Yixin Nie, Andrew Poulton, Jeremy Reizenstein, Rashi Rungta, Kalyan Saladi, Alan Schelten, Ruan Silva, Eric Michael Smith, Ranjan Subramanian, Xiaoqing Ellen Tan, Binh Tang, Ross Taylor, Adina Williams, Jian Xiang Kuan, Puxin Xu, Zheng Yan, Iliyan Zarov, Yuchen Zhang, Angela Fan, Melanie Kambadur, Sharan Narang, Aurélien Rodriguez, Robert Stojnic, Sergey Edunov,
and Thomas Scialom. 2023.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">CoRR</em>, abs/2307.09288.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2024)</span>
<span class="ltx_bibblock">
Shuai Wang, Ekaterina Khramtsova, Shengyao Zhuang, and Guido Zuccon. 2024.

</span>
<span class="ltx_bibblock">Feb4rag: Evaluating federated search in the context of retrieval augmented generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">arXiv preprint arXiv:2402.11891</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2023)</span>
<span class="ltx_bibblock">
Alexander Wei, Nika Haghtalab, and Jacob Steinhardt. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://proceedings.neurips.cc/paper_files/paper/2023/file/fd6613131889a4b656206c50a8bd7790-Paper-Conference.pdf" title="">Jailbroken: How does llm safety training fail?</a>
</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">Advances in Neural Information Processing Systems</em>, volume 36, pages 80079–80110. Curran Associates, Inc.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2024)</span>
<span class="ltx_bibblock">
Jerry Wei, Chengrun Yang, Xinying Song, Yifeng Lu, Nathan Hu, Dustin Tran, Daiyi Peng, Ruibo Liu, Da Huang, Cosmo Du, et al. 2024.

</span>
<span class="ltx_bibblock">Long-form factuality in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">arXiv preprint arXiv:2403.18802</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. (2024)</span>
<span class="ltx_bibblock">
Yanan Wu, Jie Liu, Xingyuan Bu, Jiaheng Liu, Zhanhui Zhou, Yuanxing Zhang, Chenchen Zhang, Zhiqi Bai, Haibin Chen, Tiezheng Ge, et al. 2024.

</span>
<span class="ltx_bibblock">Conceptmath: A bilingual concept-wise benchmark for measuring mathematical reasoning of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">arXiv preprint arXiv:2402.14660</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiong et al. (2021)</span>
<span class="ltx_bibblock">
Lee Xiong, Chenyan Xiong, Ye Li, Kwok-Fung Tang, Jialin Liu, Paul N. Bennett, Junaid Ahmed, and Arnold Overwijk. 2021.

</span>
<span class="ltx_bibblock">Approximate nearest neighbor negative contrastive learning for dense text retrieval.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib51.1.1">ICLR</em>. OpenReview.net.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xue et al. (2024)</span>
<span class="ltx_bibblock">
Jiaqi Xue, Mengxin Zheng, Yebowen Hu, Fei Liu, Xun Chen, and Qian Lou. 2024.

</span>
<span class="ltx_bibblock">Badrag: Identifying vulnerabilities in retrieval augmented generation of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib52.1.1">arXiv preprint arXiv:2406.00083</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2018)</span>
<span class="ltx_bibblock">
Zhilin Yang, Peng Qi, Saizheng Zhang, Yoshua Bengio, William W. Cohen, Ruslan Salakhutdinov, and Christopher D. Manning. 2018.

</span>
<span class="ltx_bibblock">Hotpotqa: A dataset for diverse, explainable multi-hop question answering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib53.1.1">EMNLP</em>, pages 2369–2380. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zeng et al. (2024)</span>
<span class="ltx_bibblock">
Yi Zeng, Hongpeng Lin, Jingwen Zhang, Diyi Yang, Ruoxi Jia, and Weiyan Shi. 2024.

</span>
<span class="ltx_bibblock">How johnny can persuade llms to jailbreak them: Rethinking persuasion to challenge ai safety by humanizing llms.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib54.1.1">arXiv preprint arXiv:2401.06373</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2024a)</span>
<span class="ltx_bibblock">
Boning Zhang, Chengxi Li, and Kai Fan. 2024a.

</span>
<span class="ltx_bibblock">Mario eval: Evaluate your math llm with your math llm–a mathematical dataset evaluation toolkit.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">arXiv preprint arXiv:2404.13925</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2024b)</span>
<span class="ltx_bibblock">
Yihua Zhang, Prashant Khanduri, Ioannis Tsaknakis, Yuguang Yao, Mingyi Hong, and Sijia Liu. 2024b.

</span>
<span class="ltx_bibblock">An introduction to bilevel optimization: Foundations and applications in signal processing and machine learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib56.1.1">IEEE Signal Processing Magazine</em>, 41(1):38–59.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhong et al. (2023)</span>
<span class="ltx_bibblock">
Zexuan Zhong, Ziqing Huang, Alexander Wettig, and Danqi Chen. 2023.

</span>
<span class="ltx_bibblock">Poisoning retrieval corpora by injecting adversarial passages.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib57.1.1">arXiv preprint arXiv:2310.19156</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zou et al. (2023)</span>
<span class="ltx_bibblock">
Andy Zou, Zifan Wang, J Zico Kolter, and Matt Fredrikson. 2023.

</span>
<span class="ltx_bibblock">Universal and transferable adversarial attacks on aligned language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib58.1.1">arXiv preprint arXiv:2307.15043</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zou et al. (2024)</span>
<span class="ltx_bibblock">
Wei Zou, Runpeng Geng, Binghui Wang, and Jinyuan Jia. 2024.

</span>
<span class="ltx_bibblock">Poisonedrag: Knowledge poisoning attacks to retrieval-augmented generation of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib59.1.1">arXiv preprint arXiv:2402.07867</em>.

</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Detailed Experiment Setups</h2>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Warmup Experiment</h3>
<div class="ltx_para" id="A1.SS1.p1">
<p class="ltx_p" id="A1.SS1.p1.1">In this experiment, we use a BERT-based state-of-the-art dense retrieval model, Contriever <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib17" title="">2021</a>)</cite>, for the retrieval process and a LLaMA-2-7B-Chat model for the generative component. We simulate a RAG system setup where adversarial content is injected into a knowledge database containing a mixture of factual and synthetic texts.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Settings for Major Experiments </h3>
<section class="ltx_paragraph" id="A1.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Dataset.</h4>
<div class="ltx_para" id="A1.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="A1.SS2.SSS0.Px1.p1.1">We utilize AdvBench <cite class="ltx_cite ltx_citemacro_cite">Zou et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib58" title="">2023</a>)</cite> as a benchmark in our evaluation, including two dataset: ❶ Harmful Behavior: a collection of 520 harmful behaviors formed as instructions ranged over profanity, graphic depictions, threatening behavior, misinformation, discrimination, cybercrime, and dangerous or illegal suggestions. ❷ Harmful String: it contains 574 strings sharing the same theme as Harmful Behavior.</p>
</div>
</section>
<section class="ltx_paragraph" id="A1.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Knowledge Base.</h4>
<div class="ltx_para" id="A1.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="A1.SS2.SSS0.Px2.p1.1">We involve five knowledge bases derived from BEIR benchmark <cite class="ltx_cite ltx_citemacro_cite">Thakur et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib44" title="">2021a</a>)</cite>: Natrual Questions (NQ) <cite class="ltx_cite ltx_citemacro_cite">Kwiatkowski et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib24" title="">2019</a>)</cite>, MS MARCO (MS) <cite class="ltx_cite ltx_citemacro_cite">Nguyen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib36" title="">2016</a>)</cite>, HotpotQA (HQ) <cite class="ltx_cite ltx_citemacro_cite">Yang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib53" title="">2018</a>)</cite>, FiQA (FQ) <cite class="ltx_cite ltx_citemacro_cite">Maia et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib35" title="">2018</a>)</cite>, and Quora (QR).</p>
</div>
</section>
<section class="ltx_paragraph" id="A1.SS2.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Retriever.</h4>
<div class="ltx_para" id="A1.SS2.SSS0.Px3.p1">
<p class="ltx_p" id="A1.SS2.SSS0.Px3.p1.1">We include Contriever <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib18" title="">2022</a>)</cite>, Contriever-ms <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib18" title="">2022</a>)</cite>, and ANCE <cite class="ltx_cite ltx_citemacro_cite">Xiong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib51" title="">2021</a>)</cite> in our experiment with dot product similarity as a retrieval criterion. The default retrieval number is <math alttext="5" class="ltx_Math" display="inline" id="A1.SS2.SSS0.Px3.p1.1.m1.1"><semantics id="A1.SS2.SSS0.Px3.p1.1.m1.1a"><mn id="A1.SS2.SSS0.Px3.p1.1.m1.1.1" xref="A1.SS2.SSS0.Px3.p1.1.m1.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="A1.SS2.SSS0.Px3.p1.1.m1.1b"><cn id="A1.SS2.SSS0.Px3.p1.1.m1.1.1.cmml" type="integer" xref="A1.SS2.SSS0.Px3.p1.1.m1.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.SSS0.Px3.p1.1.m1.1c">5</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.SSS0.Px3.p1.1.m1.1d">5</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_paragraph" id="A1.SS2.SSS0.Px4">
<h4 class="ltx_title ltx_title_paragraph">LLM Selection.</h4>
<div class="ltx_para" id="A1.SS2.SSS0.Px4.p1">
<p class="ltx_p" id="A1.SS2.SSS0.Px4.p1.1">We consider LLaMA-2-7B/13B-Chat <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib46" title="">2023</a>)</cite>, LLaMA-3-8B-Instruct, Vicuna-7B <cite class="ltx_cite ltx_citemacro_cite">Chiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib8" title="">2023</a>)</cite>, Guanaco-7B <cite class="ltx_cite ltx_citemacro_cite">Dettmers et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib10" title="">2023</a>)</cite>, GPT-3.5-turbo-0125 <cite class="ltx_cite ltx_citemacro_cite">Brown et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib5" title="">2020</a>)</cite>, GPT-4-turbo-2024-04-09  <cite class="ltx_cite ltx_citemacro_cite">OpenAI (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib37" title="">2023</a>)</cite>, Gemini-1.0-pro <cite class="ltx_cite ltx_citemacro_cite">Team et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib43" title="">2023</a>)</cite>, and Claude-3-Haiku <cite class="ltx_cite ltx_citemacro_cite">Anthropic (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib2" title="">2024</a>)</cite>. Specially, for model ensemble defined in Eq (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.E5" title="In 5.3 Attack on the LLM ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">5</span></a>), we use Vicuna-7B and Guanaco-7B since they shar the same vocabulary.</p>
</div>
</section>
<section class="ltx_paragraph" id="A1.SS2.SSS0.Px5">
<h4 class="ltx_title ltx_title_paragraph">Training Detail.</h4>
<div class="ltx_para" id="A1.SS2.SSS0.Px5.p1">
<p class="ltx_p" id="A1.SS2.SSS0.Px5.p1.1">Unless otherwise mentioned, we train 5 adversarial documents with a length of 30 injected into the knowledge database and use Conretrieve <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib18" title="">2022</a>)</cite> as default retriever. In the hotFlip method <cite class="ltx_cite ltx_citemacro_cite">Ebrahimi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib11" title="">2017</a>)</cite>, we consider top-100 tokens as potential replacements. AGS length is fixed as 30, which is effective but less time-consuming. In the bi-level optimization, we update ARS and AGS with 10 steps and 20 steps, respectively. Detailed key parameter analyses can be found in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S6.SS3" title="6.3 Senstivity of Hyper-parameters ‣ 6 Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">6.3</span></a> and Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A2" title="Appendix B More Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="A1.SS2.SSS0.Px6">
<h4 class="ltx_title ltx_title_paragraph">Evaluation Merics:</h4>
<div class="ltx_para" id="A1.SS2.SSS0.Px6.p1">
<p class="ltx_p" id="A1.SS2.SSS0.Px6.p1.1">We primarily employ <em class="ltx_emph ltx_font_italic" id="A1.SS2.SSS0.Px6.p1.1.1">Attack Success Rate</em> (ASR) to assess the effectiveness of the propose attack strategy, where higher ASR is more desired. ASR is formally defined below:</p>
<table class="ltx_equation ltx_eqn_table" id="A1.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="ASR=\frac{\#\text{ of unsafe responses}}{\#\text{ of user queries to RAG}}." class="ltx_Math" display="block" id="A1.Ex1.m1.1"><semantics id="A1.Ex1.m1.1a"><mrow id="A1.Ex1.m1.1.1.1" xref="A1.Ex1.m1.1.1.1.1.cmml"><mrow id="A1.Ex1.m1.1.1.1.1" xref="A1.Ex1.m1.1.1.1.1.cmml"><mrow id="A1.Ex1.m1.1.1.1.1.2" xref="A1.Ex1.m1.1.1.1.1.2.cmml"><mi id="A1.Ex1.m1.1.1.1.1.2.2" xref="A1.Ex1.m1.1.1.1.1.2.2.cmml">A</mi><mo id="A1.Ex1.m1.1.1.1.1.2.1" xref="A1.Ex1.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="A1.Ex1.m1.1.1.1.1.2.3" xref="A1.Ex1.m1.1.1.1.1.2.3.cmml">S</mi><mo id="A1.Ex1.m1.1.1.1.1.2.1a" xref="A1.Ex1.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="A1.Ex1.m1.1.1.1.1.2.4" xref="A1.Ex1.m1.1.1.1.1.2.4.cmml">R</mi></mrow><mo id="A1.Ex1.m1.1.1.1.1.1" xref="A1.Ex1.m1.1.1.1.1.1.cmml">=</mo><mfrac id="A1.Ex1.m1.1.1.1.1.3" xref="A1.Ex1.m1.1.1.1.1.3.cmml"><mrow id="A1.Ex1.m1.1.1.1.1.3.2" xref="A1.Ex1.m1.1.1.1.1.3.2.cmml"><mi id="A1.Ex1.m1.1.1.1.1.3.2.2" mathvariant="normal" xref="A1.Ex1.m1.1.1.1.1.3.2.2.cmml">#</mi><mo id="A1.Ex1.m1.1.1.1.1.3.2.1" xref="A1.Ex1.m1.1.1.1.1.3.2.1.cmml">⁢</mo><mtext id="A1.Ex1.m1.1.1.1.1.3.2.3" xref="A1.Ex1.m1.1.1.1.1.3.2.3a.cmml"> of unsafe responses</mtext></mrow><mrow id="A1.Ex1.m1.1.1.1.1.3.3" xref="A1.Ex1.m1.1.1.1.1.3.3.cmml"><mi id="A1.Ex1.m1.1.1.1.1.3.3.2" mathvariant="normal" xref="A1.Ex1.m1.1.1.1.1.3.3.2.cmml">#</mi><mo id="A1.Ex1.m1.1.1.1.1.3.3.1" xref="A1.Ex1.m1.1.1.1.1.3.3.1.cmml">⁢</mo><mtext id="A1.Ex1.m1.1.1.1.1.3.3.3" xref="A1.Ex1.m1.1.1.1.1.3.3.3a.cmml"> of user queries to RAG</mtext></mrow></mfrac></mrow><mo id="A1.Ex1.m1.1.1.1.2" lspace="0em" xref="A1.Ex1.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex1.m1.1b"><apply id="A1.Ex1.m1.1.1.1.1.cmml" xref="A1.Ex1.m1.1.1.1"><eq id="A1.Ex1.m1.1.1.1.1.1.cmml" xref="A1.Ex1.m1.1.1.1.1.1"></eq><apply id="A1.Ex1.m1.1.1.1.1.2.cmml" xref="A1.Ex1.m1.1.1.1.1.2"><times id="A1.Ex1.m1.1.1.1.1.2.1.cmml" xref="A1.Ex1.m1.1.1.1.1.2.1"></times><ci id="A1.Ex1.m1.1.1.1.1.2.2.cmml" xref="A1.Ex1.m1.1.1.1.1.2.2">𝐴</ci><ci id="A1.Ex1.m1.1.1.1.1.2.3.cmml" xref="A1.Ex1.m1.1.1.1.1.2.3">𝑆</ci><ci id="A1.Ex1.m1.1.1.1.1.2.4.cmml" xref="A1.Ex1.m1.1.1.1.1.2.4">𝑅</ci></apply><apply id="A1.Ex1.m1.1.1.1.1.3.cmml" xref="A1.Ex1.m1.1.1.1.1.3"><divide id="A1.Ex1.m1.1.1.1.1.3.1.cmml" xref="A1.Ex1.m1.1.1.1.1.3"></divide><apply id="A1.Ex1.m1.1.1.1.1.3.2.cmml" xref="A1.Ex1.m1.1.1.1.1.3.2"><times id="A1.Ex1.m1.1.1.1.1.3.2.1.cmml" xref="A1.Ex1.m1.1.1.1.1.3.2.1"></times><ci id="A1.Ex1.m1.1.1.1.1.3.2.2.cmml" xref="A1.Ex1.m1.1.1.1.1.3.2.2">#</ci><ci id="A1.Ex1.m1.1.1.1.1.3.2.3a.cmml" xref="A1.Ex1.m1.1.1.1.1.3.2.3"><mtext id="A1.Ex1.m1.1.1.1.1.3.2.3.cmml" xref="A1.Ex1.m1.1.1.1.1.3.2.3"> of unsafe responses</mtext></ci></apply><apply id="A1.Ex1.m1.1.1.1.1.3.3.cmml" xref="A1.Ex1.m1.1.1.1.1.3.3"><times id="A1.Ex1.m1.1.1.1.1.3.3.1.cmml" xref="A1.Ex1.m1.1.1.1.1.3.3.1"></times><ci id="A1.Ex1.m1.1.1.1.1.3.3.2.cmml" xref="A1.Ex1.m1.1.1.1.1.3.3.2">#</ci><ci id="A1.Ex1.m1.1.1.1.1.3.3.3a.cmml" xref="A1.Ex1.m1.1.1.1.1.3.3.3"><mtext id="A1.Ex1.m1.1.1.1.1.3.3.3.cmml" xref="A1.Ex1.m1.1.1.1.1.3.3.3"> of user queries to RAG</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex1.m1.1c">ASR=\frac{\#\text{ of unsafe responses}}{\#\text{ of user queries to RAG}}.</annotation><annotation encoding="application/x-llamapun" id="A1.Ex1.m1.1d">italic_A italic_S italic_R = divide start_ARG # of unsafe responses end_ARG start_ARG # of user queries to RAG end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
</section>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>More Experiments</h2>
<section class="ltx_subsection" id="A2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Effect of Different Retriever Models</h3>
<div class="ltx_para" id="A2.SS1.p1">
<p class="ltx_p" id="A2.SS1.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A2.F6" title="Figure 6 ‣ B.1 Effect of Different Retriever Models ‣ Appendix B More Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">6</span></a> shows the Adversarial Success Rate (ASR) for different retriever models on NQ and MS MARCO datasets.</p>
</div>
<div class="ltx_para ltx_noindent" id="A2.SS1.p2">
<p class="ltx_p" id="A2.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="A2.SS1.p2.1.1">Contriever</span>: Exhibits the highest ASR (&gt;0.8 for NQ and  0.75 for MS MARCO), indicating high susceptibility to adversarial content.</p>
</div>
<div class="ltx_para ltx_noindent" id="A2.SS1.p3">
<p class="ltx_p" id="A2.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="A2.SS1.p3.1.1">Contriever-ms</span>: Moderate ASR ( 0.5 for NQ,  0.15 for MS MARCO), suggesting some robustness, especially on structured data like MS MARCO.</p>
</div>
<div class="ltx_para ltx_noindent" id="A2.SS1.p4">
<p class="ltx_p" id="A2.SS1.p4.1"><span class="ltx_text ltx_font_bold" id="A2.SS1.p4.1.1">ANCE</span>: Lowest ASR ( 0.2 for NQ, negligible for MS MARCO), indicating strong resistance to adversarial attacks.
Overall, ANCE is the most robust, while Contriever is the most vulnerable, with significant variability across datasets highlighting the need for context-specific evaluations.</p>
</div>
<figure class="ltx_figure" id="A2.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="590" id="A2.F6.g1" src="x8.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>ASR <span class="ltx_text ltx_font_italic" id="A2.F6.2.1">v.s.</span>Different Retriever Models.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Analysis of Attack Effectiveness Against Defense Methods</h3>
<div class="ltx_para" id="A2.SS2.p1">
<p class="ltx_p" id="A2.SS2.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A2.T5" title="Table 5 ‣ B.2 Analysis of Attack Effectiveness Against Defense Methods ‣ Appendix B More Experiments ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">5</span></a> presents the Adversarial Success Rate (ASR) of the proposed attack against various classic defense methods across NQ and MS MARCO datasets. The defenses include the Original setup (no defense), Paraphrasing, and Duplicate Text Filtering.</p>
</div>
<div class="ltx_para ltx_noindent" id="A2.SS2.p2">
<p class="ltx_p" id="A2.SS2.p2.1"><span class="ltx_text ltx_font_italic" id="A2.SS2.p2.1.1">Original Defense.</span>
In the absence of any defensive measures, the attack achieves the highest ASR, with 0.8654 for NQ and 0.8423 for MS MARCO. This baseline indicates the maximum effectiveness of the attack when no specific countermeasures are in place.</p>
</div>
<div class="ltx_para ltx_noindent" id="A2.SS2.p3">
<p class="ltx_p" id="A2.SS2.p3.1"><span class="ltx_text ltx_font_italic" id="A2.SS2.p3.1.1">Paraphrasing Defense.</span>
Implementing paraphrasing as a defense reduces the ASR to 0.8308 for NQ and 0.8212 for MS MARCO. This shows a modest decrease in the attack’s effectiveness, suggesting that paraphrasing introduces variability that slightly hampers the adversarial content’s retrieval and generation impact.</p>
</div>
<div class="ltx_para ltx_noindent" id="A2.SS2.p4">
<p class="ltx_p" id="A2.SS2.p4.1"><span class="ltx_text ltx_font_italic" id="A2.SS2.p4.1.1">Duplicate Text Filtering Defense.</span>
Applying duplicate text filtering results in the most significant reduction in ASR, lowering it to 0.7596 for NQ and 0.7346 for MS MARCO. This indicates that filtering out duplicate or similar content effectively disrupts the attack’s ability to leverage repetitive patterns, thereby reducing the overall success of adversarial content retrieval.</p>
</div>
<div class="ltx_para ltx_noindent" id="A2.SS2.p5">
<p class="ltx_p" id="A2.SS2.p5.1"><span class="ltx_text ltx_font_italic" id="A2.SS2.p5.1.1">Summary.</span>
The analysis demonstrates that while all defense methods reduce the attack’s effectiveness, duplicate text filtering is the most effective, significantly lowering ASR for both datasets. Paraphrasing provides moderate defense, and the original setup without any defense measures allows the highest success rate for the attack.</p>
</div>
<figure class="ltx_table" id="A2.T5">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A2.T5.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A2.T5.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A2.T5.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A2.T5.1.1.1.1.1">Defense Method</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A2.T5.1.1.1.2"><span class="ltx_text ltx_font_bold" id="A2.T5.1.1.1.2.1">NQ</span></th>
<th class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A2.T5.1.1.1.3"><span class="ltx_text ltx_font_bold" id="A2.T5.1.1.1.3.1">MS MARCO</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T5.1.2.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T5.1.2.1.1">Original</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T5.1.2.1.2">0.8654</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="A2.T5.1.2.1.3">0.8423</td>
</tr>
<tr class="ltx_tr" id="A2.T5.1.3.2">
<td class="ltx_td ltx_align_center" id="A2.T5.1.3.2.1">Paraphrasing</td>
<td class="ltx_td ltx_align_center" id="A2.T5.1.3.2.2">0.8308</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="A2.T5.1.3.2.3">0.8212</td>
</tr>
<tr class="ltx_tr" id="A2.T5.1.4.3">
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T5.1.4.3.1">Duplicate Text Filtering</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T5.1.4.3.2">0.7596</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="A2.T5.1.4.3.3">0.7346</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Effectiveness of the proposed attack against different defense methods.</figcaption>
</figure>
</section>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Acknowledgment of AI Assistance in Writing and Revision</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">We utilized ChatGPT-4 for revising and enhancing sections of this paper.</p>
</div>
<figure class="ltx_figure" id="A3.F7"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="495" id="A3.F7.g1" src="x9.png" width="831"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Visualization of adversar retrieval rate AR, adversar goal achievement rate AG, and training loss across training iteration of LIAR.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Convergence of LIAR</h2>
<section class="ltx_subsection" id="A4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.1 </span>Empirical Evidence</h3>
<div class="ltx_para" id="A4.SS1.p1">
<p class="ltx_p" id="A4.SS1.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#A3.F7" title="Figure 7 ‣ Appendix C Acknowledgment of AI Assistance in Writing and Revision ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">7</span></a> shows the convergence of LIAR across 5000 iterations, tracking Adversarial Retrieval rate (AR), Adversarial Goal achievement rate (AG), and training loss. AR rapidly increases, stabilizing at 0.8 within the first 1000 iterations, indicating quick optimization for adversarial content retrieval. AG rises more gradually, reaching 0.6, reflecting the complexity of influencing output. Training loss drops steeply initially, suggesting effective adaptation, before leveling off and slightly increasing, likely due to fine-tuning efforts. Overall, compared to vanilla <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#AT" title="AT ‣ 4 Warm-up study: Attacking RAG models is not trivial. ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive.">AT</a>, LIAR achieves smoother convergence with higher early success in retrieval and gradual, steady improvement in goal achievement.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_subsection" id="A4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.2 </span>Theoretical Proof</h3>
<div class="ltx_para" id="A4.SS2.p1">
<p class="ltx_p" id="A4.SS2.p1.1">To prove the tractability of the convergence of the BLO in LIAR (Eq. <a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#S5.E6" title="In 5.4 LIAR: Exploitative Bi-level RAG Training ‣ 5 Methods ‣ “Glue pizza and eat rocks” - Exploiting Vulnerabilities in Retrieval-Augmented Generative Models \faWarningWARNING: This paper contains model outputs that may be considered offensive."><span class="ltx_text ltx_ref_tag">6</span></a>), we need to prove that the lower level of the BLO is convex, i.e., the function <math alttext="\mathbf{R}_{\text{adv}}(\mathbf{G}_{\text{adv}})" class="ltx_Math" display="inline" id="A4.SS2.p1.1.m1.1"><semantics id="A4.SS2.p1.1.m1.1a"><mrow id="A4.SS2.p1.1.m1.1.1" xref="A4.SS2.p1.1.m1.1.1.cmml"><msub id="A4.SS2.p1.1.m1.1.1.3" xref="A4.SS2.p1.1.m1.1.1.3.cmml"><mi id="A4.SS2.p1.1.m1.1.1.3.2" xref="A4.SS2.p1.1.m1.1.1.3.2.cmml">𝐑</mi><mtext id="A4.SS2.p1.1.m1.1.1.3.3" xref="A4.SS2.p1.1.m1.1.1.3.3a.cmml">adv</mtext></msub><mo id="A4.SS2.p1.1.m1.1.1.2" xref="A4.SS2.p1.1.m1.1.1.2.cmml">⁢</mo><mrow id="A4.SS2.p1.1.m1.1.1.1.1" xref="A4.SS2.p1.1.m1.1.1.1.1.1.cmml"><mo id="A4.SS2.p1.1.m1.1.1.1.1.2" stretchy="false" xref="A4.SS2.p1.1.m1.1.1.1.1.1.cmml">(</mo><msub id="A4.SS2.p1.1.m1.1.1.1.1.1" xref="A4.SS2.p1.1.m1.1.1.1.1.1.cmml"><mi id="A4.SS2.p1.1.m1.1.1.1.1.1.2" xref="A4.SS2.p1.1.m1.1.1.1.1.1.2.cmml">𝐆</mi><mtext id="A4.SS2.p1.1.m1.1.1.1.1.1.3" xref="A4.SS2.p1.1.m1.1.1.1.1.1.3a.cmml">adv</mtext></msub><mo id="A4.SS2.p1.1.m1.1.1.1.1.3" stretchy="false" xref="A4.SS2.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.SS2.p1.1.m1.1b"><apply id="A4.SS2.p1.1.m1.1.1.cmml" xref="A4.SS2.p1.1.m1.1.1"><times id="A4.SS2.p1.1.m1.1.1.2.cmml" xref="A4.SS2.p1.1.m1.1.1.2"></times><apply id="A4.SS2.p1.1.m1.1.1.3.cmml" xref="A4.SS2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A4.SS2.p1.1.m1.1.1.3.1.cmml" xref="A4.SS2.p1.1.m1.1.1.3">subscript</csymbol><ci id="A4.SS2.p1.1.m1.1.1.3.2.cmml" xref="A4.SS2.p1.1.m1.1.1.3.2">𝐑</ci><ci id="A4.SS2.p1.1.m1.1.1.3.3a.cmml" xref="A4.SS2.p1.1.m1.1.1.3.3"><mtext id="A4.SS2.p1.1.m1.1.1.3.3.cmml" mathsize="70%" xref="A4.SS2.p1.1.m1.1.1.3.3">adv</mtext></ci></apply><apply id="A4.SS2.p1.1.m1.1.1.1.1.1.cmml" xref="A4.SS2.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="A4.SS2.p1.1.m1.1.1.1.1.1.1.cmml" xref="A4.SS2.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="A4.SS2.p1.1.m1.1.1.1.1.1.2.cmml" xref="A4.SS2.p1.1.m1.1.1.1.1.1.2">𝐆</ci><ci id="A4.SS2.p1.1.m1.1.1.1.1.1.3a.cmml" xref="A4.SS2.p1.1.m1.1.1.1.1.1.3"><mtext id="A4.SS2.p1.1.m1.1.1.1.1.1.3.cmml" mathsize="70%" xref="A4.SS2.p1.1.m1.1.1.1.1.1.3">adv</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.p1.1.m1.1c">\mathbf{R}_{\text{adv}}(\mathbf{G}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.p1.1.m1.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math>. Based on the analysis in <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.19417v1#bib.bib56" title="">2024b</a>)</cite>, if the lower level is convex, the entire BLO is thereby convergent. As such, hereby we propose the following theorem and provide the detailed proof subsequently:</p>
</div>
<div class="ltx_theorem ltx_theorem_theorem" id="A4.Thmtheorem1">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="A4.Thmtheorem1.1.1.1">Theorem D.1</span></span><span class="ltx_text ltx_font_bold" id="A4.Thmtheorem1.2.2">.</span>
</h6>
<div class="ltx_para" id="A4.Thmtheorem1.p1">
<p class="ltx_p" id="A4.Thmtheorem1.p1.1"><span class="ltx_text ltx_font_italic" id="A4.Thmtheorem1.p1.1.1">The target function <math alttext="\mathbf{R}_{\text{adv}}(\mathbf{G}_{\text{adv}})" class="ltx_Math" display="inline" id="A4.Thmtheorem1.p1.1.1.m1.1"><semantics id="A4.Thmtheorem1.p1.1.1.m1.1a"><mrow id="A4.Thmtheorem1.p1.1.1.m1.1.1" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.cmml"><msub id="A4.Thmtheorem1.p1.1.1.m1.1.1.3" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.3.cmml"><mi id="A4.Thmtheorem1.p1.1.1.m1.1.1.3.2" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.3.2.cmml">𝐑</mi><mtext class="ltx_mathvariant_italic" id="A4.Thmtheorem1.p1.1.1.m1.1.1.3.3" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.3.3a.cmml">adv</mtext></msub><mo id="A4.Thmtheorem1.p1.1.1.m1.1.1.2" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.2.cmml">⁢</mo><mrow id="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.cmml"><mo id="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.2" stretchy="false" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.cmml">(</mo><msub id="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.cmml"><mi id="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.cmml">𝐆</mi><mtext class="ltx_mathvariant_italic" id="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.3" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.3a.cmml">adv</mtext></msub><mo id="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.3" stretchy="false" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.Thmtheorem1.p1.1.1.m1.1b"><apply id="A4.Thmtheorem1.p1.1.1.m1.1.1.cmml" xref="A4.Thmtheorem1.p1.1.1.m1.1.1"><times id="A4.Thmtheorem1.p1.1.1.m1.1.1.2.cmml" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.2"></times><apply id="A4.Thmtheorem1.p1.1.1.m1.1.1.3.cmml" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A4.Thmtheorem1.p1.1.1.m1.1.1.3.1.cmml" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.3">subscript</csymbol><ci id="A4.Thmtheorem1.p1.1.1.m1.1.1.3.2.cmml" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.3.2">𝐑</ci><ci id="A4.Thmtheorem1.p1.1.1.m1.1.1.3.3a.cmml" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.3.3"><mtext class="ltx_mathvariant_italic" id="A4.Thmtheorem1.p1.1.1.m1.1.1.3.3.cmml" mathsize="70%" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.3.3">adv</mtext></ci></apply><apply id="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.cmml" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.1.cmml" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1">subscript</csymbol><ci id="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2.cmml" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.2">𝐆</ci><ci id="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.3a.cmml" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.3"><mtext class="ltx_mathvariant_italic" id="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.3.cmml" mathsize="70%" xref="A4.Thmtheorem1.p1.1.1.m1.1.1.1.1.1.3">adv</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Thmtheorem1.p1.1.1.m1.1c">\mathbf{R}_{\text{adv}}(\mathbf{G}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="A4.Thmtheorem1.p1.1.1.m1.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math> could be represented as follows:</span></p>
<table class="ltx_equation ltx_eqn_table" id="A4.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{D}_{\text{adv}}))=\frac{1}{|\mathcal{K}|%
}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}})," class="ltx_Math" display="block" id="A4.E7.m1.2"><semantics id="A4.E7.m1.2a"><mrow id="A4.E7.m1.2.2.1" xref="A4.E7.m1.2.2.1.1.cmml"><mrow id="A4.E7.m1.2.2.1.1" xref="A4.E7.m1.2.2.1.1.cmml"><mrow id="A4.E7.m1.2.2.1.1.1" xref="A4.E7.m1.2.2.1.1.1.cmml"><msub id="A4.E7.m1.2.2.1.1.1.3" xref="A4.E7.m1.2.2.1.1.1.3.cmml"><mi id="A4.E7.m1.2.2.1.1.1.3.2" xref="A4.E7.m1.2.2.1.1.1.3.2.cmml">𝐑</mi><mtext class="ltx_mathvariant_italic" id="A4.E7.m1.2.2.1.1.1.3.3" xref="A4.E7.m1.2.2.1.1.1.3.3a.cmml">adv</mtext></msub><mo id="A4.E7.m1.2.2.1.1.1.2" xref="A4.E7.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="A4.E7.m1.2.2.1.1.1.1.1" xref="A4.E7.m1.2.2.1.1.1.1.1.1.cmml"><mo id="A4.E7.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="A4.E7.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="A4.E7.m1.2.2.1.1.1.1.1.1" xref="A4.E7.m1.2.2.1.1.1.1.1.1.cmml"><msub id="A4.E7.m1.2.2.1.1.1.1.1.1.3" xref="A4.E7.m1.2.2.1.1.1.1.1.1.3.cmml"><mi id="A4.E7.m1.2.2.1.1.1.1.1.1.3.2" xref="A4.E7.m1.2.2.1.1.1.1.1.1.3.2.cmml">h</mi><mi id="A4.E7.m1.2.2.1.1.1.1.1.1.3.3" xref="A4.E7.m1.2.2.1.1.1.1.1.1.3.3.cmml">D</mi></msub><mo id="A4.E7.m1.2.2.1.1.1.1.1.1.2" xref="A4.E7.m1.2.2.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.E7.m1.2.2.1.1.1.1.1.1.1.1" xref="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo id="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1" xref="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">𝐃</mi><mtext class="ltx_mathvariant_italic" id="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.3a.cmml">adv</mtext></msub><mo id="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.E7.m1.2.2.1.1.1.1.1.3" stretchy="false" xref="A4.E7.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.E7.m1.2.2.1.1.4" xref="A4.E7.m1.2.2.1.1.4.cmml">=</mo><mrow id="A4.E7.m1.2.2.1.1.3" xref="A4.E7.m1.2.2.1.1.3.cmml"><mfrac id="A4.E7.m1.1.1" xref="A4.E7.m1.1.1.cmml"><mn id="A4.E7.m1.1.1.3" xref="A4.E7.m1.1.1.3.cmml">1</mn><mrow id="A4.E7.m1.1.1.1.3" xref="A4.E7.m1.1.1.1.2.cmml"><mo id="A4.E7.m1.1.1.1.3.1" stretchy="false" xref="A4.E7.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="A4.E7.m1.1.1.1.1" xref="A4.E7.m1.1.1.1.1.cmml">𝒦</mi><mo id="A4.E7.m1.1.1.1.3.2" stretchy="false" xref="A4.E7.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="A4.E7.m1.2.2.1.1.3.3" xref="A4.E7.m1.2.2.1.1.3.3.cmml">⁢</mo><mrow id="A4.E7.m1.2.2.1.1.3.2" xref="A4.E7.m1.2.2.1.1.3.2.cmml"><munder id="A4.E7.m1.2.2.1.1.3.2.3" xref="A4.E7.m1.2.2.1.1.3.2.3.cmml"><mo id="A4.E7.m1.2.2.1.1.3.2.3.2" movablelimits="false" xref="A4.E7.m1.2.2.1.1.3.2.3.2.cmml">∑</mo><mrow id="A4.E7.m1.2.2.1.1.3.2.3.3" xref="A4.E7.m1.2.2.1.1.3.2.3.3.cmml"><msub id="A4.E7.m1.2.2.1.1.3.2.3.3.2" xref="A4.E7.m1.2.2.1.1.3.2.3.3.2.cmml"><mi id="A4.E7.m1.2.2.1.1.3.2.3.3.2.2" xref="A4.E7.m1.2.2.1.1.3.2.3.3.2.2.cmml">D</mi><mi id="A4.E7.m1.2.2.1.1.3.2.3.3.2.3" xref="A4.E7.m1.2.2.1.1.3.2.3.3.2.3.cmml">i</mi></msub><mo id="A4.E7.m1.2.2.1.1.3.2.3.3.1" xref="A4.E7.m1.2.2.1.1.3.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A4.E7.m1.2.2.1.1.3.2.3.3.3" xref="A4.E7.m1.2.2.1.1.3.2.3.3.3.cmml">𝒦</mi></mrow></munder><mrow id="A4.E7.m1.2.2.1.1.3.2.2" xref="A4.E7.m1.2.2.1.1.3.2.2.cmml"><msub id="A4.E7.m1.2.2.1.1.3.2.2.4" xref="A4.E7.m1.2.2.1.1.3.2.2.4.cmml"><mi id="A4.E7.m1.2.2.1.1.3.2.2.4.2" xref="A4.E7.m1.2.2.1.1.3.2.2.4.2.cmml">h</mi><mi id="A4.E7.m1.2.2.1.1.3.2.2.4.3" xref="A4.E7.m1.2.2.1.1.3.2.2.4.3.cmml">Q</mi></msub><mo id="A4.E7.m1.2.2.1.1.3.2.2.3" xref="A4.E7.m1.2.2.1.1.3.2.2.3.cmml">⁢</mo><msup id="A4.E7.m1.2.2.1.1.2.1.1.1" xref="A4.E7.m1.2.2.1.1.2.1.1.1.cmml"><mrow id="A4.E7.m1.2.2.1.1.2.1.1.1.1.1" xref="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.cmml"><mo id="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.2" stretchy="false" xref="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.cmml">(</mo><msub id="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1" xref="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.cmml"><mi id="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.2" xref="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.2.cmml">D</mi><mi id="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.3" xref="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.3" stretchy="false" xref="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="A4.E7.m1.2.2.1.1.2.1.1.1.3" xref="A4.E7.m1.2.2.1.1.2.1.1.1.3.cmml">⊤</mo></msup><mo id="A4.E7.m1.2.2.1.1.3.2.2.3a" xref="A4.E7.m1.2.2.1.1.3.2.2.3.cmml">⁢</mo><msub id="A4.E7.m1.2.2.1.1.3.2.2.5" xref="A4.E7.m1.2.2.1.1.3.2.2.5.cmml"><mi id="A4.E7.m1.2.2.1.1.3.2.2.5.2" xref="A4.E7.m1.2.2.1.1.3.2.2.5.2.cmml">h</mi><mi id="A4.E7.m1.2.2.1.1.3.2.2.5.3" xref="A4.E7.m1.2.2.1.1.3.2.2.5.3.cmml">D</mi></msub><mo id="A4.E7.m1.2.2.1.1.3.2.2.3b" xref="A4.E7.m1.2.2.1.1.3.2.2.3.cmml">⁢</mo><mrow id="A4.E7.m1.2.2.1.1.3.2.2.2.1" xref="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.cmml"><mo id="A4.E7.m1.2.2.1.1.3.2.2.2.1.2" stretchy="false" xref="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.cmml">(</mo><msub id="A4.E7.m1.2.2.1.1.3.2.2.2.1.1" xref="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.cmml"><mi id="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.2" xref="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.2.cmml">𝐃</mi><mtext class="ltx_mathvariant_italic" id="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.3" xref="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.3a.cmml">adv</mtext></msub><mo id="A4.E7.m1.2.2.1.1.3.2.2.2.1.3" stretchy="false" xref="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="A4.E7.m1.2.2.1.2" xref="A4.E7.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.E7.m1.2b"><apply id="A4.E7.m1.2.2.1.1.cmml" xref="A4.E7.m1.2.2.1"><eq id="A4.E7.m1.2.2.1.1.4.cmml" xref="A4.E7.m1.2.2.1.1.4"></eq><apply id="A4.E7.m1.2.2.1.1.1.cmml" xref="A4.E7.m1.2.2.1.1.1"><times id="A4.E7.m1.2.2.1.1.1.2.cmml" xref="A4.E7.m1.2.2.1.1.1.2"></times><apply id="A4.E7.m1.2.2.1.1.1.3.cmml" xref="A4.E7.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="A4.E7.m1.2.2.1.1.1.3.1.cmml" xref="A4.E7.m1.2.2.1.1.1.3">subscript</csymbol><ci id="A4.E7.m1.2.2.1.1.1.3.2.cmml" xref="A4.E7.m1.2.2.1.1.1.3.2">𝐑</ci><ci id="A4.E7.m1.2.2.1.1.1.3.3a.cmml" xref="A4.E7.m1.2.2.1.1.1.3.3"><mtext class="ltx_mathvariant_italic" id="A4.E7.m1.2.2.1.1.1.3.3.cmml" mathsize="70%" xref="A4.E7.m1.2.2.1.1.1.3.3">adv</mtext></ci></apply><apply id="A4.E7.m1.2.2.1.1.1.1.1.1.cmml" xref="A4.E7.m1.2.2.1.1.1.1.1"><times id="A4.E7.m1.2.2.1.1.1.1.1.1.2.cmml" xref="A4.E7.m1.2.2.1.1.1.1.1.1.2"></times><apply id="A4.E7.m1.2.2.1.1.1.1.1.1.3.cmml" xref="A4.E7.m1.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.E7.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="A4.E7.m1.2.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.E7.m1.2.2.1.1.1.1.1.1.3.2.cmml" xref="A4.E7.m1.2.2.1.1.1.1.1.1.3.2">ℎ</ci><ci id="A4.E7.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="A4.E7.m1.2.2.1.1.1.1.1.1.3.3">𝐷</ci></apply><apply id="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="A4.E7.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.E7.m1.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.2">𝐃</ci><ci id="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.3a.cmml" xref="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.3"><mtext class="ltx_mathvariant_italic" id="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" mathsize="70%" xref="A4.E7.m1.2.2.1.1.1.1.1.1.1.1.1.3">adv</mtext></ci></apply></apply></apply><apply id="A4.E7.m1.2.2.1.1.3.cmml" xref="A4.E7.m1.2.2.1.1.3"><times id="A4.E7.m1.2.2.1.1.3.3.cmml" xref="A4.E7.m1.2.2.1.1.3.3"></times><apply id="A4.E7.m1.1.1.cmml" xref="A4.E7.m1.1.1"><divide id="A4.E7.m1.1.1.2.cmml" xref="A4.E7.m1.1.1"></divide><cn id="A4.E7.m1.1.1.3.cmml" type="integer" xref="A4.E7.m1.1.1.3">1</cn><apply id="A4.E7.m1.1.1.1.2.cmml" xref="A4.E7.m1.1.1.1.3"><abs id="A4.E7.m1.1.1.1.2.1.cmml" xref="A4.E7.m1.1.1.1.3.1"></abs><ci id="A4.E7.m1.1.1.1.1.cmml" xref="A4.E7.m1.1.1.1.1">𝒦</ci></apply></apply><apply id="A4.E7.m1.2.2.1.1.3.2.cmml" xref="A4.E7.m1.2.2.1.1.3.2"><apply id="A4.E7.m1.2.2.1.1.3.2.3.cmml" xref="A4.E7.m1.2.2.1.1.3.2.3"><csymbol cd="ambiguous" id="A4.E7.m1.2.2.1.1.3.2.3.1.cmml" xref="A4.E7.m1.2.2.1.1.3.2.3">subscript</csymbol><sum id="A4.E7.m1.2.2.1.1.3.2.3.2.cmml" xref="A4.E7.m1.2.2.1.1.3.2.3.2"></sum><apply id="A4.E7.m1.2.2.1.1.3.2.3.3.cmml" xref="A4.E7.m1.2.2.1.1.3.2.3.3"><in id="A4.E7.m1.2.2.1.1.3.2.3.3.1.cmml" xref="A4.E7.m1.2.2.1.1.3.2.3.3.1"></in><apply id="A4.E7.m1.2.2.1.1.3.2.3.3.2.cmml" xref="A4.E7.m1.2.2.1.1.3.2.3.3.2"><csymbol cd="ambiguous" id="A4.E7.m1.2.2.1.1.3.2.3.3.2.1.cmml" xref="A4.E7.m1.2.2.1.1.3.2.3.3.2">subscript</csymbol><ci id="A4.E7.m1.2.2.1.1.3.2.3.3.2.2.cmml" xref="A4.E7.m1.2.2.1.1.3.2.3.3.2.2">𝐷</ci><ci id="A4.E7.m1.2.2.1.1.3.2.3.3.2.3.cmml" xref="A4.E7.m1.2.2.1.1.3.2.3.3.2.3">𝑖</ci></apply><ci id="A4.E7.m1.2.2.1.1.3.2.3.3.3.cmml" xref="A4.E7.m1.2.2.1.1.3.2.3.3.3">𝒦</ci></apply></apply><apply id="A4.E7.m1.2.2.1.1.3.2.2.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2"><times id="A4.E7.m1.2.2.1.1.3.2.2.3.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.3"></times><apply id="A4.E7.m1.2.2.1.1.3.2.2.4.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.4"><csymbol cd="ambiguous" id="A4.E7.m1.2.2.1.1.3.2.2.4.1.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.4">subscript</csymbol><ci id="A4.E7.m1.2.2.1.1.3.2.2.4.2.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.4.2">ℎ</ci><ci id="A4.E7.m1.2.2.1.1.3.2.2.4.3.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.4.3">𝑄</ci></apply><apply id="A4.E7.m1.2.2.1.1.2.1.1.1.cmml" xref="A4.E7.m1.2.2.1.1.2.1.1.1"><csymbol cd="ambiguous" id="A4.E7.m1.2.2.1.1.2.1.1.1.2.cmml" xref="A4.E7.m1.2.2.1.1.2.1.1.1">superscript</csymbol><apply id="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.cmml" xref="A4.E7.m1.2.2.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.1.cmml" xref="A4.E7.m1.2.2.1.1.2.1.1.1.1.1">subscript</csymbol><ci id="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.2.cmml" xref="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.2">𝐷</ci><ci id="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.3.cmml" xref="A4.E7.m1.2.2.1.1.2.1.1.1.1.1.1.3">𝑖</ci></apply><csymbol cd="latexml" id="A4.E7.m1.2.2.1.1.2.1.1.1.3.cmml" xref="A4.E7.m1.2.2.1.1.2.1.1.1.3">top</csymbol></apply><apply id="A4.E7.m1.2.2.1.1.3.2.2.5.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.5"><csymbol cd="ambiguous" id="A4.E7.m1.2.2.1.1.3.2.2.5.1.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.5">subscript</csymbol><ci id="A4.E7.m1.2.2.1.1.3.2.2.5.2.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.5.2">ℎ</ci><ci id="A4.E7.m1.2.2.1.1.3.2.2.5.3.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.5.3">𝐷</ci></apply><apply id="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.2.1"><csymbol cd="ambiguous" id="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.1.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.2.1">subscript</csymbol><ci id="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.2.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.2">𝐃</ci><ci id="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.3a.cmml" xref="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.3"><mtext class="ltx_mathvariant_italic" id="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.3.cmml" mathsize="70%" xref="A4.E7.m1.2.2.1.1.3.2.2.2.1.1.3">adv</mtext></ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.E7.m1.2c">\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{D}_{\text{adv}}))=\frac{1}{|\mathcal{K}|%
}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}}),</annotation><annotation encoding="application/x-llamapun" id="A4.E7.m1.2d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) ) = divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A4.Thmtheorem1.p1.4"><span class="ltx_text ltx_font_italic" id="A4.Thmtheorem1.p1.4.3">where <math alttext="h(\cdot)" class="ltx_Math" display="inline" id="A4.Thmtheorem1.p1.2.1.m1.1"><semantics id="A4.Thmtheorem1.p1.2.1.m1.1a"><mrow id="A4.Thmtheorem1.p1.2.1.m1.1.2" xref="A4.Thmtheorem1.p1.2.1.m1.1.2.cmml"><mi id="A4.Thmtheorem1.p1.2.1.m1.1.2.2" xref="A4.Thmtheorem1.p1.2.1.m1.1.2.2.cmml">h</mi><mo id="A4.Thmtheorem1.p1.2.1.m1.1.2.1" xref="A4.Thmtheorem1.p1.2.1.m1.1.2.1.cmml">⁢</mo><mrow id="A4.Thmtheorem1.p1.2.1.m1.1.2.3.2" xref="A4.Thmtheorem1.p1.2.1.m1.1.2.cmml"><mo id="A4.Thmtheorem1.p1.2.1.m1.1.2.3.2.1" stretchy="false" xref="A4.Thmtheorem1.p1.2.1.m1.1.2.cmml">(</mo><mo id="A4.Thmtheorem1.p1.2.1.m1.1.1" lspace="0em" rspace="0em" xref="A4.Thmtheorem1.p1.2.1.m1.1.1.cmml">⋅</mo><mo id="A4.Thmtheorem1.p1.2.1.m1.1.2.3.2.2" stretchy="false" xref="A4.Thmtheorem1.p1.2.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.Thmtheorem1.p1.2.1.m1.1b"><apply id="A4.Thmtheorem1.p1.2.1.m1.1.2.cmml" xref="A4.Thmtheorem1.p1.2.1.m1.1.2"><times id="A4.Thmtheorem1.p1.2.1.m1.1.2.1.cmml" xref="A4.Thmtheorem1.p1.2.1.m1.1.2.1"></times><ci id="A4.Thmtheorem1.p1.2.1.m1.1.2.2.cmml" xref="A4.Thmtheorem1.p1.2.1.m1.1.2.2">ℎ</ci><ci id="A4.Thmtheorem1.p1.2.1.m1.1.1.cmml" xref="A4.Thmtheorem1.p1.2.1.m1.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Thmtheorem1.p1.2.1.m1.1c">h(\cdot)</annotation><annotation encoding="application/x-llamapun" id="A4.Thmtheorem1.p1.2.1.m1.1d">italic_h ( ⋅ )</annotation></semantics></math> is a function that transforms an input text into an embedding.
If we consider <math alttext="h(\mathbf{D}_{\text{adv}})" class="ltx_Math" display="inline" id="A4.Thmtheorem1.p1.3.2.m2.1"><semantics id="A4.Thmtheorem1.p1.3.2.m2.1a"><mrow id="A4.Thmtheorem1.p1.3.2.m2.1.1" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.cmml"><mi id="A4.Thmtheorem1.p1.3.2.m2.1.1.3" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.3.cmml">h</mi><mo id="A4.Thmtheorem1.p1.3.2.m2.1.1.2" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.2.cmml">⁢</mo><mrow id="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.cmml"><mo id="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.2" stretchy="false" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.cmml">(</mo><msub id="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.cmml"><mi id="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.2" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.2.cmml">𝐃</mi><mtext class="ltx_mathvariant_italic" id="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.3" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.3a.cmml">adv</mtext></msub><mo id="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.3" stretchy="false" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.Thmtheorem1.p1.3.2.m2.1b"><apply id="A4.Thmtheorem1.p1.3.2.m2.1.1.cmml" xref="A4.Thmtheorem1.p1.3.2.m2.1.1"><times id="A4.Thmtheorem1.p1.3.2.m2.1.1.2.cmml" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.2"></times><ci id="A4.Thmtheorem1.p1.3.2.m2.1.1.3.cmml" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.3">ℎ</ci><apply id="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.cmml" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.1.cmml" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1">subscript</csymbol><ci id="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.2.cmml" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.2">𝐃</ci><ci id="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.3a.cmml" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.3"><mtext class="ltx_mathvariant_italic" id="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.3.cmml" mathsize="70%" xref="A4.Thmtheorem1.p1.3.2.m2.1.1.1.1.1.3">adv</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Thmtheorem1.p1.3.2.m2.1c">h(\mathbf{D}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="A4.Thmtheorem1.p1.3.2.m2.1d">italic_h ( bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math> as the variable, the target function <math alttext="\mathbf{R}_{\text{adv}}(\mathbf{G}_{\text{adv}})" class="ltx_Math" display="inline" id="A4.Thmtheorem1.p1.4.3.m3.1"><semantics id="A4.Thmtheorem1.p1.4.3.m3.1a"><mrow id="A4.Thmtheorem1.p1.4.3.m3.1.1" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.cmml"><msub id="A4.Thmtheorem1.p1.4.3.m3.1.1.3" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.3.cmml"><mi id="A4.Thmtheorem1.p1.4.3.m3.1.1.3.2" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.3.2.cmml">𝐑</mi><mtext class="ltx_mathvariant_italic" id="A4.Thmtheorem1.p1.4.3.m3.1.1.3.3" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.3.3a.cmml">adv</mtext></msub><mo id="A4.Thmtheorem1.p1.4.3.m3.1.1.2" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.2.cmml">⁢</mo><mrow id="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.cmml"><mo id="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.2" stretchy="false" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.cmml">(</mo><msub id="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.cmml"><mi id="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.2" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.2.cmml">𝐆</mi><mtext class="ltx_mathvariant_italic" id="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.3" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.3a.cmml">adv</mtext></msub><mo id="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.3" stretchy="false" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.Thmtheorem1.p1.4.3.m3.1b"><apply id="A4.Thmtheorem1.p1.4.3.m3.1.1.cmml" xref="A4.Thmtheorem1.p1.4.3.m3.1.1"><times id="A4.Thmtheorem1.p1.4.3.m3.1.1.2.cmml" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.2"></times><apply id="A4.Thmtheorem1.p1.4.3.m3.1.1.3.cmml" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.3"><csymbol cd="ambiguous" id="A4.Thmtheorem1.p1.4.3.m3.1.1.3.1.cmml" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.3">subscript</csymbol><ci id="A4.Thmtheorem1.p1.4.3.m3.1.1.3.2.cmml" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.3.2">𝐑</ci><ci id="A4.Thmtheorem1.p1.4.3.m3.1.1.3.3a.cmml" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.3.3"><mtext class="ltx_mathvariant_italic" id="A4.Thmtheorem1.p1.4.3.m3.1.1.3.3.cmml" mathsize="70%" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.3.3">adv</mtext></ci></apply><apply id="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.cmml" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.1.cmml" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1">subscript</csymbol><ci id="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.2.cmml" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.2">𝐆</ci><ci id="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.3a.cmml" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.3"><mtext class="ltx_mathvariant_italic" id="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.3.cmml" mathsize="70%" xref="A4.Thmtheorem1.p1.4.3.m3.1.1.1.1.1.3">adv</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Thmtheorem1.p1.4.3.m3.1c">\mathbf{R}_{\text{adv}}(\mathbf{G}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="A4.Thmtheorem1.p1.4.3.m3.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( bold_G start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math> is convex.</span></p>
</div>
</div>
<div class="ltx_proof" id="A4.SS2.1">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_proof">Proof.</h6>
<div class="ltx_para" id="A4.SS2.1.p1">
<p class="ltx_p" id="A4.SS2.1.p1.3">According to the definition of convexity, the given function <math alttext="\mathbf{R}_{\text{adv}}:\mathbb{R}^{n}\to\mathbb{R}" class="ltx_Math" display="inline" id="A4.SS2.1.p1.1.m1.1"><semantics id="A4.SS2.1.p1.1.m1.1a"><mrow id="A4.SS2.1.p1.1.m1.1.1" xref="A4.SS2.1.p1.1.m1.1.1.cmml"><msub id="A4.SS2.1.p1.1.m1.1.1.2" xref="A4.SS2.1.p1.1.m1.1.1.2.cmml"><mi id="A4.SS2.1.p1.1.m1.1.1.2.2" xref="A4.SS2.1.p1.1.m1.1.1.2.2.cmml">𝐑</mi><mtext id="A4.SS2.1.p1.1.m1.1.1.2.3" xref="A4.SS2.1.p1.1.m1.1.1.2.3a.cmml">adv</mtext></msub><mo id="A4.SS2.1.p1.1.m1.1.1.1" lspace="0.278em" rspace="0.278em" xref="A4.SS2.1.p1.1.m1.1.1.1.cmml">:</mo><mrow id="A4.SS2.1.p1.1.m1.1.1.3" xref="A4.SS2.1.p1.1.m1.1.1.3.cmml"><msup id="A4.SS2.1.p1.1.m1.1.1.3.2" xref="A4.SS2.1.p1.1.m1.1.1.3.2.cmml"><mi id="A4.SS2.1.p1.1.m1.1.1.3.2.2" xref="A4.SS2.1.p1.1.m1.1.1.3.2.2.cmml">ℝ</mi><mi id="A4.SS2.1.p1.1.m1.1.1.3.2.3" xref="A4.SS2.1.p1.1.m1.1.1.3.2.3.cmml">n</mi></msup><mo id="A4.SS2.1.p1.1.m1.1.1.3.1" stretchy="false" xref="A4.SS2.1.p1.1.m1.1.1.3.1.cmml">→</mo><mi id="A4.SS2.1.p1.1.m1.1.1.3.3" xref="A4.SS2.1.p1.1.m1.1.1.3.3.cmml">ℝ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.SS2.1.p1.1.m1.1b"><apply id="A4.SS2.1.p1.1.m1.1.1.cmml" xref="A4.SS2.1.p1.1.m1.1.1"><ci id="A4.SS2.1.p1.1.m1.1.1.1.cmml" xref="A4.SS2.1.p1.1.m1.1.1.1">:</ci><apply id="A4.SS2.1.p1.1.m1.1.1.2.cmml" xref="A4.SS2.1.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="A4.SS2.1.p1.1.m1.1.1.2.1.cmml" xref="A4.SS2.1.p1.1.m1.1.1.2">subscript</csymbol><ci id="A4.SS2.1.p1.1.m1.1.1.2.2.cmml" xref="A4.SS2.1.p1.1.m1.1.1.2.2">𝐑</ci><ci id="A4.SS2.1.p1.1.m1.1.1.2.3a.cmml" xref="A4.SS2.1.p1.1.m1.1.1.2.3"><mtext id="A4.SS2.1.p1.1.m1.1.1.2.3.cmml" mathsize="70%" xref="A4.SS2.1.p1.1.m1.1.1.2.3">adv</mtext></ci></apply><apply id="A4.SS2.1.p1.1.m1.1.1.3.cmml" xref="A4.SS2.1.p1.1.m1.1.1.3"><ci id="A4.SS2.1.p1.1.m1.1.1.3.1.cmml" xref="A4.SS2.1.p1.1.m1.1.1.3.1">→</ci><apply id="A4.SS2.1.p1.1.m1.1.1.3.2.cmml" xref="A4.SS2.1.p1.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="A4.SS2.1.p1.1.m1.1.1.3.2.1.cmml" xref="A4.SS2.1.p1.1.m1.1.1.3.2">superscript</csymbol><ci id="A4.SS2.1.p1.1.m1.1.1.3.2.2.cmml" xref="A4.SS2.1.p1.1.m1.1.1.3.2.2">ℝ</ci><ci id="A4.SS2.1.p1.1.m1.1.1.3.2.3.cmml" xref="A4.SS2.1.p1.1.m1.1.1.3.2.3">𝑛</ci></apply><ci id="A4.SS2.1.p1.1.m1.1.1.3.3.cmml" xref="A4.SS2.1.p1.1.m1.1.1.3.3">ℝ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.1.p1.1.m1.1c">\mathbf{R}_{\text{adv}}:\mathbb{R}^{n}\to\mathbb{R}</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.1.p1.1.m1.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT : blackboard_R start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT → blackboard_R</annotation></semantics></math> is convex if for all <math alttext="x_{1},x_{2}\in\mathbb{R}^{n}" class="ltx_Math" display="inline" id="A4.SS2.1.p1.2.m2.2"><semantics id="A4.SS2.1.p1.2.m2.2a"><mrow id="A4.SS2.1.p1.2.m2.2.2" xref="A4.SS2.1.p1.2.m2.2.2.cmml"><mrow id="A4.SS2.1.p1.2.m2.2.2.2.2" xref="A4.SS2.1.p1.2.m2.2.2.2.3.cmml"><msub id="A4.SS2.1.p1.2.m2.1.1.1.1.1" xref="A4.SS2.1.p1.2.m2.1.1.1.1.1.cmml"><mi id="A4.SS2.1.p1.2.m2.1.1.1.1.1.2" xref="A4.SS2.1.p1.2.m2.1.1.1.1.1.2.cmml">x</mi><mn id="A4.SS2.1.p1.2.m2.1.1.1.1.1.3" xref="A4.SS2.1.p1.2.m2.1.1.1.1.1.3.cmml">1</mn></msub><mo id="A4.SS2.1.p1.2.m2.2.2.2.2.3" xref="A4.SS2.1.p1.2.m2.2.2.2.3.cmml">,</mo><msub id="A4.SS2.1.p1.2.m2.2.2.2.2.2" xref="A4.SS2.1.p1.2.m2.2.2.2.2.2.cmml"><mi id="A4.SS2.1.p1.2.m2.2.2.2.2.2.2" xref="A4.SS2.1.p1.2.m2.2.2.2.2.2.2.cmml">x</mi><mn id="A4.SS2.1.p1.2.m2.2.2.2.2.2.3" xref="A4.SS2.1.p1.2.m2.2.2.2.2.2.3.cmml">2</mn></msub></mrow><mo id="A4.SS2.1.p1.2.m2.2.2.3" xref="A4.SS2.1.p1.2.m2.2.2.3.cmml">∈</mo><msup id="A4.SS2.1.p1.2.m2.2.2.4" xref="A4.SS2.1.p1.2.m2.2.2.4.cmml"><mi id="A4.SS2.1.p1.2.m2.2.2.4.2" xref="A4.SS2.1.p1.2.m2.2.2.4.2.cmml">ℝ</mi><mi id="A4.SS2.1.p1.2.m2.2.2.4.3" xref="A4.SS2.1.p1.2.m2.2.2.4.3.cmml">n</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="A4.SS2.1.p1.2.m2.2b"><apply id="A4.SS2.1.p1.2.m2.2.2.cmml" xref="A4.SS2.1.p1.2.m2.2.2"><in id="A4.SS2.1.p1.2.m2.2.2.3.cmml" xref="A4.SS2.1.p1.2.m2.2.2.3"></in><list id="A4.SS2.1.p1.2.m2.2.2.2.3.cmml" xref="A4.SS2.1.p1.2.m2.2.2.2.2"><apply id="A4.SS2.1.p1.2.m2.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.2.m2.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.2.m2.1.1.1.1.1">subscript</csymbol><ci id="A4.SS2.1.p1.2.m2.1.1.1.1.1.2.cmml" xref="A4.SS2.1.p1.2.m2.1.1.1.1.1.2">𝑥</ci><cn id="A4.SS2.1.p1.2.m2.1.1.1.1.1.3.cmml" type="integer" xref="A4.SS2.1.p1.2.m2.1.1.1.1.1.3">1</cn></apply><apply id="A4.SS2.1.p1.2.m2.2.2.2.2.2.cmml" xref="A4.SS2.1.p1.2.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="A4.SS2.1.p1.2.m2.2.2.2.2.2.1.cmml" xref="A4.SS2.1.p1.2.m2.2.2.2.2.2">subscript</csymbol><ci id="A4.SS2.1.p1.2.m2.2.2.2.2.2.2.cmml" xref="A4.SS2.1.p1.2.m2.2.2.2.2.2.2">𝑥</ci><cn id="A4.SS2.1.p1.2.m2.2.2.2.2.2.3.cmml" type="integer" xref="A4.SS2.1.p1.2.m2.2.2.2.2.2.3">2</cn></apply></list><apply id="A4.SS2.1.p1.2.m2.2.2.4.cmml" xref="A4.SS2.1.p1.2.m2.2.2.4"><csymbol cd="ambiguous" id="A4.SS2.1.p1.2.m2.2.2.4.1.cmml" xref="A4.SS2.1.p1.2.m2.2.2.4">superscript</csymbol><ci id="A4.SS2.1.p1.2.m2.2.2.4.2.cmml" xref="A4.SS2.1.p1.2.m2.2.2.4.2">ℝ</ci><ci id="A4.SS2.1.p1.2.m2.2.2.4.3.cmml" xref="A4.SS2.1.p1.2.m2.2.2.4.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.1.p1.2.m2.2c">x_{1},x_{2}\in\mathbb{R}^{n}</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.1.p1.2.m2.2d">italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="\theta\in[0,1]" class="ltx_Math" display="inline" id="A4.SS2.1.p1.3.m3.2"><semantics id="A4.SS2.1.p1.3.m3.2a"><mrow id="A4.SS2.1.p1.3.m3.2.3" xref="A4.SS2.1.p1.3.m3.2.3.cmml"><mi id="A4.SS2.1.p1.3.m3.2.3.2" xref="A4.SS2.1.p1.3.m3.2.3.2.cmml">θ</mi><mo id="A4.SS2.1.p1.3.m3.2.3.1" xref="A4.SS2.1.p1.3.m3.2.3.1.cmml">∈</mo><mrow id="A4.SS2.1.p1.3.m3.2.3.3.2" xref="A4.SS2.1.p1.3.m3.2.3.3.1.cmml"><mo id="A4.SS2.1.p1.3.m3.2.3.3.2.1" stretchy="false" xref="A4.SS2.1.p1.3.m3.2.3.3.1.cmml">[</mo><mn id="A4.SS2.1.p1.3.m3.1.1" xref="A4.SS2.1.p1.3.m3.1.1.cmml">0</mn><mo id="A4.SS2.1.p1.3.m3.2.3.3.2.2" xref="A4.SS2.1.p1.3.m3.2.3.3.1.cmml">,</mo><mn id="A4.SS2.1.p1.3.m3.2.2" xref="A4.SS2.1.p1.3.m3.2.2.cmml">1</mn><mo id="A4.SS2.1.p1.3.m3.2.3.3.2.3" stretchy="false" xref="A4.SS2.1.p1.3.m3.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.SS2.1.p1.3.m3.2b"><apply id="A4.SS2.1.p1.3.m3.2.3.cmml" xref="A4.SS2.1.p1.3.m3.2.3"><in id="A4.SS2.1.p1.3.m3.2.3.1.cmml" xref="A4.SS2.1.p1.3.m3.2.3.1"></in><ci id="A4.SS2.1.p1.3.m3.2.3.2.cmml" xref="A4.SS2.1.p1.3.m3.2.3.2">𝜃</ci><interval closure="closed" id="A4.SS2.1.p1.3.m3.2.3.3.1.cmml" xref="A4.SS2.1.p1.3.m3.2.3.3.2"><cn id="A4.SS2.1.p1.3.m3.1.1.cmml" type="integer" xref="A4.SS2.1.p1.3.m3.1.1">0</cn><cn id="A4.SS2.1.p1.3.m3.2.2.cmml" type="integer" xref="A4.SS2.1.p1.3.m3.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.1.p1.3.m3.2c">\theta\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.1.p1.3.m3.2d">italic_θ ∈ [ 0 , 1 ]</annotation></semantics></math>, the following condition holds:</p>
<table class="ltx_equation ltx_eqn_table" id="A4.Ex2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{R}_{\text{adv}}(\theta x_{1}+(1-\theta)x_{2})\leq\theta\mathbf{R}_{%
\text{adv}}(x_{1})+(1-\theta)\mathbf{R}_{\text{adv}}(x_{2})." class="ltx_Math" display="block" id="A4.Ex2.m1.1"><semantics id="A4.Ex2.m1.1a"><mrow id="A4.Ex2.m1.1.1.1" xref="A4.Ex2.m1.1.1.1.1.cmml"><mrow id="A4.Ex2.m1.1.1.1.1" xref="A4.Ex2.m1.1.1.1.1.cmml"><mrow id="A4.Ex2.m1.1.1.1.1.1" xref="A4.Ex2.m1.1.1.1.1.1.cmml"><msub id="A4.Ex2.m1.1.1.1.1.1.3" xref="A4.Ex2.m1.1.1.1.1.1.3.cmml"><mi id="A4.Ex2.m1.1.1.1.1.1.3.2" xref="A4.Ex2.m1.1.1.1.1.1.3.2.cmml">𝐑</mi><mtext id="A4.Ex2.m1.1.1.1.1.1.3.3" xref="A4.Ex2.m1.1.1.1.1.1.3.3a.cmml">adv</mtext></msub><mo id="A4.Ex2.m1.1.1.1.1.1.2" xref="A4.Ex2.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex2.m1.1.1.1.1.1.1.1" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex2.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A4.Ex2.m1.1.1.1.1.1.1.1.1" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.2" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.2.cmml">θ</mi><mo id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.1" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><msub id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3.2" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3.2.cmml">x</mi><mn id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3.3" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></msub></mrow><mo id="A4.Ex2.m1.1.1.1.1.1.1.1.1.2" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.2.cmml">+</mo><mrow id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mn id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">θ</mi></mrow><mo id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.2" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><msub id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3.2" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3.2.cmml">x</mi><mn id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3.3" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3.3.cmml">2</mn></msub></mrow></mrow><mo id="A4.Ex2.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex2.m1.1.1.1.1.5" xref="A4.Ex2.m1.1.1.1.1.5.cmml">≤</mo><mrow id="A4.Ex2.m1.1.1.1.1.4" xref="A4.Ex2.m1.1.1.1.1.4.cmml"><mrow id="A4.Ex2.m1.1.1.1.1.2.1" xref="A4.Ex2.m1.1.1.1.1.2.1.cmml"><mi id="A4.Ex2.m1.1.1.1.1.2.1.3" xref="A4.Ex2.m1.1.1.1.1.2.1.3.cmml">θ</mi><mo id="A4.Ex2.m1.1.1.1.1.2.1.2" xref="A4.Ex2.m1.1.1.1.1.2.1.2.cmml">⁢</mo><msub id="A4.Ex2.m1.1.1.1.1.2.1.4" xref="A4.Ex2.m1.1.1.1.1.2.1.4.cmml"><mi id="A4.Ex2.m1.1.1.1.1.2.1.4.2" xref="A4.Ex2.m1.1.1.1.1.2.1.4.2.cmml">𝐑</mi><mtext id="A4.Ex2.m1.1.1.1.1.2.1.4.3" xref="A4.Ex2.m1.1.1.1.1.2.1.4.3a.cmml">adv</mtext></msub><mo id="A4.Ex2.m1.1.1.1.1.2.1.2a" xref="A4.Ex2.m1.1.1.1.1.2.1.2.cmml">⁢</mo><mrow id="A4.Ex2.m1.1.1.1.1.2.1.1.1" xref="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.cmml"><mo id="A4.Ex2.m1.1.1.1.1.2.1.1.1.2" stretchy="false" xref="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.cmml">(</mo><msub id="A4.Ex2.m1.1.1.1.1.2.1.1.1.1" xref="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.cmml"><mi id="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.2" xref="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.2.cmml">x</mi><mn id="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.3" xref="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.3.cmml">1</mn></msub><mo id="A4.Ex2.m1.1.1.1.1.2.1.1.1.3" stretchy="false" xref="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex2.m1.1.1.1.1.4.4" xref="A4.Ex2.m1.1.1.1.1.4.4.cmml">+</mo><mrow id="A4.Ex2.m1.1.1.1.1.4.3" xref="A4.Ex2.m1.1.1.1.1.4.3.cmml"><mrow id="A4.Ex2.m1.1.1.1.1.3.2.1.1" xref="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.cmml"><mo id="A4.Ex2.m1.1.1.1.1.3.2.1.1.2" stretchy="false" xref="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.cmml">(</mo><mrow id="A4.Ex2.m1.1.1.1.1.3.2.1.1.1" xref="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.cmml"><mn id="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.2" xref="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.2.cmml">1</mn><mo id="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.1" xref="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.1.cmml">−</mo><mi id="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.3" xref="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.3.cmml">θ</mi></mrow><mo id="A4.Ex2.m1.1.1.1.1.3.2.1.1.3" stretchy="false" xref="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex2.m1.1.1.1.1.4.3.3" xref="A4.Ex2.m1.1.1.1.1.4.3.3.cmml">⁢</mo><msub id="A4.Ex2.m1.1.1.1.1.4.3.4" xref="A4.Ex2.m1.1.1.1.1.4.3.4.cmml"><mi id="A4.Ex2.m1.1.1.1.1.4.3.4.2" xref="A4.Ex2.m1.1.1.1.1.4.3.4.2.cmml">𝐑</mi><mtext id="A4.Ex2.m1.1.1.1.1.4.3.4.3" xref="A4.Ex2.m1.1.1.1.1.4.3.4.3a.cmml">adv</mtext></msub><mo id="A4.Ex2.m1.1.1.1.1.4.3.3a" xref="A4.Ex2.m1.1.1.1.1.4.3.3.cmml">⁢</mo><mrow id="A4.Ex2.m1.1.1.1.1.4.3.2.1" xref="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.cmml"><mo id="A4.Ex2.m1.1.1.1.1.4.3.2.1.2" stretchy="false" xref="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.cmml">(</mo><msub id="A4.Ex2.m1.1.1.1.1.4.3.2.1.1" xref="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.cmml"><mi id="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.2" xref="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.2.cmml">x</mi><mn id="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.3" xref="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.3.cmml">2</mn></msub><mo id="A4.Ex2.m1.1.1.1.1.4.3.2.1.3" stretchy="false" xref="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A4.Ex2.m1.1.1.1.2" lspace="0em" xref="A4.Ex2.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.Ex2.m1.1b"><apply id="A4.Ex2.m1.1.1.1.1.cmml" xref="A4.Ex2.m1.1.1.1"><leq id="A4.Ex2.m1.1.1.1.1.5.cmml" xref="A4.Ex2.m1.1.1.1.1.5"></leq><apply id="A4.Ex2.m1.1.1.1.1.1.cmml" xref="A4.Ex2.m1.1.1.1.1.1"><times id="A4.Ex2.m1.1.1.1.1.1.2.cmml" xref="A4.Ex2.m1.1.1.1.1.1.2"></times><apply id="A4.Ex2.m1.1.1.1.1.1.3.cmml" xref="A4.Ex2.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex2.m1.1.1.1.1.1.3.1.cmml" xref="A4.Ex2.m1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex2.m1.1.1.1.1.1.3.2.cmml" xref="A4.Ex2.m1.1.1.1.1.1.3.2">𝐑</ci><ci id="A4.Ex2.m1.1.1.1.1.1.3.3a.cmml" xref="A4.Ex2.m1.1.1.1.1.1.3.3"><mtext id="A4.Ex2.m1.1.1.1.1.1.3.3.cmml" mathsize="70%" xref="A4.Ex2.m1.1.1.1.1.1.3.3">adv</mtext></ci></apply><apply id="A4.Ex2.m1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1"><plus id="A4.Ex2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.2"></plus><apply id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3"><times id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.1"></times><ci id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.2">𝜃</ci><apply id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3.2">𝑥</ci><cn id="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3.3.cmml" type="integer" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply><apply id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1"><times id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.2"></times><apply id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1"><minus id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.1"></minus><cn id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" type="integer" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">1</cn><ci id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝜃</ci></apply><apply id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3.2">𝑥</ci><cn id="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="A4.Ex2.m1.1.1.1.1.1.1.1.1.1.3.3">2</cn></apply></apply></apply></apply><apply id="A4.Ex2.m1.1.1.1.1.4.cmml" xref="A4.Ex2.m1.1.1.1.1.4"><plus id="A4.Ex2.m1.1.1.1.1.4.4.cmml" xref="A4.Ex2.m1.1.1.1.1.4.4"></plus><apply id="A4.Ex2.m1.1.1.1.1.2.1.cmml" xref="A4.Ex2.m1.1.1.1.1.2.1"><times id="A4.Ex2.m1.1.1.1.1.2.1.2.cmml" xref="A4.Ex2.m1.1.1.1.1.2.1.2"></times><ci id="A4.Ex2.m1.1.1.1.1.2.1.3.cmml" xref="A4.Ex2.m1.1.1.1.1.2.1.3">𝜃</ci><apply id="A4.Ex2.m1.1.1.1.1.2.1.4.cmml" xref="A4.Ex2.m1.1.1.1.1.2.1.4"><csymbol cd="ambiguous" id="A4.Ex2.m1.1.1.1.1.2.1.4.1.cmml" xref="A4.Ex2.m1.1.1.1.1.2.1.4">subscript</csymbol><ci id="A4.Ex2.m1.1.1.1.1.2.1.4.2.cmml" xref="A4.Ex2.m1.1.1.1.1.2.1.4.2">𝐑</ci><ci id="A4.Ex2.m1.1.1.1.1.2.1.4.3a.cmml" xref="A4.Ex2.m1.1.1.1.1.2.1.4.3"><mtext id="A4.Ex2.m1.1.1.1.1.2.1.4.3.cmml" mathsize="70%" xref="A4.Ex2.m1.1.1.1.1.2.1.4.3">adv</mtext></ci></apply><apply id="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.cmml" xref="A4.Ex2.m1.1.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.1.cmml" xref="A4.Ex2.m1.1.1.1.1.2.1.1.1">subscript</csymbol><ci id="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.2.cmml" xref="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.2">𝑥</ci><cn id="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.3.cmml" type="integer" xref="A4.Ex2.m1.1.1.1.1.2.1.1.1.1.3">1</cn></apply></apply><apply id="A4.Ex2.m1.1.1.1.1.4.3.cmml" xref="A4.Ex2.m1.1.1.1.1.4.3"><times id="A4.Ex2.m1.1.1.1.1.4.3.3.cmml" xref="A4.Ex2.m1.1.1.1.1.4.3.3"></times><apply id="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.cmml" xref="A4.Ex2.m1.1.1.1.1.3.2.1.1"><minus id="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.1.cmml" xref="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.1"></minus><cn id="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.2.cmml" type="integer" xref="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.2">1</cn><ci id="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.3.cmml" xref="A4.Ex2.m1.1.1.1.1.3.2.1.1.1.3">𝜃</ci></apply><apply id="A4.Ex2.m1.1.1.1.1.4.3.4.cmml" xref="A4.Ex2.m1.1.1.1.1.4.3.4"><csymbol cd="ambiguous" id="A4.Ex2.m1.1.1.1.1.4.3.4.1.cmml" xref="A4.Ex2.m1.1.1.1.1.4.3.4">subscript</csymbol><ci id="A4.Ex2.m1.1.1.1.1.4.3.4.2.cmml" xref="A4.Ex2.m1.1.1.1.1.4.3.4.2">𝐑</ci><ci id="A4.Ex2.m1.1.1.1.1.4.3.4.3a.cmml" xref="A4.Ex2.m1.1.1.1.1.4.3.4.3"><mtext id="A4.Ex2.m1.1.1.1.1.4.3.4.3.cmml" mathsize="70%" xref="A4.Ex2.m1.1.1.1.1.4.3.4.3">adv</mtext></ci></apply><apply id="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.cmml" xref="A4.Ex2.m1.1.1.1.1.4.3.2.1"><csymbol cd="ambiguous" id="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.1.cmml" xref="A4.Ex2.m1.1.1.1.1.4.3.2.1">subscript</csymbol><ci id="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.2.cmml" xref="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.2">𝑥</ci><cn id="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.3.cmml" type="integer" xref="A4.Ex2.m1.1.1.1.1.4.3.2.1.1.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Ex2.m1.1c">\mathbf{R}_{\text{adv}}(\theta x_{1}+(1-\theta)x_{2})\leq\theta\mathbf{R}_{%
\text{adv}}(x_{1})+(1-\theta)\mathbf{R}_{\text{adv}}(x_{2}).</annotation><annotation encoding="application/x-llamapun" id="A4.Ex2.m1.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_θ italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT + ( 1 - italic_θ ) italic_x start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) ≤ italic_θ bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) + ( 1 - italic_θ ) bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A4.SS2.1.p1.5">Based on the definition, hereby we start to prove that <math alttext="\mathbf{R}_{\text{adv}}" class="ltx_Math" display="inline" id="A4.SS2.1.p1.4.m1.1"><semantics id="A4.SS2.1.p1.4.m1.1a"><msub id="A4.SS2.1.p1.4.m1.1.1" xref="A4.SS2.1.p1.4.m1.1.1.cmml"><mi id="A4.SS2.1.p1.4.m1.1.1.2" xref="A4.SS2.1.p1.4.m1.1.1.2.cmml">𝐑</mi><mtext id="A4.SS2.1.p1.4.m1.1.1.3" xref="A4.SS2.1.p1.4.m1.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="A4.SS2.1.p1.4.m1.1b"><apply id="A4.SS2.1.p1.4.m1.1.1.cmml" xref="A4.SS2.1.p1.4.m1.1.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.4.m1.1.1.1.cmml" xref="A4.SS2.1.p1.4.m1.1.1">subscript</csymbol><ci id="A4.SS2.1.p1.4.m1.1.1.2.cmml" xref="A4.SS2.1.p1.4.m1.1.1.2">𝐑</ci><ci id="A4.SS2.1.p1.4.m1.1.1.3a.cmml" xref="A4.SS2.1.p1.4.m1.1.1.3"><mtext id="A4.SS2.1.p1.4.m1.1.1.3.cmml" mathsize="70%" xref="A4.SS2.1.p1.4.m1.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.1.p1.4.m1.1c">\mathbf{R}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.1.p1.4.m1.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> satisfies the condition.
We first compute the value of <math alttext="\mathbf{R}_{\text{adv}}(\theta h_{D}(\mathbf{D}_{\text{adv}_{1}})+(1-\theta)h_%
{D}(\mathbf{D}_{\text{adv}_{2}}))" class="ltx_Math" display="inline" id="A4.SS2.1.p1.5.m2.1"><semantics id="A4.SS2.1.p1.5.m2.1a"><mrow id="A4.SS2.1.p1.5.m2.1.1" xref="A4.SS2.1.p1.5.m2.1.1.cmml"><msub id="A4.SS2.1.p1.5.m2.1.1.3" xref="A4.SS2.1.p1.5.m2.1.1.3.cmml"><mi id="A4.SS2.1.p1.5.m2.1.1.3.2" xref="A4.SS2.1.p1.5.m2.1.1.3.2.cmml">𝐑</mi><mtext id="A4.SS2.1.p1.5.m2.1.1.3.3" xref="A4.SS2.1.p1.5.m2.1.1.3.3a.cmml">adv</mtext></msub><mo id="A4.SS2.1.p1.5.m2.1.1.2" xref="A4.SS2.1.p1.5.m2.1.1.2.cmml">⁢</mo><mrow id="A4.SS2.1.p1.5.m2.1.1.1.1" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.cmml"><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.2" stretchy="false" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.cmml">(</mo><mrow id="A4.SS2.1.p1.5.m2.1.1.1.1.1" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.cmml"><mrow id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.cmml"><mi id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.3" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.3.cmml">θ</mi><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.2" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.2.cmml">⁢</mo><msub id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4.cmml"><mi id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4.2" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4.2.cmml">h</mi><mi id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4.3" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4.3.cmml">D</mi></msub><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.2a" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.cmml"><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.cmml"><mi id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.2" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.2.cmml">𝐃</mi><msub id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.cmml"><mtext id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.2" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.2a.cmml">adv</mtext><mn id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.3" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></msub></msub><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.1.4" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.4.cmml">+</mo><mrow id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.cmml"><mrow id="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.cmml"><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.2" stretchy="false" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.cmml"><mn id="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.2" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.2.cmml">1</mn><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.1" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.1.cmml">−</mo><mi id="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.3" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.3.cmml">θ</mi></mrow><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.3" stretchy="false" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.3" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.3.cmml">⁢</mo><msub id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4.cmml"><mi id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4.2" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4.2.cmml">h</mi><mi id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4.3" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4.3.cmml">D</mi></msub><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.3a" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.3.cmml">⁢</mo><mrow id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.cmml"><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.2" stretchy="false" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.cmml">(</mo><msub id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.cmml"><mi id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.2" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.2.cmml">𝐃</mi><msub id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.cmml"><mtext id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.2" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.2a.cmml">adv</mtext><mn id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.3" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.3.cmml">2</mn></msub></msub><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.3" stretchy="false" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="A4.SS2.1.p1.5.m2.1.1.1.1.3" stretchy="false" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.SS2.1.p1.5.m2.1b"><apply id="A4.SS2.1.p1.5.m2.1.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1"><times id="A4.SS2.1.p1.5.m2.1.1.2.cmml" xref="A4.SS2.1.p1.5.m2.1.1.2"></times><apply id="A4.SS2.1.p1.5.m2.1.1.3.cmml" xref="A4.SS2.1.p1.5.m2.1.1.3"><csymbol cd="ambiguous" id="A4.SS2.1.p1.5.m2.1.1.3.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.3">subscript</csymbol><ci id="A4.SS2.1.p1.5.m2.1.1.3.2.cmml" xref="A4.SS2.1.p1.5.m2.1.1.3.2">𝐑</ci><ci id="A4.SS2.1.p1.5.m2.1.1.3.3a.cmml" xref="A4.SS2.1.p1.5.m2.1.1.3.3"><mtext id="A4.SS2.1.p1.5.m2.1.1.3.3.cmml" mathsize="70%" xref="A4.SS2.1.p1.5.m2.1.1.3.3">adv</mtext></ci></apply><apply id="A4.SS2.1.p1.5.m2.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1"><plus id="A4.SS2.1.p1.5.m2.1.1.1.1.1.4.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.4"></plus><apply id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1"><times id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.2.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.2"></times><ci id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.3.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.3">𝜃</ci><apply id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4">subscript</csymbol><ci id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4.2.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4.2">ℎ</ci><ci id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4.3.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.4.3">𝐷</ci></apply><apply id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.2">𝐃</ci><apply id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.2a.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.2"><mtext id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.2">adv</mtext></ci><cn id="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply><apply id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3"><times id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.3.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.3"></times><apply id="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1"><minus id="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.1"></minus><cn id="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.2.cmml" type="integer" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.2">1</cn><ci id="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.3.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.2.1.1.1.3">𝜃</ci></apply><apply id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4"><csymbol cd="ambiguous" id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4">subscript</csymbol><ci id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4.2.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4.2">ℎ</ci><ci id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4.3.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.4.3">𝐷</ci></apply><apply id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1">subscript</csymbol><ci id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.2.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.2">𝐃</ci><apply id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3"><csymbol cd="ambiguous" id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.1.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3">subscript</csymbol><ci id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.2a.cmml" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.2"><mtext id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.2.cmml" mathsize="70%" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.2">adv</mtext></ci><cn id="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.3.cmml" type="integer" xref="A4.SS2.1.p1.5.m2.1.1.1.1.1.3.2.1.1.3.3">2</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.1.p1.5.m2.1c">\mathbf{R}_{\text{adv}}(\theta h_{D}(\mathbf{D}_{\text{adv}_{1}})+(1-\theta)h_%
{D}(\mathbf{D}_{\text{adv}_{2}}))</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.1.p1.5.m2.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_θ italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) + ( 1 - italic_θ ) italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) )</annotation></semantics></math> as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="A4.Ex3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{R}_{\text{adv}}(\theta h_{D}(\mathbf{D}_{\text{adv}_{1}})+(1-\theta)h_%
{D}(\mathbf{D}_{\text{adv}_{2}}))=\frac{1}{|\mathcal{K}|}\sum_{D_{i}\in%
\mathcal{K}}h_{Q}(D_{i})^{\top}\left(\theta h_{D}(\mathbf{D}_{\text{adv}_{1}})%
+(1-\theta)h_{D}(\mathbf{D}_{\text{adv}_{2}})\right)." class="ltx_Math" display="block" id="A4.Ex3.m1.2"><semantics id="A4.Ex3.m1.2a"><mrow id="A4.Ex3.m1.2.2.1" xref="A4.Ex3.m1.2.2.1.1.cmml"><mrow id="A4.Ex3.m1.2.2.1.1" xref="A4.Ex3.m1.2.2.1.1.cmml"><mrow id="A4.Ex3.m1.2.2.1.1.1" xref="A4.Ex3.m1.2.2.1.1.1.cmml"><msub id="A4.Ex3.m1.2.2.1.1.1.3" xref="A4.Ex3.m1.2.2.1.1.1.3.cmml"><mi id="A4.Ex3.m1.2.2.1.1.1.3.2" xref="A4.Ex3.m1.2.2.1.1.1.3.2.cmml">𝐑</mi><mtext id="A4.Ex3.m1.2.2.1.1.1.3.3" xref="A4.Ex3.m1.2.2.1.1.1.3.3a.cmml">adv</mtext></msub><mo id="A4.Ex3.m1.2.2.1.1.1.2" xref="A4.Ex3.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex3.m1.2.2.1.1.1.1.1" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.cmml"><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="A4.Ex3.m1.2.2.1.1.1.1.1.1" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.cmml"><mrow id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.3" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.3.cmml">θ</mi><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.2" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.2.cmml">⁢</mo><msub id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4.cmml"><mi id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4.2" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4.2.cmml">h</mi><mi id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4.3" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4.3.cmml">D</mi></msub><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.2a" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.2" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml">𝐃</mi><msub id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml"><mtext id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></msub></msub><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.1.4" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.4.cmml">+</mo><mrow id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.cmml"><mrow id="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.cmml"><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.2" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.cmml"><mn id="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.2" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.2.cmml">1</mn><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.1" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.1.cmml">−</mo><mi id="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.3" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.3.cmml">θ</mi></mrow><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.3" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.3" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.3.cmml">⁢</mo><msub id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4.cmml"><mi id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4.2" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4.2.cmml">h</mi><mi id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4.3" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4.3.cmml">D</mi></msub><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.3a" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.3.cmml">⁢</mo><mrow id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.cmml"><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.2" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.cmml">(</mo><msub id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.cmml"><mi id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.2" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.2.cmml">𝐃</mi><msub id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.cmml"><mtext id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.2" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.3" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.3.cmml">2</mn></msub></msub><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.3" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="A4.Ex3.m1.2.2.1.1.1.1.1.3" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex3.m1.2.2.1.1.4" xref="A4.Ex3.m1.2.2.1.1.4.cmml">=</mo><mrow id="A4.Ex3.m1.2.2.1.1.3" xref="A4.Ex3.m1.2.2.1.1.3.cmml"><mfrac id="A4.Ex3.m1.1.1" xref="A4.Ex3.m1.1.1.cmml"><mn id="A4.Ex3.m1.1.1.3" xref="A4.Ex3.m1.1.1.3.cmml">1</mn><mrow id="A4.Ex3.m1.1.1.1.3" xref="A4.Ex3.m1.1.1.1.2.cmml"><mo id="A4.Ex3.m1.1.1.1.3.1" stretchy="false" xref="A4.Ex3.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex3.m1.1.1.1.1" xref="A4.Ex3.m1.1.1.1.1.cmml">𝒦</mi><mo id="A4.Ex3.m1.1.1.1.3.2" stretchy="false" xref="A4.Ex3.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="A4.Ex3.m1.2.2.1.1.3.3" xref="A4.Ex3.m1.2.2.1.1.3.3.cmml">⁢</mo><mrow id="A4.Ex3.m1.2.2.1.1.3.2" xref="A4.Ex3.m1.2.2.1.1.3.2.cmml"><munder id="A4.Ex3.m1.2.2.1.1.3.2.3" xref="A4.Ex3.m1.2.2.1.1.3.2.3.cmml"><mo id="A4.Ex3.m1.2.2.1.1.3.2.3.2" movablelimits="false" xref="A4.Ex3.m1.2.2.1.1.3.2.3.2.cmml">∑</mo><mrow id="A4.Ex3.m1.2.2.1.1.3.2.3.3" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3.cmml"><msub id="A4.Ex3.m1.2.2.1.1.3.2.3.3.2" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3.2.cmml"><mi id="A4.Ex3.m1.2.2.1.1.3.2.3.3.2.2" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3.2.2.cmml">D</mi><mi id="A4.Ex3.m1.2.2.1.1.3.2.3.3.2.3" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3.2.3.cmml">i</mi></msub><mo id="A4.Ex3.m1.2.2.1.1.3.2.3.3.1" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex3.m1.2.2.1.1.3.2.3.3.3" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3.3.cmml">𝒦</mi></mrow></munder><mrow id="A4.Ex3.m1.2.2.1.1.3.2.2" xref="A4.Ex3.m1.2.2.1.1.3.2.2.cmml"><msub id="A4.Ex3.m1.2.2.1.1.3.2.2.4" xref="A4.Ex3.m1.2.2.1.1.3.2.2.4.cmml"><mi id="A4.Ex3.m1.2.2.1.1.3.2.2.4.2" xref="A4.Ex3.m1.2.2.1.1.3.2.2.4.2.cmml">h</mi><mi id="A4.Ex3.m1.2.2.1.1.3.2.2.4.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.4.3.cmml">Q</mi></msub><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.3.cmml">⁢</mo><msup id="A4.Ex3.m1.2.2.1.1.2.1.1.1" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.cmml"><mrow id="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.cmml"><mo id="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.2" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.cmml"><mi id="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.2" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.2.cmml">D</mi><mi id="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.3" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.3" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex3.m1.2.2.1.1.2.1.1.1.3" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.3.cmml">⊤</mo></msup><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.3a" xref="A4.Ex3.m1.2.2.1.1.3.2.2.3.cmml">⁢</mo><mrow id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.cmml"><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.2" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.cmml">(</mo><mrow id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.cmml"><mrow id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.cmml"><mi id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.3.cmml">θ</mi><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.2" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.2.cmml">⁢</mo><msub id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4.cmml"><mi id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4.2" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4.2.cmml">h</mi><mi id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4.3.cmml">D</mi></msub><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.2a" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.cmml"><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.2" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.cmml"><mi id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.2" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.2.cmml">𝐃</mi><msub id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.cmml"><mtext id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.2" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.3.cmml">1</mn></msub></msub><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.3" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.4" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.4.cmml">+</mo><mrow id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.cmml"><mrow id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.cmml"><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.2" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.cmml">(</mo><mrow id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.cmml"><mn id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.2" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.2.cmml">1</mn><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.1" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.1.cmml">−</mo><mi id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.3.cmml">θ</mi></mrow><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.3" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.3.cmml">⁢</mo><msub id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4.cmml"><mi id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4.2" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4.2.cmml">h</mi><mi id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4.3.cmml">D</mi></msub><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.3a" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.3.cmml">⁢</mo><mrow id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.cmml"><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.2" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.cmml">(</mo><msub id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.cmml"><mi id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.2" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.2.cmml">𝐃</mi><msub id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.cmml"><mtext id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.2" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.3.cmml">2</mn></msub></msub><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.3" stretchy="false" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.3" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="A4.Ex3.m1.2.2.1.2" lspace="0em" xref="A4.Ex3.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.Ex3.m1.2b"><apply id="A4.Ex3.m1.2.2.1.1.cmml" xref="A4.Ex3.m1.2.2.1"><eq id="A4.Ex3.m1.2.2.1.1.4.cmml" xref="A4.Ex3.m1.2.2.1.1.4"></eq><apply id="A4.Ex3.m1.2.2.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1"><times id="A4.Ex3.m1.2.2.1.1.1.2.cmml" xref="A4.Ex3.m1.2.2.1.1.1.2"></times><apply id="A4.Ex3.m1.2.2.1.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.1.3.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.3">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.1.3.2.cmml" xref="A4.Ex3.m1.2.2.1.1.1.3.2">𝐑</ci><ci id="A4.Ex3.m1.2.2.1.1.1.3.3a.cmml" xref="A4.Ex3.m1.2.2.1.1.1.3.3"><mtext id="A4.Ex3.m1.2.2.1.1.1.3.3.cmml" mathsize="70%" xref="A4.Ex3.m1.2.2.1.1.1.3.3">adv</mtext></ci></apply><apply id="A4.Ex3.m1.2.2.1.1.1.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1"><plus id="A4.Ex3.m1.2.2.1.1.1.1.1.1.4.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.4"></plus><apply id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1"><times id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.2"></times><ci id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.3">𝜃</ci><apply id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4.2.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4.2">ℎ</ci><ci id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4.3.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.4.3">𝐷</ci></apply><apply id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.2">𝐃</ci><apply id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2a.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2"><mtext id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2">adv</mtext></ci><cn id="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply><apply id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3"><times id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.3"></times><apply id="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1"><minus id="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.1"></minus><cn id="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.2.cmml" type="integer" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.2">1</cn><ci id="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.2.1.1.1.3">𝜃</ci></apply><apply id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4.2.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4.2">ℎ</ci><ci id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4.3.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.4.3">𝐷</ci></apply><apply id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.2.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.2">𝐃</ci><apply id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.1.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.2a.cmml" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.2"><mtext id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.2">adv</mtext></ci><cn id="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.3.cmml" type="integer" xref="A4.Ex3.m1.2.2.1.1.1.1.1.1.3.2.1.1.3.3">2</cn></apply></apply></apply></apply></apply><apply id="A4.Ex3.m1.2.2.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3"><times id="A4.Ex3.m1.2.2.1.1.3.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.3"></times><apply id="A4.Ex3.m1.1.1.cmml" xref="A4.Ex3.m1.1.1"><divide id="A4.Ex3.m1.1.1.2.cmml" xref="A4.Ex3.m1.1.1"></divide><cn id="A4.Ex3.m1.1.1.3.cmml" type="integer" xref="A4.Ex3.m1.1.1.3">1</cn><apply id="A4.Ex3.m1.1.1.1.2.cmml" xref="A4.Ex3.m1.1.1.1.3"><abs id="A4.Ex3.m1.1.1.1.2.1.cmml" xref="A4.Ex3.m1.1.1.1.3.1"></abs><ci id="A4.Ex3.m1.1.1.1.1.cmml" xref="A4.Ex3.m1.1.1.1.1">𝒦</ci></apply></apply><apply id="A4.Ex3.m1.2.2.1.1.3.2.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2"><apply id="A4.Ex3.m1.2.2.1.1.3.2.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.3"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.3.2.3.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.3">subscript</csymbol><sum id="A4.Ex3.m1.2.2.1.1.3.2.3.2.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.3.2"></sum><apply id="A4.Ex3.m1.2.2.1.1.3.2.3.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3"><in id="A4.Ex3.m1.2.2.1.1.3.2.3.3.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3.1"></in><apply id="A4.Ex3.m1.2.2.1.1.3.2.3.3.2.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3.2"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.3.2.3.3.2.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3.2">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.3.2.3.3.2.2.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3.2.2">𝐷</ci><ci id="A4.Ex3.m1.2.2.1.1.3.2.3.3.2.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3.2.3">𝑖</ci></apply><ci id="A4.Ex3.m1.2.2.1.1.3.2.3.3.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.3.3.3">𝒦</ci></apply></apply><apply id="A4.Ex3.m1.2.2.1.1.3.2.2.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2"><times id="A4.Ex3.m1.2.2.1.1.3.2.2.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.3"></times><apply id="A4.Ex3.m1.2.2.1.1.3.2.2.4.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.4"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.3.2.2.4.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.4">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.3.2.2.4.2.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.4.2">ℎ</ci><ci id="A4.Ex3.m1.2.2.1.1.3.2.2.4.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.4.3">𝑄</ci></apply><apply id="A4.Ex3.m1.2.2.1.1.2.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.2.1.1.1.2.cmml" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1">superscript</csymbol><apply id="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.2.cmml" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.2">𝐷</ci><ci id="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.1.1.1.3">𝑖</ci></apply><csymbol cd="latexml" id="A4.Ex3.m1.2.2.1.1.2.1.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.2.1.1.1.3">top</csymbol></apply><apply id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1"><plus id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.4.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.4"></plus><apply id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1"><times id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.2.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.2"></times><ci id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.3">𝜃</ci><apply id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4.2.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4.2">ℎ</ci><ci id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.4.3">𝐷</ci></apply><apply id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.2.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.2">𝐃</ci><apply id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.2a.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.2"><mtext id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.2">adv</mtext></ci><cn id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.3.cmml" type="integer" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply><apply id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3"><times id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.3"></times><apply id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1"><minus id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.1"></minus><cn id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.2.cmml" type="integer" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.2">1</cn><ci id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.2.1.1.1.3">𝜃</ci></apply><apply id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4.2.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4.2">ℎ</ci><ci id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.4.3">𝐷</ci></apply><apply id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.2.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.2">𝐃</ci><apply id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3"><csymbol cd="ambiguous" id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.1.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3">subscript</csymbol><ci id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.2a.cmml" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.2"><mtext id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.2">adv</mtext></ci><cn id="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.3.cmml" type="integer" xref="A4.Ex3.m1.2.2.1.1.3.2.2.2.1.1.3.2.1.1.3.3">2</cn></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Ex3.m1.2c">\mathbf{R}_{\text{adv}}(\theta h_{D}(\mathbf{D}_{\text{adv}_{1}})+(1-\theta)h_%
{D}(\mathbf{D}_{\text{adv}_{2}}))=\frac{1}{|\mathcal{K}|}\sum_{D_{i}\in%
\mathcal{K}}h_{Q}(D_{i})^{\top}\left(\theta h_{D}(\mathbf{D}_{\text{adv}_{1}})%
+(1-\theta)h_{D}(\mathbf{D}_{\text{adv}_{2}})\right).</annotation><annotation encoding="application/x-llamapun" id="A4.Ex3.m1.2d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_θ italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) + ( 1 - italic_θ ) italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ) = divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT ( italic_θ italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) + ( 1 - italic_θ ) italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A4.SS2.1.p1.9">Then we distribute the dot product:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="A4.Ex4">
<tbody id="A4.Ex4X"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\frac{1}{|\mathcal{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}" class="ltx_Math" display="inline" id="A4.Ex4X.2.1.1.m1.2"><semantics id="A4.Ex4X.2.1.1.m1.2a"><mrow id="A4.Ex4X.2.1.1.m1.2.2" xref="A4.Ex4X.2.1.1.m1.2.2.cmml"><mstyle displaystyle="true" id="A4.Ex4X.2.1.1.m1.1.1" xref="A4.Ex4X.2.1.1.m1.1.1.cmml"><mfrac id="A4.Ex4X.2.1.1.m1.1.1a" xref="A4.Ex4X.2.1.1.m1.1.1.cmml"><mn id="A4.Ex4X.2.1.1.m1.1.1.3" xref="A4.Ex4X.2.1.1.m1.1.1.3.cmml">1</mn><mrow id="A4.Ex4X.2.1.1.m1.1.1.1.3" xref="A4.Ex4X.2.1.1.m1.1.1.1.2.cmml"><mo id="A4.Ex4X.2.1.1.m1.1.1.1.3.1" stretchy="false" xref="A4.Ex4X.2.1.1.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex4X.2.1.1.m1.1.1.1.1" xref="A4.Ex4X.2.1.1.m1.1.1.1.1.cmml">𝒦</mi><mo id="A4.Ex4X.2.1.1.m1.1.1.1.3.2" stretchy="false" xref="A4.Ex4X.2.1.1.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo id="A4.Ex4X.2.1.1.m1.2.2.2" xref="A4.Ex4X.2.1.1.m1.2.2.2.cmml">⁢</mo><mrow id="A4.Ex4X.2.1.1.m1.2.2.1" xref="A4.Ex4X.2.1.1.m1.2.2.1.cmml"><mstyle displaystyle="true" id="A4.Ex4X.2.1.1.m1.2.2.1.2" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.cmml"><munder id="A4.Ex4X.2.1.1.m1.2.2.1.2a" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.cmml"><mo id="A4.Ex4X.2.1.1.m1.2.2.1.2.2" movablelimits="false" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.2.cmml">∑</mo><mrow id="A4.Ex4X.2.1.1.m1.2.2.1.2.3" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3.cmml"><msub id="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2.cmml"><mi id="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2.2" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2.2.cmml">D</mi><mi id="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2.3" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2.3.cmml">i</mi></msub><mo id="A4.Ex4X.2.1.1.m1.2.2.1.2.3.1" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex4X.2.1.1.m1.2.2.1.2.3.3" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3.3.cmml">𝒦</mi></mrow></munder></mstyle><mrow id="A4.Ex4X.2.1.1.m1.2.2.1.1" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.cmml"><msub id="A4.Ex4X.2.1.1.m1.2.2.1.1.3" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.3.cmml"><mi id="A4.Ex4X.2.1.1.m1.2.2.1.1.3.2" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.3.2.cmml">h</mi><mi id="A4.Ex4X.2.1.1.m1.2.2.1.1.3.3" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.3.3.cmml">Q</mi></msub><mo id="A4.Ex4X.2.1.1.m1.2.2.1.1.2" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.2.cmml">⁢</mo><msup id="A4.Ex4X.2.1.1.m1.2.2.1.1.1" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.cmml"><mrow id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.cmml"><mo id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.cmml"><mi id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.2" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.2.cmml">D</mi><mi id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.3" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.3" stretchy="false" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.3" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.3.cmml">⊤</mo></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.Ex4X.2.1.1.m1.2b"><apply id="A4.Ex4X.2.1.1.m1.2.2.cmml" xref="A4.Ex4X.2.1.1.m1.2.2"><times id="A4.Ex4X.2.1.1.m1.2.2.2.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.2"></times><apply id="A4.Ex4X.2.1.1.m1.1.1.cmml" xref="A4.Ex4X.2.1.1.m1.1.1"><divide id="A4.Ex4X.2.1.1.m1.1.1.2.cmml" xref="A4.Ex4X.2.1.1.m1.1.1"></divide><cn id="A4.Ex4X.2.1.1.m1.1.1.3.cmml" type="integer" xref="A4.Ex4X.2.1.1.m1.1.1.3">1</cn><apply id="A4.Ex4X.2.1.1.m1.1.1.1.2.cmml" xref="A4.Ex4X.2.1.1.m1.1.1.1.3"><abs id="A4.Ex4X.2.1.1.m1.1.1.1.2.1.cmml" xref="A4.Ex4X.2.1.1.m1.1.1.1.3.1"></abs><ci id="A4.Ex4X.2.1.1.m1.1.1.1.1.cmml" xref="A4.Ex4X.2.1.1.m1.1.1.1.1">𝒦</ci></apply></apply><apply id="A4.Ex4X.2.1.1.m1.2.2.1.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1"><apply id="A4.Ex4X.2.1.1.m1.2.2.1.2.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.2"><csymbol cd="ambiguous" id="A4.Ex4X.2.1.1.m1.2.2.1.2.1.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.2">subscript</csymbol><sum id="A4.Ex4X.2.1.1.m1.2.2.1.2.2.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.2"></sum><apply id="A4.Ex4X.2.1.1.m1.2.2.1.2.3.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3"><in id="A4.Ex4X.2.1.1.m1.2.2.1.2.3.1.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3.1"></in><apply id="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2"><csymbol cd="ambiguous" id="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2.1.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2">subscript</csymbol><ci id="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2.2.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2.2">𝐷</ci><ci id="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2.3.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3.2.3">𝑖</ci></apply><ci id="A4.Ex4X.2.1.1.m1.2.2.1.2.3.3.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.2.3.3">𝒦</ci></apply></apply><apply id="A4.Ex4X.2.1.1.m1.2.2.1.1.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1"><times id="A4.Ex4X.2.1.1.m1.2.2.1.1.2.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.2"></times><apply id="A4.Ex4X.2.1.1.m1.2.2.1.1.3.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="A4.Ex4X.2.1.1.m1.2.2.1.1.3.1.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.3">subscript</csymbol><ci id="A4.Ex4X.2.1.1.m1.2.2.1.1.3.2.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.3.2">ℎ</ci><ci id="A4.Ex4X.2.1.1.m1.2.2.1.1.3.3.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.3.3">𝑄</ci></apply><apply id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.2.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1">superscript</csymbol><apply id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.2.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.2">𝐷</ci><ci id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.3.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.1.1.1.3">𝑖</ci></apply><csymbol cd="latexml" id="A4.Ex4X.2.1.1.m1.2.2.1.1.1.3.cmml" xref="A4.Ex4X.2.1.1.m1.2.2.1.1.1.3">top</csymbol></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Ex4X.2.1.1.m1.2c">\displaystyle\frac{1}{|\mathcal{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}</annotation><annotation encoding="application/x-llamapun" id="A4.Ex4X.2.1.1.m1.2d">divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle(\theta h_{D}(\mathbf{D}_{\text{adv}_{1}})+(1-\theta)h_{D}(%
\mathbf{D}_{\text{adv}_{2}}))" class="ltx_Math" display="inline" id="A4.Ex4X.3.2.2.m1.1"><semantics id="A4.Ex4X.3.2.2.m1.1a"><mrow id="A4.Ex4X.3.2.2.m1.1.1.1" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.cmml"><mo id="A4.Ex4X.3.2.2.m1.1.1.1.2" stretchy="false" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.cmml">(</mo><mrow id="A4.Ex4X.3.2.2.m1.1.1.1.1" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.cmml"><mrow id="A4.Ex4X.3.2.2.m1.1.1.1.1.1" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.cmml"><mi id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.3" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.3.cmml">θ</mi><mo id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.2" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.2.cmml">⁢</mo><msub id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4.cmml"><mi id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4.2" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4.2.cmml">h</mi><mi id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4.3" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4.3.cmml">D</mi></msub><mo id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.2a" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml"><mi id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.2" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.2.cmml">𝐃</mi><msub id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.cmml"><mtext id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.3" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></msub></msub><mo id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex4X.3.2.2.m1.1.1.1.1.4" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.4.cmml">+</mo><mrow id="A4.Ex4X.3.2.2.m1.1.1.1.1.3" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.cmml"><mrow id="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.cmml"><mo id="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.2" stretchy="false" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.cmml"><mn id="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.2" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.2.cmml">1</mn><mo id="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.1" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.1.cmml">−</mo><mi id="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.3" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.3.cmml">θ</mi></mrow><mo id="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.3" stretchy="false" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.3" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.3.cmml">⁢</mo><msub id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4.cmml"><mi id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4.2" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4.2.cmml">h</mi><mi id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4.3" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4.3.cmml">D</mi></msub><mo id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.3a" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.3.cmml">⁢</mo><mrow id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.cmml"><mo id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.2" stretchy="false" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.cmml">(</mo><msub id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.cmml"><mi id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.2" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.2.cmml">𝐃</mi><msub id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.cmml"><mtext id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.2" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.3" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.3.cmml">2</mn></msub></msub><mo id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.3" stretchy="false" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="A4.Ex4X.3.2.2.m1.1.1.1.3" stretchy="false" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.Ex4X.3.2.2.m1.1b"><apply id="A4.Ex4X.3.2.2.m1.1.1.1.1.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1"><plus id="A4.Ex4X.3.2.2.m1.1.1.1.1.4.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.4"></plus><apply id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1"><times id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.2.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.2"></times><ci id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.3.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.3">𝜃</ci><apply id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4.1.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4">subscript</csymbol><ci id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4.2.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4.2">ℎ</ci><ci id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4.3.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.4.3">𝐷</ci></apply><apply id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.2">𝐃</ci><apply id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2a.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2"><mtext id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2">adv</mtext></ci><cn id="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply><apply id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3"><times id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.3.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.3"></times><apply id="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1"><minus id="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.1.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.1"></minus><cn id="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.2.cmml" type="integer" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.2">1</cn><ci id="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.3.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.2.1.1.1.3">𝜃</ci></apply><apply id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4"><csymbol cd="ambiguous" id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4.1.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4">subscript</csymbol><ci id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4.2.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4.2">ℎ</ci><ci id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4.3.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.4.3">𝐷</ci></apply><apply id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1"><csymbol cd="ambiguous" id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.1.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1">subscript</csymbol><ci id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.2.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.2">𝐃</ci><apply id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3"><csymbol cd="ambiguous" id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.1.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3">subscript</csymbol><ci id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.2a.cmml" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.2"><mtext id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.2">adv</mtext></ci><cn id="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.3.cmml" type="integer" xref="A4.Ex4X.3.2.2.m1.1.1.1.1.3.2.1.1.3.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Ex4X.3.2.2.m1.1c">\displaystyle(\theta h_{D}(\mathbf{D}_{\text{adv}_{1}})+(1-\theta)h_{D}(%
\mathbf{D}_{\text{adv}_{2}}))</annotation><annotation encoding="application/x-llamapun" id="A4.Ex4X.3.2.2.m1.1d">( italic_θ italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) + ( 1 - italic_θ ) italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A4.Ex4Xa"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\theta(\frac{1}{|\mathcal{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_%
{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}_{1}}))+(1-\theta)(\frac{1}{|\mathcal{K%
}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}_{%
2}}))." class="ltx_Math" display="inline" id="A4.Ex4Xa.2.1.1.m1.3"><semantics id="A4.Ex4Xa.2.1.1.m1.3a"><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.cmml"><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.cmml"><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.5" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.5.cmml"></mi><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.4" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.4.cmml">=</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.cmml"><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.cmml"><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.3.cmml">θ</mi><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="A4.Ex4Xa.2.1.1.m1.1.1" xref="A4.Ex4Xa.2.1.1.m1.1.1.cmml"><mfrac id="A4.Ex4Xa.2.1.1.m1.1.1a" xref="A4.Ex4Xa.2.1.1.m1.1.1.cmml"><mn id="A4.Ex4Xa.2.1.1.m1.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.1.1.3.cmml">1</mn><mrow id="A4.Ex4Xa.2.1.1.m1.1.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.1.1.1.2.cmml"><mo id="A4.Ex4Xa.2.1.1.m1.1.1.1.3.1" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex4Xa.2.1.1.m1.1.1.1.1" xref="A4.Ex4Xa.2.1.1.m1.1.1.1.1.cmml">𝒦</mi><mo id="A4.Ex4Xa.2.1.1.m1.1.1.1.3.2" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.cmml">⁢</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.cmml"><mstyle displaystyle="true" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml"><munder id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3a" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml"><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.2" movablelimits="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.2.cmml">∑</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.cmml"><msub id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2.cmml"><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2.2.cmml">D</mi><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2.3.cmml">i</mi></msub><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.3.cmml">𝒦</mi></mrow></munder></mstyle><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.cmml"><msub id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4.cmml"><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4.2.cmml">h</mi><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4.3.cmml">Q</mi></msub><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.3.cmml">⁢</mo><msup id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">D</mi><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml">⊤</mo></msup><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.3a" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.3.cmml">⁢</mo><msub id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5.cmml"><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5.2.cmml">h</mi><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5.3.cmml">D</mi></msub><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.3b" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.3.cmml">⁢</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.cmml"><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.2" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.cmml">(</mo><msub id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.cmml"><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.2.cmml">𝐃</mi><msub id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.cmml"><mtext id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.3.cmml">1</mn></msub></msub><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.3" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.4" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.4.cmml">+</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.cmml"><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.cmml"><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.2" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.cmml">(</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.cmml"><mn id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.2.cmml">1</mn><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.1.cmml">−</mo><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.3.cmml">θ</mi></mrow><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.3" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.3.cmml">⁢</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.cmml"><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.2" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.cmml">(</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.cmml"><mstyle displaystyle="true" id="A4.Ex4Xa.2.1.1.m1.2.2" xref="A4.Ex4Xa.2.1.1.m1.2.2.cmml"><mfrac id="A4.Ex4Xa.2.1.1.m1.2.2a" xref="A4.Ex4Xa.2.1.1.m1.2.2.cmml"><mn id="A4.Ex4Xa.2.1.1.m1.2.2.3" xref="A4.Ex4Xa.2.1.1.m1.2.2.3.cmml">1</mn><mrow id="A4.Ex4Xa.2.1.1.m1.2.2.1.3" xref="A4.Ex4Xa.2.1.1.m1.2.2.1.2.cmml"><mo id="A4.Ex4Xa.2.1.1.m1.2.2.1.3.1" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.2.2.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex4Xa.2.1.1.m1.2.2.1.1" xref="A4.Ex4Xa.2.1.1.m1.2.2.1.1.cmml">𝒦</mi><mo id="A4.Ex4Xa.2.1.1.m1.2.2.1.3.2" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.2.2.1.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.3.cmml">⁢</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.cmml"><mstyle displaystyle="true" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.cmml"><munder id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3a" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.cmml"><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.2" movablelimits="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.2.cmml">∑</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.cmml"><msub id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2.cmml"><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2.2.cmml">D</mi><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2.3.cmml">i</mi></msub><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.3.cmml">𝒦</mi></mrow></munder></mstyle><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.cmml"><msub id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4.cmml"><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4.2.cmml">h</mi><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4.3.cmml">Q</mi></msub><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.3.cmml">⁢</mo><msup id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.cmml"><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.cmml"><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.2.cmml">D</mi><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.3.cmml">⊤</mo></msup><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.3a" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.3.cmml">⁢</mo><msub id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5.cmml"><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5.2.cmml">h</mi><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5.3.cmml">D</mi></msub><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.3b" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.3.cmml">⁢</mo><mrow id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.cmml"><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.2" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.cmml">(</mo><msub id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.cmml"><mi id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.2.cmml">𝐃</mi><msub id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.cmml"><mtext id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.2" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.3" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.3.cmml">2</mn></msub></msub><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.3" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.3" stretchy="false" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A4.Ex4Xa.2.1.1.m1.3.3.1.2" lspace="0em" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.Ex4Xa.2.1.1.m1.3b"><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1"><eq id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.4.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.4"></eq><csymbol cd="latexml" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.5.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.5">absent</csymbol><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3"><plus id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.4.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.4"></plus><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1"><times id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.2"></times><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.3">𝜃</ci><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1"><times id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.3"></times><apply id="A4.Ex4Xa.2.1.1.m1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.1.1"><divide id="A4.Ex4Xa.2.1.1.m1.1.1.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.1.1"></divide><cn id="A4.Ex4Xa.2.1.1.m1.1.1.3.cmml" type="integer" xref="A4.Ex4Xa.2.1.1.m1.1.1.3">1</cn><apply id="A4.Ex4Xa.2.1.1.m1.1.1.1.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.1.1.1.3"><abs id="A4.Ex4Xa.2.1.1.m1.1.1.1.2.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.1.1.1.3.1"></abs><ci id="A4.Ex4Xa.2.1.1.m1.1.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.1.1.1.1">𝒦</ci></apply></apply><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2"><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3">subscript</csymbol><sum id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.2"></sum><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3"><in id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.1"></in><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2">subscript</csymbol><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2.2">𝐷</ci><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.2.3">𝑖</ci></apply><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.3.3.3">𝒦</ci></apply></apply><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2"><times id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.3"></times><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4">subscript</csymbol><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4.2">ℎ</ci><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.4.3">𝑄</ci></apply><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝐷</ci><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><csymbol cd="latexml" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3">top</csymbol></apply><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5">subscript</csymbol><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5.2">ℎ</ci><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.5.3">𝐷</ci></apply><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1">subscript</csymbol><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.2">𝐃</ci><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3">subscript</csymbol><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.2a.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.2"><mtext id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.2">adv</mtext></ci><cn id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.3.cmml" type="integer" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.1.3.3">1</cn></apply></apply></apply></apply></apply></apply><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3"><times id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.3"></times><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1"><minus id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.1"></minus><cn id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.2.cmml" type="integer" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.2">1</cn><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.2.2.1.1.1.3">𝜃</ci></apply><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1"><times id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.3"></times><apply id="A4.Ex4Xa.2.1.1.m1.2.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.2.2"><divide id="A4.Ex4Xa.2.1.1.m1.2.2.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.2.2"></divide><cn id="A4.Ex4Xa.2.1.1.m1.2.2.3.cmml" type="integer" xref="A4.Ex4Xa.2.1.1.m1.2.2.3">1</cn><apply id="A4.Ex4Xa.2.1.1.m1.2.2.1.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.2.2.1.3"><abs id="A4.Ex4Xa.2.1.1.m1.2.2.1.2.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.2.2.1.3.1"></abs><ci id="A4.Ex4Xa.2.1.1.m1.2.2.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.2.2.1.1">𝒦</ci></apply></apply><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2"><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3">subscript</csymbol><sum id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.2"></sum><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3"><in id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.1"></in><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2">subscript</csymbol><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2.2">𝐷</ci><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.2.3">𝑖</ci></apply><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.3.3.3">𝒦</ci></apply></apply><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2"><times id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.3"></times><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4">subscript</csymbol><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4.2">ℎ</ci><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.4.3">𝑄</ci></apply><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1">superscript</csymbol><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.2">𝐷</ci><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><csymbol cd="latexml" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.1.1.1.3">top</csymbol></apply><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5">subscript</csymbol><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5.2">ℎ</ci><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.5.3">𝐷</ci></apply><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1">subscript</csymbol><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.2.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.2">𝐃</ci><apply id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3"><csymbol cd="ambiguous" id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.1.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3">subscript</csymbol><ci id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.2a.cmml" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.2"><mtext id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.2">adv</mtext></ci><cn id="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.3.cmml" type="integer" xref="A4.Ex4Xa.2.1.1.m1.3.3.1.1.3.3.2.1.1.2.2.2.1.1.3.3">2</cn></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Ex4Xa.2.1.1.m1.3c">\displaystyle=\theta(\frac{1}{|\mathcal{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_%
{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}_{1}}))+(1-\theta)(\frac{1}{|\mathcal{K%
}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}_{%
2}})).</annotation><annotation encoding="application/x-llamapun" id="A4.Ex4Xa.2.1.1.m1.3d">= italic_θ ( divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ) + ( 1 - italic_θ ) ( divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A4.SS2.1.p1.10">Notice that</p>
<table class="ltx_equation ltx_eqn_table" id="A4.Ex5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{D}_{\text{adv}_{1}}))=\frac{1}{|\mathcal%
{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}%
_{1}})" class="ltx_Math" display="block" id="A4.Ex5.m1.4"><semantics id="A4.Ex5.m1.4a"><mrow id="A4.Ex5.m1.4.4" xref="A4.Ex5.m1.4.4.cmml"><mrow id="A4.Ex5.m1.2.2.1" xref="A4.Ex5.m1.2.2.1.cmml"><msub id="A4.Ex5.m1.2.2.1.3" xref="A4.Ex5.m1.2.2.1.3.cmml"><mi id="A4.Ex5.m1.2.2.1.3.2" xref="A4.Ex5.m1.2.2.1.3.2.cmml">𝐑</mi><mtext id="A4.Ex5.m1.2.2.1.3.3" xref="A4.Ex5.m1.2.2.1.3.3a.cmml">adv</mtext></msub><mo id="A4.Ex5.m1.2.2.1.2" xref="A4.Ex5.m1.2.2.1.2.cmml">⁢</mo><mrow id="A4.Ex5.m1.2.2.1.1.1" xref="A4.Ex5.m1.2.2.1.1.1.1.cmml"><mo id="A4.Ex5.m1.2.2.1.1.1.2" stretchy="false" xref="A4.Ex5.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="A4.Ex5.m1.2.2.1.1.1.1" xref="A4.Ex5.m1.2.2.1.1.1.1.cmml"><msub id="A4.Ex5.m1.2.2.1.1.1.1.3" xref="A4.Ex5.m1.2.2.1.1.1.1.3.cmml"><mi id="A4.Ex5.m1.2.2.1.1.1.1.3.2" xref="A4.Ex5.m1.2.2.1.1.1.1.3.2.cmml">h</mi><mi id="A4.Ex5.m1.2.2.1.1.1.1.3.3" xref="A4.Ex5.m1.2.2.1.1.1.1.3.3.cmml">D</mi></msub><mo id="A4.Ex5.m1.2.2.1.1.1.1.2" xref="A4.Ex5.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex5.m1.2.2.1.1.1.1.1.1" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex5.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.2" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.2.cmml">𝐃</mi><msub id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.cmml"><mtext id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.2" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.3" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.3.cmml">1</mn></msub></msub><mo id="A4.Ex5.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex5.m1.2.2.1.1.1.3" stretchy="false" xref="A4.Ex5.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex5.m1.4.4.4" xref="A4.Ex5.m1.4.4.4.cmml">=</mo><mrow id="A4.Ex5.m1.4.4.3" xref="A4.Ex5.m1.4.4.3.cmml"><mfrac id="A4.Ex5.m1.1.1" xref="A4.Ex5.m1.1.1.cmml"><mn id="A4.Ex5.m1.1.1.3" xref="A4.Ex5.m1.1.1.3.cmml">1</mn><mrow id="A4.Ex5.m1.1.1.1.3" xref="A4.Ex5.m1.1.1.1.2.cmml"><mo id="A4.Ex5.m1.1.1.1.3.1" stretchy="false" xref="A4.Ex5.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex5.m1.1.1.1.1" xref="A4.Ex5.m1.1.1.1.1.cmml">𝒦</mi><mo id="A4.Ex5.m1.1.1.1.3.2" stretchy="false" xref="A4.Ex5.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="A4.Ex5.m1.4.4.3.3" xref="A4.Ex5.m1.4.4.3.3.cmml">⁢</mo><mrow id="A4.Ex5.m1.4.4.3.2" xref="A4.Ex5.m1.4.4.3.2.cmml"><munder id="A4.Ex5.m1.4.4.3.2.3" xref="A4.Ex5.m1.4.4.3.2.3.cmml"><mo id="A4.Ex5.m1.4.4.3.2.3.2" movablelimits="false" xref="A4.Ex5.m1.4.4.3.2.3.2.cmml">∑</mo><mrow id="A4.Ex5.m1.4.4.3.2.3.3" xref="A4.Ex5.m1.4.4.3.2.3.3.cmml"><msub id="A4.Ex5.m1.4.4.3.2.3.3.2" xref="A4.Ex5.m1.4.4.3.2.3.3.2.cmml"><mi id="A4.Ex5.m1.4.4.3.2.3.3.2.2" xref="A4.Ex5.m1.4.4.3.2.3.3.2.2.cmml">D</mi><mi id="A4.Ex5.m1.4.4.3.2.3.3.2.3" xref="A4.Ex5.m1.4.4.3.2.3.3.2.3.cmml">i</mi></msub><mo id="A4.Ex5.m1.4.4.3.2.3.3.1" xref="A4.Ex5.m1.4.4.3.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex5.m1.4.4.3.2.3.3.3" xref="A4.Ex5.m1.4.4.3.2.3.3.3.cmml">𝒦</mi></mrow></munder><mrow id="A4.Ex5.m1.4.4.3.2.2" xref="A4.Ex5.m1.4.4.3.2.2.cmml"><msub id="A4.Ex5.m1.4.4.3.2.2.4" xref="A4.Ex5.m1.4.4.3.2.2.4.cmml"><mi id="A4.Ex5.m1.4.4.3.2.2.4.2" xref="A4.Ex5.m1.4.4.3.2.2.4.2.cmml">h</mi><mi id="A4.Ex5.m1.4.4.3.2.2.4.3" xref="A4.Ex5.m1.4.4.3.2.2.4.3.cmml">Q</mi></msub><mo id="A4.Ex5.m1.4.4.3.2.2.3" xref="A4.Ex5.m1.4.4.3.2.2.3.cmml">⁢</mo><msup id="A4.Ex5.m1.3.3.2.1.1.1" xref="A4.Ex5.m1.3.3.2.1.1.1.cmml"><mrow id="A4.Ex5.m1.3.3.2.1.1.1.1.1" xref="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.cmml"><mo id="A4.Ex5.m1.3.3.2.1.1.1.1.1.2" stretchy="false" xref="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex5.m1.3.3.2.1.1.1.1.1.1" xref="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.cmml"><mi id="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.2" xref="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.2.cmml">D</mi><mi id="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.3" xref="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="A4.Ex5.m1.3.3.2.1.1.1.1.1.3" stretchy="false" xref="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex5.m1.3.3.2.1.1.1.3" xref="A4.Ex5.m1.3.3.2.1.1.1.3.cmml">⊤</mo></msup><mo id="A4.Ex5.m1.4.4.3.2.2.3a" xref="A4.Ex5.m1.4.4.3.2.2.3.cmml">⁢</mo><msub id="A4.Ex5.m1.4.4.3.2.2.5" xref="A4.Ex5.m1.4.4.3.2.2.5.cmml"><mi id="A4.Ex5.m1.4.4.3.2.2.5.2" xref="A4.Ex5.m1.4.4.3.2.2.5.2.cmml">h</mi><mi id="A4.Ex5.m1.4.4.3.2.2.5.3" xref="A4.Ex5.m1.4.4.3.2.2.5.3.cmml">D</mi></msub><mo id="A4.Ex5.m1.4.4.3.2.2.3b" xref="A4.Ex5.m1.4.4.3.2.2.3.cmml">⁢</mo><mrow id="A4.Ex5.m1.4.4.3.2.2.2.1" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.cmml"><mo id="A4.Ex5.m1.4.4.3.2.2.2.1.2" stretchy="false" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.cmml">(</mo><msub id="A4.Ex5.m1.4.4.3.2.2.2.1.1" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.cmml"><mi id="A4.Ex5.m1.4.4.3.2.2.2.1.1.2" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.2.cmml">𝐃</mi><msub id="A4.Ex5.m1.4.4.3.2.2.2.1.1.3" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.cmml"><mtext id="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.2" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.3" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.3.cmml">1</mn></msub></msub><mo id="A4.Ex5.m1.4.4.3.2.2.2.1.3" stretchy="false" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.Ex5.m1.4b"><apply id="A4.Ex5.m1.4.4.cmml" xref="A4.Ex5.m1.4.4"><eq id="A4.Ex5.m1.4.4.4.cmml" xref="A4.Ex5.m1.4.4.4"></eq><apply id="A4.Ex5.m1.2.2.1.cmml" xref="A4.Ex5.m1.2.2.1"><times id="A4.Ex5.m1.2.2.1.2.cmml" xref="A4.Ex5.m1.2.2.1.2"></times><apply id="A4.Ex5.m1.2.2.1.3.cmml" xref="A4.Ex5.m1.2.2.1.3"><csymbol cd="ambiguous" id="A4.Ex5.m1.2.2.1.3.1.cmml" xref="A4.Ex5.m1.2.2.1.3">subscript</csymbol><ci id="A4.Ex5.m1.2.2.1.3.2.cmml" xref="A4.Ex5.m1.2.2.1.3.2">𝐑</ci><ci id="A4.Ex5.m1.2.2.1.3.3a.cmml" xref="A4.Ex5.m1.2.2.1.3.3"><mtext id="A4.Ex5.m1.2.2.1.3.3.cmml" mathsize="70%" xref="A4.Ex5.m1.2.2.1.3.3">adv</mtext></ci></apply><apply id="A4.Ex5.m1.2.2.1.1.1.1.cmml" xref="A4.Ex5.m1.2.2.1.1.1"><times id="A4.Ex5.m1.2.2.1.1.1.1.2.cmml" xref="A4.Ex5.m1.2.2.1.1.1.1.2"></times><apply id="A4.Ex5.m1.2.2.1.1.1.1.3.cmml" xref="A4.Ex5.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex5.m1.2.2.1.1.1.1.3.1.cmml" xref="A4.Ex5.m1.2.2.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex5.m1.2.2.1.1.1.1.3.2.cmml" xref="A4.Ex5.m1.2.2.1.1.1.1.3.2">ℎ</ci><ci id="A4.Ex5.m1.2.2.1.1.1.1.3.3.cmml" xref="A4.Ex5.m1.2.2.1.1.1.1.3.3">𝐷</ci></apply><apply id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.cmml" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.2">𝐃</ci><apply id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.2a.cmml" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.2"><mtext id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.2">adv</mtext></ci><cn id="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="A4.Ex5.m1.2.2.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply></apply><apply id="A4.Ex5.m1.4.4.3.cmml" xref="A4.Ex5.m1.4.4.3"><times id="A4.Ex5.m1.4.4.3.3.cmml" xref="A4.Ex5.m1.4.4.3.3"></times><apply id="A4.Ex5.m1.1.1.cmml" xref="A4.Ex5.m1.1.1"><divide id="A4.Ex5.m1.1.1.2.cmml" xref="A4.Ex5.m1.1.1"></divide><cn id="A4.Ex5.m1.1.1.3.cmml" type="integer" xref="A4.Ex5.m1.1.1.3">1</cn><apply id="A4.Ex5.m1.1.1.1.2.cmml" xref="A4.Ex5.m1.1.1.1.3"><abs id="A4.Ex5.m1.1.1.1.2.1.cmml" xref="A4.Ex5.m1.1.1.1.3.1"></abs><ci id="A4.Ex5.m1.1.1.1.1.cmml" xref="A4.Ex5.m1.1.1.1.1">𝒦</ci></apply></apply><apply id="A4.Ex5.m1.4.4.3.2.cmml" xref="A4.Ex5.m1.4.4.3.2"><apply id="A4.Ex5.m1.4.4.3.2.3.cmml" xref="A4.Ex5.m1.4.4.3.2.3"><csymbol cd="ambiguous" id="A4.Ex5.m1.4.4.3.2.3.1.cmml" xref="A4.Ex5.m1.4.4.3.2.3">subscript</csymbol><sum id="A4.Ex5.m1.4.4.3.2.3.2.cmml" xref="A4.Ex5.m1.4.4.3.2.3.2"></sum><apply id="A4.Ex5.m1.4.4.3.2.3.3.cmml" xref="A4.Ex5.m1.4.4.3.2.3.3"><in id="A4.Ex5.m1.4.4.3.2.3.3.1.cmml" xref="A4.Ex5.m1.4.4.3.2.3.3.1"></in><apply id="A4.Ex5.m1.4.4.3.2.3.3.2.cmml" xref="A4.Ex5.m1.4.4.3.2.3.3.2"><csymbol cd="ambiguous" id="A4.Ex5.m1.4.4.3.2.3.3.2.1.cmml" xref="A4.Ex5.m1.4.4.3.2.3.3.2">subscript</csymbol><ci id="A4.Ex5.m1.4.4.3.2.3.3.2.2.cmml" xref="A4.Ex5.m1.4.4.3.2.3.3.2.2">𝐷</ci><ci id="A4.Ex5.m1.4.4.3.2.3.3.2.3.cmml" xref="A4.Ex5.m1.4.4.3.2.3.3.2.3">𝑖</ci></apply><ci id="A4.Ex5.m1.4.4.3.2.3.3.3.cmml" xref="A4.Ex5.m1.4.4.3.2.3.3.3">𝒦</ci></apply></apply><apply id="A4.Ex5.m1.4.4.3.2.2.cmml" xref="A4.Ex5.m1.4.4.3.2.2"><times id="A4.Ex5.m1.4.4.3.2.2.3.cmml" xref="A4.Ex5.m1.4.4.3.2.2.3"></times><apply id="A4.Ex5.m1.4.4.3.2.2.4.cmml" xref="A4.Ex5.m1.4.4.3.2.2.4"><csymbol cd="ambiguous" id="A4.Ex5.m1.4.4.3.2.2.4.1.cmml" xref="A4.Ex5.m1.4.4.3.2.2.4">subscript</csymbol><ci id="A4.Ex5.m1.4.4.3.2.2.4.2.cmml" xref="A4.Ex5.m1.4.4.3.2.2.4.2">ℎ</ci><ci id="A4.Ex5.m1.4.4.3.2.2.4.3.cmml" xref="A4.Ex5.m1.4.4.3.2.2.4.3">𝑄</ci></apply><apply id="A4.Ex5.m1.3.3.2.1.1.1.cmml" xref="A4.Ex5.m1.3.3.2.1.1.1"><csymbol cd="ambiguous" id="A4.Ex5.m1.3.3.2.1.1.1.2.cmml" xref="A4.Ex5.m1.3.3.2.1.1.1">superscript</csymbol><apply id="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.cmml" xref="A4.Ex5.m1.3.3.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.1.cmml" xref="A4.Ex5.m1.3.3.2.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.2.cmml" xref="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.2">𝐷</ci><ci id="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.3.cmml" xref="A4.Ex5.m1.3.3.2.1.1.1.1.1.1.3">𝑖</ci></apply><csymbol cd="latexml" id="A4.Ex5.m1.3.3.2.1.1.1.3.cmml" xref="A4.Ex5.m1.3.3.2.1.1.1.3">top</csymbol></apply><apply id="A4.Ex5.m1.4.4.3.2.2.5.cmml" xref="A4.Ex5.m1.4.4.3.2.2.5"><csymbol cd="ambiguous" id="A4.Ex5.m1.4.4.3.2.2.5.1.cmml" xref="A4.Ex5.m1.4.4.3.2.2.5">subscript</csymbol><ci id="A4.Ex5.m1.4.4.3.2.2.5.2.cmml" xref="A4.Ex5.m1.4.4.3.2.2.5.2">ℎ</ci><ci id="A4.Ex5.m1.4.4.3.2.2.5.3.cmml" xref="A4.Ex5.m1.4.4.3.2.2.5.3">𝐷</ci></apply><apply id="A4.Ex5.m1.4.4.3.2.2.2.1.1.cmml" xref="A4.Ex5.m1.4.4.3.2.2.2.1"><csymbol cd="ambiguous" id="A4.Ex5.m1.4.4.3.2.2.2.1.1.1.cmml" xref="A4.Ex5.m1.4.4.3.2.2.2.1">subscript</csymbol><ci id="A4.Ex5.m1.4.4.3.2.2.2.1.1.2.cmml" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.2">𝐃</ci><apply id="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.cmml" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.3"><csymbol cd="ambiguous" id="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.1.cmml" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.3">subscript</csymbol><ci id="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.2a.cmml" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.2"><mtext id="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.2">adv</mtext></ci><cn id="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.3.cmml" type="integer" xref="A4.Ex5.m1.4.4.3.2.2.2.1.1.3.3">1</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Ex5.m1.4c">\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{D}_{\text{adv}_{1}}))=\frac{1}{|\mathcal%
{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}%
_{1}})</annotation><annotation encoding="application/x-llamapun" id="A4.Ex5.m1.4d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ) = divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A4.SS2.1.p1.11">and</p>
<table class="ltx_equation ltx_eqn_table" id="A4.Ex6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{D}_{\text{adv}_{2}}))=\frac{1}{|\mathcal%
{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}%
_{2}})." class="ltx_Math" display="block" id="A4.Ex6.m1.2"><semantics id="A4.Ex6.m1.2a"><mrow id="A4.Ex6.m1.2.2.1" xref="A4.Ex6.m1.2.2.1.1.cmml"><mrow id="A4.Ex6.m1.2.2.1.1" xref="A4.Ex6.m1.2.2.1.1.cmml"><mrow id="A4.Ex6.m1.2.2.1.1.1" xref="A4.Ex6.m1.2.2.1.1.1.cmml"><msub id="A4.Ex6.m1.2.2.1.1.1.3" xref="A4.Ex6.m1.2.2.1.1.1.3.cmml"><mi id="A4.Ex6.m1.2.2.1.1.1.3.2" xref="A4.Ex6.m1.2.2.1.1.1.3.2.cmml">𝐑</mi><mtext id="A4.Ex6.m1.2.2.1.1.1.3.3" xref="A4.Ex6.m1.2.2.1.1.1.3.3a.cmml">adv</mtext></msub><mo id="A4.Ex6.m1.2.2.1.1.1.2" xref="A4.Ex6.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex6.m1.2.2.1.1.1.1.1" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.cmml"><mo id="A4.Ex6.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="A4.Ex6.m1.2.2.1.1.1.1.1.1" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.cmml"><msub id="A4.Ex6.m1.2.2.1.1.1.1.1.1.3" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.3.cmml"><mi id="A4.Ex6.m1.2.2.1.1.1.1.1.1.3.2" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.3.2.cmml">h</mi><mi id="A4.Ex6.m1.2.2.1.1.1.1.1.1.3.3" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.3.3.cmml">D</mi></msub><mo id="A4.Ex6.m1.2.2.1.1.1.1.1.1.2" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">𝐃</mi><msub id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml"><mtext id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.2" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.3" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml">2</mn></msub></msub><mo id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex6.m1.2.2.1.1.1.1.1.3" stretchy="false" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex6.m1.2.2.1.1.4" xref="A4.Ex6.m1.2.2.1.1.4.cmml">=</mo><mrow id="A4.Ex6.m1.2.2.1.1.3" xref="A4.Ex6.m1.2.2.1.1.3.cmml"><mfrac id="A4.Ex6.m1.1.1" xref="A4.Ex6.m1.1.1.cmml"><mn id="A4.Ex6.m1.1.1.3" xref="A4.Ex6.m1.1.1.3.cmml">1</mn><mrow id="A4.Ex6.m1.1.1.1.3" xref="A4.Ex6.m1.1.1.1.2.cmml"><mo id="A4.Ex6.m1.1.1.1.3.1" stretchy="false" xref="A4.Ex6.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex6.m1.1.1.1.1" xref="A4.Ex6.m1.1.1.1.1.cmml">𝒦</mi><mo id="A4.Ex6.m1.1.1.1.3.2" stretchy="false" xref="A4.Ex6.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="A4.Ex6.m1.2.2.1.1.3.3" xref="A4.Ex6.m1.2.2.1.1.3.3.cmml">⁢</mo><mrow id="A4.Ex6.m1.2.2.1.1.3.2" xref="A4.Ex6.m1.2.2.1.1.3.2.cmml"><munder id="A4.Ex6.m1.2.2.1.1.3.2.3" xref="A4.Ex6.m1.2.2.1.1.3.2.3.cmml"><mo id="A4.Ex6.m1.2.2.1.1.3.2.3.2" movablelimits="false" xref="A4.Ex6.m1.2.2.1.1.3.2.3.2.cmml">∑</mo><mrow id="A4.Ex6.m1.2.2.1.1.3.2.3.3" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3.cmml"><msub id="A4.Ex6.m1.2.2.1.1.3.2.3.3.2" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3.2.cmml"><mi id="A4.Ex6.m1.2.2.1.1.3.2.3.3.2.2" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3.2.2.cmml">D</mi><mi id="A4.Ex6.m1.2.2.1.1.3.2.3.3.2.3" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3.2.3.cmml">i</mi></msub><mo id="A4.Ex6.m1.2.2.1.1.3.2.3.3.1" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex6.m1.2.2.1.1.3.2.3.3.3" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3.3.cmml">𝒦</mi></mrow></munder><mrow id="A4.Ex6.m1.2.2.1.1.3.2.2" xref="A4.Ex6.m1.2.2.1.1.3.2.2.cmml"><msub id="A4.Ex6.m1.2.2.1.1.3.2.2.4" xref="A4.Ex6.m1.2.2.1.1.3.2.2.4.cmml"><mi id="A4.Ex6.m1.2.2.1.1.3.2.2.4.2" xref="A4.Ex6.m1.2.2.1.1.3.2.2.4.2.cmml">h</mi><mi id="A4.Ex6.m1.2.2.1.1.3.2.2.4.3" xref="A4.Ex6.m1.2.2.1.1.3.2.2.4.3.cmml">Q</mi></msub><mo id="A4.Ex6.m1.2.2.1.1.3.2.2.3" xref="A4.Ex6.m1.2.2.1.1.3.2.2.3.cmml">⁢</mo><msup id="A4.Ex6.m1.2.2.1.1.2.1.1.1" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.cmml"><mrow id="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.cmml"><mo id="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.2" stretchy="false" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.cmml"><mi id="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.2" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.2.cmml">D</mi><mi id="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.3" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.3" stretchy="false" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex6.m1.2.2.1.1.2.1.1.1.3" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.3.cmml">⊤</mo></msup><mo id="A4.Ex6.m1.2.2.1.1.3.2.2.3a" xref="A4.Ex6.m1.2.2.1.1.3.2.2.3.cmml">⁢</mo><msub id="A4.Ex6.m1.2.2.1.1.3.2.2.5" xref="A4.Ex6.m1.2.2.1.1.3.2.2.5.cmml"><mi id="A4.Ex6.m1.2.2.1.1.3.2.2.5.2" xref="A4.Ex6.m1.2.2.1.1.3.2.2.5.2.cmml">h</mi><mi id="A4.Ex6.m1.2.2.1.1.3.2.2.5.3" xref="A4.Ex6.m1.2.2.1.1.3.2.2.5.3.cmml">D</mi></msub><mo id="A4.Ex6.m1.2.2.1.1.3.2.2.3b" xref="A4.Ex6.m1.2.2.1.1.3.2.2.3.cmml">⁢</mo><mrow id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.cmml"><mo id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.2" stretchy="false" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.cmml">(</mo><msub id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.cmml"><mi id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.2" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.2.cmml">𝐃</mi><msub id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.cmml"><mtext id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.2" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.3" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.3.cmml">2</mn></msub></msub><mo id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.3" stretchy="false" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="A4.Ex6.m1.2.2.1.2" lspace="0em" xref="A4.Ex6.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.Ex6.m1.2b"><apply id="A4.Ex6.m1.2.2.1.1.cmml" xref="A4.Ex6.m1.2.2.1"><eq id="A4.Ex6.m1.2.2.1.1.4.cmml" xref="A4.Ex6.m1.2.2.1.1.4"></eq><apply id="A4.Ex6.m1.2.2.1.1.1.cmml" xref="A4.Ex6.m1.2.2.1.1.1"><times id="A4.Ex6.m1.2.2.1.1.1.2.cmml" xref="A4.Ex6.m1.2.2.1.1.1.2"></times><apply id="A4.Ex6.m1.2.2.1.1.1.3.cmml" xref="A4.Ex6.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex6.m1.2.2.1.1.1.3.1.cmml" xref="A4.Ex6.m1.2.2.1.1.1.3">subscript</csymbol><ci id="A4.Ex6.m1.2.2.1.1.1.3.2.cmml" xref="A4.Ex6.m1.2.2.1.1.1.3.2">𝐑</ci><ci id="A4.Ex6.m1.2.2.1.1.1.3.3a.cmml" xref="A4.Ex6.m1.2.2.1.1.1.3.3"><mtext id="A4.Ex6.m1.2.2.1.1.1.3.3.cmml" mathsize="70%" xref="A4.Ex6.m1.2.2.1.1.1.3.3">adv</mtext></ci></apply><apply id="A4.Ex6.m1.2.2.1.1.1.1.1.1.cmml" xref="A4.Ex6.m1.2.2.1.1.1.1.1"><times id="A4.Ex6.m1.2.2.1.1.1.1.1.1.2.cmml" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.2"></times><apply id="A4.Ex6.m1.2.2.1.1.1.1.1.1.3.cmml" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex6.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex6.m1.2.2.1.1.1.1.1.1.3.2.cmml" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.3.2">ℎ</ci><ci id="A4.Ex6.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.3.3">𝐷</ci></apply><apply id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.2">𝐃</ci><apply id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.2a.cmml" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.2"><mtext id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.2">adv</mtext></ci><cn id="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="A4.Ex6.m1.2.2.1.1.1.1.1.1.1.1.1.3.3">2</cn></apply></apply></apply></apply><apply id="A4.Ex6.m1.2.2.1.1.3.cmml" xref="A4.Ex6.m1.2.2.1.1.3"><times id="A4.Ex6.m1.2.2.1.1.3.3.cmml" xref="A4.Ex6.m1.2.2.1.1.3.3"></times><apply id="A4.Ex6.m1.1.1.cmml" xref="A4.Ex6.m1.1.1"><divide id="A4.Ex6.m1.1.1.2.cmml" xref="A4.Ex6.m1.1.1"></divide><cn id="A4.Ex6.m1.1.1.3.cmml" type="integer" xref="A4.Ex6.m1.1.1.3">1</cn><apply id="A4.Ex6.m1.1.1.1.2.cmml" xref="A4.Ex6.m1.1.1.1.3"><abs id="A4.Ex6.m1.1.1.1.2.1.cmml" xref="A4.Ex6.m1.1.1.1.3.1"></abs><ci id="A4.Ex6.m1.1.1.1.1.cmml" xref="A4.Ex6.m1.1.1.1.1">𝒦</ci></apply></apply><apply id="A4.Ex6.m1.2.2.1.1.3.2.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2"><apply id="A4.Ex6.m1.2.2.1.1.3.2.3.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.3"><csymbol cd="ambiguous" id="A4.Ex6.m1.2.2.1.1.3.2.3.1.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.3">subscript</csymbol><sum id="A4.Ex6.m1.2.2.1.1.3.2.3.2.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.3.2"></sum><apply id="A4.Ex6.m1.2.2.1.1.3.2.3.3.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3"><in id="A4.Ex6.m1.2.2.1.1.3.2.3.3.1.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3.1"></in><apply id="A4.Ex6.m1.2.2.1.1.3.2.3.3.2.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3.2"><csymbol cd="ambiguous" id="A4.Ex6.m1.2.2.1.1.3.2.3.3.2.1.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3.2">subscript</csymbol><ci id="A4.Ex6.m1.2.2.1.1.3.2.3.3.2.2.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3.2.2">𝐷</ci><ci id="A4.Ex6.m1.2.2.1.1.3.2.3.3.2.3.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3.2.3">𝑖</ci></apply><ci id="A4.Ex6.m1.2.2.1.1.3.2.3.3.3.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.3.3.3">𝒦</ci></apply></apply><apply id="A4.Ex6.m1.2.2.1.1.3.2.2.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2"><times id="A4.Ex6.m1.2.2.1.1.3.2.2.3.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.3"></times><apply id="A4.Ex6.m1.2.2.1.1.3.2.2.4.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.4"><csymbol cd="ambiguous" id="A4.Ex6.m1.2.2.1.1.3.2.2.4.1.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.4">subscript</csymbol><ci id="A4.Ex6.m1.2.2.1.1.3.2.2.4.2.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.4.2">ℎ</ci><ci id="A4.Ex6.m1.2.2.1.1.3.2.2.4.3.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.4.3">𝑄</ci></apply><apply id="A4.Ex6.m1.2.2.1.1.2.1.1.1.cmml" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1"><csymbol cd="ambiguous" id="A4.Ex6.m1.2.2.1.1.2.1.1.1.2.cmml" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1">superscript</csymbol><apply id="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.cmml" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.1.cmml" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.2.cmml" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.2">𝐷</ci><ci id="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.3.cmml" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.1.1.1.3">𝑖</ci></apply><csymbol cd="latexml" id="A4.Ex6.m1.2.2.1.1.2.1.1.1.3.cmml" xref="A4.Ex6.m1.2.2.1.1.2.1.1.1.3">top</csymbol></apply><apply id="A4.Ex6.m1.2.2.1.1.3.2.2.5.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.5"><csymbol cd="ambiguous" id="A4.Ex6.m1.2.2.1.1.3.2.2.5.1.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.5">subscript</csymbol><ci id="A4.Ex6.m1.2.2.1.1.3.2.2.5.2.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.5.2">ℎ</ci><ci id="A4.Ex6.m1.2.2.1.1.3.2.2.5.3.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.5.3">𝐷</ci></apply><apply id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1"><csymbol cd="ambiguous" id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.1.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1">subscript</csymbol><ci id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.2.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.2">𝐃</ci><apply id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3"><csymbol cd="ambiguous" id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.1.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3">subscript</csymbol><ci id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.2a.cmml" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.2"><mtext id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.2">adv</mtext></ci><cn id="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.3.cmml" type="integer" xref="A4.Ex6.m1.2.2.1.1.3.2.2.2.1.1.3.3">2</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Ex6.m1.2c">\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{D}_{\text{adv}_{2}}))=\frac{1}{|\mathcal%
{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{D}_{\text{adv}%
_{2}}).</annotation><annotation encoding="application/x-llamapun" id="A4.Ex6.m1.2d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ) = divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A4.SS2.1.p1.12">As such, we can obtain the following equation:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="A4.Ex7">
<tbody id="A4.Ex7X"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\theta(\frac{1}{|\mathcal{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{%
i})^{\top}" class="ltx_math_unparsed" display="inline" id="A4.Ex7X.2.1.1.m1.1"><semantics id="A4.Ex7X.2.1.1.m1.1a"><mrow id="A4.Ex7X.2.1.1.m1.1b"><mi id="A4.Ex7X.2.1.1.m1.1.2">θ</mi><mrow id="A4.Ex7X.2.1.1.m1.1.3"><mo id="A4.Ex7X.2.1.1.m1.1.3.1" stretchy="false">(</mo><mstyle displaystyle="true" id="A4.Ex7X.2.1.1.m1.1.1"><mfrac id="A4.Ex7X.2.1.1.m1.1.1a"><mn id="A4.Ex7X.2.1.1.m1.1.1.3">1</mn><mrow id="A4.Ex7X.2.1.1.m1.1.1.1.3"><mo id="A4.Ex7X.2.1.1.m1.1.1.1.3.1" stretchy="false">|</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex7X.2.1.1.m1.1.1.1.1">𝒦</mi><mo id="A4.Ex7X.2.1.1.m1.1.1.1.3.2" stretchy="false">|</mo></mrow></mfrac></mstyle><mstyle displaystyle="true" id="A4.Ex7X.2.1.1.m1.1.3.2"><munder id="A4.Ex7X.2.1.1.m1.1.3.2a"><mo id="A4.Ex7X.2.1.1.m1.1.3.2.2" movablelimits="false">∑</mo><mrow id="A4.Ex7X.2.1.1.m1.1.3.2.3"><msub id="A4.Ex7X.2.1.1.m1.1.3.2.3.2"><mi id="A4.Ex7X.2.1.1.m1.1.3.2.3.2.2">D</mi><mi id="A4.Ex7X.2.1.1.m1.1.3.2.3.2.3">i</mi></msub><mo id="A4.Ex7X.2.1.1.m1.1.3.2.3.1">∈</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex7X.2.1.1.m1.1.3.2.3.3">𝒦</mi></mrow></munder></mstyle><msub id="A4.Ex7X.2.1.1.m1.1.3.3"><mi id="A4.Ex7X.2.1.1.m1.1.3.3.2">h</mi><mi id="A4.Ex7X.2.1.1.m1.1.3.3.3">Q</mi></msub><msup id="A4.Ex7X.2.1.1.m1.1.3.4"><mrow id="A4.Ex7X.2.1.1.m1.1.3.4.2"><mo id="A4.Ex7X.2.1.1.m1.1.3.4.2.1" stretchy="false">(</mo><msub id="A4.Ex7X.2.1.1.m1.1.3.4.2.2"><mi id="A4.Ex7X.2.1.1.m1.1.3.4.2.2.2">D</mi><mi id="A4.Ex7X.2.1.1.m1.1.3.4.2.2.3">i</mi></msub><mo id="A4.Ex7X.2.1.1.m1.1.3.4.2.3" stretchy="false">)</mo></mrow><mo id="A4.Ex7X.2.1.1.m1.1.3.4.3">⊤</mo></msup></mrow></mrow><annotation encoding="application/x-tex" id="A4.Ex7X.2.1.1.m1.1c">\displaystyle\theta(\frac{1}{|\mathcal{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{%
i})^{\top}</annotation><annotation encoding="application/x-llamapun" id="A4.Ex7X.2.1.1.m1.1d">italic_θ ( divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle h_{D}(\mathbf{D}_{\text{adv}_{1}}))+(1-\theta)(\frac{1}{|%
\mathcal{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{D}_{%
\text{adv}_{2}}))" class="ltx_math_unparsed" display="inline" id="A4.Ex7X.3.2.2.m1.1"><semantics id="A4.Ex7X.3.2.2.m1.1a"><mrow id="A4.Ex7X.3.2.2.m1.1b"><msub id="A4.Ex7X.3.2.2.m1.1.2"><mi id="A4.Ex7X.3.2.2.m1.1.2.2">h</mi><mi id="A4.Ex7X.3.2.2.m1.1.2.3">D</mi></msub><mrow id="A4.Ex7X.3.2.2.m1.1.3"><mo id="A4.Ex7X.3.2.2.m1.1.3.1" stretchy="false">(</mo><msub id="A4.Ex7X.3.2.2.m1.1.3.2"><mi id="A4.Ex7X.3.2.2.m1.1.3.2.2">𝐃</mi><msub id="A4.Ex7X.3.2.2.m1.1.3.2.3"><mtext id="A4.Ex7X.3.2.2.m1.1.3.2.3.2">adv</mtext><mn id="A4.Ex7X.3.2.2.m1.1.3.2.3.3">1</mn></msub></msub><mo id="A4.Ex7X.3.2.2.m1.1.3.3" stretchy="false">)</mo></mrow><mo id="A4.Ex7X.3.2.2.m1.1.4" stretchy="false">)</mo><mo id="A4.Ex7X.3.2.2.m1.1.5">+</mo><mo id="A4.Ex7X.3.2.2.m1.1.6" stretchy="false">(</mo><mn id="A4.Ex7X.3.2.2.m1.1.7">1</mn><mo id="A4.Ex7X.3.2.2.m1.1.8">−</mo><mi id="A4.Ex7X.3.2.2.m1.1.9">θ</mi><mo id="A4.Ex7X.3.2.2.m1.1.10" stretchy="false">)</mo><mo id="A4.Ex7X.3.2.2.m1.1.11" stretchy="false">(</mo><mstyle displaystyle="true" id="A4.Ex7X.3.2.2.m1.1.1"><mfrac id="A4.Ex7X.3.2.2.m1.1.1a"><mn id="A4.Ex7X.3.2.2.m1.1.1.3">1</mn><mrow id="A4.Ex7X.3.2.2.m1.1.1.1.3"><mo id="A4.Ex7X.3.2.2.m1.1.1.1.3.1" stretchy="false">|</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex7X.3.2.2.m1.1.1.1.1">𝒦</mi><mo id="A4.Ex7X.3.2.2.m1.1.1.1.3.2" stretchy="false">|</mo></mrow></mfrac></mstyle><mstyle displaystyle="true" id="A4.Ex7X.3.2.2.m1.1.12"><munder id="A4.Ex7X.3.2.2.m1.1.12a"><mo id="A4.Ex7X.3.2.2.m1.1.12.2" movablelimits="false">∑</mo><mrow id="A4.Ex7X.3.2.2.m1.1.12.3"><msub id="A4.Ex7X.3.2.2.m1.1.12.3.2"><mi id="A4.Ex7X.3.2.2.m1.1.12.3.2.2">D</mi><mi id="A4.Ex7X.3.2.2.m1.1.12.3.2.3">i</mi></msub><mo id="A4.Ex7X.3.2.2.m1.1.12.3.1">∈</mo><mi class="ltx_font_mathcaligraphic" id="A4.Ex7X.3.2.2.m1.1.12.3.3">𝒦</mi></mrow></munder></mstyle><msub id="A4.Ex7X.3.2.2.m1.1.13"><mi id="A4.Ex7X.3.2.2.m1.1.13.2">h</mi><mi id="A4.Ex7X.3.2.2.m1.1.13.3">Q</mi></msub><msup id="A4.Ex7X.3.2.2.m1.1.14"><mrow id="A4.Ex7X.3.2.2.m1.1.14.2"><mo id="A4.Ex7X.3.2.2.m1.1.14.2.1" stretchy="false">(</mo><msub id="A4.Ex7X.3.2.2.m1.1.14.2.2"><mi id="A4.Ex7X.3.2.2.m1.1.14.2.2.2">D</mi><mi id="A4.Ex7X.3.2.2.m1.1.14.2.2.3">i</mi></msub><mo id="A4.Ex7X.3.2.2.m1.1.14.2.3" stretchy="false">)</mo></mrow><mo id="A4.Ex7X.3.2.2.m1.1.14.3">⊤</mo></msup><msub id="A4.Ex7X.3.2.2.m1.1.15"><mi id="A4.Ex7X.3.2.2.m1.1.15.2">h</mi><mi id="A4.Ex7X.3.2.2.m1.1.15.3">D</mi></msub><mrow id="A4.Ex7X.3.2.2.m1.1.16"><mo id="A4.Ex7X.3.2.2.m1.1.16.1" stretchy="false">(</mo><msub id="A4.Ex7X.3.2.2.m1.1.16.2"><mi id="A4.Ex7X.3.2.2.m1.1.16.2.2">𝐃</mi><msub id="A4.Ex7X.3.2.2.m1.1.16.2.3"><mtext id="A4.Ex7X.3.2.2.m1.1.16.2.3.2">adv</mtext><mn id="A4.Ex7X.3.2.2.m1.1.16.2.3.3">2</mn></msub></msub><mo id="A4.Ex7X.3.2.2.m1.1.16.3" stretchy="false">)</mo></mrow><mo id="A4.Ex7X.3.2.2.m1.1.17" stretchy="false">)</mo></mrow><annotation encoding="application/x-tex" id="A4.Ex7X.3.2.2.m1.1c">\displaystyle h_{D}(\mathbf{D}_{\text{adv}_{1}}))+(1-\theta)(\frac{1}{|%
\mathcal{K}|}\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h_{D}(\mathbf{D}_{%
\text{adv}_{2}}))</annotation><annotation encoding="application/x-llamapun" id="A4.Ex7X.3.2.2.m1.1d">italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ) + ( 1 - italic_θ ) ( divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A4.Ex7Xa"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\theta\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{D}_{\text{adv}_{1}})%
)+(1-\theta)\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{D}_{\text{adv}_{2}}))." class="ltx_Math" display="inline" id="A4.Ex7Xa.2.1.1.m1.1"><semantics id="A4.Ex7Xa.2.1.1.m1.1a"><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.cmml"><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.cmml"><mi id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.5" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.5.cmml"></mi><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.4" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.4.cmml">=</mo><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.cmml"><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.cmml"><mi id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.3.cmml">θ</mi><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.2" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.2.cmml">⁢</mo><msub id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.cmml"><mi id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.2" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.2.cmml">𝐑</mi><mtext id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.3a.cmml">adv</mtext></msub><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.2a" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml"><msub id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.2" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.2.cmml">h</mi><mi id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.3.cmml">D</mi></msub><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.2" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝐃</mi><msub id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mtext id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></msub></msub><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.4" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.4.cmml">+</mo><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.cmml"><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.cmml"><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.2" stretchy="false" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.cmml">(</mo><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.cmml"><mn id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.2" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.2.cmml">1</mn><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.cmml">−</mo><mi id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.3.cmml">θ</mi></mrow><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.3" stretchy="false" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.3.cmml">⁢</mo><msub id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.cmml"><mi id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.2" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.2.cmml">𝐑</mi><mtext id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.3a.cmml">adv</mtext></msub><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.3a" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.3.cmml">⁢</mo><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.cmml"><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.2" stretchy="false" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.cmml">(</mo><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.cmml"><msub id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3.cmml"><mi id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3.2" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3.2.cmml">h</mi><mi id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3.3.cmml">D</mi></msub><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.2" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.2.cmml">⁢</mo><mrow id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.cmml"><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.2" stretchy="false" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.cmml"><mi id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.2" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.2.cmml">𝐃</mi><msub id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.cmml"><mtext id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.2" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.3" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.3.cmml">2</mn></msub></msub><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.3" stretchy="false" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.3" stretchy="false" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A4.Ex7Xa.2.1.1.m1.1.1.1.2" lspace="0em" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.Ex7Xa.2.1.1.m1.1b"><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1"><eq id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.4.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.4"></eq><csymbol cd="latexml" id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.5.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.5">absent</csymbol><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3"><plus id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.4.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.4"></plus><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1"><times id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.2.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.2"></times><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.3.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.3">𝜃</ci><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4">subscript</csymbol><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.2.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.2">𝐑</ci><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.3a.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.3"><mtext id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.3.cmml" mathsize="70%" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.4.3">adv</mtext></ci></apply><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1"><times id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.2"></times><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.2">ℎ</ci><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.3">𝐷</ci></apply><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝐃</ci><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2a.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2"><mtext id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">adv</mtext></ci><cn id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply></apply><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3"><times id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.3.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.3"></times><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1"><minus id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.1"></minus><cn id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.2.cmml" type="integer" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.2">1</cn><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.3.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.2.2.1.1.1.3">𝜃</ci></apply><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4"><csymbol cd="ambiguous" id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4">subscript</csymbol><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.2.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.2">𝐑</ci><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.3a.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.3"><mtext id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.3.cmml" mathsize="70%" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.4.3">adv</mtext></ci></apply><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1"><times id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.2.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.2"></times><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3"><csymbol cd="ambiguous" id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3">subscript</csymbol><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3.2.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3.2">ℎ</ci><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3.3.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.3.3">𝐷</ci></apply><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1">subscript</csymbol><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.2.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.2">𝐃</ci><apply id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.1.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.2a.cmml" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.2"><mtext id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.2">adv</mtext></ci><cn id="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.3.cmml" type="integer" xref="A4.Ex7Xa.2.1.1.m1.1.1.1.1.3.3.2.1.1.1.1.1.3.3">2</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Ex7Xa.2.1.1.m1.1c">\displaystyle=\theta\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{D}_{\text{adv}_{1}})%
)+(1-\theta)\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{D}_{\text{adv}_{2}})).</annotation><annotation encoding="application/x-llamapun" id="A4.Ex7Xa.2.1.1.m1.1d">= italic_θ bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ) + ( 1 - italic_θ ) bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A4.SS2.1.p1.13">Thus,</p>
<table class="ltx_equation ltx_eqn_table" id="A4.Ex8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{R}_{\text{adv}}(\theta h_{D}(\mathbf{D}_{\text{adv}_{1}})+(1-\theta)h_%
{D}(\mathbf{D}_{\text{adv}_{2}}))=\theta\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{%
D}_{\text{adv}_{1}}))+(1-\theta)\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{D}_{%
\text{adv}_{2}}))." class="ltx_Math" display="block" id="A4.Ex8.m1.1"><semantics id="A4.Ex8.m1.1a"><mrow id="A4.Ex8.m1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.cmml"><mrow id="A4.Ex8.m1.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.cmml"><mrow id="A4.Ex8.m1.1.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.1.cmml"><msub id="A4.Ex8.m1.1.1.1.1.1.3" xref="A4.Ex8.m1.1.1.1.1.1.3.cmml"><mi id="A4.Ex8.m1.1.1.1.1.1.3.2" xref="A4.Ex8.m1.1.1.1.1.1.3.2.cmml">𝐑</mi><mtext id="A4.Ex8.m1.1.1.1.1.1.3.3" xref="A4.Ex8.m1.1.1.1.1.1.3.3a.cmml">adv</mtext></msub><mo id="A4.Ex8.m1.1.1.1.1.1.2" xref="A4.Ex8.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex8.m1.1.1.1.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A4.Ex8.m1.1.1.1.1.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.3" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.3.cmml">θ</mi><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.2" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><msub id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4.cmml"><mi id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4.2" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4.2.cmml">h</mi><mi id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4.3" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4.3.cmml">D</mi></msub><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.2a" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝐃</mi><msub id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mtext id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></msub></msub><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.1.4" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.4.cmml">+</mo><mrow id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.cmml"><mrow id="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.cmml"><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.2" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.cmml"><mn id="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.2" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.2.cmml">1</mn><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.1.cmml">−</mo><mi id="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.3" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.3.cmml">θ</mi></mrow><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.3" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.3" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.3.cmml">⁢</mo><msub id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4.cmml"><mi id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4.2" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4.2.cmml">h</mi><mi id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4.3" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4.3.cmml">D</mi></msub><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.3a" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.3.cmml">⁢</mo><mrow id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.cmml"><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.2" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.cmml">(</mo><msub id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.cmml"><mi id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.2" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.2.cmml">𝐃</mi><msub id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.cmml"><mtext id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.2" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.3" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.3.cmml">2</mn></msub></msub><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.3" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="A4.Ex8.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex8.m1.1.1.1.1.5" xref="A4.Ex8.m1.1.1.1.1.5.cmml">=</mo><mrow id="A4.Ex8.m1.1.1.1.1.4" xref="A4.Ex8.m1.1.1.1.1.4.cmml"><mrow id="A4.Ex8.m1.1.1.1.1.2.1" xref="A4.Ex8.m1.1.1.1.1.2.1.cmml"><mi id="A4.Ex8.m1.1.1.1.1.2.1.3" xref="A4.Ex8.m1.1.1.1.1.2.1.3.cmml">θ</mi><mo id="A4.Ex8.m1.1.1.1.1.2.1.2" xref="A4.Ex8.m1.1.1.1.1.2.1.2.cmml">⁢</mo><msub id="A4.Ex8.m1.1.1.1.1.2.1.4" xref="A4.Ex8.m1.1.1.1.1.2.1.4.cmml"><mi id="A4.Ex8.m1.1.1.1.1.2.1.4.2" xref="A4.Ex8.m1.1.1.1.1.2.1.4.2.cmml">𝐑</mi><mtext id="A4.Ex8.m1.1.1.1.1.2.1.4.3" xref="A4.Ex8.m1.1.1.1.1.2.1.4.3a.cmml">adv</mtext></msub><mo id="A4.Ex8.m1.1.1.1.1.2.1.2a" xref="A4.Ex8.m1.1.1.1.1.2.1.2.cmml">⁢</mo><mrow id="A4.Ex8.m1.1.1.1.1.2.1.1.1" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.cmml"><mo id="A4.Ex8.m1.1.1.1.1.2.1.1.1.2" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.cmml">(</mo><mrow id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.cmml"><msub id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3.cmml"><mi id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3.2" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3.2.cmml">h</mi><mi id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3.3" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3.3.cmml">D</mi></msub><mo id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.2" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.cmml"><mo id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.2" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.cmml"><mi id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.cmml">𝐃</mi><msub id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.cmml"><mtext id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.2" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.cmml">1</mn></msub></msub><mo id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.3" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex8.m1.1.1.1.1.2.1.1.1.3" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex8.m1.1.1.1.1.4.4" xref="A4.Ex8.m1.1.1.1.1.4.4.cmml">+</mo><mrow id="A4.Ex8.m1.1.1.1.1.4.3" xref="A4.Ex8.m1.1.1.1.1.4.3.cmml"><mrow id="A4.Ex8.m1.1.1.1.1.3.2.1.1" xref="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.cmml"><mo id="A4.Ex8.m1.1.1.1.1.3.2.1.1.2" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.cmml">(</mo><mrow id="A4.Ex8.m1.1.1.1.1.3.2.1.1.1" xref="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.cmml"><mn id="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.2" xref="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.2.cmml">1</mn><mo id="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.1.cmml">−</mo><mi id="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.3" xref="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.3.cmml">θ</mi></mrow><mo id="A4.Ex8.m1.1.1.1.1.3.2.1.1.3" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.cmml">)</mo></mrow><mo id="A4.Ex8.m1.1.1.1.1.4.3.3" xref="A4.Ex8.m1.1.1.1.1.4.3.3.cmml">⁢</mo><msub id="A4.Ex8.m1.1.1.1.1.4.3.4" xref="A4.Ex8.m1.1.1.1.1.4.3.4.cmml"><mi id="A4.Ex8.m1.1.1.1.1.4.3.4.2" xref="A4.Ex8.m1.1.1.1.1.4.3.4.2.cmml">𝐑</mi><mtext id="A4.Ex8.m1.1.1.1.1.4.3.4.3" xref="A4.Ex8.m1.1.1.1.1.4.3.4.3a.cmml">adv</mtext></msub><mo id="A4.Ex8.m1.1.1.1.1.4.3.3a" xref="A4.Ex8.m1.1.1.1.1.4.3.3.cmml">⁢</mo><mrow id="A4.Ex8.m1.1.1.1.1.4.3.2.1" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.cmml"><mo id="A4.Ex8.m1.1.1.1.1.4.3.2.1.2" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.cmml">(</mo><mrow id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.cmml"><msub id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3.cmml"><mi id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3.2" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3.2.cmml">h</mi><mi id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3.3" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3.3.cmml">D</mi></msub><mo id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.2" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.2.cmml">⁢</mo><mrow id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.cmml"><mo id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.2" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.cmml">(</mo><msub id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.cmml"><mi id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.2" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.2.cmml">𝐃</mi><msub id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.cmml"><mtext id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.2" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.2a.cmml">adv</mtext><mn id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.3" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.3.cmml">2</mn></msub></msub><mo id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.3" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.Ex8.m1.1.1.1.1.4.3.2.1.3" stretchy="false" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A4.Ex8.m1.1.1.1.2" lspace="0em" xref="A4.Ex8.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.Ex8.m1.1b"><apply id="A4.Ex8.m1.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1"><eq id="A4.Ex8.m1.1.1.1.1.5.cmml" xref="A4.Ex8.m1.1.1.1.1.5"></eq><apply id="A4.Ex8.m1.1.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1"><times id="A4.Ex8.m1.1.1.1.1.1.2.cmml" xref="A4.Ex8.m1.1.1.1.1.1.2"></times><apply id="A4.Ex8.m1.1.1.1.1.1.3.cmml" xref="A4.Ex8.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.1.3.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.1.3.2.cmml" xref="A4.Ex8.m1.1.1.1.1.1.3.2">𝐑</ci><ci id="A4.Ex8.m1.1.1.1.1.1.3.3a.cmml" xref="A4.Ex8.m1.1.1.1.1.1.3.3"><mtext id="A4.Ex8.m1.1.1.1.1.1.3.3.cmml" mathsize="70%" xref="A4.Ex8.m1.1.1.1.1.1.3.3">adv</mtext></ci></apply><apply id="A4.Ex8.m1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1"><plus id="A4.Ex8.m1.1.1.1.1.1.1.1.1.4.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.4"></plus><apply id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1"><times id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.3">𝜃</ci><apply id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4.2.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4.2">ℎ</ci><ci id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4.3.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.4.3">𝐷</ci></apply><apply id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝐃</ci><apply id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2a.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2"><mtext id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">adv</mtext></ci><cn id="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply><apply id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3"><times id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.3"></times><apply id="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1"><minus id="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.1"></minus><cn id="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.2.cmml" type="integer" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.2">1</cn><ci id="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.3.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.2.1.1.1.3">𝜃</ci></apply><apply id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4.2.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4.2">ℎ</ci><ci id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4.3.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.4.3">𝐷</ci></apply><apply id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.2.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.2">𝐃</ci><apply id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.1.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.2a.cmml" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.2"><mtext id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.2">adv</mtext></ci><cn id="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.3.cmml" type="integer" xref="A4.Ex8.m1.1.1.1.1.1.1.1.1.3.2.1.1.3.3">2</cn></apply></apply></apply></apply></apply><apply id="A4.Ex8.m1.1.1.1.1.4.cmml" xref="A4.Ex8.m1.1.1.1.1.4"><plus id="A4.Ex8.m1.1.1.1.1.4.4.cmml" xref="A4.Ex8.m1.1.1.1.1.4.4"></plus><apply id="A4.Ex8.m1.1.1.1.1.2.1.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1"><times id="A4.Ex8.m1.1.1.1.1.2.1.2.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.2"></times><ci id="A4.Ex8.m1.1.1.1.1.2.1.3.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.3">𝜃</ci><apply id="A4.Ex8.m1.1.1.1.1.2.1.4.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.4"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.2.1.4.1.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.4">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.2.1.4.2.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.4.2">𝐑</ci><ci id="A4.Ex8.m1.1.1.1.1.2.1.4.3a.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.4.3"><mtext id="A4.Ex8.m1.1.1.1.1.2.1.4.3.cmml" mathsize="70%" xref="A4.Ex8.m1.1.1.1.1.2.1.4.3">adv</mtext></ci></apply><apply id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1"><times id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.2.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.2"></times><apply id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3.1.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3.2.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3.2">ℎ</ci><ci id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3.3.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.3.3">𝐷</ci></apply><apply id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2">𝐃</ci><apply id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.1.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.2a.cmml" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.2"><mtext id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.2">adv</mtext></ci><cn id="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="A4.Ex8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply></apply><apply id="A4.Ex8.m1.1.1.1.1.4.3.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3"><times id="A4.Ex8.m1.1.1.1.1.4.3.3.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.3"></times><apply id="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.3.2.1.1"><minus id="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.1"></minus><cn id="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.2.cmml" type="integer" xref="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.2">1</cn><ci id="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.3.cmml" xref="A4.Ex8.m1.1.1.1.1.3.2.1.1.1.3">𝜃</ci></apply><apply id="A4.Ex8.m1.1.1.1.1.4.3.4.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.4"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.4.3.4.1.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.4">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.4.3.4.2.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.4.2">𝐑</ci><ci id="A4.Ex8.m1.1.1.1.1.4.3.4.3a.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.4.3"><mtext id="A4.Ex8.m1.1.1.1.1.4.3.4.3.cmml" mathsize="70%" xref="A4.Ex8.m1.1.1.1.1.4.3.4.3">adv</mtext></ci></apply><apply id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1"><times id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.2.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.2"></times><apply id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3.1.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3.2.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3.2">ℎ</ci><ci id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3.3.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.3.3">𝐷</ci></apply><apply id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.1.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.2.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.2">𝐃</ci><apply id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.1.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3">subscript</csymbol><ci id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.2a.cmml" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.2"><mtext id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.2">adv</mtext></ci><cn id="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.3.cmml" type="integer" xref="A4.Ex8.m1.1.1.1.1.4.3.2.1.1.1.1.1.3.3">2</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.Ex8.m1.1c">\mathbf{R}_{\text{adv}}(\theta h_{D}(\mathbf{D}_{\text{adv}_{1}})+(1-\theta)h_%
{D}(\mathbf{D}_{\text{adv}_{2}}))=\theta\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{%
D}_{\text{adv}_{1}}))+(1-\theta)\mathbf{R}_{\text{adv}}(h_{D}(\mathbf{D}_{%
\text{adv}_{2}})).</annotation><annotation encoding="application/x-llamapun" id="A4.Ex8.m1.1d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_θ italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) + ( 1 - italic_θ ) italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ) = italic_θ bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ) + ( 1 - italic_θ ) bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_h start_POSTSUBSCRIPT italic_D end_POSTSUBSCRIPT ( bold_D start_POSTSUBSCRIPT adv start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A4.SS2.1.p1.8">This satisfies the definition of convexity. Therefore, we draw the conclusion that the function <math alttext="\mathbf{R}_{\text{adv}}(h(\mathbf{D}_{\text{adv}}))=\frac{1}{|\mathcal{K}|}%
\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h(\mathbf{D}_{\text{adv}})" class="ltx_Math" display="inline" id="A4.SS2.1.p1.6.m1.4"><semantics id="A4.SS2.1.p1.6.m1.4a"><mrow id="A4.SS2.1.p1.6.m1.4.4" xref="A4.SS2.1.p1.6.m1.4.4.cmml"><mrow id="A4.SS2.1.p1.6.m1.2.2.1" xref="A4.SS2.1.p1.6.m1.2.2.1.cmml"><msub id="A4.SS2.1.p1.6.m1.2.2.1.3" xref="A4.SS2.1.p1.6.m1.2.2.1.3.cmml"><mi id="A4.SS2.1.p1.6.m1.2.2.1.3.2" xref="A4.SS2.1.p1.6.m1.2.2.1.3.2.cmml">𝐑</mi><mtext id="A4.SS2.1.p1.6.m1.2.2.1.3.3" xref="A4.SS2.1.p1.6.m1.2.2.1.3.3a.cmml">adv</mtext></msub><mo id="A4.SS2.1.p1.6.m1.2.2.1.2" xref="A4.SS2.1.p1.6.m1.2.2.1.2.cmml">⁢</mo><mrow id="A4.SS2.1.p1.6.m1.2.2.1.1.1" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.cmml"><mo id="A4.SS2.1.p1.6.m1.2.2.1.1.1.2" stretchy="false" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.cmml"><mi id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.3" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.3.cmml">h</mi><mo id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.2" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.2" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.2.cmml">𝐃</mi><mtext id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.3" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.3a.cmml">adv</mtext></msub><mo id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.SS2.1.p1.6.m1.2.2.1.1.1.3" stretchy="false" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.SS2.1.p1.6.m1.4.4.4" xref="A4.SS2.1.p1.6.m1.4.4.4.cmml">=</mo><mrow id="A4.SS2.1.p1.6.m1.4.4.3" xref="A4.SS2.1.p1.6.m1.4.4.3.cmml"><mfrac id="A4.SS2.1.p1.6.m1.1.1" xref="A4.SS2.1.p1.6.m1.1.1.cmml"><mn id="A4.SS2.1.p1.6.m1.1.1.3" xref="A4.SS2.1.p1.6.m1.1.1.3.cmml">1</mn><mrow id="A4.SS2.1.p1.6.m1.1.1.1.3" xref="A4.SS2.1.p1.6.m1.1.1.1.2.cmml"><mo id="A4.SS2.1.p1.6.m1.1.1.1.3.1" stretchy="false" xref="A4.SS2.1.p1.6.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="A4.SS2.1.p1.6.m1.1.1.1.1" xref="A4.SS2.1.p1.6.m1.1.1.1.1.cmml">𝒦</mi><mo id="A4.SS2.1.p1.6.m1.1.1.1.3.2" stretchy="false" xref="A4.SS2.1.p1.6.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="A4.SS2.1.p1.6.m1.4.4.3.3" xref="A4.SS2.1.p1.6.m1.4.4.3.3.cmml">⁢</mo><mrow id="A4.SS2.1.p1.6.m1.4.4.3.2" xref="A4.SS2.1.p1.6.m1.4.4.3.2.cmml"><msub id="A4.SS2.1.p1.6.m1.4.4.3.2.3" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.cmml"><mo id="A4.SS2.1.p1.6.m1.4.4.3.2.3.2" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.2.cmml">∑</mo><mrow id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.cmml"><msub id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2.cmml"><mi id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2.2" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2.2.cmml">D</mi><mi id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2.3" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2.3.cmml">i</mi></msub><mo id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.1" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.3" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.3.cmml">𝒦</mi></mrow></msub><mrow id="A4.SS2.1.p1.6.m1.4.4.3.2.2" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.cmml"><msub id="A4.SS2.1.p1.6.m1.4.4.3.2.2.4" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.4.cmml"><mi id="A4.SS2.1.p1.6.m1.4.4.3.2.2.4.2" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.4.2.cmml">h</mi><mi id="A4.SS2.1.p1.6.m1.4.4.3.2.2.4.3" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.4.3.cmml">Q</mi></msub><mo id="A4.SS2.1.p1.6.m1.4.4.3.2.2.3" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.3.cmml">⁢</mo><msup id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.cmml"><mrow id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.cmml"><mo id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.2" stretchy="false" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.cmml">(</mo><msub id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.cmml"><mi id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.2" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.2.cmml">D</mi><mi id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.3" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.3" stretchy="false" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.3" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.3.cmml">⊤</mo></msup><mo id="A4.SS2.1.p1.6.m1.4.4.3.2.2.3a" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.3.cmml">⁢</mo><mi id="A4.SS2.1.p1.6.m1.4.4.3.2.2.5" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.5.cmml">h</mi><mo id="A4.SS2.1.p1.6.m1.4.4.3.2.2.3b" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.3.cmml">⁢</mo><mrow id="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.cmml"><mo id="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.2" stretchy="false" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.cmml">(</mo><msub id="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.cmml"><mi id="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.2" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.2.cmml">𝐃</mi><mtext id="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.3" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.3a.cmml">adv</mtext></msub><mo id="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.3" stretchy="false" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.SS2.1.p1.6.m1.4b"><apply id="A4.SS2.1.p1.6.m1.4.4.cmml" xref="A4.SS2.1.p1.6.m1.4.4"><eq id="A4.SS2.1.p1.6.m1.4.4.4.cmml" xref="A4.SS2.1.p1.6.m1.4.4.4"></eq><apply id="A4.SS2.1.p1.6.m1.2.2.1.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1"><times id="A4.SS2.1.p1.6.m1.2.2.1.2.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1.2"></times><apply id="A4.SS2.1.p1.6.m1.2.2.1.3.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1.3"><csymbol cd="ambiguous" id="A4.SS2.1.p1.6.m1.2.2.1.3.1.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1.3">subscript</csymbol><ci id="A4.SS2.1.p1.6.m1.2.2.1.3.2.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1.3.2">𝐑</ci><ci id="A4.SS2.1.p1.6.m1.2.2.1.3.3a.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1.3.3"><mtext id="A4.SS2.1.p1.6.m1.2.2.1.3.3.cmml" mathsize="70%" xref="A4.SS2.1.p1.6.m1.2.2.1.3.3">adv</mtext></ci></apply><apply id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1"><times id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.2.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.2"></times><ci id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.3.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.3">ℎ</ci><apply id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.2">𝐃</ci><ci id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.3a.cmml" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.3"><mtext id="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.3.cmml" mathsize="70%" xref="A4.SS2.1.p1.6.m1.2.2.1.1.1.1.1.1.1.3">adv</mtext></ci></apply></apply></apply><apply id="A4.SS2.1.p1.6.m1.4.4.3.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3"><times id="A4.SS2.1.p1.6.m1.4.4.3.3.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.3"></times><apply id="A4.SS2.1.p1.6.m1.1.1.cmml" xref="A4.SS2.1.p1.6.m1.1.1"><divide id="A4.SS2.1.p1.6.m1.1.1.2.cmml" xref="A4.SS2.1.p1.6.m1.1.1"></divide><cn id="A4.SS2.1.p1.6.m1.1.1.3.cmml" type="integer" xref="A4.SS2.1.p1.6.m1.1.1.3">1</cn><apply id="A4.SS2.1.p1.6.m1.1.1.1.2.cmml" xref="A4.SS2.1.p1.6.m1.1.1.1.3"><abs id="A4.SS2.1.p1.6.m1.1.1.1.2.1.cmml" xref="A4.SS2.1.p1.6.m1.1.1.1.3.1"></abs><ci id="A4.SS2.1.p1.6.m1.1.1.1.1.cmml" xref="A4.SS2.1.p1.6.m1.1.1.1.1">𝒦</ci></apply></apply><apply id="A4.SS2.1.p1.6.m1.4.4.3.2.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2"><apply id="A4.SS2.1.p1.6.m1.4.4.3.2.3.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3"><csymbol cd="ambiguous" id="A4.SS2.1.p1.6.m1.4.4.3.2.3.1.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3">subscript</csymbol><sum id="A4.SS2.1.p1.6.m1.4.4.3.2.3.2.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.2"></sum><apply id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3"><in id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.1.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.1"></in><apply id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2"><csymbol cd="ambiguous" id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2.1.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2">subscript</csymbol><ci id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2.2.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2.2">𝐷</ci><ci id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2.3.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.2.3">𝑖</ci></apply><ci id="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.3.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.3.3.3">𝒦</ci></apply></apply><apply id="A4.SS2.1.p1.6.m1.4.4.3.2.2.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2"><times id="A4.SS2.1.p1.6.m1.4.4.3.2.2.3.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.3"></times><apply id="A4.SS2.1.p1.6.m1.4.4.3.2.2.4.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.4"><csymbol cd="ambiguous" id="A4.SS2.1.p1.6.m1.4.4.3.2.2.4.1.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.4">subscript</csymbol><ci id="A4.SS2.1.p1.6.m1.4.4.3.2.2.4.2.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.4.2">ℎ</ci><ci id="A4.SS2.1.p1.6.m1.4.4.3.2.2.4.3.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.4.3">𝑄</ci></apply><apply id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.cmml" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.2.cmml" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1">superscript</csymbol><apply id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1">subscript</csymbol><ci id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.2.cmml" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.2">𝐷</ci><ci id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.3.cmml" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.1.1.1.3">𝑖</ci></apply><csymbol cd="latexml" id="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.3.cmml" xref="A4.SS2.1.p1.6.m1.3.3.2.1.1.1.3">top</csymbol></apply><ci id="A4.SS2.1.p1.6.m1.4.4.3.2.2.5.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.5">ℎ</ci><apply id="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.1.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1">subscript</csymbol><ci id="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.2.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.2">𝐃</ci><ci id="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.3a.cmml" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.3"><mtext id="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.3.cmml" mathsize="70%" xref="A4.SS2.1.p1.6.m1.4.4.3.2.2.2.1.1.3">adv</mtext></ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.1.p1.6.m1.4c">\mathbf{R}_{\text{adv}}(h(\mathbf{D}_{\text{adv}}))=\frac{1}{|\mathcal{K}|}%
\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h(\mathbf{D}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.1.p1.6.m1.4d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_h ( bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) ) = divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT italic_h ( bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math> is a linear function in <math alttext="h(\mathbf{D}_{\text{adv}})" class="ltx_Math" display="inline" id="A4.SS2.1.p1.7.m2.1"><semantics id="A4.SS2.1.p1.7.m2.1a"><mrow id="A4.SS2.1.p1.7.m2.1.1" xref="A4.SS2.1.p1.7.m2.1.1.cmml"><mi id="A4.SS2.1.p1.7.m2.1.1.3" xref="A4.SS2.1.p1.7.m2.1.1.3.cmml">h</mi><mo id="A4.SS2.1.p1.7.m2.1.1.2" xref="A4.SS2.1.p1.7.m2.1.1.2.cmml">⁢</mo><mrow id="A4.SS2.1.p1.7.m2.1.1.1.1" xref="A4.SS2.1.p1.7.m2.1.1.1.1.1.cmml"><mo id="A4.SS2.1.p1.7.m2.1.1.1.1.2" stretchy="false" xref="A4.SS2.1.p1.7.m2.1.1.1.1.1.cmml">(</mo><msub id="A4.SS2.1.p1.7.m2.1.1.1.1.1" xref="A4.SS2.1.p1.7.m2.1.1.1.1.1.cmml"><mi id="A4.SS2.1.p1.7.m2.1.1.1.1.1.2" xref="A4.SS2.1.p1.7.m2.1.1.1.1.1.2.cmml">𝐃</mi><mtext id="A4.SS2.1.p1.7.m2.1.1.1.1.1.3" xref="A4.SS2.1.p1.7.m2.1.1.1.1.1.3a.cmml">adv</mtext></msub><mo id="A4.SS2.1.p1.7.m2.1.1.1.1.3" stretchy="false" xref="A4.SS2.1.p1.7.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.SS2.1.p1.7.m2.1b"><apply id="A4.SS2.1.p1.7.m2.1.1.cmml" xref="A4.SS2.1.p1.7.m2.1.1"><times id="A4.SS2.1.p1.7.m2.1.1.2.cmml" xref="A4.SS2.1.p1.7.m2.1.1.2"></times><ci id="A4.SS2.1.p1.7.m2.1.1.3.cmml" xref="A4.SS2.1.p1.7.m2.1.1.3">ℎ</ci><apply id="A4.SS2.1.p1.7.m2.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.7.m2.1.1.1.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.7.m2.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.7.m2.1.1.1.1">subscript</csymbol><ci id="A4.SS2.1.p1.7.m2.1.1.1.1.1.2.cmml" xref="A4.SS2.1.p1.7.m2.1.1.1.1.1.2">𝐃</ci><ci id="A4.SS2.1.p1.7.m2.1.1.1.1.1.3a.cmml" xref="A4.SS2.1.p1.7.m2.1.1.1.1.1.3"><mtext id="A4.SS2.1.p1.7.m2.1.1.1.1.1.3.cmml" mathsize="70%" xref="A4.SS2.1.p1.7.m2.1.1.1.1.1.3">adv</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.1.p1.7.m2.1c">h(\mathbf{D}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.1.p1.7.m2.1d">italic_h ( bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math>. Since linear functions are both convex and concave, we can conclude that <math alttext="\mathbf{R}_{\text{adv}}(h(\mathbf{D}_{\text{adv}}))=\frac{1}{|\mathcal{K}|}%
\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h(\mathbf{D}_{\text{adv}})" class="ltx_Math" display="inline" id="A4.SS2.1.p1.8.m3.4"><semantics id="A4.SS2.1.p1.8.m3.4a"><mrow id="A4.SS2.1.p1.8.m3.4.4" xref="A4.SS2.1.p1.8.m3.4.4.cmml"><mrow id="A4.SS2.1.p1.8.m3.2.2.1" xref="A4.SS2.1.p1.8.m3.2.2.1.cmml"><msub id="A4.SS2.1.p1.8.m3.2.2.1.3" xref="A4.SS2.1.p1.8.m3.2.2.1.3.cmml"><mi id="A4.SS2.1.p1.8.m3.2.2.1.3.2" xref="A4.SS2.1.p1.8.m3.2.2.1.3.2.cmml">𝐑</mi><mtext id="A4.SS2.1.p1.8.m3.2.2.1.3.3" xref="A4.SS2.1.p1.8.m3.2.2.1.3.3a.cmml">adv</mtext></msub><mo id="A4.SS2.1.p1.8.m3.2.2.1.2" xref="A4.SS2.1.p1.8.m3.2.2.1.2.cmml">⁢</mo><mrow id="A4.SS2.1.p1.8.m3.2.2.1.1.1" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.cmml"><mo id="A4.SS2.1.p1.8.m3.2.2.1.1.1.2" stretchy="false" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.cmml">(</mo><mrow id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.cmml"><mi id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.3" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.3.cmml">h</mi><mo id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.2" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.cmml"><mo id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.2" stretchy="false" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.cmml">(</mo><msub id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.cmml"><mi id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.2" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.2.cmml">𝐃</mi><mtext id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.3" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.3a.cmml">adv</mtext></msub><mo id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.3" stretchy="false" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.SS2.1.p1.8.m3.2.2.1.1.1.3" stretchy="false" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A4.SS2.1.p1.8.m3.4.4.4" xref="A4.SS2.1.p1.8.m3.4.4.4.cmml">=</mo><mrow id="A4.SS2.1.p1.8.m3.4.4.3" xref="A4.SS2.1.p1.8.m3.4.4.3.cmml"><mfrac id="A4.SS2.1.p1.8.m3.1.1" xref="A4.SS2.1.p1.8.m3.1.1.cmml"><mn id="A4.SS2.1.p1.8.m3.1.1.3" xref="A4.SS2.1.p1.8.m3.1.1.3.cmml">1</mn><mrow id="A4.SS2.1.p1.8.m3.1.1.1.3" xref="A4.SS2.1.p1.8.m3.1.1.1.2.cmml"><mo id="A4.SS2.1.p1.8.m3.1.1.1.3.1" stretchy="false" xref="A4.SS2.1.p1.8.m3.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="A4.SS2.1.p1.8.m3.1.1.1.1" xref="A4.SS2.1.p1.8.m3.1.1.1.1.cmml">𝒦</mi><mo id="A4.SS2.1.p1.8.m3.1.1.1.3.2" stretchy="false" xref="A4.SS2.1.p1.8.m3.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="A4.SS2.1.p1.8.m3.4.4.3.3" xref="A4.SS2.1.p1.8.m3.4.4.3.3.cmml">⁢</mo><mrow id="A4.SS2.1.p1.8.m3.4.4.3.2" xref="A4.SS2.1.p1.8.m3.4.4.3.2.cmml"><msub id="A4.SS2.1.p1.8.m3.4.4.3.2.3" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.cmml"><mo id="A4.SS2.1.p1.8.m3.4.4.3.2.3.2" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.2.cmml">∑</mo><mrow id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.cmml"><msub id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2.cmml"><mi id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2.2" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2.2.cmml">D</mi><mi id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2.3" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2.3.cmml">i</mi></msub><mo id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.1" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.3" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.3.cmml">𝒦</mi></mrow></msub><mrow id="A4.SS2.1.p1.8.m3.4.4.3.2.2" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.cmml"><msub id="A4.SS2.1.p1.8.m3.4.4.3.2.2.4" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.4.cmml"><mi id="A4.SS2.1.p1.8.m3.4.4.3.2.2.4.2" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.4.2.cmml">h</mi><mi id="A4.SS2.1.p1.8.m3.4.4.3.2.2.4.3" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.4.3.cmml">Q</mi></msub><mo id="A4.SS2.1.p1.8.m3.4.4.3.2.2.3" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.3.cmml">⁢</mo><msup id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.cmml"><mrow id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.cmml"><mo id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.2" stretchy="false" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.cmml">(</mo><msub id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.cmml"><mi id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.2" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.2.cmml">D</mi><mi id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.3" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.3" stretchy="false" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.3" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.3.cmml">⊤</mo></msup><mo id="A4.SS2.1.p1.8.m3.4.4.3.2.2.3a" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.3.cmml">⁢</mo><mi id="A4.SS2.1.p1.8.m3.4.4.3.2.2.5" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.5.cmml">h</mi><mo id="A4.SS2.1.p1.8.m3.4.4.3.2.2.3b" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.3.cmml">⁢</mo><mrow id="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.cmml"><mo id="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.2" stretchy="false" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.cmml">(</mo><msub id="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.cmml"><mi id="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.2" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.2.cmml">𝐃</mi><mtext id="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.3" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.3a.cmml">adv</mtext></msub><mo id="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.3" stretchy="false" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.SS2.1.p1.8.m3.4b"><apply id="A4.SS2.1.p1.8.m3.4.4.cmml" xref="A4.SS2.1.p1.8.m3.4.4"><eq id="A4.SS2.1.p1.8.m3.4.4.4.cmml" xref="A4.SS2.1.p1.8.m3.4.4.4"></eq><apply id="A4.SS2.1.p1.8.m3.2.2.1.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1"><times id="A4.SS2.1.p1.8.m3.2.2.1.2.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1.2"></times><apply id="A4.SS2.1.p1.8.m3.2.2.1.3.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1.3"><csymbol cd="ambiguous" id="A4.SS2.1.p1.8.m3.2.2.1.3.1.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1.3">subscript</csymbol><ci id="A4.SS2.1.p1.8.m3.2.2.1.3.2.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1.3.2">𝐑</ci><ci id="A4.SS2.1.p1.8.m3.2.2.1.3.3a.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1.3.3"><mtext id="A4.SS2.1.p1.8.m3.2.2.1.3.3.cmml" mathsize="70%" xref="A4.SS2.1.p1.8.m3.2.2.1.3.3">adv</mtext></ci></apply><apply id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1"><times id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.2.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.2"></times><ci id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.3.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.3">ℎ</ci><apply id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.2.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.2">𝐃</ci><ci id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.3a.cmml" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.3"><mtext id="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.3.cmml" mathsize="70%" xref="A4.SS2.1.p1.8.m3.2.2.1.1.1.1.1.1.1.3">adv</mtext></ci></apply></apply></apply><apply id="A4.SS2.1.p1.8.m3.4.4.3.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3"><times id="A4.SS2.1.p1.8.m3.4.4.3.3.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.3"></times><apply id="A4.SS2.1.p1.8.m3.1.1.cmml" xref="A4.SS2.1.p1.8.m3.1.1"><divide id="A4.SS2.1.p1.8.m3.1.1.2.cmml" xref="A4.SS2.1.p1.8.m3.1.1"></divide><cn id="A4.SS2.1.p1.8.m3.1.1.3.cmml" type="integer" xref="A4.SS2.1.p1.8.m3.1.1.3">1</cn><apply id="A4.SS2.1.p1.8.m3.1.1.1.2.cmml" xref="A4.SS2.1.p1.8.m3.1.1.1.3"><abs id="A4.SS2.1.p1.8.m3.1.1.1.2.1.cmml" xref="A4.SS2.1.p1.8.m3.1.1.1.3.1"></abs><ci id="A4.SS2.1.p1.8.m3.1.1.1.1.cmml" xref="A4.SS2.1.p1.8.m3.1.1.1.1">𝒦</ci></apply></apply><apply id="A4.SS2.1.p1.8.m3.4.4.3.2.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2"><apply id="A4.SS2.1.p1.8.m3.4.4.3.2.3.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3"><csymbol cd="ambiguous" id="A4.SS2.1.p1.8.m3.4.4.3.2.3.1.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3">subscript</csymbol><sum id="A4.SS2.1.p1.8.m3.4.4.3.2.3.2.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.2"></sum><apply id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3"><in id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.1.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.1"></in><apply id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2"><csymbol cd="ambiguous" id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2.1.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2">subscript</csymbol><ci id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2.2.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2.2">𝐷</ci><ci id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2.3.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.2.3">𝑖</ci></apply><ci id="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.3.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.3.3.3">𝒦</ci></apply></apply><apply id="A4.SS2.1.p1.8.m3.4.4.3.2.2.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2"><times id="A4.SS2.1.p1.8.m3.4.4.3.2.2.3.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.3"></times><apply id="A4.SS2.1.p1.8.m3.4.4.3.2.2.4.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.4"><csymbol cd="ambiguous" id="A4.SS2.1.p1.8.m3.4.4.3.2.2.4.1.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.4">subscript</csymbol><ci id="A4.SS2.1.p1.8.m3.4.4.3.2.2.4.2.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.4.2">ℎ</ci><ci id="A4.SS2.1.p1.8.m3.4.4.3.2.2.4.3.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.4.3">𝑄</ci></apply><apply id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.cmml" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.2.cmml" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1">superscript</csymbol><apply id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.1.cmml" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1">subscript</csymbol><ci id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.2.cmml" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.2">𝐷</ci><ci id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.3.cmml" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.1.1.1.3">𝑖</ci></apply><csymbol cd="latexml" id="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.3.cmml" xref="A4.SS2.1.p1.8.m3.3.3.2.1.1.1.3">top</csymbol></apply><ci id="A4.SS2.1.p1.8.m3.4.4.3.2.2.5.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.5">ℎ</ci><apply id="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1"><csymbol cd="ambiguous" id="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.1.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1">subscript</csymbol><ci id="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.2.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.2">𝐃</ci><ci id="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.3a.cmml" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.3"><mtext id="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.3.cmml" mathsize="70%" xref="A4.SS2.1.p1.8.m3.4.4.3.2.2.2.1.1.3">adv</mtext></ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.1.p1.8.m3.4c">\mathbf{R}_{\text{adv}}(h(\mathbf{D}_{\text{adv}}))=\frac{1}{|\mathcal{K}|}%
\sum_{D_{i}\in\mathcal{K}}h_{Q}(D_{i})^{\top}h(\mathbf{D}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.1.p1.8.m3.4d">bold_R start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ( italic_h ( bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) ) = divide start_ARG 1 end_ARG start_ARG | caligraphic_K | end_ARG ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT italic_h start_POSTSUBSCRIPT italic_Q end_POSTSUBSCRIPT ( italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT italic_h ( bold_D start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math> is indeed convex.
∎</p>
</div>
</div>
<figure class="ltx_figure" id="A4.F9">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><img alt="Refer to caption" class="ltx_graphics ltx_figure_panel ltx_img_landscape" height="312" id="A4.F9.g1" src="x10.png" width="664"/></div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Case Study for the <span class="ltx_text ltx_font_italic" id="A4.F9.2.1">Harmful Output</span> Adversarial Goal.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="387" id="A4.F9.g2" src="x11.png" width="664"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Case Study for the <span class="ltx_text ltx_font_italic" id="A4.F9.4.1">Enforced Information</span> Adversarial Goal.</figcaption>
</figure>
</section>
</section>
<section class="ltx_appendix" id="A5">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Case Studies</h2>
<div class="ltx_para" id="A5.p1">
<p class="ltx_p" id="A5.p1.1">See in next Page.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Wed Jun 26 05:32:19 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
