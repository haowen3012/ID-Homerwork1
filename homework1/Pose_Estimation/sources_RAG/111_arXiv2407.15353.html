<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA</title>
<!--Generated on Fri Jul 26 08:37:19 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2407.15353v2/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S1" title="In Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S2" title="In Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Preliminaries</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S2.SS1" title="In 2. Preliminaries â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Information Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S2.SS2" title="In 2. Preliminaries â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Performance Measurement</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3" title="In Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Algorithms</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS1" title="In 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Domain-Customized Text Embedding</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS2" title="In 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Hybrid Information Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS3" title="In 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>
Reranker Finetuning</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS4" title="In 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Domain-Specific LLM Generator</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S4" title="In Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Benchmark</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5" title="In Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Experimental Results</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.SS1" title="In 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Training Dataset Collection</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.SS2" title="In 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Experimental Setting</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.SS3" title="In 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Evaluation: Text Embedding Model</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.SS4" title="In 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4 </span>Evaluation: Reranker Model</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.SS5" title="In 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.5 </span>Evaluation: Generator</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.SS6" title="In 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.6 </span>Evaluation: RAG Flow</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S6" title="In Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<div class="ltx_para" id="p1">
<span class="ltx_ERROR undefined" id="p1.1">\pdfcolInitStack</span>
<p class="ltx_p" id="p1.2">tcb@breakable


























































</p>
</div>
<h1 class="ltx_title ltx_title_document">
Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA
</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Yuan Pu<sup class="ltx_sup" id="id9.9.id1"><span class="ltx_text ltx_font_italic" id="id9.9.id1.1">1,2</span></sup>, â€ƒZhuolun He<sup class="ltx_sup" id="id10.10.id2"><span class="ltx_text ltx_font_italic" id="id10.10.id2.1">1,2</span></sup>, â€ƒTairu Qiu<sup class="ltx_sup" id="id11.11.id3"><span class="ltx_text ltx_font_italic" id="id11.11.id3.1">2</span></sup>, â€ƒHaoyuan Wu<sup class="ltx_sup" id="id12.12.id4"><span class="ltx_text ltx_font_italic" id="id12.12.id4.1">3</span></sup>, â€ƒBei Yu<sup class="ltx_sup" id="id13.13.id5">1</sup>
<br class="ltx_break"/><sup class="ltx_sup" id="id14.14.id6">1</sup>The Chinese University of Hong Kong, Hong Kong SAR 
<br class="ltx_break"/><sup class="ltx_sup" id="id15.15.id7">2</sup>ChatEDA Tech, China 
<br class="ltx_break"/><sup class="ltx_sup" id="id16.16.id8">3</sup>Shanghai AI Laboratory, Shanghai, China 
<br class="ltx_break"/>
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id17.id1">Retrieval augmented generation (RAG) enhances the accuracy and reliability of generative AI models by sourcing factual information from external databases, which is extensively employed in document-grounded question-answering (QA) tasks.
Off-the-shelf RAG flows are well pretrained on general-purpose documents, yet they encounter significant challenges when being applied to knowledge-intensive vertical domains, such as electronic design automation (EDA).
This paper addresses such issue by proposing a customized RAG framework along with three domain-specific techniques for EDA tool documentation QA, including a contrastive learning scheme for text embedding model fine-tuning, a reranker distilled from proprietary LLM, and a generative LLM fine-tuned with high-quality domain corpus.
Furthermore, we have developed and released a documentation QA evaluation benchmark, ORD-QA, for OpenROAD, an advanced RTL-to-GDSII design platform.
Experimental results demonstrate that our proposed RAG flow and techniques have achieved superior performance on ORD-QA as well as on a commercial tool, compared with state-of-the-arts.
The ORD-QA benchmark and the training dataset for our customized RAG flow are open-source at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/lesliepy99/RAG-EDA" title="">https://github.com/lesliepy99/RAG-EDA</a>.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Electronic design automation (EDA) comprises a set of software tools dedicated for the design, analysis and verification of electronic systems.
To meet the increasing demand of semiconductor manufacturing and accommodate the advancing technology nodes, current EDA tools support a complex design flow with various functionalities and commands at all levels.
Open-source EDA tools such as OpenROAD<cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib1" title="">ajayi2019toward, </a>)</cite> and iEDA<cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib2" title="">li2023ieda, </a>)</cite> provide complete RTL-to-GDSII flow and environment for circuit design.
Commercial software, with rigorous consideration of industrial scenarios, supports much more sophisticated and various functionalities.
EDA tools are supposed to be equipped with well-organized and detailed documentations, yet
referring documentation often remains a pain for end users due to the huge amount of functionalities provided and the intertanglement among them.
To improve user experience and development efficiency of tool users,
application engineers are employed and trained by vendors to provide on-site customer service and support.
Nevertheless, the high training and manpower cost has pushed people to consider an automated, no-human-in-the-loop means for such support.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="447" id="S1.F1.g1" src="x1.png" width="762"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>Illustration of the RAG flow.</figcaption>
</figure>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">With the exceptional performance and rapid advancement of large language models (LLMs), retrieval augmented generation (RAG) has recently been proven to be an effective method for document grounded QA.
As is shown in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S1.F1" title="In 1. Introduction â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">1</span></a>, to prepare for RAG, the entire document is segmented into reasonably-sized chunks, each of which is then embedded into a high-dimensional space by a text embedding model and stored in a vector database.
When a user poses a question, the text embedding model encodes the question into an embedding in the same space.
Through similarity matching, document chunks that most closely match the semantics of the question are retrieved as potential reference candidates.
Then, a reranker model conducts fine filtering and removes irrelevant document chunks from the candidates.
Finally, the relevant document chunks along with the user query are fed to the generator (usually an LLM) for answer generation.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">During the process of RAG, the robust reasoning and inference capabilities of LLMs are effectively utilized,
while the retrieved relevant information mitigates the hallucination issue and improves the reliability of LLM generation.
However, due to the mutually entangled structures of EDA tool documentations, sophisticated nature of EDA flow and rigorous logic reasoning involved in EDA-tool-related questions,
applying existing RAG flows for EDA tool documentation QA presents significant challenges.
The primary challenge is that existing RAG components lack expert knowledge in EDA, leading to inferior performance in EDA-specific contexts:
First, for retriever, existing text embedding models demonstrate poor semantic understanding of the terminologies and concepts of EDA, and are prone to retrieve irrelevant documents by similarity matching.
Second, existing reranker models fail to accurately differentiate between relevant and weakly-related documents under EDA-tool-specific scenarios.
For example, while the question is â€œwhat is the command to place a specific pinâ€, the weakly-related document, which introduces the command to place all pins and is not helpful to answer the question, will be recognized as relevant by existing reranker models.
Third, existing generators (chat LLMs) lack EDA domain knowledge and demonstrate limited logical inference capabilities when addressing EDA-related questions, leading to inadequate answer generation.
Although many previous research work have customized LLMs for several EDA tasks including script generationÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib30" title="">10299852, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib31" title="">wu2024chateda, </a>)</cite>, HDL generationÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib32" title="">liu2023chipnemo, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib33" title="">chang2023chipgpt, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib34" title="">liu2023verilogeval, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib35" title="">fu2023gpt4aigchip, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib36" title="">blocklove2023chip, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib37" title="">thakur2023autochip, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib38" title="">lu2024rtllm, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib39" title="">thakur2023benchmarking, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib40" title="">thakur2023verigen, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib41" title="">pei2024betterv, </a>)</cite>, code verification and analysisÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib42" title="">tsai2023rtlfixer, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib43" title="">orenes2021autosva, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib44" title="">kande2023llm, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib45" title="">meng2023unlocking, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib46" title="">paria2023divas, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib47" title="">ahmad2023fixing, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib48" title="">yao2024hdldebugger, </a>)</cite>, to the best of our knowledge, there has not been any research conducted on the documentation QA of EDA tools.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">To resolve the challenges mentioned above, we propose <span class="ltx_text ltx_font_bold" id="S1.p4.1.1">RAG-EDA</span>, a retrieval augmented generation (RAG) flow customized for EDA tool documentation question-answering.
Our approach consists of three strategic enhancements:
(1) For retriever, we first create a corpus of queries and answers that incorporate EDA domain knowledge and terminologies.
Using this corpus, we employ contrastive learning to finetune a text embedding model, thereby enriching it with EDA-specific knowledge and enhancing its retrieval accuracy.
(2) For reranker, we distill the fine filtering capabilities of the proprietary LLM into our reranker model by contrastive learning, greatly improving its performance in weakly-related documents removal.
(3) For generator, we pretrain a chat LLM using the EDA domain corpus and subsequently finetune it using a dataset of EDA-tool-related QA pairs through instruction tuning.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">Furthermore, to assess the efficacy of our RAG flow and facilitate future research in EDA tool documentation QA, we have developed and made public a QA evaluation dataset, <span class="ltx_text ltx_font_bold" id="S1.p5.1.1">ORD-QA</span>, based on the OpenROAD documentation.
This dataset comprises 90 high-quality question-document-answer triplets that span a variety of query types, including VLSI flow inquiries, command/option usage, installation guides, and GUI usage.
To further evaluate the robustness, universality and transferability of our proposed flow, we also design an internal QA evaluation dataset on the documentation of a commercial EDA tool.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">Our major contributions are summarized as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We carefully analyze the limitations of applying off-the-shelf RAG to EDA tool documentation QA, and propose a customized RAG flow to address them accordingly.
Our solution outperforms for both academic and commercial EDA tools.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We conduct contrastive learning and incorporate EDA expertise to finetune the text embedding model and the reranker model, achieving superior retrieval performance than SOTA retrievers.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">We propose a two-stage training scheme, namely, domain-knowledge pre-train and task-specific instruction tuning, to finetune an open-source chat LLM as the generator.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1">We release a QA benchmark with <math alttext="90" class="ltx_Math" display="inline" id="S1.I1.i4.p1.1.m1.1"><semantics id="S1.I1.i4.p1.1.m1.1a"><mn id="S1.I1.i4.p1.1.m1.1.1" xref="S1.I1.i4.p1.1.m1.1.1.cmml">90</mn><annotation-xml encoding="MathML-Content" id="S1.I1.i4.p1.1.m1.1b"><cn id="S1.I1.i4.p1.1.m1.1.1.cmml" type="integer" xref="S1.I1.i4.p1.1.m1.1.1">90</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.i4.p1.1.m1.1c">90</annotation><annotation encoding="application/x-llamapun" id="S1.I1.i4.p1.1.m1.1d">90</annotation></semantics></math> high-quality QA pairs concerning OpenROAD, to evaluate our RAG flow and facilitate the future research on EDA tool documentation QA.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Preliminaries</h2>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Information Retrieval</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">Given the user query, information retrieval (IR) is the process of obtaining information from a collection of documents or data sources that are relevant to the query.
Generally, there are two categories of methodology for information retrieval, namely, lexical (sparse) retrieval and semantic (dense) retrieval.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S2.SS1.p2.1.1">Lexical (sparse) Retrieval</span>.
In lexical (sparse) retrieval, the userâ€™s query is first tokenized into keywords. Techniques such as term frequency-inverse document frequency (TF-IDF) and BM25 are then used to assess the relevance of each keyword to each document chunk in the collection. The top-<math alttext="k" class="ltx_Math" display="inline" id="S2.SS1.p2.1.m1.1"><semantics id="S2.SS1.p2.1.m1.1a"><mi id="S2.SS1.p2.1.m1.1.1" xref="S2.SS1.p2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.1b"><ci id="S2.SS1.p2.1.m1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.1.m1.1d">italic_k</annotation></semantics></math> document chunks with the highest relevance scores are selected as the most relevant documents.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS1.p3">
<p class="ltx_p" id="S2.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="S2.SS1.p3.1.1">Semantic (dense) Retrieval</span>.
Given a user question and a list of document chunks, the approach of dense retrieval (semantic retrieval) utilizes the pretrained text embedding model to project the question and document chunks into the semantic vector space. The top <math alttext="k" class="ltx_Math" display="inline" id="S2.SS1.p3.1.m1.1"><semantics id="S2.SS1.p3.1.m1.1a"><mi id="S2.SS1.p3.1.m1.1.1" xref="S2.SS1.p3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.1.m1.1b"><ci id="S2.SS1.p3.1.m1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p3.1.m1.1d">italic_k</annotation></semantics></math> document chunks which are the closest to the question in the vector space (thus have the most similar semantics with the question) are selected as the relevant documents <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib6" title="">karpukhin2020dense, </a>)</cite>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS1.p4">
<p class="ltx_p" id="S2.SS1.p4.7"><span class="ltx_text ltx_font_bold" id="S2.SS1.p4.7.1">Reciprocal Rank Fusion</span>.
Reciprocal rank fusion (RRF)Â <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib14" title="">cormack2009reciprocal, </a>)</cite> is a method used for data fusion in information retrieval systems.
This technique combines the results from multiple retrieval systems (for example, lexical and semantic retrieval) to produce a single, enhanced ranking.
Given a set of documents <math alttext="D" class="ltx_Math" display="inline" id="S2.SS1.p4.1.m1.1"><semantics id="S2.SS1.p4.1.m1.1a"><mi id="S2.SS1.p4.1.m1.1.1" xref="S2.SS1.p4.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.1.m1.1b"><ci id="S2.SS1.p4.1.m1.1.1.cmml" xref="S2.SS1.p4.1.m1.1.1">ğ·</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p4.1.m1.1d">italic_D</annotation></semantics></math> and a set of document rankings <math alttext="R" class="ltx_Math" display="inline" id="S2.SS1.p4.2.m2.1"><semantics id="S2.SS1.p4.2.m2.1a"><mi id="S2.SS1.p4.2.m2.1.1" xref="S2.SS1.p4.2.m2.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.2.m2.1b"><ci id="S2.SS1.p4.2.m2.1.1.cmml" xref="S2.SS1.p4.2.m2.1.1">ğ‘…</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.2.m2.1c">R</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p4.2.m2.1d">italic_R</annotation></semantics></math> (each <math alttext="r\in R" class="ltx_Math" display="inline" id="S2.SS1.p4.3.m3.1"><semantics id="S2.SS1.p4.3.m3.1a"><mrow id="S2.SS1.p4.3.m3.1.1" xref="S2.SS1.p4.3.m3.1.1.cmml"><mi id="S2.SS1.p4.3.m3.1.1.2" xref="S2.SS1.p4.3.m3.1.1.2.cmml">r</mi><mo id="S2.SS1.p4.3.m3.1.1.1" xref="S2.SS1.p4.3.m3.1.1.1.cmml">âˆˆ</mo><mi id="S2.SS1.p4.3.m3.1.1.3" xref="S2.SS1.p4.3.m3.1.1.3.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.3.m3.1b"><apply id="S2.SS1.p4.3.m3.1.1.cmml" xref="S2.SS1.p4.3.m3.1.1"><in id="S2.SS1.p4.3.m3.1.1.1.cmml" xref="S2.SS1.p4.3.m3.1.1.1"></in><ci id="S2.SS1.p4.3.m3.1.1.2.cmml" xref="S2.SS1.p4.3.m3.1.1.2">ğ‘Ÿ</ci><ci id="S2.SS1.p4.3.m3.1.1.3.cmml" xref="S2.SS1.p4.3.m3.1.1.3">ğ‘…</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.3.m3.1c">r\in R</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p4.3.m3.1d">italic_r âˆˆ italic_R</annotation></semantics></math> ranks the relevance of <math alttext="D" class="ltx_Math" display="inline" id="S2.SS1.p4.4.m4.1"><semantics id="S2.SS1.p4.4.m4.1a"><mi id="S2.SS1.p4.4.m4.1.1" xref="S2.SS1.p4.4.m4.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.4.m4.1b"><ci id="S2.SS1.p4.4.m4.1.1.cmml" xref="S2.SS1.p4.4.m4.1.1">ğ·</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.4.m4.1c">D</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p4.4.m4.1d">italic_D</annotation></semantics></math> for a specific retrieval system, and <math alttext="r" class="ltx_Math" display="inline" id="S2.SS1.p4.5.m5.1"><semantics id="S2.SS1.p4.5.m5.1a"><mi id="S2.SS1.p4.5.m5.1.1" xref="S2.SS1.p4.5.m5.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.5.m5.1b"><ci id="S2.SS1.p4.5.m5.1.1.cmml" xref="S2.SS1.p4.5.m5.1.1">ğ‘Ÿ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.5.m5.1c">r</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p4.5.m5.1d">italic_r</annotation></semantics></math> is essentially a permutation on <math alttext="1\ldots|D|" class="ltx_Math" display="inline" id="S2.SS1.p4.6.m6.1"><semantics id="S2.SS1.p4.6.m6.1a"><mrow id="S2.SS1.p4.6.m6.1.2" xref="S2.SS1.p4.6.m6.1.2.cmml"><mn id="S2.SS1.p4.6.m6.1.2.2" xref="S2.SS1.p4.6.m6.1.2.2.cmml">1</mn><mo id="S2.SS1.p4.6.m6.1.2.1" xref="S2.SS1.p4.6.m6.1.2.1.cmml">â¢</mo><mi id="S2.SS1.p4.6.m6.1.2.3" mathvariant="normal" xref="S2.SS1.p4.6.m6.1.2.3.cmml">â€¦</mi><mo id="S2.SS1.p4.6.m6.1.2.1a" xref="S2.SS1.p4.6.m6.1.2.1.cmml">â¢</mo><mrow id="S2.SS1.p4.6.m6.1.2.4.2" xref="S2.SS1.p4.6.m6.1.2.4.1.cmml"><mo id="S2.SS1.p4.6.m6.1.2.4.2.1" stretchy="false" xref="S2.SS1.p4.6.m6.1.2.4.1.1.cmml">|</mo><mi id="S2.SS1.p4.6.m6.1.1" xref="S2.SS1.p4.6.m6.1.1.cmml">D</mi><mo id="S2.SS1.p4.6.m6.1.2.4.2.2" stretchy="false" xref="S2.SS1.p4.6.m6.1.2.4.1.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.6.m6.1b"><apply id="S2.SS1.p4.6.m6.1.2.cmml" xref="S2.SS1.p4.6.m6.1.2"><times id="S2.SS1.p4.6.m6.1.2.1.cmml" xref="S2.SS1.p4.6.m6.1.2.1"></times><cn id="S2.SS1.p4.6.m6.1.2.2.cmml" type="integer" xref="S2.SS1.p4.6.m6.1.2.2">1</cn><ci id="S2.SS1.p4.6.m6.1.2.3.cmml" xref="S2.SS1.p4.6.m6.1.2.3">â€¦</ci><apply id="S2.SS1.p4.6.m6.1.2.4.1.cmml" xref="S2.SS1.p4.6.m6.1.2.4.2"><abs id="S2.SS1.p4.6.m6.1.2.4.1.1.cmml" xref="S2.SS1.p4.6.m6.1.2.4.2.1"></abs><ci id="S2.SS1.p4.6.m6.1.1.cmml" xref="S2.SS1.p4.6.m6.1.1">ğ·</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.6.m6.1c">1\ldots|D|</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p4.6.m6.1d">1 â€¦ | italic_D |</annotation></semantics></math>), the RRF score of one document <math alttext="d" class="ltx_Math" display="inline" id="S2.SS1.p4.7.m7.1"><semantics id="S2.SS1.p4.7.m7.1a"><mi id="S2.SS1.p4.7.m7.1.1" xref="S2.SS1.p4.7.m7.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.7.m7.1b"><ci id="S2.SS1.p4.7.m7.1.1.cmml" xref="S2.SS1.p4.7.m7.1.1">ğ‘‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.7.m7.1c">d</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p4.7.m7.1d">italic_d</annotation></semantics></math> can be calculated as:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S2.E1">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S2.E1X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\text{RRF}(d\in D)=\sum_{r\in R}\frac{1}{k+r(d)}," class="ltx_Math" display="inline" id="S2.E1X.2.1.1.m1.2"><semantics id="S2.E1X.2.1.1.m1.2a"><mrow id="S2.E1X.2.1.1.m1.2.2.1" xref="S2.E1X.2.1.1.m1.2.2.1.1.cmml"><mrow id="S2.E1X.2.1.1.m1.2.2.1.1" xref="S2.E1X.2.1.1.m1.2.2.1.1.cmml"><mrow id="S2.E1X.2.1.1.m1.2.2.1.1.1" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.cmml"><mtext id="S2.E1X.2.1.1.m1.2.2.1.1.1.3" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.3a.cmml">RRF</mtext><mo id="S2.E1X.2.1.1.m1.2.2.1.1.1.2" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.2.cmml">â¢</mo><mrow id="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.cmml"><mo id="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.2" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.2.cmml">d</mi><mo id="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.1" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml">âˆˆ</mo><mi id="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.3" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.3.cmml">D</mi></mrow><mo id="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.3" stretchy="false" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E1X.2.1.1.m1.2.2.1.1.2" xref="S2.E1X.2.1.1.m1.2.2.1.1.2.cmml">=</mo><mrow id="S2.E1X.2.1.1.m1.2.2.1.1.3" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.cmml"><mstyle displaystyle="true" id="S2.E1X.2.1.1.m1.2.2.1.1.3.1" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1.cmml"><munder id="S2.E1X.2.1.1.m1.2.2.1.1.3.1a" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1.cmml"><mo id="S2.E1X.2.1.1.m1.2.2.1.1.3.1.2" movablelimits="false" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1.2.cmml">âˆ‘</mo><mrow id="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.cmml"><mi id="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.2" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.2.cmml">r</mi><mo id="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.1" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.1.cmml">âˆˆ</mo><mi id="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.3" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.3.cmml">R</mi></mrow></munder></mstyle><mstyle displaystyle="true" id="S2.E1X.2.1.1.m1.1.1" xref="S2.E1X.2.1.1.m1.1.1.cmml"><mfrac id="S2.E1X.2.1.1.m1.1.1a" xref="S2.E1X.2.1.1.m1.1.1.cmml"><mn id="S2.E1X.2.1.1.m1.1.1.3" xref="S2.E1X.2.1.1.m1.1.1.3.cmml">1</mn><mrow id="S2.E1X.2.1.1.m1.1.1.1" xref="S2.E1X.2.1.1.m1.1.1.1.cmml"><mi id="S2.E1X.2.1.1.m1.1.1.1.3" xref="S2.E1X.2.1.1.m1.1.1.1.3.cmml">k</mi><mo id="S2.E1X.2.1.1.m1.1.1.1.2" xref="S2.E1X.2.1.1.m1.1.1.1.2.cmml">+</mo><mrow id="S2.E1X.2.1.1.m1.1.1.1.4" xref="S2.E1X.2.1.1.m1.1.1.1.4.cmml"><mi id="S2.E1X.2.1.1.m1.1.1.1.4.2" xref="S2.E1X.2.1.1.m1.1.1.1.4.2.cmml">r</mi><mo id="S2.E1X.2.1.1.m1.1.1.1.4.1" xref="S2.E1X.2.1.1.m1.1.1.1.4.1.cmml">â¢</mo><mrow id="S2.E1X.2.1.1.m1.1.1.1.4.3.2" xref="S2.E1X.2.1.1.m1.1.1.1.4.cmml"><mo id="S2.E1X.2.1.1.m1.1.1.1.4.3.2.1" stretchy="false" xref="S2.E1X.2.1.1.m1.1.1.1.4.cmml">(</mo><mi id="S2.E1X.2.1.1.m1.1.1.1.1" xref="S2.E1X.2.1.1.m1.1.1.1.1.cmml">d</mi><mo id="S2.E1X.2.1.1.m1.1.1.1.4.3.2.2" stretchy="false" xref="S2.E1X.2.1.1.m1.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S2.E1X.2.1.1.m1.2.2.1.2" xref="S2.E1X.2.1.1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1X.2.1.1.m1.2b"><apply id="S2.E1X.2.1.1.m1.2.2.1.1.cmml" xref="S2.E1X.2.1.1.m1.2.2.1"><eq id="S2.E1X.2.1.1.m1.2.2.1.1.2.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.2"></eq><apply id="S2.E1X.2.1.1.m1.2.2.1.1.1.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.1"><times id="S2.E1X.2.1.1.m1.2.2.1.1.1.2.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.2"></times><ci id="S2.E1X.2.1.1.m1.2.2.1.1.1.3a.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.3"><mtext id="S2.E1X.2.1.1.m1.2.2.1.1.1.3.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.3">RRF</mtext></ci><apply id="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1"><in id="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.1"></in><ci id="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.2">ğ‘‘</ci><ci id="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.1.1.1.1.3">ğ·</ci></apply></apply><apply id="S2.E1X.2.1.1.m1.2.2.1.1.3.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.3"><apply id="S2.E1X.2.1.1.m1.2.2.1.1.3.1.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1"><csymbol cd="ambiguous" id="S2.E1X.2.1.1.m1.2.2.1.1.3.1.1.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1">subscript</csymbol><sum id="S2.E1X.2.1.1.m1.2.2.1.1.3.1.2.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1.2"></sum><apply id="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3"><in id="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.1.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.1"></in><ci id="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.2.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.2">ğ‘Ÿ</ci><ci id="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.3.cmml" xref="S2.E1X.2.1.1.m1.2.2.1.1.3.1.3.3">ğ‘…</ci></apply></apply><apply id="S2.E1X.2.1.1.m1.1.1.cmml" xref="S2.E1X.2.1.1.m1.1.1"><divide id="S2.E1X.2.1.1.m1.1.1.2.cmml" xref="S2.E1X.2.1.1.m1.1.1"></divide><cn id="S2.E1X.2.1.1.m1.1.1.3.cmml" type="integer" xref="S2.E1X.2.1.1.m1.1.1.3">1</cn><apply id="S2.E1X.2.1.1.m1.1.1.1.cmml" xref="S2.E1X.2.1.1.m1.1.1.1"><plus id="S2.E1X.2.1.1.m1.1.1.1.2.cmml" xref="S2.E1X.2.1.1.m1.1.1.1.2"></plus><ci id="S2.E1X.2.1.1.m1.1.1.1.3.cmml" xref="S2.E1X.2.1.1.m1.1.1.1.3">ğ‘˜</ci><apply id="S2.E1X.2.1.1.m1.1.1.1.4.cmml" xref="S2.E1X.2.1.1.m1.1.1.1.4"><times id="S2.E1X.2.1.1.m1.1.1.1.4.1.cmml" xref="S2.E1X.2.1.1.m1.1.1.1.4.1"></times><ci id="S2.E1X.2.1.1.m1.1.1.1.4.2.cmml" xref="S2.E1X.2.1.1.m1.1.1.1.4.2">ğ‘Ÿ</ci><ci id="S2.E1X.2.1.1.m1.1.1.1.1.cmml" xref="S2.E1X.2.1.1.m1.1.1.1.1">ğ‘‘</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1X.2.1.1.m1.2c">\displaystyle\text{RRF}(d\in D)=\sum_{r\in R}\frac{1}{k+r(d)},</annotation><annotation encoding="application/x-llamapun" id="S2.E1X.2.1.1.m1.2d">RRF ( italic_d âˆˆ italic_D ) = âˆ‘ start_POSTSUBSCRIPT italic_r âˆˆ italic_R end_POSTSUBSCRIPT divide start_ARG 1 end_ARG start_ARG italic_k + italic_r ( italic_d ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S2.SS1.p4.8">where <math alttext="k" class="ltx_Math" display="inline" id="S2.SS1.p4.8.m1.1"><semantics id="S2.SS1.p4.8.m1.1a"><mi id="S2.SS1.p4.8.m1.1.1" xref="S2.SS1.p4.8.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.8.m1.1b"><ci id="S2.SS1.p4.8.m1.1.1.cmml" xref="S2.SS1.p4.8.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.8.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p4.8.m1.1d">italic_k</annotation></semantics></math> is one constant and is usually set to 60.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Performance Measurement</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.6">To evaluate the effectiveness of a retriever/reranker in terms of its ability to retrieve all relevant documents/filter out irrelevant documents, we use recall as the metric.
Mathematically, recall@<math alttext="k" class="ltx_Math" display="inline" id="S2.SS2.p1.1.m1.1"><semantics id="S2.SS2.p1.1.m1.1a"><mi id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><ci id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.1.m1.1d">italic_k</annotation></semantics></math> is defined as the proportion of relevant documents that are retrieved among the top <math alttext="k" class="ltx_Math" display="inline" id="S2.SS2.p1.2.m2.1"><semantics id="S2.SS2.p1.2.m2.1a"><mi id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><ci id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.2.m2.1d">italic_k</annotation></semantics></math> results returned by the retriever/reranker.
Let <math alttext="R" class="ltx_Math" display="inline" id="S2.SS2.p1.3.m3.1"><semantics id="S2.SS2.p1.3.m3.1a"><mi id="S2.SS2.p1.3.m3.1.1" xref="S2.SS2.p1.3.m3.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.3.m3.1b"><ci id="S2.SS2.p1.3.m3.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1">ğ‘…</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.3.m3.1c">R</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.3.m3.1d">italic_R</annotation></semantics></math> be the set of all relevant documents in the corpus, and let <math alttext="R_{k}" class="ltx_Math" display="inline" id="S2.SS2.p1.4.m4.1"><semantics id="S2.SS2.p1.4.m4.1a"><msub id="S2.SS2.p1.4.m4.1.1" xref="S2.SS2.p1.4.m4.1.1.cmml"><mi id="S2.SS2.p1.4.m4.1.1.2" xref="S2.SS2.p1.4.m4.1.1.2.cmml">R</mi><mi id="S2.SS2.p1.4.m4.1.1.3" xref="S2.SS2.p1.4.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.4.m4.1b"><apply id="S2.SS2.p1.4.m4.1.1.cmml" xref="S2.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.4.m4.1.1.1.cmml" xref="S2.SS2.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS2.p1.4.m4.1.1.2.cmml" xref="S2.SS2.p1.4.m4.1.1.2">ğ‘…</ci><ci id="S2.SS2.p1.4.m4.1.1.3.cmml" xref="S2.SS2.p1.4.m4.1.1.3">ğ‘˜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.4.m4.1c">R_{k}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.4.m4.1d">italic_R start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> be the set of relevant documents that appear in the top <math alttext="k" class="ltx_Math" display="inline" id="S2.SS2.p1.5.m5.1"><semantics id="S2.SS2.p1.5.m5.1a"><mi id="S2.SS2.p1.5.m5.1.1" xref="S2.SS2.p1.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.5.m5.1b"><ci id="S2.SS2.p1.5.m5.1.1.cmml" xref="S2.SS2.p1.5.m5.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.5.m5.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.5.m5.1d">italic_k</annotation></semantics></math> results returned by the retriever/reranker.
Then, recall@<math alttext="k" class="ltx_Math" display="inline" id="S2.SS2.p1.6.m6.1"><semantics id="S2.SS2.p1.6.m6.1a"><mi id="S2.SS2.p1.6.m6.1.1" xref="S2.SS2.p1.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.6.m6.1b"><ci id="S2.SS2.p1.6.m6.1.1.cmml" xref="S2.SS2.p1.6.m6.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.6.m6.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.6.m6.1d">italic_k</annotation></semantics></math> is formulated as:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S2.E2">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S2.E2X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\text{recall}@k=\frac{|R_{k}|}{|R|}." class="ltx_Math" display="inline" id="S2.E2X.2.1.1.m1.3"><semantics id="S2.E2X.2.1.1.m1.3a"><mrow id="S2.E2X.2.1.1.m1.3.3.1" xref="S2.E2X.2.1.1.m1.3.3.1.1.cmml"><mrow id="S2.E2X.2.1.1.m1.3.3.1.1" xref="S2.E2X.2.1.1.m1.3.3.1.1.cmml"><mrow id="S2.E2X.2.1.1.m1.3.3.1.1.2" xref="S2.E2X.2.1.1.m1.3.3.1.1.2.cmml"><mtext id="S2.E2X.2.1.1.m1.3.3.1.1.2.2" xref="S2.E2X.2.1.1.m1.3.3.1.1.2.2a.cmml">recall</mtext><mo id="S2.E2X.2.1.1.m1.3.3.1.1.2.1" xref="S2.E2X.2.1.1.m1.3.3.1.1.2.1.cmml">â¢</mo><mi id="S2.E2X.2.1.1.m1.3.3.1.1.2.3" mathvariant="normal" xref="S2.E2X.2.1.1.m1.3.3.1.1.2.3.cmml">@</mi><mo id="S2.E2X.2.1.1.m1.3.3.1.1.2.1a" xref="S2.E2X.2.1.1.m1.3.3.1.1.2.1.cmml">â¢</mo><mi id="S2.E2X.2.1.1.m1.3.3.1.1.2.4" xref="S2.E2X.2.1.1.m1.3.3.1.1.2.4.cmml">k</mi></mrow><mo id="S2.E2X.2.1.1.m1.3.3.1.1.1" xref="S2.E2X.2.1.1.m1.3.3.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S2.E2X.2.1.1.m1.2.2" xref="S2.E2X.2.1.1.m1.2.2.cmml"><mfrac id="S2.E2X.2.1.1.m1.2.2a" xref="S2.E2X.2.1.1.m1.2.2.cmml"><mrow id="S2.E2X.2.1.1.m1.1.1.1.1" xref="S2.E2X.2.1.1.m1.1.1.1.2.cmml"><mo id="S2.E2X.2.1.1.m1.1.1.1.1.2" stretchy="false" xref="S2.E2X.2.1.1.m1.1.1.1.2.1.cmml">|</mo><msub id="S2.E2X.2.1.1.m1.1.1.1.1.1" xref="S2.E2X.2.1.1.m1.1.1.1.1.1.cmml"><mi id="S2.E2X.2.1.1.m1.1.1.1.1.1.2" xref="S2.E2X.2.1.1.m1.1.1.1.1.1.2.cmml">R</mi><mi id="S2.E2X.2.1.1.m1.1.1.1.1.1.3" xref="S2.E2X.2.1.1.m1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S2.E2X.2.1.1.m1.1.1.1.1.3" stretchy="false" xref="S2.E2X.2.1.1.m1.1.1.1.2.1.cmml">|</mo></mrow><mrow id="S2.E2X.2.1.1.m1.2.2.2.3" xref="S2.E2X.2.1.1.m1.2.2.2.2.cmml"><mo id="S2.E2X.2.1.1.m1.2.2.2.3.1" stretchy="false" xref="S2.E2X.2.1.1.m1.2.2.2.2.1.cmml">|</mo><mi id="S2.E2X.2.1.1.m1.2.2.2.1" xref="S2.E2X.2.1.1.m1.2.2.2.1.cmml">R</mi><mo id="S2.E2X.2.1.1.m1.2.2.2.3.2" stretchy="false" xref="S2.E2X.2.1.1.m1.2.2.2.2.1.cmml">|</mo></mrow></mfrac></mstyle></mrow><mo id="S2.E2X.2.1.1.m1.3.3.1.2" lspace="0em" xref="S2.E2X.2.1.1.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E2X.2.1.1.m1.3b"><apply id="S2.E2X.2.1.1.m1.3.3.1.1.cmml" xref="S2.E2X.2.1.1.m1.3.3.1"><eq id="S2.E2X.2.1.1.m1.3.3.1.1.1.cmml" xref="S2.E2X.2.1.1.m1.3.3.1.1.1"></eq><apply id="S2.E2X.2.1.1.m1.3.3.1.1.2.cmml" xref="S2.E2X.2.1.1.m1.3.3.1.1.2"><times id="S2.E2X.2.1.1.m1.3.3.1.1.2.1.cmml" xref="S2.E2X.2.1.1.m1.3.3.1.1.2.1"></times><ci id="S2.E2X.2.1.1.m1.3.3.1.1.2.2a.cmml" xref="S2.E2X.2.1.1.m1.3.3.1.1.2.2"><mtext id="S2.E2X.2.1.1.m1.3.3.1.1.2.2.cmml" xref="S2.E2X.2.1.1.m1.3.3.1.1.2.2">recall</mtext></ci><ci id="S2.E2X.2.1.1.m1.3.3.1.1.2.3.cmml" xref="S2.E2X.2.1.1.m1.3.3.1.1.2.3">@</ci><ci id="S2.E2X.2.1.1.m1.3.3.1.1.2.4.cmml" xref="S2.E2X.2.1.1.m1.3.3.1.1.2.4">ğ‘˜</ci></apply><apply id="S2.E2X.2.1.1.m1.2.2.cmml" xref="S2.E2X.2.1.1.m1.2.2"><divide id="S2.E2X.2.1.1.m1.2.2.3.cmml" xref="S2.E2X.2.1.1.m1.2.2"></divide><apply id="S2.E2X.2.1.1.m1.1.1.1.2.cmml" xref="S2.E2X.2.1.1.m1.1.1.1.1"><abs id="S2.E2X.2.1.1.m1.1.1.1.2.1.cmml" xref="S2.E2X.2.1.1.m1.1.1.1.1.2"></abs><apply id="S2.E2X.2.1.1.m1.1.1.1.1.1.cmml" xref="S2.E2X.2.1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2X.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S2.E2X.2.1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S2.E2X.2.1.1.m1.1.1.1.1.1.2.cmml" xref="S2.E2X.2.1.1.m1.1.1.1.1.1.2">ğ‘…</ci><ci id="S2.E2X.2.1.1.m1.1.1.1.1.1.3.cmml" xref="S2.E2X.2.1.1.m1.1.1.1.1.1.3">ğ‘˜</ci></apply></apply><apply id="S2.E2X.2.1.1.m1.2.2.2.2.cmml" xref="S2.E2X.2.1.1.m1.2.2.2.3"><abs id="S2.E2X.2.1.1.m1.2.2.2.2.1.cmml" xref="S2.E2X.2.1.1.m1.2.2.2.3.1"></abs><ci id="S2.E2X.2.1.1.m1.2.2.2.1.cmml" xref="S2.E2X.2.1.1.m1.2.2.2.1">ğ‘…</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2X.2.1.1.m1.3c">\displaystyle\text{recall}@k=\frac{|R_{k}|}{|R|}.</annotation><annotation encoding="application/x-llamapun" id="S2.E2X.2.1.1.m1.3d">recall @ italic_k = divide start_ARG | italic_R start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT | end_ARG start_ARG | italic_R | end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">To evaluate the performance of a generator (a chat LLM) in answering EDA-tool questions,
we use three most popular metrics applied in the scenario of text generation and question-answering, namely, BLEUÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib3" title="">papineni2002bleu, </a>)</cite>, ROUGE-LÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib4" title="">lin2004rouge, </a>)</cite>, and UniEvalÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib5" title="">zhong-etal-2022-towards, </a>)</cite>.
These three metrics are used to measure the coherence, conciseness and factual consistency between the generated answer and ground truth answer for each question.</p>
</div>
<figure class="ltx_figure" id="S2.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="207" id="S2.F2.g1" src="x2.png" width="762"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>Overview of RAG-EDA, our proposed RAG flow for EDA tool documentation QA.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S2.SS2.p3">
<p class="ltx_p" id="S2.SS2.p3.6"><span class="ltx_text ltx_font_bold" id="S2.SS2.p3.6.1">BLEU</span>.
Bilingual evaluation understudy (BLEU) is originally designed for measuring machine translation, but currently is widely used for the measurement of text generation.
BLEU computes the precision of n-grams in the candidate answer by determining the proportion of n-grams that appear in the reference answer.
This is adjusted by a brevity penalty to discourage overly short translations. The metric is calculated as:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S2.E3">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S2.E3X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\text{BLEU}=BP\cdot\exp\left(\sum_{n=1}^{N}w_{n}\log p_{n}\right)," class="ltx_Math" display="inline" id="S2.E3X.2.1.1.m1.2"><semantics id="S2.E3X.2.1.1.m1.2a"><mrow id="S2.E3X.2.1.1.m1.2.2.1" xref="S2.E3X.2.1.1.m1.2.2.1.1.cmml"><mrow id="S2.E3X.2.1.1.m1.2.2.1.1" xref="S2.E3X.2.1.1.m1.2.2.1.1.cmml"><mtext id="S2.E3X.2.1.1.m1.2.2.1.1.3" xref="S2.E3X.2.1.1.m1.2.2.1.1.3a.cmml">BLEU</mtext><mo id="S2.E3X.2.1.1.m1.2.2.1.1.2" xref="S2.E3X.2.1.1.m1.2.2.1.1.2.cmml">=</mo><mrow id="S2.E3X.2.1.1.m1.2.2.1.1.1" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.cmml"><mrow id="S2.E3X.2.1.1.m1.2.2.1.1.1.3" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.3.cmml"><mi id="S2.E3X.2.1.1.m1.2.2.1.1.1.3.2" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.3.2.cmml">B</mi><mo id="S2.E3X.2.1.1.m1.2.2.1.1.1.3.1" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.3.1.cmml">â¢</mo><mi id="S2.E3X.2.1.1.m1.2.2.1.1.1.3.3" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.3.3.cmml">P</mi></mrow><mo id="S2.E3X.2.1.1.m1.2.2.1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.2.cmml">â‹…</mo><mrow id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.2.cmml"><mi id="S2.E3X.2.1.1.m1.1.1" xref="S2.E3X.2.1.1.m1.1.1.cmml">exp</mi><mo id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1a" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.2.cmml">â¡</mo><mrow id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.2.cmml"><mo id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.2" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.2.cmml">(</mo><mrow id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml"><munderover id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1a" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.2" movablelimits="false" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.2" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.2.cmml">n</mi><mo id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.1" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.1.cmml">=</mo><mn id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.3" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.cmml">N</mi></munderover></mstyle><mrow id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml"><msub id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml"><mi id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml">w</mi><mi id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.cmml">n</mi></msub><mo id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1" lspace="0.167em" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.cmml">â¢</mo><mrow id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml"><mi id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.1" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.1.cmml">log</mi><mo id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3a" lspace="0.167em" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml">â¡</mo><msub id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.2" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.2.cmml">p</mi><mi id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.3" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.3.cmml">n</mi></msub></mrow></mrow></mrow><mo id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.3" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S2.E3X.2.1.1.m1.2.2.1.2" xref="S2.E3X.2.1.1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E3X.2.1.1.m1.2b"><apply id="S2.E3X.2.1.1.m1.2.2.1.1.cmml" xref="S2.E3X.2.1.1.m1.2.2.1"><eq id="S2.E3X.2.1.1.m1.2.2.1.1.2.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.2"></eq><ci id="S2.E3X.2.1.1.m1.2.2.1.1.3a.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.3"><mtext id="S2.E3X.2.1.1.m1.2.2.1.1.3.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.3">BLEU</mtext></ci><apply id="S2.E3X.2.1.1.m1.2.2.1.1.1.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1"><ci id="S2.E3X.2.1.1.m1.2.2.1.1.1.2.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.2">â‹…</ci><apply id="S2.E3X.2.1.1.m1.2.2.1.1.1.3.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.3"><times id="S2.E3X.2.1.1.m1.2.2.1.1.1.3.1.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.3.1"></times><ci id="S2.E3X.2.1.1.m1.2.2.1.1.1.3.2.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.3.2">ğµ</ci><ci id="S2.E3X.2.1.1.m1.2.2.1.1.1.3.3.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.3.3">ğ‘ƒ</ci></apply><apply id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.2.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1"><exp id="S2.E3X.2.1.1.m1.1.1.cmml" xref="S2.E3X.2.1.1.m1.1.1"></exp><apply id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1"><apply id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><sum id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.2"></sum><apply id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3"><eq id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.1"></eq><ci id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.2">ğ‘›</ci><cn id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.3.cmml" type="integer" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><ci id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3">ğ‘</ci></apply><apply id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2"><times id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.1"></times><apply id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.2">ğ‘¤</ci><ci id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.2.3">ğ‘›</ci></apply><apply id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3"><log id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.1.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.1"></log><apply id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.2">ğ‘</ci><ci id="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="S2.E3X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2.3.2.3">ğ‘›</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3X.2.1.1.m1.2c">\displaystyle\text{BLEU}=BP\cdot\exp\left(\sum_{n=1}^{N}w_{n}\log p_{n}\right),</annotation><annotation encoding="application/x-llamapun" id="S2.E3X.2.1.1.m1.2d">BLEU = italic_B italic_P â‹… roman_exp ( âˆ‘ start_POSTSUBSCRIPT italic_n = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT italic_w start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT roman_log italic_p start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S2.SS2.p3.5">which can be best understood as the geometric mean of multiple <math alttext="n" class="ltx_Math" display="inline" id="S2.SS2.p3.1.m1.1"><semantics id="S2.SS2.p3.1.m1.1a"><mi id="S2.SS2.p3.1.m1.1.1" xref="S2.SS2.p3.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.1.m1.1b"><ci id="S2.SS2.p3.1.m1.1.1.cmml" xref="S2.SS2.p3.1.m1.1.1">ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p3.1.m1.1d">italic_n</annotation></semantics></math>-gram precision of various sizes.
Here, <math alttext="BP" class="ltx_Math" display="inline" id="S2.SS2.p3.2.m2.1"><semantics id="S2.SS2.p3.2.m2.1a"><mrow id="S2.SS2.p3.2.m2.1.1" xref="S2.SS2.p3.2.m2.1.1.cmml"><mi id="S2.SS2.p3.2.m2.1.1.2" xref="S2.SS2.p3.2.m2.1.1.2.cmml">B</mi><mo id="S2.SS2.p3.2.m2.1.1.1" xref="S2.SS2.p3.2.m2.1.1.1.cmml">â¢</mo><mi id="S2.SS2.p3.2.m2.1.1.3" xref="S2.SS2.p3.2.m2.1.1.3.cmml">P</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.2.m2.1b"><apply id="S2.SS2.p3.2.m2.1.1.cmml" xref="S2.SS2.p3.2.m2.1.1"><times id="S2.SS2.p3.2.m2.1.1.1.cmml" xref="S2.SS2.p3.2.m2.1.1.1"></times><ci id="S2.SS2.p3.2.m2.1.1.2.cmml" xref="S2.SS2.p3.2.m2.1.1.2">ğµ</ci><ci id="S2.SS2.p3.2.m2.1.1.3.cmml" xref="S2.SS2.p3.2.m2.1.1.3">ğ‘ƒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.2.m2.1c">BP</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p3.2.m2.1d">italic_B italic_P</annotation></semantics></math> (Brevity Penalty) is a multiplicative factor used to penalize short candidate answer, and <math alttext="w_{n}" class="ltx_Math" display="inline" id="S2.SS2.p3.3.m3.1"><semantics id="S2.SS2.p3.3.m3.1a"><msub id="S2.SS2.p3.3.m3.1.1" xref="S2.SS2.p3.3.m3.1.1.cmml"><mi id="S2.SS2.p3.3.m3.1.1.2" xref="S2.SS2.p3.3.m3.1.1.2.cmml">w</mi><mi id="S2.SS2.p3.3.m3.1.1.3" xref="S2.SS2.p3.3.m3.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.3.m3.1b"><apply id="S2.SS2.p3.3.m3.1.1.cmml" xref="S2.SS2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.3.m3.1.1.1.cmml" xref="S2.SS2.p3.3.m3.1.1">subscript</csymbol><ci id="S2.SS2.p3.3.m3.1.1.2.cmml" xref="S2.SS2.p3.3.m3.1.1.2">ğ‘¤</ci><ci id="S2.SS2.p3.3.m3.1.1.3.cmml" xref="S2.SS2.p3.3.m3.1.1.3">ğ‘›</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.3.m3.1c">w_{n}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p3.3.m3.1d">italic_w start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math> are weights assigned to each logarithmic n-gram precision (we use uniform weights).
<math alttext="N" class="ltx_Math" display="inline" id="S2.SS2.p3.4.m4.1"><semantics id="S2.SS2.p3.4.m4.1a"><mi id="S2.SS2.p3.4.m4.1.1" xref="S2.SS2.p3.4.m4.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.4.m4.1b"><ci id="S2.SS2.p3.4.m4.1.1.cmml" xref="S2.SS2.p3.4.m4.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.4.m4.1c">N</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p3.4.m4.1d">italic_N</annotation></semantics></math> is the maximal n-gram order considered and <math alttext="4" class="ltx_Math" display="inline" id="S2.SS2.p3.5.m5.1"><semantics id="S2.SS2.p3.5.m5.1a"><mn id="S2.SS2.p3.5.m5.1.1" xref="S2.SS2.p3.5.m5.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.5.m5.1b"><cn id="S2.SS2.p3.5.m5.1.1.cmml" type="integer" xref="S2.SS2.p3.5.m5.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.5.m5.1c">4</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p3.5.m5.1d">4</annotation></semantics></math> is often a practical option.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS2.p4">
<p class="ltx_p" id="S2.SS2.p4.2"><span class="ltx_text ltx_font_bold" id="S2.SS2.p4.2.1">ROUGE-L</span>.
ROUGE-L (recall-oriented understudy for gisting evaluation - longest common subsequence) measures the similarity between the answer generated by the LLM (denoted as <math alttext="X" class="ltx_Math" display="inline" id="S2.SS2.p4.1.m1.1"><semantics id="S2.SS2.p4.1.m1.1a"><mi id="S2.SS2.p4.1.m1.1.1" xref="S2.SS2.p4.1.m1.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.1.m1.1b"><ci id="S2.SS2.p4.1.m1.1.1.cmml" xref="S2.SS2.p4.1.m1.1.1">ğ‘‹</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.1.m1.1c">X</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.1.m1.1d">italic_X</annotation></semantics></math>) and the reference answer (denoted as <math alttext="Y" class="ltx_Math" display="inline" id="S2.SS2.p4.2.m2.1"><semantics id="S2.SS2.p4.2.m2.1a"><mi id="S2.SS2.p4.2.m2.1.1" xref="S2.SS2.p4.2.m2.1.1.cmml">Y</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.2.m2.1b"><ci id="S2.SS2.p4.2.m2.1.1.cmml" xref="S2.SS2.p4.2.m2.1.1">ğ‘Œ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.2.m2.1c">Y</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.2.m2.1d">italic_Y</annotation></semantics></math>) by examining the longest common subsequence (LCS).
It computes both recall and precision based on the LCS, and it combines these into an F-measure.
The formulas are defined as follows:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S2.E4">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S2.E4X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\text{recall}_{\text{LCS}}={}" class="ltx_Math" display="inline" id="S2.E4X.2.1.1.m1.1"><semantics id="S2.E4X.2.1.1.m1.1a"><mrow id="S2.E4X.2.1.1.m1.1.1" xref="S2.E4X.2.1.1.m1.1.1.cmml"><msub id="S2.E4X.2.1.1.m1.1.1.2" xref="S2.E4X.2.1.1.m1.1.1.2.cmml"><mtext id="S2.E4X.2.1.1.m1.1.1.2.2" xref="S2.E4X.2.1.1.m1.1.1.2.2a.cmml">recall</mtext><mtext id="S2.E4X.2.1.1.m1.1.1.2.3" xref="S2.E4X.2.1.1.m1.1.1.2.3a.cmml">LCS</mtext></msub><mo id="S2.E4X.2.1.1.m1.1.1.1" xref="S2.E4X.2.1.1.m1.1.1.1.cmml">=</mo><mi id="S2.E4X.2.1.1.m1.1.1.3" xref="S2.E4X.2.1.1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S2.E4X.2.1.1.m1.1b"><apply id="S2.E4X.2.1.1.m1.1.1.cmml" xref="S2.E4X.2.1.1.m1.1.1"><eq id="S2.E4X.2.1.1.m1.1.1.1.cmml" xref="S2.E4X.2.1.1.m1.1.1.1"></eq><apply id="S2.E4X.2.1.1.m1.1.1.2.cmml" xref="S2.E4X.2.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S2.E4X.2.1.1.m1.1.1.2.1.cmml" xref="S2.E4X.2.1.1.m1.1.1.2">subscript</csymbol><ci id="S2.E4X.2.1.1.m1.1.1.2.2a.cmml" xref="S2.E4X.2.1.1.m1.1.1.2.2"><mtext id="S2.E4X.2.1.1.m1.1.1.2.2.cmml" xref="S2.E4X.2.1.1.m1.1.1.2.2">recall</mtext></ci><ci id="S2.E4X.2.1.1.m1.1.1.2.3a.cmml" xref="S2.E4X.2.1.1.m1.1.1.2.3"><mtext id="S2.E4X.2.1.1.m1.1.1.2.3.cmml" mathsize="70%" xref="S2.E4X.2.1.1.m1.1.1.2.3">LCS</mtext></ci></apply><csymbol cd="latexml" id="S2.E4X.2.1.1.m1.1.1.3.cmml" xref="S2.E4X.2.1.1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E4X.2.1.1.m1.1c">\displaystyle\text{recall}_{\text{LCS}}={}</annotation><annotation encoding="application/x-llamapun" id="S2.E4X.2.1.1.m1.1d">recall start_POSTSUBSCRIPT LCS end_POSTSUBSCRIPT =</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\frac{|\text{LCS}(X,Y)|}{|Y|},\text{precision}_{\text{LCS}}=\frac%
{|\text{LCS}(X,Y)|}{|X|}," class="ltx_Math" display="inline" id="S2.E4X.3.2.2.m1.9"><semantics id="S2.E4X.3.2.2.m1.9a"><mrow id="S2.E4X.3.2.2.m1.9.9.1" xref="S2.E4X.3.2.2.m1.9.9.1.1.cmml"><mrow id="S2.E4X.3.2.2.m1.9.9.1.1" xref="S2.E4X.3.2.2.m1.9.9.1.1.cmml"><mrow id="S2.E4X.3.2.2.m1.9.9.1.1.1.1" xref="S2.E4X.3.2.2.m1.9.9.1.1.1.2.cmml"><mstyle displaystyle="true" id="S2.E4X.3.2.2.m1.4.4" xref="S2.E4X.3.2.2.m1.4.4.cmml"><mfrac id="S2.E4X.3.2.2.m1.4.4a" xref="S2.E4X.3.2.2.m1.4.4.cmml"><mrow id="S2.E4X.3.2.2.m1.3.3.3.3" xref="S2.E4X.3.2.2.m1.3.3.3.4.cmml"><mo id="S2.E4X.3.2.2.m1.3.3.3.3.2" stretchy="false" xref="S2.E4X.3.2.2.m1.3.3.3.4.1.cmml">|</mo><mrow id="S2.E4X.3.2.2.m1.3.3.3.3.1" xref="S2.E4X.3.2.2.m1.3.3.3.3.1.cmml"><mtext id="S2.E4X.3.2.2.m1.3.3.3.3.1.2" xref="S2.E4X.3.2.2.m1.3.3.3.3.1.2a.cmml">LCS</mtext><mo id="S2.E4X.3.2.2.m1.3.3.3.3.1.1" xref="S2.E4X.3.2.2.m1.3.3.3.3.1.1.cmml">â¢</mo><mrow id="S2.E4X.3.2.2.m1.3.3.3.3.1.3.2" xref="S2.E4X.3.2.2.m1.3.3.3.3.1.3.1.cmml"><mo id="S2.E4X.3.2.2.m1.3.3.3.3.1.3.2.1" stretchy="false" xref="S2.E4X.3.2.2.m1.3.3.3.3.1.3.1.cmml">(</mo><mi id="S2.E4X.3.2.2.m1.1.1.1.1" xref="S2.E4X.3.2.2.m1.1.1.1.1.cmml">X</mi><mo id="S2.E4X.3.2.2.m1.3.3.3.3.1.3.2.2" xref="S2.E4X.3.2.2.m1.3.3.3.3.1.3.1.cmml">,</mo><mi id="S2.E4X.3.2.2.m1.2.2.2.2" xref="S2.E4X.3.2.2.m1.2.2.2.2.cmml">Y</mi><mo id="S2.E4X.3.2.2.m1.3.3.3.3.1.3.2.3" stretchy="false" xref="S2.E4X.3.2.2.m1.3.3.3.3.1.3.1.cmml">)</mo></mrow></mrow><mo id="S2.E4X.3.2.2.m1.3.3.3.3.3" stretchy="false" xref="S2.E4X.3.2.2.m1.3.3.3.4.1.cmml">|</mo></mrow><mrow id="S2.E4X.3.2.2.m1.4.4.4.3" xref="S2.E4X.3.2.2.m1.4.4.4.2.cmml"><mo id="S2.E4X.3.2.2.m1.4.4.4.3.1" stretchy="false" xref="S2.E4X.3.2.2.m1.4.4.4.2.1.cmml">|</mo><mi id="S2.E4X.3.2.2.m1.4.4.4.1" xref="S2.E4X.3.2.2.m1.4.4.4.1.cmml">Y</mi><mo id="S2.E4X.3.2.2.m1.4.4.4.3.2" stretchy="false" xref="S2.E4X.3.2.2.m1.4.4.4.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo id="S2.E4X.3.2.2.m1.9.9.1.1.1.1.2" xref="S2.E4X.3.2.2.m1.9.9.1.1.1.2.cmml">,</mo><msub id="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1" xref="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.cmml"><mtext id="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.2" xref="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.2a.cmml">precision</mtext><mtext id="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.3" xref="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.3a.cmml">LCS</mtext></msub></mrow><mo id="S2.E4X.3.2.2.m1.9.9.1.1.2" xref="S2.E4X.3.2.2.m1.9.9.1.1.2.cmml">=</mo><mstyle displaystyle="true" id="S2.E4X.3.2.2.m1.8.8" xref="S2.E4X.3.2.2.m1.8.8.cmml"><mfrac id="S2.E4X.3.2.2.m1.8.8a" xref="S2.E4X.3.2.2.m1.8.8.cmml"><mrow id="S2.E4X.3.2.2.m1.7.7.3.3" xref="S2.E4X.3.2.2.m1.7.7.3.4.cmml"><mo id="S2.E4X.3.2.2.m1.7.7.3.3.2" stretchy="false" xref="S2.E4X.3.2.2.m1.7.7.3.4.1.cmml">|</mo><mrow id="S2.E4X.3.2.2.m1.7.7.3.3.1" xref="S2.E4X.3.2.2.m1.7.7.3.3.1.cmml"><mtext id="S2.E4X.3.2.2.m1.7.7.3.3.1.2" xref="S2.E4X.3.2.2.m1.7.7.3.3.1.2a.cmml">LCS</mtext><mo id="S2.E4X.3.2.2.m1.7.7.3.3.1.1" xref="S2.E4X.3.2.2.m1.7.7.3.3.1.1.cmml">â¢</mo><mrow id="S2.E4X.3.2.2.m1.7.7.3.3.1.3.2" xref="S2.E4X.3.2.2.m1.7.7.3.3.1.3.1.cmml"><mo id="S2.E4X.3.2.2.m1.7.7.3.3.1.3.2.1" stretchy="false" xref="S2.E4X.3.2.2.m1.7.7.3.3.1.3.1.cmml">(</mo><mi id="S2.E4X.3.2.2.m1.5.5.1.1" xref="S2.E4X.3.2.2.m1.5.5.1.1.cmml">X</mi><mo id="S2.E4X.3.2.2.m1.7.7.3.3.1.3.2.2" xref="S2.E4X.3.2.2.m1.7.7.3.3.1.3.1.cmml">,</mo><mi id="S2.E4X.3.2.2.m1.6.6.2.2" xref="S2.E4X.3.2.2.m1.6.6.2.2.cmml">Y</mi><mo id="S2.E4X.3.2.2.m1.7.7.3.3.1.3.2.3" stretchy="false" xref="S2.E4X.3.2.2.m1.7.7.3.3.1.3.1.cmml">)</mo></mrow></mrow><mo id="S2.E4X.3.2.2.m1.7.7.3.3.3" stretchy="false" xref="S2.E4X.3.2.2.m1.7.7.3.4.1.cmml">|</mo></mrow><mrow id="S2.E4X.3.2.2.m1.8.8.4.3" xref="S2.E4X.3.2.2.m1.8.8.4.2.cmml"><mo id="S2.E4X.3.2.2.m1.8.8.4.3.1" stretchy="false" xref="S2.E4X.3.2.2.m1.8.8.4.2.1.cmml">|</mo><mi id="S2.E4X.3.2.2.m1.8.8.4.1" xref="S2.E4X.3.2.2.m1.8.8.4.1.cmml">X</mi><mo id="S2.E4X.3.2.2.m1.8.8.4.3.2" stretchy="false" xref="S2.E4X.3.2.2.m1.8.8.4.2.1.cmml">|</mo></mrow></mfrac></mstyle></mrow><mo id="S2.E4X.3.2.2.m1.9.9.1.2" xref="S2.E4X.3.2.2.m1.9.9.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E4X.3.2.2.m1.9b"><apply id="S2.E4X.3.2.2.m1.9.9.1.1.cmml" xref="S2.E4X.3.2.2.m1.9.9.1"><eq id="S2.E4X.3.2.2.m1.9.9.1.1.2.cmml" xref="S2.E4X.3.2.2.m1.9.9.1.1.2"></eq><list id="S2.E4X.3.2.2.m1.9.9.1.1.1.2.cmml" xref="S2.E4X.3.2.2.m1.9.9.1.1.1.1"><apply id="S2.E4X.3.2.2.m1.4.4.cmml" xref="S2.E4X.3.2.2.m1.4.4"><divide id="S2.E4X.3.2.2.m1.4.4.5.cmml" xref="S2.E4X.3.2.2.m1.4.4"></divide><apply id="S2.E4X.3.2.2.m1.3.3.3.4.cmml" xref="S2.E4X.3.2.2.m1.3.3.3.3"><abs id="S2.E4X.3.2.2.m1.3.3.3.4.1.cmml" xref="S2.E4X.3.2.2.m1.3.3.3.3.2"></abs><apply id="S2.E4X.3.2.2.m1.3.3.3.3.1.cmml" xref="S2.E4X.3.2.2.m1.3.3.3.3.1"><times id="S2.E4X.3.2.2.m1.3.3.3.3.1.1.cmml" xref="S2.E4X.3.2.2.m1.3.3.3.3.1.1"></times><ci id="S2.E4X.3.2.2.m1.3.3.3.3.1.2a.cmml" xref="S2.E4X.3.2.2.m1.3.3.3.3.1.2"><mtext id="S2.E4X.3.2.2.m1.3.3.3.3.1.2.cmml" xref="S2.E4X.3.2.2.m1.3.3.3.3.1.2">LCS</mtext></ci><interval closure="open" id="S2.E4X.3.2.2.m1.3.3.3.3.1.3.1.cmml" xref="S2.E4X.3.2.2.m1.3.3.3.3.1.3.2"><ci id="S2.E4X.3.2.2.m1.1.1.1.1.cmml" xref="S2.E4X.3.2.2.m1.1.1.1.1">ğ‘‹</ci><ci id="S2.E4X.3.2.2.m1.2.2.2.2.cmml" xref="S2.E4X.3.2.2.m1.2.2.2.2">ğ‘Œ</ci></interval></apply></apply><apply id="S2.E4X.3.2.2.m1.4.4.4.2.cmml" xref="S2.E4X.3.2.2.m1.4.4.4.3"><abs id="S2.E4X.3.2.2.m1.4.4.4.2.1.cmml" xref="S2.E4X.3.2.2.m1.4.4.4.3.1"></abs><ci id="S2.E4X.3.2.2.m1.4.4.4.1.cmml" xref="S2.E4X.3.2.2.m1.4.4.4.1">ğ‘Œ</ci></apply></apply><apply id="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.cmml" xref="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.1.cmml" xref="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1">subscript</csymbol><ci id="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.2a.cmml" xref="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.2"><mtext id="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.2.cmml" xref="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.2">precision</mtext></ci><ci id="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.3a.cmml" xref="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.3"><mtext id="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.3.cmml" mathsize="70%" xref="S2.E4X.3.2.2.m1.9.9.1.1.1.1.1.3">LCS</mtext></ci></apply></list><apply id="S2.E4X.3.2.2.m1.8.8.cmml" xref="S2.E4X.3.2.2.m1.8.8"><divide id="S2.E4X.3.2.2.m1.8.8.5.cmml" xref="S2.E4X.3.2.2.m1.8.8"></divide><apply id="S2.E4X.3.2.2.m1.7.7.3.4.cmml" xref="S2.E4X.3.2.2.m1.7.7.3.3"><abs id="S2.E4X.3.2.2.m1.7.7.3.4.1.cmml" xref="S2.E4X.3.2.2.m1.7.7.3.3.2"></abs><apply id="S2.E4X.3.2.2.m1.7.7.3.3.1.cmml" xref="S2.E4X.3.2.2.m1.7.7.3.3.1"><times id="S2.E4X.3.2.2.m1.7.7.3.3.1.1.cmml" xref="S2.E4X.3.2.2.m1.7.7.3.3.1.1"></times><ci id="S2.E4X.3.2.2.m1.7.7.3.3.1.2a.cmml" xref="S2.E4X.3.2.2.m1.7.7.3.3.1.2"><mtext id="S2.E4X.3.2.2.m1.7.7.3.3.1.2.cmml" xref="S2.E4X.3.2.2.m1.7.7.3.3.1.2">LCS</mtext></ci><interval closure="open" id="S2.E4X.3.2.2.m1.7.7.3.3.1.3.1.cmml" xref="S2.E4X.3.2.2.m1.7.7.3.3.1.3.2"><ci id="S2.E4X.3.2.2.m1.5.5.1.1.cmml" xref="S2.E4X.3.2.2.m1.5.5.1.1">ğ‘‹</ci><ci id="S2.E4X.3.2.2.m1.6.6.2.2.cmml" xref="S2.E4X.3.2.2.m1.6.6.2.2">ğ‘Œ</ci></interval></apply></apply><apply id="S2.E4X.3.2.2.m1.8.8.4.2.cmml" xref="S2.E4X.3.2.2.m1.8.8.4.3"><abs id="S2.E4X.3.2.2.m1.8.8.4.2.1.cmml" xref="S2.E4X.3.2.2.m1.8.8.4.3.1"></abs><ci id="S2.E4X.3.2.2.m1.8.8.4.1.cmml" xref="S2.E4X.3.2.2.m1.8.8.4.1">ğ‘‹</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E4X.3.2.2.m1.9c">\displaystyle\frac{|\text{LCS}(X,Y)|}{|Y|},\text{precision}_{\text{LCS}}=\frac%
{|\text{LCS}(X,Y)|}{|X|},</annotation><annotation encoding="application/x-llamapun" id="S2.E4X.3.2.2.m1.9d">divide start_ARG | LCS ( italic_X , italic_Y ) | end_ARG start_ARG | italic_Y | end_ARG , precision start_POSTSUBSCRIPT LCS end_POSTSUBSCRIPT = divide start_ARG | LCS ( italic_X , italic_Y ) | end_ARG start_ARG | italic_X | end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S2.E4Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\text{ROUGE-L}={}" class="ltx_Math" display="inline" id="S2.E4Xa.2.1.1.m1.1"><semantics id="S2.E4Xa.2.1.1.m1.1a"><mrow id="S2.E4Xa.2.1.1.m1.1.1" xref="S2.E4Xa.2.1.1.m1.1.1.cmml"><mtext id="S2.E4Xa.2.1.1.m1.1.1.2" xref="S2.E4Xa.2.1.1.m1.1.1.2a.cmml">ROUGE-L</mtext><mo id="S2.E4Xa.2.1.1.m1.1.1.1" xref="S2.E4Xa.2.1.1.m1.1.1.1.cmml">=</mo><mi id="S2.E4Xa.2.1.1.m1.1.1.3" xref="S2.E4Xa.2.1.1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S2.E4Xa.2.1.1.m1.1b"><apply id="S2.E4Xa.2.1.1.m1.1.1.cmml" xref="S2.E4Xa.2.1.1.m1.1.1"><eq id="S2.E4Xa.2.1.1.m1.1.1.1.cmml" xref="S2.E4Xa.2.1.1.m1.1.1.1"></eq><ci id="S2.E4Xa.2.1.1.m1.1.1.2a.cmml" xref="S2.E4Xa.2.1.1.m1.1.1.2"><mtext id="S2.E4Xa.2.1.1.m1.1.1.2.cmml" xref="S2.E4Xa.2.1.1.m1.1.1.2">ROUGE-L</mtext></ci><csymbol cd="latexml" id="S2.E4Xa.2.1.1.m1.1.1.3.cmml" xref="S2.E4Xa.2.1.1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E4Xa.2.1.1.m1.1c">\displaystyle\text{ROUGE-L}={}</annotation><annotation encoding="application/x-llamapun" id="S2.E4Xa.2.1.1.m1.1d">ROUGE-L =</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\frac{(1+\beta^{2})\cdot(\text{precision}_{\text{LCS}}\cdot\text{%
recall}_{\text{LCS}})}{(\beta^{2}\cdot\text{precision}_{\text{LCS}})+\text{%
recall}_{\text{LCS}}}," class="ltx_Math" display="inline" id="S2.E4Xa.3.2.2.m1.3"><semantics id="S2.E4Xa.3.2.2.m1.3a"><mrow id="S2.E4Xa.3.2.2.m1.3.4.2" xref="S2.E4Xa.3.2.2.m1.3.3.cmml"><mstyle displaystyle="true" id="S2.E4Xa.3.2.2.m1.3.3" xref="S2.E4Xa.3.2.2.m1.3.3.cmml"><mfrac id="S2.E4Xa.3.2.2.m1.3.3a" xref="S2.E4Xa.3.2.2.m1.3.3.cmml"><mrow id="S2.E4Xa.3.2.2.m1.2.2.2" xref="S2.E4Xa.3.2.2.m1.2.2.2.cmml"><mrow id="S2.E4Xa.3.2.2.m1.1.1.1.1.1" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.cmml"><mo id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.2" stretchy="false" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.cmml"><mn id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.2" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.1" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.1.cmml">+</mo><msup id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.cmml"><mi id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.2" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.2.cmml">Î²</mi><mn id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.3" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.3.cmml">2</mn></msup></mrow><mo id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S2.E4Xa.3.2.2.m1.2.2.2.3" rspace="0.222em" xref="S2.E4Xa.3.2.2.m1.2.2.2.3.cmml">â‹…</mo><mrow id="S2.E4Xa.3.2.2.m1.2.2.2.2.1" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.cmml"><mo id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.2" stretchy="false" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.cmml">(</mo><mrow id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.cmml"><msub id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.cmml"><mtext id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.2" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.2a.cmml">precision</mtext><mtext id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.3" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.3a.cmml">LCS</mtext></msub><mo id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.1" lspace="0.222em" rspace="0.222em" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.1.cmml">â‹…</mo><msub id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.cmml"><mtext id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.2" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.2a.cmml">recall</mtext><mtext id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.3" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.3a.cmml">LCS</mtext></msub></mrow><mo id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.3" stretchy="false" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.E4Xa.3.2.2.m1.3.3.3" xref="S2.E4Xa.3.2.2.m1.3.3.3.cmml"><mrow id="S2.E4Xa.3.2.2.m1.3.3.3.1.1" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.cmml"><mo id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.2" stretchy="false" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.cmml">(</mo><mrow id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.cmml"><msup id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2.cmml"><mi id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2.2" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2.2.cmml">Î²</mi><mn id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2.3" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2.3.cmml">2</mn></msup><mo id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.1.cmml">â‹…</mo><msub id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.cmml"><mtext id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.2" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.2a.cmml">precision</mtext><mtext id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.3" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.3a.cmml">LCS</mtext></msub></mrow><mo id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.3" stretchy="false" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.cmml">)</mo></mrow><mo id="S2.E4Xa.3.2.2.m1.3.3.3.2" xref="S2.E4Xa.3.2.2.m1.3.3.3.2.cmml">+</mo><msub id="S2.E4Xa.3.2.2.m1.3.3.3.3" xref="S2.E4Xa.3.2.2.m1.3.3.3.3.cmml"><mtext id="S2.E4Xa.3.2.2.m1.3.3.3.3.2" xref="S2.E4Xa.3.2.2.m1.3.3.3.3.2a.cmml">recall</mtext><mtext id="S2.E4Xa.3.2.2.m1.3.3.3.3.3" xref="S2.E4Xa.3.2.2.m1.3.3.3.3.3a.cmml">LCS</mtext></msub></mrow></mfrac></mstyle><mo id="S2.E4Xa.3.2.2.m1.3.4.2.1" xref="S2.E4Xa.3.2.2.m1.3.3.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E4Xa.3.2.2.m1.3b"><apply id="S2.E4Xa.3.2.2.m1.3.3.cmml" xref="S2.E4Xa.3.2.2.m1.3.4.2"><divide id="S2.E4Xa.3.2.2.m1.3.3.4.cmml" xref="S2.E4Xa.3.2.2.m1.3.4.2"></divide><apply id="S2.E4Xa.3.2.2.m1.2.2.2.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2"><ci id="S2.E4Xa.3.2.2.m1.2.2.2.3.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.3">â‹…</ci><apply id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.cmml" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1"><plus id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.1.cmml" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.1"></plus><cn id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.2.cmml" type="integer" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.2">1</cn><apply id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.cmml" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.1.cmml" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.2.cmml" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.2">ğ›½</ci><cn id="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S2.E4Xa.3.2.2.m1.1.1.1.1.1.1.3.3">2</cn></apply></apply><apply id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1"><ci id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.1.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.1">â‹…</ci><apply id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.1.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2">subscript</csymbol><ci id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.2a.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.2"><mtext id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.2.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.2">precision</mtext></ci><ci id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.3a.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.3"><mtext id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.3.cmml" mathsize="70%" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.2.3">LCS</mtext></ci></apply><apply id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.1.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3">subscript</csymbol><ci id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.2a.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.2"><mtext id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.2.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.2">recall</mtext></ci><ci id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.3a.cmml" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.3"><mtext id="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.3.cmml" mathsize="70%" xref="S2.E4Xa.3.2.2.m1.2.2.2.2.1.1.3.3">LCS</mtext></ci></apply></apply></apply><apply id="S2.E4Xa.3.2.2.m1.3.3.3.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3"><plus id="S2.E4Xa.3.2.2.m1.3.3.3.2.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.2"></plus><apply id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1"><ci id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.1.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.1">â‹…</ci><apply id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2.1.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2">superscript</csymbol><ci id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2.2.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2.2">ğ›½</ci><cn id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2.3.cmml" type="integer" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.2.3">2</cn></apply><apply id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.1.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3">subscript</csymbol><ci id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.2a.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.2"><mtext id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.2.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.2">precision</mtext></ci><ci id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.3a.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.3"><mtext id="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.3.cmml" mathsize="70%" xref="S2.E4Xa.3.2.2.m1.3.3.3.1.1.1.3.3">LCS</mtext></ci></apply></apply><apply id="S2.E4Xa.3.2.2.m1.3.3.3.3.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.3"><csymbol cd="ambiguous" id="S2.E4Xa.3.2.2.m1.3.3.3.3.1.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.3">subscript</csymbol><ci id="S2.E4Xa.3.2.2.m1.3.3.3.3.2a.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.3.2"><mtext id="S2.E4Xa.3.2.2.m1.3.3.3.3.2.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.3.2">recall</mtext></ci><ci id="S2.E4Xa.3.2.2.m1.3.3.3.3.3a.cmml" xref="S2.E4Xa.3.2.2.m1.3.3.3.3.3"><mtext id="S2.E4Xa.3.2.2.m1.3.3.3.3.3.cmml" mathsize="70%" xref="S2.E4Xa.3.2.2.m1.3.3.3.3.3">LCS</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E4Xa.3.2.2.m1.3c">\displaystyle\frac{(1+\beta^{2})\cdot(\text{precision}_{\text{LCS}}\cdot\text{%
recall}_{\text{LCS}})}{(\beta^{2}\cdot\text{precision}_{\text{LCS}})+\text{%
recall}_{\text{LCS}}},</annotation><annotation encoding="application/x-llamapun" id="S2.E4Xa.3.2.2.m1.3d">divide start_ARG ( 1 + italic_Î² start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ) â‹… ( precision start_POSTSUBSCRIPT LCS end_POSTSUBSCRIPT â‹… recall start_POSTSUBSCRIPT LCS end_POSTSUBSCRIPT ) end_ARG start_ARG ( italic_Î² start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT â‹… precision start_POSTSUBSCRIPT LCS end_POSTSUBSCRIPT ) + recall start_POSTSUBSCRIPT LCS end_POSTSUBSCRIPT end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S2.SS2.p4.3">where <math alttext="\beta" class="ltx_Math" display="inline" id="S2.SS2.p4.3.m1.1"><semantics id="S2.SS2.p4.3.m1.1a"><mi id="S2.SS2.p4.3.m1.1.1" xref="S2.SS2.p4.3.m1.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p4.3.m1.1b"><ci id="S2.SS2.p4.3.m1.1.1.cmml" xref="S2.SS2.p4.3.m1.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p4.3.m1.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p4.3.m1.1d">italic_Î²</annotation></semantics></math> is typically set to 1.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.SS2.p5">
<p class="ltx_p" id="S2.SS2.p5.1"><span class="ltx_text ltx_font_bold" id="S2.SS2.p5.1.1">UniEval</span>.
UniEvalÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib5" title="">zhong-etal-2022-towards, </a>)</cite> is a widely-used LLM-based evaluation framework designed to assess the quality of generated text across multiple dimensions, including factual consistency, relevance, coherence, etc.
Under the context of EDA tool documentation QA, we use the component of factual consistency score (ranging from 0 to 1, the higher the better) to measure the quality of the generated answer.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Algorithms</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S2.F2" title="In 2.2. Performance Measurement â€£ 2. Preliminaries â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">2</span></a> illustrates the overall flow of <span class="ltx_text ltx_font_bold" id="S3.p1.1.1">RAG-EDA</span>, our customized retrieval augmented generation (RAG) flow for EDA tool documentation QA.
In the preparation phase, the entire EDA tool documentation is segmented into reasonably sized chunks, which are then encoded into vectors by a customized text embedding model (introduced in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS1" title="3.1. Domain-Customized Text Embedding â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">3.1</span></a>), forming a vector database.
The first stage is pre-processing, where the user query is tokenized into words and simultaneously encoded into an embedding.
The second stage, retrieval (introduced in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS2" title="3.2. Hybrid Information Retrieval â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">3.2</span></a>), operates in two parts:
lexical retrieval (TF-IDF or BM25) and semantic retrieval using the pre-built vector database.
The results from both searches are combined to form relevant document candidates.
Subsequently, the finetuned reranker model (introduced in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS3" title="3.3. Reranker Finetuning â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">3.3</span></a>) conducts fine filtering on the document candidates and further eliminates the weakly-related ones.
Finally, the fine-filtered relevant document chunks along with the query are fed to the generator model (introduced in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS4" title="3.4. Domain-Specific LLM Generator â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">3.4</span></a>) for answer generation.
In the following sub-sections, we will detail the customization and technique for each stage.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Domain-Customized Text Embedding</h3>
<figure class="ltx_figure" id="S3.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="227" id="S3.F3.g1" src="x3.png" width="779"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>A fail case of general text embedding model in EDA-specific information retrieval (about <em class="ltx_emph ltx_font_italic" id="S3.F3.2.1">Primary Input</em>). Doc1/Doc2 defines PI/PO.
The general text embedding model mistakenly perceives higher similarity between the question and Doc2.
</figcaption>
</figure>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">During semantic retrieval, the text embedding model plays a crucial role in transforming both the user query and document chunks into numerical vectors that encapsulate their semantic content.
The accuracy of this semantic representation is essential as it directly impacts the retrieval performance.
Although many proprietary and open-source text embedding modelsÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib7" title="">xiao2023c, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib8" title="">chen2024bge, </a>)</cite> perform well in general information retrieval tasks, they demonstrate poor semantic understanding of the terminologies and concepts in EDA.
As is illustrated in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.F3" title="In 3.1. Domain-Customized Text Embedding â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">3</span></a>, the SOTA general-task text embedding model fails to adequately distinguish between basic EDA terms such as Primary Input (PI) and Primary Output (PO).
This deficiency leads to inaccuracies in the semantic vector space it constructs, potentially causing the model to erroneously select less relevant documents. For instance, despite Doc1 being more relevant to the query, Doc2 may be selected as the relevant document candidate due to its perceived semantic closeness, thereby compromising the overall effectiveness of the QA flow.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.16">To address the aforementioned issue and enhance the performance of the retriever, we employ supervised contrastive learning to improve the modelâ€™s ability to accurately perceive EDA terminologies and concepts.
The fundamental principle of our contrastive learning approach is as follows:
If two sentences involve the same EDA terminology, they should be positioned closely in the embedded vector space, despite differences in sentence structures.
Conversely, if two sentences have similar structures but pertain to different EDA terminologies or concepts, they should be distanced apart in the embedding space.
Specifically, for one EDA-domain user query <math alttext="x_{i}" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><msub id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml">x</mi><mi id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, we denote its positive and hard negative samples by <math alttext="x_{i}^{+}" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><msubsup id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2.2" xref="S3.SS1.p2.2.m2.1.1.2.2.cmml">x</mi><mi id="S3.SS1.p2.2.m2.1.1.2.3" xref="S3.SS1.p2.2.m2.1.1.2.3.cmml">i</mi><mo id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">superscript</csymbol><apply id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.2.1.cmml" xref="S3.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.2.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2.2">ğ‘¥</ci><ci id="S3.SS1.p2.2.m2.1.1.2.3.cmml" xref="S3.SS1.p2.2.m2.1.1.2.3">ğ‘–</ci></apply><plus id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">x_{i}^{+}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="x_{i}^{-}" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.1"><semantics id="S3.SS1.p2.3.m3.1a"><msubsup id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml"><mi id="S3.SS1.p2.3.m3.1.1.2.2" xref="S3.SS1.p2.3.m3.1.1.2.2.cmml">x</mi><mi id="S3.SS1.p2.3.m3.1.1.2.3" xref="S3.SS1.p2.3.m3.1.1.2.3.cmml">i</mi><mo id="S3.SS1.p2.3.m3.1.1.3" xref="S3.SS1.p2.3.m3.1.1.3.cmml">âˆ’</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">superscript</csymbol><apply id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.1.2.1.cmml" xref="S3.SS1.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p2.3.m3.1.1.2.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2.2">ğ‘¥</ci><ci id="S3.SS1.p2.3.m3.1.1.2.3.cmml" xref="S3.SS1.p2.3.m3.1.1.2.3">ğ‘–</ci></apply><minus id="S3.SS1.p2.3.m3.1.1.3.cmml" xref="S3.SS1.p2.3.m3.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">x_{i}^{-}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT</annotation></semantics></math>, respectively.
The positive sample <math alttext="x_{i}^{+}" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1"><semantics id="S3.SS1.p2.4.m4.1a"><msubsup id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml"><mi id="S3.SS1.p2.4.m4.1.1.2.2" xref="S3.SS1.p2.4.m4.1.1.2.2.cmml">x</mi><mi id="S3.SS1.p2.4.m4.1.1.2.3" xref="S3.SS1.p2.4.m4.1.1.2.3.cmml">i</mi><mo id="S3.SS1.p2.4.m4.1.1.3" xref="S3.SS1.p2.4.m4.1.1.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">superscript</csymbol><apply id="S3.SS1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.1.2.1.cmml" xref="S3.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p2.4.m4.1.1.2.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2.2">ğ‘¥</ci><ci id="S3.SS1.p2.4.m4.1.1.2.3.cmml" xref="S3.SS1.p2.4.m4.1.1.2.3">ğ‘–</ci></apply><plus id="S3.SS1.p2.4.m4.1.1.3.cmml" xref="S3.SS1.p2.4.m4.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">x_{i}^{+}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.4.m4.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT</annotation></semantics></math> involves the same EDA term with the query <math alttext="x_{i}" class="ltx_Math" display="inline" id="S3.SS1.p2.5.m5.1"><semantics id="S3.SS1.p2.5.m5.1a"><msub id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml"><mi id="S3.SS1.p2.5.m5.1.1.2" xref="S3.SS1.p2.5.m5.1.1.2.cmml">x</mi><mi id="S3.SS1.p2.5.m5.1.1.3" xref="S3.SS1.p2.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p2.5.m5.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.2">ğ‘¥</ci><ci id="S3.SS1.p2.5.m5.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.5.m5.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, meanwhile the negative sample <math alttext="x_{i}^{-}" class="ltx_Math" display="inline" id="S3.SS1.p2.6.m6.1"><semantics id="S3.SS1.p2.6.m6.1a"><msubsup id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml"><mi id="S3.SS1.p2.6.m6.1.1.2.2" xref="S3.SS1.p2.6.m6.1.1.2.2.cmml">x</mi><mi id="S3.SS1.p2.6.m6.1.1.2.3" xref="S3.SS1.p2.6.m6.1.1.2.3.cmml">i</mi><mo id="S3.SS1.p2.6.m6.1.1.3" xref="S3.SS1.p2.6.m6.1.1.3.cmml">âˆ’</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b"><apply id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.1.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">superscript</csymbol><apply id="S3.SS1.p2.6.m6.1.1.2.cmml" xref="S3.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.1.1.2.1.cmml" xref="S3.SS1.p2.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.p2.6.m6.1.1.2.2.cmml" xref="S3.SS1.p2.6.m6.1.1.2.2">ğ‘¥</ci><ci id="S3.SS1.p2.6.m6.1.1.2.3.cmml" xref="S3.SS1.p2.6.m6.1.1.2.3">ğ‘–</ci></apply><minus id="S3.SS1.p2.6.m6.1.1.3.cmml" xref="S3.SS1.p2.6.m6.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">x_{i}^{-}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.6.m6.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT</annotation></semantics></math> has a similar sentence structure with the query, but pertains to different EDA terminology/concept.
<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.F4" title="In 3.1. Domain-Customized Text Embedding â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">4</span></a> shows one example of the triplet <math alttext="\{x_{i},x_{i}^{+},x_{i}^{-}\}" class="ltx_Math" display="inline" id="S3.SS1.p2.7.m7.3"><semantics id="S3.SS1.p2.7.m7.3a"><mrow id="S3.SS1.p2.7.m7.3.3.3" xref="S3.SS1.p2.7.m7.3.3.4.cmml"><mo id="S3.SS1.p2.7.m7.3.3.3.4" stretchy="false" xref="S3.SS1.p2.7.m7.3.3.4.cmml">{</mo><msub id="S3.SS1.p2.7.m7.1.1.1.1" xref="S3.SS1.p2.7.m7.1.1.1.1.cmml"><mi id="S3.SS1.p2.7.m7.1.1.1.1.2" xref="S3.SS1.p2.7.m7.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.p2.7.m7.1.1.1.1.3" xref="S3.SS1.p2.7.m7.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS1.p2.7.m7.3.3.3.5" xref="S3.SS1.p2.7.m7.3.3.4.cmml">,</mo><msubsup id="S3.SS1.p2.7.m7.2.2.2.2" xref="S3.SS1.p2.7.m7.2.2.2.2.cmml"><mi id="S3.SS1.p2.7.m7.2.2.2.2.2.2" xref="S3.SS1.p2.7.m7.2.2.2.2.2.2.cmml">x</mi><mi id="S3.SS1.p2.7.m7.2.2.2.2.2.3" xref="S3.SS1.p2.7.m7.2.2.2.2.2.3.cmml">i</mi><mo id="S3.SS1.p2.7.m7.2.2.2.2.3" xref="S3.SS1.p2.7.m7.2.2.2.2.3.cmml">+</mo></msubsup><mo id="S3.SS1.p2.7.m7.3.3.3.6" xref="S3.SS1.p2.7.m7.3.3.4.cmml">,</mo><msubsup id="S3.SS1.p2.7.m7.3.3.3.3" xref="S3.SS1.p2.7.m7.3.3.3.3.cmml"><mi id="S3.SS1.p2.7.m7.3.3.3.3.2.2" xref="S3.SS1.p2.7.m7.3.3.3.3.2.2.cmml">x</mi><mi id="S3.SS1.p2.7.m7.3.3.3.3.2.3" xref="S3.SS1.p2.7.m7.3.3.3.3.2.3.cmml">i</mi><mo id="S3.SS1.p2.7.m7.3.3.3.3.3" xref="S3.SS1.p2.7.m7.3.3.3.3.3.cmml">âˆ’</mo></msubsup><mo id="S3.SS1.p2.7.m7.3.3.3.7" stretchy="false" xref="S3.SS1.p2.7.m7.3.3.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m7.3b"><set id="S3.SS1.p2.7.m7.3.3.4.cmml" xref="S3.SS1.p2.7.m7.3.3.3"><apply id="S3.SS1.p2.7.m7.1.1.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.1.1.1.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.7.m7.1.1.1.1.2.cmml" xref="S3.SS1.p2.7.m7.1.1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.p2.7.m7.1.1.1.1.3.cmml" xref="S3.SS1.p2.7.m7.1.1.1.1.3">ğ‘–</ci></apply><apply id="S3.SS1.p2.7.m7.2.2.2.2.cmml" xref="S3.SS1.p2.7.m7.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.2.2.2.2.1.cmml" xref="S3.SS1.p2.7.m7.2.2.2.2">superscript</csymbol><apply id="S3.SS1.p2.7.m7.2.2.2.2.2.cmml" xref="S3.SS1.p2.7.m7.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.2.2.2.2.2.1.cmml" xref="S3.SS1.p2.7.m7.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p2.7.m7.2.2.2.2.2.2.cmml" xref="S3.SS1.p2.7.m7.2.2.2.2.2.2">ğ‘¥</ci><ci id="S3.SS1.p2.7.m7.2.2.2.2.2.3.cmml" xref="S3.SS1.p2.7.m7.2.2.2.2.2.3">ğ‘–</ci></apply><plus id="S3.SS1.p2.7.m7.2.2.2.2.3.cmml" xref="S3.SS1.p2.7.m7.2.2.2.2.3"></plus></apply><apply id="S3.SS1.p2.7.m7.3.3.3.3.cmml" xref="S3.SS1.p2.7.m7.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.3.3.3.3.1.cmml" xref="S3.SS1.p2.7.m7.3.3.3.3">superscript</csymbol><apply id="S3.SS1.p2.7.m7.3.3.3.3.2.cmml" xref="S3.SS1.p2.7.m7.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.3.3.3.3.2.1.cmml" xref="S3.SS1.p2.7.m7.3.3.3.3">subscript</csymbol><ci id="S3.SS1.p2.7.m7.3.3.3.3.2.2.cmml" xref="S3.SS1.p2.7.m7.3.3.3.3.2.2">ğ‘¥</ci><ci id="S3.SS1.p2.7.m7.3.3.3.3.2.3.cmml" xref="S3.SS1.p2.7.m7.3.3.3.3.2.3">ğ‘–</ci></apply><minus id="S3.SS1.p2.7.m7.3.3.3.3.3.cmml" xref="S3.SS1.p2.7.m7.3.3.3.3.3"></minus></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m7.3c">\{x_{i},x_{i}^{+},x_{i}^{-}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.7.m7.3d">{ italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT , italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT }</annotation></semantics></math>:
the query <math alttext="x_{i}" class="ltx_Math" display="inline" id="S3.SS1.p2.8.m8.1"><semantics id="S3.SS1.p2.8.m8.1a"><msub id="S3.SS1.p2.8.m8.1.1" xref="S3.SS1.p2.8.m8.1.1.cmml"><mi id="S3.SS1.p2.8.m8.1.1.2" xref="S3.SS1.p2.8.m8.1.1.2.cmml">x</mi><mi id="S3.SS1.p2.8.m8.1.1.3" xref="S3.SS1.p2.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.8.m8.1b"><apply id="S3.SS1.p2.8.m8.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.1.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.p2.8.m8.1.1.2.cmml" xref="S3.SS1.p2.8.m8.1.1.2">ğ‘¥</ci><ci id="S3.SS1.p2.8.m8.1.1.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.8.m8.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.8.m8.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and the positive sample <math alttext="x_{i}^{+}" class="ltx_Math" display="inline" id="S3.SS1.p2.9.m9.1"><semantics id="S3.SS1.p2.9.m9.1a"><msubsup id="S3.SS1.p2.9.m9.1.1" xref="S3.SS1.p2.9.m9.1.1.cmml"><mi id="S3.SS1.p2.9.m9.1.1.2.2" xref="S3.SS1.p2.9.m9.1.1.2.2.cmml">x</mi><mi id="S3.SS1.p2.9.m9.1.1.2.3" xref="S3.SS1.p2.9.m9.1.1.2.3.cmml">i</mi><mo id="S3.SS1.p2.9.m9.1.1.3" xref="S3.SS1.p2.9.m9.1.1.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.9.m9.1b"><apply id="S3.SS1.p2.9.m9.1.1.cmml" xref="S3.SS1.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m9.1.1.1.cmml" xref="S3.SS1.p2.9.m9.1.1">superscript</csymbol><apply id="S3.SS1.p2.9.m9.1.1.2.cmml" xref="S3.SS1.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m9.1.1.2.1.cmml" xref="S3.SS1.p2.9.m9.1.1">subscript</csymbol><ci id="S3.SS1.p2.9.m9.1.1.2.2.cmml" xref="S3.SS1.p2.9.m9.1.1.2.2">ğ‘¥</ci><ci id="S3.SS1.p2.9.m9.1.1.2.3.cmml" xref="S3.SS1.p2.9.m9.1.1.2.3">ğ‘–</ci></apply><plus id="S3.SS1.p2.9.m9.1.1.3.cmml" xref="S3.SS1.p2.9.m9.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.9.m9.1c">x_{i}^{+}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.9.m9.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT</annotation></semantics></math> are user questions about â€clock periodâ€, while the hard negative sample <math alttext="x_{i}^{-}" class="ltx_Math" display="inline" id="S3.SS1.p2.10.m10.1"><semantics id="S3.SS1.p2.10.m10.1a"><msubsup id="S3.SS1.p2.10.m10.1.1" xref="S3.SS1.p2.10.m10.1.1.cmml"><mi id="S3.SS1.p2.10.m10.1.1.2.2" xref="S3.SS1.p2.10.m10.1.1.2.2.cmml">x</mi><mi id="S3.SS1.p2.10.m10.1.1.2.3" xref="S3.SS1.p2.10.m10.1.1.2.3.cmml">i</mi><mo id="S3.SS1.p2.10.m10.1.1.3" xref="S3.SS1.p2.10.m10.1.1.3.cmml">âˆ’</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.10.m10.1b"><apply id="S3.SS1.p2.10.m10.1.1.cmml" xref="S3.SS1.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m10.1.1.1.cmml" xref="S3.SS1.p2.10.m10.1.1">superscript</csymbol><apply id="S3.SS1.p2.10.m10.1.1.2.cmml" xref="S3.SS1.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m10.1.1.2.1.cmml" xref="S3.SS1.p2.10.m10.1.1">subscript</csymbol><ci id="S3.SS1.p2.10.m10.1.1.2.2.cmml" xref="S3.SS1.p2.10.m10.1.1.2.2">ğ‘¥</ci><ci id="S3.SS1.p2.10.m10.1.1.2.3.cmml" xref="S3.SS1.p2.10.m10.1.1.2.3">ğ‘–</ci></apply><minus id="S3.SS1.p2.10.m10.1.1.3.cmml" xref="S3.SS1.p2.10.m10.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.10.m10.1c">x_{i}^{-}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.10.m10.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT</annotation></semantics></math> share the same sentence structure with <math alttext="x_{i}" class="ltx_Math" display="inline" id="S3.SS1.p2.11.m11.1"><semantics id="S3.SS1.p2.11.m11.1a"><msub id="S3.SS1.p2.11.m11.1.1" xref="S3.SS1.p2.11.m11.1.1.cmml"><mi id="S3.SS1.p2.11.m11.1.1.2" xref="S3.SS1.p2.11.m11.1.1.2.cmml">x</mi><mi id="S3.SS1.p2.11.m11.1.1.3" xref="S3.SS1.p2.11.m11.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.11.m11.1b"><apply id="S3.SS1.p2.11.m11.1.1.cmml" xref="S3.SS1.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.11.m11.1.1.1.cmml" xref="S3.SS1.p2.11.m11.1.1">subscript</csymbol><ci id="S3.SS1.p2.11.m11.1.1.2.cmml" xref="S3.SS1.p2.11.m11.1.1.2">ğ‘¥</ci><ci id="S3.SS1.p2.11.m11.1.1.3.cmml" xref="S3.SS1.p2.11.m11.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.11.m11.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.11.m11.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> but contains a different EDA terminology (clock skew).
We construct a triplet dataset <math alttext="\{x_{i},x_{i}^{+},x_{i}^{-}\}_{i=1}^{N}" class="ltx_Math" display="inline" id="S3.SS1.p2.12.m12.3"><semantics id="S3.SS1.p2.12.m12.3a"><msubsup id="S3.SS1.p2.12.m12.3.3" xref="S3.SS1.p2.12.m12.3.3.cmml"><mrow id="S3.SS1.p2.12.m12.3.3.3.3.3" xref="S3.SS1.p2.12.m12.3.3.3.3.4.cmml"><mo id="S3.SS1.p2.12.m12.3.3.3.3.3.4" stretchy="false" xref="S3.SS1.p2.12.m12.3.3.3.3.4.cmml">{</mo><msub id="S3.SS1.p2.12.m12.1.1.1.1.1.1" xref="S3.SS1.p2.12.m12.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.12.m12.1.1.1.1.1.1.2" xref="S3.SS1.p2.12.m12.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.p2.12.m12.1.1.1.1.1.1.3" xref="S3.SS1.p2.12.m12.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS1.p2.12.m12.3.3.3.3.3.5" xref="S3.SS1.p2.12.m12.3.3.3.3.4.cmml">,</mo><msubsup id="S3.SS1.p2.12.m12.2.2.2.2.2.2" xref="S3.SS1.p2.12.m12.2.2.2.2.2.2.cmml"><mi id="S3.SS1.p2.12.m12.2.2.2.2.2.2.2.2" xref="S3.SS1.p2.12.m12.2.2.2.2.2.2.2.2.cmml">x</mi><mi id="S3.SS1.p2.12.m12.2.2.2.2.2.2.2.3" xref="S3.SS1.p2.12.m12.2.2.2.2.2.2.2.3.cmml">i</mi><mo id="S3.SS1.p2.12.m12.2.2.2.2.2.2.3" xref="S3.SS1.p2.12.m12.2.2.2.2.2.2.3.cmml">+</mo></msubsup><mo id="S3.SS1.p2.12.m12.3.3.3.3.3.6" xref="S3.SS1.p2.12.m12.3.3.3.3.4.cmml">,</mo><msubsup id="S3.SS1.p2.12.m12.3.3.3.3.3.3" xref="S3.SS1.p2.12.m12.3.3.3.3.3.3.cmml"><mi id="S3.SS1.p2.12.m12.3.3.3.3.3.3.2.2" xref="S3.SS1.p2.12.m12.3.3.3.3.3.3.2.2.cmml">x</mi><mi id="S3.SS1.p2.12.m12.3.3.3.3.3.3.2.3" xref="S3.SS1.p2.12.m12.3.3.3.3.3.3.2.3.cmml">i</mi><mo id="S3.SS1.p2.12.m12.3.3.3.3.3.3.3" xref="S3.SS1.p2.12.m12.3.3.3.3.3.3.3.cmml">âˆ’</mo></msubsup><mo id="S3.SS1.p2.12.m12.3.3.3.3.3.7" stretchy="false" xref="S3.SS1.p2.12.m12.3.3.3.3.4.cmml">}</mo></mrow><mrow id="S3.SS1.p2.12.m12.3.3.3.5" xref="S3.SS1.p2.12.m12.3.3.3.5.cmml"><mi id="S3.SS1.p2.12.m12.3.3.3.5.2" xref="S3.SS1.p2.12.m12.3.3.3.5.2.cmml">i</mi><mo id="S3.SS1.p2.12.m12.3.3.3.5.1" xref="S3.SS1.p2.12.m12.3.3.3.5.1.cmml">=</mo><mn id="S3.SS1.p2.12.m12.3.3.3.5.3" xref="S3.SS1.p2.12.m12.3.3.3.5.3.cmml">1</mn></mrow><mi id="S3.SS1.p2.12.m12.3.3.5" xref="S3.SS1.p2.12.m12.3.3.5.cmml">N</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.12.m12.3b"><apply id="S3.SS1.p2.12.m12.3.3.cmml" xref="S3.SS1.p2.12.m12.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.12.m12.3.3.4.cmml" xref="S3.SS1.p2.12.m12.3.3">superscript</csymbol><apply id="S3.SS1.p2.12.m12.3.3.3.cmml" xref="S3.SS1.p2.12.m12.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.12.m12.3.3.3.4.cmml" xref="S3.SS1.p2.12.m12.3.3">subscript</csymbol><set id="S3.SS1.p2.12.m12.3.3.3.3.4.cmml" xref="S3.SS1.p2.12.m12.3.3.3.3.3"><apply id="S3.SS1.p2.12.m12.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.12.m12.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.12.m12.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.12.m12.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.12.m12.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.12.m12.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.p2.12.m12.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.12.m12.1.1.1.1.1.1.3">ğ‘–</ci></apply><apply id="S3.SS1.p2.12.m12.2.2.2.2.2.2.cmml" xref="S3.SS1.p2.12.m12.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.12.m12.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p2.12.m12.2.2.2.2.2.2">superscript</csymbol><apply id="S3.SS1.p2.12.m12.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p2.12.m12.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.12.m12.2.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p2.12.m12.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p2.12.m12.2.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p2.12.m12.2.2.2.2.2.2.2.2">ğ‘¥</ci><ci id="S3.SS1.p2.12.m12.2.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p2.12.m12.2.2.2.2.2.2.2.3">ğ‘–</ci></apply><plus id="S3.SS1.p2.12.m12.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p2.12.m12.2.2.2.2.2.2.3"></plus></apply><apply id="S3.SS1.p2.12.m12.3.3.3.3.3.3.cmml" xref="S3.SS1.p2.12.m12.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.12.m12.3.3.3.3.3.3.1.cmml" xref="S3.SS1.p2.12.m12.3.3.3.3.3.3">superscript</csymbol><apply id="S3.SS1.p2.12.m12.3.3.3.3.3.3.2.cmml" xref="S3.SS1.p2.12.m12.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.12.m12.3.3.3.3.3.3.2.1.cmml" xref="S3.SS1.p2.12.m12.3.3.3.3.3.3">subscript</csymbol><ci id="S3.SS1.p2.12.m12.3.3.3.3.3.3.2.2.cmml" xref="S3.SS1.p2.12.m12.3.3.3.3.3.3.2.2">ğ‘¥</ci><ci id="S3.SS1.p2.12.m12.3.3.3.3.3.3.2.3.cmml" xref="S3.SS1.p2.12.m12.3.3.3.3.3.3.2.3">ğ‘–</ci></apply><minus id="S3.SS1.p2.12.m12.3.3.3.3.3.3.3.cmml" xref="S3.SS1.p2.12.m12.3.3.3.3.3.3.3"></minus></apply></set><apply id="S3.SS1.p2.12.m12.3.3.3.5.cmml" xref="S3.SS1.p2.12.m12.3.3.3.5"><eq id="S3.SS1.p2.12.m12.3.3.3.5.1.cmml" xref="S3.SS1.p2.12.m12.3.3.3.5.1"></eq><ci id="S3.SS1.p2.12.m12.3.3.3.5.2.cmml" xref="S3.SS1.p2.12.m12.3.3.3.5.2">ğ‘–</ci><cn id="S3.SS1.p2.12.m12.3.3.3.5.3.cmml" type="integer" xref="S3.SS1.p2.12.m12.3.3.3.5.3">1</cn></apply></apply><ci id="S3.SS1.p2.12.m12.3.3.5.cmml" xref="S3.SS1.p2.12.m12.3.3.5">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.12.m12.3c">\{x_{i},x_{i}^{+},x_{i}^{-}\}_{i=1}^{N}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.12.m12.3d">{ italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT , italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT</annotation></semantics></math> of size <math alttext="N" class="ltx_Math" display="inline" id="S3.SS1.p2.13.m13.1"><semantics id="S3.SS1.p2.13.m13.1a"><mi id="S3.SS1.p2.13.m13.1.1" xref="S3.SS1.p2.13.m13.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.13.m13.1b"><ci id="S3.SS1.p2.13.m13.1.1.cmml" xref="S3.SS1.p2.13.m13.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.13.m13.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.13.m13.1d">italic_N</annotation></semantics></math>.
Then, we apply mini-batch gradient descent and supervised contrastive learningÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib9" title="">gao2021simcse, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib10" title="">zhang2023contrastive, </a>)</cite> to finetune the embedding model.
Assume the mini-batch size is <math alttext="M" class="ltx_Math" display="inline" id="S3.SS1.p2.14.m14.1"><semantics id="S3.SS1.p2.14.m14.1a"><mi id="S3.SS1.p2.14.m14.1.1" xref="S3.SS1.p2.14.m14.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.14.m14.1b"><ci id="S3.SS1.p2.14.m14.1.1.cmml" xref="S3.SS1.p2.14.m14.1.1">ğ‘€</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.14.m14.1c">M</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.14.m14.1d">italic_M</annotation></semantics></math>,
and for each query <math alttext="x_{i}" class="ltx_Math" display="inline" id="S3.SS1.p2.15.m15.1"><semantics id="S3.SS1.p2.15.m15.1a"><msub id="S3.SS1.p2.15.m15.1.1" xref="S3.SS1.p2.15.m15.1.1.cmml"><mi id="S3.SS1.p2.15.m15.1.1.2" xref="S3.SS1.p2.15.m15.1.1.2.cmml">x</mi><mi id="S3.SS1.p2.15.m15.1.1.3" xref="S3.SS1.p2.15.m15.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.15.m15.1b"><apply id="S3.SS1.p2.15.m15.1.1.cmml" xref="S3.SS1.p2.15.m15.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.15.m15.1.1.1.cmml" xref="S3.SS1.p2.15.m15.1.1">subscript</csymbol><ci id="S3.SS1.p2.15.m15.1.1.2.cmml" xref="S3.SS1.p2.15.m15.1.1.2">ğ‘¥</ci><ci id="S3.SS1.p2.15.m15.1.1.3.cmml" xref="S3.SS1.p2.15.m15.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.15.m15.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.15.m15.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in the mini-batch, we apply in-batch sampling. The contrastive loss of <math alttext="s_{i}" class="ltx_Math" display="inline" id="S3.SS1.p2.16.m16.1"><semantics id="S3.SS1.p2.16.m16.1a"><msub id="S3.SS1.p2.16.m16.1.1" xref="S3.SS1.p2.16.m16.1.1.cmml"><mi id="S3.SS1.p2.16.m16.1.1.2" xref="S3.SS1.p2.16.m16.1.1.2.cmml">s</mi><mi id="S3.SS1.p2.16.m16.1.1.3" xref="S3.SS1.p2.16.m16.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.16.m16.1b"><apply id="S3.SS1.p2.16.m16.1.1.cmml" xref="S3.SS1.p2.16.m16.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.16.m16.1.1.1.cmml" xref="S3.SS1.p2.16.m16.1.1">subscript</csymbol><ci id="S3.SS1.p2.16.m16.1.1.2.cmml" xref="S3.SS1.p2.16.m16.1.1.2">ğ‘ </ci><ci id="S3.SS1.p2.16.m16.1.1.3.cmml" xref="S3.SS1.p2.16.m16.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.16.m16.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.16.m16.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> can be written as:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E5">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E5X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle-\log\frac{e^{sim(x_{i},x_{i}^{+})/\tau}}{\sum_{j=1}^{M}(e^{sim(x%
_{i},x_{j}^{+})/\tau}+e^{sim(x_{i},x_{j}^{-})/\tau})}," class="ltx_Math" display="inline" id="S3.E5X.2.1.1.m1.8"><semantics id="S3.E5X.2.1.1.m1.8a"><mrow id="S3.E5X.2.1.1.m1.8.8.1" xref="S3.E5X.2.1.1.m1.8.8.1.1.cmml"><mrow id="S3.E5X.2.1.1.m1.8.8.1.1" xref="S3.E5X.2.1.1.m1.8.8.1.1.cmml"><mo id="S3.E5X.2.1.1.m1.8.8.1.1a" rspace="0.167em" xref="S3.E5X.2.1.1.m1.8.8.1.1.cmml">âˆ’</mo><mrow id="S3.E5X.2.1.1.m1.8.8.1.1.2" xref="S3.E5X.2.1.1.m1.8.8.1.1.2.cmml"><mi id="S3.E5X.2.1.1.m1.8.8.1.1.2.1" xref="S3.E5X.2.1.1.m1.8.8.1.1.2.1.cmml">log</mi><mo id="S3.E5X.2.1.1.m1.8.8.1.1.2a" lspace="0.167em" xref="S3.E5X.2.1.1.m1.8.8.1.1.2.cmml">â¡</mo><mstyle displaystyle="true" id="S3.E5X.2.1.1.m1.7.7" xref="S3.E5X.2.1.1.m1.7.7.cmml"><mfrac id="S3.E5X.2.1.1.m1.7.7a" xref="S3.E5X.2.1.1.m1.7.7.cmml"><msup id="S3.E5X.2.1.1.m1.2.2.2" xref="S3.E5X.2.1.1.m1.2.2.2.cmml"><mi id="S3.E5X.2.1.1.m1.2.2.2.4" xref="S3.E5X.2.1.1.m1.2.2.2.4.cmml">e</mi><mrow id="S3.E5X.2.1.1.m1.2.2.2.2.2" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.cmml"><mrow id="S3.E5X.2.1.1.m1.2.2.2.2.2.2" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.cmml"><mi id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.4" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.4.cmml">s</mi><mo id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.3" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.3.cmml">â¢</mo><mi id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.5" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.5.cmml">i</mi><mo id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.3a" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.3.cmml">â¢</mo><mi id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.6" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.6.cmml">m</mi><mo id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.3b" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.3.cmml">â¢</mo><mrow id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.3.cmml"><mo id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.3" stretchy="false" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.3.cmml">(</mo><msub id="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1" xref="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.4" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.3.cmml">,</mo><msubsup id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.cmml"><mi id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.2" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.2.cmml">x</mi><mi id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.3" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.3.cmml">i</mi><mo id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.3" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.3.cmml">+</mo></msubsup><mo id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.5" stretchy="false" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E5X.2.1.1.m1.2.2.2.2.2.3" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.3.cmml">/</mo><mi id="S3.E5X.2.1.1.m1.2.2.2.2.2.4" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.4.cmml">Ï„</mi></mrow></msup><mrow id="S3.E5X.2.1.1.m1.7.7.7" xref="S3.E5X.2.1.1.m1.7.7.7.cmml"><msubsup id="S3.E5X.2.1.1.m1.7.7.7.6" xref="S3.E5X.2.1.1.m1.7.7.7.6.cmml"><mo id="S3.E5X.2.1.1.m1.7.7.7.6.2.2" xref="S3.E5X.2.1.1.m1.7.7.7.6.2.2.cmml">âˆ‘</mo><mrow id="S3.E5X.2.1.1.m1.7.7.7.6.2.3" xref="S3.E5X.2.1.1.m1.7.7.7.6.2.3.cmml"><mi id="S3.E5X.2.1.1.m1.7.7.7.6.2.3.2" xref="S3.E5X.2.1.1.m1.7.7.7.6.2.3.2.cmml">j</mi><mo id="S3.E5X.2.1.1.m1.7.7.7.6.2.3.1" xref="S3.E5X.2.1.1.m1.7.7.7.6.2.3.1.cmml">=</mo><mn id="S3.E5X.2.1.1.m1.7.7.7.6.2.3.3" xref="S3.E5X.2.1.1.m1.7.7.7.6.2.3.3.cmml">1</mn></mrow><mi id="S3.E5X.2.1.1.m1.7.7.7.6.3" xref="S3.E5X.2.1.1.m1.7.7.7.6.3.cmml">M</mi></msubsup><mrow id="S3.E5X.2.1.1.m1.7.7.7.5.1" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.cmml"><mo id="S3.E5X.2.1.1.m1.7.7.7.5.1.2" lspace="0em" stretchy="false" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.cmml">(</mo><mrow id="S3.E5X.2.1.1.m1.7.7.7.5.1.1" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.cmml"><msup id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.2" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.2.cmml"><mi id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.2.2" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.2.2.cmml">e</mi><mrow id="S3.E5X.2.1.1.m1.4.4.4.2.2" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.cmml"><mrow id="S3.E5X.2.1.1.m1.4.4.4.2.2.2" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.cmml"><mi id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.4" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.4.cmml">s</mi><mo id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.3" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.3.cmml">â¢</mo><mi id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.5" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.5.cmml">i</mi><mo id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.3a" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.3.cmml">â¢</mo><mi id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.6" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.6.cmml">m</mi><mo id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.3b" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.3.cmml">â¢</mo><mrow id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.3.cmml"><mo id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.3" stretchy="false" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.3.cmml">(</mo><msub id="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1" xref="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1.cmml"><mi id="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1.2" xref="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1.3" xref="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.4" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.3.cmml">,</mo><msubsup id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.cmml"><mi id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.2" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.2.cmml">x</mi><mi id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.3" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.3.cmml">j</mi><mo id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.3" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.3.cmml">+</mo></msubsup><mo id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.5" stretchy="false" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E5X.2.1.1.m1.4.4.4.2.2.3" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.3.cmml">/</mo><mi id="S3.E5X.2.1.1.m1.4.4.4.2.2.4" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.4.cmml">Ï„</mi></mrow></msup><mo id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.1" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.1.cmml">+</mo><msup id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.3" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.3.cmml"><mi id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.3.2" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.3.2.cmml">e</mi><mrow id="S3.E5X.2.1.1.m1.6.6.6.4.2" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.cmml"><mrow id="S3.E5X.2.1.1.m1.6.6.6.4.2.2" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.cmml"><mi id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.4" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.4.cmml">s</mi><mo id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.3" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.3.cmml">â¢</mo><mi id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.5" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.5.cmml">i</mi><mo id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.3a" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.3.cmml">â¢</mo><mi id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.6" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.6.cmml">m</mi><mo id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.3b" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.3.cmml">â¢</mo><mrow id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.3.cmml"><mo id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.3" stretchy="false" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.3.cmml">(</mo><msub id="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1" xref="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1.cmml"><mi id="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1.2" xref="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1.3" xref="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.4" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.3.cmml">,</mo><msubsup id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.cmml"><mi id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.2.2" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.2.2.cmml">x</mi><mi id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.2.3" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.2.3.cmml">j</mi><mo id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.3" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.3.cmml">âˆ’</mo></msubsup><mo id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.5" stretchy="false" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E5X.2.1.1.m1.6.6.6.4.2.3" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.3.cmml">/</mo><mi id="S3.E5X.2.1.1.m1.6.6.6.4.2.4" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.4.cmml">Ï„</mi></mrow></msup></mrow><mo id="S3.E5X.2.1.1.m1.7.7.7.5.1.3" stretchy="false" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S3.E5X.2.1.1.m1.8.8.1.2" xref="S3.E5X.2.1.1.m1.8.8.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5X.2.1.1.m1.8b"><apply id="S3.E5X.2.1.1.m1.8.8.1.1.cmml" xref="S3.E5X.2.1.1.m1.8.8.1"><minus id="S3.E5X.2.1.1.m1.8.8.1.1.1.cmml" xref="S3.E5X.2.1.1.m1.8.8.1"></minus><apply id="S3.E5X.2.1.1.m1.8.8.1.1.2.cmml" xref="S3.E5X.2.1.1.m1.8.8.1.1.2"><log id="S3.E5X.2.1.1.m1.8.8.1.1.2.1.cmml" xref="S3.E5X.2.1.1.m1.8.8.1.1.2.1"></log><apply id="S3.E5X.2.1.1.m1.7.7.cmml" xref="S3.E5X.2.1.1.m1.7.7"><divide id="S3.E5X.2.1.1.m1.7.7.8.cmml" xref="S3.E5X.2.1.1.m1.7.7"></divide><apply id="S3.E5X.2.1.1.m1.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.2.2.2">superscript</csymbol><ci id="S3.E5X.2.1.1.m1.2.2.2.4.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.4">ğ‘’</ci><apply id="S3.E5X.2.1.1.m1.2.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2"><divide id="S3.E5X.2.1.1.m1.2.2.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.3"></divide><apply id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2"><times id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.3"></times><ci id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.4.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.4">ğ‘ </ci><ci id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.5.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.5">ğ‘–</ci><ci id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.6.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.6">ğ‘š</ci><interval closure="open" id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2"><apply id="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3">ğ‘–</ci></apply><apply id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2">superscript</csymbol><apply id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.2">ğ‘¥</ci><ci id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.3">ğ‘–</ci></apply><plus id="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.2.2.2.2.3"></plus></apply></interval></apply><ci id="S3.E5X.2.1.1.m1.2.2.2.2.2.4.cmml" xref="S3.E5X.2.1.1.m1.2.2.2.2.2.4">ğœ</ci></apply></apply><apply id="S3.E5X.2.1.1.m1.7.7.7.cmml" xref="S3.E5X.2.1.1.m1.7.7.7"><apply id="S3.E5X.2.1.1.m1.7.7.7.6.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.6"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.7.7.7.6.1.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.6">superscript</csymbol><apply id="S3.E5X.2.1.1.m1.7.7.7.6.2.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.6"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.7.7.7.6.2.1.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.6">subscript</csymbol><sum id="S3.E5X.2.1.1.m1.7.7.7.6.2.2.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.6.2.2"></sum><apply id="S3.E5X.2.1.1.m1.7.7.7.6.2.3.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.6.2.3"><eq id="S3.E5X.2.1.1.m1.7.7.7.6.2.3.1.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.6.2.3.1"></eq><ci id="S3.E5X.2.1.1.m1.7.7.7.6.2.3.2.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.6.2.3.2">ğ‘—</ci><cn id="S3.E5X.2.1.1.m1.7.7.7.6.2.3.3.cmml" type="integer" xref="S3.E5X.2.1.1.m1.7.7.7.6.2.3.3">1</cn></apply></apply><ci id="S3.E5X.2.1.1.m1.7.7.7.6.3.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.6.3">ğ‘€</ci></apply><apply id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.5.1"><plus id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.1.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.1"></plus><apply id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.2.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.2.1.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.2">superscript</csymbol><ci id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.2.2.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.2.2">ğ‘’</ci><apply id="S3.E5X.2.1.1.m1.4.4.4.2.2.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2"><divide id="S3.E5X.2.1.1.m1.4.4.4.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.3"></divide><apply id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2"><times id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.3"></times><ci id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.4.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.4">ğ‘ </ci><ci id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.5.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.5">ğ‘–</ci><ci id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.6.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.6">ğ‘š</ci><interval closure="open" id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2"><apply id="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1.cmml" xref="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E5X.2.1.1.m1.3.3.3.1.1.1.1.1.1.3">ğ‘–</ci></apply><apply id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.1.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2">superscript</csymbol><apply id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.1.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.2">ğ‘¥</ci><ci id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.3">ğ‘—</ci></apply><plus id="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.2.2.2.2.3"></plus></apply></interval></apply><ci id="S3.E5X.2.1.1.m1.4.4.4.2.2.4.cmml" xref="S3.E5X.2.1.1.m1.4.4.4.2.2.4">ğœ</ci></apply></apply><apply id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.3.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.3"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.3.1.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.3">superscript</csymbol><ci id="S3.E5X.2.1.1.m1.7.7.7.5.1.1.3.2.cmml" xref="S3.E5X.2.1.1.m1.7.7.7.5.1.1.3.2">ğ‘’</ci><apply id="S3.E5X.2.1.1.m1.6.6.6.4.2.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2"><divide id="S3.E5X.2.1.1.m1.6.6.6.4.2.3.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.3"></divide><apply id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2"><times id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.3"></times><ci id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.4.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.4">ğ‘ </ci><ci id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.5.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.5">ğ‘–</ci><ci id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.6.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.6">ğ‘š</ci><interval closure="open" id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2"><apply id="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1.cmml" xref="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1.1.cmml" xref="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1">subscript</csymbol><ci id="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1.2.cmml" xref="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1.3.cmml" xref="S3.E5X.2.1.1.m1.5.5.5.3.1.1.1.1.1.3">ğ‘–</ci></apply><apply id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.1.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2">superscript</csymbol><apply id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.2.1.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2">subscript</csymbol><ci id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.2.2.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.2.2">ğ‘¥</ci><ci id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.2.3">ğ‘—</ci></apply><minus id="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.3.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.2.2.2.2.3"></minus></apply></interval></apply><ci id="S3.E5X.2.1.1.m1.6.6.6.4.2.4.cmml" xref="S3.E5X.2.1.1.m1.6.6.6.4.2.4">ğœ</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5X.2.1.1.m1.8c">\displaystyle-\log\frac{e^{sim(x_{i},x_{i}^{+})/\tau}}{\sum_{j=1}^{M}(e^{sim(x%
_{i},x_{j}^{+})/\tau}+e^{sim(x_{i},x_{j}^{-})/\tau})},</annotation><annotation encoding="application/x-llamapun" id="S3.E5X.2.1.1.m1.8d">- roman_log divide start_ARG italic_e start_POSTSUPERSCRIPT italic_s italic_i italic_m ( italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT ) / italic_Ï„ end_POSTSUPERSCRIPT end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT ( italic_e start_POSTSUPERSCRIPT italic_s italic_i italic_m ( italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT ) / italic_Ï„ end_POSTSUPERSCRIPT + italic_e start_POSTSUPERSCRIPT italic_s italic_i italic_m ( italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT ) / italic_Ï„ end_POSTSUPERSCRIPT ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS1.p2.18">where <math alttext="sim" class="ltx_Math" display="inline" id="S3.SS1.p2.17.m1.1"><semantics id="S3.SS1.p2.17.m1.1a"><mrow id="S3.SS1.p2.17.m1.1.1" xref="S3.SS1.p2.17.m1.1.1.cmml"><mi id="S3.SS1.p2.17.m1.1.1.2" xref="S3.SS1.p2.17.m1.1.1.2.cmml">s</mi><mo id="S3.SS1.p2.17.m1.1.1.1" xref="S3.SS1.p2.17.m1.1.1.1.cmml">â¢</mo><mi id="S3.SS1.p2.17.m1.1.1.3" xref="S3.SS1.p2.17.m1.1.1.3.cmml">i</mi><mo id="S3.SS1.p2.17.m1.1.1.1a" xref="S3.SS1.p2.17.m1.1.1.1.cmml">â¢</mo><mi id="S3.SS1.p2.17.m1.1.1.4" xref="S3.SS1.p2.17.m1.1.1.4.cmml">m</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.17.m1.1b"><apply id="S3.SS1.p2.17.m1.1.1.cmml" xref="S3.SS1.p2.17.m1.1.1"><times id="S3.SS1.p2.17.m1.1.1.1.cmml" xref="S3.SS1.p2.17.m1.1.1.1"></times><ci id="S3.SS1.p2.17.m1.1.1.2.cmml" xref="S3.SS1.p2.17.m1.1.1.2">ğ‘ </ci><ci id="S3.SS1.p2.17.m1.1.1.3.cmml" xref="S3.SS1.p2.17.m1.1.1.3">ğ‘–</ci><ci id="S3.SS1.p2.17.m1.1.1.4.cmml" xref="S3.SS1.p2.17.m1.1.1.4">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.17.m1.1c">sim</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.17.m1.1d">italic_s italic_i italic_m</annotation></semantics></math> stands for the cosine similarity function, <math alttext="\tau" class="ltx_Math" display="inline" id="S3.SS1.p2.18.m2.1"><semantics id="S3.SS1.p2.18.m2.1a"><mi id="S3.SS1.p2.18.m2.1.1" xref="S3.SS1.p2.18.m2.1.1.cmml">Ï„</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.18.m2.1b"><ci id="S3.SS1.p2.18.m2.1.1.cmml" xref="S3.SS1.p2.18.m2.1.1">ğœ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.18.m2.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.18.m2.1d">italic_Ï„</annotation></semantics></math> is the temperature hyper-parameter.</p>
</div>
<figure class="ltx_figure" id="S3.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="227" id="S3.F4.g1" src="x4.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>
A contrastive data sample used for text embedding model finetuning.
</figcaption>
</figure>
<div class="ltx_para" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.1">The text embedding model, finetuned through our supervised contrastive learning approach, exhibits improved semantic comprehension of the EDA-related corpus.
This enhancement leads to superior document retrieval performance in the EDA-tool documentation QA task.
Detailed results and analysis will be presented in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5" title="5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Hybrid Information Retrieval</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">For EDA tool documentation QA, user queries span various categories including VLSI flow inquiries, command/option usage, installation guidelines, GUI usage and test unit, each characterized by distinct syntactic structure and sentence composition.
Lexical (sparse) retrieval methods, such as TFIDF or BM25, are particularly effective when queries contain specific keywords or phrases directly matching the documentation content. For example, a query about the usage of a specific command like <em class="ltx_emph ltx_font_italic" id="S3.SS2.p1.1.1">remove_filler</em> is efficiently handled by these traditional lexical search techniques, which pinpoint the exact document section defining that command.
Conversely, when a query pertains to VLSI flow and does not necessarily contain direct keywords or phrases found in the documentation, semantic (dense) search method is employed.
The semantic search focuses on matching the semantics between the query and the document chunks, thereby enhancing retrieval accuracy over lexical searches.
For instance, a query like â€œWhat are the steps for routingâ€ would enable a semantic search to retrieve document chunks that explain the commands <em class="ltx_emph ltx_font_italic" id="S3.SS2.p1.1.2">global_route</em> and <em class="ltx_emph ltx_font_italic" id="S3.SS2.p1.1.3">detail_route</em>.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1">Motivated by the preceding analysis, our approach deviates from the conventional methodology of solely employing semantic search for information retrievalÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib11" title="">lewis2020retrieval, </a>)</cite>.
In our proposed framework, we implement a hybrid search strategy, integrating both semantic and lexical search techniques for the retrieval of documents.
Document chunks retrieved via the hybrid strategy are merged and deduplicated to form a pool of relevant document candidates.
Subsequently, candidate documents that are weakly related to the query will be further differentiated and excluded, as detailed in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS3" title="3.3. Reranker Finetuning â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">3.3</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>
Reranker Finetuning</h3>
<figure class="ltx_figure" id="S3.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="535" id="S3.F5.g1" src="x5.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5. </span>
Weakly-related documents do harm to answer generation quality for EDA-tool questions.
</figcaption>
</figure>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">Candidate document chunks obtained by the hybrid retriever
either share semantic similarities or contain the same keywords/phrases as the query.
Based on the relevance to the query, each candidate document chunk can be classified into one of two categories: (1) Relevant document whose content can be directly used to answer the query;
(2) Weakly-related document which may contain the same EDA terminology/concept as the query, but can not be used to answer the query.
Previous researchÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib12" title="">cuconasu2024power, </a>)</cite> indicates that weakly-related documents may cause augmented LLMs to generate error-prone responses.
<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.F5" title="In 3.3. Reranker Finetuning â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">5</span></a> demonstrates the impact of a weakly-related document chunk on answer generation for EDA tool queries.
The user inquires the command to place a specific pin. If the relevant document of the command <em class="ltx_emph ltx_font_italic" id="S3.SS3.p1.1.1">place_pin</em> is referred to, the generator gets correct answer. Meanwhile, referring to the weakly-related document, that is, the command to place all pins, the generator leads to wrong answer.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.2">Re-ranking is one common technique to filter out weakly-related and irrelevant documents, and is implemented by many frameworks such as LlamaIndex, LangChain and HayStack.
SOTA rerankers in the RAG framework typically employ a cross-encoder architecture, which processes the query and each candidate document as a pair. It calculates a relevance score for each pair using a cross-attention mechanism. The top <math alttext="k" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.1"><semantics id="S3.SS3.p2.1.m1.1a"><mi id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><ci id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.1d">italic_k</annotation></semantics></math> documents with the highest relevance scores are selected as the relevant documents.
Although SOTA cross-encoder reranker models such as bge-reranker<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>https://huggingface.co/BAAI/bge-reranker-large</span></span></span> demonstrate superior performance in general tasks of information retrieval,
they are less effective in distinguishing between relevant and weakly-related documents in the context of EDA tool documentation QA.
As is shown in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.F5" title="In 3.3. Reranker Finetuning â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">5</span></a>, for a query requesting a command to place a specific pin, the reranker incorrectly identifies the command <math alttext="place\_pins" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.1"><semantics id="S3.SS3.p2.2.m2.1a"><mrow id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">p</mi><mo id="S3.SS3.p2.2.m2.1.1.1" xref="S3.SS3.p2.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml">l</mi><mo id="S3.SS3.p2.2.m2.1.1.1a" xref="S3.SS3.p2.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS3.p2.2.m2.1.1.4" xref="S3.SS3.p2.2.m2.1.1.4.cmml">a</mi><mo id="S3.SS3.p2.2.m2.1.1.1b" xref="S3.SS3.p2.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS3.p2.2.m2.1.1.5" xref="S3.SS3.p2.2.m2.1.1.5.cmml">c</mi><mo id="S3.SS3.p2.2.m2.1.1.1c" xref="S3.SS3.p2.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS3.p2.2.m2.1.1.6" xref="S3.SS3.p2.2.m2.1.1.6.cmml">e</mi><mo id="S3.SS3.p2.2.m2.1.1.1d" xref="S3.SS3.p2.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS3.p2.2.m2.1.1.7" mathvariant="normal" xref="S3.SS3.p2.2.m2.1.1.7.cmml">_</mi><mo id="S3.SS3.p2.2.m2.1.1.1e" xref="S3.SS3.p2.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS3.p2.2.m2.1.1.8" xref="S3.SS3.p2.2.m2.1.1.8.cmml">p</mi><mo id="S3.SS3.p2.2.m2.1.1.1f" xref="S3.SS3.p2.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS3.p2.2.m2.1.1.9" xref="S3.SS3.p2.2.m2.1.1.9.cmml">i</mi><mo id="S3.SS3.p2.2.m2.1.1.1g" xref="S3.SS3.p2.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS3.p2.2.m2.1.1.10" xref="S3.SS3.p2.2.m2.1.1.10.cmml">n</mi><mo id="S3.SS3.p2.2.m2.1.1.1h" xref="S3.SS3.p2.2.m2.1.1.1.cmml">â¢</mo><mi id="S3.SS3.p2.2.m2.1.1.11" xref="S3.SS3.p2.2.m2.1.1.11.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><times id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1.1"></times><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">ğ‘</ci><ci id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3">ğ‘™</ci><ci id="S3.SS3.p2.2.m2.1.1.4.cmml" xref="S3.SS3.p2.2.m2.1.1.4">ğ‘</ci><ci id="S3.SS3.p2.2.m2.1.1.5.cmml" xref="S3.SS3.p2.2.m2.1.1.5">ğ‘</ci><ci id="S3.SS3.p2.2.m2.1.1.6.cmml" xref="S3.SS3.p2.2.m2.1.1.6">ğ‘’</ci><ci id="S3.SS3.p2.2.m2.1.1.7.cmml" xref="S3.SS3.p2.2.m2.1.1.7">_</ci><ci id="S3.SS3.p2.2.m2.1.1.8.cmml" xref="S3.SS3.p2.2.m2.1.1.8">ğ‘</ci><ci id="S3.SS3.p2.2.m2.1.1.9.cmml" xref="S3.SS3.p2.2.m2.1.1.9">ğ‘–</ci><ci id="S3.SS3.p2.2.m2.1.1.10.cmml" xref="S3.SS3.p2.2.m2.1.1.10">ğ‘›</ci><ci id="S3.SS3.p2.2.m2.1.1.11.cmml" xref="S3.SS3.p2.2.m2.1.1.11">ğ‘ </ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">place\_pins</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m2.1d">italic_p italic_l italic_a italic_c italic_e _ italic_p italic_i italic_n italic_s</annotation></semantics></math> as relevant.
We observe that with well-designed prompt, the proprietary LLMs such as GPT-4 perform well in filtering out weakly-related documents for EDA-tool-involved QA .
However, the autoregressive nature of GPT-4 makes it slow for document filtering, and proprietary LLMs are also costly and challenging to deploy.</p>
</div>
<div class="ltx_para" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.15">To bridge the gap between existing cross-encoder reranker models and proprietary LLMs in the context of EDA tool QA documents filtering,
we initiate our approach by collecting a set of EDA-tool-related questions, denoted as <math alttext="Q=\{q_{1},q_{2},...,q_{n}\}" class="ltx_Math" display="inline" id="S3.SS3.p3.1.m1.4"><semantics id="S3.SS3.p3.1.m1.4a"><mrow id="S3.SS3.p3.1.m1.4.4" xref="S3.SS3.p3.1.m1.4.4.cmml"><mi id="S3.SS3.p3.1.m1.4.4.5" xref="S3.SS3.p3.1.m1.4.4.5.cmml">Q</mi><mo id="S3.SS3.p3.1.m1.4.4.4" xref="S3.SS3.p3.1.m1.4.4.4.cmml">=</mo><mrow id="S3.SS3.p3.1.m1.4.4.3.3" xref="S3.SS3.p3.1.m1.4.4.3.4.cmml"><mo id="S3.SS3.p3.1.m1.4.4.3.3.4" stretchy="false" xref="S3.SS3.p3.1.m1.4.4.3.4.cmml">{</mo><msub id="S3.SS3.p3.1.m1.2.2.1.1.1" xref="S3.SS3.p3.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS3.p3.1.m1.2.2.1.1.1.2" xref="S3.SS3.p3.1.m1.2.2.1.1.1.2.cmml">q</mi><mn id="S3.SS3.p3.1.m1.2.2.1.1.1.3" xref="S3.SS3.p3.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS3.p3.1.m1.4.4.3.3.5" xref="S3.SS3.p3.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.SS3.p3.1.m1.3.3.2.2.2" xref="S3.SS3.p3.1.m1.3.3.2.2.2.cmml"><mi id="S3.SS3.p3.1.m1.3.3.2.2.2.2" xref="S3.SS3.p3.1.m1.3.3.2.2.2.2.cmml">q</mi><mn id="S3.SS3.p3.1.m1.3.3.2.2.2.3" xref="S3.SS3.p3.1.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS3.p3.1.m1.4.4.3.3.6" xref="S3.SS3.p3.1.m1.4.4.3.4.cmml">,</mo><mi id="S3.SS3.p3.1.m1.1.1" mathvariant="normal" xref="S3.SS3.p3.1.m1.1.1.cmml">â€¦</mi><mo id="S3.SS3.p3.1.m1.4.4.3.3.7" xref="S3.SS3.p3.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.SS3.p3.1.m1.4.4.3.3.3" xref="S3.SS3.p3.1.m1.4.4.3.3.3.cmml"><mi id="S3.SS3.p3.1.m1.4.4.3.3.3.2" xref="S3.SS3.p3.1.m1.4.4.3.3.3.2.cmml">q</mi><mi id="S3.SS3.p3.1.m1.4.4.3.3.3.3" xref="S3.SS3.p3.1.m1.4.4.3.3.3.3.cmml">n</mi></msub><mo id="S3.SS3.p3.1.m1.4.4.3.3.8" stretchy="false" xref="S3.SS3.p3.1.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.4b"><apply id="S3.SS3.p3.1.m1.4.4.cmml" xref="S3.SS3.p3.1.m1.4.4"><eq id="S3.SS3.p3.1.m1.4.4.4.cmml" xref="S3.SS3.p3.1.m1.4.4.4"></eq><ci id="S3.SS3.p3.1.m1.4.4.5.cmml" xref="S3.SS3.p3.1.m1.4.4.5">ğ‘„</ci><set id="S3.SS3.p3.1.m1.4.4.3.4.cmml" xref="S3.SS3.p3.1.m1.4.4.3.3"><apply id="S3.SS3.p3.1.m1.2.2.1.1.1.cmml" xref="S3.SS3.p3.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS3.p3.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS3.p3.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS3.p3.1.m1.2.2.1.1.1.2">ğ‘</ci><cn id="S3.SS3.p3.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS3.p3.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS3.p3.1.m1.3.3.2.2.2.cmml" xref="S3.SS3.p3.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p3.1.m1.3.3.2.2.2.1.cmml" xref="S3.SS3.p3.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S3.SS3.p3.1.m1.3.3.2.2.2.2.cmml" xref="S3.SS3.p3.1.m1.3.3.2.2.2.2">ğ‘</ci><cn id="S3.SS3.p3.1.m1.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS3.p3.1.m1.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1">â€¦</ci><apply id="S3.SS3.p3.1.m1.4.4.3.3.3.cmml" xref="S3.SS3.p3.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p3.1.m1.4.4.3.3.3.1.cmml" xref="S3.SS3.p3.1.m1.4.4.3.3.3">subscript</csymbol><ci id="S3.SS3.p3.1.m1.4.4.3.3.3.2.cmml" xref="S3.SS3.p3.1.m1.4.4.3.3.3.2">ğ‘</ci><ci id="S3.SS3.p3.1.m1.4.4.3.3.3.3.cmml" xref="S3.SS3.p3.1.m1.4.4.3.3.3.3">ğ‘›</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.4c">Q=\{q_{1},q_{2},...,q_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.1.m1.4d">italic_Q = { italic_q start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_q start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â€¦ , italic_q start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>.
For each <math alttext="q_{i}\in Q" class="ltx_Math" display="inline" id="S3.SS3.p3.2.m2.1"><semantics id="S3.SS3.p3.2.m2.1a"><mrow id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml"><msub id="S3.SS3.p3.2.m2.1.1.2" xref="S3.SS3.p3.2.m2.1.1.2.cmml"><mi id="S3.SS3.p3.2.m2.1.1.2.2" xref="S3.SS3.p3.2.m2.1.1.2.2.cmml">q</mi><mi id="S3.SS3.p3.2.m2.1.1.2.3" xref="S3.SS3.p3.2.m2.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS3.p3.2.m2.1.1.1" xref="S3.SS3.p3.2.m2.1.1.1.cmml">âˆˆ</mo><mi id="S3.SS3.p3.2.m2.1.1.3" xref="S3.SS3.p3.2.m2.1.1.3.cmml">Q</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.1b"><apply id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1"><in id="S3.SS3.p3.2.m2.1.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1.1"></in><apply id="S3.SS3.p3.2.m2.1.1.2.cmml" xref="S3.SS3.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.1.1.2.1.cmml" xref="S3.SS3.p3.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS3.p3.2.m2.1.1.2.2.cmml" xref="S3.SS3.p3.2.m2.1.1.2.2">ğ‘</ci><ci id="S3.SS3.p3.2.m2.1.1.2.3.cmml" xref="S3.SS3.p3.2.m2.1.1.2.3">ğ‘–</ci></apply><ci id="S3.SS3.p3.2.m2.1.1.3.cmml" xref="S3.SS3.p3.2.m2.1.1.3">ğ‘„</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.1c">q_{i}\in Q</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.2.m2.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT âˆˆ italic_Q</annotation></semantics></math>, we apply the hybrid retriever described in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS2" title="3.2. Hybrid Information Retrieval â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">3.2</span></a> to retrieve <math alttext="k" class="ltx_Math" display="inline" id="S3.SS3.p3.3.m3.1"><semantics id="S3.SS3.p3.3.m3.1a"><mi id="S3.SS3.p3.3.m3.1.1" xref="S3.SS3.p3.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.3.m3.1b"><ci id="S3.SS3.p3.3.m3.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.3.m3.1d">italic_k</annotation></semantics></math> candidate documents <math alttext="C_{i}" class="ltx_Math" display="inline" id="S3.SS3.p3.4.m4.1"><semantics id="S3.SS3.p3.4.m4.1a"><msub id="S3.SS3.p3.4.m4.1.1" xref="S3.SS3.p3.4.m4.1.1.cmml"><mi id="S3.SS3.p3.4.m4.1.1.2" xref="S3.SS3.p3.4.m4.1.1.2.cmml">C</mi><mi id="S3.SS3.p3.4.m4.1.1.3" xref="S3.SS3.p3.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.4.m4.1b"><apply id="S3.SS3.p3.4.m4.1.1.cmml" xref="S3.SS3.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m4.1.1.1.cmml" xref="S3.SS3.p3.4.m4.1.1">subscript</csymbol><ci id="S3.SS3.p3.4.m4.1.1.2.cmml" xref="S3.SS3.p3.4.m4.1.1.2">ğ¶</ci><ci id="S3.SS3.p3.4.m4.1.1.3.cmml" xref="S3.SS3.p3.4.m4.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.4.m4.1c">C_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.4.m4.1d">italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>.
We then employ GPT-4 with task-specific prompt to differentiate relevant documents (<math alttext="C_{i}^{+}" class="ltx_Math" display="inline" id="S3.SS3.p3.5.m5.1"><semantics id="S3.SS3.p3.5.m5.1a"><msubsup id="S3.SS3.p3.5.m5.1.1" xref="S3.SS3.p3.5.m5.1.1.cmml"><mi id="S3.SS3.p3.5.m5.1.1.2.2" xref="S3.SS3.p3.5.m5.1.1.2.2.cmml">C</mi><mi id="S3.SS3.p3.5.m5.1.1.2.3" xref="S3.SS3.p3.5.m5.1.1.2.3.cmml">i</mi><mo id="S3.SS3.p3.5.m5.1.1.3" xref="S3.SS3.p3.5.m5.1.1.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.5.m5.1b"><apply id="S3.SS3.p3.5.m5.1.1.cmml" xref="S3.SS3.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.5.m5.1.1.1.cmml" xref="S3.SS3.p3.5.m5.1.1">superscript</csymbol><apply id="S3.SS3.p3.5.m5.1.1.2.cmml" xref="S3.SS3.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.5.m5.1.1.2.1.cmml" xref="S3.SS3.p3.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p3.5.m5.1.1.2.2.cmml" xref="S3.SS3.p3.5.m5.1.1.2.2">ğ¶</ci><ci id="S3.SS3.p3.5.m5.1.1.2.3.cmml" xref="S3.SS3.p3.5.m5.1.1.2.3">ğ‘–</ci></apply><plus id="S3.SS3.p3.5.m5.1.1.3.cmml" xref="S3.SS3.p3.5.m5.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.5.m5.1c">C_{i}^{+}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.5.m5.1d">italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT</annotation></semantics></math>) and weakly-related documents (<math alttext="C_{i}^{-}" class="ltx_Math" display="inline" id="S3.SS3.p3.6.m6.1"><semantics id="S3.SS3.p3.6.m6.1a"><msubsup id="S3.SS3.p3.6.m6.1.1" xref="S3.SS3.p3.6.m6.1.1.cmml"><mi id="S3.SS3.p3.6.m6.1.1.2.2" xref="S3.SS3.p3.6.m6.1.1.2.2.cmml">C</mi><mi id="S3.SS3.p3.6.m6.1.1.2.3" xref="S3.SS3.p3.6.m6.1.1.2.3.cmml">i</mi><mo id="S3.SS3.p3.6.m6.1.1.3" xref="S3.SS3.p3.6.m6.1.1.3.cmml">âˆ’</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.6.m6.1b"><apply id="S3.SS3.p3.6.m6.1.1.cmml" xref="S3.SS3.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.6.m6.1.1.1.cmml" xref="S3.SS3.p3.6.m6.1.1">superscript</csymbol><apply id="S3.SS3.p3.6.m6.1.1.2.cmml" xref="S3.SS3.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.6.m6.1.1.2.1.cmml" xref="S3.SS3.p3.6.m6.1.1">subscript</csymbol><ci id="S3.SS3.p3.6.m6.1.1.2.2.cmml" xref="S3.SS3.p3.6.m6.1.1.2.2">ğ¶</ci><ci id="S3.SS3.p3.6.m6.1.1.2.3.cmml" xref="S3.SS3.p3.6.m6.1.1.2.3">ğ‘–</ci></apply><minus id="S3.SS3.p3.6.m6.1.1.3.cmml" xref="S3.SS3.p3.6.m6.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.6.m6.1c">C_{i}^{-}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.6.m6.1d">italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT</annotation></semantics></math>), ensuring <math alttext="|C_{i}^{+}|+|C_{i}^{-}|=k" class="ltx_Math" display="inline" id="S3.SS3.p3.7.m7.2"><semantics id="S3.SS3.p3.7.m7.2a"><mrow id="S3.SS3.p3.7.m7.2.2" xref="S3.SS3.p3.7.m7.2.2.cmml"><mrow id="S3.SS3.p3.7.m7.2.2.2" xref="S3.SS3.p3.7.m7.2.2.2.cmml"><mrow id="S3.SS3.p3.7.m7.1.1.1.1.1" xref="S3.SS3.p3.7.m7.1.1.1.1.2.cmml"><mo id="S3.SS3.p3.7.m7.1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p3.7.m7.1.1.1.1.2.1.cmml">|</mo><msubsup id="S3.SS3.p3.7.m7.1.1.1.1.1.1" xref="S3.SS3.p3.7.m7.1.1.1.1.1.1.cmml"><mi id="S3.SS3.p3.7.m7.1.1.1.1.1.1.2.2" xref="S3.SS3.p3.7.m7.1.1.1.1.1.1.2.2.cmml">C</mi><mi id="S3.SS3.p3.7.m7.1.1.1.1.1.1.2.3" xref="S3.SS3.p3.7.m7.1.1.1.1.1.1.2.3.cmml">i</mi><mo id="S3.SS3.p3.7.m7.1.1.1.1.1.1.3" xref="S3.SS3.p3.7.m7.1.1.1.1.1.1.3.cmml">+</mo></msubsup><mo id="S3.SS3.p3.7.m7.1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p3.7.m7.1.1.1.1.2.1.cmml">|</mo></mrow><mo id="S3.SS3.p3.7.m7.2.2.2.3" xref="S3.SS3.p3.7.m7.2.2.2.3.cmml">+</mo><mrow id="S3.SS3.p3.7.m7.2.2.2.2.1" xref="S3.SS3.p3.7.m7.2.2.2.2.2.cmml"><mo id="S3.SS3.p3.7.m7.2.2.2.2.1.2" stretchy="false" xref="S3.SS3.p3.7.m7.2.2.2.2.2.1.cmml">|</mo><msubsup id="S3.SS3.p3.7.m7.2.2.2.2.1.1" xref="S3.SS3.p3.7.m7.2.2.2.2.1.1.cmml"><mi id="S3.SS3.p3.7.m7.2.2.2.2.1.1.2.2" xref="S3.SS3.p3.7.m7.2.2.2.2.1.1.2.2.cmml">C</mi><mi id="S3.SS3.p3.7.m7.2.2.2.2.1.1.2.3" xref="S3.SS3.p3.7.m7.2.2.2.2.1.1.2.3.cmml">i</mi><mo id="S3.SS3.p3.7.m7.2.2.2.2.1.1.3" xref="S3.SS3.p3.7.m7.2.2.2.2.1.1.3.cmml">âˆ’</mo></msubsup><mo id="S3.SS3.p3.7.m7.2.2.2.2.1.3" stretchy="false" xref="S3.SS3.p3.7.m7.2.2.2.2.2.1.cmml">|</mo></mrow></mrow><mo id="S3.SS3.p3.7.m7.2.2.3" xref="S3.SS3.p3.7.m7.2.2.3.cmml">=</mo><mi id="S3.SS3.p3.7.m7.2.2.4" xref="S3.SS3.p3.7.m7.2.2.4.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.7.m7.2b"><apply id="S3.SS3.p3.7.m7.2.2.cmml" xref="S3.SS3.p3.7.m7.2.2"><eq id="S3.SS3.p3.7.m7.2.2.3.cmml" xref="S3.SS3.p3.7.m7.2.2.3"></eq><apply id="S3.SS3.p3.7.m7.2.2.2.cmml" xref="S3.SS3.p3.7.m7.2.2.2"><plus id="S3.SS3.p3.7.m7.2.2.2.3.cmml" xref="S3.SS3.p3.7.m7.2.2.2.3"></plus><apply id="S3.SS3.p3.7.m7.1.1.1.1.2.cmml" xref="S3.SS3.p3.7.m7.1.1.1.1.1"><abs id="S3.SS3.p3.7.m7.1.1.1.1.2.1.cmml" xref="S3.SS3.p3.7.m7.1.1.1.1.1.2"></abs><apply id="S3.SS3.p3.7.m7.1.1.1.1.1.1.cmml" xref="S3.SS3.p3.7.m7.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.7.m7.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p3.7.m7.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS3.p3.7.m7.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p3.7.m7.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.7.m7.1.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p3.7.m7.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p3.7.m7.1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p3.7.m7.1.1.1.1.1.1.2.2">ğ¶</ci><ci id="S3.SS3.p3.7.m7.1.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p3.7.m7.1.1.1.1.1.1.2.3">ğ‘–</ci></apply><plus id="S3.SS3.p3.7.m7.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p3.7.m7.1.1.1.1.1.1.3"></plus></apply></apply><apply id="S3.SS3.p3.7.m7.2.2.2.2.2.cmml" xref="S3.SS3.p3.7.m7.2.2.2.2.1"><abs id="S3.SS3.p3.7.m7.2.2.2.2.2.1.cmml" xref="S3.SS3.p3.7.m7.2.2.2.2.1.2"></abs><apply id="S3.SS3.p3.7.m7.2.2.2.2.1.1.cmml" xref="S3.SS3.p3.7.m7.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.7.m7.2.2.2.2.1.1.1.cmml" xref="S3.SS3.p3.7.m7.2.2.2.2.1.1">superscript</csymbol><apply id="S3.SS3.p3.7.m7.2.2.2.2.1.1.2.cmml" xref="S3.SS3.p3.7.m7.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.7.m7.2.2.2.2.1.1.2.1.cmml" xref="S3.SS3.p3.7.m7.2.2.2.2.1.1">subscript</csymbol><ci id="S3.SS3.p3.7.m7.2.2.2.2.1.1.2.2.cmml" xref="S3.SS3.p3.7.m7.2.2.2.2.1.1.2.2">ğ¶</ci><ci id="S3.SS3.p3.7.m7.2.2.2.2.1.1.2.3.cmml" xref="S3.SS3.p3.7.m7.2.2.2.2.1.1.2.3">ğ‘–</ci></apply><minus id="S3.SS3.p3.7.m7.2.2.2.2.1.1.3.cmml" xref="S3.SS3.p3.7.m7.2.2.2.2.1.1.3"></minus></apply></apply></apply><ci id="S3.SS3.p3.7.m7.2.2.4.cmml" xref="S3.SS3.p3.7.m7.2.2.4">ğ‘˜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.7.m7.2c">|C_{i}^{+}|+|C_{i}^{-}|=k</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.7.m7.2d">| italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT | + | italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT | = italic_k</annotation></semantics></math>.
Next, to enhance the ability of the reranker model in distinguishing between relevant documents and weakly-related documents, even when they share similar semantics or identical keywords with the query,
we introduce a contrastive learning scheme to fine-tune the reranker model using the documents filtered by GPT-4.
Specifically, for a question <math alttext="q_{i}\in Q" class="ltx_Math" display="inline" id="S3.SS3.p3.8.m8.1"><semantics id="S3.SS3.p3.8.m8.1a"><mrow id="S3.SS3.p3.8.m8.1.1" xref="S3.SS3.p3.8.m8.1.1.cmml"><msub id="S3.SS3.p3.8.m8.1.1.2" xref="S3.SS3.p3.8.m8.1.1.2.cmml"><mi id="S3.SS3.p3.8.m8.1.1.2.2" xref="S3.SS3.p3.8.m8.1.1.2.2.cmml">q</mi><mi id="S3.SS3.p3.8.m8.1.1.2.3" xref="S3.SS3.p3.8.m8.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS3.p3.8.m8.1.1.1" xref="S3.SS3.p3.8.m8.1.1.1.cmml">âˆˆ</mo><mi id="S3.SS3.p3.8.m8.1.1.3" xref="S3.SS3.p3.8.m8.1.1.3.cmml">Q</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.8.m8.1b"><apply id="S3.SS3.p3.8.m8.1.1.cmml" xref="S3.SS3.p3.8.m8.1.1"><in id="S3.SS3.p3.8.m8.1.1.1.cmml" xref="S3.SS3.p3.8.m8.1.1.1"></in><apply id="S3.SS3.p3.8.m8.1.1.2.cmml" xref="S3.SS3.p3.8.m8.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p3.8.m8.1.1.2.1.cmml" xref="S3.SS3.p3.8.m8.1.1.2">subscript</csymbol><ci id="S3.SS3.p3.8.m8.1.1.2.2.cmml" xref="S3.SS3.p3.8.m8.1.1.2.2">ğ‘</ci><ci id="S3.SS3.p3.8.m8.1.1.2.3.cmml" xref="S3.SS3.p3.8.m8.1.1.2.3">ğ‘–</ci></apply><ci id="S3.SS3.p3.8.m8.1.1.3.cmml" xref="S3.SS3.p3.8.m8.1.1.3">ğ‘„</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.8.m8.1c">q_{i}\in Q</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.8.m8.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT âˆˆ italic_Q</annotation></semantics></math>, we sample one positive document <math alttext="s_{i}^{+}" class="ltx_Math" display="inline" id="S3.SS3.p3.9.m9.1"><semantics id="S3.SS3.p3.9.m9.1a"><msubsup id="S3.SS3.p3.9.m9.1.1" xref="S3.SS3.p3.9.m9.1.1.cmml"><mi id="S3.SS3.p3.9.m9.1.1.2.2" xref="S3.SS3.p3.9.m9.1.1.2.2.cmml">s</mi><mi id="S3.SS3.p3.9.m9.1.1.2.3" xref="S3.SS3.p3.9.m9.1.1.2.3.cmml">i</mi><mo id="S3.SS3.p3.9.m9.1.1.3" xref="S3.SS3.p3.9.m9.1.1.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.9.m9.1b"><apply id="S3.SS3.p3.9.m9.1.1.cmml" xref="S3.SS3.p3.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.9.m9.1.1.1.cmml" xref="S3.SS3.p3.9.m9.1.1">superscript</csymbol><apply id="S3.SS3.p3.9.m9.1.1.2.cmml" xref="S3.SS3.p3.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.9.m9.1.1.2.1.cmml" xref="S3.SS3.p3.9.m9.1.1">subscript</csymbol><ci id="S3.SS3.p3.9.m9.1.1.2.2.cmml" xref="S3.SS3.p3.9.m9.1.1.2.2">ğ‘ </ci><ci id="S3.SS3.p3.9.m9.1.1.2.3.cmml" xref="S3.SS3.p3.9.m9.1.1.2.3">ğ‘–</ci></apply><plus id="S3.SS3.p3.9.m9.1.1.3.cmml" xref="S3.SS3.p3.9.m9.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.9.m9.1c">s_{i}^{+}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.9.m9.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT</annotation></semantics></math> from <math alttext="C_{i}^{+}" class="ltx_Math" display="inline" id="S3.SS3.p3.10.m10.1"><semantics id="S3.SS3.p3.10.m10.1a"><msubsup id="S3.SS3.p3.10.m10.1.1" xref="S3.SS3.p3.10.m10.1.1.cmml"><mi id="S3.SS3.p3.10.m10.1.1.2.2" xref="S3.SS3.p3.10.m10.1.1.2.2.cmml">C</mi><mi id="S3.SS3.p3.10.m10.1.1.2.3" xref="S3.SS3.p3.10.m10.1.1.2.3.cmml">i</mi><mo id="S3.SS3.p3.10.m10.1.1.3" xref="S3.SS3.p3.10.m10.1.1.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.10.m10.1b"><apply id="S3.SS3.p3.10.m10.1.1.cmml" xref="S3.SS3.p3.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.10.m10.1.1.1.cmml" xref="S3.SS3.p3.10.m10.1.1">superscript</csymbol><apply id="S3.SS3.p3.10.m10.1.1.2.cmml" xref="S3.SS3.p3.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.10.m10.1.1.2.1.cmml" xref="S3.SS3.p3.10.m10.1.1">subscript</csymbol><ci id="S3.SS3.p3.10.m10.1.1.2.2.cmml" xref="S3.SS3.p3.10.m10.1.1.2.2">ğ¶</ci><ci id="S3.SS3.p3.10.m10.1.1.2.3.cmml" xref="S3.SS3.p3.10.m10.1.1.2.3">ğ‘–</ci></apply><plus id="S3.SS3.p3.10.m10.1.1.3.cmml" xref="S3.SS3.p3.10.m10.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.10.m10.1c">C_{i}^{+}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.10.m10.1d">italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="m" class="ltx_Math" display="inline" id="S3.SS3.p3.11.m11.1"><semantics id="S3.SS3.p3.11.m11.1a"><mi id="S3.SS3.p3.11.m11.1.1" xref="S3.SS3.p3.11.m11.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.11.m11.1b"><ci id="S3.SS3.p3.11.m11.1.1.cmml" xref="S3.SS3.p3.11.m11.1.1">ğ‘š</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.11.m11.1c">m</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.11.m11.1d">italic_m</annotation></semantics></math> negative documents <math alttext="\{s_{i,1}^{-},s_{i,2}^{-},...,s_{i,m}^{-}\}" class="ltx_Math" display="inline" id="S3.SS3.p3.12.m12.10"><semantics id="S3.SS3.p3.12.m12.10a"><mrow id="S3.SS3.p3.12.m12.10.10.3" xref="S3.SS3.p3.12.m12.10.10.4.cmml"><mo id="S3.SS3.p3.12.m12.10.10.3.4" stretchy="false" xref="S3.SS3.p3.12.m12.10.10.4.cmml">{</mo><msubsup id="S3.SS3.p3.12.m12.8.8.1.1" xref="S3.SS3.p3.12.m12.8.8.1.1.cmml"><mi id="S3.SS3.p3.12.m12.8.8.1.1.2.2" xref="S3.SS3.p3.12.m12.8.8.1.1.2.2.cmml">s</mi><mrow id="S3.SS3.p3.12.m12.2.2.2.4" xref="S3.SS3.p3.12.m12.2.2.2.3.cmml"><mi id="S3.SS3.p3.12.m12.1.1.1.1" xref="S3.SS3.p3.12.m12.1.1.1.1.cmml">i</mi><mo id="S3.SS3.p3.12.m12.2.2.2.4.1" xref="S3.SS3.p3.12.m12.2.2.2.3.cmml">,</mo><mn id="S3.SS3.p3.12.m12.2.2.2.2" xref="S3.SS3.p3.12.m12.2.2.2.2.cmml">1</mn></mrow><mo id="S3.SS3.p3.12.m12.8.8.1.1.3" xref="S3.SS3.p3.12.m12.8.8.1.1.3.cmml">âˆ’</mo></msubsup><mo id="S3.SS3.p3.12.m12.10.10.3.5" xref="S3.SS3.p3.12.m12.10.10.4.cmml">,</mo><msubsup id="S3.SS3.p3.12.m12.9.9.2.2" xref="S3.SS3.p3.12.m12.9.9.2.2.cmml"><mi id="S3.SS3.p3.12.m12.9.9.2.2.2.2" xref="S3.SS3.p3.12.m12.9.9.2.2.2.2.cmml">s</mi><mrow id="S3.SS3.p3.12.m12.4.4.2.4" xref="S3.SS3.p3.12.m12.4.4.2.3.cmml"><mi id="S3.SS3.p3.12.m12.3.3.1.1" xref="S3.SS3.p3.12.m12.3.3.1.1.cmml">i</mi><mo id="S3.SS3.p3.12.m12.4.4.2.4.1" xref="S3.SS3.p3.12.m12.4.4.2.3.cmml">,</mo><mn id="S3.SS3.p3.12.m12.4.4.2.2" xref="S3.SS3.p3.12.m12.4.4.2.2.cmml">2</mn></mrow><mo id="S3.SS3.p3.12.m12.9.9.2.2.3" xref="S3.SS3.p3.12.m12.9.9.2.2.3.cmml">âˆ’</mo></msubsup><mo id="S3.SS3.p3.12.m12.10.10.3.6" xref="S3.SS3.p3.12.m12.10.10.4.cmml">,</mo><mi id="S3.SS3.p3.12.m12.7.7" mathvariant="normal" xref="S3.SS3.p3.12.m12.7.7.cmml">â€¦</mi><mo id="S3.SS3.p3.12.m12.10.10.3.7" xref="S3.SS3.p3.12.m12.10.10.4.cmml">,</mo><msubsup id="S3.SS3.p3.12.m12.10.10.3.3" xref="S3.SS3.p3.12.m12.10.10.3.3.cmml"><mi id="S3.SS3.p3.12.m12.10.10.3.3.2.2" xref="S3.SS3.p3.12.m12.10.10.3.3.2.2.cmml">s</mi><mrow id="S3.SS3.p3.12.m12.6.6.2.4" xref="S3.SS3.p3.12.m12.6.6.2.3.cmml"><mi id="S3.SS3.p3.12.m12.5.5.1.1" xref="S3.SS3.p3.12.m12.5.5.1.1.cmml">i</mi><mo id="S3.SS3.p3.12.m12.6.6.2.4.1" xref="S3.SS3.p3.12.m12.6.6.2.3.cmml">,</mo><mi id="S3.SS3.p3.12.m12.6.6.2.2" xref="S3.SS3.p3.12.m12.6.6.2.2.cmml">m</mi></mrow><mo id="S3.SS3.p3.12.m12.10.10.3.3.3" xref="S3.SS3.p3.12.m12.10.10.3.3.3.cmml">âˆ’</mo></msubsup><mo id="S3.SS3.p3.12.m12.10.10.3.8" stretchy="false" xref="S3.SS3.p3.12.m12.10.10.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.12.m12.10b"><set id="S3.SS3.p3.12.m12.10.10.4.cmml" xref="S3.SS3.p3.12.m12.10.10.3"><apply id="S3.SS3.p3.12.m12.8.8.1.1.cmml" xref="S3.SS3.p3.12.m12.8.8.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.12.m12.8.8.1.1.1.cmml" xref="S3.SS3.p3.12.m12.8.8.1.1">superscript</csymbol><apply id="S3.SS3.p3.12.m12.8.8.1.1.2.cmml" xref="S3.SS3.p3.12.m12.8.8.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.12.m12.8.8.1.1.2.1.cmml" xref="S3.SS3.p3.12.m12.8.8.1.1">subscript</csymbol><ci id="S3.SS3.p3.12.m12.8.8.1.1.2.2.cmml" xref="S3.SS3.p3.12.m12.8.8.1.1.2.2">ğ‘ </ci><list id="S3.SS3.p3.12.m12.2.2.2.3.cmml" xref="S3.SS3.p3.12.m12.2.2.2.4"><ci id="S3.SS3.p3.12.m12.1.1.1.1.cmml" xref="S3.SS3.p3.12.m12.1.1.1.1">ğ‘–</ci><cn id="S3.SS3.p3.12.m12.2.2.2.2.cmml" type="integer" xref="S3.SS3.p3.12.m12.2.2.2.2">1</cn></list></apply><minus id="S3.SS3.p3.12.m12.8.8.1.1.3.cmml" xref="S3.SS3.p3.12.m12.8.8.1.1.3"></minus></apply><apply id="S3.SS3.p3.12.m12.9.9.2.2.cmml" xref="S3.SS3.p3.12.m12.9.9.2.2"><csymbol cd="ambiguous" id="S3.SS3.p3.12.m12.9.9.2.2.1.cmml" xref="S3.SS3.p3.12.m12.9.9.2.2">superscript</csymbol><apply id="S3.SS3.p3.12.m12.9.9.2.2.2.cmml" xref="S3.SS3.p3.12.m12.9.9.2.2"><csymbol cd="ambiguous" id="S3.SS3.p3.12.m12.9.9.2.2.2.1.cmml" xref="S3.SS3.p3.12.m12.9.9.2.2">subscript</csymbol><ci id="S3.SS3.p3.12.m12.9.9.2.2.2.2.cmml" xref="S3.SS3.p3.12.m12.9.9.2.2.2.2">ğ‘ </ci><list id="S3.SS3.p3.12.m12.4.4.2.3.cmml" xref="S3.SS3.p3.12.m12.4.4.2.4"><ci id="S3.SS3.p3.12.m12.3.3.1.1.cmml" xref="S3.SS3.p3.12.m12.3.3.1.1">ğ‘–</ci><cn id="S3.SS3.p3.12.m12.4.4.2.2.cmml" type="integer" xref="S3.SS3.p3.12.m12.4.4.2.2">2</cn></list></apply><minus id="S3.SS3.p3.12.m12.9.9.2.2.3.cmml" xref="S3.SS3.p3.12.m12.9.9.2.2.3"></minus></apply><ci id="S3.SS3.p3.12.m12.7.7.cmml" xref="S3.SS3.p3.12.m12.7.7">â€¦</ci><apply id="S3.SS3.p3.12.m12.10.10.3.3.cmml" xref="S3.SS3.p3.12.m12.10.10.3.3"><csymbol cd="ambiguous" id="S3.SS3.p3.12.m12.10.10.3.3.1.cmml" xref="S3.SS3.p3.12.m12.10.10.3.3">superscript</csymbol><apply id="S3.SS3.p3.12.m12.10.10.3.3.2.cmml" xref="S3.SS3.p3.12.m12.10.10.3.3"><csymbol cd="ambiguous" id="S3.SS3.p3.12.m12.10.10.3.3.2.1.cmml" xref="S3.SS3.p3.12.m12.10.10.3.3">subscript</csymbol><ci id="S3.SS3.p3.12.m12.10.10.3.3.2.2.cmml" xref="S3.SS3.p3.12.m12.10.10.3.3.2.2">ğ‘ </ci><list id="S3.SS3.p3.12.m12.6.6.2.3.cmml" xref="S3.SS3.p3.12.m12.6.6.2.4"><ci id="S3.SS3.p3.12.m12.5.5.1.1.cmml" xref="S3.SS3.p3.12.m12.5.5.1.1">ğ‘–</ci><ci id="S3.SS3.p3.12.m12.6.6.2.2.cmml" xref="S3.SS3.p3.12.m12.6.6.2.2">ğ‘š</ci></list></apply><minus id="S3.SS3.p3.12.m12.10.10.3.3.3.cmml" xref="S3.SS3.p3.12.m12.10.10.3.3.3"></minus></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.12.m12.10c">\{s_{i,1}^{-},s_{i,2}^{-},...,s_{i,m}^{-}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.12.m12.10d">{ italic_s start_POSTSUBSCRIPT italic_i , 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT , italic_s start_POSTSUBSCRIPT italic_i , 2 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT , â€¦ , italic_s start_POSTSUBSCRIPT italic_i , italic_m end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT }</annotation></semantics></math> from <math alttext="C_{i}^{-}" class="ltx_Math" display="inline" id="S3.SS3.p3.13.m13.1"><semantics id="S3.SS3.p3.13.m13.1a"><msubsup id="S3.SS3.p3.13.m13.1.1" xref="S3.SS3.p3.13.m13.1.1.cmml"><mi id="S3.SS3.p3.13.m13.1.1.2.2" xref="S3.SS3.p3.13.m13.1.1.2.2.cmml">C</mi><mi id="S3.SS3.p3.13.m13.1.1.2.3" xref="S3.SS3.p3.13.m13.1.1.2.3.cmml">i</mi><mo id="S3.SS3.p3.13.m13.1.1.3" xref="S3.SS3.p3.13.m13.1.1.3.cmml">âˆ’</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.13.m13.1b"><apply id="S3.SS3.p3.13.m13.1.1.cmml" xref="S3.SS3.p3.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.13.m13.1.1.1.cmml" xref="S3.SS3.p3.13.m13.1.1">superscript</csymbol><apply id="S3.SS3.p3.13.m13.1.1.2.cmml" xref="S3.SS3.p3.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.13.m13.1.1.2.1.cmml" xref="S3.SS3.p3.13.m13.1.1">subscript</csymbol><ci id="S3.SS3.p3.13.m13.1.1.2.2.cmml" xref="S3.SS3.p3.13.m13.1.1.2.2">ğ¶</ci><ci id="S3.SS3.p3.13.m13.1.1.2.3.cmml" xref="S3.SS3.p3.13.m13.1.1.2.3">ğ‘–</ci></apply><minus id="S3.SS3.p3.13.m13.1.1.3.cmml" xref="S3.SS3.p3.13.m13.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.13.m13.1c">C_{i}^{-}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.13.m13.1d">italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT</annotation></semantics></math> (<math alttext="m\leq k" class="ltx_Math" display="inline" id="S3.SS3.p3.14.m14.1"><semantics id="S3.SS3.p3.14.m14.1a"><mrow id="S3.SS3.p3.14.m14.1.1" xref="S3.SS3.p3.14.m14.1.1.cmml"><mi id="S3.SS3.p3.14.m14.1.1.2" xref="S3.SS3.p3.14.m14.1.1.2.cmml">m</mi><mo id="S3.SS3.p3.14.m14.1.1.1" xref="S3.SS3.p3.14.m14.1.1.1.cmml">â‰¤</mo><mi id="S3.SS3.p3.14.m14.1.1.3" xref="S3.SS3.p3.14.m14.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.14.m14.1b"><apply id="S3.SS3.p3.14.m14.1.1.cmml" xref="S3.SS3.p3.14.m14.1.1"><leq id="S3.SS3.p3.14.m14.1.1.1.cmml" xref="S3.SS3.p3.14.m14.1.1.1"></leq><ci id="S3.SS3.p3.14.m14.1.1.2.cmml" xref="S3.SS3.p3.14.m14.1.1.2">ğ‘š</ci><ci id="S3.SS3.p3.14.m14.1.1.3.cmml" xref="S3.SS3.p3.14.m14.1.1.3">ğ‘˜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.14.m14.1c">m\leq k</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.14.m14.1d">italic_m â‰¤ italic_k</annotation></semantics></math>), the contrastive loss for <math alttext="q_{i}" class="ltx_Math" display="inline" id="S3.SS3.p3.15.m15.1"><semantics id="S3.SS3.p3.15.m15.1a"><msub id="S3.SS3.p3.15.m15.1.1" xref="S3.SS3.p3.15.m15.1.1.cmml"><mi id="S3.SS3.p3.15.m15.1.1.2" xref="S3.SS3.p3.15.m15.1.1.2.cmml">q</mi><mi id="S3.SS3.p3.15.m15.1.1.3" xref="S3.SS3.p3.15.m15.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.15.m15.1b"><apply id="S3.SS3.p3.15.m15.1.1.cmml" xref="S3.SS3.p3.15.m15.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.15.m15.1.1.1.cmml" xref="S3.SS3.p3.15.m15.1.1">subscript</csymbol><ci id="S3.SS3.p3.15.m15.1.1.2.cmml" xref="S3.SS3.p3.15.m15.1.1.2">ğ‘</ci><ci id="S3.SS3.p3.15.m15.1.1.3.cmml" xref="S3.SS3.p3.15.m15.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.15.m15.1c">q_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.15.m15.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> can be then written as:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E6">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E6X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle-\log\frac{e^{f(q_{i},s_{i}^{+})/\tau}}{e^{f(q_{i},s_{i}^{+})/%
\tau}+\sum_{j=1}^{m}e^{f(q_{i},s_{i,j}^{-})/\tau}}," class="ltx_Math" display="inline" id="S3.E6X.2.1.1.m1.9"><semantics id="S3.E6X.2.1.1.m1.9a"><mrow id="S3.E6X.2.1.1.m1.9.9.1" xref="S3.E6X.2.1.1.m1.9.9.1.1.cmml"><mrow id="S3.E6X.2.1.1.m1.9.9.1.1" xref="S3.E6X.2.1.1.m1.9.9.1.1.cmml"><mo id="S3.E6X.2.1.1.m1.9.9.1.1a" rspace="0.167em" xref="S3.E6X.2.1.1.m1.9.9.1.1.cmml">âˆ’</mo><mrow id="S3.E6X.2.1.1.m1.9.9.1.1.2" xref="S3.E6X.2.1.1.m1.9.9.1.1.2.cmml"><mi id="S3.E6X.2.1.1.m1.9.9.1.1.2.1" xref="S3.E6X.2.1.1.m1.9.9.1.1.2.1.cmml">log</mi><mo id="S3.E6X.2.1.1.m1.9.9.1.1.2a" lspace="0.167em" xref="S3.E6X.2.1.1.m1.9.9.1.1.2.cmml">â¡</mo><mstyle displaystyle="true" id="S3.E6X.2.1.1.m1.8.8" xref="S3.E6X.2.1.1.m1.8.8.cmml"><mfrac id="S3.E6X.2.1.1.m1.8.8a" xref="S3.E6X.2.1.1.m1.8.8.cmml"><msup id="S3.E6X.2.1.1.m1.2.2.2" xref="S3.E6X.2.1.1.m1.2.2.2.cmml"><mi id="S3.E6X.2.1.1.m1.2.2.2.4" xref="S3.E6X.2.1.1.m1.2.2.2.4.cmml">e</mi><mrow id="S3.E6X.2.1.1.m1.2.2.2.2.2" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.cmml"><mrow id="S3.E6X.2.1.1.m1.2.2.2.2.2.2" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.cmml"><mi id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.4" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.4.cmml">f</mi><mo id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.3" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.3.cmml">â¢</mo><mrow id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.3.cmml"><mo id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.3" stretchy="false" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.3.cmml">(</mo><msub id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml">q</mi><mi id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.4" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.3.cmml">,</mo><msubsup id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.cmml"><mi id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.2" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.2.cmml">s</mi><mi id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.3" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.3.cmml">i</mi><mo id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.3" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.3.cmml">+</mo></msubsup><mo id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.5" stretchy="false" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E6X.2.1.1.m1.2.2.2.2.2.3" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.3.cmml">/</mo><mi id="S3.E6X.2.1.1.m1.2.2.2.2.2.4" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.4.cmml">Ï„</mi></mrow></msup><mrow id="S3.E6X.2.1.1.m1.8.8.8" xref="S3.E6X.2.1.1.m1.8.8.8.cmml"><msup id="S3.E6X.2.1.1.m1.8.8.8.8" xref="S3.E6X.2.1.1.m1.8.8.8.8.cmml"><mi id="S3.E6X.2.1.1.m1.8.8.8.8.2" xref="S3.E6X.2.1.1.m1.8.8.8.8.2.cmml">e</mi><mrow id="S3.E6X.2.1.1.m1.4.4.4.2.2" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.cmml"><mrow id="S3.E6X.2.1.1.m1.4.4.4.2.2.2" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.cmml"><mi id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.4" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.4.cmml">f</mi><mo id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.3" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.3.cmml">â¢</mo><mrow id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.3.cmml"><mo id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.3" stretchy="false" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.3.cmml">(</mo><msub id="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1" xref="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1.cmml"><mi id="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1.2" xref="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1.2.cmml">q</mi><mi id="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1.3" xref="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.4" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.3.cmml">,</mo><msubsup id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.cmml"><mi id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.2" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.2.cmml">s</mi><mi id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.3" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.3.cmml">i</mi><mo id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.3" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.3.cmml">+</mo></msubsup><mo id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.5" stretchy="false" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E6X.2.1.1.m1.4.4.4.2.2.3" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.3.cmml">/</mo><mi id="S3.E6X.2.1.1.m1.4.4.4.2.2.4" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.4.cmml">Ï„</mi></mrow></msup><mo id="S3.E6X.2.1.1.m1.8.8.8.7" rspace="0.055em" xref="S3.E6X.2.1.1.m1.8.8.8.7.cmml">+</mo><mrow id="S3.E6X.2.1.1.m1.8.8.8.9" xref="S3.E6X.2.1.1.m1.8.8.8.9.cmml"><msubsup id="S3.E6X.2.1.1.m1.8.8.8.9.1" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.cmml"><mo id="S3.E6X.2.1.1.m1.8.8.8.9.1.2.2" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.2.2.cmml">âˆ‘</mo><mrow id="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.cmml"><mi id="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.2" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.2.cmml">j</mi><mo id="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.1" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.1.cmml">=</mo><mn id="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.3" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E6X.2.1.1.m1.8.8.8.9.1.3" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.3.cmml">m</mi></msubsup><msup id="S3.E6X.2.1.1.m1.8.8.8.9.2" xref="S3.E6X.2.1.1.m1.8.8.8.9.2.cmml"><mi id="S3.E6X.2.1.1.m1.8.8.8.9.2.2" xref="S3.E6X.2.1.1.m1.8.8.8.9.2.2.cmml">e</mi><mrow id="S3.E6X.2.1.1.m1.8.8.8.6.4" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.cmml"><mrow id="S3.E6X.2.1.1.m1.8.8.8.6.4.4" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.cmml"><mi id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.4" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.4.cmml">f</mi><mo id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.3" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.3.cmml">â¢</mo><mrow id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.3.cmml"><mo id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.3" stretchy="false" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.3.cmml">(</mo><msub id="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1" xref="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1.cmml"><mi id="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1.2" xref="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1.2.cmml">q</mi><mi id="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1.3" xref="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1.3.cmml">i</mi></msub><mo id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.4" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.3.cmml">,</mo><msubsup id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.cmml"><mi id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.2.2" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.2.2.cmml">s</mi><mrow id="S3.E6X.2.1.1.m1.6.6.6.4.2.2.2.4" xref="S3.E6X.2.1.1.m1.6.6.6.4.2.2.2.3.cmml"><mi id="S3.E6X.2.1.1.m1.5.5.5.3.1.1.1.1" xref="S3.E6X.2.1.1.m1.5.5.5.3.1.1.1.1.cmml">i</mi><mo id="S3.E6X.2.1.1.m1.6.6.6.4.2.2.2.4.1" xref="S3.E6X.2.1.1.m1.6.6.6.4.2.2.2.3.cmml">,</mo><mi id="S3.E6X.2.1.1.m1.6.6.6.4.2.2.2.2" xref="S3.E6X.2.1.1.m1.6.6.6.4.2.2.2.2.cmml">j</mi></mrow><mo id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.3" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.3.cmml">âˆ’</mo></msubsup><mo id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.5" stretchy="false" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E6X.2.1.1.m1.8.8.8.6.4.5" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.5.cmml">/</mo><mi id="S3.E6X.2.1.1.m1.8.8.8.6.4.6" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.6.cmml">Ï„</mi></mrow></msup></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S3.E6X.2.1.1.m1.9.9.1.2" xref="S3.E6X.2.1.1.m1.9.9.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6X.2.1.1.m1.9b"><apply id="S3.E6X.2.1.1.m1.9.9.1.1.cmml" xref="S3.E6X.2.1.1.m1.9.9.1"><minus id="S3.E6X.2.1.1.m1.9.9.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.9.9.1"></minus><apply id="S3.E6X.2.1.1.m1.9.9.1.1.2.cmml" xref="S3.E6X.2.1.1.m1.9.9.1.1.2"><log id="S3.E6X.2.1.1.m1.9.9.1.1.2.1.cmml" xref="S3.E6X.2.1.1.m1.9.9.1.1.2.1"></log><apply id="S3.E6X.2.1.1.m1.8.8.cmml" xref="S3.E6X.2.1.1.m1.8.8"><divide id="S3.E6X.2.1.1.m1.8.8.9.cmml" xref="S3.E6X.2.1.1.m1.8.8"></divide><apply id="S3.E6X.2.1.1.m1.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2">superscript</csymbol><ci id="S3.E6X.2.1.1.m1.2.2.2.4.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.4">ğ‘’</ci><apply id="S3.E6X.2.1.1.m1.2.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2"><divide id="S3.E6X.2.1.1.m1.2.2.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.3"></divide><apply id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2"><times id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.3"></times><ci id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.4.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.4">ğ‘“</ci><interval closure="open" id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2"><apply id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.2">ğ‘</ci><ci id="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6X.2.1.1.m1.1.1.1.1.1.1.1.1.1.3">ğ‘–</ci></apply><apply id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2">superscript</csymbol><apply id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.2">ğ‘ </ci><ci id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.2.3">ğ‘–</ci></apply><plus id="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.2.2.2.2.3"></plus></apply></interval></apply><ci id="S3.E6X.2.1.1.m1.2.2.2.2.2.4.cmml" xref="S3.E6X.2.1.1.m1.2.2.2.2.2.4">ğœ</ci></apply></apply><apply id="S3.E6X.2.1.1.m1.8.8.8.cmml" xref="S3.E6X.2.1.1.m1.8.8.8"><plus id="S3.E6X.2.1.1.m1.8.8.8.7.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.7"></plus><apply id="S3.E6X.2.1.1.m1.8.8.8.8.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.8"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.8.8.8.8.1.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.8">superscript</csymbol><ci id="S3.E6X.2.1.1.m1.8.8.8.8.2.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.8.2">ğ‘’</ci><apply id="S3.E6X.2.1.1.m1.4.4.4.2.2.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2"><divide id="S3.E6X.2.1.1.m1.4.4.4.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.3"></divide><apply id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2"><times id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.3"></times><ci id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.4.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.4">ğ‘“</ci><interval closure="open" id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2"><apply id="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1.2">ğ‘</ci><ci id="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E6X.2.1.1.m1.3.3.3.1.1.1.1.1.1.3">ğ‘–</ci></apply><apply id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.1.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2">superscript</csymbol><apply id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.1.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.2">ğ‘ </ci><ci id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.2.3">ğ‘–</ci></apply><plus id="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.2.2.2.2.3"></plus></apply></interval></apply><ci id="S3.E6X.2.1.1.m1.4.4.4.2.2.4.cmml" xref="S3.E6X.2.1.1.m1.4.4.4.2.2.4">ğœ</ci></apply></apply><apply id="S3.E6X.2.1.1.m1.8.8.8.9.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9"><apply id="S3.E6X.2.1.1.m1.8.8.8.9.1.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9.1"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.8.8.8.9.1.1.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9.1">superscript</csymbol><apply id="S3.E6X.2.1.1.m1.8.8.8.9.1.2.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9.1"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.8.8.8.9.1.2.1.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9.1">subscript</csymbol><sum id="S3.E6X.2.1.1.m1.8.8.8.9.1.2.2.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.2.2"></sum><apply id="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3"><eq id="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.1.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.1"></eq><ci id="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.2.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.2">ğ‘—</ci><cn id="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.3.cmml" type="integer" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.2.3.3">1</cn></apply></apply><ci id="S3.E6X.2.1.1.m1.8.8.8.9.1.3.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9.1.3">ğ‘š</ci></apply><apply id="S3.E6X.2.1.1.m1.8.8.8.9.2.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.8.8.8.9.2.1.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9.2">superscript</csymbol><ci id="S3.E6X.2.1.1.m1.8.8.8.9.2.2.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.9.2.2">ğ‘’</ci><apply id="S3.E6X.2.1.1.m1.8.8.8.6.4.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4"><divide id="S3.E6X.2.1.1.m1.8.8.8.6.4.5.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.5"></divide><apply id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4"><times id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.3.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.3"></times><ci id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.4.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.4">ğ‘“</ci><interval closure="open" id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.3.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2"><apply id="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1">subscript</csymbol><ci id="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1.2.cmml" xref="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1.2">ğ‘</ci><ci id="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1.3.cmml" xref="S3.E6X.2.1.1.m1.7.7.7.5.3.3.1.1.1.3">ğ‘–</ci></apply><apply id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.1.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2">superscript</csymbol><apply id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.2.1.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2">subscript</csymbol><ci id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.2.2">ğ‘ </ci><list id="S3.E6X.2.1.1.m1.6.6.6.4.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.6.6.6.4.2.2.2.4"><ci id="S3.E6X.2.1.1.m1.5.5.5.3.1.1.1.1.cmml" xref="S3.E6X.2.1.1.m1.5.5.5.3.1.1.1.1">ğ‘–</ci><ci id="S3.E6X.2.1.1.m1.6.6.6.4.2.2.2.2.cmml" xref="S3.E6X.2.1.1.m1.6.6.6.4.2.2.2.2">ğ‘—</ci></list></apply><minus id="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.3.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.4.2.2.2.3"></minus></apply></interval></apply><ci id="S3.E6X.2.1.1.m1.8.8.8.6.4.6.cmml" xref="S3.E6X.2.1.1.m1.8.8.8.6.4.6">ğœ</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6X.2.1.1.m1.9c">\displaystyle-\log\frac{e^{f(q_{i},s_{i}^{+})/\tau}}{e^{f(q_{i},s_{i}^{+})/%
\tau}+\sum_{j=1}^{m}e^{f(q_{i},s_{i,j}^{-})/\tau}},</annotation><annotation encoding="application/x-llamapun" id="S3.E6X.2.1.1.m1.9d">- roman_log divide start_ARG italic_e start_POSTSUPERSCRIPT italic_f ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT ) / italic_Ï„ end_POSTSUPERSCRIPT end_ARG start_ARG italic_e start_POSTSUPERSCRIPT italic_f ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT ) / italic_Ï„ end_POSTSUPERSCRIPT + âˆ‘ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_m end_POSTSUPERSCRIPT italic_e start_POSTSUPERSCRIPT italic_f ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_s start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT ) / italic_Ï„ end_POSTSUPERSCRIPT end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS3.p3.19">where <math alttext="\tau" class="ltx_Math" display="inline" id="S3.SS3.p3.16.m1.1"><semantics id="S3.SS3.p3.16.m1.1a"><mi id="S3.SS3.p3.16.m1.1.1" xref="S3.SS3.p3.16.m1.1.1.cmml">Ï„</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.16.m1.1b"><ci id="S3.SS3.p3.16.m1.1.1.cmml" xref="S3.SS3.p3.16.m1.1.1">ğœ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.16.m1.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.16.m1.1d">italic_Ï„</annotation></semantics></math> denotes the temperature, <math alttext="f(q,s)" class="ltx_Math" display="inline" id="S3.SS3.p3.17.m2.2"><semantics id="S3.SS3.p3.17.m2.2a"><mrow id="S3.SS3.p3.17.m2.2.3" xref="S3.SS3.p3.17.m2.2.3.cmml"><mi id="S3.SS3.p3.17.m2.2.3.2" xref="S3.SS3.p3.17.m2.2.3.2.cmml">f</mi><mo id="S3.SS3.p3.17.m2.2.3.1" xref="S3.SS3.p3.17.m2.2.3.1.cmml">â¢</mo><mrow id="S3.SS3.p3.17.m2.2.3.3.2" xref="S3.SS3.p3.17.m2.2.3.3.1.cmml"><mo id="S3.SS3.p3.17.m2.2.3.3.2.1" stretchy="false" xref="S3.SS3.p3.17.m2.2.3.3.1.cmml">(</mo><mi id="S3.SS3.p3.17.m2.1.1" xref="S3.SS3.p3.17.m2.1.1.cmml">q</mi><mo id="S3.SS3.p3.17.m2.2.3.3.2.2" xref="S3.SS3.p3.17.m2.2.3.3.1.cmml">,</mo><mi id="S3.SS3.p3.17.m2.2.2" xref="S3.SS3.p3.17.m2.2.2.cmml">s</mi><mo id="S3.SS3.p3.17.m2.2.3.3.2.3" stretchy="false" xref="S3.SS3.p3.17.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.17.m2.2b"><apply id="S3.SS3.p3.17.m2.2.3.cmml" xref="S3.SS3.p3.17.m2.2.3"><times id="S3.SS3.p3.17.m2.2.3.1.cmml" xref="S3.SS3.p3.17.m2.2.3.1"></times><ci id="S3.SS3.p3.17.m2.2.3.2.cmml" xref="S3.SS3.p3.17.m2.2.3.2">ğ‘“</ci><interval closure="open" id="S3.SS3.p3.17.m2.2.3.3.1.cmml" xref="S3.SS3.p3.17.m2.2.3.3.2"><ci id="S3.SS3.p3.17.m2.1.1.cmml" xref="S3.SS3.p3.17.m2.1.1">ğ‘</ci><ci id="S3.SS3.p3.17.m2.2.2.cmml" xref="S3.SS3.p3.17.m2.2.2">ğ‘ </ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.17.m2.2c">f(q,s)</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.17.m2.2d">italic_f ( italic_q , italic_s )</annotation></semantics></math> denotes the scalar score of the query-document pair <math alttext="(q,s)" class="ltx_Math" display="inline" id="S3.SS3.p3.18.m3.2"><semantics id="S3.SS3.p3.18.m3.2a"><mrow id="S3.SS3.p3.18.m3.2.3.2" xref="S3.SS3.p3.18.m3.2.3.1.cmml"><mo id="S3.SS3.p3.18.m3.2.3.2.1" stretchy="false" xref="S3.SS3.p3.18.m3.2.3.1.cmml">(</mo><mi id="S3.SS3.p3.18.m3.1.1" xref="S3.SS3.p3.18.m3.1.1.cmml">q</mi><mo id="S3.SS3.p3.18.m3.2.3.2.2" xref="S3.SS3.p3.18.m3.2.3.1.cmml">,</mo><mi id="S3.SS3.p3.18.m3.2.2" xref="S3.SS3.p3.18.m3.2.2.cmml">s</mi><mo id="S3.SS3.p3.18.m3.2.3.2.3" stretchy="false" xref="S3.SS3.p3.18.m3.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.18.m3.2b"><interval closure="open" id="S3.SS3.p3.18.m3.2.3.1.cmml" xref="S3.SS3.p3.18.m3.2.3.2"><ci id="S3.SS3.p3.18.m3.1.1.cmml" xref="S3.SS3.p3.18.m3.1.1">ğ‘</ci><ci id="S3.SS3.p3.18.m3.2.2.cmml" xref="S3.SS3.p3.18.m3.2.2">ğ‘ </ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.18.m3.2c">(q,s)</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.18.m3.2d">( italic_q , italic_s )</annotation></semantics></math> outputted by the reranker model,
and the negative sample size <math alttext="m" class="ltx_Math" display="inline" id="S3.SS3.p3.19.m4.1"><semantics id="S3.SS3.p3.19.m4.1a"><mi id="S3.SS3.p3.19.m4.1.1" xref="S3.SS3.p3.19.m4.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.19.m4.1b"><ci id="S3.SS3.p3.19.m4.1.1.cmml" xref="S3.SS3.p3.19.m4.1.1">ğ‘š</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.19.m4.1c">m</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.19.m4.1d">italic_m</annotation></semantics></math> is set to 3.</p>
</div>
<div class="ltx_para" id="S3.SS3.p4">
<p class="ltx_p" id="S3.SS3.p4.1">After being fine-tuned on the high-quality dataset, our reranker model exhibits high retrieval recall in EDA-tool QA scenarios. Detailed experiments and their results are discussed in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5" title="5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Domain-Specific LLM Generator</h3>
<figure class="ltx_figure" id="S3.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="445" id="S3.F6.g1" src="x6.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6. </span>A fail case of existing open-source chat LLMs for answering the EDA-tool questions.</figcaption>
</figure>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">Serving as the last stage of the retrieval augmented generation (RAG) flow, the generator, usually an LLM, treats the user query and the filtered relevant document(s) as input, and output the answer.
We observe that directly applying the open-source chat LLMs as generators for EDA tool documentation QA leads to inferior quality of the answers.
<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.F6" title="In 3.4. Domain-Specific LLM Generator â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">6</span></a> shows one typical example: The user inquires for the instruction to push macros to the corner during macro placement, the ground-truth answer to this question is to enable the <em class="ltx_emph ltx_font_italic" id="S3.SS4.p1.1.1">corner_max_wl</em> style of the command <em class="ltx_emph ltx_font_italic" id="S3.SS4.p1.1.2">macro_placement</em>, which is depicted in the relevant document.
When using an open-source chat LLM, namely, Qwen-14B-chat, the generated answer is erroneous.</p>
</div>
<div class="ltx_para" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.1">By analysis, we get the conclusion that there are mainly two limitations of existing chat LLMs for EDA tool documentation QA:
1). Open-source chat LLMs lack expert knowledge in EDA. Questions involving the usage of EDA tools are usually complicated, besides the provided relevant document, some extra domain knowledge in EDA may be helpful in answering the question. For example, besides the description of the command <em class="ltx_emph ltx_font_italic" id="S3.SS4.p2.1.1">macro_placement</em>, the domain knowledge of VLSI macro placement is also helpful to answer the question in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.F6" title="In 3.4. Domain-Specific LLM Generator â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">6</span></a>.
2). General chat LLMs are ineffective in handling the questions involved with EDA tools.
Answering such questions requires intricate and domain-specific analysis between the question and provided documents, and step-by-step inference, which are not well mastered by existing chat LLMs.</p>
</div>
<figure class="ltx_figure" id="S3.F7"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="543" id="S3.F7.g1" src="x7.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7. </span>One sample of the QA data instance used from instruction tuning.</figcaption>
</figure>
<div class="ltx_para" id="S3.SS4.p3">
<p class="ltx_p" id="S3.SS4.p3.4">To guarantee better quality of answer generation, we propose a two-stage training scheme to finetune the chat LLM as the generator.
The first stage is domain knowledge pre-train:
We prepare two well-known textbooks in EDA, namely, <em class="ltx_emph ltx_font_italic" id="S3.SS4.p3.4.1">Electronic Design Automation for IC Implementation, Circuit Design, and Process Technology</em>Â <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib20" title="">lavagno2016electronic, </a>)</cite> and <em class="ltx_emph ltx_font_italic" id="S3.SS4.p3.4.2">Handbook of Algorithms for Physical Automation</em>Â <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib21" title="">alpert2008handbook, </a>)</cite>, as pre-train corpus.
We divide the two textbooks into chunks by paragraph and construct a dataset, on which we pre-train the chat LLM in the autoregressive manner.
The second stage is task-specific instruction tuning:
To begin with, we leverage GPT4 to generate a set of triplets <math alttext="\{q,r,a\}" class="ltx_Math" display="inline" id="S3.SS4.p3.1.m1.3"><semantics id="S3.SS4.p3.1.m1.3a"><mrow id="S3.SS4.p3.1.m1.3.4.2" xref="S3.SS4.p3.1.m1.3.4.1.cmml"><mo id="S3.SS4.p3.1.m1.3.4.2.1" stretchy="false" xref="S3.SS4.p3.1.m1.3.4.1.cmml">{</mo><mi id="S3.SS4.p3.1.m1.1.1" xref="S3.SS4.p3.1.m1.1.1.cmml">q</mi><mo id="S3.SS4.p3.1.m1.3.4.2.2" xref="S3.SS4.p3.1.m1.3.4.1.cmml">,</mo><mi id="S3.SS4.p3.1.m1.2.2" xref="S3.SS4.p3.1.m1.2.2.cmml">r</mi><mo id="S3.SS4.p3.1.m1.3.4.2.3" xref="S3.SS4.p3.1.m1.3.4.1.cmml">,</mo><mi id="S3.SS4.p3.1.m1.3.3" xref="S3.SS4.p3.1.m1.3.3.cmml">a</mi><mo id="S3.SS4.p3.1.m1.3.4.2.4" stretchy="false" xref="S3.SS4.p3.1.m1.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.1.m1.3b"><set id="S3.SS4.p3.1.m1.3.4.1.cmml" xref="S3.SS4.p3.1.m1.3.4.2"><ci id="S3.SS4.p3.1.m1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1">ğ‘</ci><ci id="S3.SS4.p3.1.m1.2.2.cmml" xref="S3.SS4.p3.1.m1.2.2">ğ‘Ÿ</ci><ci id="S3.SS4.p3.1.m1.3.3.cmml" xref="S3.SS4.p3.1.m1.3.3">ğ‘</ci></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.1.m1.3c">\{q,r,a\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.1.m1.3d">{ italic_q , italic_r , italic_a }</annotation></semantics></math> of high quality.
For each triplet, <math alttext="q" class="ltx_Math" display="inline" id="S3.SS4.p3.2.m2.1"><semantics id="S3.SS4.p3.2.m2.1a"><mi id="S3.SS4.p3.2.m2.1.1" xref="S3.SS4.p3.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.2.m2.1b"><ci id="S3.SS4.p3.2.m2.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.2.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.2.m2.1d">italic_q</annotation></semantics></math> is one question related to the usage of the EDA tool, <math alttext="r" class="ltx_Math" display="inline" id="S3.SS4.p3.3.m3.1"><semantics id="S3.SS4.p3.3.m3.1a"><mi id="S3.SS4.p3.3.m3.1.1" xref="S3.SS4.p3.3.m3.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.3.m3.1b"><ci id="S3.SS4.p3.3.m3.1.1.cmml" xref="S3.SS4.p3.3.m3.1.1">ğ‘Ÿ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.3.m3.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.3.m3.1d">italic_r</annotation></semantics></math> is/are the document(s) used to answer the question, and <math alttext="a" class="ltx_Math" display="inline" id="S3.SS4.p3.4.m4.1"><semantics id="S3.SS4.p3.4.m4.1a"><mi id="S3.SS4.p3.4.m4.1.1" xref="S3.SS4.p3.4.m4.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.4.m4.1b"><ci id="S3.SS4.p3.4.m4.1.1.cmml" xref="S3.SS4.p3.4.m4.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.4.m4.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p3.4.m4.1d">italic_a</annotation></semantics></math> is the groud-truth answer.
Then, we integrate a well-designed system prompt to each triplet to form a QA dataset. <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.F7" title="In 3.4. Domain-Specific LLM Generator â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">7</span></a> shows one QA sample in the dataset.
Finally, we finetune the pre-trained chat LLM in stage 1 on the collected QA dataset.</p>
</div>
<div class="ltx_para" id="S3.SS4.p4">
<p class="ltx_p" id="S3.SS4.p4.3">Note that large language models (LLM) follow the autoregressive manner, which predicts tokens sequentially and the prediction of each token depends on the tokens that have been previously generated.
Given an LLM with parameter <math alttext="\theta" class="ltx_Math" display="inline" id="S3.SS4.p4.1.m1.1"><semantics id="S3.SS4.p4.1.m1.1a"><mi id="S3.SS4.p4.1.m1.1.1" xref="S3.SS4.p4.1.m1.1.1.cmml">Î¸</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.1.m1.1b"><ci id="S3.SS4.p4.1.m1.1.1.cmml" xref="S3.SS4.p4.1.m1.1.1">ğœƒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.1.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.1.m1.1d">italic_Î¸</annotation></semantics></math> and a token sequence <math alttext="x=\{x_{1},x_{2},...,x_{n}\}" class="ltx_Math" display="inline" id="S3.SS4.p4.2.m2.4"><semantics id="S3.SS4.p4.2.m2.4a"><mrow id="S3.SS4.p4.2.m2.4.4" xref="S3.SS4.p4.2.m2.4.4.cmml"><mi id="S3.SS4.p4.2.m2.4.4.5" xref="S3.SS4.p4.2.m2.4.4.5.cmml">x</mi><mo id="S3.SS4.p4.2.m2.4.4.4" xref="S3.SS4.p4.2.m2.4.4.4.cmml">=</mo><mrow id="S3.SS4.p4.2.m2.4.4.3.3" xref="S3.SS4.p4.2.m2.4.4.3.4.cmml"><mo id="S3.SS4.p4.2.m2.4.4.3.3.4" stretchy="false" xref="S3.SS4.p4.2.m2.4.4.3.4.cmml">{</mo><msub id="S3.SS4.p4.2.m2.2.2.1.1.1" xref="S3.SS4.p4.2.m2.2.2.1.1.1.cmml"><mi id="S3.SS4.p4.2.m2.2.2.1.1.1.2" xref="S3.SS4.p4.2.m2.2.2.1.1.1.2.cmml">x</mi><mn id="S3.SS4.p4.2.m2.2.2.1.1.1.3" xref="S3.SS4.p4.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS4.p4.2.m2.4.4.3.3.5" xref="S3.SS4.p4.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.SS4.p4.2.m2.3.3.2.2.2" xref="S3.SS4.p4.2.m2.3.3.2.2.2.cmml"><mi id="S3.SS4.p4.2.m2.3.3.2.2.2.2" xref="S3.SS4.p4.2.m2.3.3.2.2.2.2.cmml">x</mi><mn id="S3.SS4.p4.2.m2.3.3.2.2.2.3" xref="S3.SS4.p4.2.m2.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS4.p4.2.m2.4.4.3.3.6" xref="S3.SS4.p4.2.m2.4.4.3.4.cmml">,</mo><mi id="S3.SS4.p4.2.m2.1.1" mathvariant="normal" xref="S3.SS4.p4.2.m2.1.1.cmml">â€¦</mi><mo id="S3.SS4.p4.2.m2.4.4.3.3.7" xref="S3.SS4.p4.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.SS4.p4.2.m2.4.4.3.3.3" xref="S3.SS4.p4.2.m2.4.4.3.3.3.cmml"><mi id="S3.SS4.p4.2.m2.4.4.3.3.3.2" xref="S3.SS4.p4.2.m2.4.4.3.3.3.2.cmml">x</mi><mi id="S3.SS4.p4.2.m2.4.4.3.3.3.3" xref="S3.SS4.p4.2.m2.4.4.3.3.3.3.cmml">n</mi></msub><mo id="S3.SS4.p4.2.m2.4.4.3.3.8" stretchy="false" xref="S3.SS4.p4.2.m2.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.2.m2.4b"><apply id="S3.SS4.p4.2.m2.4.4.cmml" xref="S3.SS4.p4.2.m2.4.4"><eq id="S3.SS4.p4.2.m2.4.4.4.cmml" xref="S3.SS4.p4.2.m2.4.4.4"></eq><ci id="S3.SS4.p4.2.m2.4.4.5.cmml" xref="S3.SS4.p4.2.m2.4.4.5">ğ‘¥</ci><set id="S3.SS4.p4.2.m2.4.4.3.4.cmml" xref="S3.SS4.p4.2.m2.4.4.3.3"><apply id="S3.SS4.p4.2.m2.2.2.1.1.1.cmml" xref="S3.SS4.p4.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.2.m2.2.2.1.1.1.1.cmml" xref="S3.SS4.p4.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.SS4.p4.2.m2.2.2.1.1.1.2.cmml" xref="S3.SS4.p4.2.m2.2.2.1.1.1.2">ğ‘¥</ci><cn id="S3.SS4.p4.2.m2.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS4.p4.2.m2.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS4.p4.2.m2.3.3.2.2.2.cmml" xref="S3.SS4.p4.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS4.p4.2.m2.3.3.2.2.2.1.cmml" xref="S3.SS4.p4.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S3.SS4.p4.2.m2.3.3.2.2.2.2.cmml" xref="S3.SS4.p4.2.m2.3.3.2.2.2.2">ğ‘¥</ci><cn id="S3.SS4.p4.2.m2.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS4.p4.2.m2.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS4.p4.2.m2.1.1.cmml" xref="S3.SS4.p4.2.m2.1.1">â€¦</ci><apply id="S3.SS4.p4.2.m2.4.4.3.3.3.cmml" xref="S3.SS4.p4.2.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS4.p4.2.m2.4.4.3.3.3.1.cmml" xref="S3.SS4.p4.2.m2.4.4.3.3.3">subscript</csymbol><ci id="S3.SS4.p4.2.m2.4.4.3.3.3.2.cmml" xref="S3.SS4.p4.2.m2.4.4.3.3.3.2">ğ‘¥</ci><ci id="S3.SS4.p4.2.m2.4.4.3.3.3.3.cmml" xref="S3.SS4.p4.2.m2.4.4.3.3.3.3">ğ‘›</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.2.m2.4c">x=\{x_{1},x_{2},...,x_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.2.m2.4d">italic_x = { italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â€¦ , italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>, the probability of the LLM to predict <math alttext="x" class="ltx_Math" display="inline" id="S3.SS4.p4.3.m3.1"><semantics id="S3.SS4.p4.3.m3.1a"><mi id="S3.SS4.p4.3.m3.1.1" xref="S3.SS4.p4.3.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.3.m3.1b"><ci id="S3.SS4.p4.3.m3.1.1.cmml" xref="S3.SS4.p4.3.m3.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.3.m3.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p4.3.m3.1d">italic_x</annotation></semantics></math> is formulated as:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E7">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E7X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle P(x)=\sum_{t=1}^{n}P(x_{t}|x_{&lt;t};\theta)." class="ltx_Math" display="inline" id="S3.E7X.2.1.1.m1.3"><semantics id="S3.E7X.2.1.1.m1.3a"><mrow id="S3.E7X.2.1.1.m1.3.3.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.cmml"><mrow id="S3.E7X.2.1.1.m1.3.3.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.cmml"><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.3.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.3.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.3.2.cmml">P</mi><mo id="S3.E7X.2.1.1.m1.3.3.1.1.3.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.3.1.cmml">â¢</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.3.3.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.3.cmml"><mo id="S3.E7X.2.1.1.m1.3.3.1.1.3.3.2.1" stretchy="false" xref="S3.E7X.2.1.1.m1.3.3.1.1.3.cmml">(</mo><mi id="S3.E7X.2.1.1.m1.1.1" xref="S3.E7X.2.1.1.m1.1.1.cmml">x</mi><mo id="S3.E7X.2.1.1.m1.3.3.1.1.3.3.2.2" stretchy="false" xref="S3.E7X.2.1.1.m1.3.3.1.1.3.cmml">)</mo></mrow></mrow><mo id="S3.E7X.2.1.1.m1.3.3.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E7X.2.1.1.m1.3.3.1.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.cmml"><munderover id="S3.E7X.2.1.1.m1.3.3.1.1.1.2a" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.cmml"><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.2" movablelimits="false" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.2.cmml">âˆ‘</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.2.cmml">t</mi><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.3.cmml">n</mi></munderover></mstyle><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.cmml">P</mi><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.cmml"><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.2" stretchy="false" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.cmml"><msub id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.3.cmml">t</mi></msub><mo fence="false" id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.cmml">t</mi></mrow></msub><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">;</mo><mi id="S3.E7X.2.1.1.m1.2.2" xref="S3.E7X.2.1.1.m1.2.2.cmml">Î¸</mi></mrow></mrow><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.3" stretchy="false" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E7X.2.1.1.m1.3.3.1.2" lspace="0em" xref="S3.E7X.2.1.1.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7X.2.1.1.m1.3b"><apply id="S3.E7X.2.1.1.m1.3.3.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1"><eq id="S3.E7X.2.1.1.m1.3.3.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2"></eq><apply id="S3.E7X.2.1.1.m1.3.3.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.3"><times id="S3.E7X.2.1.1.m1.3.3.1.1.3.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.3.1"></times><ci id="S3.E7X.2.1.1.m1.3.3.1.1.3.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.3.2">ğ‘ƒ</ci><ci id="S3.E7X.2.1.1.m1.1.1.cmml" xref="S3.E7X.2.1.1.m1.1.1">ğ‘¥</ci></apply><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1"><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2">superscript</csymbol><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2">subscript</csymbol><sum id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.2"></sum><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3"><eq id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.1"></eq><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.2">ğ‘¡</ci><cn id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.2.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.2.3">ğ‘›</ci></apply><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1"><times id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.2"></times><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3">ğ‘ƒ</ci><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3.3">ğ‘¡</ci></apply><list id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1"><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3"><lt id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.2">absent</csymbol><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3">ğ‘¡</ci></apply></apply><ci id="S3.E7X.2.1.1.m1.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2">ğœƒ</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7X.2.1.1.m1.3c">\displaystyle P(x)=\sum_{t=1}^{n}P(x_{t}|x_{&lt;t};\theta).</annotation><annotation encoding="application/x-llamapun" id="S3.E7X.2.1.1.m1.3d">italic_P ( italic_x ) = âˆ‘ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT italic_P ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT ; italic_Î¸ ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS4.p4.4">The objective of LLM training is to minimized the negative log-likelihood loss formulated in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.E8" title="In 3.4. Domain-Specific LLM Generator â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Equation</span>Â <span class="ltx_text ltx_ref_tag">8</span></a>:</p>
</div>
<div class="ltx_para" id="S3.SS4.p5">
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E8">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E8X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(8)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle L=-\sum_{t=1}^{n}\log P(x_{t}|x_{&lt;t};\theta)." class="ltx_Math" display="inline" id="S3.E8X.2.1.1.m1.2"><semantics id="S3.E8X.2.1.1.m1.2a"><mrow id="S3.E8X.2.1.1.m1.2.2.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.cmml"><mrow id="S3.E8X.2.1.1.m1.2.2.1.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.cmml"><mi id="S3.E8X.2.1.1.m1.2.2.1.1.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.3.cmml">L</mi><mo id="S3.E8X.2.1.1.m1.2.2.1.1.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.cmml"><mo id="S3.E8X.2.1.1.m1.2.2.1.1.1a" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.cmml">âˆ’</mo><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.cmml"><munderover id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2a" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.cmml"><mo id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.2" movablelimits="false" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.2.cmml">âˆ‘</mo><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.cmml"><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.2.cmml">t</mi><mo id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.3.cmml">n</mi></munderover></mstyle><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.cmml"><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3.cmml"><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3.1.cmml">log</mi><mo id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3a" lspace="0.167em" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3.cmml">â¡</mo><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3.2.cmml">P</mi></mrow><mo id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.3.cmml">t</mi></msub><mo fence="false" id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mrow id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">t</mi></mrow></msub><mo id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">;</mo><mi id="S3.E8X.2.1.1.m1.1.1" xref="S3.E8X.2.1.1.m1.1.1.cmml">Î¸</mi></mrow></mrow><mo id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.E8X.2.1.1.m1.2.2.1.2" lspace="0em" xref="S3.E8X.2.1.1.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8X.2.1.1.m1.2b"><apply id="S3.E8X.2.1.1.m1.2.2.1.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1"><eq id="S3.E8X.2.1.1.m1.2.2.1.1.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.2"></eq><ci id="S3.E8X.2.1.1.m1.2.2.1.1.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.3">ğ¿</ci><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1"><minus id="S3.E8X.2.1.1.m1.2.2.1.1.1.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1"></minus><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1"><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2">superscript</csymbol><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2">subscript</csymbol><sum id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.2"></sum><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3"><eq id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.1"></eq><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.2">ğ‘¡</ci><cn id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.2.3">ğ‘›</ci></apply><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1"><times id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.2"></times><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3"><log id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3.1"></log><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.3.2">ğ‘ƒ</ci></apply><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.3.3">ğ‘¡</ci></apply><list id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1"><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><apply id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3"><lt id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.2">absent</csymbol><ci id="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.3">ğ‘¡</ci></apply></apply><ci id="S3.E8X.2.1.1.m1.1.1.cmml" xref="S3.E8X.2.1.1.m1.1.1">ğœƒ</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8X.2.1.1.m1.2c">\displaystyle L=-\sum_{t=1}^{n}\log P(x_{t}|x_{&lt;t};\theta).</annotation><annotation encoding="application/x-llamapun" id="S3.E8X.2.1.1.m1.2d">italic_L = - âˆ‘ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT roman_log italic_P ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT ; italic_Î¸ ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS4.p5.1">The two stages, namely, domain-knowledge pre-train and task-specific intrudction tuning, are trained using the loss function defined in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.E8" title="In 3.4. Domain-Specific LLM Generator â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Equation</span>Â <span class="ltx_text ltx_ref_tag">8</span></a>, on their respective corpus dataset.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Benchmark</h2>
<figure class="ltx_figure" id="S4.F8"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="209" id="S4.F8.g1" src="x8.png" width="720"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8. </span>Distribution of question categories in ORD-QA.</figcaption>
</figure>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">To systematically and quantitatively evaluate the performance of RAG-EDA,
we created and published the <span class="ltx_text ltx_font_bold" id="S4.p1.1.1">ORD-QA</span> dataset,
which is open-source at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/lesliepy99/RAG-EDA" title="">https://github.com/lesliepy99/RAG-EDA</a>.
ORD-QA contains 90 high-quality question-document-answer triplets based on the OpenROADÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib1" title="">ajayi2019toward, </a>)</cite> documentation.
For developing the dataset,
we started by segmenting the complete OpenROAD documentation<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>https://openroad.readthedocs.io/en/latest/</span></span></span> into 290 chunks, based on the markdowns of sections and subsections.
Following the segmentation, each time we randomly sampled 1 to 5 document chunk(s).
If only one document chunk is sampled or there is logical relationship among the sampled chunks,
we prompted GPT-4 to formulate a EDA-related question based on the document chunk(s),
and analyzed the question alongside the provided document chunks to generate corresponding answer.
Each generated question-document-answer triplet underwent a rigorous manual review to correct any logical inconsistencies and fallacies.
Additionally, we manually crafted realistic user queries about the OpenROAD documentation and provided accurate answers to further enhance the dataset.
The final ORD-QA dataset contains 90 high-quality Â¡question, reference documents, answerÂ¿ triplets.
</p>
</div>
<div class="ltx_para" id="S4.p2">
<p class="ltx_p" id="S4.p2.1">The questions in the ORD-QA dataset are categorized into four types: functionality, VLSI-flow, GUI, and installation &amp; test.
Functionality questions detail the use of specific commands or options in particular user scenarios.
VLSI-flow questions request the steps to complete a given VLSI process.
GUI questions address the usage of the OpenROAD GUI, while installation &amp; test questions cover software installation guidelines and unit test module inquiries.
<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S4.F8" title="In 4. Benchmark â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">8</span></a> shows the number distribution of different question categories in ORD-QA.
Most of the questions (82.2%) are formulated based on 1 or 2 document chunks. The rest (17.8%) are based on more than 3 document chunks. Among the 90 questions, 89 of them refer to no more than 5 document chunks, with only one question based on 7 document chunks.</p>
</div>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Experimental Results</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Training Dataset Collection</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">This subsection discusses the process of collecting training dataset for the fine-tuning of all models used in RAG-EDA.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.9"><span class="ltx_text ltx_font_bold" id="S5.SS1.p2.9.1">Dataset for Text Embedding Model</span>.
To construct the EDA-domain-specific Â¡query, positive sample, negative sampleÂ¿ triplets mentioned in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS1" title="3.1. Domain-Customized Text Embedding â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">3.1</span></a>,
we first collected a comprehensive list of 261 EDA terminologies covering areas like logic synthesis, power analysis, partitioning, floorplanning, placement, routing, STA, DRC, and LVS.
Our dataset collection process involved selecting a terminology <math alttext="t_{i}" class="ltx_Math" display="inline" id="S5.SS1.p2.1.m1.1"><semantics id="S5.SS1.p2.1.m1.1a"><msub id="S5.SS1.p2.1.m1.1.1" xref="S5.SS1.p2.1.m1.1.1.cmml"><mi id="S5.SS1.p2.1.m1.1.1.2" xref="S5.SS1.p2.1.m1.1.1.2.cmml">t</mi><mi id="S5.SS1.p2.1.m1.1.1.3" xref="S5.SS1.p2.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.1b"><apply id="S5.SS1.p2.1.m1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S5.SS1.p2.1.m1.1.1.2.cmml" xref="S5.SS1.p2.1.m1.1.1.2">ğ‘¡</ci><ci id="S5.SS1.p2.1.m1.1.1.3.cmml" xref="S5.SS1.p2.1.m1.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.1c">t_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.1.m1.1d">italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>
from this list and using GPT-3.5 to generate a related user query (<math alttext="s_{i}" class="ltx_Math" display="inline" id="S5.SS1.p2.2.m2.1"><semantics id="S5.SS1.p2.2.m2.1a"><msub id="S5.SS1.p2.2.m2.1.1" xref="S5.SS1.p2.2.m2.1.1.cmml"><mi id="S5.SS1.p2.2.m2.1.1.2" xref="S5.SS1.p2.2.m2.1.1.2.cmml">s</mi><mi id="S5.SS1.p2.2.m2.1.1.3" xref="S5.SS1.p2.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.2.m2.1b"><apply id="S5.SS1.p2.2.m2.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.2.m2.1.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S5.SS1.p2.2.m2.1.1.2.cmml" xref="S5.SS1.p2.2.m2.1.1.2">ğ‘ </ci><ci id="S5.SS1.p2.2.m2.1.1.3.cmml" xref="S5.SS1.p2.2.m2.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.2.m2.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.2.m2.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>). GPT-3.5 also produced the answer for (<math alttext="s_{i}" class="ltx_Math" display="inline" id="S5.SS1.p2.3.m3.1"><semantics id="S5.SS1.p2.3.m3.1a"><msub id="S5.SS1.p2.3.m3.1.1" xref="S5.SS1.p2.3.m3.1.1.cmml"><mi id="S5.SS1.p2.3.m3.1.1.2" xref="S5.SS1.p2.3.m3.1.1.2.cmml">s</mi><mi id="S5.SS1.p2.3.m3.1.1.3" xref="S5.SS1.p2.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.3.m3.1b"><apply id="S5.SS1.p2.3.m3.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.3.m3.1.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1">subscript</csymbol><ci id="S5.SS1.p2.3.m3.1.1.2.cmml" xref="S5.SS1.p2.3.m3.1.1.2">ğ‘ </ci><ci id="S5.SS1.p2.3.m3.1.1.3.cmml" xref="S5.SS1.p2.3.m3.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.3.m3.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.3.m3.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>), which is used as the positive sample (<math alttext="s_{i}^{+}" class="ltx_Math" display="inline" id="S5.SS1.p2.4.m4.1"><semantics id="S5.SS1.p2.4.m4.1a"><msubsup id="S5.SS1.p2.4.m4.1.1" xref="S5.SS1.p2.4.m4.1.1.cmml"><mi id="S5.SS1.p2.4.m4.1.1.2.2" xref="S5.SS1.p2.4.m4.1.1.2.2.cmml">s</mi><mi id="S5.SS1.p2.4.m4.1.1.2.3" xref="S5.SS1.p2.4.m4.1.1.2.3.cmml">i</mi><mo id="S5.SS1.p2.4.m4.1.1.3" xref="S5.SS1.p2.4.m4.1.1.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.4.m4.1b"><apply id="S5.SS1.p2.4.m4.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.4.m4.1.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1">superscript</csymbol><apply id="S5.SS1.p2.4.m4.1.1.2.cmml" xref="S5.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.4.m4.1.1.2.1.cmml" xref="S5.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S5.SS1.p2.4.m4.1.1.2.2.cmml" xref="S5.SS1.p2.4.m4.1.1.2.2">ğ‘ </ci><ci id="S5.SS1.p2.4.m4.1.1.2.3.cmml" xref="S5.SS1.p2.4.m4.1.1.2.3">ğ‘–</ci></apply><plus id="S5.SS1.p2.4.m4.1.1.3.cmml" xref="S5.SS1.p2.4.m4.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.4.m4.1c">s_{i}^{+}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.4.m4.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT</annotation></semantics></math>).
Simultaneously, we created a negative sample (<math alttext="s_{i}^{-}" class="ltx_Math" display="inline" id="S5.SS1.p2.5.m5.1"><semantics id="S5.SS1.p2.5.m5.1a"><msubsup id="S5.SS1.p2.5.m5.1.1" xref="S5.SS1.p2.5.m5.1.1.cmml"><mi id="S5.SS1.p2.5.m5.1.1.2.2" xref="S5.SS1.p2.5.m5.1.1.2.2.cmml">s</mi><mi id="S5.SS1.p2.5.m5.1.1.2.3" xref="S5.SS1.p2.5.m5.1.1.2.3.cmml">i</mi><mo id="S5.SS1.p2.5.m5.1.1.3" xref="S5.SS1.p2.5.m5.1.1.3.cmml">âˆ’</mo></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.5.m5.1b"><apply id="S5.SS1.p2.5.m5.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.5.m5.1.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1">superscript</csymbol><apply id="S5.SS1.p2.5.m5.1.1.2.cmml" xref="S5.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.5.m5.1.1.2.1.cmml" xref="S5.SS1.p2.5.m5.1.1">subscript</csymbol><ci id="S5.SS1.p2.5.m5.1.1.2.2.cmml" xref="S5.SS1.p2.5.m5.1.1.2.2">ğ‘ </ci><ci id="S5.SS1.p2.5.m5.1.1.2.3.cmml" xref="S5.SS1.p2.5.m5.1.1.2.3">ğ‘–</ci></apply><minus id="S5.SS1.p2.5.m5.1.1.3.cmml" xref="S5.SS1.p2.5.m5.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.5.m5.1c">s_{i}^{-}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.5.m5.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT</annotation></semantics></math>) by replacing <math alttext="t_{i}" class="ltx_Math" display="inline" id="S5.SS1.p2.6.m6.1"><semantics id="S5.SS1.p2.6.m6.1a"><msub id="S5.SS1.p2.6.m6.1.1" xref="S5.SS1.p2.6.m6.1.1.cmml"><mi id="S5.SS1.p2.6.m6.1.1.2" xref="S5.SS1.p2.6.m6.1.1.2.cmml">t</mi><mi id="S5.SS1.p2.6.m6.1.1.3" xref="S5.SS1.p2.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.6.m6.1b"><apply id="S5.SS1.p2.6.m6.1.1.cmml" xref="S5.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.6.m6.1.1.1.cmml" xref="S5.SS1.p2.6.m6.1.1">subscript</csymbol><ci id="S5.SS1.p2.6.m6.1.1.2.cmml" xref="S5.SS1.p2.6.m6.1.1.2">ğ‘¡</ci><ci id="S5.SS1.p2.6.m6.1.1.3.cmml" xref="S5.SS1.p2.6.m6.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.6.m6.1c">t_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.6.m6.1d">italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in <math alttext="s_{i}" class="ltx_Math" display="inline" id="S5.SS1.p2.7.m7.1"><semantics id="S5.SS1.p2.7.m7.1a"><msub id="S5.SS1.p2.7.m7.1.1" xref="S5.SS1.p2.7.m7.1.1.cmml"><mi id="S5.SS1.p2.7.m7.1.1.2" xref="S5.SS1.p2.7.m7.1.1.2.cmml">s</mi><mi id="S5.SS1.p2.7.m7.1.1.3" xref="S5.SS1.p2.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.7.m7.1b"><apply id="S5.SS1.p2.7.m7.1.1.cmml" xref="S5.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.7.m7.1.1.1.cmml" xref="S5.SS1.p2.7.m7.1.1">subscript</csymbol><ci id="S5.SS1.p2.7.m7.1.1.2.cmml" xref="S5.SS1.p2.7.m7.1.1.2">ğ‘ </ci><ci id="S5.SS1.p2.7.m7.1.1.3.cmml" xref="S5.SS1.p2.7.m7.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.7.m7.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.7.m7.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> with a different terminology <math alttext="t_{j}" class="ltx_Math" display="inline" id="S5.SS1.p2.8.m8.1"><semantics id="S5.SS1.p2.8.m8.1a"><msub id="S5.SS1.p2.8.m8.1.1" xref="S5.SS1.p2.8.m8.1.1.cmml"><mi id="S5.SS1.p2.8.m8.1.1.2" xref="S5.SS1.p2.8.m8.1.1.2.cmml">t</mi><mi id="S5.SS1.p2.8.m8.1.1.3" xref="S5.SS1.p2.8.m8.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.8.m8.1b"><apply id="S5.SS1.p2.8.m8.1.1.cmml" xref="S5.SS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.8.m8.1.1.1.cmml" xref="S5.SS1.p2.8.m8.1.1">subscript</csymbol><ci id="S5.SS1.p2.8.m8.1.1.2.cmml" xref="S5.SS1.p2.8.m8.1.1.2">ğ‘¡</ci><ci id="S5.SS1.p2.8.m8.1.1.3.cmml" xref="S5.SS1.p2.8.m8.1.1.3">ğ‘—</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.8.m8.1c">t_{j}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.8.m8.1d">italic_t start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>
resulting in a data triplet <math alttext="\{s_{i},s_{i}^{+},s_{i}^{-}\}" class="ltx_Math" display="inline" id="S5.SS1.p2.9.m9.3"><semantics id="S5.SS1.p2.9.m9.3a"><mrow id="S5.SS1.p2.9.m9.3.3.3" xref="S5.SS1.p2.9.m9.3.3.4.cmml"><mo id="S5.SS1.p2.9.m9.3.3.3.4" stretchy="false" xref="S5.SS1.p2.9.m9.3.3.4.cmml">{</mo><msub id="S5.SS1.p2.9.m9.1.1.1.1" xref="S5.SS1.p2.9.m9.1.1.1.1.cmml"><mi id="S5.SS1.p2.9.m9.1.1.1.1.2" xref="S5.SS1.p2.9.m9.1.1.1.1.2.cmml">s</mi><mi id="S5.SS1.p2.9.m9.1.1.1.1.3" xref="S5.SS1.p2.9.m9.1.1.1.1.3.cmml">i</mi></msub><mo id="S5.SS1.p2.9.m9.3.3.3.5" xref="S5.SS1.p2.9.m9.3.3.4.cmml">,</mo><msubsup id="S5.SS1.p2.9.m9.2.2.2.2" xref="S5.SS1.p2.9.m9.2.2.2.2.cmml"><mi id="S5.SS1.p2.9.m9.2.2.2.2.2.2" xref="S5.SS1.p2.9.m9.2.2.2.2.2.2.cmml">s</mi><mi id="S5.SS1.p2.9.m9.2.2.2.2.2.3" xref="S5.SS1.p2.9.m9.2.2.2.2.2.3.cmml">i</mi><mo id="S5.SS1.p2.9.m9.2.2.2.2.3" xref="S5.SS1.p2.9.m9.2.2.2.2.3.cmml">+</mo></msubsup><mo id="S5.SS1.p2.9.m9.3.3.3.6" xref="S5.SS1.p2.9.m9.3.3.4.cmml">,</mo><msubsup id="S5.SS1.p2.9.m9.3.3.3.3" xref="S5.SS1.p2.9.m9.3.3.3.3.cmml"><mi id="S5.SS1.p2.9.m9.3.3.3.3.2.2" xref="S5.SS1.p2.9.m9.3.3.3.3.2.2.cmml">s</mi><mi id="S5.SS1.p2.9.m9.3.3.3.3.2.3" xref="S5.SS1.p2.9.m9.3.3.3.3.2.3.cmml">i</mi><mo id="S5.SS1.p2.9.m9.3.3.3.3.3" xref="S5.SS1.p2.9.m9.3.3.3.3.3.cmml">âˆ’</mo></msubsup><mo id="S5.SS1.p2.9.m9.3.3.3.7" stretchy="false" xref="S5.SS1.p2.9.m9.3.3.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.9.m9.3b"><set id="S5.SS1.p2.9.m9.3.3.4.cmml" xref="S5.SS1.p2.9.m9.3.3.3"><apply id="S5.SS1.p2.9.m9.1.1.1.1.cmml" xref="S5.SS1.p2.9.m9.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.9.m9.1.1.1.1.1.cmml" xref="S5.SS1.p2.9.m9.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p2.9.m9.1.1.1.1.2.cmml" xref="S5.SS1.p2.9.m9.1.1.1.1.2">ğ‘ </ci><ci id="S5.SS1.p2.9.m9.1.1.1.1.3.cmml" xref="S5.SS1.p2.9.m9.1.1.1.1.3">ğ‘–</ci></apply><apply id="S5.SS1.p2.9.m9.2.2.2.2.cmml" xref="S5.SS1.p2.9.m9.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.9.m9.2.2.2.2.1.cmml" xref="S5.SS1.p2.9.m9.2.2.2.2">superscript</csymbol><apply id="S5.SS1.p2.9.m9.2.2.2.2.2.cmml" xref="S5.SS1.p2.9.m9.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.9.m9.2.2.2.2.2.1.cmml" xref="S5.SS1.p2.9.m9.2.2.2.2">subscript</csymbol><ci id="S5.SS1.p2.9.m9.2.2.2.2.2.2.cmml" xref="S5.SS1.p2.9.m9.2.2.2.2.2.2">ğ‘ </ci><ci id="S5.SS1.p2.9.m9.2.2.2.2.2.3.cmml" xref="S5.SS1.p2.9.m9.2.2.2.2.2.3">ğ‘–</ci></apply><plus id="S5.SS1.p2.9.m9.2.2.2.2.3.cmml" xref="S5.SS1.p2.9.m9.2.2.2.2.3"></plus></apply><apply id="S5.SS1.p2.9.m9.3.3.3.3.cmml" xref="S5.SS1.p2.9.m9.3.3.3.3"><csymbol cd="ambiguous" id="S5.SS1.p2.9.m9.3.3.3.3.1.cmml" xref="S5.SS1.p2.9.m9.3.3.3.3">superscript</csymbol><apply id="S5.SS1.p2.9.m9.3.3.3.3.2.cmml" xref="S5.SS1.p2.9.m9.3.3.3.3"><csymbol cd="ambiguous" id="S5.SS1.p2.9.m9.3.3.3.3.2.1.cmml" xref="S5.SS1.p2.9.m9.3.3.3.3">subscript</csymbol><ci id="S5.SS1.p2.9.m9.3.3.3.3.2.2.cmml" xref="S5.SS1.p2.9.m9.3.3.3.3.2.2">ğ‘ </ci><ci id="S5.SS1.p2.9.m9.3.3.3.3.2.3.cmml" xref="S5.SS1.p2.9.m9.3.3.3.3.2.3">ğ‘–</ci></apply><minus id="S5.SS1.p2.9.m9.3.3.3.3.3.cmml" xref="S5.SS1.p2.9.m9.3.3.3.3.3"></minus></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.9.m9.3c">\{s_{i},s_{i}^{+},s_{i}^{-}\}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.9.m9.3d">{ italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT , italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT }</annotation></semantics></math>.
Overall, we gathered 3,975 Â¡query, positive sample, negative sampleÂ¿ triplets to fine-tune the text embedding model.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS1.p3">
<p class="ltx_p" id="S5.SS1.p3.8"><span class="ltx_text ltx_font_bold" id="S5.SS1.p3.8.1">Dataset For Generator</span>.
There are two training phases for generator: domain knowledge pre-train and task-specific instruction tuning.
For the construction of pre-train dataset,
we split the two textbooksÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib20" title="">lavagno2016electronic, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib21" title="">alpert2008handbook, </a>)</cite> mentioned in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS4" title="3.4. Domain-Specific LLM Generator â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">3.4</span></a> into 4863 chunks,
where the token size of each chunk is limited within 1024.
The procedure of dataset collecting for task-specific instruction tuning is as follows:
Each time we sample 10 document chunks of OpenROAD documentation as the document pool. Then, GPT-4 is prompted to select <math alttext="n" class="ltx_Math" display="inline" id="S5.SS1.p3.1.m1.1"><semantics id="S5.SS1.p3.1.m1.1a"><mi id="S5.SS1.p3.1.m1.1.1" xref="S5.SS1.p3.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.1.m1.1b"><ci id="S5.SS1.p3.1.m1.1.1.cmml" xref="S5.SS1.p3.1.m1.1.1">ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.1.m1.1d">italic_n</annotation></semantics></math> (<math alttext="n\leq 10" class="ltx_Math" display="inline" id="S5.SS1.p3.2.m2.1"><semantics id="S5.SS1.p3.2.m2.1a"><mrow id="S5.SS1.p3.2.m2.1.1" xref="S5.SS1.p3.2.m2.1.1.cmml"><mi id="S5.SS1.p3.2.m2.1.1.2" xref="S5.SS1.p3.2.m2.1.1.2.cmml">n</mi><mo id="S5.SS1.p3.2.m2.1.1.1" xref="S5.SS1.p3.2.m2.1.1.1.cmml">â‰¤</mo><mn id="S5.SS1.p3.2.m2.1.1.3" xref="S5.SS1.p3.2.m2.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.2.m2.1b"><apply id="S5.SS1.p3.2.m2.1.1.cmml" xref="S5.SS1.p3.2.m2.1.1"><leq id="S5.SS1.p3.2.m2.1.1.1.cmml" xref="S5.SS1.p3.2.m2.1.1.1"></leq><ci id="S5.SS1.p3.2.m2.1.1.2.cmml" xref="S5.SS1.p3.2.m2.1.1.2">ğ‘›</ci><cn id="S5.SS1.p3.2.m2.1.1.3.cmml" type="integer" xref="S5.SS1.p3.2.m2.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.2.m2.1c">n\leq 10</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.2.m2.1d">italic_n â‰¤ 10</annotation></semantics></math>) document chunks from the pool such that the selected chunks are logically related.
Based on the <math alttext="n" class="ltx_Math" display="inline" id="S5.SS1.p3.3.m3.1"><semantics id="S5.SS1.p3.3.m3.1a"><mi id="S5.SS1.p3.3.m3.1.1" xref="S5.SS1.p3.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.3.m3.1b"><ci id="S5.SS1.p3.3.m3.1.1.cmml" xref="S5.SS1.p3.3.m3.1.1">ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.3.m3.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.3.m3.1d">italic_n</annotation></semantics></math> selected document chunks (<math alttext="r" class="ltx_Math" display="inline" id="S5.SS1.p3.4.m4.1"><semantics id="S5.SS1.p3.4.m4.1a"><mi id="S5.SS1.p3.4.m4.1.1" xref="S5.SS1.p3.4.m4.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.4.m4.1b"><ci id="S5.SS1.p3.4.m4.1.1.cmml" xref="S5.SS1.p3.4.m4.1.1">ğ‘Ÿ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.4.m4.1c">r</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.4.m4.1d">italic_r</annotation></semantics></math>), we prompt GPT-4 to generate one question (<math alttext="q" class="ltx_Math" display="inline" id="S5.SS1.p3.5.m5.1"><semantics id="S5.SS1.p3.5.m5.1a"><mi id="S5.SS1.p3.5.m5.1.1" xref="S5.SS1.p3.5.m5.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.5.m5.1b"><ci id="S5.SS1.p3.5.m5.1.1.cmml" xref="S5.SS1.p3.5.m5.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.5.m5.1c">q</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.5.m5.1d">italic_q</annotation></semantics></math>) from the perspective of the OpenROAD users, analyze the question step by step, and give the answer (<math alttext="a" class="ltx_Math" display="inline" id="S5.SS1.p3.6.m6.1"><semantics id="S5.SS1.p3.6.m6.1a"><mi id="S5.SS1.p3.6.m6.1.1" xref="S5.SS1.p3.6.m6.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.6.m6.1b"><ci id="S5.SS1.p3.6.m6.1.1.cmml" xref="S5.SS1.p3.6.m6.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.6.m6.1c">a</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.6.m6.1d">italic_a</annotation></semantics></math>) referring to <math alttext="r" class="ltx_Math" display="inline" id="S5.SS1.p3.7.m7.1"><semantics id="S5.SS1.p3.7.m7.1a"><mi id="S5.SS1.p3.7.m7.1.1" xref="S5.SS1.p3.7.m7.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.7.m7.1b"><ci id="S5.SS1.p3.7.m7.1.1.cmml" xref="S5.SS1.p3.7.m7.1.1">ğ‘Ÿ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.7.m7.1c">r</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.7.m7.1d">italic_r</annotation></semantics></math>.
Following the procedure above, we generate 1732 <math alttext="\{q,r,a\}" class="ltx_Math" display="inline" id="S5.SS1.p3.8.m8.3"><semantics id="S5.SS1.p3.8.m8.3a"><mrow id="S5.SS1.p3.8.m8.3.4.2" xref="S5.SS1.p3.8.m8.3.4.1.cmml"><mo id="S5.SS1.p3.8.m8.3.4.2.1" stretchy="false" xref="S5.SS1.p3.8.m8.3.4.1.cmml">{</mo><mi id="S5.SS1.p3.8.m8.1.1" xref="S5.SS1.p3.8.m8.1.1.cmml">q</mi><mo id="S5.SS1.p3.8.m8.3.4.2.2" xref="S5.SS1.p3.8.m8.3.4.1.cmml">,</mo><mi id="S5.SS1.p3.8.m8.2.2" xref="S5.SS1.p3.8.m8.2.2.cmml">r</mi><mo id="S5.SS1.p3.8.m8.3.4.2.3" xref="S5.SS1.p3.8.m8.3.4.1.cmml">,</mo><mi id="S5.SS1.p3.8.m8.3.3" xref="S5.SS1.p3.8.m8.3.3.cmml">a</mi><mo id="S5.SS1.p3.8.m8.3.4.2.4" stretchy="false" xref="S5.SS1.p3.8.m8.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.8.m8.3b"><set id="S5.SS1.p3.8.m8.3.4.1.cmml" xref="S5.SS1.p3.8.m8.3.4.2"><ci id="S5.SS1.p3.8.m8.1.1.cmml" xref="S5.SS1.p3.8.m8.1.1">ğ‘</ci><ci id="S5.SS1.p3.8.m8.2.2.cmml" xref="S5.SS1.p3.8.m8.2.2">ğ‘Ÿ</ci><ci id="S5.SS1.p3.8.m8.3.3.cmml" xref="S5.SS1.p3.8.m8.3.3">ğ‘</ci></set></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.8.m8.3c">\{q,r,a\}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.8.m8.3d">{ italic_q , italic_r , italic_a }</annotation></semantics></math> triplets as our dataset for instruction tuning.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS1.p4">
<p class="ltx_p" id="S5.SS1.p4.10"><span class="ltx_text ltx_font_bold" id="S5.SS1.p4.10.1">Dataset for Reranker Model</span>.
To construct the dataset of reranker finetuning, we first randomly sample triplets from the instruction-tuning dataset.
For each question <math alttext="q_{i}" class="ltx_Math" display="inline" id="S5.SS1.p4.1.m1.1"><semantics id="S5.SS1.p4.1.m1.1a"><msub id="S5.SS1.p4.1.m1.1.1" xref="S5.SS1.p4.1.m1.1.1.cmml"><mi id="S5.SS1.p4.1.m1.1.1.2" xref="S5.SS1.p4.1.m1.1.1.2.cmml">q</mi><mi id="S5.SS1.p4.1.m1.1.1.3" xref="S5.SS1.p4.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.1.m1.1b"><apply id="S5.SS1.p4.1.m1.1.1.cmml" xref="S5.SS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.1.m1.1.1.1.cmml" xref="S5.SS1.p4.1.m1.1.1">subscript</csymbol><ci id="S5.SS1.p4.1.m1.1.1.2.cmml" xref="S5.SS1.p4.1.m1.1.1.2">ğ‘</ci><ci id="S5.SS1.p4.1.m1.1.1.3.cmml" xref="S5.SS1.p4.1.m1.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.1.m1.1c">q_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.1.m1.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, we treat their corresponding relevant document chunks <math alttext="r_{i}" class="ltx_Math" display="inline" id="S5.SS1.p4.2.m2.1"><semantics id="S5.SS1.p4.2.m2.1a"><msub id="S5.SS1.p4.2.m2.1.1" xref="S5.SS1.p4.2.m2.1.1.cmml"><mi id="S5.SS1.p4.2.m2.1.1.2" xref="S5.SS1.p4.2.m2.1.1.2.cmml">r</mi><mi id="S5.SS1.p4.2.m2.1.1.3" xref="S5.SS1.p4.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.2.m2.1b"><apply id="S5.SS1.p4.2.m2.1.1.cmml" xref="S5.SS1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.2.m2.1.1.1.cmml" xref="S5.SS1.p4.2.m2.1.1">subscript</csymbol><ci id="S5.SS1.p4.2.m2.1.1.2.cmml" xref="S5.SS1.p4.2.m2.1.1.2">ğ‘Ÿ</ci><ci id="S5.SS1.p4.2.m2.1.1.3.cmml" xref="S5.SS1.p4.2.m2.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.2.m2.1c">r_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.2.m2.1d">italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> as the positive documents and denote them by <math alttext="C_{i}^{+}" class="ltx_Math" display="inline" id="S5.SS1.p4.3.m3.1"><semantics id="S5.SS1.p4.3.m3.1a"><msubsup id="S5.SS1.p4.3.m3.1.1" xref="S5.SS1.p4.3.m3.1.1.cmml"><mi id="S5.SS1.p4.3.m3.1.1.2.2" xref="S5.SS1.p4.3.m3.1.1.2.2.cmml">C</mi><mi id="S5.SS1.p4.3.m3.1.1.2.3" xref="S5.SS1.p4.3.m3.1.1.2.3.cmml">i</mi><mo id="S5.SS1.p4.3.m3.1.1.3" xref="S5.SS1.p4.3.m3.1.1.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.3.m3.1b"><apply id="S5.SS1.p4.3.m3.1.1.cmml" xref="S5.SS1.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.3.m3.1.1.1.cmml" xref="S5.SS1.p4.3.m3.1.1">superscript</csymbol><apply id="S5.SS1.p4.3.m3.1.1.2.cmml" xref="S5.SS1.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.3.m3.1.1.2.1.cmml" xref="S5.SS1.p4.3.m3.1.1">subscript</csymbol><ci id="S5.SS1.p4.3.m3.1.1.2.2.cmml" xref="S5.SS1.p4.3.m3.1.1.2.2">ğ¶</ci><ci id="S5.SS1.p4.3.m3.1.1.2.3.cmml" xref="S5.SS1.p4.3.m3.1.1.2.3">ğ‘–</ci></apply><plus id="S5.SS1.p4.3.m3.1.1.3.cmml" xref="S5.SS1.p4.3.m3.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.3.m3.1c">C_{i}^{+}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.3.m3.1d">italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT</annotation></semantics></math>.
Then, we apply hybrid retrieval described in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS2" title="3.2. Hybrid Information Retrieval â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">3.2</span></a> on <math alttext="q_{i}" class="ltx_Math" display="inline" id="S5.SS1.p4.4.m4.1"><semantics id="S5.SS1.p4.4.m4.1a"><msub id="S5.SS1.p4.4.m4.1.1" xref="S5.SS1.p4.4.m4.1.1.cmml"><mi id="S5.SS1.p4.4.m4.1.1.2" xref="S5.SS1.p4.4.m4.1.1.2.cmml">q</mi><mi id="S5.SS1.p4.4.m4.1.1.3" xref="S5.SS1.p4.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.4.m4.1b"><apply id="S5.SS1.p4.4.m4.1.1.cmml" xref="S5.SS1.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.4.m4.1.1.1.cmml" xref="S5.SS1.p4.4.m4.1.1">subscript</csymbol><ci id="S5.SS1.p4.4.m4.1.1.2.cmml" xref="S5.SS1.p4.4.m4.1.1.2">ğ‘</ci><ci id="S5.SS1.p4.4.m4.1.1.3.cmml" xref="S5.SS1.p4.4.m4.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.4.m4.1c">q_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.4.m4.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, and set the top-<math alttext="k" class="ltx_Math" display="inline" id="S5.SS1.p4.5.m5.1"><semantics id="S5.SS1.p4.5.m5.1a"><mi id="S5.SS1.p4.5.m5.1.1" xref="S5.SS1.p4.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.5.m5.1b"><ci id="S5.SS1.p4.5.m5.1.1.cmml" xref="S5.SS1.p4.5.m5.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.5.m5.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.5.m5.1d">italic_k</annotation></semantics></math> values for both the lexical and semantic searchers to be 10, in result, 20 document chunks are retrieved and denoted as <math alttext="C_{i}^{\prime}" class="ltx_Math" display="inline" id="S5.SS1.p4.6.m6.1"><semantics id="S5.SS1.p4.6.m6.1a"><msubsup id="S5.SS1.p4.6.m6.1.1" xref="S5.SS1.p4.6.m6.1.1.cmml"><mi id="S5.SS1.p4.6.m6.1.1.2.2" xref="S5.SS1.p4.6.m6.1.1.2.2.cmml">C</mi><mi id="S5.SS1.p4.6.m6.1.1.2.3" xref="S5.SS1.p4.6.m6.1.1.2.3.cmml">i</mi><mo id="S5.SS1.p4.6.m6.1.1.3" xref="S5.SS1.p4.6.m6.1.1.3.cmml">â€²</mo></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.6.m6.1b"><apply id="S5.SS1.p4.6.m6.1.1.cmml" xref="S5.SS1.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.6.m6.1.1.1.cmml" xref="S5.SS1.p4.6.m6.1.1">superscript</csymbol><apply id="S5.SS1.p4.6.m6.1.1.2.cmml" xref="S5.SS1.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.6.m6.1.1.2.1.cmml" xref="S5.SS1.p4.6.m6.1.1">subscript</csymbol><ci id="S5.SS1.p4.6.m6.1.1.2.2.cmml" xref="S5.SS1.p4.6.m6.1.1.2.2">ğ¶</ci><ci id="S5.SS1.p4.6.m6.1.1.2.3.cmml" xref="S5.SS1.p4.6.m6.1.1.2.3">ğ‘–</ci></apply><ci id="S5.SS1.p4.6.m6.1.1.3.cmml" xref="S5.SS1.p4.6.m6.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.6.m6.1c">C_{i}^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.6.m6.1d">italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math>.
Among the chunks in <math alttext="C_{i}^{\prime}" class="ltx_Math" display="inline" id="S5.SS1.p4.7.m7.1"><semantics id="S5.SS1.p4.7.m7.1a"><msubsup id="S5.SS1.p4.7.m7.1.1" xref="S5.SS1.p4.7.m7.1.1.cmml"><mi id="S5.SS1.p4.7.m7.1.1.2.2" xref="S5.SS1.p4.7.m7.1.1.2.2.cmml">C</mi><mi id="S5.SS1.p4.7.m7.1.1.2.3" xref="S5.SS1.p4.7.m7.1.1.2.3.cmml">i</mi><mo id="S5.SS1.p4.7.m7.1.1.3" xref="S5.SS1.p4.7.m7.1.1.3.cmml">â€²</mo></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.7.m7.1b"><apply id="S5.SS1.p4.7.m7.1.1.cmml" xref="S5.SS1.p4.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.7.m7.1.1.1.cmml" xref="S5.SS1.p4.7.m7.1.1">superscript</csymbol><apply id="S5.SS1.p4.7.m7.1.1.2.cmml" xref="S5.SS1.p4.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.7.m7.1.1.2.1.cmml" xref="S5.SS1.p4.7.m7.1.1">subscript</csymbol><ci id="S5.SS1.p4.7.m7.1.1.2.2.cmml" xref="S5.SS1.p4.7.m7.1.1.2.2">ğ¶</ci><ci id="S5.SS1.p4.7.m7.1.1.2.3.cmml" xref="S5.SS1.p4.7.m7.1.1.2.3">ğ‘–</ci></apply><ci id="S5.SS1.p4.7.m7.1.1.3.cmml" xref="S5.SS1.p4.7.m7.1.1.3">â€²</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.7.m7.1c">C_{i}^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.7.m7.1d">italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT</annotation></semantics></math>, we prompt GPT-4 to detect the ones which are weakly-related/irrelevant with <math alttext="q_{i}" class="ltx_Math" display="inline" id="S5.SS1.p4.8.m8.1"><semantics id="S5.SS1.p4.8.m8.1a"><msub id="S5.SS1.p4.8.m8.1.1" xref="S5.SS1.p4.8.m8.1.1.cmml"><mi id="S5.SS1.p4.8.m8.1.1.2" xref="S5.SS1.p4.8.m8.1.1.2.cmml">q</mi><mi id="S5.SS1.p4.8.m8.1.1.3" xref="S5.SS1.p4.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.8.m8.1b"><apply id="S5.SS1.p4.8.m8.1.1.cmml" xref="S5.SS1.p4.8.m8.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.8.m8.1.1.1.cmml" xref="S5.SS1.p4.8.m8.1.1">subscript</csymbol><ci id="S5.SS1.p4.8.m8.1.1.2.cmml" xref="S5.SS1.p4.8.m8.1.1.2">ğ‘</ci><ci id="S5.SS1.p4.8.m8.1.1.3.cmml" xref="S5.SS1.p4.8.m8.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.8.m8.1c">q_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.8.m8.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, and denote them by <math alttext="C_{i}^{-}" class="ltx_Math" display="inline" id="S5.SS1.p4.9.m9.1"><semantics id="S5.SS1.p4.9.m9.1a"><msubsup id="S5.SS1.p4.9.m9.1.1" xref="S5.SS1.p4.9.m9.1.1.cmml"><mi id="S5.SS1.p4.9.m9.1.1.2.2" xref="S5.SS1.p4.9.m9.1.1.2.2.cmml">C</mi><mi id="S5.SS1.p4.9.m9.1.1.2.3" xref="S5.SS1.p4.9.m9.1.1.2.3.cmml">i</mi><mo id="S5.SS1.p4.9.m9.1.1.3" xref="S5.SS1.p4.9.m9.1.1.3.cmml">âˆ’</mo></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.9.m9.1b"><apply id="S5.SS1.p4.9.m9.1.1.cmml" xref="S5.SS1.p4.9.m9.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.9.m9.1.1.1.cmml" xref="S5.SS1.p4.9.m9.1.1">superscript</csymbol><apply id="S5.SS1.p4.9.m9.1.1.2.cmml" xref="S5.SS1.p4.9.m9.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.9.m9.1.1.2.1.cmml" xref="S5.SS1.p4.9.m9.1.1">subscript</csymbol><ci id="S5.SS1.p4.9.m9.1.1.2.2.cmml" xref="S5.SS1.p4.9.m9.1.1.2.2">ğ¶</ci><ci id="S5.SS1.p4.9.m9.1.1.2.3.cmml" xref="S5.SS1.p4.9.m9.1.1.2.3">ğ‘–</ci></apply><minus id="S5.SS1.p4.9.m9.1.1.3.cmml" xref="S5.SS1.p4.9.m9.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.9.m9.1c">C_{i}^{-}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.9.m9.1d">italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT</annotation></semantics></math>.
Finally, we get 208 <math alttext="\{q_{i},C_{i}^{+},C_{i}^{-}\}" class="ltx_Math" display="inline" id="S5.SS1.p4.10.m10.3"><semantics id="S5.SS1.p4.10.m10.3a"><mrow id="S5.SS1.p4.10.m10.3.3.3" xref="S5.SS1.p4.10.m10.3.3.4.cmml"><mo id="S5.SS1.p4.10.m10.3.3.3.4" stretchy="false" xref="S5.SS1.p4.10.m10.3.3.4.cmml">{</mo><msub id="S5.SS1.p4.10.m10.1.1.1.1" xref="S5.SS1.p4.10.m10.1.1.1.1.cmml"><mi id="S5.SS1.p4.10.m10.1.1.1.1.2" xref="S5.SS1.p4.10.m10.1.1.1.1.2.cmml">q</mi><mi id="S5.SS1.p4.10.m10.1.1.1.1.3" xref="S5.SS1.p4.10.m10.1.1.1.1.3.cmml">i</mi></msub><mo id="S5.SS1.p4.10.m10.3.3.3.5" xref="S5.SS1.p4.10.m10.3.3.4.cmml">,</mo><msubsup id="S5.SS1.p4.10.m10.2.2.2.2" xref="S5.SS1.p4.10.m10.2.2.2.2.cmml"><mi id="S5.SS1.p4.10.m10.2.2.2.2.2.2" xref="S5.SS1.p4.10.m10.2.2.2.2.2.2.cmml">C</mi><mi id="S5.SS1.p4.10.m10.2.2.2.2.2.3" xref="S5.SS1.p4.10.m10.2.2.2.2.2.3.cmml">i</mi><mo id="S5.SS1.p4.10.m10.2.2.2.2.3" xref="S5.SS1.p4.10.m10.2.2.2.2.3.cmml">+</mo></msubsup><mo id="S5.SS1.p4.10.m10.3.3.3.6" xref="S5.SS1.p4.10.m10.3.3.4.cmml">,</mo><msubsup id="S5.SS1.p4.10.m10.3.3.3.3" xref="S5.SS1.p4.10.m10.3.3.3.3.cmml"><mi id="S5.SS1.p4.10.m10.3.3.3.3.2.2" xref="S5.SS1.p4.10.m10.3.3.3.3.2.2.cmml">C</mi><mi id="S5.SS1.p4.10.m10.3.3.3.3.2.3" xref="S5.SS1.p4.10.m10.3.3.3.3.2.3.cmml">i</mi><mo id="S5.SS1.p4.10.m10.3.3.3.3.3" xref="S5.SS1.p4.10.m10.3.3.3.3.3.cmml">âˆ’</mo></msubsup><mo id="S5.SS1.p4.10.m10.3.3.3.7" stretchy="false" xref="S5.SS1.p4.10.m10.3.3.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.10.m10.3b"><set id="S5.SS1.p4.10.m10.3.3.4.cmml" xref="S5.SS1.p4.10.m10.3.3.3"><apply id="S5.SS1.p4.10.m10.1.1.1.1.cmml" xref="S5.SS1.p4.10.m10.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.10.m10.1.1.1.1.1.cmml" xref="S5.SS1.p4.10.m10.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p4.10.m10.1.1.1.1.2.cmml" xref="S5.SS1.p4.10.m10.1.1.1.1.2">ğ‘</ci><ci id="S5.SS1.p4.10.m10.1.1.1.1.3.cmml" xref="S5.SS1.p4.10.m10.1.1.1.1.3">ğ‘–</ci></apply><apply id="S5.SS1.p4.10.m10.2.2.2.2.cmml" xref="S5.SS1.p4.10.m10.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p4.10.m10.2.2.2.2.1.cmml" xref="S5.SS1.p4.10.m10.2.2.2.2">superscript</csymbol><apply id="S5.SS1.p4.10.m10.2.2.2.2.2.cmml" xref="S5.SS1.p4.10.m10.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p4.10.m10.2.2.2.2.2.1.cmml" xref="S5.SS1.p4.10.m10.2.2.2.2">subscript</csymbol><ci id="S5.SS1.p4.10.m10.2.2.2.2.2.2.cmml" xref="S5.SS1.p4.10.m10.2.2.2.2.2.2">ğ¶</ci><ci id="S5.SS1.p4.10.m10.2.2.2.2.2.3.cmml" xref="S5.SS1.p4.10.m10.2.2.2.2.2.3">ğ‘–</ci></apply><plus id="S5.SS1.p4.10.m10.2.2.2.2.3.cmml" xref="S5.SS1.p4.10.m10.2.2.2.2.3"></plus></apply><apply id="S5.SS1.p4.10.m10.3.3.3.3.cmml" xref="S5.SS1.p4.10.m10.3.3.3.3"><csymbol cd="ambiguous" id="S5.SS1.p4.10.m10.3.3.3.3.1.cmml" xref="S5.SS1.p4.10.m10.3.3.3.3">superscript</csymbol><apply id="S5.SS1.p4.10.m10.3.3.3.3.2.cmml" xref="S5.SS1.p4.10.m10.3.3.3.3"><csymbol cd="ambiguous" id="S5.SS1.p4.10.m10.3.3.3.3.2.1.cmml" xref="S5.SS1.p4.10.m10.3.3.3.3">subscript</csymbol><ci id="S5.SS1.p4.10.m10.3.3.3.3.2.2.cmml" xref="S5.SS1.p4.10.m10.3.3.3.3.2.2">ğ¶</ci><ci id="S5.SS1.p4.10.m10.3.3.3.3.2.3.cmml" xref="S5.SS1.p4.10.m10.3.3.3.3.2.3">ğ‘–</ci></apply><minus id="S5.SS1.p4.10.m10.3.3.3.3.3.cmml" xref="S5.SS1.p4.10.m10.3.3.3.3.3"></minus></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.10.m10.3c">\{q_{i},C_{i}^{+},C_{i}^{-}\}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.10.m10.3d">{ italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT , italic_C start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT }</annotation></semantics></math> triplets as the dataset for reranker finetuning.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>Experimental Setting</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">In our customized RAG flow, the text embedding model was fine-tuned on bge-large-en-v1.5<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>https://huggingface.co/BAAI/bge-large-en-v1.5</span></span></span> for 2 epochs, with a batch size of 16, a maximum sequence length of 128, and a temperature of 0.05.
The reranker, based on the bge-reranker-large model<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>https://huggingface.co/BAAI/bge-reranker-large</span></span></span> with the XLM-RoBERTa architectureÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib22" title="">conneau2019unsupervised, </a>)</cite>, underwent fine-tuning for 30 epochs, with batch size 4 and maximum sequence length of 512.
The generator, powered by the Qwen-14b-chat modelÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib23" title="">bai2023qwen, </a>)</cite>, was trained in two stages:
For domain knowledge pre-train, we pretrained the model on the textbook chunks dataset described in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.SS1" title="5.1. Training Dataset Collection â€£ 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">section</span>Â <span class="ltx_text ltx_ref_tag">5.1</span></a> for 2 epochs with the learning rate of 1e-5 and batch size of 1.
For task-specific instruction tuning, we finetuned the model using QLoRA<cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib28" title="">dettmers2024qlora, </a>)</cite> for 4 epochs with the learning rate of 2e-4 and batch size of 1. The maximal sequence length is 4096 and the lora rank is 32.
All the models above were fine-tuned on 16xA100 with 40G memory each.</p>
</div>
<figure class="ltx_table" id="S5.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span>Performance of semantic search for text embedding model on ORD-QA.
</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T1.1" style="width:459.6pt;height:98.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(62.4pt,-13.4pt) scale(1.37272878734892,1.37272878734892) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T1.1.1">
<tr class="ltx_tr" id="S5.T1.1.1.1">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S5.T1.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Model type</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">recall@5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">recall@10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">recall@15</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T1.1.1.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">recall@20</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.2">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_tt" id="S5.T1.1.1.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">text-embedding-ada-002</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.1.1.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.447</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.1.1.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.534</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.1.1.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.609</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T1.1.1.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.634</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.3">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T1.1.1.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">bge-large-en-v1.5</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.503</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.596</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.634</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T1.1.1.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.660</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.4">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r" id="S5.T1.1.1.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Our embedding model</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T1.1.1.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.4.2.1">0.547</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T1.1.1.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.4.3.1">0.658</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T1.1.1.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.4.4.1">0.702</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T1.1.1.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.4.5.1">0.733</span></td>
</tr>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S5.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2. </span>Performance of reranker for weakly-related documents filtering on ORD-QA.
</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T2.1" style="width:459.6pt;height:96.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(59.0pt,-12.4pt) scale(1.34516524080978,1.34516524080978) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T2.1.1">
<tr class="ltx_tr" id="S5.T2.1.1.1">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S5.T2.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Model type</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">recall@1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">recall@2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">recall@3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.1.1.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">recall@4</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.1.1.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">recall@5</td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.2">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_tt" id="S5.T2.1.1.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">RRF</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.1.1.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.248</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.1.1.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.342</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.1.1.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.391</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.1.1.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.435</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T2.1.1.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.484</td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.3">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T2.1.1.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">bge-reranker-large</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.3.2.1">0.360</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.441</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.484</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.497</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.1.1.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.522</td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.4">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r" id="S5.T2.1.1.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Our reranker</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T2.1.1.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.335</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T2.1.1.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.4.3.1">0.534</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T2.1.1.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.4.4.1">0.609</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T2.1.1.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.4.5.1">0.665</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T2.1.1.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.4.6.1">0.671</span></td>
</tr>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S5.T3">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3. </span>Performance of the LLMs as generators on ORD-QA.
</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T3.1" style="width:398.1pt;height:56.2pt;vertical-align:-0.4pt;"><span class="ltx_transformed_inner" style="transform:translate(-250.4pt,35.1pt) scale(0.442867007513552,0.442867007513552) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T3.1.1">
<tr class="ltx_tr" id="S5.T3.1.1.1">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S5.T3.1.1.1.1" rowspan="2"><span class="ltx_text" id="S5.T3.1.1.1.1.1">Model Type</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3" id="S5.T3.1.1.1.2">ORD-QA#functionality</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3" id="S5.T3.1.1.1.3">ORD-QA#vlsi-flow</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3" id="S5.T3.1.1.1.4">ORD-QA#gui &amp; install &amp; test</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3" id="S5.T3.1.1.1.5">ORD-QA#all</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.1">BLEU</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.2">ROUGE-L</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.2.3">UniEval</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.4">BLEU</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.5">ROUGE-L</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.2.6">UniEval</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.7">BLEU</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.8">ROUGE-L</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.2.9">UniEval</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.10">BLEU</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.11">ROUGE-L</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T3.1.1.2.12">UniEval</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.3">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_tt" id="S5.T3.1.1.3.1">GPT-4Â <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib27" title="">achiam2023gpt, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.3.2">0.116</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.3.3">0.257</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T3.1.1.3.4">0.724</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.3.5">0.149</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.3.6">0.268</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T3.1.1.3.7">0.759</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.3.8">0.184</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.3.9">0.328</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T3.1.1.3.10">0.798</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.3.11">0.141</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.3.12">0.277</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T3.1.1.3.13">0.751</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.4">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T3.1.1.4.1">Qwen1.5-14B-ChatÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib23" title="">bai2023qwen, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.2">0.077</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.3">0.189</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.4.4">0.604</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.5">0.099</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.6">0.175</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.4.7">0.513</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.8">0.127</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.9">0.272</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.4.10">0.739</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.11">0.095</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.12">0.206</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.4.13">0.615</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.5">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T3.1.1.5.1">llama-2-13B-chatÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib24" title="">touvron2023llama, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.2">0.099</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.3">0.224</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.5.4">0.694</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.5">0.110</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.6">0.214</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.5.7">0.654</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.8">0.125</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.9">0.250</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.5.10">0.678</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.11">0.108</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.12">0.228</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.5.13">0.680</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.6">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T3.1.1.6.1">Baichuan2-13B-ChatÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib25" title="">yang2023baichuan, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.6.2">0.089</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.6.3">0.244</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.6.4">0.743</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.6.5">0.073</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.6.6">0.260</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.6.7">0.781</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.6.8">0.092</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.6.9">0.281</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.6.10">0.740</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.6.11">0.086</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.6.12">0.257</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T3.1.1.6.13">0.751</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.7">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r" id="S5.T3.1.1.7.1">RAG-EDA-generator (ours)</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.1.1.7.2"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.7.2.1">0.150</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.1.1.7.3"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.7.3.1">0.319</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T3.1.1.7.4"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.7.4.1">0.788</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.1.1.7.5"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.7.5.1">0.188</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.1.1.7.6"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.7.6.1">0.326</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T3.1.1.7.7"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.7.7.1">0.798</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.1.1.7.8"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.7.8.1">0.224</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.1.1.7.9"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.7.9.1">0.374</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T3.1.1.7.10"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.7.10.1">0.809</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.1.1.7.11"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.7.11.1">0.177</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.1.1.7.12"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.7.12.1">0.334</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T3.1.1.7.13"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.7.13.1">0.795</span></td>
</tr>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S5.T4">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4. </span>Performance of the RAG flows on ORD-QA.
</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T4.1" style="width:398.1pt;height:63.3pt;vertical-align:-0.4pt;"><span class="ltx_transformed_inner" style="transform:translate(-342.7pt,54.1pt) scale(0.367367683814306,0.367367683814306) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T4.1.1">
<tr class="ltx_tr" id="S5.T4.1.1.1">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S5.T4.1.1.1.1" rowspan="2"><span class="ltx_text" id="S5.T4.1.1.1.1.1">RAG Flow</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3" id="S5.T4.1.1.1.2">ORD-QA#functionality</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3" id="S5.T4.1.1.1.3">ORD-QA#vlsi-flow</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3" id="S5.T4.1.1.1.4">ORD-QA#gui &amp; install &amp; test</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3" id="S5.T4.1.1.1.5">ORD-QA#all</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.1">BLEU</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.2">ROUGE-L</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T4.1.1.2.3">UniEval</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.4">BLEU</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.5">ROUGE-L</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T4.1.1.2.6">UniEval</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.7">BLEU</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.8">ROUGE-L</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T4.1.1.2.9">UniEval</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.10">BLEU</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.11">ROUGE-L</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T4.1.1.2.12">UniEval</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.3">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_tt" id="S5.T4.1.1.3.1">Vanilla-RAGÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib11" title="">lewis2020retrieval, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.3.2">0.088</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.3.3">0.204</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T4.1.1.3.4">0.635</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.3.5">0.089</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.3.6">0.206</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T4.1.1.3.7">0.669</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.3.8">0.139</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.3.9">0.258</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T4.1.1.3.10">0.726</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.3.11">0.101</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.3.12">0.217</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T4.1.1.3.13">0.665</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.4">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T4.1.1.4.1">RAG-fusionÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib14" title="">cormack2009reciprocal, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib13" title="">bruch2023analysis, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.2">0.080</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.3">0.193</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.4.4">0.624</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.5">0.088</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.6">0.202</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.4.7">0.681</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.8">0.150</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.9">0.274</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.4.10">0.698</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.11">0.099</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.12">0.215</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.4.13">0.656</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.5">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T4.1.1.5.1">HyDEÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib15" title="">gao2022precise, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.2">0.080</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.3">0.188</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.5.4">0.603</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5">0.075</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.6">0.185</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.5.7">0.658</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.8">0.130</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.9">0.255</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.5.10">0.712</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.11">0.091</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.12">0.204</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.5.13">0.643</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.6">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T4.1.1.6.1">llmlinguaÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib16" title="">jiang-etal-2023-llmlingua, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib17" title="">jiang-etal-2023-longllmlingua, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib18" title="">wu2024llmlingua2, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.2">0.056</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.3">0.179</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.6.4">0.565</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.5">0.048</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6">0.162</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.6.7">0.586</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.8">0.091</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.9">0.221</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.6.10">0.658</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.11">0.062</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.12">0.185</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.6.13">0.593</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.7">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T4.1.1.7.1">ITER-RETGENÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib19" title="">shao2023enhancing, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.2">0.098</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.3">0.208</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.7.4">0.652</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.5">0.089</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.6">0.202</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.7.7">0.632</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.8">0.136</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.9">0.251</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.7.10">0.700</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.11">0.105</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.12">0.217</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.7.13">0.659</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.8">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T4.1.1.8.1">RAG-EDA+GPT-4</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.8.2">0.101</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.8.3">0.230</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.8.4">0.681</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.8.5">0.116</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.8.6">0.234</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.8.7">0.690</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.8.8">0.178</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.8.9">0.299</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.8.10">0.742</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.8.11">0.123</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.8.12">0.248</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.1.8.13">0.698</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.9">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r" id="S5.T4.1.1.9.1">RAG-EDA (ours)</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.1.1.9.2"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.9.2.1">0.119</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.1.1.9.3"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.9.3.1">0.281</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T4.1.1.9.4"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.9.4.1">0.699</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.1.1.9.5"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.9.5.1">0.147</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.1.1.9.6"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.9.6.1">0.269</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T4.1.1.9.7"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.9.7.1">0.746</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.1.1.9.8"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.9.8.1">0.166</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.1.1.9.9"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.9.9.1">0.302</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T4.1.1.9.10"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.9.10.1">0.776</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.1.1.9.11"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.9.11.1">0.137</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.1.1.9.12"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.9.12.1">0.283</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T4.1.1.9.13"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.9.13.1">0.729</span></td>
</tr>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S5.T5">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5. </span>Performance of the RAG flows on QA dataset of the commercial EDA tool.
</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T5.1" style="width:333.0pt;height:79.3pt;vertical-align:-0.5pt;"><span class="ltx_transformed_inner" style="transform:translate(-157.2pt,37.2pt) scale(0.514377168032933,0.514377168032933) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T5.1.1">
<tr class="ltx_tr" id="S5.T5.1.1.1">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" id="S5.T5.1.1.1.1">RAG Flow</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.1.2">BLEU</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.1.3">ROUGE-L</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T5.1.1.1.4">UniEval</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.2">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_tt" id="S5.T5.1.1.2.1">Vanilla-RAGÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib11" title="">lewis2020retrieval, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.1.1.2.2">0.072</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.1.1.2.3">0.182</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T5.1.1.2.4">0.569</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.3">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T5.1.1.3.1">RAG-fusionÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib14" title="">cormack2009reciprocal, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib13" title="">bruch2023analysis, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.3.2">0.157</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.3.3">0.275</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T5.1.1.3.4">0.663</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.4">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T5.1.1.4.1">HyDEÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib15" title="">gao2022precise, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.4.2">0.131</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.4.3">0.258</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T5.1.1.4.4">0.643</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.5">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T5.1.1.5.1">llmlinguaÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib16" title="">jiang-etal-2023-llmlingua, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib17" title="">jiang-etal-2023-longllmlingua, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib18" title="">wu2024llmlingua2, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.5.2">0.078</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.5.3">0.216</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T5.1.1.5.4">0.553</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.6">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T5.1.1.6.1">ITER-RETGENÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib19" title="">shao2023enhancing, </a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.6.2">0.163</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.6.3">0.283</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T5.1.1.6.4">0.676</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.7">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r" id="S5.T5.1.1.7.1">RAG-EDA+GPT-4</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.7.2"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.7.2.1">0.179</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.7.3">0.290</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T5.1.1.7.4">0.624</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.8">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r" id="S5.T5.1.1.8.1">RAG-EDA (ours)</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.1.1.8.2">0.176</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T5.1.1.8.3"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.8.3.1">0.332</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="S5.T5.1.1.8.4"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.8.4.1">0.730</span></td>
</tr>
</table>
</span></div>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3. </span>Evaluation: Text Embedding Model</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.7">In this sub-section, we evaluate the performance of dense (semantic) search by our finetuned text embedding model, on the benchmark ORD-QA.
We first use the under-test text embedding model to encode the 290 document chunks in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S4" title="4. Benchmark â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">4</span></a> into the vector database.
Then, each question <math alttext="q" class="ltx_Math" display="inline" id="S5.SS3.p1.1.m1.1"><semantics id="S5.SS3.p1.1.m1.1a"><mi id="S5.SS3.p1.1.m1.1.1" xref="S5.SS3.p1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.1.m1.1b"><ci id="S5.SS3.p1.1.m1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.1.m1.1d">italic_q</annotation></semantics></math> in ORD-QA is encoded by the text embedding model to obtain its vector representation <math alttext="e^{q}" class="ltx_Math" display="inline" id="S5.SS3.p1.2.m2.1"><semantics id="S5.SS3.p1.2.m2.1a"><msup id="S5.SS3.p1.2.m2.1.1" xref="S5.SS3.p1.2.m2.1.1.cmml"><mi id="S5.SS3.p1.2.m2.1.1.2" xref="S5.SS3.p1.2.m2.1.1.2.cmml">e</mi><mi id="S5.SS3.p1.2.m2.1.1.3" xref="S5.SS3.p1.2.m2.1.1.3.cmml">q</mi></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.2.m2.1b"><apply id="S5.SS3.p1.2.m2.1.1.cmml" xref="S5.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.2.m2.1.1.1.cmml" xref="S5.SS3.p1.2.m2.1.1">superscript</csymbol><ci id="S5.SS3.p1.2.m2.1.1.2.cmml" xref="S5.SS3.p1.2.m2.1.1.2">ğ‘’</ci><ci id="S5.SS3.p1.2.m2.1.1.3.cmml" xref="S5.SS3.p1.2.m2.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.2.m2.1c">e^{q}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.2.m2.1d">italic_e start_POSTSUPERSCRIPT italic_q end_POSTSUPERSCRIPT</annotation></semantics></math>, and the similarity search library FaissÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib29" title="">douze2024faiss, </a>)</cite> is used to search for the top-<math alttext="k" class="ltx_Math" display="inline" id="S5.SS3.p1.3.m3.1"><semantics id="S5.SS3.p1.3.m3.1a"><mi id="S5.SS3.p1.3.m3.1.1" xref="S5.SS3.p1.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.3.m3.1b"><ci id="S5.SS3.p1.3.m3.1.1.cmml" xref="S5.SS3.p1.3.m3.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.3.m3.1d">italic_k</annotation></semantics></math> closest document chunks with <math alttext="e^{q}" class="ltx_Math" display="inline" id="S5.SS3.p1.4.m4.1"><semantics id="S5.SS3.p1.4.m4.1a"><msup id="S5.SS3.p1.4.m4.1.1" xref="S5.SS3.p1.4.m4.1.1.cmml"><mi id="S5.SS3.p1.4.m4.1.1.2" xref="S5.SS3.p1.4.m4.1.1.2.cmml">e</mi><mi id="S5.SS3.p1.4.m4.1.1.3" xref="S5.SS3.p1.4.m4.1.1.3.cmml">q</mi></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.4.m4.1b"><apply id="S5.SS3.p1.4.m4.1.1.cmml" xref="S5.SS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS3.p1.4.m4.1.1.1.cmml" xref="S5.SS3.p1.4.m4.1.1">superscript</csymbol><ci id="S5.SS3.p1.4.m4.1.1.2.cmml" xref="S5.SS3.p1.4.m4.1.1.2">ğ‘’</ci><ci id="S5.SS3.p1.4.m4.1.1.3.cmml" xref="S5.SS3.p1.4.m4.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.4.m4.1c">e^{q}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.4.m4.1d">italic_e start_POSTSUPERSCRIPT italic_q end_POSTSUPERSCRIPT</annotation></semantics></math> in the vector space.
We use the metric recall@<math alttext="k" class="ltx_Math" display="inline" id="S5.SS3.p1.5.m5.1"><semantics id="S5.SS3.p1.5.m5.1a"><mi id="S5.SS3.p1.5.m5.1.1" xref="S5.SS3.p1.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.5.m5.1b"><ci id="S5.SS3.p1.5.m5.1.1.cmml" xref="S5.SS3.p1.5.m5.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.5.m5.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.5.m5.1d">italic_k</annotation></semantics></math> (introduced in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S2.SS2" title="2.2. Performance Measurement â€£ 2. Preliminaries â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">2.2</span></a>) to measure the capacity of the text embedding model in retrieving relevant documents.
We adopt the text-embedding-ada-002 model by OpenAI and bge-large-en-v1.5 as baselines, and set <math alttext="k" class="ltx_Math" display="inline" id="S5.SS3.p1.6.m6.1"><semantics id="S5.SS3.p1.6.m6.1a"><mi id="S5.SS3.p1.6.m6.1.1" xref="S5.SS3.p1.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.6.m6.1b"><ci id="S5.SS3.p1.6.m6.1.1.cmml" xref="S5.SS3.p1.6.m6.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.6.m6.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.6.m6.1d">italic_k</annotation></semantics></math> to be 5, 10, 15 and 20 for evaluating recall@<math alttext="k" class="ltx_Math" display="inline" id="S5.SS3.p1.7.m7.1"><semantics id="S5.SS3.p1.7.m7.1a"><mi id="S5.SS3.p1.7.m7.1.1" xref="S5.SS3.p1.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.7.m7.1b"><ci id="S5.SS3.p1.7.m7.1.1.cmml" xref="S5.SS3.p1.7.m7.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.7.m7.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.7.m7.1d">italic_k</annotation></semantics></math>.
Experimental results in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.T1" title="In 5.2. Experimental Setting â€£ 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Table</span>Â <span class="ltx_text ltx_ref_tag">1</span></a> show that fine-tuned by our well-designed constrastive learning scheme on the EDA corpus,
our fine-tuned text embedding model dramatically outperforms its base model (bge-large-en-v1.5) and the SOTA commercial text embedding model by OpenAI, on the task of retrieving relevant documents for EDA-tool-involved questions.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4. </span>Evaluation: Reranker Model</h3>
<div class="ltx_para" id="S5.SS4.p1">
<p class="ltx_p" id="S5.SS4.p1.6">To evaluate the performance of our fine-tuned reranker model on filtering out weakly-related and irrelevant documents, for each question <math alttext="q" class="ltx_Math" display="inline" id="S5.SS4.p1.1.m1.1"><semantics id="S5.SS4.p1.1.m1.1a"><mi id="S5.SS4.p1.1.m1.1.1" xref="S5.SS4.p1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.1.m1.1b"><ci id="S5.SS4.p1.1.m1.1.1.cmml" xref="S5.SS4.p1.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.1.m1.1d">italic_q</annotation></semantics></math> in ORD-QA,
hybrid search (described in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS2" title="3.2. Hybrid Information Retrieval â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">3.2</span></a>) is first conducted.
We use Faiss and BM25 for the lexical and semantic searches, respectively, and set the search limit of each retriever to be 20.
After hybrid document search, we obtain 40 candidate relevant document chunks for <math alttext="q" class="ltx_Math" display="inline" id="S5.SS4.p1.2.m2.1"><semantics id="S5.SS4.p1.2.m2.1a"><mi id="S5.SS4.p1.2.m2.1.1" xref="S5.SS4.p1.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.2.m2.1b"><ci id="S5.SS4.p1.2.m2.1.1.cmml" xref="S5.SS4.p1.2.m2.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.2.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.2.m2.1d">italic_q</annotation></semantics></math>.
Then, we de-duplicate the candidates.
Next, the reranker model calculates the similarity score between <math alttext="q" class="ltx_Math" display="inline" id="S5.SS4.p1.3.m3.1"><semantics id="S5.SS4.p1.3.m3.1a"><mi id="S5.SS4.p1.3.m3.1.1" xref="S5.SS4.p1.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.3.m3.1b"><ci id="S5.SS4.p1.3.m3.1.1.cmml" xref="S5.SS4.p1.3.m3.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.3.m3.1c">q</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.3.m3.1d">italic_q</annotation></semantics></math> and each candidate document chunk, and the top <math alttext="k" class="ltx_Math" display="inline" id="S5.SS4.p1.4.m4.1"><semantics id="S5.SS4.p1.4.m4.1a"><mi id="S5.SS4.p1.4.m4.1.1" xref="S5.SS4.p1.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.4.m4.1b"><ci id="S5.SS4.p1.4.m4.1.1.cmml" xref="S5.SS4.p1.4.m4.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.4.m4.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.4.m4.1d">italic_k</annotation></semantics></math> document chunks with the highest scores are selected as the relevant document chunks.
Subsequently, we can calculate recall@<math alttext="k" class="ltx_Math" display="inline" id="S5.SS4.p1.5.m5.1"><semantics id="S5.SS4.p1.5.m5.1a"><mi id="S5.SS4.p1.5.m5.1.1" xref="S5.SS4.p1.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.5.m5.1b"><ci id="S5.SS4.p1.5.m5.1.1.cmml" xref="S5.SS4.p1.5.m5.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.5.m5.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.5.m5.1d">italic_k</annotation></semantics></math> to measure the fine-filtering ability of the reranker.
The SOTA open-source reranker model bge-reranker-large, based on which our reranker is fine-tuned, is selected as one baseline.
We also compare our reranker model with RRF (introduced in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S2" title="2. Preliminaries â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">2</span></a>) since it is used in RAG-fusion, one commonly-used RAG flow.
<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.T2" title="In 5.2. Experimental Setting â€£ 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Table</span>Â <span class="ltx_text ltx_ref_tag">2</span></a> lists the experimental results on ORD-QA: by setting <math alttext="k" class="ltx_Math" display="inline" id="S5.SS4.p1.6.m6.1"><semantics id="S5.SS4.p1.6.m6.1a"><mi id="S5.SS4.p1.6.m6.1.1" xref="S5.SS4.p1.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p1.6.m6.1b"><ci id="S5.SS4.p1.6.m6.1.1.cmml" xref="S5.SS4.p1.6.m6.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p1.6.m6.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.p1.6.m6.1d">italic_k</annotation></semantics></math> from 1 to 5, our fine-tuned reranker model outperforms the baselines in filtering out weakly-related documents and preserve relevant documents, for EDA-tool-related questions and documents.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.5. </span>Evaluation: Generator</h3>
<div class="ltx_para" id="S5.SS5.p1">
<p class="ltx_p" id="S5.SS5.p1.3">To evaluate the performance of our pre-trained and fine-tuned generator on the task of answering EDA-tool-involved questions, for each question <math alttext="q" class="ltx_Math" display="inline" id="S5.SS5.p1.1.m1.1"><semantics id="S5.SS5.p1.1.m1.1a"><mi id="S5.SS5.p1.1.m1.1.1" xref="S5.SS5.p1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S5.SS5.p1.1.m1.1b"><ci id="S5.SS5.p1.1.m1.1.1.cmml" xref="S5.SS5.p1.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S5.SS5.p1.1.m1.1d">italic_q</annotation></semantics></math> in ORD-QA, we combine <math alttext="q" class="ltx_Math" display="inline" id="S5.SS5.p1.2.m2.1"><semantics id="S5.SS5.p1.2.m2.1a"><mi id="S5.SS5.p1.2.m2.1.1" xref="S5.SS5.p1.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S5.SS5.p1.2.m2.1b"><ci id="S5.SS5.p1.2.m2.1.1.cmml" xref="S5.SS5.p1.2.m2.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p1.2.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="S5.SS5.p1.2.m2.1d">italic_q</annotation></semantics></math> and its golden relevant documents <math alttext="r" class="ltx_Math" display="inline" id="S5.SS5.p1.3.m3.1"><semantics id="S5.SS5.p1.3.m3.1a"><mi id="S5.SS5.p1.3.m3.1.1" xref="S5.SS5.p1.3.m3.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S5.SS5.p1.3.m3.1b"><ci id="S5.SS5.p1.3.m3.1.1.cmml" xref="S5.SS5.p1.3.m3.1.1">ğ‘Ÿ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p1.3.m3.1c">r</annotation><annotation encoding="application/x-llamapun" id="S5.SS5.p1.3.m3.1d">italic_r</annotation></semantics></math> into a pre-designed prompt (<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.F7" title="In 3.4. Domain-Specific LLM Generator â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">7</span></a> shows the template of the prompt). The prompt is then fed to the generator for answer generation.
To quantitatively measure the performance of the generator, for each question, the BLEU, ROUGE-L and UniEval scores between the generated answer and the ground-truth answer are calculated.
We select OpenAI GPT-4 and several SOTA open-source chat LLMs as our baselines, and experimental results in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.T3" title="In 5.2. Experimental Setting â€£ 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Table</span>Â <span class="ltx_text ltx_ref_tag">3</span></a> show that being trained by our proposed two-stage EDA-specific training scheme described in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S3.SS4" title="3.4. Domain-Specific LLM Generator â€£ 3. Algorithms â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">3.4</span></a>, our generator is equipped with domain knowledge in EDA and possesses the ability of answering questions related to EDA tool documentation, and outperforms both commercial and academic chat LLMs on the ORD-QA benchmark.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.6. </span>Evaluation: RAG Flow</h3>
<div class="ltx_para" id="S5.SS6.p1">
<p class="ltx_p" id="S5.SS6.p1.2">Finally, we evaluate the performance of our customized RAG flow.
During the implementation of RAG-EDA, we use Faiss and BM25 as the semantic and lexical search engines for the retriever, and set the top-<math alttext="k" class="ltx_Math" display="inline" id="S5.SS6.p1.1.m1.1"><semantics id="S5.SS6.p1.1.m1.1a"><mi id="S5.SS6.p1.1.m1.1.1" xref="S5.SS6.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS6.p1.1.m1.1b"><ci id="S5.SS6.p1.1.m1.1.1.cmml" xref="S5.SS6.p1.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS6.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS6.p1.1.m1.1d">italic_k</annotation></semantics></math> value of each searcher to 20. The top-<math alttext="k" class="ltx_Math" display="inline" id="S5.SS6.p1.2.m2.1"><semantics id="S5.SS6.p1.2.m2.1a"><mi id="S5.SS6.p1.2.m2.1.1" xref="S5.SS6.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS6.p1.2.m2.1b"><ci id="S5.SS6.p1.2.m2.1.1.cmml" xref="S5.SS6.p1.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS6.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS6.p1.2.m2.1d">italic_k</annotation></semantics></math> of the reranker is set to 5.
For answer generation, our generator model is quantized by 4-bit for efficient inference.
We select 5 cutting-edge academic RAG flows as our baselines,
and they mainly differs in the way to retrieve documents.
<span class="ltx_text ltx_font_bold" id="S5.SS6.p1.2.1">Vanilla-RAG</span>Â <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib11" title="">lewis2020retrieval, </a>)</cite> solely applies semantic retrieval.
<span class="ltx_text ltx_font_bold" id="S5.SS6.p1.2.2">RAG-fusion</span>Â <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib13" title="">bruch2023analysis, </a>)</cite> uses both semantic and lexical retrievals and applies RRFÂ <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib14" title="">cormack2009reciprocal, </a>)</cite> for documents fusion and re-ranking.
For <span class="ltx_text ltx_font_bold" id="S5.SS6.p1.2.3">HyDE</span>Â <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib15" title="">gao2022precise, </a>)</cite>, hypothetical documents are appended to the query for accurate semantic retrieval.
<span class="ltx_text ltx_font_bold" id="S5.SS6.p1.2.4">LLMlingua</span>Â <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib16" title="">jiang-etal-2023-llmlingua, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib17" title="">jiang-etal-2023-longllmlingua, </a>; <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib18" title="">wu2024llmlingua2, </a>)</cite> renders compression for the user query and retrieved documents for key information extraction and efficient inference.
Finally, <span class="ltx_text ltx_font_bold" id="S5.SS6.p1.2.5">ITER-RETGEN</span>Â <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#bib.bib19" title="">shao2023enhancing, </a>)</cite> synergizes retrieval and generation in an iterative manner.</p>
</div>
<div class="ltx_para" id="S5.SS6.p2">
<p class="ltx_p" id="S5.SS6.p2.3">For the implementation of the baselines, we use Faiss and OpenAI text-embedding-ada-002 model for semantic retrieval, BM25 for lexical retrieval, and GPT-4 as the generator.
To ensure fair comparison, the top-<math alttext="k" class="ltx_Math" display="inline" id="S5.SS6.p2.1.m1.1"><semantics id="S5.SS6.p2.1.m1.1a"><mi id="S5.SS6.p2.1.m1.1.1" xref="S5.SS6.p2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS6.p2.1.m1.1b"><ci id="S5.SS6.p2.1.m1.1.1.cmml" xref="S5.SS6.p2.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS6.p2.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS6.p2.1.m1.1d">italic_k</annotation></semantics></math> values of semantic retrieval for vanilla-RAG, HyDE, Llmlingua and ITER-RETGEN are set to 5. For RAG-fusion, the top-<math alttext="k" class="ltx_Math" display="inline" id="S5.SS6.p2.2.m2.1"><semantics id="S5.SS6.p2.2.m2.1a"><mi id="S5.SS6.p2.2.m2.1.1" xref="S5.SS6.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.SS6.p2.2.m2.1b"><ci id="S5.SS6.p2.2.m2.1.1.cmml" xref="S5.SS6.p2.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS6.p2.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S5.SS6.p2.2.m2.1d">italic_k</annotation></semantics></math> values of semantic and lexical retrievers are set to 20, and RRF returns the top-<math alttext="5" class="ltx_Math" display="inline" id="S5.SS6.p2.3.m3.1"><semantics id="S5.SS6.p2.3.m3.1a"><mn id="S5.SS6.p2.3.m3.1.1" xref="S5.SS6.p2.3.m3.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S5.SS6.p2.3.m3.1b"><cn id="S5.SS6.p2.3.m3.1.1.cmml" type="integer" xref="S5.SS6.p2.3.m3.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS6.p2.3.m3.1c">5</annotation><annotation encoding="application/x-llamapun" id="S5.SS6.p2.3.m3.1d">5</annotation></semantics></math> highest-score documents as relevant.
The number of retrieve-generation iterations of ITER-RETGEN is set to 2.
For ablation study, we also replace the generator of RAG-EDA by GPT-4 as one baseline.
<a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.T4" title="In 5.2. Experimental Setting â€£ 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Table</span>Â <span class="ltx_text ltx_ref_tag">4</span></a> shows the experimental results on ORD-QA:
The questions in ORD-QA can be divided into four categories as mentioned in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S4" title="4. Benchmark â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Section</span>Â <span class="ltx_text ltx_ref_tag">4</span></a>, and since the numbers of GUI questions and install &amp; test questions are small, we combine them together as a new category.
Consequently, columns 2 to 4 in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.T4" title="In 5.2. Experimental Setting â€£ 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Table</span>Â <span class="ltx_text ltx_ref_tag">4</span></a> list results for the three categories of questions, and the last column shows the average results on the whole benchmark.
Note that the metrics of BLEU, ROUGE-L and UniEval are calculated between the ground-truth answers (provided in ORD-QA) and the generated answers by the RAG flow.
It is observed that compared with the question categories of functionality and vlsi-flow,
the GUI &amp; install &amp; test questions are easier to solve in nature, on which all the RAG flows achieve better performance.
Our proposed RAG flow (RAG-EDA) achieves the best performance on all categories of questions, and the baseline â€RAG-EDA+GPT-4â€ (replacing the generator with GPT-4 in our proposed flow) ranks second,
demonstrating effectiveness of our proposed RAG flow and fine-tuned generator in solving documentation QA for EDA tools.
The performances of RAG-fusion, HyDE and ITER-RETGEN are similar and worse than our customized flow,
indicating the necessity of RAG flow customization for EDA tool documentation QA.
The result of Llmlingua is the worst, the reason is that the compression LLM of Llmlingua demonstrates inferior performance on handling EDA-tool related questions and documents. After the process of prompt compression, the key information in both the question and the documents are missing, leading to bad quality for answering.</p>
</div>
<div class="ltx_para" id="S5.SS6.p3">
<p class="ltx_p" id="S5.SS6.p3.1"><a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.F9" title="In 5.6. Evaluation: RAG Flow â€£ 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">9</span></a> shows the runtime analysis of RAG-EDA and the baseline RAG flows on the ORD-QA benchmark.
Llmlingua achieves the shortest average runtime, attributed to its use of compressed prompts which reduces the inference latency of the generator. Vanilla-RAG has the second shortest runtime due to its straightforward retrieval process.
The runtimes of RAG-EDA, RAG-EDA+GPT4 and RAG-fusion are similar, and the inference runtime of GPT-4 is slightly faster than our finetuned generator.
HyDE and ITER-RETGEN take the longest runtime.
HyDE increases the generatorâ€™s inference load by appending a hypothetical document to the query as a prompt, whereas ITER-RETGEN operates in an iterative manner, leading to higher computational costs.</p>
</div>
<figure class="ltx_figure" id="S5.F9"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="357" id="S5.F9.g1" src="x9.png" width="827"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9. </span>The average runtime of the RAG flows to process one question in ORD-QA.</figcaption>
</figure>
<div class="ltx_para" id="S5.SS6.p4">
<p class="ltx_p" id="S5.SS6.p4.1">To further verify the transferability and universality of our proposed RAG flow for different EDA tools, we collect a documentation QA evaluation dataset for a commercial EDA tool (the tool is a platform for timing ECO). The dataset follows the same standard as ORD-QA and contains 60 question-documents-answer triplets.
Experimental results in <a class="ltx_ref" href="https://arxiv.org/html/2407.15353v2#S5.T5" title="In 5.2. Experimental Setting â€£ 5. Experimental Results â€£ Customized Retrieval Augmented Generation and Benchmarking for EDA Tool Documentation QA"><span class="ltx_text ltx_ref_tag">Table</span>Â <span class="ltx_text ltx_ref_tag">5</span></a> shows the outperformance of our proposed RAG flow compared with the baselines, thus certifies that our proposed RAG flow can be transferred to the task of documentation QA for different EDA tools.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Conclusion</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">We propose RAG-EDA, a customized retrieval augmented generation (RAG) flow for electronic design automation (EDA) tool documentation question-answering (QA).
We develop domain-specific training strategies and use EDA-related corpus to customize the text embedding, reranker and generator models for RAG-EDA.
Besides, we also develop and release ORD-QA, a documentation QA evaluation benchmark based on OpenROAD.
RAG-EDA has achieved much better performance on both ORD-QA and a commercial EDA tool documentation QA benchmark compared with other state-of-the-arts.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
T.Â Ajayi, V.Â A. Chhabria, M.Â FogaÃ§a, S.Â Hashemi, A.Â Hosny, A.Â B. Kahng, M.Â Kim, J.Â Lee, U.Â Mallappa, M.Â Neseem <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">etÂ al.</em>, â€œToward an open-source digital flow: First learnings from the openroad project,â€ 2019, pp. 1â€“4.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(2)</span>
<span class="ltx_bibblock">
X.Â Li, S.Â Tao, Z.Â Huang, S.Â Chen, Z.Â Zeng, L.Â Ni, Z.Â Huang, C.Â Zhuang, H.Â Wu, W.Â Li <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">etÂ al.</em>, â€œieda: An open-source intelligent physical implementation toolkit and library,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(3)</span>
<span class="ltx_bibblock">
K.Â Papineni, S.Â Roukos, T.Â Ward, and W.-J. Zhu, â€œBleu: a method for automatic evaluation of machine translation.â€

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(4)</span>
<span class="ltx_bibblock">
C.-Y. Lin, â€œROUGE: A Package for Automatic Evaluation of Summaries,â€ in <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Workshop on Text Summarization Branches Out</em>, 2004, pp. 74â€“81.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(5)</span>
<span class="ltx_bibblock">
M.Â Zhong, Y.Â Liu, D.Â Yin, Y.Â Mao, Y.Â Jiao, P.Â Liu, C.Â Zhu, H.Â Ji, and J.Â Han, â€œTowards a Unified Multi-Dimensional Evaluator for Text Generation,â€ 2022, pp. 2023â€“2038.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(6)</span>
<span class="ltx_bibblock">
V.Â Karpukhin, B.Â OÄŸuz, S.Â Min, P.Â Lewis, L.Â Wu, S.Â Edunov, D.Â Chen, and W.-t. Yih, â€œDense passage retrieval for open-domain question answering,â€ 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(7)</span>
<span class="ltx_bibblock">
S.Â Xiao, Z.Â Liu, P.Â Zhang, and N.Â Muennighof, â€œC-pack: Packaged resources to advance general chinese embedding,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(8)</span>
<span class="ltx_bibblock">
J.Â Chen, S.Â Xiao, P.Â Zhang, K.Â Luo, D.Â Lian, and Z.Â Liu, â€œBge m3-embedding: Multi-lingual, multi-functionality, multi-granularity text embeddings through self-knowledge distillation,â€ 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(9)</span>
<span class="ltx_bibblock">
T.Â Gao, X.Â Yao, and D.Â Chen, â€œSimcse: Simple contrastive learning of sentence embeddings,â€ 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(10)</span>
<span class="ltx_bibblock">
J.Â Zhang, Z.Â Lan, and J.Â He, â€œContrastive learning of sentence embeddings from scratch,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(11)</span>
<span class="ltx_bibblock">
P.Â Lewis, E.Â Perez, A.Â Piktus, F.Â Petroni, V.Â Karpukhin, N.Â Goyal, H.Â KÃ¼ttler, M.Â Lewis, W.-t. Yih, T.Â RocktÃ¤schel <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">etÂ al.</em>, â€œRetrieval-augmented generation for knowledge-intensive nlp tasks,â€ vol.Â 33, pp. 9459â€“9474, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(12)</span>
<span class="ltx_bibblock">
F.Â Cuconasu, G.Â Trappolini, F.Â Siciliano, S.Â Filice, C.Â Campagnano, Y.Â Maarek, N.Â Tonellotto, and F.Â Silvestri, â€œThe power of noise: Redefining retrieval for rag systems,â€ 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(13)</span>
<span class="ltx_bibblock">
S.Â Bruch, S.Â Gai, and A.Â Ingber, â€œAn analysis of fusion functions for hybrid retrieval,â€ <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">ACM Transactions on Information Systems</em>, vol.Â 42, no.Â 1, pp. 1â€“35, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(14)</span>
<span class="ltx_bibblock">
G.Â V. Cormack, C.Â L. Clarke, and S.Â Buettcher, â€œReciprocal rank fusion outperforms condorcet and individual rank learning methods,â€ 2009, pp. 758â€“759.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(15)</span>
<span class="ltx_bibblock">
L.Â Gao, X.Â Ma, J.Â Lin, and J.Â Callan, â€œPrecise zero-shot dense retrieval without relevance labels,â€ 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(16)</span>
<span class="ltx_bibblock">
H.Â Jiang, Q.Â Wu, C.-Y. Lin, Y.Â Yang, and L.Â Qiu, â€œLLMLingua: Compressing prompts for accelerated inference of large language models,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(17)</span>
<span class="ltx_bibblock">
H.Â Jiang, Q.Â Wu, , X.Â Luo, D.Â Li, C.-Y. Lin, Y.Â Yang, and L.Â Qiu, â€œLongLLMLingua: Accelerating and enhancing llms in long context scenarios via prompt compression,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(18)</span>
<span class="ltx_bibblock">
Z.Â Pan, Q.Â Wu, H.Â Jiang, M.Â Xia, X.Â Luo, J.Â Zhang, Q.Â Lin, V.Â Ruhle, Y.Â Yang, C.-Y. Lin, H.Â V. Zhao, L.Â Qiu, and D.Â Zhang, â€œLLMLingua-2: Data distillation for efficient and faithful task-agnostic prompt compression,â€ 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(19)</span>
<span class="ltx_bibblock">
Z.Â Shao, Y.Â Gong, Y.Â Shen, M.Â Huang, N.Â Duan, and W.Â Chen, â€œEnhancing retrieval-augmented large language models with iterative retrieval-generation synergy,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(20)</span>
<span class="ltx_bibblock">
L.Â Lavagno, I.Â L. Markov, G.Â Martin, and L.Â K. Scheffer, <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">Electronic design automation for IC implementation, circuit design, and process technology: circuit design, and process technology</em>.Â Â Â CRC Press, 2016.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(21)</span>
<span class="ltx_bibblock">
C.Â J. Alpert, D.Â P. Mehta, and S.Â S. Sapatnekar, <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Handbook of algorithms for physical design automation</em>.Â Â Â CRC press, 2008.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(22)</span>
<span class="ltx_bibblock">
A.Â Conneau, K.Â Khandelwal, N.Â Goyal, V.Â Chaudhary, G.Â Wenzek, F.Â GuzmÃ¡n, E.Â Grave, M.Â Ott, L.Â Zettlemoyer, and V.Â Stoyanov, â€œUnsupervised cross-lingual representation learning at scale,â€ 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(23)</span>
<span class="ltx_bibblock">
J.Â Bai, S.Â Bai, Y.Â Chu, Z.Â Cui, K.Â Dang, X.Â Deng, Y.Â Fan, W.Â Ge, Y.Â Han, F.Â Huang <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">etÂ al.</em>, â€œQwen technical report,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(24)</span>
<span class="ltx_bibblock">
H.Â Touvron, L.Â Martin, K.Â Stone, P.Â Albert, A.Â Almahairi, Y.Â Babaei, N.Â Bashlykov, S.Â Batra, P.Â Bhargava, S.Â Bhosale <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">etÂ al.</em>, â€œLlama 2: Open foundation and fine-tuned chat models,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(25)</span>
<span class="ltx_bibblock">
A.Â Yang, B.Â Xiao, B.Â Wang, B.Â Zhang, C.Â Bian, C.Â Yin, C.Â Lv, D.Â Pan, D.Â Wang, D.Â Yan <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">etÂ al.</em>, â€œBaichuan 2: Open large-scale language models,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(26)</span>
<span class="ltx_bibblock">
Z.Â Cai, M.Â Cao, H.Â Chen, K.Â Chen, K.Â Chen, X.Â Chen, X.Â Chen, Z.Â Chen, Z.Â Chen, P.Â Chu <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">etÂ al.</em>, â€œInternlm2 technical report,â€ 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(27)</span>
<span class="ltx_bibblock">
J.Â Achiam, S.Â Adler, S.Â Agarwal, L.Â Ahmad, I.Â Akkaya, F.Â L. Aleman, D.Â Almeida, J.Â Altenschmidt, S.Â Altman, S.Â Anadkat <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">etÂ al.</em>, â€œGpt-4 technical report,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(28)</span>
<span class="ltx_bibblock">
T.Â Dettmers, A.Â Pagnoni, A.Â Holtzman, and L.Â Zettlemoyer, â€œQlora: Efficient finetuning of quantized llms,â€ 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(29)</span>
<span class="ltx_bibblock">
M.Â Douze, A.Â Guzhva, C.Â Deng, J.Â Johnson, G.Â Szilvasy, P.-E. MazarÃ©, M.Â Lomeli, L.Â Hosseini, and H.Â JÃ©gou, â€œThe faiss library,â€ 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(30)</span>
<span class="ltx_bibblock">
Z.Â He, H.Â Wu, X.Â Zhang, X.Â Yao, S.Â Zheng, H.Â Zheng, and B.Â Yu, â€œChateda: A large language model powered autonomous agent for eda,â€ 2023, pp. 1â€“6.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(31)</span>
<span class="ltx_bibblock">
H.Â Wu, Z.Â He, X.Â Zhang, X.Â Yao, S.Â Zheng, H.Â Zheng, and B.Â Yu, â€œChateda: A large language model powered autonomous agent for eda,â€ 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(32)</span>
<span class="ltx_bibblock">
M.Â Liu, T.-D. Ene, R.Â Kirby, C.Â Cheng, N.Â Pinckney, R.Â Liang, J.Â Alben, H.Â Anand, S.Â Banerjee, I.Â Bayraktaroglu <em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">etÂ al.</em>, â€œChipnemo: Domain-adapted llms for chip design,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(33)</span>
<span class="ltx_bibblock">
K.Â Chang, Y.Â Wang, H.Â Ren, M.Â Wang, S.Â Liang, Y.Â Han, H.Â Li, and X.Â Li, â€œChipgpt: How far are we from natural language hardware design,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(34)</span>
<span class="ltx_bibblock">
M.Â Liu, N.Â Pinckney, B.Â Khailany, and H.Â Ren, â€œVerilogeval: Evaluating large language models for verilog code generation.â€Â Â Â IEEE, 2023, pp. 1â€“8.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(35)</span>
<span class="ltx_bibblock">
Y.Â Fu, Y.Â Zhang, Z.Â Yu, S.Â Li, Z.Â Ye, C.Â Li, C.Â Wan, and Y.Â C. Lin, â€œGpt4aigchip: Towards next-generation ai accelerator design automation via large language models.â€Â Â Â IEEE, 2023, pp. 1â€“9.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(36)</span>
<span class="ltx_bibblock">
J.Â Blocklove, S.Â Garg, R.Â Karri, and H.Â Pearce, â€œChip-chat: Challenges and opportunities in conversational hardware design.â€Â Â Â IEEE, 2023, pp. 1â€“6.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(37)</span>
<span class="ltx_bibblock">
S.Â Thakur, J.Â Blocklove, H.Â Pearce, B.Â Tan, S.Â Garg, and R.Â Karri, â€œAutochip: Automating hdl generation using llm feedback,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(38)</span>
<span class="ltx_bibblock">
Y.Â Lu, S.Â Liu, Q.Â Zhang, and Z.Â Xie, â€œRtllm: An open-source benchmark for design rtl generation with large language model.â€Â Â Â IEEE, 2024, pp. 722â€“727.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(39)</span>
<span class="ltx_bibblock">
S.Â Thakur, B.Â Ahmad, Z.Â Fan, H.Â Pearce, B.Â Tan, R.Â Karri, B.Â Dolan-Gavitt, and S.Â Garg, â€œBenchmarking large language models for automated verilog rtl code generation.â€Â Â Â IEEE, 2023, pp. 1â€“6.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(40)</span>
<span class="ltx_bibblock">
S.Â Thakur, B.Â Ahmad, H.Â Pearce, B.Â Tan, B.Â Dolan-Gavitt, R.Â Karri, and S.Â Garg, â€œVerigen: A large language model for verilog code generation,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(41)</span>
<span class="ltx_bibblock">
Z.Â Pei, H.-L. Zhen, M.Â Yuan, Y.Â Huang, and B.Â Yu, â€œBetterV: Controlled Verilog Generation with Discriminative Guidance,â€ 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(42)</span>
<span class="ltx_bibblock">
Y.Â Tsai, M.Â Liu, and H.Â Ren, â€œRtlfixer: Automatically fixing rtl syntax errors with large language models,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(43)</span>
<span class="ltx_bibblock">
M.Â Orenes-Vera, A.Â Manocha, D.Â Wentzlaff, and M.Â Martonosi, â€œAutosva: Democratizing formal verification of rtl module interactions.â€Â Â Â IEEE, 2021, pp. 535â€“540.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(44)</span>
<span class="ltx_bibblock">
R.Â Kande, H.Â Pearce, B.Â Tan, B.Â Dolan-Gavitt, S.Â Thakur, R.Â Karri, and J.Â Rajendran, â€œLlm-assisted generation of hardware assertions,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(45)</span>
<span class="ltx_bibblock">
X.Â Meng, A.Â Srivastava, A.Â Arunachalam, A.Â Ray, P.Â H. Silva, R.Â Psiakis, Y.Â Makris, and K.Â Basu, â€œUnlocking hardware security assurance: The potential of llms,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(46)</span>
<span class="ltx_bibblock">
S.Â Paria, A.Â Dasgupta, and S.Â Bhunia, â€œDivas: An llm-based end-to-end framework for soc security analysis and policy-based protection,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(47)</span>
<span class="ltx_bibblock">
B.Â Ahmad, S.Â Thakur, B.Â Tan, R.Â Karri, and H.Â Pearce, â€œFixing hardware security bugs with large language models,â€ 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(48)</span>
<span class="ltx_bibblock">
X.Â Yao, H.Â Li, T.Â H. Chan, W.Â Xiao, M.Â Yuan, Y.Â Huang, L.Â Chen, and B.Â Yu, â€œHdldebugger: Streamlining hdl debugging with large language models,â€ 2024.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Jul 26 08:37:19 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
