<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Clerc: A Large Long-Context Dataset for Retrieval and Reasoning</title>
<!--Generated on Thu Jun 27 15:57:20 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2406.17186v2/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S1" title="In Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S2" title="In Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S2.SS1" title="In 2 Related Work ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Legal Case Retrieval and Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S2.SS2" title="In 2 Related Work ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Long-Context Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S2.SS3" title="In 2 Related Work ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>Long-Document Retrieval</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3" title="In Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Dataset Construction</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.SS1" title="In 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Dataset Preprocessing</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.SS2" title="In 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Case Retrieval</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.SS2.SSS0.Px1" title="In 3.2 Case Retrieval ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Query Definition</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.SS2.SSS0.Px2" title="In 3.2 Case Retrieval ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Direct and Indirect Queries</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.SS2.SSS0.Px3" title="In 3.2 Case Retrieval ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Data Views</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.SS2.SSS0.Px4" title="In 3.2 Case Retrieval ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Query Construction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.SS2.SSS0.Px5" title="In 3.2 Case Retrieval ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Query Extraction</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.SS3" title="In 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Legal Analysis Generation</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.SS3.SSS0.Px1" title="In 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Analytical Paragraphs Identification</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.SS3.SSS0.Px2" title="In 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Reference Selection</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.SS3.SSS0.Px3" title="In 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Input Preparation</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4" title="In Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1" title="In 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Finding Legal Citations</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1.SSS0.Px1" title="In 4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Task Formulation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1.SSS1" title="In 4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.1 </span>Experimental Setup</span></a>
<ol class="ltx_toclist ltx_toclist_subsubsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1.SSS1.Px1" title="In 4.1.1 Experimental Setup ‣ 4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Metrics and Data</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1.SSS1.Px2" title="In 4.1.1 Experimental Setup ‣ 4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Late Interaction Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1.SSS1.Px3" title="In 4.1.1 Experimental Setup ‣ 4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Bi-Encoders</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1.SSS1.Px4" title="In 4.1.1 Experimental Setup ‣ 4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Compute</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsubsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1.SSS2" title="In 4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.2 </span>Ablation Studies</span></a>
<ol class="ltx_toclist ltx_toclist_subsubsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1.SSS2.Px1" title="In 4.1.2 Ablation Studies ‣ 4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Query Types</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1.SSS2.Px2" title="In 4.1.2 Ablation Studies ‣ 4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Query Length</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1.SSS3" title="In 4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.3 </span>Main Results and Analysis</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS2" title="In 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Generating Legal Analyses from Citations</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS2.SSS0.Px1" title="In 4.2 Generating Legal Analyses from Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Task Formulation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS2.SSS1" title="In 4.2 Generating Legal Analyses from Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.1 </span>Experimental Setup</span></a>
<ol class="ltx_toclist ltx_toclist_subsubsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS2.SSS1.Px1" title="In 4.2.1 Experimental Setup ‣ 4.2 Generating Legal Analyses from Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Citation Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS2.SSS1.Px2" title="In 4.2.1 Experimental Setup ‣ 4.2 Generating Legal Analyses from Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Metrics, Data, and Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS2.SSS1.Px3" title="In 4.2.1 Experimental Setup ‣ 4.2 Generating Legal Analyses from Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title">Ablation study</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS2.SSS2" title="In 4.2 Generating Legal Analyses from Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.2 </span>Results and Analysis</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S5" title="In Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Discussion</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S5.SS1" title="In 5 Discussion ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Limitations in Case Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S5.SS2" title="In 5 Discussion ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Limitations in Analysis Generation and Metrics</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S6" title="In Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S7" title="In Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Limitations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A1" title="In Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Compute Infrastructure</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A2" title="In Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>U.S. Legal Data Taxonomy</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A3" title="In Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Prompt for Argument Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4" title="In Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Additional Experimental Results</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.SS1" title="In Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.1 </span>Parse Direct Quotes and Filter Queries</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.SS2" title="In Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.2 </span>Retrieve with Direct Quote</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.SS3" title="In Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.3 </span>Retrieve with Cross-Encoders</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A5" title="In Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Qualitative Example</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">
<span class="ltx_text ltx_font_smallcaps" id="id13.id1">Clerc</span>: A Large Long-Context Dataset for Retrieval and Reasoning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Abe Bohan Hou<sup class="ltx_sup" id="id1.1.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id1.1.1.m1.1"><semantics id="id1.1.1.m1.1a"><mi id="id1.1.1.m1.1.1" mathvariant="normal" xref="id1.1.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id1.1.1.m1.1b"><ci id="id1.1.1.m1.1.1.cmml" xref="id1.1.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id1.1.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id1.1.1.m1.1d">♣</annotation></semantics></math></sup>  Orion Weller<sup class="ltx_sup" id="id2.2.2"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id2.2.2.m1.1"><semantics id="id2.2.2.m1.1a"><mi id="id2.2.2.m1.1.1" mathvariant="normal" xref="id2.2.2.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id2.2.2.m1.1b"><ci id="id2.2.2.m1.1.1.cmml" xref="id2.2.2.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id2.2.2.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id2.2.2.m1.1d">♣</annotation></semantics></math></sup>  Guanghui Qin<sup class="ltx_sup" id="id3.3.3"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id3.3.3.m1.1"><semantics id="id3.3.3.m1.1a"><mi id="id3.3.3.m1.1.1" mathvariant="normal" xref="id3.3.3.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id3.3.3.m1.1b"><ci id="id3.3.3.m1.1.1.cmml" xref="id3.3.3.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id3.3.3.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id3.3.3.m1.1d">♣</annotation></semantics></math></sup>  
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id4.4.4">Eugene Yang<sup class="ltx_sup" id="id4.4.4.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id4.4.4.1.m1.1"><semantics id="id4.4.4.1.m1.1a"><mi id="id4.4.4.1.m1.1.1" mathvariant="normal" xref="id4.4.4.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id4.4.4.1.m1.1b"><ci id="id4.4.4.1.m1.1.1.cmml" xref="id4.4.4.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id4.4.4.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id4.4.4.1.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="id5.5.5">Dawn Lawrie<sup class="ltx_sup" id="id5.5.5.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id5.5.5.1.m1.1"><semantics id="id5.5.5.1.m1.1a"><mi id="id5.5.5.1.m1.1.1" mathvariant="normal" xref="id5.5.5.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id5.5.5.1.m1.1b"><ci id="id5.5.5.1.m1.1.1.cmml" xref="id5.5.5.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id5.5.5.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id5.5.5.1.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="id6.6.6">Nils Holzenberger<sup class="ltx_sup" id="id6.6.6.1"><math alttext="\spadesuit" class="ltx_Math" display="inline" id="id6.6.6.1.m1.1"><semantics id="id6.6.6.1.m1.1a"><mi id="id6.6.6.1.m1.1.1" mathvariant="normal" xref="id6.6.6.1.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="id6.6.6.1.m1.1b"><ci id="id6.6.6.1.m1.1.1.cmml" xref="id6.6.6.1.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="id6.6.6.1.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="id6.6.6.1.m1.1d">♠</annotation></semantics></math></sup></span>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id8.8.8">Andrew Blair-Stanek<sup class="ltx_sup" id="id7.7.7.1"><math alttext="\diamondsuit" class="ltx_Math" display="inline" id="id7.7.7.1.m1.1"><semantics id="id7.7.7.1.m1.1a"><mi id="id7.7.7.1.m1.1.1" mathvariant="normal" xref="id7.7.7.1.m1.1.1.cmml">♢</mi><annotation-xml encoding="MathML-Content" id="id7.7.7.1.m1.1b"><ci id="id7.7.7.1.m1.1.1.cmml" xref="id7.7.7.1.m1.1.1">♢</ci></annotation-xml><annotation encoding="application/x-tex" id="id7.7.7.1.m1.1c">\diamondsuit</annotation><annotation encoding="application/x-llamapun" id="id7.7.7.1.m1.1d">♢</annotation></semantics></math></sup><sup class="ltx_sup" id="id8.8.8.2"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id8.8.8.2.m1.1"><semantics id="id8.8.8.2.m1.1a"><mi id="id8.8.8.2.m1.1.1" mathvariant="normal" xref="id8.8.8.2.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id8.8.8.2.m1.1b"><ci id="id8.8.8.2.m1.1.1.cmml" xref="id8.8.8.2.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id8.8.8.2.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id8.8.8.2.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="id9.9.9">Benjamin Van Durme<sup class="ltx_sup" id="id9.9.9.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id9.9.9.1.m1.1"><semantics id="id9.9.9.1.m1.1a"><mi id="id9.9.9.1.m1.1.1" mathvariant="normal" xref="id9.9.9.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id9.9.9.1.m1.1b"><ci id="id9.9.9.1.m1.1.1.cmml" xref="id9.9.9.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id9.9.9.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id9.9.9.1.m1.1d">♣</annotation></semantics></math></sup></span>
<br class="ltx_break"/><sup class="ltx_sup" id="id10.10.10"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id10.10.10.m1.1"><semantics id="id10.10.10.m1.1a"><mi id="id10.10.10.m1.1.1" mathvariant="normal" xref="id10.10.10.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id10.10.10.m1.1b"><ci id="id10.10.10.m1.1.1.cmml" xref="id10.10.10.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id10.10.10.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id10.10.10.m1.1d">♣</annotation></semantics></math></sup> Johns Hopkins University  
<br class="ltx_break"/><sup class="ltx_sup" id="id11.11.11"><math alttext="\spadesuit" class="ltx_Math" display="inline" id="id11.11.11.m1.1"><semantics id="id11.11.11.m1.1a"><mi id="id11.11.11.m1.1.1" mathvariant="normal" xref="id11.11.11.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="id11.11.11.m1.1b"><ci id="id11.11.11.m1.1.1.cmml" xref="id11.11.11.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="id11.11.11.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="id11.11.11.m1.1d">♠</annotation></semantics></math></sup>Télécom Paris, Institut Polytechnique de Paris 
<br class="ltx_break"/><sup class="ltx_sup" id="id12.12.12"><math alttext="\diamondsuit" class="ltx_Math" display="inline" id="id12.12.12.m1.1"><semantics id="id12.12.12.m1.1a"><mi id="id12.12.12.m1.1.1" mathvariant="normal" xref="id12.12.12.m1.1.1.cmml">♢</mi><annotation-xml encoding="MathML-Content" id="id12.12.12.m1.1b"><ci id="id12.12.12.m1.1.1.cmml" xref="id12.12.12.m1.1.1">♢</ci></annotation-xml><annotation encoding="application/x-tex" id="id12.12.12.m1.1c">\diamondsuit</annotation><annotation encoding="application/x-llamapun" id="id12.12.12.m1.1d">♢</annotation></semantics></math></sup> University of Maryland, Carey School of Law
</span></span>
</div>
<h1 class="ltx_title ltx_title_document">
<span class="ltx_text ltx_font_smallcaps" id="id14.id1">Clerc</span>: A Long-Context Dataset for Legal Citation Retrieval 
<br class="ltx_break"/>and Retrieval-Augmented Case Generation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Abe Bohan Hou<sup class="ltx_sup" id="id1.1.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id1.1.1.m1.1"><semantics id="id1.1.1.m1.1a"><mi id="id1.1.1.m1.1.1" mathvariant="normal" xref="id1.1.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id1.1.1.m1.1b"><ci id="id1.1.1.m1.1.1.cmml" xref="id1.1.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id1.1.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id1.1.1.m1.1d">♣</annotation></semantics></math></sup>  Orion Weller<sup class="ltx_sup" id="id2.2.2"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id2.2.2.m1.1"><semantics id="id2.2.2.m1.1a"><mi id="id2.2.2.m1.1.1" mathvariant="normal" xref="id2.2.2.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id2.2.2.m1.1b"><ci id="id2.2.2.m1.1.1.cmml" xref="id2.2.2.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id2.2.2.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id2.2.2.m1.1d">♣</annotation></semantics></math></sup>  Guanghui Qin<sup class="ltx_sup" id="id3.3.3"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id3.3.3.m1.1"><semantics id="id3.3.3.m1.1a"><mi id="id3.3.3.m1.1.1" mathvariant="normal" xref="id3.3.3.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id3.3.3.m1.1b"><ci id="id3.3.3.m1.1.1.cmml" xref="id3.3.3.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id3.3.3.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id3.3.3.m1.1d">♣</annotation></semantics></math></sup>  
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id4.4.4">Eugene Yang<sup class="ltx_sup" id="id4.4.4.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id4.4.4.1.m1.1"><semantics id="id4.4.4.1.m1.1a"><mi id="id4.4.4.1.m1.1.1" mathvariant="normal" xref="id4.4.4.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id4.4.4.1.m1.1b"><ci id="id4.4.4.1.m1.1.1.cmml" xref="id4.4.4.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id4.4.4.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id4.4.4.1.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="id5.5.5">Dawn Lawrie<sup class="ltx_sup" id="id5.5.5.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id5.5.5.1.m1.1"><semantics id="id5.5.5.1.m1.1a"><mi id="id5.5.5.1.m1.1.1" mathvariant="normal" xref="id5.5.5.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id5.5.5.1.m1.1b"><ci id="id5.5.5.1.m1.1.1.cmml" xref="id5.5.5.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id5.5.5.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id5.5.5.1.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="id6.6.6">Nils Holzenberger<sup class="ltx_sup" id="id6.6.6.1"><math alttext="\spadesuit" class="ltx_Math" display="inline" id="id6.6.6.1.m1.1"><semantics id="id6.6.6.1.m1.1a"><mi id="id6.6.6.1.m1.1.1" mathvariant="normal" xref="id6.6.6.1.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="id6.6.6.1.m1.1b"><ci id="id6.6.6.1.m1.1.1.cmml" xref="id6.6.6.1.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="id6.6.6.1.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="id6.6.6.1.m1.1d">♠</annotation></semantics></math></sup></span>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id8.8.8">Andrew Blair-Stanek<sup class="ltx_sup" id="id7.7.7.1"><math alttext="\diamondsuit" class="ltx_Math" display="inline" id="id7.7.7.1.m1.1"><semantics id="id7.7.7.1.m1.1a"><mi id="id7.7.7.1.m1.1.1" mathvariant="normal" xref="id7.7.7.1.m1.1.1.cmml">♢</mi><annotation-xml encoding="MathML-Content" id="id7.7.7.1.m1.1b"><ci id="id7.7.7.1.m1.1.1.cmml" xref="id7.7.7.1.m1.1.1">♢</ci></annotation-xml><annotation encoding="application/x-tex" id="id7.7.7.1.m1.1c">\diamondsuit</annotation><annotation encoding="application/x-llamapun" id="id7.7.7.1.m1.1d">♢</annotation></semantics></math></sup><sup class="ltx_sup" id="id8.8.8.2"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id8.8.8.2.m1.1"><semantics id="id8.8.8.2.m1.1a"><mi id="id8.8.8.2.m1.1.1" mathvariant="normal" xref="id8.8.8.2.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id8.8.8.2.m1.1b"><ci id="id8.8.8.2.m1.1.1.cmml" xref="id8.8.8.2.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id8.8.8.2.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id8.8.8.2.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="id9.9.9">Benjamin Van Durme<sup class="ltx_sup" id="id9.9.9.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id9.9.9.1.m1.1"><semantics id="id9.9.9.1.m1.1a"><mi id="id9.9.9.1.m1.1.1" mathvariant="normal" xref="id9.9.9.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id9.9.9.1.m1.1b"><ci id="id9.9.9.1.m1.1.1.cmml" xref="id9.9.9.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id9.9.9.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id9.9.9.1.m1.1d">♣</annotation></semantics></math></sup></span>
<br class="ltx_break"/><sup class="ltx_sup" id="id10.10.10"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id10.10.10.m1.1"><semantics id="id10.10.10.m1.1a"><mi id="id10.10.10.m1.1.1" mathvariant="normal" xref="id10.10.10.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id10.10.10.m1.1b"><ci id="id10.10.10.m1.1.1.cmml" xref="id10.10.10.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id10.10.10.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id10.10.10.m1.1d">♣</annotation></semantics></math></sup> Johns Hopkins University  
<br class="ltx_break"/><sup class="ltx_sup" id="id11.11.11"><math alttext="\spadesuit" class="ltx_Math" display="inline" id="id11.11.11.m1.1"><semantics id="id11.11.11.m1.1a"><mi id="id11.11.11.m1.1.1" mathvariant="normal" xref="id11.11.11.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="id11.11.11.m1.1b"><ci id="id11.11.11.m1.1.1.cmml" xref="id11.11.11.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="id11.11.11.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="id11.11.11.m1.1d">♠</annotation></semantics></math></sup>Télécom Paris, Institut Polytechnique de Paris 
<br class="ltx_break"/><sup class="ltx_sup" id="id12.12.12"><math alttext="\diamondsuit" class="ltx_Math" display="inline" id="id12.12.12.m1.1"><semantics id="id12.12.12.m1.1a"><mi id="id12.12.12.m1.1.1" mathvariant="normal" xref="id12.12.12.m1.1.1.cmml">♢</mi><annotation-xml encoding="MathML-Content" id="id12.12.12.m1.1b"><ci id="id12.12.12.m1.1.1.cmml" xref="id12.12.12.m1.1.1">♢</ci></annotation-xml><annotation encoding="application/x-tex" id="id12.12.12.m1.1c">\diamondsuit</annotation><annotation encoding="application/x-llamapun" id="id12.12.12.m1.1d">♢</annotation></semantics></math></sup> University of Maryland, Carey School of Law
</span></span>
</div>
<h1 class="ltx_title ltx_title_document">
<span class="ltx_text ltx_font_smallcaps" id="id15.id1">Clerc</span>: A Long-Context Dataset for Legal Citation Retrieval 
<br class="ltx_break"/>and Retrieval-Augmented Analysis Generation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Abe Bohan Hou<sup class="ltx_sup" id="id1.1.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id1.1.1.m1.1"><semantics id="id1.1.1.m1.1a"><mi id="id1.1.1.m1.1.1" mathvariant="normal" xref="id1.1.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id1.1.1.m1.1b"><ci id="id1.1.1.m1.1.1.cmml" xref="id1.1.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id1.1.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id1.1.1.m1.1d">♣</annotation></semantics></math></sup>  Orion Weller<sup class="ltx_sup" id="id2.2.2"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id2.2.2.m1.1"><semantics id="id2.2.2.m1.1a"><mi id="id2.2.2.m1.1.1" mathvariant="normal" xref="id2.2.2.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id2.2.2.m1.1b"><ci id="id2.2.2.m1.1.1.cmml" xref="id2.2.2.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id2.2.2.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id2.2.2.m1.1d">♣</annotation></semantics></math></sup>  Guanghui Qin<sup class="ltx_sup" id="id3.3.3"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id3.3.3.m1.1"><semantics id="id3.3.3.m1.1a"><mi id="id3.3.3.m1.1.1" mathvariant="normal" xref="id3.3.3.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id3.3.3.m1.1b"><ci id="id3.3.3.m1.1.1.cmml" xref="id3.3.3.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id3.3.3.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id3.3.3.m1.1d">♣</annotation></semantics></math></sup>  
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id4.4.4">Eugene Yang<sup class="ltx_sup" id="id4.4.4.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id4.4.4.1.m1.1"><semantics id="id4.4.4.1.m1.1a"><mi id="id4.4.4.1.m1.1.1" mathvariant="normal" xref="id4.4.4.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id4.4.4.1.m1.1b"><ci id="id4.4.4.1.m1.1.1.cmml" xref="id4.4.4.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id4.4.4.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id4.4.4.1.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="id5.5.5">Dawn Lawrie<sup class="ltx_sup" id="id5.5.5.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id5.5.5.1.m1.1"><semantics id="id5.5.5.1.m1.1a"><mi id="id5.5.5.1.m1.1.1" mathvariant="normal" xref="id5.5.5.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id5.5.5.1.m1.1b"><ci id="id5.5.5.1.m1.1.1.cmml" xref="id5.5.5.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id5.5.5.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id5.5.5.1.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="id6.6.6">Nils Holzenberger<sup class="ltx_sup" id="id6.6.6.1"><math alttext="\spadesuit" class="ltx_Math" display="inline" id="id6.6.6.1.m1.1"><semantics id="id6.6.6.1.m1.1a"><mi id="id6.6.6.1.m1.1.1" mathvariant="normal" xref="id6.6.6.1.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="id6.6.6.1.m1.1b"><ci id="id6.6.6.1.m1.1.1.cmml" xref="id6.6.6.1.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="id6.6.6.1.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="id6.6.6.1.m1.1d">♠</annotation></semantics></math></sup></span>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id8.8.8">Andrew Blair-Stanek<sup class="ltx_sup" id="id7.7.7.1"><math alttext="\diamondsuit" class="ltx_Math" display="inline" id="id7.7.7.1.m1.1"><semantics id="id7.7.7.1.m1.1a"><mi id="id7.7.7.1.m1.1.1" mathvariant="normal" xref="id7.7.7.1.m1.1.1.cmml">♢</mi><annotation-xml encoding="MathML-Content" id="id7.7.7.1.m1.1b"><ci id="id7.7.7.1.m1.1.1.cmml" xref="id7.7.7.1.m1.1.1">♢</ci></annotation-xml><annotation encoding="application/x-tex" id="id7.7.7.1.m1.1c">\diamondsuit</annotation><annotation encoding="application/x-llamapun" id="id7.7.7.1.m1.1d">♢</annotation></semantics></math></sup><sup class="ltx_sup" id="id8.8.8.2"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id8.8.8.2.m1.1"><semantics id="id8.8.8.2.m1.1a"><mi id="id8.8.8.2.m1.1.1" mathvariant="normal" xref="id8.8.8.2.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id8.8.8.2.m1.1b"><ci id="id8.8.8.2.m1.1.1.cmml" xref="id8.8.8.2.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id8.8.8.2.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id8.8.8.2.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="id9.9.9">Benjamin Van Durme<sup class="ltx_sup" id="id9.9.9.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id9.9.9.1.m1.1"><semantics id="id9.9.9.1.m1.1a"><mi id="id9.9.9.1.m1.1.1" mathvariant="normal" xref="id9.9.9.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id9.9.9.1.m1.1b"><ci id="id9.9.9.1.m1.1.1.cmml" xref="id9.9.9.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id9.9.9.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id9.9.9.1.m1.1d">♣</annotation></semantics></math></sup></span>
<br class="ltx_break"/><sup class="ltx_sup" id="id10.10.10"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id10.10.10.m1.1"><semantics id="id10.10.10.m1.1a"><mi id="id10.10.10.m1.1.1" mathvariant="normal" xref="id10.10.10.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id10.10.10.m1.1b"><ci id="id10.10.10.m1.1.1.cmml" xref="id10.10.10.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id10.10.10.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id10.10.10.m1.1d">♣</annotation></semantics></math></sup> Johns Hopkins University  
<br class="ltx_break"/><sup class="ltx_sup" id="id11.11.11"><math alttext="\spadesuit" class="ltx_Math" display="inline" id="id11.11.11.m1.1"><semantics id="id11.11.11.m1.1a"><mi id="id11.11.11.m1.1.1" mathvariant="normal" xref="id11.11.11.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="id11.11.11.m1.1b"><ci id="id11.11.11.m1.1.1.cmml" xref="id11.11.11.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="id11.11.11.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="id11.11.11.m1.1d">♠</annotation></semantics></math></sup>Télécom Paris, Institut Polytechnique de Paris 
<br class="ltx_break"/><sup class="ltx_sup" id="id12.12.12"><math alttext="\diamondsuit" class="ltx_Math" display="inline" id="id12.12.12.m1.1"><semantics id="id12.12.12.m1.1a"><mi id="id12.12.12.m1.1.1" mathvariant="normal" xref="id12.12.12.m1.1.1.cmml">♢</mi><annotation-xml encoding="MathML-Content" id="id12.12.12.m1.1b"><ci id="id12.12.12.m1.1.1.cmml" xref="id12.12.12.m1.1.1">♢</ci></annotation-xml><annotation encoding="application/x-tex" id="id12.12.12.m1.1c">\diamondsuit</annotation><annotation encoding="application/x-llamapun" id="id12.12.12.m1.1d">♢</annotation></semantics></math></sup> University of Maryland, Carey School of Law
</span></span>
</div>
<h1 class="ltx_title ltx_title_document">
<span class="ltx_text ltx_font_smallcaps" id="id16.id1">Clerc</span>: A Dataset for Legal Case Retrieval 
<br class="ltx_break"/>and Retrieval-Augmented Analysis Generation </h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Abe Bohan Hou<sup class="ltx_sup" id="id1.1.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id1.1.1.m1.1"><semantics id="id1.1.1.m1.1a"><mi id="id1.1.1.m1.1.1" mathvariant="normal" xref="id1.1.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id1.1.1.m1.1b"><ci id="id1.1.1.m1.1.1.cmml" xref="id1.1.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id1.1.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id1.1.1.m1.1d">♣</annotation></semantics></math></sup>  Orion Weller<sup class="ltx_sup" id="id2.2.2"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id2.2.2.m1.1"><semantics id="id2.2.2.m1.1a"><mi id="id2.2.2.m1.1.1" mathvariant="normal" xref="id2.2.2.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id2.2.2.m1.1b"><ci id="id2.2.2.m1.1.1.cmml" xref="id2.2.2.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id2.2.2.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id2.2.2.m1.1d">♣</annotation></semantics></math></sup>  Guanghui Qin<sup class="ltx_sup" id="id3.3.3"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id3.3.3.m1.1"><semantics id="id3.3.3.m1.1a"><mi id="id3.3.3.m1.1.1" mathvariant="normal" xref="id3.3.3.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id3.3.3.m1.1b"><ci id="id3.3.3.m1.1.1.cmml" xref="id3.3.3.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id3.3.3.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id3.3.3.m1.1d">♣</annotation></semantics></math></sup>  
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id4.4.4">Eugene Yang<sup class="ltx_sup" id="id4.4.4.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id4.4.4.1.m1.1"><semantics id="id4.4.4.1.m1.1a"><mi id="id4.4.4.1.m1.1.1" mathvariant="normal" xref="id4.4.4.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id4.4.4.1.m1.1b"><ci id="id4.4.4.1.m1.1.1.cmml" xref="id4.4.4.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id4.4.4.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id4.4.4.1.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="id5.5.5">Dawn Lawrie<sup class="ltx_sup" id="id5.5.5.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id5.5.5.1.m1.1"><semantics id="id5.5.5.1.m1.1a"><mi id="id5.5.5.1.m1.1.1" mathvariant="normal" xref="id5.5.5.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id5.5.5.1.m1.1b"><ci id="id5.5.5.1.m1.1.1.cmml" xref="id5.5.5.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id5.5.5.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id5.5.5.1.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="id6.6.6">Nils Holzenberger<sup class="ltx_sup" id="id6.6.6.1"><math alttext="\spadesuit" class="ltx_Math" display="inline" id="id6.6.6.1.m1.1"><semantics id="id6.6.6.1.m1.1a"><mi id="id6.6.6.1.m1.1.1" mathvariant="normal" xref="id6.6.6.1.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="id6.6.6.1.m1.1b"><ci id="id6.6.6.1.m1.1.1.cmml" xref="id6.6.6.1.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="id6.6.6.1.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="id6.6.6.1.m1.1d">♠</annotation></semantics></math></sup></span>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id8.8.8">Andrew Blair-Stanek<sup class="ltx_sup" id="id7.7.7.1"><math alttext="\diamondsuit" class="ltx_Math" display="inline" id="id7.7.7.1.m1.1"><semantics id="id7.7.7.1.m1.1a"><mi id="id7.7.7.1.m1.1.1" mathvariant="normal" xref="id7.7.7.1.m1.1.1.cmml">♢</mi><annotation-xml encoding="MathML-Content" id="id7.7.7.1.m1.1b"><ci id="id7.7.7.1.m1.1.1.cmml" xref="id7.7.7.1.m1.1.1">♢</ci></annotation-xml><annotation encoding="application/x-tex" id="id7.7.7.1.m1.1c">\diamondsuit</annotation><annotation encoding="application/x-llamapun" id="id7.7.7.1.m1.1d">♢</annotation></semantics></math></sup><sup class="ltx_sup" id="id8.8.8.2"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id8.8.8.2.m1.1"><semantics id="id8.8.8.2.m1.1a"><mi id="id8.8.8.2.m1.1.1" mathvariant="normal" xref="id8.8.8.2.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id8.8.8.2.m1.1b"><ci id="id8.8.8.2.m1.1.1.cmml" xref="id8.8.8.2.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id8.8.8.2.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id8.8.8.2.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="id9.9.9">Benjamin Van Durme<sup class="ltx_sup" id="id9.9.9.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id9.9.9.1.m1.1"><semantics id="id9.9.9.1.m1.1a"><mi id="id9.9.9.1.m1.1.1" mathvariant="normal" xref="id9.9.9.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id9.9.9.1.m1.1b"><ci id="id9.9.9.1.m1.1.1.cmml" xref="id9.9.9.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id9.9.9.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id9.9.9.1.m1.1d">♣</annotation></semantics></math></sup></span>
<br class="ltx_break"/><sup class="ltx_sup" id="id10.10.10"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="id10.10.10.m1.1"><semantics id="id10.10.10.m1.1a"><mi id="id10.10.10.m1.1.1" mathvariant="normal" xref="id10.10.10.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="id10.10.10.m1.1b"><ci id="id10.10.10.m1.1.1.cmml" xref="id10.10.10.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="id10.10.10.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="id10.10.10.m1.1d">♣</annotation></semantics></math></sup> Johns Hopkins University  
<br class="ltx_break"/><sup class="ltx_sup" id="id11.11.11"><math alttext="\spadesuit" class="ltx_Math" display="inline" id="id11.11.11.m1.1"><semantics id="id11.11.11.m1.1a"><mi id="id11.11.11.m1.1.1" mathvariant="normal" xref="id11.11.11.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="id11.11.11.m1.1b"><ci id="id11.11.11.m1.1.1.cmml" xref="id11.11.11.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="id11.11.11.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="id11.11.11.m1.1d">♠</annotation></semantics></math></sup>Télécom Paris, Institut Polytechnique de Paris 
<br class="ltx_break"/><sup class="ltx_sup" id="id12.12.12"><math alttext="\diamondsuit" class="ltx_Math" display="inline" id="id12.12.12.m1.1"><semantics id="id12.12.12.m1.1a"><mi id="id12.12.12.m1.1.1" mathvariant="normal" xref="id12.12.12.m1.1.1.cmml">♢</mi><annotation-xml encoding="MathML-Content" id="id12.12.12.m1.1b"><ci id="id12.12.12.m1.1.1.cmml" xref="id12.12.12.m1.1.1">♢</ci></annotation-xml><annotation encoding="application/x-tex" id="id12.12.12.m1.1c">\diamondsuit</annotation><annotation encoding="application/x-llamapun" id="id12.12.12.m1.1d">♢</annotation></semantics></math></sup> University of Maryland, Carey School of Law
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id17.id1">Legal professionals need to write analyses that rely on citations to relevant precedents, i.e., previous case decisions.
Intelligence systems assisting legal professionals in writing such documents provide great benefits but are challenging to design.
Such systems need to help locate, summarize, and reason over salient precedents in order to be useful.
To enable systems for such tasks, we work with legal professionals to transform a large open-source legal corpus into a dataset<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Code/data is publicly available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/bohanhou14/CLERC" title="">https://github.com/bohanhou14/CLERC</a> and <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/datasets/jhu-clsp/CLERC" title="">https://huggingface.co/datasets/jhu-clsp/CLERC</a></span></span></span> supporting two important backbone tasks: information retrieval (IR) and retrieval-augmented generation (RAG).
This dataset <span class="ltx_text ltx_font_smallcaps" id="id17.id1.1">Clerc</span> (<span class="ltx_text ltx_font_bold" id="id17.id1.2">C</span>ase
<span class="ltx_text ltx_font_bold" id="id17.id1.3">L</span>aw <span class="ltx_text ltx_font_bold" id="id17.id1.4">E</span>valuation and <span class="ltx_text ltx_font_bold" id="id17.id1.5">R</span>etrieval <span class="ltx_text ltx_font_bold" id="id17.id1.6">C</span>orpus), is constructed for training and evaluating models on their ability to (1) find corresponding citations for a given piece of legal analysis and to (2) compile the text of these citations (as well as previous context) into a cogent analysis that supports a reasoning goal.
We benchmark state-of-the-art models on <span class="ltx_text ltx_font_smallcaps" id="id17.id1.7">Clerc</span>, showing that current approaches still struggle: GPT-4o generates analyses with the highest ROUGE F-scores but hallucinates the most, while zero-shot IR models only achieve 48.3% recall@1000.</p>
</div>
<div class="ltx_para ltx_noindent" id="p1">
<div class="ltx_block ltx_align_bottom" id="p1.12">
<p class="ltx_p" id="p1.12.13"><span class="ltx_text ltx_font_smallcaps" id="p1.12.13.1">Clerc</span><span class="ltx_text ltx_font_bold" id="p1.12.13.2">: A Dataset for Legal Case Retrieval 
<br class="ltx_break"/>and Retrieval-Augmented Analysis Generation</span></p>
<br class="ltx_break ltx_centering"/>
<p class="ltx_p ltx_align_center" id="p1.12.12" style="width:433.6pt;"><span class="ltx_text ltx_inline-block" id="p1.12.12.12" style="width:0.0pt;">
<span class="ltx_tabular ltx_guessed_headers ltx_align_top" id="p1.12.12.12.12">
<span class="ltx_thead">
<span class="ltx_tr" id="p1.3.3.3.3.3">
<span class="ltx_td ltx_align_center ltx_th ltx_th_column" id="p1.3.3.3.3.3.3"><span class="ltx_text ltx_font_bold" id="p1.3.3.3.3.3.3.3">
Abe Bohan Hou<sup class="ltx_sup" id="p1.1.1.1.1.1.1.1.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="p1.1.1.1.1.1.1.1.1.m1.1"><semantics id="p1.1.1.1.1.1.1.1.1.m1.1a"><mi id="p1.1.1.1.1.1.1.1.1.m1.1.1" mathvariant="normal" xref="p1.1.1.1.1.1.1.1.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="p1.1.1.1.1.1.1.1.1.m1.1b"><ci id="p1.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="p1.1.1.1.1.1.1.1.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="p1.1.1.1.1.1.1.1.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="p1.1.1.1.1.1.1.1.1.m1.1d">♣</annotation></semantics></math></sup>  Orion Weller<sup class="ltx_sup" id="p1.2.2.2.2.2.2.2.2"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="p1.2.2.2.2.2.2.2.2.m1.1"><semantics id="p1.2.2.2.2.2.2.2.2.m1.1a"><mi id="p1.2.2.2.2.2.2.2.2.m1.1.1" mathvariant="normal" xref="p1.2.2.2.2.2.2.2.2.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="p1.2.2.2.2.2.2.2.2.m1.1b"><ci id="p1.2.2.2.2.2.2.2.2.m1.1.1.cmml" xref="p1.2.2.2.2.2.2.2.2.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="p1.2.2.2.2.2.2.2.2.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="p1.2.2.2.2.2.2.2.2.m1.1d">♣</annotation></semantics></math></sup>  Guanghui Qin<sup class="ltx_sup" id="p1.3.3.3.3.3.3.3.3"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="p1.3.3.3.3.3.3.3.3.m1.1"><semantics id="p1.3.3.3.3.3.3.3.3.m1.1a"><mi id="p1.3.3.3.3.3.3.3.3.m1.1.1" mathvariant="normal" xref="p1.3.3.3.3.3.3.3.3.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="p1.3.3.3.3.3.3.3.3.m1.1b"><ci id="p1.3.3.3.3.3.3.3.3.m1.1.1.cmml" xref="p1.3.3.3.3.3.3.3.3.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="p1.3.3.3.3.3.3.3.3.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="p1.3.3.3.3.3.3.3.3.m1.1d">♣</annotation></semantics></math></sup></span></span></span>
<span class="ltx_tr" id="p1.6.6.6.6.6">
<span class="ltx_td ltx_align_center ltx_th ltx_th_column" id="p1.6.6.6.6.6.3"><span class="ltx_text ltx_font_bold" id="p1.4.4.4.4.4.1.1">Eugene Yang<sup class="ltx_sup" id="p1.4.4.4.4.4.1.1.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="p1.4.4.4.4.4.1.1.1.m1.1"><semantics id="p1.4.4.4.4.4.1.1.1.m1.1a"><mi id="p1.4.4.4.4.4.1.1.1.m1.1.1" mathvariant="normal" xref="p1.4.4.4.4.4.1.1.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="p1.4.4.4.4.4.1.1.1.m1.1b"><ci id="p1.4.4.4.4.4.1.1.1.m1.1.1.cmml" xref="p1.4.4.4.4.4.1.1.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="p1.4.4.4.4.4.1.1.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="p1.4.4.4.4.4.1.1.1.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="p1.5.5.5.5.5.2.2">Dawn Lawrie<sup class="ltx_sup" id="p1.5.5.5.5.5.2.2.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="p1.5.5.5.5.5.2.2.1.m1.1"><semantics id="p1.5.5.5.5.5.2.2.1.m1.1a"><mi id="p1.5.5.5.5.5.2.2.1.m1.1.1" mathvariant="normal" xref="p1.5.5.5.5.5.2.2.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="p1.5.5.5.5.5.2.2.1.m1.1b"><ci id="p1.5.5.5.5.5.2.2.1.m1.1.1.cmml" xref="p1.5.5.5.5.5.2.2.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="p1.5.5.5.5.5.2.2.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="p1.5.5.5.5.5.2.2.1.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="p1.6.6.6.6.6.3.3">Nils Holzenberger<sup class="ltx_sup" id="p1.6.6.6.6.6.3.3.1"><math alttext="\spadesuit" class="ltx_Math" display="inline" id="p1.6.6.6.6.6.3.3.1.m1.1"><semantics id="p1.6.6.6.6.6.3.3.1.m1.1a"><mi id="p1.6.6.6.6.6.3.3.1.m1.1.1" mathvariant="normal" xref="p1.6.6.6.6.6.3.3.1.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="p1.6.6.6.6.6.3.3.1.m1.1b"><ci id="p1.6.6.6.6.6.3.3.1.m1.1.1.cmml" xref="p1.6.6.6.6.6.3.3.1.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="p1.6.6.6.6.6.3.3.1.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="p1.6.6.6.6.6.3.3.1.m1.1d">♠</annotation></semantics></math></sup></span></span></span>
<span class="ltx_tr" id="p1.9.9.9.9.9">
<span class="ltx_td ltx_align_center ltx_th ltx_th_column" id="p1.9.9.9.9.9.3"><span class="ltx_text ltx_font_bold" id="p1.8.8.8.8.8.2.2">Andrew Blair-Stanek<sup class="ltx_sup" id="p1.7.7.7.7.7.1.1.1"><math alttext="\diamondsuit" class="ltx_Math" display="inline" id="p1.7.7.7.7.7.1.1.1.m1.1"><semantics id="p1.7.7.7.7.7.1.1.1.m1.1a"><mi id="p1.7.7.7.7.7.1.1.1.m1.1.1" mathvariant="normal" xref="p1.7.7.7.7.7.1.1.1.m1.1.1.cmml">♢</mi><annotation-xml encoding="MathML-Content" id="p1.7.7.7.7.7.1.1.1.m1.1b"><ci id="p1.7.7.7.7.7.1.1.1.m1.1.1.cmml" xref="p1.7.7.7.7.7.1.1.1.m1.1.1">♢</ci></annotation-xml><annotation encoding="application/x-tex" id="p1.7.7.7.7.7.1.1.1.m1.1c">\diamondsuit</annotation><annotation encoding="application/x-llamapun" id="p1.7.7.7.7.7.1.1.1.m1.1d">♢</annotation></semantics></math></sup><sup class="ltx_sup" id="p1.8.8.8.8.8.2.2.2"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="p1.8.8.8.8.8.2.2.2.m1.1"><semantics id="p1.8.8.8.8.8.2.2.2.m1.1a"><mi id="p1.8.8.8.8.8.2.2.2.m1.1.1" mathvariant="normal" xref="p1.8.8.8.8.8.2.2.2.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="p1.8.8.8.8.8.2.2.2.m1.1b"><ci id="p1.8.8.8.8.8.2.2.2.m1.1.1.cmml" xref="p1.8.8.8.8.8.2.2.2.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="p1.8.8.8.8.8.2.2.2.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="p1.8.8.8.8.8.2.2.2.m1.1d">♣</annotation></semantics></math></sup></span>  <span class="ltx_text ltx_font_bold" id="p1.9.9.9.9.9.3.3">Benjamin Van Durme<sup class="ltx_sup" id="p1.9.9.9.9.9.3.3.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="p1.9.9.9.9.9.3.3.1.m1.1"><semantics id="p1.9.9.9.9.9.3.3.1.m1.1a"><mi id="p1.9.9.9.9.9.3.3.1.m1.1.1" mathvariant="normal" xref="p1.9.9.9.9.9.3.3.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="p1.9.9.9.9.9.3.3.1.m1.1b"><ci id="p1.9.9.9.9.9.3.3.1.m1.1.1.cmml" xref="p1.9.9.9.9.9.3.3.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="p1.9.9.9.9.9.3.3.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="p1.9.9.9.9.9.3.3.1.m1.1d">♣</annotation></semantics></math></sup></span></span></span>
</span>
<span class="ltx_tbody">
<span class="ltx_tr" id="p1.10.10.10.10.10">
<span class="ltx_td ltx_align_center" id="p1.10.10.10.10.10.1"><sup class="ltx_sup" id="p1.10.10.10.10.10.1.1"><math alttext="\clubsuit" class="ltx_Math" display="inline" id="p1.10.10.10.10.10.1.1.m1.1"><semantics id="p1.10.10.10.10.10.1.1.m1.1a"><mi id="p1.10.10.10.10.10.1.1.m1.1.1" mathvariant="normal" xref="p1.10.10.10.10.10.1.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="p1.10.10.10.10.10.1.1.m1.1b"><ci id="p1.10.10.10.10.10.1.1.m1.1.1.cmml" xref="p1.10.10.10.10.10.1.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="p1.10.10.10.10.10.1.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="p1.10.10.10.10.10.1.1.m1.1d">♣</annotation></semantics></math></sup> Johns Hopkins University</span></span>
<span class="ltx_tr" id="p1.11.11.11.11.11">
<span class="ltx_td ltx_align_center" id="p1.11.11.11.11.11.1"><sup class="ltx_sup" id="p1.11.11.11.11.11.1.1"><math alttext="\spadesuit" class="ltx_Math" display="inline" id="p1.11.11.11.11.11.1.1.m1.1"><semantics id="p1.11.11.11.11.11.1.1.m1.1a"><mi id="p1.11.11.11.11.11.1.1.m1.1.1" mathvariant="normal" xref="p1.11.11.11.11.11.1.1.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="p1.11.11.11.11.11.1.1.m1.1b"><ci id="p1.11.11.11.11.11.1.1.m1.1.1.cmml" xref="p1.11.11.11.11.11.1.1.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="p1.11.11.11.11.11.1.1.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="p1.11.11.11.11.11.1.1.m1.1d">♠</annotation></semantics></math></sup>Télécom Paris, Institut Polytechnique de Paris</span></span>
<span class="ltx_tr" id="p1.12.12.12.12.12">
<span class="ltx_td ltx_align_center" id="p1.12.12.12.12.12.1"><sup class="ltx_sup" id="p1.12.12.12.12.12.1.1"><math alttext="\diamondsuit" class="ltx_Math" display="inline" id="p1.12.12.12.12.12.1.1.m1.1"><semantics id="p1.12.12.12.12.12.1.1.m1.1a"><mi id="p1.12.12.12.12.12.1.1.m1.1.1" mathvariant="normal" xref="p1.12.12.12.12.12.1.1.m1.1.1.cmml">♢</mi><annotation-xml encoding="MathML-Content" id="p1.12.12.12.12.12.1.1.m1.1b"><ci id="p1.12.12.12.12.12.1.1.m1.1.1.cmml" xref="p1.12.12.12.12.12.1.1.m1.1.1">♢</ci></annotation-xml><annotation encoding="application/x-tex" id="p1.12.12.12.12.12.1.1.m1.1c">\diamondsuit</annotation><annotation encoding="application/x-llamapun" id="p1.12.12.12.12.12.1.1.m1.1d">♢</annotation></semantics></math></sup> University of Maryland, Carey School of Law</span></span>
</span>
</span></span></p>
<br class="ltx_break ltx_centering"/>
</div>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Writing legal analyses is a central task of lawyers. For example, in the U.S. legal system, litigation attorneys draft motions and briefs, citing relevant cases (case law) to support their analysis. From a corpus of millions of cases, finding the relevant files and weaving them into a persuasive whole requires substantial time and effort. Enhancing lawyers’ capacity to retrieve relevant cases and generate legal analyses presents difficult challenges across various fields, including information retrieval, natural language processing, and the broader AI community.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="256" id="S1.F1.g1" src="x1.png" width="510"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>An overview of how <span class="ltx_text ltx_font_smallcaps" id="S1.F1.5.1">Clerc </span>enables systems that empower legal professionals: retrieval models for <span class="ltx_text ltx_font_typewriter" id="S1.F1.6.2">CLERC/doc</span> and <span class="ltx_text ltx_font_typewriter" id="S1.F1.7.3">CLERC/passage</span> that assist with finding relevant cases to support the analysis, and retrieval-augmented generation systems with <span class="ltx_text ltx_font_typewriter" id="S1.F1.8.4">CLERC/generation</span> that aid in legal analysis generation.</figcaption>
</figure>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">To support the development of information retrieval and generative language models in writing legal documents, we build a dataset based on existing case law, i.e., the <span class="ltx_text ltx_font_italic" id="S1.p2.1.1">precedents</span>. Case law is written by judges to explain the court’s reasoning for its resolution of legal disputes based on concrete facts and laws. It is foundational for legal analyses for Common Law and some Civil Law jurisdictions <cite class="ltx_cite ltx_citemacro_citep">(Ma et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib44" title="">2021</a>; Mahari et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib47" title="">2023</a>)</cite>.
Curating a quality dataset based on case law is valuable for two main reasons.
First, given that case law is carefully written and serves as a strong prediction of future case law, the data is valuable for developing legal intelligence systems. Second, given the desire for retrieval accuracy and text generation quality, high-quality training data is critical for producing effective models.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Thus, we build a dataset, <span class="ltx_text ltx_font_smallcaps" id="S1.p3.1.1">Clerc </span>(<span class="ltx_text ltx_font_bold" id="S1.p3.1.2">C</span>ase
<span class="ltx_text ltx_font_bold" id="S1.p3.1.3">L</span>aw <span class="ltx_text ltx_font_bold" id="S1.p3.1.4">E</span>valuation and <span class="ltx_text ltx_font_bold" id="S1.p3.1.5">R</span>etrieval <span class="ltx_text ltx_font_bold" id="S1.p3.1.6">C</span>orpus), as a step towards enabling collaborative AI systems that assist legal professionals, while also providing AI researchers with a challenging and real-world evaluation set. <span class="ltx_text ltx_font_smallcaps" id="S1.p3.1.7">Clerc </span>is built upon digitized case law from the Caselaw Access Project (CAP)<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://case.law/" title="">https://case.law/</a></span></span></span> <cite class="ltx_cite ltx_citemacro_citep">(CAP, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib9" title="">2024</a>)</cite> by Harvard Law School, which contains over 1.84 million federal case documents with an average of 11.54 citations per document (see a taxonomy of U.S. legal data in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A1.F6" title="Figure 6 ‣ Appendix A Compute Infrastructure ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">6</span></a>). We transform this corpus into a comprehensive task dataset that can be used for information retrieval (IR) and retrieval-augmented generation (RAG). Compared with existing precedent datasets <cite class="ltx_cite ltx_citemacro_citep">(Henderson et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib24" title="">2022</a>; Santosh et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib58" title="">2024</a>; Mahari et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib47" title="">2023</a>; Ma et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib44" title="">2021</a>; Guha et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib22" title="">2023</a>)</cite>, we offer the following novel contributions:</p>
<ol class="ltx_enumerate" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">Through working with legal professionals, we provide a formulation of legal case retrieval and generation tasks that balance the needs and perspectives of legal professionals with computational feasibility.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We build an open-source pipeline for transforming CAP into a large-scale, high-quality dataset designed for training and evaluating models on legal IR and RAG tasks.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">We conduct a comprehensive evaluation of long-context case retrieval and retrieval-augmented legal analysis generation on <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i3.p1.1.1">Clerc</span> with state-of-the-art methods, revealing that IR models struggle to retrieve relevant documents and LLMs frequently hallucinate.</p>
</div>
</li>
</ol>
</div>
<figure class="ltx_figure" id="S1.F2">
<p class="ltx_p ltx_align_center" id="S1.F2.1">
<span class="ltx_inline-block ltx_minipage ltx_align_middle ltx_framed ltx_framed_rectangle" id="S1.F2.1.1" style="width:385.0pt;">
<span class="ltx_p" id="S1.F2.1.1.1"><span class="ltx_text ltx_font_bold" id="S1.F2.1.1.1.1">Query: </span>
…Summary judgment should be granted where “the pleadings, depositions, answers to interrogatories and admissions on file, together with the affidavits, if any, show there is no genuine issue as to any material fact and that the moving party is entitled to judgment as a matter of law.” <span class="ltx_text" id="S1.F2.1.1.1.2" style="color:#00FFFF;">Fed.R.Civ.P. 56(c)</span>. The moving party has the responsibility of informing the Court of portions of the record or affidavits that demonstrate the absence of a triable issue. <span class="ltx_text ltx_framed ltx_framed_underline" id="S1.F2.1.1.1.3" style="color:#800080;">Celotex Corp. v. Catrett, 477 U.S. 317, 322, 106 S.Ct. 2548, 91 L.Ed.2d 265 (1986).</span> The moving party may meet its burden of showing an absence of disputed material facts by demonstrating <span class="ltx_text ltx_font_italic" id="S1.F2.1.1.1.4" style="color:#BF8040;">“that there is an absence of evidence to support the non-moving party’s case.”</span> <span class="ltx_text ltx_font_typewriter" id="S1.F2.1.1.1.5" style="color:#BF0040;">Id. at 325, 106 S.Ct. 2548</span>. Any doubt as to the existence of a genuine issue for trial is resolved against the moving party. <span class="ltx_text ltx_font_typewriter" id="S1.F2.1.1.1.6" style="color:#BF0040;">Anderson v. Liberty Lobby, Inc., 477 U.S. 242, 255, 106 S.Ct. 2505, 91 L.Ed.2d 202 (1986)</span>; …</span>
</span>
</p>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>A depiction of a query from <span class="ltx_text ltx_font_smallcaps" id="S1.F2.13.1">Clerc</span>. “<span class="ltx_text" id="S1.F2.14.2" style="color:#00FFFF;">Fed.R.Civ.P. 56(c)</span>” cites a federal statute. <span class="ltx_text ltx_framed ltx_framed_underline" id="S1.F2.15.3" style="color:#800080;">Underlined violet</span> is the query’s <span class="ltx_text ltx_font_bold" id="S1.F2.16.4">central citation sentence</span>. <span class="ltx_text ltx_font_italic" id="S1.F2.17.5" style="color:#BF8040;">The brown italicized sentence</span> is a <span class="ltx_text ltx_font_bold" id="S1.F2.18.6">direct quote</span> from Celotex Corp. v. Catrett, making this query a <em class="ltx_emph ltx_font_italic" id="S1.F2.19.7">direct query</em>. <span class="ltx_text ltx_font_typewriter" id="S1.F2.20.8" style="color:#BF0040;">The red citations in teletype fonts</span> are <em class="ltx_emph ltx_font_italic" id="S1.F2.21.9">non-central citations</em>. We define <span class="ltx_text ltx_font_typewriter" id="S1.F2.22.10">single-removed</span> as a data view which masks only the central citation and its salient sentence, while <span class="ltx_text ltx_font_typewriter" id="S1.F2.23.11">all-removed</span> masks all citations from the passage. All references to statutes are retained.</figcaption>
</figure>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">In this section, we provide an overview of long-context retrieval and RAG, including existing applications in the legal domain.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Legal Case Retrieval and Generation</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">Case law retrieval is a longstanding problem aimed at helping legal experts find cases to cite <cite class="ltx_cite ltx_citemacro_citep">(Wilson, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib70" title="">1962</a>)</cite>. Techniques range from lexical search <cite class="ltx_cite ltx_citemacro_citep">(Blair and Maron, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib5" title="">1985</a>)</cite> to more recent semantic similarity-based approaches <cite class="ltx_cite ltx_citemacro_citep">(Ebietomere and Ekuobase, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib17" title="">2019</a>; Askari et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib2" title="">2021</a>)</cite>. Overall, most legal retrieval is done through WestLaw<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://legal.thomsonreuters.com/en/westlaw" title="">https://legal.thomsonreuters.com/en/westlaw</a></span></span></span> or LexisNexis,<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.lexisnexis.com/" title="">https://www.lexisnexis.com/</a></span></span></span> or services offered by Thomson Reuters,<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://legal.thomsonreuters.com/en/products/court-express" title="">https://legal.thomsonreuters.com/en/products/court-express</a></span></span></span> which charge large sums for access to a manually annotated and custom-based ontology. Although many new datasets exist for countries outside of the United States <cite class="ltx_cite ltx_citemacro_citep">(Ma et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib44" title="">2021</a>; Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib35" title="">2024</a>; Santosh et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib58" title="">2024</a>; Goebel et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib21" title="">2024</a>)</cite>, few existed in the United States before the large U.S. case law resource, CAP, was released to the public in 2023 <cite class="ltx_cite ltx_citemacro_citep">(Mahari, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib46" title="">2021</a>)</cite>. A summary of more related work of legal IR can also be found in <cite class="ltx_cite ltx_citemacro_citet">Locke and Zuccon (<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib42" title="">2022</a>)</cite>. Due to the recent advances of Large Language Models (LLMs) and RAG, legal generation is a new field with preliminary works, including analysis generation using small datasets or small-scale models <cite class="ltx_cite ltx_citemacro_citep">(Tuvey and Sen, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib65" title="">2023</a>; Li and Zhang, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib36" title="">2021</a>; Lin and Cheng, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib38" title="">2024</a>)</cite>, generating stories to educate about legal concepts <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib28" title="">2024</a>)</cite>, generating legal summaries <cite class="ltx_cite ltx_citemacro_citep">(Gesnouin et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib20" title="">2024</a>; Shen et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib60" title="">2022</a>)</cite>, and profiling hallucinations in legal generation <cite class="ltx_cite ltx_citemacro_citep">(Dahl et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib13" title="">2024</a>; Magesh et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib45" title="">2024</a>)</cite>. In comparison, we provide an extensive benchmark on <span class="ltx_text ltx_font_bold" id="S2.SS1.p1.1.1">retrieving citations and generating long-form legal analysis</span>, which is a core task for lawyers that requires substantial time and effort.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Long-Context Generation</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">LLMs are limited in context length due to concerns of efficiency and performance  <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib34" title="">2023</a>)</cite>.
Benchmarks have been introduced to measure the effectiveness of LLMs, including <cite class="ltx_cite ltx_citemacro_citet">Shaham et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib59" title="">2022</a>); Tay et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib62" title="">2020</a>); Dong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib16" title="">2024</a>)</cite>.
Various methods were proposed to solve this problem, such as efficient attention <cite class="ltx_cite ltx_citemacro_citep">(Beltagy et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib4" title="">2020</a>; Choromanski et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib11" title="">2021</a>; Qin et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib51" title="">2024a</a>, inter alia)</cite>, recurrence <cite class="ltx_cite ltx_citemacro_citep">(Dai et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib14" title="">2019</a>; Bulatov et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib7" title="">2022</a>)</cite>, context length generalization <cite class="ltx_cite ltx_citemacro_citep">(Su et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib61" title="">2024</a>; Chen et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib10" title="">2023</a>)</cite>, and RAG <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib33" title="">2020</a>)</cite>,
while some recent work challenges the effectiveness of those methods <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib40" title="">2024</a>; Qin et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib50" title="">2023</a>)</cite>.
Recent proprietary LLMs are reported to extend the context length up to 1 million tokens, such as Gemini 1.5 <cite class="ltx_cite ltx_citemacro_citep">(Reid et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib53" title="">2024</a>)</cite>, Claude 3 <cite class="ltx_cite ltx_citemacro_citep">(Anthropic, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib1" title="">2024</a>)</cite>, and GPT-4 <cite class="ltx_cite ltx_citemacro_citep">(Josh Achiam et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib29" title="">2024</a>)</cite>.
More specific to legal texts, generative models on long contexts are commonly used for legal case outcome prediction <cite class="ltx_cite ltx_citemacro_citep">(Qin et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib52" title="">2024b</a>; Cao et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib8" title="">2024</a>)</cite>, but long-context generation datasets on legal cases are largely absent from the literature.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Long-Document Retrieval</h3>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.1">Many state-of-the-art neural retrieval models, because of their reliance on BERT models <cite class="ltx_cite ltx_citemacro_citep">(Devlin et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib15" title="">2018</a>)</cite>, have a context limit of 512 tokens <cite class="ltx_cite ltx_citemacro_citep">(Khattab and Zaharia, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib32" title="">2020</a>; Santhanam et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib57" title="">2022</a>; Ren et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib54" title="">2021</a>; Karpukhin et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib30" title="">2020a</a>)</cite>. Accompanied by the advances in long-context LLMs <cite class="ltx_cite ltx_citemacro_citep">(Brown et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib6" title="">2020</a>; Touvron et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib64" title="">2023</a>; Josh Achiam et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib29" title="">2024</a>)</cite>, there are also rising interests in long-context retrieval models <cite class="ltx_cite ltx_citemacro_citep">(Fu et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib18" title="">2023</a>; Günther et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib23" title="">2023</a>; Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib68" title="">2023</a>)</cite>. However, existing benchmarks lack insights on how both BERT-based and long-context models perform on well-defined legal retrieval tasks <cite class="ltx_cite ltx_citemacro_citep">(Thakur et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib63" title="">2021</a>; Saad-Falcon et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib56" title="">2024</a>; Shen et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib60" title="">2022</a>)</cite>.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Dataset Construction</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Dataset Preprocessing</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1"><span class="ltx_text ltx_font_smallcaps" id="S3.SS1.p1.1.1">Clerc </span>contains a collection of long case documents (<span class="ltx_text ltx_font_typewriter" id="S3.SS1.p1.1.2">CLERC/doc</span>) and chunked documents for retrieval (<span class="ltx_text ltx_font_typewriter" id="S3.SS1.p1.1.3">CLERC/passage</span>) as well as for generation (<span class="ltx_text ltx_font_typewriter" id="S3.SS1.p1.1.4">CLERC/generation</span>).
We obtain the collection of raw case documents from CAP <cite class="ltx_cite ltx_citemacro_citep">(CAP, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib9" title="">2024</a>)</cite>, including all federal case law in U.S. history up to September 21, 2021. To prepare <span class="ltx_text ltx_font_typewriter" id="S3.SS1.p1.1.5">CLERC/doc</span>, we concatenate all types of opinions (e.g., majority, dissenting, concurring opinions) in every case document and remove the newline characters. To prepare <span class="ltx_text ltx_font_typewriter" id="S3.SS1.p1.1.6">CLERC/passage</span>, we split documents into chunks of 350 words, with a sliding window of 175 words. We discuss the <span class="ltx_text ltx_font_typewriter" id="S3.SS1.p1.1.7">CLERC/generation</span> preparation process in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.SS3" title="3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">3.3</span></a> in more detail.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1">Our final dataset consists of 1.84M documents with over 20.7M total citations, 23.7M passages for retrieval, and 6k passages for generation. Details and summary statistics are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.T1" title="Table 1 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Case Retrieval</h3>
<section class="ltx_paragraph" id="S3.SS2.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Query Definition</h5>
<div class="ltx_para" id="S3.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS2.SSS0.Px1.p1.1">As lawyers write legal analyses, they need to find case documents to support their texts. To simulate this use case, we define a query as a block of text, taken from a case document, with its <span class="ltx_text ltx_framed ltx_framed_underline" id="S3.SS2.SSS0.Px1.p1.1.1">citation in the middle</span> (a.k.a the central citation) <span class="ltx_text ltx_framed ltx_framed_underline" id="S3.SS2.SSS0.Px1.p1.1.2">removed</span>. The <em class="ltx_emph ltx_font_italic" id="S3.SS2.SSS0.Px1.p1.1.3">relevant passage</em> of a query is defined as the passage its central citation cites to. We provide both left and right contexts, as legal analysis involves context from both sides.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS2.SSS0.Px2">
<h5 class="ltx_title ltx_title_paragraph">Direct and Indirect Queries</h5>
<div class="ltx_para" id="S3.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS2.SSS0.Px2.p1.1">A case document may cite another case in the form of a direct quote. <cite class="ltx_cite ltx_citemacro_citep">(Review, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib55" title="">2020</a>)</cite>. We define two kinds of legal queries based on whether the central citation contains a direct quote (<span class="ltx_text ltx_font_typewriter" id="S3.SS2.SSS0.Px2.p1.1.1">direct</span>) or not (<span class="ltx_text ltx_font_typewriter" id="S3.SS2.SSS0.Px2.p1.1.2">indirect</span>). Ideally, using <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS0.Px2.p1.1.3">only</span> this direct quote to retrieve should yield an almost perfect accuracy through an exact string match. We build a heuristic program to recognize such direct quotes (detailed in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.SS1" title="D.1 Parse Direct Quotes and Filter Queries ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">D.1</span></a>), and classify queries into direct and indirect queries.
We retrieve with <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS0.Px2.p1.1.4">only</span> direct quotes in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.T5" title="Table 5 ‣ D.2 Retrieve with Direct Quote ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">5</span></a> and Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.SS2" title="D.2 Retrieve with Direct Quote ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">D.2</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS2.SSS0.Px3">
<h5 class="ltx_title ltx_title_paragraph">Data Views</h5>
<div class="ltx_para" id="S3.SS2.SSS0.Px3.p1">
<p class="ltx_p" id="S3.SS2.SSS0.Px3.p1.1">We define two data views of legal queries depending on whether all (<span class="ltx_text ltx_font_typewriter" id="S3.SS2.SSS0.Px3.p1.1.1">all-removed</span>) or only the central (<span class="ltx_text ltx_font_typewriter" id="S3.SS2.SSS0.Px3.p1.1.2">single-removed</span>) citation information is removed. Since each kind of query has two data views, this leads to a total of four categories of queries, illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS2.SSS0.Px4">
<h5 class="ltx_title ltx_title_paragraph">Query Construction</h5>
<div class="ltx_para" id="S3.SS2.SSS0.Px4.p1">
<p class="ltx_p" id="S3.SS2.SSS0.Px4.p1.1">First, we identify case citations in documents. For every case citation, we expand a window of 300 words centered on this citation to construct a query, as legal analysis uses context from both sides. We experimented with various query lengths and found that including 300 words yields the highest recall
(summarized in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.F4" title="Figure 4 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">4</span></a>), which indicates that this length provides enough critical information for retrieving relevant cases without distracting the models to retrieve other cases, as we discuss in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1.SSS2" title="4.1.2 Ablation Studies ‣ 4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">4.1.2</span></a>. We remove the central citation in this paragraph for <span class="ltx_text ltx_font_typewriter" id="S3.SS2.SSS0.Px4.p1.1.1">single-removed</span> queries and all case citations in this paragraph for <span class="ltx_text ltx_font_typewriter" id="S3.SS2.SSS0.Px4.p1.1.2">all-removed</span> queries.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS2.SSS0.Px5">
<h5 class="ltx_title ltx_title_paragraph">Query Extraction</h5>
<div class="ltx_para" id="S3.SS2.SSS0.Px5.p1">
<p class="ltx_p" id="S3.SS2.SSS0.Px5.p1.1">To identify the case citation in a query, we use <span class="ltx_text ltx_font_typewriter" id="S3.SS2.SSS0.Px5.p1.1.1">eyecite</span> <cite class="ltx_cite ltx_citemacro_citep">(Cushman et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib12" title="">2021</a>)</cite>, a Regex-based parser that recognizes case citations from the CAP corpus. We develop a heuristic and rule-based Python program to detect the sentence boundary where the case citation is located. We create the heuristic rules based on the <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS0.Px5.p1.1.2">Bluebook</span> <cite class="ltx_cite ltx_citemacro_citep">(Review, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib55" title="">2020</a>)</cite> (detailed in <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.SS1" title="D.1 Parse Direct Quotes and Filter Queries ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">D.1</span></a>), which is the standard citation guide for U.S. legal professionals. We manually evaluate the extraction accuracy on 1000 sentences and discovered that 87.8% of citation sentences can be accurately identified and removed.</p>
</div>
<figure class="ltx_figure" id="S3.F3">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.F3.1" style="width:433.6pt;height:346.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(81.3pt,-65.0pt) scale(1.6,1.6) ;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="417" id="S3.F3.1.g1" src="x2.png" width="521"/>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Number of citations per 100 words in a paragraph, arranged by the positions (in deciles) of paragraphs in the document. <span class="ltx_text ltx_font_bold" id="S3.F3.3.1">Documents tend to cite more often in later paragraphs.</span> Case law typically has different sections (e.g. Intro, Facts, Reasoning, etc). Deciles with the same color code likely belong to the same general sections of case law..
</figcaption>
</figure>
</section>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Legal Analysis Generation</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">We prepare <span class="ltx_text ltx_font_typewriter" id="S3.SS3.p1.1.1">CLERC/generation</span> to assess the ability of LLMs to generate realistic legal analyses from previously written text and given references. To evaluate the generation quality, we feed in the preceding contexts of a target analytical paragraph (reference) and other relevant cases cited by the paragraph, prompt LLMs to generate a new analytical paragraph, and compare the generation with the reference from the original document.</p>
</div>
<section class="ltx_paragraph" id="S3.SS3.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Analytical Paragraphs Identification</h5>
<div class="ltx_para" id="S3.SS3.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS3.SSS0.Px1.p1.1">We observe that case documents usually start with introducing the basic facts about the cases, and then make multiple legal analyses while citing other relevant cases (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.F5" title="Figure 5 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">5</span></a>) <cite class="ltx_cite ltx_citemacro_citep">(Lippmann, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib39" title="">2018</a>)</cite>. To prepare the reference for evaluating analysis generation, we only use paragraphs (blocks of text separated by newline characters) containing legal analyses and discard the rest.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSS0.Px1.p2">
<p class="ltx_p" id="S3.SS3.SSS0.Px1.p2.1">Our rule of thumb to determine if a paragraph is a suitable reference is whether it has a large number of case citations, as the analytical claims are supported by case.
In Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.F3" title="Figure 3 ‣ Query Extraction ‣ 3.2 Case Retrieval ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">3</span></a>, we plot the trend of citation density in case law documents (only the majority opinion), discovering that cases cite more often, which is consistent with our prior observation.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS3.SSS0.Px2">
<h5 class="ltx_title ltx_title_paragraph">Reference Selection</h5>
<div class="ltx_para" id="S3.SS3.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS3.SSS0.Px2.p1.1">We sample analytical paragraphs from case texts as reference for evaluating analysis generation.
As we observe that analysis tends to occur in later paragraphs of a case document, we randomly sample from the last 33.3% of all paragraphs but exclude the last two paragraphs (which are usually short conclusions) and paragraphs with fewer than two case citations.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS3.SSS0.Px3">
<h5 class="ltx_title ltx_title_paragraph">Input Preparation</h5>
<div class="ltx_para" id="S3.SS3.SSS0.Px3.p1">
<p class="ltx_p" id="S3.SS3.SSS0.Px3.p1.1">After we sample the reference paragraph, we take all texts preceding the reference as a part of the input. We concatenate the most salient passages of relevant cases cited by the reference paragraph, whose chunks are selected via RankLlaMa <cite class="ltx_cite ltx_citemacro_citep">(Ma et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib43" title="">2023</a>)</cite>.</p>
</div>
<figure class="ltx_table" id="S3.T1">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S3.T1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S3.T1.1.1.1.1">Dataset Statistic</th>
<td class="ltx_td ltx_nopad_l ltx_align_center ltx_border_tt" id="S3.T1.1.1.1.2"># instances (M)</td>
<td class="ltx_td ltx_nopad_l ltx_align_center ltx_border_tt" id="S3.T1.1.1.1.3">Avg len (words)</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S3.T1.1.2.2.1"><span class="ltx_text ltx_font_typewriter" id="S3.T1.1.2.2.1.1">CLERC/doc</span></th>
<td class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t" id="S3.T1.1.2.2.2">1.84</td>
<td class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t" id="S3.T1.1.2.2.3">2279</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S3.T1.1.3.3.1"><span class="ltx_text ltx_font_typewriter" id="S3.T1.1.3.3.1.1">CLERC/passage</span></th>
<td class="ltx_td ltx_nopad_l ltx_align_center" id="S3.T1.1.3.3.2">23.7</td>
<td class="ltx_td ltx_nopad_l ltx_align_center" id="S3.T1.1.3.3.3">
<span class="ltx_text ltx_phantom" id="S3.T1.1.3.3.3.1"><span style="visibility:hidden">0</span></span>350</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S3.T1.1.4.4.1"><span class="ltx_text ltx_font_typewriter" id="S3.T1.1.4.4.1.1">CLERC/queries</span></th>
<td class="ltx_td ltx_nopad_l ltx_align_center" id="S3.T1.1.4.4.2">0.105</td>
<td class="ltx_td ltx_nopad_l ltx_align_center" id="S3.T1.1.4.4.3">
<span class="ltx_text ltx_phantom" id="S3.T1.1.4.4.3.1"><span style="visibility:hidden">0</span></span>300</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S3.T1.1.5.5.1"><span class="ltx_text ltx_font_smallcaps" id="S3.T1.1.5.5.1.1">Clerc</span></th>
<td class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t" id="S3.T1.1.5.5.2">25.5</td>
<td class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t" id="S3.T1.1.5.5.3">N/A</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S3.T1.1.6.6.1">LePaRD</th>
<td class="ltx_td ltx_nopad_l ltx_align_center" id="S3.T1.1.6.6.2">0.375</td>
<td class="ltx_td ltx_nopad_l ltx_align_center" id="S3.T1.1.6.6.3">200 char</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S3.T1.1.7.7.1">ECtHR-PCR</th>
<td class="ltx_td ltx_nopad_l ltx_align_center" id="S3.T1.1.7.7.2">0.015</td>
<td class="ltx_td ltx_nopad_l ltx_align_center" id="S3.T1.1.7.7.3">5530</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S3.T1.1.8.8.1">LeCaRDv2</th>
<td class="ltx_td ltx_nopad_l ltx_align_center" id="S3.T1.1.8.8.2">0.055</td>
<td class="ltx_td ltx_nopad_l ltx_align_center" id="S3.T1.1.8.8.3">4766</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.9.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" id="S3.T1.1.9.9.1"><span class="ltx_text ltx_font_typewriter" id="S3.T1.1.9.9.1.1">CLERC/generation</span></th>
<td class="ltx_td ltx_nopad_l ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.1.9.9.2">0.006</td>
<td class="ltx_td ltx_nopad_l ltx_align_center ltx_border_bb ltx_border_t" id="S3.T1.1.9.9.3">3371</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Dataset statistics. <span class="ltx_text ltx_font_smallcaps" id="S3.T1.4.1">Clerc </span>has the largest document and passage combined collection compared to other legal retrieval datasets <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib35" title="">2024</a>; Mahari et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib47" title="">2023</a>; T.Y.S.S et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib66" title="">2024</a>)</cite>. Additionally, <span class="ltx_text ltx_font_smallcaps" id="S3.T1.5.2">Clerc </span>contributes a novel subset for legal analysis generation.</figcaption>
</figure>
<figure class="ltx_table" id="S3.T2">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T2.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T2.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S3.T2.1.1.1.1">Type</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" id="S3.T2.1.1.1.2">R@5</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" id="S3.T2.1.1.1.3">R@10</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S3.T2.1.1.1.4">R@100</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" id="S3.T2.1.1.1.5">R@1K</th>
<th class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S3.T2.1.1.1.6">nDCG@10</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T2.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S3.T2.1.2.1.1">ISR</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T2.1.2.1.2"><span class="ltx_text ltx_font_bold" id="S3.T2.1.2.1.2.1">7.9</span></td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T2.1.2.1.3"><span class="ltx_text ltx_font_bold" id="S3.T2.1.2.1.3.1">11.8</span></td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T2.1.2.1.4"><span class="ltx_text ltx_font_bold" id="S3.T2.1.2.1.4.1">27.6</span></td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T2.1.2.1.5">48.3</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_right ltx_border_t" id="S3.T2.1.2.1.6"><span class="ltx_text ltx_font_bold" id="S3.T2.1.2.1.6.1">5.4</span></td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S3.T2.1.3.2.1">IAR</th>
<td class="ltx_td ltx_align_right" id="S3.T2.1.3.2.2">7.5</td>
<td class="ltx_td ltx_align_right" id="S3.T2.1.3.2.3">11.1</td>
<td class="ltx_td ltx_align_right" id="S3.T2.1.3.2.4">25.1</td>
<td class="ltx_td ltx_align_right" id="S3.T2.1.3.2.5">43.9</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_right" id="S3.T2.1.3.2.6">5.2</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S3.T2.1.4.3.1">DSR</th>
<td class="ltx_td ltx_align_right" id="S3.T2.1.4.3.2">7.0</td>
<td class="ltx_td ltx_align_right" id="S3.T2.1.4.3.3">11.0</td>
<td class="ltx_td ltx_align_right" id="S3.T2.1.4.3.4">26.7</td>
<td class="ltx_td ltx_align_right" id="S3.T2.1.4.3.5"><span class="ltx_text ltx_font_bold" id="S3.T2.1.4.3.5.1">48.5</span></td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_right" id="S3.T2.1.4.3.6">5.0</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S3.T2.1.5.4.1">DAR</th>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S3.T2.1.5.4.2">6.8</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S3.T2.1.5.4.3">9.88</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S3.T2.1.5.4.4">24.9</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S3.T2.1.5.4.5">46.3</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_right ltx_border_bb" id="S3.T2.1.5.4.6">4.6</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Retrieval results of BM25 with different types of <span class="ltx_text ltx_font_smallcaps" id="S3.T2.9.1">Clerc </span>queries. I stands for <span class="ltx_text ltx_font_typewriter" id="S3.T2.10.2">indirect</span>, D for <span class="ltx_text ltx_font_typewriter" id="S3.T2.11.3">direct</span>, SR for <span class="ltx_text ltx_font_typewriter" id="S3.T2.12.4">single-removed</span>, and AR for <span class="ltx_text ltx_font_typewriter" id="S3.T2.13.5">all-removed</span>. E.g. ISR refers to <span class="ltx_text ltx_font_typewriter" id="S3.T2.14.6">indirect single-removed</span>. All numbers are in percentage. R@X represents Recall@X. <span class="ltx_text ltx_font_bold" id="S3.T2.15.7">ISR queries are the easiest queries to retrieve and are used for our main retrieval experiments.</span></figcaption>
</figure>
<figure class="ltx_figure" id="S3.F4">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.F4.1" style="width:433.6pt;height:346.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(81.3pt,-65.0pt) scale(1.6,1.6) ;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="417" id="S3.F4.1.g1" src="x3.png" width="521"/>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Retrieval results of BM25 with <span class="ltx_text ltx_font_smallcaps" id="S3.F4.4.1">Clerc </span>queries of length 100 to 1000 words. R@X represents Recall@X. <span class="ltx_text ltx_font_bold" id="S3.F4.5.2">Queries with 300 words maximize recall and are used for our main experiments.</span></figcaption>
</figure>
<figure class="ltx_table" id="S3.T3">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S3.T3.4">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T3.4.5.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T3.4.5.1.1" rowspan="2"><span class="ltx_text" id="S3.T3.4.5.1.1.1">Type</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T3.4.5.1.2" rowspan="2"><span class="ltx_text" id="S3.T3.4.5.1.2.1">Params</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T3.4.5.1.3" rowspan="2"><span class="ltx_text" id="S3.T3.4.5.1.3.1">Length</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T3.4.5.1.4" rowspan="2"><span class="ltx_text" id="S3.T3.4.5.1.4.1">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S3.T3.4.5.1.5">Metrics</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.1.1.1">R@10 <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T3.1.1.1.m1.1"><semantics id="S3.T3.1.1.1.m1.1a"><mo id="S3.T3.1.1.1.m1.1.1" stretchy="false" xref="S3.T3.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T3.1.1.1.m1.1b"><ci id="S3.T3.1.1.1.m1.1.1.cmml" xref="S3.T3.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.1.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S3.T3.1.1.1.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.2.2.2">R@100 <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T3.2.2.2.m1.1"><semantics id="S3.T3.2.2.2.m1.1a"><mo id="S3.T3.2.2.2.m1.1.1" stretchy="false" xref="S3.T3.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T3.2.2.2.m1.1b"><ci id="S3.T3.2.2.2.m1.1.1.cmml" xref="S3.T3.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.2.2.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S3.T3.2.2.2.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T3.3.3.3">R@1K <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T3.3.3.3.m1.1"><semantics id="S3.T3.3.3.3.m1.1a"><mo id="S3.T3.3.3.3.m1.1.1" stretchy="false" xref="S3.T3.3.3.3.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T3.3.3.3.m1.1b"><ci id="S3.T3.3.3.3.m1.1.1.cmml" xref="S3.T3.3.3.3.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.3.3.3.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S3.T3.3.3.3.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T3.4.4.4">nDCG@10 <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T3.4.4.4.m1.1"><semantics id="S3.T3.4.4.4.m1.1a"><mo id="S3.T3.4.4.4.m1.1.1" stretchy="false" xref="S3.T3.4.4.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T3.4.4.4.m1.1b"><ci id="S3.T3.4.4.4.m1.1.1.cmml" xref="S3.T3.4.4.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.4.4.4.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S3.T3.4.4.4.m1.1d">↑</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.6.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.6.2.1">Sparse</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.6.2.2">N/A</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.6.2.3">N/A</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.6.2.4">BM25</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.6.2.5">11.7</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.6.2.6">27.8</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T3.4.6.2.7">48.3</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T3.4.6.2.8">5.40</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.7.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.7.3.1" rowspan="3"><span class="ltx_text" id="S3.T3.4.7.3.1.1">Late Interaction</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.7.3.2">110M</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.7.3.3">512</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.7.3.4">ColBERTv2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.7.3.5">2.2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.7.3.6">7.1</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T3.4.7.3.7">17.6</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T3.4.7.3.8">1.05</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.8.4">
<td class="ltx_td ltx_align_left" id="S3.T3.4.8.4.1">110M</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.8.4.2">2048</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.8.4.3">Jina-ColBERT-v1-en</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.8.4.4">2.1</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.8.4.5">5.8</td>
<td class="ltx_td ltx_align_right" id="S3.T3.4.8.4.6">14.2</td>
<td class="ltx_td ltx_align_right" id="S3.T3.4.8.4.7">1.15</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.9.5">
<td class="ltx_td ltx_align_left" id="S3.T3.4.9.5.1">110M</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.9.5.2">4096</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.9.5.3">Jina-ColBERT-v1-en</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.9.5.4">2.2</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.9.5.5">6.9</td>
<td class="ltx_td ltx_align_right" id="S3.T3.4.9.5.6">16.1</td>
<td class="ltx_td ltx_align_right" id="S3.T3.4.9.5.7">1.19</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.10.6">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.10.6.1" rowspan="4"><span class="ltx_text" id="S3.T3.4.10.6.1.1">Bi-Encoders</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.10.6.2">110M</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.10.6.3">512</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.10.6.4">DPR</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.10.6.5">4.9</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.10.6.6">13.1</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T3.4.10.6.7">26.2</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T3.4.10.6.8">2.24</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.11.7">
<td class="ltx_td ltx_align_left" id="S3.T3.4.11.7.1">110M</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.11.7.2">512</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.11.7.3">BGE En v1.5</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.11.7.4">7.7</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.11.7.5">23.2</td>
<td class="ltx_td ltx_align_right" id="S3.T3.4.11.7.6">42.4</td>
<td class="ltx_td ltx_align_right" id="S3.T3.4.11.7.7">3.43</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.12.8">
<td class="ltx_td ltx_align_left" id="S3.T3.4.12.8.1">110M</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.12.8.2">512</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.12.8.3">E5 v2</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.12.8.4">8.4</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.12.8.5">24.3</td>
<td class="ltx_td ltx_align_right" id="S3.T3.4.12.8.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T3.4.12.8.6.1">42.3</span></td>
<td class="ltx_td ltx_align_right" id="S3.T3.4.12.8.7">3.67</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.13.9">
<td class="ltx_td ltx_align_left" id="S3.T3.4.13.9.1">110M</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.13.9.2">512</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.13.9.3">Contriever-MSMarco</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.13.9.4">9.3</td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.13.9.5">24.8</td>
<td class="ltx_td ltx_align_right" id="S3.T3.4.13.9.6">41.4</td>
<td class="ltx_td ltx_align_right" id="S3.T3.4.13.9.7">4.22</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.14.10">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S3.T3.4.14.10.1" rowspan="2"><span class="ltx_text" id="S3.T3.4.14.10.1.1">Fine-Tuned</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.14.10.2">110M</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.14.10.3">512</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.14.10.4">ft-DPR</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.14.10.5">18.6</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.4.14.10.6">40.9</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T3.4.14.10.7">63.1</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T3.4.14.10.8">11.59</td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.15.11">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.4.15.11.1">110M</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.4.15.11.2">512</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.4.15.11.3">ft-LegalBERT DPR</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.4.15.11.4"><span class="ltx_text ltx_font_bold" id="S3.T3.4.15.11.4.1">23.2</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.4.15.11.5"><span class="ltx_text ltx_font_bold" id="S3.T3.4.15.11.5.1">46.9</span></td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S3.T3.4.15.11.6"><span class="ltx_text ltx_font_bold" id="S3.T3.4.15.11.6.1">68.5</span></td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S3.T3.4.15.11.7"><span class="ltx_text ltx_font_bold" id="S3.T3.4.15.11.7.1">14.67</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Retrieval results on <span class="ltx_text ltx_font_typewriter" id="S3.T3.7.1">CLERC/doc</span> and <span class="ltx_text ltx_font_typewriter" id="S3.T3.8.2">CLERC/passage</span>, evaluated with Recall@10, @100, @1000 and nDCG@10. Overall, zero-shot models are particularly bad due to distribution shifts between standard retrieval training data and the legal domain (Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S5.SS1" title="5.1 Limitations in Case Retrieval ‣ 5 Discussion ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">5.1</span></a>). Models fine-tuned on legal data show effectively improved results.

</figcaption>
</figure>
<figure class="ltx_table" id="S3.T4">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T4.13">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T4.13.13">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S3.T4.13.13.14">Model</th>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T4.2.2.2">R1 <math alttext="\times 100" class="ltx_Math" display="inline" id="S3.T4.1.1.1.m1.1"><semantics id="S3.T4.1.1.1.m1.1a"><mrow id="S3.T4.1.1.1.m1.1.1" xref="S3.T4.1.1.1.m1.1.1.cmml"><mi id="S3.T4.1.1.1.m1.1.1.2" xref="S3.T4.1.1.1.m1.1.1.2.cmml"></mi><mo id="S3.T4.1.1.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S3.T4.1.1.1.m1.1.1.1.cmml">×</mo><mn id="S3.T4.1.1.1.m1.1.1.3" xref="S3.T4.1.1.1.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T4.1.1.1.m1.1b"><apply id="S3.T4.1.1.1.m1.1.1.cmml" xref="S3.T4.1.1.1.m1.1.1"><times id="S3.T4.1.1.1.m1.1.1.1.cmml" xref="S3.T4.1.1.1.m1.1.1.1"></times><csymbol cd="latexml" id="S3.T4.1.1.1.m1.1.1.2.cmml" xref="S3.T4.1.1.1.m1.1.1.2">absent</csymbol><cn id="S3.T4.1.1.1.m1.1.1.3.cmml" type="integer" xref="S3.T4.1.1.1.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.1.1.1.m1.1c">\times 100</annotation><annotation encoding="application/x-llamapun" id="S3.T4.1.1.1.m1.1d">× 100</annotation></semantics></math>    <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T4.2.2.2.m2.1"><semantics id="S3.T4.2.2.2.m2.1a"><mo id="S3.T4.2.2.2.m2.1.1" stretchy="false" xref="S3.T4.2.2.2.m2.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T4.2.2.2.m2.1b"><ci id="S3.T4.2.2.2.m2.1.1.cmml" xref="S3.T4.2.2.2.m2.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.2.2.2.m2.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S3.T4.2.2.2.m2.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T4.4.4.4">R2<math alttext="\times 100" class="ltx_Math" display="inline" id="S3.T4.3.3.3.m1.1"><semantics id="S3.T4.3.3.3.m1.1a"><mrow id="S3.T4.3.3.3.m1.1.1" xref="S3.T4.3.3.3.m1.1.1.cmml"><mi id="S3.T4.3.3.3.m1.1.1.2" xref="S3.T4.3.3.3.m1.1.1.2.cmml"></mi><mo id="S3.T4.3.3.3.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S3.T4.3.3.3.m1.1.1.1.cmml">×</mo><mn id="S3.T4.3.3.3.m1.1.1.3" xref="S3.T4.3.3.3.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T4.3.3.3.m1.1b"><apply id="S3.T4.3.3.3.m1.1.1.cmml" xref="S3.T4.3.3.3.m1.1.1"><times id="S3.T4.3.3.3.m1.1.1.1.cmml" xref="S3.T4.3.3.3.m1.1.1.1"></times><csymbol cd="latexml" id="S3.T4.3.3.3.m1.1.1.2.cmml" xref="S3.T4.3.3.3.m1.1.1.2">absent</csymbol><cn id="S3.T4.3.3.3.m1.1.1.3.cmml" type="integer" xref="S3.T4.3.3.3.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.3.3.3.m1.1c">\times 100</annotation><annotation encoding="application/x-llamapun" id="S3.T4.3.3.3.m1.1d">× 100</annotation></semantics></math>    <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T4.4.4.4.m2.1"><semantics id="S3.T4.4.4.4.m2.1a"><mo id="S3.T4.4.4.4.m2.1.1" stretchy="false" xref="S3.T4.4.4.4.m2.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T4.4.4.4.m2.1b"><ci id="S3.T4.4.4.4.m2.1.1.cmml" xref="S3.T4.4.4.4.m2.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.4.4.4.m2.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S3.T4.4.4.4.m2.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_nopad_r ltx_align_left ltx_border_tt" id="S3.T4.6.6.6">RL<math alttext="\times 100" class="ltx_Math" display="inline" id="S3.T4.5.5.5.m1.1"><semantics id="S3.T4.5.5.5.m1.1a"><mrow id="S3.T4.5.5.5.m1.1.1" xref="S3.T4.5.5.5.m1.1.1.cmml"><mi id="S3.T4.5.5.5.m1.1.1.2" xref="S3.T4.5.5.5.m1.1.1.2.cmml"></mi><mo id="S3.T4.5.5.5.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S3.T4.5.5.5.m1.1.1.1.cmml">×</mo><mn id="S3.T4.5.5.5.m1.1.1.3" xref="S3.T4.5.5.5.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T4.5.5.5.m1.1b"><apply id="S3.T4.5.5.5.m1.1.1.cmml" xref="S3.T4.5.5.5.m1.1.1"><times id="S3.T4.5.5.5.m1.1.1.1.cmml" xref="S3.T4.5.5.5.m1.1.1.1"></times><csymbol cd="latexml" id="S3.T4.5.5.5.m1.1.1.2.cmml" xref="S3.T4.5.5.5.m1.1.1.2">absent</csymbol><cn id="S3.T4.5.5.5.m1.1.1.3.cmml" type="integer" xref="S3.T4.5.5.5.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.5.5.5.m1.1c">\times 100</annotation><annotation encoding="application/x-llamapun" id="S3.T4.5.5.5.m1.1d">× 100</annotation></semantics></math>    <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T4.6.6.6.m2.1"><semantics id="S3.T4.6.6.6.m2.1a"><mo id="S3.T4.6.6.6.m2.1.1" stretchy="false" xref="S3.T4.6.6.6.m2.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T4.6.6.6.m2.1b"><ci id="S3.T4.6.6.6.m2.1.1.cmml" xref="S3.T4.6.6.6.m2.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.6.6.6.m2.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S3.T4.6.6.6.m2.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_nopad_r ltx_align_left ltx_border_tt" id="S3.T4.7.7.7">BF    <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T4.7.7.7.m1.1"><semantics id="S3.T4.7.7.7.m1.1a"><mo id="S3.T4.7.7.7.m1.1.1" stretchy="false" xref="S3.T4.7.7.7.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T4.7.7.7.m1.1b"><ci id="S3.T4.7.7.7.m1.1.1.cmml" xref="S3.T4.7.7.7.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.7.7.7.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S3.T4.7.7.7.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T4.9.9.9">CR <math alttext="\times 100" class="ltx_Math" display="inline" id="S3.T4.8.8.8.m1.1"><semantics id="S3.T4.8.8.8.m1.1a"><mrow id="S3.T4.8.8.8.m1.1.1" xref="S3.T4.8.8.8.m1.1.1.cmml"><mi id="S3.T4.8.8.8.m1.1.1.2" xref="S3.T4.8.8.8.m1.1.1.2.cmml"></mi><mo id="S3.T4.8.8.8.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S3.T4.8.8.8.m1.1.1.1.cmml">×</mo><mn id="S3.T4.8.8.8.m1.1.1.3" xref="S3.T4.8.8.8.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T4.8.8.8.m1.1b"><apply id="S3.T4.8.8.8.m1.1.1.cmml" xref="S3.T4.8.8.8.m1.1.1"><times id="S3.T4.8.8.8.m1.1.1.1.cmml" xref="S3.T4.8.8.8.m1.1.1.1"></times><csymbol cd="latexml" id="S3.T4.8.8.8.m1.1.1.2.cmml" xref="S3.T4.8.8.8.m1.1.1.2">absent</csymbol><cn id="S3.T4.8.8.8.m1.1.1.3.cmml" type="integer" xref="S3.T4.8.8.8.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.8.8.8.m1.1c">\times 100</annotation><annotation encoding="application/x-llamapun" id="S3.T4.8.8.8.m1.1d">× 100</annotation></semantics></math>   <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T4.9.9.9.m2.1"><semantics id="S3.T4.9.9.9.m2.1a"><mo id="S3.T4.9.9.9.m2.1.1" stretchy="false" xref="S3.T4.9.9.9.m2.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T4.9.9.9.m2.1b"><ci id="S3.T4.9.9.9.m2.1.1.cmml" xref="S3.T4.9.9.9.m2.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.9.9.9.m2.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S3.T4.9.9.9.m2.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T4.11.11.11">CP<math alttext="\times 100" class="ltx_Math" display="inline" id="S3.T4.10.10.10.m1.1"><semantics id="S3.T4.10.10.10.m1.1a"><mrow id="S3.T4.10.10.10.m1.1.1" xref="S3.T4.10.10.10.m1.1.1.cmml"><mi id="S3.T4.10.10.10.m1.1.1.2" xref="S3.T4.10.10.10.m1.1.1.2.cmml"></mi><mo id="S3.T4.10.10.10.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S3.T4.10.10.10.m1.1.1.1.cmml">×</mo><mn id="S3.T4.10.10.10.m1.1.1.3" xref="S3.T4.10.10.10.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T4.10.10.10.m1.1b"><apply id="S3.T4.10.10.10.m1.1.1.cmml" xref="S3.T4.10.10.10.m1.1.1"><times id="S3.T4.10.10.10.m1.1.1.1.cmml" xref="S3.T4.10.10.10.m1.1.1.1"></times><csymbol cd="latexml" id="S3.T4.10.10.10.m1.1.1.2.cmml" xref="S3.T4.10.10.10.m1.1.1.2">absent</csymbol><cn id="S3.T4.10.10.10.m1.1.1.3.cmml" type="integer" xref="S3.T4.10.10.10.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.10.10.10.m1.1c">\times 100</annotation><annotation encoding="application/x-llamapun" id="S3.T4.10.10.10.m1.1d">× 100</annotation></semantics></math>    <math alttext="\uparrow" class="ltx_Math" display="inline" id="S3.T4.11.11.11.m2.1"><semantics id="S3.T4.11.11.11.m2.1a"><mo id="S3.T4.11.11.11.m2.1.1" stretchy="false" xref="S3.T4.11.11.11.m2.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T4.11.11.11.m2.1b"><ci id="S3.T4.11.11.11.m2.1.1.cmml" xref="S3.T4.11.11.11.m2.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.11.11.11.m2.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S3.T4.11.11.11.m2.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T4.13.13.13">CFP<math alttext="\times 100" class="ltx_Math" display="inline" id="S3.T4.12.12.12.m1.1"><semantics id="S3.T4.12.12.12.m1.1a"><mrow id="S3.T4.12.12.12.m1.1.1" xref="S3.T4.12.12.12.m1.1.1.cmml"><mi id="S3.T4.12.12.12.m1.1.1.2" xref="S3.T4.12.12.12.m1.1.1.2.cmml"></mi><mo id="S3.T4.12.12.12.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S3.T4.12.12.12.m1.1.1.1.cmml">×</mo><mn id="S3.T4.12.12.12.m1.1.1.3" xref="S3.T4.12.12.12.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T4.12.12.12.m1.1b"><apply id="S3.T4.12.12.12.m1.1.1.cmml" xref="S3.T4.12.12.12.m1.1.1"><times id="S3.T4.12.12.12.m1.1.1.1.cmml" xref="S3.T4.12.12.12.m1.1.1.1"></times><csymbol cd="latexml" id="S3.T4.12.12.12.m1.1.1.2.cmml" xref="S3.T4.12.12.12.m1.1.1.2">absent</csymbol><cn id="S3.T4.12.12.12.m1.1.1.3.cmml" type="integer" xref="S3.T4.12.12.12.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.12.12.12.m1.1c">\times 100</annotation><annotation encoding="application/x-llamapun" id="S3.T4.12.12.12.m1.1d">× 100</annotation></semantics></math>    <math alttext="\downarrow" class="ltx_Math" display="inline" id="S3.T4.13.13.13.m2.1"><semantics id="S3.T4.13.13.13.m2.1a"><mo id="S3.T4.13.13.13.m2.1.1" stretchy="false" xref="S3.T4.13.13.13.m2.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S3.T4.13.13.13.m2.1b"><ci id="S3.T4.13.13.13.m2.1.1.cmml" xref="S3.T4.13.13.13.m2.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.13.13.13.m2.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S3.T4.13.13.13.m2.1d">↓</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S3.T4.13.14.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S3.T4.13.14.1.1">Mistral-7B-v0.3</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T4.13.14.1.2">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.14.1.2.1">23.78</span> / 18.48</td>
<td class="ltx_td ltx_nopad_l ltx_align_right ltx_border_t" id="S3.T4.13.14.1.3">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.14.1.3.1">8.00</span> / 4.63</td>
<td class="ltx_td ltx_nopad_l ltx_align_right ltx_border_t" id="S3.T4.13.14.1.4">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.14.1.4.1">21.89</span> / 16.78</td>
<td class="ltx_td ltx_nopad_l ltx_align_right ltx_border_t" id="S3.T4.13.14.1.5">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.14.1.5.1">-3.35</span> / -3.57</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T4.13.14.1.6">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.14.1.6.1">42.67</span> / 0.32</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T4.13.14.1.7">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.14.1.7.1">32.65</span> / 0.70</td>
<td class="ltx_td ltx_nopad_r ltx_align_right ltx_border_t" id="S3.T4.13.14.1.8">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.14.1.8.1">5.27</span> / 25.28</td>
</tr>
<tr class="ltx_tr" id="S3.T4.13.15.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S3.T4.13.15.2.1">gemma-1.1-7b-it</th>
<td class="ltx_td ltx_align_right" id="S3.T4.13.15.2.2">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.15.2.2.1">18.33</span> / 16.82</td>
<td class="ltx_td ltx_nopad_l ltx_align_right" id="S3.T4.13.15.2.3">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.15.2.3.1">5.28</span> / 3.99</td>
<td class="ltx_td ltx_nopad_l ltx_align_right" id="S3.T4.13.15.2.4">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.15.2.4.1">16.70</span> / 14.81</td>
<td class="ltx_td ltx_nopad_l ltx_align_right" id="S3.T4.13.15.2.5">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.15.2.5.1">-3.71</span> / -3.62</td>
<td class="ltx_td ltx_align_right" id="S3.T4.13.15.2.6">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.15.2.6.1">37.22</span> / 0.00</td>
<td class="ltx_td ltx_align_right" id="S3.T4.13.15.2.7">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.15.2.7.1">36.59</span> / 0.00</td>
<td class="ltx_td ltx_nopad_r ltx_align_right" id="S3.T4.13.15.2.8">
<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S3.T4.13.15.2.8.1">4.34</span> / 84.62</td>
</tr>
<tr class="ltx_tr" id="S3.T4.13.16.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S3.T4.13.16.3.1">GPT-4o</th>
<td class="ltx_td ltx_align_right" id="S3.T4.13.16.3.2">
<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S3.T4.13.16.3.2.1">26.82</span> / 19.87</td>
<td class="ltx_td ltx_nopad_l ltx_align_right" id="S3.T4.13.16.3.3">
<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S3.T4.13.16.3.3.1">10.04</span> / 5.56</td>
<td class="ltx_td ltx_nopad_l ltx_align_right" id="S3.T4.13.16.3.4">
<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S3.T4.13.16.3.4.1">24.89</span> / 17.93</td>
<td class="ltx_td ltx_nopad_l ltx_align_right" id="S3.T4.13.16.3.5">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.16.3.5.1">-3.33</span> / -3.64</td>
<td class="ltx_td ltx_align_right" id="S3.T4.13.16.3.6">
<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S3.T4.13.16.3.6.1">89.87</span> / 3.28</td>
<td class="ltx_td ltx_align_right" id="S3.T4.13.16.3.7">
<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S3.T4.13.16.3.7.1">52.84</span> / 7.66</td>
<td class="ltx_td ltx_nopad_r ltx_align_right" id="S3.T4.13.16.3.8">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.16.3.8.1">6.41</span> / 71.49</td>
</tr>
<tr class="ltx_tr" id="S3.T4.13.17.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S3.T4.13.17.4.1">Llama-3</th>
<td class="ltx_td ltx_align_right" id="S3.T4.13.17.4.2">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.17.4.2.1">25.16</span> / 18.68</td>
<td class="ltx_td ltx_nopad_l ltx_align_right" id="S3.T4.13.17.4.3">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.17.4.3.1">8.91</span> / 4.68</td>
<td class="ltx_td ltx_nopad_l ltx_align_right" id="S3.T4.13.17.4.4">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.17.4.4.1">23.42</span> / 16.86</td>
<td class="ltx_td ltx_nopad_l ltx_align_right" id="S3.T4.13.17.4.5">
<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S3.T4.13.17.4.5.1">-3.16</span> / -3.48</td>
<td class="ltx_td ltx_align_right" id="S3.T4.13.17.4.6">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.17.4.6.1">62.64</span> / 0.07</td>
<td class="ltx_td ltx_align_right" id="S3.T4.13.17.4.7">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.17.4.7.1">33.41</span> / 0.84</td>
<td class="ltx_td ltx_nopad_r ltx_align_right" id="S3.T4.13.17.4.8">
<span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T4.13.17.4.8.1">4.60</span> /   7.17</td>
</tr>
<tr class="ltx_tr" id="S3.T4.13.18.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S3.T4.13.18.5.1">Avg Score</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T4.13.18.5.2">18.55</td>
<td class="ltx_td ltx_nopad_l ltx_align_right ltx_border_t" id="S3.T4.13.18.5.3">4.73</td>
<td class="ltx_td ltx_nopad_l ltx_align_right ltx_border_t" id="S3.T4.13.18.5.4">16.71</td>
<td class="ltx_td ltx_nopad_l ltx_align_right ltx_border_t" id="S3.T4.13.18.5.5">-3.52</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T4.13.18.5.6">0.84</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S3.T4.13.18.5.7">2.13</td>
<td class="ltx_td ltx_nopad_r ltx_align_right ltx_border_t" id="S3.T4.13.18.5.8">40.64</td>
</tr>
<tr class="ltx_tr" id="S3.T4.13.19.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S3.T4.13.19.6.1">     + ref</th>
<td class="ltx_td ltx_align_right" id="S3.T4.13.19.6.2">23.50</td>
<td class="ltx_td ltx_nopad_l ltx_align_right" id="S3.T4.13.19.6.3">7.96</td>
<td class="ltx_td ltx_nopad_l ltx_align_right" id="S3.T4.13.19.6.4">21.70</td>
<td class="ltx_td ltx_nopad_l ltx_align_right" id="S3.T4.13.19.6.5">-3.38</td>
<td class="ltx_td ltx_align_right" id="S3.T4.13.19.6.6">54.88</td>
<td class="ltx_td ltx_align_right" id="S3.T4.13.19.6.7">36.39</td>
<td class="ltx_td ltx_nopad_r ltx_align_right" id="S3.T4.13.19.6.8">5.13</td>
</tr>
<tr class="ltx_tr" id="S3.T4.13.20.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S3.T4.13.20.7.1">Avg Gain (%)</th>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S3.T4.13.20.7.2">+ 26.63</td>
<td class="ltx_td ltx_nopad_l ltx_align_right ltx_border_bb" id="S3.T4.13.20.7.3">+ 68.08</td>
<td class="ltx_td ltx_nopad_l ltx_align_right ltx_border_bb" id="S3.T4.13.20.7.4">+ 29.87</td>
<td class="ltx_td ltx_nopad_l ltx_align_right ltx_border_bb" id="S3.T4.13.20.7.5">+ 3.98</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S3.T4.13.20.7.6">+ 6471.43</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S3.T4.13.20.7.7">+ 1603.76</td>
<td class="ltx_td ltx_nopad_r ltx_align_right ltx_border_bb" id="S3.T4.13.20.7.8">- 87.37</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Analysis generation results on <span class="ltx_text ltx_font_typewriter" id="S3.T4.17.1">CLERC/generation</span>, evaluated with F-scores of ROUGE and BARTScore (BF), CR, CP, and CFP. All models are instruct versions, and Llama-3 is shortened from Meta-Llama-3-8B-Instruct. Left / right column results correspond to prompting with / without the texts of cited cases. <span class="ltx_text ltx_font_bold" id="S3.T4.18.2">GPT-4o generates analyses with the highest ROUGE F-scores but hallucinates the most</span>. <span class="ltx_text ltx_font_bold" id="S3.T4.19.3">Prompting with cited cases shows effective improvement across all metrics</span>, especially boosting CR and CP and lowering CFP, making more factual citations in generations.
</figcaption>
</figure>
<figure class="ltx_figure" id="S3.F5">
<p class="ltx_p ltx_align_center" id="S3.F5.1">
<span class="ltx_inline-block ltx_minipage ltx_align_middle ltx_framed ltx_framed_rectangle" id="S3.F5.1.1" style="width:400.0pt;">
<span class="ltx_p" id="S3.F5.1.1.1">FINDINGS OF FACT AND CONCLUSIONS OF LAW</span>
<span class="ltx_p" id="S3.F5.1.1.2">PAEZ, District Judge.</span>
<span class="ltx_p" id="S3.F5.1.1.3"><span class="ltx_text ltx_font_bold" id="S3.F5.1.1.3.1">I. INTRODUCTION</span></span>
<span class="ltx_p" id="S3.F5.1.1.4">The Board of Trustees of the Aircondi-tioning and Refrigeration Industry Health and Welfare Trust Fund (“Health Fund”), the Board of Trustees of the Aircondition-ing and Refrigeration Industry Retirement Trust Fund (“Retirement Fund”), and the Board of Trustees of the Airconditioning and Refrigeration Industry Defined Contribution Retirement Plan (“401(k) Plan”) (collectively, the “Trust Funds”) brought this action against J.R.D. Mechanical Services, Inc. …(Omitted for brevity)…</span>
<span class="ltx_p" id="S3.F5.1.1.5"><span class="ltx_text ltx_font_bold" id="S3.F5.1.1.5.1">II. FINDINGS OF FACT</span></span>
<span class="ltx_p" id="S3.F5.1.1.6">1. Defendant J.R.D. is a California corporation and at all material times was an employer within the meaning of section 3(5) of ERISA, 29 U.S.C. § 1002(5) …(Omitted for brevity)…</span>
<span class="ltx_p" id="S3.F5.1.1.7"><span class="ltx_text ltx_font_bold" id="S3.F5.1.1.7.1">III. CONCLUSIONS OF LAW</span></span>
<span class="ltx_p" id="S3.F5.1.1.8">Based on the forgoing findings of fact, the Court makes the following conclusions of law:
…(Omitted for brevity)…</span>
<span class="ltx_p" id="S3.F5.1.1.9"><span class="ltx_text" id="S3.F5.1.1.9.1" style="color:#21ABCC;">“‘Any’ control over disposition of plan money makes the person who has the control a fiduciary.” <span class="ltx_text ltx_font_italic" id="S3.F5.1.1.9.1.1">IT Corp. v. General Am. Life Ins. Co., 107 F.3d 1415, 1421 (9th Cir.1997), cert. denied, 522 U.S. 1068, 118 5.Ct. 738, 139 L.Ed.2d 675 (1998).</span> Thus, “a person with authority to direct payment of a plan’s money [is] deemed a fiduciary.” Id. Divers’ status as a corporate officer does not exempt him from liability. See <span class="ltx_text ltx_font_italic" id="S3.F5.1.1.9.1.2">Kayes v. Pacific Lumber Co., 51 F.3d 1449, 1459 (9th Cir.1995)</span> (“This court has held corporate officers to be liable as fiduciaries on the basis of their conduct and authority with respect to ERISA plans.”). Rather, he is liable because, as established by the factual findings, he exercised authority and control over the management and disposition of the Trust Funds’ assets.</span></span>
<span class="ltx_p" id="S3.F5.1.1.10">…(Omitted for brevity)…</span>
</span>
</p>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Example case document (<span class="ltx_text ltx_font_italic" id="S3.F5.8.1">99 F. Supp. 2d 1115</span>). <span class="ltx_text" id="S3.F5.9.2" style="color:#21ABCC;">Blue texts</span> are analytical texts and <span class="ltx_text ltx_font_italic" id="S3.F5.10.3">italicized texts</span> are case citations. This is a typical case document which starts with introductions and facts (<span class="ltx_text ltx_font_bold" id="S3.F5.11.4">I</span> and <span class="ltx_text ltx_font_bold" id="S3.F5.12.5">II</span>) about the case and then dives into legal analyses and reasoning at later paragraphs (<span class="ltx_text ltx_font_bold" id="S3.F5.13.6">III</span>). See casetext link for full text: <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://casetext.com/case/board-of-trustees-of-aircondition-v-jrd-mech" title="">https://casetext.com/case/board-of-trustees-of-aircondition-v-jrd-mech</a>.</figcaption>
</figure>
</section>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we present experiment results of legal citation retrieval (Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1" title="4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">4.1</span></a>) and legal analysis generation (Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS2" title="4.2 Generating Legal Analyses from Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">4.2</span></a>) with the proposed <span class="ltx_text ltx_font_smallcaps" id="S4.p1.1.1">Clerc</span>.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Finding Legal Citations</h3>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Task Formulation</h5>
<div class="ltx_para" id="S4.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px1.p1.8">Given a query paragraph <math alttext="q" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px1.p1.1.m1.1"><semantics id="S4.SS1.SSS0.Px1.p1.1.m1.1a"><mi id="S4.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S4.SS1.SSS0.Px1.p1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px1.p1.1.m1.1b"><ci id="S4.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS0.Px1.p1.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px1.p1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px1.p1.1.m1.1d">italic_q</annotation></semantics></math> with a central citation sentence <math alttext="s" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px1.p1.2.m2.1"><semantics id="S4.SS1.SSS0.Px1.p1.2.m2.1a"><mi id="S4.SS1.SSS0.Px1.p1.2.m2.1.1" xref="S4.SS1.SSS0.Px1.p1.2.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px1.p1.2.m2.1b"><ci id="S4.SS1.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS0.Px1.p1.2.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px1.p1.2.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px1.p1.2.m2.1d">italic_s</annotation></semantics></math> with left and right contexts <math alttext="l" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px1.p1.3.m3.1"><semantics id="S4.SS1.SSS0.Px1.p1.3.m3.1a"><mi id="S4.SS1.SSS0.Px1.p1.3.m3.1.1" xref="S4.SS1.SSS0.Px1.p1.3.m3.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px1.p1.3.m3.1b"><ci id="S4.SS1.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S4.SS1.SSS0.Px1.p1.3.m3.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px1.p1.3.m3.1c">l</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px1.p1.3.m3.1d">italic_l</annotation></semantics></math> and <math alttext="r" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px1.p1.4.m4.1"><semantics id="S4.SS1.SSS0.Px1.p1.4.m4.1a"><mi id="S4.SS1.SSS0.Px1.p1.4.m4.1.1" xref="S4.SS1.SSS0.Px1.p1.4.m4.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px1.p1.4.m4.1b"><ci id="S4.SS1.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S4.SS1.SSS0.Px1.p1.4.m4.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px1.p1.4.m4.1c">r</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px1.p1.4.m4.1d">italic_r</annotation></semantics></math> (<math alttext="q=l\circ s\circ r" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px1.p1.5.m5.1"><semantics id="S4.SS1.SSS0.Px1.p1.5.m5.1a"><mrow id="S4.SS1.SSS0.Px1.p1.5.m5.1.1" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.cmml"><mi id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.2" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.2.cmml">q</mi><mo id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.1" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.1.cmml">=</mo><mrow id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.cmml"><mi id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.2" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.2.cmml">l</mi><mo id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.1.cmml">∘</mo><mi id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.3" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.3.cmml">s</mi><mo id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.1a" lspace="0.222em" rspace="0.222em" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.1.cmml">∘</mo><mi id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.4" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.4.cmml">r</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px1.p1.5.m5.1b"><apply id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1"><eq id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.1"></eq><ci id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.2">𝑞</ci><apply id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.cmml" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3"><compose id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.1.cmml" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.1"></compose><ci id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.2.cmml" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.2">𝑙</ci><ci id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.3.cmml" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.3">𝑠</ci><ci id="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.4.cmml" xref="S4.SS1.SSS0.Px1.p1.5.m5.1.1.3.4">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px1.p1.5.m5.1c">q=l\circ s\circ r</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px1.p1.5.m5.1d">italic_q = italic_l ∘ italic_s ∘ italic_r</annotation></semantics></math>, where <math alttext="\circ" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px1.p1.6.m6.1"><semantics id="S4.SS1.SSS0.Px1.p1.6.m6.1a"><mo id="S4.SS1.SSS0.Px1.p1.6.m6.1.1" xref="S4.SS1.SSS0.Px1.p1.6.m6.1.1.cmml">∘</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px1.p1.6.m6.1b"><compose id="S4.SS1.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S4.SS1.SSS0.Px1.p1.6.m6.1.1"></compose></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px1.p1.6.m6.1c">\circ</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px1.p1.6.m6.1d">∘</annotation></semantics></math> indicates string concatenation), retrieve the relevant cited passages or documents <math alttext="R=\{d_{a},...,d_{b}\}" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px1.p1.7.m7.3"><semantics id="S4.SS1.SSS0.Px1.p1.7.m7.3a"><mrow id="S4.SS1.SSS0.Px1.p1.7.m7.3.3" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.cmml"><mi id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.4" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.4.cmml">R</mi><mo id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.3" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.3.cmml">=</mo><mrow id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.3.cmml"><mo id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.3" stretchy="false" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.3.cmml">{</mo><msub id="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1" xref="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1.cmml"><mi id="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1.2" xref="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1.2.cmml">d</mi><mi id="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1.3" xref="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1.3.cmml">a</mi></msub><mo id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.4" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.3.cmml">,</mo><mi id="S4.SS1.SSS0.Px1.p1.7.m7.1.1" mathvariant="normal" xref="S4.SS1.SSS0.Px1.p1.7.m7.1.1.cmml">…</mi><mo id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.5" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.3.cmml">,</mo><msub id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2.cmml"><mi id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2.2" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2.2.cmml">d</mi><mi id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2.3" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2.3.cmml">b</mi></msub><mo id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.6" stretchy="false" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px1.p1.7.m7.3b"><apply id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3"><eq id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.3.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.3"></eq><ci id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.4.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.4">𝑅</ci><set id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.3.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2"><apply id="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1.1.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1.2.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1.2">𝑑</ci><ci id="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1.3.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.2.2.1.1.1.3">𝑎</ci></apply><ci id="S4.SS1.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.1.1">…</ci><apply id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2.1.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2">subscript</csymbol><ci id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2.2.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2.2">𝑑</ci><ci id="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2.3.cmml" xref="S4.SS1.SSS0.Px1.p1.7.m7.3.3.2.2.2.3">𝑏</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px1.p1.7.m7.3c">R=\{d_{a},...,d_{b}\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px1.p1.7.m7.3d">italic_R = { italic_d start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT , … , italic_d start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT }</annotation></semantics></math> from a collection <math alttext="D=\{d_{1},...d_{N}\}" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px1.p1.8.m8.2"><semantics id="S4.SS1.SSS0.Px1.p1.8.m8.2a"><mrow id="S4.SS1.SSS0.Px1.p1.8.m8.2.2" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.cmml"><mi id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.4" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.4.cmml">D</mi><mo id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.3" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.3.cmml">=</mo><mrow id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.3.cmml"><mo id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.3" stretchy="false" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.3.cmml">{</mo><msub id="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1" xref="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1.cmml"><mi id="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1.2" xref="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1.2.cmml">d</mi><mn id="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1.3" xref="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.4" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.3.cmml">,</mo><mrow id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.cmml"><mi id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.2" mathvariant="normal" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.2.cmml">…</mi><mo id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.1" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.1.cmml">⁢</mo><msub id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3.cmml"><mi id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3.2" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3.2.cmml">d</mi><mi id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3.3" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3.3.cmml">N</mi></msub></mrow><mo id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.5" stretchy="false" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px1.p1.8.m8.2b"><apply id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2"><eq id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.3.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.3"></eq><ci id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.4.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.4">𝐷</ci><set id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.3.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2"><apply id="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1.1.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1.2.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1.2">𝑑</ci><cn id="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1.3.cmml" type="integer" xref="S4.SS1.SSS0.Px1.p1.8.m8.1.1.1.1.1.3">1</cn></apply><apply id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2"><times id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.1.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.1"></times><ci id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.2.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.2">…</ci><apply id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3.1.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3">subscript</csymbol><ci id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3.2.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3.2">𝑑</ci><ci id="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3.3.cmml" xref="S4.SS1.SSS0.Px1.p1.8.m8.2.2.2.2.2.3.3">𝑁</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px1.p1.8.m8.2c">D=\{d_{1},...d_{N}\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px1.p1.8.m8.2d">italic_D = { italic_d start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … italic_d start_POSTSUBSCRIPT italic_N end_POSTSUBSCRIPT }</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.1 </span>Experimental Setup</h4>
<section class="ltx_paragraph" id="S4.SS1.SSS1.Px1">
<h5 class="ltx_title ltx_title_paragraph">Metrics and Data</h5>
<div class="ltx_para" id="S4.SS1.SSS1.Px1.p1">
<p class="ltx_p" id="S4.SS1.SSS1.Px1.p1.1">We benchmark the performance of popular retrieval methods and models in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.T3" title="Table 3 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">3</span></a> and evaluate with Recall@10, 100, 1000, and nDCG@10. We evaluate with 2851 <span class="ltx_text ltx_font_typewriter" id="S4.SS1.SSS1.Px1.p1.1.1">indirect single-removed</span> queries and provide ablation studies on the effect of query types and lengths in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.T2" title="Table 2 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">2</span></a> and Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.F4" title="Figure 4 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS1.Px2">
<h5 class="ltx_title ltx_title_paragraph">Late Interaction Models</h5>
<div class="ltx_para" id="S4.SS1.SSS1.Px2.p1">
<p class="ltx_p" id="S4.SS1.SSS1.Px2.p1.1">We run ColBERTv2 <cite class="ltx_cite ltx_citemacro_citep">(Santhanam et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib57" title="">2022</a>)</cite> and long-context Jina-ColBERT <cite class="ltx_cite ltx_citemacro_citep">(Günther et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib23" title="">2023</a>)</cite> experiments with the PLAID-X implementation <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib72" title="">2024</a>)</cite>. Due to the large size of the collection and GPU memory required by ColBERT indexing, we split <span class="ltx_text ltx_font_typewriter" id="S4.SS1.SSS1.Px2.p1.1.1">CLERC/doc</span> and <span class="ltx_text ltx_font_typewriter" id="S4.SS1.SSS1.Px2.p1.1.2">CLERC/passage</span> into four shards for processing. For ColBERTv2, which has a context limit of 512 tokens,<span class="ltx_note ltx_role_footnote" id="footnote6"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>ColBERT generally assumes a max query token limit of 32, which we remove to incorporate our longer queries.</span></span></span> we conduct passage-level retrieval and aggregate the scores by taking the highest-ranking passage of a document to represent the overall document score (MaxP) <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib74" title="">2021</a>)</cite>. For long-context ColBERT, we perform and evaluate document-level retrieval and truncate documents over the context lengths (2048, 4096).</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS1.Px3">
<h5 class="ltx_title ltx_title_paragraph">Bi-Encoders</h5>
<div class="ltx_para" id="S4.SS1.SSS1.Px3.p1">
<p class="ltx_p" id="S4.SS1.SSS1.Px3.p1.1">We also benchmark the performance of state-of-the-art Bi-Encoders, including BGE-large-en-v1.5 <cite class="ltx_cite ltx_citemacro_citep">(Xiao et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib71" title="">2023</a>)</cite>, E5-large-v2 <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib67" title="">2022</a>)</cite>, Contriever-MSMarco <cite class="ltx_cite ltx_citemacro_citep">(Izacard et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib26" title="">2021</a>)</cite>. For DPR models, we adopt the Tevatron pipeline <cite class="ltx_cite ltx_citemacro_citep">(Gao et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib19" title="">2022</a>)</cite> and evaluate the base DPR model <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib31" title="">2020b</a>)</cite> trained on QA datasets. We also fine-tune BERT-base-uncased<span class="ltx_note ltx_role_footnote" id="footnote7"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/jhu-clsp/BERT-DPR-CLERC-ft" title="">https://huggingface.co/jhu-clsp/BERT-DPR-CLERC-ft</a></span></span></span> <cite class="ltx_cite ltx_citemacro_citep">(Devlin et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib15" title="">2018</a>)</cite> and LegalBERT<span class="ltx_note ltx_role_footnote" id="footnote8"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_tag ltx_tag_note">8</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/jhu-clsp/LegalBERT-DPR-CLERC-ft" title="">https://huggingface.co/jhu-clsp/LegalBERT-DPR-CLERC-ft</a></span></span></span> <cite class="ltx_cite ltx_citemacro_citep">(Holzenberger et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib25" title="">2020</a>)</cite> on 327K triples from <span class="ltx_text ltx_font_typewriter" id="S4.SS1.SSS1.Px3.p1.1.1">CLERC/passage</span> for 10 epochs with a temperature of 0.01 and a learning rate of <math alttext="10^{-4}" class="ltx_Math" display="inline" id="S4.SS1.SSS1.Px3.p1.1.m1.1"><semantics id="S4.SS1.SSS1.Px3.p1.1.m1.1a"><msup id="S4.SS1.SSS1.Px3.p1.1.m1.1.1" xref="S4.SS1.SSS1.Px3.p1.1.m1.1.1.cmml"><mn id="S4.SS1.SSS1.Px3.p1.1.m1.1.1.2" xref="S4.SS1.SSS1.Px3.p1.1.m1.1.1.2.cmml">10</mn><mrow id="S4.SS1.SSS1.Px3.p1.1.m1.1.1.3" xref="S4.SS1.SSS1.Px3.p1.1.m1.1.1.3.cmml"><mo id="S4.SS1.SSS1.Px3.p1.1.m1.1.1.3a" xref="S4.SS1.SSS1.Px3.p1.1.m1.1.1.3.cmml">−</mo><mn id="S4.SS1.SSS1.Px3.p1.1.m1.1.1.3.2" xref="S4.SS1.SSS1.Px3.p1.1.m1.1.1.3.2.cmml">4</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS1.Px3.p1.1.m1.1b"><apply id="S4.SS1.SSS1.Px3.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS1.Px3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS1.Px3.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS1.Px3.p1.1.m1.1.1">superscript</csymbol><cn id="S4.SS1.SSS1.Px3.p1.1.m1.1.1.2.cmml" type="integer" xref="S4.SS1.SSS1.Px3.p1.1.m1.1.1.2">10</cn><apply id="S4.SS1.SSS1.Px3.p1.1.m1.1.1.3.cmml" xref="S4.SS1.SSS1.Px3.p1.1.m1.1.1.3"><minus id="S4.SS1.SSS1.Px3.p1.1.m1.1.1.3.1.cmml" xref="S4.SS1.SSS1.Px3.p1.1.m1.1.1.3"></minus><cn id="S4.SS1.SSS1.Px3.p1.1.m1.1.1.3.2.cmml" type="integer" xref="S4.SS1.SSS1.Px3.p1.1.m1.1.1.3.2">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS1.Px3.p1.1.m1.1c">10^{-4}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS1.Px3.p1.1.m1.1d">10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT</annotation></semantics></math>, with a contrastive learning-to-rank objective.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS1.Px4">
<h5 class="ltx_title ltx_title_paragraph">Compute</h5>
<div class="ltx_para" id="S4.SS1.SSS1.Px4.p1">
<p class="ltx_p" id="S4.SS1.SSS1.Px4.p1.1">Please see Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A1" title="Appendix A Compute Infrastructure ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">A</span></a> for the compute setup and hours of the experiments.</p>
</div>
</section>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.2 </span>Ablation Studies</h4>
<section class="ltx_paragraph" id="S4.SS1.SSS2.Px1">
<h5 class="ltx_title ltx_title_paragraph">Query Types</h5>
<div class="ltx_para" id="S4.SS1.SSS2.Px1.p1">
<p class="ltx_p" id="S4.SS1.SSS2.Px1.p1.1">We run retrieval experiments with BM25 on all four types of <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.SSS2.Px1.p1.1.1">Clerc </span>queries. Table <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.T2" title="Table 2 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">2</span></a> shows that <span class="ltx_text ltx_font_typewriter" id="S4.SS1.SSS2.Px1.p1.1.2">single-removed</span> are the easiest queries to retrieve, whereas <span class="ltx_text ltx_font_typewriter" id="S4.SS1.SSS2.Px1.p1.1.3">all-removed</span> queries remove non-central case citations and lose additional contextual information contained by them.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS2.Px2">
<h5 class="ltx_title ltx_title_paragraph">Query Length</h5>
<div class="ltx_para" id="S4.SS1.SSS2.Px2.p1">
<p class="ltx_p" id="S4.SS1.SSS2.Px2.p1.1">We also evaluate the effect of query length on BM25 across the range of 100 to 1000 words. Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.F4" title="Figure 4 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">4</span></a> shows that longer query length improves recall and maximizes it at 300 words. Queries with more than 300 words are harder to retrieve, since as length increases, there are also more distracting contextual information about non-central citations that cause the retriever to find irrelevant passages (see Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S5.SS1" title="5.1 Limitations in Case Retrieval ‣ 5 Discussion ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">5.1</span></a> for examples and qualitative analysis). Another limitation of increased query length is that it will raise the computational cost and storage, which is especially challenging to token-level late-interaction models like ColBERT <cite class="ltx_cite ltx_citemacro_citep">(Khattab and Zaharia, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib32" title="">2020</a>)</cite>.</p>
</div>
</section>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.3 </span>Main Results and Analysis</h4>
<div class="ltx_para" id="S4.SS1.SSS3.p1">
<p class="ltx_p" id="S4.SS1.SSS3.p1.1">We show main results of the retrieval task in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.T3" title="Table 3 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">3</span></a>. Overall, we see that <span class="ltx_text ltx_font_bold" id="S4.SS1.SSS3.p1.1.1">no zero-shot model scores higher than 50% R@1K, indicating poor performance at retrieving case citations</span>. Due to the large size of the corpus, we find that late interaction models like ColBERTv2 <cite class="ltx_cite ltx_citemacro_citep">(Santhanam et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib57" title="">2022</a>)</cite> perform the worst, followed by Bi-Encoder models which score around 42% R@1K. BM25 performs the best at 48.3% R@1K among all zero-shot models. We show later in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S5.SS1" title="5.1 Limitations in Case Retrieval ‣ 5 Discussion ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">5.1</span></a> that this poor performance is due to domain shift to legal text and the struggles of models with long queries.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSS3.p2">
<p class="ltx_p" id="S4.SS1.SSS3.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.SSS3.p2.1.1">Domain shift can be alleviated through training</span>: fine-tuning BERT-base with the DPR architecture on <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.SSS3.p2.1.2">Clerc</span>’s training set, we find a 36+ percent gain in R@1K, indicating that training on longer queries and legal text effectively improves performance in legal case retrieval, and it achieves the second highest performance after fine-tuned LegalBERT DPR, which is based on a model pretrained with legal texts <cite class="ltx_cite ltx_citemacro_citep">(Holzenberger et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib25" title="">2020</a>)</cite> and experiences less domain shift.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSS3.p3">
<p class="ltx_p" id="S4.SS1.SSS3.p3.1">We also experiment with multiple Cross-Encoders and attach the results and analysis in <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.SS3" title="D.3 Retrieve with Cross-Encoders ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">D.3</span></a>.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Generating Legal Analyses from Citations</h3>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Task Formulation</h5>
<div class="ltx_para" id="S4.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px1.p1.10">Suppose a case document consisting of paragraphs <math alttext="{\{p_{1},p_{2},\dots,p_{N}\}}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.1.m1.4"><semantics id="S4.SS2.SSS0.Px1.p1.1.m1.4a"><mrow id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.4.cmml"><mo id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.4" stretchy="false" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.4.cmml">{</mo><msub id="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1" xref="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1.cmml"><mi id="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1.2" xref="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1.2.cmml">p</mi><mn id="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1.3" xref="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.5" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.4.cmml">,</mo><msub id="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2" xref="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2.cmml"><mi id="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2.2" xref="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2.2.cmml">p</mi><mn id="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2.3" xref="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2.3.cmml">2</mn></msub><mo id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.6" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.4.cmml">,</mo><mi id="S4.SS2.SSS0.Px1.p1.1.m1.1.1" mathvariant="normal" xref="S4.SS2.SSS0.Px1.p1.1.m1.1.1.cmml">…</mi><mo id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.7" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.4.cmml">,</mo><msub id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3.cmml"><mi id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3.2" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3.2.cmml">p</mi><mi id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3.3" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3.3.cmml">N</mi></msub><mo id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.8" stretchy="false" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.1.m1.4b"><set id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.4.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3"><apply id="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1.2">𝑝</ci><cn id="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1.3.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.1.m1.2.2.1.1.3">1</cn></apply><apply id="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2.1.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2.2.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2.2">𝑝</ci><cn id="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2.3.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.1.m1.3.3.2.2.3">2</cn></apply><ci id="S4.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.1.1">…</ci><apply id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3.1.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3.2.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3.2">𝑝</ci><ci id="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3.3.cmml" xref="S4.SS2.SSS0.Px1.p1.1.m1.4.4.3.3.3">𝑁</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.1.m1.4c">{\{p_{1},p_{2},\dots,p_{N}\}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.1.m1.4d">{ italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_p start_POSTSUBSCRIPT italic_N end_POSTSUBSCRIPT }</annotation></semantics></math>,
given <math alttext="{R_{t}=\{r_{1},r_{2},...r_{T}\}}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.2.m2.3"><semantics id="S4.SS2.SSS0.Px1.p1.2.m2.3a"><mrow id="S4.SS2.SSS0.Px1.p1.2.m2.3.3" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.cmml"><msub id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5.cmml"><mi id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5.2" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5.2.cmml">R</mi><mi id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5.3" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5.3.cmml">t</mi></msub><mo id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.4" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.4.cmml">=</mo><mrow id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.4.cmml"><mo id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.4" stretchy="false" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.4.cmml">{</mo><msub id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.cmml"><mi id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.2" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml">r</mi><mn id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.3" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.5" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.4.cmml">,</mo><msub id="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2" xref="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2.cmml"><mi id="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2.2" xref="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.cmml">r</mi><mn id="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2.3" xref="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2.3.cmml">2</mn></msub><mo id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.6" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.4.cmml">,</mo><mrow id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.cmml"><mi id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.2" mathvariant="normal" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.2.cmml">…</mi><mo id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.1" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.1.cmml">⁢</mo><msub id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.cmml"><mi id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.2" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.2.cmml">r</mi><mi id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.3" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.3.cmml">T</mi></msub></mrow><mo id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.7" stretchy="false" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.2.m2.3b"><apply id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3"><eq id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.4.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.4"></eq><apply id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5.1.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5.2.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5.2">𝑅</ci><ci id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5.3.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.5.3">𝑡</ci></apply><set id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.4.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3"><apply id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.2">𝑟</ci><cn id="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.3.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.2.m2.1.1.1.1.1.3">1</cn></apply><apply id="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2.1.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2.2">𝑟</ci><cn id="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2.3.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.2.m2.2.2.2.2.2.3">2</cn></apply><apply id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3"><times id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.1.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.1"></times><ci id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.2.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.2">…</ci><apply id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.1.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.2.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.2">𝑟</ci><ci id="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.3.cmml" xref="S4.SS2.SSS0.Px1.p1.2.m2.3.3.3.3.3.3.3">𝑇</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.2.m2.3c">{R_{t}=\{r_{1},r_{2},...r_{T}\}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.2.m2.3d">italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = { italic_r start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_r start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … italic_r start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT }</annotation></semantics></math>, a set of relevant passages or documents, and a prefix of case document <math alttext="(p_{1},p_{2},\dots,p_{t-1})" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.3.m3.4"><semantics id="S4.SS2.SSS0.Px1.p1.3.m3.4a"><mrow id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.4.cmml"><mo id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.4" stretchy="false" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.4.cmml">(</mo><msub id="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1" xref="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1.cmml"><mi id="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1.2" xref="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1.2.cmml">p</mi><mn id="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1.3" xref="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1.3.cmml">1</mn></msub><mo id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.5" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.4.cmml">,</mo><msub id="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2" xref="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2.cmml"><mi id="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2.2" xref="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2.2.cmml">p</mi><mn id="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2.3" xref="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2.3.cmml">2</mn></msub><mo id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.6" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.4.cmml">,</mo><mi id="S4.SS2.SSS0.Px1.p1.3.m3.1.1" mathvariant="normal" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1.cmml">…</mi><mo id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.7" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.4.cmml">,</mo><msub id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.cmml"><mi id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.2" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.2.cmml">p</mi><mrow id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.cmml"><mi id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.2" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.2.cmml">t</mi><mo id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.1" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.1.cmml">−</mo><mn id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.3" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.3.cmml">1</mn></mrow></msub><mo id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.8" stretchy="false" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.4.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.3.m3.4b"><vector id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.4.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3"><apply id="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1.2">𝑝</ci><cn id="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1.3.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.3.m3.2.2.1.1.3">1</cn></apply><apply id="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2.1.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2.2.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2.2">𝑝</ci><cn id="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2.3.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.3.m3.3.3.2.2.3">2</cn></apply><ci id="S4.SS2.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.1.1">…</ci><apply id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.1.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.2.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.2">𝑝</ci><apply id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3"><minus id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.1.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.1"></minus><ci id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.2.cmml" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.2">𝑡</ci><cn id="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.3.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.3.m3.4.4.3.3.3.3">1</cn></apply></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.3.m3.4c">(p_{1},p_{2},\dots,p_{t-1})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.3.m3.4d">( italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_p start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT )</annotation></semantics></math>,
a model is asked to continue to generate the next paragraph <math alttext="\hat{p}_{t}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.4.m4.1"><semantics id="S4.SS2.SSS0.Px1.p1.4.m4.1a"><msub id="S4.SS2.SSS0.Px1.p1.4.m4.1.1" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.cmml"><mover accent="true" id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2.cmml"><mi id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2.2" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2.2.cmml">p</mi><mo id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2.1" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2.1.cmml">^</mo></mover><mi id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.4.m4.1b"><apply id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1">subscript</csymbol><apply id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2"><ci id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2.1.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2.1">^</ci><ci id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2.2.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.2.2">𝑝</ci></apply><ci id="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S4.SS2.SSS0.Px1.p1.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.4.m4.1c">\hat{p}_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.4.m4.1d">over^ start_ARG italic_p end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.
The generation quality is measured by the similarity between <math alttext="p_{t}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.5.m5.1"><semantics id="S4.SS2.SSS0.Px1.p1.5.m5.1a"><msub id="S4.SS2.SSS0.Px1.p1.5.m5.1.1" xref="S4.SS2.SSS0.Px1.p1.5.m5.1.1.cmml"><mi id="S4.SS2.SSS0.Px1.p1.5.m5.1.1.2" xref="S4.SS2.SSS0.Px1.p1.5.m5.1.1.2.cmml">p</mi><mi id="S4.SS2.SSS0.Px1.p1.5.m5.1.1.3" xref="S4.SS2.SSS0.Px1.p1.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.5.m5.1b"><apply id="S4.SS2.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.5.m5.1.1">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.5.m5.1.1.2">𝑝</ci><ci id="S4.SS2.SSS0.Px1.p1.5.m5.1.1.3.cmml" xref="S4.SS2.SSS0.Px1.p1.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.5.m5.1c">p_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.5.m5.1d">italic_p start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\hat{p}_{t}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.6.m6.1"><semantics id="S4.SS2.SSS0.Px1.p1.6.m6.1a"><msub id="S4.SS2.SSS0.Px1.p1.6.m6.1.1" xref="S4.SS2.SSS0.Px1.p1.6.m6.1.1.cmml"><mover accent="true" id="S4.SS2.SSS0.Px1.p1.6.m6.1.1.2" xref="S4.SS2.SSS0.Px1.p1.6.m6.1.1.2.cmml"><mi id="S4.SS2.SSS0.Px1.p1.6.m6.1.1.2.2" xref="S4.SS2.SSS0.Px1.p1.6.m6.1.1.2.2.cmml">p</mi><mo id="S4.SS2.SSS0.Px1.p1.6.m6.1.1.2.1" xref="S4.SS2.SSS0.Px1.p1.6.m6.1.1.2.1.cmml">^</mo></mover><mi id="S4.SS2.SSS0.Px1.p1.6.m6.1.1.3" xref="S4.SS2.SSS0.Px1.p1.6.m6.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.6.m6.1b"><apply id="S4.SS2.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.6.m6.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.6.m6.1.1">subscript</csymbol><apply id="S4.SS2.SSS0.Px1.p1.6.m6.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.6.m6.1.1.2"><ci id="S4.SS2.SSS0.Px1.p1.6.m6.1.1.2.1.cmml" xref="S4.SS2.SSS0.Px1.p1.6.m6.1.1.2.1">^</ci><ci id="S4.SS2.SSS0.Px1.p1.6.m6.1.1.2.2.cmml" xref="S4.SS2.SSS0.Px1.p1.6.m6.1.1.2.2">𝑝</ci></apply><ci id="S4.SS2.SSS0.Px1.p1.6.m6.1.1.3.cmml" xref="S4.SS2.SSS0.Px1.p1.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.6.m6.1c">\hat{p}_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.6.m6.1d">over^ start_ARG italic_p end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.
In practice, the gold paragraph <math alttext="p_{t}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.7.m7.1"><semantics id="S4.SS2.SSS0.Px1.p1.7.m7.1a"><msub id="S4.SS2.SSS0.Px1.p1.7.m7.1.1" xref="S4.SS2.SSS0.Px1.p1.7.m7.1.1.cmml"><mi id="S4.SS2.SSS0.Px1.p1.7.m7.1.1.2" xref="S4.SS2.SSS0.Px1.p1.7.m7.1.1.2.cmml">p</mi><mi id="S4.SS2.SSS0.Px1.p1.7.m7.1.1.3" xref="S4.SS2.SSS0.Px1.p1.7.m7.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.7.m7.1b"><apply id="S4.SS2.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.7.m7.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m7.1.1">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.7.m7.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m7.1.1.2">𝑝</ci><ci id="S4.SS2.SSS0.Px1.p1.7.m7.1.1.3.cmml" xref="S4.SS2.SSS0.Px1.p1.7.m7.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.7.m7.1c">p_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.7.m7.1d">italic_p start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is randomly sampled from the last third of the paragraphs, i.e. <math alttext="\lfloor{\frac{2N}{3}}\rfloor\leq t\leq N-2" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.8.m8.1"><semantics id="S4.SS2.SSS0.Px1.p1.8.m8.1a"><mrow id="S4.SS2.SSS0.Px1.p1.8.m8.1.2" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.cmml"><mrow id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.2.2" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.2.1.cmml"><mo id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.2.2.1" stretchy="false" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.2.1.1.cmml">⌊</mo><mfrac id="S4.SS2.SSS0.Px1.p1.8.m8.1.1" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1.cmml"><mrow id="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.cmml"><mn id="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.2" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.2.cmml">2</mn><mo id="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.1" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.1.cmml">⁢</mo><mi id="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.3" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.3.cmml">N</mi></mrow><mn id="S4.SS2.SSS0.Px1.p1.8.m8.1.1.3" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1.3.cmml">3</mn></mfrac><mo id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.2.2.2" stretchy="false" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.2.1.1.cmml">⌋</mo></mrow><mo id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.3" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.3.cmml">≤</mo><mi id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.4" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.4.cmml">t</mi><mo id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.5" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.5.cmml">≤</mo><mrow id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.cmml"><mi id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.2" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.2.cmml">N</mi><mo id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.1" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.1.cmml">−</mo><mn id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.3" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.3.cmml">2</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.8.m8.1b"><apply id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2"><and id="S4.SS2.SSS0.Px1.p1.8.m8.1.2a.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2"></and><apply id="S4.SS2.SSS0.Px1.p1.8.m8.1.2b.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2"><leq id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.3.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.3"></leq><apply id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.2.1.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.2.2"><floor id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.2.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.2.2.1"></floor><apply id="S4.SS2.SSS0.Px1.p1.8.m8.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1"><divide id="S4.SS2.SSS0.Px1.p1.8.m8.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1"></divide><apply id="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2"><times id="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.1.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.1"></times><cn id="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.2.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.2">2</cn><ci id="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.3.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1.2.3">𝑁</ci></apply><cn id="S4.SS2.SSS0.Px1.p1.8.m8.1.1.3.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.1.3">3</cn></apply></apply><ci id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.4.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.4">𝑡</ci></apply><apply id="S4.SS2.SSS0.Px1.p1.8.m8.1.2c.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2"><leq id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.5.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.5"></leq><share href="https://arxiv.org/html/2406.17186v2#S4.SS2.SSS0.Px1.p1.8.m8.1.2.4.cmml" id="S4.SS2.SSS0.Px1.p1.8.m8.1.2d.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2"></share><apply id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6"><minus id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.1.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.1"></minus><ci id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.2.cmml" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.2">𝑁</ci><cn id="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.3.cmml" type="integer" xref="S4.SS2.SSS0.Px1.p1.8.m8.1.2.6.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.8.m8.1c">\lfloor{\frac{2N}{3}}\rfloor\leq t\leq N-2</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.8.m8.1d">⌊ divide start_ARG 2 italic_N end_ARG start_ARG 3 end_ARG ⌋ ≤ italic_t ≤ italic_N - 2</annotation></semantics></math>, and <math alttext="R_{t}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.9.m9.1"><semantics id="S4.SS2.SSS0.Px1.p1.9.m9.1a"><msub id="S4.SS2.SSS0.Px1.p1.9.m9.1.1" xref="S4.SS2.SSS0.Px1.p1.9.m9.1.1.cmml"><mi id="S4.SS2.SSS0.Px1.p1.9.m9.1.1.2" xref="S4.SS2.SSS0.Px1.p1.9.m9.1.1.2.cmml">R</mi><mi id="S4.SS2.SSS0.Px1.p1.9.m9.1.1.3" xref="S4.SS2.SSS0.Px1.p1.9.m9.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.9.m9.1b"><apply id="S4.SS2.SSS0.Px1.p1.9.m9.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.9.m9.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.9.m9.1.1">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.9.m9.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.9.m9.1.1.2">𝑅</ci><ci id="S4.SS2.SSS0.Px1.p1.9.m9.1.1.3.cmml" xref="S4.SS2.SSS0.Px1.p1.9.m9.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.9.m9.1c">R_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.9.m9.1d">italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is selected as the citations used in <math alttext="p_{t}" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px1.p1.10.m10.1"><semantics id="S4.SS2.SSS0.Px1.p1.10.m10.1a"><msub id="S4.SS2.SSS0.Px1.p1.10.m10.1.1" xref="S4.SS2.SSS0.Px1.p1.10.m10.1.1.cmml"><mi id="S4.SS2.SSS0.Px1.p1.10.m10.1.1.2" xref="S4.SS2.SSS0.Px1.p1.10.m10.1.1.2.cmml">p</mi><mi id="S4.SS2.SSS0.Px1.p1.10.m10.1.1.3" xref="S4.SS2.SSS0.Px1.p1.10.m10.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px1.p1.10.m10.1b"><apply id="S4.SS2.SSS0.Px1.p1.10.m10.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS0.Px1.p1.10.m10.1.1.1.cmml" xref="S4.SS2.SSS0.Px1.p1.10.m10.1.1">subscript</csymbol><ci id="S4.SS2.SSS0.Px1.p1.10.m10.1.1.2.cmml" xref="S4.SS2.SSS0.Px1.p1.10.m10.1.1.2">𝑝</ci><ci id="S4.SS2.SSS0.Px1.p1.10.m10.1.1.3.cmml" xref="S4.SS2.SSS0.Px1.p1.10.m10.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px1.p1.10.m10.1c">p_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px1.p1.10.m10.1d">italic_p start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.1 </span>Experimental Setup</h4>
<section class="ltx_paragraph" id="S4.SS2.SSS1.Px1">
<h5 class="ltx_title ltx_title_paragraph">Citation Metrics</h5>
<div class="ltx_para" id="S4.SS2.SSS1.Px1.p1">
<p class="ltx_p" id="S4.SS2.SSS1.Px1.p1.2">To measure the faithfulness and degree of hallucination of legal analysis generation, we adopt Citation Recall (CR) and Citation Precision (CP) from <cite class="ltx_cite ltx_citemacro_citet">Liu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib41" title="">2023</a>)</cite> and also propose Citation False Positive rate (CFP). Suppose a piece of generated text contains citations <math alttext="\{c_{1},\dots,c_{M}\}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.Px1.p1.1.m1.3"><semantics id="S4.SS2.SSS1.Px1.p1.1.m1.3a"><mrow id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.3.cmml"><mo id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.3" stretchy="false" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.3.cmml">{</mo><msub id="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1" xref="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1.cmml"><mi id="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1.2" xref="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1.2.cmml">c</mi><mn id="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1.3" xref="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.4" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.3.cmml">,</mo><mi id="S4.SS2.SSS1.Px1.p1.1.m1.1.1" mathvariant="normal" xref="S4.SS2.SSS1.Px1.p1.1.m1.1.1.cmml">…</mi><mo id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.5" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.3.cmml">,</mo><msub id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2.cmml"><mi id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2.2" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2.2.cmml">c</mi><mi id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2.3" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2.3.cmml">M</mi></msub><mo id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.6" stretchy="false" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px1.p1.1.m1.3b"><set id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.3.cmml" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2"><apply id="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1.cmml" xref="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1.1.cmml" xref="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1.2.cmml" xref="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1.2">𝑐</ci><cn id="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1.3.cmml" type="integer" xref="S4.SS2.SSS1.Px1.p1.1.m1.2.2.1.1.3">1</cn></apply><ci id="S4.SS2.SSS1.Px1.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS1.Px1.p1.1.m1.1.1">…</ci><apply id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2.cmml" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2.1.cmml" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2">subscript</csymbol><ci id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2.2.cmml" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2.2">𝑐</ci><ci id="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2.3.cmml" xref="S4.SS2.SSS1.Px1.p1.1.m1.3.3.2.2.3">𝑀</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px1.p1.1.m1.3c">\{c_{1},\dots,c_{M}\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.Px1.p1.1.m1.3d">{ italic_c start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_c start_POSTSUBSCRIPT italic_M end_POSTSUBSCRIPT }</annotation></semantics></math> and a set of citations that should be cited, <math alttext="C_{r}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.Px1.p1.2.m2.1"><semantics id="S4.SS2.SSS1.Px1.p1.2.m2.1a"><msub id="S4.SS2.SSS1.Px1.p1.2.m2.1.1" xref="S4.SS2.SSS1.Px1.p1.2.m2.1.1.cmml"><mi id="S4.SS2.SSS1.Px1.p1.2.m2.1.1.2" xref="S4.SS2.SSS1.Px1.p1.2.m2.1.1.2.cmml">C</mi><mi id="S4.SS2.SSS1.Px1.p1.2.m2.1.1.3" xref="S4.SS2.SSS1.Px1.p1.2.m2.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px1.p1.2.m2.1b"><apply id="S4.SS2.SSS1.Px1.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS1.Px1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.Px1.p1.2.m2.1.1.1.cmml" xref="S4.SS2.SSS1.Px1.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.Px1.p1.2.m2.1.1.2.cmml" xref="S4.SS2.SSS1.Px1.p1.2.m2.1.1.2">𝐶</ci><ci id="S4.SS2.SSS1.Px1.p1.2.m2.1.1.3.cmml" xref="S4.SS2.SSS1.Px1.p1.2.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px1.p1.2.m2.1c">C_{r}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.Px1.p1.2.m2.1d">italic_C start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math>, we define the following metrics:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx1">
<tbody id="S4.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathit{CR}" class="ltx_Math" display="inline" id="S4.Ex1.m1.1"><semantics id="S4.Ex1.m1.1a"><mi id="S4.Ex1.m1.1.1" xref="S4.Ex1.m1.1.1.cmml">𝐶𝑅</mi><annotation-xml encoding="MathML-Content" id="S4.Ex1.m1.1b"><ci id="S4.Ex1.m1.1.1.cmml" xref="S4.Ex1.m1.1.1">𝐶𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex1.m1.1c">\displaystyle\mathit{CR}</annotation><annotation encoding="application/x-llamapun" id="S4.Ex1.m1.1d">italic_CR</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\frac{\sum_{i}^{M}\mathbbm{1}\left[c_{i}\in C_{r}\right]}{|C_{r}|}" class="ltx_Math" display="inline" id="S4.Ex1.m2.2"><semantics id="S4.Ex1.m2.2a"><mrow id="S4.Ex1.m2.2.3" xref="S4.Ex1.m2.2.3.cmml"><mi id="S4.Ex1.m2.2.3.2" xref="S4.Ex1.m2.2.3.2.cmml"></mi><mo id="S4.Ex1.m2.2.3.1" xref="S4.Ex1.m2.2.3.1.cmml">=</mo><mstyle displaystyle="true" id="S4.Ex1.m2.2.2" xref="S4.Ex1.m2.2.2.cmml"><mfrac id="S4.Ex1.m2.2.2a" xref="S4.Ex1.m2.2.2.cmml"><mrow id="S4.Ex1.m2.1.1.1" xref="S4.Ex1.m2.1.1.1.cmml"><msubsup id="S4.Ex1.m2.1.1.1.2" xref="S4.Ex1.m2.1.1.1.2.cmml"><mo id="S4.Ex1.m2.1.1.1.2.2.2" xref="S4.Ex1.m2.1.1.1.2.2.2.cmml">∑</mo><mi id="S4.Ex1.m2.1.1.1.2.2.3" xref="S4.Ex1.m2.1.1.1.2.2.3.cmml">i</mi><mi id="S4.Ex1.m2.1.1.1.2.3" xref="S4.Ex1.m2.1.1.1.2.3.cmml">M</mi></msubsup><mrow id="S4.Ex1.m2.1.1.1.1" xref="S4.Ex1.m2.1.1.1.1.cmml"><mn id="S4.Ex1.m2.1.1.1.1.3" xref="S4.Ex1.m2.1.1.1.1.3.cmml">𝟙</mn><mo id="S4.Ex1.m2.1.1.1.1.2" xref="S4.Ex1.m2.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex1.m2.1.1.1.1.1.1" xref="S4.Ex1.m2.1.1.1.1.1.2.cmml"><mo id="S4.Ex1.m2.1.1.1.1.1.1.2" xref="S4.Ex1.m2.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S4.Ex1.m2.1.1.1.1.1.1.1" xref="S4.Ex1.m2.1.1.1.1.1.1.1.cmml"><msub id="S4.Ex1.m2.1.1.1.1.1.1.1.2" xref="S4.Ex1.m2.1.1.1.1.1.1.1.2.cmml"><mi id="S4.Ex1.m2.1.1.1.1.1.1.1.2.2" xref="S4.Ex1.m2.1.1.1.1.1.1.1.2.2.cmml">c</mi><mi id="S4.Ex1.m2.1.1.1.1.1.1.1.2.3" xref="S4.Ex1.m2.1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo id="S4.Ex1.m2.1.1.1.1.1.1.1.1" xref="S4.Ex1.m2.1.1.1.1.1.1.1.1.cmml">∈</mo><msub id="S4.Ex1.m2.1.1.1.1.1.1.1.3" xref="S4.Ex1.m2.1.1.1.1.1.1.1.3.cmml"><mi id="S4.Ex1.m2.1.1.1.1.1.1.1.3.2" xref="S4.Ex1.m2.1.1.1.1.1.1.1.3.2.cmml">C</mi><mi id="S4.Ex1.m2.1.1.1.1.1.1.1.3.3" xref="S4.Ex1.m2.1.1.1.1.1.1.1.3.3.cmml">r</mi></msub></mrow><mo id="S4.Ex1.m2.1.1.1.1.1.1.3" xref="S4.Ex1.m2.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><mrow id="S4.Ex1.m2.2.2.2.1" xref="S4.Ex1.m2.2.2.2.2.cmml"><mo id="S4.Ex1.m2.2.2.2.1.2" stretchy="false" xref="S4.Ex1.m2.2.2.2.2.1.cmml">|</mo><msub id="S4.Ex1.m2.2.2.2.1.1" xref="S4.Ex1.m2.2.2.2.1.1.cmml"><mi id="S4.Ex1.m2.2.2.2.1.1.2" xref="S4.Ex1.m2.2.2.2.1.1.2.cmml">C</mi><mi id="S4.Ex1.m2.2.2.2.1.1.3" xref="S4.Ex1.m2.2.2.2.1.1.3.cmml">r</mi></msub><mo id="S4.Ex1.m2.2.2.2.1.3" stretchy="false" xref="S4.Ex1.m2.2.2.2.2.1.cmml">|</mo></mrow></mfrac></mstyle></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex1.m2.2b"><apply id="S4.Ex1.m2.2.3.cmml" xref="S4.Ex1.m2.2.3"><eq id="S4.Ex1.m2.2.3.1.cmml" xref="S4.Ex1.m2.2.3.1"></eq><csymbol cd="latexml" id="S4.Ex1.m2.2.3.2.cmml" xref="S4.Ex1.m2.2.3.2">absent</csymbol><apply id="S4.Ex1.m2.2.2.cmml" xref="S4.Ex1.m2.2.2"><divide id="S4.Ex1.m2.2.2.3.cmml" xref="S4.Ex1.m2.2.2"></divide><apply id="S4.Ex1.m2.1.1.1.cmml" xref="S4.Ex1.m2.1.1.1"><apply id="S4.Ex1.m2.1.1.1.2.cmml" xref="S4.Ex1.m2.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex1.m2.1.1.1.2.1.cmml" xref="S4.Ex1.m2.1.1.1.2">superscript</csymbol><apply id="S4.Ex1.m2.1.1.1.2.2.cmml" xref="S4.Ex1.m2.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex1.m2.1.1.1.2.2.1.cmml" xref="S4.Ex1.m2.1.1.1.2">subscript</csymbol><sum id="S4.Ex1.m2.1.1.1.2.2.2.cmml" xref="S4.Ex1.m2.1.1.1.2.2.2"></sum><ci id="S4.Ex1.m2.1.1.1.2.2.3.cmml" xref="S4.Ex1.m2.1.1.1.2.2.3">𝑖</ci></apply><ci id="S4.Ex1.m2.1.1.1.2.3.cmml" xref="S4.Ex1.m2.1.1.1.2.3">𝑀</ci></apply><apply id="S4.Ex1.m2.1.1.1.1.cmml" xref="S4.Ex1.m2.1.1.1.1"><times id="S4.Ex1.m2.1.1.1.1.2.cmml" xref="S4.Ex1.m2.1.1.1.1.2"></times><cn id="S4.Ex1.m2.1.1.1.1.3.cmml" type="integer" xref="S4.Ex1.m2.1.1.1.1.3">1</cn><apply id="S4.Ex1.m2.1.1.1.1.1.2.cmml" xref="S4.Ex1.m2.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.Ex1.m2.1.1.1.1.1.2.1.cmml" xref="S4.Ex1.m2.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.Ex1.m2.1.1.1.1.1.1.1.cmml" xref="S4.Ex1.m2.1.1.1.1.1.1.1"><in id="S4.Ex1.m2.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex1.m2.1.1.1.1.1.1.1.1"></in><apply id="S4.Ex1.m2.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex1.m2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex1.m2.1.1.1.1.1.1.1.2.1.cmml" xref="S4.Ex1.m2.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.Ex1.m2.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex1.m2.1.1.1.1.1.1.1.2.2">𝑐</ci><ci id="S4.Ex1.m2.1.1.1.1.1.1.1.2.3.cmml" xref="S4.Ex1.m2.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S4.Ex1.m2.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex1.m2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex1.m2.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex1.m2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex1.m2.1.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex1.m2.1.1.1.1.1.1.1.3.2">𝐶</ci><ci id="S4.Ex1.m2.1.1.1.1.1.1.1.3.3.cmml" xref="S4.Ex1.m2.1.1.1.1.1.1.1.3.3">𝑟</ci></apply></apply></apply></apply></apply><apply id="S4.Ex1.m2.2.2.2.2.cmml" xref="S4.Ex1.m2.2.2.2.1"><abs id="S4.Ex1.m2.2.2.2.2.1.cmml" xref="S4.Ex1.m2.2.2.2.1.2"></abs><apply id="S4.Ex1.m2.2.2.2.1.1.cmml" xref="S4.Ex1.m2.2.2.2.1.1"><csymbol cd="ambiguous" id="S4.Ex1.m2.2.2.2.1.1.1.cmml" xref="S4.Ex1.m2.2.2.2.1.1">subscript</csymbol><ci id="S4.Ex1.m2.2.2.2.1.1.2.cmml" xref="S4.Ex1.m2.2.2.2.1.1.2">𝐶</ci><ci id="S4.Ex1.m2.2.2.2.1.1.3.cmml" xref="S4.Ex1.m2.2.2.2.1.1.3">𝑟</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex1.m2.2c">\displaystyle=\frac{\sum_{i}^{M}\mathbbm{1}\left[c_{i}\in C_{r}\right]}{|C_{r}|}</annotation><annotation encoding="application/x-llamapun" id="S4.Ex1.m2.2d">= divide start_ARG ∑ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT blackboard_1 [ italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ italic_C start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT ] end_ARG start_ARG | italic_C start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT | end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S4.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathit{CP}" class="ltx_Math" display="inline" id="S4.Ex2.m1.1"><semantics id="S4.Ex2.m1.1a"><mi id="S4.Ex2.m1.1.1" xref="S4.Ex2.m1.1.1.cmml">𝐶𝑃</mi><annotation-xml encoding="MathML-Content" id="S4.Ex2.m1.1b"><ci id="S4.Ex2.m1.1.1.cmml" xref="S4.Ex2.m1.1.1">𝐶𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex2.m1.1c">\displaystyle\mathit{CP}</annotation><annotation encoding="application/x-llamapun" id="S4.Ex2.m1.1d">italic_CP</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\frac{\sum_{i}^{M}\mathbbm{1}\left[c_{i}\in C_{r}\right]}{M}" class="ltx_Math" display="inline" id="S4.Ex2.m2.1"><semantics id="S4.Ex2.m2.1a"><mrow id="S4.Ex2.m2.1.2" xref="S4.Ex2.m2.1.2.cmml"><mi id="S4.Ex2.m2.1.2.2" xref="S4.Ex2.m2.1.2.2.cmml"></mi><mo id="S4.Ex2.m2.1.2.1" xref="S4.Ex2.m2.1.2.1.cmml">=</mo><mstyle displaystyle="true" id="S4.Ex2.m2.1.1" xref="S4.Ex2.m2.1.1.cmml"><mfrac id="S4.Ex2.m2.1.1a" xref="S4.Ex2.m2.1.1.cmml"><mrow id="S4.Ex2.m2.1.1.1" xref="S4.Ex2.m2.1.1.1.cmml"><msubsup id="S4.Ex2.m2.1.1.1.2" xref="S4.Ex2.m2.1.1.1.2.cmml"><mo id="S4.Ex2.m2.1.1.1.2.2.2" xref="S4.Ex2.m2.1.1.1.2.2.2.cmml">∑</mo><mi id="S4.Ex2.m2.1.1.1.2.2.3" xref="S4.Ex2.m2.1.1.1.2.2.3.cmml">i</mi><mi id="S4.Ex2.m2.1.1.1.2.3" xref="S4.Ex2.m2.1.1.1.2.3.cmml">M</mi></msubsup><mrow id="S4.Ex2.m2.1.1.1.1" xref="S4.Ex2.m2.1.1.1.1.cmml"><mn id="S4.Ex2.m2.1.1.1.1.3" xref="S4.Ex2.m2.1.1.1.1.3.cmml">𝟙</mn><mo id="S4.Ex2.m2.1.1.1.1.2" xref="S4.Ex2.m2.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex2.m2.1.1.1.1.1.1" xref="S4.Ex2.m2.1.1.1.1.1.2.cmml"><mo id="S4.Ex2.m2.1.1.1.1.1.1.2" xref="S4.Ex2.m2.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S4.Ex2.m2.1.1.1.1.1.1.1" xref="S4.Ex2.m2.1.1.1.1.1.1.1.cmml"><msub id="S4.Ex2.m2.1.1.1.1.1.1.1.2" xref="S4.Ex2.m2.1.1.1.1.1.1.1.2.cmml"><mi id="S4.Ex2.m2.1.1.1.1.1.1.1.2.2" xref="S4.Ex2.m2.1.1.1.1.1.1.1.2.2.cmml">c</mi><mi id="S4.Ex2.m2.1.1.1.1.1.1.1.2.3" xref="S4.Ex2.m2.1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo id="S4.Ex2.m2.1.1.1.1.1.1.1.1" xref="S4.Ex2.m2.1.1.1.1.1.1.1.1.cmml">∈</mo><msub id="S4.Ex2.m2.1.1.1.1.1.1.1.3" xref="S4.Ex2.m2.1.1.1.1.1.1.1.3.cmml"><mi id="S4.Ex2.m2.1.1.1.1.1.1.1.3.2" xref="S4.Ex2.m2.1.1.1.1.1.1.1.3.2.cmml">C</mi><mi id="S4.Ex2.m2.1.1.1.1.1.1.1.3.3" xref="S4.Ex2.m2.1.1.1.1.1.1.1.3.3.cmml">r</mi></msub></mrow><mo id="S4.Ex2.m2.1.1.1.1.1.1.3" xref="S4.Ex2.m2.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><mi id="S4.Ex2.m2.1.1.3" xref="S4.Ex2.m2.1.1.3.cmml">M</mi></mfrac></mstyle></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex2.m2.1b"><apply id="S4.Ex2.m2.1.2.cmml" xref="S4.Ex2.m2.1.2"><eq id="S4.Ex2.m2.1.2.1.cmml" xref="S4.Ex2.m2.1.2.1"></eq><csymbol cd="latexml" id="S4.Ex2.m2.1.2.2.cmml" xref="S4.Ex2.m2.1.2.2">absent</csymbol><apply id="S4.Ex2.m2.1.1.cmml" xref="S4.Ex2.m2.1.1"><divide id="S4.Ex2.m2.1.1.2.cmml" xref="S4.Ex2.m2.1.1"></divide><apply id="S4.Ex2.m2.1.1.1.cmml" xref="S4.Ex2.m2.1.1.1"><apply id="S4.Ex2.m2.1.1.1.2.cmml" xref="S4.Ex2.m2.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex2.m2.1.1.1.2.1.cmml" xref="S4.Ex2.m2.1.1.1.2">superscript</csymbol><apply id="S4.Ex2.m2.1.1.1.2.2.cmml" xref="S4.Ex2.m2.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex2.m2.1.1.1.2.2.1.cmml" xref="S4.Ex2.m2.1.1.1.2">subscript</csymbol><sum id="S4.Ex2.m2.1.1.1.2.2.2.cmml" xref="S4.Ex2.m2.1.1.1.2.2.2"></sum><ci id="S4.Ex2.m2.1.1.1.2.2.3.cmml" xref="S4.Ex2.m2.1.1.1.2.2.3">𝑖</ci></apply><ci id="S4.Ex2.m2.1.1.1.2.3.cmml" xref="S4.Ex2.m2.1.1.1.2.3">𝑀</ci></apply><apply id="S4.Ex2.m2.1.1.1.1.cmml" xref="S4.Ex2.m2.1.1.1.1"><times id="S4.Ex2.m2.1.1.1.1.2.cmml" xref="S4.Ex2.m2.1.1.1.1.2"></times><cn id="S4.Ex2.m2.1.1.1.1.3.cmml" type="integer" xref="S4.Ex2.m2.1.1.1.1.3">1</cn><apply id="S4.Ex2.m2.1.1.1.1.1.2.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.Ex2.m2.1.1.1.1.1.2.1.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.Ex2.m2.1.1.1.1.1.1.1.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.1"><in id="S4.Ex2.m2.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.1.1"></in><apply id="S4.Ex2.m2.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex2.m2.1.1.1.1.1.1.1.2.1.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.Ex2.m2.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.1.2.2">𝑐</ci><ci id="S4.Ex2.m2.1.1.1.1.1.1.1.2.3.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S4.Ex2.m2.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex2.m2.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex2.m2.1.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.1.3.2">𝐶</ci><ci id="S4.Ex2.m2.1.1.1.1.1.1.1.3.3.cmml" xref="S4.Ex2.m2.1.1.1.1.1.1.1.3.3">𝑟</ci></apply></apply></apply></apply></apply><ci id="S4.Ex2.m2.1.1.3.cmml" xref="S4.Ex2.m2.1.1.3">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex2.m2.1c">\displaystyle=\frac{\sum_{i}^{M}\mathbbm{1}\left[c_{i}\in C_{r}\right]}{M}</annotation><annotation encoding="application/x-llamapun" id="S4.Ex2.m2.1d">= divide start_ARG ∑ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT blackboard_1 [ italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ italic_C start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT ] end_ARG start_ARG italic_M end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S4.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathit{CFP}" class="ltx_Math" display="inline" id="S4.Ex3.m1.1"><semantics id="S4.Ex3.m1.1a"><mi id="S4.Ex3.m1.1.1" xref="S4.Ex3.m1.1.1.cmml">𝐶𝐹𝑃</mi><annotation-xml encoding="MathML-Content" id="S4.Ex3.m1.1b"><ci id="S4.Ex3.m1.1.1.cmml" xref="S4.Ex3.m1.1.1">𝐶𝐹𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex3.m1.1c">\displaystyle\mathit{CFP}</annotation><annotation encoding="application/x-llamapun" id="S4.Ex3.m1.1d">italic_CFP</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=1-\frac{\sum_{i}^{M}\mathbbm{1}\left[c_{i}\in C_{r}\vee\left(%
\bigvee_{j=1}^{t-1}c_{i}\sqsubseteq p_{j}\right)\right]}{M}" class="ltx_Math" display="inline" id="S4.Ex3.m2.1"><semantics id="S4.Ex3.m2.1a"><mrow id="S4.Ex3.m2.1.2" xref="S4.Ex3.m2.1.2.cmml"><mi id="S4.Ex3.m2.1.2.2" xref="S4.Ex3.m2.1.2.2.cmml"></mi><mo id="S4.Ex3.m2.1.2.1" xref="S4.Ex3.m2.1.2.1.cmml">=</mo><mrow id="S4.Ex3.m2.1.2.3" xref="S4.Ex3.m2.1.2.3.cmml"><mn id="S4.Ex3.m2.1.2.3.2" xref="S4.Ex3.m2.1.2.3.2.cmml">1</mn><mo id="S4.Ex3.m2.1.2.3.1" xref="S4.Ex3.m2.1.2.3.1.cmml">−</mo><mstyle displaystyle="true" id="S4.Ex3.m2.1.1" xref="S4.Ex3.m2.1.1.cmml"><mfrac id="S4.Ex3.m2.1.1a" xref="S4.Ex3.m2.1.1.cmml"><mrow id="S4.Ex3.m2.1.1.1" xref="S4.Ex3.m2.1.1.1.cmml"><msubsup id="S4.Ex3.m2.1.1.1.2" xref="S4.Ex3.m2.1.1.1.2.cmml"><mo id="S4.Ex3.m2.1.1.1.2.2.2" xref="S4.Ex3.m2.1.1.1.2.2.2.cmml">∑</mo><mi id="S4.Ex3.m2.1.1.1.2.2.3" xref="S4.Ex3.m2.1.1.1.2.2.3.cmml">i</mi><mi id="S4.Ex3.m2.1.1.1.2.3" xref="S4.Ex3.m2.1.1.1.2.3.cmml">M</mi></msubsup><mrow id="S4.Ex3.m2.1.1.1.1" xref="S4.Ex3.m2.1.1.1.1.cmml"><mn id="S4.Ex3.m2.1.1.1.1.3" xref="S4.Ex3.m2.1.1.1.1.3.cmml">𝟙</mn><mo id="S4.Ex3.m2.1.1.1.1.2" xref="S4.Ex3.m2.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex3.m2.1.1.1.1.1.1" xref="S4.Ex3.m2.1.1.1.1.1.2.cmml"><mo id="S4.Ex3.m2.1.1.1.1.1.1.2" xref="S4.Ex3.m2.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S4.Ex3.m2.1.1.1.1.1.1.1" xref="S4.Ex3.m2.1.1.1.1.1.1.1.cmml"><msub id="S4.Ex3.m2.1.1.1.1.1.1.1.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.3.cmml"><mi id="S4.Ex3.m2.1.1.1.1.1.1.1.3.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.3.2.cmml">c</mi><mi id="S4.Ex3.m2.1.1.1.1.1.1.1.3.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub><mo id="S4.Ex3.m2.1.1.1.1.1.1.1.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.2.cmml">∈</mo><mrow id="S4.Ex3.m2.1.1.1.1.1.1.1.1" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.cmml"><msub id="S4.Ex3.m2.1.1.1.1.1.1.1.1.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.2.cmml">C</mi><mi id="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.3.cmml">r</mi></msub><mo id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.cmml">∨</mo><mrow id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><msubsup id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml"><mo id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.2" lspace="0em" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.2.cmml">⋁</mo><mrow id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.cmml"><mi id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.2.cmml">j</mi><mo id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.1" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.1.cmml">=</mo><mn id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.3.cmml">1</mn></mrow><mrow id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.cmml"><mi id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.2.cmml">t</mi><mo id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.1" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.1.cmml">−</mo><mn id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.3.cmml">1</mn></mrow></msubsup><msub id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">c</mi><mi id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml">i</mi></msub></mrow><mo id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.1.cmml">⊑</mo><msub id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">p</mi><mi id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">j</mi></msub></mrow><mo id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.Ex3.m2.1.1.1.1.1.1.3" xref="S4.Ex3.m2.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><mi id="S4.Ex3.m2.1.1.3" xref="S4.Ex3.m2.1.1.3.cmml">M</mi></mfrac></mstyle></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex3.m2.1b"><apply id="S4.Ex3.m2.1.2.cmml" xref="S4.Ex3.m2.1.2"><eq id="S4.Ex3.m2.1.2.1.cmml" xref="S4.Ex3.m2.1.2.1"></eq><csymbol cd="latexml" id="S4.Ex3.m2.1.2.2.cmml" xref="S4.Ex3.m2.1.2.2">absent</csymbol><apply id="S4.Ex3.m2.1.2.3.cmml" xref="S4.Ex3.m2.1.2.3"><minus id="S4.Ex3.m2.1.2.3.1.cmml" xref="S4.Ex3.m2.1.2.3.1"></minus><cn id="S4.Ex3.m2.1.2.3.2.cmml" type="integer" xref="S4.Ex3.m2.1.2.3.2">1</cn><apply id="S4.Ex3.m2.1.1.cmml" xref="S4.Ex3.m2.1.1"><divide id="S4.Ex3.m2.1.1.2.cmml" xref="S4.Ex3.m2.1.1"></divide><apply id="S4.Ex3.m2.1.1.1.cmml" xref="S4.Ex3.m2.1.1.1"><apply id="S4.Ex3.m2.1.1.1.2.cmml" xref="S4.Ex3.m2.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.2.1.cmml" xref="S4.Ex3.m2.1.1.1.2">superscript</csymbol><apply id="S4.Ex3.m2.1.1.1.2.2.cmml" xref="S4.Ex3.m2.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.2.2.1.cmml" xref="S4.Ex3.m2.1.1.1.2">subscript</csymbol><sum id="S4.Ex3.m2.1.1.1.2.2.2.cmml" xref="S4.Ex3.m2.1.1.1.2.2.2"></sum><ci id="S4.Ex3.m2.1.1.1.2.2.3.cmml" xref="S4.Ex3.m2.1.1.1.2.2.3">𝑖</ci></apply><ci id="S4.Ex3.m2.1.1.1.2.3.cmml" xref="S4.Ex3.m2.1.1.1.2.3">𝑀</ci></apply><apply id="S4.Ex3.m2.1.1.1.1.cmml" xref="S4.Ex3.m2.1.1.1.1"><times id="S4.Ex3.m2.1.1.1.1.2.cmml" xref="S4.Ex3.m2.1.1.1.1.2"></times><cn id="S4.Ex3.m2.1.1.1.1.3.cmml" type="integer" xref="S4.Ex3.m2.1.1.1.1.3">1</cn><apply id="S4.Ex3.m2.1.1.1.1.1.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.Ex3.m2.1.1.1.1.1.2.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1"><in id="S4.Ex3.m2.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.2"></in><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex3.m2.1.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.3.2">𝑐</ci><ci id="S4.Ex3.m2.1.1.1.1.1.1.1.3.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.3.3">𝑖</ci></apply><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1"><or id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2"></or><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.2">𝐶</ci><ci id="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.3">𝑟</ci></apply><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.1">square-image-of-or-equals</csymbol><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2"><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1">superscript</csymbol><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1">subscript</csymbol><or id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.2"></or><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3"><eq id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.1"></eq><ci id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.2">𝑗</ci><cn id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.3.cmml" type="integer" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.2.3.3">1</cn></apply></apply><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3"><minus id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.1"></minus><ci id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.2">𝑡</ci><cn id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.3.cmml" type="integer" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.1.3.3">1</cn></apply></apply><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.2">𝑐</ci><ci id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.2.2.3">𝑖</ci></apply></apply><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3.2">𝑝</ci><ci id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply></apply></apply><ci id="S4.Ex3.m2.1.1.3.cmml" xref="S4.Ex3.m2.1.1.3">𝑀</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex3.m2.1c">\displaystyle=1-\frac{\sum_{i}^{M}\mathbbm{1}\left[c_{i}\in C_{r}\vee\left(%
\bigvee_{j=1}^{t-1}c_{i}\sqsubseteq p_{j}\right)\right]}{M}</annotation><annotation encoding="application/x-llamapun" id="S4.Ex3.m2.1d">= 1 - divide start_ARG ∑ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT blackboard_1 [ italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ italic_C start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT ∨ ( ⋁ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ⊑ italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ] end_ARG start_ARG italic_M end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS1.Px1.p1.6">where <math alttext="\mathbbm{1}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.Px1.p1.3.m1.1"><semantics id="S4.SS2.SSS1.Px1.p1.3.m1.1a"><mn id="S4.SS2.SSS1.Px1.p1.3.m1.1.1" xref="S4.SS2.SSS1.Px1.p1.3.m1.1.1.cmml">𝟙</mn><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px1.p1.3.m1.1b"><cn id="S4.SS2.SSS1.Px1.p1.3.m1.1.1.cmml" type="integer" xref="S4.SS2.SSS1.Px1.p1.3.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px1.p1.3.m1.1c">\mathbbm{1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.Px1.p1.3.m1.1d">blackboard_1</annotation></semantics></math> is the indicator function, and <math alttext="a\sqsubseteq b" class="ltx_Math" display="inline" id="S4.SS2.SSS1.Px1.p1.4.m2.1"><semantics id="S4.SS2.SSS1.Px1.p1.4.m2.1a"><mrow id="S4.SS2.SSS1.Px1.p1.4.m2.1.1" xref="S4.SS2.SSS1.Px1.p1.4.m2.1.1.cmml"><mi id="S4.SS2.SSS1.Px1.p1.4.m2.1.1.2" xref="S4.SS2.SSS1.Px1.p1.4.m2.1.1.2.cmml">a</mi><mo id="S4.SS2.SSS1.Px1.p1.4.m2.1.1.1" xref="S4.SS2.SSS1.Px1.p1.4.m2.1.1.1.cmml">⊑</mo><mi id="S4.SS2.SSS1.Px1.p1.4.m2.1.1.3" xref="S4.SS2.SSS1.Px1.p1.4.m2.1.1.3.cmml">b</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px1.p1.4.m2.1b"><apply id="S4.SS2.SSS1.Px1.p1.4.m2.1.1.cmml" xref="S4.SS2.SSS1.Px1.p1.4.m2.1.1"><csymbol cd="latexml" id="S4.SS2.SSS1.Px1.p1.4.m2.1.1.1.cmml" xref="S4.SS2.SSS1.Px1.p1.4.m2.1.1.1">square-image-of-or-equals</csymbol><ci id="S4.SS2.SSS1.Px1.p1.4.m2.1.1.2.cmml" xref="S4.SS2.SSS1.Px1.p1.4.m2.1.1.2">𝑎</ci><ci id="S4.SS2.SSS1.Px1.p1.4.m2.1.1.3.cmml" xref="S4.SS2.SSS1.Px1.p1.4.m2.1.1.3">𝑏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px1.p1.4.m2.1c">a\sqsubseteq b</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.Px1.p1.4.m2.1d">italic_a ⊑ italic_b</annotation></semantics></math> indicates that <math alttext="a" class="ltx_Math" display="inline" id="S4.SS2.SSS1.Px1.p1.5.m3.1"><semantics id="S4.SS2.SSS1.Px1.p1.5.m3.1a"><mi id="S4.SS2.SSS1.Px1.p1.5.m3.1.1" xref="S4.SS2.SSS1.Px1.p1.5.m3.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px1.p1.5.m3.1b"><ci id="S4.SS2.SSS1.Px1.p1.5.m3.1.1.cmml" xref="S4.SS2.SSS1.Px1.p1.5.m3.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px1.p1.5.m3.1c">a</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.Px1.p1.5.m3.1d">italic_a</annotation></semantics></math> is a substring of <math alttext="b" class="ltx_Math" display="inline" id="S4.SS2.SSS1.Px1.p1.6.m4.1"><semantics id="S4.SS2.SSS1.Px1.p1.6.m4.1a"><mi id="S4.SS2.SSS1.Px1.p1.6.m4.1.1" xref="S4.SS2.SSS1.Px1.p1.6.m4.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px1.p1.6.m4.1b"><ci id="S4.SS2.SSS1.Px1.p1.6.m4.1.1.cmml" xref="S4.SS2.SSS1.Px1.p1.6.m4.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px1.p1.6.m4.1c">b</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.Px1.p1.6.m4.1d">italic_b</annotation></semantics></math>. CR measures the fraction of relevant citations being generated, and CP measures the fraction of generated citations being relevant. CFP measures the fraction of the generated citations being hallucinated, which means that they come from unlisted sources. See an example calculation in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.F8" title="Figure 8 ‣ D.3 Retrieve with Cross-Encoders ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">8</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS1.Px2">
<h5 class="ltx_title ltx_title_paragraph">Metrics, Data, and Models</h5>
<div class="ltx_para" id="S4.SS2.SSS1.Px2.p1">
<p class="ltx_p" id="S4.SS2.SSS1.Px2.p1.1">We evaluate legal analysis generation with ROUGE <cite class="ltx_cite ltx_citemacro_citep">(Lin, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib37" title="">2004</a>)</cite>, BARTScore <cite class="ltx_cite ltx_citemacro_citep">(Yuan et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib73" title="">2021</a>)</cite>, CP, CR, and CFP.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS1.Px2.p2">
<p class="ltx_p" id="S4.SS2.SSS1.Px2.p2.1">We run greedy generations on the test set (1k instances) of <span class="ltx_text ltx_font_typewriter" id="S4.SS2.SSS1.Px2.p2.1.1">CLERC/generation</span> with Meta-Llama-3-8B-Instruct,<span class="ltx_note ltx_role_footnote" id="footnote9"><sup class="ltx_note_mark">9</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">9</sup><span class="ltx_tag ltx_tag_note">9</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/meta-llama/llama3" title="">https://github.com/meta-llama/llama3</a></span></span></span> Mistral-7B-Instruct-v0.3 <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib27" title="">2023</a>)</cite>, GPT-4o <cite class="ltx_cite ltx_citemacro_citep">(Josh Achiam et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib29" title="">2024</a>)</cite>, and Gemma-1.1-7b-it <cite class="ltx_cite ltx_citemacro_citep">(Reid et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib53" title="">2024</a>)</cite>.
We use FastChat <cite class="ltx_cite ltx_citemacro_citep">(Zheng et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib75" title="">2023</a>)</cite> to host the open source models and the OpenAI API to access GPT-4o.<span class="ltx_note ltx_role_footnote" id="footnote10"><sup class="ltx_note_mark">10</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">10</sup><span class="ltx_tag ltx_tag_note">10</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://platform.openai.com/playground" title="">https://platform.openai.com/playground</a></span></span></span>
All the experiments are done using greedy decoding with a temperature of 1.
Readers may refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A3" title="Appendix C Prompt for Argument Generation ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">C</span></a> for the prompts used.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS1.Px3">
<h5 class="ltx_title ltx_title_paragraph">Ablation study</h5>
<div class="ltx_para" id="S4.SS2.SSS1.Px3.p1">
<p class="ltx_p" id="S4.SS2.SSS1.Px3.p1.1">To study the effect of retrieved cases on generation, we perform an ablation study by not providing any citation documents to the model.
The model is asked to generate the text solely based on the previous text, i.e. <math alttext="(p_{1},p_{2},\dots,p_{t-1})" class="ltx_Math" display="inline" id="S4.SS2.SSS1.Px3.p1.1.m1.4"><semantics id="S4.SS2.SSS1.Px3.p1.1.m1.4a"><mrow id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.4.cmml"><mo id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.4" stretchy="false" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.4.cmml">(</mo><msub id="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1" xref="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1.cmml"><mi id="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1.2" xref="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1.2.cmml">p</mi><mn id="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1.3" xref="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.5" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.4.cmml">,</mo><msub id="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2" xref="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2.cmml"><mi id="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2.2" xref="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2.2.cmml">p</mi><mn id="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2.3" xref="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2.3.cmml">2</mn></msub><mo id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.6" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.4.cmml">,</mo><mi id="S4.SS2.SSS1.Px3.p1.1.m1.1.1" mathvariant="normal" xref="S4.SS2.SSS1.Px3.p1.1.m1.1.1.cmml">…</mi><mo id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.7" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.4.cmml">,</mo><msub id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.cmml"><mi id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.2" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.2.cmml">p</mi><mrow id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.cmml"><mi id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.2" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.2.cmml">t</mi><mo id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.1" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.1.cmml">−</mo><mn id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.3" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.3.cmml">1</mn></mrow></msub><mo id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.8" stretchy="false" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.4.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.Px3.p1.1.m1.4b"><vector id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.4.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3"><apply id="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1.1.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1.2.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1.2">𝑝</ci><cn id="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1.3.cmml" type="integer" xref="S4.SS2.SSS1.Px3.p1.1.m1.2.2.1.1.3">1</cn></apply><apply id="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2.1.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2">subscript</csymbol><ci id="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2.2.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2.2">𝑝</ci><cn id="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2.3.cmml" type="integer" xref="S4.SS2.SSS1.Px3.p1.1.m1.3.3.2.2.3">2</cn></apply><ci id="S4.SS2.SSS1.Px3.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.1.1">…</ci><apply id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.1.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3">subscript</csymbol><ci id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.2.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.2">𝑝</ci><apply id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3"><minus id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.1.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.1"></minus><ci id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.2.cmml" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.2">𝑡</ci><cn id="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.3.cmml" type="integer" xref="S4.SS2.SSS1.Px3.p1.1.m1.4.4.3.3.3.3">1</cn></apply></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.Px3.p1.1.m1.4c">(p_{1},p_{2},\dots,p_{t-1})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.Px3.p1.1.m1.4d">( italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_p start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT )</annotation></semantics></math>.</p>
</div>
</section>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.2 </span>Results and Analysis</h4>
<div class="ltx_para" id="S4.SS2.SSS2.p1">
<p class="ltx_p" id="S4.SS2.SSS2.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.T4" title="Table 4 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">4</span></a> shows results of analysis generation on <span class="ltx_text ltx_font_typewriter" id="S4.SS2.SSS2.p1.1.1">CLERC/generation</span>. GPT-4o overall demonstrates the highest performance in terms of F-scores of ROUGE, CP, and CR, while Meta-Llama-3-8B-Instruct scores highest in BARTScore and second-highest across multiple metrics.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS2.p2">
<p class="ltx_p" id="S4.SS2.SSS2.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS2.SSS2.p2.1.1">Under the full prompt, GPT-4o hallucinates the most</span>, as reflected by its CFP score (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.F8" title="Figure 8 ‣ D.3 Retrieve with Cross-Encoders ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">8</span></a>). Gemma-1.1-7b-it achieves both the minimum CFP with the full prompt and the worst CFP with the shortened prompt, which shows that it is most sensitive to prompting under our setting.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS2.p3">
<p class="ltx_p" id="S4.SS2.SSS2.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS2.SSS2.p3.1.1">Prompting with the texts of cited cases effectively boosts performance</span>, helping models cite more comprehensively, precisely, and with less hallucination, which is crucial for legal writing.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS2.p4">
<p class="ltx_p" id="S4.SS2.SSS2.p4.1">However, even with the full prompt, <span class="ltx_text ltx_font_bold" id="S4.SS2.SSS2.p4.1.1">generations have low CP and CR and considerably high CFP, which is concerning for legal applications</span>. Moreover, <span class="ltx_text ltx_font_bold" id="S4.SS2.SSS2.p4.1.2">CP, CR, and CFP overestimate analysis quality</span>. As we will discuss in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S5.SS2" title="5.2 Limitations in Analysis Generation and Metrics ‣ 5 Discussion ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">5.2</span></a>, high scores on the citation metrics do not imply that outputs are factual and analytically sound.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Discussion</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Limitations in Case Retrieval</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.7">We analyze why popular retrieval models struggle on the <span class="ltx_text ltx_font_smallcaps" id="S5.SS1.p1.7.1">Clerc </span>retrieval task, as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.T3" title="Table 3 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">3</span></a>. As an example, consider this shortened query:</p>
<blockquote class="ltx_quote" id="S5.SS1.p1.6">
<p class="ltx_p" id="S5.SS1.p1.6.6"><math alttext="\cdots" class="ltx_Math" display="inline" id="S5.SS1.p1.1.1.m1.1"><semantics id="S5.SS1.p1.1.1.m1.1a"><mi id="S5.SS1.p1.1.1.m1.1.1" mathvariant="normal" xref="S5.SS1.p1.1.1.m1.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.1.1.m1.1b"><ci id="S5.SS1.p1.1.1.m1.1.1.cmml" xref="S5.SS1.p1.1.1.m1.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.1.1.m1.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.1.1.m1.1d">⋯</annotation></semantics></math> (Omitted for brevity) <math alttext="\cdots" class="ltx_Math" display="inline" id="S5.SS1.p1.2.2.m2.1"><semantics id="S5.SS1.p1.2.2.m2.1a"><mi id="S5.SS1.p1.2.2.m2.1.1" mathvariant="normal" xref="S5.SS1.p1.2.2.m2.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.2.2.m2.1b"><ci id="S5.SS1.p1.2.2.m2.1.1.cmml" xref="S5.SS1.p1.2.2.m2.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.2.2.m2.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.2.2.m2.1d">⋯</annotation></semantics></math>
St. Paul Reins. Co., Ltd. v. Commercial Fin. Corp., 198 F.R.D. 508, 512 (N.D.Iowa 2000) (<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.SS1.p1.6.6.1" style="color:#D53E3E;">Boilerplate</span> objections, including that a particul
ar document request was oppressive, burdensome and harassing, were “[i]n eve
ry respect … textbook examples of what federal courts have routinely deeme
d to be improper objections.”)
<math alttext="\cdots" class="ltx_Math" display="inline" id="S5.SS1.p1.3.3.m3.1"><semantics id="S5.SS1.p1.3.3.m3.1a"><mi id="S5.SS1.p1.3.3.m3.1.1" mathvariant="normal" xref="S5.SS1.p1.3.3.m3.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.3.3.m3.1b"><ci id="S5.SS1.p1.3.3.m3.1.1.cmml" xref="S5.SS1.p1.3.3.m3.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.3.3.m3.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.3.3.m3.1d">⋯</annotation></semantics></math> (Omitted for brevity) <math alttext="\cdots" class="ltx_Math" display="inline" id="S5.SS1.p1.4.4.m4.1"><semantics id="S5.SS1.p1.4.4.m4.1a"><mi id="S5.SS1.p1.4.4.m4.1.1" mathvariant="normal" xref="S5.SS1.p1.4.4.m4.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.4.4.m4.1b"><ci id="S5.SS1.p1.4.4.m4.1.1.cmml" xref="S5.SS1.p1.4.4.m4.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.4.4.m4.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.4.4.m4.1d">⋯</annotation></semantics></math>
<span class="ltx_text ltx_framed ltx_framed_underline" id="S5.SS1.p1.6.6.2" style="color:#D53E3E;">Elk Run</span>’s Second Set of Interrogatories The court notes that Plaintiffs answers to Elk Run’s second set of interrogatories are utterly deficient because they are not answered under oath, signed by the person making the answers as required by Rule 33(b)(1) of the Federal Rules of Civil Procedure and <span class="ltx_text ltx_font_bold" id="S5.SS1.p1.6.6.3">REDACTED</span> In addition to the deficiency outlined above, the court finds that the answers to interrogatory numbers 1 and 2 are inadequate, unresponsive, and inconsistent with the requirements of Rule 33.
<math alttext="\cdots" class="ltx_Math" display="inline" id="S5.SS1.p1.5.5.m5.1"><semantics id="S5.SS1.p1.5.5.m5.1a"><mi id="S5.SS1.p1.5.5.m5.1.1" mathvariant="normal" xref="S5.SS1.p1.5.5.m5.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.5.5.m5.1b"><ci id="S5.SS1.p1.5.5.m5.1.1.cmml" xref="S5.SS1.p1.5.5.m5.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.5.5.m5.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.5.5.m5.1d">⋯</annotation></semantics></math> (Omitted for brevity) <math alttext="\cdots" class="ltx_Math" display="inline" id="S5.SS1.p1.6.6.m6.1"><semantics id="S5.SS1.p1.6.6.m6.1a"><mi id="S5.SS1.p1.6.6.m6.1.1" mathvariant="normal" xref="S5.SS1.p1.6.6.m6.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.6.6.m6.1b"><ci id="S5.SS1.p1.6.6.m6.1.1.cmml" xref="S5.SS1.p1.6.6.m6.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.6.6.m6.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.6.6.m6.1d">⋯</annotation></semantics></math></p>
</blockquote>
<p class="ltx_p" id="S5.SS1.p1.8">where REDACTED is a placeholder for the removed central citation sentence, and we highlight <span class="ltx_text ltx_framed ltx_framed_underline" id="S5.SS1.p1.8.1" style="color:#D53E3E;">underlined red words</span> as “distractor” words.</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.1">After examining the full texts of top-ranked results when searching with BM25, we discover that <span class="ltx_text ltx_font_bold" id="S5.SS1.p2.1.1">models can be easily be “distracted” and retrieve non-central citations, usually due to the many overlaps of distractor words</span>. In the highest ranked case, <span class="ltx_text ltx_font_italic" id="S5.SS1.p2.1.2">228 F.R.D. 536</span>, the word “Elk Run” appears 45 times, which is the name of a sued company in the referenced case. In the second-highest case, <span class="ltx_text ltx_font_italic" id="S5.SS1.p2.1.3">309 F.R.D. 476</span>, the word “Boilerplate” appears 67 times, whereas “Boilerplate objection” is a common type of objection raised in court <cite class="ltx_cite ltx_citemacro_citep">(Baicker-McKee and Janssen, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib3" title="">2022</a>)</cite>. These distractor words are often common words and legal jargon, which can have many occurrences in irrelevant documents and make it harder for popular models to retrieve. Hence, this domain shift (and our results in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.T3" title="Table 3 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">3</span></a>) show how important fine-tuning on legal data is for legal retrieval models.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Limitations in Analysis Generation and Metrics</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">As discussed in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS2.SSS2" title="4.2.2 Results and Analysis ‣ 4.2 Generating Legal Analyses from Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">4.2.2</span></a>, the current models struggle on the citation metrics. However, we show an example to illustrate that <span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.1">scoring high on current citation metrics does not imply good generation quality.</span> We sample and show a fragment of gold paragraph from 99 F. Supp. 2d 1115 (C.D. Cal. 1999) in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S3.F5" title="Figure 5 ‣ Input Preparation ‣ 3.3 Legal Analysis Generation ‣ 3 Dataset Construction ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">5</span></a>:</p>
<blockquote class="ltx_quote" id="S5.SS2.p1.2">
<p class="ltx_p" id="S5.SS2.p1.2.1"><span class="ltx_text ltx_font_italic" id="S5.SS2.p1.2.1.1" style="color:#D53E3E;">Divers’ status as a corporate officer does not exempt him from liability.</span> <span class="ltx_text" id="S5.SS2.p1.2.1.2" style="color:#2E66AC;">See Kayes v. Pacific Lumber Co., 51 F.3d 1449, 1459 (9th Cir.1995)</span></p>
</blockquote>
<p class="ltx_p" id="S5.SS2.p1.3">where the <span class="ltx_text ltx_font_italic" id="S5.SS2.p1.3.1" style="color:#D53E3E;">red italicized</span> texts describe the analytical claim, supported by the case citation in <span class="ltx_text" id="S5.SS2.p1.3.2" style="color:#2E66AC;">blue</span>. On the other hand, Llama-3-8B outputs:</p>
<blockquote class="ltx_quote" id="S5.SS2.p1.4">
<p class="ltx_p" id="S5.SS2.p1.4.1"><span class="ltx_text ltx_font_italic" id="S5.SS2.p1.4.1.1" style="color:#D53E3E;">As previously stated, 29 U.S.C. § 1002(21)(A) defines a fiduciary as a person who exercises any authority or control respecting management or disposition of [a plan’s] assets.</span> <span class="ltx_text" id="S5.SS2.p1.4.1.2" style="color:#2E66AC;">P51 F.3d 1449, 1459 (9th Cir.1995).</span></p>
</blockquote>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.1">While the generation makes the correct citation (“P51 F.3d 1449, 1459 (9th Cir.1995)”) and scores high on the citation metrics, <span class="ltx_text ltx_font_bold" id="S5.SS2.p2.1.1">it fails to generate an analytical claim that can be supported by the citation</span>. From the gold paragraph, the citation should support the claim “corporate officer has liability.” However, the generated claim only defines what a fiduciary is, which was already defined in the previous context, rather than conveying useful new information for reasoning. See an additional example of GPT-4o hallucination in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A5" title="Appendix E Qualitative Example ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">E</span></a>.</p>
</div>
<div class="ltx_para" id="S5.SS2.p3">
<p class="ltx_p" id="S5.SS2.p3.1">Therefore, we welcome the development of automated metrics that focus on evaluating the <span class="ltx_text ltx_font_italic" id="S5.SS2.p3.1.1">factual recall</span> aspect of text generation. One such approach could be extending metrics such as FActScore <cite class="ltx_cite ltx_citemacro_citep">(Min et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib48" title="">2023</a>)</cite> to the legal domain. However, as extracting the legal analyses itself is non-trivial in the legal domain, we leave this to future work.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">Case law data is a high-quality resource for building intelligence systems to assist legal professionals. Through an interdisciplinary effort with legal professionals, we transform the digitized corpus of case law <cite class="ltx_cite ltx_citemacro_citep">(CAP, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib9" title="">2024</a>)</cite> into <span class="ltx_text ltx_font_smallcaps" id="S6.p1.1.1">Clerc</span>, a dataset designed for training and evaluating models on long-context case retrieval and analysis generation tasks. We hope our work opens the gate for more exciting discoveries in AI built with legal text data.</p>
</div>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Limitations</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">Our work provides an initial step into developing systems that can aid legal professionals. However, as we’ve shown, current systems are not well-suited to helping legal professionals on these tasks at the current moment, even those that are fine-tuned.</p>
</div>
<div class="ltx_para" id="S7.p2">
<p class="ltx_p" id="S7.p2.1">We use the legal data provided by CAP, which gathered the data through OCR. As such, our data may contain small OCR errors, although our analysis has found it to be generally of high quality.</p>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Ethical Considerations</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">In this work, we curate our dataset based on the corpus of historical U.S. federal case law. However, past case law might contain racisim, sexism, and all other ideologies that people have considered controversial or undesirable for society and people’s well-being. Building legal intelligence systems on case law data has the risk of propagating such historical biases and ideologies, which we caution the NLP community to be aware of and encourage future endeavors to address.</p>
</div>
</section>
<section class="ltx_section" id="Sx2">
<h2 class="ltx_title ltx_title_section">Acknowledgement</h2>
<div class="ltx_para" id="Sx2.p1">
<p class="ltx_p" id="Sx2.p1.1">This work was supported in part by the U.S. National Science Foundation under grant 2204926. Opinions, findings, and conclusions or recommendations expressed in this article come from the authors and do not reflect the views of the National Science Foundation. We alsothank Amy Wang for her advice on the visual designs in this paper.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anthropic (2024)</span>
<span class="ltx_bibblock">
Anthropic. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://www-cdn.anthropic.com/de8ba9b01c9ab7cbabf5c33b80b7bbc618857627/Model_Card_Claude_3.pdf" title="">The Claude 3 Model Family: Opus, Sonnet, Haiku</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Askari et al. (2021)</span>
<span class="ltx_bibblock">
Arian Askari, Suzan Verberne, O Alonso, S Marchesin, M Najork, and G Silvello. 2021.

</span>
<span class="ltx_bibblock">Combining lexical and neural retrieval with longformer-based summarization for effective case law retrieval.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">DESIRES</em>, pages 162–170.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Baicker-McKee and Janssen (2022)</span>
<span class="ltx_bibblock">
Steven Baicker-McKee and William M. Janssen. 2022.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">Federal Civil Rules Handbook</em>.

</span>
<span class="ltx_bibblock">Thomson Reuters.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Beltagy et al. (2020)</span>
<span class="ltx_bibblock">
Iz Beltagy, Matthew E. Peters, and Arman Cohan. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2004.05150" title="">Longformer: The Long-Document Transformer</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Blair and Maron (1985)</span>
<span class="ltx_bibblock">
David C Blair and Melvin E Maron. 1985.

</span>
<span class="ltx_bibblock">An evaluation of retrieval effectiveness for a full-text document-retrieval system.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">Communications of the ACM</em>, 28(3):289–299.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al. (2020)</span>
<span class="ltx_bibblock">
Tom B. Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, Sandhini Agarwal, Ariel Herbert-Voss, Gretchen Krueger, Tom Henighan, Rewon Child, Aditya Ramesh, Daniel M. Ziegler, Jeffrey Wu, Clemens Winter, Christopher Hesse, Mark Chen, Eric Sigler, Mateusz Litwin, Scott Gray, Benjamin Chess, Jack Clark, Christopher Berner, Sam McCandlish, Alec Radford, Ilya Sutskever, and Dario Amodei. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2005.14165" title="">Language models are few-shot learners</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bulatov et al. (2022)</span>
<span class="ltx_bibblock">
Aydar Bulatov, Yuri Kuratov, and Mikhail S. Burtsev. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2207.06881" title="">Recurrent Memory Transformer</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">Proceedings of Conference on Neural Information Processing Systems (NeurIPS)</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cao et al. (2024)</span>
<span class="ltx_bibblock">
Lang Cao, Zifeng Wang, Cao Xiao, and Jimeng Sun. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2401.15770" title="">PILOT: Legal Case Outcome Prediction with Case Law</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">CAP (2024)</span>
<span class="ltx_bibblock">
CAP. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://case.law" title="">Caselaw access project</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2023)</span>
<span class="ltx_bibblock">
Shouyuan Chen, Sherman Wong, Liangjian Chen, and Yuandong Tian. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2306.15595" title="">Extending Context Window of Large Language Models via Positional Interpolation</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Choromanski et al. (2021)</span>
<span class="ltx_bibblock">
Krzysztof Choromanski, Valerii Likhosherstov, David Dohan, Xingyou Song, Andreea Gane, Tamas Sarlos, Peter Hawkins, Jared Davis, Afroz Mohiuddin, Lukasz Kaiser, David Belanger, Lucy Colwell, and Adrian Weller. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2009.14794" title="">Rethinking Attention with Performers</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">Proceedings of International Conference on Learning Representations (ICLR)</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cushman et al. (2021)</span>
<span class="ltx_bibblock">
Jack Cushman, Matthew Dahl, and Michael Lissner. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.21105/joss.03617" title="">eyecite: A tool for parsing legal citations</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">Journal of Open Source Software</em>, 6(66):3617.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dahl et al. (2024)</span>
<span class="ltx_bibblock">
Matthew Dahl, Varun Magesh, Mirac Suzgun, and Daniel E. Ho. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:266725450" title="">Large legal fictions: Profiling legal hallucinations in large language models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">ArXiv</em>, abs/2401.01301.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dai et al. (2019)</span>
<span class="ltx_bibblock">
Zihang Dai, Zhilin Yang, Yiming Yang, Jaime Carbonell, Quoc Le, and Ruslan Salakhutdinov. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/P19-1285" title="">Transformer-XL: Attentive language models beyond a fixed-length context</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics</em>, pages 2978–2988, Florence, Italy. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devlin et al. (2018)</span>
<span class="ltx_bibblock">
Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova. 2018.

</span>
<span class="ltx_bibblock">Bert: Pre-training of deep bidirectional transformers for language understanding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:1810.04805</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong et al. (2024)</span>
<span class="ltx_bibblock">
Zican Dong, Tianyi Tang, Junyi Li, Wayne Xin Zhao, and Ji-Rong Wen. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2309.13345" title="">BAMBOO: A Comprehensive Benchmark for Evaluating Long Text Modeling Capacities of Large Language Models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">Proceedings of Language Resources and Evaluation Conference (LREC)</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ebietomere and Ekuobase (2019)</span>
<span class="ltx_bibblock">
Esingbemi Princewill Ebietomere and Godspower Osaretin Ekuobase. 2019.

</span>
<span class="ltx_bibblock">A semantic retrieval system for case law.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">Applied Computer Systems</em>, 24(1):38–48.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fu et al. (2023)</span>
<span class="ltx_bibblock">
Daniel Y Fu, Simran Arora, Jessica Grogan, Isys Johnson, Sabri Eyuboglu, Armin W Thomas, Benjamin Spector, Michael Poli, Atri Rudra, and Christopher Ré. 2023.

</span>
<span class="ltx_bibblock">Monarch mixer: A simple sub-quadratic gemm-based architecture.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">Advances in Neural Information Processing Systems</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2022)</span>
<span class="ltx_bibblock">
Luyu Gao, Xueguang Ma, Jimmy J. Lin, and Jamie Callan. 2022.

</span>
<span class="ltx_bibblock">Tevatron: An efficient and flexible toolkit for dense retrieval.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">ArXiv</em>, abs/2203.05765.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gesnouin et al. (2024)</span>
<span class="ltx_bibblock">
Joseph Gesnouin, Yannis Tannier, Christophe Gomes Da Silva, Hatim Tapory, Camille Brier, Hugo Simon, Raphael Rozenberg, Hermann Woehrel, Mehdi El Yakaabi, Thomas Binder, Guillaume Marie, Emilie Caron, Mathile Nogueira, Thomas Fontas, Laure Puydebois, Marie Theophile, Stephane Morandi, Mael Petit, David Creissac, Pauline Ennouchy, Elise Valetoux, Celine Visade, Severine Balloux, Emmanuel Cortes, Pierre-Etienne Devineau, Ulrich Tan, Esther Mac Namara, and Su Yang. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:267311712" title="">Llamandement: Large language models for summarization of french legislative proposals</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">ArXiv</em>, abs/2401.16182.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Goebel et al. (2024)</span>
<span class="ltx_bibblock">
Randy Goebel, Yoshinobu Kano, Mi-Young Kim, Juliano Rabelo, Ken Satoh, and Masaharu Yoshioka. 2024.

</span>
<span class="ltx_bibblock">Overview and discussion of the competition on legal information, extraction/entailment (coliee) 2023.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">The Review of Socionetwork Strategies</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guha et al. (2023)</span>
<span class="ltx_bibblock">
Neel Guha, Julian Nyarko, Daniel E. Ho, Christopher Ré, Adam Chilton, Aditya Narayana, Alex Chohlas-Wood, Austin Peters, Brandon Waldon, Daniel N. Rockmore, Diego Zambrano, Dmitry Talisman, Enam Hoque, Faiz Surani, Frank Fagan, Galit Sarfaty, Gregory M. Dickinson, Haggai Porat, Jason Hegland, Jessica Wu, Joe Nudell, Joel Niklaus, John Nay, Jonathan H. Choi, Kevin Tobia, Margaret Hagan, Megan Ma, Michael Livermore, Nikon Rasumov-Rahe, Nils Holzenberger, Noam Kolt, Peter Henderson, Sean Rehaag, Sharad Goel, Shang Gao, Spencer Williams, Sunny Gandhi, Tom Zur, Varun Iyer, and Zehua Li. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2308.11462" title="">Legalbench: A collaboratively built benchmark for measuring legal reasoning in large language models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Preprint</em>, arXiv:2308.11462.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Günther et al. (2023)</span>
<span class="ltx_bibblock">
Michael Günther, Georgios Mastrapas, Bo Wang, Han Xiao, and Jonathan Geuter. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2023.nlposs-1.2" title="">Jina embeddings: A novel set of high-performance sentence embedding models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">Proceedings of the 3rd Workshop for Natural Language Processing Open Source Software (NLP-OSS 2023)</em>, pages 8–18, Singapore. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Henderson et al. (2022)</span>
<span class="ltx_bibblock">
Peter Henderson, Mark Krass, Lucia Zheng, Neel Guha, Christopher Manning, Dan Jurafsky, and Daniel E Ho. 2022.

</span>
<span class="ltx_bibblock">Pile of law: Learning responsible data filtering from the law and a 256gb open-source legal dataset.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Holzenberger et al. (2020)</span>
<span class="ltx_bibblock">
Nils Holzenberger, Andrew Blair-Stanek, and Benjamin Van Durme. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:218581117" title="">A dataset for statutory reasoning in tax law entailment and question answering</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">NLLP@KDD</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard et al. (2021)</span>
<span class="ltx_bibblock">
Gautier Izacard, Mathilde Caron, Lucas Hosseini, Sebastian Riedel, Piotr Bojanowski, Armand Joulin, and Edouard Grave. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2112.09118" title="">Unsupervised dense information retrieval with contrastive learning</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2023)</span>
<span class="ltx_bibblock">
Albert Qiaochu Jiang, Alexandre Sablayrolles, Arthur Mensch, Chris Bamford, Devendra Singh Chaplot, Diego de Las Casas, Florian Bressand, Gianna Lengyel, Guillaume Lample, Lucile Saulnier, L’elio Renard Lavaud, Marie-Anne Lachaux, Pierre Stock, Teven Le Scao, Thibaut Lavril, Thomas Wang, Timothée Lacroix, and William El Sayed. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:263830494" title="">Mistral 7b</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">ArXiv</em>, abs/2310.06825.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2024)</span>
<span class="ltx_bibblock">
Hang Jiang, Xiajie Zhang, Robert Mahari, Daniel Kessler, Eric Ma, Tal August, Irene Li, Alex ’Sandy’ Pentland, Yoon Kim, Jad Kabbara, and Deb Roy. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:268031822" title="">Leveraging large language models for learning complex legal concepts through storytelling</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">ArXiv</em>, abs/2402.17019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Josh Achiam et al. (2024)</span>
<span class="ltx_bibblock">
Josh Achiam, Steven Adler, Sandhini Agarwal, and et al. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2303.08774" title="">GPT-4 Technical Report</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al. (2020a)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oguz, Sewon Min, Patrick Lewis, Ledell Wu, Sergey Edunov, Danqi Chen, and Wen-tau Yih. 2020a.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2020.emnlp-main.550" title="">Dense passage retrieval for open-domain question answering</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP)</em>, pages 6769–6781, Online. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al. (2020b)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oğuz, Sewon Min, Patrick Lewis, Ledell Yu Wu, Sergey Edunov, Danqi Chen, and Wen tau Yih. 2020b.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:215737187" title="">Dense passage retrieval for open-domain question answering</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">ArXiv</em>, abs/2004.04906.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khattab and Zaharia (2020)</span>
<span class="ltx_bibblock">
Omar Khattab and Matei Zaharia. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1145/3397271.3401075" title="">Colbert: Efficient and effective passage search via contextualized late interaction over BERT</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">Proceedings of the 43rd International ACM SIGIR conference on research and development in Information Retrieval, SIGIR 2020, Virtual Event, China, July 25-30, 2020</em>, pages 39–48. ACM.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Kuttler, Mike Lewis, Wen-tau Yih, Tim Rocktaschel, Sebastian Riedel, and Douwe Kiela. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2005.11401" title="">Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">Proceedings of Conference on Neural Information Processing Systems (NeurIPS)</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023)</span>
<span class="ltx_bibblock">
Dacheng Li, Rulin Shao, Anze Xie, Ying Sheng, Lianmin Zheng, Joseph E Gonzalez, Ion Stoica, Xuezhe Ma, and Hao Zhang. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/pdf?id=LywifFNXV5" title="">How Long Can Context Length of Open-Source LLMs truly Promise?</a>
</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">Proceedings of Workshop on Instruction Tuning and Instruction Following</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2024)</span>
<span class="ltx_bibblock">
Haitao Li, Yunqiu Shao, Yueyue Wu, Qingyao Ai, Yixiao Ma, and Yiqun Liu. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2310.17609" title="">Lecardv2: A large-scale chinese legal case retrieval dataset</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">ArXiv preprint</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li and Zhang (2021)</span>
<span class="ltx_bibblock">
Quanzhi Li and Qiong Zhang. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:235363775" title="">Court opinion generation from case fact description with legal basis</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">AAAI Conference on Artificial Intelligence</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin (2004)</span>
<span class="ltx_bibblock">
Chin-Yew Lin. 2004.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:964287" title="">Rouge: A package for automatic evaluation of summaries</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">Annual Meeting of the Association for Computational Linguistics</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin and Cheng (2024)</span>
<span class="ltx_bibblock">
Chun-Hsien Lin and Pu-Jen Cheng. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:269505472" title="">Legal documents drafting with fine-tuned pre-trained large language model</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">Software Engineering &amp; Trends</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lippmann (2018)</span>
<span class="ltx_bibblock">
Matthew Lippmann. 2018.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">Criminal Procedure</em>, 3rd edition.

</span>
<span class="ltx_bibblock">SAGE Publications, Inc, Thousand Oaks, CA.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2024)</span>
<span class="ltx_bibblock">
Nelson F. Liu, Kevin Lin, John Hewitt, Ashwin Paranjape, Michele Bevilacqua, Fabio Petroni, and Percy Liang. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1162/tacl_a_00638" title="">Lost in the Middle: How Language Models Use Long Contexts</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">Transactions of the Association for Computational Linguistics (TACL)</em>, pages 157–173.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023)</span>
<span class="ltx_bibblock">
Nelson F. Liu, Tianyi Zhang, and Percy Liang. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:258212854" title="">Evaluating verifiability in generative search engines</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">ArXiv</em>, abs/2304.09848.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Locke and Zuccon (2022)</span>
<span class="ltx_bibblock">
Daniel Locke and Guido Zuccon. 2022.

</span>
<span class="ltx_bibblock">Case law retrieval: problems, methods, challenges and evaluations in the last 20 years.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">arXiv preprint arXiv:2202.07209</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ma et al. (2023)</span>
<span class="ltx_bibblock">
Xueguang Ma, Liang Wang, Nan Yang, Furu Wei, and Jimmy Lin. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:263908865" title="">Fine-tuning llama for multi-stage text retrieval</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">ArXiv</em>, abs/2310.08319.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ma et al. (2021)</span>
<span class="ltx_bibblock">
Yixiao Ma, Yunqiu Shao, Yueyue Wu, Yiqun Liu, Ruizhe Zhang, Min Zhang, and Shaoping Ma. 2021.

</span>
<span class="ltx_bibblock">Lecard: A legal case retrieval dataset for chinese law system.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">Proceedings of the 44th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>, pages 2342–2348.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Magesh et al. (2024)</span>
<span class="ltx_bibblock">
Varun Magesh, Faiz Surani, Matthew Dahl, Mirac Suzgun, Christopher D. Manning, and Daniel E. Ho. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:269976547" title="">Hallucination-free? assessing the reliability of leading ai legal research tools</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mahari (2021)</span>
<span class="ltx_bibblock">
Robert Mahari. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:235683267" title="">Autolaw: Augmented legal reasoning through legal precedent prediction</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">ArXiv</em>, abs/2106.16034.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mahari et al. (2023)</span>
<span class="ltx_bibblock">
Robert Mahari, Dominik Stammbach, Elliott Ash, and Alex’Sandy’ Pentland. 2023.

</span>
<span class="ltx_bibblock">Lepard: A large-scale dataset of judges citing precedents.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">arXiv preprint</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Min et al. (2023)</span>
<span class="ltx_bibblock">
Sewon Min, Kalpesh Krishna, Xinxi Lyu, Mike Lewis, Wen-tau Yih, Pang Koh, Mohit Iyyer, Luke Zettlemoyer, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2023.emnlp-main.741" title="">FActScore: Fine-grained atomic evaluation of factual precision in long form text generation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pages 12076–12100, Singapore. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nogueira et al. (2020)</span>
<span class="ltx_bibblock">
Rodrigo Nogueira, Zhiying Jiang, Ronak Pradeep, and Jimmy J. Lin. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:212725651" title="">Document ranking with a pretrained sequence-to-sequence model</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">Findings</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al. (2023)</span>
<span class="ltx_bibblock">
Guanghui Qin, Yukun Feng, and Benjamin Van Durme. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2023.eacl-main.273" title="">The NLP task effectiveness of long-range transformers</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">Proceedings of the 17th Conference of the European Chapter of the Association for Computational Linguistics</em>, pages 3774–3790, Dubrovnik, Croatia. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al. (2024a)</span>
<span class="ltx_bibblock">
Guanghui Qin, Corby Rosset, Ethan C Chau, Nikhil Rao, and Benjamin Van Durme. 2024a.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/pdf/2310.02409" title="">Dodo: Dynamic contextual compression for decoder-only lms</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib51.1.1">Proceedings of the 2024 Conference on Association for Computational Linguistics (ACL)</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al. (2024b)</span>
<span class="ltx_bibblock">
Weicong Qin, Zelin Cao, Weijie Yu, Zihua Si, Sirui Chen, and Jun Xu. 2024b.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1145/3626772.3657717" title="">Explicitly Integrating Judgment Prediction with Legal Document Retrieval: A Law-Guided Generative Approach</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reid et al. (2024)</span>
<span class="ltx_bibblock">
Machel Reid, Nikolay Savinov, Denis Teplyashin, and et al. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2403.05530" title="">Gemini 1.5: Unlocking multimodal understanding across millions of tokens of context</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ren et al. (2021)</span>
<span class="ltx_bibblock">
Ruiyang Ren, Yingqi Qu, Jing Liu, Wayne Xin Zhao, QiaoQiao She, Hua Wu, Haifeng Wang, and Ji-Rong Wen. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2021.emnlp-main.224" title="">RocketQAv2: A joint training method for dense passage retrieval and passage re-ranking</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib54.1.1">Proceedings of the 2021 Conference on Empirical Methods in Natural Language Processing</em>, pages 2825–2835, Online and Punta Cana, Dominican Republic. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Review (2020)</span>
<span class="ltx_bibblock">
Columbia Law Review. 2020.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">The Bluebook: A Uniform System of Citation</em>.

</span>
<span class="ltx_bibblock">The Harvard LawReview Association Gannett House, 1511 Massachusetts Avenue Cambridge, Massachusetts 02138 U.S.A.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saad-Falcon et al. (2024)</span>
<span class="ltx_bibblock">
Jon Saad-Falcon, Daniel Y. Fu, Simran Arora, Neel Guha, and Christopher Ré. 2024.

</span>
<span class="ltx_bibblock">Benchmarking and building long-context retrieval models with loco and m2-bert.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib56.1.1">arXiv preprint arXiv:2402.07440</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Santhanam et al. (2022)</span>
<span class="ltx_bibblock">
Keshav Santhanam, Omar Khattab, Jon Saad-Falcon, Christopher Potts, and Matei Zaharia. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2022.naacl-main.272" title="">ColBERTv2: Effective and efficient retrieval via lightweight late interaction</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib57.1.1">Proceedings of the 2022 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies</em>, pages 3715–3734, Seattle, United States. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Santosh et al. (2024)</span>
<span class="ltx_bibblock">
T. Y. S. S. Santosh, Rashid Haddad, and Matthias Grabmair. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://aclanthology.org/2024.lrec-main.486" title="">Ecthr-pcr: A dataset for precedent understanding and prior case retrieval in the european court of human rights</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib58.1.1">Proceedings of the 2024 Joint International Conference on Computational Linguistics, Language Resources and Evaluation, LREC/COLING 2024, 20-25 May, 2024, Torino, Italy</em>, pages 5473–5483. ELRA and ICCL.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shaham et al. (2022)</span>
<span class="ltx_bibblock">
Uri Shaham, Elad Segal, Maor Ivgi, Avia Efrat, Ori Yoran, Adi Haviv, Ankit Gupta, Wenhan Xiong, Mor Geva, Jonathan Berant, and Omer Levy. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2022.emnlp-main.823" title="">SCROLLS: Standardized CompaRison over long language sequences</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib59.1.1">Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing</em>, pages 12007–12021, Abu Dhabi, United Arab Emirates. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib60">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shen et al. (2022)</span>
<span class="ltx_bibblock">
Zejiang Shen, Kyle Lo, Lauren Jane Yu, Nathan Dahlberg, Margo Schlanger, and Doug Downey. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:249927023" title="">Multi-lexsum: Real-world summaries of civil rights lawsuits at multiple granularities</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib60.1.1">ArXiv</em>, abs/2206.10883.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib61">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Su et al. (2024)</span>
<span class="ltx_bibblock">
Jianlin Su, Murtadha Ahmed, Yu Lu, Shengfeng Pan, Wen Bo, and Yunfeng Liu. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1016/j.neucom.2023.127063" title="">RoFormer: Enhanced transformer with Rotary Position Embedding</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib61.1.1">Neurocomputing</em>, page 127063.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib62">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tay et al. (2020)</span>
<span class="ltx_bibblock">
Yi Tay, Mostafa Dehghani, Samira Abnar, Yikang Shen, Dara Bahri, Philip Pham, Jinfeng Rao, Liu Yang, Sebastian Ruder, and Donald Metzler. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2011.04006" title="">Long Range Arena: A Benchmark for Efficient Transformers</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib63">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thakur et al. (2021)</span>
<span class="ltx_bibblock">
Nandan Thakur, Nils Reimers, Andreas Rücklé, Abhishek Srivastava, and Iryna Gurevych. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2104.08663" title="">Beir: A heterogenous benchmark for zero-shot evaluation of information retrieval models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib63.1.1">ArXiv preprint</em>, abs/2104.08663.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib64">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier Martinet, Marie-Anne Lachaux, Timothée Lacroix, Baptiste Rozière, Naman Goyal, Eric Hambro, Faisal Azhar, Aurelien Rodriguez, Armand Joulin, Edouard Grave, and Guillaume Lample. 2023.

</span>
<span class="ltx_bibblock">Llama: Open and efficient foundation language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib64.1.1">arXiv preprint arXiv:2302.13971</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib65">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tuvey and Sen (2023)</span>
<span class="ltx_bibblock">
Oscar Tuvey and Procheta Sen. 2023.

</span>
<span class="ltx_bibblock">Automated argument generation from legal facts.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib65.1.1">arXiv:2310.05680</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib66">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">T.Y.S.S et al. (2024)</span>
<span class="ltx_bibblock">
Santosh T.Y.S.S, Rashid Gustav Haddad, and Matthias Grabmair. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2404.00596" title="">Ecthr-pcr: A dataset for precedent understanding and prior case retrieval in the european court of human rights</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib66.1.1">ArXiv preprint</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib67">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2022)</span>
<span class="ltx_bibblock">
Liang Wang, Nan Yang, Xiaolong Huang, Binxing Jiao, Linjun Yang, Daxin Jiang, Rangan Majumder, and Furu Wei. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:254366618" title="">Text embeddings by weakly-supervised contrastive pre-training</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib67.1.1">ArXiv</em>, abs/2212.03533.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib68">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023)</span>
<span class="ltx_bibblock">
Liang Wang, Nan Yang, Xiaolong Huang, Linjun Yang, Rangan Majumder, and Furu Wei. 2023.

</span>
<span class="ltx_bibblock">Improving text embeddings with large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib68.1.1">arXiv preprint arXiv:2401.00368</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib69">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Weller et al. (2024)</span>
<span class="ltx_bibblock">
Orion Weller, Benjamin Chang, Sean MacAvaney, Kyle Lo, Arman Cohan, Benjamin Van Durme, Dawn Lawrie, and Luca Soldaini. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:268667440" title="">Followir: Evaluating and teaching information retrieval models to follow instructions</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib69.1.1">ArXiv</em>, abs/2403.15246.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib70">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wilson (1962)</span>
<span class="ltx_bibblock">
Robert A Wilson. 1962.

</span>
<span class="ltx_bibblock">Computer retrieval of case law.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib70.1.1">Sw. LJ</em>, 16:409.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib71">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao et al. (2023)</span>
<span class="ltx_bibblock">
Shitao Xiao, Zheng Liu, Peitian Zhang, and Niklas Muennighoff. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2309.07597" title="">C-pack: Packaged resources to advance general chinese embedding</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib71.1.1">Preprint</em>, arXiv:2309.07597.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib72">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2024)</span>
<span class="ltx_bibblock">
Eugene Yang, Dawn Lawrie, James Mayfield, Douglas W. Oard, and Scott Miller. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2401.04810" title="">Translate-distill: Learning cross-language dense retrieval by translation and distillation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib72.1.1">Proceedings of the 46th European Conference on Information Retrieval (ECIR)</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib73">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et al. (2021)</span>
<span class="ltx_bibblock">
Weizhe Yuan, Graham Neubig, and Pengfei Liu. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:235593404" title="">Bartscore: Evaluating generated text as text generation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib73.1.1">ArXiv</em>, abs/2106.11520.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib74">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2021)</span>
<span class="ltx_bibblock">
Xinyu Crystina Zhang, Andrew Yates, and Jimmy J. Lin. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:232423054" title="">Comparing score aggregation approaches for document retrieval with pretrained transformers</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib74.1.1">European Conference on Information Retrieval</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib75">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al. (2023)</span>
<span class="ltx_bibblock">
Lianmin Zheng, Wei-Lin Chiang, Ying Sheng, Siyuan Zhuang, Zhanghao Wu, Yonghao Zhuang, Zi Lin, Zhuohan Li, Dacheng Li, Eric. P Xing, Hao Zhang, Joseph E. Gonzalez, and Ion Stoica. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2306.05685" title="">Judging llm-as-a-judge with mt-bench and chatbot arena</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib75.1.1">Preprint</em>, arXiv:2306.05685.

</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Compute Infrastructure</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">We run our experiments on 24GB Nvidia Quadro RTX 6000 GPUs for retrieval and 80GB Nvidia A100s for RAG experiments. Retrieval indexing takes around 60 hours for a BERT-base sized model on one GPU. For RAG experiments, they take approximately 2 hours per model on one GPU.</p>
</div>
<figure class="ltx_figure" id="A1.F6">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A1.F6.1" style="width:433.6pt;height:134.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(9.4pt,-2.9pt) scale(1.04529614674104,1.04529614674104) ;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="247" id="A1.F6.1.g1" src="x4.png" width="797"/>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>A taxonomy of U.S. legal data. <span class="ltx_text ltx_font_smallcaps" id="A1.F6.4.1">Clerc </span>is a subset of federal cases, which are a subset of case law. <span class="ltx_text ltx_font_smallcaps" id="A1.F6.5.2">Clerc</span> contains millions of documents and has much room for improvement.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>U.S. Legal Data Taxonomy</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A1.F6" title="Figure 6 ‣ Appendix A Compute Infrastructure ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">6</span></a> shows a taxonomy of U.S. legal data. We use that data from CAP, which provides U.S. federal cases. Note that U.S. legal text can vary widely according to the type, however, we use federal case law due to its widespread usage and availability.</p>
</div>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Prompt for Argument Generation</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="A3.p1.1.1">User prompt<span class="ltx_text ltx_font_medium" id="A3.p1.1.1.1">: 
<br class="ltx_break"/>Here are some reference articles for legal cases: 
<br class="ltx_break"/># Reference case {case_key_1} 
<br class="ltx_break"/>{text of cited case 1} 
<br class="ltx_break"/># Reference case {case_key_2} 
<br class="ltx_break"/>{text of cited case 2} 
<br class="ltx_break"/><math alttext="\dots" class="ltx_Math" display="inline" id="A3.p1.1.1.1.m1.1"><semantics id="A3.p1.1.1.1.m1.1a"><mi id="A3.p1.1.1.1.m1.1.1" mathvariant="normal" xref="A3.p1.1.1.1.m1.1.1.cmml">…</mi><annotation-xml encoding="MathML-Content" id="A3.p1.1.1.1.m1.1b"><ci id="A3.p1.1.1.1.m1.1.1.cmml" xref="A3.p1.1.1.1.m1.1.1">…</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.1.1.1.m1.1c">\dots</annotation><annotation encoding="application/x-llamapun" id="A3.p1.1.1.1.m1.1d">typewriter_…</annotation></semantics></math>
<br class="ltx_break"/># Reference case {case_key_N} 
<br class="ltx_break"/>{text of cited case N} 
<br class="ltx_break"/>
<br class="ltx_break"/>Here is the text I’ve written so far: 
<br class="ltx_break"/># Paragrah 
<br class="ltx_break"/>{previous_text} 
<br class="ltx_break"/>
<br class="ltx_break"/>Continue to write it following the style of my writeup. Your answer contains 100 to 400 words. You must explicitly use the reference cases and mention their reference ids, i.e. {case_key_1}, {case_key_2} …{case_key_N}. Wrap your answer with &lt;answer&gt;&lt;/answer&gt;. Make your answer concise and avoid redundant languages. 
<br class="ltx_break"/></span></span></p>
</div>
<div class="ltx_para" id="A3.p2">
<p class="ltx_p" id="A3.p2.2"><span class="ltx_text ltx_font_typewriter" id="A3.p2.2.1">{previous_text}</span> refers to the previous context before the reference paragraph, i.e. <math alttext="(p_{1},p_{2},\dots,p_{t-1})" class="ltx_Math" display="inline" id="A3.p2.1.m1.4"><semantics id="A3.p2.1.m1.4a"><mrow id="A3.p2.1.m1.4.4.3" xref="A3.p2.1.m1.4.4.4.cmml"><mo id="A3.p2.1.m1.4.4.3.4" stretchy="false" xref="A3.p2.1.m1.4.4.4.cmml">(</mo><msub id="A3.p2.1.m1.2.2.1.1" xref="A3.p2.1.m1.2.2.1.1.cmml"><mi id="A3.p2.1.m1.2.2.1.1.2" xref="A3.p2.1.m1.2.2.1.1.2.cmml">p</mi><mn id="A3.p2.1.m1.2.2.1.1.3" xref="A3.p2.1.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="A3.p2.1.m1.4.4.3.5" xref="A3.p2.1.m1.4.4.4.cmml">,</mo><msub id="A3.p2.1.m1.3.3.2.2" xref="A3.p2.1.m1.3.3.2.2.cmml"><mi id="A3.p2.1.m1.3.3.2.2.2" xref="A3.p2.1.m1.3.3.2.2.2.cmml">p</mi><mn id="A3.p2.1.m1.3.3.2.2.3" xref="A3.p2.1.m1.3.3.2.2.3.cmml">2</mn></msub><mo id="A3.p2.1.m1.4.4.3.6" xref="A3.p2.1.m1.4.4.4.cmml">,</mo><mi id="A3.p2.1.m1.1.1" mathvariant="normal" xref="A3.p2.1.m1.1.1.cmml">…</mi><mo id="A3.p2.1.m1.4.4.3.7" xref="A3.p2.1.m1.4.4.4.cmml">,</mo><msub id="A3.p2.1.m1.4.4.3.3" xref="A3.p2.1.m1.4.4.3.3.cmml"><mi id="A3.p2.1.m1.4.4.3.3.2" xref="A3.p2.1.m1.4.4.3.3.2.cmml">p</mi><mrow id="A3.p2.1.m1.4.4.3.3.3" xref="A3.p2.1.m1.4.4.3.3.3.cmml"><mi id="A3.p2.1.m1.4.4.3.3.3.2" xref="A3.p2.1.m1.4.4.3.3.3.2.cmml">t</mi><mo id="A3.p2.1.m1.4.4.3.3.3.1" xref="A3.p2.1.m1.4.4.3.3.3.1.cmml">−</mo><mn id="A3.p2.1.m1.4.4.3.3.3.3" xref="A3.p2.1.m1.4.4.3.3.3.3.cmml">1</mn></mrow></msub><mo id="A3.p2.1.m1.4.4.3.8" stretchy="false" xref="A3.p2.1.m1.4.4.4.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.p2.1.m1.4b"><vector id="A3.p2.1.m1.4.4.4.cmml" xref="A3.p2.1.m1.4.4.3"><apply id="A3.p2.1.m1.2.2.1.1.cmml" xref="A3.p2.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="A3.p2.1.m1.2.2.1.1.1.cmml" xref="A3.p2.1.m1.2.2.1.1">subscript</csymbol><ci id="A3.p2.1.m1.2.2.1.1.2.cmml" xref="A3.p2.1.m1.2.2.1.1.2">𝑝</ci><cn id="A3.p2.1.m1.2.2.1.1.3.cmml" type="integer" xref="A3.p2.1.m1.2.2.1.1.3">1</cn></apply><apply id="A3.p2.1.m1.3.3.2.2.cmml" xref="A3.p2.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="A3.p2.1.m1.3.3.2.2.1.cmml" xref="A3.p2.1.m1.3.3.2.2">subscript</csymbol><ci id="A3.p2.1.m1.3.3.2.2.2.cmml" xref="A3.p2.1.m1.3.3.2.2.2">𝑝</ci><cn id="A3.p2.1.m1.3.3.2.2.3.cmml" type="integer" xref="A3.p2.1.m1.3.3.2.2.3">2</cn></apply><ci id="A3.p2.1.m1.1.1.cmml" xref="A3.p2.1.m1.1.1">…</ci><apply id="A3.p2.1.m1.4.4.3.3.cmml" xref="A3.p2.1.m1.4.4.3.3"><csymbol cd="ambiguous" id="A3.p2.1.m1.4.4.3.3.1.cmml" xref="A3.p2.1.m1.4.4.3.3">subscript</csymbol><ci id="A3.p2.1.m1.4.4.3.3.2.cmml" xref="A3.p2.1.m1.4.4.3.3.2">𝑝</ci><apply id="A3.p2.1.m1.4.4.3.3.3.cmml" xref="A3.p2.1.m1.4.4.3.3.3"><minus id="A3.p2.1.m1.4.4.3.3.3.1.cmml" xref="A3.p2.1.m1.4.4.3.3.3.1"></minus><ci id="A3.p2.1.m1.4.4.3.3.3.2.cmml" xref="A3.p2.1.m1.4.4.3.3.3.2">𝑡</ci><cn id="A3.p2.1.m1.4.4.3.3.3.3.cmml" type="integer" xref="A3.p2.1.m1.4.4.3.3.3.3">1</cn></apply></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.1.m1.4c">(p_{1},p_{2},\dots,p_{t-1})</annotation><annotation encoding="application/x-llamapun" id="A3.p2.1.m1.4d">( italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_p start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT )</annotation></semantics></math> defined in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS2" title="4.2 Generating Legal Analyses from Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">4.2</span></a>.
<span class="ltx_text ltx_font_typewriter" id="A3.p2.2.2">{text cited case i}</span> refers to the reference articles, i.e. <math alttext="R_{t}" class="ltx_Math" display="inline" id="A3.p2.2.m2.1"><semantics id="A3.p2.2.m2.1a"><msub id="A3.p2.2.m2.1.1" xref="A3.p2.2.m2.1.1.cmml"><mi id="A3.p2.2.m2.1.1.2" xref="A3.p2.2.m2.1.1.2.cmml">R</mi><mi id="A3.p2.2.m2.1.1.3" xref="A3.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="A3.p2.2.m2.1b"><apply id="A3.p2.2.m2.1.1.cmml" xref="A3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="A3.p2.2.m2.1.1.1.cmml" xref="A3.p2.2.m2.1.1">subscript</csymbol><ci id="A3.p2.2.m2.1.1.2.cmml" xref="A3.p2.2.m2.1.1.2">𝑅</ci><ci id="A3.p2.2.m2.1.1.3.cmml" xref="A3.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.2.m2.1c">R_{t}</annotation><annotation encoding="application/x-llamapun" id="A3.p2.2.m2.1d">italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> defined in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS2" title="4.2 Generating Legal Analyses from Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">4.2</span></a>, and <span class="ltx_text ltx_font_typewriter" id="A3.p2.2.3">{case_key_i}</span> are the associated citation keys.</p>
</div>
<div class="ltx_para" id="A3.p3">
<p class="ltx_p" id="A3.p3.1">For the ablation study, we experiment prompting LLMs without explicitly providing the text of cited cases with the following prompt:

<br class="ltx_break"/> 
<br class="ltx_break"/></p>
</div>
<div class="ltx_para" id="A3.p4">
<p class="ltx_p" id="A3.p4.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="A3.p4.1.1">User prompt<span class="ltx_text ltx_font_medium" id="A3.p4.1.1.1">: 
<br class="ltx_break"/>Here is the text I’ve written so far: 
<br class="ltx_break"/># Paragrah 
<br class="ltx_break"/>{previous_text} 
<br class="ltx_break"/>
<br class="ltx_break"/>Continue to write it following the style of my writeup. Your answer contains 100 to 400 words. Wrap your answer with &lt;answer&gt;&lt;/answer&gt;. Make your answer concise and avoid redundant languages.

<br class="ltx_break"/></span></span></p>
</div>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Additional Experimental Results</h2>
<figure class="ltx_figure" id="A4.F7">
<p class="ltx_p ltx_align_center" id="A4.F7.1">
<span class="ltx_inline-block ltx_minipage ltx_align_middle ltx_framed ltx_framed_rectangle" id="A4.F7.1.1" style="width:385.0pt;">
<span class="ltx_p" id="A4.F7.1.1.1"><span class="ltx_text ltx_framed ltx_framed_underline" id="A4.F7.1.1.1.1">Types of alterations in direct quote:</span></span>
<span class="ltx_p" id="A4.F7.1.1.2"><span class="ltx_text ltx_font_bold" id="A4.F7.1.1.2.1">Contextual clarification: 
<br class="ltx_break"/></span>Query: <span class="ltx_text" id="A4.F7.1.1.2.2">“A reading of the entire [Wage] Act clearly shows that the purpose of the Act is to assist…”</span></span>
<span class="ltx_p" id="A4.F7.1.1.3">Original: <span class="ltx_text" id="A4.F7.1.1.3.1">“A reading of the entire Act clearly shows that the purpose of the Act is to assist…”</span></span>
<span class="ltx_p" id="A4.F7.1.1.4"><span class="ltx_text ltx_font_bold" id="A4.F7.1.1.4.1">Rephrases: 
<br class="ltx_break"/></span>Query: “punishable for a term of imprisonment exceeding one year.”</span>
<span class="ltx_p" id="A4.F7.1.1.5">Original: “punishable by imprisonment for more than one year.”</span>
<span class="ltx_p" id="A4.F7.1.1.6"><span class="ltx_text ltx_font_bold" id="A4.F7.1.1.6.1">Punctuation changes:
<br class="ltx_break"/></span>Query: “an account of the time, place, and specific content of the false representations as well as the identities of the parties to the misrepresentations.”</span>
<span class="ltx_p" id="A4.F7.1.1.7">Original: an account “of the time, place, and specific content of the false representations as well as the identities of the parties to the misrepresentations.”</span>
</span>
</p>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Direct quote may experience different types of alterations and degrade retrieval performance.</figcaption>
</figure>
<section class="ltx_subsection" id="A4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.1 </span>Parse Direct Quotes and Filter Queries</h3>
<div class="ltx_para" id="A4.SS1.p1">
<p class="ltx_p" id="A4.SS1.p1.1">We design a simple heuristics program to parse direct quotes. CAP uses special double quotation marks for all direct quotes, which have unicode values of 8220 and 8221. We extract all texts quoted by these special quotation marks, and we pair them with the nearest case citation.</p>
</div>
<div class="ltx_para" id="A4.SS1.p2">
<p class="ltx_p" id="A4.SS1.p2.1">To locate and filter the central citation sentences in the queries, we design an involved RegEx program. The high-level overview is that it will find the start of the citation sentence, which is usually some Entity A v. Entity B, and we recognize the start by referring to the metadata of CAP. There are other variant formats to start a citation sentence, such as <span class="ltx_text ltx_font_italic" id="A4.SS1.p2.1.1">Id.</span>, <span class="ltx_text ltx_font_italic" id="A4.SS1.p2.1.2">See.</span>, and <span class="ltx_text ltx_font_italic" id="A4.SS1.p2.1.3">In re</span>, and we also accomodate these formats in the filter program <cite class="ltx_cite ltx_citemacro_citep">(Review, <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib55" title="">2020</a>)</cite>. We find the end of the citation by locating some notable punctuations, such as closing parenthesis, semicolon, etc. In the event that we find outlier citation sentences, we would report them as failure cases. The average failure rate is around 11%.</p>
</div>
<div class="ltx_para" id="A4.SS1.p3">
<p class="ltx_p" id="A4.SS1.p3.1">For more specific details, please refer to our code and repo.</p>
</div>
</section>
<section class="ltx_subsection" id="A4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.2 </span>Retrieve with Direct Quote</h3>
<div class="ltx_para" id="A4.SS2.p1">
<p class="ltx_p" id="A4.SS2.p1.1">Around 33% of the time, we find that case documents cite other cases in the form of direct quotations. We parse such direct quotes from case documents and used them as queries for retrieval, expecting a near-perfect accuracy. However, conducting exact matches with <span class="ltx_text ltx_font_typewriter" id="A4.SS2.p1.1.1">grep</span>, we only retrieve 16% of the direct quotes. We discover that at least 25.4% of the direct quotes experience subtle alterations with the use of square brackets (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.F7" title="Figure 7 ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">7</span></a>), which partly causes the low recall.</p>
</div>
<figure class="ltx_table" id="A4.T5">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A4.T5.5">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A4.T5.5.5">
<th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="A4.T5.5.5.6"></th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="A4.T5.1.1.1">Recall@5 <math alttext="\uparrow" class="ltx_Math" display="inline" id="A4.T5.1.1.1.m1.1"><semantics id="A4.T5.1.1.1.m1.1a"><mo id="A4.T5.1.1.1.m1.1.1" stretchy="false" xref="A4.T5.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A4.T5.1.1.1.m1.1b"><ci id="A4.T5.1.1.1.m1.1.1.cmml" xref="A4.T5.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.1.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A4.T5.1.1.1.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="A4.T5.2.2.2">Recall@10 <math alttext="\uparrow" class="ltx_Math" display="inline" id="A4.T5.2.2.2.m1.1"><semantics id="A4.T5.2.2.2.m1.1a"><mo id="A4.T5.2.2.2.m1.1.1" stretchy="false" xref="A4.T5.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A4.T5.2.2.2.m1.1b"><ci id="A4.T5.2.2.2.m1.1.1.cmml" xref="A4.T5.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.2.2.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A4.T5.2.2.2.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="A4.T5.3.3.3">Recall@100 <math alttext="\uparrow" class="ltx_Math" display="inline" id="A4.T5.3.3.3.m1.1"><semantics id="A4.T5.3.3.3.m1.1a"><mo id="A4.T5.3.3.3.m1.1.1" stretchy="false" xref="A4.T5.3.3.3.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A4.T5.3.3.3.m1.1b"><ci id="A4.T5.3.3.3.m1.1.1.cmml" xref="A4.T5.3.3.3.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.3.3.3.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A4.T5.3.3.3.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="A4.T5.4.4.4">Recall@1000 <math alttext="\uparrow" class="ltx_Math" display="inline" id="A4.T5.4.4.4.m1.1"><semantics id="A4.T5.4.4.4.m1.1a"><mo id="A4.T5.4.4.4.m1.1.1" stretchy="false" xref="A4.T5.4.4.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A4.T5.4.4.4.m1.1b"><ci id="A4.T5.4.4.4.m1.1.1.cmml" xref="A4.T5.4.4.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.4.4.4.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A4.T5.4.4.4.m1.1d">↑</annotation></semantics></math>
</th>
<th class="ltx_td ltx_nopad_r ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="A4.T5.5.5.5">nDCG@10 <math alttext="\uparrow" class="ltx_Math" display="inline" id="A4.T5.5.5.5.m1.1"><semantics id="A4.T5.5.5.5.m1.1a"><mo id="A4.T5.5.5.5.m1.1.1" stretchy="false" xref="A4.T5.5.5.5.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A4.T5.5.5.5.m1.1b"><ci id="A4.T5.5.5.5.m1.1.1.cmml" xref="A4.T5.5.5.5.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.5.5.5.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A4.T5.5.5.5.m1.1d">↑</annotation></semantics></math>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A4.T5.5.6.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A4.T5.5.6.1.1">BM25</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="A4.T5.5.6.1.2">18.8</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A4.T5.5.6.1.3">25.2</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A4.T5.5.6.1.4"><span class="ltx_text ltx_font_bold" id="A4.T5.5.6.1.4.1">45.7</span></td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A4.T5.5.6.1.5"><span class="ltx_text ltx_font_bold" id="A4.T5.5.6.1.5.1">66.7</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_right ltx_border_t" id="A4.T5.5.6.1.6">15.8</td>
</tr>
<tr class="ltx_tr" id="A4.T5.5.7.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A4.T5.5.7.2.1">5-gram</th>
<td class="ltx_td ltx_align_right" id="A4.T5.5.7.2.2">30.3</td>
<td class="ltx_td ltx_align_right" id="A4.T5.5.7.2.3"><span class="ltx_text ltx_font_bold" id="A4.T5.5.7.2.3.1">36.4</span></td>
<td class="ltx_td ltx_align_right" id="A4.T5.5.7.2.4">44.7</td>
<td class="ltx_td ltx_align_right" id="A4.T5.5.7.2.5">44.8</td>
<td class="ltx_td ltx_nopad_r ltx_align_right" id="A4.T5.5.7.2.6"><span class="ltx_text ltx_font_bold" id="A4.T5.5.7.2.6.1">23.0</span></td>
</tr>
<tr class="ltx_tr" id="A4.T5.5.8.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="A4.T5.5.8.3.1">12-gram</th>
<td class="ltx_td ltx_align_right ltx_border_bb" id="A4.T5.5.8.3.2"><span class="ltx_text ltx_font_bold" id="A4.T5.5.8.3.2.1">31.1</span></td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="A4.T5.5.8.3.3">35.7</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="A4.T5.5.8.3.4">40.1</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="A4.T5.5.8.3.5">40.1</td>
<td class="ltx_td ltx_nopad_r ltx_align_right ltx_border_bb" id="A4.T5.5.8.3.6">22.8</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Retrieval experiment results using direct quote as query. All numbers are in percentage.</figcaption>
</figure>
<figure class="ltx_table" id="A4.T6">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A4.T6.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A4.T6.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A4.T6.1.1.1.1" rowspan="2"><span class="ltx_text" id="A4.T6.1.1.1.1.1">Type</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A4.T6.1.1.1.2" rowspan="2"><span class="ltx_text" id="A4.T6.1.1.1.2.1">Params</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A4.T6.1.1.1.3" rowspan="2"><span class="ltx_text" id="A4.T6.1.1.1.3.1">Length</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A4.T6.1.1.1.4" rowspan="2"><span class="ltx_text" id="A4.T6.1.1.1.4.1">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="A4.T6.1.1.1.5">Metrics</td>
</tr>
<tr class="ltx_tr" id="A4.T6.1.2.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T6.1.2.2.1">R@10</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A4.T6.1.2.2.2">nDCG@10</td>
</tr>
<tr class="ltx_tr" id="A4.T6.1.3.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T6.1.3.3.1">Bi-Encoders</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T6.1.3.3.2">110M</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T6.1.3.3.3">512</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T6.1.3.3.4">E5</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T6.1.3.3.5"><span class="ltx_text ltx_font_bold" id="A4.T6.1.3.3.5.1">8.4</span></td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A4.T6.1.3.3.6"><span class="ltx_text ltx_font_bold" id="A4.T6.1.3.3.6.1">3.67</span></td>
</tr>
<tr class="ltx_tr" id="A4.T6.1.4.4">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A4.T6.1.4.4.1" rowspan="3"><span class="ltx_text" id="A4.T6.1.4.4.1.1">Cross-Encoders</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T6.1.4.4.2">7B</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T6.1.4.4.3">512</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T6.1.4.4.4">E5 + RankLlama</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A4.T6.1.4.4.5">4.7</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A4.T6.1.4.4.6">2.14</td>
</tr>
<tr class="ltx_tr" id="A4.T6.1.5.5">
<td class="ltx_td ltx_align_left" id="A4.T6.1.5.5.1">3B</td>
<td class="ltx_td ltx_align_left" id="A4.T6.1.5.5.2">512</td>
<td class="ltx_td ltx_align_left" id="A4.T6.1.5.5.3">E5 + MonoT5</td>
<td class="ltx_td ltx_align_left" id="A4.T6.1.5.5.4">4.2</td>
<td class="ltx_td ltx_align_right" id="A4.T6.1.5.5.5">2.00</td>
</tr>
<tr class="ltx_tr" id="A4.T6.1.6.6">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A4.T6.1.6.6.1">7B</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A4.T6.1.6.6.2">512</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A4.T6.1.6.6.3">E5 + FollowIR</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A4.T6.1.6.6.4">5.1</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="A4.T6.1.6.6.5">2.14</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Retrieval results with Cross-Encoders. All numbers are in percentage</figcaption>
</figure>
<div class="ltx_para" id="A4.SS2.p2">
<p class="ltx_p" id="A4.SS2.p2.1">Therefore, we further conduct retrieval experiments of direct quotes with BM25 and n-gram match, in the hope that these “soft” term matching methods could overcome subtle alterations and yield a higher recall. Results in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.T5" title="Table 5 ‣ D.2 Retrieve with Direct Quote ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">5</span></a> show that the highest Recall@1000 is only 66.7%, which is far from perfect.</p>
</div>
<div class="ltx_para" id="A4.SS2.p3">
<p class="ltx_p" id="A4.SS2.p3.1">By examining the case texts, we attribute this result to mainly three reasons. First, direct quote, when being cited, commonly experiences slight alterations in punctuation, wording, and pronouns for clarification purposes or due to human errors (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.F7" title="Figure 7 ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">7</span></a>).</p>
</div>
<div class="ltx_para" id="A4.SS2.p4">
<p class="ltx_p" id="A4.SS2.p4.1">Second, when retrieving a direct quote that consists of common words or widely used legal terms, soft term matching methods could retrieve multiple false positive documents that contain multiple occurrences of these common terms and push down the ranking of the actual positive document.</p>
</div>
<div class="ltx_para" id="A4.SS2.p5">
<p class="ltx_p" id="A4.SS2.p5.1">Third, direct quotes often appear in contexts of various neighboring case citations that point to a set of candidate documents. Unless investigating and searching all candidate documents, it is not apparent which direct quote corresponds to which case. While we develop a program (see Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.SS2" title="D.2 Retrieve with Direct Quote ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">D.2</span></a>) to determine the correspondence based on the proximity of direct quotes to citations, this correspondence determination is imperfect and remains an open question to be addressed in future works.</p>
</div>
</section>
<section class="ltx_subsection" id="A4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.3 </span>Retrieve with Cross-Encoders</h3>
<div class="ltx_para" id="A4.SS3.p1">
<p class="ltx_p" id="A4.SS3.p1.1">We conduct additional retrieval experiments with the same data and metrics setup in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#S4.SS1" title="4.1 Finding Legal Citations ‣ 4 Experiments ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">4.1</span></a> using multiple Cross-Encoders in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.T6" title="Table 6 ‣ D.2 Retrieve with Direct Quote ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">6</span></a>. We rerank the top-100 outputs of E5 <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib68" title="">2023</a>)</cite> with RankLlama <cite class="ltx_cite ltx_citemacro_citep">(Ma et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib43" title="">2023</a>)</cite>, MonoT5-3B <cite class="ltx_cite ltx_citemacro_citep">(Nogueira et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib49" title="">2020</a>)</cite>, and FollowIR <cite class="ltx_cite ltx_citemacro_citep">(Weller et al., <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#bib.bib69" title="">2024</a>)</cite>. We discover that reranking with cross-encoders degrades the retrieval performance. A possible explanation is that due to domain mismatch, rerankers are unable to rerank long-context legal data that have distinct styles and length from the data rerankers were trained on.</p>
</div>
<figure class="ltx_figure" id="A4.F8">
<p class="ltx_p ltx_align_center" id="A4.F8.8">
<span class="ltx_inline-block ltx_minipage ltx_align_middle ltx_framed ltx_framed_rectangle" id="A4.F8.8.8.8" style="width:400.0pt;">
<span class="ltx_p" id="A4.F8.8.8.8.9"><span class="ltx_text ltx_font_bold" id="A4.F8.8.8.8.9.1">Gold paragraph:</span></span>
<span class="ltx_p" id="A4.F8.8.8.8.10">A pro se complaint, “however unlawfully pleaded,” is held “to less stringent standards than formal pleadings drafted by lawyers.” Hughes v. Rowe, <span class="ltx_text ltx_font_italic" id="A4.F8.8.8.8.10.1" style="color:#009933;">449 U.S. 5, 9, 101 S.Ct. 173, 66 L.Ed.2d 163 (1980)</span>. The court’s role is to ensure that claims of pro se litigants are given “fair and meaningful consideration.” Matzker v. Herr, <span class="ltx_text ltx_font_italic" id="A4.F8.8.8.8.10.2" style="color:#009933;">748 F.2d 1142, 1146 (7th Cir.1984)</span>. Accordingly, pro se complaints must be liberally construed. Estelle v. Gamble, <span class="ltx_text ltx_font_italic" id="A4.F8.8.8.8.10.3" style="color:#009933;">429 U.S. 97, 106, 97 S.Ct. 285, 50 L.Ed.2d 251 (1976)</span>. The complaint need not specify the correct legal theory, nor point to the correct statute in order to survive a motion to dismiss. Bartholet v. Reishauer A.G. (Zurich), <span class="ltx_text ltx_font_typewriter" id="A4.F8.8.8.8.10.4" style="color:#BF8040;">953 F.2d 1073, 1078 (7th Cir.1992)</span>. Finally, a district court may dismiss a complaint only if “it appears beyond doubt that the plaintiff can prove no set of facts in support of his claim which would entitle him to relief.” Hughes, supra, 449 U.S. at 10, 101 S.Ct. 173.</span>
<span class="ltx_p" id="A4.F8.8.8.8.11"><span class="ltx_rule" style="width:433.6pt;height:0.4pt;background:black;display:inline-block;"> </span></span>
<span class="ltx_p" id="A4.F8.8.8.8.12"><span class="ltx_text ltx_font_bold" id="A4.F8.8.8.8.12.1">GPT-4o generation:</span></span>
<span class="ltx_p" id="A4.F8.8.8.8.13">Liberal Construction of Pro Se Complaints</span>
<span class="ltx_p" id="A4.F8.8.8.8.14">The City contends that Mr. Cleaves’ complaint should be dismissed because it fails to state a claim upon which relief can be granted. However, it is well-established that complaints filed by pro se litigants must be held to less stringent standards than those drafted by lawyers. As the Supreme Court noted in Haines v. Kerner, “however inartfully pleaded,” a pro se complaint must be liberally construed and should not be dismissed unless it appears beyond doubt that the plaintiff can prove no set of facts in support of his claim which would entitle him to relief (<span class="ltx_text ltx_framed ltx_framed_underline" id="A4.F8.8.8.8.14.1" style="color:#D53E3E;">404 U.S. 519, 520-21 (1972)</span>).</span>
<span class="ltx_p" id="A4.F8.8.8.8.15">Similarly, in Hughes v. Rowe, the Court reiterated this principle, emphasizing that the district court’s role is to ensure that pro se litigants’ claims are given fair and meaningful consideration (<span class="ltx_text ltx_font_italic" id="A4.F8.8.8.8.15.1" style="color:#009933;">449 U.S. 5, 9-10</span>, <span class="ltx_text ltx_framed ltx_framed_underline" id="A4.F8.8.8.8.15.2" style="color:#D53E3E;">101 S.Ct. 173, 175, 66 L.Ed.2d 163 (1980)</span>). Courts must determine whether the plaintiff should be allowed to present evidence on his claims before deciding on a motion to dismiss (<span class="ltx_text ltx_font_italic" id="A4.F8.8.8.8.15.3" style="color:#009933;">748 F.2d 1142</span>).</span>
<span class="ltx_p" id="A4.F8.8.8.8.16">Additionally, considering the liberal standards applied to such cases as set forth in Estelle v. Gamble (<span class="ltx_text ltx_font_italic" id="A4.F8.8.8.8.16.1" style="color:#009933;">429 U.S. 97, 106 (1976)</span>), and in light of the notice-pleading standard of the Federal Rules of Civil Procedure (Rule 8(a)), Mr. Cleaves’ allegations, though detailed, sufficiently provide the City with notice of the claims and underlying facts.</span>
<span class="ltx_p" id="A4.F8.8.8.8.17">Therefore, the City’s motion to dismiss Mr. Cleaves’ pro se complaint is denied as it fails to demonstrate that there are no conceivable facts under which Mr. Cleaves could prevail.</span>
<span class="ltx_p" id="A4.F8.8.8.8.18"><span class="ltx_rule" style="width:433.6pt;height:0.4pt;background:black;display:inline-block;"> </span></span>
<span class="ltx_p" id="A4.F8.8.8.8.19"><span class="ltx_text ltx_font_bold" id="A4.F8.8.8.8.19.1">Reference texts:
<br class="ltx_break"/>449 U.S. 5</span></span>
<span class="ltx_p" id="A4.F8.2.2.2.2">purports to justify or explain the segregation of petitioner for two days in advance of the disciplinary hearing. II Petitioner’s complaint, like most prisoner complaints filed in the Northern District of Illinois, was not prepared by counsel. It is settled law that the allegations of such a complaint, “however inartfully pleaded” are held “to less stringent standards than formal pleadings drafted by lawyers ….” Haines v. Kerner, <span class="ltx_text ltx_framed ltx_framed_underline" id="A4.F8.2.2.2.2.1" style="color:#D53E3E;">404 U. S. 519, 520 (1972)</span>. See also Maclin v. Paulson, 627 F. 2d 83, 86 (CA7 1980); French v. Heyne, 547 F. 2d 994, 996 (CA7 1976). <math alttext="\cdots" class="ltx_Math" display="inline" id="A4.F8.1.1.1.1.m1.1"><semantics id="A4.F8.1.1.1.1.m1.1a"><mi id="A4.F8.1.1.1.1.m1.1.1" mathvariant="normal" xref="A4.F8.1.1.1.1.m1.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.F8.1.1.1.1.m1.1b"><ci id="A4.F8.1.1.1.1.m1.1.1.cmml" xref="A4.F8.1.1.1.1.m1.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.1.1.1.1.m1.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.F8.1.1.1.1.m1.1d">⋯</annotation></semantics></math> (omitted for brevity) <math alttext="\cdots" class="ltx_Math" display="inline" id="A4.F8.2.2.2.2.m2.1"><semantics id="A4.F8.2.2.2.2.m2.1a"><mi id="A4.F8.2.2.2.2.m2.1.1" mathvariant="normal" xref="A4.F8.2.2.2.2.m2.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.F8.2.2.2.2.m2.1b"><ci id="A4.F8.2.2.2.2.m2.1.1.cmml" xref="A4.F8.2.2.2.2.m2.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.2.2.2.2.m2.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.F8.2.2.2.2.m2.1d">⋯</annotation></semantics></math></span>
<span class="ltx_p" id="A4.F8.8.8.8.20"><span class="ltx_text ltx_font_bold" id="A4.F8.8.8.8.20.1">748 F.2d 1142</span></span>
<span class="ltx_p" id="A4.F8.4.4.4.4">magistrate erred in applying the deliberate indifference standard in dismissing this complaint. III. Our inquiry turns, therefore, to the question of whether Matzker stated a cause of action when judged under due process standards. A complaint drafted by a pro se litigant “however inartfully pleaded,” is held “to less stringent standards than formal pleadings drafted by lawyers.” Hughes v. Rowe, 449 U.S. 5, 9, <span class="ltx_text ltx_framed ltx_framed_underline" id="A4.F8.4.4.4.4.1" style="color:#D53E3E;">101 S.Ct. 173, 175, 66 L.Ed.2d 163 (1980)</span>. The district court’s role is to ensure that the claims of pro se litigants are given “fair and meaningful consideration.” <math alttext="\cdots" class="ltx_Math" display="inline" id="A4.F8.3.3.3.3.m1.1"><semantics id="A4.F8.3.3.3.3.m1.1a"><mi id="A4.F8.3.3.3.3.m1.1.1" mathvariant="normal" xref="A4.F8.3.3.3.3.m1.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.F8.3.3.3.3.m1.1b"><ci id="A4.F8.3.3.3.3.m1.1.1.cmml" xref="A4.F8.3.3.3.3.m1.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.3.3.3.3.m1.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.F8.3.3.3.3.m1.1d">⋯</annotation></semantics></math> (omitted for brevity) <math alttext="\cdots" class="ltx_Math" display="inline" id="A4.F8.4.4.4.4.m2.1"><semantics id="A4.F8.4.4.4.4.m2.1a"><mi id="A4.F8.4.4.4.4.m2.1.1" mathvariant="normal" xref="A4.F8.4.4.4.4.m2.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.F8.4.4.4.4.m2.1b"><ci id="A4.F8.4.4.4.4.m2.1.1.cmml" xref="A4.F8.4.4.4.4.m2.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.4.4.4.4.m2.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.F8.4.4.4.4.m2.1d">⋯</annotation></semantics></math></span>
<span class="ltx_p" id="A4.F8.8.8.8.21"><span class="ltx_text ltx_font_bold" id="A4.F8.8.8.8.21.1">429 U.S. 97</span></span>
<span class="ltx_p" id="A4.F8.6.6.6.6">to evidence deliberate indifference to serious medical needs. It is only such indifference that can offend “evolving standards of decency” in violation of the Eighth Amendment. Ill Against this backdrop, we now consider whether respondent’s complaint states a cognizable § 1983 claim. The handwritten pro se document is to be liberally construed. <math alttext="\cdots" class="ltx_Math" display="inline" id="A4.F8.5.5.5.5.m1.1"><semantics id="A4.F8.5.5.5.5.m1.1a"><mi id="A4.F8.5.5.5.5.m1.1.1" mathvariant="normal" xref="A4.F8.5.5.5.5.m1.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.F8.5.5.5.5.m1.1b"><ci id="A4.F8.5.5.5.5.m1.1.1.cmml" xref="A4.F8.5.5.5.5.m1.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.5.5.5.5.m1.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.F8.5.5.5.5.m1.1d">⋯</annotation></semantics></math> (omitted for brevity) <math alttext="\cdots" class="ltx_Math" display="inline" id="A4.F8.6.6.6.6.m2.1"><semantics id="A4.F8.6.6.6.6.m2.1a"><mi id="A4.F8.6.6.6.6.m2.1.1" mathvariant="normal" xref="A4.F8.6.6.6.6.m2.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.F8.6.6.6.6.m2.1b"><ci id="A4.F8.6.6.6.6.m2.1.1.cmml" xref="A4.F8.6.6.6.6.m2.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.6.6.6.6.m2.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.F8.6.6.6.6.m2.1d">⋯</annotation></semantics></math></span>
<span class="ltx_p" id="A4.F8.8.8.8.22"><span class="ltx_text ltx_font_bold" id="A4.F8.8.8.8.22.1">953 F.2d 1073</span></span>
<span class="ltx_p" id="A4.F8.8.8.8.8">it done so, ERISA still would govern unless the plan were “unfunded.” The exemption recognizes that a suit concerning an unfunded plan is one directly against the employer’s assets, and as ERISA leaves excess benefit plans substantively unregulated there is no reason to oust state law. <math alttext="\cdots" class="ltx_Math" display="inline" id="A4.F8.7.7.7.7.m1.1"><semantics id="A4.F8.7.7.7.7.m1.1a"><mi id="A4.F8.7.7.7.7.m1.1.1" mathvariant="normal" xref="A4.F8.7.7.7.7.m1.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.F8.7.7.7.7.m1.1b"><ci id="A4.F8.7.7.7.7.m1.1.1.cmml" xref="A4.F8.7.7.7.7.m1.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.7.7.7.7.m1.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.F8.7.7.7.7.m1.1d">⋯</annotation></semantics></math> (omitted for brevity) <math alttext="\cdots" class="ltx_Math" display="inline" id="A4.F8.8.8.8.8.m2.1"><semantics id="A4.F8.8.8.8.8.m2.1a"><mi id="A4.F8.8.8.8.8.m2.1.1" mathvariant="normal" xref="A4.F8.8.8.8.8.m2.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.F8.8.8.8.8.m2.1b"><ci id="A4.F8.8.8.8.8.m2.1.1.cmml" xref="A4.F8.8.8.8.8.m2.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.8.8.8.8.m2.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.F8.8.8.8.8.m2.1d">⋯</annotation></semantics></math></span>
</span>
</p>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Example GPT-4o generation that exhibits hallucination and low citation precision and recall. The input of generation is all referenced texts concatenated with all paragraphs before the gold paragraph in the original case document. The generation is supposed to generate all citations in the gold paragraph. <span class="ltx_text ltx_font_italic" id="A4.F8.19.1" style="color:#009933;">Green italicized texts</span> are citations successfully generated, <span class="ltx_text ltx_font_typewriter" id="A4.F8.20.2" style="color:#BF8040;">yellow texts in teletype fonts</span> are citation missed in generation, and
<span class="ltx_text ltx_framed ltx_framed_underline" id="A4.F8.21.3" style="color:#D53E3E;">red underlined texts</span> are hallucinated citations. GPT-4o should cite all referenced cases (449 U.S. 5, 748 F.2d 1142, 429 U.S. 97, 953 F.2d 1073). Instead, since we provide the actual texts of referenced cases, <span class="ltx_text ltx_font_bold" id="A4.F8.22.4">GPT-4o hallucinates citations from citations in referenced cases</span>, which we underline with red color. In summary, the generation achieves the following results on citation metrics: <math alttext="CP=3/5" class="ltx_Math" display="inline" id="A4.F8.12.m1.1"><semantics id="A4.F8.12.m1.1b"><mrow id="A4.F8.12.m1.1.1" xref="A4.F8.12.m1.1.1.cmml"><mrow id="A4.F8.12.m1.1.1.2" xref="A4.F8.12.m1.1.1.2.cmml"><mi id="A4.F8.12.m1.1.1.2.2" xref="A4.F8.12.m1.1.1.2.2.cmml">C</mi><mo id="A4.F8.12.m1.1.1.2.1" xref="A4.F8.12.m1.1.1.2.1.cmml">⁢</mo><mi id="A4.F8.12.m1.1.1.2.3" xref="A4.F8.12.m1.1.1.2.3.cmml">P</mi></mrow><mo id="A4.F8.12.m1.1.1.1" xref="A4.F8.12.m1.1.1.1.cmml">=</mo><mrow id="A4.F8.12.m1.1.1.3" xref="A4.F8.12.m1.1.1.3.cmml"><mn id="A4.F8.12.m1.1.1.3.2" xref="A4.F8.12.m1.1.1.3.2.cmml">3</mn><mo id="A4.F8.12.m1.1.1.3.1" xref="A4.F8.12.m1.1.1.3.1.cmml">/</mo><mn id="A4.F8.12.m1.1.1.3.3" xref="A4.F8.12.m1.1.1.3.3.cmml">5</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.F8.12.m1.1c"><apply id="A4.F8.12.m1.1.1.cmml" xref="A4.F8.12.m1.1.1"><eq id="A4.F8.12.m1.1.1.1.cmml" xref="A4.F8.12.m1.1.1.1"></eq><apply id="A4.F8.12.m1.1.1.2.cmml" xref="A4.F8.12.m1.1.1.2"><times id="A4.F8.12.m1.1.1.2.1.cmml" xref="A4.F8.12.m1.1.1.2.1"></times><ci id="A4.F8.12.m1.1.1.2.2.cmml" xref="A4.F8.12.m1.1.1.2.2">𝐶</ci><ci id="A4.F8.12.m1.1.1.2.3.cmml" xref="A4.F8.12.m1.1.1.2.3">𝑃</ci></apply><apply id="A4.F8.12.m1.1.1.3.cmml" xref="A4.F8.12.m1.1.1.3"><divide id="A4.F8.12.m1.1.1.3.1.cmml" xref="A4.F8.12.m1.1.1.3.1"></divide><cn id="A4.F8.12.m1.1.1.3.2.cmml" type="integer" xref="A4.F8.12.m1.1.1.3.2">3</cn><cn id="A4.F8.12.m1.1.1.3.3.cmml" type="integer" xref="A4.F8.12.m1.1.1.3.3">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.12.m1.1d">CP=3/5</annotation><annotation encoding="application/x-llamapun" id="A4.F8.12.m1.1e">italic_C italic_P = 3 / 5</annotation></semantics></math>, <math alttext="CR=3/4" class="ltx_Math" display="inline" id="A4.F8.13.m2.1"><semantics id="A4.F8.13.m2.1b"><mrow id="A4.F8.13.m2.1.1" xref="A4.F8.13.m2.1.1.cmml"><mrow id="A4.F8.13.m2.1.1.2" xref="A4.F8.13.m2.1.1.2.cmml"><mi id="A4.F8.13.m2.1.1.2.2" xref="A4.F8.13.m2.1.1.2.2.cmml">C</mi><mo id="A4.F8.13.m2.1.1.2.1" xref="A4.F8.13.m2.1.1.2.1.cmml">⁢</mo><mi id="A4.F8.13.m2.1.1.2.3" xref="A4.F8.13.m2.1.1.2.3.cmml">R</mi></mrow><mo id="A4.F8.13.m2.1.1.1" xref="A4.F8.13.m2.1.1.1.cmml">=</mo><mrow id="A4.F8.13.m2.1.1.3" xref="A4.F8.13.m2.1.1.3.cmml"><mn id="A4.F8.13.m2.1.1.3.2" xref="A4.F8.13.m2.1.1.3.2.cmml">3</mn><mo id="A4.F8.13.m2.1.1.3.1" xref="A4.F8.13.m2.1.1.3.1.cmml">/</mo><mn id="A4.F8.13.m2.1.1.3.3" xref="A4.F8.13.m2.1.1.3.3.cmml">4</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.F8.13.m2.1c"><apply id="A4.F8.13.m2.1.1.cmml" xref="A4.F8.13.m2.1.1"><eq id="A4.F8.13.m2.1.1.1.cmml" xref="A4.F8.13.m2.1.1.1"></eq><apply id="A4.F8.13.m2.1.1.2.cmml" xref="A4.F8.13.m2.1.1.2"><times id="A4.F8.13.m2.1.1.2.1.cmml" xref="A4.F8.13.m2.1.1.2.1"></times><ci id="A4.F8.13.m2.1.1.2.2.cmml" xref="A4.F8.13.m2.1.1.2.2">𝐶</ci><ci id="A4.F8.13.m2.1.1.2.3.cmml" xref="A4.F8.13.m2.1.1.2.3">𝑅</ci></apply><apply id="A4.F8.13.m2.1.1.3.cmml" xref="A4.F8.13.m2.1.1.3"><divide id="A4.F8.13.m2.1.1.3.1.cmml" xref="A4.F8.13.m2.1.1.3.1"></divide><cn id="A4.F8.13.m2.1.1.3.2.cmml" type="integer" xref="A4.F8.13.m2.1.1.3.2">3</cn><cn id="A4.F8.13.m2.1.1.3.3.cmml" type="integer" xref="A4.F8.13.m2.1.1.3.3">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.13.m2.1d">CR=3/4</annotation><annotation encoding="application/x-llamapun" id="A4.F8.13.m2.1e">italic_C italic_R = 3 / 4</annotation></semantics></math>, <math alttext="CFP=2/5" class="ltx_Math" display="inline" id="A4.F8.14.m3.1"><semantics id="A4.F8.14.m3.1b"><mrow id="A4.F8.14.m3.1.1" xref="A4.F8.14.m3.1.1.cmml"><mrow id="A4.F8.14.m3.1.1.2" xref="A4.F8.14.m3.1.1.2.cmml"><mi id="A4.F8.14.m3.1.1.2.2" xref="A4.F8.14.m3.1.1.2.2.cmml">C</mi><mo id="A4.F8.14.m3.1.1.2.1" xref="A4.F8.14.m3.1.1.2.1.cmml">⁢</mo><mi id="A4.F8.14.m3.1.1.2.3" xref="A4.F8.14.m3.1.1.2.3.cmml">F</mi><mo id="A4.F8.14.m3.1.1.2.1b" xref="A4.F8.14.m3.1.1.2.1.cmml">⁢</mo><mi id="A4.F8.14.m3.1.1.2.4" xref="A4.F8.14.m3.1.1.2.4.cmml">P</mi></mrow><mo id="A4.F8.14.m3.1.1.1" xref="A4.F8.14.m3.1.1.1.cmml">=</mo><mrow id="A4.F8.14.m3.1.1.3" xref="A4.F8.14.m3.1.1.3.cmml"><mn id="A4.F8.14.m3.1.1.3.2" xref="A4.F8.14.m3.1.1.3.2.cmml">2</mn><mo id="A4.F8.14.m3.1.1.3.1" xref="A4.F8.14.m3.1.1.3.1.cmml">/</mo><mn id="A4.F8.14.m3.1.1.3.3" xref="A4.F8.14.m3.1.1.3.3.cmml">5</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.F8.14.m3.1c"><apply id="A4.F8.14.m3.1.1.cmml" xref="A4.F8.14.m3.1.1"><eq id="A4.F8.14.m3.1.1.1.cmml" xref="A4.F8.14.m3.1.1.1"></eq><apply id="A4.F8.14.m3.1.1.2.cmml" xref="A4.F8.14.m3.1.1.2"><times id="A4.F8.14.m3.1.1.2.1.cmml" xref="A4.F8.14.m3.1.1.2.1"></times><ci id="A4.F8.14.m3.1.1.2.2.cmml" xref="A4.F8.14.m3.1.1.2.2">𝐶</ci><ci id="A4.F8.14.m3.1.1.2.3.cmml" xref="A4.F8.14.m3.1.1.2.3">𝐹</ci><ci id="A4.F8.14.m3.1.1.2.4.cmml" xref="A4.F8.14.m3.1.1.2.4">𝑃</ci></apply><apply id="A4.F8.14.m3.1.1.3.cmml" xref="A4.F8.14.m3.1.1.3"><divide id="A4.F8.14.m3.1.1.3.1.cmml" xref="A4.F8.14.m3.1.1.3.1"></divide><cn id="A4.F8.14.m3.1.1.3.2.cmml" type="integer" xref="A4.F8.14.m3.1.1.3.2">2</cn><cn id="A4.F8.14.m3.1.1.3.3.cmml" type="integer" xref="A4.F8.14.m3.1.1.3.3">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.14.m3.1d">CFP=2/5</annotation><annotation encoding="application/x-llamapun" id="A4.F8.14.m3.1e">italic_C italic_F italic_P = 2 / 5</annotation></semantics></math>.</figcaption>
</figure>
</section>
</section>
<section class="ltx_appendix" id="A5">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Qualitative Example</h2>
<div class="ltx_para" id="A5.p1">
<p class="ltx_p" id="A5.p1.1">Please see Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.17186v2#A4.F8" title="Figure 8 ‣ D.3 Retrieve with Cross-Encoders ‣ Appendix D Additional Experimental Results ‣ Clerc: A Large Long-Context Dataset for Retrieval and Reasoning"><span class="ltx_text ltx_ref_tag">8</span></a> for an example of problematic legal analysis generated by GPT-4o, which exhibits hallucination and achieves low citation precision and recall. We discover that citations from the cited cases are a possible source of hallucination, meaning that the model confuses the cases they should cite with the citations <span class="ltx_text ltx_framed ltx_framed_underline" id="A5.p1.1.1">in</span> those cases. It is possible to mitigate this with more refined prompt engineering, which we will leave to future works.</p>
</div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Thu Jun 27 15:57:20 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
