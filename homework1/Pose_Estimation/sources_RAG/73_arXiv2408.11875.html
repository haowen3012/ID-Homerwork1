<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering</title>
<!--Generated on Tue Aug 13 06:59:48 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Large Language Models,  Hierarchical Retrieval-Augmented Generation,  Indexed Wikicorpus Corpus,  Profile Corpus" lang="en" name="keywords"/>
<base href="/html/2408.11875v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S1" title="In Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>INTRODUCTION</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S2" title="In Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>RELATED WORK</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S2.SS1" title="In 2. RELATED WORK ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Retrieval-Augmented Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S2.SS2" title="In 2. RELATED WORK ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Chain-of-Thought (CoT)</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S3" title="In Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>INDEXED WIKICORPUS AND PROFILE WIKICORPUS</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S4" title="In Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>HIERARCHICAL RETRIEVAL-AUGMENTED MODEL</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S4.SS1" title="In 4. HIERARCHICAL RETRIEVAL-AUGMENTED MODEL ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Notations and Definitions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S4.SS2" title="In 4. HIERARCHICAL RETRIEVAL-AUGMENTED MODEL ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Decomposer and Summarizer</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S4.SS3" title="In 4. HIERARCHICAL RETRIEVAL-AUGMENTED MODEL ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Hierarchical Retriever</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S4.SS4" title="In 4. HIERARCHICAL RETRIEVAL-AUGMENTED MODEL ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Filter</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S5" title="In Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>EXPERIMENTS SETUP</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S5.SS1" title="In 5. EXPERIMENTS SETUP ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S5.SS2" title="In 5. EXPERIMENTS SETUP ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S5.SS3" title="In 5. EXPERIMENTS SETUP ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Implementation Details</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S6" title="In Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>RESULTS AND ANALYSIS</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S6.SS1" title="In 6. RESULTS AND ANALYSIS ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1 </span>Main Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S6.SS2" title="In 6. RESULTS AND ANALYSIS ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2 </span>Generalization</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S6.SS3" title="In 6. RESULTS AND ANALYSIS ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.3 </span>Ablation Experiments</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S6.SS4" title="In 6. RESULTS AND ANALYSIS ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.4 </span>Indexed Wikicorpus</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S6.SS5" title="In 6. RESULTS AND ANALYSIS ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.5 </span>Retriever Module as Plug-in</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S6.SS6" title="In 6. RESULTS AND ANALYSIS ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.6 </span>Case Study</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S7" title="In Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>CONCLUSION</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#A1" title="In Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>APPENDIX</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#A1.SS1" title="In Appendix A APPENDIX ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>Experiment about Model Turn</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#A1.SS2" title="In Appendix A APPENDIX ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Algorithm of HiRAG</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#A1.SS3" title="In Appendix A APPENDIX ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3 </span>Case Study</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiaoming Zhang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0005-0024-224X" title="ORCID identifier">0009-0005-0024-224X</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">Northeastern University</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2">Shenyang</span><span class="ltx_text ltx_affiliation_country" id="id3.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:zxm2282588541@gmail.com">zxm2282588541@gmail.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ming Wang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0001-8406-5677" title="ORCID identifier">0000-0001-8406-5677</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.1.id1">Northeastern University</span><span class="ltx_text ltx_affiliation_city" id="id5.2.id2">Shenyang</span><span class="ltx_text ltx_affiliation_country" id="id6.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:sci.m.wang@gmail.com">sci.m.wang@gmail.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiaocui Yang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id7.1.id1">Northeastern University</span><span class="ltx_text ltx_affiliation_city" id="id8.2.id2">Shenyang</span><span class="ltx_text ltx_affiliation_country" id="id9.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:neu.yangxiaocui@gmail.com">neu.yangxiaocui@gmail.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Daling Wang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id10.1.id1">Northeastern University</span><span class="ltx_text ltx_affiliation_city" id="id11.2.id2">Shenyang</span><span class="ltx_text ltx_affiliation_country" id="id12.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:wangdaling@cse.neu.edu.cn">wangdaling@cse.neu.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shi Feng
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id13.1.id1">Northeastern University</span><span class="ltx_text ltx_affiliation_city" id="id14.2.id2">Shenyang</span><span class="ltx_text ltx_affiliation_country" id="id15.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:fengshi@cse.neu.edu.cng">fengshi@cse.neu.edu.cng</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yifei Zhang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id16.1.id1">Northeastern University</span><span class="ltx_text ltx_affiliation_city" id="id17.2.id2">Shenyang</span><span class="ltx_text ltx_affiliation_country" id="id18.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:zhangyifei@cse.neu.edu.cn">zhangyifei@cse.neu.edu.cn</a>
</span></span></span>
</div>
<div class="ltx_dates">(2018)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id19.id1">Multi-hop Question Answering (QA) necessitates complex reasoning by integrating multiple pieces of information to resolve intricate questions. However, existing QA systems encounter challenges such as outdated information, context window length limitations, and an accuracy-quantity trade-off. To address these issues, we propose a novel framework, the Hierarchical Retrieval-Augmented Generation Model with Rethink (HiRAG), comprising Decomposer, Definer, Retriever, Filter, and Summarizer five key modules. We introduce a new hierarchical retrieval strategy that incorporates both sparse retrieval at the document level and dense retrieval at the chunk level, effectively integrating their strengths. Additionally, we propose a single-candidate retrieval method to mitigate the limitations of multi-candidate retrieval. We also construct two new corpora, Indexed Wikicorpus and Profile Wikicorpus, to address the issues of outdated and insufficient knowledge.
Our experimental results on four datasets demonstrate that HiRAG outperforms state-of-the-art models across most metrics, and our Indexed Wikicorpus is effective. The code for HiRAG is available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/2282588541a/HiRAG" title="">https://github.com/2282588541a/HiRAG</a>.</p>
</div>
<div class="ltx_keywords">Large Language Models, Hierarchical Retrieval-Augmented Generation, Indexed Wikicorpus Corpus, Profile Corpus
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmlicensed</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2018</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>XXXXXXX.XXXXXXX</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>; 2024; </span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Combination, fusion and federated search</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>INTRODUCTION</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Multi-hop Question Answering (QA) involves complex reasoning by integrating multiple pieces of information to resolve intricate questions <cite class="ltx_cite ltx_citemacro_citep">(Mavi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib14" title="">2022</a>; Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib29" title="">2018</a>; Ho et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib7" title="">2020</a>)</cite>. Unlike single-hop QA, where answers are readily available, complex questions require decomposing the original query into a series of targeted sub-questions. The knowledge required to answer each sub-question varies, drawing from both internal knowledge encoded in Large Language Models (LLMs) and external knowledge retrieved from local knowledge bases, such as Wikipedia <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib10" title="">2020</a>)</cite>, or open search engines like Google <cite class="ltx_cite ltx_citemacro_citep">(Xu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib28" title="">2024</a>; Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib27" title="">2024b</a>)</cite>. As internal knowledge is derived from large-scale data and extensive pre-training, making it challenging to modify, we focus primarily on updating, mining, and effectively leveraging the retrieved knowledge to enhance QA performance.</p>
</div>
<figure class="ltx_figure" id="S1.F1">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S1.F1.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="143" id="S1.F1.sf1.g1" src="x1.png" width="334"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F1.sf1.2.1.1" style="font-size:80%;">(a)</span> </span><span class="ltx_text" id="S1.F1.sf1.3.2" style="font-size:80%;">Multi-hop QA.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S1.F1.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="147" id="S1.F1.sf2.g1" src="x2.png" width="339"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F1.sf2.2.1.1" style="font-size:80%;">(b)</span> </span><span class="ltx_text" id="S1.F1.sf2.3.2" style="font-size:80%;">Outdated knowledge.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S1.F1.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="149" id="S1.F1.sf3.g1" src="x3.png" width="338"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F1.sf3.2.1.1" style="font-size:80%;">(c)</span> </span><span class="ltx_text" id="S1.F1.sf3.3.2" style="font-size:80%;">Insufficient knowledge.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>Outdated knowledge and insufficient knowledge existing in the old corpus.
</figcaption>
</figure>
<figure class="ltx_figure" id="S1.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S1.F2.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="152" id="S1.F2.sf1.g1" src="x4.png" width="279"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F2.sf1.2.1.1" style="font-size:80%;">(a)</span> </span><span class="ltx_text" id="S1.F2.sf1.3.2" style="font-size:80%;">Multiple candidate chunks.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S1.F2.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="155" id="S1.F2.sf2.g1" src="x5.png" width="388"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F2.sf2.2.1.1" style="font-size:80%;">(b)</span> </span><span class="ltx_text" id="S1.F2.sf2.3.2" style="font-size:80%;">Single candidate chunk.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>Multiple candidate chunks vs. single candidate chunk. The knowledge within the solid box represents the retrieved knowledge. In subfigure <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S1.F2.sf2" title="In Figure 2 ‣ 1. INTRODUCTION ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">2(b)</span></a>, the knowledge within the dotted box will be considered as newly retrieved knowledge only if the answer to the sub-question is incorrect.
</figcaption>
</figure>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">The selection and integration of knowledge retrieved from multiple sources pose various challenges. Several key issues, such as outdated information, context window length limitations, and accuracy-quantity trade-off issues, significantly impact the performance of multi-hop QA systems. Firstly, new multi-hop QA systems often rely on outdated and insufficient knowledge within localized knowledge bases. As illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S1.F1.sf2" title="In Figure 1 ‣ 1. INTRODUCTION ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">1(b)</span></a>, a QA system searches an outdated corpus <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib10" title="">2020</a>)</cite> to answer the query <span class="ltx_text ltx_font_italic" id="S1.p2.1.1">Who is the current president of the United States?</span>”, resulting in the incorrect answer ‘Donald Trump’. Similarly, the outdated corpus cannot provide real-time updates for newly released news, movies, books, etc. For instance, it does not include the 2023 movie <span class="ltx_text ltx_font_italic" id="S1.p2.1.2">Transformers: Rise of the Beasts</span>”, as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S1.F1.sf3" title="In Figure 1 ‣ 1. INTRODUCTION ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">1(c)</span></a>. Although outdated information can be mitigated through online retrieval, excessive retrieval introduces efficiency and cost issues. To address this, we first update the older corpus and construct an entity-centric, more comprehensive corpus, <span class="ltx_text ltx_font_bold" id="S1.p2.1.3">Indexed Wikicorpus</span>, based on Wikipedia, to reduce the reliance on over-searching. Additionally, to quickly understand the basic information of entities, we create a corpus containing some basic information of entities, <span class="ltx_text ltx_font_bold" id="S1.p2.1.4">Profile Wikicorpus</span>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.4">Building on previous studies <cite class="ltx_cite ltx_citemacro_citep">(Press et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib16" title="">2022</a>; Yao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib30" title="">2022</a>; Trivedi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib20" title="">2022a</a>)</cite>, we decompose the original question into multi-hop questions, as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S1.F1.sf1" title="In Figure 1 ‣ 1. INTRODUCTION ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">1(a)</span></a>. Each sub-question is answered based on retrieved knowledge, and the answers are then integrated using the Chain-of-Thought (CoT) approach to derive the final answer.
In local retrieval, most studies, such as FLARE <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib9" title="">2023</a>)</cite> and MetaRAG <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib35" title="">2024</a>)</cite>, employ a retrieval method that involves searching the corpus in chunks and returning the top <math alttext="n" class="ltx_Math" display="inline" id="S1.p3.1.m1.1"><semantics id="S1.p3.1.m1.1a"><mi id="S1.p3.1.m1.1.1" xref="S1.p3.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S1.p3.1.m1.1b"><ci id="S1.p3.1.m1.1.1.cmml" xref="S1.p3.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S1.p3.1.m1.1d">italic_n</annotation></semantics></math> most similar candidate chunks as retrieved knowledge. We refer to this method as <span class="ltx_text ltx_font_italic" id="S1.p3.4.1">multi-candidate retrieval</span>, as depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S1.F2.sf1" title="In Figure 2 ‣ 1. INTRODUCTION ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">2(a)</span></a>. Intuitively, increasing the value of <math alttext="n" class="ltx_Math" display="inline" id="S1.p3.2.m2.1"><semantics id="S1.p3.2.m2.1a"><mi id="S1.p3.2.m2.1.1" xref="S1.p3.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S1.p3.2.m2.1b"><ci id="S1.p3.2.m2.1.1.cmml" xref="S1.p3.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.2.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="S1.p3.2.m2.1d">italic_n</annotation></semantics></math> acquires more knowledge, thereby improving the probability of obtaining the correct answer to the query.
However, these approaches face two significant challenges. Firstly, the <span class="ltx_text ltx_font_bold" id="S1.p3.4.2">context window limit</span> imposes an upper limit on the value of <math alttext="n" class="ltx_Math" display="inline" id="S1.p3.3.m3.1"><semantics id="S1.p3.3.m3.1a"><mi id="S1.p3.3.m3.1.1" xref="S1.p3.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S1.p3.3.m3.1b"><ci id="S1.p3.3.m3.1.1.cmml" xref="S1.p3.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.3.m3.1c">n</annotation><annotation encoding="application/x-llamapun" id="S1.p3.3.m3.1d">italic_n</annotation></semantics></math>, preventing the unlimited expansion of the retrieved content due to the model’s context window size constraints. Secondly, the <span class="ltx_text ltx_font_bold" id="S1.p3.4.3">accuracy-number tradeoff</span> arises, where increasing <math alttext="n" class="ltx_Math" display="inline" id="S1.p3.4.m4.1"><semantics id="S1.p3.4.m4.1a"><mi id="S1.p3.4.m4.1.1" xref="S1.p3.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S1.p3.4.m4.1b"><ci id="S1.p3.4.m4.1.1.cmml" xref="S1.p3.4.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.4.m4.1c">n</annotation><annotation encoding="application/x-llamapun" id="S1.p3.4.m4.1d">italic_n</annotation></semantics></math> also increases the amount of potentially irrelevant or redundant information in the retrieved content. This noisy data may not only mislead the LLM and exacerbate its hallucination problem but also distract its attention, causing it to miss relevant information.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">To address the challenges, we propose a novel framework called the <span class="ltx_text ltx_font_bold" id="S1.p4.1.1">Hi</span>erarchical <span class="ltx_text ltx_font_bold" id="S1.p4.1.2">R</span>etrieval-<span class="ltx_text ltx_font_bold" id="S1.p4.1.3">A</span>ugmented <span class="ltx_text ltx_font_bold" id="S1.p4.1.4">G</span>eneration Model with Rethink (<span class="ltx_text ltx_font_bold" id="S1.p4.1.5">HiRAG</span>), as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S3.F4" title="Figure 4 ‣ 3. INDEXED WIKICORPUS AND PROFILE WIKICORPUS ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">4</span></a>. HiRAG comprises five key modules, i.e., Decomposer, Definer, Retriever, Filter, and Summarizer. The Filter module further incorporates two submodules, including Verify and Rethink. Previous methods typically rely on either sparse retrieval <cite class="ltx_cite ltx_citemacro_citep">(Svore and Burges, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib19" title="">2009</a>)</cite>, which focuses on lexical matching, or dense retrieval <cite class="ltx_cite ltx_citemacro_citep">(Zhao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib32" title="">2024</a>)</cite>, which leverages latent embeddings for semantic matching. While some approaches combine the results of these two retrieval methods at the output level <cite class="ltx_cite ltx_citemacro_citep">(Arabzadeh et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib2" title="">2021</a>; Luan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib12" title="">2021</a>; Karpukhin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib10" title="">2020</a>)</cite>, they do not deeply integrate the strengths of each retrieval method within the retrieval process itself.
We propose the Retrieval module which incorporates a new hierarchical retrieval strategy, performing multi-level retrieval from the document level to the chunk level. Initially, we employ sparse retrieval at the document level to extract key information, such as entity names, through lexical matching. Subsequently, dense retrieval is used to retrieve specific information at the chunk level, leveraging semantic matching.
We also introduce a novel retrieval method, <span class="ltx_text ltx_font_bold ltx_font_italic" id="S1.p4.1.6">single-candidate retrieval</span>, as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S1.F2.sf2" title="In Figure 2 ‣ 1. INTRODUCTION ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">2(b)</span></a>. This method returns only the most similar chunk as the retrieved knowledge for each decomposed sub-question. However, selecting just one candidate does not guarantee the correctness of the answer. To mitigate this, we apply the Filter module to assess the answer based on the retrieved knowledge. If the answer to a sub-question is found to be incorrect, we utilize the Rethink module, in conjunction with the Retrieval module, to select another chunk as the retrieved knowledge to answer the question.
The rethinking process is iterated until the Filter module confirms the answer as correct, thereby yielding the solution to the current sub-question. This cycle of decomposition, retrieval, and answering is repeated for subsequent sub-questions until the Definer module determines that the current question, accompanied by its sub-answers, is answerable. At this point, the Summarizer module is invoked to generate the final answer to the current question.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">We conduct experiments on four datasets, including HotPotQA <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib29" title="">2018</a>)</cite>, 2WikiMultihopQA <cite class="ltx_cite ltx_citemacro_citep">(Ho et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib7" title="">2020</a>)</cite>, MuSiQue <cite class="ltx_cite ltx_citemacro_citep">(Trivedi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib21" title="">2022b</a>)</cite>, and Bamboogle <cite class="ltx_cite ltx_citemacro_citep">(Press et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib16" title="">2022</a>)</cite>, for multi-hop question answering tasks. The experimental results demonstrate that HiRAG outperforms state-of-the-art models across all metrics on three datasets while showing advancements in several metrics on the remaining dataset, and our Indexed Wikicorpus is effective.
Our main contributions are summarized as follows:</p>
</div>
<div class="ltx_para" id="S1.p6">
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">To address the limitations of outdated and insufficient knowledge in existing corpora, we construct the Indexed Wikicorpus, which is organized by entity names. Subsequent experiments demonstrate that this corpus is more comprehensive and logically structured. Additionally, we propose the Profile Wikicorpus, which extracts auxiliary information on key entities to further provide effective knowledge.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We propose a novel retrieval-augmented generation framework, <span class="ltx_text ltx_font_bold" id="S1.I1.i2.p1.1.1">Hi</span>erarchical <span class="ltx_text ltx_font_bold" id="S1.I1.i2.p1.1.2">R</span>etrieval-<span class="ltx_text ltx_font_bold" id="S1.I1.i2.p1.1.3">A</span>ugmented <span class="ltx_text ltx_font_bold" id="S1.I1.i2.p1.1.4">G</span>eneration Model with Rethink (<span class="ltx_text ltx_font_bold" id="S1.I1.i2.p1.1.5">HiRAG</span>), which not only introduces a hierarchical retrieval method to integrate the advantages of different retrieval technologies but also uses single-candidate retrieval to solve the problems currently encountered in multi-candidate retrieval.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">We conduct comprehensive experiments on four datasets and verify the effectiveness of different components in HiRAG. The experimental results demonstrate that HiRAG outperforms state-of-the-art models on most metrics and confirms the effectiveness of the Indexed Wikicorpus.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>RELATED WORK</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">Multi-hop QA is the task of answering natural language questions that involve extracting and combining multiple pieces of information and doing multiple steps of reasoning <cite class="ltx_cite ltx_citemacro_citep">(Mavi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib13" title="">2024</a>)</cite>. It can be divided into two steps, a retrieval (IR) step to extract all relevant context from the corpus, and a reading comprehension (MRC) step to find the answer from the reading result context.
In the era of LLM, research <cite class="ltx_cite ltx_citemacro_citep">(Min et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib15" title="">2019</a>; Du et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib6" title="">2017</a>)</cite> finds that on the one hand, LLM can be used to complete the decomposition of the problem and achieve more fine-grained retrieval in the IR step, and on the other hand, Retrieval-Augmented Generation technology can be used to achieve the integration of retrieval information in the MRC step.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Retrieval-Augmented Generation</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">Retrieval-Augmented Generation (RAG) is a current research hotspot for Multi-hop QA tasks <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib11" title="">2020</a>)</cite>. It can integrate the internal knowledge of the model with the external knowledge retrieved. LLM can retrieve external content through RAG to expand their knowledge base, thereby improving their ability to generate accurate and contextually relevant responses.
Historically, various studies attempt to adapt the use of generative models to improve their performance. For instance, REPLUG <cite class="ltx_cite ltx_citemacro_citep">(Shi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib18" title="">2023</a>)</cite> uses different retrieved content to generate corresponding answers and then combine them. Self-Rag <cite class="ltx_cite ltx_citemacro_citep">(Asai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib3" title="">2023</a>)</cite> fine-tunes a generation model to simultaneously produce answers along with relevance, support, and usefulness scores. Concurrently, several methods for multi-hop QA emphasize the content and timing of retrieval. Self-Ask <cite class="ltx_cite ltx_citemacro_citep">(Press et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib16" title="">2022</a>)</cite> lets the model generate sub-questions and queries, and continuously alternate between retrieval and generation. PROMPTAGATOR <cite class="ltx_cite ltx_citemacro_citep">(Dai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib5" title="">2022</a>)</cite>, Take a step back <cite class="ltx_cite ltx_citemacro_citep">(Zheng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib33" title="">2023</a>)</cite> focus on abstracting high-level concepts and utilizing LLMs for prompt-based query generation. Additionally, the confidence-based method, FLARE <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib9" title="">2023</a>)</cite>, generates queries using low-confidence tokens. However, most studies directly feed the retrieval content into the generation model, ignoring the evaluation and processing of the retrieval content. Unlike them, HiRAG highlights the importance of verifying retrieved content and adjusts the retriever to enhance the relevance of results when the quality of the retrieved information is subpar.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Chain-of-Thought (CoT)</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">In the task of Multi-hop QA in addition to using retrieval-enhanced generation to obtain knowledge, CoT is also needed to improve the logic.
CoT can significantly enhance the reasoning capabilities of models <cite class="ltx_cite ltx_citemacro_citep">(Chu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib4" title="">2023</a>)</cite>. For instance, iterative Context-Aware Prompter <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib22" title="">2022a</a>)</cite> employs an iterative approach to knowledge acquisition from the model to accomplish reasoning tasks. Similarly, LEAST-TO-MOST <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib34" title="">2022</a>)</cite> decomposes complex problems into a series of sub-problems, addressing each step methodically. Inspired by the concept of self-consistency <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib24" title="">2022b</a>)</cite>, MCR <cite class="ltx_cite ltx_citemacro_citep">(Yoran et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib31" title="">2023</a>)</cite> extends the application of self-consistency beyond final results to include intermediate steps, thereby enhancing the overall accuracy of reasoning. Following <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib34" title="">2022</a>)</cite>, we design a comprehensive prompt to let the model decompose the question into multiple sub-questions and finally integrate the multiple sub-answers into the final answer through CoT. The main difference between our work and previous work is that we do not decompose the problem all at once, but proceed in a loop, generating only one sub-problem in each round; at the same time, we design a matching Definer to realize the judgment of whether the problem can be solved and exit the loop.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>INDEXED WIKICORPUS AND PROFILE WIKICORPUS</h2>
<figure class="ltx_figure" id="S3.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="177" id="S3.F3.g1" src="x6.png" width="225"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>Old corpus vs. Indexed Wikicorpus. In the new corpus, we specialize in constructing a document for each entity and then dividing it into chunks. </figcaption>
</figure>
<figure class="ltx_table" id="S3.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1. </span>
Old Corpus vs. Indexed Wikicorpus.
</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S3.T1.1" style="width:300.6pt;height:54pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p class="ltx_p" id="S3.T1.1.1"><span class="ltx_text" id="S3.T1.1.1.1">
<span class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S3.T1.1.1.1.1">
<span class="ltx_thead">
<span class="ltx_tr" id="S3.T1.1.1.1.1.1.1">
<span class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S3.T1.1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.1.1.1.1">Corpus</span></span>
<span class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S3.T1.1.1.1.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.1.1.2.1">Number of entities</span></span>
<span class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S3.T1.1.1.1.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.1.1.3.1">Number of words</span></span></span>
</span>
<span class="ltx_tbody">
<span class="ltx_tr" id="S3.T1.1.1.1.1.2.1">
<span class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S3.T1.1.1.1.1.2.1.1">Old corpus (from DPR)</span>
<span class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.1.1.1.2.1.2">3232908</span>
<span class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.1.1.1.2.1.3">2101532400</span></span>
<span class="ltx_tr" id="S3.T1.1.1.1.1.3.2">
<span class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="S3.T1.1.1.1.1.3.2.1">Indexed Wikicorpus</span>
<span class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.1.1.1.3.2.2"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.3.2.2.1">6416724</span></span>
<span class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.1.1.1.3.2.3"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.1.1.3.2.3.1">2642615682</span></span></span>
</span>
</span></span></p>
</span></div>
</figure>
<figure class="ltx_figure" id="S3.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="444" id="S3.F4.g1" src="x7.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>The framework of the Hierarchical Retrieval-Augmented Generation Moel with Rethink (<span class="ltx_text ltx_font_bold" id="S3.F4.3.1">HiRAG</span>), including Decomposer module, Definer module, Retriever module, Filter module, and Summarizer module. The process begins with the Decomposer module, which breaks down the original question into several sub-questions. Each sub-question is then forwarded to the Retriever module to retrieve pertinent knowledge. <span class="ltx_text ltx_font_italic" id="S3.F4.4.2">For illustration, we consider the handling of the first sub-question as an example</span>. The knowledge obtained is passed to the Verify module, where each sub-answer is evaluated for accuracy. If a sub-answer is verified as correct, it is stored in the sub-answer pool. Should it be incorrect, a rethinking process is initiated. Subsequent sub-questions undergo a similar sequence of decomposition, retrieval, and verification. Ultimately, all sub-answers, along with the original question, are compiled by the Summarizer module to output the final answer. Solid lines denote items that are currently being processed, while dotted lines indicate items that are pending processing or are about to be addressed. The llama icon represents LLaMa-3-70B and the ChatGPT icon is GPT-3.5-turbo in this paper.</figcaption>
</figure>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">The importance of corpus cannot be overstated in the realm of external knowledge acquisition. The Wikipedia corpus released by DPR <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib10" title="">2020</a>)</cite> is widely recognized as a standard resource. However, as time progresses, this corpus faces challenges such as knowledge gaps and outdated information. Moreover, to accommodate dense retrieval requirements, the corpus is designed to fragment entity information into multiple segments, often resulting in incoherent data representation.
To address these limitations, we develop a novel Wikipedia corpus called <span class="ltx_text ltx_font_bold" id="S3.p1.1.1">Indexed Wikicorpus</span> along with a corresponding key entity profile corpus called <span class="ltx_text ltx_font_bold" id="S3.p1.1.2">Profile Wikicorpus</span>. Our approach differs significantly from its predecessor in prioritizing the coherence of entity information. In Indexed Wikicorpus, each entry represents a complete entity as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S3.F3" title="Figure 3 ‣ 3. INDEXED WIKICORPUS AND PROFILE WIKICORPUS ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">3</span></a>, ensuring a more comprehensive and cohesive representation of information. Building upon this foundation, we draw inspiration from the Web version of Wikipedia to extract entity profiles. These profiles, curated by Wikipedia, encapsulate the essential information about each entity, which is saved to Profile Wikicorpus. Data analysis about the number of words and entities as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S3.T1" title="Table 1 ‣ 3. INDEXED WIKICORPUS AND PROFILE WIKICORPUS ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">1</span></a> reveals that our new corpus contains a higher volume of entity information compared to its predecessor. Furthermore, subsequent experiments demonstrate the superior performance of our corpus over the older version.</p>
</div>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>HIERARCHICAL RETRIEVAL-AUGMENTED MODEL</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">To address the challenges in retrieval-augmented generation, including the lack of deep integration between different retrieval methods and the potential introduction of noise from multi-candidate retrieval, we propose a novel framework called <span class="ltx_text ltx_font_bold" id="S4.p1.1.1">HiRAG</span>. This framework consists of five key components: Decomposer, Summarizer, Retriever, Definer, and Filter, as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S3.F4" title="Figure 4 ‣ 3. INDEXED WIKICORPUS AND PROFILE WIKICORPUS ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">4</span></a>. The detailed algorithm is presented in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#alg1" title="In A.2. Algorithm of HiRAG ‣ Appendix A APPENDIX ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">1</span></a> in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#A1" title="Appendix A APPENDIX ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">A</span></a>.
Specifically, the Decomposer is designed to tackle complex questions by decomposing them into smaller, more manageable sub-questions that can be easily answered. The Definer then determines whether the question can be solved. If it can, the Summarizer leverages the sub-answers to generate a response to the original question. Otherwise, the Retriever extracts relevant information related to the sub-question through a hierarchical retrieval process at both the document and chunk levels. Finally, the Filter verifies the validity of the retrieved content, generates a sub-answer, and re-evaluates the results if they are found to be inaccurate.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Notations and Definitions</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.16">For a multi-hop question, <math alttext="x" class="ltx_Math" display="inline" id="S4.SS1.p1.1.m1.1"><semantics id="S4.SS1.p1.1.m1.1a"><mi id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><ci id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.1.m1.1d">italic_x</annotation></semantics></math>, we can decompose it into a series of sub-questions <math alttext="\mathcal{Q}" class="ltx_Math" display="inline" id="S4.SS1.p1.2.m2.1"><semantics id="S4.SS1.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml">𝒬</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.1b"><ci id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1">𝒬</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.1c">\mathcal{Q}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.2.m2.1d">caligraphic_Q</annotation></semantics></math>, where answers to previous sub-questions can inform the generation of subsequent sub-questions. The objective is to iteratively obtain the set of sub-questions <math alttext="\mathcal{Q}=\{q_{i}\}_{i=1}^{|\mathcal{Q}|}" class="ltx_Math" display="inline" id="S4.SS1.p1.3.m3.2"><semantics id="S4.SS1.p1.3.m3.2a"><mrow id="S4.SS1.p1.3.m3.2.2" xref="S4.SS1.p1.3.m3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.3.m3.2.2.3" xref="S4.SS1.p1.3.m3.2.2.3.cmml">𝒬</mi><mo id="S4.SS1.p1.3.m3.2.2.2" xref="S4.SS1.p1.3.m3.2.2.2.cmml">=</mo><msubsup id="S4.SS1.p1.3.m3.2.2.1" xref="S4.SS1.p1.3.m3.2.2.1.cmml"><mrow id="S4.SS1.p1.3.m3.2.2.1.1.1.1" xref="S4.SS1.p1.3.m3.2.2.1.1.1.2.cmml"><mo id="S4.SS1.p1.3.m3.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS1.p1.3.m3.2.2.1.1.1.2.cmml">{</mo><msub id="S4.SS1.p1.3.m3.2.2.1.1.1.1.1" xref="S4.SS1.p1.3.m3.2.2.1.1.1.1.1.cmml"><mi id="S4.SS1.p1.3.m3.2.2.1.1.1.1.1.2" xref="S4.SS1.p1.3.m3.2.2.1.1.1.1.1.2.cmml">q</mi><mi id="S4.SS1.p1.3.m3.2.2.1.1.1.1.1.3" xref="S4.SS1.p1.3.m3.2.2.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS1.p1.3.m3.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS1.p1.3.m3.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS1.p1.3.m3.2.2.1.1.3" xref="S4.SS1.p1.3.m3.2.2.1.1.3.cmml"><mi id="S4.SS1.p1.3.m3.2.2.1.1.3.2" xref="S4.SS1.p1.3.m3.2.2.1.1.3.2.cmml">i</mi><mo id="S4.SS1.p1.3.m3.2.2.1.1.3.1" xref="S4.SS1.p1.3.m3.2.2.1.1.3.1.cmml">=</mo><mn id="S4.SS1.p1.3.m3.2.2.1.1.3.3" xref="S4.SS1.p1.3.m3.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS1.p1.3.m3.1.1.1.3" xref="S4.SS1.p1.3.m3.1.1.1.2.cmml"><mo id="S4.SS1.p1.3.m3.1.1.1.3.1" stretchy="false" xref="S4.SS1.p1.3.m3.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.3.m3.1.1.1.1" xref="S4.SS1.p1.3.m3.1.1.1.1.cmml">𝒬</mi><mo id="S4.SS1.p1.3.m3.1.1.1.3.2" stretchy="false" xref="S4.SS1.p1.3.m3.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.3.m3.2b"><apply id="S4.SS1.p1.3.m3.2.2.cmml" xref="S4.SS1.p1.3.m3.2.2"><eq id="S4.SS1.p1.3.m3.2.2.2.cmml" xref="S4.SS1.p1.3.m3.2.2.2"></eq><ci id="S4.SS1.p1.3.m3.2.2.3.cmml" xref="S4.SS1.p1.3.m3.2.2.3">𝒬</ci><apply id="S4.SS1.p1.3.m3.2.2.1.cmml" xref="S4.SS1.p1.3.m3.2.2.1"><csymbol cd="ambiguous" id="S4.SS1.p1.3.m3.2.2.1.2.cmml" xref="S4.SS1.p1.3.m3.2.2.1">superscript</csymbol><apply id="S4.SS1.p1.3.m3.2.2.1.1.cmml" xref="S4.SS1.p1.3.m3.2.2.1"><csymbol cd="ambiguous" id="S4.SS1.p1.3.m3.2.2.1.1.2.cmml" xref="S4.SS1.p1.3.m3.2.2.1">subscript</csymbol><set id="S4.SS1.p1.3.m3.2.2.1.1.1.2.cmml" xref="S4.SS1.p1.3.m3.2.2.1.1.1.1"><apply id="S4.SS1.p1.3.m3.2.2.1.1.1.1.1.cmml" xref="S4.SS1.p1.3.m3.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.3.m3.2.2.1.1.1.1.1.1.cmml" xref="S4.SS1.p1.3.m3.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p1.3.m3.2.2.1.1.1.1.1.2.cmml" xref="S4.SS1.p1.3.m3.2.2.1.1.1.1.1.2">𝑞</ci><ci id="S4.SS1.p1.3.m3.2.2.1.1.1.1.1.3.cmml" xref="S4.SS1.p1.3.m3.2.2.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS1.p1.3.m3.2.2.1.1.3.cmml" xref="S4.SS1.p1.3.m3.2.2.1.1.3"><eq id="S4.SS1.p1.3.m3.2.2.1.1.3.1.cmml" xref="S4.SS1.p1.3.m3.2.2.1.1.3.1"></eq><ci id="S4.SS1.p1.3.m3.2.2.1.1.3.2.cmml" xref="S4.SS1.p1.3.m3.2.2.1.1.3.2">𝑖</ci><cn id="S4.SS1.p1.3.m3.2.2.1.1.3.3.cmml" type="integer" xref="S4.SS1.p1.3.m3.2.2.1.1.3.3">1</cn></apply></apply><apply id="S4.SS1.p1.3.m3.1.1.1.2.cmml" xref="S4.SS1.p1.3.m3.1.1.1.3"><abs id="S4.SS1.p1.3.m3.1.1.1.2.1.cmml" xref="S4.SS1.p1.3.m3.1.1.1.3.1"></abs><ci id="S4.SS1.p1.3.m3.1.1.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1">𝒬</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.3.m3.2c">\mathcal{Q}=\{q_{i}\}_{i=1}^{|\mathcal{Q}|}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.3.m3.2d">caligraphic_Q = { italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | caligraphic_Q | end_POSTSUPERSCRIPT</annotation></semantics></math> and their corresponding set of sub-answers <math alttext="\mathcal{A}=\{a_{i}\}_{i=1}^{|\mathcal{A}|}" class="ltx_Math" display="inline" id="S4.SS1.p1.4.m4.2"><semantics id="S4.SS1.p1.4.m4.2a"><mrow id="S4.SS1.p1.4.m4.2.2" xref="S4.SS1.p1.4.m4.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.4.m4.2.2.3" xref="S4.SS1.p1.4.m4.2.2.3.cmml">𝒜</mi><mo id="S4.SS1.p1.4.m4.2.2.2" xref="S4.SS1.p1.4.m4.2.2.2.cmml">=</mo><msubsup id="S4.SS1.p1.4.m4.2.2.1" xref="S4.SS1.p1.4.m4.2.2.1.cmml"><mrow id="S4.SS1.p1.4.m4.2.2.1.1.1.1" xref="S4.SS1.p1.4.m4.2.2.1.1.1.2.cmml"><mo id="S4.SS1.p1.4.m4.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS1.p1.4.m4.2.2.1.1.1.2.cmml">{</mo><msub id="S4.SS1.p1.4.m4.2.2.1.1.1.1.1" xref="S4.SS1.p1.4.m4.2.2.1.1.1.1.1.cmml"><mi id="S4.SS1.p1.4.m4.2.2.1.1.1.1.1.2" xref="S4.SS1.p1.4.m4.2.2.1.1.1.1.1.2.cmml">a</mi><mi id="S4.SS1.p1.4.m4.2.2.1.1.1.1.1.3" xref="S4.SS1.p1.4.m4.2.2.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS1.p1.4.m4.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS1.p1.4.m4.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS1.p1.4.m4.2.2.1.1.3" xref="S4.SS1.p1.4.m4.2.2.1.1.3.cmml"><mi id="S4.SS1.p1.4.m4.2.2.1.1.3.2" xref="S4.SS1.p1.4.m4.2.2.1.1.3.2.cmml">i</mi><mo id="S4.SS1.p1.4.m4.2.2.1.1.3.1" xref="S4.SS1.p1.4.m4.2.2.1.1.3.1.cmml">=</mo><mn id="S4.SS1.p1.4.m4.2.2.1.1.3.3" xref="S4.SS1.p1.4.m4.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS1.p1.4.m4.1.1.1.3" xref="S4.SS1.p1.4.m4.1.1.1.2.cmml"><mo id="S4.SS1.p1.4.m4.1.1.1.3.1" stretchy="false" xref="S4.SS1.p1.4.m4.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.4.m4.1.1.1.1" xref="S4.SS1.p1.4.m4.1.1.1.1.cmml">𝒜</mi><mo id="S4.SS1.p1.4.m4.1.1.1.3.2" stretchy="false" xref="S4.SS1.p1.4.m4.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.4.m4.2b"><apply id="S4.SS1.p1.4.m4.2.2.cmml" xref="S4.SS1.p1.4.m4.2.2"><eq id="S4.SS1.p1.4.m4.2.2.2.cmml" xref="S4.SS1.p1.4.m4.2.2.2"></eq><ci id="S4.SS1.p1.4.m4.2.2.3.cmml" xref="S4.SS1.p1.4.m4.2.2.3">𝒜</ci><apply id="S4.SS1.p1.4.m4.2.2.1.cmml" xref="S4.SS1.p1.4.m4.2.2.1"><csymbol cd="ambiguous" id="S4.SS1.p1.4.m4.2.2.1.2.cmml" xref="S4.SS1.p1.4.m4.2.2.1">superscript</csymbol><apply id="S4.SS1.p1.4.m4.2.2.1.1.cmml" xref="S4.SS1.p1.4.m4.2.2.1"><csymbol cd="ambiguous" id="S4.SS1.p1.4.m4.2.2.1.1.2.cmml" xref="S4.SS1.p1.4.m4.2.2.1">subscript</csymbol><set id="S4.SS1.p1.4.m4.2.2.1.1.1.2.cmml" xref="S4.SS1.p1.4.m4.2.2.1.1.1.1"><apply id="S4.SS1.p1.4.m4.2.2.1.1.1.1.1.cmml" xref="S4.SS1.p1.4.m4.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.4.m4.2.2.1.1.1.1.1.1.cmml" xref="S4.SS1.p1.4.m4.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p1.4.m4.2.2.1.1.1.1.1.2.cmml" xref="S4.SS1.p1.4.m4.2.2.1.1.1.1.1.2">𝑎</ci><ci id="S4.SS1.p1.4.m4.2.2.1.1.1.1.1.3.cmml" xref="S4.SS1.p1.4.m4.2.2.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS1.p1.4.m4.2.2.1.1.3.cmml" xref="S4.SS1.p1.4.m4.2.2.1.1.3"><eq id="S4.SS1.p1.4.m4.2.2.1.1.3.1.cmml" xref="S4.SS1.p1.4.m4.2.2.1.1.3.1"></eq><ci id="S4.SS1.p1.4.m4.2.2.1.1.3.2.cmml" xref="S4.SS1.p1.4.m4.2.2.1.1.3.2">𝑖</ci><cn id="S4.SS1.p1.4.m4.2.2.1.1.3.3.cmml" type="integer" xref="S4.SS1.p1.4.m4.2.2.1.1.3.3">1</cn></apply></apply><apply id="S4.SS1.p1.4.m4.1.1.1.2.cmml" xref="S4.SS1.p1.4.m4.1.1.1.3"><abs id="S4.SS1.p1.4.m4.1.1.1.2.1.cmml" xref="S4.SS1.p1.4.m4.1.1.1.3.1"></abs><ci id="S4.SS1.p1.4.m4.1.1.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1.1.1">𝒜</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.4.m4.2c">\mathcal{A}=\{a_{i}\}_{i=1}^{|\mathcal{A}|}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.4.m4.2d">caligraphic_A = { italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | caligraphic_A | end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math alttext="q_{i}" class="ltx_Math" display="inline" id="S4.SS1.p1.5.m5.1"><semantics id="S4.SS1.p1.5.m5.1a"><msub id="S4.SS1.p1.5.m5.1.1" xref="S4.SS1.p1.5.m5.1.1.cmml"><mi id="S4.SS1.p1.5.m5.1.1.2" xref="S4.SS1.p1.5.m5.1.1.2.cmml">q</mi><mi id="S4.SS1.p1.5.m5.1.1.3" xref="S4.SS1.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.5.m5.1b"><apply id="S4.SS1.p1.5.m5.1.1.cmml" xref="S4.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.5.m5.1.1.1.cmml" xref="S4.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S4.SS1.p1.5.m5.1.1.2.cmml" xref="S4.SS1.p1.5.m5.1.1.2">𝑞</ci><ci id="S4.SS1.p1.5.m5.1.1.3.cmml" xref="S4.SS1.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.5.m5.1c">q_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.5.m5.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> represents the <math alttext="i" class="ltx_Math" display="inline" id="S4.SS1.p1.6.m6.1"><semantics id="S4.SS1.p1.6.m6.1a"><mi id="S4.SS1.p1.6.m6.1.1" xref="S4.SS1.p1.6.m6.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.6.m6.1b"><ci id="S4.SS1.p1.6.m6.1.1.cmml" xref="S4.SS1.p1.6.m6.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.6.m6.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.6.m6.1d">italic_i</annotation></semantics></math>-th decomposed sub-question and <math alttext="a_{i}" class="ltx_Math" display="inline" id="S4.SS1.p1.7.m7.1"><semantics id="S4.SS1.p1.7.m7.1a"><msub id="S4.SS1.p1.7.m7.1.1" xref="S4.SS1.p1.7.m7.1.1.cmml"><mi id="S4.SS1.p1.7.m7.1.1.2" xref="S4.SS1.p1.7.m7.1.1.2.cmml">a</mi><mi id="S4.SS1.p1.7.m7.1.1.3" xref="S4.SS1.p1.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.7.m7.1b"><apply id="S4.SS1.p1.7.m7.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.7.m7.1.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1">subscript</csymbol><ci id="S4.SS1.p1.7.m7.1.1.2.cmml" xref="S4.SS1.p1.7.m7.1.1.2">𝑎</ci><ci id="S4.SS1.p1.7.m7.1.1.3.cmml" xref="S4.SS1.p1.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.7.m7.1c">a_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.7.m7.1d">italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> its corresponding sub-answer.
Ultimately, we combine all sub-answers with the original question, <math alttext="x" class="ltx_Math" display="inline" id="S4.SS1.p1.8.m8.1"><semantics id="S4.SS1.p1.8.m8.1a"><mi id="S4.SS1.p1.8.m8.1.1" xref="S4.SS1.p1.8.m8.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.8.m8.1b"><ci id="S4.SS1.p1.8.m8.1.1.cmml" xref="S4.SS1.p1.8.m8.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.8.m8.1c">x</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.8.m8.1d">italic_x</annotation></semantics></math>, to get the final answer <math alttext="o" class="ltx_Math" display="inline" id="S4.SS1.p1.9.m9.1"><semantics id="S4.SS1.p1.9.m9.1a"><mi id="S4.SS1.p1.9.m9.1.1" xref="S4.SS1.p1.9.m9.1.1.cmml">o</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.9.m9.1b"><ci id="S4.SS1.p1.9.m9.1.1.cmml" xref="S4.SS1.p1.9.m9.1.1">𝑜</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.9.m9.1c">o</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.9.m9.1d">italic_o</annotation></semantics></math>.
To augment the ability of the model to answer questions, we leverage external knowledge from the Wikipedia corpus, denoted as <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S4.SS1.p1.10.m10.1"><semantics id="S4.SS1.p1.10.m10.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.10.m10.1.1" xref="S4.SS1.p1.10.m10.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.10.m10.1b"><ci id="S4.SS1.p1.10.m10.1.1.cmml" xref="S4.SS1.p1.10.m10.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.10.m10.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.10.m10.1d">caligraphic_D</annotation></semantics></math>, which comprises numerous sub-documents. Each sub-document, <math alttext="d" class="ltx_Math" display="inline" id="S4.SS1.p1.11.m11.1"><semantics id="S4.SS1.p1.11.m11.1a"><mi id="S4.SS1.p1.11.m11.1.1" xref="S4.SS1.p1.11.m11.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.11.m11.1b"><ci id="S4.SS1.p1.11.m11.1.1.cmml" xref="S4.SS1.p1.11.m11.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.11.m11.1c">d</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.11.m11.1d">italic_d</annotation></semantics></math>, contains relevant content, including a title, <math alttext="t" class="ltx_Math" display="inline" id="S4.SS1.p1.12.m12.1"><semantics id="S4.SS1.p1.12.m12.1a"><mi id="S4.SS1.p1.12.m12.1.1" xref="S4.SS1.p1.12.m12.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.12.m12.1b"><ci id="S4.SS1.p1.12.m12.1.1.cmml" xref="S4.SS1.p1.12.m12.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.12.m12.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.12.m12.1d">italic_t</annotation></semantics></math>, and body text. For a given sub-question, we first employ a retriever to identify the most relevant sub-document, <math alttext="d=\bm{Retrieval}(q,\mathcal{D})" class="ltx_Math" display="inline" id="S4.SS1.p1.13.m13.2"><semantics id="S4.SS1.p1.13.m13.2a"><mrow id="S4.SS1.p1.13.m13.2.3" xref="S4.SS1.p1.13.m13.2.3.cmml"><mi id="S4.SS1.p1.13.m13.2.3.2" xref="S4.SS1.p1.13.m13.2.3.2.cmml">d</mi><mo id="S4.SS1.p1.13.m13.2.3.1" xref="S4.SS1.p1.13.m13.2.3.1.cmml">=</mo><mrow id="S4.SS1.p1.13.m13.2.3.3" xref="S4.SS1.p1.13.m13.2.3.3.cmml"><mi id="S4.SS1.p1.13.m13.2.3.3.2" xref="S4.SS1.p1.13.m13.2.3.3.2.cmml">𝑹</mi><mo id="S4.SS1.p1.13.m13.2.3.3.1" xref="S4.SS1.p1.13.m13.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.13.m13.2.3.3.3" xref="S4.SS1.p1.13.m13.2.3.3.3.cmml">𝒆</mi><mo id="S4.SS1.p1.13.m13.2.3.3.1a" xref="S4.SS1.p1.13.m13.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.13.m13.2.3.3.4" xref="S4.SS1.p1.13.m13.2.3.3.4.cmml">𝒕</mi><mo id="S4.SS1.p1.13.m13.2.3.3.1b" xref="S4.SS1.p1.13.m13.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.13.m13.2.3.3.5" xref="S4.SS1.p1.13.m13.2.3.3.5.cmml">𝒓</mi><mo id="S4.SS1.p1.13.m13.2.3.3.1c" xref="S4.SS1.p1.13.m13.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.13.m13.2.3.3.6" xref="S4.SS1.p1.13.m13.2.3.3.6.cmml">𝒊</mi><mo id="S4.SS1.p1.13.m13.2.3.3.1d" xref="S4.SS1.p1.13.m13.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.13.m13.2.3.3.7" xref="S4.SS1.p1.13.m13.2.3.3.7.cmml">𝒆</mi><mo id="S4.SS1.p1.13.m13.2.3.3.1e" xref="S4.SS1.p1.13.m13.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.13.m13.2.3.3.8" xref="S4.SS1.p1.13.m13.2.3.3.8.cmml">𝒗</mi><mo id="S4.SS1.p1.13.m13.2.3.3.1f" xref="S4.SS1.p1.13.m13.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.13.m13.2.3.3.9" xref="S4.SS1.p1.13.m13.2.3.3.9.cmml">𝒂</mi><mo id="S4.SS1.p1.13.m13.2.3.3.1g" xref="S4.SS1.p1.13.m13.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.13.m13.2.3.3.10" xref="S4.SS1.p1.13.m13.2.3.3.10.cmml">𝒍</mi><mo id="S4.SS1.p1.13.m13.2.3.3.1h" xref="S4.SS1.p1.13.m13.2.3.3.1.cmml">⁢</mo><mrow id="S4.SS1.p1.13.m13.2.3.3.11.2" xref="S4.SS1.p1.13.m13.2.3.3.11.1.cmml"><mo id="S4.SS1.p1.13.m13.2.3.3.11.2.1" stretchy="false" xref="S4.SS1.p1.13.m13.2.3.3.11.1.cmml">(</mo><mi id="S4.SS1.p1.13.m13.1.1" xref="S4.SS1.p1.13.m13.1.1.cmml">q</mi><mo id="S4.SS1.p1.13.m13.2.3.3.11.2.2" xref="S4.SS1.p1.13.m13.2.3.3.11.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.13.m13.2.2" xref="S4.SS1.p1.13.m13.2.2.cmml">𝒟</mi><mo id="S4.SS1.p1.13.m13.2.3.3.11.2.3" stretchy="false" xref="S4.SS1.p1.13.m13.2.3.3.11.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.13.m13.2b"><apply id="S4.SS1.p1.13.m13.2.3.cmml" xref="S4.SS1.p1.13.m13.2.3"><eq id="S4.SS1.p1.13.m13.2.3.1.cmml" xref="S4.SS1.p1.13.m13.2.3.1"></eq><ci id="S4.SS1.p1.13.m13.2.3.2.cmml" xref="S4.SS1.p1.13.m13.2.3.2">𝑑</ci><apply id="S4.SS1.p1.13.m13.2.3.3.cmml" xref="S4.SS1.p1.13.m13.2.3.3"><times id="S4.SS1.p1.13.m13.2.3.3.1.cmml" xref="S4.SS1.p1.13.m13.2.3.3.1"></times><ci id="S4.SS1.p1.13.m13.2.3.3.2.cmml" xref="S4.SS1.p1.13.m13.2.3.3.2">𝑹</ci><ci id="S4.SS1.p1.13.m13.2.3.3.3.cmml" xref="S4.SS1.p1.13.m13.2.3.3.3">𝒆</ci><ci id="S4.SS1.p1.13.m13.2.3.3.4.cmml" xref="S4.SS1.p1.13.m13.2.3.3.4">𝒕</ci><ci id="S4.SS1.p1.13.m13.2.3.3.5.cmml" xref="S4.SS1.p1.13.m13.2.3.3.5">𝒓</ci><ci id="S4.SS1.p1.13.m13.2.3.3.6.cmml" xref="S4.SS1.p1.13.m13.2.3.3.6">𝒊</ci><ci id="S4.SS1.p1.13.m13.2.3.3.7.cmml" xref="S4.SS1.p1.13.m13.2.3.3.7">𝒆</ci><ci id="S4.SS1.p1.13.m13.2.3.3.8.cmml" xref="S4.SS1.p1.13.m13.2.3.3.8">𝒗</ci><ci id="S4.SS1.p1.13.m13.2.3.3.9.cmml" xref="S4.SS1.p1.13.m13.2.3.3.9">𝒂</ci><ci id="S4.SS1.p1.13.m13.2.3.3.10.cmml" xref="S4.SS1.p1.13.m13.2.3.3.10">𝒍</ci><interval closure="open" id="S4.SS1.p1.13.m13.2.3.3.11.1.cmml" xref="S4.SS1.p1.13.m13.2.3.3.11.2"><ci id="S4.SS1.p1.13.m13.1.1.cmml" xref="S4.SS1.p1.13.m13.1.1">𝑞</ci><ci id="S4.SS1.p1.13.m13.2.2.cmml" xref="S4.SS1.p1.13.m13.2.2">𝒟</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.13.m13.2c">d=\bm{Retrieval}(q,\mathcal{D})</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.13.m13.2d">italic_d = bold_italic_R bold_italic_e bold_italic_t bold_italic_r bold_italic_i bold_italic_e bold_italic_v bold_italic_a bold_italic_l ( italic_q , caligraphic_D )</annotation></semantics></math>. We then pinpoint the most relevant chunk of text, <math alttext="c" class="ltx_Math" display="inline" id="S4.SS1.p1.14.m14.1"><semantics id="S4.SS1.p1.14.m14.1a"><mi id="S4.SS1.p1.14.m14.1.1" xref="S4.SS1.p1.14.m14.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.14.m14.1b"><ci id="S4.SS1.p1.14.m14.1.1.cmml" xref="S4.SS1.p1.14.m14.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.14.m14.1c">c</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.14.m14.1d">italic_c</annotation></semantics></math>, in <math alttext="d" class="ltx_Math" display="inline" id="S4.SS1.p1.15.m15.1"><semantics id="S4.SS1.p1.15.m15.1a"><mi id="S4.SS1.p1.15.m15.1.1" xref="S4.SS1.p1.15.m15.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.15.m15.1b"><ci id="S4.SS1.p1.15.m15.1.1.cmml" xref="S4.SS1.p1.15.m15.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.15.m15.1c">d</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.15.m15.1d">italic_d</annotation></semantics></math>. Finally, we utilize the most relevant chunk to answer the sub-question using a LLM, yielding the sub-answer <math alttext="a=\bm{LLM}(q,c)" class="ltx_Math" display="inline" id="S4.SS1.p1.16.m16.2"><semantics id="S4.SS1.p1.16.m16.2a"><mrow id="S4.SS1.p1.16.m16.2.3" xref="S4.SS1.p1.16.m16.2.3.cmml"><mi id="S4.SS1.p1.16.m16.2.3.2" xref="S4.SS1.p1.16.m16.2.3.2.cmml">a</mi><mo id="S4.SS1.p1.16.m16.2.3.1" xref="S4.SS1.p1.16.m16.2.3.1.cmml">=</mo><mrow id="S4.SS1.p1.16.m16.2.3.3" xref="S4.SS1.p1.16.m16.2.3.3.cmml"><mi id="S4.SS1.p1.16.m16.2.3.3.2" xref="S4.SS1.p1.16.m16.2.3.3.2.cmml">𝑳</mi><mo id="S4.SS1.p1.16.m16.2.3.3.1" xref="S4.SS1.p1.16.m16.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.16.m16.2.3.3.3" xref="S4.SS1.p1.16.m16.2.3.3.3.cmml">𝑳</mi><mo id="S4.SS1.p1.16.m16.2.3.3.1a" xref="S4.SS1.p1.16.m16.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p1.16.m16.2.3.3.4" xref="S4.SS1.p1.16.m16.2.3.3.4.cmml">𝑴</mi><mo id="S4.SS1.p1.16.m16.2.3.3.1b" xref="S4.SS1.p1.16.m16.2.3.3.1.cmml">⁢</mo><mrow id="S4.SS1.p1.16.m16.2.3.3.5.2" xref="S4.SS1.p1.16.m16.2.3.3.5.1.cmml"><mo id="S4.SS1.p1.16.m16.2.3.3.5.2.1" stretchy="false" xref="S4.SS1.p1.16.m16.2.3.3.5.1.cmml">(</mo><mi id="S4.SS1.p1.16.m16.1.1" xref="S4.SS1.p1.16.m16.1.1.cmml">q</mi><mo id="S4.SS1.p1.16.m16.2.3.3.5.2.2" xref="S4.SS1.p1.16.m16.2.3.3.5.1.cmml">,</mo><mi id="S4.SS1.p1.16.m16.2.2" xref="S4.SS1.p1.16.m16.2.2.cmml">c</mi><mo id="S4.SS1.p1.16.m16.2.3.3.5.2.3" stretchy="false" xref="S4.SS1.p1.16.m16.2.3.3.5.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.16.m16.2b"><apply id="S4.SS1.p1.16.m16.2.3.cmml" xref="S4.SS1.p1.16.m16.2.3"><eq id="S4.SS1.p1.16.m16.2.3.1.cmml" xref="S4.SS1.p1.16.m16.2.3.1"></eq><ci id="S4.SS1.p1.16.m16.2.3.2.cmml" xref="S4.SS1.p1.16.m16.2.3.2">𝑎</ci><apply id="S4.SS1.p1.16.m16.2.3.3.cmml" xref="S4.SS1.p1.16.m16.2.3.3"><times id="S4.SS1.p1.16.m16.2.3.3.1.cmml" xref="S4.SS1.p1.16.m16.2.3.3.1"></times><ci id="S4.SS1.p1.16.m16.2.3.3.2.cmml" xref="S4.SS1.p1.16.m16.2.3.3.2">𝑳</ci><ci id="S4.SS1.p1.16.m16.2.3.3.3.cmml" xref="S4.SS1.p1.16.m16.2.3.3.3">𝑳</ci><ci id="S4.SS1.p1.16.m16.2.3.3.4.cmml" xref="S4.SS1.p1.16.m16.2.3.3.4">𝑴</ci><interval closure="open" id="S4.SS1.p1.16.m16.2.3.3.5.1.cmml" xref="S4.SS1.p1.16.m16.2.3.3.5.2"><ci id="S4.SS1.p1.16.m16.1.1.cmml" xref="S4.SS1.p1.16.m16.1.1">𝑞</ci><ci id="S4.SS1.p1.16.m16.2.2.cmml" xref="S4.SS1.p1.16.m16.2.2">𝑐</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.16.m16.2c">a=\bm{LLM}(q,c)</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.16.m16.2d">italic_a = bold_italic_L bold_italic_L bold_italic_M ( italic_q , italic_c )</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Decomposer and Summarizer </h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">Building upon the previous work <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib34" title="">2022</a>)</cite>, we use the Decomposer module to break down complex problems into manageable sub-questions leveraging the prompt engineering <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib23" title="">2024</a>)</cite>. We develop a comprehensive prompt for the Decomposer, which includes its background, goals, constraints, workflow, examples, and initialization.
The prompt of the Decomposer module is formulated as follows:</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<dl class="ltx_description" id="S4.I1">
<dt class="ltx_item" id="S4.I1.i1"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I1.i1.1.1.1">: </span></span></dt>
<dd class="ltx_item">
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1"><span class="ltx_text" id="S4.I1.i1.p1.1.1" style="font-size:90%;">Prompt of Decomposer: 
<br class="ltx_break"/><span class="ltx_text" id="S4.I1.i1.p1.1.1.1">
<span class="ltx_block ltx_parbox ltx_align_middle" id="S4.I1.i1.p1.1.1.1.1" style="width:424.9pt;background-color:#E6E6E6;">
<span class="ltx_item" id="S4.I1.i2" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.1.1.1" style="font-size:111%;">: </span></span>
<span class="ltx_para" id="S4.I1.i2.p1">
<span class="ltx_p" id="S4.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.1.1">Background</span>:</span>
</span>
<span class="ltx_para" id="S4.I1.i2.p2">
<span class="ltx_p" id="S4.I1.i2.p2.1">- You are an expert at analyzing problems…</span>
</span>
<span class="ltx_para" id="S4.I1.i2.p3">
<span class="ltx_p" id="S4.I1.i2.p3.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p3.1.1">Goal</span>:</span>
</span>
<span class="ltx_para" id="S4.I1.i2.p4">
<span class="ltx_p" id="S4.I1.i2.p4.1">Helping the user decompose the question and tell the user at the right time that the problem can be solved.</span>
</span>
<span class="ltx_para" id="S4.I1.i2.p5">
<span class="ltx_p" id="S4.I1.i2.p5.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p5.1.1">Constraint</span>:</span>
</span>
<span class="ltx_para" id="S4.I1.i2.p6">
<span class="ltx_p" id="S4.I1.i2.p6.1">- You can only decompose the question, do not answer it directly…</span>
</span>
<span class="ltx_para" id="S4.I1.i2.p7">
<span class="ltx_p" id="S4.I1.i2.p7.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p7.1.1">Workflow</span>:</span>
</span>
<span class="ltx_para" id="S4.I1.i2.p8">
<span class="ltx_p" id="S4.I1.i2.p8.1">1. Analyse the original complex question…</span>
</span>
<span class="ltx_para" id="S4.I1.i2.p9">
<span class="ltx_p" id="S4.I1.i2.p9.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p9.1.1">Example</span>:</span>
</span>
<span class="ltx_para" id="S4.I1.i2.p10">
<span class="ltx_p" id="S4.I1.i2.p10.1">….</span>
</span>
<span class="ltx_para" id="S4.I1.i2.p11">
<span class="ltx_p" id="S4.I1.i2.p11.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p11.1.1">Initialization</span>:</span>
</span>
<span class="ltx_para" id="S4.I1.i2.p12">
<span class="ltx_p" id="S4.I1.i2.p12.1">Now, a first simple question.</span>
</span></span>
</span></span></span></p>
</div>
</dd>
</dl>
<p class="ltx_p" id="S4.SS2.p2.6">We initialize the model turn, <math alttext="mt" class="ltx_Math" display="inline" id="S4.SS2.p2.1.m1.1"><semantics id="S4.SS2.p2.1.m1.1a"><mrow id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml"><mi id="S4.SS2.p2.1.m1.1.1.2" xref="S4.SS2.p2.1.m1.1.1.2.cmml">m</mi><mo id="S4.SS2.p2.1.m1.1.1.1" xref="S4.SS2.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.1.m1.1.1.3" xref="S4.SS2.p2.1.m1.1.1.3.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><apply id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1"><times id="S4.SS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1.1"></times><ci id="S4.SS2.p2.1.m1.1.1.2.cmml" xref="S4.SS2.p2.1.m1.1.1.2">𝑚</ci><ci id="S4.SS2.p2.1.m1.1.1.3.cmml" xref="S4.SS2.p2.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">mt</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.1.m1.1d">italic_m italic_t</annotation></semantics></math>, to 0 which indicates the round of the current decomposition problem. For the <math alttext="mt" class="ltx_Math" display="inline" id="S4.SS2.p2.2.m2.1"><semantics id="S4.SS2.p2.2.m2.1a"><mrow id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml"><mi id="S4.SS2.p2.2.m2.1.1.2" xref="S4.SS2.p2.2.m2.1.1.2.cmml">m</mi><mo id="S4.SS2.p2.2.m2.1.1.1" xref="S4.SS2.p2.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.2.m2.1.1.3" xref="S4.SS2.p2.2.m2.1.1.3.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><apply id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1"><times id="S4.SS2.p2.2.m2.1.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1.1"></times><ci id="S4.SS2.p2.2.m2.1.1.2.cmml" xref="S4.SS2.p2.2.m2.1.1.2">𝑚</ci><ci id="S4.SS2.p2.2.m2.1.1.3.cmml" xref="S4.SS2.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">mt</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.2.m2.1d">italic_m italic_t</annotation></semantics></math>-th iteration, the Decomposer makes a new sub-question with the previous sub-answers, <math alttext="\{a_{1},a_{2},...,a_{mt-1}\}" class="ltx_Math" display="inline" id="S4.SS2.p2.3.m3.4"><semantics id="S4.SS2.p2.3.m3.4a"><mrow id="S4.SS2.p2.3.m3.4.4.3" xref="S4.SS2.p2.3.m3.4.4.4.cmml"><mo id="S4.SS2.p2.3.m3.4.4.3.4" stretchy="false" xref="S4.SS2.p2.3.m3.4.4.4.cmml">{</mo><msub id="S4.SS2.p2.3.m3.2.2.1.1" xref="S4.SS2.p2.3.m3.2.2.1.1.cmml"><mi id="S4.SS2.p2.3.m3.2.2.1.1.2" xref="S4.SS2.p2.3.m3.2.2.1.1.2.cmml">a</mi><mn id="S4.SS2.p2.3.m3.2.2.1.1.3" xref="S4.SS2.p2.3.m3.2.2.1.1.3.cmml">1</mn></msub><mo id="S4.SS2.p2.3.m3.4.4.3.5" xref="S4.SS2.p2.3.m3.4.4.4.cmml">,</mo><msub id="S4.SS2.p2.3.m3.3.3.2.2" xref="S4.SS2.p2.3.m3.3.3.2.2.cmml"><mi id="S4.SS2.p2.3.m3.3.3.2.2.2" xref="S4.SS2.p2.3.m3.3.3.2.2.2.cmml">a</mi><mn id="S4.SS2.p2.3.m3.3.3.2.2.3" xref="S4.SS2.p2.3.m3.3.3.2.2.3.cmml">2</mn></msub><mo id="S4.SS2.p2.3.m3.4.4.3.6" xref="S4.SS2.p2.3.m3.4.4.4.cmml">,</mo><mi id="S4.SS2.p2.3.m3.1.1" mathvariant="normal" xref="S4.SS2.p2.3.m3.1.1.cmml">…</mi><mo id="S4.SS2.p2.3.m3.4.4.3.7" xref="S4.SS2.p2.3.m3.4.4.4.cmml">,</mo><msub id="S4.SS2.p2.3.m3.4.4.3.3" xref="S4.SS2.p2.3.m3.4.4.3.3.cmml"><mi id="S4.SS2.p2.3.m3.4.4.3.3.2" xref="S4.SS2.p2.3.m3.4.4.3.3.2.cmml">a</mi><mrow id="S4.SS2.p2.3.m3.4.4.3.3.3" xref="S4.SS2.p2.3.m3.4.4.3.3.3.cmml"><mrow id="S4.SS2.p2.3.m3.4.4.3.3.3.2" xref="S4.SS2.p2.3.m3.4.4.3.3.3.2.cmml"><mi id="S4.SS2.p2.3.m3.4.4.3.3.3.2.2" xref="S4.SS2.p2.3.m3.4.4.3.3.3.2.2.cmml">m</mi><mo id="S4.SS2.p2.3.m3.4.4.3.3.3.2.1" xref="S4.SS2.p2.3.m3.4.4.3.3.3.2.1.cmml">⁢</mo><mi id="S4.SS2.p2.3.m3.4.4.3.3.3.2.3" xref="S4.SS2.p2.3.m3.4.4.3.3.3.2.3.cmml">t</mi></mrow><mo id="S4.SS2.p2.3.m3.4.4.3.3.3.1" xref="S4.SS2.p2.3.m3.4.4.3.3.3.1.cmml">−</mo><mn id="S4.SS2.p2.3.m3.4.4.3.3.3.3" xref="S4.SS2.p2.3.m3.4.4.3.3.3.3.cmml">1</mn></mrow></msub><mo id="S4.SS2.p2.3.m3.4.4.3.8" stretchy="false" xref="S4.SS2.p2.3.m3.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.4b"><set id="S4.SS2.p2.3.m3.4.4.4.cmml" xref="S4.SS2.p2.3.m3.4.4.3"><apply id="S4.SS2.p2.3.m3.2.2.1.1.cmml" xref="S4.SS2.p2.3.m3.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.3.m3.2.2.1.1.1.cmml" xref="S4.SS2.p2.3.m3.2.2.1.1">subscript</csymbol><ci id="S4.SS2.p2.3.m3.2.2.1.1.2.cmml" xref="S4.SS2.p2.3.m3.2.2.1.1.2">𝑎</ci><cn id="S4.SS2.p2.3.m3.2.2.1.1.3.cmml" type="integer" xref="S4.SS2.p2.3.m3.2.2.1.1.3">1</cn></apply><apply id="S4.SS2.p2.3.m3.3.3.2.2.cmml" xref="S4.SS2.p2.3.m3.3.3.2.2"><csymbol cd="ambiguous" id="S4.SS2.p2.3.m3.3.3.2.2.1.cmml" xref="S4.SS2.p2.3.m3.3.3.2.2">subscript</csymbol><ci id="S4.SS2.p2.3.m3.3.3.2.2.2.cmml" xref="S4.SS2.p2.3.m3.3.3.2.2.2">𝑎</ci><cn id="S4.SS2.p2.3.m3.3.3.2.2.3.cmml" type="integer" xref="S4.SS2.p2.3.m3.3.3.2.2.3">2</cn></apply><ci id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1">…</ci><apply id="S4.SS2.p2.3.m3.4.4.3.3.cmml" xref="S4.SS2.p2.3.m3.4.4.3.3"><csymbol cd="ambiguous" id="S4.SS2.p2.3.m3.4.4.3.3.1.cmml" xref="S4.SS2.p2.3.m3.4.4.3.3">subscript</csymbol><ci id="S4.SS2.p2.3.m3.4.4.3.3.2.cmml" xref="S4.SS2.p2.3.m3.4.4.3.3.2">𝑎</ci><apply id="S4.SS2.p2.3.m3.4.4.3.3.3.cmml" xref="S4.SS2.p2.3.m3.4.4.3.3.3"><minus id="S4.SS2.p2.3.m3.4.4.3.3.3.1.cmml" xref="S4.SS2.p2.3.m3.4.4.3.3.3.1"></minus><apply id="S4.SS2.p2.3.m3.4.4.3.3.3.2.cmml" xref="S4.SS2.p2.3.m3.4.4.3.3.3.2"><times id="S4.SS2.p2.3.m3.4.4.3.3.3.2.1.cmml" xref="S4.SS2.p2.3.m3.4.4.3.3.3.2.1"></times><ci id="S4.SS2.p2.3.m3.4.4.3.3.3.2.2.cmml" xref="S4.SS2.p2.3.m3.4.4.3.3.3.2.2">𝑚</ci><ci id="S4.SS2.p2.3.m3.4.4.3.3.3.2.3.cmml" xref="S4.SS2.p2.3.m3.4.4.3.3.3.2.3">𝑡</ci></apply><cn id="S4.SS2.p2.3.m3.4.4.3.3.3.3.cmml" type="integer" xref="S4.SS2.p2.3.m3.4.4.3.3.3.3">1</cn></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.4c">\{a_{1},a_{2},...,a_{mt-1}\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.3.m3.4d">{ italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_a start_POSTSUBSCRIPT italic_m italic_t - 1 end_POSTSUBSCRIPT }</annotation></semantics></math>, and original question, <math alttext="{x}" class="ltx_Math" display="inline" id="S4.SS2.p2.4.m4.1"><semantics id="S4.SS2.p2.4.m4.1a"><mi id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b"><ci id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">{x}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.4.m4.1d">italic_x</annotation></semantics></math>. Then the <math alttext="\bm{Definer}" class="ltx_Math" display="inline" id="S4.SS2.p2.5.m5.1"><semantics id="S4.SS2.p2.5.m5.1a"><mrow id="S4.SS2.p2.5.m5.1.1" xref="S4.SS2.p2.5.m5.1.1.cmml"><mi id="S4.SS2.p2.5.m5.1.1.2" xref="S4.SS2.p2.5.m5.1.1.2.cmml">𝑫</mi><mo id="S4.SS2.p2.5.m5.1.1.1" xref="S4.SS2.p2.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.5.m5.1.1.3" xref="S4.SS2.p2.5.m5.1.1.3.cmml">𝒆</mi><mo id="S4.SS2.p2.5.m5.1.1.1a" xref="S4.SS2.p2.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.5.m5.1.1.4" xref="S4.SS2.p2.5.m5.1.1.4.cmml">𝒇</mi><mo id="S4.SS2.p2.5.m5.1.1.1b" xref="S4.SS2.p2.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.5.m5.1.1.5" xref="S4.SS2.p2.5.m5.1.1.5.cmml">𝒊</mi><mo id="S4.SS2.p2.5.m5.1.1.1c" xref="S4.SS2.p2.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.5.m5.1.1.6" xref="S4.SS2.p2.5.m5.1.1.6.cmml">𝒏</mi><mo id="S4.SS2.p2.5.m5.1.1.1d" xref="S4.SS2.p2.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.5.m5.1.1.7" xref="S4.SS2.p2.5.m5.1.1.7.cmml">𝒆</mi><mo id="S4.SS2.p2.5.m5.1.1.1e" xref="S4.SS2.p2.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.5.m5.1.1.8" xref="S4.SS2.p2.5.m5.1.1.8.cmml">𝒓</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m5.1b"><apply id="S4.SS2.p2.5.m5.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1"><times id="S4.SS2.p2.5.m5.1.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1.1"></times><ci id="S4.SS2.p2.5.m5.1.1.2.cmml" xref="S4.SS2.p2.5.m5.1.1.2">𝑫</ci><ci id="S4.SS2.p2.5.m5.1.1.3.cmml" xref="S4.SS2.p2.5.m5.1.1.3">𝒆</ci><ci id="S4.SS2.p2.5.m5.1.1.4.cmml" xref="S4.SS2.p2.5.m5.1.1.4">𝒇</ci><ci id="S4.SS2.p2.5.m5.1.1.5.cmml" xref="S4.SS2.p2.5.m5.1.1.5">𝒊</ci><ci id="S4.SS2.p2.5.m5.1.1.6.cmml" xref="S4.SS2.p2.5.m5.1.1.6">𝒏</ci><ci id="S4.SS2.p2.5.m5.1.1.7.cmml" xref="S4.SS2.p2.5.m5.1.1.7">𝒆</ci><ci id="S4.SS2.p2.5.m5.1.1.8.cmml" xref="S4.SS2.p2.5.m5.1.1.8">𝒓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.5.m5.1c">\bm{Definer}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.5.m5.1d">bold_italic_D bold_italic_e bold_italic_f bold_italic_i bold_italic_n bold_italic_e bold_italic_r</annotation></semantics></math> determines whether the original question can be solved with all known sub-answers based on the output of <math alttext="\bm{Decomposer}" class="ltx_Math" display="inline" id="S4.SS2.p2.6.m6.1"><semantics id="S4.SS2.p2.6.m6.1a"><mrow id="S4.SS2.p2.6.m6.1.1" xref="S4.SS2.p2.6.m6.1.1.cmml"><mi id="S4.SS2.p2.6.m6.1.1.2" xref="S4.SS2.p2.6.m6.1.1.2.cmml">𝑫</mi><mo id="S4.SS2.p2.6.m6.1.1.1" xref="S4.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.6.m6.1.1.3" xref="S4.SS2.p2.6.m6.1.1.3.cmml">𝒆</mi><mo id="S4.SS2.p2.6.m6.1.1.1a" xref="S4.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.6.m6.1.1.4" xref="S4.SS2.p2.6.m6.1.1.4.cmml">𝒄</mi><mo id="S4.SS2.p2.6.m6.1.1.1b" xref="S4.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.6.m6.1.1.5" xref="S4.SS2.p2.6.m6.1.1.5.cmml">𝒐</mi><mo id="S4.SS2.p2.6.m6.1.1.1c" xref="S4.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.6.m6.1.1.6" xref="S4.SS2.p2.6.m6.1.1.6.cmml">𝒎</mi><mo id="S4.SS2.p2.6.m6.1.1.1d" xref="S4.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.6.m6.1.1.7" xref="S4.SS2.p2.6.m6.1.1.7.cmml">𝒑</mi><mo id="S4.SS2.p2.6.m6.1.1.1e" xref="S4.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.6.m6.1.1.8" xref="S4.SS2.p2.6.m6.1.1.8.cmml">𝒐</mi><mo id="S4.SS2.p2.6.m6.1.1.1f" xref="S4.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.6.m6.1.1.9" xref="S4.SS2.p2.6.m6.1.1.9.cmml">𝒔</mi><mo id="S4.SS2.p2.6.m6.1.1.1g" xref="S4.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.6.m6.1.1.10" xref="S4.SS2.p2.6.m6.1.1.10.cmml">𝒆</mi><mo id="S4.SS2.p2.6.m6.1.1.1h" xref="S4.SS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.6.m6.1.1.11" xref="S4.SS2.p2.6.m6.1.1.11.cmml">𝒓</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.6.m6.1b"><apply id="S4.SS2.p2.6.m6.1.1.cmml" xref="S4.SS2.p2.6.m6.1.1"><times id="S4.SS2.p2.6.m6.1.1.1.cmml" xref="S4.SS2.p2.6.m6.1.1.1"></times><ci id="S4.SS2.p2.6.m6.1.1.2.cmml" xref="S4.SS2.p2.6.m6.1.1.2">𝑫</ci><ci id="S4.SS2.p2.6.m6.1.1.3.cmml" xref="S4.SS2.p2.6.m6.1.1.3">𝒆</ci><ci id="S4.SS2.p2.6.m6.1.1.4.cmml" xref="S4.SS2.p2.6.m6.1.1.4">𝒄</ci><ci id="S4.SS2.p2.6.m6.1.1.5.cmml" xref="S4.SS2.p2.6.m6.1.1.5">𝒐</ci><ci id="S4.SS2.p2.6.m6.1.1.6.cmml" xref="S4.SS2.p2.6.m6.1.1.6">𝒎</ci><ci id="S4.SS2.p2.6.m6.1.1.7.cmml" xref="S4.SS2.p2.6.m6.1.1.7">𝒑</ci><ci id="S4.SS2.p2.6.m6.1.1.8.cmml" xref="S4.SS2.p2.6.m6.1.1.8">𝒐</ci><ci id="S4.SS2.p2.6.m6.1.1.9.cmml" xref="S4.SS2.p2.6.m6.1.1.9">𝒔</ci><ci id="S4.SS2.p2.6.m6.1.1.10.cmml" xref="S4.SS2.p2.6.m6.1.1.10">𝒆</ci><ci id="S4.SS2.p2.6.m6.1.1.11.cmml" xref="S4.SS2.p2.6.m6.1.1.11">𝒓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.6.m6.1c">\bm{Decomposer}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.6.m6.1d">bold_italic_D bold_italic_e bold_italic_c bold_italic_o bold_italic_m bold_italic_p bold_italic_o bold_italic_s bold_italic_e bold_italic_r</annotation></semantics></math>. Therefore, this process can be formulated as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}q_{mt}&amp;=\bm{Decomposer}(\{a_{1},a_{2}\dots,a_{mt-1}\},x),\\
\it{Judge}&amp;=\bm{Definer}(q_{mt}),\\
\it{mt}&amp;=\it{mt}+1.\\
\end{split}" class="ltx_Math" display="block" id="S4.E1.m1.53"><semantics id="S4.E1.m1.53a"><mtable columnspacing="0pt" displaystyle="true" id="S4.E1.m1.53.53.4" rowspacing="0pt"><mtr id="S4.E1.m1.53.53.4a"><mtd class="ltx_align_right" columnalign="right" id="S4.E1.m1.53.53.4b"><msub id="S4.E1.m1.2.2.2.2.2"><mi id="S4.E1.m1.1.1.1.1.1.1" xref="S4.E1.m1.1.1.1.1.1.1.cmml">q</mi><mrow id="S4.E1.m1.2.2.2.2.2.2.1" xref="S4.E1.m1.2.2.2.2.2.2.1.cmml"><mi id="S4.E1.m1.2.2.2.2.2.2.1.2" xref="S4.E1.m1.2.2.2.2.2.2.1.2.cmml">m</mi><mo id="S4.E1.m1.2.2.2.2.2.2.1.1" xref="S4.E1.m1.2.2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E1.m1.2.2.2.2.2.2.1.3" xref="S4.E1.m1.2.2.2.2.2.2.1.3.cmml">t</mi></mrow></msub></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E1.m1.53.53.4c"><mrow id="S4.E1.m1.51.51.2.50.30.28.28"><mrow id="S4.E1.m1.51.51.2.50.30.28.28.1"><mi id="S4.E1.m1.51.51.2.50.30.28.28.1.2"></mi><mo id="S4.E1.m1.3.3.3.3.1.1" xref="S4.E1.m1.3.3.3.3.1.1.cmml">=</mo><mrow id="S4.E1.m1.51.51.2.50.30.28.28.1.1"><mi id="S4.E1.m1.4.4.4.4.2.2" xref="S4.E1.m1.4.4.4.4.2.2.cmml">𝑫</mi><mo id="S4.E1.m1.51.51.2.50.30.28.28.1.1.2">⁢</mo><mi id="S4.E1.m1.5.5.5.5.3.3" xref="S4.E1.m1.5.5.5.5.3.3.cmml">𝒆</mi><mo id="S4.E1.m1.51.51.2.50.30.28.28.1.1.2a">⁢</mo><mi id="S4.E1.m1.6.6.6.6.4.4" xref="S4.E1.m1.6.6.6.6.4.4.cmml">𝒄</mi><mo id="S4.E1.m1.51.51.2.50.30.28.28.1.1.2b">⁢</mo><mi id="S4.E1.m1.7.7.7.7.5.5" xref="S4.E1.m1.7.7.7.7.5.5.cmml">𝒐</mi><mo id="S4.E1.m1.51.51.2.50.30.28.28.1.1.2c">⁢</mo><mi id="S4.E1.m1.8.8.8.8.6.6" xref="S4.E1.m1.8.8.8.8.6.6.cmml">𝒎</mi><mo id="S4.E1.m1.51.51.2.50.30.28.28.1.1.2d">⁢</mo><mi id="S4.E1.m1.9.9.9.9.7.7" xref="S4.E1.m1.9.9.9.9.7.7.cmml">𝒑</mi><mo id="S4.E1.m1.51.51.2.50.30.28.28.1.1.2e">⁢</mo><mi id="S4.E1.m1.10.10.10.10.8.8" xref="S4.E1.m1.10.10.10.10.8.8.cmml">𝒐</mi><mo id="S4.E1.m1.51.51.2.50.30.28.28.1.1.2f">⁢</mo><mi id="S4.E1.m1.11.11.11.11.9.9" xref="S4.E1.m1.11.11.11.11.9.9.cmml">𝒔</mi><mo id="S4.E1.m1.51.51.2.50.30.28.28.1.1.2g">⁢</mo><mi id="S4.E1.m1.12.12.12.12.10.10" xref="S4.E1.m1.12.12.12.12.10.10.cmml">𝒆</mi><mo id="S4.E1.m1.51.51.2.50.30.28.28.1.1.2h">⁢</mo><mi id="S4.E1.m1.13.13.13.13.11.11" xref="S4.E1.m1.13.13.13.13.11.11.cmml">𝒓</mi><mo id="S4.E1.m1.51.51.2.50.30.28.28.1.1.2i">⁢</mo><mrow id="S4.E1.m1.51.51.2.50.30.28.28.1.1.1.1"><mo id="S4.E1.m1.14.14.14.14.12.12" stretchy="false">(</mo><mrow id="S4.E1.m1.51.51.2.50.30.28.28.1.1.1.1.1"><mo id="S4.E1.m1.15.15.15.15.13.13" stretchy="false">{</mo><msub id="S4.E1.m1.51.51.2.50.30.28.28.1.1.1.1.1.1.1"><mi id="S4.E1.m1.16.16.16.16.14.14" xref="S4.E1.m1.16.16.16.16.14.14.cmml">a</mi><mn id="S4.E1.m1.17.17.17.17.15.15.1" xref="S4.E1.m1.17.17.17.17.15.15.1.cmml">1</mn></msub><mo id="S4.E1.m1.18.18.18.18.16.16">,</mo><mrow id="S4.E1.m1.51.51.2.50.30.28.28.1.1.1.1.1.2.2"><msub id="S4.E1.m1.51.51.2.50.30.28.28.1.1.1.1.1.2.2.2"><mi id="S4.E1.m1.19.19.19.19.17.17" xref="S4.E1.m1.19.19.19.19.17.17.cmml">a</mi><mn id="S4.E1.m1.20.20.20.20.18.18.1" xref="S4.E1.m1.20.20.20.20.18.18.1.cmml">2</mn></msub><mo id="S4.E1.m1.51.51.2.50.30.28.28.1.1.1.1.1.2.2.1">⁢</mo><mi id="S4.E1.m1.21.21.21.21.19.19" mathvariant="normal" xref="S4.E1.m1.21.21.21.21.19.19.cmml">…</mi></mrow><mo id="S4.E1.m1.22.22.22.22.20.20">,</mo><msub id="S4.E1.m1.51.51.2.50.30.28.28.1.1.1.1.1.3.3"><mi id="S4.E1.m1.23.23.23.23.21.21" xref="S4.E1.m1.23.23.23.23.21.21.cmml">a</mi><mrow id="S4.E1.m1.24.24.24.24.22.22.1" xref="S4.E1.m1.24.24.24.24.22.22.1.cmml"><mrow id="S4.E1.m1.24.24.24.24.22.22.1.2" xref="S4.E1.m1.24.24.24.24.22.22.1.2.cmml"><mi id="S4.E1.m1.24.24.24.24.22.22.1.2.2" xref="S4.E1.m1.24.24.24.24.22.22.1.2.2.cmml">m</mi><mo id="S4.E1.m1.24.24.24.24.22.22.1.2.1" xref="S4.E1.m1.24.24.24.24.22.22.1.2.1.cmml">⁢</mo><mi id="S4.E1.m1.24.24.24.24.22.22.1.2.3" xref="S4.E1.m1.24.24.24.24.22.22.1.2.3.cmml">t</mi></mrow><mo id="S4.E1.m1.24.24.24.24.22.22.1.1" xref="S4.E1.m1.24.24.24.24.22.22.1.1.cmml">−</mo><mn id="S4.E1.m1.24.24.24.24.22.22.1.3" xref="S4.E1.m1.24.24.24.24.22.22.1.3.cmml">1</mn></mrow></msub><mo id="S4.E1.m1.25.25.25.25.23.23" stretchy="false">}</mo></mrow><mo id="S4.E1.m1.26.26.26.26.24.24">,</mo><mi id="S4.E1.m1.27.27.27.27.25.25" xref="S4.E1.m1.27.27.27.27.25.25.cmml">x</mi><mo id="S4.E1.m1.28.28.28.28.26.26" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S4.E1.m1.29.29.29.29.27.27">,</mo></mrow></mtd></mtr><mtr id="S4.E1.m1.53.53.4d"><mtd class="ltx_align_right" columnalign="right" id="S4.E1.m1.53.53.4e"><mi id="S4.E1.m1.30.30.30.1.1.1" xref="S4.E1.m1.30.30.30.1.1.1.cmml">𝐽𝑢𝑑𝑔𝑒</mi></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E1.m1.53.53.4f"><mrow id="S4.E1.m1.52.52.3.51.15.14.14"><mrow id="S4.E1.m1.52.52.3.51.15.14.14.1"><mi id="S4.E1.m1.52.52.3.51.15.14.14.1.2"></mi><mo id="S4.E1.m1.31.31.31.2.1.1" xref="S4.E1.m1.31.31.31.2.1.1.cmml">=</mo><mrow id="S4.E1.m1.52.52.3.51.15.14.14.1.1"><mi id="S4.E1.m1.32.32.32.3.2.2" xref="S4.E1.m1.32.32.32.3.2.2.cmml">𝑫</mi><mo id="S4.E1.m1.52.52.3.51.15.14.14.1.1.2">⁢</mo><mi id="S4.E1.m1.33.33.33.4.3.3" xref="S4.E1.m1.33.33.33.4.3.3.cmml">𝒆</mi><mo id="S4.E1.m1.52.52.3.51.15.14.14.1.1.2a">⁢</mo><mi id="S4.E1.m1.34.34.34.5.4.4" xref="S4.E1.m1.34.34.34.5.4.4.cmml">𝒇</mi><mo id="S4.E1.m1.52.52.3.51.15.14.14.1.1.2b">⁢</mo><mi id="S4.E1.m1.35.35.35.6.5.5" xref="S4.E1.m1.35.35.35.6.5.5.cmml">𝒊</mi><mo id="S4.E1.m1.52.52.3.51.15.14.14.1.1.2c">⁢</mo><mi id="S4.E1.m1.36.36.36.7.6.6" xref="S4.E1.m1.36.36.36.7.6.6.cmml">𝒏</mi><mo id="S4.E1.m1.52.52.3.51.15.14.14.1.1.2d">⁢</mo><mi id="S4.E1.m1.37.37.37.8.7.7" xref="S4.E1.m1.37.37.37.8.7.7.cmml">𝒆</mi><mo id="S4.E1.m1.52.52.3.51.15.14.14.1.1.2e">⁢</mo><mi id="S4.E1.m1.38.38.38.9.8.8" xref="S4.E1.m1.38.38.38.9.8.8.cmml">𝒓</mi><mo id="S4.E1.m1.52.52.3.51.15.14.14.1.1.2f">⁢</mo><mrow id="S4.E1.m1.52.52.3.51.15.14.14.1.1.1.1"><mo id="S4.E1.m1.39.39.39.10.9.9" stretchy="false">(</mo><msub id="S4.E1.m1.52.52.3.51.15.14.14.1.1.1.1.1"><mi id="S4.E1.m1.40.40.40.11.10.10" xref="S4.E1.m1.40.40.40.11.10.10.cmml">q</mi><mrow id="S4.E1.m1.41.41.41.12.11.11.1" xref="S4.E1.m1.41.41.41.12.11.11.1.cmml"><mi id="S4.E1.m1.41.41.41.12.11.11.1.2" xref="S4.E1.m1.41.41.41.12.11.11.1.2.cmml">m</mi><mo id="S4.E1.m1.41.41.41.12.11.11.1.1" xref="S4.E1.m1.41.41.41.12.11.11.1.1.cmml">⁢</mo><mi id="S4.E1.m1.41.41.41.12.11.11.1.3" xref="S4.E1.m1.41.41.41.12.11.11.1.3.cmml">t</mi></mrow></msub><mo id="S4.E1.m1.42.42.42.13.12.12" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S4.E1.m1.43.43.43.14.13.13">,</mo></mrow></mtd></mtr><mtr id="S4.E1.m1.53.53.4g"><mtd class="ltx_align_right" columnalign="right" id="S4.E1.m1.53.53.4h"><mi id="S4.E1.m1.44.44.44.1.1.1" xref="S4.E1.m1.44.44.44.1.1.1.cmml">𝑚𝑡</mi></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E1.m1.53.53.4i"><mrow id="S4.E1.m1.53.53.4.52.7.6.6"><mrow id="S4.E1.m1.53.53.4.52.7.6.6.1"><mi id="S4.E1.m1.53.53.4.52.7.6.6.1.1"></mi><mo id="S4.E1.m1.45.45.45.2.1.1" xref="S4.E1.m1.45.45.45.2.1.1.cmml">=</mo><mrow id="S4.E1.m1.53.53.4.52.7.6.6.1.2"><mi id="S4.E1.m1.46.46.46.3.2.2" xref="S4.E1.m1.46.46.46.3.2.2.cmml">𝑚𝑡</mi><mo id="S4.E1.m1.47.47.47.4.3.3" xref="S4.E1.m1.47.47.47.4.3.3.cmml">+</mo><mn class="ltx_mathvariant_italic" id="S4.E1.m1.48.48.48.5.4.4" mathvariant="italic" xref="S4.E1.m1.48.48.48.5.4.4.cmml">1</mn></mrow></mrow><mo id="S4.E1.m1.49.49.49.6.5.5" lspace="0em">.</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E1.m1.53b"><apply id="S4.E1.m1.50.50.1.1.1.3.cmml"><csymbol cd="ambiguous" id="S4.E1.m1.50.50.1.1.1.3a.cmml">formulae-sequence</csymbol><apply id="S4.E1.m1.50.50.1.1.1.1.1.cmml"><eq id="S4.E1.m1.3.3.3.3.1.1.cmml" xref="S4.E1.m1.3.3.3.3.1.1"></eq><apply id="S4.E1.m1.50.50.1.1.1.1.1.3.cmml"><csymbol cd="ambiguous" id="S4.E1.m1.50.50.1.1.1.1.1.3.1.cmml">subscript</csymbol><ci id="S4.E1.m1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.1.1.1.1.1.1">𝑞</ci><apply id="S4.E1.m1.2.2.2.2.2.2.1.cmml" xref="S4.E1.m1.2.2.2.2.2.2.1"><times id="S4.E1.m1.2.2.2.2.2.2.1.1.cmml" xref="S4.E1.m1.2.2.2.2.2.2.1.1"></times><ci id="S4.E1.m1.2.2.2.2.2.2.1.2.cmml" xref="S4.E1.m1.2.2.2.2.2.2.1.2">𝑚</ci><ci id="S4.E1.m1.2.2.2.2.2.2.1.3.cmml" xref="S4.E1.m1.2.2.2.2.2.2.1.3">𝑡</ci></apply></apply><apply id="S4.E1.m1.50.50.1.1.1.1.1.1.cmml"><times id="S4.E1.m1.50.50.1.1.1.1.1.1.2.cmml"></times><ci id="S4.E1.m1.4.4.4.4.2.2.cmml" xref="S4.E1.m1.4.4.4.4.2.2">𝑫</ci><ci id="S4.E1.m1.5.5.5.5.3.3.cmml" xref="S4.E1.m1.5.5.5.5.3.3">𝒆</ci><ci id="S4.E1.m1.6.6.6.6.4.4.cmml" xref="S4.E1.m1.6.6.6.6.4.4">𝒄</ci><ci id="S4.E1.m1.7.7.7.7.5.5.cmml" xref="S4.E1.m1.7.7.7.7.5.5">𝒐</ci><ci id="S4.E1.m1.8.8.8.8.6.6.cmml" xref="S4.E1.m1.8.8.8.8.6.6">𝒎</ci><ci id="S4.E1.m1.9.9.9.9.7.7.cmml" xref="S4.E1.m1.9.9.9.9.7.7">𝒑</ci><ci id="S4.E1.m1.10.10.10.10.8.8.cmml" xref="S4.E1.m1.10.10.10.10.8.8">𝒐</ci><ci id="S4.E1.m1.11.11.11.11.9.9.cmml" xref="S4.E1.m1.11.11.11.11.9.9">𝒔</ci><ci id="S4.E1.m1.12.12.12.12.10.10.cmml" xref="S4.E1.m1.12.12.12.12.10.10">𝒆</ci><ci id="S4.E1.m1.13.13.13.13.11.11.cmml" xref="S4.E1.m1.13.13.13.13.11.11">𝒓</ci><interval closure="open" id="S4.E1.m1.50.50.1.1.1.1.1.1.1.2.cmml"><set id="S4.E1.m1.50.50.1.1.1.1.1.1.1.1.1.4.cmml"><apply id="S4.E1.m1.50.50.1.1.1.1.1.1.1.1.1.1.1.cmml"><csymbol cd="ambiguous" id="S4.E1.m1.50.50.1.1.1.1.1.1.1.1.1.1.1.1.cmml">subscript</csymbol><ci id="S4.E1.m1.16.16.16.16.14.14.cmml" xref="S4.E1.m1.16.16.16.16.14.14">𝑎</ci><cn id="S4.E1.m1.17.17.17.17.15.15.1.cmml" type="integer" xref="S4.E1.m1.17.17.17.17.15.15.1">1</cn></apply><apply id="S4.E1.m1.50.50.1.1.1.1.1.1.1.1.1.2.2.cmml"><times id="S4.E1.m1.50.50.1.1.1.1.1.1.1.1.1.2.2.1.cmml"></times><apply id="S4.E1.m1.50.50.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><csymbol cd="ambiguous" id="S4.E1.m1.50.50.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml">subscript</csymbol><ci id="S4.E1.m1.19.19.19.19.17.17.cmml" xref="S4.E1.m1.19.19.19.19.17.17">𝑎</ci><cn id="S4.E1.m1.20.20.20.20.18.18.1.cmml" type="integer" xref="S4.E1.m1.20.20.20.20.18.18.1">2</cn></apply><ci id="S4.E1.m1.21.21.21.21.19.19.cmml" xref="S4.E1.m1.21.21.21.21.19.19">…</ci></apply><apply id="S4.E1.m1.50.50.1.1.1.1.1.1.1.1.1.3.3.cmml"><csymbol cd="ambiguous" id="S4.E1.m1.50.50.1.1.1.1.1.1.1.1.1.3.3.1.cmml">subscript</csymbol><ci id="S4.E1.m1.23.23.23.23.21.21.cmml" xref="S4.E1.m1.23.23.23.23.21.21">𝑎</ci><apply id="S4.E1.m1.24.24.24.24.22.22.1.cmml" xref="S4.E1.m1.24.24.24.24.22.22.1"><minus id="S4.E1.m1.24.24.24.24.22.22.1.1.cmml" xref="S4.E1.m1.24.24.24.24.22.22.1.1"></minus><apply id="S4.E1.m1.24.24.24.24.22.22.1.2.cmml" xref="S4.E1.m1.24.24.24.24.22.22.1.2"><times id="S4.E1.m1.24.24.24.24.22.22.1.2.1.cmml" xref="S4.E1.m1.24.24.24.24.22.22.1.2.1"></times><ci id="S4.E1.m1.24.24.24.24.22.22.1.2.2.cmml" xref="S4.E1.m1.24.24.24.24.22.22.1.2.2">𝑚</ci><ci id="S4.E1.m1.24.24.24.24.22.22.1.2.3.cmml" xref="S4.E1.m1.24.24.24.24.22.22.1.2.3">𝑡</ci></apply><cn id="S4.E1.m1.24.24.24.24.22.22.1.3.cmml" type="integer" xref="S4.E1.m1.24.24.24.24.22.22.1.3">1</cn></apply></apply></set><ci id="S4.E1.m1.27.27.27.27.25.25.cmml" xref="S4.E1.m1.27.27.27.27.25.25">𝑥</ci></interval></apply></apply><apply id="S4.E1.m1.50.50.1.1.1.2.2.3.cmml"><csymbol cd="ambiguous" id="S4.E1.m1.50.50.1.1.1.2.2.3a.cmml">formulae-sequence</csymbol><apply id="S4.E1.m1.50.50.1.1.1.2.2.1.1.cmml"><eq id="S4.E1.m1.31.31.31.2.1.1.cmml" xref="S4.E1.m1.31.31.31.2.1.1"></eq><ci id="S4.E1.m1.30.30.30.1.1.1.cmml" xref="S4.E1.m1.30.30.30.1.1.1">𝐽𝑢𝑑𝑔𝑒</ci><apply id="S4.E1.m1.50.50.1.1.1.2.2.1.1.1.cmml"><times id="S4.E1.m1.50.50.1.1.1.2.2.1.1.1.2.cmml"></times><ci id="S4.E1.m1.32.32.32.3.2.2.cmml" xref="S4.E1.m1.32.32.32.3.2.2">𝑫</ci><ci id="S4.E1.m1.33.33.33.4.3.3.cmml" xref="S4.E1.m1.33.33.33.4.3.3">𝒆</ci><ci id="S4.E1.m1.34.34.34.5.4.4.cmml" xref="S4.E1.m1.34.34.34.5.4.4">𝒇</ci><ci id="S4.E1.m1.35.35.35.6.5.5.cmml" xref="S4.E1.m1.35.35.35.6.5.5">𝒊</ci><ci id="S4.E1.m1.36.36.36.7.6.6.cmml" xref="S4.E1.m1.36.36.36.7.6.6">𝒏</ci><ci id="S4.E1.m1.37.37.37.8.7.7.cmml" xref="S4.E1.m1.37.37.37.8.7.7">𝒆</ci><ci id="S4.E1.m1.38.38.38.9.8.8.cmml" xref="S4.E1.m1.38.38.38.9.8.8">𝒓</ci><apply id="S4.E1.m1.50.50.1.1.1.2.2.1.1.1.1.1.1.cmml"><csymbol cd="ambiguous" id="S4.E1.m1.50.50.1.1.1.2.2.1.1.1.1.1.1.1.cmml">subscript</csymbol><ci id="S4.E1.m1.40.40.40.11.10.10.cmml" xref="S4.E1.m1.40.40.40.11.10.10">𝑞</ci><apply id="S4.E1.m1.41.41.41.12.11.11.1.cmml" xref="S4.E1.m1.41.41.41.12.11.11.1"><times id="S4.E1.m1.41.41.41.12.11.11.1.1.cmml" xref="S4.E1.m1.41.41.41.12.11.11.1.1"></times><ci id="S4.E1.m1.41.41.41.12.11.11.1.2.cmml" xref="S4.E1.m1.41.41.41.12.11.11.1.2">𝑚</ci><ci id="S4.E1.m1.41.41.41.12.11.11.1.3.cmml" xref="S4.E1.m1.41.41.41.12.11.11.1.3">𝑡</ci></apply></apply></apply></apply><apply id="S4.E1.m1.50.50.1.1.1.2.2.2.2.cmml"><eq id="S4.E1.m1.45.45.45.2.1.1.cmml" xref="S4.E1.m1.45.45.45.2.1.1"></eq><ci id="S4.E1.m1.44.44.44.1.1.1.cmml" xref="S4.E1.m1.44.44.44.1.1.1">𝑚𝑡</ci><apply id="S4.E1.m1.50.50.1.1.1.2.2.2.2.3.cmml"><plus id="S4.E1.m1.47.47.47.4.3.3.cmml" xref="S4.E1.m1.47.47.47.4.3.3"></plus><ci id="S4.E1.m1.46.46.46.3.2.2.cmml" xref="S4.E1.m1.46.46.46.3.2.2">𝑚𝑡</ci><cn id="S4.E1.m1.48.48.48.5.4.4.cmml" type="integer" xref="S4.E1.m1.48.48.48.5.4.4">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E1.m1.53c">\begin{split}q_{mt}&amp;=\bm{Decomposer}(\{a_{1},a_{2}\dots,a_{mt-1}\},x),\\
\it{Judge}&amp;=\bm{Definer}(q_{mt}),\\
\it{mt}&amp;=\it{mt}+1.\\
\end{split}</annotation><annotation encoding="application/x-llamapun" id="S4.E1.m1.53d">start_ROW start_CELL italic_q start_POSTSUBSCRIPT italic_m italic_t end_POSTSUBSCRIPT end_CELL start_CELL = bold_italic_D bold_italic_e bold_italic_c bold_italic_o bold_italic_m bold_italic_p bold_italic_o bold_italic_s bold_italic_e bold_italic_r ( { italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT … , italic_a start_POSTSUBSCRIPT italic_m italic_t - 1 end_POSTSUBSCRIPT } , italic_x ) , end_CELL end_ROW start_ROW start_CELL italic_Judge end_CELL start_CELL = bold_italic_D bold_italic_e bold_italic_f bold_italic_i bold_italic_n bold_italic_e bold_italic_r ( italic_q start_POSTSUBSCRIPT italic_m italic_t end_POSTSUBSCRIPT ) , end_CELL end_ROW start_ROW start_CELL italic_mt end_CELL start_CELL = italic_mt + italic_1 . end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.p2.10">If the <math alttext="\it{Judge}" class="ltx_Math" display="inline" id="S4.SS2.p2.7.m1.1"><semantics id="S4.SS2.p2.7.m1.1a"><mi id="S4.SS2.p2.7.m1.1.1" xref="S4.SS2.p2.7.m1.1.1.cmml">𝐽𝑢𝑑𝑔𝑒</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.7.m1.1b"><ci id="S4.SS2.p2.7.m1.1.1.cmml" xref="S4.SS2.p2.7.m1.1.1">𝐽𝑢𝑑𝑔𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.7.m1.1c">\it{Judge}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.7.m1.1d">italic_Judge</annotation></semantics></math> returns a result indicating that the original question can be solved, we send the original question, <math alttext="x" class="ltx_Math" display="inline" id="S4.SS2.p2.8.m2.1"><semantics id="S4.SS2.p2.8.m2.1a"><mi id="S4.SS2.p2.8.m2.1.1" xref="S4.SS2.p2.8.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.8.m2.1b"><ci id="S4.SS2.p2.8.m2.1.1.cmml" xref="S4.SS2.p2.8.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.8.m2.1c">x</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.8.m2.1d">italic_x</annotation></semantics></math>, with all sub-answers before the current decomposition round to the Summarizer. The <math alttext="\bm{Summarizer}" class="ltx_Math" display="inline" id="S4.SS2.p2.9.m3.1"><semantics id="S4.SS2.p2.9.m3.1a"><mrow id="S4.SS2.p2.9.m3.1.1" xref="S4.SS2.p2.9.m3.1.1.cmml"><mi id="S4.SS2.p2.9.m3.1.1.2" xref="S4.SS2.p2.9.m3.1.1.2.cmml">𝑺</mi><mo id="S4.SS2.p2.9.m3.1.1.1" xref="S4.SS2.p2.9.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.9.m3.1.1.3" xref="S4.SS2.p2.9.m3.1.1.3.cmml">𝒖</mi><mo id="S4.SS2.p2.9.m3.1.1.1a" xref="S4.SS2.p2.9.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.9.m3.1.1.4" xref="S4.SS2.p2.9.m3.1.1.4.cmml">𝒎</mi><mo id="S4.SS2.p2.9.m3.1.1.1b" xref="S4.SS2.p2.9.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.9.m3.1.1.5" xref="S4.SS2.p2.9.m3.1.1.5.cmml">𝒎</mi><mo id="S4.SS2.p2.9.m3.1.1.1c" xref="S4.SS2.p2.9.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.9.m3.1.1.6" xref="S4.SS2.p2.9.m3.1.1.6.cmml">𝒂</mi><mo id="S4.SS2.p2.9.m3.1.1.1d" xref="S4.SS2.p2.9.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.9.m3.1.1.7" xref="S4.SS2.p2.9.m3.1.1.7.cmml">𝒓</mi><mo id="S4.SS2.p2.9.m3.1.1.1e" xref="S4.SS2.p2.9.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.9.m3.1.1.8" xref="S4.SS2.p2.9.m3.1.1.8.cmml">𝒊</mi><mo id="S4.SS2.p2.9.m3.1.1.1f" xref="S4.SS2.p2.9.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.9.m3.1.1.9" xref="S4.SS2.p2.9.m3.1.1.9.cmml">𝒛</mi><mo id="S4.SS2.p2.9.m3.1.1.1g" xref="S4.SS2.p2.9.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.9.m3.1.1.10" xref="S4.SS2.p2.9.m3.1.1.10.cmml">𝒆</mi><mo id="S4.SS2.p2.9.m3.1.1.1h" xref="S4.SS2.p2.9.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.9.m3.1.1.11" xref="S4.SS2.p2.9.m3.1.1.11.cmml">𝒓</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.9.m3.1b"><apply id="S4.SS2.p2.9.m3.1.1.cmml" xref="S4.SS2.p2.9.m3.1.1"><times id="S4.SS2.p2.9.m3.1.1.1.cmml" xref="S4.SS2.p2.9.m3.1.1.1"></times><ci id="S4.SS2.p2.9.m3.1.1.2.cmml" xref="S4.SS2.p2.9.m3.1.1.2">𝑺</ci><ci id="S4.SS2.p2.9.m3.1.1.3.cmml" xref="S4.SS2.p2.9.m3.1.1.3">𝒖</ci><ci id="S4.SS2.p2.9.m3.1.1.4.cmml" xref="S4.SS2.p2.9.m3.1.1.4">𝒎</ci><ci id="S4.SS2.p2.9.m3.1.1.5.cmml" xref="S4.SS2.p2.9.m3.1.1.5">𝒎</ci><ci id="S4.SS2.p2.9.m3.1.1.6.cmml" xref="S4.SS2.p2.9.m3.1.1.6">𝒂</ci><ci id="S4.SS2.p2.9.m3.1.1.7.cmml" xref="S4.SS2.p2.9.m3.1.1.7">𝒓</ci><ci id="S4.SS2.p2.9.m3.1.1.8.cmml" xref="S4.SS2.p2.9.m3.1.1.8">𝒊</ci><ci id="S4.SS2.p2.9.m3.1.1.9.cmml" xref="S4.SS2.p2.9.m3.1.1.9">𝒛</ci><ci id="S4.SS2.p2.9.m3.1.1.10.cmml" xref="S4.SS2.p2.9.m3.1.1.10">𝒆</ci><ci id="S4.SS2.p2.9.m3.1.1.11.cmml" xref="S4.SS2.p2.9.m3.1.1.11">𝒓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.9.m3.1c">\bm{Summarizer}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.9.m3.1d">bold_italic_S bold_italic_u bold_italic_m bold_italic_m bold_italic_a bold_italic_r bold_italic_i bold_italic_z bold_italic_e bold_italic_r</annotation></semantics></math> tries to generate the output <math alttext="o" class="ltx_Math" display="inline" id="S4.SS2.p2.10.m4.1"><semantics id="S4.SS2.p2.10.m4.1a"><mi id="S4.SS2.p2.10.m4.1.1" xref="S4.SS2.p2.10.m4.1.1.cmml">o</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.10.m4.1b"><ci id="S4.SS2.p2.10.m4.1.1.cmml" xref="S4.SS2.p2.10.m4.1.1">𝑜</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.10.m4.1c">o</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.10.m4.1d">italic_o</annotation></semantics></math> which can be formulated as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="o=\bm{Summarizer}(\{a_{1},a_{2}\dots,a_{mt}\},x)." class="ltx_Math" display="block" id="S4.E2.m1.2"><semantics id="S4.E2.m1.2a"><mrow id="S4.E2.m1.2.2.1" xref="S4.E2.m1.2.2.1.1.cmml"><mrow id="S4.E2.m1.2.2.1.1" xref="S4.E2.m1.2.2.1.1.cmml"><mi id="S4.E2.m1.2.2.1.1.3" xref="S4.E2.m1.2.2.1.1.3.cmml">o</mi><mo id="S4.E2.m1.2.2.1.1.2" xref="S4.E2.m1.2.2.1.1.2.cmml">=</mo><mrow id="S4.E2.m1.2.2.1.1.1" xref="S4.E2.m1.2.2.1.1.1.cmml"><mi id="S4.E2.m1.2.2.1.1.1.3" xref="S4.E2.m1.2.2.1.1.1.3.cmml">𝑺</mi><mo id="S4.E2.m1.2.2.1.1.1.2" xref="S4.E2.m1.2.2.1.1.1.2.cmml">⁢</mo><mi id="S4.E2.m1.2.2.1.1.1.4" xref="S4.E2.m1.2.2.1.1.1.4.cmml">𝒖</mi><mo id="S4.E2.m1.2.2.1.1.1.2a" xref="S4.E2.m1.2.2.1.1.1.2.cmml">⁢</mo><mi id="S4.E2.m1.2.2.1.1.1.5" xref="S4.E2.m1.2.2.1.1.1.5.cmml">𝒎</mi><mo id="S4.E2.m1.2.2.1.1.1.2b" xref="S4.E2.m1.2.2.1.1.1.2.cmml">⁢</mo><mi id="S4.E2.m1.2.2.1.1.1.6" xref="S4.E2.m1.2.2.1.1.1.6.cmml">𝒎</mi><mo id="S4.E2.m1.2.2.1.1.1.2c" xref="S4.E2.m1.2.2.1.1.1.2.cmml">⁢</mo><mi id="S4.E2.m1.2.2.1.1.1.7" xref="S4.E2.m1.2.2.1.1.1.7.cmml">𝒂</mi><mo id="S4.E2.m1.2.2.1.1.1.2d" xref="S4.E2.m1.2.2.1.1.1.2.cmml">⁢</mo><mi id="S4.E2.m1.2.2.1.1.1.8" xref="S4.E2.m1.2.2.1.1.1.8.cmml">𝒓</mi><mo id="S4.E2.m1.2.2.1.1.1.2e" xref="S4.E2.m1.2.2.1.1.1.2.cmml">⁢</mo><mi id="S4.E2.m1.2.2.1.1.1.9" xref="S4.E2.m1.2.2.1.1.1.9.cmml">𝒊</mi><mo id="S4.E2.m1.2.2.1.1.1.2f" xref="S4.E2.m1.2.2.1.1.1.2.cmml">⁢</mo><mi id="S4.E2.m1.2.2.1.1.1.10" xref="S4.E2.m1.2.2.1.1.1.10.cmml">𝒛</mi><mo id="S4.E2.m1.2.2.1.1.1.2g" xref="S4.E2.m1.2.2.1.1.1.2.cmml">⁢</mo><mi id="S4.E2.m1.2.2.1.1.1.11" xref="S4.E2.m1.2.2.1.1.1.11.cmml">𝒆</mi><mo id="S4.E2.m1.2.2.1.1.1.2h" xref="S4.E2.m1.2.2.1.1.1.2.cmml">⁢</mo><mi id="S4.E2.m1.2.2.1.1.1.12" xref="S4.E2.m1.2.2.1.1.1.12.cmml">𝒓</mi><mo id="S4.E2.m1.2.2.1.1.1.2i" xref="S4.E2.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S4.E2.m1.2.2.1.1.1.1.1" xref="S4.E2.m1.2.2.1.1.1.1.2.cmml"><mo id="S4.E2.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S4.E2.m1.2.2.1.1.1.1.2.cmml">(</mo><mrow id="S4.E2.m1.2.2.1.1.1.1.1.1.3" xref="S4.E2.m1.2.2.1.1.1.1.1.1.4.cmml"><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.3.4" stretchy="false" xref="S4.E2.m1.2.2.1.1.1.1.1.1.4.cmml">{</mo><msub id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">a</mi><mn id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.3.5" xref="S4.E2.m1.2.2.1.1.1.1.1.1.4.cmml">,</mo><mrow id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.cmml"><msub id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2.2" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2.2.cmml">a</mi><mn id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2.3" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2.3.cmml">2</mn></msub><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.1" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.1.cmml">⁢</mo><mi id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.3" mathvariant="normal" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.3.cmml">…</mi></mrow><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.3.6" xref="S4.E2.m1.2.2.1.1.1.1.1.1.4.cmml">,</mo><msub id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.cmml"><mi id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.2" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.2.cmml">a</mi><mrow id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.cmml"><mi id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.2" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.2.cmml">m</mi><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.1" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.3" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.3.cmml">t</mi></mrow></msub><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.3.7" stretchy="false" xref="S4.E2.m1.2.2.1.1.1.1.1.1.4.cmml">}</mo></mrow><mo id="S4.E2.m1.2.2.1.1.1.1.1.3" xref="S4.E2.m1.2.2.1.1.1.1.2.cmml">,</mo><mi id="S4.E2.m1.1.1" xref="S4.E2.m1.1.1.cmml">x</mi><mo id="S4.E2.m1.2.2.1.1.1.1.1.4" stretchy="false" xref="S4.E2.m1.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E2.m1.2.2.1.2" lspace="0em" xref="S4.E2.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E2.m1.2b"><apply id="S4.E2.m1.2.2.1.1.cmml" xref="S4.E2.m1.2.2.1"><eq id="S4.E2.m1.2.2.1.1.2.cmml" xref="S4.E2.m1.2.2.1.1.2"></eq><ci id="S4.E2.m1.2.2.1.1.3.cmml" xref="S4.E2.m1.2.2.1.1.3">𝑜</ci><apply id="S4.E2.m1.2.2.1.1.1.cmml" xref="S4.E2.m1.2.2.1.1.1"><times id="S4.E2.m1.2.2.1.1.1.2.cmml" xref="S4.E2.m1.2.2.1.1.1.2"></times><ci id="S4.E2.m1.2.2.1.1.1.3.cmml" xref="S4.E2.m1.2.2.1.1.1.3">𝑺</ci><ci id="S4.E2.m1.2.2.1.1.1.4.cmml" xref="S4.E2.m1.2.2.1.1.1.4">𝒖</ci><ci id="S4.E2.m1.2.2.1.1.1.5.cmml" xref="S4.E2.m1.2.2.1.1.1.5">𝒎</ci><ci id="S4.E2.m1.2.2.1.1.1.6.cmml" xref="S4.E2.m1.2.2.1.1.1.6">𝒎</ci><ci id="S4.E2.m1.2.2.1.1.1.7.cmml" xref="S4.E2.m1.2.2.1.1.1.7">𝒂</ci><ci id="S4.E2.m1.2.2.1.1.1.8.cmml" xref="S4.E2.m1.2.2.1.1.1.8">𝒓</ci><ci id="S4.E2.m1.2.2.1.1.1.9.cmml" xref="S4.E2.m1.2.2.1.1.1.9">𝒊</ci><ci id="S4.E2.m1.2.2.1.1.1.10.cmml" xref="S4.E2.m1.2.2.1.1.1.10">𝒛</ci><ci id="S4.E2.m1.2.2.1.1.1.11.cmml" xref="S4.E2.m1.2.2.1.1.1.11">𝒆</ci><ci id="S4.E2.m1.2.2.1.1.1.12.cmml" xref="S4.E2.m1.2.2.1.1.1.12">𝒓</ci><interval closure="open" id="S4.E2.m1.2.2.1.1.1.1.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1"><set id="S4.E2.m1.2.2.1.1.1.1.1.1.4.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3"><apply id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2">𝑎</ci><cn id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3">1</cn></apply><apply id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2"><times id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.1"></times><apply id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2.2">𝑎</ci><cn id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.2.3">2</cn></apply><ci id="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.2.2.3">…</ci></apply><apply id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.2">𝑎</ci><apply id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3"><times id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.1"></times><ci id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.2">𝑚</ci><ci id="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.3.3.3.3">𝑡</ci></apply></apply></set><ci id="S4.E2.m1.1.1.cmml" xref="S4.E2.m1.1.1">𝑥</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E2.m1.2c">o=\bm{Summarizer}(\{a_{1},a_{2}\dots,a_{mt}\},x).</annotation><annotation encoding="application/x-llamapun" id="S4.E2.m1.2d">italic_o = bold_italic_S bold_italic_u bold_italic_m bold_italic_m bold_italic_a bold_italic_r bold_italic_i bold_italic_z bold_italic_e bold_italic_r ( { italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT … , italic_a start_POSTSUBSCRIPT italic_m italic_t end_POSTSUBSCRIPT } , italic_x ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.p2.11">In Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#A1.SS1" title="A.1. Experiment about Model Turn ‣ Appendix A APPENDIX ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">A.1</span></a>, we present experimental results investigating the relationship between model performance, as measured by the EM metric, and the number of model turns <math alttext="mt" class="ltx_Math" display="inline" id="S4.SS2.p2.11.m1.1"><semantics id="S4.SS2.p2.11.m1.1a"><mrow id="S4.SS2.p2.11.m1.1.1" xref="S4.SS2.p2.11.m1.1.1.cmml"><mi id="S4.SS2.p2.11.m1.1.1.2" xref="S4.SS2.p2.11.m1.1.1.2.cmml">m</mi><mo id="S4.SS2.p2.11.m1.1.1.1" xref="S4.SS2.p2.11.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p2.11.m1.1.1.3" xref="S4.SS2.p2.11.m1.1.1.3.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.11.m1.1b"><apply id="S4.SS2.p2.11.m1.1.1.cmml" xref="S4.SS2.p2.11.m1.1.1"><times id="S4.SS2.p2.11.m1.1.1.1.cmml" xref="S4.SS2.p2.11.m1.1.1.1"></times><ci id="S4.SS2.p2.11.m1.1.1.2.cmml" xref="S4.SS2.p2.11.m1.1.1.2">𝑚</ci><ci id="S4.SS2.p2.11.m1.1.1.3.cmml" xref="S4.SS2.p2.11.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.11.m1.1c">mt</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.11.m1.1d">italic_m italic_t</annotation></semantics></math>. The results are summarized in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#A1.T7" title="Table 7 ‣ A.1. Experiment about Model Turn ‣ Appendix A APPENDIX ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Hierarchical Retriever</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.3">In this section, we describe the design of a novel hierarchical retrieval mechanism that enhances retrieval accuracy and provides semantic clarification in cases of ambiguous semantics. Our approach employs a two-layer hierarchical retrieval process. The first layer identifies the most relevant documents within the corpus at the document level, while the second layer locates the most relevant chunks within those documents at the chunk level, resulting in a more accurate and refined retrieval process.
We begin by obtaining a decomposed question, <math alttext="q" class="ltx_Math" display="inline" id="S4.SS3.p1.1.m1.1"><semantics id="S4.SS3.p1.1.m1.1a"><mi id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.1.m1.1d">italic_q</annotation></semantics></math>, through the Decomposer module. Next, we utilize the LLM to extract the entity name, <math alttext="e" class="ltx_Math" display="inline" id="S4.SS3.p1.2.m2.1"><semantics id="S4.SS3.p1.2.m2.1a"><mi id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><ci id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">e</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.2.m2.1d">italic_e</annotation></semantics></math>, from the question. We then leverage this entity name to identify the document with the title, <math alttext="t_{c}" class="ltx_Math" display="inline" id="S4.SS3.p1.3.m3.1"><semantics id="S4.SS3.p1.3.m3.1a"><msub id="S4.SS3.p1.3.m3.1.1" xref="S4.SS3.p1.3.m3.1.1.cmml"><mi id="S4.SS3.p1.3.m3.1.1.2" xref="S4.SS3.p1.3.m3.1.1.2.cmml">t</mi><mi id="S4.SS3.p1.3.m3.1.1.3" xref="S4.SS3.p1.3.m3.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.3.m3.1b"><apply id="S4.SS3.p1.3.m3.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.3.m3.1.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS3.p1.3.m3.1.1.2.cmml" xref="S4.SS3.p1.3.m3.1.1.2">𝑡</ci><ci id="S4.SS3.p1.3.m3.1.1.3.cmml" xref="S4.SS3.p1.3.m3.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.3.m3.1c">t_{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.3.m3.1d">italic_t start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>, that most closely matches the entity name among all available documents in the corpus. As this step primarily involves matching entity names with indexes, lexical matching takes precedence. Therefore, we employ sparse retrieval <cite class="ltx_cite ltx_citemacro_citep">(Svore and Burges, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib19" title="">2009</a>)</cite> to implement this step, capitalizing on its strengths in lexical matching.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.2">After we get the document with the title <math alttext="t_{c}" class="ltx_Math" display="inline" id="S4.SS3.p2.1.m1.1"><semantics id="S4.SS3.p2.1.m1.1a"><msub id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml"><mi id="S4.SS3.p2.1.m1.1.1.2" xref="S4.SS3.p2.1.m1.1.1.2.cmml">t</mi><mi id="S4.SS3.p2.1.m1.1.1.3" xref="S4.SS3.p2.1.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><apply id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.1.m1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.p2.1.m1.1.1.2.cmml" xref="S4.SS3.p2.1.m1.1.1.2">𝑡</ci><ci id="S4.SS3.p2.1.m1.1.1.3.cmml" xref="S4.SS3.p2.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">t_{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.1.m1.1d">italic_t start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>, we look for the corresponding information, <math alttext="p^{*}" class="ltx_Math" display="inline" id="S4.SS3.p2.2.m2.1"><semantics id="S4.SS3.p2.2.m2.1a"><msup id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml"><mi id="S4.SS3.p2.2.m2.1.1.2" xref="S4.SS3.p2.2.m2.1.1.2.cmml">p</mi><mo id="S4.SS3.p2.2.m2.1.1.3" xref="S4.SS3.p2.2.m2.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b"><apply id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.2.m2.1.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1">superscript</csymbol><ci id="S4.SS3.p2.2.m2.1.1.2.cmml" xref="S4.SS3.p2.2.m2.1.1.2">𝑝</ci><times id="S4.SS3.p2.2.m2.1.1.3.cmml" xref="S4.SS3.p2.2.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">p^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.2.m2.1d">italic_p start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math>, in the Profile WikiCorpus and add it to the retrieval result if it exists.</p>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<table class="ltx_equation ltx_eqn_table" id="S4.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}e&amp;=\bm{LLM}(q),\\
t_{c}&amp;=\bm{SparseRetrieval}(e,\{t_{1},t_{2}\dots,t_{n}\}),\\
p^{*}&amp;=\bm{SparseRetrieval}(t_{c},\{p_{1},p_{2}\dots,p_{m}\}).\end{split}" class="ltx_Math" display="block" id="S4.E3.m1.82"><semantics id="S4.E3.m1.82a"><mtable columnspacing="0pt" displaystyle="true" id="S4.E3.m1.82.82.4" rowspacing="0pt"><mtr id="S4.E3.m1.82.82.4a"><mtd class="ltx_align_right" columnalign="right" id="S4.E3.m1.82.82.4b"><mi id="S4.E3.m1.1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.1.cmml">e</mi></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E3.m1.82.82.4c"><mrow id="S4.E3.m1.80.80.2.79.10.9.9"><mrow id="S4.E3.m1.80.80.2.79.10.9.9.1"><mi id="S4.E3.m1.80.80.2.79.10.9.9.1.1"></mi><mo id="S4.E3.m1.2.2.2.2.1.1" xref="S4.E3.m1.2.2.2.2.1.1.cmml">=</mo><mrow id="S4.E3.m1.80.80.2.79.10.9.9.1.2"><mi id="S4.E3.m1.3.3.3.3.2.2" xref="S4.E3.m1.3.3.3.3.2.2.cmml">𝑳</mi><mo id="S4.E3.m1.80.80.2.79.10.9.9.1.2.1">⁢</mo><mi id="S4.E3.m1.4.4.4.4.3.3" xref="S4.E3.m1.4.4.4.4.3.3.cmml">𝑳</mi><mo id="S4.E3.m1.80.80.2.79.10.9.9.1.2.1a">⁢</mo><mi id="S4.E3.m1.5.5.5.5.4.4" xref="S4.E3.m1.5.5.5.5.4.4.cmml">𝑴</mi><mo id="S4.E3.m1.80.80.2.79.10.9.9.1.2.1b">⁢</mo><mrow id="S4.E3.m1.80.80.2.79.10.9.9.1.2.2"><mo id="S4.E3.m1.6.6.6.6.5.5" stretchy="false">(</mo><mi id="S4.E3.m1.7.7.7.7.6.6" xref="S4.E3.m1.7.7.7.7.6.6.cmml">q</mi><mo id="S4.E3.m1.8.8.8.8.7.7" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S4.E3.m1.9.9.9.9.8.8">,</mo></mrow></mtd></mtr><mtr id="S4.E3.m1.82.82.4d"><mtd class="ltx_align_right" columnalign="right" id="S4.E3.m1.82.82.4e"><msub id="S4.E3.m1.11.11.11.2.2"><mi id="S4.E3.m1.10.10.10.1.1.1" xref="S4.E3.m1.10.10.10.1.1.1.cmml">t</mi><mi id="S4.E3.m1.11.11.11.2.2.2.1" xref="S4.E3.m1.11.11.11.2.2.2.1.cmml">c</mi></msub></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E3.m1.82.82.4f"><mrow id="S4.E3.m1.81.81.3.80.35.33.33"><mrow id="S4.E3.m1.81.81.3.80.35.33.33.1"><mi id="S4.E3.m1.81.81.3.80.35.33.33.1.2"></mi><mo id="S4.E3.m1.12.12.12.3.1.1" xref="S4.E3.m1.12.12.12.3.1.1.cmml">=</mo><mrow id="S4.E3.m1.81.81.3.80.35.33.33.1.1"><mi id="S4.E3.m1.13.13.13.4.2.2" xref="S4.E3.m1.13.13.13.4.2.2.cmml">𝑺</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2">⁢</mo><mi id="S4.E3.m1.14.14.14.5.3.3" xref="S4.E3.m1.14.14.14.5.3.3.cmml">𝒑</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2a">⁢</mo><mi id="S4.E3.m1.15.15.15.6.4.4" xref="S4.E3.m1.15.15.15.6.4.4.cmml">𝒂</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2b">⁢</mo><mi id="S4.E3.m1.16.16.16.7.5.5" xref="S4.E3.m1.16.16.16.7.5.5.cmml">𝒓</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2c">⁢</mo><mi id="S4.E3.m1.17.17.17.8.6.6" xref="S4.E3.m1.17.17.17.8.6.6.cmml">𝒔</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2d">⁢</mo><mi id="S4.E3.m1.18.18.18.9.7.7" xref="S4.E3.m1.18.18.18.9.7.7.cmml">𝒆</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2e">⁢</mo><mi id="S4.E3.m1.19.19.19.10.8.8" xref="S4.E3.m1.19.19.19.10.8.8.cmml">𝑹</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2f">⁢</mo><mi id="S4.E3.m1.20.20.20.11.9.9" xref="S4.E3.m1.20.20.20.11.9.9.cmml">𝒆</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2g">⁢</mo><mi id="S4.E3.m1.21.21.21.12.10.10" xref="S4.E3.m1.21.21.21.12.10.10.cmml">𝒕</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2h">⁢</mo><mi id="S4.E3.m1.22.22.22.13.11.11" xref="S4.E3.m1.22.22.22.13.11.11.cmml">𝒓</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2i">⁢</mo><mi id="S4.E3.m1.23.23.23.14.12.12" xref="S4.E3.m1.23.23.23.14.12.12.cmml">𝒊</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2j">⁢</mo><mi id="S4.E3.m1.24.24.24.15.13.13" xref="S4.E3.m1.24.24.24.15.13.13.cmml">𝒆</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2k">⁢</mo><mi id="S4.E3.m1.25.25.25.16.14.14" xref="S4.E3.m1.25.25.25.16.14.14.cmml">𝒗</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2l">⁢</mo><mi id="S4.E3.m1.26.26.26.17.15.15" xref="S4.E3.m1.26.26.26.17.15.15.cmml">𝒂</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2m">⁢</mo><mi id="S4.E3.m1.27.27.27.18.16.16" xref="S4.E3.m1.27.27.27.18.16.16.cmml">𝒍</mi><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.2n">⁢</mo><mrow id="S4.E3.m1.81.81.3.80.35.33.33.1.1.1.1"><mo id="S4.E3.m1.28.28.28.19.17.17" stretchy="false">(</mo><mi id="S4.E3.m1.29.29.29.20.18.18" xref="S4.E3.m1.29.29.29.20.18.18.cmml">e</mi><mo id="S4.E3.m1.30.30.30.21.19.19">,</mo><mrow id="S4.E3.m1.81.81.3.80.35.33.33.1.1.1.1.1"><mo id="S4.E3.m1.31.31.31.22.20.20" stretchy="false">{</mo><msub id="S4.E3.m1.81.81.3.80.35.33.33.1.1.1.1.1.1.1"><mi id="S4.E3.m1.32.32.32.23.21.21" xref="S4.E3.m1.32.32.32.23.21.21.cmml">t</mi><mn id="S4.E3.m1.33.33.33.24.22.22.1" xref="S4.E3.m1.33.33.33.24.22.22.1.cmml">1</mn></msub><mo id="S4.E3.m1.34.34.34.25.23.23">,</mo><mrow id="S4.E3.m1.81.81.3.80.35.33.33.1.1.1.1.1.2.2"><msub id="S4.E3.m1.81.81.3.80.35.33.33.1.1.1.1.1.2.2.2"><mi id="S4.E3.m1.35.35.35.26.24.24" xref="S4.E3.m1.35.35.35.26.24.24.cmml">t</mi><mn id="S4.E3.m1.36.36.36.27.25.25.1" xref="S4.E3.m1.36.36.36.27.25.25.1.cmml">2</mn></msub><mo id="S4.E3.m1.81.81.3.80.35.33.33.1.1.1.1.1.2.2.1">⁢</mo><mi id="S4.E3.m1.37.37.37.28.26.26" mathvariant="normal" xref="S4.E3.m1.37.37.37.28.26.26.cmml">…</mi></mrow><mo id="S4.E3.m1.38.38.38.29.27.27">,</mo><msub id="S4.E3.m1.81.81.3.80.35.33.33.1.1.1.1.1.3.3"><mi id="S4.E3.m1.39.39.39.30.28.28" xref="S4.E3.m1.39.39.39.30.28.28.cmml">t</mi><mi id="S4.E3.m1.40.40.40.31.29.29.1" xref="S4.E3.m1.40.40.40.31.29.29.1.cmml">n</mi></msub><mo id="S4.E3.m1.41.41.41.32.30.30" stretchy="false">}</mo></mrow><mo id="S4.E3.m1.42.42.42.33.31.31" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S4.E3.m1.43.43.43.34.32.32">,</mo></mrow></mtd></mtr><mtr id="S4.E3.m1.82.82.4g"><mtd class="ltx_align_right" columnalign="right" id="S4.E3.m1.82.82.4h"><msup id="S4.E3.m1.45.45.45.2.2"><mi id="S4.E3.m1.44.44.44.1.1.1" xref="S4.E3.m1.44.44.44.1.1.1.cmml">p</mi><mo id="S4.E3.m1.45.45.45.2.2.2.1" xref="S4.E3.m1.45.45.45.2.2.2.1.cmml">∗</mo></msup></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E3.m1.82.82.4i"><mrow id="S4.E3.m1.82.82.4.81.36.34.34"><mrow id="S4.E3.m1.82.82.4.81.36.34.34.1"><mi id="S4.E3.m1.82.82.4.81.36.34.34.1.3"></mi><mo id="S4.E3.m1.46.46.46.3.1.1" xref="S4.E3.m1.46.46.46.3.1.1.cmml">=</mo><mrow id="S4.E3.m1.82.82.4.81.36.34.34.1.2"><mi id="S4.E3.m1.47.47.47.4.2.2" xref="S4.E3.m1.47.47.47.4.2.2.cmml">𝑺</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3">⁢</mo><mi id="S4.E3.m1.48.48.48.5.3.3" xref="S4.E3.m1.48.48.48.5.3.3.cmml">𝒑</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3a">⁢</mo><mi id="S4.E3.m1.49.49.49.6.4.4" xref="S4.E3.m1.49.49.49.6.4.4.cmml">𝒂</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3b">⁢</mo><mi id="S4.E3.m1.50.50.50.7.5.5" xref="S4.E3.m1.50.50.50.7.5.5.cmml">𝒓</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3c">⁢</mo><mi id="S4.E3.m1.51.51.51.8.6.6" xref="S4.E3.m1.51.51.51.8.6.6.cmml">𝒔</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3d">⁢</mo><mi id="S4.E3.m1.52.52.52.9.7.7" xref="S4.E3.m1.52.52.52.9.7.7.cmml">𝒆</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3e">⁢</mo><mi id="S4.E3.m1.53.53.53.10.8.8" xref="S4.E3.m1.53.53.53.10.8.8.cmml">𝑹</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3f">⁢</mo><mi id="S4.E3.m1.54.54.54.11.9.9" xref="S4.E3.m1.54.54.54.11.9.9.cmml">𝒆</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3g">⁢</mo><mi id="S4.E3.m1.55.55.55.12.10.10" xref="S4.E3.m1.55.55.55.12.10.10.cmml">𝒕</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3h">⁢</mo><mi id="S4.E3.m1.56.56.56.13.11.11" xref="S4.E3.m1.56.56.56.13.11.11.cmml">𝒓</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3i">⁢</mo><mi id="S4.E3.m1.57.57.57.14.12.12" xref="S4.E3.m1.57.57.57.14.12.12.cmml">𝒊</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3j">⁢</mo><mi id="S4.E3.m1.58.58.58.15.13.13" xref="S4.E3.m1.58.58.58.15.13.13.cmml">𝒆</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3k">⁢</mo><mi id="S4.E3.m1.59.59.59.16.14.14" xref="S4.E3.m1.59.59.59.16.14.14.cmml">𝒗</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3l">⁢</mo><mi id="S4.E3.m1.60.60.60.17.15.15" xref="S4.E3.m1.60.60.60.17.15.15.cmml">𝒂</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3m">⁢</mo><mi id="S4.E3.m1.61.61.61.18.16.16" xref="S4.E3.m1.61.61.61.18.16.16.cmml">𝒍</mi><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.3n">⁢</mo><mrow id="S4.E3.m1.82.82.4.81.36.34.34.1.2.2.2"><mo id="S4.E3.m1.62.62.62.19.17.17" stretchy="false">(</mo><msub id="S4.E3.m1.82.82.4.81.36.34.34.1.1.1.1.1"><mi id="S4.E3.m1.63.63.63.20.18.18" xref="S4.E3.m1.63.63.63.20.18.18.cmml">t</mi><mi id="S4.E3.m1.64.64.64.21.19.19.1" xref="S4.E3.m1.64.64.64.21.19.19.1.cmml">c</mi></msub><mo id="S4.E3.m1.65.65.65.22.20.20">,</mo><mrow id="S4.E3.m1.82.82.4.81.36.34.34.1.2.2.2.2"><mo id="S4.E3.m1.66.66.66.23.21.21" stretchy="false">{</mo><msub id="S4.E3.m1.82.82.4.81.36.34.34.1.2.2.2.2.1.1"><mi id="S4.E3.m1.67.67.67.24.22.22" xref="S4.E3.m1.67.67.67.24.22.22.cmml">p</mi><mn id="S4.E3.m1.68.68.68.25.23.23.1" xref="S4.E3.m1.68.68.68.25.23.23.1.cmml">1</mn></msub><mo id="S4.E3.m1.69.69.69.26.24.24">,</mo><mrow id="S4.E3.m1.82.82.4.81.36.34.34.1.2.2.2.2.2.2"><msub id="S4.E3.m1.82.82.4.81.36.34.34.1.2.2.2.2.2.2.2"><mi id="S4.E3.m1.70.70.70.27.25.25" xref="S4.E3.m1.70.70.70.27.25.25.cmml">p</mi><mn id="S4.E3.m1.71.71.71.28.26.26.1" xref="S4.E3.m1.71.71.71.28.26.26.1.cmml">2</mn></msub><mo id="S4.E3.m1.82.82.4.81.36.34.34.1.2.2.2.2.2.2.1">⁢</mo><mi id="S4.E3.m1.72.72.72.29.27.27" mathvariant="normal" xref="S4.E3.m1.72.72.72.29.27.27.cmml">…</mi></mrow><mo id="S4.E3.m1.73.73.73.30.28.28">,</mo><msub id="S4.E3.m1.82.82.4.81.36.34.34.1.2.2.2.2.3.3"><mi id="S4.E3.m1.74.74.74.31.29.29" xref="S4.E3.m1.74.74.74.31.29.29.cmml">p</mi><mi id="S4.E3.m1.75.75.75.32.30.30.1" xref="S4.E3.m1.75.75.75.32.30.30.1.cmml">m</mi></msub><mo id="S4.E3.m1.76.76.76.33.31.31" stretchy="false">}</mo></mrow><mo id="S4.E3.m1.77.77.77.34.32.32" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S4.E3.m1.78.78.78.35.33.33" lspace="0em">.</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E3.m1.82b"><apply id="S4.E3.m1.79.79.1.1.1.3.cmml"><csymbol cd="ambiguous" id="S4.E3.m1.79.79.1.1.1.3a.cmml">formulae-sequence</csymbol><apply id="S4.E3.m1.79.79.1.1.1.1.1.cmml"><eq id="S4.E3.m1.2.2.2.2.1.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1"></eq><ci id="S4.E3.m1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1">𝑒</ci><apply id="S4.E3.m1.79.79.1.1.1.1.1.3.cmml"><times id="S4.E3.m1.79.79.1.1.1.1.1.3.1.cmml"></times><ci id="S4.E3.m1.3.3.3.3.2.2.cmml" xref="S4.E3.m1.3.3.3.3.2.2">𝑳</ci><ci id="S4.E3.m1.4.4.4.4.3.3.cmml" xref="S4.E3.m1.4.4.4.4.3.3">𝑳</ci><ci id="S4.E3.m1.5.5.5.5.4.4.cmml" xref="S4.E3.m1.5.5.5.5.4.4">𝑴</ci><ci id="S4.E3.m1.7.7.7.7.6.6.cmml" xref="S4.E3.m1.7.7.7.7.6.6">𝑞</ci></apply></apply><apply id="S4.E3.m1.79.79.1.1.1.2.2.3.cmml"><csymbol cd="ambiguous" id="S4.E3.m1.79.79.1.1.1.2.2.3a.cmml">formulae-sequence</csymbol><apply id="S4.E3.m1.79.79.1.1.1.2.2.1.1.cmml"><eq id="S4.E3.m1.12.12.12.3.1.1.cmml" xref="S4.E3.m1.12.12.12.3.1.1"></eq><apply id="S4.E3.m1.79.79.1.1.1.2.2.1.1.3.cmml"><csymbol cd="ambiguous" id="S4.E3.m1.79.79.1.1.1.2.2.1.1.3.1.cmml">subscript</csymbol><ci id="S4.E3.m1.10.10.10.1.1.1.cmml" xref="S4.E3.m1.10.10.10.1.1.1">𝑡</ci><ci id="S4.E3.m1.11.11.11.2.2.2.1.cmml" xref="S4.E3.m1.11.11.11.2.2.2.1">𝑐</ci></apply><apply id="S4.E3.m1.79.79.1.1.1.2.2.1.1.1.cmml"><times id="S4.E3.m1.79.79.1.1.1.2.2.1.1.1.2.cmml"></times><ci id="S4.E3.m1.13.13.13.4.2.2.cmml" xref="S4.E3.m1.13.13.13.4.2.2">𝑺</ci><ci id="S4.E3.m1.14.14.14.5.3.3.cmml" xref="S4.E3.m1.14.14.14.5.3.3">𝒑</ci><ci id="S4.E3.m1.15.15.15.6.4.4.cmml" xref="S4.E3.m1.15.15.15.6.4.4">𝒂</ci><ci id="S4.E3.m1.16.16.16.7.5.5.cmml" xref="S4.E3.m1.16.16.16.7.5.5">𝒓</ci><ci id="S4.E3.m1.17.17.17.8.6.6.cmml" xref="S4.E3.m1.17.17.17.8.6.6">𝒔</ci><ci id="S4.E3.m1.18.18.18.9.7.7.cmml" xref="S4.E3.m1.18.18.18.9.7.7">𝒆</ci><ci id="S4.E3.m1.19.19.19.10.8.8.cmml" xref="S4.E3.m1.19.19.19.10.8.8">𝑹</ci><ci id="S4.E3.m1.20.20.20.11.9.9.cmml" xref="S4.E3.m1.20.20.20.11.9.9">𝒆</ci><ci id="S4.E3.m1.21.21.21.12.10.10.cmml" xref="S4.E3.m1.21.21.21.12.10.10">𝒕</ci><ci id="S4.E3.m1.22.22.22.13.11.11.cmml" xref="S4.E3.m1.22.22.22.13.11.11">𝒓</ci><ci id="S4.E3.m1.23.23.23.14.12.12.cmml" xref="S4.E3.m1.23.23.23.14.12.12">𝒊</ci><ci id="S4.E3.m1.24.24.24.15.13.13.cmml" xref="S4.E3.m1.24.24.24.15.13.13">𝒆</ci><ci id="S4.E3.m1.25.25.25.16.14.14.cmml" xref="S4.E3.m1.25.25.25.16.14.14">𝒗</ci><ci id="S4.E3.m1.26.26.26.17.15.15.cmml" xref="S4.E3.m1.26.26.26.17.15.15">𝒂</ci><ci id="S4.E3.m1.27.27.27.18.16.16.cmml" xref="S4.E3.m1.27.27.27.18.16.16">𝒍</ci><interval closure="open" id="S4.E3.m1.79.79.1.1.1.2.2.1.1.1.1.2.cmml"><ci id="S4.E3.m1.29.29.29.20.18.18.cmml" xref="S4.E3.m1.29.29.29.20.18.18">𝑒</ci><set id="S4.E3.m1.79.79.1.1.1.2.2.1.1.1.1.1.1.4.cmml"><apply id="S4.E3.m1.79.79.1.1.1.2.2.1.1.1.1.1.1.1.1.cmml"><csymbol cd="ambiguous" id="S4.E3.m1.79.79.1.1.1.2.2.1.1.1.1.1.1.1.1.1.cmml">subscript</csymbol><ci id="S4.E3.m1.32.32.32.23.21.21.cmml" xref="S4.E3.m1.32.32.32.23.21.21">𝑡</ci><cn id="S4.E3.m1.33.33.33.24.22.22.1.cmml" type="integer" xref="S4.E3.m1.33.33.33.24.22.22.1">1</cn></apply><apply id="S4.E3.m1.79.79.1.1.1.2.2.1.1.1.1.1.1.2.2.cmml"><times id="S4.E3.m1.79.79.1.1.1.2.2.1.1.1.1.1.1.2.2.1.cmml"></times><apply id="S4.E3.m1.79.79.1.1.1.2.2.1.1.1.1.1.1.2.2.2.cmml"><csymbol cd="ambiguous" id="S4.E3.m1.79.79.1.1.1.2.2.1.1.1.1.1.1.2.2.2.1.cmml">subscript</csymbol><ci id="S4.E3.m1.35.35.35.26.24.24.cmml" xref="S4.E3.m1.35.35.35.26.24.24">𝑡</ci><cn id="S4.E3.m1.36.36.36.27.25.25.1.cmml" type="integer" xref="S4.E3.m1.36.36.36.27.25.25.1">2</cn></apply><ci id="S4.E3.m1.37.37.37.28.26.26.cmml" xref="S4.E3.m1.37.37.37.28.26.26">…</ci></apply><apply id="S4.E3.m1.79.79.1.1.1.2.2.1.1.1.1.1.1.3.3.cmml"><csymbol cd="ambiguous" id="S4.E3.m1.79.79.1.1.1.2.2.1.1.1.1.1.1.3.3.1.cmml">subscript</csymbol><ci id="S4.E3.m1.39.39.39.30.28.28.cmml" xref="S4.E3.m1.39.39.39.30.28.28">𝑡</ci><ci id="S4.E3.m1.40.40.40.31.29.29.1.cmml" xref="S4.E3.m1.40.40.40.31.29.29.1">𝑛</ci></apply></set></interval></apply></apply><apply id="S4.E3.m1.79.79.1.1.1.2.2.2.2.cmml"><eq id="S4.E3.m1.46.46.46.3.1.1.cmml" xref="S4.E3.m1.46.46.46.3.1.1"></eq><apply id="S4.E3.m1.79.79.1.1.1.2.2.2.2.4.cmml"><csymbol cd="ambiguous" id="S4.E3.m1.79.79.1.1.1.2.2.2.2.4.1.cmml">superscript</csymbol><ci id="S4.E3.m1.44.44.44.1.1.1.cmml" xref="S4.E3.m1.44.44.44.1.1.1">𝑝</ci><times id="S4.E3.m1.45.45.45.2.2.2.1.cmml" xref="S4.E3.m1.45.45.45.2.2.2.1"></times></apply><apply id="S4.E3.m1.79.79.1.1.1.2.2.2.2.2.cmml"><times id="S4.E3.m1.79.79.1.1.1.2.2.2.2.2.3.cmml"></times><ci id="S4.E3.m1.47.47.47.4.2.2.cmml" xref="S4.E3.m1.47.47.47.4.2.2">𝑺</ci><ci id="S4.E3.m1.48.48.48.5.3.3.cmml" xref="S4.E3.m1.48.48.48.5.3.3">𝒑</ci><ci id="S4.E3.m1.49.49.49.6.4.4.cmml" xref="S4.E3.m1.49.49.49.6.4.4">𝒂</ci><ci id="S4.E3.m1.50.50.50.7.5.5.cmml" xref="S4.E3.m1.50.50.50.7.5.5">𝒓</ci><ci id="S4.E3.m1.51.51.51.8.6.6.cmml" xref="S4.E3.m1.51.51.51.8.6.6">𝒔</ci><ci id="S4.E3.m1.52.52.52.9.7.7.cmml" xref="S4.E3.m1.52.52.52.9.7.7">𝒆</ci><ci id="S4.E3.m1.53.53.53.10.8.8.cmml" xref="S4.E3.m1.53.53.53.10.8.8">𝑹</ci><ci id="S4.E3.m1.54.54.54.11.9.9.cmml" xref="S4.E3.m1.54.54.54.11.9.9">𝒆</ci><ci id="S4.E3.m1.55.55.55.12.10.10.cmml" xref="S4.E3.m1.55.55.55.12.10.10">𝒕</ci><ci id="S4.E3.m1.56.56.56.13.11.11.cmml" xref="S4.E3.m1.56.56.56.13.11.11">𝒓</ci><ci id="S4.E3.m1.57.57.57.14.12.12.cmml" xref="S4.E3.m1.57.57.57.14.12.12">𝒊</ci><ci id="S4.E3.m1.58.58.58.15.13.13.cmml" xref="S4.E3.m1.58.58.58.15.13.13">𝒆</ci><ci id="S4.E3.m1.59.59.59.16.14.14.cmml" xref="S4.E3.m1.59.59.59.16.14.14">𝒗</ci><ci id="S4.E3.m1.60.60.60.17.15.15.cmml" xref="S4.E3.m1.60.60.60.17.15.15">𝒂</ci><ci id="S4.E3.m1.61.61.61.18.16.16.cmml" xref="S4.E3.m1.61.61.61.18.16.16">𝒍</ci><interval closure="open" id="S4.E3.m1.79.79.1.1.1.2.2.2.2.2.2.3.cmml"><apply id="S4.E3.m1.79.79.1.1.1.2.2.2.2.1.1.1.1.cmml"><csymbol cd="ambiguous" id="S4.E3.m1.79.79.1.1.1.2.2.2.2.1.1.1.1.1.cmml">subscript</csymbol><ci id="S4.E3.m1.63.63.63.20.18.18.cmml" xref="S4.E3.m1.63.63.63.20.18.18">𝑡</ci><ci id="S4.E3.m1.64.64.64.21.19.19.1.cmml" xref="S4.E3.m1.64.64.64.21.19.19.1">𝑐</ci></apply><set id="S4.E3.m1.79.79.1.1.1.2.2.2.2.2.2.2.2.4.cmml"><apply id="S4.E3.m1.79.79.1.1.1.2.2.2.2.2.2.2.2.1.1.cmml"><csymbol cd="ambiguous" id="S4.E3.m1.79.79.1.1.1.2.2.2.2.2.2.2.2.1.1.1.cmml">subscript</csymbol><ci id="S4.E3.m1.67.67.67.24.22.22.cmml" xref="S4.E3.m1.67.67.67.24.22.22">𝑝</ci><cn id="S4.E3.m1.68.68.68.25.23.23.1.cmml" type="integer" xref="S4.E3.m1.68.68.68.25.23.23.1">1</cn></apply><apply id="S4.E3.m1.79.79.1.1.1.2.2.2.2.2.2.2.2.2.2.cmml"><times id="S4.E3.m1.79.79.1.1.1.2.2.2.2.2.2.2.2.2.2.1.cmml"></times><apply id="S4.E3.m1.79.79.1.1.1.2.2.2.2.2.2.2.2.2.2.2.cmml"><csymbol cd="ambiguous" id="S4.E3.m1.79.79.1.1.1.2.2.2.2.2.2.2.2.2.2.2.1.cmml">subscript</csymbol><ci id="S4.E3.m1.70.70.70.27.25.25.cmml" xref="S4.E3.m1.70.70.70.27.25.25">𝑝</ci><cn id="S4.E3.m1.71.71.71.28.26.26.1.cmml" type="integer" xref="S4.E3.m1.71.71.71.28.26.26.1">2</cn></apply><ci id="S4.E3.m1.72.72.72.29.27.27.cmml" xref="S4.E3.m1.72.72.72.29.27.27">…</ci></apply><apply id="S4.E3.m1.79.79.1.1.1.2.2.2.2.2.2.2.2.3.3.cmml"><csymbol cd="ambiguous" id="S4.E3.m1.79.79.1.1.1.2.2.2.2.2.2.2.2.3.3.1.cmml">subscript</csymbol><ci id="S4.E3.m1.74.74.74.31.29.29.cmml" xref="S4.E3.m1.74.74.74.31.29.29">𝑝</ci><ci id="S4.E3.m1.75.75.75.32.30.30.1.cmml" xref="S4.E3.m1.75.75.75.32.30.30.1">𝑚</ci></apply></set></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.82c">\begin{split}e&amp;=\bm{LLM}(q),\\
t_{c}&amp;=\bm{SparseRetrieval}(e,\{t_{1},t_{2}\dots,t_{n}\}),\\
p^{*}&amp;=\bm{SparseRetrieval}(t_{c},\{p_{1},p_{2}\dots,p_{m}\}).\end{split}</annotation><annotation encoding="application/x-llamapun" id="S4.E3.m1.82d">start_ROW start_CELL italic_e end_CELL start_CELL = bold_italic_L bold_italic_L bold_italic_M ( italic_q ) , end_CELL end_ROW start_ROW start_CELL italic_t start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_CELL start_CELL = bold_italic_S bold_italic_p bold_italic_a bold_italic_r bold_italic_s bold_italic_e bold_italic_R bold_italic_e bold_italic_t bold_italic_r bold_italic_i bold_italic_e bold_italic_v bold_italic_a bold_italic_l ( italic_e , { italic_t start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT … , italic_t start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT } ) , end_CELL end_ROW start_ROW start_CELL italic_p start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT end_CELL start_CELL = bold_italic_S bold_italic_p bold_italic_a bold_italic_r bold_italic_s bold_italic_e bold_italic_R bold_italic_e bold_italic_t bold_italic_r bold_italic_i bold_italic_e bold_italic_v bold_italic_a bold_italic_l ( italic_t start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT , { italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT … , italic_p start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT } ) . end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS3.p3.2">where <math alttext="n" class="ltx_Math" display="inline" id="S4.SS3.p3.1.m1.1"><semantics id="S4.SS3.p3.1.m1.1a"><mi id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><ci id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.1.m1.1d">italic_n</annotation></semantics></math> represents the number of documents in the Indexd WikiCorpus and <math alttext="m" class="ltx_Math" display="inline" id="S4.SS3.p3.2.m2.1"><semantics id="S4.SS3.p3.2.m2.1a"><mi id="S4.SS3.p3.2.m2.1.1" xref="S4.SS3.p3.2.m2.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.2.m2.1b"><ci id="S4.SS3.p3.2.m2.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.2.m2.1c">m</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.2.m2.1d">italic_m</annotation></semantics></math> represents the number of profiles in the Profile WikiCorpus.</p>
</div>
<div class="ltx_para" id="S4.SS3.p4">
<p class="ltx_p" id="S4.SS3.p4.7">During the process of question decomposition and entity extraction, a notable challenge emerges. The use of LLMs for both sub-question generation and entity information extraction can lead to information loss. Specifically, when semantic loss occurs, it is often characterized by a high similarity between the extracted entity name and multiple candidate titles. To mitigate this issue, the retriever enhances the semantics by incorporating contextual information. In the context of Multi-hop QA tasks, this semantic enrichment draws upon two primary sources: the original question and the preceding answers. By leveraging this contextual information, we first select the most relevant details and then generate a new question that better captures the intended meaning. Specifically, we first select an answer, <math alttext="a^{*}" class="ltx_Math" display="inline" id="S4.SS3.p4.1.m1.1"><semantics id="S4.SS3.p4.1.m1.1a"><msup id="S4.SS3.p4.1.m1.1.1" xref="S4.SS3.p4.1.m1.1.1.cmml"><mi id="S4.SS3.p4.1.m1.1.1.2" xref="S4.SS3.p4.1.m1.1.1.2.cmml">a</mi><mo id="S4.SS3.p4.1.m1.1.1.3" xref="S4.SS3.p4.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.1.m1.1b"><apply id="S4.SS3.p4.1.m1.1.1.cmml" xref="S4.SS3.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p4.1.m1.1.1.1.cmml" xref="S4.SS3.p4.1.m1.1.1">superscript</csymbol><ci id="S4.SS3.p4.1.m1.1.1.2.cmml" xref="S4.SS3.p4.1.m1.1.1.2">𝑎</ci><times id="S4.SS3.p4.1.m1.1.1.3.cmml" xref="S4.SS3.p4.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.1.m1.1c">a^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p4.1.m1.1d">italic_a start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math>, containing
the entity, <math alttext="e" class="ltx_Math" display="inline" id="S4.SS3.p4.2.m2.1"><semantics id="S4.SS3.p4.2.m2.1a"><mi id="S4.SS3.p4.2.m2.1.1" xref="S4.SS3.p4.2.m2.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.2.m2.1b"><ci id="S4.SS3.p4.2.m2.1.1.cmml" xref="S4.SS3.p4.2.m2.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.2.m2.1c">e</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p4.2.m2.1d">italic_e</annotation></semantics></math>, from the set of sub-answers, <math alttext="\mathcal{A}^{{}^{\prime}}=\{a_{1},a_{2}\dots,a_{mt-1}\}" class="ltx_Math" display="inline" id="S4.SS3.p4.3.m3.3"><semantics id="S4.SS3.p4.3.m3.3a"><mrow id="S4.SS3.p4.3.m3.3.3" xref="S4.SS3.p4.3.m3.3.3.cmml"><msup id="S4.SS3.p4.3.m3.3.3.5" xref="S4.SS3.p4.3.m3.3.3.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p4.3.m3.3.3.5.2" xref="S4.SS3.p4.3.m3.3.3.5.2.cmml">𝒜</mi><msup id="S4.SS3.p4.3.m3.3.3.5.3" xref="S4.SS3.p4.3.m3.3.3.5.3.cmml"><mi id="S4.SS3.p4.3.m3.3.3.5.3a" xref="S4.SS3.p4.3.m3.3.3.5.3.cmml"></mi><mo id="S4.SS3.p4.3.m3.3.3.5.3.1" xref="S4.SS3.p4.3.m3.3.3.5.3.1.cmml">′</mo></msup></msup><mo id="S4.SS3.p4.3.m3.3.3.4" xref="S4.SS3.p4.3.m3.3.3.4.cmml">=</mo><mrow id="S4.SS3.p4.3.m3.3.3.3.3" xref="S4.SS3.p4.3.m3.3.3.3.4.cmml"><mo id="S4.SS3.p4.3.m3.3.3.3.3.4" stretchy="false" xref="S4.SS3.p4.3.m3.3.3.3.4.cmml">{</mo><msub id="S4.SS3.p4.3.m3.1.1.1.1.1" xref="S4.SS3.p4.3.m3.1.1.1.1.1.cmml"><mi id="S4.SS3.p4.3.m3.1.1.1.1.1.2" xref="S4.SS3.p4.3.m3.1.1.1.1.1.2.cmml">a</mi><mn id="S4.SS3.p4.3.m3.1.1.1.1.1.3" xref="S4.SS3.p4.3.m3.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S4.SS3.p4.3.m3.3.3.3.3.5" xref="S4.SS3.p4.3.m3.3.3.3.4.cmml">,</mo><mrow id="S4.SS3.p4.3.m3.2.2.2.2.2" xref="S4.SS3.p4.3.m3.2.2.2.2.2.cmml"><msub id="S4.SS3.p4.3.m3.2.2.2.2.2.2" xref="S4.SS3.p4.3.m3.2.2.2.2.2.2.cmml"><mi id="S4.SS3.p4.3.m3.2.2.2.2.2.2.2" xref="S4.SS3.p4.3.m3.2.2.2.2.2.2.2.cmml">a</mi><mn id="S4.SS3.p4.3.m3.2.2.2.2.2.2.3" xref="S4.SS3.p4.3.m3.2.2.2.2.2.2.3.cmml">2</mn></msub><mo id="S4.SS3.p4.3.m3.2.2.2.2.2.1" xref="S4.SS3.p4.3.m3.2.2.2.2.2.1.cmml">⁢</mo><mi id="S4.SS3.p4.3.m3.2.2.2.2.2.3" mathvariant="normal" xref="S4.SS3.p4.3.m3.2.2.2.2.2.3.cmml">…</mi></mrow><mo id="S4.SS3.p4.3.m3.3.3.3.3.6" xref="S4.SS3.p4.3.m3.3.3.3.4.cmml">,</mo><msub id="S4.SS3.p4.3.m3.3.3.3.3.3" xref="S4.SS3.p4.3.m3.3.3.3.3.3.cmml"><mi id="S4.SS3.p4.3.m3.3.3.3.3.3.2" xref="S4.SS3.p4.3.m3.3.3.3.3.3.2.cmml">a</mi><mrow id="S4.SS3.p4.3.m3.3.3.3.3.3.3" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.cmml"><mrow id="S4.SS3.p4.3.m3.3.3.3.3.3.3.2" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.cmml"><mi id="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.2" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.2.cmml">m</mi><mo id="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.1" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.1.cmml">⁢</mo><mi id="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.3" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.3.cmml">t</mi></mrow><mo id="S4.SS3.p4.3.m3.3.3.3.3.3.3.1" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.1.cmml">−</mo><mn id="S4.SS3.p4.3.m3.3.3.3.3.3.3.3" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.3.cmml">1</mn></mrow></msub><mo id="S4.SS3.p4.3.m3.3.3.3.3.7" stretchy="false" xref="S4.SS3.p4.3.m3.3.3.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.3.m3.3b"><apply id="S4.SS3.p4.3.m3.3.3.cmml" xref="S4.SS3.p4.3.m3.3.3"><eq id="S4.SS3.p4.3.m3.3.3.4.cmml" xref="S4.SS3.p4.3.m3.3.3.4"></eq><apply id="S4.SS3.p4.3.m3.3.3.5.cmml" xref="S4.SS3.p4.3.m3.3.3.5"><csymbol cd="ambiguous" id="S4.SS3.p4.3.m3.3.3.5.1.cmml" xref="S4.SS3.p4.3.m3.3.3.5">superscript</csymbol><ci id="S4.SS3.p4.3.m3.3.3.5.2.cmml" xref="S4.SS3.p4.3.m3.3.3.5.2">𝒜</ci><apply id="S4.SS3.p4.3.m3.3.3.5.3.cmml" xref="S4.SS3.p4.3.m3.3.3.5.3"><ci id="S4.SS3.p4.3.m3.3.3.5.3.1.cmml" xref="S4.SS3.p4.3.m3.3.3.5.3.1">′</ci></apply></apply><set id="S4.SS3.p4.3.m3.3.3.3.4.cmml" xref="S4.SS3.p4.3.m3.3.3.3.3"><apply id="S4.SS3.p4.3.m3.1.1.1.1.1.cmml" xref="S4.SS3.p4.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p4.3.m3.1.1.1.1.1.1.cmml" xref="S4.SS3.p4.3.m3.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.p4.3.m3.1.1.1.1.1.2.cmml" xref="S4.SS3.p4.3.m3.1.1.1.1.1.2">𝑎</ci><cn id="S4.SS3.p4.3.m3.1.1.1.1.1.3.cmml" type="integer" xref="S4.SS3.p4.3.m3.1.1.1.1.1.3">1</cn></apply><apply id="S4.SS3.p4.3.m3.2.2.2.2.2.cmml" xref="S4.SS3.p4.3.m3.2.2.2.2.2"><times id="S4.SS3.p4.3.m3.2.2.2.2.2.1.cmml" xref="S4.SS3.p4.3.m3.2.2.2.2.2.1"></times><apply id="S4.SS3.p4.3.m3.2.2.2.2.2.2.cmml" xref="S4.SS3.p4.3.m3.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS3.p4.3.m3.2.2.2.2.2.2.1.cmml" xref="S4.SS3.p4.3.m3.2.2.2.2.2.2">subscript</csymbol><ci id="S4.SS3.p4.3.m3.2.2.2.2.2.2.2.cmml" xref="S4.SS3.p4.3.m3.2.2.2.2.2.2.2">𝑎</ci><cn id="S4.SS3.p4.3.m3.2.2.2.2.2.2.3.cmml" type="integer" xref="S4.SS3.p4.3.m3.2.2.2.2.2.2.3">2</cn></apply><ci id="S4.SS3.p4.3.m3.2.2.2.2.2.3.cmml" xref="S4.SS3.p4.3.m3.2.2.2.2.2.3">…</ci></apply><apply id="S4.SS3.p4.3.m3.3.3.3.3.3.cmml" xref="S4.SS3.p4.3.m3.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.SS3.p4.3.m3.3.3.3.3.3.1.cmml" xref="S4.SS3.p4.3.m3.3.3.3.3.3">subscript</csymbol><ci id="S4.SS3.p4.3.m3.3.3.3.3.3.2.cmml" xref="S4.SS3.p4.3.m3.3.3.3.3.3.2">𝑎</ci><apply id="S4.SS3.p4.3.m3.3.3.3.3.3.3.cmml" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3"><minus id="S4.SS3.p4.3.m3.3.3.3.3.3.3.1.cmml" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.1"></minus><apply id="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.cmml" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.2"><times id="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.1.cmml" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.1"></times><ci id="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.2.cmml" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.2">𝑚</ci><ci id="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.3.cmml" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.2.3">𝑡</ci></apply><cn id="S4.SS3.p4.3.m3.3.3.3.3.3.3.3.cmml" type="integer" xref="S4.SS3.p4.3.m3.3.3.3.3.3.3.3">1</cn></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.3.m3.3c">\mathcal{A}^{{}^{\prime}}=\{a_{1},a_{2}\dots,a_{mt-1}\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p4.3.m3.3d">caligraphic_A start_POSTSUPERSCRIPT start_FLOATSUPERSCRIPT ′ end_FLOATSUPERSCRIPT end_POSTSUPERSCRIPT = { italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT … , italic_a start_POSTSUBSCRIPT italic_m italic_t - 1 end_POSTSUBSCRIPT }</annotation></semantics></math>, which includes all sub-answers from previous <math alttext="mt-1" class="ltx_Math" display="inline" id="S4.SS3.p4.4.m4.1"><semantics id="S4.SS3.p4.4.m4.1a"><mrow id="S4.SS3.p4.4.m4.1.1" xref="S4.SS3.p4.4.m4.1.1.cmml"><mrow id="S4.SS3.p4.4.m4.1.1.2" xref="S4.SS3.p4.4.m4.1.1.2.cmml"><mi id="S4.SS3.p4.4.m4.1.1.2.2" xref="S4.SS3.p4.4.m4.1.1.2.2.cmml">m</mi><mo id="S4.SS3.p4.4.m4.1.1.2.1" xref="S4.SS3.p4.4.m4.1.1.2.1.cmml">⁢</mo><mi id="S4.SS3.p4.4.m4.1.1.2.3" xref="S4.SS3.p4.4.m4.1.1.2.3.cmml">t</mi></mrow><mo id="S4.SS3.p4.4.m4.1.1.1" xref="S4.SS3.p4.4.m4.1.1.1.cmml">−</mo><mn id="S4.SS3.p4.4.m4.1.1.3" xref="S4.SS3.p4.4.m4.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.4.m4.1b"><apply id="S4.SS3.p4.4.m4.1.1.cmml" xref="S4.SS3.p4.4.m4.1.1"><minus id="S4.SS3.p4.4.m4.1.1.1.cmml" xref="S4.SS3.p4.4.m4.1.1.1"></minus><apply id="S4.SS3.p4.4.m4.1.1.2.cmml" xref="S4.SS3.p4.4.m4.1.1.2"><times id="S4.SS3.p4.4.m4.1.1.2.1.cmml" xref="S4.SS3.p4.4.m4.1.1.2.1"></times><ci id="S4.SS3.p4.4.m4.1.1.2.2.cmml" xref="S4.SS3.p4.4.m4.1.1.2.2">𝑚</ci><ci id="S4.SS3.p4.4.m4.1.1.2.3.cmml" xref="S4.SS3.p4.4.m4.1.1.2.3">𝑡</ci></apply><cn id="S4.SS3.p4.4.m4.1.1.3.cmml" type="integer" xref="S4.SS3.p4.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.4.m4.1c">mt-1</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p4.4.m4.1d">italic_m italic_t - 1</annotation></semantics></math> rounds
and utilize it as a supplement to our query. If this approach
yields no results, we instead use the original question <math alttext="x" class="ltx_Math" display="inline" id="S4.SS3.p4.5.m5.1"><semantics id="S4.SS3.p4.5.m5.1a"><mi id="S4.SS3.p4.5.m5.1.1" xref="S4.SS3.p4.5.m5.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.5.m5.1b"><ci id="S4.SS3.p4.5.m5.1.1.cmml" xref="S4.SS3.p4.5.m5.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.5.m5.1c">x</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p4.5.m5.1d">italic_x</annotation></semantics></math> as the supplement to guide our investigation. We
then instruct the <math alttext="\bm{LLM}" class="ltx_Math" display="inline" id="S4.SS3.p4.6.m6.1"><semantics id="S4.SS3.p4.6.m6.1a"><mrow id="S4.SS3.p4.6.m6.1.1" xref="S4.SS3.p4.6.m6.1.1.cmml"><mi id="S4.SS3.p4.6.m6.1.1.2" xref="S4.SS3.p4.6.m6.1.1.2.cmml">𝑳</mi><mo id="S4.SS3.p4.6.m6.1.1.1" xref="S4.SS3.p4.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS3.p4.6.m6.1.1.3" xref="S4.SS3.p4.6.m6.1.1.3.cmml">𝑳</mi><mo id="S4.SS3.p4.6.m6.1.1.1a" xref="S4.SS3.p4.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS3.p4.6.m6.1.1.4" xref="S4.SS3.p4.6.m6.1.1.4.cmml">𝑴</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.6.m6.1b"><apply id="S4.SS3.p4.6.m6.1.1.cmml" xref="S4.SS3.p4.6.m6.1.1"><times id="S4.SS3.p4.6.m6.1.1.1.cmml" xref="S4.SS3.p4.6.m6.1.1.1"></times><ci id="S4.SS3.p4.6.m6.1.1.2.cmml" xref="S4.SS3.p4.6.m6.1.1.2">𝑳</ci><ci id="S4.SS3.p4.6.m6.1.1.3.cmml" xref="S4.SS3.p4.6.m6.1.1.3">𝑳</ci><ci id="S4.SS3.p4.6.m6.1.1.4.cmml" xref="S4.SS3.p4.6.m6.1.1.4">𝑴</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.6.m6.1c">\bm{LLM}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p4.6.m6.1d">bold_italic_L bold_italic_L bold_italic_M</annotation></semantics></math> to generate a new question <math alttext="q^{*}" class="ltx_Math" display="inline" id="S4.SS3.p4.7.m7.1"><semantics id="S4.SS3.p4.7.m7.1a"><msup id="S4.SS3.p4.7.m7.1.1" xref="S4.SS3.p4.7.m7.1.1.cmml"><mi id="S4.SS3.p4.7.m7.1.1.2" xref="S4.SS3.p4.7.m7.1.1.2.cmml">q</mi><mo id="S4.SS3.p4.7.m7.1.1.3" xref="S4.SS3.p4.7.m7.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.7.m7.1b"><apply id="S4.SS3.p4.7.m7.1.1.cmml" xref="S4.SS3.p4.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS3.p4.7.m7.1.1.1.cmml" xref="S4.SS3.p4.7.m7.1.1">superscript</csymbol><ci id="S4.SS3.p4.7.m7.1.1.2.cmml" xref="S4.SS3.p4.7.m7.1.1.2">𝑞</ci><times id="S4.SS3.p4.7.m7.1.1.3.cmml" xref="S4.SS3.p4.7.m7.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.7.m7.1c">q^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p4.7.m7.1d">italic_q start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math>, which is subsequently retrieved using other retrieval engines.</p>
</div>
<div class="ltx_para" id="S4.SS3.p5">
<table class="ltx_equation ltx_eqn_table" id="S4.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}a^{*}&amp;=\bm{Select}(\{a_{1},a_{2}\dots,a_{mt-1}\},e),\\
q^{*}&amp;=\bm{LLM}(q,s).\end{split}" class="ltx_Math" display="block" id="S4.E4.m1.40"><semantics id="S4.E4.m1.40a"><mtable columnspacing="0pt" displaystyle="true" id="S4.E4.m1.40.40.3" rowspacing="0pt"><mtr id="S4.E4.m1.40.40.3a"><mtd class="ltx_align_right" columnalign="right" id="S4.E4.m1.40.40.3b"><msup id="S4.E4.m1.2.2.2.2.2"><mi id="S4.E4.m1.1.1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.1.1.cmml">a</mi><mo id="S4.E4.m1.2.2.2.2.2.2.1" xref="S4.E4.m1.2.2.2.2.2.2.1.cmml">∗</mo></msup></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E4.m1.40.40.3c"><mrow id="S4.E4.m1.39.39.2.38.26.24.24"><mrow id="S4.E4.m1.39.39.2.38.26.24.24.1"><mi id="S4.E4.m1.39.39.2.38.26.24.24.1.2"></mi><mo id="S4.E4.m1.3.3.3.3.1.1" xref="S4.E4.m1.3.3.3.3.1.1.cmml">=</mo><mrow id="S4.E4.m1.39.39.2.38.26.24.24.1.1"><mi id="S4.E4.m1.4.4.4.4.2.2" xref="S4.E4.m1.4.4.4.4.2.2.cmml">𝑺</mi><mo id="S4.E4.m1.39.39.2.38.26.24.24.1.1.2">⁢</mo><mi id="S4.E4.m1.5.5.5.5.3.3" xref="S4.E4.m1.5.5.5.5.3.3.cmml">𝒆</mi><mo id="S4.E4.m1.39.39.2.38.26.24.24.1.1.2a">⁢</mo><mi id="S4.E4.m1.6.6.6.6.4.4" xref="S4.E4.m1.6.6.6.6.4.4.cmml">𝒍</mi><mo id="S4.E4.m1.39.39.2.38.26.24.24.1.1.2b">⁢</mo><mi id="S4.E4.m1.7.7.7.7.5.5" xref="S4.E4.m1.7.7.7.7.5.5.cmml">𝒆</mi><mo id="S4.E4.m1.39.39.2.38.26.24.24.1.1.2c">⁢</mo><mi id="S4.E4.m1.8.8.8.8.6.6" xref="S4.E4.m1.8.8.8.8.6.6.cmml">𝒄</mi><mo id="S4.E4.m1.39.39.2.38.26.24.24.1.1.2d">⁢</mo><mi id="S4.E4.m1.9.9.9.9.7.7" xref="S4.E4.m1.9.9.9.9.7.7.cmml">𝒕</mi><mo id="S4.E4.m1.39.39.2.38.26.24.24.1.1.2e">⁢</mo><mrow id="S4.E4.m1.39.39.2.38.26.24.24.1.1.1.1"><mo id="S4.E4.m1.10.10.10.10.8.8" stretchy="false">(</mo><mrow id="S4.E4.m1.39.39.2.38.26.24.24.1.1.1.1.1"><mo id="S4.E4.m1.11.11.11.11.9.9" stretchy="false">{</mo><msub id="S4.E4.m1.39.39.2.38.26.24.24.1.1.1.1.1.1.1"><mi id="S4.E4.m1.12.12.12.12.10.10" xref="S4.E4.m1.12.12.12.12.10.10.cmml">a</mi><mn id="S4.E4.m1.13.13.13.13.11.11.1" xref="S4.E4.m1.13.13.13.13.11.11.1.cmml">1</mn></msub><mo id="S4.E4.m1.14.14.14.14.12.12">,</mo><mrow id="S4.E4.m1.39.39.2.38.26.24.24.1.1.1.1.1.2.2"><msub id="S4.E4.m1.39.39.2.38.26.24.24.1.1.1.1.1.2.2.2"><mi id="S4.E4.m1.15.15.15.15.13.13" xref="S4.E4.m1.15.15.15.15.13.13.cmml">a</mi><mn id="S4.E4.m1.16.16.16.16.14.14.1" xref="S4.E4.m1.16.16.16.16.14.14.1.cmml">2</mn></msub><mo id="S4.E4.m1.39.39.2.38.26.24.24.1.1.1.1.1.2.2.1">⁢</mo><mi id="S4.E4.m1.17.17.17.17.15.15" mathvariant="normal" xref="S4.E4.m1.17.17.17.17.15.15.cmml">…</mi></mrow><mo id="S4.E4.m1.18.18.18.18.16.16">,</mo><msub id="S4.E4.m1.39.39.2.38.26.24.24.1.1.1.1.1.3.3"><mi id="S4.E4.m1.19.19.19.19.17.17" xref="S4.E4.m1.19.19.19.19.17.17.cmml">a</mi><mrow id="S4.E4.m1.20.20.20.20.18.18.1" xref="S4.E4.m1.20.20.20.20.18.18.1.cmml"><mrow id="S4.E4.m1.20.20.20.20.18.18.1.2" xref="S4.E4.m1.20.20.20.20.18.18.1.2.cmml"><mi id="S4.E4.m1.20.20.20.20.18.18.1.2.2" xref="S4.E4.m1.20.20.20.20.18.18.1.2.2.cmml">m</mi><mo id="S4.E4.m1.20.20.20.20.18.18.1.2.1" xref="S4.E4.m1.20.20.20.20.18.18.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.20.20.20.20.18.18.1.2.3" xref="S4.E4.m1.20.20.20.20.18.18.1.2.3.cmml">t</mi></mrow><mo id="S4.E4.m1.20.20.20.20.18.18.1.1" xref="S4.E4.m1.20.20.20.20.18.18.1.1.cmml">−</mo><mn id="S4.E4.m1.20.20.20.20.18.18.1.3" xref="S4.E4.m1.20.20.20.20.18.18.1.3.cmml">1</mn></mrow></msub><mo id="S4.E4.m1.21.21.21.21.19.19" stretchy="false">}</mo></mrow><mo id="S4.E4.m1.22.22.22.22.20.20">,</mo><mi id="S4.E4.m1.23.23.23.23.21.21" xref="S4.E4.m1.23.23.23.23.21.21.cmml">e</mi><mo id="S4.E4.m1.24.24.24.24.22.22" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S4.E4.m1.25.25.25.25.23.23">,</mo></mrow></mtd></mtr><mtr id="S4.E4.m1.40.40.3d"><mtd class="ltx_align_right" columnalign="right" id="S4.E4.m1.40.40.3e"><msup id="S4.E4.m1.27.27.27.2.2"><mi id="S4.E4.m1.26.26.26.1.1.1" xref="S4.E4.m1.26.26.26.1.1.1.cmml">q</mi><mo id="S4.E4.m1.27.27.27.2.2.2.1" xref="S4.E4.m1.27.27.27.2.2.2.1.cmml">∗</mo></msup></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E4.m1.40.40.3f"><mrow id="S4.E4.m1.40.40.3.39.13.11.11"><mrow id="S4.E4.m1.40.40.3.39.13.11.11.1"><mi id="S4.E4.m1.40.40.3.39.13.11.11.1.1"></mi><mo id="S4.E4.m1.28.28.28.3.1.1" xref="S4.E4.m1.28.28.28.3.1.1.cmml">=</mo><mrow id="S4.E4.m1.40.40.3.39.13.11.11.1.2"><mi id="S4.E4.m1.29.29.29.4.2.2" xref="S4.E4.m1.29.29.29.4.2.2.cmml">𝑳</mi><mo id="S4.E4.m1.40.40.3.39.13.11.11.1.2.1">⁢</mo><mi id="S4.E4.m1.30.30.30.5.3.3" xref="S4.E4.m1.30.30.30.5.3.3.cmml">𝑳</mi><mo id="S4.E4.m1.40.40.3.39.13.11.11.1.2.1a">⁢</mo><mi id="S4.E4.m1.31.31.31.6.4.4" xref="S4.E4.m1.31.31.31.6.4.4.cmml">𝑴</mi><mo id="S4.E4.m1.40.40.3.39.13.11.11.1.2.1b">⁢</mo><mrow id="S4.E4.m1.40.40.3.39.13.11.11.1.2.2"><mo id="S4.E4.m1.32.32.32.7.5.5" stretchy="false">(</mo><mi id="S4.E4.m1.33.33.33.8.6.6" xref="S4.E4.m1.33.33.33.8.6.6.cmml">q</mi><mo id="S4.E4.m1.34.34.34.9.7.7">,</mo><mi id="S4.E4.m1.35.35.35.10.8.8" xref="S4.E4.m1.35.35.35.10.8.8.cmml">s</mi><mo id="S4.E4.m1.36.36.36.11.9.9" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S4.E4.m1.37.37.37.12.10.10" lspace="0em">.</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E4.m1.40b"><apply id="S4.E4.m1.38.38.1.1.1.3.cmml"><csymbol cd="ambiguous" id="S4.E4.m1.38.38.1.1.1.3a.cmml">formulae-sequence</csymbol><apply id="S4.E4.m1.38.38.1.1.1.1.1.cmml"><eq id="S4.E4.m1.3.3.3.3.1.1.cmml" xref="S4.E4.m1.3.3.3.3.1.1"></eq><apply id="S4.E4.m1.38.38.1.1.1.1.1.3.cmml"><csymbol cd="ambiguous" id="S4.E4.m1.38.38.1.1.1.1.1.3.1.cmml">superscript</csymbol><ci id="S4.E4.m1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1.1">𝑎</ci><times id="S4.E4.m1.2.2.2.2.2.2.1.cmml" xref="S4.E4.m1.2.2.2.2.2.2.1"></times></apply><apply id="S4.E4.m1.38.38.1.1.1.1.1.1.cmml"><times id="S4.E4.m1.38.38.1.1.1.1.1.1.2.cmml"></times><ci id="S4.E4.m1.4.4.4.4.2.2.cmml" xref="S4.E4.m1.4.4.4.4.2.2">𝑺</ci><ci id="S4.E4.m1.5.5.5.5.3.3.cmml" xref="S4.E4.m1.5.5.5.5.3.3">𝒆</ci><ci id="S4.E4.m1.6.6.6.6.4.4.cmml" xref="S4.E4.m1.6.6.6.6.4.4">𝒍</ci><ci id="S4.E4.m1.7.7.7.7.5.5.cmml" xref="S4.E4.m1.7.7.7.7.5.5">𝒆</ci><ci id="S4.E4.m1.8.8.8.8.6.6.cmml" xref="S4.E4.m1.8.8.8.8.6.6">𝒄</ci><ci id="S4.E4.m1.9.9.9.9.7.7.cmml" xref="S4.E4.m1.9.9.9.9.7.7">𝒕</ci><interval closure="open" id="S4.E4.m1.38.38.1.1.1.1.1.1.1.2.cmml"><set id="S4.E4.m1.38.38.1.1.1.1.1.1.1.1.1.4.cmml"><apply id="S4.E4.m1.38.38.1.1.1.1.1.1.1.1.1.1.1.cmml"><csymbol cd="ambiguous" id="S4.E4.m1.38.38.1.1.1.1.1.1.1.1.1.1.1.1.cmml">subscript</csymbol><ci id="S4.E4.m1.12.12.12.12.10.10.cmml" xref="S4.E4.m1.12.12.12.12.10.10">𝑎</ci><cn id="S4.E4.m1.13.13.13.13.11.11.1.cmml" type="integer" xref="S4.E4.m1.13.13.13.13.11.11.1">1</cn></apply><apply id="S4.E4.m1.38.38.1.1.1.1.1.1.1.1.1.2.2.cmml"><times id="S4.E4.m1.38.38.1.1.1.1.1.1.1.1.1.2.2.1.cmml"></times><apply id="S4.E4.m1.38.38.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><csymbol cd="ambiguous" id="S4.E4.m1.38.38.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml">subscript</csymbol><ci id="S4.E4.m1.15.15.15.15.13.13.cmml" xref="S4.E4.m1.15.15.15.15.13.13">𝑎</ci><cn id="S4.E4.m1.16.16.16.16.14.14.1.cmml" type="integer" xref="S4.E4.m1.16.16.16.16.14.14.1">2</cn></apply><ci id="S4.E4.m1.17.17.17.17.15.15.cmml" xref="S4.E4.m1.17.17.17.17.15.15">…</ci></apply><apply id="S4.E4.m1.38.38.1.1.1.1.1.1.1.1.1.3.3.cmml"><csymbol cd="ambiguous" id="S4.E4.m1.38.38.1.1.1.1.1.1.1.1.1.3.3.1.cmml">subscript</csymbol><ci id="S4.E4.m1.19.19.19.19.17.17.cmml" xref="S4.E4.m1.19.19.19.19.17.17">𝑎</ci><apply id="S4.E4.m1.20.20.20.20.18.18.1.cmml" xref="S4.E4.m1.20.20.20.20.18.18.1"><minus id="S4.E4.m1.20.20.20.20.18.18.1.1.cmml" xref="S4.E4.m1.20.20.20.20.18.18.1.1"></minus><apply id="S4.E4.m1.20.20.20.20.18.18.1.2.cmml" xref="S4.E4.m1.20.20.20.20.18.18.1.2"><times id="S4.E4.m1.20.20.20.20.18.18.1.2.1.cmml" xref="S4.E4.m1.20.20.20.20.18.18.1.2.1"></times><ci id="S4.E4.m1.20.20.20.20.18.18.1.2.2.cmml" xref="S4.E4.m1.20.20.20.20.18.18.1.2.2">𝑚</ci><ci id="S4.E4.m1.20.20.20.20.18.18.1.2.3.cmml" xref="S4.E4.m1.20.20.20.20.18.18.1.2.3">𝑡</ci></apply><cn id="S4.E4.m1.20.20.20.20.18.18.1.3.cmml" type="integer" xref="S4.E4.m1.20.20.20.20.18.18.1.3">1</cn></apply></apply></set><ci id="S4.E4.m1.23.23.23.23.21.21.cmml" xref="S4.E4.m1.23.23.23.23.21.21">𝑒</ci></interval></apply></apply><apply id="S4.E4.m1.38.38.1.1.1.2.2.cmml"><eq id="S4.E4.m1.28.28.28.3.1.1.cmml" xref="S4.E4.m1.28.28.28.3.1.1"></eq><apply id="S4.E4.m1.38.38.1.1.1.2.2.2.cmml"><csymbol cd="ambiguous" id="S4.E4.m1.38.38.1.1.1.2.2.2.1.cmml">superscript</csymbol><ci id="S4.E4.m1.26.26.26.1.1.1.cmml" xref="S4.E4.m1.26.26.26.1.1.1">𝑞</ci><times id="S4.E4.m1.27.27.27.2.2.2.1.cmml" xref="S4.E4.m1.27.27.27.2.2.2.1"></times></apply><apply id="S4.E4.m1.38.38.1.1.1.2.2.3.cmml"><times id="S4.E4.m1.38.38.1.1.1.2.2.3.1.cmml"></times><ci id="S4.E4.m1.29.29.29.4.2.2.cmml" xref="S4.E4.m1.29.29.29.4.2.2">𝑳</ci><ci id="S4.E4.m1.30.30.30.5.3.3.cmml" xref="S4.E4.m1.30.30.30.5.3.3">𝑳</ci><ci id="S4.E4.m1.31.31.31.6.4.4.cmml" xref="S4.E4.m1.31.31.31.6.4.4">𝑴</ci><interval closure="open" id="S4.E4.m1.38.38.1.1.1.2.2.3.5.cmml"><ci id="S4.E4.m1.33.33.33.8.6.6.cmml" xref="S4.E4.m1.33.33.33.8.6.6">𝑞</ci><ci id="S4.E4.m1.35.35.35.10.8.8.cmml" xref="S4.E4.m1.35.35.35.10.8.8">𝑠</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.40c">\begin{split}a^{*}&amp;=\bm{Select}(\{a_{1},a_{2}\dots,a_{mt-1}\},e),\\
q^{*}&amp;=\bm{LLM}(q,s).\end{split}</annotation><annotation encoding="application/x-llamapun" id="S4.E4.m1.40d">start_ROW start_CELL italic_a start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT end_CELL start_CELL = bold_italic_S bold_italic_e bold_italic_l bold_italic_e bold_italic_c bold_italic_t ( { italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT … , italic_a start_POSTSUBSCRIPT italic_m italic_t - 1 end_POSTSUBSCRIPT } , italic_e ) , end_CELL end_ROW start_ROW start_CELL italic_q start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT end_CELL start_CELL = bold_italic_L bold_italic_L bold_italic_M ( italic_q , italic_s ) . end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS3.p5.1">where <math alttext="\bm{Select}" class="ltx_Math" display="inline" id="S4.SS3.p5.1.m1.1"><semantics id="S4.SS3.p5.1.m1.1a"><mrow id="S4.SS3.p5.1.m1.1.1" xref="S4.SS3.p5.1.m1.1.1.cmml"><mi id="S4.SS3.p5.1.m1.1.1.2" xref="S4.SS3.p5.1.m1.1.1.2.cmml">𝑺</mi><mo id="S4.SS3.p5.1.m1.1.1.1" xref="S4.SS3.p5.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS3.p5.1.m1.1.1.3" xref="S4.SS3.p5.1.m1.1.1.3.cmml">𝒆</mi><mo id="S4.SS3.p5.1.m1.1.1.1a" xref="S4.SS3.p5.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS3.p5.1.m1.1.1.4" xref="S4.SS3.p5.1.m1.1.1.4.cmml">𝒍</mi><mo id="S4.SS3.p5.1.m1.1.1.1b" xref="S4.SS3.p5.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS3.p5.1.m1.1.1.5" xref="S4.SS3.p5.1.m1.1.1.5.cmml">𝒆</mi><mo id="S4.SS3.p5.1.m1.1.1.1c" xref="S4.SS3.p5.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS3.p5.1.m1.1.1.6" xref="S4.SS3.p5.1.m1.1.1.6.cmml">𝒄</mi><mo id="S4.SS3.p5.1.m1.1.1.1d" xref="S4.SS3.p5.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS3.p5.1.m1.1.1.7" xref="S4.SS3.p5.1.m1.1.1.7.cmml">𝒕</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.1.m1.1b"><apply id="S4.SS3.p5.1.m1.1.1.cmml" xref="S4.SS3.p5.1.m1.1.1"><times id="S4.SS3.p5.1.m1.1.1.1.cmml" xref="S4.SS3.p5.1.m1.1.1.1"></times><ci id="S4.SS3.p5.1.m1.1.1.2.cmml" xref="S4.SS3.p5.1.m1.1.1.2">𝑺</ci><ci id="S4.SS3.p5.1.m1.1.1.3.cmml" xref="S4.SS3.p5.1.m1.1.1.3">𝒆</ci><ci id="S4.SS3.p5.1.m1.1.1.4.cmml" xref="S4.SS3.p5.1.m1.1.1.4">𝒍</ci><ci id="S4.SS3.p5.1.m1.1.1.5.cmml" xref="S4.SS3.p5.1.m1.1.1.5">𝒆</ci><ci id="S4.SS3.p5.1.m1.1.1.6.cmml" xref="S4.SS3.p5.1.m1.1.1.6">𝒄</ci><ci id="S4.SS3.p5.1.m1.1.1.7.cmml" xref="S4.SS3.p5.1.m1.1.1.7">𝒕</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.1.m1.1c">\bm{Select}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p5.1.m1.1d">bold_italic_S bold_italic_e bold_italic_l bold_italic_e bold_italic_c bold_italic_t</annotation></semantics></math> is the process of finding the contextual information.</p>
</div>
<div class="ltx_para" id="S4.SS3.p6">
<p class="ltx_p" id="S4.SS3.p6.4">Upon obtaining the relevant sub-document <math alttext="d_{c}" class="ltx_Math" display="inline" id="S4.SS3.p6.1.m1.1"><semantics id="S4.SS3.p6.1.m1.1a"><msub id="S4.SS3.p6.1.m1.1.1" xref="S4.SS3.p6.1.m1.1.1.cmml"><mi id="S4.SS3.p6.1.m1.1.1.2" xref="S4.SS3.p6.1.m1.1.1.2.cmml">d</mi><mi id="S4.SS3.p6.1.m1.1.1.3" xref="S4.SS3.p6.1.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p6.1.m1.1b"><apply id="S4.SS3.p6.1.m1.1.1.cmml" xref="S4.SS3.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p6.1.m1.1.1.1.cmml" xref="S4.SS3.p6.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.p6.1.m1.1.1.2.cmml" xref="S4.SS3.p6.1.m1.1.1.2">𝑑</ci><ci id="S4.SS3.p6.1.m1.1.1.3.cmml" xref="S4.SS3.p6.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p6.1.m1.1c">d_{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p6.1.m1.1d">italic_d start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math> associated with the title <math alttext="t_{c}" class="ltx_Math" display="inline" id="S4.SS3.p6.2.m2.1"><semantics id="S4.SS3.p6.2.m2.1a"><msub id="S4.SS3.p6.2.m2.1.1" xref="S4.SS3.p6.2.m2.1.1.cmml"><mi id="S4.SS3.p6.2.m2.1.1.2" xref="S4.SS3.p6.2.m2.1.1.2.cmml">t</mi><mi id="S4.SS3.p6.2.m2.1.1.3" xref="S4.SS3.p6.2.m2.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p6.2.m2.1b"><apply id="S4.SS3.p6.2.m2.1.1.cmml" xref="S4.SS3.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p6.2.m2.1.1.1.cmml" xref="S4.SS3.p6.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.p6.2.m2.1.1.2.cmml" xref="S4.SS3.p6.2.m2.1.1.2">𝑡</ci><ci id="S4.SS3.p6.2.m2.1.1.3.cmml" xref="S4.SS3.p6.2.m2.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p6.2.m2.1c">t_{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p6.2.m2.1d">italic_t start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>, we proceed to split it into uniform chunks, <math alttext="\mathcal{C}=\{c_{1},c_{2},\dots,\\
c_{n}\}" class="ltx_Math" display="inline" id="S4.SS3.p6.3.m3.4"><semantics id="S4.SS3.p6.3.m3.4a"><mrow id="S4.SS3.p6.3.m3.4.4" xref="S4.SS3.p6.3.m3.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p6.3.m3.4.4.5" xref="S4.SS3.p6.3.m3.4.4.5.cmml">𝒞</mi><mo id="S4.SS3.p6.3.m3.4.4.4" xref="S4.SS3.p6.3.m3.4.4.4.cmml">=</mo><mrow id="S4.SS3.p6.3.m3.4.4.3.3" xref="S4.SS3.p6.3.m3.4.4.3.4.cmml"><mo id="S4.SS3.p6.3.m3.4.4.3.3.4" stretchy="false" xref="S4.SS3.p6.3.m3.4.4.3.4.cmml">{</mo><msub id="S4.SS3.p6.3.m3.2.2.1.1.1" xref="S4.SS3.p6.3.m3.2.2.1.1.1.cmml"><mi id="S4.SS3.p6.3.m3.2.2.1.1.1.2" xref="S4.SS3.p6.3.m3.2.2.1.1.1.2.cmml">c</mi><mn id="S4.SS3.p6.3.m3.2.2.1.1.1.3" xref="S4.SS3.p6.3.m3.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S4.SS3.p6.3.m3.4.4.3.3.5" xref="S4.SS3.p6.3.m3.4.4.3.4.cmml">,</mo><msub id="S4.SS3.p6.3.m3.3.3.2.2.2" xref="S4.SS3.p6.3.m3.3.3.2.2.2.cmml"><mi id="S4.SS3.p6.3.m3.3.3.2.2.2.2" xref="S4.SS3.p6.3.m3.3.3.2.2.2.2.cmml">c</mi><mn id="S4.SS3.p6.3.m3.3.3.2.2.2.3" xref="S4.SS3.p6.3.m3.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S4.SS3.p6.3.m3.4.4.3.3.6" xref="S4.SS3.p6.3.m3.4.4.3.4.cmml">,</mo><mi id="S4.SS3.p6.3.m3.1.1" mathvariant="normal" xref="S4.SS3.p6.3.m3.1.1.cmml">…</mi><mo id="S4.SS3.p6.3.m3.4.4.3.3.7" xref="S4.SS3.p6.3.m3.4.4.3.4.cmml">,</mo><msub id="S4.SS3.p6.3.m3.4.4.3.3.3" xref="S4.SS3.p6.3.m3.4.4.3.3.3.cmml"><mi id="S4.SS3.p6.3.m3.4.4.3.3.3.2" xref="S4.SS3.p6.3.m3.4.4.3.3.3.2.cmml">c</mi><mi id="S4.SS3.p6.3.m3.4.4.3.3.3.3" xref="S4.SS3.p6.3.m3.4.4.3.3.3.3.cmml">n</mi></msub><mo id="S4.SS3.p6.3.m3.4.4.3.3.8" stretchy="false" xref="S4.SS3.p6.3.m3.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p6.3.m3.4b"><apply id="S4.SS3.p6.3.m3.4.4.cmml" xref="S4.SS3.p6.3.m3.4.4"><eq id="S4.SS3.p6.3.m3.4.4.4.cmml" xref="S4.SS3.p6.3.m3.4.4.4"></eq><ci id="S4.SS3.p6.3.m3.4.4.5.cmml" xref="S4.SS3.p6.3.m3.4.4.5">𝒞</ci><set id="S4.SS3.p6.3.m3.4.4.3.4.cmml" xref="S4.SS3.p6.3.m3.4.4.3.3"><apply id="S4.SS3.p6.3.m3.2.2.1.1.1.cmml" xref="S4.SS3.p6.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p6.3.m3.2.2.1.1.1.1.cmml" xref="S4.SS3.p6.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S4.SS3.p6.3.m3.2.2.1.1.1.2.cmml" xref="S4.SS3.p6.3.m3.2.2.1.1.1.2">𝑐</ci><cn id="S4.SS3.p6.3.m3.2.2.1.1.1.3.cmml" type="integer" xref="S4.SS3.p6.3.m3.2.2.1.1.1.3">1</cn></apply><apply id="S4.SS3.p6.3.m3.3.3.2.2.2.cmml" xref="S4.SS3.p6.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.SS3.p6.3.m3.3.3.2.2.2.1.cmml" xref="S4.SS3.p6.3.m3.3.3.2.2.2">subscript</csymbol><ci id="S4.SS3.p6.3.m3.3.3.2.2.2.2.cmml" xref="S4.SS3.p6.3.m3.3.3.2.2.2.2">𝑐</ci><cn id="S4.SS3.p6.3.m3.3.3.2.2.2.3.cmml" type="integer" xref="S4.SS3.p6.3.m3.3.3.2.2.2.3">2</cn></apply><ci id="S4.SS3.p6.3.m3.1.1.cmml" xref="S4.SS3.p6.3.m3.1.1">…</ci><apply id="S4.SS3.p6.3.m3.4.4.3.3.3.cmml" xref="S4.SS3.p6.3.m3.4.4.3.3.3"><csymbol cd="ambiguous" id="S4.SS3.p6.3.m3.4.4.3.3.3.1.cmml" xref="S4.SS3.p6.3.m3.4.4.3.3.3">subscript</csymbol><ci id="S4.SS3.p6.3.m3.4.4.3.3.3.2.cmml" xref="S4.SS3.p6.3.m3.4.4.3.3.3.2">𝑐</ci><ci id="S4.SS3.p6.3.m3.4.4.3.3.3.3.cmml" xref="S4.SS3.p6.3.m3.4.4.3.3.3.3">𝑛</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p6.3.m3.4c">\mathcal{C}=\{c_{1},c_{2},\dots,\\
c_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p6.3.m3.4d">caligraphic_C = { italic_c start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_c start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>. In this phase, we prioritize semantic matching and employ a dense retriever, Contriever <cite class="ltx_cite ltx_citemacro_citep">(Izacard et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib8" title="">2021</a>)</cite>, to facilitate the process. The similarity score is calculated by computing the dot product of the vector representations of the question and each chunk. The chunk with the highest similarity score is then selected as the most relevant chunk, denoted as, <math alttext="c_{s}" class="ltx_Math" display="inline" id="S4.SS3.p6.4.m4.1"><semantics id="S4.SS3.p6.4.m4.1a"><msub id="S4.SS3.p6.4.m4.1.1" xref="S4.SS3.p6.4.m4.1.1.cmml"><mi id="S4.SS3.p6.4.m4.1.1.2" xref="S4.SS3.p6.4.m4.1.1.2.cmml">c</mi><mi id="S4.SS3.p6.4.m4.1.1.3" xref="S4.SS3.p6.4.m4.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p6.4.m4.1b"><apply id="S4.SS3.p6.4.m4.1.1.cmml" xref="S4.SS3.p6.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.p6.4.m4.1.1.1.cmml" xref="S4.SS3.p6.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.p6.4.m4.1.1.2.cmml" xref="S4.SS3.p6.4.m4.1.1.2">𝑐</ci><ci id="S4.SS3.p6.4.m4.1.1.3.cmml" xref="S4.SS3.p6.4.m4.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p6.4.m4.1c">c_{s}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p6.4.m4.1d">italic_c start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S4.SS3.p7">
<table class="ltx_equation ltx_eqn_table" id="S4.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}\{c_{1},c_{2}\dots,c_{n}\}&amp;=\bm{Spilt}(d_{c}),\\
Sim(q,c_{i})&amp;=&lt;E(q),E(c_{i})&gt;,\ \ \forall 1\leq i\leq n,\\
c_{s}&amp;=arg\max_{\mathbf{c}_{i}\in\mathcal{C}}\ Sim(q,c_{i}),\ \ \forall 1\leq i%
\leq n,\end{split}" class="ltx_math_unparsed" display="block" id="S4.E5.m1.83"><semantics id="S4.E5.m1.83a"><mtable columnspacing="0pt" displaystyle="true" id="S4.E5.m1.83.83.6" rowspacing="0pt"><mtr id="S4.E5.m1.83.83.6a"><mtd class="ltx_align_right" columnalign="right" id="S4.E5.m1.83.83.6b"><mrow id="S4.E5.m1.80.80.3.80.25.14.14"><mo id="S4.E5.m1.1.1.1.1.1.1" stretchy="false">{</mo><msub id="S4.E5.m1.78.78.1.78.23.12.12.1"><mi id="S4.E5.m1.2.2.2.2.2.2">c</mi><mn id="S4.E5.m1.3.3.3.3.3.3.1">1</mn></msub><mo id="S4.E5.m1.4.4.4.4.4.4">,</mo><mrow id="S4.E5.m1.79.79.2.79.24.13.13.2"><msub id="S4.E5.m1.79.79.2.79.24.13.13.2.2"><mi id="S4.E5.m1.5.5.5.5.5.5">c</mi><mn id="S4.E5.m1.6.6.6.6.6.6.1">2</mn></msub><mo id="S4.E5.m1.79.79.2.79.24.13.13.2.1">⁢</mo><mi id="S4.E5.m1.7.7.7.7.7.7" mathvariant="normal">…</mi></mrow><mo id="S4.E5.m1.8.8.8.8.8.8">,</mo><msub id="S4.E5.m1.80.80.3.80.25.14.14.3"><mi id="S4.E5.m1.9.9.9.9.9.9">c</mi><mi id="S4.E5.m1.10.10.10.10.10.10.1">n</mi></msub><mo id="S4.E5.m1.11.11.11.11.11.11" stretchy="false">}</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E5.m1.83.83.6c"><mrow id="S4.E5.m1.81.81.4.81.26.12.12"><mrow id="S4.E5.m1.81.81.4.81.26.12.12.1"><mi id="S4.E5.m1.81.81.4.81.26.12.12.1.2"></mi><mo id="S4.E5.m1.12.12.12.12.1.1">=</mo><mrow id="S4.E5.m1.81.81.4.81.26.12.12.1.1"><mi id="S4.E5.m1.13.13.13.13.2.2">𝑺</mi><mo id="S4.E5.m1.81.81.4.81.26.12.12.1.1.2">⁢</mo><mi id="S4.E5.m1.14.14.14.14.3.3">𝒑</mi><mo id="S4.E5.m1.81.81.4.81.26.12.12.1.1.2a">⁢</mo><mi id="S4.E5.m1.15.15.15.15.4.4">𝒊</mi><mo id="S4.E5.m1.81.81.4.81.26.12.12.1.1.2b">⁢</mo><mi id="S4.E5.m1.16.16.16.16.5.5">𝒍</mi><mo id="S4.E5.m1.81.81.4.81.26.12.12.1.1.2c">⁢</mo><mi id="S4.E5.m1.17.17.17.17.6.6">𝒕</mi><mo id="S4.E5.m1.81.81.4.81.26.12.12.1.1.2d">⁢</mo><mrow id="S4.E5.m1.81.81.4.81.26.12.12.1.1.1.1"><mo id="S4.E5.m1.18.18.18.18.7.7" stretchy="false">(</mo><msub id="S4.E5.m1.81.81.4.81.26.12.12.1.1.1.1.1"><mi id="S4.E5.m1.19.19.19.19.8.8">d</mi><mi id="S4.E5.m1.20.20.20.20.9.9.1">c</mi></msub><mo id="S4.E5.m1.21.21.21.21.10.10" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S4.E5.m1.22.22.22.22.11.11">,</mo></mrow></mtd></mtr><mtr id="S4.E5.m1.83.83.6d"><mtd class="ltx_align_right" columnalign="right" id="S4.E5.m1.83.83.6e"><mrow id="S4.E5.m1.82.82.5.82.31.10"><mi id="S4.E5.m1.23.23.23.1.1.1">S</mi><mo id="S4.E5.m1.82.82.5.82.31.10.11">⁢</mo><mi id="S4.E5.m1.24.24.24.2.2.2">i</mi><mo id="S4.E5.m1.82.82.5.82.31.10.11a">⁢</mo><mi id="S4.E5.m1.25.25.25.3.3.3">m</mi><mo id="S4.E5.m1.82.82.5.82.31.10.11b">⁢</mo><mrow id="S4.E5.m1.82.82.5.82.31.10.10.1"><mo id="S4.E5.m1.26.26.26.4.4.4" stretchy="false">(</mo><mi id="S4.E5.m1.27.27.27.5.5.5">q</mi><mo id="S4.E5.m1.28.28.28.6.6.6">,</mo><msub id="S4.E5.m1.82.82.5.82.31.10.10.1.1"><mi id="S4.E5.m1.29.29.29.7.7.7">c</mi><mi id="S4.E5.m1.30.30.30.8.8.8.1">i</mi></msub><mo id="S4.E5.m1.31.31.31.9.9.9" stretchy="false">)</mo></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E5.m1.83.83.6f"><mrow id="S4.E5.m1.52.52.52.30.21"><mo id="S4.E5.m1.32.32.32.10.1.1" rspace="0em">=</mo><mo id="S4.E5.m1.33.33.33.11.2.2" lspace="0em">&lt;</mo><mi id="S4.E5.m1.34.34.34.12.3.3">E</mi><mrow id="S4.E5.m1.52.52.52.30.21.22"><mo id="S4.E5.m1.35.35.35.13.4.4" stretchy="false">(</mo><mi id="S4.E5.m1.36.36.36.14.5.5">q</mi><mo id="S4.E5.m1.37.37.37.15.6.6" stretchy="false">)</mo></mrow><mo id="S4.E5.m1.38.38.38.16.7.7">,</mo><mi id="S4.E5.m1.39.39.39.17.8.8">E</mi><mrow id="S4.E5.m1.52.52.52.30.21.23"><mo id="S4.E5.m1.40.40.40.18.9.9" stretchy="false">(</mo><msub id="S4.E5.m1.52.52.52.30.21.23.1"><mi id="S4.E5.m1.41.41.41.19.10.10">c</mi><mi id="S4.E5.m1.42.42.42.20.11.11.1">i</mi></msub><mo id="S4.E5.m1.43.43.43.21.12.12" stretchy="false">)</mo></mrow><mo id="S4.E5.m1.44.44.44.22.13.13" rspace="0em">&gt;</mo><mo id="S4.E5.m1.45.45.45.23.14.14" rspace="1.167em">,</mo><mo id="S4.E5.m1.46.46.46.24.15.15" rspace="0.167em">∀</mo><mn id="S4.E5.m1.47.47.47.25.16.16">1</mn><mo id="S4.E5.m1.48.48.48.26.17.17">≤</mo><mi id="S4.E5.m1.49.49.49.27.18.18">i</mi><mo id="S4.E5.m1.50.50.50.28.19.19">≤</mo><mi id="S4.E5.m1.51.51.51.29.20.20">n</mi><mo id="S4.E5.m1.52.52.52.30.21.21">,</mo></mrow></mtd></mtr><mtr id="S4.E5.m1.83.83.6g"><mtd class="ltx_align_right" columnalign="right" id="S4.E5.m1.83.83.6h"><msub id="S4.E5.m1.54.54.54.2.2"><mi id="S4.E5.m1.53.53.53.1.1.1">c</mi><mi id="S4.E5.m1.54.54.54.2.2.2.1">s</mi></msub></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E5.m1.83.83.6i"><mrow id="S4.E5.m1.83.83.6.83.26.24.24"><mrow id="S4.E5.m1.83.83.6.83.26.24.24.1"><mrow id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1"><mi id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.2"></mi><mo id="S4.E5.m1.55.55.55.3.1.1">=</mo><mrow id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1"><mi id="S4.E5.m1.56.56.56.4.2.2">a</mi><mo id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1.2">⁢</mo><mi id="S4.E5.m1.57.57.57.5.3.3">r</mi><mo id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1.2a">⁢</mo><mi id="S4.E5.m1.58.58.58.6.4.4">g</mi><mo id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1.2b" lspace="0.167em">⁢</mo><mrow id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1.3"><munder id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1.3.1"><mi id="S4.E5.m1.59.59.59.7.5.5">max</mi><mrow id="S4.E5.m1.60.60.60.8.6.6.1"><msub id="S4.E5.m1.60.60.60.8.6.6.1.2"><mi id="S4.E5.m1.60.60.60.8.6.6.1.2.2">𝐜</mi><mi id="S4.E5.m1.60.60.60.8.6.6.1.2.3">i</mi></msub><mo id="S4.E5.m1.60.60.60.8.6.6.1.1">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E5.m1.60.60.60.8.6.6.1.3">𝒞</mi></mrow></munder><mo id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1.3a" lspace="0.167em">⁡</mo><mrow id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1.3.2"><mi id="S4.E5.m1.61.61.61.9.7.7">S</mi><mo id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1.3.2.1">⁢</mo><mi id="S4.E5.m1.62.62.62.10.8.8">i</mi><mo id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1.3.2.1a">⁢</mo><mi id="S4.E5.m1.63.63.63.11.9.9">m</mi></mrow></mrow><mo id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1.2c">⁢</mo><mrow id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1.1.1"><mo id="S4.E5.m1.64.64.64.12.10.10" stretchy="false">(</mo><mi id="S4.E5.m1.65.65.65.13.11.11">q</mi><mo id="S4.E5.m1.66.66.66.14.12.12">,</mo><msub id="S4.E5.m1.83.83.6.83.26.24.24.1.1.1.1.1.1.1"><mi id="S4.E5.m1.67.67.67.15.13.13">c</mi><mi id="S4.E5.m1.68.68.68.16.14.14.1">i</mi></msub><mo id="S4.E5.m1.69.69.69.17.15.15" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S4.E5.m1.70.70.70.18.16.16" rspace="1.167em">,</mo><mrow id="S4.E5.m1.83.83.6.83.26.24.24.1.2.2"><mrow id="S4.E5.m1.83.83.6.83.26.24.24.1.2.2.2"><mo id="S4.E5.m1.71.71.71.19.17.17" rspace="0.167em">∀</mo><mn id="S4.E5.m1.72.72.72.20.18.18">1</mn></mrow><mo id="S4.E5.m1.73.73.73.21.19.19">≤</mo><mi id="S4.E5.m1.74.74.74.22.20.20">i</mi><mo id="S4.E5.m1.75.75.75.23.21.21">≤</mo><mi id="S4.E5.m1.76.76.76.24.22.22">n</mi></mrow></mrow><mo id="S4.E5.m1.77.77.77.25.23.23">,</mo></mrow></mtd></mtr></mtable><annotation encoding="application/x-tex" id="S4.E5.m1.83b">\begin{split}\{c_{1},c_{2}\dots,c_{n}\}&amp;=\bm{Spilt}(d_{c}),\\
Sim(q,c_{i})&amp;=&lt;E(q),E(c_{i})&gt;,\ \ \forall 1\leq i\leq n,\\
c_{s}&amp;=arg\max_{\mathbf{c}_{i}\in\mathcal{C}}\ Sim(q,c_{i}),\ \ \forall 1\leq i%
\leq n,\end{split}</annotation><annotation encoding="application/x-llamapun" id="S4.E5.m1.83c">start_ROW start_CELL { italic_c start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT … , italic_c start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT } end_CELL start_CELL = bold_italic_S bold_italic_p bold_italic_i bold_italic_l bold_italic_t ( italic_d start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ) , end_CELL end_ROW start_ROW start_CELL italic_S italic_i italic_m ( italic_q , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_CELL start_CELL = &lt; italic_E ( italic_q ) , italic_E ( italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) &gt; , ∀ 1 ≤ italic_i ≤ italic_n , end_CELL end_ROW start_ROW start_CELL italic_c start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT end_CELL start_CELL = italic_a italic_r italic_g roman_max start_POSTSUBSCRIPT bold_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_C end_POSTSUBSCRIPT italic_S italic_i italic_m ( italic_q , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) , ∀ 1 ≤ italic_i ≤ italic_n , end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS3.p7.1">where <math alttext="\bm{Spilt}" class="ltx_Math" display="inline" id="S4.SS3.p7.1.m1.1"><semantics id="S4.SS3.p7.1.m1.1a"><mrow id="S4.SS3.p7.1.m1.1.1" xref="S4.SS3.p7.1.m1.1.1.cmml"><mi id="S4.SS3.p7.1.m1.1.1.2" xref="S4.SS3.p7.1.m1.1.1.2.cmml">𝑺</mi><mo id="S4.SS3.p7.1.m1.1.1.1" xref="S4.SS3.p7.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS3.p7.1.m1.1.1.3" xref="S4.SS3.p7.1.m1.1.1.3.cmml">𝒑</mi><mo id="S4.SS3.p7.1.m1.1.1.1a" xref="S4.SS3.p7.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS3.p7.1.m1.1.1.4" xref="S4.SS3.p7.1.m1.1.1.4.cmml">𝒊</mi><mo id="S4.SS3.p7.1.m1.1.1.1b" xref="S4.SS3.p7.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS3.p7.1.m1.1.1.5" xref="S4.SS3.p7.1.m1.1.1.5.cmml">𝒍</mi><mo id="S4.SS3.p7.1.m1.1.1.1c" xref="S4.SS3.p7.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS3.p7.1.m1.1.1.6" xref="S4.SS3.p7.1.m1.1.1.6.cmml">𝒕</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p7.1.m1.1b"><apply id="S4.SS3.p7.1.m1.1.1.cmml" xref="S4.SS3.p7.1.m1.1.1"><times id="S4.SS3.p7.1.m1.1.1.1.cmml" xref="S4.SS3.p7.1.m1.1.1.1"></times><ci id="S4.SS3.p7.1.m1.1.1.2.cmml" xref="S4.SS3.p7.1.m1.1.1.2">𝑺</ci><ci id="S4.SS3.p7.1.m1.1.1.3.cmml" xref="S4.SS3.p7.1.m1.1.1.3">𝒑</ci><ci id="S4.SS3.p7.1.m1.1.1.4.cmml" xref="S4.SS3.p7.1.m1.1.1.4">𝒊</ci><ci id="S4.SS3.p7.1.m1.1.1.5.cmml" xref="S4.SS3.p7.1.m1.1.1.5">𝒍</ci><ci id="S4.SS3.p7.1.m1.1.1.6.cmml" xref="S4.SS3.p7.1.m1.1.1.6">𝒕</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p7.1.m1.1c">\bm{Spilt}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p7.1.m1.1d">bold_italic_S bold_italic_p bold_italic_i bold_italic_l bold_italic_t</annotation></semantics></math> is the process of dividing the documents into many chunks and n is the number of chunks.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Filter</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.7">Even the most advanced retrieval engines can struggle to consistently retrieve the most accurate content. To mitigate the impact of potential retrieval engine errors, we utilize a specialized filter. This filter is designed to evaluate retrieval results and refine the retrieval engine through a series of iterative adjustments when inaccuracies are detected.
Upon receiving the results from the retrieval engine <math alttext="c_{s}" class="ltx_Math" display="inline" id="S4.SS4.p1.1.m1.1"><semantics id="S4.SS4.p1.1.m1.1a"><msub id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml"><mi id="S4.SS4.p1.1.m1.1.1.2" xref="S4.SS4.p1.1.m1.1.1.2.cmml">c</mi><mi id="S4.SS4.p1.1.m1.1.1.3" xref="S4.SS4.p1.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><apply id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.1.m1.1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS4.p1.1.m1.1.1.2.cmml" xref="S4.SS4.p1.1.m1.1.1.2">𝑐</ci><ci id="S4.SS4.p1.1.m1.1.1.3.cmml" xref="S4.SS4.p1.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">c_{s}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.1.m1.1d">italic_c start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="p^{*}" class="ltx_Math" display="inline" id="S4.SS4.p1.2.m2.1"><semantics id="S4.SS4.p1.2.m2.1a"><msup id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml"><mi id="S4.SS4.p1.2.m2.1.1.2" xref="S4.SS4.p1.2.m2.1.1.2.cmml">p</mi><mo id="S4.SS4.p1.2.m2.1.1.3" xref="S4.SS4.p1.2.m2.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b"><apply id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.2.m2.1.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1">superscript</csymbol><ci id="S4.SS4.p1.2.m2.1.1.2.cmml" xref="S4.SS4.p1.2.m2.1.1.2">𝑝</ci><times id="S4.SS4.p1.2.m2.1.1.3.cmml" xref="S4.SS4.p1.2.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">p^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.2.m2.1d">italic_p start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math>, and the sub-question, <math alttext="q" class="ltx_Math" display="inline" id="S4.SS4.p1.3.m3.1"><semantics id="S4.SS4.p1.3.m3.1a"><mi id="S4.SS4.p1.3.m3.1.1" xref="S4.SS4.p1.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.3.m3.1b"><ci id="S4.SS4.p1.3.m3.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.3.m3.1c">q</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.3.m3.1d">italic_q</annotation></semantics></math>, generated by the Decomposer, we first attempt to leverage a <math alttext="\bm{LLM}" class="ltx_Math" display="inline" id="S4.SS4.p1.4.m4.1"><semantics id="S4.SS4.p1.4.m4.1a"><mrow id="S4.SS4.p1.4.m4.1.1" xref="S4.SS4.p1.4.m4.1.1.cmml"><mi id="S4.SS4.p1.4.m4.1.1.2" xref="S4.SS4.p1.4.m4.1.1.2.cmml">𝑳</mi><mo id="S4.SS4.p1.4.m4.1.1.1" xref="S4.SS4.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS4.p1.4.m4.1.1.3" xref="S4.SS4.p1.4.m4.1.1.3.cmml">𝑳</mi><mo id="S4.SS4.p1.4.m4.1.1.1a" xref="S4.SS4.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS4.p1.4.m4.1.1.4" xref="S4.SS4.p1.4.m4.1.1.4.cmml">𝑴</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.4.m4.1b"><apply id="S4.SS4.p1.4.m4.1.1.cmml" xref="S4.SS4.p1.4.m4.1.1"><times id="S4.SS4.p1.4.m4.1.1.1.cmml" xref="S4.SS4.p1.4.m4.1.1.1"></times><ci id="S4.SS4.p1.4.m4.1.1.2.cmml" xref="S4.SS4.p1.4.m4.1.1.2">𝑳</ci><ci id="S4.SS4.p1.4.m4.1.1.3.cmml" xref="S4.SS4.p1.4.m4.1.1.3">𝑳</ci><ci id="S4.SS4.p1.4.m4.1.1.4.cmml" xref="S4.SS4.p1.4.m4.1.1.4">𝑴</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.4.m4.1c">\bm{LLM}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.4.m4.1d">bold_italic_L bold_italic_L bold_italic_M</annotation></semantics></math> to generate a response, <math alttext="r" class="ltx_Math" display="inline" id="S4.SS4.p1.5.m5.1"><semantics id="S4.SS4.p1.5.m5.1a"><mi id="S4.SS4.p1.5.m5.1.1" xref="S4.SS4.p1.5.m5.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.5.m5.1b"><ci id="S4.SS4.p1.5.m5.1.1.cmml" xref="S4.SS4.p1.5.m5.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.5.m5.1c">r</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.5.m5.1d">italic_r</annotation></semantics></math>. The model then assesses whether the current sub-question, <math alttext="q" class="ltx_Math" display="inline" id="S4.SS4.p1.6.m6.1"><semantics id="S4.SS4.p1.6.m6.1a"><mi id="S4.SS4.p1.6.m6.1.1" xref="S4.SS4.p1.6.m6.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.6.m6.1b"><ci id="S4.SS4.p1.6.m6.1.1.cmml" xref="S4.SS4.p1.6.m6.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.6.m6.1c">q</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.6.m6.1d">italic_q</annotation></semantics></math> can be resolved based on the response, <math alttext="r" class="ltx_Math" display="inline" id="S4.SS4.p1.7.m7.1"><semantics id="S4.SS4.p1.7.m7.1a"><mi id="S4.SS4.p1.7.m7.1.1" xref="S4.SS4.p1.7.m7.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.7.m7.1b"><ci id="S4.SS4.p1.7.m7.1.1.cmml" xref="S4.SS4.p1.7.m7.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.7.m7.1c">r</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.7.m7.1d">italic_r</annotation></semantics></math>.</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}r=\bm{LLM}(q,c_{s},p*).\end{split}" class="ltx_math_unparsed" display="block" id="S4.E6.m1.15"><semantics id="S4.E6.m1.15a"><mtable displaystyle="true" id="S4.E6.m1.15.15"><mtr id="S4.E6.m1.15.15a"><mtd class="ltx_align_right" columnalign="right" id="S4.E6.m1.15.15b"><mrow id="S4.E6.m1.15.15.15.15.15"><mi id="S4.E6.m1.1.1.1.1.1.1">r</mi><mo id="S4.E6.m1.2.2.2.2.2.2">=</mo><mi id="S4.E6.m1.3.3.3.3.3.3">𝑳</mi><mi id="S4.E6.m1.4.4.4.4.4.4">𝑳</mi><mi id="S4.E6.m1.5.5.5.5.5.5">𝑴</mi><mrow id="S4.E6.m1.15.15.15.15.15.16"><mo id="S4.E6.m1.6.6.6.6.6.6" stretchy="false">(</mo><mi id="S4.E6.m1.7.7.7.7.7.7">q</mi><mo id="S4.E6.m1.8.8.8.8.8.8">,</mo><msub id="S4.E6.m1.15.15.15.15.15.16.1"><mi id="S4.E6.m1.9.9.9.9.9.9">c</mi><mi id="S4.E6.m1.10.10.10.10.10.10.1">s</mi></msub><mo id="S4.E6.m1.11.11.11.11.11.11">,</mo><mi id="S4.E6.m1.12.12.12.12.12.12">p</mi><mo id="S4.E6.m1.13.13.13.13.13.13" lspace="0.222em" rspace="0em">∗</mo><mo id="S4.E6.m1.14.14.14.14.14.14" stretchy="false">)</mo></mrow><mo id="S4.E6.m1.15.15.15.15.15.15" lspace="0em">.</mo></mrow></mtd></mtr></mtable><annotation encoding="application/x-tex" id="S4.E6.m1.15b">\begin{split}r=\bm{LLM}(q,c_{s},p*).\end{split}</annotation><annotation encoding="application/x-llamapun" id="S4.E6.m1.15c">start_ROW start_CELL italic_r = bold_italic_L bold_italic_L bold_italic_M ( italic_q , italic_c start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT , italic_p ∗ ) . end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS4.p1.9">If the question can be solved, the Filter passes <math alttext="r" class="ltx_Math" display="inline" id="S4.SS4.p1.8.m1.1"><semantics id="S4.SS4.p1.8.m1.1a"><mi id="S4.SS4.p1.8.m1.1.1" xref="S4.SS4.p1.8.m1.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.8.m1.1b"><ci id="S4.SS4.p1.8.m1.1.1.cmml" xref="S4.SS4.p1.8.m1.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.8.m1.1c">r</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.8.m1.1d">italic_r</annotation></semantics></math> as the answer, <math alttext="a" class="ltx_Math" display="inline" id="S4.SS4.p1.9.m2.1"><semantics id="S4.SS4.p1.9.m2.1a"><mi id="S4.SS4.p1.9.m2.1.1" xref="S4.SS4.p1.9.m2.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.9.m2.1b"><ci id="S4.SS4.p1.9.m2.1.1.cmml" xref="S4.SS4.p1.9.m2.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.9.m2.1c">a</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.9.m2.1d">italic_a</annotation></semantics></math>, to the sub-question to the Decomposer.
However, when faced with an unresolvable question, the Filter triggers <span class="ltx_text ltx_font_bold" id="S4.SS4.p1.9.1">a two-tiered rethinking retrieval process</span>, encompassing both chunk-level retrieval and document-level retrieval to facilitate a more comprehensive search.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.2">Initially, if the Filter determines that the problem cannot be resolved, it initiates a rethink at the chunk level. During this phase, the result, <math alttext="{d_{c}}" class="ltx_Math" display="inline" id="S4.SS4.p2.1.m1.1"><semantics id="S4.SS4.p2.1.m1.1a"><msub id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml"><mi id="S4.SS4.p2.1.m1.1.1.2" xref="S4.SS4.p2.1.m1.1.1.2.cmml">d</mi><mi id="S4.SS4.p2.1.m1.1.1.3" xref="S4.SS4.p2.1.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><apply id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.1.m1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS4.p2.1.m1.1.1.2.cmml" xref="S4.SS4.p2.1.m1.1.1.2">𝑑</ci><ci id="S4.SS4.p2.1.m1.1.1.3.cmml" xref="S4.SS4.p2.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">{d_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.1.m1.1d">italic_d start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>, from the first-tier retrieval by the retriever remains unchanged. Instead, modifications are made to the second tier of the retriever, sequentially selecting chunks with higher similarity scores from the divided chunks. This approach is particularly effective when the correct entity information and corresponding references are identified, but the specific chunk required to resolve the problem is not found.
If the chunk-level rethink proves unsuccessful, the process escalates to the document level. At this level, adjustments are made to the first level of the retriever by selecting titles with higher similarity to the entity, <math alttext="{e}" class="ltx_Math" display="inline" id="S4.SS4.p2.2.m2.1"><semantics id="S4.SS4.p2.2.m2.1a"><mi id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><ci id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">{e}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.2.m2.1d">italic_e</annotation></semantics></math>, from the candidate titles.
Notably, this two-tiered rethink process operates as a nested loop, where each higher-level rethink informs and drives the lower-level rethinks, ensuring a comprehensive and systematic approach to problem-solving.
Concurrently, we also address the issue of knowledge balance during the retrieval process. The rapid advancement of LLMs has led to a significant increase in the quantity and quality of their internal knowledge. As a result, a critical challenge in RAG emerges: striking a balance between the external knowledge retrieved and the internal knowledge of the model. While previous research <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib26" title="">2024a</a>)</cite> has focused on developing classifiers to tackle this challenge, we propose a novel and straightforward approach. By passing the number of filter rethinks as a parameter to the classifier, we observe that as the number of rethinks increases, the semantic similarity between the model and the retrieved content generally decreases.</p>
</div>
<div class="ltx_para" id="S4.SS4.p3">
<p class="ltx_p" id="S4.SS4.p3.3">In the context of the sub-question, <math alttext="q" class="ltx_Math" display="inline" id="S4.SS4.p3.1.m1.1"><semantics id="S4.SS4.p3.1.m1.1a"><mi id="S4.SS4.p3.1.m1.1.1" xref="S4.SS4.p3.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.1b"><ci id="S4.SS4.p3.1.m1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.1.m1.1d">italic_q</annotation></semantics></math>, if the retrieved result after the <math alttext="t" class="ltx_Math" display="inline" id="S4.SS4.p3.2.m2.1"><semantics id="S4.SS4.p3.2.m2.1a"><mi id="S4.SS4.p3.2.m2.1.1" xref="S4.SS4.p3.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.2.m2.1b"><ci id="S4.SS4.p3.2.m2.1.1.cmml" xref="S4.SS4.p3.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.2.m2.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.2.m2.1d">italic_t</annotation></semantics></math>-th round of rethink fails to yield an answer, we propose incorporating a probability <math alttext="y" class="ltx_Math" display="inline" id="S4.SS4.p3.3.m3.1"><semantics id="S4.SS4.p3.3.m3.1a"><mi id="S4.SS4.p3.3.m3.1.1" xref="S4.SS4.p3.3.m3.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.3.m3.1b"><ci id="S4.SS4.p3.3.m3.1.1.cmml" xref="S4.SS4.p3.3.m3.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.3.m3.1c">y</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.3.m3.1d">italic_y</annotation></semantics></math> of leveraging the internal knowledge of the model to address the question.</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}y=\left(\frac{t}{m}\right)^{2}.\end{split}" class="ltx_Math" display="block" id="S4.E7.m1.9"><semantics id="S4.E7.m1.9a"><mtable displaystyle="true" id="S4.E7.m1.9.9.2"><mtr id="S4.E7.m1.9.9.2a"><mtd class="ltx_align_right" columnalign="right" id="S4.E7.m1.9.9.2b"><mrow id="S4.E7.m1.9.9.2.8.8.8.8"><mrow id="S4.E7.m1.9.9.2.8.8.8.8.1"><mi id="S4.E7.m1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.cmml">y</mi><mo id="S4.E7.m1.2.2.2.2.2.2" xref="S4.E7.m1.2.2.2.2.2.2.cmml">=</mo><msup id="S4.E7.m1.9.9.2.8.8.8.8.1.1"><mrow id="S4.E7.m1.9.9.2.8.8.8.8.1.1.2"><mo id="S4.E7.m1.3.3.3.3.3.3" xref="S4.E7.m1.8.8.1.1.1.cmml">(</mo><mfrac id="S4.E7.m1.4.4.4.4.4.4" xref="S4.E7.m1.4.4.4.4.4.4.cmml"><mi id="S4.E7.m1.4.4.4.4.4.4.2" xref="S4.E7.m1.4.4.4.4.4.4.2.cmml">t</mi><mi id="S4.E7.m1.4.4.4.4.4.4.3" xref="S4.E7.m1.4.4.4.4.4.4.3.cmml">m</mi></mfrac><mo id="S4.E7.m1.5.5.5.5.5.5" xref="S4.E7.m1.8.8.1.1.1.cmml">)</mo></mrow><mn id="S4.E7.m1.6.6.6.6.6.6.1" xref="S4.E7.m1.6.6.6.6.6.6.1.cmml">2</mn></msup></mrow><mo id="S4.E7.m1.7.7.7.7.7.7" lspace="0em" xref="S4.E7.m1.8.8.1.1.1.cmml">.</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E7.m1.9b"><apply id="S4.E7.m1.8.8.1.1.1.cmml" xref="S4.E7.m1.3.3.3.3.3.3"><eq id="S4.E7.m1.2.2.2.2.2.2.cmml" xref="S4.E7.m1.2.2.2.2.2.2"></eq><ci id="S4.E7.m1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1">𝑦</ci><apply id="S4.E7.m1.8.8.1.1.1.3.cmml" xref="S4.E7.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.1.1.1.3.1.cmml" xref="S4.E7.m1.3.3.3.3.3.3">superscript</csymbol><apply id="S4.E7.m1.4.4.4.4.4.4.cmml" xref="S4.E7.m1.4.4.4.4.4.4"><divide id="S4.E7.m1.4.4.4.4.4.4.1.cmml" xref="S4.E7.m1.4.4.4.4.4.4"></divide><ci id="S4.E7.m1.4.4.4.4.4.4.2.cmml" xref="S4.E7.m1.4.4.4.4.4.4.2">𝑡</ci><ci id="S4.E7.m1.4.4.4.4.4.4.3.cmml" xref="S4.E7.m1.4.4.4.4.4.4.3">𝑚</ci></apply><cn id="S4.E7.m1.6.6.6.6.6.6.1.cmml" type="integer" xref="S4.E7.m1.6.6.6.6.6.6.1">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.9c">\begin{split}y=\left(\frac{t}{m}\right)^{2}.\end{split}</annotation><annotation encoding="application/x-llamapun" id="S4.E7.m1.9d">start_ROW start_CELL italic_y = ( divide start_ARG italic_t end_ARG start_ARG italic_m end_ARG ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT . end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS4.p3.7">where <math alttext="m" class="ltx_Math" display="inline" id="S4.SS4.p3.4.m1.1"><semantics id="S4.SS4.p3.4.m1.1a"><mi id="S4.SS4.p3.4.m1.1.1" xref="S4.SS4.p3.4.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.4.m1.1b"><ci id="S4.SS4.p3.4.m1.1.1.cmml" xref="S4.SS4.p3.4.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.4.m1.1c">m</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.4.m1.1d">italic_m</annotation></semantics></math> is a hyperparameter and <math alttext="t" class="ltx_Math" display="inline" id="S4.SS4.p3.5.m2.1"><semantics id="S4.SS4.p3.5.m2.1a"><mi id="S4.SS4.p3.5.m2.1.1" xref="S4.SS4.p3.5.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.5.m2.1b"><ci id="S4.SS4.p3.5.m2.1.1.cmml" xref="S4.SS4.p3.5.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.5.m2.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.5.m2.1d">italic_t</annotation></semantics></math> is the round of rethink.
In our experiment, the maximum number of retrievals is set to 4, where the value of <math alttext="m" class="ltx_Math" display="inline" id="S4.SS4.p3.6.m3.1"><semantics id="S4.SS4.p3.6.m3.1a"><mi id="S4.SS4.p3.6.m3.1.1" xref="S4.SS4.p3.6.m3.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.6.m3.1b"><ci id="S4.SS4.p3.6.m3.1.1.cmml" xref="S4.SS4.p3.6.m3.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.6.m3.1c">m</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.6.m3.1d">italic_m</annotation></semantics></math> we employ is 5. We recommend that <math alttext="m" class="ltx_Math" display="inline" id="S4.SS4.p3.7.m4.1"><semantics id="S4.SS4.p3.7.m4.1a"><mi id="S4.SS4.p3.7.m4.1.1" xref="S4.SS4.p3.7.m4.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.7.m4.1b"><ci id="S4.SS4.p3.7.m4.1.1.cmml" xref="S4.SS4.p3.7.m4.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.7.m4.1c">m</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.7.m4.1d">italic_m</annotation></semantics></math> be greater than or equal to the maximum number of retrievals. This choice is the result of a trade-off. On one hand, the model should not abandon retrieval and resort to its internal knowledge too hastily, as the reliability of internal knowledge cannot be guaranteed. On the other hand, it should also ensure that when external knowledge is suboptimal and the retrieval method fails, it can attempt to utilize uncertain internal knowledge to provide an answer.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2. </span>
Experimental results on four datasets. Without retrieval means only using the internal knowledge of LLM while With retrieval means using the external knowledge from the retriever. HiRAG is divided into HiRAG (online) and HiRAG (local) according to whether it uses Google for retrieval after semantic supplementation. The best results are in bold.
</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T2.1" style="width:433.6pt;height:130.4pt;vertical-align:-0.5pt;"><span class="ltx_transformed_inner" style="transform:translate(-203.8pt,61.0pt) scale(0.515480559028194,0.515480559028194) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T2.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.1.1.1.1">
<td class="ltx_td ltx_border_tt" id="S4.T2.1.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_border_tt" id="S4.T2.1.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S4.T2.1.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.1.3.1">HotpotQA</span>
</td>
<td class="ltx_td ltx_border_tt" id="S4.T2.1.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S4.T2.1.1.1.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.1.5.1">2WikiMultihopQA</span></td>
<td class="ltx_td ltx_border_tt" id="S4.T2.1.1.1.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S4.T2.1.1.1.1.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.1.7.1">MuSiQue</span></td>
<td class="ltx_td ltx_border_tt" id="S4.T2.1.1.1.1.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S4.T2.1.1.1.1.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.1.9.1">Bamboogle</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.2.2">
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.2.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.1.1">Settings</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.2.1">Models</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.3.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.4.1">F1</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.5.1">Precision</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.6.1">Recall</span></td>
<td class="ltx_td" id="S4.T2.1.1.2.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.8.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.9.1">F1</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.10" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.10.1">Precision</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.11.1">Recall</span></td>
<td class="ltx_td ltx_border_t" id="S4.T2.1.1.2.2.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.13" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.13.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.14" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.14.1">F1</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.15" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.15.1">Precision</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.16.1">Recall</span></td>
<td class="ltx_td ltx_border_t" id="S4.T2.1.1.2.2.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.18" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.18.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.19" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.19.1">F1</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.2.2.20" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.20.1">Precision</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.2.2.21" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.21.1">Recall</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.3.3">
<td class="ltx_td ltx_border_t" id="S4.T2.1.1.3.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">Direct</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">24.00</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">31.18</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">35.51</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">29.58</td>
<td class="ltx_td ltx_border_t" id="S4.T2.1.1.3.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">24.20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">29.21</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">31.72</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">28.48</td>
<td class="ltx_td ltx_border_t" id="S4.T2.1.1.3.3.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.15</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">9.87</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.20</td>
<td class="ltx_td ltx_border_t" id="S4.T2.1.1.3.3.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">18.53</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">19.47</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.3.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">18.00</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.4.4">
<td class="ltx_td" id="S4.T2.1.1.4.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">CoT</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">31.80</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">43.16</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">44.14</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">45.34</td>
<td class="ltx_td" id="S4.T2.1.1.4.4.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">26.80</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">35.26</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">34.14</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">39.32</td>
<td class="ltx_td" id="S4.T2.1.1.4.4.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.20</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">19.07</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">19.91</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">20.84</td>
<td class="ltx_td" id="S4.T2.1.1.4.4.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.80</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.97</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">65.32</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.4.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">67.47</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.5.5">
<td class="ltx_td" id="S4.T2.1.1.5.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">CoT-SC</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">33.40</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">44.95</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">45.61</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">47.65</td>
<td class="ltx_td" id="S4.T2.1.1.5.5.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">29.00</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">36.62</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">35.62</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.21</td>
<td class="ltx_td" id="S4.T2.1.1.5.5.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">10.00</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">20.33</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.10</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.89</td>
<td class="ltx_td" id="S4.T2.1.1.5.5.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.80</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.55</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.83</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.5.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.30</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.6.6">
<td class="ltx_td" id="S4.T2.1.1.6.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">Self-Ask w/o Ret</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">26.40</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">37.82</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">38.54</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">41.07</td>
<td class="ltx_td" id="S4.T2.1.1.6.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">28.80</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">37.50</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">36.77</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.50</td>
<td class="ltx_td" id="S4.T2.1.1.6.6.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">9.20</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">19.29</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">19.36</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">22.22</td>
<td class="ltx_td" id="S4.T2.1.1.6.6.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">51.20</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">59.05</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">58.92</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.6.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">60.80</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.7.7">
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.7.7.1.1">W/O retrieval</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.7.7.2.1">HiRAG w/o Ret</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">36.40</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">47.46</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">49.39</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">48.07</td>
<td class="ltx_td" id="S4.T2.1.1.7.7.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">37.20</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">46.24</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">45.08</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">49.23</td>
<td class="ltx_td" id="S4.T2.1.1.7.7.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.20</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.22</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">26.82</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.78</td>
<td class="ltx_td" id="S4.T2.1.1.7.7.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.18" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.7.7.18.1">60.80</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">69.95</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">69.66</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.7.7.21" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.7.7.21.1">71.57</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.8.8">
<td class="ltx_td ltx_border_t" id="S4.T2.1.1.8.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">Direct</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">24.40</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">35.00</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">41.48</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">33.00</td>
<td class="ltx_td ltx_border_t" id="S4.T2.1.1.8.8.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">29.40</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">38.50</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">37.57</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">41.90</td>
<td class="ltx_td ltx_border_t" id="S4.T2.1.1.8.8.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">10.30</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.91</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">9.14</td>
<td class="ltx_td ltx_border_t" id="S4.T2.1.1.8.8.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">19.20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">27.23</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">31.60</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.8.8.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.53</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.9.9">
<td class="ltx_td" id="S4.T2.1.1.9.9.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">ReAct</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.20</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">32.68</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">33.85</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">33.17</td>
<td class="ltx_td" id="S4.T2.1.1.9.9.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.20</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">30.98</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">30.81</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">32.25</td>
<td class="ltx_td" id="S4.T2.1.1.9.9.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.80</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.17</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.11</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.67</td>
<td class="ltx_td" id="S4.T2.1.1.9.9.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">20.00</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">24.09</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.63</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.9.9.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">23.63</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.10.10">
<td class="ltx_td" id="S4.T2.1.1.10.10.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">Self-Ask</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.60</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">36.04</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">37.15</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">38.96</td>
<td class="ltx_td" id="S4.T2.1.1.10.10.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">35.00</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">46.42</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">45.26</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.99</td>
<td class="ltx_td" id="S4.T2.1.1.10.10.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.20</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">12.95</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">12.58</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.51</td>
<td class="ltx_td" id="S4.T2.1.1.10.10.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.80</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">49.62</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">49.34</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.10.10.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.43</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.11.11">
<td class="ltx_td" id="S4.T2.1.1.11.11.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">Flare</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">41.60</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.37</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">56.32</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">55.54</td>
<td class="ltx_td" id="S4.T2.1.1.11.11.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.60</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.05</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.34</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.07</td>
<td class="ltx_td" id="S4.T2.1.1.11.11.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.39</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.14" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.11.11.14.1">26.22</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.15" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.11.11.15.1">27.72</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">27.51</td>
<td class="ltx_td" id="S4.T2.1.1.11.11.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">46.34</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.71</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.50</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.11.11.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">58.27</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.12.12">
<td class="ltx_td" id="S4.T2.1.1.12.12.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">MetaRAG</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">36.80</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">48.43</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.41</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">49.16</td>
<td class="ltx_td" id="S4.T2.1.1.12.12.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">23.15</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">30.38</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">29.79</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">32.52</td>
<td class="ltx_td" id="S4.T2.1.1.12.12.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.40</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">17.23</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">18.64</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">18.25</td>
<td class="ltx_td" id="S4.T2.1.1.12.12.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">23.20</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">30.36</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">31.20</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.12.12.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">30.33</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.13.13">
<td class="ltx_td" id="S4.T2.1.1.13.13.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.13.13.2.1">HiRAG (online)</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.48</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.51</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.98</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.70</td>
<td class="ltx_td" id="S4.T2.1.1.13.13.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.38</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.13.13.9.1">65.30</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.10" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.13.13.10.1">63.22</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.22</td>
<td class="ltx_td" id="S4.T2.1.1.13.13.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.13" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.13.13.13.1">14.65</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">26.03</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">26.58</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.13.13.16.1">28.15</span></td>
<td class="ltx_td" id="S4.T2.1.1.13.13.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">60.00</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.19" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.13.13.19.1">70.34</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.20" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.13.13.20.1">70.68</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.13.13.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">71.50</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.14.14">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.14.14.1.1">W/ retrieval</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.14.14.2.1">HiRAG (local)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.14.14.3.1">42.52</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.14.14.4.1">54.98</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.14.14.5.1">57.16</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.14.14.6.1">57.16</span></td>
<td class="ltx_td ltx_border_bb" id="S4.T2.1.1.14.14.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.14.14.8.1">52.29</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.95</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.99</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.14.14.11.1">70.27</span></td>
<td class="ltx_td ltx_border_bb" id="S4.T2.1.1.14.14.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">11.11</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.99</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.89</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.72</td>
<td class="ltx_td ltx_border_bb" id="S4.T2.1.1.14.14.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.17</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.79</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">65.81</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.14.14.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">66.27</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S4.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3. </span>
Result of substitution of different LLMs as the backbone, i.e. the icon of ChatGPT in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S3.F4" title="Figure 4 ‣ 3. INDEXED WIKICORPUS AND PROFILE WIKICORPUS ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">4</span></a>. The best results are in bold.
</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T3.1" style="width:433.6pt;height:89.5pt;vertical-align:-4.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-243.6pt,47.6pt) scale(0.470884719381806,0.470884719381806) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T3.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.1.1.1.1">
<td class="ltx_td ltx_border_tt" id="S4.T3.1.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<th class="ltx_td ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S4.T3.1.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.1.1.3.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.1.3.1.1">HotpotQA</span></span></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S4.T3.1.1.1.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.1.1.5.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.1.5.1.1">2WikiMultihopQA</span></span></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S4.T3.1.1.1.1.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.1.7.1">MiSiQue</span></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.1.1.1.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S4.T3.1.1.1.1.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.1.9.1">Bamgoole</span></th>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.2.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.1.1">Online or local</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.2.2.2.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.2.1.1">LLMs</span></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.3.1">EM</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.4.1">F1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.5.1">Precision</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.6.1">Recall</span></th>
<th class="ltx_td ltx_th ltx_th_column" id="S4.T3.1.1.2.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.8.1">EM</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.9.1">F1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.10" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.10.1">Precision</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.11.1">Recall</span></th>
<th class="ltx_td ltx_th ltx_th_column" id="S4.T3.1.1.2.2.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.13" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.13.1">EM</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.14" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.14.1">F1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.15" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.15.1">Precision</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.16.1">Recall</span></th>
<th class="ltx_td ltx_th ltx_th_column" id="S4.T3.1.1.2.2.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.18" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.18.1">EM</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.19" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.19.1">F1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.20" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.20.1">Precision</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.2.2.21" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.2.21.1">Recall</span></th>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.3.3">
<td class="ltx_td ltx_border_t" id="S4.T3.1.1.3.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">Qwen2-7B</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">41.50</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">51.65</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.97</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.53</td>
<td class="ltx_td ltx_border_t" id="S4.T3.1.1.3.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.50</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.64</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.29</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">70.12</td>
<td class="ltx_td ltx_border_t" id="S4.T3.1.1.3.3.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">9.80</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.87</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.32</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.16</td>
<td class="ltx_td ltx_border_t" id="S4.T3.1.1.3.3.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">41.60</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.87</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.92</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.57</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.4.4">
<td class="ltx_td" id="S4.T3.1.1.4.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">LLaMa-3-8B</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">37.84</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">47.06</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">49.13</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">47.20</td>
<td class="ltx_td" id="S4.T3.1.1.4.4.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">43.60</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.33</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.64</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">58.87</td>
<td class="ltx_td" id="S4.T3.1.1.4.4.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.80</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">16.45</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">16.81</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">17.76</td>
<td class="ltx_td" id="S4.T3.1.1.4.4.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">42.86</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">51.74</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">51.29</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.05</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.5.5">
<td class="ltx_td" id="S4.T3.1.1.5.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.5.5.2.1">LLaMa-3-70B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.5.3.1">44.50</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.5.4.1">56.10</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.5.5.1">58.15</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.5.5.6.1" style="color:#1F2329;">56.52</span></td>
<td class="ltx_td" id="S4.T3.1.1.5.5.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.5.5.8.1">57.00</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.5.5.9.1">68.50</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.10" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.5.10.1">66.69</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.5.5.11.1">74.24</span></td>
<td class="ltx_td" id="S4.T3.1.1.5.5.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">16.60</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.14" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.5.14.1">26.27</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.15" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.5.15.1">26.86</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.5.16.1">28.18</span></td>
<td class="ltx_td" id="S4.T3.1.1.5.5.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">48.80</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.19" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.5.5.19.1">62.79</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.20" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.5.5.20.1">63.19</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.5.21" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.5.5.21.1">63.90</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.6.6">
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.6.6.1.1">Local</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">HiRAG (GPT-3.5-turbo)</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">42.52</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.98</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.16</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.6.6.6.1">57.16</span></td>
<td class="ltx_td" id="S4.T3.1.1.6.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.29</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.95</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.99</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">70.27</td>
<td class="ltx_td" id="S4.T3.1.1.6.6.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">11.11</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.99</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.89</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.72</td>
<td class="ltx_td" id="S4.T3.1.1.6.6.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.17</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.79</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">65.81</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">66.27</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.7.7">
<td class="ltx_td ltx_border_t" id="S4.T3.1.1.7.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">Qwen2-7B</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">32.56</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">41.51</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.89</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">44.45</td>
<td class="ltx_td ltx_border_t" id="S4.T3.1.1.7.7.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">45.59</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">58.45</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">55.53</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">68.01</td>
<td class="ltx_td ltx_border_t" id="S4.T3.1.1.7.7.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">9.46</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">20.57</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">20.72</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">22.29</td>
<td class="ltx_td ltx_border_t" id="S4.T3.1.1.7.7.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">36.54</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.25</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.47</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.56</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.8.8">
<td class="ltx_td" id="S4.T3.1.1.8.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">LLaMa-3-8B</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">37.66</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">46.28</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">48.20</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">46.86</td>
<td class="ltx_td" id="S4.T3.1.1.8.8.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">43.68</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.28</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.43</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">59.74</td>
<td class="ltx_td" id="S4.T3.1.1.8.8.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.03</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">14.86</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.48</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.77</td>
<td class="ltx_td" id="S4.T3.1.1.8.8.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.00</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">49.95</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.72</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.8.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.83</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.9.9">
<td class="ltx_td" id="S4.T3.1.1.9.9.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.9.9.2.1">LLaMa3-70-B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.9.9.3.1">41.12</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.78</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">55.64</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.88</td>
<td class="ltx_td" id="S4.T3.1.1.9.9.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.9.9.8.1">57.68</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.9.9.9.1">70.61</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.10" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.9.9.10.1">68.48</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.9.9.11.1">77.04</span></td>
<td class="ltx_td" id="S4.T3.1.1.9.9.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.13" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.9.9.13.1">15.37</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.50</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">26.24</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.16" style="padding-top:0.5pt;padding-bottom:0.5pt;">26.78</td>
<td class="ltx_td" id="S4.T3.1.1.9.9.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.76</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">66.54</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">66.94</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.9.21" style="padding-top:0.5pt;padding-bottom:0.5pt;">67.33</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.10.10">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.10.10.1.1">Online</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.2.1">HiRAG (GPT-3.5-turbo)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.3.1" style="color:#1F2329;">40.48</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.4.1" style="color:#1F2329;">52.51</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.5.1" style="color:#1F2329;">53.98</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.6.1">53.70</span></td>
<td class="ltx_td ltx_border_bb" id="S4.T3.1.1.10.10.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.8.1">50.38</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.9.1">65.30</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.10" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.10.1">63.22</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.11.1">63.22</span></td>
<td class="ltx_td ltx_border_bb" id="S4.T3.1.1.10.10.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.13" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.13.1">14.65</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.14" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.14.1">26.03</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.15" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.15.1">26.58</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.10.10.16.1">28.15</span></td>
<td class="ltx_td ltx_border_bb" id="S4.T3.1.1.10.10.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.18" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.10.10.18.1">60.00</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.19" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.10.10.19.1">70.34</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.20" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.10.10.20.1">70.68</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.10.21" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.10.10.21.1">71.50</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>EXPERIMENTS SETUP</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Datasets</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">In our investigation, we conduct experiments on four datasets specifically designed for the Multi-hop question answering task, namely <span class="ltx_text ltx_font_bold" id="S5.SS1.p1.1.1">HotPotQA</span> <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib29" title="">2018</a>)</cite>, <span class="ltx_text ltx_font_bold" id="S5.SS1.p1.1.2">2WikiMultiHopQA</span> <cite class="ltx_cite ltx_citemacro_citep">(Ho et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib7" title="">2020</a>)</cite>, <span class="ltx_text ltx_font_bold" id="S5.SS1.p1.1.3">MuSiQue</span> <cite class="ltx_cite ltx_citemacro_citep">(Trivedi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib21" title="">2022b</a>)</cite>, and <span class="ltx_text ltx_font_bold" id="S5.SS1.p1.1.4">Bamboogle</span> <cite class="ltx_cite ltx_citemacro_citep">(Press et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib16" title="">2022</a>)</cite>. We only use questions and answers in the dataset, with all external knowledge retrieved.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>Baselines</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">Our baselines can be divided into two categories according to whether external knowledge is retrieved: Without retrieval baselines and With retrieval baselines. The Without retrieval (<span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.1">W/o retrieval</span>) setting includes four baselines.
<span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.2">Direct</span> Prompting directly uses the question as a prompt for LLM to respond. For retrieval, directly use the question as the query to search.
<span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.3">CoT</span> Prompting <cite class="ltx_cite ltx_citemacro_citep">(Wei et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib25" title="">2022</a>)</cite> adds “Let’s think this question step by step” after the initial question.
<span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.4">CoT-SC</span> <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib24" title="">2022b</a>)</cite> consolidates its responses by answering the same question multiple times.
<span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.5">Self-Ask</span> <cite class="ltx_cite ltx_citemacro_citep">(Press et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib16" title="">2022</a>)</cite> enables the model to decompose the problem into a series of sub-questions, allowing it to answer or retrieve relevant information for sub-questions.
Direct and Self-Ask models belong to two working modes, so the With retrieval (<span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.6">W/ retrieval</span>) setting includes five baselines.
<span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.7">ReAct</span> <cite class="ltx_cite ltx_citemacro_citep">(Yao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib30" title="">2022</a>)</cite> is similar to self-ask, the difference is that react will extract the query to be retrieved from the sub-questions after breaking down the problem, while Self-ask will directly use the sub-questions as the query.
<span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.8">Flare</span> <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib9" title="">2023</a>)</cite> uses a confidence-based strategy when generating questions. It generates questions about the less-confident parts of the generated content and retrieves them.
<span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.9">MetaRAG</span> <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib35" title="">2024</a>)</cite> gains insights from metacognition, which can identify logical errors in reasoning and use the three-step metacognitive regulation pipeline to identify and repair deficiencies in initial cognitive responses.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3. </span>Implementation Details</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">We use <span class="ltx_text ltx_font_typewriter" id="S5.SS3.p1.1.1">GPT-3.5-turbo</span> as the backend LLM for the most part while using <span class="ltx_text ltx_font_typewriter" id="S5.SS3.p1.1.2">LLaMa-3-70B</span> for the Decomposer. For baselines, we use the family of <span class="ltx_text ltx_font_typewriter" id="S5.SS3.p1.1.3">GPT-3.5</span> as the backend LLM. For online retrieval, we use Wikipedia and Google through the Wikipedia API and Serper API. For local retrieval, we use Contriever-MSMARCO <cite class="ltx_cite ltx_citemacro_citep">(Izacard et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib8" title="">2021</a>)</cite> and elastic with the BM25 algorithm <cite class="ltx_cite ltx_citemacro_citep">(Robertson et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib17" title="">2009</a>)</cite> as dense retriever and sparse retriever. The default maximum number of retrievals is 4. For HiRAG, we use Indexed Wikicorpus and Profile Wikicorpus for retrieval while we use the DPR corpus <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib10" title="">2020</a>)</cite> for retrieval in baselines. Following <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib35" title="">2024</a>)</cite>, we employ four evaluation metrics to assess the performance of our model. At the answer level, we use Exact Match (EM) to determine whether the predicted answer aligns perfectly with the reference answer. Additionally, at the token level, we adopt a more fine-grained approach, which includes token-level F1 score, precision, and recall. Following MetaRAG <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#bib.bib35" title="">2024</a>)</cite>, for cost considerations, we sub-sample 500 questions
from the validation set of HotPotQA, 2WikiMultiHopQA, and MuSiQue for experiments while using the full set of Bamboogle for experiments as the quantity of Bamboogle is small.</p>
</div>
<figure class="ltx_table" id="S5.T4">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4. </span>
Ablation experimental results for the Retriever module.
</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S5.T4.1" style="width:433.6pt;height:65.3pt;vertical-align:-0.5pt;"><span class="ltx_transformed_inner" style="transform:translate(-205.0pt,30.6pt) scale(0.514029249597991,0.514029249597991) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T4.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T4.1.1.1.1">
<td class="ltx_td ltx_border_tt" id="S5.T4.1.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S5.T4.1.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T4.1.1.1.1.2.1"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.1.2.1.1">HotpotQA</span></span></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_tt" id="S5.T4.1.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S5.T4.1.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T4.1.1.1.1.4.1"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.1.4.1.1">2WikiMultihopQA</span></span></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_tt" id="S5.T4.1.1.1.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S5.T4.1.1.1.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.1.6.1">MuSiQue</span></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_tt" id="S5.T4.1.1.1.1.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S5.T4.1.1.1.1.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.1.8.1">Bamgoole</span></th>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S5.T4.1.1.2.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.1.1">Online or local</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.2.1">EM</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.3.1">F1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.4.1">Precision</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.5.1">Recall</span></th>
<th class="ltx_td ltx_th ltx_th_column" id="S5.T4.1.1.2.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.7.1">EM</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.8.1">F1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.9.1">Precision</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.10" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.10.1">Recall</span></th>
<th class="ltx_td ltx_th ltx_th_column" id="S5.T4.1.1.2.2.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.12.1">EM</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.13" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.13.1">F1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.14" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.14.1">Precision</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.15" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.15.1">Recall</span></th>
<th class="ltx_td ltx_th ltx_th_column" id="S5.T4.1.1.2.2.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.17.1">EM</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.18" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.18.1">F1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.19" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.19.1">Precision</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.2.2.20" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.20.1">Recall</span></th>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.3.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.3.3.1.1">HiRAG</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">42.52</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.98</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.16</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.16</td>
<td class="ltx_td ltx_border_t" id="S5.T4.1.1.3.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.29</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.95</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.99</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">70.27</td>
<td class="ltx_td ltx_border_t" id="S5.T4.1.1.3.3.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">11.11</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.99</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.89</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.72</td>
<td class="ltx_td ltx_border_t" id="S5.T4.1.1.3.3.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.17" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.17</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.79</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">65.81</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">66.27</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.4.4">
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.4.4.1.1">HiRAG (w/o chunk)</span></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">41.85</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.01</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">55.16</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.17</td>
<td class="ltx_td" id="S5.T4.1.1.4.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">49.04</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">62.69</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.00</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">67.85</td>
<td class="ltx_td" id="S5.T4.1.1.4.4.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.02</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.92</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.23</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">18.95</td>
<td class="ltx_td" id="S5.T4.1.1.4.4.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.17" style="padding-top:0.5pt;padding-bottom:0.5pt;">38.40</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">58.58</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.46</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">62.50</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.5.5">
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.5.5.1.1">HiRAG (w/o document)</span></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">39.67</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.30</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.70</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.92</td>
<td class="ltx_td" id="S5.T4.1.1.5.5.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">48.68</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.52</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">59.63</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">67.17</td>
<td class="ltx_td" id="S5.T4.1.1.5.5.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">9.45</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">18.37</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.85</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">20.37</td>
<td class="ltx_td" id="S5.T4.1.1.5.5.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.17" style="padding-top:0.5pt;padding-bottom:0.5pt;">48.36</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">58.72</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">59.56</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">59.70</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.6.6">
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.6.6.1.1">HiRAG (w/o chunk + document)</span></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">39.57</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.36</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.52</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">51.04</td>
<td class="ltx_td" id="S5.T4.1.1.6.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">47.50</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.87</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.62</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">56.70</td>
<td class="ltx_td" id="S5.T4.1.1.6.6.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.51</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.97</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.95</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.35</td>
<td class="ltx_td" id="S5.T4.1.1.6.6.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.17" style="padding-top:0.5pt;padding-bottom:0.5pt;">42.53</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.37</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.79</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.02</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.7.7">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.7.7.1.1">HiRAG (w/o Profile WikiCorpus)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.98</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.84</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.51</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.96</td>
<td class="ltx_td ltx_border_bb" id="S5.T4.1.1.7.7.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.67</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">65.04</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.09</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">71.09</td>
<td class="ltx_td ltx_border_bb" id="S5.T4.1.1.7.7.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">10.81</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">21.54</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">20.81</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.68</td>
<td class="ltx_td ltx_border_bb" id="S5.T4.1.1.7.7.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.17" style="padding-top:0.5pt;padding-bottom:0.5pt;">51.61</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.39</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">65.59</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.7.7.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.78</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S5.T5">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5. </span>
Corpus experiments based on Flare, such as the corpus generated by DPR and Indexed Wikicorpus.
</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S5.T5.1" style="width:433.6pt;height:45.3pt;vertical-align:-5.5pt;"><span class="ltx_transformed_inner" style="transform:translate(-175.9pt,16.1pt) scale(0.552088331895043,0.552088331895043) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T5.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T5.1.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T5.1.1.1.1.1" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.1.1.1">Corpus</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S5.T5.1.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.1.2.1">HotpotQA</span></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_tt" id="S5.T5.1.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S5.T5.1.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.1.4.1">2WikiMultihopQA</span></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_tt" id="S5.T5.1.1.1.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S5.T5.1.1.1.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.1.6.1">MuSiQue</span></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_tt" id="S5.T5.1.1.1.1.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S5.T5.1.1.1.1.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.1.8.1">Bamboogle</span></th>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.2.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.1.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.2.1">F1</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.3.1">Precision</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.4.1">Recall</span></td>
<td class="ltx_td" id="S5.T5.1.1.2.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.6.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.7.1">F1</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.8.1">Precision</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.9.1">Recall</span></td>
<td class="ltx_td" id="S5.T5.1.1.2.2.10" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.11.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.12.1">F1</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.13" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.13.1">Precision</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.14" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.14.1">Recall</span></td>
<td class="ltx_td" id="S5.T5.1.1.2.2.15" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.16.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.17.1">F1</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.18" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.18.1">Precision</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2.19" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.2.2.19.1">Recall</span></td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.3.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.3.3.1.1">Old corpus (DPR)</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">41.60</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.37</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">56.32</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">55.54</th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.60</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.05</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.34</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.07</th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.39</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.13" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.3.3.13.1">26.22</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.14" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.3.3.14.1">27.72</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.15" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.3.3.15.1">27.51</span></th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.17" style="padding-top:0.5pt;padding-bottom:0.5pt;">46.34</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.18" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.71</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.19" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.50</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T5.1.1.3.3.20" style="padding-top:0.5pt;padding-bottom:0.5pt;">58.27</th>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.4.4">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.1.1">Indexed Wikicorpus</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.2.1">43.00</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.3.1">55.06</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.4.1">56.95</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.5.1">55.65</span></td>
<td class="ltx_td ltx_border_bb" id="S5.T5.1.1.4.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.7.1">50.00</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.8.1">62.27</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.9.1">60.30</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.10" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.10.1">68.15</span></td>
<td class="ltx_td ltx_border_bb" id="S5.T5.1.1.4.4.11" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.12.1">13.60</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">25.62</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.14" style="padding-top:0.5pt;padding-bottom:0.5pt;">26.55</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.15" style="padding-top:0.5pt;padding-bottom:0.5pt;">26.58</td>
<td class="ltx_td ltx_border_bb" id="S5.T5.1.1.4.4.16" style="padding-top:0.5pt;padding-bottom:0.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.17" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.17.1">49.60</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.18" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.18.1">60.20</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.19" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.19.1">60.28</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.4.4.20" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.4.4.20.1">61.13</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>RESULTS AND ANALYSIS</h2>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1. </span>Main Results</h3>
<div class="ltx_para" id="S6.SS1.p1">
<p class="ltx_p" id="S6.SS1.p1.1">The main results are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S4.T2" title="Table 2 ‣ 4.4. Filter ‣ 4. HIERARCHICAL RETRIEVAL-AUGMENTED MODEL ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">2</span></a> and reveal the following notable findings.
(1) Our proposed framework, HiRAG, exhibits superior performance across multiple evaluation metrics, outperforming state-of-the-art methods on three out of four datasets. Additionally, it demonstrates improvements in several metrics on the remaining dataset. The key advantage of our approach is its emphasis on the retrieval process, which consistently produces high-quality results. This highlights the crucial role of the retrieval component in achieving exceptional outcomes.
(2) In the Without Retrieval setting, HiRAG significantly outperforms the baselines, showcasing its effectiveness in question decomposition and answer summarization. This is due to the framework’s design, which enables autonomous sub-question generation and termination of the loop when the original problem is resolvable. Our approach also differs from self-ask in its segregation of subtasks and implementation of each subtask through a separate prompt, resulting in superior performance.
(3) A comparative analysis of results across datasets reveals that HiRAG achieves the most significant breakthrough in 2WikiMultiHopQA, with a notable improvement of over 12% in the EM index compared to the state-of-the-art method. This is primarily attributed to the fact that most external knowledge required by 2WikiMultiHopQA can be retrieved from Wikipedia, and the question format in this dataset is relatively standardized. However, the MuSiQue dataset poses a greater challenge due to the complexity of the questions and the inability to directly retrieve required knowledge from Wikipedia. This complexity affects our framework’s ability to evaluate retrieval results, diminishing the effectiveness of the response.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2. </span>Generalization</h3>
<div class="ltx_para" id="S6.SS2.p1">
<p class="ltx_p" id="S6.SS2.p1.1">To assess the generalizability of HiRAG, we conduct a series of experiments where we substitute different base models, with the results presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S4.T3" title="Table 3 ‣ 4.4. Filter ‣ 4. HIERARCHICAL RETRIEVAL-AUGMENTED MODEL ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">3</span></a>. Specifically, we evaluate the performance of HiRAG when paired with several prominent base models, including LLaMA-3-70B, LLaMA-3-8B, and Qwen2-7B. The results demonstrate that our method exhibits robustness and effectiveness across different base models, showcasing its adaptability to various model architectures. When paired with LLaMA-3-70B, our approach achieves state-of-the-art performance on most datasets, underscoring its ability to enhance the performance of strong base models and highlighting its potential for widespread applicability.
<span class="ltx_text ltx_font_italic" id="S6.SS2.p1.1.1">Notably, to ensure a fair comparison with existing SOTA models, like Meta-RAG, which is built on GPT-3.5-turbo, we use the same base model in our experiments, even though LLaMA-70B has shown better performance.</span> This allows for a more direct and meaningful comparison of our approach with prior work.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3. </span>Ablation Experiments</h3>
<div class="ltx_para" id="S6.SS3.p1">
<p class="ltx_p" id="S6.SS3.p1.1">We conduct ablation experiments to evaluate the contributions of our Retriever module, focusing on the hierarchical retrieval approach. By removing the processing during rethinking at the chunk level and document level, we investigate the impact of these components on the overall performance. The results, presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S5.T4" title="Table 4 ‣ 5.3. Implementation Details ‣ 5. EXPERIMENTS SETUP ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">4</span></a>, demonstrate the effectiveness of our approach.
Our method is designed to improve the accuracy of retrieved results through chunk level and document level rethink. To isolate the impact of each level, we perform ablation experiments by eliminating one level of rethink at a time. Specifically, we remove chunk level rethink by considering only the highest-scoring chunk within a document and remove document level rethink by retrieving only the highest-scoring document. The results show that eliminating either level of rethink leads to a decrease in performance, confirming the importance of both chunk level and document level rethink in our hierarchical retrieval approach.
Furthermore, we investigate the influence of knowledge incorporated in the Profile WikiCorpus. Our findings indicate that removing this knowledge component leads to a decrease in the performance of HiRAG.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.4. </span>Indexed Wikicorpus</h3>
<div class="ltx_para" id="S6.SS4.p1">
<p class="ltx_p" id="S6.SS4.p1.1">We conduct experiments under the FLARE framework to assess the effectiveness of our corpus in improving model performance. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S5.T5" title="Table 5 ‣ 5.3. Implementation Details ‣ 5. EXPERIMENTS SETUP ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">5</span></a>, replacing the external knowledge source with our corpus leads to notable advancements in Exact Match (EM) scores across four datasets, with three datasets experiencing improvements in all evaluated metrics. The comprehensive coverage and meticulous entity name segmentation in our corpus are key factors contributing to these improvements, enabling more efficient retrieval and utilization of relevant information.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.5. </span>Retriever Module as Plug-in</h3>
<div class="ltx_para" id="S6.SS5.p1">
<p class="ltx_p" id="S6.SS5.p1.1">We extract retriever and filter modules HiRAG, pairing them with Indexed Wikicorpus and Profile Wikicorpus to create a novel intelligent retriever. This approach leverages LLMs to evaluate and refine retrieval results, differing from traditional retrievers. We conduct experiments on standardized RAG tasks for <span class="ltx_text ltx_font_italic" id="S6.SS5.p1.1.1">single-hop questions using gold decomposed question-answer pairs</span> from 2WikiMultiHopQA and MuSiQue datasets. We compare the performance of five methods: (1) Direct Answering, (2) Sparse Retrieval with Elastic and BM25, (3) Dense Retrieval with Contriever-MSMARCO, (4) HiRAG (Online), and (5) HiRAG (Local).
The results in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#S6.T6" title="Table 6 ‣ 6.5. Retriever Module as Plug-in ‣ 6. RESULTS AND ANALYSIS ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">6</span></a> clearly demonstrate the superiority of our retrieval engine over traditional approaches, with significant gains observed even in local retrieval scenarios. Specifically, we report a maximum improvement of over 9% in EM metric, outperforming current mainstream retrieval engines. Moreover, our engine exhibits robust and comprehensive improvements across all datasets and evaluation metrics, underscoring the effectiveness of our hierarchical retrieval method. The ability of our engine to serve as a plug-in, augmenting the performance of other methods, makes it a valuable tool for achieving state-of-the-art results in a variety of applications.</p>
</div>
<figure class="ltx_table" id="S6.T6">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 6. </span>
Comparison of HiRAG as a Plug-in with other retrieval engines.
</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S6.T6.1" style="width:358.1pt;height:198pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p class="ltx_p" id="S6.T6.1.1"><span class="ltx_text" id="S6.T6.1.1.1">
<span class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S6.T6.1.1.1.1">
<span class="ltx_thead">
<span class="ltx_tr" id="S6.T6.1.1.1.1.1.1">
<span class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T6.1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.1.1.1.1">Dataset</span></span>
<span class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T6.1.1.1.1.1.1.2"><span class="ltx_text" id="S6.T6.1.1.1.1.1.1.2.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.1.1.2.1.1">Retrieval method</span></span></span>
<span class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T6.1.1.1.1.1.1.3"><span class="ltx_text" id="S6.T6.1.1.1.1.1.1.3.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.1.1.3.1.1">EM</span></span></span>
<span class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T6.1.1.1.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.1.1.4.1">F1</span></span>
<span class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T6.1.1.1.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.1.1.5.1">Precision</span></span>
<span class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T6.1.1.1.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.1.1.6.1">Recall</span></span></span>
</span>
<span class="ltx_tbody">
<span class="ltx_tr" id="S6.T6.1.1.1.1.2.1">
<span class="ltx_td ltx_border_t" id="S6.T6.1.1.1.1.2.1.1"></span>
<span class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.1.1.1.2.1.2"><span class="ltx_text" id="S6.T6.1.1.1.1.2.1.2.1">Direct</span></span>
<span class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.1.1.1.2.1.3"><span class="ltx_text" id="S6.T6.1.1.1.1.2.1.3.1" style="color:#1F2329;">10.93</span></span>
<span class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.1.1.1.2.1.4"><span class="ltx_text" id="S6.T6.1.1.1.1.2.1.4.1" style="color:#1F2329;">16.59</span></span>
<span class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.1.1.1.2.1.5"><span class="ltx_text" id="S6.T6.1.1.1.1.2.1.5.1" style="color:#1F2329;">17.04</span></span>
<span class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.1.1.1.2.1.6"><span class="ltx_text" id="S6.T6.1.1.1.1.2.1.6.1" style="color:#1F2329;">17.42</span></span></span>
<span class="ltx_tr" id="S6.T6.1.1.1.1.3.2">
<span class="ltx_td" id="S6.T6.1.1.1.1.3.2.1"></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.3.2.2"><span class="ltx_text" id="S6.T6.1.1.1.1.3.2.2.1">Sparse retrival</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.3.2.3"><span class="ltx_text" id="S6.T6.1.1.1.1.3.2.3.1" style="color:#1F2329;">49.28</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.3.2.4"><span class="ltx_text" id="S6.T6.1.1.1.1.3.2.4.1" style="color:#1F2329;">54.91</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.3.2.5"><span class="ltx_text" id="S6.T6.1.1.1.1.3.2.5.1" style="color:#1F2329;">55.69</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.3.2.6"><span class="ltx_text" id="S6.T6.1.1.1.1.3.2.6.1" style="color:#1F2329;">55.99</span></span></span>
<span class="ltx_tr" id="S6.T6.1.1.1.1.4.3">
<span class="ltx_td" id="S6.T6.1.1.1.1.4.3.1"></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.4.3.2"><span class="ltx_text" id="S6.T6.1.1.1.1.4.3.2.1">Dense retrieval</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.4.3.3"><span class="ltx_text" id="S6.T6.1.1.1.1.4.3.3.1" style="color:#1F2329;">46.06</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.4.3.4"><span class="ltx_text" id="S6.T6.1.1.1.1.4.3.4.1" style="color:#1F2329;">54.10</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.4.3.5"><span class="ltx_text" id="S6.T6.1.1.1.1.4.3.5.1" style="color:#1F2329;">55.85</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.4.3.6"><span class="ltx_text" id="S6.T6.1.1.1.1.4.3.6.1" style="color:#1F2329;">54.96</span></span></span>
<span class="ltx_tr" id="S6.T6.1.1.1.1.5.4">
<span class="ltx_td" id="S6.T6.1.1.1.1.5.4.1"></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.5.4.2">HiRAG (online)</span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.5.4.3"><span class="ltx_text" id="S6.T6.1.1.1.1.5.4.3.1" style="color:#1F2329;"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.5.4.3.1.1" style="color:#1F2329;">57.46</span></span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.5.4.4"><span class="ltx_text" id="S6.T6.1.1.1.1.5.4.4.1" style="color:#1F2329;"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.5.4.4.1.1" style="color:#1F2329;">76.33</span></span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.5.4.5"><span class="ltx_text" id="S6.T6.1.1.1.1.5.4.5.1" style="color:#1F2329;"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.5.4.5.1.1" style="color:#1F2329;">75.75</span></span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.5.4.6"><span class="ltx_text" id="S6.T6.1.1.1.1.5.4.6.1" style="color:#1F2329;"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.5.4.6.1.1" style="color:#1F2329;">79.66</span></span></span></span>
<span class="ltx_tr" id="S6.T6.1.1.1.1.6.5">
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.6.5.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.6.5.1.1">2WikiMultihopQA</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.6.5.2"><span class="ltx_text" id="S6.T6.1.1.1.1.6.5.2.1">HiRAG (local)</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.6.5.3"><span class="ltx_text" id="S6.T6.1.1.1.1.6.5.3.1" style="color:#1F2329;">55.22</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.6.5.4"><span class="ltx_text" id="S6.T6.1.1.1.1.6.5.4.1" style="color:#1F2329;">73.77</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.6.5.5"><span class="ltx_text" id="S6.T6.1.1.1.1.6.5.5.1" style="color:#1F2329;">73.00</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.6.5.6"><span class="ltx_text" id="S6.T6.1.1.1.1.6.5.6.1" style="color:#1F2329;">77.23</span></span></span>
<span class="ltx_tr" id="S6.T6.1.1.1.1.7.6">
<span class="ltx_td ltx_border_t" id="S6.T6.1.1.1.1.7.6.1"></span>
<span class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.1.1.1.7.6.2"><span class="ltx_text" id="S6.T6.1.1.1.1.7.6.2.1">Direct</span></span>
<span class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.1.1.1.7.6.3"><span class="ltx_text" id="S6.T6.1.1.1.1.7.6.3.1" style="color:#1F2329;">9.61</span></span>
<span class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.1.1.1.7.6.4"><span class="ltx_text" id="S6.T6.1.1.1.1.7.6.4.1" style="color:#1F2329;">12.29</span></span>
<span class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.1.1.1.7.6.5"><span class="ltx_text" id="S6.T6.1.1.1.1.7.6.5.1" style="color:#1F2329;">12.62</span></span>
<span class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.1.1.1.7.6.6"><span class="ltx_text" id="S6.T6.1.1.1.1.7.6.6.1" style="color:#1F2329;">12.85</span></span></span>
<span class="ltx_tr" id="S6.T6.1.1.1.1.8.7">
<span class="ltx_td" id="S6.T6.1.1.1.1.8.7.1"></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.8.7.2"><span class="ltx_text" id="S6.T6.1.1.1.1.8.7.2.1">Sparse retrieval</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.8.7.3"><span class="ltx_text" id="S6.T6.1.1.1.1.8.7.3.1" style="color:#1F2329;">26.60</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.8.7.4"><span class="ltx_text" id="S6.T6.1.1.1.1.8.7.4.1" style="color:#1F2329;">33.77</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.8.7.5"><span class="ltx_text" id="S6.T6.1.1.1.1.8.7.5.1" style="color:#1F2329;">34.92</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.8.7.6"><span class="ltx_text" id="S6.T6.1.1.1.1.8.7.6.1" style="color:#1F2329;">34.67</span></span></span>
<span class="ltx_tr" id="S6.T6.1.1.1.1.9.8">
<span class="ltx_td" id="S6.T6.1.1.1.1.9.8.1"></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.9.8.2"><span class="ltx_text" id="S6.T6.1.1.1.1.9.8.2.1">Dense retrieval</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.9.8.3"><span class="ltx_text" id="S6.T6.1.1.1.1.9.8.3.1" style="color:#1F2329;">29.99</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.9.8.4"><span class="ltx_text" id="S6.T6.1.1.1.1.9.8.4.1" style="color:#1F2329;">38.95</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.9.8.5"><span class="ltx_text" id="S6.T6.1.1.1.1.9.8.5.1" style="color:#1F2329;">39.97</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.9.8.6"><span class="ltx_text" id="S6.T6.1.1.1.1.9.8.6.1" style="color:#1F2329;">40.64</span></span></span>
<span class="ltx_tr" id="S6.T6.1.1.1.1.10.9">
<span class="ltx_td" id="S6.T6.1.1.1.1.10.9.1"></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.10.9.2"><span class="ltx_text" id="S6.T6.1.1.1.1.10.9.2.1">HiRAG (online)</span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.10.9.3"><span class="ltx_text" id="S6.T6.1.1.1.1.10.9.3.1" style="color:#1F2329;"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.10.9.3.1.1" style="color:#1F2329;">52.10</span></span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.10.9.4"><span class="ltx_text" id="S6.T6.1.1.1.1.10.9.4.1" style="color:#1F2329;"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.10.9.4.1.1" style="color:#1F2329;">73.01</span></span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.10.9.5"><span class="ltx_text" id="S6.T6.1.1.1.1.10.9.5.1" style="color:#1F2329;"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.10.9.5.1.1" style="color:#1F2329;">74.09</span></span></span>
<span class="ltx_td ltx_align_center" id="S6.T6.1.1.1.1.10.9.6"><span class="ltx_text" id="S6.T6.1.1.1.1.10.9.6.1" style="color:#1F2329;"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.10.9.6.1.1" style="color:#1F2329;">76.82</span></span></span></span>
<span class="ltx_tr" id="S6.T6.1.1.1.1.11.10">
<span class="ltx_td ltx_align_center ltx_border_bb" id="S6.T6.1.1.1.1.11.10.1"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.1.1.11.10.1.1">MuSiQue</span></span>
<span class="ltx_td ltx_align_center ltx_border_bb" id="S6.T6.1.1.1.1.11.10.2"><span class="ltx_text" id="S6.T6.1.1.1.1.11.10.2.1">HiRAG (local)</span></span>
<span class="ltx_td ltx_align_center ltx_border_bb" id="S6.T6.1.1.1.1.11.10.3"><span class="ltx_text" id="S6.T6.1.1.1.1.11.10.3.1" style="color:#1F2329;">32.13</span></span>
<span class="ltx_td ltx_align_center ltx_border_bb" id="S6.T6.1.1.1.1.11.10.4"><span class="ltx_text" id="S6.T6.1.1.1.1.11.10.4.1" style="color:#1F2329;">44.06</span></span>
<span class="ltx_td ltx_align_center ltx_border_bb" id="S6.T6.1.1.1.1.11.10.5"><span class="ltx_text" id="S6.T6.1.1.1.1.11.10.5.1" style="color:#1F2329;">42.48</span></span>
<span class="ltx_td ltx_align_center ltx_border_bb" id="S6.T6.1.1.1.1.11.10.6"><span class="ltx_text" id="S6.T6.1.1.1.1.11.10.6.1" style="color:#1F2329;">48.14</span></span></span>
</span>
</span></span></p>
</span></div>
</figure>
</section>
<section class="ltx_subsection" id="S6.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.6. </span>Case Study</h3>
<div class="ltx_para" id="S6.SS6.p1">
<p class="ltx_p" id="S6.SS6.p1.1">We provide a case study in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#A1.F5" title="Figure 5 ‣ A.1. Experiment about Model Turn ‣ Appendix A APPENDIX ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">5</span></a> of Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#A1.SS3" title="A.3. Case Study ‣ Appendix A APPENDIX ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">A.3</span></a> to demonstrate the workings of our framework. We gradually generate sub-questions, retrieve sub-questions, evaluate the retrieval results, and answer the sub-question. When the retrieval results are not ideal, we use rethink to find a more satisfactory result. Finally, we use the answers to all sub-questions to get the answer to the original question.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7. </span>CONCLUSION</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">We present a novel framework for multi-hop question answering, addressing the challenges of outdated and insufficient knowledge, context window limitations, and accuracy-quantity trade-offs. Our proposed framework, HiRAG, incorporates a hierarchical retrieval strategy, single-candidate retrieval, and a rethink mechanism to improve the efficiency and effectiveness of knowledge retrieval. The experimental results demonstrate that HiRAG outperforms state-of-the-art models on multiple datasets, confirming the effectiveness of our approach. Additionally, our newly constructed corpora, Indexed Wikicorpus which is shown to be more comprehensive and logically organized, and Profile Wikicorpus. Our contributions provide a significant step forward in improving the performance of multi-hop QA tasks, and we believe that our framework and corpora will be valuable resources for future research in this area. In the future, we hope to expand our research on the retrieval-verify-rethink pipeline to achieve more fine-grained and accurate retrieval.</p>
</div>
<div class="ltx_acknowledgements">
<h6 class="ltx_title ltx_title_acknowledgements">Acknowledgements.</h6>
This research is supported by the National Natural Science Foundation of China (No.62272092, No.62172086, and
No.62106039).

</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Arabzadeh et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Negar Arabzadeh, Xinyi Yan, and Charles LA Clarke. 2021.

</span>
<span class="ltx_bibblock">Predicting efficiency/effectiveness trade-offs for dense vs. sparse retrieval strategy selection. In <em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">Proceedings of the 30th ACM International Conference on Information &amp; Knowledge Management</em>. 2862–2866.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Asai et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Akari Asai, Zeqiu Wu, Yizhong Wang, Avirup Sil, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock">Self-rag: Learning to retrieve, generate, and critique through self-reflection.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">arXiv preprint arXiv:2310.11511</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chu et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zheng Chu, Jingchang Chen, Qianglong Chen, Weijiang Yu, Tao He, Haotian Wang, Weihua Peng, Ming Liu, Bing Qin, and Ting Liu. 2023.

</span>
<span class="ltx_bibblock">A survey of chain of thought reasoning: Advances, frontiers and future.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">arXiv preprint arXiv:2309.15402</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dai et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Zhuyun Dai, Vincent Y Zhao, Ji Ma, Yi Luan, Jianmo Ni, Jing Lu, Anton Bakalov, Kelvin Guu, Keith B Hall, and Ming-Wei Chang. 2022.

</span>
<span class="ltx_bibblock">Promptagator: Few-shot dense retrieval from 8 examples.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">arXiv preprint arXiv:2209.11755</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Du et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Xinya Du, Junru Shao, and Claire Cardie. 2017.

</span>
<span class="ltx_bibblock">Learning to ask: Neural question generation for reading comprehension.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">arXiv preprint arXiv:1705.00106</em> (2017).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ho et al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Xanh Ho, Anh-Khoa Duong Nguyen, Saku Sugawara, and Akiko Aizawa. 2020.

</span>
<span class="ltx_bibblock">Constructing a multi-hop qa dataset for comprehensive evaluation of reasoning steps.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.3.1">arXiv preprint arXiv:2011.01060</em> (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Gautier Izacard, Mathilde Caron, Lucas Hosseini, Sebastian Riedel, Piotr Bojanowski, Armand Joulin, and Edouard Grave. 2021.

</span>
<span class="ltx_bibblock">Unsupervised dense information retrieval with contrastive learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">arXiv preprint arXiv:2112.09118</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhengbao Jiang, Frank F Xu, Luyu Gao, Zhiqing Sun, Qian Liu, Jane Dwivedi-Yu, Yiming Yang, Jamie Callan, and Graham Neubig. 2023.

</span>
<span class="ltx_bibblock">Active retrieval augmented generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">arXiv preprint arXiv:2305.06983</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oğuz, Sewon Min, Patrick Lewis, Ledell Wu, Sergey Edunov, Danqi Chen, and Wen-tau Yih. 2020.

</span>
<span class="ltx_bibblock">Dense passage retrieval for open-domain question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">arXiv preprint arXiv:2004.04906</em> (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, et al<span class="ltx_text" id="bib.bib11.3.1">.</span> 2020.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.4.1">Advances in Neural Information Processing Systems</em> 33 (2020), 9459–9474.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luan et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Yi Luan, Jacob Eisenstein, Kristina Toutanova, and Michael Collins. 2021.

</span>
<span class="ltx_bibblock">Sparse, dense, and attentional representations for text retrieval.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">Transactions of the Association for Computational Linguistics</em> 9 (2021), 329–345.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mavi et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Vaibhav Mavi, Anubhav Jangra, Jatowt Adam, et al<span class="ltx_text" id="bib.bib13.3.1">.</span> 2024.

</span>
<span class="ltx_bibblock">Multi-hop Question Answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.4.1">Foundations and Trends® in Information Retrieval</em> 17, 5 (2024), 457–586.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mavi et al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Vaibhav Mavi, Anubhav Jangra, and Adam Jatowt. 2022.

</span>
<span class="ltx_bibblock">A survey on multi-hop question answering and generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">arXiv preprint arXiv:2204.09140</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Min et al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Sewon Min, Eric Wallace, Sameer Singh, Matt Gardner, Hannaneh Hajishirzi, and Luke Zettlemoyer. 2019.

</span>
<span class="ltx_bibblock">Compositional questions do not necessitate multi-hop reasoning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">arXiv preprint arXiv:1906.02900</em> (2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Press et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Ofir Press, Muru Zhang, Sewon Min, Ludwig Schmidt, Noah A Smith, and Mike Lewis. 2022.

</span>
<span class="ltx_bibblock">Measuring and narrowing the compositionality gap in language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">arXiv preprint arXiv:2210.03350</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Robertson et al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2009)</span>
<span class="ltx_bibblock">
Stephen Robertson, Hugo Zaragoza, et al<span class="ltx_text" id="bib.bib17.3.1">.</span> 2009.

</span>
<span class="ltx_bibblock">The probabilistic relevance framework: BM25 and beyond.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.4.1">Foundations and Trends® in Information Retrieval</em> 3, 4 (2009), 333–389.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Weijia Shi, Sewon Min, Michihiro Yasunaga, Minjoon Seo, Rich James, Mike Lewis, Luke Zettlemoyer, and Wen-tau Yih. 2023.

</span>
<span class="ltx_bibblock">Replug: Retrieval-augmented black-box language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">arXiv preprint arXiv:2301.12652</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Svore and Burges (2009)</span>
<span class="ltx_bibblock">
Krysta M Svore and Christopher JC Burges. 2009.

</span>
<span class="ltx_bibblock">A machine learning approach for improved BM25 retrieval. In <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">Proceedings of the 18th ACM conference on Information and knowledge management</em>. 1811–1814.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Trivedi et al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2022a)</span>
<span class="ltx_bibblock">
Harsh Trivedi, Niranjan Balasubramanian, Tushar Khot, and Ashish Sabharwal. 2022a.

</span>
<span class="ltx_bibblock">Interleaving retrieval with chain-of-thought reasoning for knowledge-intensive multi-step questions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">arXiv preprint arXiv:2212.10509</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Trivedi et al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2022b)</span>
<span class="ltx_bibblock">
Harsh Trivedi, Niranjan Balasubramanian, Tushar Khot, and Ashish Sabharwal. 2022b.

</span>
<span class="ltx_bibblock">MuSiQue: Multihop Questions via Single-hop Question Composition.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">Transactions of the Association for Computational Linguistics</em> 10 (05 2022), 539–554.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1162/tacl_a_00475" title="">https://doi.org/10.1162/tacl_a_00475</a>
arXiv:https://direct.mit.edu/tacl/article-pdf/doi/10.1162/tacl_a_00475/2020694/tacl_a_00475.pdf

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2022a)</span>
<span class="ltx_bibblock">
Boshi Wang, Xiang Deng, and Huan Sun. 2022a.

</span>
<span class="ltx_bibblock">Iteratively Prompt Pre-trained Language Models for Chain of Thought. In <em class="ltx_emph ltx_font_italic" id="bib.bib22.3.1">Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing</em>, Yoav Goldberg, Zornitsa Kozareva, and Yue Zhang (Eds.). Association for Computational Linguistics, Abu Dhabi, United Arab Emirates, 2714–2730.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.18653/v1/2022.emnlp-main.174" title="">https://doi.org/10.18653/v1/2022.emnlp-main.174</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Ming Wang, Yuanzhong Liu, Xiaoming Zhang, Songlian Li, Yijie Huang, Chi Zhang, Daling Wang, Shi Feng, and Jigang Li. 2024.

</span>
<span class="ltx_bibblock">LangGPT: Rethinking Structured Reusable Prompt Design Framework for LLMs from the Programming Language.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.3.1">arXiv preprint arXiv:2402.16929</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2022b)</span>
<span class="ltx_bibblock">
Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc Le, Ed Chi, Sharan Narang, Aakanksha Chowdhery, and Denny Zhou. 2022b.

</span>
<span class="ltx_bibblock">Self-consistency improves chain of thought reasoning in language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">arXiv preprint arXiv:2203.11171</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al<span class="ltx_text" id="bib.bib25.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.4.1">Advances in neural information processing systems</em> 35 (2022), 24824–24837.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Kevin Wu, Eric Wu, and James Zou. 2024a.

</span>
<span class="ltx_bibblock">Clasheval: Quantifying the tug-of-war between an llm’s internal prior and external evidence.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">Preprint</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
Kevin Wu, Eric Wu, and James Zou. 2024b.

</span>
<span class="ltx_bibblock">How faithful are RAG models? Quantifying the tug-of-war between RAG and LLMs’ internal prior.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">arXiv preprint arXiv:2404.10198</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Shicheng Xu, Liang Pang, Huawei Shen, Xueqi Cheng, and Tat-Seng Chua. 2024.

</span>
<span class="ltx_bibblock">Search-in-the-Chain: Interactively Enhancing Large Language Models with Search for Knowledge-intensive Tasks. In <em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">Proceedings of the ACM on Web Conference 2024</em>. 1362–1373.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Zhilin Yang, Peng Qi, Saizheng Zhang, Yoshua Bengio, William Cohen, Ruslan Salakhutdinov, and Christopher D. Manning. 2018.

</span>
<span class="ltx_bibblock">HotpotQA: A Dataset for Diverse, Explainable Multi-hop Question Answering. In <em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">Proceedings of the 2018 Conference on Empirical Methods in Natural Language Processing</em>, Ellen Riloff, David Chiang, Julia Hockenmaier, and Jun’ichi Tsujii (Eds.). Association for Computational Linguistics, Brussels, Belgium, 2369–2380.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.18653/v1/D18-1259" title="">https://doi.org/10.18653/v1/D18-1259</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao et al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik Narasimhan, and Yuan Cao. 2022.

</span>
<span class="ltx_bibblock">React: Synergizing reasoning and acting in language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">arXiv preprint arXiv:2210.03629</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yoran et al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Ori Yoran, Tomer Wolfson, Ben Bogin, Uri Katz, Daniel Deutch, and Jonathan Berant. 2023.

</span>
<span class="ltx_bibblock">Answering questions by meta-reasoning over multiple chains of thought.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.3.1">arXiv preprint arXiv:2304.13007</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Wayne Xin Zhao, Jing Liu, Ruiyang Ren, and Ji-Rong Wen. 2024.

</span>
<span class="ltx_bibblock">Dense text retrieval based on pretrained language models: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">ACM Transactions on Information Systems</em> 42, 4 (2024), 1–60.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al<span class="ltx_text" id="bib.bib33.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Huaixiu Steven Zheng, Swaroop Mishra, Xinyun Chen, Heng-Tze Cheng, Ed H Chi, Quoc V Le, and Denny Zhou. 2023.

</span>
<span class="ltx_bibblock">Take a step back: Evoking reasoning via abstraction in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.3.1">arXiv preprint arXiv:2310.06117</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Denny Zhou, Nathanael Schärli, Le Hou, Jason Wei, Nathan Scales, Xuezhi Wang, Dale Schuurmans, Claire Cui, Olivier Bousquet, Quoc Le, et al<span class="ltx_text" id="bib.bib34.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Least-to-most prompting enables complex reasoning in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.4.1">arXiv preprint arXiv:2205.10625</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yujia Zhou, Zheng Liu, Jiajie Jin, Jian-Yun Nie, and Zhicheng Dou. 2024.

</span>
<span class="ltx_bibblock">Metacognitive Retrieval-Augmented Large Language Models.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:2402.11626 [cs.CL]

</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>APPENDIX</h2>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1. </span>Experiment about Model Turn</h3>
<div class="ltx_para" id="A1.SS1.p1">
<p class="ltx_p" id="A1.SS1.p1.1">We investigate the relationship between the number of model turn and the EM score, focusing exclusively on instances where the frequency exceeded 1%. As presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#A1.T7" title="Table 7 ‣ A.1. Experiment about Model Turn ‣ Appendix A APPENDIX ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">7</span></a>, our results show that the model achieves relatively high EM when the number of jumps is 2 and 5. This can be attributed to the fact that most of our test datasets consist of two-hop problems. When the model successfully decomposes the problem into sub-problems that align with the dataset, it yields better results. Additionally, since we set the maximum number of decomposed sub-problems to 5, the model performs well when it breaks down the problem into more detailed and granular components.</p>
</div>
<figure class="ltx_table" id="A1.T7">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 7. </span>
Analyze the relationship between the number of model turn and EM.
</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="A1.T7.3" style="width:208.1pt;height:67.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-34.7pt,11.3pt) scale(0.749887052816841,0.749887052816841) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="A1.T7.3.3">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A1.T7.3.3.4.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A1.T7.3.3.4.1.1"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.4.1.1.1">Models</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A1.T7.3.3.4.1.2"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.4.1.2.1">1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A1.T7.3.3.4.1.3"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.4.1.3.1">2</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A1.T7.3.3.4.1.4"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.4.1.4.1">3</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A1.T7.3.3.4.1.5"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.4.1.5.1">4</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A1.T7.3.3.4.1.6"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.4.1.6.1">5</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T7.3.3.5.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T7.3.3.5.1.1"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.5.1.1.1">HotpotQA</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T7.3.3.5.1.2">47.37</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T7.3.3.5.1.3"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.5.1.3.1">49.76</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T7.3.3.5.1.4">33.59</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T7.3.3.5.1.5">27.66</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T7.3.3.5.1.6">44.44</td>
</tr>
<tr class="ltx_tr" id="A1.T7.3.3.6.2">
<td class="ltx_td ltx_align_center" id="A1.T7.3.3.6.2.1"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.6.2.1.1">2WikiMultihopQA</span></td>
<td class="ltx_td ltx_align_center" id="A1.T7.3.3.6.2.2">14.27</td>
<td class="ltx_td ltx_align_center" id="A1.T7.3.3.6.2.3">45.25</td>
<td class="ltx_td ltx_align_center" id="A1.T7.3.3.6.2.4">33.93</td>
<td class="ltx_td ltx_align_center" id="A1.T7.3.3.6.2.5">72.26</td>
<td class="ltx_td ltx_align_center" id="A1.T7.3.3.6.2.6"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.6.2.6.1">57.14</span></td>
</tr>
<tr class="ltx_tr" id="A1.T7.2.2.2">
<td class="ltx_td ltx_align_center" id="A1.T7.2.2.2.3"><span class="ltx_text ltx_font_bold" id="A1.T7.2.2.2.3.1">MuSiQue</span></td>
<td class="ltx_td ltx_align_center" id="A1.T7.1.1.1.1"><math alttext="\sim" class="ltx_Math" display="inline" id="A1.T7.1.1.1.1.m1.1"><semantics id="A1.T7.1.1.1.1.m1.1a"><mo id="A1.T7.1.1.1.1.m1.1.1" xref="A1.T7.1.1.1.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="A1.T7.1.1.1.1.m1.1b"><csymbol cd="latexml" id="A1.T7.1.1.1.1.m1.1.1.cmml" xref="A1.T7.1.1.1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T7.1.1.1.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="A1.T7.1.1.1.1.m1.1d">∼</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="A1.T7.2.2.2.4"><span class="ltx_text ltx_font_bold" id="A1.T7.2.2.2.4.1">24.84</span></td>
<td class="ltx_td ltx_align_center" id="A1.T7.2.2.2.5">17.93</td>
<td class="ltx_td ltx_align_center" id="A1.T7.2.2.2.6">5.30</td>
<td class="ltx_td ltx_align_center" id="A1.T7.2.2.2.2"><math alttext="\sim" class="ltx_Math" display="inline" id="A1.T7.2.2.2.2.m1.1"><semantics id="A1.T7.2.2.2.2.m1.1a"><mo id="A1.T7.2.2.2.2.m1.1.1" xref="A1.T7.2.2.2.2.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="A1.T7.2.2.2.2.m1.1b"><csymbol cd="latexml" id="A1.T7.2.2.2.2.m1.1.1.cmml" xref="A1.T7.2.2.2.2.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T7.2.2.2.2.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="A1.T7.2.2.2.2.m1.1d">∼</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="A1.T7.3.3.3">
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T7.3.3.3.2"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.3.2.1">Bamboogle</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T7.3.3.3.1"><math alttext="\sim" class="ltx_Math" display="inline" id="A1.T7.3.3.3.1.m1.1"><semantics id="A1.T7.3.3.3.1.m1.1a"><mo id="A1.T7.3.3.3.1.m1.1.1" xref="A1.T7.3.3.3.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="A1.T7.3.3.3.1.m1.1b"><csymbol cd="latexml" id="A1.T7.3.3.3.1.m1.1.1.cmml" xref="A1.T7.3.3.3.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.T7.3.3.3.1.m1.1c">\sim</annotation><annotation encoding="application/x-llamapun" id="A1.T7.3.3.3.1.m1.1d">∼</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T7.3.3.3.3">64.04</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T7.3.3.3.4">50.00</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T7.3.3.3.5">42.86</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T7.3.3.3.6"><span class="ltx_text ltx_font_bold" id="A1.T7.3.3.3.6.1">66.67</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_figure" id="A1.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="488" id="A1.F5.g1" src="x8.png" width="788"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5. </span>Case study of HiRAG process. </figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2. </span>Algorithm of HiRAG</h3>
<div class="ltx_para" id="A1.SS2.p1">
<p class="ltx_p" id="A1.SS2.p1.1">For clarity, we outline the workflow of the HiRAG framework in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#alg1" title="In A.2. Algorithm of HiRAG ‣ Appendix A APPENDIX ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">1</span></a>, providing a step-by-step illustration of our method. This algorithm contains the Main function, Decompose function, RewriteAndAnswerQuestion function and Retrieval function. The Decompose function and the main function complete the decomposition and final summary of the problem, the Retrieval function describes the hierarchical Retrieval and the process of the Filter, and the RewriteAndAnswerQuestion function describes our solution when the semantics are found to be incomplete.</p>
</div>
<figure class="ltx_float ltx_algorithm" id="alg1">
<div class="ltx_listing ltx_lst_numbers_left ltx_listing" id="alg1.85">
<div class="ltx_listingline" id="alg1.1.1">
<span class="ltx_text ltx_font_bold" id="alg1.1.1.1">Input :</span> Multi-hop question:  <math alttext="x" class="ltx_Math" display="inline" id="alg1.1.1.m1.1"><semantics id="alg1.1.1.m1.1a"><mi id="alg1.1.1.m1.1.1" xref="alg1.1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="alg1.1.1.m1.1b"><ci id="alg1.1.1.m1.1.1.cmml" xref="alg1.1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="alg1.1.1.m1.1d">italic_x</annotation></semantics></math>; Large Language Model: LLM; 
</div>
<div class="ltx_listingline" id="alg1.9.9">
<span class="ltx_text ltx_font_bold" id="alg1.9.9.1">Initialize :</span> Decompose rounds: <math alttext="w" class="ltx_Math" display="inline" id="alg1.2.2.m1.1"><semantics id="alg1.2.2.m1.1a"><mi id="alg1.2.2.m1.1.1" xref="alg1.2.2.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="alg1.2.2.m1.1b"><ci id="alg1.2.2.m1.1.1.cmml" xref="alg1.2.2.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.2.m1.1c">w</annotation><annotation encoding="application/x-llamapun" id="alg1.2.2.m1.1d">italic_w</annotation></semantics></math>;  Corpus: <math alttext="D=\{d_{1},d_{2}\dots,d_{m}" class="ltx_math_unparsed" display="inline" id="alg1.3.3.m2.1"><semantics id="alg1.3.3.m2.1a"><mrow id="alg1.3.3.m2.1b"><mi id="alg1.3.3.m2.1.1">D</mi><mo id="alg1.3.3.m2.1.2">=</mo><mrow id="alg1.3.3.m2.1.3"><mo id="alg1.3.3.m2.1.3.1" stretchy="false">{</mo><msub id="alg1.3.3.m2.1.3.2"><mi id="alg1.3.3.m2.1.3.2.2">d</mi><mn id="alg1.3.3.m2.1.3.2.3">1</mn></msub><mo id="alg1.3.3.m2.1.3.3">,</mo><msub id="alg1.3.3.m2.1.3.4"><mi id="alg1.3.3.m2.1.3.4.2">d</mi><mn id="alg1.3.3.m2.1.3.4.3">2</mn></msub><mi id="alg1.3.3.m2.1.3.5" mathvariant="normal">…</mi><mo id="alg1.3.3.m2.1.3.6">,</mo><msub id="alg1.3.3.m2.1.3.7"><mi id="alg1.3.3.m2.1.3.7.2">d</mi><mi id="alg1.3.3.m2.1.3.7.3">m</mi></msub></mrow></mrow><annotation encoding="application/x-tex" id="alg1.3.3.m2.1c">D=\{d_{1},d_{2}\dots,d_{m}</annotation><annotation encoding="application/x-llamapun" id="alg1.3.3.m2.1d">italic_D = { italic_d start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_d start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT … , italic_d start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math>};  Previous answers: <math alttext="A=\{a_{1},a_{2}\dots,a_{w-1}\}" class="ltx_Math" display="inline" id="alg1.4.4.m3.3"><semantics id="alg1.4.4.m3.3a"><mrow id="alg1.4.4.m3.3.3" xref="alg1.4.4.m3.3.3.cmml"><mi id="alg1.4.4.m3.3.3.5" xref="alg1.4.4.m3.3.3.5.cmml">A</mi><mo id="alg1.4.4.m3.3.3.4" xref="alg1.4.4.m3.3.3.4.cmml">=</mo><mrow id="alg1.4.4.m3.3.3.3.3" xref="alg1.4.4.m3.3.3.3.4.cmml"><mo id="alg1.4.4.m3.3.3.3.3.4" stretchy="false" xref="alg1.4.4.m3.3.3.3.4.cmml">{</mo><msub id="alg1.4.4.m3.1.1.1.1.1" xref="alg1.4.4.m3.1.1.1.1.1.cmml"><mi id="alg1.4.4.m3.1.1.1.1.1.2" xref="alg1.4.4.m3.1.1.1.1.1.2.cmml">a</mi><mn id="alg1.4.4.m3.1.1.1.1.1.3" xref="alg1.4.4.m3.1.1.1.1.1.3.cmml">1</mn></msub><mo id="alg1.4.4.m3.3.3.3.3.5" xref="alg1.4.4.m3.3.3.3.4.cmml">,</mo><mrow id="alg1.4.4.m3.2.2.2.2.2" xref="alg1.4.4.m3.2.2.2.2.2.cmml"><msub id="alg1.4.4.m3.2.2.2.2.2.2" xref="alg1.4.4.m3.2.2.2.2.2.2.cmml"><mi id="alg1.4.4.m3.2.2.2.2.2.2.2" xref="alg1.4.4.m3.2.2.2.2.2.2.2.cmml">a</mi><mn id="alg1.4.4.m3.2.2.2.2.2.2.3" xref="alg1.4.4.m3.2.2.2.2.2.2.3.cmml">2</mn></msub><mo id="alg1.4.4.m3.2.2.2.2.2.1" xref="alg1.4.4.m3.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.4.4.m3.2.2.2.2.2.3" mathvariant="normal" xref="alg1.4.4.m3.2.2.2.2.2.3.cmml">…</mi></mrow><mo id="alg1.4.4.m3.3.3.3.3.6" xref="alg1.4.4.m3.3.3.3.4.cmml">,</mo><msub id="alg1.4.4.m3.3.3.3.3.3" xref="alg1.4.4.m3.3.3.3.3.3.cmml"><mi id="alg1.4.4.m3.3.3.3.3.3.2" xref="alg1.4.4.m3.3.3.3.3.3.2.cmml">a</mi><mrow id="alg1.4.4.m3.3.3.3.3.3.3" xref="alg1.4.4.m3.3.3.3.3.3.3.cmml"><mi id="alg1.4.4.m3.3.3.3.3.3.3.2" xref="alg1.4.4.m3.3.3.3.3.3.3.2.cmml">w</mi><mo id="alg1.4.4.m3.3.3.3.3.3.3.1" xref="alg1.4.4.m3.3.3.3.3.3.3.1.cmml">−</mo><mn id="alg1.4.4.m3.3.3.3.3.3.3.3" xref="alg1.4.4.m3.3.3.3.3.3.3.3.cmml">1</mn></mrow></msub><mo id="alg1.4.4.m3.3.3.3.3.7" stretchy="false" xref="alg1.4.4.m3.3.3.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.4.4.m3.3b"><apply id="alg1.4.4.m3.3.3.cmml" xref="alg1.4.4.m3.3.3"><eq id="alg1.4.4.m3.3.3.4.cmml" xref="alg1.4.4.m3.3.3.4"></eq><ci id="alg1.4.4.m3.3.3.5.cmml" xref="alg1.4.4.m3.3.3.5">𝐴</ci><set id="alg1.4.4.m3.3.3.3.4.cmml" xref="alg1.4.4.m3.3.3.3.3"><apply id="alg1.4.4.m3.1.1.1.1.1.cmml" xref="alg1.4.4.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.4.4.m3.1.1.1.1.1.1.cmml" xref="alg1.4.4.m3.1.1.1.1.1">subscript</csymbol><ci id="alg1.4.4.m3.1.1.1.1.1.2.cmml" xref="alg1.4.4.m3.1.1.1.1.1.2">𝑎</ci><cn id="alg1.4.4.m3.1.1.1.1.1.3.cmml" type="integer" xref="alg1.4.4.m3.1.1.1.1.1.3">1</cn></apply><apply id="alg1.4.4.m3.2.2.2.2.2.cmml" xref="alg1.4.4.m3.2.2.2.2.2"><times id="alg1.4.4.m3.2.2.2.2.2.1.cmml" xref="alg1.4.4.m3.2.2.2.2.2.1"></times><apply id="alg1.4.4.m3.2.2.2.2.2.2.cmml" xref="alg1.4.4.m3.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.4.4.m3.2.2.2.2.2.2.1.cmml" xref="alg1.4.4.m3.2.2.2.2.2.2">subscript</csymbol><ci id="alg1.4.4.m3.2.2.2.2.2.2.2.cmml" xref="alg1.4.4.m3.2.2.2.2.2.2.2">𝑎</ci><cn id="alg1.4.4.m3.2.2.2.2.2.2.3.cmml" type="integer" xref="alg1.4.4.m3.2.2.2.2.2.2.3">2</cn></apply><ci id="alg1.4.4.m3.2.2.2.2.2.3.cmml" xref="alg1.4.4.m3.2.2.2.2.2.3">…</ci></apply><apply id="alg1.4.4.m3.3.3.3.3.3.cmml" xref="alg1.4.4.m3.3.3.3.3.3"><csymbol cd="ambiguous" id="alg1.4.4.m3.3.3.3.3.3.1.cmml" xref="alg1.4.4.m3.3.3.3.3.3">subscript</csymbol><ci id="alg1.4.4.m3.3.3.3.3.3.2.cmml" xref="alg1.4.4.m3.3.3.3.3.3.2">𝑎</ci><apply id="alg1.4.4.m3.3.3.3.3.3.3.cmml" xref="alg1.4.4.m3.3.3.3.3.3.3"><minus id="alg1.4.4.m3.3.3.3.3.3.3.1.cmml" xref="alg1.4.4.m3.3.3.3.3.3.3.1"></minus><ci id="alg1.4.4.m3.3.3.3.3.3.3.2.cmml" xref="alg1.4.4.m3.3.3.3.3.3.3.2">𝑤</ci><cn id="alg1.4.4.m3.3.3.3.3.3.3.3.cmml" type="integer" xref="alg1.4.4.m3.3.3.3.3.3.3.3">1</cn></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.4.m3.3c">A=\{a_{1},a_{2}\dots,a_{w-1}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.4.4.m3.3d">italic_A = { italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT … , italic_a start_POSTSUBSCRIPT italic_w - 1 end_POSTSUBSCRIPT }</annotation></semantics></math>;  Previous questions: <math alttext="Q=\{q_{1},q_{2}\dots,q_{w-1}\}" class="ltx_Math" display="inline" id="alg1.5.5.m4.3"><semantics id="alg1.5.5.m4.3a"><mrow id="alg1.5.5.m4.3.3" xref="alg1.5.5.m4.3.3.cmml"><mi id="alg1.5.5.m4.3.3.5" xref="alg1.5.5.m4.3.3.5.cmml">Q</mi><mo id="alg1.5.5.m4.3.3.4" xref="alg1.5.5.m4.3.3.4.cmml">=</mo><mrow id="alg1.5.5.m4.3.3.3.3" xref="alg1.5.5.m4.3.3.3.4.cmml"><mo id="alg1.5.5.m4.3.3.3.3.4" stretchy="false" xref="alg1.5.5.m4.3.3.3.4.cmml">{</mo><msub id="alg1.5.5.m4.1.1.1.1.1" xref="alg1.5.5.m4.1.1.1.1.1.cmml"><mi id="alg1.5.5.m4.1.1.1.1.1.2" xref="alg1.5.5.m4.1.1.1.1.1.2.cmml">q</mi><mn id="alg1.5.5.m4.1.1.1.1.1.3" xref="alg1.5.5.m4.1.1.1.1.1.3.cmml">1</mn></msub><mo id="alg1.5.5.m4.3.3.3.3.5" xref="alg1.5.5.m4.3.3.3.4.cmml">,</mo><mrow id="alg1.5.5.m4.2.2.2.2.2" xref="alg1.5.5.m4.2.2.2.2.2.cmml"><msub id="alg1.5.5.m4.2.2.2.2.2.2" xref="alg1.5.5.m4.2.2.2.2.2.2.cmml"><mi id="alg1.5.5.m4.2.2.2.2.2.2.2" xref="alg1.5.5.m4.2.2.2.2.2.2.2.cmml">q</mi><mn id="alg1.5.5.m4.2.2.2.2.2.2.3" xref="alg1.5.5.m4.2.2.2.2.2.2.3.cmml">2</mn></msub><mo id="alg1.5.5.m4.2.2.2.2.2.1" xref="alg1.5.5.m4.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.5.5.m4.2.2.2.2.2.3" mathvariant="normal" xref="alg1.5.5.m4.2.2.2.2.2.3.cmml">…</mi></mrow><mo id="alg1.5.5.m4.3.3.3.3.6" xref="alg1.5.5.m4.3.3.3.4.cmml">,</mo><msub id="alg1.5.5.m4.3.3.3.3.3" xref="alg1.5.5.m4.3.3.3.3.3.cmml"><mi id="alg1.5.5.m4.3.3.3.3.3.2" xref="alg1.5.5.m4.3.3.3.3.3.2.cmml">q</mi><mrow id="alg1.5.5.m4.3.3.3.3.3.3" xref="alg1.5.5.m4.3.3.3.3.3.3.cmml"><mi id="alg1.5.5.m4.3.3.3.3.3.3.2" xref="alg1.5.5.m4.3.3.3.3.3.3.2.cmml">w</mi><mo id="alg1.5.5.m4.3.3.3.3.3.3.1" xref="alg1.5.5.m4.3.3.3.3.3.3.1.cmml">−</mo><mn id="alg1.5.5.m4.3.3.3.3.3.3.3" xref="alg1.5.5.m4.3.3.3.3.3.3.3.cmml">1</mn></mrow></msub><mo id="alg1.5.5.m4.3.3.3.3.7" stretchy="false" xref="alg1.5.5.m4.3.3.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.5.5.m4.3b"><apply id="alg1.5.5.m4.3.3.cmml" xref="alg1.5.5.m4.3.3"><eq id="alg1.5.5.m4.3.3.4.cmml" xref="alg1.5.5.m4.3.3.4"></eq><ci id="alg1.5.5.m4.3.3.5.cmml" xref="alg1.5.5.m4.3.3.5">𝑄</ci><set id="alg1.5.5.m4.3.3.3.4.cmml" xref="alg1.5.5.m4.3.3.3.3"><apply id="alg1.5.5.m4.1.1.1.1.1.cmml" xref="alg1.5.5.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.5.5.m4.1.1.1.1.1.1.cmml" xref="alg1.5.5.m4.1.1.1.1.1">subscript</csymbol><ci id="alg1.5.5.m4.1.1.1.1.1.2.cmml" xref="alg1.5.5.m4.1.1.1.1.1.2">𝑞</ci><cn id="alg1.5.5.m4.1.1.1.1.1.3.cmml" type="integer" xref="alg1.5.5.m4.1.1.1.1.1.3">1</cn></apply><apply id="alg1.5.5.m4.2.2.2.2.2.cmml" xref="alg1.5.5.m4.2.2.2.2.2"><times id="alg1.5.5.m4.2.2.2.2.2.1.cmml" xref="alg1.5.5.m4.2.2.2.2.2.1"></times><apply id="alg1.5.5.m4.2.2.2.2.2.2.cmml" xref="alg1.5.5.m4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.5.5.m4.2.2.2.2.2.2.1.cmml" xref="alg1.5.5.m4.2.2.2.2.2.2">subscript</csymbol><ci id="alg1.5.5.m4.2.2.2.2.2.2.2.cmml" xref="alg1.5.5.m4.2.2.2.2.2.2.2">𝑞</ci><cn id="alg1.5.5.m4.2.2.2.2.2.2.3.cmml" type="integer" xref="alg1.5.5.m4.2.2.2.2.2.2.3">2</cn></apply><ci id="alg1.5.5.m4.2.2.2.2.2.3.cmml" xref="alg1.5.5.m4.2.2.2.2.2.3">…</ci></apply><apply id="alg1.5.5.m4.3.3.3.3.3.cmml" xref="alg1.5.5.m4.3.3.3.3.3"><csymbol cd="ambiguous" id="alg1.5.5.m4.3.3.3.3.3.1.cmml" xref="alg1.5.5.m4.3.3.3.3.3">subscript</csymbol><ci id="alg1.5.5.m4.3.3.3.3.3.2.cmml" xref="alg1.5.5.m4.3.3.3.3.3.2">𝑞</ci><apply id="alg1.5.5.m4.3.3.3.3.3.3.cmml" xref="alg1.5.5.m4.3.3.3.3.3.3"><minus id="alg1.5.5.m4.3.3.3.3.3.3.1.cmml" xref="alg1.5.5.m4.3.3.3.3.3.3.1"></minus><ci id="alg1.5.5.m4.3.3.3.3.3.3.2.cmml" xref="alg1.5.5.m4.3.3.3.3.3.3.2">𝑤</ci><cn id="alg1.5.5.m4.3.3.3.3.3.3.3.cmml" type="integer" xref="alg1.5.5.m4.3.3.3.3.3.3.3">1</cn></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.5.m4.3c">Q=\{q_{1},q_{2}\dots,q_{w-1}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.5.5.m4.3d">italic_Q = { italic_q start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_q start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT … , italic_q start_POSTSUBSCRIPT italic_w - 1 end_POSTSUBSCRIPT }</annotation></semantics></math>; Rethink rounds: <math alttext="t" class="ltx_Math" display="inline" id="alg1.6.6.m5.1"><semantics id="alg1.6.6.m5.1a"><mi id="alg1.6.6.m5.1.1" xref="alg1.6.6.m5.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="alg1.6.6.m5.1b"><ci id="alg1.6.6.m5.1.1.cmml" xref="alg1.6.6.m5.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.6.m5.1c">t</annotation><annotation encoding="application/x-llamapun" id="alg1.6.6.m5.1d">italic_t</annotation></semantics></math>; Threshold: <math alttext="th_{1}" class="ltx_Math" display="inline" id="alg1.7.7.m6.1"><semantics id="alg1.7.7.m6.1a"><mrow id="alg1.7.7.m6.1.1" xref="alg1.7.7.m6.1.1.cmml"><mi id="alg1.7.7.m6.1.1.2" xref="alg1.7.7.m6.1.1.2.cmml">t</mi><mo id="alg1.7.7.m6.1.1.1" xref="alg1.7.7.m6.1.1.1.cmml">⁢</mo><msub id="alg1.7.7.m6.1.1.3" xref="alg1.7.7.m6.1.1.3.cmml"><mi id="alg1.7.7.m6.1.1.3.2" xref="alg1.7.7.m6.1.1.3.2.cmml">h</mi><mn id="alg1.7.7.m6.1.1.3.3" xref="alg1.7.7.m6.1.1.3.3.cmml">1</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.7.7.m6.1b"><apply id="alg1.7.7.m6.1.1.cmml" xref="alg1.7.7.m6.1.1"><times id="alg1.7.7.m6.1.1.1.cmml" xref="alg1.7.7.m6.1.1.1"></times><ci id="alg1.7.7.m6.1.1.2.cmml" xref="alg1.7.7.m6.1.1.2">𝑡</ci><apply id="alg1.7.7.m6.1.1.3.cmml" xref="alg1.7.7.m6.1.1.3"><csymbol cd="ambiguous" id="alg1.7.7.m6.1.1.3.1.cmml" xref="alg1.7.7.m6.1.1.3">subscript</csymbol><ci id="alg1.7.7.m6.1.1.3.2.cmml" xref="alg1.7.7.m6.1.1.3.2">ℎ</ci><cn id="alg1.7.7.m6.1.1.3.3.cmml" type="integer" xref="alg1.7.7.m6.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.7.m6.1c">th_{1}</annotation><annotation encoding="application/x-llamapun" id="alg1.7.7.m6.1d">italic_t italic_h start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="th_{2}" class="ltx_Math" display="inline" id="alg1.8.8.m7.1"><semantics id="alg1.8.8.m7.1a"><mrow id="alg1.8.8.m7.1.1" xref="alg1.8.8.m7.1.1.cmml"><mi id="alg1.8.8.m7.1.1.2" xref="alg1.8.8.m7.1.1.2.cmml">t</mi><mo id="alg1.8.8.m7.1.1.1" xref="alg1.8.8.m7.1.1.1.cmml">⁢</mo><msub id="alg1.8.8.m7.1.1.3" xref="alg1.8.8.m7.1.1.3.cmml"><mi id="alg1.8.8.m7.1.1.3.2" xref="alg1.8.8.m7.1.1.3.2.cmml">h</mi><mn id="alg1.8.8.m7.1.1.3.3" xref="alg1.8.8.m7.1.1.3.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.8.8.m7.1b"><apply id="alg1.8.8.m7.1.1.cmml" xref="alg1.8.8.m7.1.1"><times id="alg1.8.8.m7.1.1.1.cmml" xref="alg1.8.8.m7.1.1.1"></times><ci id="alg1.8.8.m7.1.1.2.cmml" xref="alg1.8.8.m7.1.1.2">𝑡</ci><apply id="alg1.8.8.m7.1.1.3.cmml" xref="alg1.8.8.m7.1.1.3"><csymbol cd="ambiguous" id="alg1.8.8.m7.1.1.3.1.cmml" xref="alg1.8.8.m7.1.1.3">subscript</csymbol><ci id="alg1.8.8.m7.1.1.3.2.cmml" xref="alg1.8.8.m7.1.1.3.2">ℎ</ci><cn id="alg1.8.8.m7.1.1.3.3.cmml" type="integer" xref="alg1.8.8.m7.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.8.m7.1c">th_{2}</annotation><annotation encoding="application/x-llamapun" id="alg1.8.8.m7.1d">italic_t italic_h start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="th_{3}" class="ltx_Math" display="inline" id="alg1.9.9.m8.1"><semantics id="alg1.9.9.m8.1a"><mrow id="alg1.9.9.m8.1.1" xref="alg1.9.9.m8.1.1.cmml"><mi id="alg1.9.9.m8.1.1.2" xref="alg1.9.9.m8.1.1.2.cmml">t</mi><mo id="alg1.9.9.m8.1.1.1" xref="alg1.9.9.m8.1.1.1.cmml">⁢</mo><msub id="alg1.9.9.m8.1.1.3" xref="alg1.9.9.m8.1.1.3.cmml"><mi id="alg1.9.9.m8.1.1.3.2" xref="alg1.9.9.m8.1.1.3.2.cmml">h</mi><mn id="alg1.9.9.m8.1.1.3.3" xref="alg1.9.9.m8.1.1.3.3.cmml">3</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.9.9.m8.1b"><apply id="alg1.9.9.m8.1.1.cmml" xref="alg1.9.9.m8.1.1"><times id="alg1.9.9.m8.1.1.1.cmml" xref="alg1.9.9.m8.1.1.1"></times><ci id="alg1.9.9.m8.1.1.2.cmml" xref="alg1.9.9.m8.1.1.2">𝑡</ci><apply id="alg1.9.9.m8.1.1.3.cmml" xref="alg1.9.9.m8.1.1.3"><csymbol cd="ambiguous" id="alg1.9.9.m8.1.1.3.1.cmml" xref="alg1.9.9.m8.1.1.3">subscript</csymbol><ci id="alg1.9.9.m8.1.1.3.2.cmml" xref="alg1.9.9.m8.1.1.3.2">ℎ</ci><cn id="alg1.9.9.m8.1.1.3.3.cmml" type="integer" xref="alg1.9.9.m8.1.1.3.3">3</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.9.9.m8.1c">th_{3}</annotation><annotation encoding="application/x-llamapun" id="alg1.9.9.m8.1d">italic_t italic_h start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math>.
</div>
<div class="ltx_listingline" id="alg1.10.10">
<span class="ltx_text ltx_font_bold" id="alg1.10.10.1">Output :</span> Final answer: <math alttext="o" class="ltx_Math" display="inline" id="alg1.10.10.m1.1"><semantics id="alg1.10.10.m1.1a"><mi id="alg1.10.10.m1.1.1" xref="alg1.10.10.m1.1.1.cmml">o</mi><annotation-xml encoding="MathML-Content" id="alg1.10.10.m1.1b"><ci id="alg1.10.10.m1.1.1.cmml" xref="alg1.10.10.m1.1.1">𝑜</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.10.10.m1.1c">o</annotation><annotation encoding="application/x-llamapun" id="alg1.10.10.m1.1d">italic_o</annotation></semantics></math>.
</div>
<div class="ltx_listingline" id="alg1.85.86">
<span class="ltx_tag ltx_tag_listingline">1</span>
</div>
<div class="ltx_listingline" id="alg1.85.87">
<span class="ltx_tag ltx_tag_listingline">2</span>
</div>
<div class="ltx_listingline" id="alg1.85.88">
<span class="ltx_tag ltx_tag_listingline">3</span>
</div>
<div class="ltx_listingline" id="alg1.13.13">
<span class="ltx_tag ltx_tag_listingline">4</span>
<span class="ltx_text ltx_font_bold" id="alg1.13.13.4">Function</span> <em class="ltx_emph ltx_font_typewriter" id="alg1.13.13.3">Decompose(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.13.13.3.3.3"><math alttext="x" class="ltx_Math" display="inline" id="alg1.11.11.1.1.1.m1.1"><semantics id="alg1.11.11.1.1.1.m1.1a"><mi id="alg1.11.11.1.1.1.m1.1.1" xref="alg1.11.11.1.1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="alg1.11.11.1.1.1.m1.1b"><ci id="alg1.11.11.1.1.1.m1.1.1.cmml" xref="alg1.11.11.1.1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.11.11.1.1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="alg1.11.11.1.1.1.m1.1d">italic_x</annotation></semantics></math>, <math alttext="w" class="ltx_Math" display="inline" id="alg1.12.12.2.2.2.m2.1"><semantics id="alg1.12.12.2.2.2.m2.1a"><mi id="alg1.12.12.2.2.2.m2.1.1" xref="alg1.12.12.2.2.2.m2.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="alg1.12.12.2.2.2.m2.1b"><ci id="alg1.12.12.2.2.2.m2.1.1.cmml" xref="alg1.12.12.2.2.2.m2.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.12.12.2.2.2.m2.1c">w</annotation><annotation encoding="application/x-llamapun" id="alg1.12.12.2.2.2.m2.1d">italic_w</annotation></semantics></math>, <math alttext="A" class="ltx_Math" display="inline" id="alg1.13.13.3.3.3.m3.1"><semantics id="alg1.13.13.3.3.3.m3.1a"><mi id="alg1.13.13.3.3.3.m3.1.1" xref="alg1.13.13.3.3.3.m3.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="alg1.13.13.3.3.3.m3.1b"><ci id="alg1.13.13.3.3.3.m3.1.1.cmml" xref="alg1.13.13.3.3.3.m3.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.13.13.3.3.3.m3.1c">A</annotation><annotation encoding="application/x-llamapun" id="alg1.13.13.3.3.3.m3.1d">italic_A</annotation></semantics></math></em>)</em><span class="ltx_text ltx_font_bold" id="alg1.13.13.5">:</span>
</div>
<div class="ltx_listingline" id="alg1.17.17">
<span class="ltx_tag ltx_tag_listingline">5</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="q=" class="ltx_Math" display="inline" id="alg1.14.14.m1.1"><semantics id="alg1.14.14.m1.1a"><mrow id="alg1.14.14.m1.1.1" xref="alg1.14.14.m1.1.1.cmml"><mi id="alg1.14.14.m1.1.1.2" xref="alg1.14.14.m1.1.1.2.cmml">q</mi><mo id="alg1.14.14.m1.1.1.1" xref="alg1.14.14.m1.1.1.1.cmml">=</mo><mi id="alg1.14.14.m1.1.1.3" xref="alg1.14.14.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.14.14.m1.1b"><apply id="alg1.14.14.m1.1.1.cmml" xref="alg1.14.14.m1.1.1"><eq id="alg1.14.14.m1.1.1.1.cmml" xref="alg1.14.14.m1.1.1.1"></eq><ci id="alg1.14.14.m1.1.1.2.cmml" xref="alg1.14.14.m1.1.1.2">𝑞</ci><csymbol cd="latexml" id="alg1.14.14.m1.1.1.3.cmml" xref="alg1.14.14.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.14.14.m1.1c">q=</annotation><annotation encoding="application/x-llamapun" id="alg1.14.14.m1.1d">italic_q =</annotation></semantics></math> <span class="ltx_text ltx_font_typewriter" id="alg1.17.17.3">LLM(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.17.17.3.3"><math alttext="x" class="ltx_Math" display="inline" id="alg1.15.15.1.1.m1.1"><semantics id="alg1.15.15.1.1.m1.1a"><mi id="alg1.15.15.1.1.m1.1.1" xref="alg1.15.15.1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="alg1.15.15.1.1.m1.1b"><ci id="alg1.15.15.1.1.m1.1.1.cmml" xref="alg1.15.15.1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.15.15.1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="alg1.15.15.1.1.m1.1d">italic_x</annotation></semantics></math>, <math alttext="w" class="ltx_Math" display="inline" id="alg1.16.16.2.2.m2.1"><semantics id="alg1.16.16.2.2.m2.1a"><mi id="alg1.16.16.2.2.m2.1.1" xref="alg1.16.16.2.2.m2.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="alg1.16.16.2.2.m2.1b"><ci id="alg1.16.16.2.2.m2.1.1.cmml" xref="alg1.16.16.2.2.m2.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.16.16.2.2.m2.1c">w</annotation><annotation encoding="application/x-llamapun" id="alg1.16.16.2.2.m2.1d">italic_w</annotation></semantics></math>, <math alttext="A" class="ltx_Math" display="inline" id="alg1.17.17.3.3.m3.1"><semantics id="alg1.17.17.3.3.m3.1a"><mi id="alg1.17.17.3.3.m3.1.1" xref="alg1.17.17.3.3.m3.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="alg1.17.17.3.3.m3.1b"><ci id="alg1.17.17.3.3.m3.1.1.cmml" xref="alg1.17.17.3.3.m3.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.17.17.3.3.m3.1c">A</annotation><annotation encoding="application/x-llamapun" id="alg1.17.17.3.3.m3.1d">italic_A</annotation></semantics></math></em>)</span>;
<span class="ltx_text ltx_font_italic" id="alg1.17.17.4">//Use the original question and previous sub-answers to get new sub-question</span>
</div>
<div class="ltx_listingline" id="alg1.18.18">
<span class="ltx_tag ltx_tag_listingline">6</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="alg1.18.18.1">return</span> <math alttext="q" class="ltx_Math" display="inline" id="alg1.18.18.m1.1"><semantics id="alg1.18.18.m1.1a"><mi id="alg1.18.18.m1.1.1" xref="alg1.18.18.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="alg1.18.18.m1.1b"><ci id="alg1.18.18.m1.1.1.cmml" xref="alg1.18.18.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.18.18.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="alg1.18.18.m1.1d">italic_q</annotation></semantics></math> ;
</div>
<div class="ltx_listingline" id="alg1.85.89">
<span class="ltx_tag ltx_tag_listingline">7</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="alg1.19.19">
<span class="ltx_tag ltx_tag_listingline">8</span>
<span class="ltx_text ltx_font_bold" id="alg1.19.19.2">Function</span> <em class="ltx_emph ltx_font_typewriter" id="alg1.19.19.1">RewriteAndAnswerQuestion(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.19.19.1.1.1"><math alttext="q,A,x,D,e" class="ltx_Math" display="inline" id="alg1.19.19.1.1.1.m1.5"><semantics id="alg1.19.19.1.1.1.m1.5a"><mrow id="alg1.19.19.1.1.1.m1.5.6.2" xref="alg1.19.19.1.1.1.m1.5.6.1.cmml"><mi id="alg1.19.19.1.1.1.m1.1.1" xref="alg1.19.19.1.1.1.m1.1.1.cmml">q</mi><mo id="alg1.19.19.1.1.1.m1.5.6.2.1" xref="alg1.19.19.1.1.1.m1.5.6.1.cmml">,</mo><mi id="alg1.19.19.1.1.1.m1.2.2" xref="alg1.19.19.1.1.1.m1.2.2.cmml">A</mi><mo id="alg1.19.19.1.1.1.m1.5.6.2.2" xref="alg1.19.19.1.1.1.m1.5.6.1.cmml">,</mo><mi id="alg1.19.19.1.1.1.m1.3.3" xref="alg1.19.19.1.1.1.m1.3.3.cmml">x</mi><mo id="alg1.19.19.1.1.1.m1.5.6.2.3" xref="alg1.19.19.1.1.1.m1.5.6.1.cmml">,</mo><mi id="alg1.19.19.1.1.1.m1.4.4" xref="alg1.19.19.1.1.1.m1.4.4.cmml">D</mi><mo id="alg1.19.19.1.1.1.m1.5.6.2.4" xref="alg1.19.19.1.1.1.m1.5.6.1.cmml">,</mo><mi id="alg1.19.19.1.1.1.m1.5.5" xref="alg1.19.19.1.1.1.m1.5.5.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.19.19.1.1.1.m1.5b"><list id="alg1.19.19.1.1.1.m1.5.6.1.cmml" xref="alg1.19.19.1.1.1.m1.5.6.2"><ci id="alg1.19.19.1.1.1.m1.1.1.cmml" xref="alg1.19.19.1.1.1.m1.1.1">𝑞</ci><ci id="alg1.19.19.1.1.1.m1.2.2.cmml" xref="alg1.19.19.1.1.1.m1.2.2">𝐴</ci><ci id="alg1.19.19.1.1.1.m1.3.3.cmml" xref="alg1.19.19.1.1.1.m1.3.3">𝑥</ci><ci id="alg1.19.19.1.1.1.m1.4.4.cmml" xref="alg1.19.19.1.1.1.m1.4.4">𝐷</ci><ci id="alg1.19.19.1.1.1.m1.5.5.cmml" xref="alg1.19.19.1.1.1.m1.5.5">𝑒</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.19.19.1.1.1.m1.5c">q,A,x,D,e</annotation><annotation encoding="application/x-llamapun" id="alg1.19.19.1.1.1.m1.5d">italic_q , italic_A , italic_x , italic_D , italic_e</annotation></semantics></math></em>)</em><span class="ltx_text ltx_font_bold" id="alg1.19.19.3">:</span>
</div>
<div class="ltx_listingline" id="alg1.85.90">
<span class="ltx_tag ltx_tag_listingline">9</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_italic" id="alg1.85.90.1">//There is the case of semantic incompleteness</span>
</div>
<div class="ltx_listingline" id="alg1.20.20">
<span class="ltx_tag ltx_tag_listingline">10</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="IncFlag" class="ltx_Math" display="inline" id="alg1.20.20.m1.1"><semantics id="alg1.20.20.m1.1a"><mrow id="alg1.20.20.m1.1.1" xref="alg1.20.20.m1.1.1.cmml"><mi id="alg1.20.20.m1.1.1.2" xref="alg1.20.20.m1.1.1.2.cmml">I</mi><mo id="alg1.20.20.m1.1.1.1" xref="alg1.20.20.m1.1.1.1.cmml">⁢</mo><mi id="alg1.20.20.m1.1.1.3" xref="alg1.20.20.m1.1.1.3.cmml">n</mi><mo id="alg1.20.20.m1.1.1.1a" xref="alg1.20.20.m1.1.1.1.cmml">⁢</mo><mi id="alg1.20.20.m1.1.1.4" xref="alg1.20.20.m1.1.1.4.cmml">c</mi><mo id="alg1.20.20.m1.1.1.1b" xref="alg1.20.20.m1.1.1.1.cmml">⁢</mo><mi id="alg1.20.20.m1.1.1.5" xref="alg1.20.20.m1.1.1.5.cmml">F</mi><mo id="alg1.20.20.m1.1.1.1c" xref="alg1.20.20.m1.1.1.1.cmml">⁢</mo><mi id="alg1.20.20.m1.1.1.6" xref="alg1.20.20.m1.1.1.6.cmml">l</mi><mo id="alg1.20.20.m1.1.1.1d" xref="alg1.20.20.m1.1.1.1.cmml">⁢</mo><mi id="alg1.20.20.m1.1.1.7" xref="alg1.20.20.m1.1.1.7.cmml">a</mi><mo id="alg1.20.20.m1.1.1.1e" xref="alg1.20.20.m1.1.1.1.cmml">⁢</mo><mi id="alg1.20.20.m1.1.1.8" xref="alg1.20.20.m1.1.1.8.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.20.20.m1.1b"><apply id="alg1.20.20.m1.1.1.cmml" xref="alg1.20.20.m1.1.1"><times id="alg1.20.20.m1.1.1.1.cmml" xref="alg1.20.20.m1.1.1.1"></times><ci id="alg1.20.20.m1.1.1.2.cmml" xref="alg1.20.20.m1.1.1.2">𝐼</ci><ci id="alg1.20.20.m1.1.1.3.cmml" xref="alg1.20.20.m1.1.1.3">𝑛</ci><ci id="alg1.20.20.m1.1.1.4.cmml" xref="alg1.20.20.m1.1.1.4">𝑐</ci><ci id="alg1.20.20.m1.1.1.5.cmml" xref="alg1.20.20.m1.1.1.5">𝐹</ci><ci id="alg1.20.20.m1.1.1.6.cmml" xref="alg1.20.20.m1.1.1.6">𝑙</ci><ci id="alg1.20.20.m1.1.1.7.cmml" xref="alg1.20.20.m1.1.1.7">𝑎</ci><ci id="alg1.20.20.m1.1.1.8.cmml" xref="alg1.20.20.m1.1.1.8">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.20.20.m1.1c">IncFlag</annotation><annotation encoding="application/x-llamapun" id="alg1.20.20.m1.1d">italic_I italic_n italic_c italic_F italic_l italic_a italic_g</annotation></semantics></math> =Flase;
</div>
<div class="ltx_listingline" id="alg1.22.22">
<span class="ltx_tag ltx_tag_listingline">11</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="alg1.22.22.3">foreach</span> <em class="ltx_emph ltx_font_italic" id="alg1.22.22.2"><math alttext="a_{i}" class="ltx_Math" display="inline" id="alg1.21.21.1.m1.1"><semantics id="alg1.21.21.1.m1.1a"><msub id="alg1.21.21.1.m1.1.1" xref="alg1.21.21.1.m1.1.1.cmml"><mi id="alg1.21.21.1.m1.1.1.2" xref="alg1.21.21.1.m1.1.1.2.cmml">a</mi><mi id="alg1.21.21.1.m1.1.1.3" xref="alg1.21.21.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.21.21.1.m1.1b"><apply id="alg1.21.21.1.m1.1.1.cmml" xref="alg1.21.21.1.m1.1.1"><csymbol cd="ambiguous" id="alg1.21.21.1.m1.1.1.1.cmml" xref="alg1.21.21.1.m1.1.1">subscript</csymbol><ci id="alg1.21.21.1.m1.1.1.2.cmml" xref="alg1.21.21.1.m1.1.1.2">𝑎</ci><ci id="alg1.21.21.1.m1.1.1.3.cmml" xref="alg1.21.21.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.21.21.1.m1.1c">a_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.21.21.1.m1.1d">italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in <math alttext="A" class="ltx_Math" display="inline" id="alg1.22.22.2.m2.1"><semantics id="alg1.22.22.2.m2.1a"><mi id="alg1.22.22.2.m2.1.1" xref="alg1.22.22.2.m2.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="alg1.22.22.2.m2.1b"><ci id="alg1.22.22.2.m2.1.1.cmml" xref="alg1.22.22.2.m2.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.22.22.2.m2.1c">A</annotation><annotation encoding="application/x-llamapun" id="alg1.22.22.2.m2.1d">italic_A</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="alg1.22.22.4">do</span>
</div>
<div class="ltx_listingline" id="alg1.24.24">
<span class="ltx_tag ltx_tag_listingline">12</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="alg1.24.24.3">if</span> <em class="ltx_emph ltx_font_italic" id="alg1.24.24.2"><math alttext="e" class="ltx_Math" display="inline" id="alg1.23.23.1.m1.1"><semantics id="alg1.23.23.1.m1.1a"><mi id="alg1.23.23.1.m1.1.1" xref="alg1.23.23.1.m1.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="alg1.23.23.1.m1.1b"><ci id="alg1.23.23.1.m1.1.1.cmml" xref="alg1.23.23.1.m1.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.23.23.1.m1.1c">e</annotation><annotation encoding="application/x-llamapun" id="alg1.23.23.1.m1.1d">italic_e</annotation></semantics></math> in <math alttext="a_{i}" class="ltx_Math" display="inline" id="alg1.24.24.2.m2.1"><semantics id="alg1.24.24.2.m2.1a"><msub id="alg1.24.24.2.m2.1.1" xref="alg1.24.24.2.m2.1.1.cmml"><mi id="alg1.24.24.2.m2.1.1.2" xref="alg1.24.24.2.m2.1.1.2.cmml">a</mi><mi id="alg1.24.24.2.m2.1.1.3" xref="alg1.24.24.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.24.24.2.m2.1b"><apply id="alg1.24.24.2.m2.1.1.cmml" xref="alg1.24.24.2.m2.1.1"><csymbol cd="ambiguous" id="alg1.24.24.2.m2.1.1.1.cmml" xref="alg1.24.24.2.m2.1.1">subscript</csymbol><ci id="alg1.24.24.2.m2.1.1.2.cmml" xref="alg1.24.24.2.m2.1.1.2">𝑎</ci><ci id="alg1.24.24.2.m2.1.1.3.cmml" xref="alg1.24.24.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.24.24.2.m2.1c">a_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.24.24.2.m2.1d">italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="alg1.24.24.4">then</span>
</div>
<div class="ltx_listingline" id="alg1.26.26">
<span class="ltx_tag ltx_tag_listingline">13</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math alttext="q^{*}" class="ltx_Math" display="inline" id="alg1.25.25.m1.1"><semantics id="alg1.25.25.m1.1a"><msup id="alg1.25.25.m1.1.1" xref="alg1.25.25.m1.1.1.cmml"><mi id="alg1.25.25.m1.1.1.2" xref="alg1.25.25.m1.1.1.2.cmml">q</mi><mo id="alg1.25.25.m1.1.1.3" xref="alg1.25.25.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="alg1.25.25.m1.1b"><apply id="alg1.25.25.m1.1.1.cmml" xref="alg1.25.25.m1.1.1"><csymbol cd="ambiguous" id="alg1.25.25.m1.1.1.1.cmml" xref="alg1.25.25.m1.1.1">superscript</csymbol><ci id="alg1.25.25.m1.1.1.2.cmml" xref="alg1.25.25.m1.1.1.2">𝑞</ci><times id="alg1.25.25.m1.1.1.3.cmml" xref="alg1.25.25.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.25.25.m1.1c">q^{*}</annotation><annotation encoding="application/x-llamapun" id="alg1.25.25.m1.1d">italic_q start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> =<span class="ltx_text ltx_font_typewriter" id="alg1.26.26.1">LLM(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.26.26.1.1"><math alttext="q,a_{i}" class="ltx_Math" display="inline" id="alg1.26.26.1.1.m1.2"><semantics id="alg1.26.26.1.1.m1.2a"><mrow id="alg1.26.26.1.1.m1.2.2.1" xref="alg1.26.26.1.1.m1.2.2.2.cmml"><mi id="alg1.26.26.1.1.m1.1.1" xref="alg1.26.26.1.1.m1.1.1.cmml">q</mi><mo id="alg1.26.26.1.1.m1.2.2.1.2" xref="alg1.26.26.1.1.m1.2.2.2.cmml">,</mo><msub id="alg1.26.26.1.1.m1.2.2.1.1" xref="alg1.26.26.1.1.m1.2.2.1.1.cmml"><mi id="alg1.26.26.1.1.m1.2.2.1.1.2" xref="alg1.26.26.1.1.m1.2.2.1.1.2.cmml">a</mi><mi id="alg1.26.26.1.1.m1.2.2.1.1.3" xref="alg1.26.26.1.1.m1.2.2.1.1.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.26.26.1.1.m1.2b"><list id="alg1.26.26.1.1.m1.2.2.2.cmml" xref="alg1.26.26.1.1.m1.2.2.1"><ci id="alg1.26.26.1.1.m1.1.1.cmml" xref="alg1.26.26.1.1.m1.1.1">𝑞</ci><apply id="alg1.26.26.1.1.m1.2.2.1.1.cmml" xref="alg1.26.26.1.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg1.26.26.1.1.m1.2.2.1.1.1.cmml" xref="alg1.26.26.1.1.m1.2.2.1.1">subscript</csymbol><ci id="alg1.26.26.1.1.m1.2.2.1.1.2.cmml" xref="alg1.26.26.1.1.m1.2.2.1.1.2">𝑎</ci><ci id="alg1.26.26.1.1.m1.2.2.1.1.3.cmml" xref="alg1.26.26.1.1.m1.2.2.1.1.3">𝑖</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.26.26.1.1.m1.2c">q,a_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.26.26.1.1.m1.2d">italic_q , italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></em>)</span>;<span class="ltx_text ltx_font_italic" id="alg1.26.26.2">//rewrite the question</span>
</div>
<div class="ltx_listingline" id="alg1.27.27">
<span class="ltx_tag ltx_tag_listingline">14</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="IncFlag" class="ltx_Math" display="inline" id="alg1.27.27.m1.1"><semantics id="alg1.27.27.m1.1a"><mrow id="alg1.27.27.m1.1.1" xref="alg1.27.27.m1.1.1.cmml"><mi id="alg1.27.27.m1.1.1.2" xref="alg1.27.27.m1.1.1.2.cmml">I</mi><mo id="alg1.27.27.m1.1.1.1" xref="alg1.27.27.m1.1.1.1.cmml">⁢</mo><mi id="alg1.27.27.m1.1.1.3" xref="alg1.27.27.m1.1.1.3.cmml">n</mi><mo id="alg1.27.27.m1.1.1.1a" xref="alg1.27.27.m1.1.1.1.cmml">⁢</mo><mi id="alg1.27.27.m1.1.1.4" xref="alg1.27.27.m1.1.1.4.cmml">c</mi><mo id="alg1.27.27.m1.1.1.1b" xref="alg1.27.27.m1.1.1.1.cmml">⁢</mo><mi id="alg1.27.27.m1.1.1.5" xref="alg1.27.27.m1.1.1.5.cmml">F</mi><mo id="alg1.27.27.m1.1.1.1c" xref="alg1.27.27.m1.1.1.1.cmml">⁢</mo><mi id="alg1.27.27.m1.1.1.6" xref="alg1.27.27.m1.1.1.6.cmml">l</mi><mo id="alg1.27.27.m1.1.1.1d" xref="alg1.27.27.m1.1.1.1.cmml">⁢</mo><mi id="alg1.27.27.m1.1.1.7" xref="alg1.27.27.m1.1.1.7.cmml">a</mi><mo id="alg1.27.27.m1.1.1.1e" xref="alg1.27.27.m1.1.1.1.cmml">⁢</mo><mi id="alg1.27.27.m1.1.1.8" xref="alg1.27.27.m1.1.1.8.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.27.27.m1.1b"><apply id="alg1.27.27.m1.1.1.cmml" xref="alg1.27.27.m1.1.1"><times id="alg1.27.27.m1.1.1.1.cmml" xref="alg1.27.27.m1.1.1.1"></times><ci id="alg1.27.27.m1.1.1.2.cmml" xref="alg1.27.27.m1.1.1.2">𝐼</ci><ci id="alg1.27.27.m1.1.1.3.cmml" xref="alg1.27.27.m1.1.1.3">𝑛</ci><ci id="alg1.27.27.m1.1.1.4.cmml" xref="alg1.27.27.m1.1.1.4">𝑐</ci><ci id="alg1.27.27.m1.1.1.5.cmml" xref="alg1.27.27.m1.1.1.5">𝐹</ci><ci id="alg1.27.27.m1.1.1.6.cmml" xref="alg1.27.27.m1.1.1.6">𝑙</ci><ci id="alg1.27.27.m1.1.1.7.cmml" xref="alg1.27.27.m1.1.1.7">𝑎</ci><ci id="alg1.27.27.m1.1.1.8.cmml" xref="alg1.27.27.m1.1.1.8">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.27.27.m1.1c">IncFlag</annotation><annotation encoding="application/x-llamapun" id="alg1.27.27.m1.1d">italic_I italic_n italic_c italic_F italic_l italic_a italic_g</annotation></semantics></math> =True;

</div>
<div class="ltx_listingline" id="alg1.85.91">
<span class="ltx_tag ltx_tag_listingline">15</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div class="ltx_listingline" id="alg1.28.28">
<span class="ltx_tag ltx_tag_listingline">16</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span class="ltx_text ltx_font_bold" id="alg1.28.28.2">if</span> <em class="ltx_emph ltx_font_italic" id="alg1.28.28.1"><math alttext="IncFlag==Flase" class="ltx_math_unparsed" display="inline" id="alg1.28.28.1.m1.1"><semantics id="alg1.28.28.1.m1.1a"><mrow id="alg1.28.28.1.m1.1b"><mi id="alg1.28.28.1.m1.1.1">I</mi><mi id="alg1.28.28.1.m1.1.2">n</mi><mi id="alg1.28.28.1.m1.1.3">c</mi><mi id="alg1.28.28.1.m1.1.4">F</mi><mi id="alg1.28.28.1.m1.1.5">l</mi><mi id="alg1.28.28.1.m1.1.6">a</mi><mi id="alg1.28.28.1.m1.1.7">g</mi><mo id="alg1.28.28.1.m1.1.8" rspace="0em">=</mo><mo id="alg1.28.28.1.m1.1.9" lspace="0em">=</mo><mi id="alg1.28.28.1.m1.1.10">F</mi><mi id="alg1.28.28.1.m1.1.11">l</mi><mi id="alg1.28.28.1.m1.1.12">a</mi><mi id="alg1.28.28.1.m1.1.13">s</mi><mi id="alg1.28.28.1.m1.1.14">e</mi></mrow><annotation encoding="application/x-tex" id="alg1.28.28.1.m1.1c">IncFlag==Flase</annotation><annotation encoding="application/x-llamapun" id="alg1.28.28.1.m1.1d">italic_I italic_n italic_c italic_F italic_l italic_a italic_g = = italic_F italic_l italic_a italic_s italic_e</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="alg1.28.28.3">then</span>
</div>
<div class="ltx_listingline" id="alg1.85.92">
<span class="ltx_tag ltx_tag_listingline">17</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_italic" id="alg1.85.92.1">//previous sub-answers don’t contain question’s entity</span>
</div>
<div class="ltx_listingline" id="alg1.30.30">
<span class="ltx_tag ltx_tag_listingline">18</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="q^{*}" class="ltx_Math" display="inline" id="alg1.29.29.m1.1"><semantics id="alg1.29.29.m1.1a"><msup id="alg1.29.29.m1.1.1" xref="alg1.29.29.m1.1.1.cmml"><mi id="alg1.29.29.m1.1.1.2" xref="alg1.29.29.m1.1.1.2.cmml">q</mi><mo id="alg1.29.29.m1.1.1.3" xref="alg1.29.29.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="alg1.29.29.m1.1b"><apply id="alg1.29.29.m1.1.1.cmml" xref="alg1.29.29.m1.1.1"><csymbol cd="ambiguous" id="alg1.29.29.m1.1.1.1.cmml" xref="alg1.29.29.m1.1.1">superscript</csymbol><ci id="alg1.29.29.m1.1.1.2.cmml" xref="alg1.29.29.m1.1.1.2">𝑞</ci><times id="alg1.29.29.m1.1.1.3.cmml" xref="alg1.29.29.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.29.29.m1.1c">q^{*}</annotation><annotation encoding="application/x-llamapun" id="alg1.29.29.m1.1d">italic_q start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> =<span class="ltx_text ltx_font_typewriter" id="alg1.30.30.1">LLM(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.30.30.1.1"><math alttext="q,x" class="ltx_Math" display="inline" id="alg1.30.30.1.1.m1.2"><semantics id="alg1.30.30.1.1.m1.2a"><mrow id="alg1.30.30.1.1.m1.2.3.2" xref="alg1.30.30.1.1.m1.2.3.1.cmml"><mi id="alg1.30.30.1.1.m1.1.1" xref="alg1.30.30.1.1.m1.1.1.cmml">q</mi><mo id="alg1.30.30.1.1.m1.2.3.2.1" xref="alg1.30.30.1.1.m1.2.3.1.cmml">,</mo><mi id="alg1.30.30.1.1.m1.2.2" xref="alg1.30.30.1.1.m1.2.2.cmml">x</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.30.30.1.1.m1.2b"><list id="alg1.30.30.1.1.m1.2.3.1.cmml" xref="alg1.30.30.1.1.m1.2.3.2"><ci id="alg1.30.30.1.1.m1.1.1.cmml" xref="alg1.30.30.1.1.m1.1.1">𝑞</ci><ci id="alg1.30.30.1.1.m1.2.2.cmml" xref="alg1.30.30.1.1.m1.2.2">𝑥</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.30.30.1.1.m1.2c">q,x</annotation><annotation encoding="application/x-llamapun" id="alg1.30.30.1.1.m1.2d">italic_q , italic_x</annotation></semantics></math></em>)</span>;<span class="ltx_text ltx_font_italic" id="alg1.30.30.2">//rewrite the question</span>
</div>
<div class="ltx_listingline" id="alg1.85.93">
<span class="ltx_tag ltx_tag_listingline">19</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="alg1.34.34">
<span class="ltx_tag ltx_tag_listingline">20</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math alttext="c_{s}" class="ltx_Math" display="inline" id="alg1.31.31.m1.1"><semantics id="alg1.31.31.m1.1a"><msub id="alg1.31.31.m1.1.1" xref="alg1.31.31.m1.1.1.cmml"><mi id="alg1.31.31.m1.1.1.2" xref="alg1.31.31.m1.1.1.2.cmml">c</mi><mi id="alg1.31.31.m1.1.1.3" xref="alg1.31.31.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.31.31.m1.1b"><apply id="alg1.31.31.m1.1.1.cmml" xref="alg1.31.31.m1.1.1"><csymbol cd="ambiguous" id="alg1.31.31.m1.1.1.1.cmml" xref="alg1.31.31.m1.1.1">subscript</csymbol><ci id="alg1.31.31.m1.1.1.2.cmml" xref="alg1.31.31.m1.1.1.2">𝑐</ci><ci id="alg1.31.31.m1.1.1.3.cmml" xref="alg1.31.31.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.31.31.m1.1c">c_{s}</annotation><annotation encoding="application/x-llamapun" id="alg1.31.31.m1.1d">italic_c start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math>=<span class="ltx_text ltx_font_typewriter" id="alg1.32.32.1">Google(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.32.32.1.1"><math alttext="q^{*}" class="ltx_Math" display="inline" id="alg1.32.32.1.1.m1.1"><semantics id="alg1.32.32.1.1.m1.1a"><msup id="alg1.32.32.1.1.m1.1.1" xref="alg1.32.32.1.1.m1.1.1.cmml"><mi id="alg1.32.32.1.1.m1.1.1.2" xref="alg1.32.32.1.1.m1.1.1.2.cmml">q</mi><mo id="alg1.32.32.1.1.m1.1.1.3" xref="alg1.32.32.1.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="alg1.32.32.1.1.m1.1b"><apply id="alg1.32.32.1.1.m1.1.1.cmml" xref="alg1.32.32.1.1.m1.1.1"><csymbol cd="ambiguous" id="alg1.32.32.1.1.m1.1.1.1.cmml" xref="alg1.32.32.1.1.m1.1.1">superscript</csymbol><ci id="alg1.32.32.1.1.m1.1.1.2.cmml" xref="alg1.32.32.1.1.m1.1.1.2">𝑞</ci><times id="alg1.32.32.1.1.m1.1.1.3.cmml" xref="alg1.32.32.1.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.32.32.1.1.m1.1c">q^{*}</annotation><annotation encoding="application/x-llamapun" id="alg1.32.32.1.1.m1.1d">italic_q start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math></em>)</span>;  
<math alttext="a_{w}" class="ltx_Math" display="inline" id="alg1.33.33.m2.1"><semantics id="alg1.33.33.m2.1a"><msub id="alg1.33.33.m2.1.1" xref="alg1.33.33.m2.1.1.cmml"><mi id="alg1.33.33.m2.1.1.2" xref="alg1.33.33.m2.1.1.2.cmml">a</mi><mi id="alg1.33.33.m2.1.1.3" xref="alg1.33.33.m2.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.33.33.m2.1b"><apply id="alg1.33.33.m2.1.1.cmml" xref="alg1.33.33.m2.1.1"><csymbol cd="ambiguous" id="alg1.33.33.m2.1.1.1.cmml" xref="alg1.33.33.m2.1.1">subscript</csymbol><ci id="alg1.33.33.m2.1.1.2.cmml" xref="alg1.33.33.m2.1.1.2">𝑎</ci><ci id="alg1.33.33.m2.1.1.3.cmml" xref="alg1.33.33.m2.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.33.33.m2.1c">a_{w}</annotation><annotation encoding="application/x-llamapun" id="alg1.33.33.m2.1d">italic_a start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math>=<span class="ltx_text ltx_font_typewriter" id="alg1.34.34.2">LLM(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.34.34.2.1"><math alttext="c_{s},q" class="ltx_Math" display="inline" id="alg1.34.34.2.1.m1.2"><semantics id="alg1.34.34.2.1.m1.2a"><mrow id="alg1.34.34.2.1.m1.2.2.1" xref="alg1.34.34.2.1.m1.2.2.2.cmml"><msub id="alg1.34.34.2.1.m1.2.2.1.1" xref="alg1.34.34.2.1.m1.2.2.1.1.cmml"><mi id="alg1.34.34.2.1.m1.2.2.1.1.2" xref="alg1.34.34.2.1.m1.2.2.1.1.2.cmml">c</mi><mi id="alg1.34.34.2.1.m1.2.2.1.1.3" xref="alg1.34.34.2.1.m1.2.2.1.1.3.cmml">s</mi></msub><mo id="alg1.34.34.2.1.m1.2.2.1.2" xref="alg1.34.34.2.1.m1.2.2.2.cmml">,</mo><mi id="alg1.34.34.2.1.m1.1.1" xref="alg1.34.34.2.1.m1.1.1.cmml">q</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.34.34.2.1.m1.2b"><list id="alg1.34.34.2.1.m1.2.2.2.cmml" xref="alg1.34.34.2.1.m1.2.2.1"><apply id="alg1.34.34.2.1.m1.2.2.1.1.cmml" xref="alg1.34.34.2.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg1.34.34.2.1.m1.2.2.1.1.1.cmml" xref="alg1.34.34.2.1.m1.2.2.1.1">subscript</csymbol><ci id="alg1.34.34.2.1.m1.2.2.1.1.2.cmml" xref="alg1.34.34.2.1.m1.2.2.1.1.2">𝑐</ci><ci id="alg1.34.34.2.1.m1.2.2.1.1.3.cmml" xref="alg1.34.34.2.1.m1.2.2.1.1.3">𝑠</ci></apply><ci id="alg1.34.34.2.1.m1.1.1.cmml" xref="alg1.34.34.2.1.m1.1.1">𝑞</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.34.34.2.1.m1.2c">c_{s},q</annotation><annotation encoding="application/x-llamapun" id="alg1.34.34.2.1.m1.2d">italic_c start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT , italic_q</annotation></semantics></math></em>)</span>;
</div>
<div class="ltx_listingline" id="alg1.35.35">
<span class="ltx_tag ltx_tag_listingline">21</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="alg1.35.35.1">return</span> <math alttext="a_{w}" class="ltx_Math" display="inline" id="alg1.35.35.m1.1"><semantics id="alg1.35.35.m1.1a"><msub id="alg1.35.35.m1.1.1" xref="alg1.35.35.m1.1.1.cmml"><mi id="alg1.35.35.m1.1.1.2" xref="alg1.35.35.m1.1.1.2.cmml">a</mi><mi id="alg1.35.35.m1.1.1.3" xref="alg1.35.35.m1.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.35.35.m1.1b"><apply id="alg1.35.35.m1.1.1.cmml" xref="alg1.35.35.m1.1.1"><csymbol cd="ambiguous" id="alg1.35.35.m1.1.1.1.cmml" xref="alg1.35.35.m1.1.1">subscript</csymbol><ci id="alg1.35.35.m1.1.1.2.cmml" xref="alg1.35.35.m1.1.1.2">𝑎</ci><ci id="alg1.35.35.m1.1.1.3.cmml" xref="alg1.35.35.m1.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.35.35.m1.1c">a_{w}</annotation><annotation encoding="application/x-llamapun" id="alg1.35.35.m1.1d">italic_a start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> ;
</div>
<div class="ltx_listingline" id="alg1.85.94">
<span class="ltx_tag ltx_tag_listingline">22</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="alg1.85.95">
<span class="ltx_tag ltx_tag_listingline">23</span>
</div>
<div class="ltx_listingline" id="alg1.39.39">
<span class="ltx_tag ltx_tag_listingline">24</span><span class="ltx_text ltx_font_bold" id="alg1.39.39.5">Function</span> <em class="ltx_emph ltx_font_typewriter" id="alg1.39.39.4">Retrieval(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.39.39.4.4.4"><math alttext="q" class="ltx_Math" display="inline" id="alg1.36.36.1.1.1.m1.1"><semantics id="alg1.36.36.1.1.1.m1.1a"><mi id="alg1.36.36.1.1.1.m1.1.1" xref="alg1.36.36.1.1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="alg1.36.36.1.1.1.m1.1b"><ci id="alg1.36.36.1.1.1.m1.1.1.cmml" xref="alg1.36.36.1.1.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.36.36.1.1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="alg1.36.36.1.1.1.m1.1d">italic_q</annotation></semantics></math>, <math alttext="D" class="ltx_Math" display="inline" id="alg1.37.37.2.2.2.m2.1"><semantics id="alg1.37.37.2.2.2.m2.1a"><mi id="alg1.37.37.2.2.2.m2.1.1" xref="alg1.37.37.2.2.2.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="alg1.37.37.2.2.2.m2.1b"><ci id="alg1.37.37.2.2.2.m2.1.1.cmml" xref="alg1.37.37.2.2.2.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.37.37.2.2.2.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="alg1.37.37.2.2.2.m2.1d">italic_D</annotation></semantics></math>, <math alttext="x" class="ltx_Math" display="inline" id="alg1.38.38.3.3.3.m3.1"><semantics id="alg1.38.38.3.3.3.m3.1a"><mi id="alg1.38.38.3.3.3.m3.1.1" xref="alg1.38.38.3.3.3.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="alg1.38.38.3.3.3.m3.1b"><ci id="alg1.38.38.3.3.3.m3.1.1.cmml" xref="alg1.38.38.3.3.3.m3.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.38.38.3.3.3.m3.1c">x</annotation><annotation encoding="application/x-llamapun" id="alg1.38.38.3.3.3.m3.1d">italic_x</annotation></semantics></math>, <math alttext="A" class="ltx_Math" display="inline" id="alg1.39.39.4.4.4.m4.1"><semantics id="alg1.39.39.4.4.4.m4.1a"><mi id="alg1.39.39.4.4.4.m4.1.1" xref="alg1.39.39.4.4.4.m4.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="alg1.39.39.4.4.4.m4.1b"><ci id="alg1.39.39.4.4.4.m4.1.1.cmml" xref="alg1.39.39.4.4.4.m4.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.39.39.4.4.4.m4.1c">A</annotation><annotation encoding="application/x-llamapun" id="alg1.39.39.4.4.4.m4.1d">italic_A</annotation></semantics></math></em>)</em><span class="ltx_text ltx_font_bold" id="alg1.39.39.6">:</span>
</div>
<div class="ltx_listingline" id="alg1.42.42">
<span class="ltx_tag ltx_tag_listingline">25</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="e=" class="ltx_Math" display="inline" id="alg1.40.40.m1.1"><semantics id="alg1.40.40.m1.1a"><mrow id="alg1.40.40.m1.1.1" xref="alg1.40.40.m1.1.1.cmml"><mi id="alg1.40.40.m1.1.1.2" xref="alg1.40.40.m1.1.1.2.cmml">e</mi><mo id="alg1.40.40.m1.1.1.1" xref="alg1.40.40.m1.1.1.1.cmml">=</mo><mi id="alg1.40.40.m1.1.1.3" xref="alg1.40.40.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.40.40.m1.1b"><apply id="alg1.40.40.m1.1.1.cmml" xref="alg1.40.40.m1.1.1"><eq id="alg1.40.40.m1.1.1.1.cmml" xref="alg1.40.40.m1.1.1.1"></eq><ci id="alg1.40.40.m1.1.1.2.cmml" xref="alg1.40.40.m1.1.1.2">𝑒</ci><csymbol cd="latexml" id="alg1.40.40.m1.1.1.3.cmml" xref="alg1.40.40.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.40.40.m1.1c">e=</annotation><annotation encoding="application/x-llamapun" id="alg1.40.40.m1.1d">italic_e =</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="alg1.41.41.1">LLM(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.41.41.1.1"><math alttext="q" class="ltx_Math" display="inline" id="alg1.41.41.1.1.m1.1"><semantics id="alg1.41.41.1.1.m1.1a"><mi id="alg1.41.41.1.1.m1.1.1" xref="alg1.41.41.1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="alg1.41.41.1.1.m1.1b"><ci id="alg1.41.41.1.1.m1.1.1.cmml" xref="alg1.41.41.1.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.41.41.1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="alg1.41.41.1.1.m1.1d">italic_q</annotation></semantics></math></em>)</span>;   <math alttext="t=0" class="ltx_Math" display="inline" id="alg1.42.42.m2.1"><semantics id="alg1.42.42.m2.1a"><mrow id="alg1.42.42.m2.1.1" xref="alg1.42.42.m2.1.1.cmml"><mi id="alg1.42.42.m2.1.1.2" xref="alg1.42.42.m2.1.1.2.cmml">t</mi><mo id="alg1.42.42.m2.1.1.1" xref="alg1.42.42.m2.1.1.1.cmml">=</mo><mn id="alg1.42.42.m2.1.1.3" xref="alg1.42.42.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.42.42.m2.1b"><apply id="alg1.42.42.m2.1.1.cmml" xref="alg1.42.42.m2.1.1"><eq id="alg1.42.42.m2.1.1.1.cmml" xref="alg1.42.42.m2.1.1.1"></eq><ci id="alg1.42.42.m2.1.1.2.cmml" xref="alg1.42.42.m2.1.1.2">𝑡</ci><cn id="alg1.42.42.m2.1.1.3.cmml" type="integer" xref="alg1.42.42.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.42.42.m2.1c">t=0</annotation><annotation encoding="application/x-llamapun" id="alg1.42.42.m2.1d">italic_t = 0</annotation></semantics></math>;   <span class="ltx_text ltx_font_italic" id="alg1.42.42.2">//get the entity name</span>
</div>
<div class="ltx_listingline" id="alg1.85.96">
<span class="ltx_tag ltx_tag_listingline">26</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="alg1.85.97">
<span class="ltx_tag ltx_tag_listingline">27</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span class="ltx_text ltx_font_bold" id="alg1.85.97.1">while</span> <em class="ltx_emph ltx_font_italic" id="alg1.85.97.2">True</em> <span class="ltx_text ltx_font_bold" id="alg1.85.97.3">do</span>
</div>
<div class="ltx_listingline" id="alg1.43.43">
<span class="ltx_tag ltx_tag_listingline">28</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="t=t+1" class="ltx_Math" display="inline" id="alg1.43.43.m1.1"><semantics id="alg1.43.43.m1.1a"><mrow id="alg1.43.43.m1.1.1" xref="alg1.43.43.m1.1.1.cmml"><mi id="alg1.43.43.m1.1.1.2" xref="alg1.43.43.m1.1.1.2.cmml">t</mi><mo id="alg1.43.43.m1.1.1.1" xref="alg1.43.43.m1.1.1.1.cmml">=</mo><mrow id="alg1.43.43.m1.1.1.3" xref="alg1.43.43.m1.1.1.3.cmml"><mi id="alg1.43.43.m1.1.1.3.2" xref="alg1.43.43.m1.1.1.3.2.cmml">t</mi><mo id="alg1.43.43.m1.1.1.3.1" xref="alg1.43.43.m1.1.1.3.1.cmml">+</mo><mn id="alg1.43.43.m1.1.1.3.3" xref="alg1.43.43.m1.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.43.43.m1.1b"><apply id="alg1.43.43.m1.1.1.cmml" xref="alg1.43.43.m1.1.1"><eq id="alg1.43.43.m1.1.1.1.cmml" xref="alg1.43.43.m1.1.1.1"></eq><ci id="alg1.43.43.m1.1.1.2.cmml" xref="alg1.43.43.m1.1.1.2">𝑡</ci><apply id="alg1.43.43.m1.1.1.3.cmml" xref="alg1.43.43.m1.1.1.3"><plus id="alg1.43.43.m1.1.1.3.1.cmml" xref="alg1.43.43.m1.1.1.3.1"></plus><ci id="alg1.43.43.m1.1.1.3.2.cmml" xref="alg1.43.43.m1.1.1.3.2">𝑡</ci><cn id="alg1.43.43.m1.1.1.3.3.cmml" type="integer" xref="alg1.43.43.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.43.43.m1.1c">t=t+1</annotation><annotation encoding="application/x-llamapun" id="alg1.43.43.m1.1d">italic_t = italic_t + 1</annotation></semantics></math>;
</div>
<div class="ltx_listingline" id="alg1.45.45">
<span class="ltx_tag ltx_tag_listingline">29</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="d_{s}" class="ltx_Math" display="inline" id="alg1.44.44.m1.1"><semantics id="alg1.44.44.m1.1a"><msub id="alg1.44.44.m1.1.1" xref="alg1.44.44.m1.1.1.cmml"><mi id="alg1.44.44.m1.1.1.2" xref="alg1.44.44.m1.1.1.2.cmml">d</mi><mi id="alg1.44.44.m1.1.1.3" xref="alg1.44.44.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.44.44.m1.1b"><apply id="alg1.44.44.m1.1.1.cmml" xref="alg1.44.44.m1.1.1"><csymbol cd="ambiguous" id="alg1.44.44.m1.1.1.1.cmml" xref="alg1.44.44.m1.1.1">subscript</csymbol><ci id="alg1.44.44.m1.1.1.2.cmml" xref="alg1.44.44.m1.1.1.2">𝑑</ci><ci id="alg1.44.44.m1.1.1.3.cmml" xref="alg1.44.44.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.44.44.m1.1c">d_{s}</annotation><annotation encoding="application/x-llamapun" id="alg1.44.44.m1.1d">italic_d start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math>=<span class="ltx_text ltx_font_typewriter" id="alg1.45.45.1">SparseRetrieval(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.45.45.1.1"><math alttext="e,D,t" class="ltx_Math" display="inline" id="alg1.45.45.1.1.m1.3"><semantics id="alg1.45.45.1.1.m1.3a"><mrow id="alg1.45.45.1.1.m1.3.4.2" xref="alg1.45.45.1.1.m1.3.4.1.cmml"><mi id="alg1.45.45.1.1.m1.1.1" xref="alg1.45.45.1.1.m1.1.1.cmml">e</mi><mo id="alg1.45.45.1.1.m1.3.4.2.1" xref="alg1.45.45.1.1.m1.3.4.1.cmml">,</mo><mi id="alg1.45.45.1.1.m1.2.2" xref="alg1.45.45.1.1.m1.2.2.cmml">D</mi><mo id="alg1.45.45.1.1.m1.3.4.2.2" xref="alg1.45.45.1.1.m1.3.4.1.cmml">,</mo><mi id="alg1.45.45.1.1.m1.3.3" xref="alg1.45.45.1.1.m1.3.3.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.45.45.1.1.m1.3b"><list id="alg1.45.45.1.1.m1.3.4.1.cmml" xref="alg1.45.45.1.1.m1.3.4.2"><ci id="alg1.45.45.1.1.m1.1.1.cmml" xref="alg1.45.45.1.1.m1.1.1">𝑒</ci><ci id="alg1.45.45.1.1.m1.2.2.cmml" xref="alg1.45.45.1.1.m1.2.2">𝐷</ci><ci id="alg1.45.45.1.1.m1.3.3.cmml" xref="alg1.45.45.1.1.m1.3.3">𝑡</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.45.45.1.1.m1.3c">e,D,t</annotation><annotation encoding="application/x-llamapun" id="alg1.45.45.1.1.m1.3d">italic_e , italic_D , italic_t</annotation></semantics></math></em>)</span>;<span class="ltx_text ltx_font_italic" id="alg1.45.45.2">//get the document </span>
</div>
<div class="ltx_listingline" id="alg1.46.46">
<span class="ltx_tag ltx_tag_listingline">30</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="alg1.46.46.2">if</span> <em class="ltx_emph ltx_font_italic" id="alg1.46.46.1"><math alttext="len(d_{s})&gt;th_{1}" class="ltx_Math" display="inline" id="alg1.46.46.1.m1.1"><semantics id="alg1.46.46.1.m1.1a"><mrow id="alg1.46.46.1.m1.1.1" xref="alg1.46.46.1.m1.1.1.cmml"><mrow id="alg1.46.46.1.m1.1.1.1" xref="alg1.46.46.1.m1.1.1.1.cmml"><mi id="alg1.46.46.1.m1.1.1.1.3" xref="alg1.46.46.1.m1.1.1.1.3.cmml">l</mi><mo id="alg1.46.46.1.m1.1.1.1.2" xref="alg1.46.46.1.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.46.46.1.m1.1.1.1.4" xref="alg1.46.46.1.m1.1.1.1.4.cmml">e</mi><mo id="alg1.46.46.1.m1.1.1.1.2a" xref="alg1.46.46.1.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.46.46.1.m1.1.1.1.5" xref="alg1.46.46.1.m1.1.1.1.5.cmml">n</mi><mo id="alg1.46.46.1.m1.1.1.1.2b" xref="alg1.46.46.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="alg1.46.46.1.m1.1.1.1.1.1" xref="alg1.46.46.1.m1.1.1.1.1.1.1.cmml"><mo id="alg1.46.46.1.m1.1.1.1.1.1.2" stretchy="false" xref="alg1.46.46.1.m1.1.1.1.1.1.1.cmml">(</mo><msub id="alg1.46.46.1.m1.1.1.1.1.1.1" xref="alg1.46.46.1.m1.1.1.1.1.1.1.cmml"><mi id="alg1.46.46.1.m1.1.1.1.1.1.1.2" xref="alg1.46.46.1.m1.1.1.1.1.1.1.2.cmml">d</mi><mi id="alg1.46.46.1.m1.1.1.1.1.1.1.3" xref="alg1.46.46.1.m1.1.1.1.1.1.1.3.cmml">s</mi></msub><mo id="alg1.46.46.1.m1.1.1.1.1.1.3" stretchy="false" xref="alg1.46.46.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="alg1.46.46.1.m1.1.1.2" xref="alg1.46.46.1.m1.1.1.2.cmml">&gt;</mo><mrow id="alg1.46.46.1.m1.1.1.3" xref="alg1.46.46.1.m1.1.1.3.cmml"><mi id="alg1.46.46.1.m1.1.1.3.2" xref="alg1.46.46.1.m1.1.1.3.2.cmml">t</mi><mo id="alg1.46.46.1.m1.1.1.3.1" xref="alg1.46.46.1.m1.1.1.3.1.cmml">⁢</mo><msub id="alg1.46.46.1.m1.1.1.3.3" xref="alg1.46.46.1.m1.1.1.3.3.cmml"><mi id="alg1.46.46.1.m1.1.1.3.3.2" xref="alg1.46.46.1.m1.1.1.3.3.2.cmml">h</mi><mn id="alg1.46.46.1.m1.1.1.3.3.3" xref="alg1.46.46.1.m1.1.1.3.3.3.cmml">1</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.46.46.1.m1.1b"><apply id="alg1.46.46.1.m1.1.1.cmml" xref="alg1.46.46.1.m1.1.1"><gt id="alg1.46.46.1.m1.1.1.2.cmml" xref="alg1.46.46.1.m1.1.1.2"></gt><apply id="alg1.46.46.1.m1.1.1.1.cmml" xref="alg1.46.46.1.m1.1.1.1"><times id="alg1.46.46.1.m1.1.1.1.2.cmml" xref="alg1.46.46.1.m1.1.1.1.2"></times><ci id="alg1.46.46.1.m1.1.1.1.3.cmml" xref="alg1.46.46.1.m1.1.1.1.3">𝑙</ci><ci id="alg1.46.46.1.m1.1.1.1.4.cmml" xref="alg1.46.46.1.m1.1.1.1.4">𝑒</ci><ci id="alg1.46.46.1.m1.1.1.1.5.cmml" xref="alg1.46.46.1.m1.1.1.1.5">𝑛</ci><apply id="alg1.46.46.1.m1.1.1.1.1.1.1.cmml" xref="alg1.46.46.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.46.46.1.m1.1.1.1.1.1.1.1.cmml" xref="alg1.46.46.1.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.46.46.1.m1.1.1.1.1.1.1.2.cmml" xref="alg1.46.46.1.m1.1.1.1.1.1.1.2">𝑑</ci><ci id="alg1.46.46.1.m1.1.1.1.1.1.1.3.cmml" xref="alg1.46.46.1.m1.1.1.1.1.1.1.3">𝑠</ci></apply></apply><apply id="alg1.46.46.1.m1.1.1.3.cmml" xref="alg1.46.46.1.m1.1.1.3"><times id="alg1.46.46.1.m1.1.1.3.1.cmml" xref="alg1.46.46.1.m1.1.1.3.1"></times><ci id="alg1.46.46.1.m1.1.1.3.2.cmml" xref="alg1.46.46.1.m1.1.1.3.2">𝑡</ci><apply id="alg1.46.46.1.m1.1.1.3.3.cmml" xref="alg1.46.46.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.46.46.1.m1.1.1.3.3.1.cmml" xref="alg1.46.46.1.m1.1.1.3.3">subscript</csymbol><ci id="alg1.46.46.1.m1.1.1.3.3.2.cmml" xref="alg1.46.46.1.m1.1.1.3.3.2">ℎ</ci><cn id="alg1.46.46.1.m1.1.1.3.3.3.cmml" type="integer" xref="alg1.46.46.1.m1.1.1.3.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.46.46.1.m1.1c">len(d_{s})&gt;th_{1}</annotation><annotation encoding="application/x-llamapun" id="alg1.46.46.1.m1.1d">italic_l italic_e italic_n ( italic_d start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ) &gt; italic_t italic_h start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="alg1.46.46.3">then</span>
</div>
<div class="ltx_listingline" id="alg1.85.98">
<span class="ltx_tag ltx_tag_listingline">31</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_italic" id="alg1.85.98.1">//Multiple entities have high similarity and there is semantic incompleteness </span>
</div>
<div class="ltx_listingline" id="alg1.47.47">
<span class="ltx_tag ltx_tag_listingline">32</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span class="ltx_text ltx_font_bold" id="alg1.47.47.2">return</span> <span class="ltx_text ltx_font_typewriter" id="alg1.47.47.1">RewriteAndAnswerQuestion(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.47.47.1.1"><math alttext="q,A,x,D,e" class="ltx_Math" display="inline" id="alg1.47.47.1.1.m1.5"><semantics id="alg1.47.47.1.1.m1.5a"><mrow id="alg1.47.47.1.1.m1.5.6.2" xref="alg1.47.47.1.1.m1.5.6.1.cmml"><mi id="alg1.47.47.1.1.m1.1.1" xref="alg1.47.47.1.1.m1.1.1.cmml">q</mi><mo id="alg1.47.47.1.1.m1.5.6.2.1" xref="alg1.47.47.1.1.m1.5.6.1.cmml">,</mo><mi id="alg1.47.47.1.1.m1.2.2" xref="alg1.47.47.1.1.m1.2.2.cmml">A</mi><mo id="alg1.47.47.1.1.m1.5.6.2.2" xref="alg1.47.47.1.1.m1.5.6.1.cmml">,</mo><mi id="alg1.47.47.1.1.m1.3.3" xref="alg1.47.47.1.1.m1.3.3.cmml">x</mi><mo id="alg1.47.47.1.1.m1.5.6.2.3" xref="alg1.47.47.1.1.m1.5.6.1.cmml">,</mo><mi id="alg1.47.47.1.1.m1.4.4" xref="alg1.47.47.1.1.m1.4.4.cmml">D</mi><mo id="alg1.47.47.1.1.m1.5.6.2.4" xref="alg1.47.47.1.1.m1.5.6.1.cmml">,</mo><mi id="alg1.47.47.1.1.m1.5.5" xref="alg1.47.47.1.1.m1.5.5.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.47.47.1.1.m1.5b"><list id="alg1.47.47.1.1.m1.5.6.1.cmml" xref="alg1.47.47.1.1.m1.5.6.2"><ci id="alg1.47.47.1.1.m1.1.1.cmml" xref="alg1.47.47.1.1.m1.1.1">𝑞</ci><ci id="alg1.47.47.1.1.m1.2.2.cmml" xref="alg1.47.47.1.1.m1.2.2">𝐴</ci><ci id="alg1.47.47.1.1.m1.3.3.cmml" xref="alg1.47.47.1.1.m1.3.3">𝑥</ci><ci id="alg1.47.47.1.1.m1.4.4.cmml" xref="alg1.47.47.1.1.m1.4.4">𝐷</ci><ci id="alg1.47.47.1.1.m1.5.5.cmml" xref="alg1.47.47.1.1.m1.5.5">𝑒</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.47.47.1.1.m1.5c">q,A,x,D,e</annotation><annotation encoding="application/x-llamapun" id="alg1.47.47.1.1.m1.5d">italic_q , italic_A , italic_x , italic_D , italic_e</annotation></semantics></math></em>)</span>; 
</div>
<div class="ltx_listingline" id="alg1.49.49">
<span class="ltx_tag ltx_tag_listingline">33</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math alttext="c_{s}" class="ltx_Math" display="inline" id="alg1.48.48.m1.1"><semantics id="alg1.48.48.m1.1a"><msub id="alg1.48.48.m1.1.1" xref="alg1.48.48.m1.1.1.cmml"><mi id="alg1.48.48.m1.1.1.2" xref="alg1.48.48.m1.1.1.2.cmml">c</mi><mi id="alg1.48.48.m1.1.1.3" xref="alg1.48.48.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.48.48.m1.1b"><apply id="alg1.48.48.m1.1.1.cmml" xref="alg1.48.48.m1.1.1"><csymbol cd="ambiguous" id="alg1.48.48.m1.1.1.1.cmml" xref="alg1.48.48.m1.1.1">subscript</csymbol><ci id="alg1.48.48.m1.1.1.2.cmml" xref="alg1.48.48.m1.1.1.2">𝑐</ci><ci id="alg1.48.48.m1.1.1.3.cmml" xref="alg1.48.48.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.48.48.m1.1c">c_{s}</annotation><annotation encoding="application/x-llamapun" id="alg1.48.48.m1.1d">italic_c start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math>=<span class="ltx_text ltx_font_typewriter" id="alg1.49.49.1">DenseRetrieval(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.49.49.1.1"><math alttext="d_{s},q,t" class="ltx_Math" display="inline" id="alg1.49.49.1.1.m1.3"><semantics id="alg1.49.49.1.1.m1.3a"><mrow id="alg1.49.49.1.1.m1.3.3.1" xref="alg1.49.49.1.1.m1.3.3.2.cmml"><msub id="alg1.49.49.1.1.m1.3.3.1.1" xref="alg1.49.49.1.1.m1.3.3.1.1.cmml"><mi id="alg1.49.49.1.1.m1.3.3.1.1.2" xref="alg1.49.49.1.1.m1.3.3.1.1.2.cmml">d</mi><mi id="alg1.49.49.1.1.m1.3.3.1.1.3" xref="alg1.49.49.1.1.m1.3.3.1.1.3.cmml">s</mi></msub><mo id="alg1.49.49.1.1.m1.3.3.1.2" xref="alg1.49.49.1.1.m1.3.3.2.cmml">,</mo><mi id="alg1.49.49.1.1.m1.1.1" xref="alg1.49.49.1.1.m1.1.1.cmml">q</mi><mo id="alg1.49.49.1.1.m1.3.3.1.3" xref="alg1.49.49.1.1.m1.3.3.2.cmml">,</mo><mi id="alg1.49.49.1.1.m1.2.2" xref="alg1.49.49.1.1.m1.2.2.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.49.49.1.1.m1.3b"><list id="alg1.49.49.1.1.m1.3.3.2.cmml" xref="alg1.49.49.1.1.m1.3.3.1"><apply id="alg1.49.49.1.1.m1.3.3.1.1.cmml" xref="alg1.49.49.1.1.m1.3.3.1.1"><csymbol cd="ambiguous" id="alg1.49.49.1.1.m1.3.3.1.1.1.cmml" xref="alg1.49.49.1.1.m1.3.3.1.1">subscript</csymbol><ci id="alg1.49.49.1.1.m1.3.3.1.1.2.cmml" xref="alg1.49.49.1.1.m1.3.3.1.1.2">𝑑</ci><ci id="alg1.49.49.1.1.m1.3.3.1.1.3.cmml" xref="alg1.49.49.1.1.m1.3.3.1.1.3">𝑠</ci></apply><ci id="alg1.49.49.1.1.m1.1.1.cmml" xref="alg1.49.49.1.1.m1.1.1">𝑞</ci><ci id="alg1.49.49.1.1.m1.2.2.cmml" xref="alg1.49.49.1.1.m1.2.2">𝑡</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.49.49.1.1.m1.3c">d_{s},q,t</annotation><annotation encoding="application/x-llamapun" id="alg1.49.49.1.1.m1.3d">italic_d start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT , italic_q , italic_t</annotation></semantics></math></em>)</span>;<span class="ltx_text ltx_font_italic" id="alg1.49.49.2">//get the chunk</span>
</div>
<div class="ltx_listingline" id="alg1.51.51">
<span class="ltx_tag ltx_tag_listingline">34</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="CanSolved" class="ltx_Math" display="inline" id="alg1.50.50.m1.1"><semantics id="alg1.50.50.m1.1a"><mrow id="alg1.50.50.m1.1.1" xref="alg1.50.50.m1.1.1.cmml"><mi id="alg1.50.50.m1.1.1.2" xref="alg1.50.50.m1.1.1.2.cmml">C</mi><mo id="alg1.50.50.m1.1.1.1" xref="alg1.50.50.m1.1.1.1.cmml">⁢</mo><mi id="alg1.50.50.m1.1.1.3" xref="alg1.50.50.m1.1.1.3.cmml">a</mi><mo id="alg1.50.50.m1.1.1.1a" xref="alg1.50.50.m1.1.1.1.cmml">⁢</mo><mi id="alg1.50.50.m1.1.1.4" xref="alg1.50.50.m1.1.1.4.cmml">n</mi><mo id="alg1.50.50.m1.1.1.1b" xref="alg1.50.50.m1.1.1.1.cmml">⁢</mo><mi id="alg1.50.50.m1.1.1.5" xref="alg1.50.50.m1.1.1.5.cmml">S</mi><mo id="alg1.50.50.m1.1.1.1c" xref="alg1.50.50.m1.1.1.1.cmml">⁢</mo><mi id="alg1.50.50.m1.1.1.6" xref="alg1.50.50.m1.1.1.6.cmml">o</mi><mo id="alg1.50.50.m1.1.1.1d" xref="alg1.50.50.m1.1.1.1.cmml">⁢</mo><mi id="alg1.50.50.m1.1.1.7" xref="alg1.50.50.m1.1.1.7.cmml">l</mi><mo id="alg1.50.50.m1.1.1.1e" xref="alg1.50.50.m1.1.1.1.cmml">⁢</mo><mi id="alg1.50.50.m1.1.1.8" xref="alg1.50.50.m1.1.1.8.cmml">v</mi><mo id="alg1.50.50.m1.1.1.1f" xref="alg1.50.50.m1.1.1.1.cmml">⁢</mo><mi id="alg1.50.50.m1.1.1.9" xref="alg1.50.50.m1.1.1.9.cmml">e</mi><mo id="alg1.50.50.m1.1.1.1g" xref="alg1.50.50.m1.1.1.1.cmml">⁢</mo><mi id="alg1.50.50.m1.1.1.10" xref="alg1.50.50.m1.1.1.10.cmml">d</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.50.50.m1.1b"><apply id="alg1.50.50.m1.1.1.cmml" xref="alg1.50.50.m1.1.1"><times id="alg1.50.50.m1.1.1.1.cmml" xref="alg1.50.50.m1.1.1.1"></times><ci id="alg1.50.50.m1.1.1.2.cmml" xref="alg1.50.50.m1.1.1.2">𝐶</ci><ci id="alg1.50.50.m1.1.1.3.cmml" xref="alg1.50.50.m1.1.1.3">𝑎</ci><ci id="alg1.50.50.m1.1.1.4.cmml" xref="alg1.50.50.m1.1.1.4">𝑛</ci><ci id="alg1.50.50.m1.1.1.5.cmml" xref="alg1.50.50.m1.1.1.5">𝑆</ci><ci id="alg1.50.50.m1.1.1.6.cmml" xref="alg1.50.50.m1.1.1.6">𝑜</ci><ci id="alg1.50.50.m1.1.1.7.cmml" xref="alg1.50.50.m1.1.1.7">𝑙</ci><ci id="alg1.50.50.m1.1.1.8.cmml" xref="alg1.50.50.m1.1.1.8">𝑣</ci><ci id="alg1.50.50.m1.1.1.9.cmml" xref="alg1.50.50.m1.1.1.9">𝑒</ci><ci id="alg1.50.50.m1.1.1.10.cmml" xref="alg1.50.50.m1.1.1.10">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.50.50.m1.1c">CanSolved</annotation><annotation encoding="application/x-llamapun" id="alg1.50.50.m1.1d">italic_C italic_a italic_n italic_S italic_o italic_l italic_v italic_e italic_d</annotation></semantics></math>=<span class="ltx_text ltx_font_typewriter" id="alg1.51.51.1">LLM(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.51.51.1.1"><math alttext="c_{s},q" class="ltx_Math" display="inline" id="alg1.51.51.1.1.m1.2"><semantics id="alg1.51.51.1.1.m1.2a"><mrow id="alg1.51.51.1.1.m1.2.2.1" xref="alg1.51.51.1.1.m1.2.2.2.cmml"><msub id="alg1.51.51.1.1.m1.2.2.1.1" xref="alg1.51.51.1.1.m1.2.2.1.1.cmml"><mi id="alg1.51.51.1.1.m1.2.2.1.1.2" xref="alg1.51.51.1.1.m1.2.2.1.1.2.cmml">c</mi><mi id="alg1.51.51.1.1.m1.2.2.1.1.3" xref="alg1.51.51.1.1.m1.2.2.1.1.3.cmml">s</mi></msub><mo id="alg1.51.51.1.1.m1.2.2.1.2" xref="alg1.51.51.1.1.m1.2.2.2.cmml">,</mo><mi id="alg1.51.51.1.1.m1.1.1" xref="alg1.51.51.1.1.m1.1.1.cmml">q</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.51.51.1.1.m1.2b"><list id="alg1.51.51.1.1.m1.2.2.2.cmml" xref="alg1.51.51.1.1.m1.2.2.1"><apply id="alg1.51.51.1.1.m1.2.2.1.1.cmml" xref="alg1.51.51.1.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg1.51.51.1.1.m1.2.2.1.1.1.cmml" xref="alg1.51.51.1.1.m1.2.2.1.1">subscript</csymbol><ci id="alg1.51.51.1.1.m1.2.2.1.1.2.cmml" xref="alg1.51.51.1.1.m1.2.2.1.1.2">𝑐</ci><ci id="alg1.51.51.1.1.m1.2.2.1.1.3.cmml" xref="alg1.51.51.1.1.m1.2.2.1.1.3">𝑠</ci></apply><ci id="alg1.51.51.1.1.m1.1.1.cmml" xref="alg1.51.51.1.1.m1.1.1">𝑞</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.51.51.1.1.m1.2c">c_{s},q</annotation><annotation encoding="application/x-llamapun" id="alg1.51.51.1.1.m1.2d">italic_c start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT , italic_q</annotation></semantics></math></em>)</span>;<span class="ltx_text ltx_font_italic" id="alg1.51.51.2">//with the retrieval chunk can LLM solve the question </span>
</div>
<div class="ltx_listingline" id="alg1.52.52">
<span class="ltx_tag ltx_tag_listingline">35</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="alg1.52.52.2">if</span> <em class="ltx_emph ltx_font_italic" id="alg1.52.52.1"><math alttext='CanSolved=="yes"' class="ltx_math_unparsed" display="inline" id="alg1.52.52.1.m1.1"><semantics id="alg1.52.52.1.m1.1a"><mrow id="alg1.52.52.1.m1.1b"><mi id="alg1.52.52.1.m1.1.1">C</mi><mi id="alg1.52.52.1.m1.1.2">a</mi><mi id="alg1.52.52.1.m1.1.3">n</mi><mi id="alg1.52.52.1.m1.1.4">S</mi><mi id="alg1.52.52.1.m1.1.5">o</mi><mi id="alg1.52.52.1.m1.1.6">l</mi><mi id="alg1.52.52.1.m1.1.7">v</mi><mi id="alg1.52.52.1.m1.1.8">e</mi><mi id="alg1.52.52.1.m1.1.9">d</mi><mo id="alg1.52.52.1.m1.1.10" rspace="0em">=</mo><mo id="alg1.52.52.1.m1.1.11" lspace="0em">=</mo><mi id="alg1.52.52.1.m1.1.12" mathvariant="normal">"</mi><mi id="alg1.52.52.1.m1.1.13">y</mi><mi id="alg1.52.52.1.m1.1.14">e</mi><mi id="alg1.52.52.1.m1.1.15">s</mi><mi id="alg1.52.52.1.m1.1.16" mathvariant="normal">"</mi></mrow><annotation encoding="application/x-tex" id="alg1.52.52.1.m1.1c">CanSolved=="yes"</annotation><annotation encoding="application/x-llamapun" id="alg1.52.52.1.m1.1d">italic_C italic_a italic_n italic_S italic_o italic_l italic_v italic_e italic_d = = " italic_y italic_e italic_s "</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="alg1.52.52.3">then</span>
</div>
<div class="ltx_listingline" id="alg1.85.99">
<span class="ltx_tag ltx_tag_listingline">36</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_italic" id="alg1.85.99.1">// LLM can solve the question</span>
</div>
<div class="ltx_listingline" id="alg1.54.54">
<span class="ltx_tag ltx_tag_listingline">37</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="a_{w}" class="ltx_Math" display="inline" id="alg1.53.53.m1.1"><semantics id="alg1.53.53.m1.1a"><msub id="alg1.53.53.m1.1.1" xref="alg1.53.53.m1.1.1.cmml"><mi id="alg1.53.53.m1.1.1.2" xref="alg1.53.53.m1.1.1.2.cmml">a</mi><mi id="alg1.53.53.m1.1.1.3" xref="alg1.53.53.m1.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.53.53.m1.1b"><apply id="alg1.53.53.m1.1.1.cmml" xref="alg1.53.53.m1.1.1"><csymbol cd="ambiguous" id="alg1.53.53.m1.1.1.1.cmml" xref="alg1.53.53.m1.1.1">subscript</csymbol><ci id="alg1.53.53.m1.1.1.2.cmml" xref="alg1.53.53.m1.1.1.2">𝑎</ci><ci id="alg1.53.53.m1.1.1.3.cmml" xref="alg1.53.53.m1.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.53.53.m1.1c">a_{w}</annotation><annotation encoding="application/x-llamapun" id="alg1.53.53.m1.1d">italic_a start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math>=<span class="ltx_text ltx_font_typewriter" id="alg1.54.54.1">LLM(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.54.54.1.1"><math alttext="c_{s},q" class="ltx_Math" display="inline" id="alg1.54.54.1.1.m1.2"><semantics id="alg1.54.54.1.1.m1.2a"><mrow id="alg1.54.54.1.1.m1.2.2.1" xref="alg1.54.54.1.1.m1.2.2.2.cmml"><msub id="alg1.54.54.1.1.m1.2.2.1.1" xref="alg1.54.54.1.1.m1.2.2.1.1.cmml"><mi id="alg1.54.54.1.1.m1.2.2.1.1.2" xref="alg1.54.54.1.1.m1.2.2.1.1.2.cmml">c</mi><mi id="alg1.54.54.1.1.m1.2.2.1.1.3" xref="alg1.54.54.1.1.m1.2.2.1.1.3.cmml">s</mi></msub><mo id="alg1.54.54.1.1.m1.2.2.1.2" xref="alg1.54.54.1.1.m1.2.2.2.cmml">,</mo><mi id="alg1.54.54.1.1.m1.1.1" xref="alg1.54.54.1.1.m1.1.1.cmml">q</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.54.54.1.1.m1.2b"><list id="alg1.54.54.1.1.m1.2.2.2.cmml" xref="alg1.54.54.1.1.m1.2.2.1"><apply id="alg1.54.54.1.1.m1.2.2.1.1.cmml" xref="alg1.54.54.1.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg1.54.54.1.1.m1.2.2.1.1.1.cmml" xref="alg1.54.54.1.1.m1.2.2.1.1">subscript</csymbol><ci id="alg1.54.54.1.1.m1.2.2.1.1.2.cmml" xref="alg1.54.54.1.1.m1.2.2.1.1.2">𝑐</ci><ci id="alg1.54.54.1.1.m1.2.2.1.1.3.cmml" xref="alg1.54.54.1.1.m1.2.2.1.1.3">𝑠</ci></apply><ci id="alg1.54.54.1.1.m1.1.1.cmml" xref="alg1.54.54.1.1.m1.1.1">𝑞</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.54.54.1.1.m1.2c">c_{s},q</annotation><annotation encoding="application/x-llamapun" id="alg1.54.54.1.1.m1.2d">italic_c start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT , italic_q</annotation></semantics></math></em>)</span>;<span class="ltx_text ltx_font_italic" id="alg1.54.54.2">//get the answer for the question? </span>
</div>
<div class="ltx_listingline" id="alg1.55.55">
<span class="ltx_tag ltx_tag_listingline">38</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="alg1.55.55.1">return</span> <math alttext="a_{w}" class="ltx_Math" display="inline" id="alg1.55.55.m1.1"><semantics id="alg1.55.55.m1.1a"><msub id="alg1.55.55.m1.1.1" xref="alg1.55.55.m1.1.1.cmml"><mi id="alg1.55.55.m1.1.1.2" xref="alg1.55.55.m1.1.1.2.cmml">a</mi><mi id="alg1.55.55.m1.1.1.3" xref="alg1.55.55.m1.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.55.55.m1.1b"><apply id="alg1.55.55.m1.1.1.cmml" xref="alg1.55.55.m1.1.1"><csymbol cd="ambiguous" id="alg1.55.55.m1.1.1.1.cmml" xref="alg1.55.55.m1.1.1">subscript</csymbol><ci id="alg1.55.55.m1.1.1.2.cmml" xref="alg1.55.55.m1.1.1.2">𝑎</ci><ci id="alg1.55.55.m1.1.1.3.cmml" xref="alg1.55.55.m1.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.55.55.m1.1c">a_{w}</annotation><annotation encoding="application/x-llamapun" id="alg1.55.55.m1.1d">italic_a start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> ;
</div>
<div class="ltx_listingline" id="alg1.85.100">
<span class="ltx_tag ltx_tag_listingline">39</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span class="ltx_text ltx_font_bold" id="alg1.85.100.1">else</span>
</div>
<div class="ltx_listingline" id="alg1.85.101">
<span class="ltx_tag ltx_tag_listingline">40</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="alg1.57.57">
<span class="ltx_tag ltx_tag_listingline">41</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span class="ltx_text ltx_font_bold" id="alg1.57.57.3">if</span> <em class="ltx_emph ltx_font_italic" id="alg1.57.57.2"><math alttext="t&gt;=th_{2}" class="ltx_Math" display="inline" id="alg1.56.56.1.m1.1"><semantics id="alg1.56.56.1.m1.1a"><mrow id="alg1.56.56.1.m1.1.1" xref="alg1.56.56.1.m1.1.1.cmml"><mi id="alg1.56.56.1.m1.1.1.2" xref="alg1.56.56.1.m1.1.1.2.cmml">t</mi><mo id="alg1.56.56.1.m1.1.1.1" lspace="0.278em" rspace="0.278em" xref="alg1.56.56.1.m1.1.1.1.cmml">&gt;=</mo><mrow id="alg1.56.56.1.m1.1.1.3" xref="alg1.56.56.1.m1.1.1.3.cmml"><mi id="alg1.56.56.1.m1.1.1.3.2" xref="alg1.56.56.1.m1.1.1.3.2.cmml">t</mi><mo id="alg1.56.56.1.m1.1.1.3.1" xref="alg1.56.56.1.m1.1.1.3.1.cmml">⁢</mo><msub id="alg1.56.56.1.m1.1.1.3.3" xref="alg1.56.56.1.m1.1.1.3.3.cmml"><mi id="alg1.56.56.1.m1.1.1.3.3.2" xref="alg1.56.56.1.m1.1.1.3.3.2.cmml">h</mi><mn id="alg1.56.56.1.m1.1.1.3.3.3" xref="alg1.56.56.1.m1.1.1.3.3.3.cmml">2</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.56.56.1.m1.1b"><apply id="alg1.56.56.1.m1.1.1.cmml" xref="alg1.56.56.1.m1.1.1"><geq id="alg1.56.56.1.m1.1.1.1.cmml" xref="alg1.56.56.1.m1.1.1.1"></geq><ci id="alg1.56.56.1.m1.1.1.2.cmml" xref="alg1.56.56.1.m1.1.1.2">𝑡</ci><apply id="alg1.56.56.1.m1.1.1.3.cmml" xref="alg1.56.56.1.m1.1.1.3"><times id="alg1.56.56.1.m1.1.1.3.1.cmml" xref="alg1.56.56.1.m1.1.1.3.1"></times><ci id="alg1.56.56.1.m1.1.1.3.2.cmml" xref="alg1.56.56.1.m1.1.1.3.2">𝑡</ci><apply id="alg1.56.56.1.m1.1.1.3.3.cmml" xref="alg1.56.56.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.56.56.1.m1.1.1.3.3.1.cmml" xref="alg1.56.56.1.m1.1.1.3.3">subscript</csymbol><ci id="alg1.56.56.1.m1.1.1.3.3.2.cmml" xref="alg1.56.56.1.m1.1.1.3.3.2">ℎ</ci><cn id="alg1.56.56.1.m1.1.1.3.3.3.cmml" type="integer" xref="alg1.56.56.1.m1.1.1.3.3.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.56.56.1.m1.1c">t&gt;=th_{2}</annotation><annotation encoding="application/x-llamapun" id="alg1.56.56.1.m1.1d">italic_t &gt; = italic_t italic_h start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> and (<math alttext="t\bmod th_{2}" class="ltx_Math" display="inline" id="alg1.57.57.2.m2.1"><semantics id="alg1.57.57.2.m2.1a"><mrow id="alg1.57.57.2.m2.1.1" xref="alg1.57.57.2.m2.1.1.cmml"><mi id="alg1.57.57.2.m2.1.1.2" xref="alg1.57.57.2.m2.1.1.2.cmml">t</mi><mo id="alg1.57.57.2.m2.1.1.1" xref="alg1.57.57.2.m2.1.1.1.cmml">mod</mo><mrow id="alg1.57.57.2.m2.1.1.3" xref="alg1.57.57.2.m2.1.1.3.cmml"><mi id="alg1.57.57.2.m2.1.1.3.2" xref="alg1.57.57.2.m2.1.1.3.2.cmml">t</mi><mo id="alg1.57.57.2.m2.1.1.3.1" xref="alg1.57.57.2.m2.1.1.3.1.cmml">⁢</mo><msub id="alg1.57.57.2.m2.1.1.3.3" xref="alg1.57.57.2.m2.1.1.3.3.cmml"><mi id="alg1.57.57.2.m2.1.1.3.3.2" xref="alg1.57.57.2.m2.1.1.3.3.2.cmml">h</mi><mn id="alg1.57.57.2.m2.1.1.3.3.3" xref="alg1.57.57.2.m2.1.1.3.3.3.cmml">2</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.57.57.2.m2.1b"><apply id="alg1.57.57.2.m2.1.1.cmml" xref="alg1.57.57.2.m2.1.1"><csymbol cd="latexml" id="alg1.57.57.2.m2.1.1.1.cmml" xref="alg1.57.57.2.m2.1.1.1">modulo</csymbol><ci id="alg1.57.57.2.m2.1.1.2.cmml" xref="alg1.57.57.2.m2.1.1.2">𝑡</ci><apply id="alg1.57.57.2.m2.1.1.3.cmml" xref="alg1.57.57.2.m2.1.1.3"><times id="alg1.57.57.2.m2.1.1.3.1.cmml" xref="alg1.57.57.2.m2.1.1.3.1"></times><ci id="alg1.57.57.2.m2.1.1.3.2.cmml" xref="alg1.57.57.2.m2.1.1.3.2">𝑡</ci><apply id="alg1.57.57.2.m2.1.1.3.3.cmml" xref="alg1.57.57.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="alg1.57.57.2.m2.1.1.3.3.1.cmml" xref="alg1.57.57.2.m2.1.1.3.3">subscript</csymbol><ci id="alg1.57.57.2.m2.1.1.3.3.2.cmml" xref="alg1.57.57.2.m2.1.1.3.3.2">ℎ</ci><cn id="alg1.57.57.2.m2.1.1.3.3.3.cmml" type="integer" xref="alg1.57.57.2.m2.1.1.3.3.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.57.57.2.m2.1c">t\bmod th_{2}</annotation><annotation encoding="application/x-llamapun" id="alg1.57.57.2.m2.1d">italic_t roman_mod italic_t italic_h start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> == 0)</em> <span class="ltx_text ltx_font_bold" id="alg1.57.57.4">then</span>
</div>
<div class="ltx_listingline" id="alg1.85.102">
<span class="ltx_tag ltx_tag_listingline">42</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_italic" id="alg1.85.102.1">//the chunk level rethink fail, go to the document level rethink</span>
</div>
<div class="ltx_listingline" id="alg1.59.59">
<span class="ltx_tag ltx_tag_listingline">43</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="d_{s}" class="ltx_Math" display="inline" id="alg1.58.58.m1.1"><semantics id="alg1.58.58.m1.1a"><msub id="alg1.58.58.m1.1.1" xref="alg1.58.58.m1.1.1.cmml"><mi id="alg1.58.58.m1.1.1.2" xref="alg1.58.58.m1.1.1.2.cmml">d</mi><mi id="alg1.58.58.m1.1.1.3" xref="alg1.58.58.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.58.58.m1.1b"><apply id="alg1.58.58.m1.1.1.cmml" xref="alg1.58.58.m1.1.1"><csymbol cd="ambiguous" id="alg1.58.58.m1.1.1.1.cmml" xref="alg1.58.58.m1.1.1">subscript</csymbol><ci id="alg1.58.58.m1.1.1.2.cmml" xref="alg1.58.58.m1.1.1.2">𝑑</ci><ci id="alg1.58.58.m1.1.1.3.cmml" xref="alg1.58.58.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.58.58.m1.1c">d_{s}</annotation><annotation encoding="application/x-llamapun" id="alg1.58.58.m1.1d">italic_d start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math>=<span class="ltx_text ltx_font_typewriter" id="alg1.59.59.1">SparseRetrieval(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.59.59.1.1"><math alttext="e,D,t" class="ltx_Math" display="inline" id="alg1.59.59.1.1.m1.3"><semantics id="alg1.59.59.1.1.m1.3a"><mrow id="alg1.59.59.1.1.m1.3.4.2" xref="alg1.59.59.1.1.m1.3.4.1.cmml"><mi id="alg1.59.59.1.1.m1.1.1" xref="alg1.59.59.1.1.m1.1.1.cmml">e</mi><mo id="alg1.59.59.1.1.m1.3.4.2.1" xref="alg1.59.59.1.1.m1.3.4.1.cmml">,</mo><mi id="alg1.59.59.1.1.m1.2.2" xref="alg1.59.59.1.1.m1.2.2.cmml">D</mi><mo id="alg1.59.59.1.1.m1.3.4.2.2" xref="alg1.59.59.1.1.m1.3.4.1.cmml">,</mo><mi id="alg1.59.59.1.1.m1.3.3" xref="alg1.59.59.1.1.m1.3.3.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.59.59.1.1.m1.3b"><list id="alg1.59.59.1.1.m1.3.4.1.cmml" xref="alg1.59.59.1.1.m1.3.4.2"><ci id="alg1.59.59.1.1.m1.1.1.cmml" xref="alg1.59.59.1.1.m1.1.1">𝑒</ci><ci id="alg1.59.59.1.1.m1.2.2.cmml" xref="alg1.59.59.1.1.m1.2.2">𝐷</ci><ci id="alg1.59.59.1.1.m1.3.3.cmml" xref="alg1.59.59.1.1.m1.3.3">𝑡</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.59.59.1.1.m1.3c">e,D,t</annotation><annotation encoding="application/x-llamapun" id="alg1.59.59.1.1.m1.3d">italic_e , italic_D , italic_t</annotation></semantics></math></em>)</span>;<span class="ltx_text ltx_font_italic" id="alg1.59.59.2">//get other document </span>
</div>
<div class="ltx_listingline" id="alg1.60.60">
<span class="ltx_tag ltx_tag_listingline">44</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span class="ltx_text ltx_font_bold" id="alg1.60.60.2">if</span> <em class="ltx_emph ltx_font_italic" id="alg1.60.60.1"><math alttext="t&gt;=th_{3}" class="ltx_Math" display="inline" id="alg1.60.60.1.m1.1"><semantics id="alg1.60.60.1.m1.1a"><mrow id="alg1.60.60.1.m1.1.1" xref="alg1.60.60.1.m1.1.1.cmml"><mi id="alg1.60.60.1.m1.1.1.2" xref="alg1.60.60.1.m1.1.1.2.cmml">t</mi><mo id="alg1.60.60.1.m1.1.1.1" lspace="0.278em" rspace="0.278em" xref="alg1.60.60.1.m1.1.1.1.cmml">&gt;=</mo><mrow id="alg1.60.60.1.m1.1.1.3" xref="alg1.60.60.1.m1.1.1.3.cmml"><mi id="alg1.60.60.1.m1.1.1.3.2" xref="alg1.60.60.1.m1.1.1.3.2.cmml">t</mi><mo id="alg1.60.60.1.m1.1.1.3.1" xref="alg1.60.60.1.m1.1.1.3.1.cmml">⁢</mo><msub id="alg1.60.60.1.m1.1.1.3.3" xref="alg1.60.60.1.m1.1.1.3.3.cmml"><mi id="alg1.60.60.1.m1.1.1.3.3.2" xref="alg1.60.60.1.m1.1.1.3.3.2.cmml">h</mi><mn id="alg1.60.60.1.m1.1.1.3.3.3" xref="alg1.60.60.1.m1.1.1.3.3.3.cmml">3</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.60.60.1.m1.1b"><apply id="alg1.60.60.1.m1.1.1.cmml" xref="alg1.60.60.1.m1.1.1"><geq id="alg1.60.60.1.m1.1.1.1.cmml" xref="alg1.60.60.1.m1.1.1.1"></geq><ci id="alg1.60.60.1.m1.1.1.2.cmml" xref="alg1.60.60.1.m1.1.1.2">𝑡</ci><apply id="alg1.60.60.1.m1.1.1.3.cmml" xref="alg1.60.60.1.m1.1.1.3"><times id="alg1.60.60.1.m1.1.1.3.1.cmml" xref="alg1.60.60.1.m1.1.1.3.1"></times><ci id="alg1.60.60.1.m1.1.1.3.2.cmml" xref="alg1.60.60.1.m1.1.1.3.2">𝑡</ci><apply id="alg1.60.60.1.m1.1.1.3.3.cmml" xref="alg1.60.60.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.60.60.1.m1.1.1.3.3.1.cmml" xref="alg1.60.60.1.m1.1.1.3.3">subscript</csymbol><ci id="alg1.60.60.1.m1.1.1.3.3.2.cmml" xref="alg1.60.60.1.m1.1.1.3.3.2">ℎ</ci><cn id="alg1.60.60.1.m1.1.1.3.3.3.cmml" type="integer" xref="alg1.60.60.1.m1.1.1.3.3.3">3</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.60.60.1.m1.1c">t&gt;=th_{3}</annotation><annotation encoding="application/x-llamapun" id="alg1.60.60.1.m1.1d">italic_t &gt; = italic_t italic_h start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="alg1.60.60.3">then</span>
</div>
<div class="ltx_listingline" id="alg1.85.103">
<span class="ltx_tag ltx_tag_listingline">45</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_italic" id="alg1.85.103.1">//Too many attempts, empty result returned</span>
</div>
<div class="ltx_listingline" id="alg1.85.104">
<span class="ltx_tag ltx_tag_listingline">46</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="alg1.85.104.1">return</span> ” ;
</div>
<div class="ltx_listingline" id="alg1.85.105">
<span class="ltx_tag ltx_tag_listingline">47</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="alg1.85.106">
<span class="ltx_tag ltx_tag_listingline">48</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div class="ltx_listingline" id="alg1.85.107">
<span class="ltx_tag ltx_tag_listingline">49</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span class="ltx_text ltx_font_italic" id="alg1.85.107.1">//go to the chunk level rethink</span>
</div>
<div class="ltx_listingline" id="alg1.85.108">
<span class="ltx_tag ltx_tag_listingline">50</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div class="ltx_listingline" id="alg1.85.109">
<span class="ltx_tag ltx_tag_listingline">51</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div class="ltx_listingline" id="alg1.65.65">
<span class="ltx_tag ltx_tag_listingline">52</span>
<span class="ltx_text ltx_font_bold" id="alg1.65.65.6">Function</span> <em class="ltx_emph ltx_font_typewriter" id="alg1.65.65.5">Main(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.65.65.5.5.5"><math alttext="x" class="ltx_Math" display="inline" id="alg1.61.61.1.1.1.m1.1"><semantics id="alg1.61.61.1.1.1.m1.1a"><mi id="alg1.61.61.1.1.1.m1.1.1" xref="alg1.61.61.1.1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="alg1.61.61.1.1.1.m1.1b"><ci id="alg1.61.61.1.1.1.m1.1.1.cmml" xref="alg1.61.61.1.1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.61.61.1.1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="alg1.61.61.1.1.1.m1.1d">italic_x</annotation></semantics></math>, <math alttext="w" class="ltx_Math" display="inline" id="alg1.62.62.2.2.2.m2.1"><semantics id="alg1.62.62.2.2.2.m2.1a"><mi id="alg1.62.62.2.2.2.m2.1.1" xref="alg1.62.62.2.2.2.m2.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="alg1.62.62.2.2.2.m2.1b"><ci id="alg1.62.62.2.2.2.m2.1.1.cmml" xref="alg1.62.62.2.2.2.m2.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.62.62.2.2.2.m2.1c">w</annotation><annotation encoding="application/x-llamapun" id="alg1.62.62.2.2.2.m2.1d">italic_w</annotation></semantics></math>, <math alttext="D" class="ltx_Math" display="inline" id="alg1.63.63.3.3.3.m3.1"><semantics id="alg1.63.63.3.3.3.m3.1a"><mi id="alg1.63.63.3.3.3.m3.1.1" xref="alg1.63.63.3.3.3.m3.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="alg1.63.63.3.3.3.m3.1b"><ci id="alg1.63.63.3.3.3.m3.1.1.cmml" xref="alg1.63.63.3.3.3.m3.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.63.63.3.3.3.m3.1c">D</annotation><annotation encoding="application/x-llamapun" id="alg1.63.63.3.3.3.m3.1d">italic_D</annotation></semantics></math>, <math alttext="A" class="ltx_Math" display="inline" id="alg1.64.64.4.4.4.m4.1"><semantics id="alg1.64.64.4.4.4.m4.1a"><mi id="alg1.64.64.4.4.4.m4.1.1" xref="alg1.64.64.4.4.4.m4.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="alg1.64.64.4.4.4.m4.1b"><ci id="alg1.64.64.4.4.4.m4.1.1.cmml" xref="alg1.64.64.4.4.4.m4.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.64.64.4.4.4.m4.1c">A</annotation><annotation encoding="application/x-llamapun" id="alg1.64.64.4.4.4.m4.1d">italic_A</annotation></semantics></math>, <math alttext="Q" class="ltx_Math" display="inline" id="alg1.65.65.5.5.5.m5.1"><semantics id="alg1.65.65.5.5.5.m5.1a"><mi id="alg1.65.65.5.5.5.m5.1.1" xref="alg1.65.65.5.5.5.m5.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="alg1.65.65.5.5.5.m5.1b"><ci id="alg1.65.65.5.5.5.m5.1.1.cmml" xref="alg1.65.65.5.5.5.m5.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.65.65.5.5.5.m5.1c">Q</annotation><annotation encoding="application/x-llamapun" id="alg1.65.65.5.5.5.m5.1d">italic_Q</annotation></semantics></math></em>)</em><span class="ltx_text ltx_font_bold" id="alg1.65.65.7">:</span>
</div>
<div class="ltx_listingline" id="alg1.69.69">
<span class="ltx_tag ltx_tag_listingline">53</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="q=" class="ltx_Math" display="inline" id="alg1.66.66.m1.1"><semantics id="alg1.66.66.m1.1a"><mrow id="alg1.66.66.m1.1.1" xref="alg1.66.66.m1.1.1.cmml"><mi id="alg1.66.66.m1.1.1.2" xref="alg1.66.66.m1.1.1.2.cmml">q</mi><mo id="alg1.66.66.m1.1.1.1" xref="alg1.66.66.m1.1.1.1.cmml">=</mo><mi id="alg1.66.66.m1.1.1.3" xref="alg1.66.66.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.66.66.m1.1b"><apply id="alg1.66.66.m1.1.1.cmml" xref="alg1.66.66.m1.1.1"><eq id="alg1.66.66.m1.1.1.1.cmml" xref="alg1.66.66.m1.1.1.1"></eq><ci id="alg1.66.66.m1.1.1.2.cmml" xref="alg1.66.66.m1.1.1.2">𝑞</ci><csymbol cd="latexml" id="alg1.66.66.m1.1.1.3.cmml" xref="alg1.66.66.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.66.66.m1.1c">q=</annotation><annotation encoding="application/x-llamapun" id="alg1.66.66.m1.1d">italic_q =</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="alg1.69.69.3">Decompose(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.69.69.3.3"><math alttext="x" class="ltx_Math" display="inline" id="alg1.67.67.1.1.m1.1"><semantics id="alg1.67.67.1.1.m1.1a"><mi id="alg1.67.67.1.1.m1.1.1" xref="alg1.67.67.1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="alg1.67.67.1.1.m1.1b"><ci id="alg1.67.67.1.1.m1.1.1.cmml" xref="alg1.67.67.1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.67.67.1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="alg1.67.67.1.1.m1.1d">italic_x</annotation></semantics></math>, <math alttext="w" class="ltx_Math" display="inline" id="alg1.68.68.2.2.m2.1"><semantics id="alg1.68.68.2.2.m2.1a"><mi id="alg1.68.68.2.2.m2.1.1" xref="alg1.68.68.2.2.m2.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="alg1.68.68.2.2.m2.1b"><ci id="alg1.68.68.2.2.m2.1.1.cmml" xref="alg1.68.68.2.2.m2.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.68.68.2.2.m2.1c">w</annotation><annotation encoding="application/x-llamapun" id="alg1.68.68.2.2.m2.1d">italic_w</annotation></semantics></math>, <math alttext="A" class="ltx_Math" display="inline" id="alg1.69.69.3.3.m3.1"><semantics id="alg1.69.69.3.3.m3.1a"><mi id="alg1.69.69.3.3.m3.1.1" xref="alg1.69.69.3.3.m3.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="alg1.69.69.3.3.m3.1b"><ci id="alg1.69.69.3.3.m3.1.1.cmml" xref="alg1.69.69.3.3.m3.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.69.69.3.3.m3.1c">A</annotation><annotation encoding="application/x-llamapun" id="alg1.69.69.3.3.m3.1d">italic_A</annotation></semantics></math></em>)</span>;
</div>
<div class="ltx_listingline" id="alg1.72.72">
<span class="ltx_tag ltx_tag_listingline">54</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="alg1.72.72.4">while</span> <em class="ltx_emph ltx_font_italic" id="alg1.72.72.3">not (<math alttext="q==" class="ltx_Math" display="inline" id="alg1.70.70.1.m1.1"><semantics id="alg1.70.70.1.m1.1a"><mrow id="alg1.70.70.1.m1.1.1" xref="alg1.70.70.1.m1.1.1.cmml"><mi id="alg1.70.70.1.m1.1.1.2" xref="alg1.70.70.1.m1.1.1.2.cmml">q</mi><mo id="alg1.70.70.1.m1.1.1.1" rspace="0em" xref="alg1.70.70.1.m1.1.1.1.cmml">=</mo><mo id="alg1.70.70.1.m1.1.1.3" lspace="0em" xref="alg1.70.70.1.m1.1.1.3.cmml">=</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.70.70.1.m1.1b"><apply id="alg1.70.70.1.m1.1.1.cmml" xref="alg1.70.70.1.m1.1.1"><eq id="alg1.70.70.1.m1.1.1.1.cmml" xref="alg1.70.70.1.m1.1.1.1"></eq><ci id="alg1.70.70.1.m1.1.1.2.cmml" xref="alg1.70.70.1.m1.1.1.2">𝑞</ci><eq id="alg1.70.70.1.m1.1.1.3.cmml" xref="alg1.70.70.1.m1.1.1.3"></eq></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.70.70.1.m1.1c">q==</annotation><annotation encoding="application/x-llamapun" id="alg1.70.70.1.m1.1d">italic_q = =</annotation></semantics></math> “That’s enough” or <math alttext="q" class="ltx_Math" display="inline" id="alg1.71.71.2.m2.1"><semantics id="alg1.71.71.2.m2.1a"><mi id="alg1.71.71.2.m2.1.1" xref="alg1.71.71.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="alg1.71.71.2.m2.1b"><ci id="alg1.71.71.2.m2.1.1.cmml" xref="alg1.71.71.2.m2.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.71.71.2.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="alg1.71.71.2.m2.1d">italic_q</annotation></semantics></math> in <math alttext="Q" class="ltx_Math" display="inline" id="alg1.72.72.3.m3.1"><semantics id="alg1.72.72.3.m3.1a"><mi id="alg1.72.72.3.m3.1.1" xref="alg1.72.72.3.m3.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="alg1.72.72.3.m3.1b"><ci id="alg1.72.72.3.m3.1.1.cmml" xref="alg1.72.72.3.m3.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.72.72.3.m3.1c">Q</annotation><annotation encoding="application/x-llamapun" id="alg1.72.72.3.m3.1d">italic_Q</annotation></semantics></math>)</em> <span class="ltx_text ltx_font_bold" id="alg1.72.72.5">do</span>
</div>
<div class="ltx_listingline" id="alg1.85.110">
<span class="ltx_tag ltx_tag_listingline">55</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div class="ltx_listingline" id="alg1.77.77">
<span class="ltx_tag ltx_tag_listingline">56</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math alttext="a_{w}=" class="ltx_Math" display="inline" id="alg1.73.73.m1.1"><semantics id="alg1.73.73.m1.1a"><mrow id="alg1.73.73.m1.1.1" xref="alg1.73.73.m1.1.1.cmml"><msub id="alg1.73.73.m1.1.1.2" xref="alg1.73.73.m1.1.1.2.cmml"><mi id="alg1.73.73.m1.1.1.2.2" xref="alg1.73.73.m1.1.1.2.2.cmml">a</mi><mi id="alg1.73.73.m1.1.1.2.3" xref="alg1.73.73.m1.1.1.2.3.cmml">w</mi></msub><mo id="alg1.73.73.m1.1.1.1" xref="alg1.73.73.m1.1.1.1.cmml">=</mo><mi id="alg1.73.73.m1.1.1.3" xref="alg1.73.73.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.73.73.m1.1b"><apply id="alg1.73.73.m1.1.1.cmml" xref="alg1.73.73.m1.1.1"><eq id="alg1.73.73.m1.1.1.1.cmml" xref="alg1.73.73.m1.1.1.1"></eq><apply id="alg1.73.73.m1.1.1.2.cmml" xref="alg1.73.73.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.73.73.m1.1.1.2.1.cmml" xref="alg1.73.73.m1.1.1.2">subscript</csymbol><ci id="alg1.73.73.m1.1.1.2.2.cmml" xref="alg1.73.73.m1.1.1.2.2">𝑎</ci><ci id="alg1.73.73.m1.1.1.2.3.cmml" xref="alg1.73.73.m1.1.1.2.3">𝑤</ci></apply><csymbol cd="latexml" id="alg1.73.73.m1.1.1.3.cmml" xref="alg1.73.73.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.73.73.m1.1c">a_{w}=</annotation><annotation encoding="application/x-llamapun" id="alg1.73.73.m1.1d">italic_a start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT =</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="alg1.77.77.4">Retrieval(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.77.77.4.4"><math alttext="q" class="ltx_Math" display="inline" id="alg1.74.74.1.1.m1.1"><semantics id="alg1.74.74.1.1.m1.1a"><mi id="alg1.74.74.1.1.m1.1.1" xref="alg1.74.74.1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="alg1.74.74.1.1.m1.1b"><ci id="alg1.74.74.1.1.m1.1.1.cmml" xref="alg1.74.74.1.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.74.74.1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="alg1.74.74.1.1.m1.1d">italic_q</annotation></semantics></math>, <math alttext="D" class="ltx_Math" display="inline" id="alg1.75.75.2.2.m2.1"><semantics id="alg1.75.75.2.2.m2.1a"><mi id="alg1.75.75.2.2.m2.1.1" xref="alg1.75.75.2.2.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="alg1.75.75.2.2.m2.1b"><ci id="alg1.75.75.2.2.m2.1.1.cmml" xref="alg1.75.75.2.2.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.75.75.2.2.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="alg1.75.75.2.2.m2.1d">italic_D</annotation></semantics></math>, <math alttext="x" class="ltx_Math" display="inline" id="alg1.76.76.3.3.m3.1"><semantics id="alg1.76.76.3.3.m3.1a"><mi id="alg1.76.76.3.3.m3.1.1" xref="alg1.76.76.3.3.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="alg1.76.76.3.3.m3.1b"><ci id="alg1.76.76.3.3.m3.1.1.cmml" xref="alg1.76.76.3.3.m3.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.76.76.3.3.m3.1c">x</annotation><annotation encoding="application/x-llamapun" id="alg1.76.76.3.3.m3.1d">italic_x</annotation></semantics></math>, <math alttext="A" class="ltx_Math" display="inline" id="alg1.77.77.4.4.m4.1"><semantics id="alg1.77.77.4.4.m4.1a"><mi id="alg1.77.77.4.4.m4.1.1" xref="alg1.77.77.4.4.m4.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="alg1.77.77.4.4.m4.1b"><ci id="alg1.77.77.4.4.m4.1.1.cmml" xref="alg1.77.77.4.4.m4.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.77.77.4.4.m4.1c">A</annotation><annotation encoding="application/x-llamapun" id="alg1.77.77.4.4.m4.1d">italic_A</annotation></semantics></math></em>)</span>; <span class="ltx_text ltx_font_italic" id="alg1.77.77.5">// Get the answer.</span>
</div>
<div class="ltx_listingline" id="alg1.78.78">
<span class="ltx_tag ltx_tag_listingline">57</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="w=w+1" class="ltx_Math" display="inline" id="alg1.78.78.m1.1"><semantics id="alg1.78.78.m1.1a"><mrow id="alg1.78.78.m1.1.1" xref="alg1.78.78.m1.1.1.cmml"><mi id="alg1.78.78.m1.1.1.2" xref="alg1.78.78.m1.1.1.2.cmml">w</mi><mo id="alg1.78.78.m1.1.1.1" xref="alg1.78.78.m1.1.1.1.cmml">=</mo><mrow id="alg1.78.78.m1.1.1.3" xref="alg1.78.78.m1.1.1.3.cmml"><mi id="alg1.78.78.m1.1.1.3.2" xref="alg1.78.78.m1.1.1.3.2.cmml">w</mi><mo id="alg1.78.78.m1.1.1.3.1" xref="alg1.78.78.m1.1.1.3.1.cmml">+</mo><mn id="alg1.78.78.m1.1.1.3.3" xref="alg1.78.78.m1.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.78.78.m1.1b"><apply id="alg1.78.78.m1.1.1.cmml" xref="alg1.78.78.m1.1.1"><eq id="alg1.78.78.m1.1.1.1.cmml" xref="alg1.78.78.m1.1.1.1"></eq><ci id="alg1.78.78.m1.1.1.2.cmml" xref="alg1.78.78.m1.1.1.2">𝑤</ci><apply id="alg1.78.78.m1.1.1.3.cmml" xref="alg1.78.78.m1.1.1.3"><plus id="alg1.78.78.m1.1.1.3.1.cmml" xref="alg1.78.78.m1.1.1.3.1"></plus><ci id="alg1.78.78.m1.1.1.3.2.cmml" xref="alg1.78.78.m1.1.1.3.2">𝑤</ci><cn id="alg1.78.78.m1.1.1.3.3.cmml" type="integer" xref="alg1.78.78.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.78.78.m1.1c">w=w+1</annotation><annotation encoding="application/x-llamapun" id="alg1.78.78.m1.1d">italic_w = italic_w + 1</annotation></semantics></math>;
</div>
<div class="ltx_listingline" id="alg1.82.82">
<span class="ltx_tag ltx_tag_listingline">58</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math alttext="q=" class="ltx_Math" display="inline" id="alg1.79.79.m1.1"><semantics id="alg1.79.79.m1.1a"><mrow id="alg1.79.79.m1.1.1" xref="alg1.79.79.m1.1.1.cmml"><mi id="alg1.79.79.m1.1.1.2" xref="alg1.79.79.m1.1.1.2.cmml">q</mi><mo id="alg1.79.79.m1.1.1.1" xref="alg1.79.79.m1.1.1.1.cmml">=</mo><mi id="alg1.79.79.m1.1.1.3" xref="alg1.79.79.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.79.79.m1.1b"><apply id="alg1.79.79.m1.1.1.cmml" xref="alg1.79.79.m1.1.1"><eq id="alg1.79.79.m1.1.1.1.cmml" xref="alg1.79.79.m1.1.1.1"></eq><ci id="alg1.79.79.m1.1.1.2.cmml" xref="alg1.79.79.m1.1.1.2">𝑞</ci><csymbol cd="latexml" id="alg1.79.79.m1.1.1.3.cmml" xref="alg1.79.79.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.79.79.m1.1c">q=</annotation><annotation encoding="application/x-llamapun" id="alg1.79.79.m1.1d">italic_q =</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="alg1.82.82.3">Decompose(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.82.82.3.3"><math alttext="x" class="ltx_Math" display="inline" id="alg1.80.80.1.1.m1.1"><semantics id="alg1.80.80.1.1.m1.1a"><mi id="alg1.80.80.1.1.m1.1.1" xref="alg1.80.80.1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="alg1.80.80.1.1.m1.1b"><ci id="alg1.80.80.1.1.m1.1.1.cmml" xref="alg1.80.80.1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.80.80.1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="alg1.80.80.1.1.m1.1d">italic_x</annotation></semantics></math>, <math alttext="w" class="ltx_Math" display="inline" id="alg1.81.81.2.2.m2.1"><semantics id="alg1.81.81.2.2.m2.1a"><mi id="alg1.81.81.2.2.m2.1.1" xref="alg1.81.81.2.2.m2.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="alg1.81.81.2.2.m2.1b"><ci id="alg1.81.81.2.2.m2.1.1.cmml" xref="alg1.81.81.2.2.m2.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.81.81.2.2.m2.1c">w</annotation><annotation encoding="application/x-llamapun" id="alg1.81.81.2.2.m2.1d">italic_w</annotation></semantics></math>, <math alttext="A" class="ltx_Math" display="inline" id="alg1.82.82.3.3.m3.1"><semantics id="alg1.82.82.3.3.m3.1a"><mi id="alg1.82.82.3.3.m3.1.1" xref="alg1.82.82.3.3.m3.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="alg1.82.82.3.3.m3.1b"><ci id="alg1.82.82.3.3.m3.1.1.cmml" xref="alg1.82.82.3.3.m3.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.82.82.3.3.m3.1c">A</annotation><annotation encoding="application/x-llamapun" id="alg1.82.82.3.3.m3.1d">italic_A</annotation></semantics></math></em>)</span>;
</div>
<div class="ltx_listingline" id="alg1.84.84">
<span class="ltx_tag ltx_tag_listingline">59</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math alttext="Output=" class="ltx_Math" display="inline" id="alg1.83.83.m1.1"><semantics id="alg1.83.83.m1.1a"><mrow id="alg1.83.83.m1.1.1" xref="alg1.83.83.m1.1.1.cmml"><mrow id="alg1.83.83.m1.1.1.2" xref="alg1.83.83.m1.1.1.2.cmml"><mi id="alg1.83.83.m1.1.1.2.2" xref="alg1.83.83.m1.1.1.2.2.cmml">O</mi><mo id="alg1.83.83.m1.1.1.2.1" xref="alg1.83.83.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.83.83.m1.1.1.2.3" xref="alg1.83.83.m1.1.1.2.3.cmml">u</mi><mo id="alg1.83.83.m1.1.1.2.1a" xref="alg1.83.83.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.83.83.m1.1.1.2.4" xref="alg1.83.83.m1.1.1.2.4.cmml">t</mi><mo id="alg1.83.83.m1.1.1.2.1b" xref="alg1.83.83.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.83.83.m1.1.1.2.5" xref="alg1.83.83.m1.1.1.2.5.cmml">p</mi><mo id="alg1.83.83.m1.1.1.2.1c" xref="alg1.83.83.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.83.83.m1.1.1.2.6" xref="alg1.83.83.m1.1.1.2.6.cmml">u</mi><mo id="alg1.83.83.m1.1.1.2.1d" xref="alg1.83.83.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.83.83.m1.1.1.2.7" xref="alg1.83.83.m1.1.1.2.7.cmml">t</mi></mrow><mo id="alg1.83.83.m1.1.1.1" xref="alg1.83.83.m1.1.1.1.cmml">=</mo><mi id="alg1.83.83.m1.1.1.3" xref="alg1.83.83.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.83.83.m1.1b"><apply id="alg1.83.83.m1.1.1.cmml" xref="alg1.83.83.m1.1.1"><eq id="alg1.83.83.m1.1.1.1.cmml" xref="alg1.83.83.m1.1.1.1"></eq><apply id="alg1.83.83.m1.1.1.2.cmml" xref="alg1.83.83.m1.1.1.2"><times id="alg1.83.83.m1.1.1.2.1.cmml" xref="alg1.83.83.m1.1.1.2.1"></times><ci id="alg1.83.83.m1.1.1.2.2.cmml" xref="alg1.83.83.m1.1.1.2.2">𝑂</ci><ci id="alg1.83.83.m1.1.1.2.3.cmml" xref="alg1.83.83.m1.1.1.2.3">𝑢</ci><ci id="alg1.83.83.m1.1.1.2.4.cmml" xref="alg1.83.83.m1.1.1.2.4">𝑡</ci><ci id="alg1.83.83.m1.1.1.2.5.cmml" xref="alg1.83.83.m1.1.1.2.5">𝑝</ci><ci id="alg1.83.83.m1.1.1.2.6.cmml" xref="alg1.83.83.m1.1.1.2.6">𝑢</ci><ci id="alg1.83.83.m1.1.1.2.7.cmml" xref="alg1.83.83.m1.1.1.2.7">𝑡</ci></apply><csymbol cd="latexml" id="alg1.83.83.m1.1.1.3.cmml" xref="alg1.83.83.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.83.83.m1.1c">Output=</annotation><annotation encoding="application/x-llamapun" id="alg1.83.83.m1.1d">italic_O italic_u italic_t italic_p italic_u italic_t =</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="alg1.84.84.1">LLM(<em class="ltx_emph ltx_font_serif ltx_font_italic" id="alg1.84.84.1.1"><math alttext="x,A" class="ltx_Math" display="inline" id="alg1.84.84.1.1.m1.2"><semantics id="alg1.84.84.1.1.m1.2a"><mrow id="alg1.84.84.1.1.m1.2.3.2" xref="alg1.84.84.1.1.m1.2.3.1.cmml"><mi id="alg1.84.84.1.1.m1.1.1" xref="alg1.84.84.1.1.m1.1.1.cmml">x</mi><mo id="alg1.84.84.1.1.m1.2.3.2.1" xref="alg1.84.84.1.1.m1.2.3.1.cmml">,</mo><mi id="alg1.84.84.1.1.m1.2.2" xref="alg1.84.84.1.1.m1.2.2.cmml">A</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.84.84.1.1.m1.2b"><list id="alg1.84.84.1.1.m1.2.3.1.cmml" xref="alg1.84.84.1.1.m1.2.3.2"><ci id="alg1.84.84.1.1.m1.1.1.cmml" xref="alg1.84.84.1.1.m1.1.1">𝑥</ci><ci id="alg1.84.84.1.1.m1.2.2.cmml" xref="alg1.84.84.1.1.m1.2.2">𝐴</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.84.84.1.1.m1.2c">x,A</annotation><annotation encoding="application/x-llamapun" id="alg1.84.84.1.1.m1.2d">italic_x , italic_A</annotation></semantics></math></em>)</span>;<span class="ltx_text ltx_font_italic" id="alg1.84.84.2">// Get the output for original question using all sub-answers.</span>
</div>
<div class="ltx_listingline" id="alg1.85.85">
<span class="ltx_tag ltx_tag_listingline">60</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span class="ltx_text ltx_font_bold" id="alg1.85.85.1">return</span> <math alttext="Output" class="ltx_Math" display="inline" id="alg1.85.85.m1.1"><semantics id="alg1.85.85.m1.1a"><mrow id="alg1.85.85.m1.1.1" xref="alg1.85.85.m1.1.1.cmml"><mi id="alg1.85.85.m1.1.1.2" xref="alg1.85.85.m1.1.1.2.cmml">O</mi><mo id="alg1.85.85.m1.1.1.1" xref="alg1.85.85.m1.1.1.1.cmml">⁢</mo><mi id="alg1.85.85.m1.1.1.3" xref="alg1.85.85.m1.1.1.3.cmml">u</mi><mo id="alg1.85.85.m1.1.1.1a" xref="alg1.85.85.m1.1.1.1.cmml">⁢</mo><mi id="alg1.85.85.m1.1.1.4" xref="alg1.85.85.m1.1.1.4.cmml">t</mi><mo id="alg1.85.85.m1.1.1.1b" xref="alg1.85.85.m1.1.1.1.cmml">⁢</mo><mi id="alg1.85.85.m1.1.1.5" xref="alg1.85.85.m1.1.1.5.cmml">p</mi><mo id="alg1.85.85.m1.1.1.1c" xref="alg1.85.85.m1.1.1.1.cmml">⁢</mo><mi id="alg1.85.85.m1.1.1.6" xref="alg1.85.85.m1.1.1.6.cmml">u</mi><mo id="alg1.85.85.m1.1.1.1d" xref="alg1.85.85.m1.1.1.1.cmml">⁢</mo><mi id="alg1.85.85.m1.1.1.7" xref="alg1.85.85.m1.1.1.7.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.85.85.m1.1b"><apply id="alg1.85.85.m1.1.1.cmml" xref="alg1.85.85.m1.1.1"><times id="alg1.85.85.m1.1.1.1.cmml" xref="alg1.85.85.m1.1.1.1"></times><ci id="alg1.85.85.m1.1.1.2.cmml" xref="alg1.85.85.m1.1.1.2">𝑂</ci><ci id="alg1.85.85.m1.1.1.3.cmml" xref="alg1.85.85.m1.1.1.3">𝑢</ci><ci id="alg1.85.85.m1.1.1.4.cmml" xref="alg1.85.85.m1.1.1.4">𝑡</ci><ci id="alg1.85.85.m1.1.1.5.cmml" xref="alg1.85.85.m1.1.1.5">𝑝</ci><ci id="alg1.85.85.m1.1.1.6.cmml" xref="alg1.85.85.m1.1.1.6">𝑢</ci><ci id="alg1.85.85.m1.1.1.7.cmml" xref="alg1.85.85.m1.1.1.7">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.85.85.m1.1c">Output</annotation><annotation encoding="application/x-llamapun" id="alg1.85.85.m1.1d">italic_O italic_u italic_t italic_p italic_u italic_t</annotation></semantics></math>; 
</div>
<div class="ltx_listingline" id="alg1.85.111">
<span class="ltx_tag ltx_tag_listingline">61</span>
</div>
<div class="ltx_listingline" id="alg1.85.112">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.87.1.1">Algorithm 1</span> </span>Description of the process of HiRAG.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A1.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3. </span>Case Study</h3>
<div class="ltx_para" id="A1.SS3.p1">
<p class="ltx_p" id="A1.SS3.p1.1">We illustrate the effectiveness of the HiRAG framework through a case study on a multi-hop question, as depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11875v1#A1.F5" title="Figure 5 ‣ A.1. Experiment about Model Turn ‣ Appendix A APPENDIX ‣ Hierarchical Retrieval-Augmented Generation Model with Rethink for Multi-hop Question Answering"><span class="ltx_text ltx_ref_tag">5</span></a>. Specifically, the original question presented in the figure is decomposed into two sub-questions, which are then retrieved and verified in a layered manner. Sub-questions that fail verification are re-evaluated through a rethink process. Notably, the second sub-question in the figure yields the correct result after multiple chunk-level rethinks. Ultimately, we combine the sub-answers to form the final answer to the original question.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Tue Aug 13 06:59:48 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
