<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation</title>
<!--Generated on Tue Oct 15 06:24:31 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2410.11315v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S1" title="In SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S2" title="In SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Preliminaries</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S2.SS1" title="In 2 Preliminaries ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Problem Formulation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S2.SS2" title="In 2 Preliminaries ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Augmentation Analysis</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3" title="In SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.SS1" title="In 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Evidence Extraction Stage</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.SS2" title="In 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Expert Assessment Stage</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.SS3" title="In 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Self-Alignment Stage</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S4" title="In SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S4.SS1" title="In 4 Experiments ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Experimental Settings</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S4.SS2" title="In 4 Experiments ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Model Comparison (RQ1)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S4.SS3" title="In 4 Experiments ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Alignment Study (RQ2)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S4.SS4" title="In 4 Experiments ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Robustness Analysis (RQ3)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S4.SS5" title="In 4 Experiments ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>Ablation Study (RQ4)</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S5" title="In SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Related works</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S5.SS1" title="In 5 Related works ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Context Refinement for RAG</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S5.SS2" title="In 5 Related works ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Self-Aligned Learning</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S6" title="In SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A1" title="In SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>More Implementation Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A2" title="In SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Full-length Answer Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A3" title="In SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Stability Analysis</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A4" title="In SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Learning Algorithm of SEER</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Xinping Zhao<sup class="ltx_sup" id="id12.12.id1"><span class="ltx_text ltx_font_italic" id="id12.12.id1.1">1</span></sup>, Dongfang Li<sup class="ltx_sup" id="id13.13.id2"><span class="ltx_text ltx_font_italic" id="id13.13.id2.1">1</span></sup>, Yan Zhong<sup class="ltx_sup" id="id14.14.id3"><span class="ltx_text ltx_font_italic" id="id14.14.id3.1">2</span></sup>, Boren Hu<sup class="ltx_sup" id="id15.15.id4"><span class="ltx_text ltx_font_italic" id="id15.15.id4.1">3</span></sup>, 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id5.5.1">Yibin Chen<sup class="ltx_sup" id="id5.5.1.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id5.5.1.1.1">4</span></sup>,</span> <span class="ltx_text ltx_font_bold" id="id6.6.2">Baotian Hu<sup class="ltx_sup" id="id6.6.2.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id6.6.2.1.1">1</span></sup><sup class="ltx_sup" id="id6.6.2.2">🖂</sup>,</span> <span class="ltx_text ltx_font_bold" id="id7.7.3">Min Zhang<sup class="ltx_sup" id="id7.7.3.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id7.7.3.1.1">1</span></sup></span>
<br class="ltx_break"/><sup class="ltx_sup" id="id16.16.id5">1</sup>Harbin Institute of Technology (Shenzhen), <sup class="ltx_sup" id="id17.17.id6">2</sup>Peking University, 
<br class="ltx_break"/><sup class="ltx_sup" id="id18.18.id7">3</sup>Zhejiang University, <sup class="ltx_sup" id="id19.19.id8">4</sup>Huawei Cloud, Huawei Technologies Ltd. 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id20.20.id9">zhaoxinping@stu.hit.edu.cn</span>, <span class="ltx_text ltx_font_typewriter" id="id21.21.id10">{zhongyan946, huboren99}@gmail.com</span>, 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id22.22.id11">chenyibin4@huawei.com</span>, <span class="ltx_text ltx_font_typewriter" id="id23.23.id12">{lidongfang, hubaotian, zhangmin2021}@hit.edu.cn</span>
</span><span class="ltx_author_notes"><sup class="ltx_sup" id="id24.24.id1"><span class="ltx_text ltx_font_bold" id="id24.24.id1.1">🖂</span></sup><span class="ltx_text ltx_font_bold" id="id25.25.id2">Corresponding author.</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id26.id1">Recent studies in Retrieval-Augmented Generation (RAG) have investigated extracting evidence from retrieved passages to reduce computational costs and enhance the final RAG performance, yet it remains challenging.
Existing methods heavily rely on heuristic-based augmentation, encountering several issues:
(1) Poor generalization due to hand-crafted context filtering;
(2) Semantics deficiency due to rule-based context chunking;
(3) Skewed length due to sentence-wise filter learning.
To address these issues, we propose a model-based evidence extraction learning framework, <span class="ltx_text ltx_font_bold" id="id26.id1.1">SEER</span>, optimizing a vanilla model as an evidence extractor with desired properties through self-aligned learning.
Extensive experiments show that our method largely improves the final RAG performance, enhances the faithfulness, helpfulness, and conciseness of the extracted evidence, and reduces the evidence length by 9.25 times. The code will be available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/HITsz-TMG/SEER" title="">https://github.com/HITsz-TMG/SEER</a>.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Recent years have witnessed the prevailing winds of Retrieval-augmented Generation (RAG), which is a popular paradigm for improving the performances of Large Language Models (LLMs) in various downstream tasks,
such as question answering, making the output more reliable <cite class="ltx_cite ltx_citemacro_cite">Lewis et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib25" title="">2020</a>); Chen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib4" title="">2023</a>); Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib14" title="">2023b</a>); Ram et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib35" title="">2023</a>)</cite>, interpretable <cite class="ltx_cite ltx_citemacro_cite">Guu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib10" title="">2020</a>); Louis et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib30" title="">2024</a>)</cite>, and adaptable <cite class="ltx_cite ltx_citemacro_cite">Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib48" title="">2023</a>); Zakka et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib51" title="">2024</a>)</cite>.
Traditional practices <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib17" title="">2020</a>); Min et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib32" title="">2019</a>)</cite> often involve providing top-retrieved passages as the input context to LLMs without discrimination.
However, imperfect retrieval systems frequently yield irrelevant content. Furthermore, indiscriminately feeding all retrieved content to LLMs will cause input redundancy, imposing a high computational cost and making them prone to hallucination <cite class="ltx_cite ltx_citemacro_cite">Shi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib40" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Ideally, LLMs should be grounded on supporting content that is both highly helpful to address user input and sufficiently concise to facilitate inference speed.
However, it is practically impossible for imperfect retrieval systems to achieve such an ideal grounding solely <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib45" title="">2023</a>)</cite>.
In fact, top-retrieved passages usually compose supporting and distracting content, inflicting a heavy blow on LLMs trained with high-quality corpora to generate the correct output.
This motivates us to develop an evidence extractor, that aims at extracting supporting content while filtering out  distracting  content.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Recently, a pioneering study, <span class="ltx_text ltx_font_smallcaps" id="S1.p3.1.1">FilCo</span> <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib45" title="">2023</a>)</cite>, attempts to retrieve chunking document content with sentence precision via three filters, <span class="ltx_text ltx_font_italic" id="S1.p3.1.2">i.e.,</span> StrInc, Lexical, and CXMI.
Then, it trains a context filtering model, using context filtered by the above three measures as ground truth.
Despite effectiveness, current context-filtering methods have several limitations:
<span class="ltx_text ltx_font_bold" id="S1.p3.1.3">(1) Hand-crafted Context Filtering.</span> Manually designed context-filtering measures typically require domain knowledge, which can hardly be adaptable to diverse downstream tasks with limited supervision.
<span class="ltx_text ltx_font_bold" id="S1.p3.1.4">(2) Disruptive Chunking on Context.</span> The use of chunking strategies may be ineffective as rule-based splitting on context usually cannot preserve its original semantics and often produces semantically deficient text blocks.
<span class="ltx_text ltx_font_bold" id="S1.p3.1.5">(3) Skewed Distribution in Length.</span> The length of supporting content in top-retrieved passages may vary largely across different samples. Hence, learning to filter context sentence-wise is biased  toward  skewed  length  distribution.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Given these limitations, an interesting question arises: <span class="ltx_text ltx_font_italic" id="S1.p4.1.1">Now that heuristic-based augmentation<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_upright" id="footnote1.1.1.1">1</span></span><span class="ltx_text ltx_font_upright" id="footnote1.5">Previous methods generally create training signals based on heuristics. We denoted it as heuristic-based augmentation.</span></span></span></span> suffers from several issues, can we develop a model-based augmentation method free of the above problems?</span>
Inspired by the recent success of self-alignment <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib26" title="">2023a</a>); Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib54" title="">2024</a>); Liang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib28" title="">2024</a>)</cite>, self-aligned learning utilizes the model to improve itself and aligns its response with desired properties,
which can mitigate the heavy reliance on hand-crafted context filtering, rule-based context chunking, and sentence-wise filter learning.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="289" id="S1.F1.g1" src="extracted/5927629/Figure/pipeline.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>The RAG pipeline with the evidence extractor, in which the supporting content and the distracting content are marked in <span class="ltx_text ltx_font_bold" id="S1.F1.3.1" style="color:#00A000;">green</span>  and  <span class="ltx_text ltx_font_bold" id="S1.F1.4.2" style="color:#C29000;">yellow</span>,  respectively.</figcaption>
</figure>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">Given the extracted evidence, a question arises again: <span class="ltx_text ltx_font_italic" id="S1.p5.1.1">How to evaluate the quality of evidence properly?</span>
In principle, the evidence should be faithful (<span class="ltx_text ltx_font_italic" id="S1.p5.1.2">i.e.,</span> avoiding intrinsic hallucination) to the retrieved passages <cite class="ltx_cite ltx_citemacro_cite">Rashkin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib36" title="">2021</a>); Maynez et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib31" title="">2020</a>)</cite>, helpful in addressing the user input <cite class="ltx_cite ltx_citemacro_cite">Adlakha et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib1" title="">2023</a>)</cite>, and concise to facilitate the inference speed <cite class="ltx_cite ltx_citemacro_cite">Ko et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib20" title="">2024</a>)</cite>. Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a> shows three representative scenarios:
<span class="ltx_text ltx_font_bold" id="S1.p5.1.3">(1)</span> When the evidence only favors faithfulness, LLMs may generate an incorrect answer;
<span class="ltx_text ltx_font_bold" id="S1.p5.1.4">(2)</span> When the evidence further favors helpfulness but lacks conciseness, LLMs’ attention may be distracted by noise;
<span class="ltx_text ltx_font_bold" id="S1.p5.1.5">(3)</span> When the evidence favors all three criteria, LLMs can generate confidently with low computational costs.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">In this paper, we propose a model-based evidence extraction learning framework, <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S1.p6.1.1">SEER</span>, <span class="ltx_text ltx_font_bold" id="S1.p6.1.2">S</span>elf-Aligned <span class="ltx_text ltx_font_bold" id="S1.p6.1.3">E</span>vidence <span class="ltx_text ltx_font_bold" id="S1.p6.1.4">E</span>xtraction for <span class="ltx_text ltx_font_bold" id="S1.p6.1.5">R</span>etrieval-Augmented Generation.
Specifically, it consists of three primary stages:
<span class="ltx_text ltx_font_bold" id="S1.p6.1.6">(1) Evidence Extraction:</span> To mitigate the issues above, we propose extracting diversified evidence with semantic consistency and varying length through response sampling, offering sufficient preference data for alignment.
<span class="ltx_text ltx_font_bold" id="S1.p6.1.7">(2) Expert Assessment:</span> For each extracted evidence, we construct a quadruple, QuadQARE, made up of query, answer, passage, and evidence. Then, we devise three experts to assess the quality of each extracted evidence <span class="ltx_text ltx_font_italic" id="S1.p6.1.8">w.r.t.</span> three primary criteria.
Given these scores, we propose smoothing CoV-Weighting, which explicitly leverages the statistics to estimate their relative weighting and result in the CoV-Weighted scores.
<span class="ltx_text ltx_font_bold" id="S1.p6.1.9">(3) Self-Alignment:</span> With a ranking list of extracted evidence and their smoothing CoV-weighted scores, a question remains: <span class="ltx_text ltx_font_italic" id="S1.p6.1.10">How to optimize extraction preference with the ranking position?</span>
To this end, we propose a listwise-aware Lambda Preference Optimization method, LPO, assigning each preference pair with a listwise-aware weight scaled by the gain in Reciprocal Rank from swapping the position of two evidence <cite class="ltx_cite ltx_citemacro_cite">Donmez et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib7" title="">2009</a>); Burges et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib3" title="">2006</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib44" title="">2018</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">It is worth mentioning that <span class="ltx_text ltx_font_bold" id="S1.p7.1.1">SEER</span> is a <span class="ltx_text ltx_font_bold" id="S1.p7.1.2">criterion-agnostic</span> framework and can employ any off-the-shelf expert.
In this work, we use faithfulness, helpfulness, and conciseness, which are regarded as three primary criteria for assessing the quality of evidence <cite class="ltx_cite ltx_citemacro_cite">Maynez et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib31" title="">2020</a>); Rashkin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib36" title="">2021</a>); Adlakha et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib1" title="">2023</a>); Ko et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib20" title="">2024</a>)</cite>.
Our <span class="ltx_text ltx_font_bold" id="S1.p7.1.3">main contributions</span> can be  summarized  as  four-folds:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We propose a novel evidence extraction learning framework, <span class="ltx_text ltx_font_bold" id="S1.I1.i1.p1.1.1">SEER</span>, which leverages preference data augmented by the model to improve performance and also is free of the arduous workforce.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We devise three experts to assess the quality of the evidence and design a smoothing CoV-weighting schema to get the overall assessment, meeting the property of being criterion-agnostic.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">We propose a listwise-aware preference optimization method, LPO, which seamlessly brings the ranking position signals into preference learning.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1">Extensive experiments on three benchmark datasets show that our method can considerably improve QA performance, enhance the quality of evidence, as well as reduce computational costs.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Preliminaries</h2>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Problem Formulation</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.10">In this task, we are given a base extractor <math alttext="\mathcal{E}" class="ltx_Math" display="inline" id="S2.SS1.p1.1.m1.1"><semantics id="S2.SS1.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.1.m1.1d">caligraphic_E</annotation></semantics></math>, and a fixed generator <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S2.SS1.p1.2.m2.1"><semantics id="S2.SS1.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.2.m2.1d">caligraphic_G</annotation></semantics></math>, where we choose Llama2-7b-Chat <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib43" title="">2023</a>)</cite> as the backbone for the base extractor <math alttext="\mathcal{E}" class="ltx_Math" display="inline" id="S2.SS1.p1.3.m3.1"><semantics id="S2.SS1.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><ci id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.3.m3.1d">caligraphic_E</annotation></semantics></math>.
For a given query <math alttext="q" class="ltx_Math" display="inline" id="S2.SS1.p1.4.m4.1"><semantics id="S2.SS1.p1.4.m4.1a"><mi id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><ci id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">q</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.4.m4.1d">italic_q</annotation></semantics></math> and its corresponding golden answer <math alttext="a" class="ltx_Math" display="inline" id="S2.SS1.p1.5.m5.1"><semantics id="S2.SS1.p1.5.m5.1a"><mi id="S2.SS1.p1.5.m5.1.1" xref="S2.SS1.p1.5.m5.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m5.1b"><ci id="S2.SS1.p1.5.m5.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m5.1c">a</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.5.m5.1d">italic_a</annotation></semantics></math>, we assume a set of retrieved passages <math alttext="P=\{p_{i}\}_{i=1}^{K}" class="ltx_Math" display="inline" id="S2.SS1.p1.6.m6.1"><semantics id="S2.SS1.p1.6.m6.1a"><mrow id="S2.SS1.p1.6.m6.1.1" xref="S2.SS1.p1.6.m6.1.1.cmml"><mi id="S2.SS1.p1.6.m6.1.1.3" xref="S2.SS1.p1.6.m6.1.1.3.cmml">P</mi><mo id="S2.SS1.p1.6.m6.1.1.2" xref="S2.SS1.p1.6.m6.1.1.2.cmml">=</mo><msubsup id="S2.SS1.p1.6.m6.1.1.1" xref="S2.SS1.p1.6.m6.1.1.1.cmml"><mrow id="S2.SS1.p1.6.m6.1.1.1.1.1.1" xref="S2.SS1.p1.6.m6.1.1.1.1.1.2.cmml"><mo id="S2.SS1.p1.6.m6.1.1.1.1.1.1.2" stretchy="false" xref="S2.SS1.p1.6.m6.1.1.1.1.1.2.cmml">{</mo><msub id="S2.SS1.p1.6.m6.1.1.1.1.1.1.1" xref="S2.SS1.p1.6.m6.1.1.1.1.1.1.1.cmml"><mi id="S2.SS1.p1.6.m6.1.1.1.1.1.1.1.2" xref="S2.SS1.p1.6.m6.1.1.1.1.1.1.1.2.cmml">p</mi><mi id="S2.SS1.p1.6.m6.1.1.1.1.1.1.1.3" xref="S2.SS1.p1.6.m6.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S2.SS1.p1.6.m6.1.1.1.1.1.1.3" stretchy="false" xref="S2.SS1.p1.6.m6.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS1.p1.6.m6.1.1.1.1.3" xref="S2.SS1.p1.6.m6.1.1.1.1.3.cmml"><mi id="S2.SS1.p1.6.m6.1.1.1.1.3.2" xref="S2.SS1.p1.6.m6.1.1.1.1.3.2.cmml">i</mi><mo id="S2.SS1.p1.6.m6.1.1.1.1.3.1" xref="S2.SS1.p1.6.m6.1.1.1.1.3.1.cmml">=</mo><mn id="S2.SS1.p1.6.m6.1.1.1.1.3.3" xref="S2.SS1.p1.6.m6.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S2.SS1.p1.6.m6.1.1.1.3" xref="S2.SS1.p1.6.m6.1.1.1.3.cmml">K</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m6.1b"><apply id="S2.SS1.p1.6.m6.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1"><eq id="S2.SS1.p1.6.m6.1.1.2.cmml" xref="S2.SS1.p1.6.m6.1.1.2"></eq><ci id="S2.SS1.p1.6.m6.1.1.3.cmml" xref="S2.SS1.p1.6.m6.1.1.3">𝑃</ci><apply id="S2.SS1.p1.6.m6.1.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.1.1.1.2.cmml" xref="S2.SS1.p1.6.m6.1.1.1">superscript</csymbol><apply id="S2.SS1.p1.6.m6.1.1.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.1.1.1.1.2.cmml" xref="S2.SS1.p1.6.m6.1.1.1">subscript</csymbol><set id="S2.SS1.p1.6.m6.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.6.m6.1.1.1.1.1.1"><apply id="S2.SS1.p1.6.m6.1.1.1.1.1.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.1.1.1.1.1.1.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.6.m6.1.1.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.6.m6.1.1.1.1.1.1.1.2">𝑝</ci><ci id="S2.SS1.p1.6.m6.1.1.1.1.1.1.1.3.cmml" xref="S2.SS1.p1.6.m6.1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S2.SS1.p1.6.m6.1.1.1.1.3.cmml" xref="S2.SS1.p1.6.m6.1.1.1.1.3"><eq id="S2.SS1.p1.6.m6.1.1.1.1.3.1.cmml" xref="S2.SS1.p1.6.m6.1.1.1.1.3.1"></eq><ci id="S2.SS1.p1.6.m6.1.1.1.1.3.2.cmml" xref="S2.SS1.p1.6.m6.1.1.1.1.3.2">𝑖</ci><cn id="S2.SS1.p1.6.m6.1.1.1.1.3.3.cmml" type="integer" xref="S2.SS1.p1.6.m6.1.1.1.1.3.3">1</cn></apply></apply><ci id="S2.SS1.p1.6.m6.1.1.1.3.cmml" xref="S2.SS1.p1.6.m6.1.1.1.3">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.6.m6.1c">P=\{p_{i}\}_{i=1}^{K}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.6.m6.1d">italic_P = { italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math alttext="K" class="ltx_Math" display="inline" id="S2.SS1.p1.7.m7.1"><semantics id="S2.SS1.p1.7.m7.1a"><mi id="S2.SS1.p1.7.m7.1.1" xref="S2.SS1.p1.7.m7.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.7.m7.1b"><ci id="S2.SS1.p1.7.m7.1.1.cmml" xref="S2.SS1.p1.7.m7.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.7.m7.1c">K</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.7.m7.1d">italic_K</annotation></semantics></math> is the retrieved size.
Here, we aim to fine-tune the base extractor <math alttext="\mathcal{E}" class="ltx_Math" display="inline" id="S2.SS1.p1.8.m8.1"><semantics id="S2.SS1.p1.8.m8.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.8.m8.1.1" xref="S2.SS1.p1.8.m8.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.8.m8.1b"><ci id="S2.SS1.p1.8.m8.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.8.m8.1c">\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.8.m8.1d">caligraphic_E</annotation></semantics></math> via self-alignment to get the aligned extractor <math alttext="\tilde{\mathcal{E}}" class="ltx_Math" display="inline" id="S2.SS1.p1.9.m9.1"><semantics id="S2.SS1.p1.9.m9.1a"><mover accent="true" id="S2.SS1.p1.9.m9.1.1" xref="S2.SS1.p1.9.m9.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.9.m9.1.1.2" xref="S2.SS1.p1.9.m9.1.1.2.cmml">ℰ</mi><mo id="S2.SS1.p1.9.m9.1.1.1" xref="S2.SS1.p1.9.m9.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.9.m9.1b"><apply id="S2.SS1.p1.9.m9.1.1.cmml" xref="S2.SS1.p1.9.m9.1.1"><ci id="S2.SS1.p1.9.m9.1.1.1.cmml" xref="S2.SS1.p1.9.m9.1.1.1">~</ci><ci id="S2.SS1.p1.9.m9.1.1.2.cmml" xref="S2.SS1.p1.9.m9.1.1.2">ℰ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.9.m9.1c">\tilde{\mathcal{E}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.9.m9.1d">over~ start_ARG caligraphic_E end_ARG</annotation></semantics></math>, for the generator <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S2.SS1.p1.10.m10.1"><semantics id="S2.SS1.p1.10.m10.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.10.m10.1.1" xref="S2.SS1.p1.10.m10.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.10.m10.1b"><ci id="S2.SS1.p1.10.m10.1.1.cmml" xref="S2.SS1.p1.10.m10.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.10.m10.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.10.m10.1d">caligraphic_G</annotation></semantics></math> to leverage the better evidence and achieve superior performance:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="e\sim\tilde{\mathcal{E}}(\cdot|q\oplus P),\quad o\sim\mathcal{G}(\cdot|q\oplus
e)," class="ltx_math_unparsed" display="block" id="S2.E1.m1.1"><semantics id="S2.E1.m1.1a"><mrow id="S2.E1.m1.1b"><mi id="S2.E1.m1.1.1">e</mi><mo id="S2.E1.m1.1.2">∼</mo><mover accent="true" id="S2.E1.m1.1.3"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.3.2">ℰ</mi><mo id="S2.E1.m1.1.3.1">~</mo></mover><mrow id="S2.E1.m1.1.4"><mo id="S2.E1.m1.1.4.1" stretchy="false">(</mo><mo id="S2.E1.m1.1.4.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S2.E1.m1.1.4.3" rspace="0.167em" stretchy="false">|</mo><mi id="S2.E1.m1.1.4.4">q</mi><mo id="S2.E1.m1.1.4.5">⊕</mo><mi id="S2.E1.m1.1.4.6">P</mi><mo id="S2.E1.m1.1.4.7" stretchy="false">)</mo></mrow><mo id="S2.E1.m1.1.5" rspace="1.167em">,</mo><mi id="S2.E1.m1.1.6">o</mi><mo id="S2.E1.m1.1.7">∼</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.8">𝒢</mi><mrow id="S2.E1.m1.1.9"><mo id="S2.E1.m1.1.9.1" stretchy="false">(</mo><mo id="S2.E1.m1.1.9.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S2.E1.m1.1.9.3" rspace="0.167em" stretchy="false">|</mo><mi id="S2.E1.m1.1.9.4">q</mi><mo id="S2.E1.m1.1.9.5">⊕</mo><mi id="S2.E1.m1.1.9.6">e</mi><mo id="S2.E1.m1.1.9.7" stretchy="false">)</mo></mrow><mo id="S2.E1.m1.1.10">,</mo></mrow><annotation encoding="application/x-tex" id="S2.E1.m1.1c">e\sim\tilde{\mathcal{E}}(\cdot|q\oplus P),\quad o\sim\mathcal{G}(\cdot|q\oplus
e),</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.1d">italic_e ∼ over~ start_ARG caligraphic_E end_ARG ( ⋅ | italic_q ⊕ italic_P ) , italic_o ∼ caligraphic_G ( ⋅ | italic_q ⊕ italic_e ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS1.p1.14">where <math alttext="e" class="ltx_Math" display="inline" id="S2.SS1.p1.11.m1.1"><semantics id="S2.SS1.p1.11.m1.1a"><mi id="S2.SS1.p1.11.m1.1.1" xref="S2.SS1.p1.11.m1.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.11.m1.1b"><ci id="S2.SS1.p1.11.m1.1.1.cmml" xref="S2.SS1.p1.11.m1.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.11.m1.1c">e</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.11.m1.1d">italic_e</annotation></semantics></math> and <math alttext="o" class="ltx_Math" display="inline" id="S2.SS1.p1.12.m2.1"><semantics id="S2.SS1.p1.12.m2.1a"><mi id="S2.SS1.p1.12.m2.1.1" xref="S2.SS1.p1.12.m2.1.1.cmml">o</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.12.m2.1b"><ci id="S2.SS1.p1.12.m2.1.1.cmml" xref="S2.SS1.p1.12.m2.1.1">𝑜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.12.m2.1c">o</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.12.m2.1d">italic_o</annotation></semantics></math> denote the extracted evidence and the generated output, respectively; <math alttext="\oplus" class="ltx_Math" display="inline" id="S2.SS1.p1.13.m3.1"><semantics id="S2.SS1.p1.13.m3.1a"><mo id="S2.SS1.p1.13.m3.1.1" xref="S2.SS1.p1.13.m3.1.1.cmml">⊕</mo><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.13.m3.1b"><csymbol cd="latexml" id="S2.SS1.p1.13.m3.1.1.cmml" xref="S2.SS1.p1.13.m3.1.1">direct-sum</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.13.m3.1c">\oplus</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.13.m3.1d">⊕</annotation></semantics></math> denotes the concatenation operation; <math alttext="q" class="ltx_Math" display="inline" id="S2.SS1.p1.14.m4.1"><semantics id="S2.SS1.p1.14.m4.1a"><mi id="S2.SS1.p1.14.m4.1.1" xref="S2.SS1.p1.14.m4.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.14.m4.1b"><ci id="S2.SS1.p1.14.m4.1.1.cmml" xref="S2.SS1.p1.14.m4.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.14.m4.1c">q</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.14.m4.1d">italic_q</annotation></semantics></math> is the given user query.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Augmentation Analysis</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">As stated in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S1" title="1 Introduction ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>, heuristic-based augmentation suffers from several issues,
which severely hinders the optimization of context filtering.
To verify the above claim, we compare the context relevance between heuristic-based and model-based augmentation,
where the <span class="ltx_text ltx_font_bold" id="S2.SS2.p1.1.1">context relevance</span> is the cosine similarity between the extracted evidence and the user query<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>We employ the SBERT-NLI-base model <cite class="ltx_cite ltx_citemacro_citet">Reimers and Gurevych (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib37" title="">2019</a>)</cite> (denoted as SBERT) to encode the extracted evidence and the user query into sentence embedding vectors.</span></span></span>.
Here, we use StrInc as the representative heuristic-based augmentation method (abbreviated as “<span class="ltx_text ltx_font_bold" id="S2.SS2.p1.1.2">StrInc Heur-based Aug</span>”), as it usually performs best on QA tasks according to <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib45" title="">2023</a>)</cite>.
On the other hand, we perform model-based augmentation by response sampling (More details can be seen in §<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.SS1" title="3.1 Evidence Extraction Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3.1</span></a>).
We take the best-performing extracted evidence for each QA pair as “<span class="ltx_text ltx_font_bold" id="S2.SS2.p1.1.3">Upper Model-based Aug</span>” while the worst-performing one as “<span class="ltx_text ltx_font_bold" id="S2.SS2.p1.1.4">Lower Model-based Aug</span>”.</p>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">We experiment on three datasets, <span class="ltx_text ltx_font_italic" id="S2.SS2.p2.1.1">i.e.,</span> NQ, TQA, and HotpotQA.
Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S2.F2" title="Figure 2 ‣ 2.2 Augmentation Analysis ‣ 2 Preliminaries ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> shows that: <span class="ltx_text ltx_font_bold" id="S2.SS2.p2.1.2">(1)</span> The context relevance of Upper Model-based Aug is consistently higher than that of StrInc Heur-based Aug.
<span class="ltx_text ltx_font_bold" id="S2.SS2.p2.1.3">(2)</span> The context relevance of StrInc Heur-based Aug generally lies in the middle of Upper and Lower Model-based Aug.
From the above observations, our claim is well-validated, as model-based augmentation shows a larger potential than heuristic-based one.
Therefore, it is valuable to conduct model-based augmentation for better performance.</p>
</div>
<figure class="ltx_figure" id="S2.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="277" id="S2.F2.g1" src="extracted/5927629/Figure/analysisAug.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Comparison between model-based and heuristic-based augmentation <span class="ltx_text ltx_font_italic" id="S2.F2.2.1">w.r.t.</span> context relevance.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Methodology</h2>
<figure class="ltx_figure" id="S3.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="395" id="S3.F3.g1" src="extracted/5927629/Figure/framework.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>The overall system framework of our <span class="ltx_text ltx_font_bold" id="S3.F3.2.1">SEER</span>, which mainly consists of three modeling stages.</figcaption>
</figure>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.F3" title="Figure 3 ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3</span></a> depicts the overall framework of <span class="ltx_text ltx_font_bold" id="S3.p1.1.1">SEER</span>, composing three key stages: <span class="ltx_text ltx_font_bold" id="S3.p1.1.2">(1) Evidence Extraction</span> (§<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.SS1" title="3.1 Evidence Extraction Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3.1</span></a>), which extracts evidence via response sampling.
<span class="ltx_text ltx_font_bold" id="S3.p1.1.3">(2) Expert Assessment</span> (§<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.SS2" title="3.2 Expert Assessment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3.2</span></a>), which assesses the quality of evidence.
<span class="ltx_text ltx_font_bold" id="S3.p1.1.4">(3) Self-Alignment</span> (§<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.SS3" title="3.3 Self-Alignment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3.3</span></a>), which aligns the extractor with extraction preference.
The learning algorithm of our proposed method can be seen in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A4" title="Appendix D Learning Algorithm of SEER ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">D</span></a> in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#alg1" title="Algorithm 1 ‣ Appendix D Learning Algorithm of SEER ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Evidence Extraction Stage</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.6">As stated in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S1" title="1 Introduction ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>, heuristic-based augmentation <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib45" title="">2023</a>)</cite> suffers from several issues.
An empirical study (§<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S2.SS2" title="2.2 Augmentation Analysis ‣ 2 Preliminaries ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2.2</span></a>) further indicates that model-based augmentation is more beneficial for performance improvement than heuristic-based augmentation.
Hence, we aim to utilize the base extractor <math alttext="\mathcal{E}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">caligraphic_E</annotation></semantics></math> to improve itself and align it with desired properties.
To this end, we probe into its evidence extraction preference by response sampling for preference data collection.
Specifically, given a query <math alttext="q" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><mi id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">italic_q</annotation></semantics></math> and its retrieved passage <math alttext="{P}" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.1"><semantics id="S3.SS1.p1.3.m3.1a"><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">{P}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.1d">italic_P</annotation></semantics></math>, we prompt the model to generate multiple candidate extracted evidence <math alttext="\{e_{i}\}_{i=1}^{M}" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.1"><semantics id="S3.SS1.p1.4.m4.1a"><msubsup id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mrow id="S3.SS1.p1.4.m4.1.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.2.cmml"><mo id="S3.SS1.p1.4.m4.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.4.m4.1.1.1.1.2.cmml">{</mo><msub id="S3.SS1.p1.4.m4.1.1.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.1.2" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.2.cmml">e</mi><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS1.p1.4.m4.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.4.m4.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.4.m4.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.3.cmml"><mi id="S3.SS1.p1.4.m4.1.1.1.3.2" xref="S3.SS1.p1.4.m4.1.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p1.4.m4.1.1.1.3.1" xref="S3.SS1.p1.4.m4.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.4.m4.1.1.1.3.3" xref="S3.SS1.p1.4.m4.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml">M</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1">superscript</csymbol><apply id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1">subscript</csymbol><set id="S3.SS1.p1.4.m4.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1"><apply id="S3.SS1.p1.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.2">𝑒</ci><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S3.SS1.p1.4.m4.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.3"><eq id="S3.SS1.p1.4.m4.1.1.1.3.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.3.1"></eq><ci id="S3.SS1.p1.4.m4.1.1.1.3.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.3.2">𝑖</ci><cn id="S3.SS1.p1.4.m4.1.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.4.m4.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">\{e_{i}\}_{i=1}^{M}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.1d">{ italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT</annotation></semantics></math> via response sampling <math alttext="e_{*}\sim{\mathcal{E}}(\cdot|q\oplus P)" class="ltx_math_unparsed" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><mrow id="S3.SS1.p1.5.m5.1b"><msub id="S3.SS1.p1.5.m5.1.1"><mi id="S3.SS1.p1.5.m5.1.1.2">e</mi><mo id="S3.SS1.p1.5.m5.1.1.3">∗</mo></msub><mo id="S3.SS1.p1.5.m5.1.2">∼</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.5.m5.1.3">ℰ</mi><mrow id="S3.SS1.p1.5.m5.1.4"><mo id="S3.SS1.p1.5.m5.1.4.1" stretchy="false">(</mo><mo id="S3.SS1.p1.5.m5.1.4.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S3.SS1.p1.5.m5.1.4.3" rspace="0.167em" stretchy="false">|</mo><mi id="S3.SS1.p1.5.m5.1.4.4">q</mi><mo id="S3.SS1.p1.5.m5.1.4.5">⊕</mo><mi id="S3.SS1.p1.5.m5.1.4.6">P</mi><mo id="S3.SS1.p1.5.m5.1.4.7" stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">e_{*}\sim{\mathcal{E}}(\cdot|q\oplus P)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">italic_e start_POSTSUBSCRIPT ∗ end_POSTSUBSCRIPT ∼ caligraphic_E ( ⋅ | italic_q ⊕ italic_P )</annotation></semantics></math>, where <math alttext="M" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.1"><semantics id="S3.SS1.p1.6.m6.1a"><mi id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><ci id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">M</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.1d">italic_M</annotation></semantics></math> is the sample size.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.2">However, LLMs often tend to be overconfident in their knowledge <cite class="ltx_cite ltx_citemacro_cite">Xiong et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib47" title="">2023</a>)</cite>.
As such, the response distribution typically follows a power-law, where head responses occupy a large portion of extracted evidence while long-tail ones are very sparse.
Directly using the power-law response distribution for alignment would cause preference optimization to be biased toward head responses.
Hence, we remove duplicates and obtain the uniformly distributed set, <span class="ltx_text ltx_font_italic" id="S3.SS1.p2.2.1">i.e.,</span> <math alttext="\{e_{i}\}_{i=1}^{N}" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><msubsup id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mrow id="S3.SS1.p2.1.m1.1.1.1.1.1" xref="S3.SS1.p2.1.m1.1.1.1.1.2.cmml"><mo id="S3.SS1.p2.1.m1.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p2.1.m1.1.1.1.1.2.cmml">{</mo><msub id="S3.SS1.p2.1.m1.1.1.1.1.1.1" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.1.1.1.1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.2.cmml">e</mi><mi id="S3.SS1.p2.1.m1.1.1.1.1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS1.p2.1.m1.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p2.1.m1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p2.1.m1.1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.1.3.cmml"><mi id="S3.SS1.p2.1.m1.1.1.1.3.2" xref="S3.SS1.p2.1.m1.1.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p2.1.m1.1.1.1.3.1" xref="S3.SS1.p2.1.m1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p2.1.m1.1.1.1.3.3" xref="S3.SS1.p2.1.m1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml">N</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1">superscript</csymbol><apply id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1">subscript</csymbol><set id="S3.SS1.p2.1.m1.1.1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1"><apply id="S3.SS1.p2.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.2">𝑒</ci><ci id="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S3.SS1.p2.1.m1.1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.1.3"><eq id="S3.SS1.p2.1.m1.1.1.1.3.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1.3.1"></eq><ci id="S3.SS1.p2.1.m1.1.1.1.3.2.cmml" xref="S3.SS1.p2.1.m1.1.1.1.3.2">𝑖</ci><cn id="S3.SS1.p2.1.m1.1.1.1.3.3.cmml" type="integer" xref="S3.SS1.p2.1.m1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\{e_{i}\}_{i=1}^{N}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">{ italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT</annotation></semantics></math>, where we use n-gram similarity <cite class="ltx_cite ltx_citemacro_cite">Kondrak (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib21" title="">2005</a>)</cite> to detect duplicates and <math alttext="N" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><mi id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">italic_N</annotation></semantics></math> is the remaining size.
In practice, we find using the uniform response distribution does matter for alignment to reach higher performance.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Expert Assessment Stage</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">Although the base extractor is able to extract evidence, its output might be unfaithful, unhelpful, as well as unconcise, which are regarded as three primary factors that hinder the quality of evidence <cite class="ltx_cite ltx_citemacro_cite">Maynez et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib31" title="">2020</a>); Rashkin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib36" title="">2021</a>); Adlakha et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib1" title="">2023</a>); Ko et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib20" title="">2024</a>)</cite>.
Considering the above issues, we devise <span class="ltx_text ltx_font_bold" id="S3.SS2.p1.1.1">three experts</span> to assess the quality of extracted evidence <span class="ltx_text ltx_font_italic" id="S3.SS2.p1.1.2">w.r.t.</span> faithfulness, helpfulness, and conciseness<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>We use the term “<span class="ltx_text ltx_font_bold" id="footnote3.1">oracle</span>” to denote three primary criteria.</span></span></span>, respectively.
Subsequently, given multiple scores for each extracted evidence, we devise a <span class="ltx_text ltx_font_bold" id="S3.SS2.p1.1.3">smoothing CoV-Weighting</span> schema in order to get the overall assessment score.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.5"><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.5.1">Obtaining Oracle Scores.</span>
For expert assessment stage, we first collect a set of QuadQARE <math alttext="&lt;q,a,P,e&gt;" class="ltx_math_unparsed" display="inline" id="S3.SS2.p2.1.m1.4"><semantics id="S3.SS2.p2.1.m1.4a"><mrow id="S3.SS2.p2.1.m1.4b"><mo id="S3.SS2.p2.1.m1.4.5">&lt;</mo><mi id="S3.SS2.p2.1.m1.1.1">q</mi><mo id="S3.SS2.p2.1.m1.4.6">,</mo><mi id="S3.SS2.p2.1.m1.2.2">a</mi><mo id="S3.SS2.p2.1.m1.4.7">,</mo><mi id="S3.SS2.p2.1.m1.3.3">P</mi><mo id="S3.SS2.p2.1.m1.4.8">,</mo><mi id="S3.SS2.p2.1.m1.4.4">e</mi><mo id="S3.SS2.p2.1.m1.4.9">&gt;</mo></mrow><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.4c">&lt;q,a,P,e&gt;</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.4d">&lt; italic_q , italic_a , italic_P , italic_e &gt;</annotation></semantics></math>, where a <span class="ltx_text ltx_framed ltx_framed_underline" id="S3.SS2.p2.5.2">Quad</span>ruple is composed of <span class="ltx_text ltx_framed ltx_framed_underline" id="S3.SS2.p2.5.3">Q</span>uery <math alttext="q" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_q</annotation></semantics></math>, <span class="ltx_text ltx_framed ltx_framed_underline" id="S3.SS2.p2.5.4">A</span>nswer <math alttext="a" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.1"><semantics id="S3.SS2.p2.3.m3.1a"><mi id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><ci id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.1d">italic_a</annotation></semantics></math>, <span class="ltx_text ltx_framed ltx_framed_underline" id="S3.SS2.p2.5.5">R</span>etrieved passage <math alttext="P" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m4.1"><semantics id="S3.SS2.p2.4.m4.1a"><mi id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><ci id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">P</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m4.1d">italic_P</annotation></semantics></math>, and extracted <span class="ltx_text ltx_framed ltx_framed_underline" id="S3.SS2.p2.5.6">E</span>vidence <math alttext="e" class="ltx_Math" display="inline" id="S3.SS2.p2.5.m5.1"><semantics id="S3.SS2.p2.5.m5.1a"><mi id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><ci id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">e</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.5.m5.1d">italic_e</annotation></semantics></math>.
Afterwards, we design three plug-and-play experts to parallelly assess the quality of extracted evidence,  from  different  aspects:</p>
<ul class="ltx_itemize" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.4"><span class="ltx_text ltx_font_bold" id="S3.I1.i1.p1.4.1">Faithfulness Expert.</span> It focuses on the faithfulness of each extracted evidence. Toward this end, we adopt an advanced NLI model,
<span class="ltx_text ltx_font_smallcaps" id="S3.I1.i1.p1.4.2">AlignScore<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_upright" id="footnote4.1.1.1">4</span></span><span class="ltx_text ltx_font_upright" id="footnote4.5">We use </span><span class="ltx_text" id="footnote4.6">AlignScore</span><span class="ltx_text ltx_font_upright" id="footnote4.7">-large for faithfulness assessment.</span></span></span></span></span> <cite class="ltx_cite ltx_citemacro_cite">Zha et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib52" title="">2023</a>)</cite>,
to evaluate the consistency between the retrieved passage <math alttext="P" class="ltx_Math" display="inline" id="S3.I1.i1.p1.1.m1.1"><semantics id="S3.I1.i1.p1.1.m1.1a"><mi id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.1b"><ci id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.1c">P</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.1.m1.1d">italic_P</annotation></semantics></math> and extracted evidence <math alttext="e" class="ltx_Math" display="inline" id="S3.I1.i1.p1.2.m2.1"><semantics id="S3.I1.i1.p1.2.m2.1a"><mi id="S3.I1.i1.p1.2.m2.1.1" xref="S3.I1.i1.p1.2.m2.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.2.m2.1b"><ci id="S3.I1.i1.p1.2.m2.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.2.m2.1c">e</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.2.m2.1d">italic_e</annotation></semantics></math> in terms of hallucination.
Specifically, we treat the retrieved passage and the corresponding extracted evidence as the premise and hypothesis, respectively.
Then, we employ <span class="ltx_text ltx_font_smallcaps" id="S3.I1.i1.p1.4.3">AlignScore</span> to measure to what extent the extracted evidence <math alttext="e" class="ltx_Math" display="inline" id="S3.I1.i1.p1.3.m3.1"><semantics id="S3.I1.i1.p1.3.m3.1a"><mi id="S3.I1.i1.p1.3.m3.1.1" xref="S3.I1.i1.p1.3.m3.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.3.m3.1b"><ci id="S3.I1.i1.p1.3.m3.1.1.cmml" xref="S3.I1.i1.p1.3.m3.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.3.m3.1c">e</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.3.m3.1d">italic_e</annotation></semantics></math> could be entailed by the retrieved passage <math alttext="P" class="ltx_Math" display="inline" id="S3.I1.i1.p1.4.m4.1"><semantics id="S3.I1.i1.p1.4.m4.1a"><mi id="S3.I1.i1.p1.4.m4.1.1" xref="S3.I1.i1.p1.4.m4.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.4.m4.1b"><ci id="S3.I1.i1.p1.4.m4.1.1.cmml" xref="S3.I1.i1.p1.4.m4.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.4.m4.1c">P</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.4.m4.1d">italic_P</annotation></semantics></math>, which can be formulated as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="s^{f}=\textsc{AlignScore}(P,e)," class="ltx_Math" display="block" id="S3.E2.m1.3"><semantics id="S3.E2.m1.3a"><mrow id="S3.E2.m1.3.3.1" xref="S3.E2.m1.3.3.1.1.cmml"><mrow id="S3.E2.m1.3.3.1.1" xref="S3.E2.m1.3.3.1.1.cmml"><msup id="S3.E2.m1.3.3.1.1.2" xref="S3.E2.m1.3.3.1.1.2.cmml"><mi id="S3.E2.m1.3.3.1.1.2.2" xref="S3.E2.m1.3.3.1.1.2.2.cmml">s</mi><mi id="S3.E2.m1.3.3.1.1.2.3" xref="S3.E2.m1.3.3.1.1.2.3.cmml">f</mi></msup><mo id="S3.E2.m1.3.3.1.1.1" xref="S3.E2.m1.3.3.1.1.1.cmml">=</mo><mrow id="S3.E2.m1.3.3.1.1.3" xref="S3.E2.m1.3.3.1.1.3.cmml"><mtext class="ltx_font_smallcaps" id="S3.E2.m1.3.3.1.1.3.2" xref="S3.E2.m1.3.3.1.1.3.2a.cmml">AlignScore</mtext><mo id="S3.E2.m1.3.3.1.1.3.1" xref="S3.E2.m1.3.3.1.1.3.1.cmml">⁢</mo><mrow id="S3.E2.m1.3.3.1.1.3.3.2" xref="S3.E2.m1.3.3.1.1.3.3.1.cmml"><mo id="S3.E2.m1.3.3.1.1.3.3.2.1" stretchy="false" xref="S3.E2.m1.3.3.1.1.3.3.1.cmml">(</mo><mi id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml">P</mi><mo id="S3.E2.m1.3.3.1.1.3.3.2.2" xref="S3.E2.m1.3.3.1.1.3.3.1.cmml">,</mo><mi id="S3.E2.m1.2.2" xref="S3.E2.m1.2.2.cmml">e</mi><mo id="S3.E2.m1.3.3.1.1.3.3.2.3" stretchy="false" xref="S3.E2.m1.3.3.1.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2.m1.3.3.1.2" xref="S3.E2.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.3b"><apply id="S3.E2.m1.3.3.1.1.cmml" xref="S3.E2.m1.3.3.1"><eq id="S3.E2.m1.3.3.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1"></eq><apply id="S3.E2.m1.3.3.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.2.1.cmml" xref="S3.E2.m1.3.3.1.1.2">superscript</csymbol><ci id="S3.E2.m1.3.3.1.1.2.2.cmml" xref="S3.E2.m1.3.3.1.1.2.2">𝑠</ci><ci id="S3.E2.m1.3.3.1.1.2.3.cmml" xref="S3.E2.m1.3.3.1.1.2.3">𝑓</ci></apply><apply id="S3.E2.m1.3.3.1.1.3.cmml" xref="S3.E2.m1.3.3.1.1.3"><times id="S3.E2.m1.3.3.1.1.3.1.cmml" xref="S3.E2.m1.3.3.1.1.3.1"></times><ci id="S3.E2.m1.3.3.1.1.3.2a.cmml" xref="S3.E2.m1.3.3.1.1.3.2"><mtext class="ltx_font_smallcaps" id="S3.E2.m1.3.3.1.1.3.2.cmml" xref="S3.E2.m1.3.3.1.1.3.2">AlignScore</mtext></ci><interval closure="open" id="S3.E2.m1.3.3.1.1.3.3.1.cmml" xref="S3.E2.m1.3.3.1.1.3.3.2"><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">𝑃</ci><ci id="S3.E2.m1.2.2.cmml" xref="S3.E2.m1.2.2">𝑒</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.3c">s^{f}=\textsc{AlignScore}(P,e),</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.3d">italic_s start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT = AlignScore ( italic_P , italic_e ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.I1.i1.p1.7">where <math alttext="s^{f}\in[0,1]" class="ltx_Math" display="inline" id="S3.I1.i1.p1.5.m1.2"><semantics id="S3.I1.i1.p1.5.m1.2a"><mrow id="S3.I1.i1.p1.5.m1.2.3" xref="S3.I1.i1.p1.5.m1.2.3.cmml"><msup id="S3.I1.i1.p1.5.m1.2.3.2" xref="S3.I1.i1.p1.5.m1.2.3.2.cmml"><mi id="S3.I1.i1.p1.5.m1.2.3.2.2" xref="S3.I1.i1.p1.5.m1.2.3.2.2.cmml">s</mi><mi id="S3.I1.i1.p1.5.m1.2.3.2.3" xref="S3.I1.i1.p1.5.m1.2.3.2.3.cmml">f</mi></msup><mo id="S3.I1.i1.p1.5.m1.2.3.1" xref="S3.I1.i1.p1.5.m1.2.3.1.cmml">∈</mo><mrow id="S3.I1.i1.p1.5.m1.2.3.3.2" xref="S3.I1.i1.p1.5.m1.2.3.3.1.cmml"><mo id="S3.I1.i1.p1.5.m1.2.3.3.2.1" stretchy="false" xref="S3.I1.i1.p1.5.m1.2.3.3.1.cmml">[</mo><mn id="S3.I1.i1.p1.5.m1.1.1" xref="S3.I1.i1.p1.5.m1.1.1.cmml">0</mn><mo id="S3.I1.i1.p1.5.m1.2.3.3.2.2" xref="S3.I1.i1.p1.5.m1.2.3.3.1.cmml">,</mo><mn id="S3.I1.i1.p1.5.m1.2.2" xref="S3.I1.i1.p1.5.m1.2.2.cmml">1</mn><mo id="S3.I1.i1.p1.5.m1.2.3.3.2.3" stretchy="false" xref="S3.I1.i1.p1.5.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.5.m1.2b"><apply id="S3.I1.i1.p1.5.m1.2.3.cmml" xref="S3.I1.i1.p1.5.m1.2.3"><in id="S3.I1.i1.p1.5.m1.2.3.1.cmml" xref="S3.I1.i1.p1.5.m1.2.3.1"></in><apply id="S3.I1.i1.p1.5.m1.2.3.2.cmml" xref="S3.I1.i1.p1.5.m1.2.3.2"><csymbol cd="ambiguous" id="S3.I1.i1.p1.5.m1.2.3.2.1.cmml" xref="S3.I1.i1.p1.5.m1.2.3.2">superscript</csymbol><ci id="S3.I1.i1.p1.5.m1.2.3.2.2.cmml" xref="S3.I1.i1.p1.5.m1.2.3.2.2">𝑠</ci><ci id="S3.I1.i1.p1.5.m1.2.3.2.3.cmml" xref="S3.I1.i1.p1.5.m1.2.3.2.3">𝑓</ci></apply><interval closure="closed" id="S3.I1.i1.p1.5.m1.2.3.3.1.cmml" xref="S3.I1.i1.p1.5.m1.2.3.3.2"><cn id="S3.I1.i1.p1.5.m1.1.1.cmml" type="integer" xref="S3.I1.i1.p1.5.m1.1.1">0</cn><cn id="S3.I1.i1.p1.5.m1.2.2.cmml" type="integer" xref="S3.I1.i1.p1.5.m1.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.5.m1.2c">s^{f}\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.5.m1.2d">italic_s start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT ∈ [ 0 , 1 ]</annotation></semantics></math> is the faithfulness score. If the hypothesis <math alttext="e" class="ltx_Math" display="inline" id="S3.I1.i1.p1.6.m2.1"><semantics id="S3.I1.i1.p1.6.m2.1a"><mi id="S3.I1.i1.p1.6.m2.1.1" xref="S3.I1.i1.p1.6.m2.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.6.m2.1b"><ci id="S3.I1.i1.p1.6.m2.1.1.cmml" xref="S3.I1.i1.p1.6.m2.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.6.m2.1c">e</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.6.m2.1d">italic_e</annotation></semantics></math> is faithful to the premise <math alttext="P" class="ltx_Math" display="inline" id="S3.I1.i1.p1.7.m3.1"><semantics id="S3.I1.i1.p1.7.m3.1a"><mi id="S3.I1.i1.p1.7.m3.1.1" xref="S3.I1.i1.p1.7.m3.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.7.m3.1b"><ci id="S3.I1.i1.p1.7.m3.1.1.cmml" xref="S3.I1.i1.p1.7.m3.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.7.m3.1c">P</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.7.m3.1d">italic_P</annotation></semantics></math>, then   the score is close to 1, otherwise, it is close to 0.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.3"><span class="ltx_text ltx_font_bold" id="S3.I1.i2.p1.3.1">Helpfulness Expert.</span> It examines the helpfulness of each extracted evidence candidate in terms of output improvement.
In other words, it checks whether the extracted evidence <math alttext="e" class="ltx_Math" display="inline" id="S3.I1.i2.p1.1.m1.1"><semantics id="S3.I1.i2.p1.1.m1.1a"><mi id="S3.I1.i2.p1.1.m1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.1b"><ci id="S3.I1.i2.p1.1.m1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.1c">e</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.1.m1.1d">italic_e</annotation></semantics></math> contributes to the model’s output improvement when utilized as input.
Specifically, we assess its potential influence on LLMs by calculating the change in the log probability of generating the golden answer <math alttext="a" class="ltx_Math" display="inline" id="S3.I1.i2.p1.2.m2.1"><semantics id="S3.I1.i2.p1.2.m2.1a"><mi id="S3.I1.i2.p1.2.m2.1.1" xref="S3.I1.i2.p1.2.m2.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.2.m2.1b"><ci id="S3.I1.i2.p1.2.m2.1.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.2.m2.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.2.m2.1d">italic_a</annotation></semantics></math> between the model’s output before and after  the  inclusion  of  the  extracted  evidence <math alttext="e" class="ltx_Math" display="inline" id="S3.I1.i2.p1.3.m3.1"><semantics id="S3.I1.i2.p1.3.m3.1a"><mi id="S3.I1.i2.p1.3.m3.1.1" xref="S3.I1.i2.p1.3.m3.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.3.m3.1b"><ci id="S3.I1.i2.p1.3.m3.1.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.3.m3.1c">e</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.3.m3.1d">italic_e</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="s^{h}=\mathrm{Sig}\left(\log\frac{\prod f(a|q\oplus e)}{\prod f(a|q)}\right)," class="ltx_Math" display="block" id="S3.E3.m1.3"><semantics id="S3.E3.m1.3a"><mrow id="S3.E3.m1.3.3.1" xref="S3.E3.m1.3.3.1.1.cmml"><mrow id="S3.E3.m1.3.3.1.1" xref="S3.E3.m1.3.3.1.1.cmml"><msup id="S3.E3.m1.3.3.1.1.3" xref="S3.E3.m1.3.3.1.1.3.cmml"><mi id="S3.E3.m1.3.3.1.1.3.2" xref="S3.E3.m1.3.3.1.1.3.2.cmml">s</mi><mi id="S3.E3.m1.3.3.1.1.3.3" xref="S3.E3.m1.3.3.1.1.3.3.cmml">h</mi></msup><mo id="S3.E3.m1.3.3.1.1.2" xref="S3.E3.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E3.m1.3.3.1.1.1" xref="S3.E3.m1.3.3.1.1.1.cmml"><mi id="S3.E3.m1.3.3.1.1.1.3" xref="S3.E3.m1.3.3.1.1.1.3.cmml">Sig</mi><mo id="S3.E3.m1.3.3.1.1.1.2" xref="S3.E3.m1.3.3.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.3.3.1.1.1.1.1" xref="S3.E3.m1.3.3.1.1.1.1.1.1.cmml"><mo id="S3.E3.m1.3.3.1.1.1.1.1.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.3.3.1.1.1.1.1.1" xref="S3.E3.m1.3.3.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.1" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.cmml">log</mi><mo id="S3.E3.m1.3.3.1.1.1.1.1.1a" lspace="0.167em" xref="S3.E3.m1.3.3.1.1.1.1.1.1.cmml">⁡</mo><mfrac id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml"><mrow id="S3.E3.m1.1.1.1" xref="S3.E3.m1.1.1.1.cmml"><mo id="S3.E3.m1.1.1.1.2" xref="S3.E3.m1.1.1.1.2.cmml">∏</mo><mrow id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.3.cmml">f</mi><mo id="S3.E3.m1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.E3.m1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.2.cmml">a</mi><mo fence="false" id="S3.E3.m1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.1.1.1.3.2.cmml">q</mi><mo id="S3.E3.m1.1.1.1.1.1.1.1.3.1" xref="S3.E3.m1.1.1.1.1.1.1.1.3.1.cmml">⊕</mo><mi id="S3.E3.m1.1.1.1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.1.1.1.3.3.cmml">e</mi></mrow></mrow><mo id="S3.E3.m1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E3.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mrow id="S3.E3.m1.2.2.2" xref="S3.E3.m1.2.2.2.cmml"><mo id="S3.E3.m1.2.2.2.2" xref="S3.E3.m1.2.2.2.2.cmml">∏</mo><mrow id="S3.E3.m1.2.2.2.1" xref="S3.E3.m1.2.2.2.1.cmml"><mi id="S3.E3.m1.2.2.2.1.3" xref="S3.E3.m1.2.2.2.1.3.cmml">f</mi><mo id="S3.E3.m1.2.2.2.1.2" xref="S3.E3.m1.2.2.2.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.2.2.2.1.1.1" xref="S3.E3.m1.2.2.2.1.1.1.1.cmml"><mo id="S3.E3.m1.2.2.2.1.1.1.2" stretchy="false" xref="S3.E3.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.2.2.2.1.1.1.1" xref="S3.E3.m1.2.2.2.1.1.1.1.cmml"><mi id="S3.E3.m1.2.2.2.1.1.1.1.2" xref="S3.E3.m1.2.2.2.1.1.1.1.2.cmml">a</mi><mo fence="false" id="S3.E3.m1.2.2.2.1.1.1.1.1" xref="S3.E3.m1.2.2.2.1.1.1.1.1.cmml">|</mo><mi id="S3.E3.m1.2.2.2.1.1.1.1.3" xref="S3.E3.m1.2.2.2.1.1.1.1.3.cmml">q</mi></mrow><mo id="S3.E3.m1.2.2.2.1.1.1.3" stretchy="false" xref="S3.E3.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow><mo id="S3.E3.m1.3.3.1.1.1.1.1.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E3.m1.3.3.1.2" xref="S3.E3.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.3b"><apply id="S3.E3.m1.3.3.1.1.cmml" xref="S3.E3.m1.3.3.1"><eq id="S3.E3.m1.3.3.1.1.2.cmml" xref="S3.E3.m1.3.3.1.1.2"></eq><apply id="S3.E3.m1.3.3.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.3.1.cmml" xref="S3.E3.m1.3.3.1.1.3">superscript</csymbol><ci id="S3.E3.m1.3.3.1.1.3.2.cmml" xref="S3.E3.m1.3.3.1.1.3.2">𝑠</ci><ci id="S3.E3.m1.3.3.1.1.3.3.cmml" xref="S3.E3.m1.3.3.1.1.3.3">ℎ</ci></apply><apply id="S3.E3.m1.3.3.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1"><times id="S3.E3.m1.3.3.1.1.1.2.cmml" xref="S3.E3.m1.3.3.1.1.1.2"></times><ci id="S3.E3.m1.3.3.1.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.1.3">Sig</ci><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1"><log id="S3.E3.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1"></log><apply id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2"><divide id="S3.E3.m1.2.2.3.cmml" xref="S3.E3.m1.2.2"></divide><apply id="S3.E3.m1.1.1.1.cmml" xref="S3.E3.m1.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.2">product</csymbol><apply id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1"><times id="S3.E3.m1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.2"></times><ci id="S3.E3.m1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.3">𝑓</ci><apply id="S3.E3.m1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2">𝑎</ci><apply id="S3.E3.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.E3.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.3.1">direct-sum</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.3.2">𝑞</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.3.3">𝑒</ci></apply></apply></apply></apply><apply id="S3.E3.m1.2.2.2.cmml" xref="S3.E3.m1.2.2.2"><csymbol cd="latexml" id="S3.E3.m1.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2">product</csymbol><apply id="S3.E3.m1.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.1"><times id="S3.E3.m1.2.2.2.1.2.cmml" xref="S3.E3.m1.2.2.2.1.2"></times><ci id="S3.E3.m1.2.2.2.1.3.cmml" xref="S3.E3.m1.2.2.2.1.3">𝑓</ci><apply id="S3.E3.m1.2.2.2.1.1.1.1.cmml" xref="S3.E3.m1.2.2.2.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.2.2.2.1.1.1.1.1.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.1">conditional</csymbol><ci id="S3.E3.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.2">𝑎</ci><ci id="S3.E3.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E3.m1.2.2.2.1.1.1.1.3">𝑞</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.3c">s^{h}=\mathrm{Sig}\left(\log\frac{\prod f(a|q\oplus e)}{\prod f(a|q)}\right),</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.3d">italic_s start_POSTSUPERSCRIPT italic_h end_POSTSUPERSCRIPT = roman_Sig ( roman_log divide start_ARG ∏ italic_f ( italic_a | italic_q ⊕ italic_e ) end_ARG start_ARG ∏ italic_f ( italic_a | italic_q ) end_ARG ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.I1.i2.p1.8">where <math alttext="s^{h}\in[0,1]" class="ltx_Math" display="inline" id="S3.I1.i2.p1.4.m1.2"><semantics id="S3.I1.i2.p1.4.m1.2a"><mrow id="S3.I1.i2.p1.4.m1.2.3" xref="S3.I1.i2.p1.4.m1.2.3.cmml"><msup id="S3.I1.i2.p1.4.m1.2.3.2" xref="S3.I1.i2.p1.4.m1.2.3.2.cmml"><mi id="S3.I1.i2.p1.4.m1.2.3.2.2" xref="S3.I1.i2.p1.4.m1.2.3.2.2.cmml">s</mi><mi id="S3.I1.i2.p1.4.m1.2.3.2.3" xref="S3.I1.i2.p1.4.m1.2.3.2.3.cmml">h</mi></msup><mo id="S3.I1.i2.p1.4.m1.2.3.1" xref="S3.I1.i2.p1.4.m1.2.3.1.cmml">∈</mo><mrow id="S3.I1.i2.p1.4.m1.2.3.3.2" xref="S3.I1.i2.p1.4.m1.2.3.3.1.cmml"><mo id="S3.I1.i2.p1.4.m1.2.3.3.2.1" stretchy="false" xref="S3.I1.i2.p1.4.m1.2.3.3.1.cmml">[</mo><mn id="S3.I1.i2.p1.4.m1.1.1" xref="S3.I1.i2.p1.4.m1.1.1.cmml">0</mn><mo id="S3.I1.i2.p1.4.m1.2.3.3.2.2" xref="S3.I1.i2.p1.4.m1.2.3.3.1.cmml">,</mo><mn id="S3.I1.i2.p1.4.m1.2.2" xref="S3.I1.i2.p1.4.m1.2.2.cmml">1</mn><mo id="S3.I1.i2.p1.4.m1.2.3.3.2.3" stretchy="false" xref="S3.I1.i2.p1.4.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.4.m1.2b"><apply id="S3.I1.i2.p1.4.m1.2.3.cmml" xref="S3.I1.i2.p1.4.m1.2.3"><in id="S3.I1.i2.p1.4.m1.2.3.1.cmml" xref="S3.I1.i2.p1.4.m1.2.3.1"></in><apply id="S3.I1.i2.p1.4.m1.2.3.2.cmml" xref="S3.I1.i2.p1.4.m1.2.3.2"><csymbol cd="ambiguous" id="S3.I1.i2.p1.4.m1.2.3.2.1.cmml" xref="S3.I1.i2.p1.4.m1.2.3.2">superscript</csymbol><ci id="S3.I1.i2.p1.4.m1.2.3.2.2.cmml" xref="S3.I1.i2.p1.4.m1.2.3.2.2">𝑠</ci><ci id="S3.I1.i2.p1.4.m1.2.3.2.3.cmml" xref="S3.I1.i2.p1.4.m1.2.3.2.3">ℎ</ci></apply><interval closure="closed" id="S3.I1.i2.p1.4.m1.2.3.3.1.cmml" xref="S3.I1.i2.p1.4.m1.2.3.3.2"><cn id="S3.I1.i2.p1.4.m1.1.1.cmml" type="integer" xref="S3.I1.i2.p1.4.m1.1.1">0</cn><cn id="S3.I1.i2.p1.4.m1.2.2.cmml" type="integer" xref="S3.I1.i2.p1.4.m1.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.4.m1.2c">s^{h}\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.4.m1.2d">italic_s start_POSTSUPERSCRIPT italic_h end_POSTSUPERSCRIPT ∈ [ 0 , 1 ]</annotation></semantics></math> is the helpfulness score, <math alttext="f(\cdot)" class="ltx_Math" display="inline" id="S3.I1.i2.p1.5.m2.1"><semantics id="S3.I1.i2.p1.5.m2.1a"><mrow id="S3.I1.i2.p1.5.m2.1.2" xref="S3.I1.i2.p1.5.m2.1.2.cmml"><mi id="S3.I1.i2.p1.5.m2.1.2.2" xref="S3.I1.i2.p1.5.m2.1.2.2.cmml">f</mi><mo id="S3.I1.i2.p1.5.m2.1.2.1" xref="S3.I1.i2.p1.5.m2.1.2.1.cmml">⁢</mo><mrow id="S3.I1.i2.p1.5.m2.1.2.3.2" xref="S3.I1.i2.p1.5.m2.1.2.cmml"><mo id="S3.I1.i2.p1.5.m2.1.2.3.2.1" stretchy="false" xref="S3.I1.i2.p1.5.m2.1.2.cmml">(</mo><mo id="S3.I1.i2.p1.5.m2.1.1" lspace="0em" rspace="0em" xref="S3.I1.i2.p1.5.m2.1.1.cmml">⋅</mo><mo id="S3.I1.i2.p1.5.m2.1.2.3.2.2" stretchy="false" xref="S3.I1.i2.p1.5.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.5.m2.1b"><apply id="S3.I1.i2.p1.5.m2.1.2.cmml" xref="S3.I1.i2.p1.5.m2.1.2"><times id="S3.I1.i2.p1.5.m2.1.2.1.cmml" xref="S3.I1.i2.p1.5.m2.1.2.1"></times><ci id="S3.I1.i2.p1.5.m2.1.2.2.cmml" xref="S3.I1.i2.p1.5.m2.1.2.2">𝑓</ci><ci id="S3.I1.i2.p1.5.m2.1.1.cmml" xref="S3.I1.i2.p1.5.m2.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.5.m2.1c">f(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.5.m2.1d">italic_f ( ⋅ )</annotation></semantics></math> is the helpfulness expert<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>We employ Flan-T5-XL for helpfulness assessment.</span></span></span>,
<math alttext="\mathrm{Sig}(\cdot)" class="ltx_Math" display="inline" id="S3.I1.i2.p1.6.m3.1"><semantics id="S3.I1.i2.p1.6.m3.1a"><mrow id="S3.I1.i2.p1.6.m3.1.2" xref="S3.I1.i2.p1.6.m3.1.2.cmml"><mi id="S3.I1.i2.p1.6.m3.1.2.2" xref="S3.I1.i2.p1.6.m3.1.2.2.cmml">Sig</mi><mo id="S3.I1.i2.p1.6.m3.1.2.1" xref="S3.I1.i2.p1.6.m3.1.2.1.cmml">⁢</mo><mrow id="S3.I1.i2.p1.6.m3.1.2.3.2" xref="S3.I1.i2.p1.6.m3.1.2.cmml"><mo id="S3.I1.i2.p1.6.m3.1.2.3.2.1" stretchy="false" xref="S3.I1.i2.p1.6.m3.1.2.cmml">(</mo><mo id="S3.I1.i2.p1.6.m3.1.1" lspace="0em" rspace="0em" xref="S3.I1.i2.p1.6.m3.1.1.cmml">⋅</mo><mo id="S3.I1.i2.p1.6.m3.1.2.3.2.2" stretchy="false" xref="S3.I1.i2.p1.6.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.6.m3.1b"><apply id="S3.I1.i2.p1.6.m3.1.2.cmml" xref="S3.I1.i2.p1.6.m3.1.2"><times id="S3.I1.i2.p1.6.m3.1.2.1.cmml" xref="S3.I1.i2.p1.6.m3.1.2.1"></times><ci id="S3.I1.i2.p1.6.m3.1.2.2.cmml" xref="S3.I1.i2.p1.6.m3.1.2.2">Sig</ci><ci id="S3.I1.i2.p1.6.m3.1.1.cmml" xref="S3.I1.i2.p1.6.m3.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.6.m3.1c">\mathrm{Sig}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.6.m3.1d">roman_Sig ( ⋅ )</annotation></semantics></math> is the sigmoid function. Similarly, if the extracted evidence <math alttext="e" class="ltx_Math" display="inline" id="S3.I1.i2.p1.7.m4.1"><semantics id="S3.I1.i2.p1.7.m4.1a"><mi id="S3.I1.i2.p1.7.m4.1.1" xref="S3.I1.i2.p1.7.m4.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.7.m4.1b"><ci id="S3.I1.i2.p1.7.m4.1.1.cmml" xref="S3.I1.i2.p1.7.m4.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.7.m4.1c">e</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.7.m4.1d">italic_e</annotation></semantics></math> is helpful for LLMs to output the golden answer <math alttext="a" class="ltx_Math" display="inline" id="S3.I1.i2.p1.8.m5.1"><semantics id="S3.I1.i2.p1.8.m5.1a"><mi id="S3.I1.i2.p1.8.m5.1.1" xref="S3.I1.i2.p1.8.m5.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.8.m5.1b"><ci id="S3.I1.i2.p1.8.m5.1.1.cmml" xref="S3.I1.i2.p1.8.m5.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.8.m5.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.8.m5.1d">italic_a</annotation></semantics></math>, the score is close to 1, otherwise, it is close to 0.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i3.p1">
<p class="ltx_p" id="S3.I1.i3.p1.4"><span class="ltx_text ltx_font_bold" id="S3.I1.i3.p1.4.1">Conciseness Expert.</span> If only the above two experts are considered, the aligned extractor can easily be achieved by directly treating the retrieved passage as evidence.
To avoid such a trivial solution, we further measure the conciseness of the extracted evidence <math alttext="e" class="ltx_Math" display="inline" id="S3.I1.i3.p1.1.m1.1"><semantics id="S3.I1.i3.p1.1.m1.1a"><mi id="S3.I1.i3.p1.1.m1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.1.m1.1b"><ci id="S3.I1.i3.p1.1.m1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.1.m1.1c">e</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.1.m1.1d">italic_e</annotation></semantics></math>.
Towards this end, we first convert the query <math alttext="q" class="ltx_Math" display="inline" id="S3.I1.i3.p1.2.m2.1"><semantics id="S3.I1.i3.p1.2.m2.1a"><mi id="S3.I1.i3.p1.2.m2.1.1" xref="S3.I1.i3.p1.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.2.m2.1b"><ci id="S3.I1.i3.p1.2.m2.1.1.cmml" xref="S3.I1.i3.p1.2.m2.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.2.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.2.m2.1d">italic_q</annotation></semantics></math> and the golden answer <math alttext="a" class="ltx_Math" display="inline" id="S3.I1.i3.p1.3.m3.1"><semantics id="S3.I1.i3.p1.3.m3.1a"><mi id="S3.I1.i3.p1.3.m3.1.1" xref="S3.I1.i3.p1.3.m3.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.3.m3.1b"><ci id="S3.I1.i3.p1.3.m3.1.1.cmml" xref="S3.I1.i3.p1.3.m3.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.3.m3.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.3.m3.1d">italic_a</annotation></semantics></math> into the full-length answer<span class="ltx_note ltx_role_footnote" id="footnote6"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>The full-length answer is generated by transforming the question and its corresponding answer into a declarative statement <cite class="ltx_cite ltx_citemacro_cite">Pal et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib33" title="">2019</a>); Jain et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib12" title="">2021</a>)</cite>.</span></span></span> <math alttext="t" class="ltx_Math" display="inline" id="S3.I1.i3.p1.4.m4.1"><semantics id="S3.I1.i3.p1.4.m4.1a"><mi id="S3.I1.i3.p1.4.m4.1.1" xref="S3.I1.i3.p1.4.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.4.m4.1b"><ci id="S3.I1.i3.p1.4.m4.1.1.cmml" xref="S3.I1.i3.p1.4.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.4.m4.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.4.m4.1d">italic_t</annotation></semantics></math>, which represents minimal information for the need to answer the query.
Subsequently, we leverage SBERT <cite class="ltx_cite ltx_citemacro_cite">Reimers and Gurevych (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib37" title="">2019</a>)</cite> to measure to what extent the semantic overlap between the full-length answer and the extracted evidence:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="s^{c}=\mathrm{SBERT}_{\mathrm{cosine}}(t,e)," class="ltx_Math" display="block" id="S3.E4.m1.3"><semantics id="S3.E4.m1.3a"><mrow id="S3.E4.m1.3.3.1" xref="S3.E4.m1.3.3.1.1.cmml"><mrow id="S3.E4.m1.3.3.1.1" xref="S3.E4.m1.3.3.1.1.cmml"><msup id="S3.E4.m1.3.3.1.1.2" xref="S3.E4.m1.3.3.1.1.2.cmml"><mi id="S3.E4.m1.3.3.1.1.2.2" xref="S3.E4.m1.3.3.1.1.2.2.cmml">s</mi><mi id="S3.E4.m1.3.3.1.1.2.3" xref="S3.E4.m1.3.3.1.1.2.3.cmml">c</mi></msup><mo id="S3.E4.m1.3.3.1.1.1" xref="S3.E4.m1.3.3.1.1.1.cmml">=</mo><mrow id="S3.E4.m1.3.3.1.1.3" xref="S3.E4.m1.3.3.1.1.3.cmml"><msub id="S3.E4.m1.3.3.1.1.3.2" xref="S3.E4.m1.3.3.1.1.3.2.cmml"><mi id="S3.E4.m1.3.3.1.1.3.2.2" xref="S3.E4.m1.3.3.1.1.3.2.2.cmml">SBERT</mi><mi id="S3.E4.m1.3.3.1.1.3.2.3" xref="S3.E4.m1.3.3.1.1.3.2.3.cmml">cosine</mi></msub><mo id="S3.E4.m1.3.3.1.1.3.1" xref="S3.E4.m1.3.3.1.1.3.1.cmml">⁢</mo><mrow id="S3.E4.m1.3.3.1.1.3.3.2" xref="S3.E4.m1.3.3.1.1.3.3.1.cmml"><mo id="S3.E4.m1.3.3.1.1.3.3.2.1" stretchy="false" xref="S3.E4.m1.3.3.1.1.3.3.1.cmml">(</mo><mi id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml">t</mi><mo id="S3.E4.m1.3.3.1.1.3.3.2.2" xref="S3.E4.m1.3.3.1.1.3.3.1.cmml">,</mo><mi id="S3.E4.m1.2.2" xref="S3.E4.m1.2.2.cmml">e</mi><mo id="S3.E4.m1.3.3.1.1.3.3.2.3" stretchy="false" xref="S3.E4.m1.3.3.1.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E4.m1.3.3.1.2" xref="S3.E4.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.3b"><apply id="S3.E4.m1.3.3.1.1.cmml" xref="S3.E4.m1.3.3.1"><eq id="S3.E4.m1.3.3.1.1.1.cmml" xref="S3.E4.m1.3.3.1.1.1"></eq><apply id="S3.E4.m1.3.3.1.1.2.cmml" xref="S3.E4.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.1.1.2.1.cmml" xref="S3.E4.m1.3.3.1.1.2">superscript</csymbol><ci id="S3.E4.m1.3.3.1.1.2.2.cmml" xref="S3.E4.m1.3.3.1.1.2.2">𝑠</ci><ci id="S3.E4.m1.3.3.1.1.2.3.cmml" xref="S3.E4.m1.3.3.1.1.2.3">𝑐</ci></apply><apply id="S3.E4.m1.3.3.1.1.3.cmml" xref="S3.E4.m1.3.3.1.1.3"><times id="S3.E4.m1.3.3.1.1.3.1.cmml" xref="S3.E4.m1.3.3.1.1.3.1"></times><apply id="S3.E4.m1.3.3.1.1.3.2.cmml" xref="S3.E4.m1.3.3.1.1.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.1.1.3.2.1.cmml" xref="S3.E4.m1.3.3.1.1.3.2">subscript</csymbol><ci id="S3.E4.m1.3.3.1.1.3.2.2.cmml" xref="S3.E4.m1.3.3.1.1.3.2.2">SBERT</ci><ci id="S3.E4.m1.3.3.1.1.3.2.3.cmml" xref="S3.E4.m1.3.3.1.1.3.2.3">cosine</ci></apply><interval closure="open" id="S3.E4.m1.3.3.1.1.3.3.1.cmml" xref="S3.E4.m1.3.3.1.1.3.3.2"><ci id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1">𝑡</ci><ci id="S3.E4.m1.2.2.cmml" xref="S3.E4.m1.2.2">𝑒</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.3c">s^{c}=\mathrm{SBERT}_{\mathrm{cosine}}(t,e),</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.3d">italic_s start_POSTSUPERSCRIPT italic_c end_POSTSUPERSCRIPT = roman_SBERT start_POSTSUBSCRIPT roman_cosine end_POSTSUBSCRIPT ( italic_t , italic_e ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.I1.i3.p1.11">where <math alttext="s^{c}\in[-1,1]" class="ltx_Math" display="inline" id="S3.I1.i3.p1.5.m1.2"><semantics id="S3.I1.i3.p1.5.m1.2a"><mrow id="S3.I1.i3.p1.5.m1.2.2" xref="S3.I1.i3.p1.5.m1.2.2.cmml"><msup id="S3.I1.i3.p1.5.m1.2.2.3" xref="S3.I1.i3.p1.5.m1.2.2.3.cmml"><mi id="S3.I1.i3.p1.5.m1.2.2.3.2" xref="S3.I1.i3.p1.5.m1.2.2.3.2.cmml">s</mi><mi id="S3.I1.i3.p1.5.m1.2.2.3.3" xref="S3.I1.i3.p1.5.m1.2.2.3.3.cmml">c</mi></msup><mo id="S3.I1.i3.p1.5.m1.2.2.2" xref="S3.I1.i3.p1.5.m1.2.2.2.cmml">∈</mo><mrow id="S3.I1.i3.p1.5.m1.2.2.1.1" xref="S3.I1.i3.p1.5.m1.2.2.1.2.cmml"><mo id="S3.I1.i3.p1.5.m1.2.2.1.1.2" stretchy="false" xref="S3.I1.i3.p1.5.m1.2.2.1.2.cmml">[</mo><mrow id="S3.I1.i3.p1.5.m1.2.2.1.1.1" xref="S3.I1.i3.p1.5.m1.2.2.1.1.1.cmml"><mo id="S3.I1.i3.p1.5.m1.2.2.1.1.1a" xref="S3.I1.i3.p1.5.m1.2.2.1.1.1.cmml">−</mo><mn id="S3.I1.i3.p1.5.m1.2.2.1.1.1.2" xref="S3.I1.i3.p1.5.m1.2.2.1.1.1.2.cmml">1</mn></mrow><mo id="S3.I1.i3.p1.5.m1.2.2.1.1.3" xref="S3.I1.i3.p1.5.m1.2.2.1.2.cmml">,</mo><mn id="S3.I1.i3.p1.5.m1.1.1" xref="S3.I1.i3.p1.5.m1.1.1.cmml">1</mn><mo id="S3.I1.i3.p1.5.m1.2.2.1.1.4" stretchy="false" xref="S3.I1.i3.p1.5.m1.2.2.1.2.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.5.m1.2b"><apply id="S3.I1.i3.p1.5.m1.2.2.cmml" xref="S3.I1.i3.p1.5.m1.2.2"><in id="S3.I1.i3.p1.5.m1.2.2.2.cmml" xref="S3.I1.i3.p1.5.m1.2.2.2"></in><apply id="S3.I1.i3.p1.5.m1.2.2.3.cmml" xref="S3.I1.i3.p1.5.m1.2.2.3"><csymbol cd="ambiguous" id="S3.I1.i3.p1.5.m1.2.2.3.1.cmml" xref="S3.I1.i3.p1.5.m1.2.2.3">superscript</csymbol><ci id="S3.I1.i3.p1.5.m1.2.2.3.2.cmml" xref="S3.I1.i3.p1.5.m1.2.2.3.2">𝑠</ci><ci id="S3.I1.i3.p1.5.m1.2.2.3.3.cmml" xref="S3.I1.i3.p1.5.m1.2.2.3.3">𝑐</ci></apply><interval closure="closed" id="S3.I1.i3.p1.5.m1.2.2.1.2.cmml" xref="S3.I1.i3.p1.5.m1.2.2.1.1"><apply id="S3.I1.i3.p1.5.m1.2.2.1.1.1.cmml" xref="S3.I1.i3.p1.5.m1.2.2.1.1.1"><minus id="S3.I1.i3.p1.5.m1.2.2.1.1.1.1.cmml" xref="S3.I1.i3.p1.5.m1.2.2.1.1.1"></minus><cn id="S3.I1.i3.p1.5.m1.2.2.1.1.1.2.cmml" type="integer" xref="S3.I1.i3.p1.5.m1.2.2.1.1.1.2">1</cn></apply><cn id="S3.I1.i3.p1.5.m1.1.1.cmml" type="integer" xref="S3.I1.i3.p1.5.m1.1.1">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.5.m1.2c">s^{c}\in[-1,1]</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.5.m1.2d">italic_s start_POSTSUPERSCRIPT italic_c end_POSTSUPERSCRIPT ∈ [ - 1 , 1 ]</annotation></semantics></math> is the conciseness score that is measured by cosine similarity between the sentence embedding of <math alttext="t" class="ltx_Math" display="inline" id="S3.I1.i3.p1.6.m2.1"><semantics id="S3.I1.i3.p1.6.m2.1a"><mi id="S3.I1.i3.p1.6.m2.1.1" xref="S3.I1.i3.p1.6.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.6.m2.1b"><ci id="S3.I1.i3.p1.6.m2.1.1.cmml" xref="S3.I1.i3.p1.6.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.6.m2.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.6.m2.1d">italic_t</annotation></semantics></math> and <math alttext="e" class="ltx_Math" display="inline" id="S3.I1.i3.p1.7.m3.1"><semantics id="S3.I1.i3.p1.7.m3.1a"><mi id="S3.I1.i3.p1.7.m3.1.1" xref="S3.I1.i3.p1.7.m3.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.7.m3.1b"><ci id="S3.I1.i3.p1.7.m3.1.1.cmml" xref="S3.I1.i3.p1.7.m3.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.7.m3.1c">e</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.7.m3.1d">italic_e</annotation></semantics></math>, <math alttext="t" class="ltx_Math" display="inline" id="S3.I1.i3.p1.8.m4.1"><semantics id="S3.I1.i3.p1.8.m4.1a"><mi id="S3.I1.i3.p1.8.m4.1.1" xref="S3.I1.i3.p1.8.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.8.m4.1b"><ci id="S3.I1.i3.p1.8.m4.1.1.cmml" xref="S3.I1.i3.p1.8.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.8.m4.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.8.m4.1d">italic_t</annotation></semantics></math> is a full-length answer.
In this work, we prompt GPT-3.5-turbo to generate a full-length answer <math alttext="t" class="ltx_Math" display="inline" id="S3.I1.i3.p1.9.m5.1"><semantics id="S3.I1.i3.p1.9.m5.1a"><mi id="S3.I1.i3.p1.9.m5.1.1" xref="S3.I1.i3.p1.9.m5.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.9.m5.1b"><ci id="S3.I1.i3.p1.9.m5.1.1.cmml" xref="S3.I1.i3.p1.9.m5.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.9.m5.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.9.m5.1d">italic_t</annotation></semantics></math> given the query <math alttext="q" class="ltx_Math" display="inline" id="S3.I1.i3.p1.10.m6.1"><semantics id="S3.I1.i3.p1.10.m6.1a"><mi id="S3.I1.i3.p1.10.m6.1.1" xref="S3.I1.i3.p1.10.m6.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.10.m6.1b"><ci id="S3.I1.i3.p1.10.m6.1.1.cmml" xref="S3.I1.i3.p1.10.m6.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.10.m6.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.10.m6.1d">italic_q</annotation></semantics></math> and its answer <math alttext="a" class="ltx_Math" display="inline" id="S3.I1.i3.p1.11.m7.1"><semantics id="S3.I1.i3.p1.11.m7.1a"><mi id="S3.I1.i3.p1.11.m7.1.1" xref="S3.I1.i3.p1.11.m7.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.11.m7.1b"><ci id="S3.I1.i3.p1.11.m7.1.1.cmml" xref="S3.I1.i3.p1.11.m7.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.11.m7.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.11.m7.1d">italic_a</annotation></semantics></math>. More details about full-length answer generation can be seen in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A2" title="Appendix B Full-length Answer Generation ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.11"><span class="ltx_text ltx_font_bold" id="S3.SS2.p3.11.1">Weighting Oracle Scores.</span> Having obtained the oracle scores, a question naturally arises: <span class="ltx_text ltx_font_italic" id="S3.SS2.p3.11.2">How to get the overall assessment for each extracted evidence?</span>
A straightforward way is to compute the average of the oracle scores. However, equal weighting might not result in optimal alignment, since the learning difficulty is inconsistent.
Therefore, the weights should match the learning difficulty to guide the preference optimization process.
Given this, we propose smoothing CoV-weighting, leveraging the variability  of  the  scores  in  relation  to  the  mean:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="c^{f}={\sigma^{f}}/{\mu^{f}}," class="ltx_Math" display="block" id="S3.E5.m1.1"><semantics id="S3.E5.m1.1a"><mrow id="S3.E5.m1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><msup id="S3.E5.m1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.2.cmml"><mi id="S3.E5.m1.1.1.1.1.2.2" xref="S3.E5.m1.1.1.1.1.2.2.cmml">c</mi><mi id="S3.E5.m1.1.1.1.1.2.3" xref="S3.E5.m1.1.1.1.1.2.3.cmml">f</mi></msup><mo id="S3.E5.m1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E5.m1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3.cmml"><msup id="S3.E5.m1.1.1.1.1.3.2" xref="S3.E5.m1.1.1.1.1.3.2.cmml"><mi id="S3.E5.m1.1.1.1.1.3.2.2" xref="S3.E5.m1.1.1.1.1.3.2.2.cmml">σ</mi><mi id="S3.E5.m1.1.1.1.1.3.2.3" xref="S3.E5.m1.1.1.1.1.3.2.3.cmml">f</mi></msup><mo id="S3.E5.m1.1.1.1.1.3.1" xref="S3.E5.m1.1.1.1.1.3.1.cmml">/</mo><msup id="S3.E5.m1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.3.3.cmml"><mi id="S3.E5.m1.1.1.1.1.3.3.2" xref="S3.E5.m1.1.1.1.1.3.3.2.cmml">μ</mi><mi id="S3.E5.m1.1.1.1.1.3.3.3" xref="S3.E5.m1.1.1.1.1.3.3.3.cmml">f</mi></msup></mrow></mrow><mo id="S3.E5.m1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1"><eq id="S3.E5.m1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1"></eq><apply id="S3.E5.m1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.2">superscript</csymbol><ci id="S3.E5.m1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.2.2">𝑐</ci><ci id="S3.E5.m1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.1.1.1.1.2.3">𝑓</ci></apply><apply id="S3.E5.m1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.3"><divide id="S3.E5.m1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.3.1"></divide><apply id="S3.E5.m1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.3.2.1.cmml" xref="S3.E5.m1.1.1.1.1.3.2">superscript</csymbol><ci id="S3.E5.m1.1.1.1.1.3.2.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2.2">𝜎</ci><ci id="S3.E5.m1.1.1.1.1.3.2.3.cmml" xref="S3.E5.m1.1.1.1.1.3.2.3">𝑓</ci></apply><apply id="S3.E5.m1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.3.3.1.cmml" xref="S3.E5.m1.1.1.1.1.3.3">superscript</csymbol><ci id="S3.E5.m1.1.1.1.1.3.3.2.cmml" xref="S3.E5.m1.1.1.1.1.3.3.2">𝜇</ci><ci id="S3.E5.m1.1.1.1.1.3.3.3.cmml" xref="S3.E5.m1.1.1.1.1.3.3.3">𝑓</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">c^{f}={\sigma^{f}}/{\mu^{f}},</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.1d">italic_c start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT = italic_σ start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT / italic_μ start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p3.6">where <math alttext="\sigma^{f}" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.1"><semantics id="S3.SS2.p3.1.m1.1a"><msup id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.2.cmml">σ</mi><mi id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">superscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2">𝜎</ci><ci id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">\sigma^{f}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.1d">italic_σ start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="\mu^{f}" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m2.1"><semantics id="S3.SS2.p3.2.m2.1a"><msup id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2" xref="S3.SS2.p3.2.m2.1.1.2.cmml">μ</mi><mi id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">superscript</csymbol><ci id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2">𝜇</ci><ci id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">\mu^{f}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m2.1d">italic_μ start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> denote the standard deviation and the mean of faithfulness score <math alttext="s^{f}" class="ltx_Math" display="inline" id="S3.SS2.p3.3.m3.1"><semantics id="S3.SS2.p3.3.m3.1a"><msup id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml"><mi id="S3.SS2.p3.3.m3.1.1.2" xref="S3.SS2.p3.3.m3.1.1.2.cmml">s</mi><mi id="S3.SS2.p3.3.m3.1.1.3" xref="S3.SS2.p3.3.m3.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><apply id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.1.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1">superscript</csymbol><ci id="S3.SS2.p3.3.m3.1.1.2.cmml" xref="S3.SS2.p3.3.m3.1.1.2">𝑠</ci><ci id="S3.SS2.p3.3.m3.1.1.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">s^{f}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.3.m3.1d">italic_s start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math>, <math alttext="c^{f}" class="ltx_Math" display="inline" id="S3.SS2.p3.4.m4.1"><semantics id="S3.SS2.p3.4.m4.1a"><msup id="S3.SS2.p3.4.m4.1.1" xref="S3.SS2.p3.4.m4.1.1.cmml"><mi id="S3.SS2.p3.4.m4.1.1.2" xref="S3.SS2.p3.4.m4.1.1.2.cmml">c</mi><mi id="S3.SS2.p3.4.m4.1.1.3" xref="S3.SS2.p3.4.m4.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.1b"><apply id="S3.SS2.p3.4.m4.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1">superscript</csymbol><ci id="S3.SS2.p3.4.m4.1.1.2.cmml" xref="S3.SS2.p3.4.m4.1.1.2">𝑐</ci><ci id="S3.SS2.p3.4.m4.1.1.3.cmml" xref="S3.SS2.p3.4.m4.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.1c">c^{f}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.4.m4.1d">italic_c start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> is the <span class="ltx_text ltx_framed ltx_framed_underline" id="S3.SS2.p3.6.1">C</span>oefficient <span class="ltx_text ltx_framed ltx_framed_underline" id="S3.SS2.p3.6.2">o</span>f <span class="ltx_text ltx_framed ltx_framed_underline" id="S3.SS2.p3.6.3">V</span>ariation (CoV) whose value is independent of the magnitude.
As such, CoV can decouple the score magnitude from the score weighting, so a type of score with a small magnitude may still be relatively impactful when it is variant <cite class="ltx_cite ltx_citemacro_cite">Groenendijk et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib9" title="">2021</a>)</cite>.
Analogously, we obtain the CoV of the helpfulness and conciseness score, <span class="ltx_text ltx_font_italic" id="S3.SS2.p3.6.4">i.e.,</span> <math alttext="c^{h}" class="ltx_Math" display="inline" id="S3.SS2.p3.5.m5.1"><semantics id="S3.SS2.p3.5.m5.1a"><msup id="S3.SS2.p3.5.m5.1.1" xref="S3.SS2.p3.5.m5.1.1.cmml"><mi id="S3.SS2.p3.5.m5.1.1.2" xref="S3.SS2.p3.5.m5.1.1.2.cmml">c</mi><mi id="S3.SS2.p3.5.m5.1.1.3" xref="S3.SS2.p3.5.m5.1.1.3.cmml">h</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m5.1b"><apply id="S3.SS2.p3.5.m5.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.1.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1">superscript</csymbol><ci id="S3.SS2.p3.5.m5.1.1.2.cmml" xref="S3.SS2.p3.5.m5.1.1.2">𝑐</ci><ci id="S3.SS2.p3.5.m5.1.1.3.cmml" xref="S3.SS2.p3.5.m5.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m5.1c">c^{h}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.5.m5.1d">italic_c start_POSTSUPERSCRIPT italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="c^{c}" class="ltx_Math" display="inline" id="S3.SS2.p3.6.m6.1"><semantics id="S3.SS2.p3.6.m6.1a"><msup id="S3.SS2.p3.6.m6.1.1" xref="S3.SS2.p3.6.m6.1.1.cmml"><mi id="S3.SS2.p3.6.m6.1.1.2" xref="S3.SS2.p3.6.m6.1.1.2.cmml">c</mi><mi id="S3.SS2.p3.6.m6.1.1.3" xref="S3.SS2.p3.6.m6.1.1.3.cmml">c</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.6.m6.1b"><apply id="S3.SS2.p3.6.m6.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.1.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1">superscript</csymbol><ci id="S3.SS2.p3.6.m6.1.1.2.cmml" xref="S3.SS2.p3.6.m6.1.1.2">𝑐</ci><ci id="S3.SS2.p3.6.m6.1.1.3.cmml" xref="S3.SS2.p3.6.m6.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.6.m6.1c">c^{c}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.6.m6.1d">italic_c start_POSTSUPERSCRIPT italic_c end_POSTSUPERSCRIPT</annotation></semantics></math>.
Moreover, we employ the softmax function with temperature on the coefficient of variation of these scores, which controls the smoothness of the score weight to avoid  abnormal  score  weight:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\alpha^{f}=\frac{\mathrm{exp}({{c^{f}}/{\tau}})}{\sum_{*}\mathrm{exp}({{c^{*}}%
/{\tau}})}," class="ltx_Math" display="block" id="S3.E6.m1.3"><semantics id="S3.E6.m1.3a"><mrow id="S3.E6.m1.3.3.1" xref="S3.E6.m1.3.3.1.1.cmml"><mrow id="S3.E6.m1.3.3.1.1" xref="S3.E6.m1.3.3.1.1.cmml"><msup id="S3.E6.m1.3.3.1.1.2" xref="S3.E6.m1.3.3.1.1.2.cmml"><mi id="S3.E6.m1.3.3.1.1.2.2" xref="S3.E6.m1.3.3.1.1.2.2.cmml">α</mi><mi id="S3.E6.m1.3.3.1.1.2.3" xref="S3.E6.m1.3.3.1.1.2.3.cmml">f</mi></msup><mo id="S3.E6.m1.3.3.1.1.1" xref="S3.E6.m1.3.3.1.1.1.cmml">=</mo><mfrac id="S3.E6.m1.2.2" xref="S3.E6.m1.2.2.cmml"><mrow id="S3.E6.m1.1.1.1" xref="S3.E6.m1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.3" xref="S3.E6.m1.1.1.1.3.cmml">exp</mi><mo id="S3.E6.m1.1.1.1.2" xref="S3.E6.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E6.m1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.cmml"><mo id="S3.E6.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E6.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.cmml"><msup id="S3.E6.m1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.2.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.1.1.2.2.cmml">c</mi><mi id="S3.E6.m1.1.1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.1.1.2.3.cmml">f</mi></msup><mo id="S3.E6.m1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.cmml">/</mo><mi id="S3.E6.m1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.3.cmml">τ</mi></mrow><mo id="S3.E6.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E6.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E6.m1.2.2.2" xref="S3.E6.m1.2.2.2.cmml"><msub id="S3.E6.m1.2.2.2.2" xref="S3.E6.m1.2.2.2.2.cmml"><mo id="S3.E6.m1.2.2.2.2.2" xref="S3.E6.m1.2.2.2.2.2.cmml">∑</mo><mo id="S3.E6.m1.2.2.2.2.3" xref="S3.E6.m1.2.2.2.2.3.cmml">∗</mo></msub><mrow id="S3.E6.m1.2.2.2.1" xref="S3.E6.m1.2.2.2.1.cmml"><mi id="S3.E6.m1.2.2.2.1.3" xref="S3.E6.m1.2.2.2.1.3.cmml">exp</mi><mo id="S3.E6.m1.2.2.2.1.2" xref="S3.E6.m1.2.2.2.1.2.cmml">⁢</mo><mrow id="S3.E6.m1.2.2.2.1.1.1" xref="S3.E6.m1.2.2.2.1.1.1.1.cmml"><mo id="S3.E6.m1.2.2.2.1.1.1.2" stretchy="false" xref="S3.E6.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.2.2.2.1.1.1.1" xref="S3.E6.m1.2.2.2.1.1.1.1.cmml"><msup id="S3.E6.m1.2.2.2.1.1.1.1.2" xref="S3.E6.m1.2.2.2.1.1.1.1.2.cmml"><mi id="S3.E6.m1.2.2.2.1.1.1.1.2.2" xref="S3.E6.m1.2.2.2.1.1.1.1.2.2.cmml">c</mi><mo id="S3.E6.m1.2.2.2.1.1.1.1.2.3" xref="S3.E6.m1.2.2.2.1.1.1.1.2.3.cmml">∗</mo></msup><mo id="S3.E6.m1.2.2.2.1.1.1.1.1" xref="S3.E6.m1.2.2.2.1.1.1.1.1.cmml">/</mo><mi id="S3.E6.m1.2.2.2.1.1.1.1.3" xref="S3.E6.m1.2.2.2.1.1.1.1.3.cmml">τ</mi></mrow><mo id="S3.E6.m1.2.2.2.1.1.1.3" stretchy="false" xref="S3.E6.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow><mo id="S3.E6.m1.3.3.1.2" xref="S3.E6.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.3b"><apply id="S3.E6.m1.3.3.1.1.cmml" xref="S3.E6.m1.3.3.1"><eq id="S3.E6.m1.3.3.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1"></eq><apply id="S3.E6.m1.3.3.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.2.1.cmml" xref="S3.E6.m1.3.3.1.1.2">superscript</csymbol><ci id="S3.E6.m1.3.3.1.1.2.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2">𝛼</ci><ci id="S3.E6.m1.3.3.1.1.2.3.cmml" xref="S3.E6.m1.3.3.1.1.2.3">𝑓</ci></apply><apply id="S3.E6.m1.2.2.cmml" xref="S3.E6.m1.2.2"><divide id="S3.E6.m1.2.2.3.cmml" xref="S3.E6.m1.2.2"></divide><apply id="S3.E6.m1.1.1.1.cmml" xref="S3.E6.m1.1.1.1"><times id="S3.E6.m1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.2"></times><ci id="S3.E6.m1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.3">exp</ci><apply id="S3.E6.m1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1"><divide id="S3.E6.m1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1"></divide><apply id="S3.E6.m1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2">𝑐</ci><ci id="S3.E6.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.3">𝑓</ci></apply><ci id="S3.E6.m1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3">𝜏</ci></apply></apply><apply id="S3.E6.m1.2.2.2.cmml" xref="S3.E6.m1.2.2.2"><apply id="S3.E6.m1.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.1.cmml" xref="S3.E6.m1.2.2.2.2">subscript</csymbol><sum id="S3.E6.m1.2.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2.2"></sum><times id="S3.E6.m1.2.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.2.3"></times></apply><apply id="S3.E6.m1.2.2.2.1.cmml" xref="S3.E6.m1.2.2.2.1"><times id="S3.E6.m1.2.2.2.1.2.cmml" xref="S3.E6.m1.2.2.2.1.2"></times><ci id="S3.E6.m1.2.2.2.1.3.cmml" xref="S3.E6.m1.2.2.2.1.3">exp</ci><apply id="S3.E6.m1.2.2.2.1.1.1.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1"><divide id="S3.E6.m1.2.2.2.1.1.1.1.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.1"></divide><apply id="S3.E6.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.1.1.1.1.2.1.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.2">superscript</csymbol><ci id="S3.E6.m1.2.2.2.1.1.1.1.2.2.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.2.2">𝑐</ci><times id="S3.E6.m1.2.2.2.1.1.1.1.2.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.2.3"></times></apply><ci id="S3.E6.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E6.m1.2.2.2.1.1.1.1.3">𝜏</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.3c">\alpha^{f}=\frac{\mathrm{exp}({{c^{f}}/{\tau}})}{\sum_{*}\mathrm{exp}({{c^{*}}%
/{\tau}})},</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.3d">italic_α start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT = divide start_ARG roman_exp ( italic_c start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT / italic_τ ) end_ARG start_ARG ∑ start_POSTSUBSCRIPT ∗ end_POSTSUBSCRIPT roman_exp ( italic_c start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT / italic_τ ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p3.10">where <math alttext="\alpha^{f}" class="ltx_Math" display="inline" id="S3.SS2.p3.7.m1.1"><semantics id="S3.SS2.p3.7.m1.1a"><msup id="S3.SS2.p3.7.m1.1.1" xref="S3.SS2.p3.7.m1.1.1.cmml"><mi id="S3.SS2.p3.7.m1.1.1.2" xref="S3.SS2.p3.7.m1.1.1.2.cmml">α</mi><mi id="S3.SS2.p3.7.m1.1.1.3" xref="S3.SS2.p3.7.m1.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.7.m1.1b"><apply id="S3.SS2.p3.7.m1.1.1.cmml" xref="S3.SS2.p3.7.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.7.m1.1.1.1.cmml" xref="S3.SS2.p3.7.m1.1.1">superscript</csymbol><ci id="S3.SS2.p3.7.m1.1.1.2.cmml" xref="S3.SS2.p3.7.m1.1.1.2">𝛼</ci><ci id="S3.SS2.p3.7.m1.1.1.3.cmml" xref="S3.SS2.p3.7.m1.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.7.m1.1c">\alpha^{f}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.7.m1.1d">italic_α start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math> is the faithfulness score weight, <math alttext="\tau" class="ltx_Math" display="inline" id="S3.SS2.p3.8.m2.1"><semantics id="S3.SS2.p3.8.m2.1a"><mi id="S3.SS2.p3.8.m2.1.1" xref="S3.SS2.p3.8.m2.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.8.m2.1b"><ci id="S3.SS2.p3.8.m2.1.1.cmml" xref="S3.SS2.p3.8.m2.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.8.m2.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.8.m2.1d">italic_τ</annotation></semantics></math> is the temperature.
Analogously, we obtain the helpfulness and conciseness score weight, <span class="ltx_text ltx_font_italic" id="S3.SS2.p3.10.1">i.e.,</span> <math alttext="\alpha^{h}" class="ltx_Math" display="inline" id="S3.SS2.p3.9.m3.1"><semantics id="S3.SS2.p3.9.m3.1a"><msup id="S3.SS2.p3.9.m3.1.1" xref="S3.SS2.p3.9.m3.1.1.cmml"><mi id="S3.SS2.p3.9.m3.1.1.2" xref="S3.SS2.p3.9.m3.1.1.2.cmml">α</mi><mi id="S3.SS2.p3.9.m3.1.1.3" xref="S3.SS2.p3.9.m3.1.1.3.cmml">h</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.9.m3.1b"><apply id="S3.SS2.p3.9.m3.1.1.cmml" xref="S3.SS2.p3.9.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.9.m3.1.1.1.cmml" xref="S3.SS2.p3.9.m3.1.1">superscript</csymbol><ci id="S3.SS2.p3.9.m3.1.1.2.cmml" xref="S3.SS2.p3.9.m3.1.1.2">𝛼</ci><ci id="S3.SS2.p3.9.m3.1.1.3.cmml" xref="S3.SS2.p3.9.m3.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.9.m3.1c">\alpha^{h}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.9.m3.1d">italic_α start_POSTSUPERSCRIPT italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="\alpha^{c}" class="ltx_Math" display="inline" id="S3.SS2.p3.10.m4.1"><semantics id="S3.SS2.p3.10.m4.1a"><msup id="S3.SS2.p3.10.m4.1.1" xref="S3.SS2.p3.10.m4.1.1.cmml"><mi id="S3.SS2.p3.10.m4.1.1.2" xref="S3.SS2.p3.10.m4.1.1.2.cmml">α</mi><mi id="S3.SS2.p3.10.m4.1.1.3" xref="S3.SS2.p3.10.m4.1.1.3.cmml">c</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.10.m4.1b"><apply id="S3.SS2.p3.10.m4.1.1.cmml" xref="S3.SS2.p3.10.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.10.m4.1.1.1.cmml" xref="S3.SS2.p3.10.m4.1.1">superscript</csymbol><ci id="S3.SS2.p3.10.m4.1.1.2.cmml" xref="S3.SS2.p3.10.m4.1.1.2">𝛼</ci><ci id="S3.SS2.p3.10.m4.1.1.3.cmml" xref="S3.SS2.p3.10.m4.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.10.m4.1c">\alpha^{c}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.10.m4.1d">italic_α start_POSTSUPERSCRIPT italic_c end_POSTSUPERSCRIPT</annotation></semantics></math>. Then, the  CoV-weighted  score  can  be defined as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="s=\alpha^{f}s^{f}+\alpha^{h}s^{h}+\alpha^{c}s^{c}," class="ltx_Math" display="block" id="S3.E7.m1.1"><semantics id="S3.E7.m1.1a"><mrow id="S3.E7.m1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml"><mrow id="S3.E7.m1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml"><mi id="S3.E7.m1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.2.cmml">s</mi><mo id="S3.E7.m1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E7.m1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.3.cmml"><mrow id="S3.E7.m1.1.1.1.1.3.2" xref="S3.E7.m1.1.1.1.1.3.2.cmml"><msup id="S3.E7.m1.1.1.1.1.3.2.2" xref="S3.E7.m1.1.1.1.1.3.2.2.cmml"><mi id="S3.E7.m1.1.1.1.1.3.2.2.2" xref="S3.E7.m1.1.1.1.1.3.2.2.2.cmml">α</mi><mi id="S3.E7.m1.1.1.1.1.3.2.2.3" xref="S3.E7.m1.1.1.1.1.3.2.2.3.cmml">f</mi></msup><mo id="S3.E7.m1.1.1.1.1.3.2.1" xref="S3.E7.m1.1.1.1.1.3.2.1.cmml">⁢</mo><msup id="S3.E7.m1.1.1.1.1.3.2.3" xref="S3.E7.m1.1.1.1.1.3.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1.3.2.3.2" xref="S3.E7.m1.1.1.1.1.3.2.3.2.cmml">s</mi><mi id="S3.E7.m1.1.1.1.1.3.2.3.3" xref="S3.E7.m1.1.1.1.1.3.2.3.3.cmml">f</mi></msup></mrow><mo id="S3.E7.m1.1.1.1.1.3.1" xref="S3.E7.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S3.E7.m1.1.1.1.1.3.3" xref="S3.E7.m1.1.1.1.1.3.3.cmml"><msup id="S3.E7.m1.1.1.1.1.3.3.2" xref="S3.E7.m1.1.1.1.1.3.3.2.cmml"><mi id="S3.E7.m1.1.1.1.1.3.3.2.2" xref="S3.E7.m1.1.1.1.1.3.3.2.2.cmml">α</mi><mi id="S3.E7.m1.1.1.1.1.3.3.2.3" xref="S3.E7.m1.1.1.1.1.3.3.2.3.cmml">h</mi></msup><mo id="S3.E7.m1.1.1.1.1.3.3.1" xref="S3.E7.m1.1.1.1.1.3.3.1.cmml">⁢</mo><msup id="S3.E7.m1.1.1.1.1.3.3.3" xref="S3.E7.m1.1.1.1.1.3.3.3.cmml"><mi id="S3.E7.m1.1.1.1.1.3.3.3.2" xref="S3.E7.m1.1.1.1.1.3.3.3.2.cmml">s</mi><mi id="S3.E7.m1.1.1.1.1.3.3.3.3" xref="S3.E7.m1.1.1.1.1.3.3.3.3.cmml">h</mi></msup></mrow><mo id="S3.E7.m1.1.1.1.1.3.1a" xref="S3.E7.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S3.E7.m1.1.1.1.1.3.4" xref="S3.E7.m1.1.1.1.1.3.4.cmml"><msup id="S3.E7.m1.1.1.1.1.3.4.2" xref="S3.E7.m1.1.1.1.1.3.4.2.cmml"><mi id="S3.E7.m1.1.1.1.1.3.4.2.2" xref="S3.E7.m1.1.1.1.1.3.4.2.2.cmml">α</mi><mi id="S3.E7.m1.1.1.1.1.3.4.2.3" xref="S3.E7.m1.1.1.1.1.3.4.2.3.cmml">c</mi></msup><mo id="S3.E7.m1.1.1.1.1.3.4.1" xref="S3.E7.m1.1.1.1.1.3.4.1.cmml">⁢</mo><msup id="S3.E7.m1.1.1.1.1.3.4.3" xref="S3.E7.m1.1.1.1.1.3.4.3.cmml"><mi id="S3.E7.m1.1.1.1.1.3.4.3.2" xref="S3.E7.m1.1.1.1.1.3.4.3.2.cmml">s</mi><mi id="S3.E7.m1.1.1.1.1.3.4.3.3" xref="S3.E7.m1.1.1.1.1.3.4.3.3.cmml">c</mi></msup></mrow></mrow></mrow><mo id="S3.E7.m1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.1b"><apply id="S3.E7.m1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1"><eq id="S3.E7.m1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1"></eq><ci id="S3.E7.m1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.2">𝑠</ci><apply id="S3.E7.m1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.3"><plus id="S3.E7.m1.1.1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.1.1.3.1"></plus><apply id="S3.E7.m1.1.1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.1.1.3.2"><times id="S3.E7.m1.1.1.1.1.3.2.1.cmml" xref="S3.E7.m1.1.1.1.1.3.2.1"></times><apply id="S3.E7.m1.1.1.1.1.3.2.2.cmml" xref="S3.E7.m1.1.1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.3.2.2.1.cmml" xref="S3.E7.m1.1.1.1.1.3.2.2">superscript</csymbol><ci id="S3.E7.m1.1.1.1.1.3.2.2.2.cmml" xref="S3.E7.m1.1.1.1.1.3.2.2.2">𝛼</ci><ci id="S3.E7.m1.1.1.1.1.3.2.2.3.cmml" xref="S3.E7.m1.1.1.1.1.3.2.2.3">𝑓</ci></apply><apply id="S3.E7.m1.1.1.1.1.3.2.3.cmml" xref="S3.E7.m1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.3.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.3.2.3">superscript</csymbol><ci id="S3.E7.m1.1.1.1.1.3.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.3.2.3.2">𝑠</ci><ci id="S3.E7.m1.1.1.1.1.3.2.3.3.cmml" xref="S3.E7.m1.1.1.1.1.3.2.3.3">𝑓</ci></apply></apply><apply id="S3.E7.m1.1.1.1.1.3.3.cmml" xref="S3.E7.m1.1.1.1.1.3.3"><times id="S3.E7.m1.1.1.1.1.3.3.1.cmml" xref="S3.E7.m1.1.1.1.1.3.3.1"></times><apply id="S3.E7.m1.1.1.1.1.3.3.2.cmml" xref="S3.E7.m1.1.1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.3.3.2.1.cmml" xref="S3.E7.m1.1.1.1.1.3.3.2">superscript</csymbol><ci id="S3.E7.m1.1.1.1.1.3.3.2.2.cmml" xref="S3.E7.m1.1.1.1.1.3.3.2.2">𝛼</ci><ci id="S3.E7.m1.1.1.1.1.3.3.2.3.cmml" xref="S3.E7.m1.1.1.1.1.3.3.2.3">ℎ</ci></apply><apply id="S3.E7.m1.1.1.1.1.3.3.3.cmml" xref="S3.E7.m1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.3.3.3.1.cmml" xref="S3.E7.m1.1.1.1.1.3.3.3">superscript</csymbol><ci id="S3.E7.m1.1.1.1.1.3.3.3.2.cmml" xref="S3.E7.m1.1.1.1.1.3.3.3.2">𝑠</ci><ci id="S3.E7.m1.1.1.1.1.3.3.3.3.cmml" xref="S3.E7.m1.1.1.1.1.3.3.3.3">ℎ</ci></apply></apply><apply id="S3.E7.m1.1.1.1.1.3.4.cmml" xref="S3.E7.m1.1.1.1.1.3.4"><times id="S3.E7.m1.1.1.1.1.3.4.1.cmml" xref="S3.E7.m1.1.1.1.1.3.4.1"></times><apply id="S3.E7.m1.1.1.1.1.3.4.2.cmml" xref="S3.E7.m1.1.1.1.1.3.4.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.3.4.2.1.cmml" xref="S3.E7.m1.1.1.1.1.3.4.2">superscript</csymbol><ci id="S3.E7.m1.1.1.1.1.3.4.2.2.cmml" xref="S3.E7.m1.1.1.1.1.3.4.2.2">𝛼</ci><ci id="S3.E7.m1.1.1.1.1.3.4.2.3.cmml" xref="S3.E7.m1.1.1.1.1.3.4.2.3">𝑐</ci></apply><apply id="S3.E7.m1.1.1.1.1.3.4.3.cmml" xref="S3.E7.m1.1.1.1.1.3.4.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.3.4.3.1.cmml" xref="S3.E7.m1.1.1.1.1.3.4.3">superscript</csymbol><ci id="S3.E7.m1.1.1.1.1.3.4.3.2.cmml" xref="S3.E7.m1.1.1.1.1.3.4.3.2">𝑠</ci><ci id="S3.E7.m1.1.1.1.1.3.4.3.3.cmml" xref="S3.E7.m1.1.1.1.1.3.4.3.3">𝑐</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.1c">s=\alpha^{f}s^{f}+\alpha^{h}s^{h}+\alpha^{c}s^{c},</annotation><annotation encoding="application/x-llamapun" id="S3.E7.m1.1d">italic_s = italic_α start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT italic_s start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT + italic_α start_POSTSUPERSCRIPT italic_h end_POSTSUPERSCRIPT italic_s start_POSTSUPERSCRIPT italic_h end_POSTSUPERSCRIPT + italic_α start_POSTSUPERSCRIPT italic_c end_POSTSUPERSCRIPT italic_s start_POSTSUPERSCRIPT italic_c end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p3.12">where the score weight increases when the std increases or the mean decreases,
ensuring more optimization proceeds when the score is more variant.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Self-Alignment Stage</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">After obtaining the preference data over all candidates <math alttext="\mathcal{D}=\{(q\oplus P,e_{i},e_{j})|1\leq i,j\leq N,s_{i}&gt;s_{j}\}" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.2"><semantics id="S3.SS3.p1.1.m1.2a"><mrow id="S3.SS3.p1.1.m1.2.2" xref="S3.SS3.p1.1.m1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.1.m1.2.2.4" xref="S3.SS3.p1.1.m1.2.2.4.cmml">𝒟</mi><mo id="S3.SS3.p1.1.m1.2.2.3" xref="S3.SS3.p1.1.m1.2.2.3.cmml">=</mo><mrow id="S3.SS3.p1.1.m1.2.2.2.2" xref="S3.SS3.p1.1.m1.2.2.2.3.cmml"><mo id="S3.SS3.p1.1.m1.2.2.2.2.3" stretchy="false" xref="S3.SS3.p1.1.m1.2.2.2.3.1.cmml">{</mo><mrow id="S3.SS3.p1.1.m1.1.1.1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.1.1.1.4.cmml"><mo id="S3.SS3.p1.1.m1.1.1.1.1.1.3.4" stretchy="false" xref="S3.SS3.p1.1.m1.1.1.1.1.1.4.cmml">(</mo><mrow id="S3.SS3.p1.1.m1.1.1.1.1.1.1.1" xref="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.2.cmml">q</mi><mo id="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.1" xref="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.1.cmml">⊕</mo><mi id="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.3.cmml">P</mi></mrow><mo id="S3.SS3.p1.1.m1.1.1.1.1.1.3.5" xref="S3.SS3.p1.1.m1.1.1.1.1.1.4.cmml">,</mo><msub id="S3.SS3.p1.1.m1.1.1.1.1.1.2.2" xref="S3.SS3.p1.1.m1.1.1.1.1.1.2.2.cmml"><mi id="S3.SS3.p1.1.m1.1.1.1.1.1.2.2.2" xref="S3.SS3.p1.1.m1.1.1.1.1.1.2.2.2.cmml">e</mi><mi id="S3.SS3.p1.1.m1.1.1.1.1.1.2.2.3" xref="S3.SS3.p1.1.m1.1.1.1.1.1.2.2.3.cmml">i</mi></msub><mo id="S3.SS3.p1.1.m1.1.1.1.1.1.3.6" xref="S3.SS3.p1.1.m1.1.1.1.1.1.4.cmml">,</mo><msub id="S3.SS3.p1.1.m1.1.1.1.1.1.3.3" xref="S3.SS3.p1.1.m1.1.1.1.1.1.3.3.cmml"><mi id="S3.SS3.p1.1.m1.1.1.1.1.1.3.3.2" xref="S3.SS3.p1.1.m1.1.1.1.1.1.3.3.2.cmml">e</mi><mi id="S3.SS3.p1.1.m1.1.1.1.1.1.3.3.3" xref="S3.SS3.p1.1.m1.1.1.1.1.1.3.3.3.cmml">j</mi></msub><mo id="S3.SS3.p1.1.m1.1.1.1.1.1.3.7" stretchy="false" xref="S3.SS3.p1.1.m1.1.1.1.1.1.4.cmml">)</mo></mrow><mo id="S3.SS3.p1.1.m1.2.2.2.2.4" lspace="0em" rspace="0em" xref="S3.SS3.p1.1.m1.2.2.2.3.1.cmml">|</mo><mrow id="S3.SS3.p1.1.m1.2.2.2.2.2.2" xref="S3.SS3.p1.1.m1.2.2.2.2.2.3.cmml"><mrow id="S3.SS3.p1.1.m1.2.2.2.2.2.1.1" xref="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.cmml"><mn id="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.2" xref="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.2.cmml">1</mn><mo id="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.1" xref="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.1.cmml">≤</mo><mi id="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.3" xref="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.3.cmml">i</mi></mrow><mo id="S3.SS3.p1.1.m1.2.2.2.2.2.2.3" xref="S3.SS3.p1.1.m1.2.2.2.2.2.3a.cmml">,</mo><mrow id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.3.cmml"><mrow id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.cmml"><mi id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.2" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.2.cmml">j</mi><mo id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.1" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.1.cmml">≤</mo><mi id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.3" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.3.cmml">N</mi></mrow><mo id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.3" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.3a.cmml">,</mo><mrow id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.cmml"><msub id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2.cmml"><mi id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2.2" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2.2.cmml">s</mi><mi id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2.3" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.1" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.1.cmml">&gt;</mo><msub id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3.cmml"><mi id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3.2" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3.2.cmml">s</mi><mi id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3.3" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3.3.cmml">j</mi></msub></mrow></mrow></mrow><mo id="S3.SS3.p1.1.m1.2.2.2.2.5" stretchy="false" xref="S3.SS3.p1.1.m1.2.2.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.2b"><apply id="S3.SS3.p1.1.m1.2.2.cmml" xref="S3.SS3.p1.1.m1.2.2"><eq id="S3.SS3.p1.1.m1.2.2.3.cmml" xref="S3.SS3.p1.1.m1.2.2.3"></eq><ci id="S3.SS3.p1.1.m1.2.2.4.cmml" xref="S3.SS3.p1.1.m1.2.2.4">𝒟</ci><apply id="S3.SS3.p1.1.m1.2.2.2.3.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2"><csymbol cd="latexml" id="S3.SS3.p1.1.m1.2.2.2.3.1.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.3">conditional-set</csymbol><vector id="S3.SS3.p1.1.m1.1.1.1.1.1.4.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.3"><apply id="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.1">direct-sum</csymbol><ci id="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.2">𝑞</ci><ci id="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.1.1.3">𝑃</ci></apply><apply id="S3.SS3.p1.1.m1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.1.1.1.2.2.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.2.2.2">𝑒</ci><ci id="S3.SS3.p1.1.m1.1.1.1.1.1.2.2.3.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.2.2.3">𝑖</ci></apply><apply id="S3.SS3.p1.1.m1.1.1.1.1.1.3.3.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.1.1.1.3.3.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.1.1.1.3.3.2.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.3.3.2">𝑒</ci><ci id="S3.SS3.p1.1.m1.1.1.1.1.1.3.3.3.cmml" xref="S3.SS3.p1.1.m1.1.1.1.1.1.3.3.3">𝑗</ci></apply></vector><apply id="S3.SS3.p1.1.m1.2.2.2.2.2.3.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.2.2.2.2.2.3a.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.1.1"><leq id="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.1.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.1"></leq><cn id="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.2.cmml" type="integer" xref="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.2">1</cn><ci id="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.3.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.1.1.3">𝑖</ci></apply><apply id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.3a.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1"><leq id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.1.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.1"></leq><ci id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.2.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.2">𝑗</ci><ci id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.3.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.1.1.3">𝑁</ci></apply><apply id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2"><gt id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.1"></gt><apply id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2.2">𝑠</ci><ci id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.2.3">𝑖</ci></apply><apply id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3.1.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3">subscript</csymbol><ci id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3.2.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3.2">𝑠</ci><ci id="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3.3.cmml" xref="S3.SS3.p1.1.m1.2.2.2.2.2.2.2.2.2.3.3">𝑗</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.2c">\mathcal{D}=\{(q\oplus P,e_{i},e_{j})|1\leq i,j\leq N,s_{i}&gt;s_{j}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.2d">caligraphic_D = { ( italic_q ⊕ italic_P , italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) | 1 ≤ italic_i , italic_j ≤ italic_N , italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT &gt; italic_s start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT }</annotation></semantics></math>,
where each tuple represents a choice preference between winning and losing extracted evidence, we proceed to the stage of alignment tuning for improving faithfulness, helpfulness, and conciseness.
For alignment training, previous works commonly adopt Proximal Policy Optimization (PPO) <cite class="ltx_cite ltx_citemacro_cite">Schulman et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib39" title="">2017</a>)</cite> or Direct Preference Optimization (DPO) <cite class="ltx_cite ltx_citemacro_cite">Rafailov et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib34" title="">2023</a>)</cite>.
However, PPO cannot perceive the ranking position and DPO treats all preference pairs indiscriminately. Due to the above drawbacks, both of them cannot result in optimal alignment.
Inspired by the Lambdaloss method <cite class="ltx_cite ltx_citemacro_cite">Donmez et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib7" title="">2009</a>); Burges et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib3" title="">2006</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib44" title="">2018</a>)</cite>, we propose a listwise-aware Lambda Preference Optimization algorithm, LPO, which seamlessly brings the ranking position into DPO  by  assigning  a  lambda  weight  to each pair:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E8">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E8X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}(\pi_{\theta};\pi_{\mathrm{ref}},\lambda_{w,l})_{%
\mathrm{LPO}}=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}" class="ltx_Math" display="inline" id="S3.E8X.2.1.1.m1.8"><semantics id="S3.E8X.2.1.1.m1.8a"><mrow id="S3.E8X.2.1.1.m1.8.8" xref="S3.E8X.2.1.1.m1.8.8.cmml"><mrow id="S3.E8X.2.1.1.m1.8.8.3" xref="S3.E8X.2.1.1.m1.8.8.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8X.2.1.1.m1.8.8.3.5" xref="S3.E8X.2.1.1.m1.8.8.3.5.cmml">ℒ</mi><mo id="S3.E8X.2.1.1.m1.8.8.3.4" xref="S3.E8X.2.1.1.m1.8.8.3.4.cmml">⁢</mo><msub id="S3.E8X.2.1.1.m1.8.8.3.3" xref="S3.E8X.2.1.1.m1.8.8.3.3.cmml"><mrow id="S3.E8X.2.1.1.m1.8.8.3.3.3.3" xref="S3.E8X.2.1.1.m1.8.8.3.3.3.4.cmml"><mo id="S3.E8X.2.1.1.m1.8.8.3.3.3.3.4" stretchy="false" xref="S3.E8X.2.1.1.m1.8.8.3.3.3.4.cmml">(</mo><msub id="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1" xref="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1.cmml"><mi id="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1.2" xref="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1.2.cmml">π</mi><mi id="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1.3" xref="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1.3.cmml">θ</mi></msub><mo id="S3.E8X.2.1.1.m1.8.8.3.3.3.3.5" xref="S3.E8X.2.1.1.m1.8.8.3.3.3.4.cmml">;</mo><msub id="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2" xref="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2.cmml"><mi id="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2.2" xref="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2.2.cmml">π</mi><mi id="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2.3" xref="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2.3.cmml">ref</mi></msub><mo id="S3.E8X.2.1.1.m1.8.8.3.3.3.3.6" xref="S3.E8X.2.1.1.m1.8.8.3.3.3.4.cmml">,</mo><msub id="S3.E8X.2.1.1.m1.8.8.3.3.3.3.3" xref="S3.E8X.2.1.1.m1.8.8.3.3.3.3.3.cmml"><mi id="S3.E8X.2.1.1.m1.8.8.3.3.3.3.3.2" xref="S3.E8X.2.1.1.m1.8.8.3.3.3.3.3.2.cmml">λ</mi><mrow id="S3.E8X.2.1.1.m1.2.2.2.4" xref="S3.E8X.2.1.1.m1.2.2.2.3.cmml"><mi id="S3.E8X.2.1.1.m1.1.1.1.1" xref="S3.E8X.2.1.1.m1.1.1.1.1.cmml">w</mi><mo id="S3.E8X.2.1.1.m1.2.2.2.4.1" xref="S3.E8X.2.1.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.E8X.2.1.1.m1.2.2.2.2" xref="S3.E8X.2.1.1.m1.2.2.2.2.cmml">l</mi></mrow></msub><mo id="S3.E8X.2.1.1.m1.8.8.3.3.3.3.7" stretchy="false" xref="S3.E8X.2.1.1.m1.8.8.3.3.3.4.cmml">)</mo></mrow><mi id="S3.E8X.2.1.1.m1.8.8.3.3.5" xref="S3.E8X.2.1.1.m1.8.8.3.3.5.cmml">LPO</mi></msub></mrow><mo id="S3.E8X.2.1.1.m1.8.8.4" xref="S3.E8X.2.1.1.m1.8.8.4.cmml">=</mo><mrow id="S3.E8X.2.1.1.m1.8.8.5" xref="S3.E8X.2.1.1.m1.8.8.5.cmml"><mo id="S3.E8X.2.1.1.m1.8.8.5a" xref="S3.E8X.2.1.1.m1.8.8.5.cmml">−</mo><msub id="S3.E8X.2.1.1.m1.8.8.5.2" xref="S3.E8X.2.1.1.m1.8.8.5.2.cmml"><mi id="S3.E8X.2.1.1.m1.8.8.5.2.2" xref="S3.E8X.2.1.1.m1.8.8.5.2.2.cmml">𝔼</mi><mrow id="S3.E8X.2.1.1.m1.5.5.3" xref="S3.E8X.2.1.1.m1.5.5.3.cmml"><mrow id="S3.E8X.2.1.1.m1.5.5.3.3.2" xref="S3.E8X.2.1.1.m1.5.5.3.3.3.cmml"><mo id="S3.E8X.2.1.1.m1.5.5.3.3.2.3" stretchy="false" xref="S3.E8X.2.1.1.m1.5.5.3.3.3.cmml">(</mo><mi id="S3.E8X.2.1.1.m1.3.3.1.1" xref="S3.E8X.2.1.1.m1.3.3.1.1.cmml">x</mi><mo id="S3.E8X.2.1.1.m1.5.5.3.3.2.4" xref="S3.E8X.2.1.1.m1.5.5.3.3.3.cmml">,</mo><msub id="S3.E8X.2.1.1.m1.4.4.2.2.1.1" xref="S3.E8X.2.1.1.m1.4.4.2.2.1.1.cmml"><mi id="S3.E8X.2.1.1.m1.4.4.2.2.1.1.2" xref="S3.E8X.2.1.1.m1.4.4.2.2.1.1.2.cmml">y</mi><mi id="S3.E8X.2.1.1.m1.4.4.2.2.1.1.3" xref="S3.E8X.2.1.1.m1.4.4.2.2.1.1.3.cmml">w</mi></msub><mo id="S3.E8X.2.1.1.m1.5.5.3.3.2.5" xref="S3.E8X.2.1.1.m1.5.5.3.3.3.cmml">,</mo><msub id="S3.E8X.2.1.1.m1.5.5.3.3.2.2" xref="S3.E8X.2.1.1.m1.5.5.3.3.2.2.cmml"><mi id="S3.E8X.2.1.1.m1.5.5.3.3.2.2.2" xref="S3.E8X.2.1.1.m1.5.5.3.3.2.2.2.cmml">y</mi><mi id="S3.E8X.2.1.1.m1.5.5.3.3.2.2.3" xref="S3.E8X.2.1.1.m1.5.5.3.3.2.2.3.cmml">l</mi></msub><mo id="S3.E8X.2.1.1.m1.5.5.3.3.2.6" stretchy="false" xref="S3.E8X.2.1.1.m1.5.5.3.3.3.cmml">)</mo></mrow><mo id="S3.E8X.2.1.1.m1.5.5.3.4" xref="S3.E8X.2.1.1.m1.5.5.3.4.cmml">∼</mo><mi class="ltx_font_mathcaligraphic" id="S3.E8X.2.1.1.m1.5.5.3.5" xref="S3.E8X.2.1.1.m1.5.5.3.5.cmml">𝒟</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E8X.2.1.1.m1.8b"><apply id="S3.E8X.2.1.1.m1.8.8.cmml" xref="S3.E8X.2.1.1.m1.8.8"><eq id="S3.E8X.2.1.1.m1.8.8.4.cmml" xref="S3.E8X.2.1.1.m1.8.8.4"></eq><apply id="S3.E8X.2.1.1.m1.8.8.3.cmml" xref="S3.E8X.2.1.1.m1.8.8.3"><times id="S3.E8X.2.1.1.m1.8.8.3.4.cmml" xref="S3.E8X.2.1.1.m1.8.8.3.4"></times><ci id="S3.E8X.2.1.1.m1.8.8.3.5.cmml" xref="S3.E8X.2.1.1.m1.8.8.3.5">ℒ</ci><apply id="S3.E8X.2.1.1.m1.8.8.3.3.cmml" xref="S3.E8X.2.1.1.m1.8.8.3.3"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.8.8.3.3.4.cmml" xref="S3.E8X.2.1.1.m1.8.8.3.3">subscript</csymbol><list id="S3.E8X.2.1.1.m1.8.8.3.3.3.4.cmml" xref="S3.E8X.2.1.1.m1.8.8.3.3.3.3"><apply id="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1">subscript</csymbol><ci id="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1.2.cmml" xref="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1.2">𝜋</ci><ci id="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1.3.cmml" xref="S3.E8X.2.1.1.m1.6.6.1.1.1.1.1.3">𝜃</ci></apply><apply id="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2.cmml" xref="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2.1.cmml" xref="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2">subscript</csymbol><ci id="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2.2.cmml" xref="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2.2">𝜋</ci><ci id="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2.3.cmml" xref="S3.E8X.2.1.1.m1.7.7.2.2.2.2.2.3">ref</ci></apply><apply id="S3.E8X.2.1.1.m1.8.8.3.3.3.3.3.cmml" xref="S3.E8X.2.1.1.m1.8.8.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.8.8.3.3.3.3.3.1.cmml" xref="S3.E8X.2.1.1.m1.8.8.3.3.3.3.3">subscript</csymbol><ci id="S3.E8X.2.1.1.m1.8.8.3.3.3.3.3.2.cmml" xref="S3.E8X.2.1.1.m1.8.8.3.3.3.3.3.2">𝜆</ci><list id="S3.E8X.2.1.1.m1.2.2.2.3.cmml" xref="S3.E8X.2.1.1.m1.2.2.2.4"><ci id="S3.E8X.2.1.1.m1.1.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.1.1.1.1">𝑤</ci><ci id="S3.E8X.2.1.1.m1.2.2.2.2.cmml" xref="S3.E8X.2.1.1.m1.2.2.2.2">𝑙</ci></list></apply></list><ci id="S3.E8X.2.1.1.m1.8.8.3.3.5.cmml" xref="S3.E8X.2.1.1.m1.8.8.3.3.5">LPO</ci></apply></apply><apply id="S3.E8X.2.1.1.m1.8.8.5.cmml" xref="S3.E8X.2.1.1.m1.8.8.5"><minus id="S3.E8X.2.1.1.m1.8.8.5.1.cmml" xref="S3.E8X.2.1.1.m1.8.8.5"></minus><apply id="S3.E8X.2.1.1.m1.8.8.5.2.cmml" xref="S3.E8X.2.1.1.m1.8.8.5.2"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.8.8.5.2.1.cmml" xref="S3.E8X.2.1.1.m1.8.8.5.2">subscript</csymbol><ci id="S3.E8X.2.1.1.m1.8.8.5.2.2.cmml" xref="S3.E8X.2.1.1.m1.8.8.5.2.2">𝔼</ci><apply id="S3.E8X.2.1.1.m1.5.5.3.cmml" xref="S3.E8X.2.1.1.m1.5.5.3"><csymbol cd="latexml" id="S3.E8X.2.1.1.m1.5.5.3.4.cmml" xref="S3.E8X.2.1.1.m1.5.5.3.4">similar-to</csymbol><vector id="S3.E8X.2.1.1.m1.5.5.3.3.3.cmml" xref="S3.E8X.2.1.1.m1.5.5.3.3.2"><ci id="S3.E8X.2.1.1.m1.3.3.1.1.cmml" xref="S3.E8X.2.1.1.m1.3.3.1.1">𝑥</ci><apply id="S3.E8X.2.1.1.m1.4.4.2.2.1.1.cmml" xref="S3.E8X.2.1.1.m1.4.4.2.2.1.1"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.4.4.2.2.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.4.4.2.2.1.1">subscript</csymbol><ci id="S3.E8X.2.1.1.m1.4.4.2.2.1.1.2.cmml" xref="S3.E8X.2.1.1.m1.4.4.2.2.1.1.2">𝑦</ci><ci id="S3.E8X.2.1.1.m1.4.4.2.2.1.1.3.cmml" xref="S3.E8X.2.1.1.m1.4.4.2.2.1.1.3">𝑤</ci></apply><apply id="S3.E8X.2.1.1.m1.5.5.3.3.2.2.cmml" xref="S3.E8X.2.1.1.m1.5.5.3.3.2.2"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.5.5.3.3.2.2.1.cmml" xref="S3.E8X.2.1.1.m1.5.5.3.3.2.2">subscript</csymbol><ci id="S3.E8X.2.1.1.m1.5.5.3.3.2.2.2.cmml" xref="S3.E8X.2.1.1.m1.5.5.3.3.2.2.2">𝑦</ci><ci id="S3.E8X.2.1.1.m1.5.5.3.3.2.2.3.cmml" xref="S3.E8X.2.1.1.m1.5.5.3.3.2.2.3">𝑙</ci></apply></vector><ci id="S3.E8X.2.1.1.m1.5.5.3.5.cmml" xref="S3.E8X.2.1.1.m1.5.5.3.5">𝒟</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8X.2.1.1.m1.8c">\displaystyle\mathcal{L}(\pi_{\theta};\pi_{\mathrm{ref}},\lambda_{w,l})_{%
\mathrm{LPO}}=-\mathbb{E}_{(x,y_{w},y_{l})\sim\mathcal{D}}</annotation><annotation encoding="application/x-llamapun" id="S3.E8X.2.1.1.m1.8d">caligraphic_L ( italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ; italic_π start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT , italic_λ start_POSTSUBSCRIPT italic_w , italic_l end_POSTSUBSCRIPT ) start_POSTSUBSCRIPT roman_LPO end_POSTSUBSCRIPT = - blackboard_E start_POSTSUBSCRIPT ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) ∼ caligraphic_D end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(8)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E8Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\,\,\left[\lambda_{w,l}\log\mathrm{Sig}\left(\beta\frac{\pi_{%
\theta}(y_{w}|x)}{\pi_{\mathrm{ref}}(y_{w}|x)}-\beta\frac{\pi_{\theta}(y_{l}|x%
)}{\pi_{\mathrm{ref}}(y_{l}|x)}\right)\right]," class="ltx_Math" display="inline" id="S3.E8Xa.2.1.1.m1.7"><semantics id="S3.E8Xa.2.1.1.m1.7a"><mrow id="S3.E8Xa.2.1.1.m1.7.7.1"><mrow id="S3.E8Xa.2.1.1.m1.7.7.1.1.1" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.2.cmml"><mo id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.2" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.2.1.cmml">[</mo><mrow id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.cmml"><msub id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.3" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.3.cmml"><mi id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.3.2" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.3.2.cmml">λ</mi><mrow id="S3.E8Xa.2.1.1.m1.2.2.2.4" xref="S3.E8Xa.2.1.1.m1.2.2.2.3.cmml"><mi id="S3.E8Xa.2.1.1.m1.1.1.1.1" xref="S3.E8Xa.2.1.1.m1.1.1.1.1.cmml">w</mi><mo id="S3.E8Xa.2.1.1.m1.2.2.2.4.1" xref="S3.E8Xa.2.1.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.E8Xa.2.1.1.m1.2.2.2.2" xref="S3.E8Xa.2.1.1.m1.2.2.2.2.cmml">l</mi></mrow></msub><mo id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.2" lspace="0.167em" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4.cmml"><mi id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4.1" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4.1.cmml">log</mi><mo id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4a" lspace="0.167em" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4.cmml">⁡</mo><mi id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4.2" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4.2.cmml">Sig</mi></mrow><mo id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.2a" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.cmml"><mo id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.2" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.cmml"><mrow id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.2" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.2.2" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.2.2.cmml">β</mi><mo id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.2.1" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.2.1.cmml">⁢</mo><mstyle displaystyle="true" id="S3.E8Xa.2.1.1.m1.4.4" xref="S3.E8Xa.2.1.1.m1.4.4.cmml"><mfrac id="S3.E8Xa.2.1.1.m1.4.4a" xref="S3.E8Xa.2.1.1.m1.4.4.cmml"><mrow id="S3.E8Xa.2.1.1.m1.3.3.1" xref="S3.E8Xa.2.1.1.m1.3.3.1.cmml"><msub id="S3.E8Xa.2.1.1.m1.3.3.1.3" xref="S3.E8Xa.2.1.1.m1.3.3.1.3.cmml"><mi id="S3.E8Xa.2.1.1.m1.3.3.1.3.2" xref="S3.E8Xa.2.1.1.m1.3.3.1.3.2.cmml">π</mi><mi id="S3.E8Xa.2.1.1.m1.3.3.1.3.3" xref="S3.E8Xa.2.1.1.m1.3.3.1.3.3.cmml">θ</mi></msub><mo id="S3.E8Xa.2.1.1.m1.3.3.1.2" xref="S3.E8Xa.2.1.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S3.E8Xa.2.1.1.m1.3.3.1.1.1" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.cmml"><mo id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.2" stretchy="false" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.cmml"><msub id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2.cmml"><mi id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2.2" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2.2.cmml">y</mi><mi id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2.3" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.1" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.1.cmml">|</mo><mi id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.3" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.3" stretchy="false" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E8Xa.2.1.1.m1.4.4.2" xref="S3.E8Xa.2.1.1.m1.4.4.2.cmml"><msub id="S3.E8Xa.2.1.1.m1.4.4.2.3" xref="S3.E8Xa.2.1.1.m1.4.4.2.3.cmml"><mi id="S3.E8Xa.2.1.1.m1.4.4.2.3.2" xref="S3.E8Xa.2.1.1.m1.4.4.2.3.2.cmml">π</mi><mi id="S3.E8Xa.2.1.1.m1.4.4.2.3.3" xref="S3.E8Xa.2.1.1.m1.4.4.2.3.3.cmml">ref</mi></msub><mo id="S3.E8Xa.2.1.1.m1.4.4.2.2" xref="S3.E8Xa.2.1.1.m1.4.4.2.2.cmml">⁢</mo><mrow id="S3.E8Xa.2.1.1.m1.4.4.2.1.1" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.cmml"><mo id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.2" stretchy="false" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.cmml">(</mo><mrow id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.cmml"><msub id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2.cmml"><mi id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2.2" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2.2.cmml">y</mi><mi id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2.3" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.1" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.1.cmml">|</mo><mi id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.3" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.3" stretchy="false" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow><mo id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.1" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.3" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.3.2" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.3.2.cmml">β</mi><mo id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.3.1" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mstyle displaystyle="true" id="S3.E8Xa.2.1.1.m1.6.6" xref="S3.E8Xa.2.1.1.m1.6.6.cmml"><mfrac id="S3.E8Xa.2.1.1.m1.6.6a" xref="S3.E8Xa.2.1.1.m1.6.6.cmml"><mrow id="S3.E8Xa.2.1.1.m1.5.5.1" xref="S3.E8Xa.2.1.1.m1.5.5.1.cmml"><msub id="S3.E8Xa.2.1.1.m1.5.5.1.3" xref="S3.E8Xa.2.1.1.m1.5.5.1.3.cmml"><mi id="S3.E8Xa.2.1.1.m1.5.5.1.3.2" xref="S3.E8Xa.2.1.1.m1.5.5.1.3.2.cmml">π</mi><mi id="S3.E8Xa.2.1.1.m1.5.5.1.3.3" xref="S3.E8Xa.2.1.1.m1.5.5.1.3.3.cmml">θ</mi></msub><mo id="S3.E8Xa.2.1.1.m1.5.5.1.2" xref="S3.E8Xa.2.1.1.m1.5.5.1.2.cmml">⁢</mo><mrow id="S3.E8Xa.2.1.1.m1.5.5.1.1.1" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.cmml"><mo id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.2" stretchy="false" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.cmml"><msub id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2.cmml"><mi id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2.2" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2.2.cmml">y</mi><mi id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2.3" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.1" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.1.cmml">|</mo><mi id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.3" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.3" stretchy="false" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E8Xa.2.1.1.m1.6.6.2" xref="S3.E8Xa.2.1.1.m1.6.6.2.cmml"><msub id="S3.E8Xa.2.1.1.m1.6.6.2.3" xref="S3.E8Xa.2.1.1.m1.6.6.2.3.cmml"><mi id="S3.E8Xa.2.1.1.m1.6.6.2.3.2" xref="S3.E8Xa.2.1.1.m1.6.6.2.3.2.cmml">π</mi><mi id="S3.E8Xa.2.1.1.m1.6.6.2.3.3" xref="S3.E8Xa.2.1.1.m1.6.6.2.3.3.cmml">ref</mi></msub><mo id="S3.E8Xa.2.1.1.m1.6.6.2.2" xref="S3.E8Xa.2.1.1.m1.6.6.2.2.cmml">⁢</mo><mrow id="S3.E8Xa.2.1.1.m1.6.6.2.1.1" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.cmml"><mo id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.2" stretchy="false" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.cmml">(</mo><mrow id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.cmml"><msub id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2.cmml"><mi id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2.2" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2.2.cmml">y</mi><mi id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2.3" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.1" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.1.cmml">|</mo><mi id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.3" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.3" stretchy="false" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.3" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.3" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.2.1.cmml">]</mo></mrow><mo id="S3.E8Xa.2.1.1.m1.7.7.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8Xa.2.1.1.m1.7b"><apply id="S3.E8Xa.2.1.1.m1.7.7.1.1.2.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1"><csymbol cd="latexml" id="S3.E8Xa.2.1.1.m1.7.7.1.1.2.1.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.2">delimited-[]</csymbol><apply id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1"><times id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.2.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.2"></times><apply id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.3.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.3.1.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.3">subscript</csymbol><ci id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.3.2.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.3.2">𝜆</ci><list id="S3.E8Xa.2.1.1.m1.2.2.2.3.cmml" xref="S3.E8Xa.2.1.1.m1.2.2.2.4"><ci id="S3.E8Xa.2.1.1.m1.1.1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.1.1.1.1">𝑤</ci><ci id="S3.E8Xa.2.1.1.m1.2.2.2.2.cmml" xref="S3.E8Xa.2.1.1.m1.2.2.2.2">𝑙</ci></list></apply><apply id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4"><log id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4.1.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4.1"></log><ci id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4.2.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.4.2">Sig</ci></apply><apply id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1"><minus id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.1"></minus><apply id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.2.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.2"><times id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.2.1"></times><ci id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.2.2">𝛽</ci><apply id="S3.E8Xa.2.1.1.m1.4.4.cmml" xref="S3.E8Xa.2.1.1.m1.4.4"><divide id="S3.E8Xa.2.1.1.m1.4.4.3.cmml" xref="S3.E8Xa.2.1.1.m1.4.4"></divide><apply id="S3.E8Xa.2.1.1.m1.3.3.1.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1"><times id="S3.E8Xa.2.1.1.m1.3.3.1.2.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1.2"></times><apply id="S3.E8Xa.2.1.1.m1.3.3.1.3.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1.3"><csymbol cd="ambiguous" id="S3.E8Xa.2.1.1.m1.3.3.1.3.1.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1.3">subscript</csymbol><ci id="S3.E8Xa.2.1.1.m1.3.3.1.3.2.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1.3.2">𝜋</ci><ci id="S3.E8Xa.2.1.1.m1.3.3.1.3.3.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1.3.3">𝜃</ci></apply><apply id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2.1.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2.2.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2.2">𝑦</ci><ci id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.2.3">𝑤</ci></apply><ci id="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.3.cmml" xref="S3.E8Xa.2.1.1.m1.3.3.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S3.E8Xa.2.1.1.m1.4.4.2.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2"><times id="S3.E8Xa.2.1.1.m1.4.4.2.2.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2.2"></times><apply id="S3.E8Xa.2.1.1.m1.4.4.2.3.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2.3"><csymbol cd="ambiguous" id="S3.E8Xa.2.1.1.m1.4.4.2.3.1.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2.3">subscript</csymbol><ci id="S3.E8Xa.2.1.1.m1.4.4.2.3.2.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2.3.2">𝜋</ci><ci id="S3.E8Xa.2.1.1.m1.4.4.2.3.3.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2.3.3">ref</ci></apply><apply id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1"><csymbol cd="latexml" id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.1">conditional</csymbol><apply id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2.1.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2">subscript</csymbol><ci id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2.2.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2.2">𝑦</ci><ci id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2.3.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.2.3">𝑤</ci></apply><ci id="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.3.cmml" xref="S3.E8Xa.2.1.1.m1.4.4.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply><apply id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.3.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.3"><times id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E8Xa.2.1.1.m1.7.7.1.1.1.1.1.1.1.3.2">𝛽</ci><apply id="S3.E8Xa.2.1.1.m1.6.6.cmml" xref="S3.E8Xa.2.1.1.m1.6.6"><divide id="S3.E8Xa.2.1.1.m1.6.6.3.cmml" xref="S3.E8Xa.2.1.1.m1.6.6"></divide><apply id="S3.E8Xa.2.1.1.m1.5.5.1.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1"><times id="S3.E8Xa.2.1.1.m1.5.5.1.2.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1.2"></times><apply id="S3.E8Xa.2.1.1.m1.5.5.1.3.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1.3"><csymbol cd="ambiguous" id="S3.E8Xa.2.1.1.m1.5.5.1.3.1.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1.3">subscript</csymbol><ci id="S3.E8Xa.2.1.1.m1.5.5.1.3.2.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1.3.2">𝜋</ci><ci id="S3.E8Xa.2.1.1.m1.5.5.1.3.3.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1.3.3">𝜃</ci></apply><apply id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1"><csymbol cd="latexml" id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.1">conditional</csymbol><apply id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2.1.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2">subscript</csymbol><ci id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2.2.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2.2">𝑦</ci><ci id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2.3.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.2.3">𝑙</ci></apply><ci id="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.3.cmml" xref="S3.E8Xa.2.1.1.m1.5.5.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S3.E8Xa.2.1.1.m1.6.6.2.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2"><times id="S3.E8Xa.2.1.1.m1.6.6.2.2.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2.2"></times><apply id="S3.E8Xa.2.1.1.m1.6.6.2.3.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2.3"><csymbol cd="ambiguous" id="S3.E8Xa.2.1.1.m1.6.6.2.3.1.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2.3">subscript</csymbol><ci id="S3.E8Xa.2.1.1.m1.6.6.2.3.2.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2.3.2">𝜋</ci><ci id="S3.E8Xa.2.1.1.m1.6.6.2.3.3.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2.3.3">ref</ci></apply><apply id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1"><csymbol cd="latexml" id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.1">conditional</csymbol><apply id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2.1.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2">subscript</csymbol><ci id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2.2.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2.2">𝑦</ci><ci id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2.3.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.2.3">𝑙</ci></apply><ci id="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.3.cmml" xref="S3.E8Xa.2.1.1.m1.6.6.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8Xa.2.1.1.m1.7c">\displaystyle\,\,\left[\lambda_{w,l}\log\mathrm{Sig}\left(\beta\frac{\pi_{%
\theta}(y_{w}|x)}{\pi_{\mathrm{ref}}(y_{w}|x)}-\beta\frac{\pi_{\theta}(y_{l}|x%
)}{\pi_{\mathrm{ref}}(y_{l}|x)}\right)\right],</annotation><annotation encoding="application/x-llamapun" id="S3.E8Xa.2.1.1.m1.7d">[ italic_λ start_POSTSUBSCRIPT italic_w , italic_l end_POSTSUBSCRIPT roman_log roman_Sig ( italic_β divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG - italic_β divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG ) ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS3.p1.3">where <math alttext="\pi_{\theta}=\tilde{\mathcal{E}},\pi_{\mathrm{ref}}={\mathcal{E}},x=q\oplus P,%
y_{w},y_{l}=e_{i},e_{j}" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m1.2"><semantics id="S3.SS3.p1.2.m1.2a"><mrow id="S3.SS3.p1.2.m1.2.2.2" xref="S3.SS3.p1.2.m1.2.2.3.cmml"><mrow id="S3.SS3.p1.2.m1.1.1.1.1" xref="S3.SS3.p1.2.m1.1.1.1.1.cmml"><msub id="S3.SS3.p1.2.m1.1.1.1.1.2" xref="S3.SS3.p1.2.m1.1.1.1.1.2.cmml"><mi id="S3.SS3.p1.2.m1.1.1.1.1.2.2" xref="S3.SS3.p1.2.m1.1.1.1.1.2.2.cmml">π</mi><mi id="S3.SS3.p1.2.m1.1.1.1.1.2.3" xref="S3.SS3.p1.2.m1.1.1.1.1.2.3.cmml">θ</mi></msub><mo id="S3.SS3.p1.2.m1.1.1.1.1.1" xref="S3.SS3.p1.2.m1.1.1.1.1.1.cmml">=</mo><mover accent="true" id="S3.SS3.p1.2.m1.1.1.1.1.3" xref="S3.SS3.p1.2.m1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.2.m1.1.1.1.1.3.2" xref="S3.SS3.p1.2.m1.1.1.1.1.3.2.cmml">ℰ</mi><mo id="S3.SS3.p1.2.m1.1.1.1.1.3.1" xref="S3.SS3.p1.2.m1.1.1.1.1.3.1.cmml">~</mo></mover></mrow><mo id="S3.SS3.p1.2.m1.2.2.2.3" xref="S3.SS3.p1.2.m1.2.2.3a.cmml">,</mo><mrow id="S3.SS3.p1.2.m1.2.2.2.2.2" xref="S3.SS3.p1.2.m1.2.2.2.2.3.cmml"><mrow id="S3.SS3.p1.2.m1.2.2.2.2.1.1" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1.cmml"><msub id="S3.SS3.p1.2.m1.2.2.2.2.1.1.2" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1.2.cmml"><mi id="S3.SS3.p1.2.m1.2.2.2.2.1.1.2.2" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1.2.2.cmml">π</mi><mi id="S3.SS3.p1.2.m1.2.2.2.2.1.1.2.3" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1.2.3.cmml">ref</mi></msub><mo id="S3.SS3.p1.2.m1.2.2.2.2.1.1.1" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1.1.cmml">=</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.2.m1.2.2.2.2.1.1.3" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1.3.cmml">ℰ</mi></mrow><mo id="S3.SS3.p1.2.m1.2.2.2.2.2.3" xref="S3.SS3.p1.2.m1.2.2.2.2.3a.cmml">,</mo><mrow id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.3.cmml"><mrow id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.cmml"><mi id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.4" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.4.cmml">x</mi><mo id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.3" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.3.cmml">=</mo><mrow id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.3.cmml"><mrow id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.cmml"><mi id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.2" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.2.cmml">q</mi><mo id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.1" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.1.cmml">⊕</mo><mi id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.3" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.3.cmml">P</mi></mrow><mo id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.3" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.3.cmml">,</mo><msub id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2.cmml"><mi id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2.2" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2.2.cmml">y</mi><mi id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2.3" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2.3.cmml">w</mi></msub></mrow></mrow><mo id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.3" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.3a.cmml">,</mo><mrow id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.cmml"><msub id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4.cmml"><mi id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4.2" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4.2.cmml">y</mi><mi id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4.3" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4.3.cmml">l</mi></msub><mo id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.3" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.3.cmml">=</mo><mrow id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.3.cmml"><msub id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1.cmml"><mi id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1.2" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1.2.cmml">e</mi><mi id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1.3" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.3" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.3.cmml">,</mo><msub id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2.cmml"><mi id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2.2" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2.2.cmml">e</mi><mi id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2.3" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2.3.cmml">j</mi></msub></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m1.2b"><apply id="S3.SS3.p1.2.m1.2.2.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m1.2.2.3a.cmml" xref="S3.SS3.p1.2.m1.2.2.2.3">formulae-sequence</csymbol><apply id="S3.SS3.p1.2.m1.1.1.1.1.cmml" xref="S3.SS3.p1.2.m1.1.1.1.1"><eq id="S3.SS3.p1.2.m1.1.1.1.1.1.cmml" xref="S3.SS3.p1.2.m1.1.1.1.1.1"></eq><apply id="S3.SS3.p1.2.m1.1.1.1.1.2.cmml" xref="S3.SS3.p1.2.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m1.1.1.1.1.2.1.cmml" xref="S3.SS3.p1.2.m1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS3.p1.2.m1.1.1.1.1.2.2.cmml" xref="S3.SS3.p1.2.m1.1.1.1.1.2.2">𝜋</ci><ci id="S3.SS3.p1.2.m1.1.1.1.1.2.3.cmml" xref="S3.SS3.p1.2.m1.1.1.1.1.2.3">𝜃</ci></apply><apply id="S3.SS3.p1.2.m1.1.1.1.1.3.cmml" xref="S3.SS3.p1.2.m1.1.1.1.1.3"><ci id="S3.SS3.p1.2.m1.1.1.1.1.3.1.cmml" xref="S3.SS3.p1.2.m1.1.1.1.1.3.1">~</ci><ci id="S3.SS3.p1.2.m1.1.1.1.1.3.2.cmml" xref="S3.SS3.p1.2.m1.1.1.1.1.3.2">ℰ</ci></apply></apply><apply id="S3.SS3.p1.2.m1.2.2.2.2.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m1.2.2.2.2.3a.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.SS3.p1.2.m1.2.2.2.2.1.1.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1"><eq id="S3.SS3.p1.2.m1.2.2.2.2.1.1.1.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1.1"></eq><apply id="S3.SS3.p1.2.m1.2.2.2.2.1.1.2.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m1.2.2.2.2.1.1.2.1.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1.2">subscript</csymbol><ci id="S3.SS3.p1.2.m1.2.2.2.2.1.1.2.2.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1.2.2">𝜋</ci><ci id="S3.SS3.p1.2.m1.2.2.2.2.1.1.2.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1.2.3">ref</ci></apply><ci id="S3.SS3.p1.2.m1.2.2.2.2.1.1.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.1.1.3">ℰ</ci></apply><apply id="S3.SS3.p1.2.m1.2.2.2.2.2.2.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m1.2.2.2.2.2.2.3a.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1"><eq id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.3"></eq><ci id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.4.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.4">𝑥</ci><list id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2"><apply id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.1">direct-sum</csymbol><ci id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.2.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.2">𝑞</ci><ci id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.1.1.1.3">𝑃</ci></apply><apply id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2.1.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2">subscript</csymbol><ci id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2.2.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2.2">𝑦</ci><ci id="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.1.1.2.2.2.3">𝑤</ci></apply></list></apply><apply id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2"><eq id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.3"></eq><apply id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4.1.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4">subscript</csymbol><ci id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4.2.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4.2">𝑦</ci><ci id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.4.3">𝑙</ci></apply><list id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2"><apply id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1.1.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1">subscript</csymbol><ci id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1.2.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1.2">𝑒</ci><ci id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.1.1.1.3">𝑖</ci></apply><apply id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2.2">𝑒</ci><ci id="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.SS3.p1.2.m1.2.2.2.2.2.2.2.2.2.2.2.3">𝑗</ci></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m1.2c">\pi_{\theta}=\tilde{\mathcal{E}},\pi_{\mathrm{ref}}={\mathcal{E}},x=q\oplus P,%
y_{w},y_{l}=e_{i},e_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.2.m1.2d">italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT = over~ start_ARG caligraphic_E end_ARG , italic_π start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT = caligraphic_E , italic_x = italic_q ⊕ italic_P , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT = italic_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>.
We implement the lambda weight <math alttext="\lambda_{w,l}" class="ltx_Math" display="inline" id="S3.SS3.p1.3.m2.2"><semantics id="S3.SS3.p1.3.m2.2a"><msub id="S3.SS3.p1.3.m2.2.3" xref="S3.SS3.p1.3.m2.2.3.cmml"><mi id="S3.SS3.p1.3.m2.2.3.2" xref="S3.SS3.p1.3.m2.2.3.2.cmml">λ</mi><mrow id="S3.SS3.p1.3.m2.2.2.2.4" xref="S3.SS3.p1.3.m2.2.2.2.3.cmml"><mi id="S3.SS3.p1.3.m2.1.1.1.1" xref="S3.SS3.p1.3.m2.1.1.1.1.cmml">w</mi><mo id="S3.SS3.p1.3.m2.2.2.2.4.1" xref="S3.SS3.p1.3.m2.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p1.3.m2.2.2.2.2" xref="S3.SS3.p1.3.m2.2.2.2.2.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m2.2b"><apply id="S3.SS3.p1.3.m2.2.3.cmml" xref="S3.SS3.p1.3.m2.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m2.2.3.1.cmml" xref="S3.SS3.p1.3.m2.2.3">subscript</csymbol><ci id="S3.SS3.p1.3.m2.2.3.2.cmml" xref="S3.SS3.p1.3.m2.2.3.2">𝜆</ci><list id="S3.SS3.p1.3.m2.2.2.2.3.cmml" xref="S3.SS3.p1.3.m2.2.2.2.4"><ci id="S3.SS3.p1.3.m2.1.1.1.1.cmml" xref="S3.SS3.p1.3.m2.1.1.1.1">𝑤</ci><ci id="S3.SS3.p1.3.m2.2.2.2.2.cmml" xref="S3.SS3.p1.3.m2.2.2.2.2">𝑙</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m2.2c">\lambda_{w,l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.3.m2.2d">italic_λ start_POSTSUBSCRIPT italic_w , italic_l end_POSTSUBSCRIPT</annotation></semantics></math> for Mean Reciprocal Rank (MRR), <span class="ltx_text ltx_font_italic" id="S3.SS3.p1.3.1">i.e.,</span> measuring the gain in Reciprocal Rank from swapping the position of two candidates, which can be formulated as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\lambda_{w,l}=s_{w}\Delta\mathrm{MRR}_{w,l}+s_{l}\Delta\mathrm{MRR}_{l,w}," class="ltx_Math" display="block" id="S3.E9.m1.7"><semantics id="S3.E9.m1.7a"><mrow id="S3.E9.m1.7.7.1" xref="S3.E9.m1.7.7.1.1.cmml"><mrow id="S3.E9.m1.7.7.1.1" xref="S3.E9.m1.7.7.1.1.cmml"><msub id="S3.E9.m1.7.7.1.1.2" xref="S3.E9.m1.7.7.1.1.2.cmml"><mi id="S3.E9.m1.7.7.1.1.2.2" xref="S3.E9.m1.7.7.1.1.2.2.cmml">λ</mi><mrow id="S3.E9.m1.2.2.2.4" xref="S3.E9.m1.2.2.2.3.cmml"><mi id="S3.E9.m1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.cmml">w</mi><mo id="S3.E9.m1.2.2.2.4.1" xref="S3.E9.m1.2.2.2.3.cmml">,</mo><mi id="S3.E9.m1.2.2.2.2" xref="S3.E9.m1.2.2.2.2.cmml">l</mi></mrow></msub><mo id="S3.E9.m1.7.7.1.1.1" xref="S3.E9.m1.7.7.1.1.1.cmml">=</mo><mrow id="S3.E9.m1.7.7.1.1.3" xref="S3.E9.m1.7.7.1.1.3.cmml"><mrow id="S3.E9.m1.7.7.1.1.3.2" xref="S3.E9.m1.7.7.1.1.3.2.cmml"><msub id="S3.E9.m1.7.7.1.1.3.2.2" xref="S3.E9.m1.7.7.1.1.3.2.2.cmml"><mi id="S3.E9.m1.7.7.1.1.3.2.2.2" xref="S3.E9.m1.7.7.1.1.3.2.2.2.cmml">s</mi><mi id="S3.E9.m1.7.7.1.1.3.2.2.3" xref="S3.E9.m1.7.7.1.1.3.2.2.3.cmml">w</mi></msub><mo id="S3.E9.m1.7.7.1.1.3.2.1" xref="S3.E9.m1.7.7.1.1.3.2.1.cmml">⁢</mo><mi id="S3.E9.m1.7.7.1.1.3.2.3" mathvariant="normal" xref="S3.E9.m1.7.7.1.1.3.2.3.cmml">Δ</mi><mo id="S3.E9.m1.7.7.1.1.3.2.1a" xref="S3.E9.m1.7.7.1.1.3.2.1.cmml">⁢</mo><msub id="S3.E9.m1.7.7.1.1.3.2.4" xref="S3.E9.m1.7.7.1.1.3.2.4.cmml"><mi id="S3.E9.m1.7.7.1.1.3.2.4.2" xref="S3.E9.m1.7.7.1.1.3.2.4.2.cmml">MRR</mi><mrow id="S3.E9.m1.4.4.2.4" xref="S3.E9.m1.4.4.2.3.cmml"><mi id="S3.E9.m1.3.3.1.1" xref="S3.E9.m1.3.3.1.1.cmml">w</mi><mo id="S3.E9.m1.4.4.2.4.1" xref="S3.E9.m1.4.4.2.3.cmml">,</mo><mi id="S3.E9.m1.4.4.2.2" xref="S3.E9.m1.4.4.2.2.cmml">l</mi></mrow></msub></mrow><mo id="S3.E9.m1.7.7.1.1.3.1" xref="S3.E9.m1.7.7.1.1.3.1.cmml">+</mo><mrow id="S3.E9.m1.7.7.1.1.3.3" xref="S3.E9.m1.7.7.1.1.3.3.cmml"><msub id="S3.E9.m1.7.7.1.1.3.3.2" xref="S3.E9.m1.7.7.1.1.3.3.2.cmml"><mi id="S3.E9.m1.7.7.1.1.3.3.2.2" xref="S3.E9.m1.7.7.1.1.3.3.2.2.cmml">s</mi><mi id="S3.E9.m1.7.7.1.1.3.3.2.3" xref="S3.E9.m1.7.7.1.1.3.3.2.3.cmml">l</mi></msub><mo id="S3.E9.m1.7.7.1.1.3.3.1" xref="S3.E9.m1.7.7.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E9.m1.7.7.1.1.3.3.3" mathvariant="normal" xref="S3.E9.m1.7.7.1.1.3.3.3.cmml">Δ</mi><mo id="S3.E9.m1.7.7.1.1.3.3.1a" xref="S3.E9.m1.7.7.1.1.3.3.1.cmml">⁢</mo><msub id="S3.E9.m1.7.7.1.1.3.3.4" xref="S3.E9.m1.7.7.1.1.3.3.4.cmml"><mi id="S3.E9.m1.7.7.1.1.3.3.4.2" xref="S3.E9.m1.7.7.1.1.3.3.4.2.cmml">MRR</mi><mrow id="S3.E9.m1.6.6.2.4" xref="S3.E9.m1.6.6.2.3.cmml"><mi id="S3.E9.m1.5.5.1.1" xref="S3.E9.m1.5.5.1.1.cmml">l</mi><mo id="S3.E9.m1.6.6.2.4.1" xref="S3.E9.m1.6.6.2.3.cmml">,</mo><mi id="S3.E9.m1.6.6.2.2" xref="S3.E9.m1.6.6.2.2.cmml">w</mi></mrow></msub></mrow></mrow></mrow><mo id="S3.E9.m1.7.7.1.2" xref="S3.E9.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E9.m1.7b"><apply id="S3.E9.m1.7.7.1.1.cmml" xref="S3.E9.m1.7.7.1"><eq id="S3.E9.m1.7.7.1.1.1.cmml" xref="S3.E9.m1.7.7.1.1.1"></eq><apply id="S3.E9.m1.7.7.1.1.2.cmml" xref="S3.E9.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.1.1.2.1.cmml" xref="S3.E9.m1.7.7.1.1.2">subscript</csymbol><ci id="S3.E9.m1.7.7.1.1.2.2.cmml" xref="S3.E9.m1.7.7.1.1.2.2">𝜆</ci><list id="S3.E9.m1.2.2.2.3.cmml" xref="S3.E9.m1.2.2.2.4"><ci id="S3.E9.m1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1">𝑤</ci><ci id="S3.E9.m1.2.2.2.2.cmml" xref="S3.E9.m1.2.2.2.2">𝑙</ci></list></apply><apply id="S3.E9.m1.7.7.1.1.3.cmml" xref="S3.E9.m1.7.7.1.1.3"><plus id="S3.E9.m1.7.7.1.1.3.1.cmml" xref="S3.E9.m1.7.7.1.1.3.1"></plus><apply id="S3.E9.m1.7.7.1.1.3.2.cmml" xref="S3.E9.m1.7.7.1.1.3.2"><times id="S3.E9.m1.7.7.1.1.3.2.1.cmml" xref="S3.E9.m1.7.7.1.1.3.2.1"></times><apply id="S3.E9.m1.7.7.1.1.3.2.2.cmml" xref="S3.E9.m1.7.7.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.1.1.3.2.2.1.cmml" xref="S3.E9.m1.7.7.1.1.3.2.2">subscript</csymbol><ci id="S3.E9.m1.7.7.1.1.3.2.2.2.cmml" xref="S3.E9.m1.7.7.1.1.3.2.2.2">𝑠</ci><ci id="S3.E9.m1.7.7.1.1.3.2.2.3.cmml" xref="S3.E9.m1.7.7.1.1.3.2.2.3">𝑤</ci></apply><ci id="S3.E9.m1.7.7.1.1.3.2.3.cmml" xref="S3.E9.m1.7.7.1.1.3.2.3">Δ</ci><apply id="S3.E9.m1.7.7.1.1.3.2.4.cmml" xref="S3.E9.m1.7.7.1.1.3.2.4"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.1.1.3.2.4.1.cmml" xref="S3.E9.m1.7.7.1.1.3.2.4">subscript</csymbol><ci id="S3.E9.m1.7.7.1.1.3.2.4.2.cmml" xref="S3.E9.m1.7.7.1.1.3.2.4.2">MRR</ci><list id="S3.E9.m1.4.4.2.3.cmml" xref="S3.E9.m1.4.4.2.4"><ci id="S3.E9.m1.3.3.1.1.cmml" xref="S3.E9.m1.3.3.1.1">𝑤</ci><ci id="S3.E9.m1.4.4.2.2.cmml" xref="S3.E9.m1.4.4.2.2">𝑙</ci></list></apply></apply><apply id="S3.E9.m1.7.7.1.1.3.3.cmml" xref="S3.E9.m1.7.7.1.1.3.3"><times id="S3.E9.m1.7.7.1.1.3.3.1.cmml" xref="S3.E9.m1.7.7.1.1.3.3.1"></times><apply id="S3.E9.m1.7.7.1.1.3.3.2.cmml" xref="S3.E9.m1.7.7.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.1.1.3.3.2.1.cmml" xref="S3.E9.m1.7.7.1.1.3.3.2">subscript</csymbol><ci id="S3.E9.m1.7.7.1.1.3.3.2.2.cmml" xref="S3.E9.m1.7.7.1.1.3.3.2.2">𝑠</ci><ci id="S3.E9.m1.7.7.1.1.3.3.2.3.cmml" xref="S3.E9.m1.7.7.1.1.3.3.2.3">𝑙</ci></apply><ci id="S3.E9.m1.7.7.1.1.3.3.3.cmml" xref="S3.E9.m1.7.7.1.1.3.3.3">Δ</ci><apply id="S3.E9.m1.7.7.1.1.3.3.4.cmml" xref="S3.E9.m1.7.7.1.1.3.3.4"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.1.1.3.3.4.1.cmml" xref="S3.E9.m1.7.7.1.1.3.3.4">subscript</csymbol><ci id="S3.E9.m1.7.7.1.1.3.3.4.2.cmml" xref="S3.E9.m1.7.7.1.1.3.3.4.2">MRR</ci><list id="S3.E9.m1.6.6.2.3.cmml" xref="S3.E9.m1.6.6.2.4"><ci id="S3.E9.m1.5.5.1.1.cmml" xref="S3.E9.m1.5.5.1.1">𝑙</ci><ci id="S3.E9.m1.6.6.2.2.cmml" xref="S3.E9.m1.6.6.2.2">𝑤</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9.m1.7c">\lambda_{w,l}=s_{w}\Delta\mathrm{MRR}_{w,l}+s_{l}\Delta\mathrm{MRR}_{l,w},</annotation><annotation encoding="application/x-llamapun" id="S3.E9.m1.7d">italic_λ start_POSTSUBSCRIPT italic_w , italic_l end_POSTSUBSCRIPT = italic_s start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT roman_Δ roman_MRR start_POSTSUBSCRIPT italic_w , italic_l end_POSTSUBSCRIPT + italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT roman_Δ roman_MRR start_POSTSUBSCRIPT italic_l , italic_w end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p1.7">where <math alttext="\Delta\mathrm{MRR}_{w,l}=\frac{1}{r_{w}}-\frac{1}{r_{l}}" class="ltx_Math" display="inline" id="S3.SS3.p1.4.m1.2"><semantics id="S3.SS3.p1.4.m1.2a"><mrow id="S3.SS3.p1.4.m1.2.3" xref="S3.SS3.p1.4.m1.2.3.cmml"><mrow id="S3.SS3.p1.4.m1.2.3.2" xref="S3.SS3.p1.4.m1.2.3.2.cmml"><mi id="S3.SS3.p1.4.m1.2.3.2.2" mathvariant="normal" xref="S3.SS3.p1.4.m1.2.3.2.2.cmml">Δ</mi><mo id="S3.SS3.p1.4.m1.2.3.2.1" xref="S3.SS3.p1.4.m1.2.3.2.1.cmml">⁢</mo><msub id="S3.SS3.p1.4.m1.2.3.2.3" xref="S3.SS3.p1.4.m1.2.3.2.3.cmml"><mi id="S3.SS3.p1.4.m1.2.3.2.3.2" xref="S3.SS3.p1.4.m1.2.3.2.3.2.cmml">MRR</mi><mrow id="S3.SS3.p1.4.m1.2.2.2.4" xref="S3.SS3.p1.4.m1.2.2.2.3.cmml"><mi id="S3.SS3.p1.4.m1.1.1.1.1" xref="S3.SS3.p1.4.m1.1.1.1.1.cmml">w</mi><mo id="S3.SS3.p1.4.m1.2.2.2.4.1" xref="S3.SS3.p1.4.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p1.4.m1.2.2.2.2" xref="S3.SS3.p1.4.m1.2.2.2.2.cmml">l</mi></mrow></msub></mrow><mo id="S3.SS3.p1.4.m1.2.3.1" xref="S3.SS3.p1.4.m1.2.3.1.cmml">=</mo><mrow id="S3.SS3.p1.4.m1.2.3.3" xref="S3.SS3.p1.4.m1.2.3.3.cmml"><mfrac id="S3.SS3.p1.4.m1.2.3.3.2" xref="S3.SS3.p1.4.m1.2.3.3.2.cmml"><mn id="S3.SS3.p1.4.m1.2.3.3.2.2" xref="S3.SS3.p1.4.m1.2.3.3.2.2.cmml">1</mn><msub id="S3.SS3.p1.4.m1.2.3.3.2.3" xref="S3.SS3.p1.4.m1.2.3.3.2.3.cmml"><mi id="S3.SS3.p1.4.m1.2.3.3.2.3.2" xref="S3.SS3.p1.4.m1.2.3.3.2.3.2.cmml">r</mi><mi id="S3.SS3.p1.4.m1.2.3.3.2.3.3" xref="S3.SS3.p1.4.m1.2.3.3.2.3.3.cmml">w</mi></msub></mfrac><mo id="S3.SS3.p1.4.m1.2.3.3.1" xref="S3.SS3.p1.4.m1.2.3.3.1.cmml">−</mo><mfrac id="S3.SS3.p1.4.m1.2.3.3.3" xref="S3.SS3.p1.4.m1.2.3.3.3.cmml"><mn id="S3.SS3.p1.4.m1.2.3.3.3.2" xref="S3.SS3.p1.4.m1.2.3.3.3.2.cmml">1</mn><msub id="S3.SS3.p1.4.m1.2.3.3.3.3" xref="S3.SS3.p1.4.m1.2.3.3.3.3.cmml"><mi id="S3.SS3.p1.4.m1.2.3.3.3.3.2" xref="S3.SS3.p1.4.m1.2.3.3.3.3.2.cmml">r</mi><mi id="S3.SS3.p1.4.m1.2.3.3.3.3.3" xref="S3.SS3.p1.4.m1.2.3.3.3.3.3.cmml">l</mi></msub></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m1.2b"><apply id="S3.SS3.p1.4.m1.2.3.cmml" xref="S3.SS3.p1.4.m1.2.3"><eq id="S3.SS3.p1.4.m1.2.3.1.cmml" xref="S3.SS3.p1.4.m1.2.3.1"></eq><apply id="S3.SS3.p1.4.m1.2.3.2.cmml" xref="S3.SS3.p1.4.m1.2.3.2"><times id="S3.SS3.p1.4.m1.2.3.2.1.cmml" xref="S3.SS3.p1.4.m1.2.3.2.1"></times><ci id="S3.SS3.p1.4.m1.2.3.2.2.cmml" xref="S3.SS3.p1.4.m1.2.3.2.2">Δ</ci><apply id="S3.SS3.p1.4.m1.2.3.2.3.cmml" xref="S3.SS3.p1.4.m1.2.3.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m1.2.3.2.3.1.cmml" xref="S3.SS3.p1.4.m1.2.3.2.3">subscript</csymbol><ci id="S3.SS3.p1.4.m1.2.3.2.3.2.cmml" xref="S3.SS3.p1.4.m1.2.3.2.3.2">MRR</ci><list id="S3.SS3.p1.4.m1.2.2.2.3.cmml" xref="S3.SS3.p1.4.m1.2.2.2.4"><ci id="S3.SS3.p1.4.m1.1.1.1.1.cmml" xref="S3.SS3.p1.4.m1.1.1.1.1">𝑤</ci><ci id="S3.SS3.p1.4.m1.2.2.2.2.cmml" xref="S3.SS3.p1.4.m1.2.2.2.2">𝑙</ci></list></apply></apply><apply id="S3.SS3.p1.4.m1.2.3.3.cmml" xref="S3.SS3.p1.4.m1.2.3.3"><minus id="S3.SS3.p1.4.m1.2.3.3.1.cmml" xref="S3.SS3.p1.4.m1.2.3.3.1"></minus><apply id="S3.SS3.p1.4.m1.2.3.3.2.cmml" xref="S3.SS3.p1.4.m1.2.3.3.2"><divide id="S3.SS3.p1.4.m1.2.3.3.2.1.cmml" xref="S3.SS3.p1.4.m1.2.3.3.2"></divide><cn id="S3.SS3.p1.4.m1.2.3.3.2.2.cmml" type="integer" xref="S3.SS3.p1.4.m1.2.3.3.2.2">1</cn><apply id="S3.SS3.p1.4.m1.2.3.3.2.3.cmml" xref="S3.SS3.p1.4.m1.2.3.3.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m1.2.3.3.2.3.1.cmml" xref="S3.SS3.p1.4.m1.2.3.3.2.3">subscript</csymbol><ci id="S3.SS3.p1.4.m1.2.3.3.2.3.2.cmml" xref="S3.SS3.p1.4.m1.2.3.3.2.3.2">𝑟</ci><ci id="S3.SS3.p1.4.m1.2.3.3.2.3.3.cmml" xref="S3.SS3.p1.4.m1.2.3.3.2.3.3">𝑤</ci></apply></apply><apply id="S3.SS3.p1.4.m1.2.3.3.3.cmml" xref="S3.SS3.p1.4.m1.2.3.3.3"><divide id="S3.SS3.p1.4.m1.2.3.3.3.1.cmml" xref="S3.SS3.p1.4.m1.2.3.3.3"></divide><cn id="S3.SS3.p1.4.m1.2.3.3.3.2.cmml" type="integer" xref="S3.SS3.p1.4.m1.2.3.3.3.2">1</cn><apply id="S3.SS3.p1.4.m1.2.3.3.3.3.cmml" xref="S3.SS3.p1.4.m1.2.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m1.2.3.3.3.3.1.cmml" xref="S3.SS3.p1.4.m1.2.3.3.3.3">subscript</csymbol><ci id="S3.SS3.p1.4.m1.2.3.3.3.3.2.cmml" xref="S3.SS3.p1.4.m1.2.3.3.3.3.2">𝑟</ci><ci id="S3.SS3.p1.4.m1.2.3.3.3.3.3.cmml" xref="S3.SS3.p1.4.m1.2.3.3.3.3.3">𝑙</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m1.2c">\Delta\mathrm{MRR}_{w,l}=\frac{1}{r_{w}}-\frac{1}{r_{l}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.4.m1.2d">roman_Δ roman_MRR start_POSTSUBSCRIPT italic_w , italic_l end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG italic_r start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT end_ARG - divide start_ARG 1 end_ARG start_ARG italic_r start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_ARG</annotation></semantics></math>, <math alttext="r_{w}" class="ltx_Math" display="inline" id="S3.SS3.p1.5.m2.1"><semantics id="S3.SS3.p1.5.m2.1a"><msub id="S3.SS3.p1.5.m2.1.1" xref="S3.SS3.p1.5.m2.1.1.cmml"><mi id="S3.SS3.p1.5.m2.1.1.2" xref="S3.SS3.p1.5.m2.1.1.2.cmml">r</mi><mi id="S3.SS3.p1.5.m2.1.1.3" xref="S3.SS3.p1.5.m2.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.5.m2.1b"><apply id="S3.SS3.p1.5.m2.1.1.cmml" xref="S3.SS3.p1.5.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.5.m2.1.1.1.cmml" xref="S3.SS3.p1.5.m2.1.1">subscript</csymbol><ci id="S3.SS3.p1.5.m2.1.1.2.cmml" xref="S3.SS3.p1.5.m2.1.1.2">𝑟</ci><ci id="S3.SS3.p1.5.m2.1.1.3.cmml" xref="S3.SS3.p1.5.m2.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.5.m2.1c">r_{w}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.5.m2.1d">italic_r start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> is the rank position of <math alttext="y_{w}" class="ltx_Math" display="inline" id="S3.SS3.p1.6.m3.1"><semantics id="S3.SS3.p1.6.m3.1a"><msub id="S3.SS3.p1.6.m3.1.1" xref="S3.SS3.p1.6.m3.1.1.cmml"><mi id="S3.SS3.p1.6.m3.1.1.2" xref="S3.SS3.p1.6.m3.1.1.2.cmml">y</mi><mi id="S3.SS3.p1.6.m3.1.1.3" xref="S3.SS3.p1.6.m3.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.6.m3.1b"><apply id="S3.SS3.p1.6.m3.1.1.cmml" xref="S3.SS3.p1.6.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.6.m3.1.1.1.cmml" xref="S3.SS3.p1.6.m3.1.1">subscript</csymbol><ci id="S3.SS3.p1.6.m3.1.1.2.cmml" xref="S3.SS3.p1.6.m3.1.1.2">𝑦</ci><ci id="S3.SS3.p1.6.m3.1.1.3.cmml" xref="S3.SS3.p1.6.m3.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.6.m3.1c">y_{w}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.6.m3.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> in the ranking permutation induced by the smoothing CoV-weighted score <math alttext="s" class="ltx_Math" display="inline" id="S3.SS3.p1.7.m4.1"><semantics id="S3.SS3.p1.7.m4.1a"><mi id="S3.SS3.p1.7.m4.1.1" xref="S3.SS3.p1.7.m4.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.7.m4.1b"><ci id="S3.SS3.p1.7.m4.1.1.cmml" xref="S3.SS3.p1.7.m4.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.7.m4.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.7.m4.1d">italic_s</annotation></semantics></math>.
Thus, by introducing the lambda weight, LPO becomes a listwise-aware method. LPO is designed to work with any ranking metric, as long as the lambda weight can be defined, <span class="ltx_text ltx_font_italic" id="S3.SS3.p1.7.1">e.g.,</span> NDCG <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib29" title="">2024</a>)</cite>.
Here, we implement LPO to optimize a well-founded ranking metric MRR because it is simple  yet  effective.</p>
</div>
<figure class="ltx_table" id="S3.T1">
<table class="ltx_tabular ltx_align_middle" id="S3.T1.2">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T1.2.3.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T1.2.3.1.1" rowspan="2" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.3.1.1.1">Datasets</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T1.2.3.1.2" rowspan="2" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.3.1.2.1">Generators</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T1.2.3.1.3" rowspan="2" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.3.1.3.1">Metrics</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S3.T1.2.3.1.4" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.3.1.4.1">WE</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="2" id="S3.T1.2.3.1.5" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.3.1.5.1">CGE</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="4" id="S3.T1.2.3.1.6" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.3.1.6.1">FGE</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.4.2">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S3.T1.2.4.2.1" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.4.2.1.1">Zero</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.4.2.2" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.4.2.2.1">Full</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S3.T1.2.4.2.3" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.4.2.3.1">SeleCtx</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.4.2.4" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.4.2.4.1">LLM-Embedder</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.4.2.5" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.4.2.5.1">Bge-Reranker</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.4.2.6" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_smallcaps" id="S3.T1.2.4.2.6.1">FilCo</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.4.2.7" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.4.2.7.1">SEER</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.5.3">
<td class="ltx_td ltx_border_t" id="S3.T1.2.5.3.1" style="padding:2.5pt 3.2pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.5.3.2" rowspan="2" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.5.3.2.1">Flan-T5</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.5.3.3" style="padding:2.5pt 3.2pt;">EM</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S3.T1.2.5.3.4" style="padding:2.5pt 3.2pt;">0.0934</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.5.3.5" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.2.5.3.5.1">0.4137</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S3.T1.2.5.3.6" style="padding:2.5pt 3.2pt;">0.2853</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.5.3.7" style="padding:2.5pt 3.2pt;">0.3953</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.5.3.8" style="padding:2.5pt 3.2pt;">0.4089</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.5.3.9" style="padding:2.5pt 3.2pt;">0.3809</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.5.3.10" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.5.3.10.1">0.4322</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.6.4">
<td class="ltx_td" id="S3.T1.2.6.4.1" style="padding:2.5pt 3.2pt;"></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.6.4.2" style="padding:2.5pt 3.2pt;">Tok</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.6.4.3" style="padding:2.5pt 3.2pt;">0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.6.4.4" style="padding:2.5pt 3.2pt;">732</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.6.4.5" style="padding:2.5pt 3.2pt;">290</td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.6.4.6" style="padding:2.5pt 3.2pt;">147</td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.6.4.7" style="padding:2.5pt 3.2pt;">148</td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.6.4.8" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.6.4.8.1">62</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.6.4.9" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.2.6.4.9.1">89</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.7.5">
<td class="ltx_td" id="S3.T1.2.7.5.1" style="padding:2.5pt 3.2pt;"></td>
<td class="ltx_td" id="S3.T1.2.7.5.2" style="padding:2.5pt 3.2pt;"></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.7.5.3" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.7.5.3.1" style="background-color:#F0F0F0;">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.7.5.4" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.7.5.4.1" style="background-color:#F0F0F0;">0.2695</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.7.5.5" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.2.7.5.5.1" style="background-color:#F0F0F0;">0.4382</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.7.5.6" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.7.5.6.1" style="background-color:#F0F0F0;">0.3850</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.7.5.7" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.7.5.7.1" style="background-color:#F0F0F0;">0.4208</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.7.5.8" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.7.5.8.1" style="background-color:#F0F0F0;">0.4202</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.7.5.9" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.7.5.9.1" style="background-color:#F0F0F0;">0.4061</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.7.5.10" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.7.5.10.1" style="background-color:#F0F0F0;">0.4549</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.8.6" style="background-color:#F0F0F0;">
<td class="ltx_td ltx_align_center" id="S3.T1.2.8.6.1" style="background-color:#FFFFFF;padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.8.6.1.1" style="background-color:#FFFFFF;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.8.6.1.1.1">NQ</span></span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.8.6.2" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.8.6.2.1" style="background-color:#F0F0F0;">Llama2</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.8.6.3" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.8.6.3.1" style="background-color:#F0F0F0;">Tok</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.8.6.4" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.8.6.4.1" style="background-color:#F0F0F0;">0</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.8.6.5" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.8.6.5.1" style="background-color:#F0F0F0;">804</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.8.6.6" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.8.6.6.1" style="background-color:#F0F0F0;">319</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.8.6.7" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.8.6.7.1" style="background-color:#F0F0F0;">160</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.8.6.8" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.8.6.8.1" style="background-color:#F0F0F0;">162</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.8.6.9" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.8.6.9.1" style="background-color:#F0F0F0;">67</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.8.6.10" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.2.8.6.10.1" style="background-color:#F0F0F0;">95</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.9.7">
<td class="ltx_td ltx_border_t" id="S3.T1.2.9.7.1" style="padding:2.5pt 3.2pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.9.7.2" rowspan="2" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.9.7.2.1">Flan-T5</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.9.7.3" style="padding:2.5pt 3.2pt;">EM</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S3.T1.2.9.7.4" style="padding:2.5pt 3.2pt;">0.2621</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.9.7.5" style="padding:2.5pt 3.2pt;">0.6320</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S3.T1.2.9.7.6" style="padding:2.5pt 3.2pt;">0.5022</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.9.7.7" style="padding:2.5pt 3.2pt;">0.5689</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.9.7.8" style="padding:2.5pt 3.2pt;">0.6227</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.9.7.9" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.2.9.7.9.1">0.6431</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.2.9.7.10" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.9.7.10.1">0.6503</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.10.8">
<td class="ltx_td" id="S3.T1.2.10.8.1" style="padding:2.5pt 3.2pt;"></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.10.8.2" style="padding:2.5pt 3.2pt;">Tok</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.10.8.3" style="padding:2.5pt 3.2pt;">0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.10.8.4" style="padding:2.5pt 3.2pt;">760</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.10.8.5" style="padding:2.5pt 3.2pt;">306</td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.10.8.6" style="padding:2.5pt 3.2pt;">152</td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.10.8.7" style="padding:2.5pt 3.2pt;">153</td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.10.8.8" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.2.10.8.8.1">130</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.10.8.9" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.10.8.9.1">121</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.11.9">
<td class="ltx_td" id="S3.T1.2.11.9.1" style="padding:2.5pt 3.2pt;"></td>
<td class="ltx_td" id="S3.T1.2.11.9.2" style="padding:2.5pt 3.2pt;"></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.11.9.3" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.11.9.3.1" style="background-color:#F0F0F0;">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.11.9.4" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.11.9.4.1" style="background-color:#F0F0F0;">0.4898</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.11.9.5" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.11.9.5.1" style="background-color:#F0F0F0;">0.6571</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.11.9.6" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.11.9.6.1" style="background-color:#F0F0F0;">0.6061</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.11.9.7" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.11.9.7.1" style="background-color:#F0F0F0;">0.6239</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.11.9.8" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.11.9.8.1" style="background-color:#F0F0F0;">0.6581</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.11.9.9" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.2.11.9.9.1" style="background-color:#F0F0F0;">0.6599</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.11.9.10" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.11.9.10.1" style="background-color:#F0F0F0;">0.6711</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.12.10" style="background-color:#F0F0F0;">
<td class="ltx_td ltx_align_center" id="S3.T1.2.12.10.1" style="background-color:#FFFFFF;padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.12.10.1.1" style="background-color:#FFFFFF;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.12.10.1.1.1">TQA</span></span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.12.10.2" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.12.10.2.1" style="background-color:#F0F0F0;">Llama2</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.12.10.3" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.12.10.3.1" style="background-color:#F0F0F0;">Tok</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.12.10.4" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.12.10.4.1" style="background-color:#F0F0F0;">0</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.12.10.5" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.12.10.5.1" style="background-color:#F0F0F0;">813</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.12.10.6" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.12.10.6.1" style="background-color:#F0F0F0;">331</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.12.10.7" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.12.10.7.1" style="background-color:#F0F0F0;">161</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.12.10.8" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.12.10.8.1" style="background-color:#F0F0F0;">163</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.12.10.9" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.2.12.10.9.1" style="background-color:#F0F0F0;">137</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.12.10.10" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.12.10.10.1" style="background-color:#F0F0F0;">133</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.1">
<td class="ltx_td ltx_border_t" id="S3.T1.1.1.2" style="padding:2.5pt 3.2pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.1.3" rowspan="2" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.1.1.3.1">Flan-T5</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.1.1" style="padding:2.5pt 3.2pt;"><math alttext="\mathrm{F_{1}}" class="ltx_Math" display="inline" id="S3.T1.1.1.1.m1.1"><semantics id="S3.T1.1.1.1.m1.1a"><msub id="S3.T1.1.1.1.m1.1.1" xref="S3.T1.1.1.1.m1.1.1.cmml"><mi id="S3.T1.1.1.1.m1.1.1.2" mathvariant="normal" xref="S3.T1.1.1.1.m1.1.1.2.cmml">F</mi><mn id="S3.T1.1.1.1.m1.1.1.3" xref="S3.T1.1.1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.T1.1.1.1.m1.1b"><apply id="S3.T1.1.1.1.m1.1.1.cmml" xref="S3.T1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.T1.1.1.1.m1.1.1.1.cmml" xref="S3.T1.1.1.1.m1.1.1">subscript</csymbol><ci id="S3.T1.1.1.1.m1.1.1.2.cmml" xref="S3.T1.1.1.1.m1.1.1.2">F</ci><cn id="S3.T1.1.1.1.m1.1.1.3.cmml" type="integer" xref="S3.T1.1.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.1.1.1.m1.1c">\mathrm{F_{1}}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.1.1.1.m1.1d">roman_F start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S3.T1.1.1.4" style="padding:2.5pt 3.2pt;">0.5289</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.1.5" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.1.5.1">0.5702</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S3.T1.1.1.6" style="padding:2.5pt 3.2pt;">0.5127</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.1.7" style="padding:2.5pt 3.2pt;">0.5532</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.1.8" style="padding:2.5pt 3.2pt;">0.5608</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.1.9" style="padding:2.5pt 3.2pt;">0.5535</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.1.10" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.1.10.1">0.5615</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.13.11">
<td class="ltx_td" id="S3.T1.2.13.11.1" style="padding:2.5pt 3.2pt;"></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.13.11.2" style="padding:2.5pt 3.2pt;">Tok</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.13.11.3" style="padding:2.5pt 3.2pt;">0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.13.11.4" style="padding:2.5pt 3.2pt;">765</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.13.11.5" style="padding:2.5pt 3.2pt;">313</td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.13.11.6" style="padding:2.5pt 3.2pt;">154</td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.13.11.7" style="padding:2.5pt 3.2pt;">153</td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.13.11.8" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.13.11.8.1">56</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.13.11.9" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.2.13.11.9.1">58</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.2">
<td class="ltx_td" id="S3.T1.2.2.2" style="padding:2.5pt 3.2pt;"></td>
<td class="ltx_td" id="S3.T1.2.2.3" style="padding:2.5pt 3.2pt;"></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.2.1" style="padding:2.5pt 3.2pt;"><math alttext="\mathrm{F_{1}}" class="ltx_Math" display="inline" id="S3.T1.2.2.1.m1.1" style="background-color:#F0F0F0;"><semantics id="S3.T1.2.2.1.m1.1a"><msub id="S3.T1.2.2.1.m1.1.1" xref="S3.T1.2.2.1.m1.1.1.cmml"><mi id="S3.T1.2.2.1.m1.1.1.2" mathbackground="#F0F0F0" mathvariant="normal" xref="S3.T1.2.2.1.m1.1.1.2.cmml">F</mi><mn id="S3.T1.2.2.1.m1.1.1.3" mathbackground="#F0F0F0" xref="S3.T1.2.2.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.T1.2.2.1.m1.1b"><apply id="S3.T1.2.2.1.m1.1.1.cmml" xref="S3.T1.2.2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.T1.2.2.1.m1.1.1.1.cmml" xref="S3.T1.2.2.1.m1.1.1">subscript</csymbol><ci id="S3.T1.2.2.1.m1.1.1.2.cmml" xref="S3.T1.2.2.1.m1.1.1.2">F</ci><cn id="S3.T1.2.2.1.m1.1.1.3.cmml" type="integer" xref="S3.T1.2.2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.2.2.1.m1.1c">\mathrm{F_{1}}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.2.2.1.m1.1d">roman_F start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.2.4" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.2.4.1" style="background-color:#F0F0F0;">0.5471</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.2.5" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.2.5.1" style="background-color:#F0F0F0;">0.5826</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S3.T1.2.2.6" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.2.6.1" style="background-color:#F0F0F0;">0.5328</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.2.7" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.2.7.1" style="background-color:#F0F0F0;">0.5703</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.2.8" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.2.8.1" style="background-color:#F0F0F0;">0.5734</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.2.9" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.2.2.9.1" style="background-color:#F0F0F0;">0.5977</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.2.2.10" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.2.10.1" style="background-color:#F0F0F0;">0.6040</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.2.14.12" style="background-color:#F0F0F0;">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.2.14.12.1" style="background-color:#FFFFFF;padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.14.12.1.1" style="background-color:#FFFFFF;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.14.12.1.1.1">HotpotQA</span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.2.14.12.2" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.14.12.2.1" style="background-color:#F0F0F0;">Llama2</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.2.14.12.3" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.14.12.3.1" style="background-color:#F0F0F0;">Tok</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S3.T1.2.14.12.4" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.14.12.4.1" style="background-color:#F0F0F0;">0</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.2.14.12.5" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.14.12.5.1" style="background-color:#F0F0F0;">821</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S3.T1.2.14.12.6" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.14.12.6.1" style="background-color:#F0F0F0;">337</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.2.14.12.7" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.14.12.7.1" style="background-color:#F0F0F0;">165</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.2.14.12.8" style="padding:2.5pt 3.2pt;"><span class="ltx_text" id="S3.T1.2.14.12.8.1" style="background-color:#F0F0F0;">164</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.2.14.12.9" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.2.14.12.9.1" style="background-color:#F0F0F0;">59</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.2.14.12.10" style="padding:2.5pt 3.2pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.2.14.12.10.1" style="background-color:#F0F0F0;">62</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>QA performance comparison, where the best results are <span class="ltx_text ltx_font_bold" id="S3.T1.9.1">boldfaced</span> and the second-best results are <span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.10.2">underlined</span>, in each row. ‘Tok’ is the average length of extracted evidence fed into generators, where the smaller the value, the lower the computational cost. All improvements are significant with <math alttext="p" class="ltx_Math" display="inline" id="S3.T1.5.m1.1"><semantics id="S3.T1.5.m1.1b"><mi id="S3.T1.5.m1.1.1" xref="S3.T1.5.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.T1.5.m1.1c"><ci id="S3.T1.5.m1.1.1.cmml" xref="S3.T1.5.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.5.m1.1d">p</annotation><annotation encoding="application/x-llamapun" id="S3.T1.5.m1.1e">italic_p</annotation></semantics></math>-value &lt; 0.01 according  to  <math alttext="t" class="ltx_Math" display="inline" id="S3.T1.6.m2.1"><semantics id="S3.T1.6.m2.1b"><mi id="S3.T1.6.m2.1.1" xref="S3.T1.6.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.T1.6.m2.1c"><ci id="S3.T1.6.m2.1.1.cmml" xref="S3.T1.6.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.6.m2.1d">t</annotation><annotation encoding="application/x-llamapun" id="S3.T1.6.m2.1e">italic_t</annotation></semantics></math>-test.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we conduct extensive experiments on three QA benchmark datasets to answer the following Research Questions (<span class="ltx_text ltx_font_bold" id="S4.p1.1.1">RQs</span>):
<span class="ltx_text ltx_font_bold" id="S4.p1.1.2">RQ1:</span> How does our model contribute to QA accuracy compared with other state-of-the-art methods?
<span class="ltx_text ltx_font_bold" id="S4.p1.1.3">RQ2:</span> Can LPO facilitate the generation of more faithful, helpful, and concise evidence?
<span class="ltx_text ltx_font_bold" id="S4.p1.1.4">RQ3:</span> Can our model perform robustly to noise from irrelevant passages?
<span class="ltx_text ltx_font_bold" id="S4.p1.1.5">RQ4:</span> How effective are the key settings in our model,  such as smoothing CoV-weighting?</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Experimental Settings</h3>
<div class="ltx_para ltx_noindent" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.1">Datasets and Metrics.</span> We experiment on three benchmark QA datasets, NaturalQuestions (NQ) <cite class="ltx_cite ltx_citemacro_cite">Kwiatkowski et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib22" title="">2019</a>)</cite>, TriviaQA (TQA) <cite class="ltx_cite ltx_citemacro_cite">Joshi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib16" title="">2017</a>)</cite>, and HotpotQA <cite class="ltx_cite ltx_citemacro_cite">Yang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib49" title="">2018</a>)</cite>.
Following <cite class="ltx_cite ltx_citemacro_citet">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib45" title="">2023</a>)</cite>, we use the processed version <cite class="ltx_cite ltx_citemacro_cite">Lee et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib24" title="">2019</a>)</cite> of NQ for experiments, discarding answers with more than 5 tokens.
As NQ and TQA belong to the extractive QA task, we use Exact Match (EM) as their evaluation metric, where a score of 1 is assigned if at least one among multiple correct answers appears in the response of the QA model; otherwise, the score is 0.
While HotpotQA belongs to the abstractive QA task, we employ unigram <math alttext="\mathrm{F}_{1}" class="ltx_Math" display="inline" id="S4.SS1.p1.1.m1.1"><semantics id="S4.SS1.p1.1.m1.1a"><msub id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mi id="S4.SS1.p1.1.m1.1.1.2" mathvariant="normal" xref="S4.SS1.p1.1.m1.1.1.2.cmml">F</mi><mn id="S4.SS1.p1.1.m1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2">F</ci><cn id="S4.SS1.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.SS1.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">\mathrm{F}_{1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.1.m1.1d">roman_F start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> to evaluate answer correctness.
As the test set for HotpotQA is unavailable, we report the dev set results. The detailed statistics of datasets are summarized in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A1" title="Appendix A More Implementation Details ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A</span></a> in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A0.T3" title="Table 3 ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.1">Baseline Methods.</span> There are three types of baselines:
<span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.2">(1) Without Evidence (WE)</span> includes <span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.3">(i) Zero-shot (Zero)</span> that does not pass any evidence to LLMs.
<span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.4">(2) Coarse-grained Evidence (CGE)</span> includes <span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.5">(i) Full Passage (Full)</span> that directly passes the top-retrieved passage to LLMs, <span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.6">(ii) Select-Context (SeleCtx)</span> <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib27" title="">2023b</a>)</cite> that identifies and prunes redundancy in the top-retrieved passage based on perplexity.
<span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.7">(3) Fine-grained Evidence (FGE)</span> includes <span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.8">(i) LLM-Embedder</span> <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib53" title="">2023</a>)</cite> that extracts the sub-passages with the highest similarity to the query from the top-retrieved passage,
<span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.9">(ii) Bge-Reranker-Large (Bge-Reranker)</span> <cite class="ltx_cite ltx_citemacro_cite">Xiao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib46" title="">2023</a>)</cite> that reorders all sub-passages in the top-retrieved passage and uses the top-ranked sentence as evidence,
<span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.10">(iii) <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p2.1.10.1">FilCo</span></span> <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib45" title="">2023</a>)</cite> that learns to filter the retrieved passage with sentence precision leveraging heuristic-based augmentation to label ground-truth.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p3.1.1">Generators for QA.</span>
To measure the efficacy of the evidence extracted by <span class="ltx_text ltx_markedasmath ltx_font_bold" id="S4.SS1.p3.1.2">SEER</span> and other competitive baselines,
we employ two different generators, <span class="ltx_text ltx_font_italic" id="S4.SS1.p3.1.3">i.e.,</span>, <span class="ltx_text ltx_font_bold" id="S4.SS1.p3.1.4">Flan-T5-XL</span> <cite class="ltx_cite ltx_citemacro_cite">Chung et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib5" title="">2024</a>)</cite> and <span class="ltx_text ltx_font_bold" id="S4.SS1.p3.1.5">Llama2-7B-Chat</span> <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib43" title="">2023</a>)</cite>, for QA evaluation<span class="ltx_note ltx_role_footnote" id="footnote7"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span>In what follows, we use Flan-T5 and Llama2 to represent Flan-T5-XL and Llama2-7B-Chat, respectively, for brevity.</span></span></span>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.6"><span class="ltx_text ltx_font_bold" id="S4.SS1.p4.6.1">Implementation Details.</span> Following <cite class="ltx_cite ltx_citemacro_citet">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib45" title="">2023</a>)</cite>, we use the adversarial Dense Passage Retriever (DPR) <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib17" title="">2020</a>)</cite> to retrieve the top-5 passages from all Wikipedia passages.
For each &lt;user query <math alttext="q" class="ltx_Math" display="inline" id="S4.SS1.p4.1.m1.1"><semantics id="S4.SS1.p4.1.m1.1a"><mi id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><ci id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.1.m1.1d">italic_q</annotation></semantics></math>, retrieved passage <math alttext="P" class="ltx_Math" display="inline" id="S4.SS1.p4.2.m2.1"><semantics id="S4.SS1.p4.2.m2.1a"><mi id="S4.SS1.p4.2.m2.1.1" xref="S4.SS1.p4.2.m2.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.2.m2.1b"><ci id="S4.SS1.p4.2.m2.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.2.m2.1c">P</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.2.m2.1d">italic_P</annotation></semantics></math>&gt; pair, we set the sample size <math alttext="M" class="ltx_Math" display="inline" id="S4.SS1.p4.3.m3.1"><semantics id="S4.SS1.p4.3.m3.1a"><mi id="S4.SS1.p4.3.m3.1.1" xref="S4.SS1.p4.3.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.3.m3.1b"><ci id="S4.SS1.p4.3.m3.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.3.m3.1c">M</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.3.m3.1d">italic_M</annotation></semantics></math> as 10.
For the temperature coefficient of smoothing CoV-weighting, we tune it within the range of <math alttext="\{0.2,0.5,1.0,2.0,5.0\}" class="ltx_Math" display="inline" id="S4.SS1.p4.4.m4.5"><semantics id="S4.SS1.p4.4.m4.5a"><mrow id="S4.SS1.p4.4.m4.5.6.2" xref="S4.SS1.p4.4.m4.5.6.1.cmml"><mo id="S4.SS1.p4.4.m4.5.6.2.1" stretchy="false" xref="S4.SS1.p4.4.m4.5.6.1.cmml">{</mo><mn id="S4.SS1.p4.4.m4.1.1" xref="S4.SS1.p4.4.m4.1.1.cmml">0.2</mn><mo id="S4.SS1.p4.4.m4.5.6.2.2" xref="S4.SS1.p4.4.m4.5.6.1.cmml">,</mo><mn id="S4.SS1.p4.4.m4.2.2" xref="S4.SS1.p4.4.m4.2.2.cmml">0.5</mn><mo id="S4.SS1.p4.4.m4.5.6.2.3" xref="S4.SS1.p4.4.m4.5.6.1.cmml">,</mo><mn id="S4.SS1.p4.4.m4.3.3" xref="S4.SS1.p4.4.m4.3.3.cmml">1.0</mn><mo id="S4.SS1.p4.4.m4.5.6.2.4" xref="S4.SS1.p4.4.m4.5.6.1.cmml">,</mo><mn id="S4.SS1.p4.4.m4.4.4" xref="S4.SS1.p4.4.m4.4.4.cmml">2.0</mn><mo id="S4.SS1.p4.4.m4.5.6.2.5" xref="S4.SS1.p4.4.m4.5.6.1.cmml">,</mo><mn id="S4.SS1.p4.4.m4.5.5" xref="S4.SS1.p4.4.m4.5.5.cmml">5.0</mn><mo id="S4.SS1.p4.4.m4.5.6.2.6" stretchy="false" xref="S4.SS1.p4.4.m4.5.6.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.4.m4.5b"><set id="S4.SS1.p4.4.m4.5.6.1.cmml" xref="S4.SS1.p4.4.m4.5.6.2"><cn id="S4.SS1.p4.4.m4.1.1.cmml" type="float" xref="S4.SS1.p4.4.m4.1.1">0.2</cn><cn id="S4.SS1.p4.4.m4.2.2.cmml" type="float" xref="S4.SS1.p4.4.m4.2.2">0.5</cn><cn id="S4.SS1.p4.4.m4.3.3.cmml" type="float" xref="S4.SS1.p4.4.m4.3.3">1.0</cn><cn id="S4.SS1.p4.4.m4.4.4.cmml" type="float" xref="S4.SS1.p4.4.m4.4.4">2.0</cn><cn id="S4.SS1.p4.4.m4.5.5.cmml" type="float" xref="S4.SS1.p4.4.m4.5.5">5.0</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.4.m4.5c">\{0.2,0.5,1.0,2.0,5.0\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.4.m4.5d">{ 0.2 , 0.5 , 1.0 , 2.0 , 5.0 }</annotation></semantics></math>.
We employ Llama2-7B-Chat <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib43" title="">2023</a>)</cite> as the base extractor <math alttext="\mathcal{E}" class="ltx_Math" display="inline" id="S4.SS1.p4.5.m5.1"><semantics id="S4.SS1.p4.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p4.5.m5.1.1" xref="S4.SS1.p4.5.m5.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.5.m5.1b"><ci id="S4.SS1.p4.5.m5.1.1.cmml" xref="S4.SS1.p4.5.m5.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.5.m5.1c">\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.5.m5.1d">caligraphic_E</annotation></semantics></math> and fine-tune it on the constructed preference data for 2 epochs to get the aligned extractor <math alttext="\tilde{\mathcal{E}}" class="ltx_Math" display="inline" id="S4.SS1.p4.6.m6.1"><semantics id="S4.SS1.p4.6.m6.1a"><mover accent="true" id="S4.SS1.p4.6.m6.1.1" xref="S4.SS1.p4.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p4.6.m6.1.1.2" xref="S4.SS1.p4.6.m6.1.1.2.cmml">ℰ</mi><mo id="S4.SS1.p4.6.m6.1.1.1" xref="S4.SS1.p4.6.m6.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.6.m6.1b"><apply id="S4.SS1.p4.6.m6.1.1.cmml" xref="S4.SS1.p4.6.m6.1.1"><ci id="S4.SS1.p4.6.m6.1.1.1.cmml" xref="S4.SS1.p4.6.m6.1.1.1">~</ci><ci id="S4.SS1.p4.6.m6.1.1.2.cmml" xref="S4.SS1.p4.6.m6.1.1.2">ℰ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.6.m6.1c">\tilde{\mathcal{E}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.6.m6.1d">over~ start_ARG caligraphic_E end_ARG</annotation></semantics></math>.
We adopt greedy decoding for evidence extraction and output generation. More implementation details are shown  in  Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A1" title="Appendix A More Implementation Details ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
<figure class="ltx_figure" id="S4.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F4.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="144" id="S4.F4.sf1.g1" src="extracted/5927629/Figure/nqAlign.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>NQ dataset.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F4.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="143" id="S4.F4.sf2.g1" src="extracted/5927629/Figure/tqaAlign.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>TQA dataset.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F4.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="142" id="S4.F4.sf3.g1" src="extracted/5927629/Figure/hotAlign.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span>HotpotQA dataset.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Alignment performance <span class="ltx_text ltx_font_italic" id="S4.F4.2.1">w.r.t.</span> faithfulness, helpfulness, and conciseness. The bar represents the oracle scores, while the line denotes the percentage of performance improvement in comparison with the Base.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Model Comparison (RQ1)</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">To examine the impact of evidence extraction on the final RAG performance, we experimented on three benchmark QA datasets, where we prepended the extracted evidence before the user query and then input it together into the generator.
Besides, we use the tokenizer of Flan-T5 and Llama2 to convert the extracted evidence into a list of subwords and then calculate the length of the list, where the length is adopted as a metric (denoted by ‘<span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.1">Tok</span>’) measuring the computational burden to a large extend.
Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.T1" title="Table 1 ‣ 3.3 Self-Alignment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a> shows the final RAG performance of different baseline evidence extraction methods and our proposed <span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.2">SEER</span>. From the experimental results, we mainly have the following observations:</p>
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1">In all cases, <span class="ltx_text ltx_font_bold" id="S4.I1.i1.p1.1.1">SEER</span> outperforms <span class="ltx_text ltx_font_smallcaps" id="S4.I1.i1.p1.1.2">FilCo</span> by a large margin, indicating the superiority of model-based augmentation that can provide more informative signals than heuristic-based augmentation.
For example, <span class="ltx_text ltx_font_bold" id="S4.I1.i1.p1.1.3">SEER</span> achieves 13.5% and 12.0% improvements over <span class="ltx_text ltx_font_smallcaps" id="S4.I1.i1.p1.1.4">FilCo</span> in the NQ dataset with Flan-T5 and Llama2 generators, respectively, while the average evidence  length is very  close.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1">Optimizing the three primary criteria for evidence extraction (<span class="ltx_text ltx_font_italic" id="S4.I1.i2.p1.1.1">i.e.,</span> faithfulness, helpfulness, and conciseness) yields such impressive performance improvements, considering most baselines come from studies in recent two years.
This demonstrates that these three properties strongly agree with the evidence quality in RAG, while current methods might not satisfy all of them simultaneously,  which leads to  inferior  results.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i3.p1.1">Comparing different baselines, it is not surprising the method without evidence performs the worst. Secondly, methods with fine-grained evidence do not always perform better than ones with coarse-grained evidence.
Specifically, the ‘<span class="ltx_text ltx_font_bold" id="S4.I1.i3.p1.1.1">Full</span>’ method generally performs well, as it preserves retrieved passages complete, while some FGE methods (<span class="ltx_text ltx_font_italic" id="S4.I1.i3.p1.1.2">e.g.,</span> LLM-Embedder and Bge-Ranker) might lose key information in the process of evidence extraction, but it takes much more time for generation due to the long context.
Last but not least, our <span class="ltx_text ltx_font_bold" id="S4.I1.i3.p1.1.3">SEER</span> considerably outperforms the ‘<span class="ltx_text ltx_font_bold" id="S4.I1.i3.p1.1.4">Full</span>’ method in most cases, where the average improvement on the three datasets is 2.58% <span class="ltx_text ltx_font_italic" id="S4.I1.i3.p1.1.5">w.r.t.</span> QA accuracy, but the average length of evidence fed into generators is reduced by a factor of 9.25.</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_figure" id="S4.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F5.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="247" id="S4.F5.sf1.g1" src="extracted/5927629/Figure/nqRobust.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>NQ dataset.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F5.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="246" id="S4.F5.sf2.g1" src="extracted/5927629/Figure/tqaRobust.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>TQA dataset.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F5.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="243" id="S4.F5.sf3.g1" src="extracted/5927629/Figure/hotRobust.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span>HotpotQA dataset.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Model performance <span class="ltx_text ltx_font_italic" id="S4.F5.2.1">w.r.t.</span> Noise-to-Signal Ratio (NSR) ratio. The bar denotes the silver faithfulness score or the helpfulness score, while the line represents the performance drop percent compared to the model that is provided with only relevant retrieved passages.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Alignment Study (RQ2)</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">To verify the effectiveness of the proposed LPO, we implement <span class="ltx_text ltx_font_bold" id="S4.SS3.p1.1.1">SEER</span> with different types of PO methods to optimize the three primary criteria:
(1) Base, <span class="ltx_text ltx_font_italic" id="S4.SS3.p1.1.2">i.e.,</span> the base extractor; (2) PPO <cite class="ltx_cite ltx_citemacro_cite">Schulman et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib39" title="">2017</a>)</cite>; (3) DPO <cite class="ltx_cite ltx_citemacro_cite">Rafailov et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib34" title="">2023</a>)</cite>; (4) LPO (§<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.SS3" title="3.3 Self-Alignment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3.3</span></a>).
In Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S4.F4" title="Figure 4 ‣ 4.1 Experimental Settings ‣ 4 Experiments ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">4</span></a>, we present the oracle scores made by each method and the percentage of performance improvement over the Base method. From the results, we find that:
<span class="ltx_text ltx_font_bold" id="S4.SS3.p1.1.3">(1)</span> Unsurprisingly, the Base without alignment performs the worst in 11 out of 12 cases, indicating the necessity of alignment for evidence extraction.
<span class="ltx_text ltx_font_bold" id="S4.SS3.p1.1.4">(2)</span> The PPO usually performs worse than the DPO one, as it directly optimizes the reward signal, <span class="ltx_text ltx_font_italic" id="S4.SS3.p1.1.5">i.e.,</span> the oracle scores in our work, and thus neglects the pairwise signals between the extracted evidence corresponding to the same query. Besides, the relatively poor performance of PPO may be caused by the difficulty of optimizing PPO, making it hard to reach the optimal point.
<span class="ltx_text ltx_font_bold" id="S4.SS3.p1.1.6">(3)</span> Our LPO consistently outperforms the DPO, indicating the superiority of supplementing DPO with a listwise-aware weight.
<span class="ltx_text ltx_font_bold" id="S4.SS3.p1.1.7">(4)</span> After self-alignment, the average improvements of our LPO over the Base on three datasets are 10.2%, 6.16%, and 1.70% regarding the three primary criteria, showing huge potential to enhance the final RAG performance and quicken up the inference.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Robustness Analysis (RQ3)</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">In real-world scenarios, RAG systems usually suffer from data noise issues <cite class="ltx_cite ltx_citemacro_cite">Gao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib8" title="">2023</a>); Ding et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib6" title="">2024</a>)</cite> caused by imperfect retrieval systems, etc.
To simulate this scenario, we randomly add a certain proportion (0%, 100%, 200%, 300%, and 400%) of irrelevant passages to each test query. We use Noise-to-Signal Ratio (NSR) to denote the ratio of irrelevant passages to the relevant retrieved ones.
Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S4.F5" title="Figure 5 ‣ 4.2 Model Comparison (RQ1) ‣ 4 Experiments ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">5</span></a> shows the results on silver faithfulness<span class="ltx_note ltx_role_footnote" id="footnote8"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_tag ltx_tag_note">8</span>The silver faithfulness measures the entailment degree between the relevant retrieved passage (rather than the mixture of it and the irrelevant passages)  and  the  extracted  evidence.</span></span></span> and helpfulness, while conciseness is omitted as the noise issue does not affect it much. The results show that:
<span class="ltx_text ltx_font_bold" id="S4.SS4.p1.1.1">(1)</span> The performance of both aligned and base extractors decreases, while the aligned one can consistently outperform the base under any NSR except for 1 case.
<span class="ltx_text ltx_font_bold" id="S4.SS4.p1.1.2">(2)</span> The performance drop percent of the aligned model is generally lower than the base in 2 out of 3 datasets. Besides, with 100% noise proportion, the aligned model can even outperform the base without noise data on all datasets. These observations manifest that <span class="ltx_text ltx_font_bold" id="S4.SS4.p1.1.3">SEER</span> can endow the backbone with more robustness to noise issues.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T2.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S4.T2.1.1.1.1" rowspan="3" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.1.1">Model</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="6" id="S4.T2.1.1.1.2" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.2.1">Dataset</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.2.2">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3" id="S4.T2.1.2.2.1" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.2.2.1.1">NQ</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" colspan="3" id="S4.T2.1.2.2.2" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.2.2.2.1">HotpotQA</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.3.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.3.3.1" style="padding:2.5pt 3.5pt;"><span class="ltx_text" id="S4.T2.1.3.3.1.1">FS</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.3.3.2" style="padding:2.5pt 3.5pt;"><span class="ltx_text" id="S4.T2.1.3.3.2.1">HS</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.1.3.3.3" style="padding:2.5pt 3.5pt;"><span class="ltx_text" id="S4.T2.1.3.3.3.1">CS</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.3.3.4" style="padding:2.5pt 3.5pt;"><span class="ltx_text" id="S4.T2.1.3.3.4.1">FS</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.3.3.5" style="padding:2.5pt 3.5pt;"><span class="ltx_text" id="S4.T2.1.3.3.5.1">HS</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.3.3.6" style="padding:2.5pt 3.5pt;"><span class="ltx_text" id="S4.T2.1.3.3.6.1">CS</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.1.4.4.1" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.4.4.1.1">(A) SEER</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.4.4.2" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.1.4.4.2.1">0.901</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.4.4.3" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.4.4.3.1">0.703</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.1.4.4.4" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.1.4.4.4.1">0.796</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.4.4.5" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.1.4.4.5.1">0.894</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.4.4.6" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.4.4.6.1">0.674</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.4.4.7" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.4.4.7.1">0.369</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.1.5.5.1" style="padding:2.5pt 3.5pt;">(B) w/o Dup</th>
<td class="ltx_td ltx_align_center" id="S4.T2.1.5.5.2" style="padding:2.5pt 3.5pt;">0.896</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.5.5.3" style="padding:2.5pt 3.5pt;">0.675</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.1.5.5.4" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.5.5.4.1">0.800</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.5.5.5" style="padding:2.5pt 3.5pt;">0.881</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.5.5.6" style="padding:2.5pt 3.5pt;">0.657</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.5.5.7" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.1.5.5.7.1">0.365</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.1.6.6.1" style="padding:2.5pt 3.5pt;">(C) w/o CoV</th>
<td class="ltx_td ltx_align_center" id="S4.T2.1.6.6.2" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.6.6.2.1">0.904</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.6.6.3" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.1.6.6.3.1">0.696</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.1.6.6.4" style="padding:2.5pt 3.5pt;">0.787</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.6.6.5" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.6.6.5.1">0.903</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.6.6.6" style="padding:2.5pt 3.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.1.6.6.6.1">0.668</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.6.6.7" style="padding:2.5pt 3.5pt;">0.363</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S4.T2.1.7.7.1" style="padding:2.5pt 3.5pt;">(D) w/o Lam</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.7.7.2" style="padding:2.5pt 3.5pt;">0.894</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.7.7.3" style="padding:2.5pt 3.5pt;">0.684</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T2.1.7.7.4" style="padding:2.5pt 3.5pt;">0.785</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.7.7.5" style="padding:2.5pt 3.5pt;">0.857</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.7.7.6" style="padding:2.5pt 3.5pt;">0.654</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.7.7.7" style="padding:2.5pt 3.5pt;">0.359</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>Ablation study with key settings of <span class="ltx_text ltx_font_bold" id="S4.T2.3.1">SEER</span>, where we use FS, HS, and CS to indicate the Faithfulness, Helpfulness, and Conciseness scores, respectively.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5 </span>Ablation Study (RQ4)</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.5">In Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S4.T2" title="Table 2 ‣ 4.4 Robustness Analysis (RQ3) ‣ 4 Experiments ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>, we conduct an ablation study to verify the effectiveness of key settings in our method, where w/o denotes without,
(A) represents <span class="ltx_text ltx_font_bold" id="S4.SS5.p1.5.1">SEER</span>,
(B) removes the deduplication operation,
(C) removes smoothing CoV-weighting by uniformly setting <math alttext="\alpha^{f}" class="ltx_Math" display="inline" id="S4.SS5.p1.1.m1.1"><semantics id="S4.SS5.p1.1.m1.1a"><msup id="S4.SS5.p1.1.m1.1.1" xref="S4.SS5.p1.1.m1.1.1.cmml"><mi id="S4.SS5.p1.1.m1.1.1.2" xref="S4.SS5.p1.1.m1.1.1.2.cmml">α</mi><mi id="S4.SS5.p1.1.m1.1.1.3" xref="S4.SS5.p1.1.m1.1.1.3.cmml">f</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.1.m1.1b"><apply id="S4.SS5.p1.1.m1.1.1.cmml" xref="S4.SS5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS5.p1.1.m1.1.1.1.cmml" xref="S4.SS5.p1.1.m1.1.1">superscript</csymbol><ci id="S4.SS5.p1.1.m1.1.1.2.cmml" xref="S4.SS5.p1.1.m1.1.1.2">𝛼</ci><ci id="S4.SS5.p1.1.m1.1.1.3.cmml" xref="S4.SS5.p1.1.m1.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.1.m1.1c">\alpha^{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.1.m1.1d">italic_α start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT</annotation></semantics></math>, <math alttext="\alpha^{h}" class="ltx_Math" display="inline" id="S4.SS5.p1.2.m2.1"><semantics id="S4.SS5.p1.2.m2.1a"><msup id="S4.SS5.p1.2.m2.1.1" xref="S4.SS5.p1.2.m2.1.1.cmml"><mi id="S4.SS5.p1.2.m2.1.1.2" xref="S4.SS5.p1.2.m2.1.1.2.cmml">α</mi><mi id="S4.SS5.p1.2.m2.1.1.3" xref="S4.SS5.p1.2.m2.1.1.3.cmml">h</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.2.m2.1b"><apply id="S4.SS5.p1.2.m2.1.1.cmml" xref="S4.SS5.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS5.p1.2.m2.1.1.1.cmml" xref="S4.SS5.p1.2.m2.1.1">superscript</csymbol><ci id="S4.SS5.p1.2.m2.1.1.2.cmml" xref="S4.SS5.p1.2.m2.1.1.2">𝛼</ci><ci id="S4.SS5.p1.2.m2.1.1.3.cmml" xref="S4.SS5.p1.2.m2.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.2.m2.1c">\alpha^{h}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.2.m2.1d">italic_α start_POSTSUPERSCRIPT italic_h end_POSTSUPERSCRIPT</annotation></semantics></math>, and <math alttext="\alpha^{c}" class="ltx_Math" display="inline" id="S4.SS5.p1.3.m3.1"><semantics id="S4.SS5.p1.3.m3.1a"><msup id="S4.SS5.p1.3.m3.1.1" xref="S4.SS5.p1.3.m3.1.1.cmml"><mi id="S4.SS5.p1.3.m3.1.1.2" xref="S4.SS5.p1.3.m3.1.1.2.cmml">α</mi><mi id="S4.SS5.p1.3.m3.1.1.3" xref="S4.SS5.p1.3.m3.1.1.3.cmml">c</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.3.m3.1b"><apply id="S4.SS5.p1.3.m3.1.1.cmml" xref="S4.SS5.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS5.p1.3.m3.1.1.1.cmml" xref="S4.SS5.p1.3.m3.1.1">superscript</csymbol><ci id="S4.SS5.p1.3.m3.1.1.2.cmml" xref="S4.SS5.p1.3.m3.1.1.2">𝛼</ci><ci id="S4.SS5.p1.3.m3.1.1.3.cmml" xref="S4.SS5.p1.3.m3.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.3.m3.1c">\alpha^{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.3.m3.1d">italic_α start_POSTSUPERSCRIPT italic_c end_POSTSUPERSCRIPT</annotation></semantics></math> to <math alttext="1/3" class="ltx_Math" display="inline" id="S4.SS5.p1.4.m4.1"><semantics id="S4.SS5.p1.4.m4.1a"><mrow id="S4.SS5.p1.4.m4.1.1" xref="S4.SS5.p1.4.m4.1.1.cmml"><mn id="S4.SS5.p1.4.m4.1.1.2" xref="S4.SS5.p1.4.m4.1.1.2.cmml">1</mn><mo id="S4.SS5.p1.4.m4.1.1.1" xref="S4.SS5.p1.4.m4.1.1.1.cmml">/</mo><mn id="S4.SS5.p1.4.m4.1.1.3" xref="S4.SS5.p1.4.m4.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.4.m4.1b"><apply id="S4.SS5.p1.4.m4.1.1.cmml" xref="S4.SS5.p1.4.m4.1.1"><divide id="S4.SS5.p1.4.m4.1.1.1.cmml" xref="S4.SS5.p1.4.m4.1.1.1"></divide><cn id="S4.SS5.p1.4.m4.1.1.2.cmml" type="integer" xref="S4.SS5.p1.4.m4.1.1.2">1</cn><cn id="S4.SS5.p1.4.m4.1.1.3.cmml" type="integer" xref="S4.SS5.p1.4.m4.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.4.m4.1c">1/3</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.4.m4.1d">1 / 3</annotation></semantics></math> in Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.E7" title="In 3.2 Expert Assessment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">7</span></a>),
(D) removes the lambda weight <math alttext="\lambda_{w,l}" class="ltx_Math" display="inline" id="S4.SS5.p1.5.m5.2"><semantics id="S4.SS5.p1.5.m5.2a"><msub id="S4.SS5.p1.5.m5.2.3" xref="S4.SS5.p1.5.m5.2.3.cmml"><mi id="S4.SS5.p1.5.m5.2.3.2" xref="S4.SS5.p1.5.m5.2.3.2.cmml">λ</mi><mrow id="S4.SS5.p1.5.m5.2.2.2.4" xref="S4.SS5.p1.5.m5.2.2.2.3.cmml"><mi id="S4.SS5.p1.5.m5.1.1.1.1" xref="S4.SS5.p1.5.m5.1.1.1.1.cmml">w</mi><mo id="S4.SS5.p1.5.m5.2.2.2.4.1" xref="S4.SS5.p1.5.m5.2.2.2.3.cmml">,</mo><mi id="S4.SS5.p1.5.m5.2.2.2.2" xref="S4.SS5.p1.5.m5.2.2.2.2.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.5.m5.2b"><apply id="S4.SS5.p1.5.m5.2.3.cmml" xref="S4.SS5.p1.5.m5.2.3"><csymbol cd="ambiguous" id="S4.SS5.p1.5.m5.2.3.1.cmml" xref="S4.SS5.p1.5.m5.2.3">subscript</csymbol><ci id="S4.SS5.p1.5.m5.2.3.2.cmml" xref="S4.SS5.p1.5.m5.2.3.2">𝜆</ci><list id="S4.SS5.p1.5.m5.2.2.2.3.cmml" xref="S4.SS5.p1.5.m5.2.2.2.4"><ci id="S4.SS5.p1.5.m5.1.1.1.1.cmml" xref="S4.SS5.p1.5.m5.1.1.1.1">𝑤</ci><ci id="S4.SS5.p1.5.m5.2.2.2.2.cmml" xref="S4.SS5.p1.5.m5.2.2.2.2">𝑙</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.5.m5.2c">\lambda_{w,l}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.5.m5.2d">italic_λ start_POSTSUBSCRIPT italic_w , italic_l end_POSTSUBSCRIPT</annotation></semantics></math> in Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.E8" title="In 3.3 Self-Alignment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">8</span></a>).
From the table, we can find that (A) achieves the best or second-best results in all datasets, indicating all key settings are effective and necessary for <span class="ltx_text ltx_font_bold" id="S4.SS5.p1.5.2">SEER</span>.
By comparing (A) and (B), removing duplicates can considerably improve helpfulness, as it effectively avoids preference optimization overwhelmed by head responses.
By comparing (A) and (C), weighting the oracle scores based on their statistical properties is able to match the learning difficulty well.
By comparing (C) and (D), we observe that weighting the preference pairs plays a more key role than weighting the oracle scores.
The main reason might be that equally treating all preference pairs leads to less attention paid to the crucial ones.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Related works</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Context Refinement for RAG</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">Recently, many works have emerged, aiming at identifying the supporting content from retrieved passages. The common method is to rerank the retrieved passages and feed the top-ranked ones into generators <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib53" title="">2023</a>); Xiao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib46" title="">2023</a>)</cite>.
Thereafter, some methods
leverage the capabilities of LLMs to summarize retrieved passages to identify key information <cite class="ltx_cite ltx_citemacro_cite">Ko et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib20" title="">2024</a>); Laskar et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib23" title="">2023</a>); Kim et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib18" title="">2024</a>); Sarthi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib38" title="">2024</a>)</cite>.
Furthermore, a few methods leverage agent models to calculate perplexity as an important indicator to filter out low-information content <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib27" title="">2023b</a>); Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib13" title="">2023a</a>)</cite>.
Other works use manually designed heuristic-based augmentation to construct training signals for fine-tuning LLMs, to enhance their capacity to identify key information <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib45" title="">2023</a>); Jin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib15" title="">2024</a>)</cite>.
In contrast to previous works heavily relying on hand-crafted augmentation, we
use data augmented by the model itself to boost performance, free of the arduous workforce.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Self-Aligned Learning</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">Recently, a few studies have attempted to utilize the model to improve itself and align its response with desired properties <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib26" title="">2023a</a>); Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib54" title="">2024</a>); Liang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib28" title="">2024</a>); Sun et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib41" title="">2023a</a>); Yuan et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib50" title="">2024</a>); Sun et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib42" title="">2023b</a>); Bai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib2" title="">2022</a>)</cite>.
For example, <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib26" title="">2023a</a>)</cite> prompts the model to generate instructions for unlabeled data to create a set of candidate training data, and then use the model to score each augmented example to select high-quality augmented data.
<cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib54" title="">2024</a>)</cite> utilizes the self-evaluation capability of LLMs to create confidence scores in terms of the factual accuracy of its generated responses, and treat them as reward signals to steer the model towards factuality.
Similarly, <cite class="ltx_cite ltx_citemacro_cite">Liang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib28" title="">2024</a>)</cite> leverages the model’s self-awareness of its knowledge state to align the model for hallucination mitigation.
To the best of our knowledge, our study is the first to explore self-aligned learning for evidence extraction.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">This work explores the method that learns to extract high-quality evidence to assist model generation and reduce computational cost. Different from previous works heavily relying on heuristics, we introduce a novel evidence extraction learning framework, <span class="ltx_text ltx_font_bold" id="S6.p1.1.1">SEER</span>, which utilizes the model to calibrate its extraction preference via self-alignment. To this end, we first probe into model extraction preferences via response sampling, then assess the quality of extracted evidence via experts, and finally optimize the vanilla model as an evidence extractor via self-alignment. Extensive experiments show that <span class="ltx_text ltx_font_bold" id="S6.p1.1.2">SEER</span> considerably improves the final RAG performance. Moreover, it can extract more faithful, helpful, and concise evidence, and also shows higher robustness against data noise issues.</p>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Limitations</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">Despite our discoveries and improvements, we must acknowledge certain limitations in our work:</p>
</div>
<div class="ltx_para" id="Sx1.p2">
<p class="ltx_p" id="Sx1.p2.1"><span class="ltx_text ltx_font_bold" id="Sx1.p2.1.1">Firstly</span>, computing resource constraints restrict our experiment to LLMs with limited and moderate scale, <span class="ltx_text ltx_font_italic" id="Sx1.p2.1.2">i.e.,</span> Flan-T5-XL <cite class="ltx_cite ltx_citemacro_cite">Chung et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib5" title="">2024</a>)</cite> and Llama2-7B-Chat <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib43" title="">2023</a>)</cite>. We will explore the use of our method on larger models such as Llama2-70B in future work.
The EM and <math alttext="\mathrm{F_{1}}" class="ltx_Math" display="inline" id="Sx1.p2.1.m1.1"><semantics id="Sx1.p2.1.m1.1a"><msub id="Sx1.p2.1.m1.1.1" xref="Sx1.p2.1.m1.1.1.cmml"><mi id="Sx1.p2.1.m1.1.1.2" mathvariant="normal" xref="Sx1.p2.1.m1.1.1.2.cmml">F</mi><mn id="Sx1.p2.1.m1.1.1.3" xref="Sx1.p2.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="Sx1.p2.1.m1.1b"><apply id="Sx1.p2.1.m1.1.1.cmml" xref="Sx1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="Sx1.p2.1.m1.1.1.1.cmml" xref="Sx1.p2.1.m1.1.1">subscript</csymbol><ci id="Sx1.p2.1.m1.1.1.2.cmml" xref="Sx1.p2.1.m1.1.1.2">F</ci><cn id="Sx1.p2.1.m1.1.1.3.cmml" type="integer" xref="Sx1.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Sx1.p2.1.m1.1c">\mathrm{F_{1}}</annotation><annotation encoding="application/x-llamapun" id="Sx1.p2.1.m1.1d">roman_F start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> metrics used in our experiments might overestimate the correctness of responses, even if the response does not convey equivalent semantics to the ground truth, since these metrics mechanically verify whether the answer exists in the response.</p>
</div>
<div class="ltx_para" id="Sx1.p3">
<p class="ltx_p" id="Sx1.p3.1"><span class="ltx_text ltx_font_bold" id="Sx1.p3.1.1">Secondly</span>, our method still requires domain knowledge for devising experts to assess the quality of evidence, though it has considerably lightened the arduous workforce in data engineering.
We experiment solely on Dense Passage Retriever <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib17" title="">2020</a>)</cite> with Wikipedia passages, while de facto RAG applications commonly involve multi-source retrieval with varied writing styles.</p>
</div>
<div class="ltx_para" id="Sx1.p4">
<p class="ltx_p" id="Sx1.p4.1"><span class="ltx_text ltx_font_bold" id="Sx1.p4.1.1">Thirdly</span>, there are a few cases where the aligned extractor is vulnerable to data noise issues. As demonstrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S4.F5.sf3" title="In Figure 5 ‣ 4.2 Model Comparison (RQ1) ‣ 4 Experiments ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">5(c)</span></a>, with the NSR increases, the performance drop percent of the aligned extractor is higher than that of the base one, although it still outperforms the base one.
Given that, we are currently conducting further research to propose a more powerful evidence extractor, which is not only skilled at refining retrieved passages but also has higher robustness against noisy passages.</p>
</div>
</section>
<section class="ltx_section" id="Sx2">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>
<div class="ltx_para" id="Sx2.p1">
<p class="ltx_p" id="Sx2.p1.1">This work is jointly supported by National Natural Science Foundation of China (No. 62376067) and Guangdong Basic and Applied Basic Research Foundation (2023A1515110078).
We sincerely thank all the reviewers for  their  detailed  reviews.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Adlakha et al. (2023)</span>
<span class="ltx_bibblock">
Vaibhav Adlakha, Parishad BehnamGhader, Xing Han Lu, Nicholas Meade, and Siva Reddy. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2307.16877" title="">Evaluating correctness and faithfulness of instruction-following models for question answering</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">CoRR</em>, abs/2307.16877.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al. (2022)</span>
<span class="ltx_bibblock">
Yuntao Bai, Saurav Kadavath, Sandipan Kundu, Amanda Askell, Jackson Kernion, Andy Jones, Anna Chen, Anna Goldie, Azalia Mirhoseini, Cameron McKinnon, Carol Chen, Catherine Olsson, Christopher Olah, Danny Hernandez, Dawn Drain, Deep Ganguli, Dustin Li, Eli Tran-Johnson, Ethan Perez, Jamie Kerr, Jared Mueller, Jeffrey Ladish, Joshua Landau, Kamal Ndousse, Kamile Lukosiute, Liane Lovitt, Michael Sellitto, Nelson Elhage, Nicholas Schiefer, Noemí Mercado, Nova DasSarma, Robert Lasenby, Robin Larson, Sam Ringer, Scott Johnston, Shauna Kravec, Sheer El Showk, Stanislav Fort, Tamera Lanham, Timothy Telleen-Lawton, Tom Conerly, Tom Henighan, Tristan Hume, Samuel R. Bowman, Zac Hatfield-Dodds, Ben Mann, Dario Amodei, Nicholas Joseph, Sam McCandlish, Tom Brown, and Jared Kaplan. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/pdf/2212.08073" title="">Constitutional AI: harmlessness from AI feedback</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">CoRR</em>, abs/2212.08073.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Burges et al. (2006)</span>
<span class="ltx_bibblock">
Christopher J. C. Burges, Robert Ragno, and Quoc Viet Le. 2006.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://proceedings.neurips.cc/paper/2006/hash/af44c4c56f385c43f2529f9b1b018f6a-Abstract.html" title="">Learning to rank with nonsmooth cost functions</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">Advances in Neural Information Processing Systems 19, Proceedings of the Twentieth Annual Conference on Neural Information Processing Systems, Vancouver, British Columbia, Canada, December 4-7, 2006</em>, pages 193–200. MIT Press.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2023)</span>
<span class="ltx_bibblock">
Jifan Chen, Grace Kim, Aniruddh Sriram, Greg Durrett, and Eunsol Choi. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2305.11859" title="">Complex claim verification with evidence retrieved in the wild</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">CoRR</em>, abs/2305.11859.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chung et al. (2024)</span>
<span class="ltx_bibblock">
Hyung Won Chung, Le Hou, Shayne Longpre, Barret Zoph, Yi Tay, William Fedus, Yunxuan Li, Xuezhi Wang, Mostafa Dehghani, Siddhartha Brahma, et al. 2024.

</span>
<span class="ltx_bibblock">Scaling instruction-finetuned language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">Journal of Machine Learning Research</em>, 25(70):1–53.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ding et al. (2024)</span>
<span class="ltx_bibblock">
Yujuan Ding, Wenqi Fan, Liangbo Ning, Shijie Wang, Hengyun Li, Dawei Yin, Tat-Seng Chua, and Qing Li. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/pdf/2405.06211" title="">A survey on rag meets llms: Towards retrieval-augmented large language models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">arXiv preprint arXiv:2405.06211</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Donmez et al. (2009)</span>
<span class="ltx_bibblock">
Pinar Donmez, Krysta M. Svore, and Christopher J. C. Burges. 2009.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1145/1571941.1572021" title="">On the local optimality of lambdarank</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">Proceedings of the 32nd Annual International ACM SIGIR Conference on Research and Development in Information Retrieval, SIGIR 2009, Boston, MA, USA, July 19-23, 2009</em>, pages 460–467. ACM.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2023)</span>
<span class="ltx_bibblock">
Yunfan Gao, Yun Xiong, Xinyu Gao, Kangxiang Jia, Jinliu Pan, Yuxi Bi, Yi Dai, Jiawei Sun, Qianyu Guo, Meng Wang, and Haofen Wang. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2312.10997" title="">Retrieval-augmented generation for large language models: A survey</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">CoRR</em>, abs/2312.10997.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Groenendijk et al. (2021)</span>
<span class="ltx_bibblock">
Rick Groenendijk, Sezer Karaoglu, Theo Gevers, and Thomas Mensink. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1109/WACV48630.2021.00151" title="">Multi-loss weighting with coefficient of variations</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">IEEE Winter Conference on Applications of Computer Vision, WACV 2021, Waikoloa, HI, USA, January 3-8, 2021</em>, pages 1468–1477. IEEE.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guu et al. (2020)</span>
<span class="ltx_bibblock">
Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Ming-Wei Chang. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://proceedings.mlr.press/v119/guu20a.html" title="">Retrieval augmented language model pre-training</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">Proceedings of the 37th International Conference on Machine Learning, ICML 2020, 13-18 July 2020, Virtual Event</em>, volume 119 of <em class="ltx_emph ltx_font_italic" id="bib.bib10.2.2">Proceedings of Machine Learning Research</em>, pages 3929–3938. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al. (2022)</span>
<span class="ltx_bibblock">
Edward J. Hu, Yelong Shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu Wang, and Weizhu Chen. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=nZeVKeeFYf9" title="">Lora: Low-rank adaptation of large language models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">The Tenth International Conference on Learning Representations, ICLR 2022, Virtual Event, April 25-29, 2022</em>. OpenReview.net.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jain et al. (2021)</span>
<span class="ltx_bibblock">
Manas Jain, Sriparna Saha, Pushpak Bhattacharyya, Gladvin Chinnadurai, and Manish Kumar Vatsa. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2112.03849" title="">Natural answer generation: From factoid answer to full-length answer using grammar correction</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">CoRR</em>, abs/2112.03849.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2023a)</span>
<span class="ltx_bibblock">
Huiqiang Jiang, Qianhui Wu, Xufang Luo, Dongsheng Li, Chin-Yew Lin, Yuqing Yang, and Lili Qiu. 2023a.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2310.06839" title="">Longllmlingua: Accelerating and enhancing llms in long context scenarios via prompt compression</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">CoRR</em>, abs/2310.06839.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2023b)</span>
<span class="ltx_bibblock">
Zhengbao Jiang, Frank F. Xu, Luyu Gao, Zhiqing Sun, Qian Liu, Jane Dwivedi-Yu, Yiming Yang, Jamie Callan, and Graham Neubig. 2023b.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2023.EMNLP-MAIN.495" title="">Active retrieval augmented generation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, EMNLP 2023, Singapore, December 6-10, 2023</em>, pages 7969–7992. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et al. (2024)</span>
<span class="ltx_bibblock">
Jiajie Jin, Yutao Zhu, Yujia Zhou, and Zhicheng Dou. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2402.12174" title="">BIDER: bridging knowledge inconsistency for efficient retrieval-augmented llms via key supporting evidence</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">CoRR</em>, abs/2402.12174.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Joshi et al. (2017)</span>
<span class="ltx_bibblock">
Mandar Joshi, Eunsol Choi, Daniel S. Weld, and Luke Zettlemoyer. 2017.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/P17-1147" title="">Triviaqa: A large scale distantly supervised challenge dataset for reading comprehension</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">Proceedings of the 55th Annual Meeting of the Association for Computational Linguistics, ACL 2017, Vancouver, Canada, July 30 - August 4, Volume 1: Long Papers</em>, pages 1601–1611. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al. (2020)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oguz, Sewon Min, Patrick S. H. Lewis, Ledell Wu, Sergey Edunov, Danqi Chen, and Wen-tau Yih. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2020.EMNLP-MAIN.550" title="">Dense passage retrieval for open-domain question answering</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing, EMNLP 2020, Online, November 16-20, 2020</em>, pages 6769–6781. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et al. (2024)</span>
<span class="ltx_bibblock">
Jaehyung Kim, Jaehyun Nam, Sangwoo Mo, Jongjin Park, Sang-Woo Lee, Minjoon Seo, Jung-Woo Ha, and Jinwoo Shin. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2404.13081" title="">Sure: Summarizing retrievals using answer candidates for open-domain QA of llms</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">CoRR</em>, abs/2404.13081.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kingma and Ba (2015)</span>
<span class="ltx_bibblock">
Diederik P. Kingma and Jimmy Ba. 2015.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1412.6980" title="">Adam: A method for stochastic optimization</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">3rd International Conference on Learning Representations, ICLR 2015, San Diego, CA, USA, May 7-9, 2015, Conference Track Proceedings</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ko et al. (2024)</span>
<span class="ltx_bibblock">
SungHo Ko, Hyunjin Cho, Hyungjoo Chae, Jinyoung Yeo, and Dongha Lee. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2403.02966" title="">Evidence-focused fact summarization for knowledge-augmented zero-shot question answering</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">CoRR</em>, abs/2403.02966.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kondrak (2005)</span>
<span class="ltx_bibblock">
Grzegorz Kondrak. 2005.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1007/11575832_13" title=""><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1.1">N</em>-gram similarity and distance</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib21.2.1">String Processing and Information Retrieval, 12th International Conference, SPIRE 2005, Buenos Aires, Argentina, November 2-4, 2005, Proceedings</em>, volume 3772 of <em class="ltx_emph ltx_font_italic" id="bib.bib21.3.2">Lecture Notes in Computer Science</em>, pages 115–126. Springer.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kwiatkowski et al. (2019)</span>
<span class="ltx_bibblock">
Tom Kwiatkowski, Jennimaria Palomaki, Olivia Redfield, Michael Collins, Ankur P. Parikh, Chris Alberti, Danielle Epstein, Illia Polosukhin, Jacob Devlin, Kenton Lee, Kristina Toutanova, Llion Jones, Matthew Kelcey, Ming-Wei Chang, Andrew M. Dai, Jakob Uszkoreit, Quoc Le, and Slav Petrov. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1162/TACL_A_00276" title="">Natural questions: a benchmark for question answering research</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Trans. Assoc. Comput. Linguistics</em>, 7:452–466.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Laskar et al. (2023)</span>
<span class="ltx_bibblock">
Md. Tahmid Rahman Laskar, Mizanur Rahman, Israt Jahan, Enamul Hoque, and Jimmy Huang. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2305.06147" title="">Cqsumdp: A chatgpt-annotated resource for query-focused abstractive summarization based on debatepedia</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">CoRR</em>, abs/2305.06147.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lee et al. (2019)</span>
<span class="ltx_bibblock">
Kenton Lee, Ming-Wei Chang, and Kristina Toutanova. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/P19-1612" title="">Latent retrieval for weakly supervised open domain question answering</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">Proceedings of the 57th Conference of the Association for Computational Linguistics, ACL 2019, Florence, Italy, July 28- August 2, 2019, Volume 1: Long Papers</em>, pages 6086–6096. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Patrick S. H. Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, Sebastian Riedel, and Douwe Kiela. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://proceedings.neurips.cc/paper/2020/hash/6b493230205f780e1bc26945df7481e5-Abstract.html" title="">Retrieval-augmented generation for knowledge-intensive NLP tasks</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">Advances in Neural Information Processing Systems 33: Annual Conference on Neural Information Processing Systems 2020, NeurIPS 2020, December 6-12, 2020, virtual</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023a)</span>
<span class="ltx_bibblock">
Xian Li, Ping Yu, Chunting Zhou, Timo Schick, Luke Zettlemoyer, Omer Levy, Jason Weston, and Mike Lewis. 2023a.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2308.06259" title="">Self-alignment with instruction backtranslation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">CoRR</em>, abs/2308.06259.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023b)</span>
<span class="ltx_bibblock">
Yucheng Li, Bo Dong, Frank Guerin, and Chenghua Lin. 2023b.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2023.EMNLP-MAIN.391" title="">Compressing context to enhance inference efficiency of large language models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing, EMNLP 2023, Singapore, December 6-10, 2023</em>, pages 6342–6353. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liang et al. (2024)</span>
<span class="ltx_bibblock">
Yuxin Liang, Zhuoyang Song, Hao Wang, and Jiaxing Zhang. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2401.15449" title="">Learning to trust your feelings: Leveraging self-awareness in llms for hallucination mitigation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">CoRR</em>, abs/2401.15449.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2024)</span>
<span class="ltx_bibblock">
Tianqi Liu, Zhen Qin, Junru Wu, Jiaming Shen, Misha Khalman, Rishabh Joshi, Yao Zhao, Mohammad Saleh, Simon Baumgartner, Jialu Liu, Peter J. Liu, and Xuanhui Wang. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2402.01878" title="">Lipo: Listwise preference optimization through learning-to-rank</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">CoRR</em>, abs/2402.01878.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Louis et al. (2024)</span>
<span class="ltx_bibblock">
Antoine Louis, Gijs van Dijck, and Gerasimos Spanakis. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1609/AAAI.V38I20.30232" title="">Interpretable long-form legal question answering with retrieval-augmented large language models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Thirty-Eighth AAAI Conference on Artificial Intelligence, AAAI 2024, Thirty-Sixth Conference on Innovative Applications of Artificial Intelligence, IAAI 2024, Fourteenth Symposium on Educational Advances in Artificial Intelligence, EAAI 2014, February 20-27, 2024, Vancouver, Canada</em>, pages 22266–22275. AAAI Press.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Maynez et al. (2020)</span>
<span class="ltx_bibblock">
Joshua Maynez, Shashi Narayan, Bernd Bohnet, and Ryan T. McDonald. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2020.ACL-MAIN.173" title="">On faithfulness and factuality in abstractive summarization</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics, ACL 2020, Online, July 5-10, 2020</em>, pages 1906–1919. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Min et al. (2019)</span>
<span class="ltx_bibblock">
Sewon Min, Danqi Chen, Luke Zettlemoyer, and Hannaneh Hajishirzi. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1911.03868" title="">Knowledge guided text retrieval and reading for open domain question answering</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">CoRR</em>, abs/1911.03868.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pal et al. (2019)</span>
<span class="ltx_bibblock">
Vaishali Pal, Manish Shrivastava, and Irshad Bhat. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/D19-5401" title="">Answering naturally: Factoid to full length answer generation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">Proceedings of the 2nd Workshop on New Frontiers in Summarization</em>, pages 1–9, Hong Kong, China. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rafailov et al. (2023)</span>
<span class="ltx_bibblock">
Rafael Rafailov, Archit Sharma, Eric Mitchell, Christopher D. Manning, Stefano Ermon, and Chelsea Finn. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://papers.nips.cc/paper_files/paper/2023/hash/a85b405ed65c6477a4fe8302b5e06ce7-Abstract-Conference.html" title="">Direct preference optimization: Your language model is secretly a reward model</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">Advances in Neural Information Processing Systems 36: Annual Conference on Neural Information Processing Systems 2023, NeurIPS 2023, New Orleans, LA, USA, December 10 - 16, 2023</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ram et al. (2023)</span>
<span class="ltx_bibblock">
Ori Ram, Yoav Levine, Itay Dalmedigos, Dor Muhlgay, Amnon Shashua, Kevin Leyton-Brown, and Yoav Shoham. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2302.00083" title="">In-context retrieval-augmented language models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">CoRR</em>, abs/2302.00083.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rashkin et al. (2021)</span>
<span class="ltx_bibblock">
Hannah Rashkin, David Reitter, Gaurav Singh Tomar, and Dipanjan Das. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2021.ACL-LONG.58" title="">Increasing faithfulness in knowledge-grounded dialogue with controllable features</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">Proceedings of the 59th Annual Meeting of the Association for Computational Linguistics and the 11th International Joint Conference on Natural Language Processing, ACL/IJCNLP 2021, (Volume 1: Long Papers), Virtual Event, August 1-6, 2021</em>, pages 704–718. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reimers and Gurevych (2019)</span>
<span class="ltx_bibblock">
Nils Reimers and Iryna Gurevych. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1908.10084" title="">Sentence-bert: Sentence embeddings using siamese bert-networks</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing</em>. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sarthi et al. (2024)</span>
<span class="ltx_bibblock">
Parth Sarthi, Salman Abdullah, Aditi Tuli, Shubh Khanna, Anna Goldie, and Christopher D. Manning. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2401.18059" title="">RAPTOR: recursive abstractive processing for tree-organized retrieval</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">CoRR</em>, abs/2401.18059.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schulman et al. (2017)</span>
<span class="ltx_bibblock">
John Schulman, Filip Wolski, Prafulla Dhariwal, Alec Radford, and Oleg Klimov. 2017.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/1707.06347" title="">Proximal policy optimization algorithms</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">CoRR</em>, abs/1707.06347.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et al. (2023)</span>
<span class="ltx_bibblock">
Freda Shi, Xinyun Chen, Kanishka Misra, Nathan Scales, David Dohan, Ed H. Chi, Nathanael Schärli, and Denny Zhou. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://proceedings.mlr.press/v202/shi23a.html" title="">Large language models can be easily distracted by irrelevant context</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">International Conference on Machine Learning, ICML 2023, 23-29 July 2023, Honolulu, Hawaii, USA</em>, volume 202 of <em class="ltx_emph ltx_font_italic" id="bib.bib40.2.2">Proceedings of Machine Learning Research</em>, pages 31210–31227. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al. (2023a)</span>
<span class="ltx_bibblock">
Zhiqing Sun, Yikang Shen, Hongxin Zhang, Qinhong Zhou, Zhenfang Chen, David D. Cox, Yiming Yang, and Chuang Gan. 2023a.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2310.05910" title="">SALMON: self-alignment with principle-following reward models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">CoRR</em>, abs/2310.05910.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al. (2023b)</span>
<span class="ltx_bibblock">
Zhiqing Sun, Yikang Shen, Qinhong Zhou, Hongxin Zhang, Zhenfang Chen, David D. Cox, Yiming Yang, and Chuang Gan. 2023b.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://papers.nips.cc/paper_files/paper/2023/hash/0764db1151b936aca59249e2c1386101-Abstract-Conference.html" title="">Principle-driven self-alignment of language models from scratch with minimal human supervision</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">Advances in Neural Information Processing Systems 36: Annual Conference on Neural Information Processing Systems 2023, NeurIPS 2023, New Orleans, LA, USA, December 10 - 16, 2023</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, Dan Bikel, Lukas Blecher, Cristian Canton-Ferrer, Moya Chen, Guillem Cucurull, David Esiobu, Jude Fernandes, Jeremy Fu, Wenyin Fu, Brian Fuller, Cynthia Gao, Vedanuj Goswami, Naman Goyal, Anthony Hartshorn, Saghar Hosseini, Rui Hou, Hakan Inan, Marcin Kardas, Viktor Kerkez, Madian Khabsa, Isabel Kloumann, Artem Korenev, Punit Singh Koura, Marie-Anne Lachaux, Thibaut Lavril, Jenya Lee, Diana Liskovich, Yinghai Lu, Yuning Mao, Xavier Martinet, Todor Mihaylov, Pushkar Mishra, Igor Molybog, Yixin Nie, Andrew Poulton, Jeremy Reizenstein, Rashi Rungta, Kalyan Saladi, Alan Schelten, Ruan Silva, Eric Michael Smith, Ranjan Subramanian, Xiaoqing Ellen Tan, Binh Tang, Ross Taylor, Adina Williams, Jian Xiang Kuan, Puxin Xu, Zheng Yan, Iliyan Zarov, Yuchen Zhang, Angela Fan, Melanie Kambadur, Sharan Narang, Aurélien Rodriguez, Robert Stojnic, Sergey Edunov,
and Thomas Scialom. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2307.09288" title="">Llama 2: Open foundation and fine-tuned chat models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">CoRR</em>, abs/2307.09288.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2018)</span>
<span class="ltx_bibblock">
Xuanhui Wang, Cheng Li, Nadav Golbandi, Michael Bendersky, and Marc Najork. 2018.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1145/3269206.3271784" title="">The lambdaloss framework for ranking metric optimization</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">Proceedings of the 27th ACM International Conference on Information and Knowledge Management, CIKM 2018, Torino, Italy, October 22-26, 2018</em>, pages 1313–1322. ACM.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023)</span>
<span class="ltx_bibblock">
Zhiruo Wang, Jun Araki, Zhengbao Jiang, Md. Rizwan Parvez, and Graham Neubig. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2311.08377" title="">Learning to filter context for retrieval-augmented generation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">CoRR</em>, abs/2311.08377.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao et al. (2023)</span>
<span class="ltx_bibblock">
Shitao Xiao, Zheng Liu, Peitian Zhang, and Niklas Muennighof. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2309.07597" title="">C-pack: Packaged resources to advance general chinese embedding</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">CoRR</em>, abs/2309.07597.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiong et al. (2023)</span>
<span class="ltx_bibblock">
Miao Xiong, Zhiyuan Hu, Xinyang Lu, Yifei Li, Jie Fu, Junxian He, and Bryan Hooi. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2306.13063" title="">Can llms express their uncertainty? an empirical evaluation of confidence elicitation in llms</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">CoRR</em>, abs/2306.13063.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2023)</span>
<span class="ltx_bibblock">
Benfeng Xu, Chunxu Zhao, Wenbin Jiang, Pengfei Zhu, Songtai Dai, Chao Pang, Zhuo Sun, Shuohuan Wang, and Yu Sun. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2023.REPL4NLP-1.5" title="">Retrieval-augmented domain adaptation of language models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">Proceedings of the 8th Workshop on Representation Learning for NLP, RepL4NLP@ACL 2023, Toronto, Canada, July 13, 2023</em>, pages 54–64. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2018)</span>
<span class="ltx_bibblock">
Zhilin Yang, Peng Qi, Saizheng Zhang, Yoshua Bengio, William W. Cohen, Ruslan Salakhutdinov, and Christopher D. Manning. 2018.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/D18-1259" title="">Hotpotqa: A dataset for diverse, explainable multi-hop question answering</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">Proceedings of the 2018 Conference on Empirical Methods in Natural Language Processing, Brussels, Belgium, October 31 - November 4, 2018</em>, pages 2369–2380. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et al. (2024)</span>
<span class="ltx_bibblock">
Weizhe Yuan, Richard Yuanzhe Pang, Kyunghyun Cho, Xian Li, Sainbayar Sukhbaatar, Jing Xu, and Jason Weston. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=0NphYCmgua" title="">Self-rewarding language models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">Forty-first International Conference on Machine Learning, ICML 2024, Vienna, Austria, July 21-27, 2024</em>. OpenReview.net.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zakka et al. (2024)</span>
<span class="ltx_bibblock">
Cyril Zakka, Rohan Shad, Akash Chaurasia, Alex R Dalal, Jennifer L Kim, Michael Moor, Robyn Fong, Curran Phillips, Kevin Alexander, Euan Ashley, et al. 2024.

</span>
<span class="ltx_bibblock">Almanac—retrieval-augmented language models for clinical medicine.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib51.1.1">NEJM AI</em>, 1(2):AIoa2300068.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zha et al. (2023)</span>
<span class="ltx_bibblock">
Yuheng Zha, Yichi Yang, Ruichen Li, and Zhiting Hu. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/V1/2023.ACL-LONG.634" title="">Alignscore: Evaluating factual consistency with A unified alignment function</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib52.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), ACL 2023, Toronto, Canada, July 9-14, 2023</em>, pages 11328–11348. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2023)</span>
<span class="ltx_bibblock">
Peitian Zhang, Shitao Xiao, Zheng Liu, Zhicheng Dou, and Jian-Yun Nie. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2310.07554" title="">Retrieve anything to augment large language models</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2024)</span>
<span class="ltx_bibblock">
Xiaoying Zhang, Baolin Peng, Ye Tian, Jingyan Zhou, Lifeng Jin, Linfeng Song, Haitao Mi, and Helen Meng. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2402.09267" title="">Self-alignment for factuality: Mitigating hallucinations in llms via self-evaluation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib54.1.1">CoRR</em>, abs/2402.09267.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al. (2024)</span>
<span class="ltx_bibblock">
Yaowei Zheng, Richong Zhang, Junhao Zhang, Yanhan Ye, Zheyan Luo, and Yongqiang Ma. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2403.13372" title="">Llamafactory: Unified efficient fine-tuning of 100+ language models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">CoRR</em>, abs/2403.13372.

</span>
</li>
</ul>
</section>
<figure class="ltx_table" id="A0.T3">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="A0.T3.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A0.T3.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="A0.T3.1.2.1.1" style="padding:1.25pt 2.7pt;"><span class="ltx_text ltx_font_bold" id="A0.T3.1.2.1.1.1">Dataset</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="A0.T3.1.2.1.2" style="padding:1.25pt 2.7pt;"><span class="ltx_text ltx_font_bold" id="A0.T3.1.2.1.2.1">Task</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A0.T3.1.2.1.3" style="padding:1.25pt 2.7pt;"><span class="ltx_text ltx_font_bold" id="A0.T3.1.2.1.3.1">Metric</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A0.T3.1.2.1.4" style="padding:1.25pt 2.7pt;"><span class="ltx_text ltx_font_bold" id="A0.T3.1.2.1.4.1">#Train</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A0.T3.1.2.1.5" style="padding:1.25pt 2.7pt;"><span class="ltx_text ltx_font_bold" id="A0.T3.1.2.1.5.1">#Dev</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A0.T3.1.2.1.6" style="padding:1.25pt 2.7pt;"><span class="ltx_text ltx_font_bold" id="A0.T3.1.2.1.6.1">#Test</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A0.T3.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A0.T3.1.3.1.1" style="padding:1.25pt 2.7pt;">NQ</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A0.T3.1.3.1.2" style="padding:1.25pt 2.7pt;">Extractive QA</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T3.1.3.1.3" style="padding:1.25pt 2.7pt;">EM</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T3.1.3.1.4" style="padding:1.25pt 2.7pt;">79.1k</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T3.1.3.1.5" style="padding:1.25pt 2.7pt;">8.7k</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A0.T3.1.3.1.6" style="padding:1.25pt 2.7pt;">3.6k</td>
</tr>
<tr class="ltx_tr" id="A0.T3.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A0.T3.1.4.2.1" style="padding:1.25pt 2.7pt;">TQA</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A0.T3.1.4.2.2" style="padding:1.25pt 2.7pt;">Extractive QA</th>
<td class="ltx_td ltx_align_center" id="A0.T3.1.4.2.3" style="padding:1.25pt 2.7pt;">EM</td>
<td class="ltx_td ltx_align_center" id="A0.T3.1.4.2.4" style="padding:1.25pt 2.7pt;">78.7k</td>
<td class="ltx_td ltx_align_center" id="A0.T3.1.4.2.5" style="padding:1.25pt 2.7pt;">8.8k</td>
<td class="ltx_td ltx_align_center" id="A0.T3.1.4.2.6" style="padding:1.25pt 2.7pt;">11.3k</td>
</tr>
<tr class="ltx_tr" id="A0.T3.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="A0.T3.1.1.2" style="padding:1.25pt 2.7pt;">HotpotQA</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="A0.T3.1.1.3" style="padding:1.25pt 2.7pt;">Abstractive QA</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T3.1.1.1" style="padding:1.25pt 2.7pt;"><math alttext="\mathrm{F}_{1}" class="ltx_Math" display="inline" id="A0.T3.1.1.1.m1.1"><semantics id="A0.T3.1.1.1.m1.1a"><msub id="A0.T3.1.1.1.m1.1.1" xref="A0.T3.1.1.1.m1.1.1.cmml"><mi id="A0.T3.1.1.1.m1.1.1.2" mathvariant="normal" xref="A0.T3.1.1.1.m1.1.1.2.cmml">F</mi><mn id="A0.T3.1.1.1.m1.1.1.3" xref="A0.T3.1.1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="A0.T3.1.1.1.m1.1b"><apply id="A0.T3.1.1.1.m1.1.1.cmml" xref="A0.T3.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="A0.T3.1.1.1.m1.1.1.1.cmml" xref="A0.T3.1.1.1.m1.1.1">subscript</csymbol><ci id="A0.T3.1.1.1.m1.1.1.2.cmml" xref="A0.T3.1.1.1.m1.1.1.2">F</ci><cn id="A0.T3.1.1.1.m1.1.1.3.cmml" type="integer" xref="A0.T3.1.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T3.1.1.1.m1.1c">\mathrm{F}_{1}</annotation><annotation encoding="application/x-llamapun" id="A0.T3.1.1.1.m1.1d">roman_F start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T3.1.1.4" style="padding:1.25pt 2.7pt;">88.9k</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T3.1.1.5" style="padding:1.25pt 2.7pt;">5.6k</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A0.T3.1.1.6" style="padding:1.25pt 2.7pt;">5.6k</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>Statistics and task metrics for three datasets.</figcaption>
</figure>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>More Implementation Details</h2>
<div class="ltx_para ltx_noindent" id="A1.p1">
<p class="ltx_p" id="A1.p1.1"><span class="ltx_text ltx_font_bold" id="A1.p1.1.1">Statistics of datasets.</span> We conduct extensive experiments on three benchmark datasets, <span class="ltx_text ltx_font_italic" id="A1.p1.1.2">i.e.,</span> NaturalQuestions (NQ) <cite class="ltx_cite ltx_citemacro_cite">Kwiatkowski et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib22" title="">2019</a>)</cite>, TriviaQA (TQA) <cite class="ltx_cite ltx_citemacro_cite">Joshi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib16" title="">2017</a>)</cite>, and HotpotQA <cite class="ltx_cite ltx_citemacro_cite">Yang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib49" title="">2018</a>)</cite>, for evaluating our proposed method and the competitive baselines.
We show the detailed statistics  of  these datasets in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A0.T3" title="Table 3 ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="A1.p2">
<p class="ltx_p" id="A1.p2.1"><span class="ltx_text ltx_font_bold" id="A1.p2.1.1">Response sampling details.</span>
Given the query and the retrieved passages, we prompt the base extractor to generate 10 candidate response samples and we remove duplicates.
To fully probe the evidence extraction preferences of the base extractor, we have modified the generation configuration to make the responses more varied.
Specifically, we set top-p, top-k, temperature, and the repetition penalty as 1.0, 80, 1.0, and 1.0 respectively, for collecting diverse preference data, used to align the responses of the based extractor with  the  desired  properties.</p>
</div>
<div class="ltx_para ltx_noindent" id="A1.p3">
<p class="ltx_p" id="A1.p3.4"><span class="ltx_text ltx_font_bold" id="A1.p3.4.1">Fine-tuning details.</span> We use the Adam optimizer <cite class="ltx_cite ltx_citemacro_cite">Kingma and Ba (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib19" title="">2015</a>)</cite> with <math alttext="\beta_{1}=0.9" class="ltx_Math" display="inline" id="A1.p3.1.m1.1"><semantics id="A1.p3.1.m1.1a"><mrow id="A1.p3.1.m1.1.1" xref="A1.p3.1.m1.1.1.cmml"><msub id="A1.p3.1.m1.1.1.2" xref="A1.p3.1.m1.1.1.2.cmml"><mi id="A1.p3.1.m1.1.1.2.2" xref="A1.p3.1.m1.1.1.2.2.cmml">β</mi><mn id="A1.p3.1.m1.1.1.2.3" xref="A1.p3.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="A1.p3.1.m1.1.1.1" xref="A1.p3.1.m1.1.1.1.cmml">=</mo><mn id="A1.p3.1.m1.1.1.3" xref="A1.p3.1.m1.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p3.1.m1.1b"><apply id="A1.p3.1.m1.1.1.cmml" xref="A1.p3.1.m1.1.1"><eq id="A1.p3.1.m1.1.1.1.cmml" xref="A1.p3.1.m1.1.1.1"></eq><apply id="A1.p3.1.m1.1.1.2.cmml" xref="A1.p3.1.m1.1.1.2"><csymbol cd="ambiguous" id="A1.p3.1.m1.1.1.2.1.cmml" xref="A1.p3.1.m1.1.1.2">subscript</csymbol><ci id="A1.p3.1.m1.1.1.2.2.cmml" xref="A1.p3.1.m1.1.1.2.2">𝛽</ci><cn id="A1.p3.1.m1.1.1.2.3.cmml" type="integer" xref="A1.p3.1.m1.1.1.2.3">1</cn></apply><cn id="A1.p3.1.m1.1.1.3.cmml" type="float" xref="A1.p3.1.m1.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.1.m1.1c">\beta_{1}=0.9</annotation><annotation encoding="application/x-llamapun" id="A1.p3.1.m1.1d">italic_β start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 0.9</annotation></semantics></math>, <math alttext="\beta_{2}=0.999" class="ltx_Math" display="inline" id="A1.p3.2.m2.1"><semantics id="A1.p3.2.m2.1a"><mrow id="A1.p3.2.m2.1.1" xref="A1.p3.2.m2.1.1.cmml"><msub id="A1.p3.2.m2.1.1.2" xref="A1.p3.2.m2.1.1.2.cmml"><mi id="A1.p3.2.m2.1.1.2.2" xref="A1.p3.2.m2.1.1.2.2.cmml">β</mi><mn id="A1.p3.2.m2.1.1.2.3" xref="A1.p3.2.m2.1.1.2.3.cmml">2</mn></msub><mo id="A1.p3.2.m2.1.1.1" xref="A1.p3.2.m2.1.1.1.cmml">=</mo><mn id="A1.p3.2.m2.1.1.3" xref="A1.p3.2.m2.1.1.3.cmml">0.999</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p3.2.m2.1b"><apply id="A1.p3.2.m2.1.1.cmml" xref="A1.p3.2.m2.1.1"><eq id="A1.p3.2.m2.1.1.1.cmml" xref="A1.p3.2.m2.1.1.1"></eq><apply id="A1.p3.2.m2.1.1.2.cmml" xref="A1.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="A1.p3.2.m2.1.1.2.1.cmml" xref="A1.p3.2.m2.1.1.2">subscript</csymbol><ci id="A1.p3.2.m2.1.1.2.2.cmml" xref="A1.p3.2.m2.1.1.2.2">𝛽</ci><cn id="A1.p3.2.m2.1.1.2.3.cmml" type="integer" xref="A1.p3.2.m2.1.1.2.3">2</cn></apply><cn id="A1.p3.2.m2.1.1.3.cmml" type="float" xref="A1.p3.2.m2.1.1.3">0.999</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.2.m2.1c">\beta_{2}=0.999</annotation><annotation encoding="application/x-llamapun" id="A1.p3.2.m2.1d">italic_β start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = 0.999</annotation></semantics></math>, and <math alttext="eps=1e^{-8}" class="ltx_Math" display="inline" id="A1.p3.3.m3.1"><semantics id="A1.p3.3.m3.1a"><mrow id="A1.p3.3.m3.1.1" xref="A1.p3.3.m3.1.1.cmml"><mrow id="A1.p3.3.m3.1.1.2" xref="A1.p3.3.m3.1.1.2.cmml"><mi id="A1.p3.3.m3.1.1.2.2" xref="A1.p3.3.m3.1.1.2.2.cmml">e</mi><mo id="A1.p3.3.m3.1.1.2.1" xref="A1.p3.3.m3.1.1.2.1.cmml">⁢</mo><mi id="A1.p3.3.m3.1.1.2.3" xref="A1.p3.3.m3.1.1.2.3.cmml">p</mi><mo id="A1.p3.3.m3.1.1.2.1a" xref="A1.p3.3.m3.1.1.2.1.cmml">⁢</mo><mi id="A1.p3.3.m3.1.1.2.4" xref="A1.p3.3.m3.1.1.2.4.cmml">s</mi></mrow><mo id="A1.p3.3.m3.1.1.1" xref="A1.p3.3.m3.1.1.1.cmml">=</mo><mrow id="A1.p3.3.m3.1.1.3" xref="A1.p3.3.m3.1.1.3.cmml"><mn id="A1.p3.3.m3.1.1.3.2" xref="A1.p3.3.m3.1.1.3.2.cmml">1</mn><mo id="A1.p3.3.m3.1.1.3.1" xref="A1.p3.3.m3.1.1.3.1.cmml">⁢</mo><msup id="A1.p3.3.m3.1.1.3.3" xref="A1.p3.3.m3.1.1.3.3.cmml"><mi id="A1.p3.3.m3.1.1.3.3.2" xref="A1.p3.3.m3.1.1.3.3.2.cmml">e</mi><mrow id="A1.p3.3.m3.1.1.3.3.3" xref="A1.p3.3.m3.1.1.3.3.3.cmml"><mo id="A1.p3.3.m3.1.1.3.3.3a" xref="A1.p3.3.m3.1.1.3.3.3.cmml">−</mo><mn id="A1.p3.3.m3.1.1.3.3.3.2" xref="A1.p3.3.m3.1.1.3.3.3.2.cmml">8</mn></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.p3.3.m3.1b"><apply id="A1.p3.3.m3.1.1.cmml" xref="A1.p3.3.m3.1.1"><eq id="A1.p3.3.m3.1.1.1.cmml" xref="A1.p3.3.m3.1.1.1"></eq><apply id="A1.p3.3.m3.1.1.2.cmml" xref="A1.p3.3.m3.1.1.2"><times id="A1.p3.3.m3.1.1.2.1.cmml" xref="A1.p3.3.m3.1.1.2.1"></times><ci id="A1.p3.3.m3.1.1.2.2.cmml" xref="A1.p3.3.m3.1.1.2.2">𝑒</ci><ci id="A1.p3.3.m3.1.1.2.3.cmml" xref="A1.p3.3.m3.1.1.2.3">𝑝</ci><ci id="A1.p3.3.m3.1.1.2.4.cmml" xref="A1.p3.3.m3.1.1.2.4">𝑠</ci></apply><apply id="A1.p3.3.m3.1.1.3.cmml" xref="A1.p3.3.m3.1.1.3"><times id="A1.p3.3.m3.1.1.3.1.cmml" xref="A1.p3.3.m3.1.1.3.1"></times><cn id="A1.p3.3.m3.1.1.3.2.cmml" type="integer" xref="A1.p3.3.m3.1.1.3.2">1</cn><apply id="A1.p3.3.m3.1.1.3.3.cmml" xref="A1.p3.3.m3.1.1.3.3"><csymbol cd="ambiguous" id="A1.p3.3.m3.1.1.3.3.1.cmml" xref="A1.p3.3.m3.1.1.3.3">superscript</csymbol><ci id="A1.p3.3.m3.1.1.3.3.2.cmml" xref="A1.p3.3.m3.1.1.3.3.2">𝑒</ci><apply id="A1.p3.3.m3.1.1.3.3.3.cmml" xref="A1.p3.3.m3.1.1.3.3.3"><minus id="A1.p3.3.m3.1.1.3.3.3.1.cmml" xref="A1.p3.3.m3.1.1.3.3.3"></minus><cn id="A1.p3.3.m3.1.1.3.3.3.2.cmml" type="integer" xref="A1.p3.3.m3.1.1.3.3.3.2">8</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.3.m3.1c">eps=1e^{-8}</annotation><annotation encoding="application/x-llamapun" id="A1.p3.3.m3.1d">italic_e italic_p italic_s = 1 italic_e start_POSTSUPERSCRIPT - 8 end_POSTSUPERSCRIPT</annotation></semantics></math>.
The learning rate is <math alttext="1e^{-5}" class="ltx_Math" display="inline" id="A1.p3.4.m4.1"><semantics id="A1.p3.4.m4.1a"><mrow id="A1.p3.4.m4.1.1" xref="A1.p3.4.m4.1.1.cmml"><mn id="A1.p3.4.m4.1.1.2" xref="A1.p3.4.m4.1.1.2.cmml">1</mn><mo id="A1.p3.4.m4.1.1.1" xref="A1.p3.4.m4.1.1.1.cmml">⁢</mo><msup id="A1.p3.4.m4.1.1.3" xref="A1.p3.4.m4.1.1.3.cmml"><mi id="A1.p3.4.m4.1.1.3.2" xref="A1.p3.4.m4.1.1.3.2.cmml">e</mi><mrow id="A1.p3.4.m4.1.1.3.3" xref="A1.p3.4.m4.1.1.3.3.cmml"><mo id="A1.p3.4.m4.1.1.3.3a" xref="A1.p3.4.m4.1.1.3.3.cmml">−</mo><mn id="A1.p3.4.m4.1.1.3.3.2" xref="A1.p3.4.m4.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.p3.4.m4.1b"><apply id="A1.p3.4.m4.1.1.cmml" xref="A1.p3.4.m4.1.1"><times id="A1.p3.4.m4.1.1.1.cmml" xref="A1.p3.4.m4.1.1.1"></times><cn id="A1.p3.4.m4.1.1.2.cmml" type="integer" xref="A1.p3.4.m4.1.1.2">1</cn><apply id="A1.p3.4.m4.1.1.3.cmml" xref="A1.p3.4.m4.1.1.3"><csymbol cd="ambiguous" id="A1.p3.4.m4.1.1.3.1.cmml" xref="A1.p3.4.m4.1.1.3">superscript</csymbol><ci id="A1.p3.4.m4.1.1.3.2.cmml" xref="A1.p3.4.m4.1.1.3.2">𝑒</ci><apply id="A1.p3.4.m4.1.1.3.3.cmml" xref="A1.p3.4.m4.1.1.3.3"><minus id="A1.p3.4.m4.1.1.3.3.1.cmml" xref="A1.p3.4.m4.1.1.3.3"></minus><cn id="A1.p3.4.m4.1.1.3.3.2.cmml" type="integer" xref="A1.p3.4.m4.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.4.m4.1c">1e^{-5}</annotation><annotation encoding="application/x-llamapun" id="A1.p3.4.m4.1d">1 italic_e start_POSTSUPERSCRIPT - 5 end_POSTSUPERSCRIPT</annotation></semantics></math> with 1.5% warmup ratio and cosine scheduler. The batch size, gradient accumulation step, and number of epochs are set as 16, 2, and 2.0, respectively.
We leverage the parameter-efficient fine-tuning technique, specifically LoRA <cite class="ltx_cite ltx_citemacro_cite">Hu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib11" title="">2022</a>)</cite>, where we employ the Llama-Factory<span class="ltx_note ltx_role_footnote" id="footnote9"><sup class="ltx_note_mark">9</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">9</sup><span class="ltx_tag ltx_tag_note">9</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/hiyouga/LLaMA-Factory" title="">https://github.com/hiyouga/LLaMA-Factory</a>.</span></span></span> fine-tuning framework <cite class="ltx_cite ltx_citemacro_cite">Zheng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#bib.bib55" title="">2024</a>)</cite> to implement all the preference optimization methods for fair comparisons.</p>
</div>
<div class="ltx_para ltx_noindent" id="A1.p4">
<p class="ltx_p" id="A1.p4.4"><span class="ltx_text ltx_font_bold" id="A1.p4.4.1">Context relevance details.</span> In Section <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S2" title="2 Preliminaries ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>, we use context relevance as the metric to measure how well the extracted evidence fits the current user query and can be effectively used to augment the quality of generation.
To this end, we naturally define context relevance as the cosine similarity between the extracted evidence and the user query:</p>
<table class="ltx_equation ltx_eqn_table" id="A1.E10">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="{s}^{cr}=\mathrm{SBERT}_{\mathrm{cosine}}(q,e)," class="ltx_Math" display="block" id="A1.E10.m1.3"><semantics id="A1.E10.m1.3a"><mrow id="A1.E10.m1.3.3.1" xref="A1.E10.m1.3.3.1.1.cmml"><mrow id="A1.E10.m1.3.3.1.1" xref="A1.E10.m1.3.3.1.1.cmml"><msup id="A1.E10.m1.3.3.1.1.2" xref="A1.E10.m1.3.3.1.1.2.cmml"><mi id="A1.E10.m1.3.3.1.1.2.2" xref="A1.E10.m1.3.3.1.1.2.2.cmml">s</mi><mrow id="A1.E10.m1.3.3.1.1.2.3" xref="A1.E10.m1.3.3.1.1.2.3.cmml"><mi id="A1.E10.m1.3.3.1.1.2.3.2" xref="A1.E10.m1.3.3.1.1.2.3.2.cmml">c</mi><mo id="A1.E10.m1.3.3.1.1.2.3.1" xref="A1.E10.m1.3.3.1.1.2.3.1.cmml">⁢</mo><mi id="A1.E10.m1.3.3.1.1.2.3.3" xref="A1.E10.m1.3.3.1.1.2.3.3.cmml">r</mi></mrow></msup><mo id="A1.E10.m1.3.3.1.1.1" xref="A1.E10.m1.3.3.1.1.1.cmml">=</mo><mrow id="A1.E10.m1.3.3.1.1.3" xref="A1.E10.m1.3.3.1.1.3.cmml"><msub id="A1.E10.m1.3.3.1.1.3.2" xref="A1.E10.m1.3.3.1.1.3.2.cmml"><mi id="A1.E10.m1.3.3.1.1.3.2.2" xref="A1.E10.m1.3.3.1.1.3.2.2.cmml">SBERT</mi><mi id="A1.E10.m1.3.3.1.1.3.2.3" xref="A1.E10.m1.3.3.1.1.3.2.3.cmml">cosine</mi></msub><mo id="A1.E10.m1.3.3.1.1.3.1" xref="A1.E10.m1.3.3.1.1.3.1.cmml">⁢</mo><mrow id="A1.E10.m1.3.3.1.1.3.3.2" xref="A1.E10.m1.3.3.1.1.3.3.1.cmml"><mo id="A1.E10.m1.3.3.1.1.3.3.2.1" stretchy="false" xref="A1.E10.m1.3.3.1.1.3.3.1.cmml">(</mo><mi id="A1.E10.m1.1.1" xref="A1.E10.m1.1.1.cmml">q</mi><mo id="A1.E10.m1.3.3.1.1.3.3.2.2" xref="A1.E10.m1.3.3.1.1.3.3.1.cmml">,</mo><mi id="A1.E10.m1.2.2" xref="A1.E10.m1.2.2.cmml">e</mi><mo id="A1.E10.m1.3.3.1.1.3.3.2.3" stretchy="false" xref="A1.E10.m1.3.3.1.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="A1.E10.m1.3.3.1.2" xref="A1.E10.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.E10.m1.3b"><apply id="A1.E10.m1.3.3.1.1.cmml" xref="A1.E10.m1.3.3.1"><eq id="A1.E10.m1.3.3.1.1.1.cmml" xref="A1.E10.m1.3.3.1.1.1"></eq><apply id="A1.E10.m1.3.3.1.1.2.cmml" xref="A1.E10.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="A1.E10.m1.3.3.1.1.2.1.cmml" xref="A1.E10.m1.3.3.1.1.2">superscript</csymbol><ci id="A1.E10.m1.3.3.1.1.2.2.cmml" xref="A1.E10.m1.3.3.1.1.2.2">𝑠</ci><apply id="A1.E10.m1.3.3.1.1.2.3.cmml" xref="A1.E10.m1.3.3.1.1.2.3"><times id="A1.E10.m1.3.3.1.1.2.3.1.cmml" xref="A1.E10.m1.3.3.1.1.2.3.1"></times><ci id="A1.E10.m1.3.3.1.1.2.3.2.cmml" xref="A1.E10.m1.3.3.1.1.2.3.2">𝑐</ci><ci id="A1.E10.m1.3.3.1.1.2.3.3.cmml" xref="A1.E10.m1.3.3.1.1.2.3.3">𝑟</ci></apply></apply><apply id="A1.E10.m1.3.3.1.1.3.cmml" xref="A1.E10.m1.3.3.1.1.3"><times id="A1.E10.m1.3.3.1.1.3.1.cmml" xref="A1.E10.m1.3.3.1.1.3.1"></times><apply id="A1.E10.m1.3.3.1.1.3.2.cmml" xref="A1.E10.m1.3.3.1.1.3.2"><csymbol cd="ambiguous" id="A1.E10.m1.3.3.1.1.3.2.1.cmml" xref="A1.E10.m1.3.3.1.1.3.2">subscript</csymbol><ci id="A1.E10.m1.3.3.1.1.3.2.2.cmml" xref="A1.E10.m1.3.3.1.1.3.2.2">SBERT</ci><ci id="A1.E10.m1.3.3.1.1.3.2.3.cmml" xref="A1.E10.m1.3.3.1.1.3.2.3">cosine</ci></apply><interval closure="open" id="A1.E10.m1.3.3.1.1.3.3.1.cmml" xref="A1.E10.m1.3.3.1.1.3.3.2"><ci id="A1.E10.m1.1.1.cmml" xref="A1.E10.m1.1.1">𝑞</ci><ci id="A1.E10.m1.2.2.cmml" xref="A1.E10.m1.2.2">𝑒</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.E10.m1.3c">{s}^{cr}=\mathrm{SBERT}_{\mathrm{cosine}}(q,e),</annotation><annotation encoding="application/x-llamapun" id="A1.E10.m1.3d">italic_s start_POSTSUPERSCRIPT italic_c italic_r end_POSTSUPERSCRIPT = roman_SBERT start_POSTSUBSCRIPT roman_cosine end_POSTSUBSCRIPT ( italic_q , italic_e ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A1.p4.3">where <math alttext="s^{cr}\in[-1,1]" class="ltx_Math" display="inline" id="A1.p4.1.m1.2"><semantics id="A1.p4.1.m1.2a"><mrow id="A1.p4.1.m1.2.2" xref="A1.p4.1.m1.2.2.cmml"><msup id="A1.p4.1.m1.2.2.3" xref="A1.p4.1.m1.2.2.3.cmml"><mi id="A1.p4.1.m1.2.2.3.2" xref="A1.p4.1.m1.2.2.3.2.cmml">s</mi><mrow id="A1.p4.1.m1.2.2.3.3" xref="A1.p4.1.m1.2.2.3.3.cmml"><mi id="A1.p4.1.m1.2.2.3.3.2" xref="A1.p4.1.m1.2.2.3.3.2.cmml">c</mi><mo id="A1.p4.1.m1.2.2.3.3.1" xref="A1.p4.1.m1.2.2.3.3.1.cmml">⁢</mo><mi id="A1.p4.1.m1.2.2.3.3.3" xref="A1.p4.1.m1.2.2.3.3.3.cmml">r</mi></mrow></msup><mo id="A1.p4.1.m1.2.2.2" xref="A1.p4.1.m1.2.2.2.cmml">∈</mo><mrow id="A1.p4.1.m1.2.2.1.1" xref="A1.p4.1.m1.2.2.1.2.cmml"><mo id="A1.p4.1.m1.2.2.1.1.2" stretchy="false" xref="A1.p4.1.m1.2.2.1.2.cmml">[</mo><mrow id="A1.p4.1.m1.2.2.1.1.1" xref="A1.p4.1.m1.2.2.1.1.1.cmml"><mo id="A1.p4.1.m1.2.2.1.1.1a" xref="A1.p4.1.m1.2.2.1.1.1.cmml">−</mo><mn id="A1.p4.1.m1.2.2.1.1.1.2" xref="A1.p4.1.m1.2.2.1.1.1.2.cmml">1</mn></mrow><mo id="A1.p4.1.m1.2.2.1.1.3" xref="A1.p4.1.m1.2.2.1.2.cmml">,</mo><mn id="A1.p4.1.m1.1.1" xref="A1.p4.1.m1.1.1.cmml">1</mn><mo id="A1.p4.1.m1.2.2.1.1.4" stretchy="false" xref="A1.p4.1.m1.2.2.1.2.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.p4.1.m1.2b"><apply id="A1.p4.1.m1.2.2.cmml" xref="A1.p4.1.m1.2.2"><in id="A1.p4.1.m1.2.2.2.cmml" xref="A1.p4.1.m1.2.2.2"></in><apply id="A1.p4.1.m1.2.2.3.cmml" xref="A1.p4.1.m1.2.2.3"><csymbol cd="ambiguous" id="A1.p4.1.m1.2.2.3.1.cmml" xref="A1.p4.1.m1.2.2.3">superscript</csymbol><ci id="A1.p4.1.m1.2.2.3.2.cmml" xref="A1.p4.1.m1.2.2.3.2">𝑠</ci><apply id="A1.p4.1.m1.2.2.3.3.cmml" xref="A1.p4.1.m1.2.2.3.3"><times id="A1.p4.1.m1.2.2.3.3.1.cmml" xref="A1.p4.1.m1.2.2.3.3.1"></times><ci id="A1.p4.1.m1.2.2.3.3.2.cmml" xref="A1.p4.1.m1.2.2.3.3.2">𝑐</ci><ci id="A1.p4.1.m1.2.2.3.3.3.cmml" xref="A1.p4.1.m1.2.2.3.3.3">𝑟</ci></apply></apply><interval closure="closed" id="A1.p4.1.m1.2.2.1.2.cmml" xref="A1.p4.1.m1.2.2.1.1"><apply id="A1.p4.1.m1.2.2.1.1.1.cmml" xref="A1.p4.1.m1.2.2.1.1.1"><minus id="A1.p4.1.m1.2.2.1.1.1.1.cmml" xref="A1.p4.1.m1.2.2.1.1.1"></minus><cn id="A1.p4.1.m1.2.2.1.1.1.2.cmml" type="integer" xref="A1.p4.1.m1.2.2.1.1.1.2">1</cn></apply><cn id="A1.p4.1.m1.1.1.cmml" type="integer" xref="A1.p4.1.m1.1.1">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p4.1.m1.2c">s^{cr}\in[-1,1]</annotation><annotation encoding="application/x-llamapun" id="A1.p4.1.m1.2d">italic_s start_POSTSUPERSCRIPT italic_c italic_r end_POSTSUPERSCRIPT ∈ [ - 1 , 1 ]</annotation></semantics></math> is the context relevance score; <math alttext="q" class="ltx_Math" display="inline" id="A1.p4.2.m2.1"><semantics id="A1.p4.2.m2.1a"><mi id="A1.p4.2.m2.1.1" xref="A1.p4.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="A1.p4.2.m2.1b"><ci id="A1.p4.2.m2.1.1.cmml" xref="A1.p4.2.m2.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p4.2.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="A1.p4.2.m2.1d">italic_q</annotation></semantics></math> and <math alttext="e" class="ltx_Math" display="inline" id="A1.p4.3.m3.1"><semantics id="A1.p4.3.m3.1a"><mi id="A1.p4.3.m3.1.1" xref="A1.p4.3.m3.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="A1.p4.3.m3.1b"><ci id="A1.p4.3.m3.1.1.cmml" xref="A1.p4.3.m3.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p4.3.m3.1c">e</annotation><annotation encoding="application/x-llamapun" id="A1.p4.3.m3.1d">italic_e</annotation></semantics></math> denote the query and evidence, respectively.</p>
</div>
<div class="ltx_para ltx_noindent" id="A1.p5">
<p class="ltx_p" id="A1.p5.5"><span class="ltx_text ltx_font_bold" id="A1.p5.5.1">Silver faithfulness details.</span> In Section <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S4.SS4" title="4.4 Robustness Analysis (RQ3) ‣ 4 Experiments ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">4.4</span></a>, we devise a metric, silver faithfulness, to measure the robustness of the evidence extractor against data noise issues commonly existing in real-world scenarios.
Specifically, we fed the mixture of the relevant retrieved passage and the randomly sampled irrelevant passages into the extractor.
Then, we treat the relevant retrieved passage and extracted evidence as the premise and hypothesis, respectively, measuring how well the extractor is robust to irrelevant context, which can  be  formulated  as:</p>
<table class="ltx_equation ltx_eqn_table" id="A1.E11">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="s^{sf}=\textsc{AlignScore}(\hat{p},e),\quad e=\tilde{\mathcal{E}}(\cdot|q%
\oplus\breve{P})," class="ltx_math_unparsed" display="block" id="A1.E11.m1.2"><semantics id="A1.E11.m1.2a"><mrow id="A1.E11.m1.2b"><msup id="A1.E11.m1.2.3"><mi id="A1.E11.m1.2.3.2">s</mi><mrow id="A1.E11.m1.2.3.3"><mi id="A1.E11.m1.2.3.3.2">s</mi><mo id="A1.E11.m1.2.3.3.1">⁢</mo><mi id="A1.E11.m1.2.3.3.3">f</mi></mrow></msup><mo id="A1.E11.m1.2.4">=</mo><mtext class="ltx_font_smallcaps" id="A1.E11.m1.2.5">AlignScore</mtext><mrow id="A1.E11.m1.2.6"><mo id="A1.E11.m1.2.6.1" stretchy="false">(</mo><mover accent="true" id="A1.E11.m1.1.1"><mi id="A1.E11.m1.1.1.2">p</mi><mo id="A1.E11.m1.1.1.1">^</mo></mover><mo id="A1.E11.m1.2.6.2">,</mo><mi id="A1.E11.m1.2.2">e</mi><mo id="A1.E11.m1.2.6.3" stretchy="false">)</mo></mrow><mo id="A1.E11.m1.2.7" rspace="1.167em">,</mo><mi id="A1.E11.m1.2.8">e</mi><mo id="A1.E11.m1.2.9">=</mo><mover accent="true" id="A1.E11.m1.2.10"><mi class="ltx_font_mathcaligraphic" id="A1.E11.m1.2.10.2">ℰ</mi><mo id="A1.E11.m1.2.10.1">~</mo></mover><mrow id="A1.E11.m1.2.11"><mo id="A1.E11.m1.2.11.1" stretchy="false">(</mo><mo id="A1.E11.m1.2.11.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="A1.E11.m1.2.11.3" rspace="0.167em" stretchy="false">|</mo><mi id="A1.E11.m1.2.11.4">q</mi><mo id="A1.E11.m1.2.11.5">⊕</mo><mover accent="true" id="A1.E11.m1.2.11.6"><mi id="A1.E11.m1.2.11.6.2">P</mi><mo id="A1.E11.m1.2.11.6.1">˘</mo></mover><mo id="A1.E11.m1.2.11.7" stretchy="false">)</mo></mrow><mo id="A1.E11.m1.2.12">,</mo></mrow><annotation encoding="application/x-tex" id="A1.E11.m1.2c">s^{sf}=\textsc{AlignScore}(\hat{p},e),\quad e=\tilde{\mathcal{E}}(\cdot|q%
\oplus\breve{P}),</annotation><annotation encoding="application/x-llamapun" id="A1.E11.m1.2d">italic_s start_POSTSUPERSCRIPT italic_s italic_f end_POSTSUPERSCRIPT = AlignScore ( over^ start_ARG italic_p end_ARG , italic_e ) , italic_e = over~ start_ARG caligraphic_E end_ARG ( ⋅ | italic_q ⊕ over˘ start_ARG italic_P end_ARG ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A1.p5.4">where <math alttext="s^{sf}\in[0,1]" class="ltx_Math" display="inline" id="A1.p5.1.m1.2"><semantics id="A1.p5.1.m1.2a"><mrow id="A1.p5.1.m1.2.3" xref="A1.p5.1.m1.2.3.cmml"><msup id="A1.p5.1.m1.2.3.2" xref="A1.p5.1.m1.2.3.2.cmml"><mi id="A1.p5.1.m1.2.3.2.2" xref="A1.p5.1.m1.2.3.2.2.cmml">s</mi><mrow id="A1.p5.1.m1.2.3.2.3" xref="A1.p5.1.m1.2.3.2.3.cmml"><mi id="A1.p5.1.m1.2.3.2.3.2" xref="A1.p5.1.m1.2.3.2.3.2.cmml">s</mi><mo id="A1.p5.1.m1.2.3.2.3.1" xref="A1.p5.1.m1.2.3.2.3.1.cmml">⁢</mo><mi id="A1.p5.1.m1.2.3.2.3.3" xref="A1.p5.1.m1.2.3.2.3.3.cmml">f</mi></mrow></msup><mo id="A1.p5.1.m1.2.3.1" xref="A1.p5.1.m1.2.3.1.cmml">∈</mo><mrow id="A1.p5.1.m1.2.3.3.2" xref="A1.p5.1.m1.2.3.3.1.cmml"><mo id="A1.p5.1.m1.2.3.3.2.1" stretchy="false" xref="A1.p5.1.m1.2.3.3.1.cmml">[</mo><mn id="A1.p5.1.m1.1.1" xref="A1.p5.1.m1.1.1.cmml">0</mn><mo id="A1.p5.1.m1.2.3.3.2.2" xref="A1.p5.1.m1.2.3.3.1.cmml">,</mo><mn id="A1.p5.1.m1.2.2" xref="A1.p5.1.m1.2.2.cmml">1</mn><mo id="A1.p5.1.m1.2.3.3.2.3" stretchy="false" xref="A1.p5.1.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.p5.1.m1.2b"><apply id="A1.p5.1.m1.2.3.cmml" xref="A1.p5.1.m1.2.3"><in id="A1.p5.1.m1.2.3.1.cmml" xref="A1.p5.1.m1.2.3.1"></in><apply id="A1.p5.1.m1.2.3.2.cmml" xref="A1.p5.1.m1.2.3.2"><csymbol cd="ambiguous" id="A1.p5.1.m1.2.3.2.1.cmml" xref="A1.p5.1.m1.2.3.2">superscript</csymbol><ci id="A1.p5.1.m1.2.3.2.2.cmml" xref="A1.p5.1.m1.2.3.2.2">𝑠</ci><apply id="A1.p5.1.m1.2.3.2.3.cmml" xref="A1.p5.1.m1.2.3.2.3"><times id="A1.p5.1.m1.2.3.2.3.1.cmml" xref="A1.p5.1.m1.2.3.2.3.1"></times><ci id="A1.p5.1.m1.2.3.2.3.2.cmml" xref="A1.p5.1.m1.2.3.2.3.2">𝑠</ci><ci id="A1.p5.1.m1.2.3.2.3.3.cmml" xref="A1.p5.1.m1.2.3.2.3.3">𝑓</ci></apply></apply><interval closure="closed" id="A1.p5.1.m1.2.3.3.1.cmml" xref="A1.p5.1.m1.2.3.3.2"><cn id="A1.p5.1.m1.1.1.cmml" type="integer" xref="A1.p5.1.m1.1.1">0</cn><cn id="A1.p5.1.m1.2.2.cmml" type="integer" xref="A1.p5.1.m1.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p5.1.m1.2c">s^{sf}\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="A1.p5.1.m1.2d">italic_s start_POSTSUPERSCRIPT italic_s italic_f end_POSTSUPERSCRIPT ∈ [ 0 , 1 ]</annotation></semantics></math> is the silver faithfulness score; <math alttext="\hat{p}" class="ltx_Math" display="inline" id="A1.p5.2.m2.1"><semantics id="A1.p5.2.m2.1a"><mover accent="true" id="A1.p5.2.m2.1.1" xref="A1.p5.2.m2.1.1.cmml"><mi id="A1.p5.2.m2.1.1.2" xref="A1.p5.2.m2.1.1.2.cmml">p</mi><mo id="A1.p5.2.m2.1.1.1" xref="A1.p5.2.m2.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="A1.p5.2.m2.1b"><apply id="A1.p5.2.m2.1.1.cmml" xref="A1.p5.2.m2.1.1"><ci id="A1.p5.2.m2.1.1.1.cmml" xref="A1.p5.2.m2.1.1.1">^</ci><ci id="A1.p5.2.m2.1.1.2.cmml" xref="A1.p5.2.m2.1.1.2">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p5.2.m2.1c">\hat{p}</annotation><annotation encoding="application/x-llamapun" id="A1.p5.2.m2.1d">over^ start_ARG italic_p end_ARG</annotation></semantics></math> is the relevant retrieved passage; <math alttext="\breve{P}" class="ltx_Math" display="inline" id="A1.p5.3.m3.1"><semantics id="A1.p5.3.m3.1a"><mover accent="true" id="A1.p5.3.m3.1.1" xref="A1.p5.3.m3.1.1.cmml"><mi id="A1.p5.3.m3.1.1.2" xref="A1.p5.3.m3.1.1.2.cmml">P</mi><mo id="A1.p5.3.m3.1.1.1" xref="A1.p5.3.m3.1.1.1.cmml">˘</mo></mover><annotation-xml encoding="MathML-Content" id="A1.p5.3.m3.1b"><apply id="A1.p5.3.m3.1.1.cmml" xref="A1.p5.3.m3.1.1"><ci id="A1.p5.3.m3.1.1.1.cmml" xref="A1.p5.3.m3.1.1.1">˘</ci><ci id="A1.p5.3.m3.1.1.2.cmml" xref="A1.p5.3.m3.1.1.2">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p5.3.m3.1c">\breve{P}</annotation><annotation encoding="application/x-llamapun" id="A1.p5.3.m3.1d">over˘ start_ARG italic_P end_ARG</annotation></semantics></math> is the mixture of <math alttext="\hat{p}" class="ltx_Math" display="inline" id="A1.p5.4.m4.1"><semantics id="A1.p5.4.m4.1a"><mover accent="true" id="A1.p5.4.m4.1.1" xref="A1.p5.4.m4.1.1.cmml"><mi id="A1.p5.4.m4.1.1.2" xref="A1.p5.4.m4.1.1.2.cmml">p</mi><mo id="A1.p5.4.m4.1.1.1" xref="A1.p5.4.m4.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="A1.p5.4.m4.1b"><apply id="A1.p5.4.m4.1.1.cmml" xref="A1.p5.4.m4.1.1"><ci id="A1.p5.4.m4.1.1.1.cmml" xref="A1.p5.4.m4.1.1.1">^</ci><ci id="A1.p5.4.m4.1.1.2.cmml" xref="A1.p5.4.m4.1.1.2">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p5.4.m4.1c">\hat{p}</annotation><annotation encoding="application/x-llamapun" id="A1.p5.4.m4.1d">over^ start_ARG italic_p end_ARG</annotation></semantics></math> and those randomly sampled irrelevant  passages.</p>
</div>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Full-length Answer Generation</h2>
<figure class="ltx_table" id="A2.T4">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T4.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T4.1.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T4.1.1.1.1" style="padding-top:2pt;padding-bottom:2pt;">
<span class="ltx_inline-block ltx_align_top" id="A2.T4.1.1.1.1.1">
<span class="ltx_p" id="A2.T4.1.1.1.1.1.1" style="width:418.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T4.1.1.1.1.1.1.1">Question:</span> Which branch of philosophy is concerned with fundamental questions about the nature of reality?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T4.1.2.2">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T4.1.2.2.1" style="padding-top:2pt;padding-bottom:2pt;">
<span class="ltx_inline-block ltx_align_top" id="A2.T4.1.2.2.1.1">
<span class="ltx_p" id="A2.T4.1.2.2.1.1.1" style="width:418.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T4.1.2.2.1.1.1.1">Answer:</span> Metaphysics</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T4.1.3.3">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T4.1.3.3.1" style="padding-top:2pt;padding-bottom:2pt;">
<span class="ltx_inline-block ltx_align_top" id="A2.T4.1.3.3.1.1">
<span class="ltx_p" id="A2.T4.1.3.3.1.1.1" style="width:418.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T4.1.3.3.1.1.1.1">Full-length answer:</span> Metaphysics is the branch of philosophy concerned with fundamental questions about the nature of reality.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T4.1.4.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T4.1.4.4.1" style="padding-top:2pt;padding-bottom:2pt;">
<span class="ltx_inline-block ltx_align_top" id="A2.T4.1.4.4.1.1">
<span class="ltx_p" id="A2.T4.1.4.4.1.1.1" style="width:418.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T4.1.4.4.1.1.1.1">Question:</span> What country used the Drachma as its currency, before switching to the Euro in 2001?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T4.1.5.5">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T4.1.5.5.1" style="padding-top:2pt;padding-bottom:2pt;">
<span class="ltx_inline-block ltx_align_top" id="A2.T4.1.5.5.1.1">
<span class="ltx_p" id="A2.T4.1.5.5.1.1.1" style="width:418.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T4.1.5.5.1.1.1.1">Answer:</span> Greece</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T4.1.6.6">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T4.1.6.6.1" style="padding-top:2pt;padding-bottom:2pt;">
<span class="ltx_inline-block ltx_align_top" id="A2.T4.1.6.6.1.1">
<span class="ltx_p" id="A2.T4.1.6.6.1.1.1" style="width:418.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T4.1.6.6.1.1.1.1">Full-length answer:</span> Greece used the Drachma as its currency before switching to the Euro in 2001.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T4.1.7.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T4.1.7.7.1" style="padding-top:2pt;padding-bottom:2pt;">
<span class="ltx_inline-block ltx_align_top" id="A2.T4.1.7.7.1.1">
<span class="ltx_p" id="A2.T4.1.7.7.1.1.1" style="width:418.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T4.1.7.7.1.1.1.1">Question:</span> Californian rock band Lit recorded A Place in the Sun in 1995, but what’s their best known song?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T4.1.8.8">
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T4.1.8.8.1" style="padding-top:2pt;padding-bottom:2pt;">
<span class="ltx_inline-block ltx_align_top" id="A2.T4.1.8.8.1.1">
<span class="ltx_p" id="A2.T4.1.8.8.1.1.1" style="width:418.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T4.1.8.8.1.1.1.1">Answer:</span> My Own Worst Enemy</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T4.1.9.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T4.1.9.9.1" style="padding-top:2pt;padding-bottom:2pt;">
<span class="ltx_inline-block ltx_align_top" id="A2.T4.1.9.9.1.1">
<span class="ltx_p" id="A2.T4.1.9.9.1.1.1" style="width:418.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T4.1.9.9.1.1.1.1">Full-length answer:</span> The Californian rock band Lit recorded their album A Place in the Sun in 1995, and their best known song is My Own Worst Enemy.</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Three examples of full-length answers from the NQ, TQA, as well as HotpotQA  datasets,  respectively.</figcaption>
</figure>
<figure class="ltx_table" id="A2.T5"><svg class="ltx_picture" height="359.59" id="A2.T5.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,359.59) matrix(1 0 0 -1 0 0)"><g fill="#404040" fill-opacity="1.0"><path d="M 0 5.91 L 0 353.69 C 0 356.95 2.64 359.59 5.91 359.59 L 594.09 359.59 C 597.36 359.59 600 356.95 600 353.69 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 353.69 C 1.97 355.86 3.73 357.62 5.91 357.62 L 594.09 357.62 C 596.27 357.62 598.03 355.86 598.03 353.69 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g color="#404040" fill="#404040" stroke="#404040" stroke-dasharray="2.84528pt,2.84528pt" stroke-dashoffset="1.42264pt" stroke-opacity="1.0"><path d="M 1.97 321.7 L 598.03 321.7" style="fill:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 333.51)"><foreignobject color="#000000" height="12.3" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A2.T5.pic1.1.1.1.1.1" style="width:402.3pt;">
<span class="ltx_p" id="A2.T5.pic1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A2.T5.pic1.1.1.1.1.1.1.1">Full-length Answer Generation Prompt</span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000" height="296.11" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A2.T5.pic1.2.2.2.1.1" style="width:402.3pt;">
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.1"><span class="ltx_text ltx_font_bold" id="A2.T5.pic1.2.2.2.1.1.1.1">[Instruction]
<br class="ltx_break"/></span>You are given a question and its answer. Your task is to transform this question-answer pair into a declarative sentence with lossless fidelity to the original semantics.</span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.2"><span class="ltx_text ltx_font_bold" id="A2.T5.pic1.2.2.2.1.1.2.1">[Here are three examples]</span></span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.3">[Question]: What profession does Nicholas Ray and Elia Kazan have in common?</span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.4">[Answer]: director</span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.5">[Full-length answer]: Nicholas Ray and Elia Kazan have the profession of director in common.</span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.6">[Question]: When is season seven of game of thrones coming out?</span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.7">[Answer]: July 16, 2017</span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.8">[Full-length answer]: Season seven of Game of Thrones is coming out on July 16, 2017.</span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.9">[Question]: What is the moon festival called in Chinese?</span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.10">[Answer]: Mid-Autumn Festival</span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.11">[Full-length answer]: The moon festival is called the Mid-Autumn Festival in Chinese.</span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.12"><span class="ltx_text ltx_font_bold" id="A2.T5.pic1.2.2.2.1.1.12.1">[Now complete the following]</span></span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.13">[Question]: When did the genre of installation art start to gain acceptance?</span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.14">[Answer]: in the 1970s</span>
<span class="ltx_p" id="A2.T5.pic1.2.2.2.1.1.15">[Full-length answer]:</span>
</span></foreignobject></g></g></svg>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5: </span>The prompt for full-length answer generation.</figcaption>
</figure>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">To assess the conciseness of the extracted evidence, we propose measuring the information gap between it and the full-length answer.
The full-length answer is generated by transforming the question and its corresponding answer into a declarative statement, as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A2.T4" title="Table 4 ‣ Appendix B Full-length Answer Generation ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">4</span></a>.
Towards this end, we prompt GPT-3.5-turbo to transform each question-answer pair into a full-length answer. Additionally, we prepared a few-shot examples to encourage well-organized output.
The prompt for full-   length answer generation can be found in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A2.T5" title="Table 5 ‣ Appendix B Full-length Answer Generation ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Stability Analysis</h2>
<figure class="ltx_figure" id="A3.F6">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A3.F6.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="153" id="A3.F6.sf1.g1" src="extracted/5927629/Figure/nqStability.png" width="192"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>NQ dataset.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A3.F6.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="151" id="A3.F6.sf2.g1" src="extracted/5927629/Figure/tqaStability.png" width="192"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>TQA dataset.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A3.F6.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="151" id="A3.F6.sf3.g1" src="extracted/5927629/Figure/hotStability.png" width="192"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span>HotpotQA dataset.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Model stability <span class="ltx_text ltx_font_italic" id="A3.F6.2.1">w.r.t.</span> faithfulness, helpfulness, and conciseness. The bar represents the standard deviation results, while the line represents the stability improvement percent of the aligned model compared to the base model. We use FS, HS, and CS to denote the Faithfulness, Helpfulness, and Conciseness scores, respectively, for simplicity.</figcaption>
</figure>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">In Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#A3.F6" title="Figure 6 ‣ Appendix C Stability Analysis ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">6</span></a>, we experiment to verify whether the stability of model generation is improved after self-alignment optimization.
Specifically, we generate ten pieces of evidence for each test query by response sampling with the same generation configuration as Section <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.SS1" title="3.1 Evidence Extraction Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3.1</span></a>.
Subsequently, we measure the oracle scores (§<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.SS2" title="3.2 Expert Assessment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3.2</span></a>), calculate the standard deviation, and compute the average value.
The experimental results show that:
<span class="ltx_text ltx_font_bold" id="A3.p1.1.1">(1)</span> The generation stability of the aligned model is much better than that of the base one in most cases. More precisely, the average improvement of the aligned model over the base one on the three datasets is 18.5%.
<span class="ltx_text ltx_font_bold" id="A3.p1.1.2">(2)</span> The generation stability in terms of helpfulness has seen greater improvements compared to the other two properties (<span class="ltx_text ltx_font_italic" id="A3.p1.1.3">i.e.,</span> faithfulness and conciseness), with an average improvement of 32.2%, showing the huge potential to enhance the final RAG performance.
The above observations fully demonstrate that <span class="ltx_text ltx_font_bold" id="A3.p1.1.4">SEER</span> is able to endow the backbone with superior generation stability during the inference.</p>
</div>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Learning Algorithm of SEER</h2>
<div class="ltx_para" id="A4.p1">
<p class="ltx_p" id="A4.p1.1">Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#alg1" title="Algorithm 1 ‣ Appendix D Learning Algorithm of SEER ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a> demonstrates the learning algorithm of the proposed <span class="ltx_text ltx_font_bold" id="A4.p1.1.1">SEER</span> framework. The algorithm can be divided into three stages, <span class="ltx_text ltx_font_italic" id="A4.p1.1.2">i.e.,</span>
<span class="ltx_text ltx_font_bold" id="A4.p1.1.3">(1) Evidence Extraction</span> (line 3-6), <span class="ltx_text ltx_font_bold" id="A4.p1.1.4">(2) Expert Assessment</span> (line 7-10), as well as <span class="ltx_text ltx_font_bold" id="A4.p1.1.5">(3) Self-Alignment</span> (line 11-14).</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.3.1.1">Algorithm 1</span> </span> Learning algorithm of <span class="ltx_text ltx_font_bold" id="alg1.4.2">SEER</span></figcaption>
<div class="ltx_listing ltx_listing" id="alg1.5">
<div class="ltx_listingline" id="algx1.l0">
<span class="ltx_tag ltx_tag_listingline">0:</span>  Trainig dataset with queries <math alttext="q" class="ltx_Math" display="inline" id="algx1.l0.m1.1"><semantics id="algx1.l0.m1.1a"><mi id="algx1.l0.m1.1.1" xref="algx1.l0.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="algx1.l0.m1.1b"><ci id="algx1.l0.m1.1.1.cmml" xref="algx1.l0.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="algx1.l0.m1.1d">italic_q</annotation></semantics></math>, answers <math alttext="a" class="ltx_Math" display="inline" id="algx1.l0.m2.1"><semantics id="algx1.l0.m2.1a"><mi id="algx1.l0.m2.1.1" xref="algx1.l0.m2.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="algx1.l0.m2.1b"><ci id="algx1.l0.m2.1.1.cmml" xref="algx1.l0.m2.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.m2.1c">a</annotation><annotation encoding="application/x-llamapun" id="algx1.l0.m2.1d">italic_a</annotation></semantics></math>, and retrieved passages <math alttext="P=\{p_{i}\}_{i=1}^{K}" class="ltx_Math" display="inline" id="algx1.l0.m3.1"><semantics id="algx1.l0.m3.1a"><mrow id="algx1.l0.m3.1.1" xref="algx1.l0.m3.1.1.cmml"><mi id="algx1.l0.m3.1.1.3" xref="algx1.l0.m3.1.1.3.cmml">P</mi><mo id="algx1.l0.m3.1.1.2" xref="algx1.l0.m3.1.1.2.cmml">=</mo><msubsup id="algx1.l0.m3.1.1.1" xref="algx1.l0.m3.1.1.1.cmml"><mrow id="algx1.l0.m3.1.1.1.1.1.1" xref="algx1.l0.m3.1.1.1.1.1.2.cmml"><mo id="algx1.l0.m3.1.1.1.1.1.1.2" stretchy="false" xref="algx1.l0.m3.1.1.1.1.1.2.cmml">{</mo><msub id="algx1.l0.m3.1.1.1.1.1.1.1" xref="algx1.l0.m3.1.1.1.1.1.1.1.cmml"><mi id="algx1.l0.m3.1.1.1.1.1.1.1.2" xref="algx1.l0.m3.1.1.1.1.1.1.1.2.cmml">p</mi><mi id="algx1.l0.m3.1.1.1.1.1.1.1.3" xref="algx1.l0.m3.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="algx1.l0.m3.1.1.1.1.1.1.3" stretchy="false" xref="algx1.l0.m3.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="algx1.l0.m3.1.1.1.1.3" xref="algx1.l0.m3.1.1.1.1.3.cmml"><mi id="algx1.l0.m3.1.1.1.1.3.2" xref="algx1.l0.m3.1.1.1.1.3.2.cmml">i</mi><mo id="algx1.l0.m3.1.1.1.1.3.1" xref="algx1.l0.m3.1.1.1.1.3.1.cmml">=</mo><mn id="algx1.l0.m3.1.1.1.1.3.3" xref="algx1.l0.m3.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="algx1.l0.m3.1.1.1.3" xref="algx1.l0.m3.1.1.1.3.cmml">K</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="algx1.l0.m3.1b"><apply id="algx1.l0.m3.1.1.cmml" xref="algx1.l0.m3.1.1"><eq id="algx1.l0.m3.1.1.2.cmml" xref="algx1.l0.m3.1.1.2"></eq><ci id="algx1.l0.m3.1.1.3.cmml" xref="algx1.l0.m3.1.1.3">𝑃</ci><apply id="algx1.l0.m3.1.1.1.cmml" xref="algx1.l0.m3.1.1.1"><csymbol cd="ambiguous" id="algx1.l0.m3.1.1.1.2.cmml" xref="algx1.l0.m3.1.1.1">superscript</csymbol><apply id="algx1.l0.m3.1.1.1.1.cmml" xref="algx1.l0.m3.1.1.1"><csymbol cd="ambiguous" id="algx1.l0.m3.1.1.1.1.2.cmml" xref="algx1.l0.m3.1.1.1">subscript</csymbol><set id="algx1.l0.m3.1.1.1.1.1.2.cmml" xref="algx1.l0.m3.1.1.1.1.1.1"><apply id="algx1.l0.m3.1.1.1.1.1.1.1.cmml" xref="algx1.l0.m3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algx1.l0.m3.1.1.1.1.1.1.1.1.cmml" xref="algx1.l0.m3.1.1.1.1.1.1.1">subscript</csymbol><ci id="algx1.l0.m3.1.1.1.1.1.1.1.2.cmml" xref="algx1.l0.m3.1.1.1.1.1.1.1.2">𝑝</ci><ci id="algx1.l0.m3.1.1.1.1.1.1.1.3.cmml" xref="algx1.l0.m3.1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="algx1.l0.m3.1.1.1.1.3.cmml" xref="algx1.l0.m3.1.1.1.1.3"><eq id="algx1.l0.m3.1.1.1.1.3.1.cmml" xref="algx1.l0.m3.1.1.1.1.3.1"></eq><ci id="algx1.l0.m3.1.1.1.1.3.2.cmml" xref="algx1.l0.m3.1.1.1.1.3.2">𝑖</ci><cn id="algx1.l0.m3.1.1.1.1.3.3.cmml" type="integer" xref="algx1.l0.m3.1.1.1.1.3.3">1</cn></apply></apply><ci id="algx1.l0.m3.1.1.1.3.cmml" xref="algx1.l0.m3.1.1.1.3">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.m3.1c">P=\{p_{i}\}_{i=1}^{K}</annotation><annotation encoding="application/x-llamapun" id="algx1.l0.m3.1d">italic_P = { italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT</annotation></semantics></math>; the base evidence extractor <math alttext="\mathcal{E}" class="ltx_Math" display="inline" id="algx1.l0.m4.1"><semantics id="algx1.l0.m4.1a"><mi class="ltx_font_mathcaligraphic" id="algx1.l0.m4.1.1" xref="algx1.l0.m4.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="algx1.l0.m4.1b"><ci id="algx1.l0.m4.1.1.cmml" xref="algx1.l0.m4.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.m4.1c">\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="algx1.l0.m4.1d">caligraphic_E</annotation></semantics></math>; the sample size <math alttext="M" class="ltx_Math" display="inline" id="algx1.l0.m5.1"><semantics id="algx1.l0.m5.1a"><mi id="algx1.l0.m5.1.1" xref="algx1.l0.m5.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="algx1.l0.m5.1b"><ci id="algx1.l0.m5.1.1.cmml" xref="algx1.l0.m5.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.m5.1c">M</annotation><annotation encoding="application/x-llamapun" id="algx1.l0.m5.1d">italic_M</annotation></semantics></math>; total number of iterations <math alttext="T" class="ltx_Math" display="inline" id="algx1.l0.m6.1"><semantics id="algx1.l0.m6.1a"><mi id="algx1.l0.m6.1.1" xref="algx1.l0.m6.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="algx1.l0.m6.1b"><ci id="algx1.l0.m6.1.1.cmml" xref="algx1.l0.m6.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.m6.1c">T</annotation><annotation encoding="application/x-llamapun" id="algx1.l0.m6.1d">italic_T</annotation></semantics></math>.

</div>
<div class="ltx_listingline" id="algx1.l0a">
<span class="ltx_tag ltx_tag_listingline">0:</span>  The aligned evidence extractor <math alttext="\tilde{\mathcal{E}}" class="ltx_Math" display="inline" id="algx1.l0a.m1.1"><semantics id="algx1.l0a.m1.1a"><mover accent="true" id="algx1.l0a.m1.1.1" xref="algx1.l0a.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l0a.m1.1.1.2" xref="algx1.l0a.m1.1.1.2.cmml">ℰ</mi><mo id="algx1.l0a.m1.1.1.1" xref="algx1.l0a.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="algx1.l0a.m1.1b"><apply id="algx1.l0a.m1.1.1.cmml" xref="algx1.l0a.m1.1.1"><ci id="algx1.l0a.m1.1.1.1.cmml" xref="algx1.l0a.m1.1.1.1">~</ci><ci id="algx1.l0a.m1.1.1.2.cmml" xref="algx1.l0a.m1.1.1.2">ℰ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0a.m1.1c">\tilde{\mathcal{E}}</annotation><annotation encoding="application/x-llamapun" id="algx1.l0a.m1.1d">over~ start_ARG caligraphic_E end_ARG</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algx1.l1">
<span class="ltx_tag ltx_tag_listingline">1:</span>  Initialize the model parameter <math alttext="\tilde{\mathcal{E}}" class="ltx_Math" display="inline" id="algx1.l1.m1.1"><semantics id="algx1.l1.m1.1a"><mover accent="true" id="algx1.l1.m1.1.1" xref="algx1.l1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l1.m1.1.1.2" xref="algx1.l1.m1.1.1.2.cmml">ℰ</mi><mo id="algx1.l1.m1.1.1.1" xref="algx1.l1.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="algx1.l1.m1.1b"><apply id="algx1.l1.m1.1.1.cmml" xref="algx1.l1.m1.1.1"><ci id="algx1.l1.m1.1.1.1.cmml" xref="algx1.l1.m1.1.1.1">~</ci><ci id="algx1.l1.m1.1.1.2.cmml" xref="algx1.l1.m1.1.1.2">ℰ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l1.m1.1c">\tilde{\mathcal{E}}</annotation><annotation encoding="application/x-llamapun" id="algx1.l1.m1.1d">over~ start_ARG caligraphic_E end_ARG</annotation></semantics></math> with <math alttext="\mathcal{E}" class="ltx_Math" display="inline" id="algx1.l1.m2.1"><semantics id="algx1.l1.m2.1a"><mi class="ltx_font_mathcaligraphic" id="algx1.l1.m2.1.1" xref="algx1.l1.m2.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="algx1.l1.m2.1b"><ci id="algx1.l1.m2.1.1.cmml" xref="algx1.l1.m2.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l1.m2.1c">\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="algx1.l1.m2.1d">caligraphic_E</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algx1.l2">
<span class="ltx_tag ltx_tag_listingline">2:</span>  <span class="ltx_text ltx_font_bold" id="algx1.l2.1">for</span> each <math alttext="i\in[1,T]" class="ltx_Math" display="inline" id="algx1.l2.m1.2"><semantics id="algx1.l2.m1.2a"><mrow id="algx1.l2.m1.2.3" xref="algx1.l2.m1.2.3.cmml"><mi id="algx1.l2.m1.2.3.2" xref="algx1.l2.m1.2.3.2.cmml">i</mi><mo id="algx1.l2.m1.2.3.1" xref="algx1.l2.m1.2.3.1.cmml">∈</mo><mrow id="algx1.l2.m1.2.3.3.2" xref="algx1.l2.m1.2.3.3.1.cmml"><mo id="algx1.l2.m1.2.3.3.2.1" stretchy="false" xref="algx1.l2.m1.2.3.3.1.cmml">[</mo><mn id="algx1.l2.m1.1.1" xref="algx1.l2.m1.1.1.cmml">1</mn><mo id="algx1.l2.m1.2.3.3.2.2" xref="algx1.l2.m1.2.3.3.1.cmml">,</mo><mi id="algx1.l2.m1.2.2" xref="algx1.l2.m1.2.2.cmml">T</mi><mo id="algx1.l2.m1.2.3.3.2.3" stretchy="false" xref="algx1.l2.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l2.m1.2b"><apply id="algx1.l2.m1.2.3.cmml" xref="algx1.l2.m1.2.3"><in id="algx1.l2.m1.2.3.1.cmml" xref="algx1.l2.m1.2.3.1"></in><ci id="algx1.l2.m1.2.3.2.cmml" xref="algx1.l2.m1.2.3.2">𝑖</ci><interval closure="closed" id="algx1.l2.m1.2.3.3.1.cmml" xref="algx1.l2.m1.2.3.3.2"><cn id="algx1.l2.m1.1.1.cmml" type="integer" xref="algx1.l2.m1.1.1">1</cn><ci id="algx1.l2.m1.2.2.cmml" xref="algx1.l2.m1.2.2">𝑇</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l2.m1.2c">i\in[1,T]</annotation><annotation encoding="application/x-llamapun" id="algx1.l2.m1.2d">italic_i ∈ [ 1 , italic_T ]</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="algx1.l2.2">do</span>
</div>
<div class="ltx_listingline" id="algx1.l3">
<span class="ltx_tag ltx_tag_listingline">3:</span>     # <span class="ltx_text ltx_font_bold" id="algx1.l3.1">Stage1: Evidence Extraction</span>
</div>
<div class="ltx_listingline" id="algx1.l4">
<span class="ltx_tag ltx_tag_listingline">4:</span>     Sample a mini-batch of (<math alttext="q" class="ltx_Math" display="inline" id="algx1.l4.m1.1"><semantics id="algx1.l4.m1.1a"><mi id="algx1.l4.m1.1.1" xref="algx1.l4.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="algx1.l4.m1.1b"><ci id="algx1.l4.m1.1.1.cmml" xref="algx1.l4.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="algx1.l4.m1.1d">italic_q</annotation></semantics></math>, <math alttext="a" class="ltx_Math" display="inline" id="algx1.l4.m2.1"><semantics id="algx1.l4.m2.1a"><mi id="algx1.l4.m2.1.1" xref="algx1.l4.m2.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="algx1.l4.m2.1b"><ci id="algx1.l4.m2.1.1.cmml" xref="algx1.l4.m2.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m2.1c">a</annotation><annotation encoding="application/x-llamapun" id="algx1.l4.m2.1d">italic_a</annotation></semantics></math>, <math alttext="P" class="ltx_Math" display="inline" id="algx1.l4.m3.1"><semantics id="algx1.l4.m3.1a"><mi id="algx1.l4.m3.1.1" xref="algx1.l4.m3.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="algx1.l4.m3.1b"><ci id="algx1.l4.m3.1.1.cmml" xref="algx1.l4.m3.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m3.1c">P</annotation><annotation encoding="application/x-llamapun" id="algx1.l4.m3.1d">italic_P</annotation></semantics></math>) query-answer-passage triples from the dataset.

</div>
<div class="ltx_listingline" id="algx1.l5">
<span class="ltx_tag ltx_tag_listingline">5:</span>     Get evidence candidates <math alttext="\{e_{j}\}_{j=1}^{M}" class="ltx_Math" display="inline" id="algx1.l5.m1.1"><semantics id="algx1.l5.m1.1a"><msubsup id="algx1.l5.m1.1.1" xref="algx1.l5.m1.1.1.cmml"><mrow id="algx1.l5.m1.1.1.1.1.1" xref="algx1.l5.m1.1.1.1.1.2.cmml"><mo id="algx1.l5.m1.1.1.1.1.1.2" stretchy="false" xref="algx1.l5.m1.1.1.1.1.2.cmml">{</mo><msub id="algx1.l5.m1.1.1.1.1.1.1" xref="algx1.l5.m1.1.1.1.1.1.1.cmml"><mi id="algx1.l5.m1.1.1.1.1.1.1.2" xref="algx1.l5.m1.1.1.1.1.1.1.2.cmml">e</mi><mi id="algx1.l5.m1.1.1.1.1.1.1.3" xref="algx1.l5.m1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="algx1.l5.m1.1.1.1.1.1.3" stretchy="false" xref="algx1.l5.m1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="algx1.l5.m1.1.1.1.3" xref="algx1.l5.m1.1.1.1.3.cmml"><mi id="algx1.l5.m1.1.1.1.3.2" xref="algx1.l5.m1.1.1.1.3.2.cmml">j</mi><mo id="algx1.l5.m1.1.1.1.3.1" xref="algx1.l5.m1.1.1.1.3.1.cmml">=</mo><mn id="algx1.l5.m1.1.1.1.3.3" xref="algx1.l5.m1.1.1.1.3.3.cmml">1</mn></mrow><mi id="algx1.l5.m1.1.1.3" xref="algx1.l5.m1.1.1.3.cmml">M</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx1.l5.m1.1b"><apply id="algx1.l5.m1.1.1.cmml" xref="algx1.l5.m1.1.1"><csymbol cd="ambiguous" id="algx1.l5.m1.1.1.2.cmml" xref="algx1.l5.m1.1.1">superscript</csymbol><apply id="algx1.l5.m1.1.1.1.cmml" xref="algx1.l5.m1.1.1"><csymbol cd="ambiguous" id="algx1.l5.m1.1.1.1.2.cmml" xref="algx1.l5.m1.1.1">subscript</csymbol><set id="algx1.l5.m1.1.1.1.1.2.cmml" xref="algx1.l5.m1.1.1.1.1.1"><apply id="algx1.l5.m1.1.1.1.1.1.1.cmml" xref="algx1.l5.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algx1.l5.m1.1.1.1.1.1.1.1.cmml" xref="algx1.l5.m1.1.1.1.1.1.1">subscript</csymbol><ci id="algx1.l5.m1.1.1.1.1.1.1.2.cmml" xref="algx1.l5.m1.1.1.1.1.1.1.2">𝑒</ci><ci id="algx1.l5.m1.1.1.1.1.1.1.3.cmml" xref="algx1.l5.m1.1.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="algx1.l5.m1.1.1.1.3.cmml" xref="algx1.l5.m1.1.1.1.3"><eq id="algx1.l5.m1.1.1.1.3.1.cmml" xref="algx1.l5.m1.1.1.1.3.1"></eq><ci id="algx1.l5.m1.1.1.1.3.2.cmml" xref="algx1.l5.m1.1.1.1.3.2">𝑗</ci><cn id="algx1.l5.m1.1.1.1.3.3.cmml" type="integer" xref="algx1.l5.m1.1.1.1.3.3">1</cn></apply></apply><ci id="algx1.l5.m1.1.1.3.cmml" xref="algx1.l5.m1.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l5.m1.1c">\{e_{j}\}_{j=1}^{M}</annotation><annotation encoding="application/x-llamapun" id="algx1.l5.m1.1d">{ italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT</annotation></semantics></math> via response sampling <math alttext="e\sim\mathcal{E}(\cdot|q\oplus P)" class="ltx_math_unparsed" display="inline" id="algx1.l5.m2.1"><semantics id="algx1.l5.m2.1a"><mrow id="algx1.l5.m2.1b"><mi id="algx1.l5.m2.1.1">e</mi><mo id="algx1.l5.m2.1.2">∼</mo><mi class="ltx_font_mathcaligraphic" id="algx1.l5.m2.1.3">ℰ</mi><mrow id="algx1.l5.m2.1.4"><mo id="algx1.l5.m2.1.4.1" stretchy="false">(</mo><mo id="algx1.l5.m2.1.4.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="algx1.l5.m2.1.4.3" rspace="0.167em" stretchy="false">|</mo><mi id="algx1.l5.m2.1.4.4">q</mi><mo id="algx1.l5.m2.1.4.5">⊕</mo><mi id="algx1.l5.m2.1.4.6">P</mi><mo id="algx1.l5.m2.1.4.7" stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="algx1.l5.m2.1c">e\sim\mathcal{E}(\cdot|q\oplus P)</annotation><annotation encoding="application/x-llamapun" id="algx1.l5.m2.1d">italic_e ∼ caligraphic_E ( ⋅ | italic_q ⊕ italic_P )</annotation></semantics></math>.

</div>
<div class="ltx_listingline" id="algx1.l6">
<span class="ltx_tag ltx_tag_listingline">6:</span>     Obtain uniformly distributed set <math alttext="\{e_{j}\}_{j=1}^{N}" class="ltx_Math" display="inline" id="algx1.l6.m1.1"><semantics id="algx1.l6.m1.1a"><msubsup id="algx1.l6.m1.1.1" xref="algx1.l6.m1.1.1.cmml"><mrow id="algx1.l6.m1.1.1.1.1.1" xref="algx1.l6.m1.1.1.1.1.2.cmml"><mo id="algx1.l6.m1.1.1.1.1.1.2" stretchy="false" xref="algx1.l6.m1.1.1.1.1.2.cmml">{</mo><msub id="algx1.l6.m1.1.1.1.1.1.1" xref="algx1.l6.m1.1.1.1.1.1.1.cmml"><mi id="algx1.l6.m1.1.1.1.1.1.1.2" xref="algx1.l6.m1.1.1.1.1.1.1.2.cmml">e</mi><mi id="algx1.l6.m1.1.1.1.1.1.1.3" xref="algx1.l6.m1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="algx1.l6.m1.1.1.1.1.1.3" stretchy="false" xref="algx1.l6.m1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="algx1.l6.m1.1.1.1.3" xref="algx1.l6.m1.1.1.1.3.cmml"><mi id="algx1.l6.m1.1.1.1.3.2" xref="algx1.l6.m1.1.1.1.3.2.cmml">j</mi><mo id="algx1.l6.m1.1.1.1.3.1" xref="algx1.l6.m1.1.1.1.3.1.cmml">=</mo><mn id="algx1.l6.m1.1.1.1.3.3" xref="algx1.l6.m1.1.1.1.3.3.cmml">1</mn></mrow><mi id="algx1.l6.m1.1.1.3" xref="algx1.l6.m1.1.1.3.cmml">N</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx1.l6.m1.1b"><apply id="algx1.l6.m1.1.1.cmml" xref="algx1.l6.m1.1.1"><csymbol cd="ambiguous" id="algx1.l6.m1.1.1.2.cmml" xref="algx1.l6.m1.1.1">superscript</csymbol><apply id="algx1.l6.m1.1.1.1.cmml" xref="algx1.l6.m1.1.1"><csymbol cd="ambiguous" id="algx1.l6.m1.1.1.1.2.cmml" xref="algx1.l6.m1.1.1">subscript</csymbol><set id="algx1.l6.m1.1.1.1.1.2.cmml" xref="algx1.l6.m1.1.1.1.1.1"><apply id="algx1.l6.m1.1.1.1.1.1.1.cmml" xref="algx1.l6.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algx1.l6.m1.1.1.1.1.1.1.1.cmml" xref="algx1.l6.m1.1.1.1.1.1.1">subscript</csymbol><ci id="algx1.l6.m1.1.1.1.1.1.1.2.cmml" xref="algx1.l6.m1.1.1.1.1.1.1.2">𝑒</ci><ci id="algx1.l6.m1.1.1.1.1.1.1.3.cmml" xref="algx1.l6.m1.1.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="algx1.l6.m1.1.1.1.3.cmml" xref="algx1.l6.m1.1.1.1.3"><eq id="algx1.l6.m1.1.1.1.3.1.cmml" xref="algx1.l6.m1.1.1.1.3.1"></eq><ci id="algx1.l6.m1.1.1.1.3.2.cmml" xref="algx1.l6.m1.1.1.1.3.2">𝑗</ci><cn id="algx1.l6.m1.1.1.1.3.3.cmml" type="integer" xref="algx1.l6.m1.1.1.1.3.3">1</cn></apply></apply><ci id="algx1.l6.m1.1.1.3.cmml" xref="algx1.l6.m1.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l6.m1.1c">\{e_{j}\}_{j=1}^{N}</annotation><annotation encoding="application/x-llamapun" id="algx1.l6.m1.1d">{ italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT</annotation></semantics></math> by removing duplicates in <math alttext="\{e_{j}\}_{j=1}^{M}" class="ltx_Math" display="inline" id="algx1.l6.m2.1"><semantics id="algx1.l6.m2.1a"><msubsup id="algx1.l6.m2.1.1" xref="algx1.l6.m2.1.1.cmml"><mrow id="algx1.l6.m2.1.1.1.1.1" xref="algx1.l6.m2.1.1.1.1.2.cmml"><mo id="algx1.l6.m2.1.1.1.1.1.2" stretchy="false" xref="algx1.l6.m2.1.1.1.1.2.cmml">{</mo><msub id="algx1.l6.m2.1.1.1.1.1.1" xref="algx1.l6.m2.1.1.1.1.1.1.cmml"><mi id="algx1.l6.m2.1.1.1.1.1.1.2" xref="algx1.l6.m2.1.1.1.1.1.1.2.cmml">e</mi><mi id="algx1.l6.m2.1.1.1.1.1.1.3" xref="algx1.l6.m2.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="algx1.l6.m2.1.1.1.1.1.3" stretchy="false" xref="algx1.l6.m2.1.1.1.1.2.cmml">}</mo></mrow><mrow id="algx1.l6.m2.1.1.1.3" xref="algx1.l6.m2.1.1.1.3.cmml"><mi id="algx1.l6.m2.1.1.1.3.2" xref="algx1.l6.m2.1.1.1.3.2.cmml">j</mi><mo id="algx1.l6.m2.1.1.1.3.1" xref="algx1.l6.m2.1.1.1.3.1.cmml">=</mo><mn id="algx1.l6.m2.1.1.1.3.3" xref="algx1.l6.m2.1.1.1.3.3.cmml">1</mn></mrow><mi id="algx1.l6.m2.1.1.3" xref="algx1.l6.m2.1.1.3.cmml">M</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx1.l6.m2.1b"><apply id="algx1.l6.m2.1.1.cmml" xref="algx1.l6.m2.1.1"><csymbol cd="ambiguous" id="algx1.l6.m2.1.1.2.cmml" xref="algx1.l6.m2.1.1">superscript</csymbol><apply id="algx1.l6.m2.1.1.1.cmml" xref="algx1.l6.m2.1.1"><csymbol cd="ambiguous" id="algx1.l6.m2.1.1.1.2.cmml" xref="algx1.l6.m2.1.1">subscript</csymbol><set id="algx1.l6.m2.1.1.1.1.2.cmml" xref="algx1.l6.m2.1.1.1.1.1"><apply id="algx1.l6.m2.1.1.1.1.1.1.cmml" xref="algx1.l6.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algx1.l6.m2.1.1.1.1.1.1.1.cmml" xref="algx1.l6.m2.1.1.1.1.1.1">subscript</csymbol><ci id="algx1.l6.m2.1.1.1.1.1.1.2.cmml" xref="algx1.l6.m2.1.1.1.1.1.1.2">𝑒</ci><ci id="algx1.l6.m2.1.1.1.1.1.1.3.cmml" xref="algx1.l6.m2.1.1.1.1.1.1.3">𝑗</ci></apply></set><apply id="algx1.l6.m2.1.1.1.3.cmml" xref="algx1.l6.m2.1.1.1.3"><eq id="algx1.l6.m2.1.1.1.3.1.cmml" xref="algx1.l6.m2.1.1.1.3.1"></eq><ci id="algx1.l6.m2.1.1.1.3.2.cmml" xref="algx1.l6.m2.1.1.1.3.2">𝑗</ci><cn id="algx1.l6.m2.1.1.1.3.3.cmml" type="integer" xref="algx1.l6.m2.1.1.1.3.3">1</cn></apply></apply><ci id="algx1.l6.m2.1.1.3.cmml" xref="algx1.l6.m2.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l6.m2.1c">\{e_{j}\}_{j=1}^{M}</annotation><annotation encoding="application/x-llamapun" id="algx1.l6.m2.1d">{ italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT</annotation></semantics></math>.

</div>
<div class="ltx_listingline" id="algx1.l7">
<span class="ltx_tag ltx_tag_listingline">7:</span>     # <span class="ltx_text ltx_font_bold" id="algx1.l7.1">Stage2: Expert Assessment</span>
</div>
<div class="ltx_listingline" id="algx1.l8">
<span class="ltx_tag ltx_tag_listingline">8:</span>     Construct a QuadQARE for each evidence candidate <math alttext="&lt;q,a,P,e&gt;" class="ltx_math_unparsed" display="inline" id="algx1.l8.m1.4"><semantics id="algx1.l8.m1.4a"><mrow id="algx1.l8.m1.4b"><mo id="algx1.l8.m1.4.5">&lt;</mo><mi id="algx1.l8.m1.1.1">q</mi><mo id="algx1.l8.m1.4.6">,</mo><mi id="algx1.l8.m1.2.2">a</mi><mo id="algx1.l8.m1.4.7">,</mo><mi id="algx1.l8.m1.3.3">P</mi><mo id="algx1.l8.m1.4.8">,</mo><mi id="algx1.l8.m1.4.4">e</mi><mo id="algx1.l8.m1.4.9">&gt;</mo></mrow><annotation encoding="application/x-tex" id="algx1.l8.m1.4c">&lt;q,a,P,e&gt;</annotation><annotation encoding="application/x-llamapun" id="algx1.l8.m1.4d">&lt; italic_q , italic_a , italic_P , italic_e &gt;</annotation></semantics></math>.

</div>
<div class="ltx_listingline" id="algx1.l9">
<span class="ltx_tag ltx_tag_listingline">9:</span>     Get the oracle scores <math alttext="(s^{f},s^{h},s^{c})" class="ltx_Math" display="inline" id="algx1.l9.m1.3"><semantics id="algx1.l9.m1.3a"><mrow id="algx1.l9.m1.3.3.3" xref="algx1.l9.m1.3.3.4.cmml"><mo id="algx1.l9.m1.3.3.3.4" stretchy="false" xref="algx1.l9.m1.3.3.4.cmml">(</mo><msup id="algx1.l9.m1.1.1.1.1" xref="algx1.l9.m1.1.1.1.1.cmml"><mi id="algx1.l9.m1.1.1.1.1.2" xref="algx1.l9.m1.1.1.1.1.2.cmml">s</mi><mi id="algx1.l9.m1.1.1.1.1.3" xref="algx1.l9.m1.1.1.1.1.3.cmml">f</mi></msup><mo id="algx1.l9.m1.3.3.3.5" xref="algx1.l9.m1.3.3.4.cmml">,</mo><msup id="algx1.l9.m1.2.2.2.2" xref="algx1.l9.m1.2.2.2.2.cmml"><mi id="algx1.l9.m1.2.2.2.2.2" xref="algx1.l9.m1.2.2.2.2.2.cmml">s</mi><mi id="algx1.l9.m1.2.2.2.2.3" xref="algx1.l9.m1.2.2.2.2.3.cmml">h</mi></msup><mo id="algx1.l9.m1.3.3.3.6" xref="algx1.l9.m1.3.3.4.cmml">,</mo><msup id="algx1.l9.m1.3.3.3.3" xref="algx1.l9.m1.3.3.3.3.cmml"><mi id="algx1.l9.m1.3.3.3.3.2" xref="algx1.l9.m1.3.3.3.3.2.cmml">s</mi><mi id="algx1.l9.m1.3.3.3.3.3" xref="algx1.l9.m1.3.3.3.3.3.cmml">c</mi></msup><mo id="algx1.l9.m1.3.3.3.7" stretchy="false" xref="algx1.l9.m1.3.3.4.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="algx1.l9.m1.3b"><vector id="algx1.l9.m1.3.3.4.cmml" xref="algx1.l9.m1.3.3.3"><apply id="algx1.l9.m1.1.1.1.1.cmml" xref="algx1.l9.m1.1.1.1.1"><csymbol cd="ambiguous" id="algx1.l9.m1.1.1.1.1.1.cmml" xref="algx1.l9.m1.1.1.1.1">superscript</csymbol><ci id="algx1.l9.m1.1.1.1.1.2.cmml" xref="algx1.l9.m1.1.1.1.1.2">𝑠</ci><ci id="algx1.l9.m1.1.1.1.1.3.cmml" xref="algx1.l9.m1.1.1.1.1.3">𝑓</ci></apply><apply id="algx1.l9.m1.2.2.2.2.cmml" xref="algx1.l9.m1.2.2.2.2"><csymbol cd="ambiguous" id="algx1.l9.m1.2.2.2.2.1.cmml" xref="algx1.l9.m1.2.2.2.2">superscript</csymbol><ci id="algx1.l9.m1.2.2.2.2.2.cmml" xref="algx1.l9.m1.2.2.2.2.2">𝑠</ci><ci id="algx1.l9.m1.2.2.2.2.3.cmml" xref="algx1.l9.m1.2.2.2.2.3">ℎ</ci></apply><apply id="algx1.l9.m1.3.3.3.3.cmml" xref="algx1.l9.m1.3.3.3.3"><csymbol cd="ambiguous" id="algx1.l9.m1.3.3.3.3.1.cmml" xref="algx1.l9.m1.3.3.3.3">superscript</csymbol><ci id="algx1.l9.m1.3.3.3.3.2.cmml" xref="algx1.l9.m1.3.3.3.3.2">𝑠</ci><ci id="algx1.l9.m1.3.3.3.3.3.cmml" xref="algx1.l9.m1.3.3.3.3.3">𝑐</ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="algx1.l9.m1.3c">(s^{f},s^{h},s^{c})</annotation><annotation encoding="application/x-llamapun" id="algx1.l9.m1.3d">( italic_s start_POSTSUPERSCRIPT italic_f end_POSTSUPERSCRIPT , italic_s start_POSTSUPERSCRIPT italic_h end_POSTSUPERSCRIPT , italic_s start_POSTSUPERSCRIPT italic_c end_POSTSUPERSCRIPT )</annotation></semantics></math> for each evidence candidate with Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.E2" title="In 1st item ‣ 3.2 Expert Assessment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>-<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.E4" title="In 3rd item ‣ 3.2 Expert Assessment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">4</span></a>).

</div>
<div class="ltx_listingline" id="algx1.l10">
<span class="ltx_tag ltx_tag_listingline">10:</span>     Get the smoothing CoV-weighted score <math alttext="s" class="ltx_Math" display="inline" id="algx1.l10.m1.1"><semantics id="algx1.l10.m1.1a"><mi id="algx1.l10.m1.1.1" xref="algx1.l10.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="algx1.l10.m1.1b"><ci id="algx1.l10.m1.1.1.cmml" xref="algx1.l10.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l10.m1.1c">s</annotation><annotation encoding="application/x-llamapun" id="algx1.l10.m1.1d">italic_s</annotation></semantics></math> with Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.E5" title="In 3.2 Expert Assessment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">5</span></a>-<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.E7" title="In 3.2 Expert Assessment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">7</span></a>).

</div>
<div class="ltx_listingline" id="algx1.l11">
<span class="ltx_tag ltx_tag_listingline">11:</span>     # <span class="ltx_text ltx_font_bold" id="algx1.l11.1">Stage3: Self-Alignment</span>
</div>
<div class="ltx_listingline" id="algx1.l12">
<span class="ltx_tag ltx_tag_listingline">12:</span>     Get the lambda weight <math alttext="\lambda_{w,l}" class="ltx_Math" display="inline" id="algx1.l12.m1.2"><semantics id="algx1.l12.m1.2a"><msub id="algx1.l12.m1.2.3" xref="algx1.l12.m1.2.3.cmml"><mi id="algx1.l12.m1.2.3.2" xref="algx1.l12.m1.2.3.2.cmml">λ</mi><mrow id="algx1.l12.m1.2.2.2.4" xref="algx1.l12.m1.2.2.2.3.cmml"><mi id="algx1.l12.m1.1.1.1.1" xref="algx1.l12.m1.1.1.1.1.cmml">w</mi><mo id="algx1.l12.m1.2.2.2.4.1" xref="algx1.l12.m1.2.2.2.3.cmml">,</mo><mi id="algx1.l12.m1.2.2.2.2" xref="algx1.l12.m1.2.2.2.2.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="algx1.l12.m1.2b"><apply id="algx1.l12.m1.2.3.cmml" xref="algx1.l12.m1.2.3"><csymbol cd="ambiguous" id="algx1.l12.m1.2.3.1.cmml" xref="algx1.l12.m1.2.3">subscript</csymbol><ci id="algx1.l12.m1.2.3.2.cmml" xref="algx1.l12.m1.2.3.2">𝜆</ci><list id="algx1.l12.m1.2.2.2.3.cmml" xref="algx1.l12.m1.2.2.2.4"><ci id="algx1.l12.m1.1.1.1.1.cmml" xref="algx1.l12.m1.1.1.1.1">𝑤</ci><ci id="algx1.l12.m1.2.2.2.2.cmml" xref="algx1.l12.m1.2.2.2.2">𝑙</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l12.m1.2c">\lambda_{w,l}</annotation><annotation encoding="application/x-llamapun" id="algx1.l12.m1.2d">italic_λ start_POSTSUBSCRIPT italic_w , italic_l end_POSTSUBSCRIPT</annotation></semantics></math> for each preference pair <math alttext="(x,y_{w},y_{l})" class="ltx_Math" display="inline" id="algx1.l12.m2.3"><semantics id="algx1.l12.m2.3a"><mrow id="algx1.l12.m2.3.3.2" xref="algx1.l12.m2.3.3.3.cmml"><mo id="algx1.l12.m2.3.3.2.3" stretchy="false" xref="algx1.l12.m2.3.3.3.cmml">(</mo><mi id="algx1.l12.m2.1.1" xref="algx1.l12.m2.1.1.cmml">x</mi><mo id="algx1.l12.m2.3.3.2.4" xref="algx1.l12.m2.3.3.3.cmml">,</mo><msub id="algx1.l12.m2.2.2.1.1" xref="algx1.l12.m2.2.2.1.1.cmml"><mi id="algx1.l12.m2.2.2.1.1.2" xref="algx1.l12.m2.2.2.1.1.2.cmml">y</mi><mi id="algx1.l12.m2.2.2.1.1.3" xref="algx1.l12.m2.2.2.1.1.3.cmml">w</mi></msub><mo id="algx1.l12.m2.3.3.2.5" xref="algx1.l12.m2.3.3.3.cmml">,</mo><msub id="algx1.l12.m2.3.3.2.2" xref="algx1.l12.m2.3.3.2.2.cmml"><mi id="algx1.l12.m2.3.3.2.2.2" xref="algx1.l12.m2.3.3.2.2.2.cmml">y</mi><mi id="algx1.l12.m2.3.3.2.2.3" xref="algx1.l12.m2.3.3.2.2.3.cmml">l</mi></msub><mo id="algx1.l12.m2.3.3.2.6" stretchy="false" xref="algx1.l12.m2.3.3.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="algx1.l12.m2.3b"><vector id="algx1.l12.m2.3.3.3.cmml" xref="algx1.l12.m2.3.3.2"><ci id="algx1.l12.m2.1.1.cmml" xref="algx1.l12.m2.1.1">𝑥</ci><apply id="algx1.l12.m2.2.2.1.1.cmml" xref="algx1.l12.m2.2.2.1.1"><csymbol cd="ambiguous" id="algx1.l12.m2.2.2.1.1.1.cmml" xref="algx1.l12.m2.2.2.1.1">subscript</csymbol><ci id="algx1.l12.m2.2.2.1.1.2.cmml" xref="algx1.l12.m2.2.2.1.1.2">𝑦</ci><ci id="algx1.l12.m2.2.2.1.1.3.cmml" xref="algx1.l12.m2.2.2.1.1.3">𝑤</ci></apply><apply id="algx1.l12.m2.3.3.2.2.cmml" xref="algx1.l12.m2.3.3.2.2"><csymbol cd="ambiguous" id="algx1.l12.m2.3.3.2.2.1.cmml" xref="algx1.l12.m2.3.3.2.2">subscript</csymbol><ci id="algx1.l12.m2.3.3.2.2.2.cmml" xref="algx1.l12.m2.3.3.2.2.2">𝑦</ci><ci id="algx1.l12.m2.3.3.2.2.3.cmml" xref="algx1.l12.m2.3.3.2.2.3">𝑙</ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="algx1.l12.m2.3c">(x,y_{w},y_{l})</annotation><annotation encoding="application/x-llamapun" id="algx1.l12.m2.3d">( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT )</annotation></semantics></math> with Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.E9" title="In 3.3 Self-Alignment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">9</span></a>).

</div>
<div class="ltx_listingline" id="algx1.l13">
<span class="ltx_tag ltx_tag_listingline">13:</span>     Compute the preference optimization loss <math alttext="\mathcal{L}_{\mathrm{LPO}}" class="ltx_Math" display="inline" id="algx1.l13.m1.1"><semantics id="algx1.l13.m1.1a"><msub id="algx1.l13.m1.1.1" xref="algx1.l13.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l13.m1.1.1.2" xref="algx1.l13.m1.1.1.2.cmml">ℒ</mi><mi id="algx1.l13.m1.1.1.3" xref="algx1.l13.m1.1.1.3.cmml">LPO</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l13.m1.1b"><apply id="algx1.l13.m1.1.1.cmml" xref="algx1.l13.m1.1.1"><csymbol cd="ambiguous" id="algx1.l13.m1.1.1.1.cmml" xref="algx1.l13.m1.1.1">subscript</csymbol><ci id="algx1.l13.m1.1.1.2.cmml" xref="algx1.l13.m1.1.1.2">ℒ</ci><ci id="algx1.l13.m1.1.1.3.cmml" xref="algx1.l13.m1.1.1.3">LPO</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l13.m1.1c">\mathcal{L}_{\mathrm{LPO}}</annotation><annotation encoding="application/x-llamapun" id="algx1.l13.m1.1d">caligraphic_L start_POSTSUBSCRIPT roman_LPO end_POSTSUBSCRIPT</annotation></semantics></math> with Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2410.11315v1#S3.E8" title="In 3.3 Self-Alignment Stage ‣ 3 Methodology ‣ SEER: Self-Aligned Evidence Extraction for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">8</span></a>).

</div>
<div class="ltx_listingline" id="algx1.l14">
<span class="ltx_tag ltx_tag_listingline">14:</span>     Update the model parameter of <math alttext="\tilde{\mathcal{E}}" class="ltx_Math" display="inline" id="algx1.l14.m1.1"><semantics id="algx1.l14.m1.1a"><mover accent="true" id="algx1.l14.m1.1.1" xref="algx1.l14.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l14.m1.1.1.2" xref="algx1.l14.m1.1.1.2.cmml">ℰ</mi><mo id="algx1.l14.m1.1.1.1" xref="algx1.l14.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="algx1.l14.m1.1b"><apply id="algx1.l14.m1.1.1.cmml" xref="algx1.l14.m1.1.1"><ci id="algx1.l14.m1.1.1.1.cmml" xref="algx1.l14.m1.1.1.1">~</ci><ci id="algx1.l14.m1.1.1.2.cmml" xref="algx1.l14.m1.1.1.2">ℰ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l14.m1.1c">\tilde{\mathcal{E}}</annotation><annotation encoding="application/x-llamapun" id="algx1.l14.m1.1d">over~ start_ARG caligraphic_E end_ARG</annotation></semantics></math> using gradient descent.

</div>
<div class="ltx_listingline" id="algx1.l15">
<span class="ltx_tag ltx_tag_listingline">15:</span>  <span class="ltx_text ltx_font_bold" id="algx1.l15.1">end</span> <span class="ltx_text ltx_font_bold" id="algx1.l15.2">for</span>
</div>
<div class="ltx_listingline" id="algx1.l16">
<span class="ltx_tag ltx_tag_listingline">16:</span>  <span class="ltx_text ltx_font_bold" id="algx1.l16.1">return</span>  <math alttext="\tilde{\mathcal{E}}" class="ltx_Math" display="inline" id="algx1.l16.m1.1"><semantics id="algx1.l16.m1.1a"><mover accent="true" id="algx1.l16.m1.1.1" xref="algx1.l16.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l16.m1.1.1.2" xref="algx1.l16.m1.1.1.2.cmml">ℰ</mi><mo id="algx1.l16.m1.1.1.1" xref="algx1.l16.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="algx1.l16.m1.1b"><apply id="algx1.l16.m1.1.1.cmml" xref="algx1.l16.m1.1.1"><ci id="algx1.l16.m1.1.1.1.cmml" xref="algx1.l16.m1.1.1.1">~</ci><ci id="algx1.l16.m1.1.1.2.cmml" xref="algx1.l16.m1.1.1.2">ℰ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l16.m1.1c">\tilde{\mathcal{E}}</annotation><annotation encoding="application/x-llamapun" id="algx1.l16.m1.1d">over~ start_ARG caligraphic_E end_ARG</annotation></semantics></math>.

</div>
</div>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Tue Oct 15 06:24:31 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
