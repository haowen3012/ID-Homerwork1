<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use</title>
<!--Generated on Thu May 30 16:48:43 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="
document information extraction,  key information extraction,  line items recognition,  retrieval augmented generation,  structured generation,  table detection
" lang="en" name="keywords"/>
<base href="/html/2405.20245v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S1" title="In Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">I </span><span class="ltx_text ltx_font_smallcaps">Introduction</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S2" title="In Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">II </span><span class="ltx_text ltx_font_smallcaps">Retrieval Augmented Structured Generation</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S2.SS1" title="In II Retrieval Augmented Structured Generation ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">II-A</span> </span><span class="ltx_text ltx_font_italic">Notes for Finetuning for Structured Generation</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S2.SS2" title="In II Retrieval Augmented Structured Generation ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">II-B</span> </span><span class="ltx_text ltx_font_italic">Bounding Box Backcalculation Heuristic</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S3" title="In Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">III </span><span class="ltx_text ltx_font_smallcaps">General Line Items Recognition Metric</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S3.SS1" title="In III General Line Items Recognition Metric ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-A</span> </span><span class="ltx_text ltx_font_italic">Limitations of Current Line Items Recognition Metrics</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S3.SS2" title="In III General Line Items Recognition Metric ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-B</span> </span><span class="ltx_text ltx_font_italic">Similarity Matching Score</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S3.SS3" title="In III General Line Items Recognition Metric ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-C</span> </span><span class="ltx_text ltx_font_italic">Row Matching</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S3.SS4" title="In III General Line Items Recognition Metric ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-D</span> </span><span class="ltx_text ltx_font_italic">General Line Items Recognition Metric</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S4" title="In Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">IV </span><span class="ltx_text ltx_font_smallcaps">Experiments</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S4.SS1" title="In IV Experiments ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-A</span> </span><span class="ltx_text ltx_font_italic">Dataset</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S4.SS2" title="In IV Experiments ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-B</span> </span><span class="ltx_text ltx_font_italic">Methods</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S4.SS3" title="In IV Experiments ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-C</span> </span><span class="ltx_text ltx_font_italic">Results</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#S5" title="In Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">V </span><span class="ltx_text ltx_font_smallcaps">Discussion and Conclusion</span></span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<div class="ltx_para" id="p1">
<span class="ltx_ERROR undefined" id="p1.1">\UseTblrLibrary</span>
<p class="ltx_p" id="p1.2">booktabs






<span class="ltx_ERROR undefined" id="p1.2.1">\AtBeginBibliography</span>
<span class="ltx_ERROR undefined" id="p1.2.2">\addbibresource</span>bibliography.bib



</p>
</div>
<h1 class="ltx_title ltx_title_document">Retrieval Augmented Structured Generation:
<br class="ltx_break"/>Business Document Information Extraction As Tool Use</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Franz Louis Cesista, Rui Aguiar, Jason Kim, Paolo Acilo
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id1.1.id1">Expedock Software, Inc</span>, San Francisco, United States
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id2.2.id2" style="font-size:80%;">franzlouiscesista@gmail.com, raguiar1000@gmail.com, jasonminsookim@gmail.com, paolo@expedock.com</span>
</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id3.id1">Business Document Information Extraction (BDIE) is the problem of transforming a blob of unstructured information (raw text, scanned documents, etc.) into a structured format that downstream systems can parse and use. It has two main tasks: Key-Information Extraction (KIE) and Line Items Recognition (LIR). In this paper, we argue that BDIE is best modeled as a <span class="ltx_text ltx_font_italic" id="id3.id1.1">Tool Use</span> problem, where the tools are these downstream systems. We then present Retrieval Augmented Structured Generation (RASG), a novel general framework for BDIE that achieves state of the art (SOTA) results on both KIE and LIR tasks on BDIE benchmarks.</p>
<p class="ltx_p" id="id4.id2">The contributions of this paper are threefold: (1) We show, with ablation benchmarks, that Large Language Models (LLMs) with RASG are already competitive with or surpasses current SOTA Large Multimodal Models (LMMs) without RASG on BDIE benchmarks. (2) We propose a new metric class for Line Items Recognition, General Line Items Recognition Metric (GLIRM), that is more aligned with practical BDIE use cases compared to existing metrics, such as ANLS*, DocILE, and GriTS. (3) We provide a heuristic algorithm for backcalculating bounding boxes of predicted line items and tables without the need for vision encoders. Finally, we claim that, while LMMs might sometimes offer marginal performance benefits, LLMs + RASG is oftentimes superior given real-world applications and constraints of BDIE.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
document information extraction, key information extraction, line items recognition, retrieval augmented generation, structured generation, table detection

</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span class="ltx_text ltx_font_smallcaps" id="S1.1.1">Introduction</span>
</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">In practice, Business Document Information Extraction (BDIE) is done because one wants to connect human organizations such as businesses and governments with indefinite interfaces (such as printed/handwritten documents) to downstream systems with definite interfaces (such as Application Program Interfaces). For a machine learning system to be good at BDIE, it has to be good at interfacing with these downstream programs and at least minimally aware of what these programs do with the data. In the succeeding sections, we discuss how we can achieve these goals with our new methodology, Retrieval Augmented Structured Generation (RASG), and our new proposed metric class, General Line Items Recognition Metric (GLIRM).</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">BDIE has two main sub-problems, Key Information Extraction (KIE) and Line Items Recognition (LIR) <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">skalický2022business</span>]</cite>.
The goal of KIE is to extract and format information from the document into key-value pairs. And the goal of LIR is to extract information into a list of line items where each line item corresponds to a row in a table formatted into column key-value pairs.
And unlike Table Structure Recognition, the order of the columns do not matter so long as the columns are mapped to the proper, predefined column keys <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">smock2023grits</span>]</cite>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">To summarize and motivate RASG: the goal of BDIE is to transform a blob of information into a structured format to pass to downstream tools (i.e. APIs). We can teach machine learning models to use tools through supervised finetuning. We can then force them to output in the format we expect using structured generation. We can also teach sufficiently-powerful, pretrained models to use new tools on out-of-distribution datasets by taking advantage of in-context learning. Finally, to be able to use commercial LLMs ”out-of-the-box”, we can structure the text prompt to <span class="ltx_text ltx_font_italic" id="S1.p3.1.1">look</span> like the original document through prompt engineering.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span class="ltx_text ltx_font_smallcaps" id="S2.1.1">Retrieval Augmented Structured Generation</span>
</h2>
<figure class="ltx_figure" id="S2.F1">
<p class="ltx_p ltx_align_center" id="S2.F1.1"><span class="ltx_text" id="S2.F1.1.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="237" id="S2.F1.1.1.g1" src="extracted/5616372/rasg-v2.png" width="786"/></span></p>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 1: </span><span class="ltx_text ltx_font_bold" id="S2.F1.4.1">Retrieval Augmented Structured Generation (RASG).</span> We model Business Document Information Extraction as a <span class="ltx_text ltx_font_italic" id="S2.F1.5.2">Tool Use</span> problem with downstream APIs as the tools. We then combine Retrieval Augmented Generation, Supervised Finetuning, &amp; Structured Generation, techniques that improve tool use capabilities of ML models, with Structured Prompting to beat strong multimodal models using only LLMs. This allows to use the largest open-source and commercial models to reach SOTA results at minimal costs.</figcaption>
</figure>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">Retrieval Augmented Structured Generation (RASG) is composed of four components: <span class="ltx_text ltx_font_bold" id="S2.p1.1.1">(1) Retrieval Augmented Generation</span> which allows us to teach LLMs to use new tools using In-Context Learning <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">lewis2021retrievalaugmented</span>]</cite>; <span class="ltx_text ltx_font_bold" id="S2.p1.1.2">(2) Supervised Finetuning</span> which enhances the correctness of the extracted outputs; <span class="ltx_text ltx_font_bold" id="S2.p1.1.3">(3) Structured Generation</span> which ensures that the outputs are parse-able by downstream programs <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">willard2023outlines</span>]</cite>; and <span class="ltx_text ltx_font_bold" id="S2.p1.1.4">(4) Structured Prompting</span> which infuses layout information into the prompt <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">wang2023latin</span>]</cite>.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">All four components are necessary to beat strong multimodal baselines on BDIE using an open-source 7B LLM, Hermes 2 Pro - Mistral 7B <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">anon2024hermespro</span>]</cite>. But only a subset are necessary when using GPT-3.5 <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">openai-gpt35-docs</span>]</cite>.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S2.SS1.4.1.1">II-A</span> </span><span class="ltx_text ltx_font_italic" id="S2.SS1.5.2">Notes for Finetuning for Structured Generation</span>
</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">The language model used must output both the right <span class="ltx_text ltx_font_italic" id="S2.SS1.p1.1.1">content</span> and the right <span class="ltx_text ltx_font_italic" id="S2.SS1.p1.1.2">structure</span> of said content. Finetuning significantly helps with the former, less so with the latter. To ensure that the output is parseable by downstream systems, we need to zero the probabilities of invalid tokens. This is where structured generation works. Based on our experiments, we found that naively combining finetuning and structured generation leads to poor results. There are two main issues:</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">1. <span class="ltx_text ltx_font_bold" id="S2.SS1.p2.1.1">Schema vs. model mismatch</span>: Regex-based algorithms for structured generation, such as Outlines’ <span class="ltx_text ltx_font_typewriter" id="S2.SS1.p2.1.2">outlines.generate.json</span> module, implicitly impose a strict key ordering <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">willard2023outlines</span>]</cite> <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">tang2024loraxoutlines</span>]</cite>. E.g., suppose that we have a schema where the key <span class="ltx_text ltx_font_typewriter" id="S2.SS1.p2.1.3">"amount"</span> comes before <span class="ltx_text ltx_font_typewriter" id="S2.SS1.p2.1.4">"currency"</span>. Then, Outlines will mask the logits for <span class="ltx_text ltx_font_typewriter" id="S2.SS1.p2.1.5">"currency"</span> until <span class="ltx_text ltx_font_typewriter" id="S2.SS1.p2.1.6">"amount"</span> is generated. However, if the model was finetuned to generate <span class="ltx_text ltx_font_typewriter" id="S2.SS1.p2.1.7">"currency"</span> before <span class="ltx_text ltx_font_typewriter" id="S2.SS1.p2.1.8">"amount"</span>, the prediction accuracy collapses. To remedy this, one must either ensure that the finetuning dataset strictly follows the specified schema, or use Context-Free Grammar-based algorithms for structured generation, such as Outlines’ <span class="ltx_text ltx_font_typewriter" id="S2.SS1.p2.1.9">outlines.generate.cfg</span> module, which does not impose a strict key ordering.</p>
</div>
<div class="ltx_para" id="S2.SS1.p3">
<p class="ltx_p" id="S2.SS1.p3.1">2. <span class="ltx_text ltx_font_bold" id="S2.SS1.p3.1.1">Token explosion with optional keys</span>. A common issue we have observed is to require the keys to be generated even when the predicted value is <span class="ltx_text ltx_font_typewriter" id="S2.SS1.p3.1.2">null</span>. E.g., when one builds a Pydantic object with <span class="ltx_text ltx_font_typewriter" id="S2.SS1.p3.1.3">Optional</span> fields then naively pipes the object’s json schema to Outlines. This leads to a lot of unnecessary tokens being generated, slowing down inference. Another bad practice when using Outlines is to make <span class="ltx_text ltx_font_italic" id="S2.SS1.p3.1.4">all</span> of the keys optional. This is because Outlines uses a different algorithm to generate the FSM for this case. A workaround for this is to add a required dummy key of type <span class="ltx_text ltx_font_typewriter" id="S2.SS1.p3.1.5">null</span> to the schema and remove it in postprocessing.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S2.SS2.4.1.1">II-B</span> </span><span class="ltx_text ltx_font_italic" id="S2.SS2.5.2">Bounding Box Backcalculation Heuristic</span>
</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.2">For the KIE task, we have found that a simple, greedy algorithm (Algo <a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#alg1" title="Algorithm 1 ‣ II-B Bounding Box Backcalculation Heuristic ‣ II Retrieval Augmented Structured Generation ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_tag">1</span></a>) suffices for backcalculating bounding boxes. To use the entire page, simply set the <math alttext="y" class="ltx_Math" display="inline" id="S2.SS2.p1.1.m1.1"><semantics id="S2.SS2.p1.1.m1.1a"><mi id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><ci id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">y</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.1.m1.1d">italic_y</annotation></semantics></math> lowerbound and upperbound to <math alttext="0" class="ltx_Math" display="inline" id="S2.SS2.p1.2.m2.1"><semantics id="S2.SS2.p1.2.m2.1a"><mn id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><cn id="S2.SS2.p1.2.m2.1.1.cmml" type="integer" xref="S2.SS2.p1.2.m2.1.1">0</cn></annotation-xml></semantics></math> and the page height in pixels, respectively. For the LIR task, a good heuristic is to (1) divide the page vertically into chunks, one for each line item; and (2) re-use Algorithm 1 above to back-calculate the bounding boxes for each line item, but only for the words in the chunk assigned to the line item. The challenge is <span class="ltx_text ltx_font_italic" id="S2.SS2.p1.2.1">how</span> to divide the page.</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
<figcaption class="ltx_caption" style="font-size:80%;"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.4.1.1">Algorithm 1</span> </span> Bounding Box Backcalculation Heuristic</figcaption>
<div class="ltx_listing ltx_listing" id="alg1.5">
<div class="ltx_listingline" id="alg1.l1">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l1.1.1.1" style="font-size:80%;">1:</span></span><math alttext="y" class="ltx_Math" display="inline" id="alg1.l1.m1.1"><semantics id="alg1.l1.m1.1a"><mi id="alg1.l1.m1.1.1" mathsize="80%" xref="alg1.l1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">y</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m1.1d">italic_y</annotation></semantics></math><span class="ltx_text" id="alg1.l1.2" style="font-size:80%;"> lower- &amp; upperbound, predicted key-value map, and OCR data
</span>
</div>
<div class="ltx_listingline" id="alg1.l2">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l2.1.1.1" style="font-size:80%;">2:</span></span><span class="ltx_text" id="alg1.l2.2" style="font-size:80%;">Matching score, key to bounding box mapping
</span>
</div>
<div class="ltx_listingline" id="alg1.l3">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l3.1.1.1" style="font-size:80%;">3:</span></span><math alttext="score\leftarrow 0;key\_bbox\_map\leftarrow\{\}" class="ltx_Math" display="inline" id="alg1.l3.m1.2"><semantics id="alg1.l3.m1.2a"><mrow id="alg1.l3.m1.2.2.2" xref="alg1.l3.m1.2.2.3.cmml"><mrow id="alg1.l3.m1.1.1.1.1" xref="alg1.l3.m1.1.1.1.1.cmml"><mrow id="alg1.l3.m1.1.1.1.1.2" xref="alg1.l3.m1.1.1.1.1.2.cmml"><mi id="alg1.l3.m1.1.1.1.1.2.2" mathsize="80%" xref="alg1.l3.m1.1.1.1.1.2.2.cmml">s</mi><mo id="alg1.l3.m1.1.1.1.1.2.1" xref="alg1.l3.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.1.1.2.3" mathsize="80%" xref="alg1.l3.m1.1.1.1.1.2.3.cmml">c</mi><mo id="alg1.l3.m1.1.1.1.1.2.1a" xref="alg1.l3.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.1.1.2.4" mathsize="80%" xref="alg1.l3.m1.1.1.1.1.2.4.cmml">o</mi><mo id="alg1.l3.m1.1.1.1.1.2.1b" xref="alg1.l3.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.1.1.2.5" mathsize="80%" xref="alg1.l3.m1.1.1.1.1.2.5.cmml">r</mi><mo id="alg1.l3.m1.1.1.1.1.2.1c" xref="alg1.l3.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.1.1.2.6" mathsize="80%" xref="alg1.l3.m1.1.1.1.1.2.6.cmml">e</mi></mrow><mo id="alg1.l3.m1.1.1.1.1.1" mathsize="80%" stretchy="false" xref="alg1.l3.m1.1.1.1.1.1.cmml">←</mo><mn id="alg1.l3.m1.1.1.1.1.3" mathsize="80%" xref="alg1.l3.m1.1.1.1.1.3.cmml">0</mn></mrow><mo id="alg1.l3.m1.2.2.2.3" mathsize="80%" xref="alg1.l3.m1.2.2.3a.cmml">;</mo><mrow id="alg1.l3.m1.2.2.2.2" xref="alg1.l3.m1.2.2.2.2.cmml"><mrow id="alg1.l3.m1.2.2.2.2.2" xref="alg1.l3.m1.2.2.2.2.2.cmml"><mi id="alg1.l3.m1.2.2.2.2.2.2" mathsize="80%" xref="alg1.l3.m1.2.2.2.2.2.2.cmml">k</mi><mo id="alg1.l3.m1.2.2.2.2.2.1" xref="alg1.l3.m1.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.2.2.2.3" mathsize="80%" xref="alg1.l3.m1.2.2.2.2.2.3.cmml">e</mi><mo id="alg1.l3.m1.2.2.2.2.2.1a" xref="alg1.l3.m1.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.2.2.2.4" mathsize="80%" xref="alg1.l3.m1.2.2.2.2.2.4.cmml">y</mi><mo id="alg1.l3.m1.2.2.2.2.2.1b" xref="alg1.l3.m1.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.2.2.2.5" mathsize="80%" mathvariant="normal" xref="alg1.l3.m1.2.2.2.2.2.5.cmml">_</mi><mo id="alg1.l3.m1.2.2.2.2.2.1c" xref="alg1.l3.m1.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.2.2.2.6" mathsize="80%" xref="alg1.l3.m1.2.2.2.2.2.6.cmml">b</mi><mo id="alg1.l3.m1.2.2.2.2.2.1d" xref="alg1.l3.m1.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.2.2.2.7" mathsize="80%" xref="alg1.l3.m1.2.2.2.2.2.7.cmml">b</mi><mo id="alg1.l3.m1.2.2.2.2.2.1e" xref="alg1.l3.m1.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.2.2.2.8" mathsize="80%" xref="alg1.l3.m1.2.2.2.2.2.8.cmml">o</mi><mo id="alg1.l3.m1.2.2.2.2.2.1f" xref="alg1.l3.m1.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.2.2.2.9" mathsize="80%" xref="alg1.l3.m1.2.2.2.2.2.9.cmml">x</mi><mo id="alg1.l3.m1.2.2.2.2.2.1g" xref="alg1.l3.m1.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.2.2.2.10" mathsize="80%" mathvariant="normal" xref="alg1.l3.m1.2.2.2.2.2.10.cmml">_</mi><mo id="alg1.l3.m1.2.2.2.2.2.1h" xref="alg1.l3.m1.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.2.2.2.11" mathsize="80%" xref="alg1.l3.m1.2.2.2.2.2.11.cmml">m</mi><mo id="alg1.l3.m1.2.2.2.2.2.1i" xref="alg1.l3.m1.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.2.2.2.12" mathsize="80%" xref="alg1.l3.m1.2.2.2.2.2.12.cmml">a</mi><mo id="alg1.l3.m1.2.2.2.2.2.1j" xref="alg1.l3.m1.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l3.m1.2.2.2.2.2.13" mathsize="80%" xref="alg1.l3.m1.2.2.2.2.2.13.cmml">p</mi></mrow><mo id="alg1.l3.m1.2.2.2.2.1" mathsize="80%" stretchy="false" xref="alg1.l3.m1.2.2.2.2.1.cmml">←</mo><mrow id="alg1.l3.m1.2.2.2.2.3.2" xref="alg1.l3.m1.2.2.2.2.cmml"><mo id="alg1.l3.m1.2.2.2.2.3.2.1" maxsize="80%" minsize="80%" xref="alg1.l3.m1.2.2.2.2.3.1.cmml">{</mo><mo id="alg1.l3.m1.2.2.2.2.3.2.2" maxsize="80%" minsize="80%" xref="alg1.l3.m1.2.2.2.2.3.1.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.2b"><apply id="alg1.l3.m1.2.2.3.cmml" xref="alg1.l3.m1.2.2.2"><csymbol cd="ambiguous" id="alg1.l3.m1.2.2.3a.cmml" xref="alg1.l3.m1.2.2.2.3">formulae-sequence</csymbol><apply id="alg1.l3.m1.1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1.1"><ci id="alg1.l3.m1.1.1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1.1.1">←</ci><apply id="alg1.l3.m1.1.1.1.1.2.cmml" xref="alg1.l3.m1.1.1.1.1.2"><times id="alg1.l3.m1.1.1.1.1.2.1.cmml" xref="alg1.l3.m1.1.1.1.1.2.1"></times><ci id="alg1.l3.m1.1.1.1.1.2.2.cmml" xref="alg1.l3.m1.1.1.1.1.2.2">𝑠</ci><ci id="alg1.l3.m1.1.1.1.1.2.3.cmml" xref="alg1.l3.m1.1.1.1.1.2.3">𝑐</ci><ci id="alg1.l3.m1.1.1.1.1.2.4.cmml" xref="alg1.l3.m1.1.1.1.1.2.4">𝑜</ci><ci id="alg1.l3.m1.1.1.1.1.2.5.cmml" xref="alg1.l3.m1.1.1.1.1.2.5">𝑟</ci><ci id="alg1.l3.m1.1.1.1.1.2.6.cmml" xref="alg1.l3.m1.1.1.1.1.2.6">𝑒</ci></apply><cn id="alg1.l3.m1.1.1.1.1.3.cmml" type="integer" xref="alg1.l3.m1.1.1.1.1.3">0</cn></apply><apply id="alg1.l3.m1.2.2.2.2.cmml" xref="alg1.l3.m1.2.2.2.2"><ci id="alg1.l3.m1.2.2.2.2.1.cmml" xref="alg1.l3.m1.2.2.2.2.1">←</ci><apply id="alg1.l3.m1.2.2.2.2.2.cmml" xref="alg1.l3.m1.2.2.2.2.2"><times id="alg1.l3.m1.2.2.2.2.2.1.cmml" xref="alg1.l3.m1.2.2.2.2.2.1"></times><ci id="alg1.l3.m1.2.2.2.2.2.2.cmml" xref="alg1.l3.m1.2.2.2.2.2.2">𝑘</ci><ci id="alg1.l3.m1.2.2.2.2.2.3.cmml" xref="alg1.l3.m1.2.2.2.2.2.3">𝑒</ci><ci id="alg1.l3.m1.2.2.2.2.2.4.cmml" xref="alg1.l3.m1.2.2.2.2.2.4">𝑦</ci><ci id="alg1.l3.m1.2.2.2.2.2.5.cmml" xref="alg1.l3.m1.2.2.2.2.2.5">_</ci><ci id="alg1.l3.m1.2.2.2.2.2.6.cmml" xref="alg1.l3.m1.2.2.2.2.2.6">𝑏</ci><ci id="alg1.l3.m1.2.2.2.2.2.7.cmml" xref="alg1.l3.m1.2.2.2.2.2.7">𝑏</ci><ci id="alg1.l3.m1.2.2.2.2.2.8.cmml" xref="alg1.l3.m1.2.2.2.2.2.8">𝑜</ci><ci id="alg1.l3.m1.2.2.2.2.2.9.cmml" xref="alg1.l3.m1.2.2.2.2.2.9">𝑥</ci><ci id="alg1.l3.m1.2.2.2.2.2.10.cmml" xref="alg1.l3.m1.2.2.2.2.2.10">_</ci><ci id="alg1.l3.m1.2.2.2.2.2.11.cmml" xref="alg1.l3.m1.2.2.2.2.2.11">𝑚</ci><ci id="alg1.l3.m1.2.2.2.2.2.12.cmml" xref="alg1.l3.m1.2.2.2.2.2.12">𝑎</ci><ci id="alg1.l3.m1.2.2.2.2.2.13.cmml" xref="alg1.l3.m1.2.2.2.2.2.13">𝑝</ci></apply><list id="alg1.l3.m1.2.2.2.2.3.1.cmml" xref="alg1.l3.m1.2.2.2.2.3.2.1"></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.2c">score\leftarrow 0;key\_bbox\_map\leftarrow\{\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.2d">italic_s italic_c italic_o italic_r italic_e ← 0 ; italic_k italic_e italic_y _ italic_b italic_b italic_o italic_x _ italic_m italic_a italic_p ← { }</annotation></semantics></math><span class="ltx_text" id="alg1.l3.2" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l4">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l4.1.1.1" style="font-size:80%;">4:</span></span><span class="ltx_text ltx_font_bold" id="alg1.l4.2" style="font-size:80%;">for all</span><span class="ltx_text" id="alg1.l4.3" style="font-size:80%;"> </span><math alttext="(key,value)" class="ltx_Math" display="inline" id="alg1.l4.m1.2"><semantics id="alg1.l4.m1.2a"><mrow id="alg1.l4.m1.2.2.2" xref="alg1.l4.m1.2.2.3.cmml"><mo id="alg1.l4.m1.2.2.2.3" maxsize="80%" minsize="80%" xref="alg1.l4.m1.2.2.3.cmml">(</mo><mrow id="alg1.l4.m1.1.1.1.1" xref="alg1.l4.m1.1.1.1.1.cmml"><mi id="alg1.l4.m1.1.1.1.1.2" mathsize="80%" xref="alg1.l4.m1.1.1.1.1.2.cmml">k</mi><mo id="alg1.l4.m1.1.1.1.1.1" xref="alg1.l4.m1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m1.1.1.1.1.3" mathsize="80%" xref="alg1.l4.m1.1.1.1.1.3.cmml">e</mi><mo id="alg1.l4.m1.1.1.1.1.1a" xref="alg1.l4.m1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m1.1.1.1.1.4" mathsize="80%" xref="alg1.l4.m1.1.1.1.1.4.cmml">y</mi></mrow><mo id="alg1.l4.m1.2.2.2.4" mathsize="80%" xref="alg1.l4.m1.2.2.3.cmml">,</mo><mrow id="alg1.l4.m1.2.2.2.2" xref="alg1.l4.m1.2.2.2.2.cmml"><mi id="alg1.l4.m1.2.2.2.2.2" mathsize="80%" xref="alg1.l4.m1.2.2.2.2.2.cmml">v</mi><mo id="alg1.l4.m1.2.2.2.2.1" xref="alg1.l4.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l4.m1.2.2.2.2.3" mathsize="80%" xref="alg1.l4.m1.2.2.2.2.3.cmml">a</mi><mo id="alg1.l4.m1.2.2.2.2.1a" xref="alg1.l4.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l4.m1.2.2.2.2.4" mathsize="80%" xref="alg1.l4.m1.2.2.2.2.4.cmml">l</mi><mo id="alg1.l4.m1.2.2.2.2.1b" xref="alg1.l4.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l4.m1.2.2.2.2.5" mathsize="80%" xref="alg1.l4.m1.2.2.2.2.5.cmml">u</mi><mo id="alg1.l4.m1.2.2.2.2.1c" xref="alg1.l4.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l4.m1.2.2.2.2.6" mathsize="80%" xref="alg1.l4.m1.2.2.2.2.6.cmml">e</mi></mrow><mo id="alg1.l4.m1.2.2.2.5" maxsize="80%" minsize="80%" xref="alg1.l4.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.2b"><interval closure="open" id="alg1.l4.m1.2.2.3.cmml" xref="alg1.l4.m1.2.2.2"><apply id="alg1.l4.m1.1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1.1"><times id="alg1.l4.m1.1.1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1.1.1"></times><ci id="alg1.l4.m1.1.1.1.1.2.cmml" xref="alg1.l4.m1.1.1.1.1.2">𝑘</ci><ci id="alg1.l4.m1.1.1.1.1.3.cmml" xref="alg1.l4.m1.1.1.1.1.3">𝑒</ci><ci id="alg1.l4.m1.1.1.1.1.4.cmml" xref="alg1.l4.m1.1.1.1.1.4">𝑦</ci></apply><apply id="alg1.l4.m1.2.2.2.2.cmml" xref="alg1.l4.m1.2.2.2.2"><times id="alg1.l4.m1.2.2.2.2.1.cmml" xref="alg1.l4.m1.2.2.2.2.1"></times><ci id="alg1.l4.m1.2.2.2.2.2.cmml" xref="alg1.l4.m1.2.2.2.2.2">𝑣</ci><ci id="alg1.l4.m1.2.2.2.2.3.cmml" xref="alg1.l4.m1.2.2.2.2.3">𝑎</ci><ci id="alg1.l4.m1.2.2.2.2.4.cmml" xref="alg1.l4.m1.2.2.2.2.4">𝑙</ci><ci id="alg1.l4.m1.2.2.2.2.5.cmml" xref="alg1.l4.m1.2.2.2.2.5">𝑢</ci><ci id="alg1.l4.m1.2.2.2.2.6.cmml" xref="alg1.l4.m1.2.2.2.2.6">𝑒</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.2c">(key,value)</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m1.2d">( italic_k italic_e italic_y , italic_v italic_a italic_l italic_u italic_e )</annotation></semantics></math><span class="ltx_text" id="alg1.l4.4" style="font-size:80%;"> pair in the key-value map </span><span class="ltx_text ltx_font_bold" id="alg1.l4.5" style="font-size:80%;">do</span><span class="ltx_text" id="alg1.l4.6" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l5">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l5.1.1.1" style="font-size:80%;">5:</span></span><span class="ltx_text" id="alg1.l5.2" style="font-size:80%;">    </span><math alttext="m\_words\leftarrow" class="ltx_Math" display="inline" id="alg1.l5.m1.1"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mrow id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml"><mi id="alg1.l5.m1.1.1.2.2" mathsize="80%" xref="alg1.l5.m1.1.1.2.2.cmml">m</mi><mo id="alg1.l5.m1.1.1.2.1" xref="alg1.l5.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l5.m1.1.1.2.3" mathsize="80%" mathvariant="normal" xref="alg1.l5.m1.1.1.2.3.cmml">_</mi><mo id="alg1.l5.m1.1.1.2.1a" xref="alg1.l5.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l5.m1.1.1.2.4" mathsize="80%" xref="alg1.l5.m1.1.1.2.4.cmml">w</mi><mo id="alg1.l5.m1.1.1.2.1b" xref="alg1.l5.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l5.m1.1.1.2.5" mathsize="80%" xref="alg1.l5.m1.1.1.2.5.cmml">o</mi><mo id="alg1.l5.m1.1.1.2.1c" xref="alg1.l5.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l5.m1.1.1.2.6" mathsize="80%" xref="alg1.l5.m1.1.1.2.6.cmml">r</mi><mo id="alg1.l5.m1.1.1.2.1d" xref="alg1.l5.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l5.m1.1.1.2.7" mathsize="80%" xref="alg1.l5.m1.1.1.2.7.cmml">d</mi><mo id="alg1.l5.m1.1.1.2.1e" xref="alg1.l5.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l5.m1.1.1.2.8" mathsize="80%" xref="alg1.l5.m1.1.1.2.8.cmml">s</mi></mrow><mo id="alg1.l5.m1.1.1.1" mathsize="80%" stretchy="false" xref="alg1.l5.m1.1.1.1.cmml">←</mo><mi id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><ci id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1">←</ci><apply id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2"><times id="alg1.l5.m1.1.1.2.1.cmml" xref="alg1.l5.m1.1.1.2.1"></times><ci id="alg1.l5.m1.1.1.2.2.cmml" xref="alg1.l5.m1.1.1.2.2">𝑚</ci><ci id="alg1.l5.m1.1.1.2.3.cmml" xref="alg1.l5.m1.1.1.2.3">_</ci><ci id="alg1.l5.m1.1.1.2.4.cmml" xref="alg1.l5.m1.1.1.2.4">𝑤</ci><ci id="alg1.l5.m1.1.1.2.5.cmml" xref="alg1.l5.m1.1.1.2.5">𝑜</ci><ci id="alg1.l5.m1.1.1.2.6.cmml" xref="alg1.l5.m1.1.1.2.6">𝑟</ci><ci id="alg1.l5.m1.1.1.2.7.cmml" xref="alg1.l5.m1.1.1.2.7">𝑑</ci><ci id="alg1.l5.m1.1.1.2.8.cmml" xref="alg1.l5.m1.1.1.2.8">𝑠</ci></apply><csymbol cd="latexml" id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">m\_words\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m1.1d">italic_m _ italic_w italic_o italic_r italic_d italic_s ←</annotation></semantics></math><span class="ltx_text" id="alg1.l5.3" style="font-size:80%;"> The longest contiguous list of words matching </span><math alttext="value" class="ltx_Math" display="inline" id="alg1.l5.m2.1"><semantics id="alg1.l5.m2.1a"><mrow id="alg1.l5.m2.1.1" xref="alg1.l5.m2.1.1.cmml"><mi id="alg1.l5.m2.1.1.2" mathsize="80%" xref="alg1.l5.m2.1.1.2.cmml">v</mi><mo id="alg1.l5.m2.1.1.1" xref="alg1.l5.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m2.1.1.3" mathsize="80%" xref="alg1.l5.m2.1.1.3.cmml">a</mi><mo id="alg1.l5.m2.1.1.1a" xref="alg1.l5.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m2.1.1.4" mathsize="80%" xref="alg1.l5.m2.1.1.4.cmml">l</mi><mo id="alg1.l5.m2.1.1.1b" xref="alg1.l5.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m2.1.1.5" mathsize="80%" xref="alg1.l5.m2.1.1.5.cmml">u</mi><mo id="alg1.l5.m2.1.1.1c" xref="alg1.l5.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l5.m2.1.1.6" mathsize="80%" xref="alg1.l5.m2.1.1.6.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m2.1b"><apply id="alg1.l5.m2.1.1.cmml" xref="alg1.l5.m2.1.1"><times id="alg1.l5.m2.1.1.1.cmml" xref="alg1.l5.m2.1.1.1"></times><ci id="alg1.l5.m2.1.1.2.cmml" xref="alg1.l5.m2.1.1.2">𝑣</ci><ci id="alg1.l5.m2.1.1.3.cmml" xref="alg1.l5.m2.1.1.3">𝑎</ci><ci id="alg1.l5.m2.1.1.4.cmml" xref="alg1.l5.m2.1.1.4">𝑙</ci><ci id="alg1.l5.m2.1.1.5.cmml" xref="alg1.l5.m2.1.1.5">𝑢</ci><ci id="alg1.l5.m2.1.1.6.cmml" xref="alg1.l5.m2.1.1.6">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m2.1c">value</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m2.1d">italic_v italic_a italic_l italic_u italic_e</annotation></semantics></math><span class="ltx_text" id="alg1.l5.4" style="font-size:80%;"> whose bounding boxes lie within the </span><math alttext="y" class="ltx_Math" display="inline" id="alg1.l5.m3.1"><semantics id="alg1.l5.m3.1a"><mi id="alg1.l5.m3.1.1" mathsize="80%" xref="alg1.l5.m3.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="alg1.l5.m3.1b"><ci id="alg1.l5.m3.1.1.cmml" xref="alg1.l5.m3.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m3.1c">y</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m3.1d">italic_y</annotation></semantics></math><span class="ltx_text" id="alg1.l5.5" style="font-size:80%;"> lowerbound and upperbound
</span>
</div>
<div class="ltx_listingline" id="alg1.l6">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l6.1.1.1" style="font-size:80%;">6:</span></span><span class="ltx_text" id="alg1.l6.2" style="font-size:80%;">    </span><math alttext="m\_bboxes\leftarrow\text{Bounding boxes of }m\_words" class="ltx_Math" display="inline" id="alg1.l6.m1.1"><semantics id="alg1.l6.m1.1a"><mrow id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><mrow id="alg1.l6.m1.1.1.2" xref="alg1.l6.m1.1.1.2.cmml"><mi id="alg1.l6.m1.1.1.2.2" mathsize="80%" xref="alg1.l6.m1.1.1.2.2.cmml">m</mi><mo id="alg1.l6.m1.1.1.2.1" xref="alg1.l6.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.2.3" mathsize="80%" mathvariant="normal" xref="alg1.l6.m1.1.1.2.3.cmml">_</mi><mo id="alg1.l6.m1.1.1.2.1a" xref="alg1.l6.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.2.4" mathsize="80%" xref="alg1.l6.m1.1.1.2.4.cmml">b</mi><mo id="alg1.l6.m1.1.1.2.1b" xref="alg1.l6.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.2.5" mathsize="80%" xref="alg1.l6.m1.1.1.2.5.cmml">b</mi><mo id="alg1.l6.m1.1.1.2.1c" xref="alg1.l6.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.2.6" mathsize="80%" xref="alg1.l6.m1.1.1.2.6.cmml">o</mi><mo id="alg1.l6.m1.1.1.2.1d" xref="alg1.l6.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.2.7" mathsize="80%" xref="alg1.l6.m1.1.1.2.7.cmml">x</mi><mo id="alg1.l6.m1.1.1.2.1e" xref="alg1.l6.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.2.8" mathsize="80%" xref="alg1.l6.m1.1.1.2.8.cmml">e</mi><mo id="alg1.l6.m1.1.1.2.1f" xref="alg1.l6.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.2.9" mathsize="80%" xref="alg1.l6.m1.1.1.2.9.cmml">s</mi></mrow><mo id="alg1.l6.m1.1.1.1" mathsize="80%" stretchy="false" xref="alg1.l6.m1.1.1.1.cmml">←</mo><mrow id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml"><mtext id="alg1.l6.m1.1.1.3.2" mathsize="80%" xref="alg1.l6.m1.1.1.3.2a.cmml">Bounding boxes of </mtext><mo id="alg1.l6.m1.1.1.3.1" xref="alg1.l6.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.3.3" mathsize="80%" xref="alg1.l6.m1.1.1.3.3.cmml">m</mi><mo id="alg1.l6.m1.1.1.3.1a" xref="alg1.l6.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.3.4" mathsize="80%" mathvariant="normal" xref="alg1.l6.m1.1.1.3.4.cmml">_</mi><mo id="alg1.l6.m1.1.1.3.1b" xref="alg1.l6.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.3.5" mathsize="80%" xref="alg1.l6.m1.1.1.3.5.cmml">w</mi><mo id="alg1.l6.m1.1.1.3.1c" xref="alg1.l6.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.3.6" mathsize="80%" xref="alg1.l6.m1.1.1.3.6.cmml">o</mi><mo id="alg1.l6.m1.1.1.3.1d" xref="alg1.l6.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.3.7" mathsize="80%" xref="alg1.l6.m1.1.1.3.7.cmml">r</mi><mo id="alg1.l6.m1.1.1.3.1e" xref="alg1.l6.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.3.8" mathsize="80%" xref="alg1.l6.m1.1.1.3.8.cmml">d</mi><mo id="alg1.l6.m1.1.1.3.1f" xref="alg1.l6.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.1.1.3.9" mathsize="80%" xref="alg1.l6.m1.1.1.3.9.cmml">s</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><ci id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1">←</ci><apply id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1.2"><times id="alg1.l6.m1.1.1.2.1.cmml" xref="alg1.l6.m1.1.1.2.1"></times><ci id="alg1.l6.m1.1.1.2.2.cmml" xref="alg1.l6.m1.1.1.2.2">𝑚</ci><ci id="alg1.l6.m1.1.1.2.3.cmml" xref="alg1.l6.m1.1.1.2.3">_</ci><ci id="alg1.l6.m1.1.1.2.4.cmml" xref="alg1.l6.m1.1.1.2.4">𝑏</ci><ci id="alg1.l6.m1.1.1.2.5.cmml" xref="alg1.l6.m1.1.1.2.5">𝑏</ci><ci id="alg1.l6.m1.1.1.2.6.cmml" xref="alg1.l6.m1.1.1.2.6">𝑜</ci><ci id="alg1.l6.m1.1.1.2.7.cmml" xref="alg1.l6.m1.1.1.2.7">𝑥</ci><ci id="alg1.l6.m1.1.1.2.8.cmml" xref="alg1.l6.m1.1.1.2.8">𝑒</ci><ci id="alg1.l6.m1.1.1.2.9.cmml" xref="alg1.l6.m1.1.1.2.9">𝑠</ci></apply><apply id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3"><times id="alg1.l6.m1.1.1.3.1.cmml" xref="alg1.l6.m1.1.1.3.1"></times><ci id="alg1.l6.m1.1.1.3.2a.cmml" xref="alg1.l6.m1.1.1.3.2"><mtext id="alg1.l6.m1.1.1.3.2.cmml" mathsize="80%" xref="alg1.l6.m1.1.1.3.2">Bounding boxes of </mtext></ci><ci id="alg1.l6.m1.1.1.3.3.cmml" xref="alg1.l6.m1.1.1.3.3">𝑚</ci><ci id="alg1.l6.m1.1.1.3.4.cmml" xref="alg1.l6.m1.1.1.3.4">_</ci><ci id="alg1.l6.m1.1.1.3.5.cmml" xref="alg1.l6.m1.1.1.3.5">𝑤</ci><ci id="alg1.l6.m1.1.1.3.6.cmml" xref="alg1.l6.m1.1.1.3.6">𝑜</ci><ci id="alg1.l6.m1.1.1.3.7.cmml" xref="alg1.l6.m1.1.1.3.7">𝑟</ci><ci id="alg1.l6.m1.1.1.3.8.cmml" xref="alg1.l6.m1.1.1.3.8">𝑑</ci><ci id="alg1.l6.m1.1.1.3.9.cmml" xref="alg1.l6.m1.1.1.3.9">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">m\_bboxes\leftarrow\text{Bounding boxes of }m\_words</annotation><annotation encoding="application/x-llamapun" id="alg1.l6.m1.1d">italic_m _ italic_b italic_b italic_o italic_x italic_e italic_s ← Bounding boxes of italic_m _ italic_w italic_o italic_r italic_d italic_s</annotation></semantics></math><span class="ltx_text" id="alg1.l6.3" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l7">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l7.1.1.1" style="font-size:80%;">7:</span></span><span class="ltx_text" id="alg1.l7.2" style="font-size:80%;">    </span><math alttext="key\_bbox\_map[key]\leftarrow union(m\_bboxes)" class="ltx_Math" display="inline" id="alg1.l7.m1.2"><semantics id="alg1.l7.m1.2a"><mrow id="alg1.l7.m1.2.2" xref="alg1.l7.m1.2.2.cmml"><mrow id="alg1.l7.m1.1.1.1" xref="alg1.l7.m1.1.1.1.cmml"><mi id="alg1.l7.m1.1.1.1.3" mathsize="80%" xref="alg1.l7.m1.1.1.1.3.cmml">k</mi><mo id="alg1.l7.m1.1.1.1.2" xref="alg1.l7.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.4" mathsize="80%" xref="alg1.l7.m1.1.1.1.4.cmml">e</mi><mo id="alg1.l7.m1.1.1.1.2a" xref="alg1.l7.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.5" mathsize="80%" xref="alg1.l7.m1.1.1.1.5.cmml">y</mi><mo id="alg1.l7.m1.1.1.1.2b" xref="alg1.l7.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.6" mathsize="80%" mathvariant="normal" xref="alg1.l7.m1.1.1.1.6.cmml">_</mi><mo id="alg1.l7.m1.1.1.1.2c" xref="alg1.l7.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.7" mathsize="80%" xref="alg1.l7.m1.1.1.1.7.cmml">b</mi><mo id="alg1.l7.m1.1.1.1.2d" xref="alg1.l7.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.8" mathsize="80%" xref="alg1.l7.m1.1.1.1.8.cmml">b</mi><mo id="alg1.l7.m1.1.1.1.2e" xref="alg1.l7.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.9" mathsize="80%" xref="alg1.l7.m1.1.1.1.9.cmml">o</mi><mo id="alg1.l7.m1.1.1.1.2f" xref="alg1.l7.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.10" mathsize="80%" xref="alg1.l7.m1.1.1.1.10.cmml">x</mi><mo id="alg1.l7.m1.1.1.1.2g" xref="alg1.l7.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.11" mathsize="80%" mathvariant="normal" xref="alg1.l7.m1.1.1.1.11.cmml">_</mi><mo id="alg1.l7.m1.1.1.1.2h" xref="alg1.l7.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.12" mathsize="80%" xref="alg1.l7.m1.1.1.1.12.cmml">m</mi><mo id="alg1.l7.m1.1.1.1.2i" xref="alg1.l7.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.13" mathsize="80%" xref="alg1.l7.m1.1.1.1.13.cmml">a</mi><mo id="alg1.l7.m1.1.1.1.2j" xref="alg1.l7.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.14" mathsize="80%" xref="alg1.l7.m1.1.1.1.14.cmml">p</mi><mo id="alg1.l7.m1.1.1.1.2k" xref="alg1.l7.m1.1.1.1.2.cmml">⁢</mo><mrow id="alg1.l7.m1.1.1.1.1.1" xref="alg1.l7.m1.1.1.1.1.2.cmml"><mo id="alg1.l7.m1.1.1.1.1.1.2" maxsize="80%" minsize="80%" xref="alg1.l7.m1.1.1.1.1.2.1.cmml">[</mo><mrow id="alg1.l7.m1.1.1.1.1.1.1" xref="alg1.l7.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l7.m1.1.1.1.1.1.1.2" mathsize="80%" xref="alg1.l7.m1.1.1.1.1.1.1.2.cmml">k</mi><mo id="alg1.l7.m1.1.1.1.1.1.1.1" xref="alg1.l7.m1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.1.1.1.3" mathsize="80%" xref="alg1.l7.m1.1.1.1.1.1.1.3.cmml">e</mi><mo id="alg1.l7.m1.1.1.1.1.1.1.1a" xref="alg1.l7.m1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.1.1.1.1.4" mathsize="80%" xref="alg1.l7.m1.1.1.1.1.1.1.4.cmml">y</mi></mrow><mo id="alg1.l7.m1.1.1.1.1.1.3" maxsize="80%" minsize="80%" xref="alg1.l7.m1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="alg1.l7.m1.2.2.3" mathsize="80%" stretchy="false" xref="alg1.l7.m1.2.2.3.cmml">←</mo><mrow id="alg1.l7.m1.2.2.2" xref="alg1.l7.m1.2.2.2.cmml"><mi id="alg1.l7.m1.2.2.2.3" mathsize="80%" xref="alg1.l7.m1.2.2.2.3.cmml">u</mi><mo id="alg1.l7.m1.2.2.2.2" xref="alg1.l7.m1.2.2.2.2.cmml">⁢</mo><mi id="alg1.l7.m1.2.2.2.4" mathsize="80%" xref="alg1.l7.m1.2.2.2.4.cmml">n</mi><mo id="alg1.l7.m1.2.2.2.2a" xref="alg1.l7.m1.2.2.2.2.cmml">⁢</mo><mi id="alg1.l7.m1.2.2.2.5" mathsize="80%" xref="alg1.l7.m1.2.2.2.5.cmml">i</mi><mo id="alg1.l7.m1.2.2.2.2b" xref="alg1.l7.m1.2.2.2.2.cmml">⁢</mo><mi id="alg1.l7.m1.2.2.2.6" mathsize="80%" xref="alg1.l7.m1.2.2.2.6.cmml">o</mi><mo id="alg1.l7.m1.2.2.2.2c" xref="alg1.l7.m1.2.2.2.2.cmml">⁢</mo><mi id="alg1.l7.m1.2.2.2.7" mathsize="80%" xref="alg1.l7.m1.2.2.2.7.cmml">n</mi><mo id="alg1.l7.m1.2.2.2.2d" xref="alg1.l7.m1.2.2.2.2.cmml">⁢</mo><mrow id="alg1.l7.m1.2.2.2.1.1" xref="alg1.l7.m1.2.2.2.1.1.1.cmml"><mo id="alg1.l7.m1.2.2.2.1.1.2" maxsize="80%" minsize="80%" xref="alg1.l7.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="alg1.l7.m1.2.2.2.1.1.1" xref="alg1.l7.m1.2.2.2.1.1.1.cmml"><mi id="alg1.l7.m1.2.2.2.1.1.1.2" mathsize="80%" xref="alg1.l7.m1.2.2.2.1.1.1.2.cmml">m</mi><mo id="alg1.l7.m1.2.2.2.1.1.1.1" xref="alg1.l7.m1.2.2.2.1.1.1.1.cmml">⁢</mo><mi id="alg1.l7.m1.2.2.2.1.1.1.3" mathsize="80%" mathvariant="normal" xref="alg1.l7.m1.2.2.2.1.1.1.3.cmml">_</mi><mo id="alg1.l7.m1.2.2.2.1.1.1.1a" xref="alg1.l7.m1.2.2.2.1.1.1.1.cmml">⁢</mo><mi id="alg1.l7.m1.2.2.2.1.1.1.4" mathsize="80%" xref="alg1.l7.m1.2.2.2.1.1.1.4.cmml">b</mi><mo id="alg1.l7.m1.2.2.2.1.1.1.1b" xref="alg1.l7.m1.2.2.2.1.1.1.1.cmml">⁢</mo><mi id="alg1.l7.m1.2.2.2.1.1.1.5" mathsize="80%" xref="alg1.l7.m1.2.2.2.1.1.1.5.cmml">b</mi><mo id="alg1.l7.m1.2.2.2.1.1.1.1c" xref="alg1.l7.m1.2.2.2.1.1.1.1.cmml">⁢</mo><mi id="alg1.l7.m1.2.2.2.1.1.1.6" mathsize="80%" xref="alg1.l7.m1.2.2.2.1.1.1.6.cmml">o</mi><mo id="alg1.l7.m1.2.2.2.1.1.1.1d" xref="alg1.l7.m1.2.2.2.1.1.1.1.cmml">⁢</mo><mi id="alg1.l7.m1.2.2.2.1.1.1.7" mathsize="80%" xref="alg1.l7.m1.2.2.2.1.1.1.7.cmml">x</mi><mo id="alg1.l7.m1.2.2.2.1.1.1.1e" xref="alg1.l7.m1.2.2.2.1.1.1.1.cmml">⁢</mo><mi id="alg1.l7.m1.2.2.2.1.1.1.8" mathsize="80%" xref="alg1.l7.m1.2.2.2.1.1.1.8.cmml">e</mi><mo id="alg1.l7.m1.2.2.2.1.1.1.1f" xref="alg1.l7.m1.2.2.2.1.1.1.1.cmml">⁢</mo><mi id="alg1.l7.m1.2.2.2.1.1.1.9" mathsize="80%" xref="alg1.l7.m1.2.2.2.1.1.1.9.cmml">s</mi></mrow><mo id="alg1.l7.m1.2.2.2.1.1.3" maxsize="80%" minsize="80%" xref="alg1.l7.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.2b"><apply id="alg1.l7.m1.2.2.cmml" xref="alg1.l7.m1.2.2"><ci id="alg1.l7.m1.2.2.3.cmml" xref="alg1.l7.m1.2.2.3">←</ci><apply id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1"><times id="alg1.l7.m1.1.1.1.2.cmml" xref="alg1.l7.m1.1.1.1.2"></times><ci id="alg1.l7.m1.1.1.1.3.cmml" xref="alg1.l7.m1.1.1.1.3">𝑘</ci><ci id="alg1.l7.m1.1.1.1.4.cmml" xref="alg1.l7.m1.1.1.1.4">𝑒</ci><ci id="alg1.l7.m1.1.1.1.5.cmml" xref="alg1.l7.m1.1.1.1.5">𝑦</ci><ci id="alg1.l7.m1.1.1.1.6.cmml" xref="alg1.l7.m1.1.1.1.6">_</ci><ci id="alg1.l7.m1.1.1.1.7.cmml" xref="alg1.l7.m1.1.1.1.7">𝑏</ci><ci id="alg1.l7.m1.1.1.1.8.cmml" xref="alg1.l7.m1.1.1.1.8">𝑏</ci><ci id="alg1.l7.m1.1.1.1.9.cmml" xref="alg1.l7.m1.1.1.1.9">𝑜</ci><ci id="alg1.l7.m1.1.1.1.10.cmml" xref="alg1.l7.m1.1.1.1.10">𝑥</ci><ci id="alg1.l7.m1.1.1.1.11.cmml" xref="alg1.l7.m1.1.1.1.11">_</ci><ci id="alg1.l7.m1.1.1.1.12.cmml" xref="alg1.l7.m1.1.1.1.12">𝑚</ci><ci id="alg1.l7.m1.1.1.1.13.cmml" xref="alg1.l7.m1.1.1.1.13">𝑎</ci><ci id="alg1.l7.m1.1.1.1.14.cmml" xref="alg1.l7.m1.1.1.1.14">𝑝</ci><apply id="alg1.l7.m1.1.1.1.1.2.cmml" xref="alg1.l7.m1.1.1.1.1.1"><csymbol cd="latexml" id="alg1.l7.m1.1.1.1.1.2.1.cmml" xref="alg1.l7.m1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="alg1.l7.m1.1.1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1.1.1"><times id="alg1.l7.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1.1.1.1"></times><ci id="alg1.l7.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l7.m1.1.1.1.1.1.1.2">𝑘</ci><ci id="alg1.l7.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l7.m1.1.1.1.1.1.1.3">𝑒</ci><ci id="alg1.l7.m1.1.1.1.1.1.1.4.cmml" xref="alg1.l7.m1.1.1.1.1.1.1.4">𝑦</ci></apply></apply></apply><apply id="alg1.l7.m1.2.2.2.cmml" xref="alg1.l7.m1.2.2.2"><times id="alg1.l7.m1.2.2.2.2.cmml" xref="alg1.l7.m1.2.2.2.2"></times><ci id="alg1.l7.m1.2.2.2.3.cmml" xref="alg1.l7.m1.2.2.2.3">𝑢</ci><ci id="alg1.l7.m1.2.2.2.4.cmml" xref="alg1.l7.m1.2.2.2.4">𝑛</ci><ci id="alg1.l7.m1.2.2.2.5.cmml" xref="alg1.l7.m1.2.2.2.5">𝑖</ci><ci id="alg1.l7.m1.2.2.2.6.cmml" xref="alg1.l7.m1.2.2.2.6">𝑜</ci><ci id="alg1.l7.m1.2.2.2.7.cmml" xref="alg1.l7.m1.2.2.2.7">𝑛</ci><apply id="alg1.l7.m1.2.2.2.1.1.1.cmml" xref="alg1.l7.m1.2.2.2.1.1"><times id="alg1.l7.m1.2.2.2.1.1.1.1.cmml" xref="alg1.l7.m1.2.2.2.1.1.1.1"></times><ci id="alg1.l7.m1.2.2.2.1.1.1.2.cmml" xref="alg1.l7.m1.2.2.2.1.1.1.2">𝑚</ci><ci id="alg1.l7.m1.2.2.2.1.1.1.3.cmml" xref="alg1.l7.m1.2.2.2.1.1.1.3">_</ci><ci id="alg1.l7.m1.2.2.2.1.1.1.4.cmml" xref="alg1.l7.m1.2.2.2.1.1.1.4">𝑏</ci><ci id="alg1.l7.m1.2.2.2.1.1.1.5.cmml" xref="alg1.l7.m1.2.2.2.1.1.1.5">𝑏</ci><ci id="alg1.l7.m1.2.2.2.1.1.1.6.cmml" xref="alg1.l7.m1.2.2.2.1.1.1.6">𝑜</ci><ci id="alg1.l7.m1.2.2.2.1.1.1.7.cmml" xref="alg1.l7.m1.2.2.2.1.1.1.7">𝑥</ci><ci id="alg1.l7.m1.2.2.2.1.1.1.8.cmml" xref="alg1.l7.m1.2.2.2.1.1.1.8">𝑒</ci><ci id="alg1.l7.m1.2.2.2.1.1.1.9.cmml" xref="alg1.l7.m1.2.2.2.1.1.1.9">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.2c">key\_bbox\_map[key]\leftarrow union(m\_bboxes)</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m1.2d">italic_k italic_e italic_y _ italic_b italic_b italic_o italic_x _ italic_m italic_a italic_p [ italic_k italic_e italic_y ] ← italic_u italic_n italic_i italic_o italic_n ( italic_m _ italic_b italic_b italic_o italic_x italic_e italic_s )</annotation></semantics></math><span class="ltx_text" id="alg1.l7.3" style="font-size:80%;"> 
</span>
</div>
<div class="ltx_listingline" id="alg1.l8">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l8.1.1.1" style="font-size:80%;">8:</span></span><span class="ltx_text" id="alg1.l8.2" style="font-size:80%;">    </span><math alttext="score" class="ltx_Math" display="inline" id="alg1.l8.m1.1"><semantics id="alg1.l8.m1.1a"><mrow id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><mi id="alg1.l8.m1.1.1.2" mathsize="80%" xref="alg1.l8.m1.1.1.2.cmml">s</mi><mo id="alg1.l8.m1.1.1.1" xref="alg1.l8.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.3" mathsize="80%" xref="alg1.l8.m1.1.1.3.cmml">c</mi><mo id="alg1.l8.m1.1.1.1a" xref="alg1.l8.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.4" mathsize="80%" xref="alg1.l8.m1.1.1.4.cmml">o</mi><mo id="alg1.l8.m1.1.1.1b" xref="alg1.l8.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.5" mathsize="80%" xref="alg1.l8.m1.1.1.5.cmml">r</mi><mo id="alg1.l8.m1.1.1.1c" xref="alg1.l8.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.6" mathsize="80%" xref="alg1.l8.m1.1.1.6.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><times id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1"></times><ci id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2">𝑠</ci><ci id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3">𝑐</ci><ci id="alg1.l8.m1.1.1.4.cmml" xref="alg1.l8.m1.1.1.4">𝑜</ci><ci id="alg1.l8.m1.1.1.5.cmml" xref="alg1.l8.m1.1.1.5">𝑟</ci><ci id="alg1.l8.m1.1.1.6.cmml" xref="alg1.l8.m1.1.1.6">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">score</annotation><annotation encoding="application/x-llamapun" id="alg1.l8.m1.1d">italic_s italic_c italic_o italic_r italic_e</annotation></semantics></math><span class="ltx_text" id="alg1.l8.3" style="font-size:80%;"> </span><math alttext="\leftarrow" class="ltx_Math" display="inline" id="alg1.l8.m2.1"><semantics id="alg1.l8.m2.1a"><mo id="alg1.l8.m2.1.1" mathsize="80%" stretchy="false" xref="alg1.l8.m2.1.1.cmml">←</mo><annotation-xml encoding="MathML-Content" id="alg1.l8.m2.1b"><ci id="alg1.l8.m2.1.1.cmml" xref="alg1.l8.m2.1.1">←</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m2.1c">\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l8.m2.1d">←</annotation></semantics></math><span class="ltx_text" id="alg1.l8.4" style="font-size:80%;"> </span><math alttext="score+similarity(concat(m\_words)),value)" class="ltx_math_unparsed" display="inline" id="alg1.l8.m3.1"><semantics id="alg1.l8.m3.1a"><mrow id="alg1.l8.m3.1b"><mi id="alg1.l8.m3.1.1" mathsize="80%">s</mi><mi id="alg1.l8.m3.1.2" mathsize="80%">c</mi><mi id="alg1.l8.m3.1.3" mathsize="80%">o</mi><mi id="alg1.l8.m3.1.4" mathsize="80%">r</mi><mi id="alg1.l8.m3.1.5" mathsize="80%">e</mi><mo id="alg1.l8.m3.1.6" mathsize="80%">+</mo><mi id="alg1.l8.m3.1.7" mathsize="80%">s</mi><mi id="alg1.l8.m3.1.8" mathsize="80%">i</mi><mi id="alg1.l8.m3.1.9" mathsize="80%">m</mi><mi id="alg1.l8.m3.1.10" mathsize="80%">i</mi><mi id="alg1.l8.m3.1.11" mathsize="80%">l</mi><mi id="alg1.l8.m3.1.12" mathsize="80%">a</mi><mi id="alg1.l8.m3.1.13" mathsize="80%">r</mi><mi id="alg1.l8.m3.1.14" mathsize="80%">i</mi><mi id="alg1.l8.m3.1.15" mathsize="80%">t</mi><mi id="alg1.l8.m3.1.16" mathsize="80%">y</mi><mrow id="alg1.l8.m3.1.17"><mo id="alg1.l8.m3.1.17.1" maxsize="80%" minsize="80%">(</mo><mi id="alg1.l8.m3.1.17.2" mathsize="80%">c</mi><mi id="alg1.l8.m3.1.17.3" mathsize="80%">o</mi><mi id="alg1.l8.m3.1.17.4" mathsize="80%">n</mi><mi id="alg1.l8.m3.1.17.5" mathsize="80%">c</mi><mi id="alg1.l8.m3.1.17.6" mathsize="80%">a</mi><mi id="alg1.l8.m3.1.17.7" mathsize="80%">t</mi><mrow id="alg1.l8.m3.1.17.8"><mo id="alg1.l8.m3.1.17.8.1" maxsize="80%" minsize="80%">(</mo><mi id="alg1.l8.m3.1.17.8.2" mathsize="80%">m</mi><mi id="alg1.l8.m3.1.17.8.3" mathsize="80%" mathvariant="normal">_</mi><mi id="alg1.l8.m3.1.17.8.4" mathsize="80%">w</mi><mi id="alg1.l8.m3.1.17.8.5" mathsize="80%">o</mi><mi id="alg1.l8.m3.1.17.8.6" mathsize="80%">r</mi><mi id="alg1.l8.m3.1.17.8.7" mathsize="80%">d</mi><mi id="alg1.l8.m3.1.17.8.8" mathsize="80%">s</mi><mo id="alg1.l8.m3.1.17.8.9" maxsize="80%" minsize="80%">)</mo></mrow><mo id="alg1.l8.m3.1.17.9" maxsize="80%" minsize="80%">)</mo></mrow><mo id="alg1.l8.m3.1.18" mathsize="80%">,</mo><mi id="alg1.l8.m3.1.19" mathsize="80%">v</mi><mi id="alg1.l8.m3.1.20" mathsize="80%">a</mi><mi id="alg1.l8.m3.1.21" mathsize="80%">l</mi><mi id="alg1.l8.m3.1.22" mathsize="80%">u</mi><mi id="alg1.l8.m3.1.23" mathsize="80%">e</mi><mo id="alg1.l8.m3.1.24" maxsize="80%" minsize="80%">)</mo></mrow><annotation encoding="application/x-tex" id="alg1.l8.m3.1c">score+similarity(concat(m\_words)),value)</annotation><annotation encoding="application/x-llamapun" id="alg1.l8.m3.1d">italic_s italic_c italic_o italic_r italic_e + italic_s italic_i italic_m italic_i italic_l italic_a italic_r italic_i italic_t italic_y ( italic_c italic_o italic_n italic_c italic_a italic_t ( italic_m _ italic_w italic_o italic_r italic_d italic_s ) ) , italic_v italic_a italic_l italic_u italic_e )</annotation></semantics></math><span class="ltx_text" id="alg1.l8.5" style="font-size:80%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l9">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l9.1.1.1" style="font-size:80%;">9:</span></span><span class="ltx_text ltx_font_bold" id="alg1.l9.2" style="font-size:80%;">return</span><span class="ltx_text" id="alg1.l9.3" style="font-size:80%;"> </span><math alttext="(score,key\_bbox\_map)" class="ltx_Math" display="inline" id="alg1.l9.m1.2"><semantics id="alg1.l9.m1.2a"><mrow id="alg1.l9.m1.2.2.2" xref="alg1.l9.m1.2.2.3.cmml"><mo id="alg1.l9.m1.2.2.2.3" maxsize="80%" minsize="80%" xref="alg1.l9.m1.2.2.3.cmml">(</mo><mrow id="alg1.l9.m1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.cmml"><mi id="alg1.l9.m1.1.1.1.1.2" mathsize="80%" xref="alg1.l9.m1.1.1.1.1.2.cmml">s</mi><mo id="alg1.l9.m1.1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.1.1.3" mathsize="80%" xref="alg1.l9.m1.1.1.1.1.3.cmml">c</mi><mo id="alg1.l9.m1.1.1.1.1.1a" xref="alg1.l9.m1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.1.1.4" mathsize="80%" xref="alg1.l9.m1.1.1.1.1.4.cmml">o</mi><mo id="alg1.l9.m1.1.1.1.1.1b" xref="alg1.l9.m1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.1.1.5" mathsize="80%" xref="alg1.l9.m1.1.1.1.1.5.cmml">r</mi><mo id="alg1.l9.m1.1.1.1.1.1c" xref="alg1.l9.m1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.1.1.6" mathsize="80%" xref="alg1.l9.m1.1.1.1.1.6.cmml">e</mi></mrow><mo id="alg1.l9.m1.2.2.2.4" mathsize="80%" xref="alg1.l9.m1.2.2.3.cmml">,</mo><mrow id="alg1.l9.m1.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.cmml"><mi id="alg1.l9.m1.2.2.2.2.2" mathsize="80%" xref="alg1.l9.m1.2.2.2.2.2.cmml">k</mi><mo id="alg1.l9.m1.2.2.2.2.1" xref="alg1.l9.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.3" mathsize="80%" xref="alg1.l9.m1.2.2.2.2.3.cmml">e</mi><mo id="alg1.l9.m1.2.2.2.2.1a" xref="alg1.l9.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.4" mathsize="80%" xref="alg1.l9.m1.2.2.2.2.4.cmml">y</mi><mo id="alg1.l9.m1.2.2.2.2.1b" xref="alg1.l9.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.5" mathsize="80%" mathvariant="normal" xref="alg1.l9.m1.2.2.2.2.5.cmml">_</mi><mo id="alg1.l9.m1.2.2.2.2.1c" xref="alg1.l9.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.6" mathsize="80%" xref="alg1.l9.m1.2.2.2.2.6.cmml">b</mi><mo id="alg1.l9.m1.2.2.2.2.1d" xref="alg1.l9.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.7" mathsize="80%" xref="alg1.l9.m1.2.2.2.2.7.cmml">b</mi><mo id="alg1.l9.m1.2.2.2.2.1e" xref="alg1.l9.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.8" mathsize="80%" xref="alg1.l9.m1.2.2.2.2.8.cmml">o</mi><mo id="alg1.l9.m1.2.2.2.2.1f" xref="alg1.l9.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.9" mathsize="80%" xref="alg1.l9.m1.2.2.2.2.9.cmml">x</mi><mo id="alg1.l9.m1.2.2.2.2.1g" xref="alg1.l9.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.10" mathsize="80%" mathvariant="normal" xref="alg1.l9.m1.2.2.2.2.10.cmml">_</mi><mo id="alg1.l9.m1.2.2.2.2.1h" xref="alg1.l9.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.11" mathsize="80%" xref="alg1.l9.m1.2.2.2.2.11.cmml">m</mi><mo id="alg1.l9.m1.2.2.2.2.1i" xref="alg1.l9.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.12" mathsize="80%" xref="alg1.l9.m1.2.2.2.2.12.cmml">a</mi><mo id="alg1.l9.m1.2.2.2.2.1j" xref="alg1.l9.m1.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.13" mathsize="80%" xref="alg1.l9.m1.2.2.2.2.13.cmml">p</mi></mrow><mo id="alg1.l9.m1.2.2.2.5" maxsize="80%" minsize="80%" xref="alg1.l9.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.2b"><interval closure="open" id="alg1.l9.m1.2.2.3.cmml" xref="alg1.l9.m1.2.2.2"><apply id="alg1.l9.m1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1"><times id="alg1.l9.m1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1"></times><ci id="alg1.l9.m1.1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.1.2">𝑠</ci><ci id="alg1.l9.m1.1.1.1.1.3.cmml" xref="alg1.l9.m1.1.1.1.1.3">𝑐</ci><ci id="alg1.l9.m1.1.1.1.1.4.cmml" xref="alg1.l9.m1.1.1.1.1.4">𝑜</ci><ci id="alg1.l9.m1.1.1.1.1.5.cmml" xref="alg1.l9.m1.1.1.1.1.5">𝑟</ci><ci id="alg1.l9.m1.1.1.1.1.6.cmml" xref="alg1.l9.m1.1.1.1.1.6">𝑒</ci></apply><apply id="alg1.l9.m1.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2"><times id="alg1.l9.m1.2.2.2.2.1.cmml" xref="alg1.l9.m1.2.2.2.2.1"></times><ci id="alg1.l9.m1.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2">𝑘</ci><ci id="alg1.l9.m1.2.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2.3">𝑒</ci><ci id="alg1.l9.m1.2.2.2.2.4.cmml" xref="alg1.l9.m1.2.2.2.2.4">𝑦</ci><ci id="alg1.l9.m1.2.2.2.2.5.cmml" xref="alg1.l9.m1.2.2.2.2.5">_</ci><ci id="alg1.l9.m1.2.2.2.2.6.cmml" xref="alg1.l9.m1.2.2.2.2.6">𝑏</ci><ci id="alg1.l9.m1.2.2.2.2.7.cmml" xref="alg1.l9.m1.2.2.2.2.7">𝑏</ci><ci id="alg1.l9.m1.2.2.2.2.8.cmml" xref="alg1.l9.m1.2.2.2.2.8">𝑜</ci><ci id="alg1.l9.m1.2.2.2.2.9.cmml" xref="alg1.l9.m1.2.2.2.2.9">𝑥</ci><ci id="alg1.l9.m1.2.2.2.2.10.cmml" xref="alg1.l9.m1.2.2.2.2.10">_</ci><ci id="alg1.l9.m1.2.2.2.2.11.cmml" xref="alg1.l9.m1.2.2.2.2.11">𝑚</ci><ci id="alg1.l9.m1.2.2.2.2.12.cmml" xref="alg1.l9.m1.2.2.2.2.12">𝑎</ci><ci id="alg1.l9.m1.2.2.2.2.13.cmml" xref="alg1.l9.m1.2.2.2.2.13">𝑝</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.2c">(score,key\_bbox\_map)</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.m1.2d">( italic_s italic_c italic_o italic_r italic_e , italic_k italic_e italic_y _ italic_b italic_b italic_o italic_x _ italic_m italic_a italic_p )</annotation></semantics></math><span class="ltx_text" id="alg1.l9.4" style="font-size:80%;">
</span>
</div>
</div>
</figure>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.10">The naive dynamic programming approach with 2D states <span class="ltx_text ltx_font_typewriter" id="S2.SS2.p2.1.1">(line item index, page <math alttext="y" class="ltx_Math" display="inline" id="S2.SS2.p2.1.1.m1.1"><semantics id="S2.SS2.p2.1.1.m1.1a"><mi id="S2.SS2.p2.1.1.m1.1.1" xref="S2.SS2.p2.1.1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.1.m1.1b"><ci id="S2.SS2.p2.1.1.m1.1.1.cmml" xref="S2.SS2.p2.1.1.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.1.1.m1.1c">y</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.1.1.m1.1d">italic_y</annotation></semantics></math>)</span> has complexity <math alttext="O(MN^{2}\cdot O(\text{Algo \ref{bboxheuristic}}))" class="ltx_Math" display="inline" id="S2.SS2.p2.2.m1.2"><semantics id="S2.SS2.p2.2.m1.2a"><mrow id="S2.SS2.p2.2.m1.2.2" xref="S2.SS2.p2.2.m1.2.2.cmml"><mi id="S2.SS2.p2.2.m1.2.2.3" xref="S2.SS2.p2.2.m1.2.2.3.cmml">O</mi><mo id="S2.SS2.p2.2.m1.2.2.2" xref="S2.SS2.p2.2.m1.2.2.2.cmml">⁢</mo><mrow id="S2.SS2.p2.2.m1.2.2.1.1" xref="S2.SS2.p2.2.m1.2.2.1.1.1.cmml"><mo id="S2.SS2.p2.2.m1.2.2.1.1.2" stretchy="false" xref="S2.SS2.p2.2.m1.2.2.1.1.1.cmml">(</mo><mrow id="S2.SS2.p2.2.m1.2.2.1.1.1" xref="S2.SS2.p2.2.m1.2.2.1.1.1.cmml"><mrow id="S2.SS2.p2.2.m1.2.2.1.1.1.2" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.cmml"><mrow id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.cmml"><mi id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.2" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.2.cmml">M</mi><mo id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.1" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.1.cmml">⁢</mo><msup id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3.cmml"><mi id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3.2" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3.2.cmml">N</mi><mn id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3.3" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3.3.cmml">2</mn></msup></mrow><mo id="S2.SS2.p2.2.m1.2.2.1.1.1.2.1" lspace="0.222em" rspace="0.222em" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.1.cmml">⋅</mo><mi id="S2.SS2.p2.2.m1.2.2.1.1.1.2.3" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.3.cmml">O</mi></mrow><mo id="S2.SS2.p2.2.m1.2.2.1.1.1.1" xref="S2.SS2.p2.2.m1.2.2.1.1.1.1.cmml">⁢</mo><mrow id="S2.SS2.p2.2.m1.2.2.1.1.1.3.2" xref="S2.SS2.p2.2.m1.1.1e.cmml"><mo id="S2.SS2.p2.2.m1.2.2.1.1.1.3.2.1" stretchy="false" xref="S2.SS2.p2.2.m1.1.1e.cmml">(</mo><mrow id="S2.SS2.p2.2.m1.1.1" xref="S2.SS2.p2.2.m1.1.1e.cmml"><mtext id="S2.SS2.p2.2.m1.1.1a" xref="S2.SS2.p2.2.m1.1.1a.cmml">Algo </mtext><mtext id="S2.SS2.p2.2.m1.1.1b" xref="S2.SS2.p2.2.m1.1.1e.cmml"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#alg1" title="Algorithm 1 ‣ II-B Bounding Box Backcalculation Heuristic ‣ II Retrieval Augmented Structured Generation ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_tag">1</span></a></mtext></mrow><mo id="S2.SS2.p2.2.m1.2.2.1.1.1.3.2.2" stretchy="false" xref="S2.SS2.p2.2.m1.1.1e.cmml">)</mo></mrow></mrow><mo id="S2.SS2.p2.2.m1.2.2.1.1.3" stretchy="false" xref="S2.SS2.p2.2.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.2.m1.2b"><apply id="S2.SS2.p2.2.m1.2.2.cmml" xref="S2.SS2.p2.2.m1.2.2"><times id="S2.SS2.p2.2.m1.2.2.2.cmml" xref="S2.SS2.p2.2.m1.2.2.2"></times><ci id="S2.SS2.p2.2.m1.2.2.3.cmml" xref="S2.SS2.p2.2.m1.2.2.3">𝑂</ci><apply id="S2.SS2.p2.2.m1.2.2.1.1.1.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1"><times id="S2.SS2.p2.2.m1.2.2.1.1.1.1.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.1"></times><apply id="S2.SS2.p2.2.m1.2.2.1.1.1.2.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2"><ci id="S2.SS2.p2.2.m1.2.2.1.1.1.2.1.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.1">⋅</ci><apply id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2"><times id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.1.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.1"></times><ci id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.2.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.2">𝑀</ci><apply id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3.1.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3">superscript</csymbol><ci id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3.2.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3.2">𝑁</ci><cn id="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3.3.cmml" type="integer" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.2.3.3">2</cn></apply></apply><ci id="S2.SS2.p2.2.m1.2.2.1.1.1.2.3.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.2.3">𝑂</ci></apply><ci id="S2.SS2.p2.2.m1.1.1e.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.3.2"><mrow id="S2.SS2.p2.2.m1.1.1.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.3.2"><mtext id="S2.SS2.p2.2.m1.1.1a.cmml" xref="S2.SS2.p2.2.m1.1.1a">Algo </mtext><mtext id="S2.SS2.p2.2.m1.1.1b.cmml" xref="S2.SS2.p2.2.m1.2.2.1.1.1.3.2"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#alg1" title="Algorithm 1 ‣ II-B Bounding Box Backcalculation Heuristic ‣ II Retrieval Augmented Structured Generation ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_tag">1</span></a></mtext></mrow></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.2.m1.2c">O(MN^{2}\cdot O(\text{Algo \ref{bboxheuristic}}))</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.2.m1.2d">italic_O ( italic_M italic_N start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ⋅ italic_O ( Algo ) )</annotation></semantics></math> where <math alttext="M" class="ltx_Math" display="inline" id="S2.SS2.p2.3.m2.1"><semantics id="S2.SS2.p2.3.m2.1a"><mi id="S2.SS2.p2.3.m2.1.1" xref="S2.SS2.p2.3.m2.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.3.m2.1b"><ci id="S2.SS2.p2.3.m2.1.1.cmml" xref="S2.SS2.p2.3.m2.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.3.m2.1c">M</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.3.m2.1d">italic_M</annotation></semantics></math> is the number of line items and <math alttext="N" class="ltx_Math" display="inline" id="S2.SS2.p2.4.m3.1"><semantics id="S2.SS2.p2.4.m3.1a"><mi id="S2.SS2.p2.4.m3.1.1" xref="S2.SS2.p2.4.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.4.m3.1b"><ci id="S2.SS2.p2.4.m3.1.1.cmml" xref="S2.SS2.p2.4.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.4.m3.1c">N</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.4.m3.1d">italic_N</annotation></semantics></math> is the page height. We can optimize this by down-scaling the page. In production we use <math alttext="N=128" class="ltx_Math" display="inline" id="S2.SS2.p2.5.m4.1"><semantics id="S2.SS2.p2.5.m4.1a"><mrow id="S2.SS2.p2.5.m4.1.1" xref="S2.SS2.p2.5.m4.1.1.cmml"><mi id="S2.SS2.p2.5.m4.1.1.2" xref="S2.SS2.p2.5.m4.1.1.2.cmml">N</mi><mo id="S2.SS2.p2.5.m4.1.1.1" xref="S2.SS2.p2.5.m4.1.1.1.cmml">=</mo><mn id="S2.SS2.p2.5.m4.1.1.3" xref="S2.SS2.p2.5.m4.1.1.3.cmml">128</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.5.m4.1b"><apply id="S2.SS2.p2.5.m4.1.1.cmml" xref="S2.SS2.p2.5.m4.1.1"><eq id="S2.SS2.p2.5.m4.1.1.1.cmml" xref="S2.SS2.p2.5.m4.1.1.1"></eq><ci id="S2.SS2.p2.5.m4.1.1.2.cmml" xref="S2.SS2.p2.5.m4.1.1.2">𝑁</ci><cn id="S2.SS2.p2.5.m4.1.1.3.cmml" type="integer" xref="S2.SS2.p2.5.m4.1.1.3">128</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.5.m4.1c">N=128</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.5.m4.1d">italic_N = 128</annotation></semantics></math>. A further optimization takes advantage of the monotonicity of Algorithm 1: the matching score is non-increasing as we increase the <math alttext="y" class="ltx_Math" display="inline" id="S2.SS2.p2.6.m5.1"><semantics id="S2.SS2.p2.6.m5.1a"><mi id="S2.SS2.p2.6.m5.1.1" xref="S2.SS2.p2.6.m5.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.6.m5.1b"><ci id="S2.SS2.p2.6.m5.1.1.cmml" xref="S2.SS2.p2.6.m5.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.6.m5.1c">y</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.6.m5.1d">italic_y</annotation></semantics></math> lower bound and decrease the <math alttext="y" class="ltx_Math" display="inline" id="S2.SS2.p2.7.m6.1"><semantics id="S2.SS2.p2.7.m6.1a"><mi id="S2.SS2.p2.7.m6.1.1" xref="S2.SS2.p2.7.m6.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.7.m6.1b"><ci id="S2.SS2.p2.7.m6.1.1.cmml" xref="S2.SS2.p2.7.m6.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.7.m6.1c">y</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.7.m6.1d">italic_y</annotation></semantics></math> upper bound.
Therefore, we can use the Divide-and-Conquer optimization for dynamic programming problems to speed this up to <math alttext="O(MN\log{N}\cdot O(\text{Algo \ref{bboxheuristic}}))" class="ltx_Math" display="inline" id="S2.SS2.p2.8.m7.2"><semantics id="S2.SS2.p2.8.m7.2a"><mrow id="S2.SS2.p2.8.m7.2.2" xref="S2.SS2.p2.8.m7.2.2.cmml"><mi id="S2.SS2.p2.8.m7.2.2.3" xref="S2.SS2.p2.8.m7.2.2.3.cmml">O</mi><mo id="S2.SS2.p2.8.m7.2.2.2" xref="S2.SS2.p2.8.m7.2.2.2.cmml">⁢</mo><mrow id="S2.SS2.p2.8.m7.2.2.1.1" xref="S2.SS2.p2.8.m7.2.2.1.1.1.cmml"><mo id="S2.SS2.p2.8.m7.2.2.1.1.2" stretchy="false" xref="S2.SS2.p2.8.m7.2.2.1.1.1.cmml">(</mo><mrow id="S2.SS2.p2.8.m7.2.2.1.1.1" xref="S2.SS2.p2.8.m7.2.2.1.1.1.cmml"><mi id="S2.SS2.p2.8.m7.2.2.1.1.1.2" xref="S2.SS2.p2.8.m7.2.2.1.1.1.2.cmml">M</mi><mo id="S2.SS2.p2.8.m7.2.2.1.1.1.1" xref="S2.SS2.p2.8.m7.2.2.1.1.1.1.cmml">⁢</mo><mi id="S2.SS2.p2.8.m7.2.2.1.1.1.3" xref="S2.SS2.p2.8.m7.2.2.1.1.1.3.cmml">N</mi><mo id="S2.SS2.p2.8.m7.2.2.1.1.1.1a" lspace="0.167em" xref="S2.SS2.p2.8.m7.2.2.1.1.1.1.cmml">⁢</mo><mrow id="S2.SS2.p2.8.m7.2.2.1.1.1.4" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4.cmml"><mi id="S2.SS2.p2.8.m7.2.2.1.1.1.4.1" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4.1.cmml">log</mi><mo id="S2.SS2.p2.8.m7.2.2.1.1.1.4a" lspace="0.167em" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4.cmml">⁡</mo><mrow id="S2.SS2.p2.8.m7.2.2.1.1.1.4.2" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.cmml"><mi id="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.2" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.2.cmml">N</mi><mo id="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.1" lspace="0.222em" rspace="0.222em" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.1.cmml">⋅</mo><mi id="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.3" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.3.cmml">O</mi></mrow></mrow><mo id="S2.SS2.p2.8.m7.2.2.1.1.1.1b" xref="S2.SS2.p2.8.m7.2.2.1.1.1.1.cmml">⁢</mo><mrow id="S2.SS2.p2.8.m7.2.2.1.1.1.5.2" xref="S2.SS2.p2.8.m7.1.1e.cmml"><mo id="S2.SS2.p2.8.m7.2.2.1.1.1.5.2.1" stretchy="false" xref="S2.SS2.p2.8.m7.1.1e.cmml">(</mo><mrow id="S2.SS2.p2.8.m7.1.1" xref="S2.SS2.p2.8.m7.1.1e.cmml"><mtext id="S2.SS2.p2.8.m7.1.1a" xref="S2.SS2.p2.8.m7.1.1a.cmml">Algo </mtext><mtext id="S2.SS2.p2.8.m7.1.1b" xref="S2.SS2.p2.8.m7.1.1e.cmml"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#alg1" title="Algorithm 1 ‣ II-B Bounding Box Backcalculation Heuristic ‣ II Retrieval Augmented Structured Generation ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_tag">1</span></a></mtext></mrow><mo id="S2.SS2.p2.8.m7.2.2.1.1.1.5.2.2" stretchy="false" xref="S2.SS2.p2.8.m7.1.1e.cmml">)</mo></mrow></mrow><mo id="S2.SS2.p2.8.m7.2.2.1.1.3" stretchy="false" xref="S2.SS2.p2.8.m7.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.8.m7.2b"><apply id="S2.SS2.p2.8.m7.2.2.cmml" xref="S2.SS2.p2.8.m7.2.2"><times id="S2.SS2.p2.8.m7.2.2.2.cmml" xref="S2.SS2.p2.8.m7.2.2.2"></times><ci id="S2.SS2.p2.8.m7.2.2.3.cmml" xref="S2.SS2.p2.8.m7.2.2.3">𝑂</ci><apply id="S2.SS2.p2.8.m7.2.2.1.1.1.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1"><times id="S2.SS2.p2.8.m7.2.2.1.1.1.1.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1.1.1"></times><ci id="S2.SS2.p2.8.m7.2.2.1.1.1.2.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1.1.2">𝑀</ci><ci id="S2.SS2.p2.8.m7.2.2.1.1.1.3.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1.1.3">𝑁</ci><apply id="S2.SS2.p2.8.m7.2.2.1.1.1.4.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4"><log id="S2.SS2.p2.8.m7.2.2.1.1.1.4.1.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4.1"></log><apply id="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4.2"><ci id="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.1.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.1">⋅</ci><ci id="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.2.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.2">𝑁</ci><ci id="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.3.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1.1.4.2.3">𝑂</ci></apply></apply><ci id="S2.SS2.p2.8.m7.1.1e.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1.1.5.2"><mrow id="S2.SS2.p2.8.m7.1.1.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1.1.5.2"><mtext id="S2.SS2.p2.8.m7.1.1a.cmml" xref="S2.SS2.p2.8.m7.1.1a">Algo </mtext><mtext id="S2.SS2.p2.8.m7.1.1b.cmml" xref="S2.SS2.p2.8.m7.2.2.1.1.1.5.2"><a class="ltx_ref" href="https://arxiv.org/html/2405.20245v1#alg1" title="Algorithm 1 ‣ II-B Bounding Box Backcalculation Heuristic ‣ II Retrieval Augmented Structured Generation ‣ Retrieval Augmented Structured Generation: Business Document Information Extraction As Tool Use"><span class="ltx_text ltx_ref_tag">1</span></a></mtext></mrow></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.8.m7.2c">O(MN\log{N}\cdot O(\text{Algo \ref{bboxheuristic}}))</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.8.m7.2d">italic_O ( italic_M italic_N roman_log italic_N ⋅ italic_O ( Algo ) )</annotation></semantics></math>. Finally, we employ binary search to find the largest <math alttext="y" class="ltx_Math" display="inline" id="S2.SS2.p2.9.m8.1"><semantics id="S2.SS2.p2.9.m8.1a"><mi id="S2.SS2.p2.9.m8.1.1" xref="S2.SS2.p2.9.m8.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.9.m8.1b"><ci id="S2.SS2.p2.9.m8.1.1.cmml" xref="S2.SS2.p2.9.m8.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.9.m8.1c">y</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.9.m8.1d">italic_y</annotation></semantics></math> lowerbound for the first and the smallest <math alttext="y" class="ltx_Math" display="inline" id="S2.SS2.p2.10.m9.1"><semantics id="S2.SS2.p2.10.m9.1a"><mi id="S2.SS2.p2.10.m9.1.1" xref="S2.SS2.p2.10.m9.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.10.m9.1b"><ci id="S2.SS2.p2.10.m9.1.1.cmml" xref="S2.SS2.p2.10.m9.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.10.m9.1c">y</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p2.10.m9.1d">italic_y</annotation></semantics></math> upperbound for the last line item to tighten the bounds.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span class="ltx_text ltx_font_smallcaps" id="S3.1.1">General Line Items Recognition Metric</span>
</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">The goal of LIR is to extract information into an ordered list of line items where each line item corresponds to a row in a table and is formatted into column key-value pairs. In this section, we will derive a new metric class for LIR.</p>
</div>
<div class="ltx_para" id="S3.p2">
<p class="ltx_p" id="S3.p2.1">A metric for LIR should have the following attributes:</p>
</div>
<div class="ltx_para" id="S3.p3">
<ol class="ltx_enumerate" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i1.p1.1.1" style="font-size:90%;">Subtask Isolation</span><span class="ltx_text" id="S3.I1.i1.p1.1.2" style="font-size:90%;">: Performance on the subtasks must be measured separately.</span></p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i2.p1.1.1" style="font-size:90%;">Cell Isolation</span><span class="ltx_text" id="S3.I1.i2.p1.1.2" style="font-size:90%;">: A True Positive corresponds to exactly one predicted cell and one ground truth cell.</span></p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span>
<div class="ltx_para" id="S3.I1.i3.p1">
<p class="ltx_p" id="S3.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i3.p1.1.1" style="font-size:90%;">Cell Completeness</span><span class="ltx_text" id="S3.I1.i3.p1.1.2" style="font-size:90%;">: Hallucinated cells are counted as False Positives. Missing cells are counted as False Negatives.</span></p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span>
<div class="ltx_para" id="S3.I1.i4.p1">
<p class="ltx_p" id="S3.I1.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i4.p1.1.1" style="font-size:90%;">Cell Similarity-Measure Flexibility</span><span class="ltx_text" id="S3.I1.i4.p1.1.2" style="font-size:90%;">: Within the same subtask, the metric must support multiple cell similarity measures.</span></p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">5.</span>
<div class="ltx_para" id="S3.I1.i5.p1">
<p class="ltx_p" id="S3.I1.i5.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i5.p1.1.1" style="font-size:90%;">Cell Row-Position Invariance</span><span class="ltx_text" id="S3.I1.i5.p1.1.2" style="font-size:90%;">: The credit given to a correctly predicted cell is the same regardless of absolute row position.</span></p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">6.</span>
<div class="ltx_para" id="S3.I1.i6.p1">
<p class="ltx_p" id="S3.I1.i6.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i6.p1.1.1" style="font-size:90%;">Row-Order Preservation</span><span class="ltx_text" id="S3.I1.i6.p1.1.2" style="font-size:90%;">: For any two predicted rows, their relative order and the relative order of their matching ground truth rows must be the same.</span></p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i7" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">7.</span>
<div class="ltx_para" id="S3.I1.i7.p1">
<p class="ltx_p" id="S3.I1.i7.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i7.p1.1.1" style="font-size:90%;">Column-Permutation Invariance</span><span class="ltx_text" id="S3.I1.i7.p1.1.2" style="font-size:90%;">: The metric must be invariant to column shuffling.</span></p>
</div>
</li>
</ol>
</div>
<div class="ltx_para" id="S3.p4">
<p class="ltx_p" id="S3.p4.1">Attribute #1 is important because we do not often need both the cell content and location information for downstream tasks. Attributes #2 and #3 are so that we can have an F1-score-like metric that penalizes both over-extraction and under-extraction of cells. Attribute #4 is so the metric can be extended to support multiple similarity measures more appropriate for downstream tasks.</p>
</div>
<div class="ltx_para" id="S3.p5">
<p class="ltx_p" id="S3.p5.1">Attribute #5 is relevant in cases where there are extra or missing rows in the predictions. We only want to penalize such rows, not the rows with matching ground truth. Attribute #6 is important because there are documents where the order of the rows matter. For example, documents where transactions are ordered by time.</p>
</div>
<div class="ltx_para" id="S3.p6">
<p class="ltx_p" id="S3.p6.1">And finally, Attribute #7 is an <span class="ltx_text ltx_font_italic" id="S3.p6.1.1">ideal</span> attribute because the order of the columns do not often matter when applying business logic to the line items. Downstream programs often then save the results (and the extracted data) to column-invariant SQL-like databases.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS1.4.1.1">III-A</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS1.5.2">Limitations of Current Line Items Recognition Metrics</span>
</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">ANLS* and the DocILE metric use Maximum-Weight Bipartite Matching-based algorithms for row-matching <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">peer2024anls</span>]</cite> <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">simsa2023docile</span>]</cite>. Thus, they do not satisfy attribute #6. Furthermore, the latter supports both cell content and cell location recognition but does not isolate the two–violating attribute #1. This makes it impossible to use for cell content recognition only or cell location recognition only tasks. GriTS satisfies all of the attributes above except for attribute #7 <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">smock2023grits</span>]</cite>.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1">For the rest of the section, we describe a new metric that satisfies all of the attributes above which we call General Line Items Recognition Metric (GLIRM). This metric can both be viewed as an extension of ANLS* and DocILE so they satisfy attributes #1 and #6, and a relaxation of GriTS, so it satisfies attribute #7.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS2.4.1.1">III-B</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS2.5.2">Similarity Matching Score</span>
</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.12">As per attributes and #1 and #4, we will use <math alttext="f(c_{p},c_{t})" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.2"><semantics id="S3.SS2.p1.1.m1.2a"><mrow id="S3.SS2.p1.1.m1.2.2" xref="S3.SS2.p1.1.m1.2.2.cmml"><mi id="S3.SS2.p1.1.m1.2.2.4" xref="S3.SS2.p1.1.m1.2.2.4.cmml">f</mi><mo id="S3.SS2.p1.1.m1.2.2.3" xref="S3.SS2.p1.1.m1.2.2.3.cmml">⁢</mo><mrow id="S3.SS2.p1.1.m1.2.2.2.2" xref="S3.SS2.p1.1.m1.2.2.2.3.cmml"><mo id="S3.SS2.p1.1.m1.2.2.2.2.3" stretchy="false" xref="S3.SS2.p1.1.m1.2.2.2.3.cmml">(</mo><msub id="S3.SS2.p1.1.m1.1.1.1.1.1" xref="S3.SS2.p1.1.m1.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.1.m1.1.1.1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.1.1.1.2.cmml">c</mi><mi id="S3.SS2.p1.1.m1.1.1.1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.SS2.p1.1.m1.2.2.2.2.4" xref="S3.SS2.p1.1.m1.2.2.2.3.cmml">,</mo><msub id="S3.SS2.p1.1.m1.2.2.2.2.2" xref="S3.SS2.p1.1.m1.2.2.2.2.2.cmml"><mi id="S3.SS2.p1.1.m1.2.2.2.2.2.2" xref="S3.SS2.p1.1.m1.2.2.2.2.2.2.cmml">c</mi><mi id="S3.SS2.p1.1.m1.2.2.2.2.2.3" xref="S3.SS2.p1.1.m1.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.SS2.p1.1.m1.2.2.2.2.5" stretchy="false" xref="S3.SS2.p1.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.2b"><apply id="S3.SS2.p1.1.m1.2.2.cmml" xref="S3.SS2.p1.1.m1.2.2"><times id="S3.SS2.p1.1.m1.2.2.3.cmml" xref="S3.SS2.p1.1.m1.2.2.3"></times><ci id="S3.SS2.p1.1.m1.2.2.4.cmml" xref="S3.SS2.p1.1.m1.2.2.4">𝑓</ci><interval closure="open" id="S3.SS2.p1.1.m1.2.2.2.3.cmml" xref="S3.SS2.p1.1.m1.2.2.2.2"><apply id="S3.SS2.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.1.2">𝑐</ci><ci id="S3.SS2.p1.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.1.3">𝑝</ci></apply><apply id="S3.SS2.p1.1.m1.2.2.2.2.2.cmml" xref="S3.SS2.p1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.2.2.2.2.2.1.cmml" xref="S3.SS2.p1.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p1.1.m1.2.2.2.2.2.2.cmml" xref="S3.SS2.p1.1.m1.2.2.2.2.2.2">𝑐</ci><ci id="S3.SS2.p1.1.m1.2.2.2.2.2.3.cmml" xref="S3.SS2.p1.1.m1.2.2.2.2.2.3">𝑡</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.2c">f(c_{p},c_{t})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.2d">italic_f ( italic_c start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> to denote the similarity measure between a predicted cell, <math alttext="c_{p}" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><msub id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><mi id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">c</mi><mi id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2">𝑐</ci><ci id="S3.SS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">c_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.1d">italic_c start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math>, and a ground truth cell, <math alttext="c_{t}" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.1"><semantics id="S3.SS2.p1.3.m3.1a"><msub id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml"><mi id="S3.SS2.p1.3.m3.1.1.2" xref="S3.SS2.p1.3.m3.1.1.2.cmml">c</mi><mi id="S3.SS2.p1.3.m3.1.1.3" xref="S3.SS2.p1.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><apply id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p1.3.m3.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1.2">𝑐</ci><ci id="S3.SS2.p1.3.m3.1.1.3.cmml" xref="S3.SS2.p1.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">c_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.3.m3.1d">italic_c start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. <math alttext="f" class="ltx_Math" display="inline" id="S3.SS2.p1.4.m4.1"><semantics id="S3.SS2.p1.4.m4.1a"><mi id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><ci id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">f</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.4.m4.1d">italic_f</annotation></semantics></math> can be any similarity measure appropriate for the downstream task. Exact match for product reference numbers, Intersection-over-Union for bounding boxes, etc. To make the metric F1-score-like, we have to constrain <math alttext="f" class="ltx_Math" display="inline" id="S3.SS2.p1.5.m5.1"><semantics id="S3.SS2.p1.5.m5.1a"><mi id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b"><ci id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.1c">f</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.5.m5.1d">italic_f</annotation></semantics></math> to be between <math alttext="0" class="ltx_Math" display="inline" id="S3.SS2.p1.6.m6.1"><semantics id="S3.SS2.p1.6.m6.1a"><mn id="S3.SS2.p1.6.m6.1.1" xref="S3.SS2.p1.6.m6.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m6.1b"><cn id="S3.SS2.p1.6.m6.1.1.cmml" type="integer" xref="S3.SS2.p1.6.m6.1.1">0</cn></annotation-xml></semantics></math> and <math alttext="1" class="ltx_Math" display="inline" id="S3.SS2.p1.7.m7.1"><semantics id="S3.SS2.p1.7.m7.1a"><mn id="S3.SS2.p1.7.m7.1.1" xref="S3.SS2.p1.7.m7.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m7.1b"><cn id="S3.SS2.p1.7.m7.1.1.cmml" type="integer" xref="S3.SS2.p1.7.m7.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m7.1c">1</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.7.m7.1d">1</annotation></semantics></math>: <math alttext="0\leq f(c_{p},c_{t})\leq 1" class="ltx_Math" display="inline" id="S3.SS2.p1.8.m8.2"><semantics id="S3.SS2.p1.8.m8.2a"><mrow id="S3.SS2.p1.8.m8.2.2" xref="S3.SS2.p1.8.m8.2.2.cmml"><mn id="S3.SS2.p1.8.m8.2.2.4" xref="S3.SS2.p1.8.m8.2.2.4.cmml">0</mn><mo id="S3.SS2.p1.8.m8.2.2.5" xref="S3.SS2.p1.8.m8.2.2.5.cmml">≤</mo><mrow id="S3.SS2.p1.8.m8.2.2.2" xref="S3.SS2.p1.8.m8.2.2.2.cmml"><mi id="S3.SS2.p1.8.m8.2.2.2.4" xref="S3.SS2.p1.8.m8.2.2.2.4.cmml">f</mi><mo id="S3.SS2.p1.8.m8.2.2.2.3" xref="S3.SS2.p1.8.m8.2.2.2.3.cmml">⁢</mo><mrow id="S3.SS2.p1.8.m8.2.2.2.2.2" xref="S3.SS2.p1.8.m8.2.2.2.2.3.cmml"><mo id="S3.SS2.p1.8.m8.2.2.2.2.2.3" stretchy="false" xref="S3.SS2.p1.8.m8.2.2.2.2.3.cmml">(</mo><msub id="S3.SS2.p1.8.m8.1.1.1.1.1.1" xref="S3.SS2.p1.8.m8.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.8.m8.1.1.1.1.1.1.2" xref="S3.SS2.p1.8.m8.1.1.1.1.1.1.2.cmml">c</mi><mi id="S3.SS2.p1.8.m8.1.1.1.1.1.1.3" xref="S3.SS2.p1.8.m8.1.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.SS2.p1.8.m8.2.2.2.2.2.4" xref="S3.SS2.p1.8.m8.2.2.2.2.3.cmml">,</mo><msub id="S3.SS2.p1.8.m8.2.2.2.2.2.2" xref="S3.SS2.p1.8.m8.2.2.2.2.2.2.cmml"><mi id="S3.SS2.p1.8.m8.2.2.2.2.2.2.2" xref="S3.SS2.p1.8.m8.2.2.2.2.2.2.2.cmml">c</mi><mi id="S3.SS2.p1.8.m8.2.2.2.2.2.2.3" xref="S3.SS2.p1.8.m8.2.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.SS2.p1.8.m8.2.2.2.2.2.5" stretchy="false" xref="S3.SS2.p1.8.m8.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p1.8.m8.2.2.6" xref="S3.SS2.p1.8.m8.2.2.6.cmml">≤</mo><mn id="S3.SS2.p1.8.m8.2.2.7" xref="S3.SS2.p1.8.m8.2.2.7.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m8.2b"><apply id="S3.SS2.p1.8.m8.2.2.cmml" xref="S3.SS2.p1.8.m8.2.2"><and id="S3.SS2.p1.8.m8.2.2a.cmml" xref="S3.SS2.p1.8.m8.2.2"></and><apply id="S3.SS2.p1.8.m8.2.2b.cmml" xref="S3.SS2.p1.8.m8.2.2"><leq id="S3.SS2.p1.8.m8.2.2.5.cmml" xref="S3.SS2.p1.8.m8.2.2.5"></leq><cn id="S3.SS2.p1.8.m8.2.2.4.cmml" type="integer" xref="S3.SS2.p1.8.m8.2.2.4">0</cn><apply id="S3.SS2.p1.8.m8.2.2.2.cmml" xref="S3.SS2.p1.8.m8.2.2.2"><times id="S3.SS2.p1.8.m8.2.2.2.3.cmml" xref="S3.SS2.p1.8.m8.2.2.2.3"></times><ci id="S3.SS2.p1.8.m8.2.2.2.4.cmml" xref="S3.SS2.p1.8.m8.2.2.2.4">𝑓</ci><interval closure="open" id="S3.SS2.p1.8.m8.2.2.2.2.3.cmml" xref="S3.SS2.p1.8.m8.2.2.2.2.2"><apply id="S3.SS2.p1.8.m8.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.8.m8.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.8.m8.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.8.m8.1.1.1.1.1.1.2">𝑐</ci><ci id="S3.SS2.p1.8.m8.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.8.m8.1.1.1.1.1.1.3">𝑝</ci></apply><apply id="S3.SS2.p1.8.m8.2.2.2.2.2.2.cmml" xref="S3.SS2.p1.8.m8.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.8.m8.2.2.2.2.2.2.1.cmml" xref="S3.SS2.p1.8.m8.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p1.8.m8.2.2.2.2.2.2.2.cmml" xref="S3.SS2.p1.8.m8.2.2.2.2.2.2.2">𝑐</ci><ci id="S3.SS2.p1.8.m8.2.2.2.2.2.2.3.cmml" xref="S3.SS2.p1.8.m8.2.2.2.2.2.2.3">𝑡</ci></apply></interval></apply></apply><apply id="S3.SS2.p1.8.m8.2.2c.cmml" xref="S3.SS2.p1.8.m8.2.2"><leq id="S3.SS2.p1.8.m8.2.2.6.cmml" xref="S3.SS2.p1.8.m8.2.2.6"></leq><share href="https://arxiv.org/html/2405.20245v1#S3.SS2.p1.8.m8.2.2.2.cmml" id="S3.SS2.p1.8.m8.2.2d.cmml" xref="S3.SS2.p1.8.m8.2.2"></share><cn id="S3.SS2.p1.8.m8.2.2.7.cmml" type="integer" xref="S3.SS2.p1.8.m8.2.2.7">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m8.2c">0\leq f(c_{p},c_{t})\leq 1</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.8.m8.2d">0 ≤ italic_f ( italic_c start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) ≤ 1</annotation></semantics></math>, for all <math alttext="c_{p},c_{t}" class="ltx_Math" display="inline" id="S3.SS2.p1.9.m9.2"><semantics id="S3.SS2.p1.9.m9.2a"><mrow id="S3.SS2.p1.9.m9.2.2.2" xref="S3.SS2.p1.9.m9.2.2.3.cmml"><msub id="S3.SS2.p1.9.m9.1.1.1.1" xref="S3.SS2.p1.9.m9.1.1.1.1.cmml"><mi id="S3.SS2.p1.9.m9.1.1.1.1.2" xref="S3.SS2.p1.9.m9.1.1.1.1.2.cmml">c</mi><mi id="S3.SS2.p1.9.m9.1.1.1.1.3" xref="S3.SS2.p1.9.m9.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.SS2.p1.9.m9.2.2.2.3" xref="S3.SS2.p1.9.m9.2.2.3.cmml">,</mo><msub id="S3.SS2.p1.9.m9.2.2.2.2" xref="S3.SS2.p1.9.m9.2.2.2.2.cmml"><mi id="S3.SS2.p1.9.m9.2.2.2.2.2" xref="S3.SS2.p1.9.m9.2.2.2.2.2.cmml">c</mi><mi id="S3.SS2.p1.9.m9.2.2.2.2.3" xref="S3.SS2.p1.9.m9.2.2.2.2.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m9.2b"><list id="S3.SS2.p1.9.m9.2.2.3.cmml" xref="S3.SS2.p1.9.m9.2.2.2"><apply id="S3.SS2.p1.9.m9.1.1.1.1.cmml" xref="S3.SS2.p1.9.m9.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.9.m9.1.1.1.1.1.cmml" xref="S3.SS2.p1.9.m9.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.9.m9.1.1.1.1.2.cmml" xref="S3.SS2.p1.9.m9.1.1.1.1.2">𝑐</ci><ci id="S3.SS2.p1.9.m9.1.1.1.1.3.cmml" xref="S3.SS2.p1.9.m9.1.1.1.1.3">𝑝</ci></apply><apply id="S3.SS2.p1.9.m9.2.2.2.2.cmml" xref="S3.SS2.p1.9.m9.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.9.m9.2.2.2.2.1.cmml" xref="S3.SS2.p1.9.m9.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p1.9.m9.2.2.2.2.2.cmml" xref="S3.SS2.p1.9.m9.2.2.2.2.2">𝑐</ci><ci id="S3.SS2.p1.9.m9.2.2.2.2.3.cmml" xref="S3.SS2.p1.9.m9.2.2.2.2.3">𝑡</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m9.2c">c_{p},c_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.9.m9.2d">italic_c start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. We will use use <math alttext="g_{f}(row_{p},row_{t})" class="ltx_Math" display="inline" id="S3.SS2.p1.10.m10.2"><semantics id="S3.SS2.p1.10.m10.2a"><mrow id="S3.SS2.p1.10.m10.2.2" xref="S3.SS2.p1.10.m10.2.2.cmml"><msub id="S3.SS2.p1.10.m10.2.2.4" xref="S3.SS2.p1.10.m10.2.2.4.cmml"><mi id="S3.SS2.p1.10.m10.2.2.4.2" xref="S3.SS2.p1.10.m10.2.2.4.2.cmml">g</mi><mi id="S3.SS2.p1.10.m10.2.2.4.3" xref="S3.SS2.p1.10.m10.2.2.4.3.cmml">f</mi></msub><mo id="S3.SS2.p1.10.m10.2.2.3" xref="S3.SS2.p1.10.m10.2.2.3.cmml">⁢</mo><mrow id="S3.SS2.p1.10.m10.2.2.2.2" xref="S3.SS2.p1.10.m10.2.2.2.3.cmml"><mo id="S3.SS2.p1.10.m10.2.2.2.2.3" stretchy="false" xref="S3.SS2.p1.10.m10.2.2.2.3.cmml">(</mo><mrow id="S3.SS2.p1.10.m10.1.1.1.1.1" xref="S3.SS2.p1.10.m10.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.10.m10.1.1.1.1.1.2" xref="S3.SS2.p1.10.m10.1.1.1.1.1.2.cmml">r</mi><mo id="S3.SS2.p1.10.m10.1.1.1.1.1.1" xref="S3.SS2.p1.10.m10.1.1.1.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.10.m10.1.1.1.1.1.3" xref="S3.SS2.p1.10.m10.1.1.1.1.1.3.cmml">o</mi><mo id="S3.SS2.p1.10.m10.1.1.1.1.1.1a" xref="S3.SS2.p1.10.m10.1.1.1.1.1.1.cmml">⁢</mo><msub id="S3.SS2.p1.10.m10.1.1.1.1.1.4" xref="S3.SS2.p1.10.m10.1.1.1.1.1.4.cmml"><mi id="S3.SS2.p1.10.m10.1.1.1.1.1.4.2" xref="S3.SS2.p1.10.m10.1.1.1.1.1.4.2.cmml">w</mi><mi id="S3.SS2.p1.10.m10.1.1.1.1.1.4.3" xref="S3.SS2.p1.10.m10.1.1.1.1.1.4.3.cmml">p</mi></msub></mrow><mo id="S3.SS2.p1.10.m10.2.2.2.2.4" xref="S3.SS2.p1.10.m10.2.2.2.3.cmml">,</mo><mrow id="S3.SS2.p1.10.m10.2.2.2.2.2" xref="S3.SS2.p1.10.m10.2.2.2.2.2.cmml"><mi id="S3.SS2.p1.10.m10.2.2.2.2.2.2" xref="S3.SS2.p1.10.m10.2.2.2.2.2.2.cmml">r</mi><mo id="S3.SS2.p1.10.m10.2.2.2.2.2.1" xref="S3.SS2.p1.10.m10.2.2.2.2.2.1.cmml">⁢</mo><mi id="S3.SS2.p1.10.m10.2.2.2.2.2.3" xref="S3.SS2.p1.10.m10.2.2.2.2.2.3.cmml">o</mi><mo id="S3.SS2.p1.10.m10.2.2.2.2.2.1a" xref="S3.SS2.p1.10.m10.2.2.2.2.2.1.cmml">⁢</mo><msub id="S3.SS2.p1.10.m10.2.2.2.2.2.4" xref="S3.SS2.p1.10.m10.2.2.2.2.2.4.cmml"><mi id="S3.SS2.p1.10.m10.2.2.2.2.2.4.2" xref="S3.SS2.p1.10.m10.2.2.2.2.2.4.2.cmml">w</mi><mi id="S3.SS2.p1.10.m10.2.2.2.2.2.4.3" xref="S3.SS2.p1.10.m10.2.2.2.2.2.4.3.cmml">t</mi></msub></mrow><mo id="S3.SS2.p1.10.m10.2.2.2.2.5" stretchy="false" xref="S3.SS2.p1.10.m10.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.10.m10.2b"><apply id="S3.SS2.p1.10.m10.2.2.cmml" xref="S3.SS2.p1.10.m10.2.2"><times id="S3.SS2.p1.10.m10.2.2.3.cmml" xref="S3.SS2.p1.10.m10.2.2.3"></times><apply id="S3.SS2.p1.10.m10.2.2.4.cmml" xref="S3.SS2.p1.10.m10.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.p1.10.m10.2.2.4.1.cmml" xref="S3.SS2.p1.10.m10.2.2.4">subscript</csymbol><ci id="S3.SS2.p1.10.m10.2.2.4.2.cmml" xref="S3.SS2.p1.10.m10.2.2.4.2">𝑔</ci><ci id="S3.SS2.p1.10.m10.2.2.4.3.cmml" xref="S3.SS2.p1.10.m10.2.2.4.3">𝑓</ci></apply><interval closure="open" id="S3.SS2.p1.10.m10.2.2.2.3.cmml" xref="S3.SS2.p1.10.m10.2.2.2.2"><apply id="S3.SS2.p1.10.m10.1.1.1.1.1.cmml" xref="S3.SS2.p1.10.m10.1.1.1.1.1"><times id="S3.SS2.p1.10.m10.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.10.m10.1.1.1.1.1.1"></times><ci id="S3.SS2.p1.10.m10.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.10.m10.1.1.1.1.1.2">𝑟</ci><ci id="S3.SS2.p1.10.m10.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.10.m10.1.1.1.1.1.3">𝑜</ci><apply id="S3.SS2.p1.10.m10.1.1.1.1.1.4.cmml" xref="S3.SS2.p1.10.m10.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p1.10.m10.1.1.1.1.1.4.1.cmml" xref="S3.SS2.p1.10.m10.1.1.1.1.1.4">subscript</csymbol><ci id="S3.SS2.p1.10.m10.1.1.1.1.1.4.2.cmml" xref="S3.SS2.p1.10.m10.1.1.1.1.1.4.2">𝑤</ci><ci id="S3.SS2.p1.10.m10.1.1.1.1.1.4.3.cmml" xref="S3.SS2.p1.10.m10.1.1.1.1.1.4.3">𝑝</ci></apply></apply><apply id="S3.SS2.p1.10.m10.2.2.2.2.2.cmml" xref="S3.SS2.p1.10.m10.2.2.2.2.2"><times id="S3.SS2.p1.10.m10.2.2.2.2.2.1.cmml" xref="S3.SS2.p1.10.m10.2.2.2.2.2.1"></times><ci id="S3.SS2.p1.10.m10.2.2.2.2.2.2.cmml" xref="S3.SS2.p1.10.m10.2.2.2.2.2.2">𝑟</ci><ci id="S3.SS2.p1.10.m10.2.2.2.2.2.3.cmml" xref="S3.SS2.p1.10.m10.2.2.2.2.2.3">𝑜</ci><apply id="S3.SS2.p1.10.m10.2.2.2.2.2.4.cmml" xref="S3.SS2.p1.10.m10.2.2.2.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.p1.10.m10.2.2.2.2.2.4.1.cmml" xref="S3.SS2.p1.10.m10.2.2.2.2.2.4">subscript</csymbol><ci id="S3.SS2.p1.10.m10.2.2.2.2.2.4.2.cmml" xref="S3.SS2.p1.10.m10.2.2.2.2.2.4.2">𝑤</ci><ci id="S3.SS2.p1.10.m10.2.2.2.2.2.4.3.cmml" xref="S3.SS2.p1.10.m10.2.2.2.2.2.4.3">𝑡</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.10.m10.2c">g_{f}(row_{p},row_{t})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.10.m10.2d">italic_g start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_r italic_o italic_w start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_r italic_o italic_w start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> as the sum of the similarity scores of the corresponding cells in the predicted row, <math alttext="row_{p}" class="ltx_Math" display="inline" id="S3.SS2.p1.11.m11.1"><semantics id="S3.SS2.p1.11.m11.1a"><mrow id="S3.SS2.p1.11.m11.1.1" xref="S3.SS2.p1.11.m11.1.1.cmml"><mi id="S3.SS2.p1.11.m11.1.1.2" xref="S3.SS2.p1.11.m11.1.1.2.cmml">r</mi><mo id="S3.SS2.p1.11.m11.1.1.1" xref="S3.SS2.p1.11.m11.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.11.m11.1.1.3" xref="S3.SS2.p1.11.m11.1.1.3.cmml">o</mi><mo id="S3.SS2.p1.11.m11.1.1.1a" xref="S3.SS2.p1.11.m11.1.1.1.cmml">⁢</mo><msub id="S3.SS2.p1.11.m11.1.1.4" xref="S3.SS2.p1.11.m11.1.1.4.cmml"><mi id="S3.SS2.p1.11.m11.1.1.4.2" xref="S3.SS2.p1.11.m11.1.1.4.2.cmml">w</mi><mi id="S3.SS2.p1.11.m11.1.1.4.3" xref="S3.SS2.p1.11.m11.1.1.4.3.cmml">p</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.11.m11.1b"><apply id="S3.SS2.p1.11.m11.1.1.cmml" xref="S3.SS2.p1.11.m11.1.1"><times id="S3.SS2.p1.11.m11.1.1.1.cmml" xref="S3.SS2.p1.11.m11.1.1.1"></times><ci id="S3.SS2.p1.11.m11.1.1.2.cmml" xref="S3.SS2.p1.11.m11.1.1.2">𝑟</ci><ci id="S3.SS2.p1.11.m11.1.1.3.cmml" xref="S3.SS2.p1.11.m11.1.1.3">𝑜</ci><apply id="S3.SS2.p1.11.m11.1.1.4.cmml" xref="S3.SS2.p1.11.m11.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p1.11.m11.1.1.4.1.cmml" xref="S3.SS2.p1.11.m11.1.1.4">subscript</csymbol><ci id="S3.SS2.p1.11.m11.1.1.4.2.cmml" xref="S3.SS2.p1.11.m11.1.1.4.2">𝑤</ci><ci id="S3.SS2.p1.11.m11.1.1.4.3.cmml" xref="S3.SS2.p1.11.m11.1.1.4.3">𝑝</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.11.m11.1c">row_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.11.m11.1d">italic_r italic_o italic_w start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math>, and the ground truth row, <math alttext="row_{t}" class="ltx_Math" display="inline" id="S3.SS2.p1.12.m12.1"><semantics id="S3.SS2.p1.12.m12.1a"><mrow id="S3.SS2.p1.12.m12.1.1" xref="S3.SS2.p1.12.m12.1.1.cmml"><mi id="S3.SS2.p1.12.m12.1.1.2" xref="S3.SS2.p1.12.m12.1.1.2.cmml">r</mi><mo id="S3.SS2.p1.12.m12.1.1.1" xref="S3.SS2.p1.12.m12.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p1.12.m12.1.1.3" xref="S3.SS2.p1.12.m12.1.1.3.cmml">o</mi><mo id="S3.SS2.p1.12.m12.1.1.1a" xref="S3.SS2.p1.12.m12.1.1.1.cmml">⁢</mo><msub id="S3.SS2.p1.12.m12.1.1.4" xref="S3.SS2.p1.12.m12.1.1.4.cmml"><mi id="S3.SS2.p1.12.m12.1.1.4.2" xref="S3.SS2.p1.12.m12.1.1.4.2.cmml">w</mi><mi id="S3.SS2.p1.12.m12.1.1.4.3" xref="S3.SS2.p1.12.m12.1.1.4.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.12.m12.1b"><apply id="S3.SS2.p1.12.m12.1.1.cmml" xref="S3.SS2.p1.12.m12.1.1"><times id="S3.SS2.p1.12.m12.1.1.1.cmml" xref="S3.SS2.p1.12.m12.1.1.1"></times><ci id="S3.SS2.p1.12.m12.1.1.2.cmml" xref="S3.SS2.p1.12.m12.1.1.2">𝑟</ci><ci id="S3.SS2.p1.12.m12.1.1.3.cmml" xref="S3.SS2.p1.12.m12.1.1.3">𝑜</ci><apply id="S3.SS2.p1.12.m12.1.1.4.cmml" xref="S3.SS2.p1.12.m12.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p1.12.m12.1.1.4.1.cmml" xref="S3.SS2.p1.12.m12.1.1.4">subscript</csymbol><ci id="S3.SS2.p1.12.m12.1.1.4.2.cmml" xref="S3.SS2.p1.12.m12.1.1.4.2">𝑤</ci><ci id="S3.SS2.p1.12.m12.1.1.4.3.cmml" xref="S3.SS2.p1.12.m12.1.1.4.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.12.m12.1c">row_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.12.m12.1d">italic_r italic_o italic_w start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS3.4.1.1">III-C</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS3.5.2">Row Matching</span>
</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.8">Let’s denote <math alttext="R_{p}" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1"><semantics id="S3.SS3.p1.1.m1.1a"><msub id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml">R</mi><mi id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2">𝑅</ci><ci id="S3.SS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">R_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.1d">italic_R start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="R_{t}" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m2.1"><semantics id="S3.SS3.p1.2.m2.1a"><msub id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml"><mi id="S3.SS3.p1.2.m2.1.1.2" xref="S3.SS3.p1.2.m2.1.1.2.cmml">R</mi><mi id="S3.SS3.p1.2.m2.1.1.3" xref="S3.SS3.p1.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><apply id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m2.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p1.2.m2.1.1.2.cmml" xref="S3.SS3.p1.2.m2.1.1.2">𝑅</ci><ci id="S3.SS3.p1.2.m2.1.1.3.cmml" xref="S3.SS3.p1.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">R_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.2.m2.1d">italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> as the sequence of rows in the predicted and ground truth line items, respectively. We then denote <math alttext="R^{\prime}_{p}" class="ltx_Math" display="inline" id="S3.SS3.p1.3.m3.1"><semantics id="S3.SS3.p1.3.m3.1a"><msubsup id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml"><mi id="S3.SS3.p1.3.m3.1.1.2.2" xref="S3.SS3.p1.3.m3.1.1.2.2.cmml">R</mi><mi id="S3.SS3.p1.3.m3.1.1.3" xref="S3.SS3.p1.3.m3.1.1.3.cmml">p</mi><mo id="S3.SS3.p1.3.m3.1.1.2.3" xref="S3.SS3.p1.3.m3.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><apply id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">subscript</csymbol><apply id="S3.SS3.p1.3.m3.1.1.2.cmml" xref="S3.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.1.1.2.1.cmml" xref="S3.SS3.p1.3.m3.1.1">superscript</csymbol><ci id="S3.SS3.p1.3.m3.1.1.2.2.cmml" xref="S3.SS3.p1.3.m3.1.1.2.2">𝑅</ci><ci id="S3.SS3.p1.3.m3.1.1.2.3.cmml" xref="S3.SS3.p1.3.m3.1.1.2.3">′</ci></apply><ci id="S3.SS3.p1.3.m3.1.1.3.cmml" xref="S3.SS3.p1.3.m3.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">R^{\prime}_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.3.m3.1d">italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="R^{\prime}_{t}" class="ltx_Math" display="inline" id="S3.SS3.p1.4.m4.1"><semantics id="S3.SS3.p1.4.m4.1a"><msubsup id="S3.SS3.p1.4.m4.1.1" xref="S3.SS3.p1.4.m4.1.1.cmml"><mi id="S3.SS3.p1.4.m4.1.1.2.2" xref="S3.SS3.p1.4.m4.1.1.2.2.cmml">R</mi><mi id="S3.SS3.p1.4.m4.1.1.3" xref="S3.SS3.p1.4.m4.1.1.3.cmml">t</mi><mo id="S3.SS3.p1.4.m4.1.1.2.3" xref="S3.SS3.p1.4.m4.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.1b"><apply id="S3.SS3.p1.4.m4.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1">subscript</csymbol><apply id="S3.SS3.p1.4.m4.1.1.2.cmml" xref="S3.SS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.1.1.2.1.cmml" xref="S3.SS3.p1.4.m4.1.1">superscript</csymbol><ci id="S3.SS3.p1.4.m4.1.1.2.2.cmml" xref="S3.SS3.p1.4.m4.1.1.2.2">𝑅</ci><ci id="S3.SS3.p1.4.m4.1.1.2.3.cmml" xref="S3.SS3.p1.4.m4.1.1.2.3">′</ci></apply><ci id="S3.SS3.p1.4.m4.1.1.3.cmml" xref="S3.SS3.p1.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.1c">R^{\prime}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.4.m4.1d">italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> as <span class="ltx_text ltx_font_italic" id="S3.SS3.p1.8.1">subsequences</span> of rows in <math alttext="R_{p}" class="ltx_Math" display="inline" id="S3.SS3.p1.5.m5.1"><semantics id="S3.SS3.p1.5.m5.1a"><msub id="S3.SS3.p1.5.m5.1.1" xref="S3.SS3.p1.5.m5.1.1.cmml"><mi id="S3.SS3.p1.5.m5.1.1.2" xref="S3.SS3.p1.5.m5.1.1.2.cmml">R</mi><mi id="S3.SS3.p1.5.m5.1.1.3" xref="S3.SS3.p1.5.m5.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.5.m5.1b"><apply id="S3.SS3.p1.5.m5.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.5.m5.1.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p1.5.m5.1.1.2.cmml" xref="S3.SS3.p1.5.m5.1.1.2">𝑅</ci><ci id="S3.SS3.p1.5.m5.1.1.3.cmml" xref="S3.SS3.p1.5.m5.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.5.m5.1c">R_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.5.m5.1d">italic_R start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="R_{t}" class="ltx_Math" display="inline" id="S3.SS3.p1.6.m6.1"><semantics id="S3.SS3.p1.6.m6.1a"><msub id="S3.SS3.p1.6.m6.1.1" xref="S3.SS3.p1.6.m6.1.1.cmml"><mi id="S3.SS3.p1.6.m6.1.1.2" xref="S3.SS3.p1.6.m6.1.1.2.cmml">R</mi><mi id="S3.SS3.p1.6.m6.1.1.3" xref="S3.SS3.p1.6.m6.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.6.m6.1b"><apply id="S3.SS3.p1.6.m6.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.6.m6.1.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS3.p1.6.m6.1.1.2.cmml" xref="S3.SS3.p1.6.m6.1.1.2">𝑅</ci><ci id="S3.SS3.p1.6.m6.1.1.3.cmml" xref="S3.SS3.p1.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.6.m6.1c">R_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.6.m6.1d">italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, respectively. The goal is to find equal-length subsequences <math alttext="\tilde{R}_{p}" class="ltx_Math" display="inline" id="S3.SS3.p1.7.m7.1"><semantics id="S3.SS3.p1.7.m7.1a"><msub id="S3.SS3.p1.7.m7.1.1" xref="S3.SS3.p1.7.m7.1.1.cmml"><mover accent="true" id="S3.SS3.p1.7.m7.1.1.2" xref="S3.SS3.p1.7.m7.1.1.2.cmml"><mi id="S3.SS3.p1.7.m7.1.1.2.2" xref="S3.SS3.p1.7.m7.1.1.2.2.cmml">R</mi><mo id="S3.SS3.p1.7.m7.1.1.2.1" xref="S3.SS3.p1.7.m7.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS3.p1.7.m7.1.1.3" xref="S3.SS3.p1.7.m7.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.7.m7.1b"><apply id="S3.SS3.p1.7.m7.1.1.cmml" xref="S3.SS3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.7.m7.1.1.1.cmml" xref="S3.SS3.p1.7.m7.1.1">subscript</csymbol><apply id="S3.SS3.p1.7.m7.1.1.2.cmml" xref="S3.SS3.p1.7.m7.1.1.2"><ci id="S3.SS3.p1.7.m7.1.1.2.1.cmml" xref="S3.SS3.p1.7.m7.1.1.2.1">~</ci><ci id="S3.SS3.p1.7.m7.1.1.2.2.cmml" xref="S3.SS3.p1.7.m7.1.1.2.2">𝑅</ci></apply><ci id="S3.SS3.p1.7.m7.1.1.3.cmml" xref="S3.SS3.p1.7.m7.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.7.m7.1c">\tilde{R}_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.7.m7.1d">over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\tilde{R}_{t}" class="ltx_Math" display="inline" id="S3.SS3.p1.8.m8.1"><semantics id="S3.SS3.p1.8.m8.1a"><msub id="S3.SS3.p1.8.m8.1.1" xref="S3.SS3.p1.8.m8.1.1.cmml"><mover accent="true" id="S3.SS3.p1.8.m8.1.1.2" xref="S3.SS3.p1.8.m8.1.1.2.cmml"><mi id="S3.SS3.p1.8.m8.1.1.2.2" xref="S3.SS3.p1.8.m8.1.1.2.2.cmml">R</mi><mo id="S3.SS3.p1.8.m8.1.1.2.1" xref="S3.SS3.p1.8.m8.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS3.p1.8.m8.1.1.3" xref="S3.SS3.p1.8.m8.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.8.m8.1b"><apply id="S3.SS3.p1.8.m8.1.1.cmml" xref="S3.SS3.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.8.m8.1.1.1.cmml" xref="S3.SS3.p1.8.m8.1.1">subscript</csymbol><apply id="S3.SS3.p1.8.m8.1.1.2.cmml" xref="S3.SS3.p1.8.m8.1.1.2"><ci id="S3.SS3.p1.8.m8.1.1.2.1.cmml" xref="S3.SS3.p1.8.m8.1.1.2.1">~</ci><ci id="S3.SS3.p1.8.m8.1.1.2.2.cmml" xref="S3.SS3.p1.8.m8.1.1.2.2">𝑅</ci></apply><ci id="S3.SS3.p1.8.m8.1.1.3.cmml" xref="S3.SS3.p1.8.m8.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.8.m8.1c">\tilde{R}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.8.m8.1d">over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> such that the sum of the similarity scores of the corresponding cells is maximized:
<span class="ltx_text" id="S3.SS3.p1.8.2" style="font-size:90%;"></span></p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\tilde{R}_{p},\tilde{R}_{t}=\operatorname*{arg\,max}\nolimits_{R^{\prime}_{p}|%
R_{p},R^{\prime}_{t}|R_{t}}\sum\nolimits_{i}g_{f}(R^{\prime}_{p}[i],R^{\prime}%
_{t}[i])\vspace{-5pt}" class="ltx_math_unparsed" display="block" id="S3.E1.m1.6"><semantics id="S3.E1.m1.6a"><mrow id="S3.E1.m1.6.6"><mrow id="S3.E1.m1.4.4.2.2"><msub id="S3.E1.m1.3.3.1.1.1"><mover accent="true" id="S3.E1.m1.3.3.1.1.1.2"><mi id="S3.E1.m1.3.3.1.1.1.2.2" mathsize="90%">R</mi><mo id="S3.E1.m1.3.3.1.1.1.2.1" mathsize="90%">~</mo></mover><mi id="S3.E1.m1.3.3.1.1.1.3" mathsize="90%">p</mi></msub><mo id="S3.E1.m1.4.4.2.2.3" mathsize="90%">,</mo><msub id="S3.E1.m1.4.4.2.2.2"><mover accent="true" id="S3.E1.m1.4.4.2.2.2.2"><mi id="S3.E1.m1.4.4.2.2.2.2.2" mathsize="90%">R</mi><mo id="S3.E1.m1.4.4.2.2.2.2.1" mathsize="90%">~</mo></mover><mi id="S3.E1.m1.4.4.2.2.2.3" mathsize="90%">t</mi></msub></mrow><mo id="S3.E1.m1.6.6.5" mathsize="90%">=</mo><mrow id="S3.E1.m1.6.6.4"><msub id="S3.E1.m1.6.6.4.4"><mrow id="S3.E1.m1.6.6.4.4.2"><mi id="S3.E1.m1.6.6.4.4.2.2" mathsize="90%">arg</mi><mo id="S3.E1.m1.6.6.4.4.2.1" lspace="0.170em">⁢</mo><mi id="S3.E1.m1.6.6.4.4.2.3" mathsize="90%">max</mi></mrow><mrow id="S3.E1.m1.6.6.4.4.3"><msubsup id="S3.E1.m1.6.6.4.4.3.1"><mi id="S3.E1.m1.6.6.4.4.3.1.2.2" mathsize="90%">R</mi><mi id="S3.E1.m1.6.6.4.4.3.1.3" mathsize="90%">p</mi><mo id="S3.E1.m1.6.6.4.4.3.1.2.3" mathsize="90%">′</mo></msubsup><mo fence="false" id="S3.E1.m1.6.6.4.4.3.2" maxsize="90%" minsize="90%" rspace="0.167em">|</mo><msub id="S3.E1.m1.6.6.4.4.3.3"><mi id="S3.E1.m1.6.6.4.4.3.3.2" mathsize="90%">R</mi><mi id="S3.E1.m1.6.6.4.4.3.3.3" mathsize="90%">p</mi></msub><mo id="S3.E1.m1.6.6.4.4.3.4" mathsize="90%">,</mo><msubsup id="S3.E1.m1.6.6.4.4.3.5"><mi id="S3.E1.m1.6.6.4.4.3.5.2.2" mathsize="90%">R</mi><mi id="S3.E1.m1.6.6.4.4.3.5.3" mathsize="90%">t</mi><mo id="S3.E1.m1.6.6.4.4.3.5.2.3" mathsize="90%">′</mo></msubsup><mo fence="false" id="S3.E1.m1.6.6.4.4.3.6" maxsize="90%" minsize="90%" rspace="0.167em">|</mo><msub id="S3.E1.m1.6.6.4.4.3.7"><mi id="S3.E1.m1.6.6.4.4.3.7.2" mathsize="90%">R</mi><mi id="S3.E1.m1.6.6.4.4.3.7.3" mathsize="90%">t</mi></msub></mrow></msub><mo id="S3.E1.m1.6.6.4.3">⁢</mo><mrow id="S3.E1.m1.6.6.4.2"><msub id="S3.E1.m1.6.6.4.2.3"><mo id="S3.E1.m1.6.6.4.2.3.2" maxsize="90%" minsize="90%" stretchy="true">∑</mo><mi id="S3.E1.m1.6.6.4.2.3.3" mathsize="90%">i</mi></msub><mrow id="S3.E1.m1.6.6.4.2.2"><msub id="S3.E1.m1.6.6.4.2.2.4"><mi id="S3.E1.m1.6.6.4.2.2.4.2" mathsize="90%">g</mi><mi id="S3.E1.m1.6.6.4.2.2.4.3" mathsize="90%">f</mi></msub><mo id="S3.E1.m1.6.6.4.2.2.3">⁢</mo><mrow id="S3.E1.m1.6.6.4.2.2.2.2"><mo id="S3.E1.m1.6.6.4.2.2.2.2.3" maxsize="90%" minsize="90%">(</mo><mrow id="S3.E1.m1.5.5.3.1.1.1.1.1"><msubsup id="S3.E1.m1.5.5.3.1.1.1.1.1.2"><mi id="S3.E1.m1.5.5.3.1.1.1.1.1.2.2.2" mathsize="90%">R</mi><mi id="S3.E1.m1.5.5.3.1.1.1.1.1.2.3" mathsize="90%">p</mi><mo id="S3.E1.m1.5.5.3.1.1.1.1.1.2.2.3" mathsize="90%">′</mo></msubsup><mo id="S3.E1.m1.5.5.3.1.1.1.1.1.1">⁢</mo><mrow id="S3.E1.m1.5.5.3.1.1.1.1.1.3.2"><mo id="S3.E1.m1.5.5.3.1.1.1.1.1.3.2.1" maxsize="90%" minsize="90%">[</mo><mi id="S3.E1.m1.1.1" mathsize="90%">i</mi><mo id="S3.E1.m1.5.5.3.1.1.1.1.1.3.2.2" maxsize="90%" minsize="90%">]</mo></mrow></mrow><mo id="S3.E1.m1.6.6.4.2.2.2.2.4" mathsize="90%">,</mo><mrow id="S3.E1.m1.6.6.4.2.2.2.2.2"><msubsup id="S3.E1.m1.6.6.4.2.2.2.2.2.2"><mi id="S3.E1.m1.6.6.4.2.2.2.2.2.2.2.2" mathsize="90%">R</mi><mi id="S3.E1.m1.6.6.4.2.2.2.2.2.2.3" mathsize="90%">t</mi><mo id="S3.E1.m1.6.6.4.2.2.2.2.2.2.2.3" mathsize="90%">′</mo></msubsup><mo id="S3.E1.m1.6.6.4.2.2.2.2.2.1">⁢</mo><mrow id="S3.E1.m1.6.6.4.2.2.2.2.2.3.2"><mo id="S3.E1.m1.6.6.4.2.2.2.2.2.3.2.1" maxsize="90%" minsize="90%">[</mo><mi id="S3.E1.m1.2.2" mathsize="90%">i</mi><mo id="S3.E1.m1.6.6.4.2.2.2.2.2.3.2.2" maxsize="90%" minsize="90%">]</mo></mrow></mrow><mo id="S3.E1.m1.6.6.4.2.2.2.2.5" maxsize="90%" minsize="90%">)</mo></mrow></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S3.E1.m1.6b">\tilde{R}_{p},\tilde{R}_{t}=\operatorname*{arg\,max}\nolimits_{R^{\prime}_{p}|%
R_{p},R^{\prime}_{t}|R_{t}}\sum\nolimits_{i}g_{f}(R^{\prime}_{p}[i],R^{\prime}%
_{t}[i])\vspace{-5pt}</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.6c">over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = start_OPERATOR roman_arg roman_max end_OPERATOR start_POSTSUBSCRIPT italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_R start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT italic_g start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT [ italic_i ] , italic_R start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT [ italic_i ] )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p1.9">Because we concern ourselves with <span class="ltx_text ltx_font_italic" id="S3.SS3.p1.9.1">subsequences</span> instead of subsets of rows, it is more appropriate to use a Levenshtein Distance-like algorithm to find <math alttext="\tilde{R}_{p},\tilde{R}_{t}" class="ltx_Math" display="inline" id="S3.SS3.p1.9.m1.2"><semantics id="S3.SS3.p1.9.m1.2a"><mrow id="S3.SS3.p1.9.m1.2.2.2" xref="S3.SS3.p1.9.m1.2.2.3.cmml"><msub id="S3.SS3.p1.9.m1.1.1.1.1" xref="S3.SS3.p1.9.m1.1.1.1.1.cmml"><mover accent="true" id="S3.SS3.p1.9.m1.1.1.1.1.2" xref="S3.SS3.p1.9.m1.1.1.1.1.2.cmml"><mi id="S3.SS3.p1.9.m1.1.1.1.1.2.2" xref="S3.SS3.p1.9.m1.1.1.1.1.2.2.cmml">R</mi><mo id="S3.SS3.p1.9.m1.1.1.1.1.2.1" xref="S3.SS3.p1.9.m1.1.1.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS3.p1.9.m1.1.1.1.1.3" xref="S3.SS3.p1.9.m1.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.SS3.p1.9.m1.2.2.2.3" xref="S3.SS3.p1.9.m1.2.2.3.cmml">,</mo><msub id="S3.SS3.p1.9.m1.2.2.2.2" xref="S3.SS3.p1.9.m1.2.2.2.2.cmml"><mover accent="true" id="S3.SS3.p1.9.m1.2.2.2.2.2" xref="S3.SS3.p1.9.m1.2.2.2.2.2.cmml"><mi id="S3.SS3.p1.9.m1.2.2.2.2.2.2" xref="S3.SS3.p1.9.m1.2.2.2.2.2.2.cmml">R</mi><mo id="S3.SS3.p1.9.m1.2.2.2.2.2.1" xref="S3.SS3.p1.9.m1.2.2.2.2.2.1.cmml">~</mo></mover><mi id="S3.SS3.p1.9.m1.2.2.2.2.3" xref="S3.SS3.p1.9.m1.2.2.2.2.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.9.m1.2b"><list id="S3.SS3.p1.9.m1.2.2.3.cmml" xref="S3.SS3.p1.9.m1.2.2.2"><apply id="S3.SS3.p1.9.m1.1.1.1.1.cmml" xref="S3.SS3.p1.9.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.9.m1.1.1.1.1.1.cmml" xref="S3.SS3.p1.9.m1.1.1.1.1">subscript</csymbol><apply id="S3.SS3.p1.9.m1.1.1.1.1.2.cmml" xref="S3.SS3.p1.9.m1.1.1.1.1.2"><ci id="S3.SS3.p1.9.m1.1.1.1.1.2.1.cmml" xref="S3.SS3.p1.9.m1.1.1.1.1.2.1">~</ci><ci id="S3.SS3.p1.9.m1.1.1.1.1.2.2.cmml" xref="S3.SS3.p1.9.m1.1.1.1.1.2.2">𝑅</ci></apply><ci id="S3.SS3.p1.9.m1.1.1.1.1.3.cmml" xref="S3.SS3.p1.9.m1.1.1.1.1.3">𝑝</ci></apply><apply id="S3.SS3.p1.9.m1.2.2.2.2.cmml" xref="S3.SS3.p1.9.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.9.m1.2.2.2.2.1.cmml" xref="S3.SS3.p1.9.m1.2.2.2.2">subscript</csymbol><apply id="S3.SS3.p1.9.m1.2.2.2.2.2.cmml" xref="S3.SS3.p1.9.m1.2.2.2.2.2"><ci id="S3.SS3.p1.9.m1.2.2.2.2.2.1.cmml" xref="S3.SS3.p1.9.m1.2.2.2.2.2.1">~</ci><ci id="S3.SS3.p1.9.m1.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.9.m1.2.2.2.2.2.2">𝑅</ci></apply><ci id="S3.SS3.p1.9.m1.2.2.2.2.3.cmml" xref="S3.SS3.p1.9.m1.2.2.2.2.3">𝑡</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.9.m1.2c">\tilde{R}_{p},\tilde{R}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.9.m1.2d">over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> rather than a Maximum-Weight Bipartite Matching-based algorithm as in ANLS* and DocILE. This penalizes swapped or shuffled rows in the predictions.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.1">This approach is similar to the one used in the GriTS metric, but in one dimension instead of two, and does not enforce column-order preservation.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS4.4.1.1">III-D</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS4.5.2">General Line Items Recognition Metric</span>
</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.4">To define the General Line Items Recognition Metric (GLIRM), we first define the GLIRM-Precision and GLIRM-Recall scores as follows:
<span class="ltx_text" id="S3.SS4.p1.4.1" style="font-size:90%;"></span></p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{GLIRM-Prec}_{f}(R_{p},R_{t})=(1/|R_{t}|)\sum\nolimits_{i}g_{f}(\tilde{R}%
_{p}[i],\tilde{R}_{t}[i])\vspace{-5pt}" class="ltx_Math" display="block" id="S3.E2.m1.7"><semantics id="S3.E2.m1.7a"><mrow id="S3.E2.m1.7.7" xref="S3.E2.m1.7.7.cmml"><mrow id="S3.E2.m1.4.4.2" xref="S3.E2.m1.4.4.2.cmml"><msub id="S3.E2.m1.4.4.2.4" xref="S3.E2.m1.4.4.2.4.cmml"><mtext id="S3.E2.m1.4.4.2.4.2" mathsize="90%" xref="S3.E2.m1.4.4.2.4.2a.cmml">GLIRM-Prec</mtext><mi id="S3.E2.m1.4.4.2.4.3" mathsize="90%" xref="S3.E2.m1.4.4.2.4.3.cmml">f</mi></msub><mo id="S3.E2.m1.4.4.2.3" xref="S3.E2.m1.4.4.2.3.cmml">⁢</mo><mrow id="S3.E2.m1.4.4.2.2.2" xref="S3.E2.m1.4.4.2.2.3.cmml"><mo id="S3.E2.m1.4.4.2.2.2.3" maxsize="90%" minsize="90%" xref="S3.E2.m1.4.4.2.2.3.cmml">(</mo><msub id="S3.E2.m1.3.3.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.cmml"><mi id="S3.E2.m1.3.3.1.1.1.1.2" mathsize="90%" xref="S3.E2.m1.3.3.1.1.1.1.2.cmml">R</mi><mi id="S3.E2.m1.3.3.1.1.1.1.3" mathsize="90%" xref="S3.E2.m1.3.3.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.E2.m1.4.4.2.2.2.4" mathsize="90%" xref="S3.E2.m1.4.4.2.2.3.cmml">,</mo><msub id="S3.E2.m1.4.4.2.2.2.2" xref="S3.E2.m1.4.4.2.2.2.2.cmml"><mi id="S3.E2.m1.4.4.2.2.2.2.2" mathsize="90%" xref="S3.E2.m1.4.4.2.2.2.2.2.cmml">R</mi><mi id="S3.E2.m1.4.4.2.2.2.2.3" mathsize="90%" xref="S3.E2.m1.4.4.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.E2.m1.4.4.2.2.2.5" maxsize="90%" minsize="90%" xref="S3.E2.m1.4.4.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.7.7.6" mathsize="90%" xref="S3.E2.m1.7.7.6.cmml">=</mo><mrow id="S3.E2.m1.7.7.5" xref="S3.E2.m1.7.7.5.cmml"><mrow id="S3.E2.m1.5.5.3.1.1" xref="S3.E2.m1.5.5.3.1.1.1.cmml"><mo id="S3.E2.m1.5.5.3.1.1.2" maxsize="90%" minsize="90%" xref="S3.E2.m1.5.5.3.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.5.5.3.1.1.1" xref="S3.E2.m1.5.5.3.1.1.1.cmml"><mn id="S3.E2.m1.5.5.3.1.1.1.3" mathsize="90%" xref="S3.E2.m1.5.5.3.1.1.1.3.cmml">1</mn><mo id="S3.E2.m1.5.5.3.1.1.1.2" maxsize="90%" minsize="90%" stretchy="true" symmetric="true" xref="S3.E2.m1.5.5.3.1.1.1.2.cmml">/</mo><mrow id="S3.E2.m1.5.5.3.1.1.1.1.1" xref="S3.E2.m1.5.5.3.1.1.1.1.2.cmml"><mo id="S3.E2.m1.5.5.3.1.1.1.1.1.2" maxsize="90%" minsize="90%" xref="S3.E2.m1.5.5.3.1.1.1.1.2.1.cmml">|</mo><msub id="S3.E2.m1.5.5.3.1.1.1.1.1.1" xref="S3.E2.m1.5.5.3.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.5.5.3.1.1.1.1.1.1.2" mathsize="90%" xref="S3.E2.m1.5.5.3.1.1.1.1.1.1.2.cmml">R</mi><mi id="S3.E2.m1.5.5.3.1.1.1.1.1.1.3" mathsize="90%" xref="S3.E2.m1.5.5.3.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E2.m1.5.5.3.1.1.1.1.1.3" maxsize="90%" minsize="90%" xref="S3.E2.m1.5.5.3.1.1.1.1.2.1.cmml">|</mo></mrow></mrow><mo id="S3.E2.m1.5.5.3.1.1.3" maxsize="90%" minsize="90%" xref="S3.E2.m1.5.5.3.1.1.1.cmml">)</mo></mrow><mo id="S3.E2.m1.7.7.5.4" xref="S3.E2.m1.7.7.5.4.cmml">⁢</mo><mrow id="S3.E2.m1.7.7.5.3" xref="S3.E2.m1.7.7.5.3.cmml"><msub id="S3.E2.m1.7.7.5.3.3" xref="S3.E2.m1.7.7.5.3.3.cmml"><mo id="S3.E2.m1.7.7.5.3.3.2" maxsize="90%" minsize="90%" stretchy="true" xref="S3.E2.m1.7.7.5.3.3.2.cmml">∑</mo><mi id="S3.E2.m1.7.7.5.3.3.3" mathsize="90%" xref="S3.E2.m1.7.7.5.3.3.3.cmml">i</mi></msub><mrow id="S3.E2.m1.7.7.5.3.2" xref="S3.E2.m1.7.7.5.3.2.cmml"><msub id="S3.E2.m1.7.7.5.3.2.4" xref="S3.E2.m1.7.7.5.3.2.4.cmml"><mi id="S3.E2.m1.7.7.5.3.2.4.2" mathsize="90%" xref="S3.E2.m1.7.7.5.3.2.4.2.cmml">g</mi><mi id="S3.E2.m1.7.7.5.3.2.4.3" mathsize="90%" xref="S3.E2.m1.7.7.5.3.2.4.3.cmml">f</mi></msub><mo id="S3.E2.m1.7.7.5.3.2.3" xref="S3.E2.m1.7.7.5.3.2.3.cmml">⁢</mo><mrow id="S3.E2.m1.7.7.5.3.2.2.2" xref="S3.E2.m1.7.7.5.3.2.2.3.cmml"><mo id="S3.E2.m1.7.7.5.3.2.2.2.3" maxsize="90%" minsize="90%" xref="S3.E2.m1.7.7.5.3.2.2.3.cmml">(</mo><mrow id="S3.E2.m1.6.6.4.2.1.1.1.1" xref="S3.E2.m1.6.6.4.2.1.1.1.1.cmml"><msub id="S3.E2.m1.6.6.4.2.1.1.1.1.2" xref="S3.E2.m1.6.6.4.2.1.1.1.1.2.cmml"><mover accent="true" id="S3.E2.m1.6.6.4.2.1.1.1.1.2.2" xref="S3.E2.m1.6.6.4.2.1.1.1.1.2.2.cmml"><mi id="S3.E2.m1.6.6.4.2.1.1.1.1.2.2.2" mathsize="90%" xref="S3.E2.m1.6.6.4.2.1.1.1.1.2.2.2.cmml">R</mi><mo id="S3.E2.m1.6.6.4.2.1.1.1.1.2.2.1" mathsize="90%" xref="S3.E2.m1.6.6.4.2.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.E2.m1.6.6.4.2.1.1.1.1.2.3" mathsize="90%" xref="S3.E2.m1.6.6.4.2.1.1.1.1.2.3.cmml">p</mi></msub><mo id="S3.E2.m1.6.6.4.2.1.1.1.1.1" xref="S3.E2.m1.6.6.4.2.1.1.1.1.1.cmml">⁢</mo><mrow id="S3.E2.m1.6.6.4.2.1.1.1.1.3.2" xref="S3.E2.m1.6.6.4.2.1.1.1.1.3.1.cmml"><mo id="S3.E2.m1.6.6.4.2.1.1.1.1.3.2.1" maxsize="90%" minsize="90%" xref="S3.E2.m1.6.6.4.2.1.1.1.1.3.1.1.cmml">[</mo><mi id="S3.E2.m1.1.1" mathsize="90%" xref="S3.E2.m1.1.1.cmml">i</mi><mo id="S3.E2.m1.6.6.4.2.1.1.1.1.3.2.2" maxsize="90%" minsize="90%" xref="S3.E2.m1.6.6.4.2.1.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S3.E2.m1.7.7.5.3.2.2.2.4" mathsize="90%" xref="S3.E2.m1.7.7.5.3.2.2.3.cmml">,</mo><mrow id="S3.E2.m1.7.7.5.3.2.2.2.2" xref="S3.E2.m1.7.7.5.3.2.2.2.2.cmml"><msub id="S3.E2.m1.7.7.5.3.2.2.2.2.2" xref="S3.E2.m1.7.7.5.3.2.2.2.2.2.cmml"><mover accent="true" id="S3.E2.m1.7.7.5.3.2.2.2.2.2.2" xref="S3.E2.m1.7.7.5.3.2.2.2.2.2.2.cmml"><mi id="S3.E2.m1.7.7.5.3.2.2.2.2.2.2.2" mathsize="90%" xref="S3.E2.m1.7.7.5.3.2.2.2.2.2.2.2.cmml">R</mi><mo id="S3.E2.m1.7.7.5.3.2.2.2.2.2.2.1" mathsize="90%" xref="S3.E2.m1.7.7.5.3.2.2.2.2.2.2.1.cmml">~</mo></mover><mi id="S3.E2.m1.7.7.5.3.2.2.2.2.2.3" mathsize="90%" xref="S3.E2.m1.7.7.5.3.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.E2.m1.7.7.5.3.2.2.2.2.1" xref="S3.E2.m1.7.7.5.3.2.2.2.2.1.cmml">⁢</mo><mrow id="S3.E2.m1.7.7.5.3.2.2.2.2.3.2" xref="S3.E2.m1.7.7.5.3.2.2.2.2.3.1.cmml"><mo id="S3.E2.m1.7.7.5.3.2.2.2.2.3.2.1" maxsize="90%" minsize="90%" xref="S3.E2.m1.7.7.5.3.2.2.2.2.3.1.1.cmml">[</mo><mi id="S3.E2.m1.2.2" mathsize="90%" xref="S3.E2.m1.2.2.cmml">i</mi><mo id="S3.E2.m1.7.7.5.3.2.2.2.2.3.2.2" maxsize="90%" minsize="90%" xref="S3.E2.m1.7.7.5.3.2.2.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S3.E2.m1.7.7.5.3.2.2.2.5" maxsize="90%" minsize="90%" xref="S3.E2.m1.7.7.5.3.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.7b"><apply id="S3.E2.m1.7.7.cmml" xref="S3.E2.m1.7.7"><eq id="S3.E2.m1.7.7.6.cmml" xref="S3.E2.m1.7.7.6"></eq><apply id="S3.E2.m1.4.4.2.cmml" xref="S3.E2.m1.4.4.2"><times id="S3.E2.m1.4.4.2.3.cmml" xref="S3.E2.m1.4.4.2.3"></times><apply id="S3.E2.m1.4.4.2.4.cmml" xref="S3.E2.m1.4.4.2.4"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.2.4.1.cmml" xref="S3.E2.m1.4.4.2.4">subscript</csymbol><ci id="S3.E2.m1.4.4.2.4.2a.cmml" xref="S3.E2.m1.4.4.2.4.2"><mtext id="S3.E2.m1.4.4.2.4.2.cmml" mathsize="90%" xref="S3.E2.m1.4.4.2.4.2">GLIRM-Prec</mtext></ci><ci id="S3.E2.m1.4.4.2.4.3.cmml" xref="S3.E2.m1.4.4.2.4.3">𝑓</ci></apply><interval closure="open" id="S3.E2.m1.4.4.2.2.3.cmml" xref="S3.E2.m1.4.4.2.2.2"><apply id="S3.E2.m1.3.3.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.2">𝑅</ci><ci id="S3.E2.m1.3.3.1.1.1.1.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.3">𝑝</ci></apply><apply id="S3.E2.m1.4.4.2.2.2.2.cmml" xref="S3.E2.m1.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.2.2.2.2.1.cmml" xref="S3.E2.m1.4.4.2.2.2.2">subscript</csymbol><ci id="S3.E2.m1.4.4.2.2.2.2.2.cmml" xref="S3.E2.m1.4.4.2.2.2.2.2">𝑅</ci><ci id="S3.E2.m1.4.4.2.2.2.2.3.cmml" xref="S3.E2.m1.4.4.2.2.2.2.3">𝑡</ci></apply></interval></apply><apply id="S3.E2.m1.7.7.5.cmml" xref="S3.E2.m1.7.7.5"><times id="S3.E2.m1.7.7.5.4.cmml" xref="S3.E2.m1.7.7.5.4"></times><apply id="S3.E2.m1.5.5.3.1.1.1.cmml" xref="S3.E2.m1.5.5.3.1.1"><divide id="S3.E2.m1.5.5.3.1.1.1.2.cmml" xref="S3.E2.m1.5.5.3.1.1.1.2"></divide><cn id="S3.E2.m1.5.5.3.1.1.1.3.cmml" type="integer" xref="S3.E2.m1.5.5.3.1.1.1.3">1</cn><apply id="S3.E2.m1.5.5.3.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.3.1.1.1.1.1"><abs id="S3.E2.m1.5.5.3.1.1.1.1.2.1.cmml" xref="S3.E2.m1.5.5.3.1.1.1.1.1.2"></abs><apply id="S3.E2.m1.5.5.3.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.3.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.5.5.3.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.3.1.1.1.1.1.1.2">𝑅</ci><ci id="S3.E2.m1.5.5.3.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.5.5.3.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply><apply id="S3.E2.m1.7.7.5.3.cmml" xref="S3.E2.m1.7.7.5.3"><apply id="S3.E2.m1.7.7.5.3.3.cmml" xref="S3.E2.m1.7.7.5.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.5.3.3.1.cmml" xref="S3.E2.m1.7.7.5.3.3">subscript</csymbol><sum id="S3.E2.m1.7.7.5.3.3.2.cmml" xref="S3.E2.m1.7.7.5.3.3.2"></sum><ci id="S3.E2.m1.7.7.5.3.3.3.cmml" xref="S3.E2.m1.7.7.5.3.3.3">𝑖</ci></apply><apply id="S3.E2.m1.7.7.5.3.2.cmml" xref="S3.E2.m1.7.7.5.3.2"><times id="S3.E2.m1.7.7.5.3.2.3.cmml" xref="S3.E2.m1.7.7.5.3.2.3"></times><apply id="S3.E2.m1.7.7.5.3.2.4.cmml" xref="S3.E2.m1.7.7.5.3.2.4"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.5.3.2.4.1.cmml" xref="S3.E2.m1.7.7.5.3.2.4">subscript</csymbol><ci id="S3.E2.m1.7.7.5.3.2.4.2.cmml" xref="S3.E2.m1.7.7.5.3.2.4.2">𝑔</ci><ci id="S3.E2.m1.7.7.5.3.2.4.3.cmml" xref="S3.E2.m1.7.7.5.3.2.4.3">𝑓</ci></apply><interval closure="open" id="S3.E2.m1.7.7.5.3.2.2.3.cmml" xref="S3.E2.m1.7.7.5.3.2.2.2"><apply id="S3.E2.m1.6.6.4.2.1.1.1.1.cmml" xref="S3.E2.m1.6.6.4.2.1.1.1.1"><times id="S3.E2.m1.6.6.4.2.1.1.1.1.1.cmml" xref="S3.E2.m1.6.6.4.2.1.1.1.1.1"></times><apply id="S3.E2.m1.6.6.4.2.1.1.1.1.2.cmml" xref="S3.E2.m1.6.6.4.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.4.2.1.1.1.1.2.1.cmml" xref="S3.E2.m1.6.6.4.2.1.1.1.1.2">subscript</csymbol><apply id="S3.E2.m1.6.6.4.2.1.1.1.1.2.2.cmml" xref="S3.E2.m1.6.6.4.2.1.1.1.1.2.2"><ci id="S3.E2.m1.6.6.4.2.1.1.1.1.2.2.1.cmml" xref="S3.E2.m1.6.6.4.2.1.1.1.1.2.2.1">~</ci><ci id="S3.E2.m1.6.6.4.2.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.6.6.4.2.1.1.1.1.2.2.2">𝑅</ci></apply><ci id="S3.E2.m1.6.6.4.2.1.1.1.1.2.3.cmml" xref="S3.E2.m1.6.6.4.2.1.1.1.1.2.3">𝑝</ci></apply><apply id="S3.E2.m1.6.6.4.2.1.1.1.1.3.1.cmml" xref="S3.E2.m1.6.6.4.2.1.1.1.1.3.2"><csymbol cd="latexml" id="S3.E2.m1.6.6.4.2.1.1.1.1.3.1.1.cmml" xref="S3.E2.m1.6.6.4.2.1.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">𝑖</ci></apply></apply><apply id="S3.E2.m1.7.7.5.3.2.2.2.2.cmml" xref="S3.E2.m1.7.7.5.3.2.2.2.2"><times id="S3.E2.m1.7.7.5.3.2.2.2.2.1.cmml" xref="S3.E2.m1.7.7.5.3.2.2.2.2.1"></times><apply id="S3.E2.m1.7.7.5.3.2.2.2.2.2.cmml" xref="S3.E2.m1.7.7.5.3.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.7.7.5.3.2.2.2.2.2.1.cmml" xref="S3.E2.m1.7.7.5.3.2.2.2.2.2">subscript</csymbol><apply id="S3.E2.m1.7.7.5.3.2.2.2.2.2.2.cmml" xref="S3.E2.m1.7.7.5.3.2.2.2.2.2.2"><ci id="S3.E2.m1.7.7.5.3.2.2.2.2.2.2.1.cmml" xref="S3.E2.m1.7.7.5.3.2.2.2.2.2.2.1">~</ci><ci id="S3.E2.m1.7.7.5.3.2.2.2.2.2.2.2.cmml" xref="S3.E2.m1.7.7.5.3.2.2.2.2.2.2.2">𝑅</ci></apply><ci id="S3.E2.m1.7.7.5.3.2.2.2.2.2.3.cmml" xref="S3.E2.m1.7.7.5.3.2.2.2.2.2.3">𝑡</ci></apply><apply id="S3.E2.m1.7.7.5.3.2.2.2.2.3.1.cmml" xref="S3.E2.m1.7.7.5.3.2.2.2.2.3.2"><csymbol cd="latexml" id="S3.E2.m1.7.7.5.3.2.2.2.2.3.1.1.cmml" xref="S3.E2.m1.7.7.5.3.2.2.2.2.3.2.1">delimited-[]</csymbol><ci id="S3.E2.m1.2.2.cmml" xref="S3.E2.m1.2.2">𝑖</ci></apply></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.7c">\text{GLIRM-Prec}_{f}(R_{p},R_{t})=(1/|R_{t}|)\sum\nolimits_{i}g_{f}(\tilde{R}%
_{p}[i],\tilde{R}_{t}[i])\vspace{-5pt}</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.7d">GLIRM-Prec start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_R start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) = ( 1 / | italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | ) ∑ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT italic_g start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT [ italic_i ] , over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT [ italic_i ] )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{GLIRM-Rec}_{f}(R_{p},R_{t})=(1/|R_{p}|)\sum\nolimits_{i}g_{f}(\tilde{R}_%
{p}[i],\tilde{R}_{t}[i])\vspace{-5pt}" class="ltx_Math" display="block" id="S3.E3.m1.7"><semantics id="S3.E3.m1.7a"><mrow id="S3.E3.m1.7.7" xref="S3.E3.m1.7.7.cmml"><mrow id="S3.E3.m1.4.4.2" xref="S3.E3.m1.4.4.2.cmml"><msub id="S3.E3.m1.4.4.2.4" xref="S3.E3.m1.4.4.2.4.cmml"><mtext id="S3.E3.m1.4.4.2.4.2" mathsize="90%" xref="S3.E3.m1.4.4.2.4.2a.cmml">GLIRM-Rec</mtext><mi id="S3.E3.m1.4.4.2.4.3" mathsize="90%" xref="S3.E3.m1.4.4.2.4.3.cmml">f</mi></msub><mo id="S3.E3.m1.4.4.2.3" xref="S3.E3.m1.4.4.2.3.cmml">⁢</mo><mrow id="S3.E3.m1.4.4.2.2.2" xref="S3.E3.m1.4.4.2.2.3.cmml"><mo id="S3.E3.m1.4.4.2.2.2.3" maxsize="90%" minsize="90%" xref="S3.E3.m1.4.4.2.2.3.cmml">(</mo><msub id="S3.E3.m1.3.3.1.1.1.1" xref="S3.E3.m1.3.3.1.1.1.1.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.2" mathsize="90%" xref="S3.E3.m1.3.3.1.1.1.1.2.cmml">R</mi><mi id="S3.E3.m1.3.3.1.1.1.1.3" mathsize="90%" xref="S3.E3.m1.3.3.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.E3.m1.4.4.2.2.2.4" mathsize="90%" xref="S3.E3.m1.4.4.2.2.3.cmml">,</mo><msub id="S3.E3.m1.4.4.2.2.2.2" xref="S3.E3.m1.4.4.2.2.2.2.cmml"><mi id="S3.E3.m1.4.4.2.2.2.2.2" mathsize="90%" xref="S3.E3.m1.4.4.2.2.2.2.2.cmml">R</mi><mi id="S3.E3.m1.4.4.2.2.2.2.3" mathsize="90%" xref="S3.E3.m1.4.4.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.E3.m1.4.4.2.2.2.5" maxsize="90%" minsize="90%" xref="S3.E3.m1.4.4.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.7.7.6" mathsize="90%" xref="S3.E3.m1.7.7.6.cmml">=</mo><mrow id="S3.E3.m1.7.7.5" xref="S3.E3.m1.7.7.5.cmml"><mrow id="S3.E3.m1.5.5.3.1.1" xref="S3.E3.m1.5.5.3.1.1.1.cmml"><mo id="S3.E3.m1.5.5.3.1.1.2" maxsize="90%" minsize="90%" xref="S3.E3.m1.5.5.3.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.5.5.3.1.1.1" xref="S3.E3.m1.5.5.3.1.1.1.cmml"><mn id="S3.E3.m1.5.5.3.1.1.1.3" mathsize="90%" xref="S3.E3.m1.5.5.3.1.1.1.3.cmml">1</mn><mo id="S3.E3.m1.5.5.3.1.1.1.2" maxsize="90%" minsize="90%" stretchy="true" symmetric="true" xref="S3.E3.m1.5.5.3.1.1.1.2.cmml">/</mo><mrow id="S3.E3.m1.5.5.3.1.1.1.1.1" xref="S3.E3.m1.5.5.3.1.1.1.1.2.cmml"><mo id="S3.E3.m1.5.5.3.1.1.1.1.1.2" maxsize="90%" minsize="90%" xref="S3.E3.m1.5.5.3.1.1.1.1.2.1.cmml">|</mo><msub id="S3.E3.m1.5.5.3.1.1.1.1.1.1" xref="S3.E3.m1.5.5.3.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.5.5.3.1.1.1.1.1.1.2" mathsize="90%" xref="S3.E3.m1.5.5.3.1.1.1.1.1.1.2.cmml">R</mi><mi id="S3.E3.m1.5.5.3.1.1.1.1.1.1.3" mathsize="90%" xref="S3.E3.m1.5.5.3.1.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.E3.m1.5.5.3.1.1.1.1.1.3" maxsize="90%" minsize="90%" xref="S3.E3.m1.5.5.3.1.1.1.1.2.1.cmml">|</mo></mrow></mrow><mo id="S3.E3.m1.5.5.3.1.1.3" maxsize="90%" minsize="90%" xref="S3.E3.m1.5.5.3.1.1.1.cmml">)</mo></mrow><mo id="S3.E3.m1.7.7.5.4" xref="S3.E3.m1.7.7.5.4.cmml">⁢</mo><mrow id="S3.E3.m1.7.7.5.3" xref="S3.E3.m1.7.7.5.3.cmml"><msub id="S3.E3.m1.7.7.5.3.3" xref="S3.E3.m1.7.7.5.3.3.cmml"><mo id="S3.E3.m1.7.7.5.3.3.2" maxsize="90%" minsize="90%" stretchy="true" xref="S3.E3.m1.7.7.5.3.3.2.cmml">∑</mo><mi id="S3.E3.m1.7.7.5.3.3.3" mathsize="90%" xref="S3.E3.m1.7.7.5.3.3.3.cmml">i</mi></msub><mrow id="S3.E3.m1.7.7.5.3.2" xref="S3.E3.m1.7.7.5.3.2.cmml"><msub id="S3.E3.m1.7.7.5.3.2.4" xref="S3.E3.m1.7.7.5.3.2.4.cmml"><mi id="S3.E3.m1.7.7.5.3.2.4.2" mathsize="90%" xref="S3.E3.m1.7.7.5.3.2.4.2.cmml">g</mi><mi id="S3.E3.m1.7.7.5.3.2.4.3" mathsize="90%" xref="S3.E3.m1.7.7.5.3.2.4.3.cmml">f</mi></msub><mo id="S3.E3.m1.7.7.5.3.2.3" xref="S3.E3.m1.7.7.5.3.2.3.cmml">⁢</mo><mrow id="S3.E3.m1.7.7.5.3.2.2.2" xref="S3.E3.m1.7.7.5.3.2.2.3.cmml"><mo id="S3.E3.m1.7.7.5.3.2.2.2.3" maxsize="90%" minsize="90%" xref="S3.E3.m1.7.7.5.3.2.2.3.cmml">(</mo><mrow id="S3.E3.m1.6.6.4.2.1.1.1.1" xref="S3.E3.m1.6.6.4.2.1.1.1.1.cmml"><msub id="S3.E3.m1.6.6.4.2.1.1.1.1.2" xref="S3.E3.m1.6.6.4.2.1.1.1.1.2.cmml"><mover accent="true" id="S3.E3.m1.6.6.4.2.1.1.1.1.2.2" xref="S3.E3.m1.6.6.4.2.1.1.1.1.2.2.cmml"><mi id="S3.E3.m1.6.6.4.2.1.1.1.1.2.2.2" mathsize="90%" xref="S3.E3.m1.6.6.4.2.1.1.1.1.2.2.2.cmml">R</mi><mo id="S3.E3.m1.6.6.4.2.1.1.1.1.2.2.1" mathsize="90%" xref="S3.E3.m1.6.6.4.2.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.E3.m1.6.6.4.2.1.1.1.1.2.3" mathsize="90%" xref="S3.E3.m1.6.6.4.2.1.1.1.1.2.3.cmml">p</mi></msub><mo id="S3.E3.m1.6.6.4.2.1.1.1.1.1" xref="S3.E3.m1.6.6.4.2.1.1.1.1.1.cmml">⁢</mo><mrow id="S3.E3.m1.6.6.4.2.1.1.1.1.3.2" xref="S3.E3.m1.6.6.4.2.1.1.1.1.3.1.cmml"><mo id="S3.E3.m1.6.6.4.2.1.1.1.1.3.2.1" maxsize="90%" minsize="90%" xref="S3.E3.m1.6.6.4.2.1.1.1.1.3.1.1.cmml">[</mo><mi id="S3.E3.m1.1.1" mathsize="90%" xref="S3.E3.m1.1.1.cmml">i</mi><mo id="S3.E3.m1.6.6.4.2.1.1.1.1.3.2.2" maxsize="90%" minsize="90%" xref="S3.E3.m1.6.6.4.2.1.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S3.E3.m1.7.7.5.3.2.2.2.4" mathsize="90%" xref="S3.E3.m1.7.7.5.3.2.2.3.cmml">,</mo><mrow id="S3.E3.m1.7.7.5.3.2.2.2.2" xref="S3.E3.m1.7.7.5.3.2.2.2.2.cmml"><msub id="S3.E3.m1.7.7.5.3.2.2.2.2.2" xref="S3.E3.m1.7.7.5.3.2.2.2.2.2.cmml"><mover accent="true" id="S3.E3.m1.7.7.5.3.2.2.2.2.2.2" xref="S3.E3.m1.7.7.5.3.2.2.2.2.2.2.cmml"><mi id="S3.E3.m1.7.7.5.3.2.2.2.2.2.2.2" mathsize="90%" xref="S3.E3.m1.7.7.5.3.2.2.2.2.2.2.2.cmml">R</mi><mo id="S3.E3.m1.7.7.5.3.2.2.2.2.2.2.1" mathsize="90%" xref="S3.E3.m1.7.7.5.3.2.2.2.2.2.2.1.cmml">~</mo></mover><mi id="S3.E3.m1.7.7.5.3.2.2.2.2.2.3" mathsize="90%" xref="S3.E3.m1.7.7.5.3.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.E3.m1.7.7.5.3.2.2.2.2.1" xref="S3.E3.m1.7.7.5.3.2.2.2.2.1.cmml">⁢</mo><mrow id="S3.E3.m1.7.7.5.3.2.2.2.2.3.2" xref="S3.E3.m1.7.7.5.3.2.2.2.2.3.1.cmml"><mo id="S3.E3.m1.7.7.5.3.2.2.2.2.3.2.1" maxsize="90%" minsize="90%" xref="S3.E3.m1.7.7.5.3.2.2.2.2.3.1.1.cmml">[</mo><mi id="S3.E3.m1.2.2" mathsize="90%" xref="S3.E3.m1.2.2.cmml">i</mi><mo id="S3.E3.m1.7.7.5.3.2.2.2.2.3.2.2" maxsize="90%" minsize="90%" xref="S3.E3.m1.7.7.5.3.2.2.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S3.E3.m1.7.7.5.3.2.2.2.5" maxsize="90%" minsize="90%" xref="S3.E3.m1.7.7.5.3.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.7b"><apply id="S3.E3.m1.7.7.cmml" xref="S3.E3.m1.7.7"><eq id="S3.E3.m1.7.7.6.cmml" xref="S3.E3.m1.7.7.6"></eq><apply id="S3.E3.m1.4.4.2.cmml" xref="S3.E3.m1.4.4.2"><times id="S3.E3.m1.4.4.2.3.cmml" xref="S3.E3.m1.4.4.2.3"></times><apply id="S3.E3.m1.4.4.2.4.cmml" xref="S3.E3.m1.4.4.2.4"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.2.4.1.cmml" xref="S3.E3.m1.4.4.2.4">subscript</csymbol><ci id="S3.E3.m1.4.4.2.4.2a.cmml" xref="S3.E3.m1.4.4.2.4.2"><mtext id="S3.E3.m1.4.4.2.4.2.cmml" mathsize="90%" xref="S3.E3.m1.4.4.2.4.2">GLIRM-Rec</mtext></ci><ci id="S3.E3.m1.4.4.2.4.3.cmml" xref="S3.E3.m1.4.4.2.4.3">𝑓</ci></apply><interval closure="open" id="S3.E3.m1.4.4.2.2.3.cmml" xref="S3.E3.m1.4.4.2.2.2"><apply id="S3.E3.m1.3.3.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.3.3.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.2">𝑅</ci><ci id="S3.E3.m1.3.3.1.1.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.3">𝑝</ci></apply><apply id="S3.E3.m1.4.4.2.2.2.2.cmml" xref="S3.E3.m1.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.2.2.2.2.1.cmml" xref="S3.E3.m1.4.4.2.2.2.2">subscript</csymbol><ci id="S3.E3.m1.4.4.2.2.2.2.2.cmml" xref="S3.E3.m1.4.4.2.2.2.2.2">𝑅</ci><ci id="S3.E3.m1.4.4.2.2.2.2.3.cmml" xref="S3.E3.m1.4.4.2.2.2.2.3">𝑡</ci></apply></interval></apply><apply id="S3.E3.m1.7.7.5.cmml" xref="S3.E3.m1.7.7.5"><times id="S3.E3.m1.7.7.5.4.cmml" xref="S3.E3.m1.7.7.5.4"></times><apply id="S3.E3.m1.5.5.3.1.1.1.cmml" xref="S3.E3.m1.5.5.3.1.1"><divide id="S3.E3.m1.5.5.3.1.1.1.2.cmml" xref="S3.E3.m1.5.5.3.1.1.1.2"></divide><cn id="S3.E3.m1.5.5.3.1.1.1.3.cmml" type="integer" xref="S3.E3.m1.5.5.3.1.1.1.3">1</cn><apply id="S3.E3.m1.5.5.3.1.1.1.1.2.cmml" xref="S3.E3.m1.5.5.3.1.1.1.1.1"><abs id="S3.E3.m1.5.5.3.1.1.1.1.2.1.cmml" xref="S3.E3.m1.5.5.3.1.1.1.1.1.2"></abs><apply id="S3.E3.m1.5.5.3.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.3.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.5.5.3.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.5.5.3.1.1.1.1.1.1.2">𝑅</ci><ci id="S3.E3.m1.5.5.3.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.5.5.3.1.1.1.1.1.1.3">𝑝</ci></apply></apply></apply><apply id="S3.E3.m1.7.7.5.3.cmml" xref="S3.E3.m1.7.7.5.3"><apply id="S3.E3.m1.7.7.5.3.3.cmml" xref="S3.E3.m1.7.7.5.3.3"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.5.3.3.1.cmml" xref="S3.E3.m1.7.7.5.3.3">subscript</csymbol><sum id="S3.E3.m1.7.7.5.3.3.2.cmml" xref="S3.E3.m1.7.7.5.3.3.2"></sum><ci id="S3.E3.m1.7.7.5.3.3.3.cmml" xref="S3.E3.m1.7.7.5.3.3.3">𝑖</ci></apply><apply id="S3.E3.m1.7.7.5.3.2.cmml" xref="S3.E3.m1.7.7.5.3.2"><times id="S3.E3.m1.7.7.5.3.2.3.cmml" xref="S3.E3.m1.7.7.5.3.2.3"></times><apply id="S3.E3.m1.7.7.5.3.2.4.cmml" xref="S3.E3.m1.7.7.5.3.2.4"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.5.3.2.4.1.cmml" xref="S3.E3.m1.7.7.5.3.2.4">subscript</csymbol><ci id="S3.E3.m1.7.7.5.3.2.4.2.cmml" xref="S3.E3.m1.7.7.5.3.2.4.2">𝑔</ci><ci id="S3.E3.m1.7.7.5.3.2.4.3.cmml" xref="S3.E3.m1.7.7.5.3.2.4.3">𝑓</ci></apply><interval closure="open" id="S3.E3.m1.7.7.5.3.2.2.3.cmml" xref="S3.E3.m1.7.7.5.3.2.2.2"><apply id="S3.E3.m1.6.6.4.2.1.1.1.1.cmml" xref="S3.E3.m1.6.6.4.2.1.1.1.1"><times id="S3.E3.m1.6.6.4.2.1.1.1.1.1.cmml" xref="S3.E3.m1.6.6.4.2.1.1.1.1.1"></times><apply id="S3.E3.m1.6.6.4.2.1.1.1.1.2.cmml" xref="S3.E3.m1.6.6.4.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.4.2.1.1.1.1.2.1.cmml" xref="S3.E3.m1.6.6.4.2.1.1.1.1.2">subscript</csymbol><apply id="S3.E3.m1.6.6.4.2.1.1.1.1.2.2.cmml" xref="S3.E3.m1.6.6.4.2.1.1.1.1.2.2"><ci id="S3.E3.m1.6.6.4.2.1.1.1.1.2.2.1.cmml" xref="S3.E3.m1.6.6.4.2.1.1.1.1.2.2.1">~</ci><ci id="S3.E3.m1.6.6.4.2.1.1.1.1.2.2.2.cmml" xref="S3.E3.m1.6.6.4.2.1.1.1.1.2.2.2">𝑅</ci></apply><ci id="S3.E3.m1.6.6.4.2.1.1.1.1.2.3.cmml" xref="S3.E3.m1.6.6.4.2.1.1.1.1.2.3">𝑝</ci></apply><apply id="S3.E3.m1.6.6.4.2.1.1.1.1.3.1.cmml" xref="S3.E3.m1.6.6.4.2.1.1.1.1.3.2"><csymbol cd="latexml" id="S3.E3.m1.6.6.4.2.1.1.1.1.3.1.1.cmml" xref="S3.E3.m1.6.6.4.2.1.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1">𝑖</ci></apply></apply><apply id="S3.E3.m1.7.7.5.3.2.2.2.2.cmml" xref="S3.E3.m1.7.7.5.3.2.2.2.2"><times id="S3.E3.m1.7.7.5.3.2.2.2.2.1.cmml" xref="S3.E3.m1.7.7.5.3.2.2.2.2.1"></times><apply id="S3.E3.m1.7.7.5.3.2.2.2.2.2.cmml" xref="S3.E3.m1.7.7.5.3.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.5.3.2.2.2.2.2.1.cmml" xref="S3.E3.m1.7.7.5.3.2.2.2.2.2">subscript</csymbol><apply id="S3.E3.m1.7.7.5.3.2.2.2.2.2.2.cmml" xref="S3.E3.m1.7.7.5.3.2.2.2.2.2.2"><ci id="S3.E3.m1.7.7.5.3.2.2.2.2.2.2.1.cmml" xref="S3.E3.m1.7.7.5.3.2.2.2.2.2.2.1">~</ci><ci id="S3.E3.m1.7.7.5.3.2.2.2.2.2.2.2.cmml" xref="S3.E3.m1.7.7.5.3.2.2.2.2.2.2.2">𝑅</ci></apply><ci id="S3.E3.m1.7.7.5.3.2.2.2.2.2.3.cmml" xref="S3.E3.m1.7.7.5.3.2.2.2.2.2.3">𝑡</ci></apply><apply id="S3.E3.m1.7.7.5.3.2.2.2.2.3.1.cmml" xref="S3.E3.m1.7.7.5.3.2.2.2.2.3.2"><csymbol cd="latexml" id="S3.E3.m1.7.7.5.3.2.2.2.2.3.1.1.cmml" xref="S3.E3.m1.7.7.5.3.2.2.2.2.3.2.1">delimited-[]</csymbol><ci id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2">𝑖</ci></apply></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.7c">\text{GLIRM-Rec}_{f}(R_{p},R_{t})=(1/|R_{p}|)\sum\nolimits_{i}g_{f}(\tilde{R}_%
{p}[i],\tilde{R}_{t}[i])\vspace{-5pt}</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.7d">GLIRM-Rec start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_R start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) = ( 1 / | italic_R start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | ) ∑ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT italic_g start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT [ italic_i ] , over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT [ italic_i ] )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS4.p1.5">The F1-score-like GLIRM then is,
<span class="ltx_text" id="S3.SS4.p1.5.1" style="font-size:90%;"></span></p>
<table class="ltx_equation ltx_eqn_table" id="S3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{GLIRM-F1}_{f}(R_{p},R_{t})=\dfrac{2\sum_{i}g_{f}(\tilde{R}_{p}[i],\tilde%
{R}_{t}[i])}{|R_{p}|+|R_{t}|}\vspace{-5pt}" class="ltx_Math" display="block" id="S3.E4.m1.8"><semantics id="S3.E4.m1.8a"><mrow id="S3.E4.m1.8.8" xref="S3.E4.m1.8.8.cmml"><mrow id="S3.E4.m1.8.8.2" xref="S3.E4.m1.8.8.2.cmml"><msub id="S3.E4.m1.8.8.2.4" xref="S3.E4.m1.8.8.2.4.cmml"><mtext id="S3.E4.m1.8.8.2.4.2" mathsize="90%" xref="S3.E4.m1.8.8.2.4.2a.cmml">GLIRM-F1</mtext><mi id="S3.E4.m1.8.8.2.4.3" mathsize="90%" xref="S3.E4.m1.8.8.2.4.3.cmml">f</mi></msub><mo id="S3.E4.m1.8.8.2.3" xref="S3.E4.m1.8.8.2.3.cmml">⁢</mo><mrow id="S3.E4.m1.8.8.2.2.2" xref="S3.E4.m1.8.8.2.2.3.cmml"><mo id="S3.E4.m1.8.8.2.2.2.3" maxsize="90%" minsize="90%" xref="S3.E4.m1.8.8.2.2.3.cmml">(</mo><msub id="S3.E4.m1.7.7.1.1.1.1" xref="S3.E4.m1.7.7.1.1.1.1.cmml"><mi id="S3.E4.m1.7.7.1.1.1.1.2" mathsize="90%" xref="S3.E4.m1.7.7.1.1.1.1.2.cmml">R</mi><mi id="S3.E4.m1.7.7.1.1.1.1.3" mathsize="90%" xref="S3.E4.m1.7.7.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.E4.m1.8.8.2.2.2.4" mathsize="90%" xref="S3.E4.m1.8.8.2.2.3.cmml">,</mo><msub id="S3.E4.m1.8.8.2.2.2.2" xref="S3.E4.m1.8.8.2.2.2.2.cmml"><mi id="S3.E4.m1.8.8.2.2.2.2.2" mathsize="90%" xref="S3.E4.m1.8.8.2.2.2.2.2.cmml">R</mi><mi id="S3.E4.m1.8.8.2.2.2.2.3" mathsize="90%" xref="S3.E4.m1.8.8.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.E4.m1.8.8.2.2.2.5" maxsize="90%" minsize="90%" xref="S3.E4.m1.8.8.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.8.8.3" mathsize="90%" xref="S3.E4.m1.8.8.3.cmml">=</mo><mfrac id="S3.E4.m1.6.6" xref="S3.E4.m1.6.6.cmml"><mrow id="S3.E4.m1.4.4.4" xref="S3.E4.m1.4.4.4.cmml"><mn id="S3.E4.m1.4.4.4.6" mathsize="90%" xref="S3.E4.m1.4.4.4.6.cmml">2</mn><mo id="S3.E4.m1.4.4.4.5" xref="S3.E4.m1.4.4.4.5.cmml">⁢</mo><mrow id="S3.E4.m1.4.4.4.4" xref="S3.E4.m1.4.4.4.4.cmml"><msub id="S3.E4.m1.4.4.4.4.3" xref="S3.E4.m1.4.4.4.4.3.cmml"><mo id="S3.E4.m1.4.4.4.4.3.2" maxsize="90%" minsize="90%" stretchy="true" xref="S3.E4.m1.4.4.4.4.3.2.cmml">∑</mo><mi id="S3.E4.m1.4.4.4.4.3.3" mathsize="90%" xref="S3.E4.m1.4.4.4.4.3.3.cmml">i</mi></msub><mrow id="S3.E4.m1.4.4.4.4.2" xref="S3.E4.m1.4.4.4.4.2.cmml"><msub id="S3.E4.m1.4.4.4.4.2.4" xref="S3.E4.m1.4.4.4.4.2.4.cmml"><mi id="S3.E4.m1.4.4.4.4.2.4.2" mathsize="90%" xref="S3.E4.m1.4.4.4.4.2.4.2.cmml">g</mi><mi id="S3.E4.m1.4.4.4.4.2.4.3" mathsize="90%" xref="S3.E4.m1.4.4.4.4.2.4.3.cmml">f</mi></msub><mo id="S3.E4.m1.4.4.4.4.2.3" xref="S3.E4.m1.4.4.4.4.2.3.cmml">⁢</mo><mrow id="S3.E4.m1.4.4.4.4.2.2.2" xref="S3.E4.m1.4.4.4.4.2.2.3.cmml"><mo id="S3.E4.m1.4.4.4.4.2.2.2.3" maxsize="90%" minsize="90%" xref="S3.E4.m1.4.4.4.4.2.2.3.cmml">(</mo><mrow id="S3.E4.m1.3.3.3.3.1.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.cmml"><msub id="S3.E4.m1.3.3.3.3.1.1.1.1.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.cmml"><mover accent="true" id="S3.E4.m1.3.3.3.3.1.1.1.1.2.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.2.cmml"><mi id="S3.E4.m1.3.3.3.3.1.1.1.1.2.2.2" mathsize="90%" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.2.2.cmml">R</mi><mo id="S3.E4.m1.3.3.3.3.1.1.1.1.2.2.1" mathsize="90%" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3" mathsize="90%" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.cmml">p</mi></msub><mo id="S3.E4.m1.3.3.3.3.1.1.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.cmml">⁢</mo><mrow id="S3.E4.m1.3.3.3.3.1.1.1.1.3.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.1.cmml"><mo id="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.1" maxsize="90%" minsize="90%" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.1.1.cmml">[</mo><mi id="S3.E4.m1.1.1.1.1" mathsize="90%" xref="S3.E4.m1.1.1.1.1.cmml">i</mi><mo id="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.2" maxsize="90%" minsize="90%" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S3.E4.m1.4.4.4.4.2.2.2.4" mathsize="90%" xref="S3.E4.m1.4.4.4.4.2.2.3.cmml">,</mo><mrow id="S3.E4.m1.4.4.4.4.2.2.2.2" xref="S3.E4.m1.4.4.4.4.2.2.2.2.cmml"><msub id="S3.E4.m1.4.4.4.4.2.2.2.2.2" xref="S3.E4.m1.4.4.4.4.2.2.2.2.2.cmml"><mover accent="true" id="S3.E4.m1.4.4.4.4.2.2.2.2.2.2" xref="S3.E4.m1.4.4.4.4.2.2.2.2.2.2.cmml"><mi id="S3.E4.m1.4.4.4.4.2.2.2.2.2.2.2" mathsize="90%" xref="S3.E4.m1.4.4.4.4.2.2.2.2.2.2.2.cmml">R</mi><mo id="S3.E4.m1.4.4.4.4.2.2.2.2.2.2.1" mathsize="90%" xref="S3.E4.m1.4.4.4.4.2.2.2.2.2.2.1.cmml">~</mo></mover><mi id="S3.E4.m1.4.4.4.4.2.2.2.2.2.3" mathsize="90%" xref="S3.E4.m1.4.4.4.4.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.E4.m1.4.4.4.4.2.2.2.2.1" xref="S3.E4.m1.4.4.4.4.2.2.2.2.1.cmml">⁢</mo><mrow id="S3.E4.m1.4.4.4.4.2.2.2.2.3.2" xref="S3.E4.m1.4.4.4.4.2.2.2.2.3.1.cmml"><mo id="S3.E4.m1.4.4.4.4.2.2.2.2.3.2.1" maxsize="90%" minsize="90%" xref="S3.E4.m1.4.4.4.4.2.2.2.2.3.1.1.cmml">[</mo><mi id="S3.E4.m1.2.2.2.2" mathsize="90%" xref="S3.E4.m1.2.2.2.2.cmml">i</mi><mo id="S3.E4.m1.4.4.4.4.2.2.2.2.3.2.2" maxsize="90%" minsize="90%" xref="S3.E4.m1.4.4.4.4.2.2.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S3.E4.m1.4.4.4.4.2.2.2.5" maxsize="90%" minsize="90%" xref="S3.E4.m1.4.4.4.4.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><mrow id="S3.E4.m1.6.6.6" xref="S3.E4.m1.6.6.6.cmml"><mrow id="S3.E4.m1.5.5.5.1.1" xref="S3.E4.m1.5.5.5.1.2.cmml"><mo id="S3.E4.m1.5.5.5.1.1.2" maxsize="90%" minsize="90%" xref="S3.E4.m1.5.5.5.1.2.1.cmml">|</mo><msub id="S3.E4.m1.5.5.5.1.1.1" xref="S3.E4.m1.5.5.5.1.1.1.cmml"><mi id="S3.E4.m1.5.5.5.1.1.1.2" mathsize="90%" xref="S3.E4.m1.5.5.5.1.1.1.2.cmml">R</mi><mi id="S3.E4.m1.5.5.5.1.1.1.3" mathsize="90%" xref="S3.E4.m1.5.5.5.1.1.1.3.cmml">p</mi></msub><mo id="S3.E4.m1.5.5.5.1.1.3" maxsize="90%" minsize="90%" xref="S3.E4.m1.5.5.5.1.2.1.cmml">|</mo></mrow><mo id="S3.E4.m1.6.6.6.3" mathsize="90%" xref="S3.E4.m1.6.6.6.3.cmml">+</mo><mrow id="S3.E4.m1.6.6.6.2.1" xref="S3.E4.m1.6.6.6.2.2.cmml"><mo id="S3.E4.m1.6.6.6.2.1.2" maxsize="90%" minsize="90%" xref="S3.E4.m1.6.6.6.2.2.1.cmml">|</mo><msub id="S3.E4.m1.6.6.6.2.1.1" xref="S3.E4.m1.6.6.6.2.1.1.cmml"><mi id="S3.E4.m1.6.6.6.2.1.1.2" mathsize="90%" xref="S3.E4.m1.6.6.6.2.1.1.2.cmml">R</mi><mi id="S3.E4.m1.6.6.6.2.1.1.3" mathsize="90%" xref="S3.E4.m1.6.6.6.2.1.1.3.cmml">t</mi></msub><mo id="S3.E4.m1.6.6.6.2.1.3" maxsize="90%" minsize="90%" xref="S3.E4.m1.6.6.6.2.2.1.cmml">|</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.8b"><apply id="S3.E4.m1.8.8.cmml" xref="S3.E4.m1.8.8"><eq id="S3.E4.m1.8.8.3.cmml" xref="S3.E4.m1.8.8.3"></eq><apply id="S3.E4.m1.8.8.2.cmml" xref="S3.E4.m1.8.8.2"><times id="S3.E4.m1.8.8.2.3.cmml" xref="S3.E4.m1.8.8.2.3"></times><apply id="S3.E4.m1.8.8.2.4.cmml" xref="S3.E4.m1.8.8.2.4"><csymbol cd="ambiguous" id="S3.E4.m1.8.8.2.4.1.cmml" xref="S3.E4.m1.8.8.2.4">subscript</csymbol><ci id="S3.E4.m1.8.8.2.4.2a.cmml" xref="S3.E4.m1.8.8.2.4.2"><mtext id="S3.E4.m1.8.8.2.4.2.cmml" mathsize="90%" xref="S3.E4.m1.8.8.2.4.2">GLIRM-F1</mtext></ci><ci id="S3.E4.m1.8.8.2.4.3.cmml" xref="S3.E4.m1.8.8.2.4.3">𝑓</ci></apply><interval closure="open" id="S3.E4.m1.8.8.2.2.3.cmml" xref="S3.E4.m1.8.8.2.2.2"><apply id="S3.E4.m1.7.7.1.1.1.1.cmml" xref="S3.E4.m1.7.7.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.7.7.1.1.1.1.1.cmml" xref="S3.E4.m1.7.7.1.1.1.1">subscript</csymbol><ci id="S3.E4.m1.7.7.1.1.1.1.2.cmml" xref="S3.E4.m1.7.7.1.1.1.1.2">𝑅</ci><ci id="S3.E4.m1.7.7.1.1.1.1.3.cmml" xref="S3.E4.m1.7.7.1.1.1.1.3">𝑝</ci></apply><apply id="S3.E4.m1.8.8.2.2.2.2.cmml" xref="S3.E4.m1.8.8.2.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.8.8.2.2.2.2.1.cmml" xref="S3.E4.m1.8.8.2.2.2.2">subscript</csymbol><ci id="S3.E4.m1.8.8.2.2.2.2.2.cmml" xref="S3.E4.m1.8.8.2.2.2.2.2">𝑅</ci><ci id="S3.E4.m1.8.8.2.2.2.2.3.cmml" xref="S3.E4.m1.8.8.2.2.2.2.3">𝑡</ci></apply></interval></apply><apply id="S3.E4.m1.6.6.cmml" xref="S3.E4.m1.6.6"><divide id="S3.E4.m1.6.6.7.cmml" xref="S3.E4.m1.6.6"></divide><apply id="S3.E4.m1.4.4.4.cmml" xref="S3.E4.m1.4.4.4"><times id="S3.E4.m1.4.4.4.5.cmml" xref="S3.E4.m1.4.4.4.5"></times><cn id="S3.E4.m1.4.4.4.6.cmml" type="integer" xref="S3.E4.m1.4.4.4.6">2</cn><apply id="S3.E4.m1.4.4.4.4.cmml" xref="S3.E4.m1.4.4.4.4"><apply id="S3.E4.m1.4.4.4.4.3.cmml" xref="S3.E4.m1.4.4.4.4.3"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.4.4.3.1.cmml" xref="S3.E4.m1.4.4.4.4.3">subscript</csymbol><sum id="S3.E4.m1.4.4.4.4.3.2.cmml" xref="S3.E4.m1.4.4.4.4.3.2"></sum><ci id="S3.E4.m1.4.4.4.4.3.3.cmml" xref="S3.E4.m1.4.4.4.4.3.3">𝑖</ci></apply><apply id="S3.E4.m1.4.4.4.4.2.cmml" xref="S3.E4.m1.4.4.4.4.2"><times id="S3.E4.m1.4.4.4.4.2.3.cmml" xref="S3.E4.m1.4.4.4.4.2.3"></times><apply id="S3.E4.m1.4.4.4.4.2.4.cmml" xref="S3.E4.m1.4.4.4.4.2.4"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.4.4.2.4.1.cmml" xref="S3.E4.m1.4.4.4.4.2.4">subscript</csymbol><ci id="S3.E4.m1.4.4.4.4.2.4.2.cmml" xref="S3.E4.m1.4.4.4.4.2.4.2">𝑔</ci><ci id="S3.E4.m1.4.4.4.4.2.4.3.cmml" xref="S3.E4.m1.4.4.4.4.2.4.3">𝑓</ci></apply><interval closure="open" id="S3.E4.m1.4.4.4.4.2.2.3.cmml" xref="S3.E4.m1.4.4.4.4.2.2.2"><apply id="S3.E4.m1.3.3.3.3.1.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1"><times id="S3.E4.m1.3.3.3.3.1.1.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1"></times><apply id="S3.E4.m1.3.3.3.3.1.1.1.1.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.1.1.2.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2">subscript</csymbol><apply id="S3.E4.m1.3.3.3.3.1.1.1.1.2.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.2"><ci id="S3.E4.m1.3.3.3.3.1.1.1.1.2.2.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.2.1">~</ci><ci id="S3.E4.m1.3.3.3.3.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.2.2">𝑅</ci></apply><ci id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3">𝑝</ci></apply><apply id="S3.E4.m1.3.3.3.3.1.1.1.1.3.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.2"><csymbol cd="latexml" id="S3.E4.m1.3.3.3.3.1.1.1.1.3.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1">𝑖</ci></apply></apply><apply id="S3.E4.m1.4.4.4.4.2.2.2.2.cmml" xref="S3.E4.m1.4.4.4.4.2.2.2.2"><times id="S3.E4.m1.4.4.4.4.2.2.2.2.1.cmml" xref="S3.E4.m1.4.4.4.4.2.2.2.2.1"></times><apply id="S3.E4.m1.4.4.4.4.2.2.2.2.2.cmml" xref="S3.E4.m1.4.4.4.4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.4.4.2.2.2.2.2.1.cmml" xref="S3.E4.m1.4.4.4.4.2.2.2.2.2">subscript</csymbol><apply id="S3.E4.m1.4.4.4.4.2.2.2.2.2.2.cmml" xref="S3.E4.m1.4.4.4.4.2.2.2.2.2.2"><ci id="S3.E4.m1.4.4.4.4.2.2.2.2.2.2.1.cmml" xref="S3.E4.m1.4.4.4.4.2.2.2.2.2.2.1">~</ci><ci id="S3.E4.m1.4.4.4.4.2.2.2.2.2.2.2.cmml" xref="S3.E4.m1.4.4.4.4.2.2.2.2.2.2.2">𝑅</ci></apply><ci id="S3.E4.m1.4.4.4.4.2.2.2.2.2.3.cmml" xref="S3.E4.m1.4.4.4.4.2.2.2.2.2.3">𝑡</ci></apply><apply id="S3.E4.m1.4.4.4.4.2.2.2.2.3.1.cmml" xref="S3.E4.m1.4.4.4.4.2.2.2.2.3.2"><csymbol cd="latexml" id="S3.E4.m1.4.4.4.4.2.2.2.2.3.1.1.cmml" xref="S3.E4.m1.4.4.4.4.2.2.2.2.3.2.1">delimited-[]</csymbol><ci id="S3.E4.m1.2.2.2.2.cmml" xref="S3.E4.m1.2.2.2.2">𝑖</ci></apply></apply></interval></apply></apply></apply><apply id="S3.E4.m1.6.6.6.cmml" xref="S3.E4.m1.6.6.6"><plus id="S3.E4.m1.6.6.6.3.cmml" xref="S3.E4.m1.6.6.6.3"></plus><apply id="S3.E4.m1.5.5.5.1.2.cmml" xref="S3.E4.m1.5.5.5.1.1"><abs id="S3.E4.m1.5.5.5.1.2.1.cmml" xref="S3.E4.m1.5.5.5.1.1.2"></abs><apply id="S3.E4.m1.5.5.5.1.1.1.cmml" xref="S3.E4.m1.5.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.5.1.1.1.1.cmml" xref="S3.E4.m1.5.5.5.1.1.1">subscript</csymbol><ci id="S3.E4.m1.5.5.5.1.1.1.2.cmml" xref="S3.E4.m1.5.5.5.1.1.1.2">𝑅</ci><ci id="S3.E4.m1.5.5.5.1.1.1.3.cmml" xref="S3.E4.m1.5.5.5.1.1.1.3">𝑝</ci></apply></apply><apply id="S3.E4.m1.6.6.6.2.2.cmml" xref="S3.E4.m1.6.6.6.2.1"><abs id="S3.E4.m1.6.6.6.2.2.1.cmml" xref="S3.E4.m1.6.6.6.2.1.2"></abs><apply id="S3.E4.m1.6.6.6.2.1.1.cmml" xref="S3.E4.m1.6.6.6.2.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.6.6.6.2.1.1.1.cmml" xref="S3.E4.m1.6.6.6.2.1.1">subscript</csymbol><ci id="S3.E4.m1.6.6.6.2.1.1.2.cmml" xref="S3.E4.m1.6.6.6.2.1.1.2">𝑅</ci><ci id="S3.E4.m1.6.6.6.2.1.1.3.cmml" xref="S3.E4.m1.6.6.6.2.1.1.3">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.8c">\text{GLIRM-F1}_{f}(R_{p},R_{t})=\dfrac{2\sum_{i}g_{f}(\tilde{R}_{p}[i],\tilde%
{R}_{t}[i])}{|R_{p}|+|R_{t}|}\vspace{-5pt}</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.8d">GLIRM-F1 start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_R start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) = divide start_ARG 2 ∑ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT italic_g start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT [ italic_i ] , over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT [ italic_i ] ) end_ARG start_ARG | italic_R start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | + | italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS4.p1.6">In practice or if humans are reviewing the output of the system, recall is often more important than the precision. This is because it takes more time to look for and box-in missing cells than to verify the correctness of the extracted cells. Thus, we can define GLIRM as:
<span class="ltx_text" id="S3.SS4.p1.6.1" style="font-size:90%;"></span></p>
<table class="ltx_equation ltx_eqn_table" id="S3.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="{{\text{GLIRM-F1}_{\beta}}_{f}}(R_{p},R_{t})=\dfrac{(1+\beta^{2})\sum_{i}g_{f}%
(\tilde{R}_{p}[i],\tilde{R}_{t}[i])}{\beta^{2}|R_{p}|+|R_{t}|}\vspace{-5pt}" class="ltx_Math" display="block" id="S3.E5.m1.9"><semantics id="S3.E5.m1.9a"><mrow id="S3.E5.m1.9.9" xref="S3.E5.m1.9.9.cmml"><mrow id="S3.E5.m1.9.9.2" xref="S3.E5.m1.9.9.2.cmml"><mmultiscripts id="S3.E5.m1.9.9.2.4" xref="S3.E5.m1.9.9.2.4.cmml"><mtext id="S3.E5.m1.9.9.2.4.2.2" mathsize="90%" xref="S3.E5.m1.9.9.2.4.2.2a.cmml">GLIRM-F1</mtext><mi id="S3.E5.m1.9.9.2.4.2.3" mathsize="90%" xref="S3.E5.m1.9.9.2.4.2.3.cmml">β</mi><mrow id="S3.E5.m1.9.9.2.4a" xref="S3.E5.m1.9.9.2.4.cmml"></mrow><mi id="S3.E5.m1.9.9.2.4.3" mathsize="90%" xref="S3.E5.m1.9.9.2.4.3.cmml">f</mi><mrow id="S3.E5.m1.9.9.2.4b" xref="S3.E5.m1.9.9.2.4.cmml"></mrow></mmultiscripts><mo id="S3.E5.m1.9.9.2.3" xref="S3.E5.m1.9.9.2.3.cmml">⁢</mo><mrow id="S3.E5.m1.9.9.2.2.2" xref="S3.E5.m1.9.9.2.2.3.cmml"><mo id="S3.E5.m1.9.9.2.2.2.3" maxsize="90%" minsize="90%" xref="S3.E5.m1.9.9.2.2.3.cmml">(</mo><msub id="S3.E5.m1.8.8.1.1.1.1" xref="S3.E5.m1.8.8.1.1.1.1.cmml"><mi id="S3.E5.m1.8.8.1.1.1.1.2" mathsize="90%" xref="S3.E5.m1.8.8.1.1.1.1.2.cmml">R</mi><mi id="S3.E5.m1.8.8.1.1.1.1.3" mathsize="90%" xref="S3.E5.m1.8.8.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.E5.m1.9.9.2.2.2.4" mathsize="90%" xref="S3.E5.m1.9.9.2.2.3.cmml">,</mo><msub id="S3.E5.m1.9.9.2.2.2.2" xref="S3.E5.m1.9.9.2.2.2.2.cmml"><mi id="S3.E5.m1.9.9.2.2.2.2.2" mathsize="90%" xref="S3.E5.m1.9.9.2.2.2.2.2.cmml">R</mi><mi id="S3.E5.m1.9.9.2.2.2.2.3" mathsize="90%" xref="S3.E5.m1.9.9.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.E5.m1.9.9.2.2.2.5" maxsize="90%" minsize="90%" xref="S3.E5.m1.9.9.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.9.9.3" mathsize="90%" xref="S3.E5.m1.9.9.3.cmml">=</mo><mfrac id="S3.E5.m1.7.7" xref="S3.E5.m1.7.7.cmml"><mrow id="S3.E5.m1.5.5.5" xref="S3.E5.m1.5.5.5.cmml"><mrow id="S3.E5.m1.3.3.3.3.1" xref="S3.E5.m1.3.3.3.3.1.1.cmml"><mo id="S3.E5.m1.3.3.3.3.1.2" maxsize="90%" minsize="90%" xref="S3.E5.m1.3.3.3.3.1.1.cmml">(</mo><mrow id="S3.E5.m1.3.3.3.3.1.1" xref="S3.E5.m1.3.3.3.3.1.1.cmml"><mn id="S3.E5.m1.3.3.3.3.1.1.2" mathsize="90%" xref="S3.E5.m1.3.3.3.3.1.1.2.cmml">1</mn><mo id="S3.E5.m1.3.3.3.3.1.1.1" mathsize="90%" xref="S3.E5.m1.3.3.3.3.1.1.1.cmml">+</mo><msup id="S3.E5.m1.3.3.3.3.1.1.3" xref="S3.E5.m1.3.3.3.3.1.1.3.cmml"><mi id="S3.E5.m1.3.3.3.3.1.1.3.2" mathsize="90%" xref="S3.E5.m1.3.3.3.3.1.1.3.2.cmml">β</mi><mn id="S3.E5.m1.3.3.3.3.1.1.3.3" mathsize="90%" xref="S3.E5.m1.3.3.3.3.1.1.3.3.cmml">2</mn></msup></mrow><mo id="S3.E5.m1.3.3.3.3.1.3" maxsize="90%" minsize="90%" xref="S3.E5.m1.3.3.3.3.1.1.cmml">)</mo></mrow><mo id="S3.E5.m1.5.5.5.6" xref="S3.E5.m1.5.5.5.6.cmml">⁢</mo><mrow id="S3.E5.m1.5.5.5.5" xref="S3.E5.m1.5.5.5.5.cmml"><msub id="S3.E5.m1.5.5.5.5.3" xref="S3.E5.m1.5.5.5.5.3.cmml"><mo id="S3.E5.m1.5.5.5.5.3.2" maxsize="90%" minsize="90%" stretchy="true" xref="S3.E5.m1.5.5.5.5.3.2.cmml">∑</mo><mi id="S3.E5.m1.5.5.5.5.3.3" mathsize="90%" xref="S3.E5.m1.5.5.5.5.3.3.cmml">i</mi></msub><mrow id="S3.E5.m1.5.5.5.5.2" xref="S3.E5.m1.5.5.5.5.2.cmml"><msub id="S3.E5.m1.5.5.5.5.2.4" xref="S3.E5.m1.5.5.5.5.2.4.cmml"><mi id="S3.E5.m1.5.5.5.5.2.4.2" mathsize="90%" xref="S3.E5.m1.5.5.5.5.2.4.2.cmml">g</mi><mi id="S3.E5.m1.5.5.5.5.2.4.3" mathsize="90%" xref="S3.E5.m1.5.5.5.5.2.4.3.cmml">f</mi></msub><mo id="S3.E5.m1.5.5.5.5.2.3" xref="S3.E5.m1.5.5.5.5.2.3.cmml">⁢</mo><mrow id="S3.E5.m1.5.5.5.5.2.2.2" xref="S3.E5.m1.5.5.5.5.2.2.3.cmml"><mo id="S3.E5.m1.5.5.5.5.2.2.2.3" maxsize="90%" minsize="90%" xref="S3.E5.m1.5.5.5.5.2.2.3.cmml">(</mo><mrow id="S3.E5.m1.4.4.4.4.1.1.1.1" xref="S3.E5.m1.4.4.4.4.1.1.1.1.cmml"><msub id="S3.E5.m1.4.4.4.4.1.1.1.1.2" xref="S3.E5.m1.4.4.4.4.1.1.1.1.2.cmml"><mover accent="true" id="S3.E5.m1.4.4.4.4.1.1.1.1.2.2" xref="S3.E5.m1.4.4.4.4.1.1.1.1.2.2.cmml"><mi id="S3.E5.m1.4.4.4.4.1.1.1.1.2.2.2" mathsize="90%" xref="S3.E5.m1.4.4.4.4.1.1.1.1.2.2.2.cmml">R</mi><mo id="S3.E5.m1.4.4.4.4.1.1.1.1.2.2.1" mathsize="90%" xref="S3.E5.m1.4.4.4.4.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.E5.m1.4.4.4.4.1.1.1.1.2.3" mathsize="90%" xref="S3.E5.m1.4.4.4.4.1.1.1.1.2.3.cmml">p</mi></msub><mo id="S3.E5.m1.4.4.4.4.1.1.1.1.1" xref="S3.E5.m1.4.4.4.4.1.1.1.1.1.cmml">⁢</mo><mrow id="S3.E5.m1.4.4.4.4.1.1.1.1.3.2" xref="S3.E5.m1.4.4.4.4.1.1.1.1.3.1.cmml"><mo id="S3.E5.m1.4.4.4.4.1.1.1.1.3.2.1" maxsize="90%" minsize="90%" xref="S3.E5.m1.4.4.4.4.1.1.1.1.3.1.1.cmml">[</mo><mi id="S3.E5.m1.1.1.1.1" mathsize="90%" xref="S3.E5.m1.1.1.1.1.cmml">i</mi><mo id="S3.E5.m1.4.4.4.4.1.1.1.1.3.2.2" maxsize="90%" minsize="90%" xref="S3.E5.m1.4.4.4.4.1.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S3.E5.m1.5.5.5.5.2.2.2.4" mathsize="90%" xref="S3.E5.m1.5.5.5.5.2.2.3.cmml">,</mo><mrow id="S3.E5.m1.5.5.5.5.2.2.2.2" xref="S3.E5.m1.5.5.5.5.2.2.2.2.cmml"><msub id="S3.E5.m1.5.5.5.5.2.2.2.2.2" xref="S3.E5.m1.5.5.5.5.2.2.2.2.2.cmml"><mover accent="true" id="S3.E5.m1.5.5.5.5.2.2.2.2.2.2" xref="S3.E5.m1.5.5.5.5.2.2.2.2.2.2.cmml"><mi id="S3.E5.m1.5.5.5.5.2.2.2.2.2.2.2" mathsize="90%" xref="S3.E5.m1.5.5.5.5.2.2.2.2.2.2.2.cmml">R</mi><mo id="S3.E5.m1.5.5.5.5.2.2.2.2.2.2.1" mathsize="90%" xref="S3.E5.m1.5.5.5.5.2.2.2.2.2.2.1.cmml">~</mo></mover><mi id="S3.E5.m1.5.5.5.5.2.2.2.2.2.3" mathsize="90%" xref="S3.E5.m1.5.5.5.5.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.E5.m1.5.5.5.5.2.2.2.2.1" xref="S3.E5.m1.5.5.5.5.2.2.2.2.1.cmml">⁢</mo><mrow id="S3.E5.m1.5.5.5.5.2.2.2.2.3.2" xref="S3.E5.m1.5.5.5.5.2.2.2.2.3.1.cmml"><mo id="S3.E5.m1.5.5.5.5.2.2.2.2.3.2.1" maxsize="90%" minsize="90%" xref="S3.E5.m1.5.5.5.5.2.2.2.2.3.1.1.cmml">[</mo><mi id="S3.E5.m1.2.2.2.2" mathsize="90%" xref="S3.E5.m1.2.2.2.2.cmml">i</mi><mo id="S3.E5.m1.5.5.5.5.2.2.2.2.3.2.2" maxsize="90%" minsize="90%" xref="S3.E5.m1.5.5.5.5.2.2.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S3.E5.m1.5.5.5.5.2.2.2.5" maxsize="90%" minsize="90%" xref="S3.E5.m1.5.5.5.5.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><mrow id="S3.E5.m1.7.7.7" xref="S3.E5.m1.7.7.7.cmml"><mrow id="S3.E5.m1.6.6.6.1" xref="S3.E5.m1.6.6.6.1.cmml"><msup id="S3.E5.m1.6.6.6.1.3" xref="S3.E5.m1.6.6.6.1.3.cmml"><mi id="S3.E5.m1.6.6.6.1.3.2" mathsize="90%" xref="S3.E5.m1.6.6.6.1.3.2.cmml">β</mi><mn id="S3.E5.m1.6.6.6.1.3.3" mathsize="90%" xref="S3.E5.m1.6.6.6.1.3.3.cmml">2</mn></msup><mo id="S3.E5.m1.6.6.6.1.2" xref="S3.E5.m1.6.6.6.1.2.cmml">⁢</mo><mrow id="S3.E5.m1.6.6.6.1.1.1" xref="S3.E5.m1.6.6.6.1.1.2.cmml"><mo id="S3.E5.m1.6.6.6.1.1.1.2" maxsize="90%" minsize="90%" xref="S3.E5.m1.6.6.6.1.1.2.1.cmml">|</mo><msub id="S3.E5.m1.6.6.6.1.1.1.1" xref="S3.E5.m1.6.6.6.1.1.1.1.cmml"><mi id="S3.E5.m1.6.6.6.1.1.1.1.2" mathsize="90%" xref="S3.E5.m1.6.6.6.1.1.1.1.2.cmml">R</mi><mi id="S3.E5.m1.6.6.6.1.1.1.1.3" mathsize="90%" xref="S3.E5.m1.6.6.6.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.E5.m1.6.6.6.1.1.1.3" maxsize="90%" minsize="90%" xref="S3.E5.m1.6.6.6.1.1.2.1.cmml">|</mo></mrow></mrow><mo id="S3.E5.m1.7.7.7.3" mathsize="90%" xref="S3.E5.m1.7.7.7.3.cmml">+</mo><mrow id="S3.E5.m1.7.7.7.2.1" xref="S3.E5.m1.7.7.7.2.2.cmml"><mo id="S3.E5.m1.7.7.7.2.1.2" maxsize="90%" minsize="90%" xref="S3.E5.m1.7.7.7.2.2.1.cmml">|</mo><msub id="S3.E5.m1.7.7.7.2.1.1" xref="S3.E5.m1.7.7.7.2.1.1.cmml"><mi id="S3.E5.m1.7.7.7.2.1.1.2" mathsize="90%" xref="S3.E5.m1.7.7.7.2.1.1.2.cmml">R</mi><mi id="S3.E5.m1.7.7.7.2.1.1.3" mathsize="90%" xref="S3.E5.m1.7.7.7.2.1.1.3.cmml">t</mi></msub><mo id="S3.E5.m1.7.7.7.2.1.3" maxsize="90%" minsize="90%" xref="S3.E5.m1.7.7.7.2.2.1.cmml">|</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.9b"><apply id="S3.E5.m1.9.9.cmml" xref="S3.E5.m1.9.9"><eq id="S3.E5.m1.9.9.3.cmml" xref="S3.E5.m1.9.9.3"></eq><apply id="S3.E5.m1.9.9.2.cmml" xref="S3.E5.m1.9.9.2"><times id="S3.E5.m1.9.9.2.3.cmml" xref="S3.E5.m1.9.9.2.3"></times><apply id="S3.E5.m1.9.9.2.4.cmml" xref="S3.E5.m1.9.9.2.4"><csymbol cd="ambiguous" id="S3.E5.m1.9.9.2.4.1.cmml" xref="S3.E5.m1.9.9.2.4">subscript</csymbol><apply id="S3.E5.m1.9.9.2.4.2.cmml" xref="S3.E5.m1.9.9.2.4"><csymbol cd="ambiguous" id="S3.E5.m1.9.9.2.4.2.1.cmml" xref="S3.E5.m1.9.9.2.4">subscript</csymbol><ci id="S3.E5.m1.9.9.2.4.2.2a.cmml" xref="S3.E5.m1.9.9.2.4.2.2"><mtext id="S3.E5.m1.9.9.2.4.2.2.cmml" mathsize="90%" xref="S3.E5.m1.9.9.2.4.2.2">GLIRM-F1</mtext></ci><ci id="S3.E5.m1.9.9.2.4.2.3.cmml" xref="S3.E5.m1.9.9.2.4.2.3">𝛽</ci></apply><ci id="S3.E5.m1.9.9.2.4.3.cmml" xref="S3.E5.m1.9.9.2.4.3">𝑓</ci></apply><interval closure="open" id="S3.E5.m1.9.9.2.2.3.cmml" xref="S3.E5.m1.9.9.2.2.2"><apply id="S3.E5.m1.8.8.1.1.1.1.cmml" xref="S3.E5.m1.8.8.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.8.8.1.1.1.1.1.cmml" xref="S3.E5.m1.8.8.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.8.8.1.1.1.1.2.cmml" xref="S3.E5.m1.8.8.1.1.1.1.2">𝑅</ci><ci id="S3.E5.m1.8.8.1.1.1.1.3.cmml" xref="S3.E5.m1.8.8.1.1.1.1.3">𝑝</ci></apply><apply id="S3.E5.m1.9.9.2.2.2.2.cmml" xref="S3.E5.m1.9.9.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.9.9.2.2.2.2.1.cmml" xref="S3.E5.m1.9.9.2.2.2.2">subscript</csymbol><ci id="S3.E5.m1.9.9.2.2.2.2.2.cmml" xref="S3.E5.m1.9.9.2.2.2.2.2">𝑅</ci><ci id="S3.E5.m1.9.9.2.2.2.2.3.cmml" xref="S3.E5.m1.9.9.2.2.2.2.3">𝑡</ci></apply></interval></apply><apply id="S3.E5.m1.7.7.cmml" xref="S3.E5.m1.7.7"><divide id="S3.E5.m1.7.7.8.cmml" xref="S3.E5.m1.7.7"></divide><apply id="S3.E5.m1.5.5.5.cmml" xref="S3.E5.m1.5.5.5"><times id="S3.E5.m1.5.5.5.6.cmml" xref="S3.E5.m1.5.5.5.6"></times><apply id="S3.E5.m1.3.3.3.3.1.1.cmml" xref="S3.E5.m1.3.3.3.3.1"><plus id="S3.E5.m1.3.3.3.3.1.1.1.cmml" xref="S3.E5.m1.3.3.3.3.1.1.1"></plus><cn id="S3.E5.m1.3.3.3.3.1.1.2.cmml" type="integer" xref="S3.E5.m1.3.3.3.3.1.1.2">1</cn><apply id="S3.E5.m1.3.3.3.3.1.1.3.cmml" xref="S3.E5.m1.3.3.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.3.3.1.1.3.1.cmml" xref="S3.E5.m1.3.3.3.3.1.1.3">superscript</csymbol><ci id="S3.E5.m1.3.3.3.3.1.1.3.2.cmml" xref="S3.E5.m1.3.3.3.3.1.1.3.2">𝛽</ci><cn id="S3.E5.m1.3.3.3.3.1.1.3.3.cmml" type="integer" xref="S3.E5.m1.3.3.3.3.1.1.3.3">2</cn></apply></apply><apply id="S3.E5.m1.5.5.5.5.cmml" xref="S3.E5.m1.5.5.5.5"><apply id="S3.E5.m1.5.5.5.5.3.cmml" xref="S3.E5.m1.5.5.5.5.3"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.5.5.3.1.cmml" xref="S3.E5.m1.5.5.5.5.3">subscript</csymbol><sum id="S3.E5.m1.5.5.5.5.3.2.cmml" xref="S3.E5.m1.5.5.5.5.3.2"></sum><ci id="S3.E5.m1.5.5.5.5.3.3.cmml" xref="S3.E5.m1.5.5.5.5.3.3">𝑖</ci></apply><apply id="S3.E5.m1.5.5.5.5.2.cmml" xref="S3.E5.m1.5.5.5.5.2"><times id="S3.E5.m1.5.5.5.5.2.3.cmml" xref="S3.E5.m1.5.5.5.5.2.3"></times><apply id="S3.E5.m1.5.5.5.5.2.4.cmml" xref="S3.E5.m1.5.5.5.5.2.4"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.5.5.2.4.1.cmml" xref="S3.E5.m1.5.5.5.5.2.4">subscript</csymbol><ci id="S3.E5.m1.5.5.5.5.2.4.2.cmml" xref="S3.E5.m1.5.5.5.5.2.4.2">𝑔</ci><ci id="S3.E5.m1.5.5.5.5.2.4.3.cmml" xref="S3.E5.m1.5.5.5.5.2.4.3">𝑓</ci></apply><interval closure="open" id="S3.E5.m1.5.5.5.5.2.2.3.cmml" xref="S3.E5.m1.5.5.5.5.2.2.2"><apply id="S3.E5.m1.4.4.4.4.1.1.1.1.cmml" xref="S3.E5.m1.4.4.4.4.1.1.1.1"><times id="S3.E5.m1.4.4.4.4.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.4.4.1.1.1.1.1"></times><apply id="S3.E5.m1.4.4.4.4.1.1.1.1.2.cmml" xref="S3.E5.m1.4.4.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.4.1.1.1.1.2.1.cmml" xref="S3.E5.m1.4.4.4.4.1.1.1.1.2">subscript</csymbol><apply id="S3.E5.m1.4.4.4.4.1.1.1.1.2.2.cmml" xref="S3.E5.m1.4.4.4.4.1.1.1.1.2.2"><ci id="S3.E5.m1.4.4.4.4.1.1.1.1.2.2.1.cmml" xref="S3.E5.m1.4.4.4.4.1.1.1.1.2.2.1">~</ci><ci id="S3.E5.m1.4.4.4.4.1.1.1.1.2.2.2.cmml" xref="S3.E5.m1.4.4.4.4.1.1.1.1.2.2.2">𝑅</ci></apply><ci id="S3.E5.m1.4.4.4.4.1.1.1.1.2.3.cmml" xref="S3.E5.m1.4.4.4.4.1.1.1.1.2.3">𝑝</ci></apply><apply id="S3.E5.m1.4.4.4.4.1.1.1.1.3.1.cmml" xref="S3.E5.m1.4.4.4.4.1.1.1.1.3.2"><csymbol cd="latexml" id="S3.E5.m1.4.4.4.4.1.1.1.1.3.1.1.cmml" xref="S3.E5.m1.4.4.4.4.1.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1">𝑖</ci></apply></apply><apply id="S3.E5.m1.5.5.5.5.2.2.2.2.cmml" xref="S3.E5.m1.5.5.5.5.2.2.2.2"><times id="S3.E5.m1.5.5.5.5.2.2.2.2.1.cmml" xref="S3.E5.m1.5.5.5.5.2.2.2.2.1"></times><apply id="S3.E5.m1.5.5.5.5.2.2.2.2.2.cmml" xref="S3.E5.m1.5.5.5.5.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.5.5.5.5.2.2.2.2.2.1.cmml" xref="S3.E5.m1.5.5.5.5.2.2.2.2.2">subscript</csymbol><apply id="S3.E5.m1.5.5.5.5.2.2.2.2.2.2.cmml" xref="S3.E5.m1.5.5.5.5.2.2.2.2.2.2"><ci id="S3.E5.m1.5.5.5.5.2.2.2.2.2.2.1.cmml" xref="S3.E5.m1.5.5.5.5.2.2.2.2.2.2.1">~</ci><ci id="S3.E5.m1.5.5.5.5.2.2.2.2.2.2.2.cmml" xref="S3.E5.m1.5.5.5.5.2.2.2.2.2.2.2">𝑅</ci></apply><ci id="S3.E5.m1.5.5.5.5.2.2.2.2.2.3.cmml" xref="S3.E5.m1.5.5.5.5.2.2.2.2.2.3">𝑡</ci></apply><apply id="S3.E5.m1.5.5.5.5.2.2.2.2.3.1.cmml" xref="S3.E5.m1.5.5.5.5.2.2.2.2.3.2"><csymbol cd="latexml" id="S3.E5.m1.5.5.5.5.2.2.2.2.3.1.1.cmml" xref="S3.E5.m1.5.5.5.5.2.2.2.2.3.2.1">delimited-[]</csymbol><ci id="S3.E5.m1.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2">𝑖</ci></apply></apply></interval></apply></apply></apply><apply id="S3.E5.m1.7.7.7.cmml" xref="S3.E5.m1.7.7.7"><plus id="S3.E5.m1.7.7.7.3.cmml" xref="S3.E5.m1.7.7.7.3"></plus><apply id="S3.E5.m1.6.6.6.1.cmml" xref="S3.E5.m1.6.6.6.1"><times id="S3.E5.m1.6.6.6.1.2.cmml" xref="S3.E5.m1.6.6.6.1.2"></times><apply id="S3.E5.m1.6.6.6.1.3.cmml" xref="S3.E5.m1.6.6.6.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.6.1.3.1.cmml" xref="S3.E5.m1.6.6.6.1.3">superscript</csymbol><ci id="S3.E5.m1.6.6.6.1.3.2.cmml" xref="S3.E5.m1.6.6.6.1.3.2">𝛽</ci><cn id="S3.E5.m1.6.6.6.1.3.3.cmml" type="integer" xref="S3.E5.m1.6.6.6.1.3.3">2</cn></apply><apply id="S3.E5.m1.6.6.6.1.1.2.cmml" xref="S3.E5.m1.6.6.6.1.1.1"><abs id="S3.E5.m1.6.6.6.1.1.2.1.cmml" xref="S3.E5.m1.6.6.6.1.1.1.2"></abs><apply id="S3.E5.m1.6.6.6.1.1.1.1.cmml" xref="S3.E5.m1.6.6.6.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.6.1.1.1.1.1.cmml" xref="S3.E5.m1.6.6.6.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.6.6.6.1.1.1.1.2.cmml" xref="S3.E5.m1.6.6.6.1.1.1.1.2">𝑅</ci><ci id="S3.E5.m1.6.6.6.1.1.1.1.3.cmml" xref="S3.E5.m1.6.6.6.1.1.1.1.3">𝑝</ci></apply></apply></apply><apply id="S3.E5.m1.7.7.7.2.2.cmml" xref="S3.E5.m1.7.7.7.2.1"><abs id="S3.E5.m1.7.7.7.2.2.1.cmml" xref="S3.E5.m1.7.7.7.2.1.2"></abs><apply id="S3.E5.m1.7.7.7.2.1.1.cmml" xref="S3.E5.m1.7.7.7.2.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.7.2.1.1.1.cmml" xref="S3.E5.m1.7.7.7.2.1.1">subscript</csymbol><ci id="S3.E5.m1.7.7.7.2.1.1.2.cmml" xref="S3.E5.m1.7.7.7.2.1.1.2">𝑅</ci><ci id="S3.E5.m1.7.7.7.2.1.1.3.cmml" xref="S3.E5.m1.7.7.7.2.1.1.3">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.9c">{{\text{GLIRM-F1}_{\beta}}_{f}}(R_{p},R_{t})=\dfrac{(1+\beta^{2})\sum_{i}g_{f}%
(\tilde{R}_{p}[i],\tilde{R}_{t}[i])}{\beta^{2}|R_{p}|+|R_{t}|}\vspace{-5pt}</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.9d">GLIRM-F1 start_POSTSUBSCRIPT italic_β end_POSTSUBSCRIPT start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_R start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) = divide start_ARG ( 1 + italic_β start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ) ∑ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT italic_g start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT [ italic_i ] , over~ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT [ italic_i ] ) end_ARG start_ARG italic_β start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT | italic_R start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | + | italic_R start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS4.p1.3">where <math alttext="\beta" class="ltx_Math" display="inline" id="S3.SS4.p1.1.m1.1"><semantics id="S3.SS4.p1.1.m1.1a"><mi id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.1b"><ci id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.1.m1.1d">italic_β</annotation></semantics></math> is a hyperparameter that controls the importance of the recall over the precision. If <math alttext="\beta=1" class="ltx_Math" display="inline" id="S3.SS4.p1.2.m2.1"><semantics id="S3.SS4.p1.2.m2.1a"><mrow id="S3.SS4.p1.2.m2.1.1" xref="S3.SS4.p1.2.m2.1.1.cmml"><mi id="S3.SS4.p1.2.m2.1.1.2" xref="S3.SS4.p1.2.m2.1.1.2.cmml">β</mi><mo id="S3.SS4.p1.2.m2.1.1.1" xref="S3.SS4.p1.2.m2.1.1.1.cmml">=</mo><mn id="S3.SS4.p1.2.m2.1.1.3" xref="S3.SS4.p1.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.1b"><apply id="S3.SS4.p1.2.m2.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1"><eq id="S3.SS4.p1.2.m2.1.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1.1"></eq><ci id="S3.SS4.p1.2.m2.1.1.2.cmml" xref="S3.SS4.p1.2.m2.1.1.2">𝛽</ci><cn id="S3.SS4.p1.2.m2.1.1.3.cmml" type="integer" xref="S3.SS4.p1.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.1c">\beta=1</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.2.m2.1d">italic_β = 1</annotation></semantics></math>, then the metric is the same as <math alttext="\text{GLIRM-F1}_{f}" class="ltx_Math" display="inline" id="S3.SS4.p1.3.m3.1"><semantics id="S3.SS4.p1.3.m3.1a"><msub id="S3.SS4.p1.3.m3.1.1" xref="S3.SS4.p1.3.m3.1.1.cmml"><mtext id="S3.SS4.p1.3.m3.1.1.2" xref="S3.SS4.p1.3.m3.1.1.2a.cmml">GLIRM-F1</mtext><mi id="S3.SS4.p1.3.m3.1.1.3" xref="S3.SS4.p1.3.m3.1.1.3.cmml">f</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.3.m3.1b"><apply id="S3.SS4.p1.3.m3.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.3.m3.1.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS4.p1.3.m3.1.1.2a.cmml" xref="S3.SS4.p1.3.m3.1.1.2"><mtext id="S3.SS4.p1.3.m3.1.1.2.cmml" xref="S3.SS4.p1.3.m3.1.1.2">GLIRM-F1</mtext></ci><ci id="S3.SS4.p1.3.m3.1.1.3.cmml" xref="S3.SS4.p1.3.m3.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.3.m3.1c">\text{GLIRM-F1}_{f}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.3.m3.1d">GLIRM-F1 start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span class="ltx_text ltx_font_smallcaps" id="S4.1.1">Experiments</span>
</h2>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS1.4.1.1">IV-A</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS1.5.2">Dataset</span>
</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">We used the DocILE dataset for benchmarking <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">simsa2023docile</span>]</cite>. This dataset is a large-scale research benchmark for machine learning evaluation of Key Information Extraction (KIE) and Line Item Recognition (LIR) from semi-structured business documents such as invoices.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS2.4.1.1">IV-B</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS2.5.2">Methods</span>
</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">We ablated three components of RASG: Retrieval Augmented Generation, Supervised Finetuning, and Structured Prompting. We did not include Structured Generation in the ablation benchmarks because it is a necessary component for BDIE. Without Structured Generation, we will not be able to guarantee that the output of the model is interpretable by downstream systems. We also ran experiments with two types of models: a commercially-available LLM, GPT-3.5, and an open-source LLM, Hermes 2 Pro - Mistral 7B.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">For Supervised Finetuning, we used OpenAI’s Finetuning API for GPT-3.5 while we used 8Bit QLoRA on Axolotl to finetune Hermes 2 Pro - Mistral 7B on a single 80GB A100 GPU <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">dettmers2023qlora</span>]</cite> <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">axolotl</span>]</cite>. For the retrieval mechanism, we measured the ”similarity” between pages using the manhattan distance of their wavelet hashes <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">sing2017wavelethash</span>]</cite>. For Structured Generation, we used OpenAI’s Tool Use API for GPT-3.5 while we used Outlines for Hermes 2 Pro - Mistral 7B <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">willard2023outlines</span>]</cite>. Finally, we used LATIN-prompt for Structured Prompting <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">wang2023latin</span>]</cite>.</p>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1">We finetuned the models for only one epoch and only used one-shot retrieval instead of many-shot retrieval primarily due to token window limits. Business documents are often dense, and a context window containing multiple documents is too large for current language models.</p>
</div>
<div class="ltx_para" id="S4.SS2.p4">
<p class="ltx_p" id="S4.SS2.p4.1">Overall, we ran a total of <math alttext="2^{4}=16" class="ltx_Math" display="inline" id="S4.SS2.p4.1.m1.1"><semantics id="S4.SS2.p4.1.m1.1a"><mrow id="S4.SS2.p4.1.m1.1.1" xref="S4.SS2.p4.1.m1.1.1.cmml"><msup id="S4.SS2.p4.1.m1.1.1.2" xref="S4.SS2.p4.1.m1.1.1.2.cmml"><mn id="S4.SS2.p4.1.m1.1.1.2.2" xref="S4.SS2.p4.1.m1.1.1.2.2.cmml">2</mn><mn id="S4.SS2.p4.1.m1.1.1.2.3" xref="S4.SS2.p4.1.m1.1.1.2.3.cmml">4</mn></msup><mo id="S4.SS2.p4.1.m1.1.1.1" xref="S4.SS2.p4.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS2.p4.1.m1.1.1.3" xref="S4.SS2.p4.1.m1.1.1.3.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.1.m1.1b"><apply id="S4.SS2.p4.1.m1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1"><eq id="S4.SS2.p4.1.m1.1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1.1"></eq><apply id="S4.SS2.p4.1.m1.1.1.2.cmml" xref="S4.SS2.p4.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.p4.1.m1.1.1.2.1.cmml" xref="S4.SS2.p4.1.m1.1.1.2">superscript</csymbol><cn id="S4.SS2.p4.1.m1.1.1.2.2.cmml" type="integer" xref="S4.SS2.p4.1.m1.1.1.2.2">2</cn><cn id="S4.SS2.p4.1.m1.1.1.2.3.cmml" type="integer" xref="S4.SS2.p4.1.m1.1.1.2.3">4</cn></apply><cn id="S4.SS2.p4.1.m1.1.1.3.cmml" type="integer" xref="S4.SS2.p4.1.m1.1.1.3">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.1.m1.1c">2^{4}=16</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.1.m1.1d">2 start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT = 16</annotation></semantics></math> experiments; one for each combination of the components and base model. We then fitted a linear model to determine the contribution of each component to the overall performance of the model.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS3.4.1.1">IV-C</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS3.5.2">Results</span>
</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">Table I compares the performance of LLMs with RASG on the KIE and LIR tasks, respectively, against strong, multimodal LayoutLMv3 and Roberta + DETR baselines <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">vimsa2023docileExtended</span>]</cite> <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">huang2022layoutlmv3</span>]</cite> <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">liu2019roberta</span>]</cite> <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">carion2020detr</span>]</cite>. Table II shows the individual contribution of each component of RASG by base model.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">The minimal resources needed to beat the baselines on the KIE task are either GPT-3.5 + 1-Shot Retrieval or Hermes 2 Pro + full RASG if one is required to run inference using open source components. For the LIR task, GPT-3.5 + 1-Shot Retrieval + Structured Prompting is sufficient to beat the baselines.</p>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.1">Finally, we measured the median table-level Information Coverage Score (ICS) for the bounding box backcalculation heuristic <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">xiao2023informationCoverageScore</span>]</cite>. The best baseline, Roberta + finetuned DETR, achieves 92.93% ICS while GPT-3.5 + RASG and Hermes 2 Pro + RASG achieves 87.79% and 85.02% ICS, respectively.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table">TABLE I: </span>Model performance benchmarks on KIE &amp; LIR tasks on the DocILE dataset</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S4.T1.21">{booktabs}</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.T1.18"><span class="ltx_text" id="S4.T1.18.18" style="font-size:80%;">lrr
<span class="ltx_ERROR undefined" id="S4.T1.18.18.1">\toprule</span><span class="ltx_text ltx_font_bold" id="S4.T1.18.18.2">Model</span> &amp; <span class="ltx_text ltx_font_bold" id="S4.T1.18.18.3">KIE F1 Score</span> <span class="ltx_text ltx_font_bold" id="S4.T1.18.18.4">LIR GLIRM-F1
<br class="ltx_break"/><span class="ltx_ERROR undefined" id="S4.T1.18.18.4.1">\midrule</span></span>LayoutLMv3  <math alttext="63.95\%" class="ltx_Math" display="inline" id="S4.T1.1.1.m1.1"><semantics id="S4.T1.1.1.m1.1a"><mrow id="S4.T1.1.1.m1.1.1" xref="S4.T1.1.1.m1.1.1.cmml"><mn id="S4.T1.1.1.m1.1.1.2" xref="S4.T1.1.1.m1.1.1.2.cmml">63.95</mn><mo id="S4.T1.1.1.m1.1.1.1" xref="S4.T1.1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.m1.1b"><apply id="S4.T1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.m1.1.1"><csymbol cd="latexml" id="S4.T1.1.1.m1.1.1.1.cmml" xref="S4.T1.1.1.m1.1.1.1">percent</csymbol><cn id="S4.T1.1.1.m1.1.1.2.cmml" type="float" xref="S4.T1.1.1.m1.1.1.2">63.95</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.m1.1c">63.95\%</annotation><annotation encoding="application/x-llamapun" id="S4.T1.1.1.m1.1d">63.95 %</annotation></semantics></math> <math alttext="70.12\%" class="ltx_Math" display="inline" id="S4.T1.2.2.m2.1"><semantics id="S4.T1.2.2.m2.1a"><mrow id="S4.T1.2.2.m2.1.1" xref="S4.T1.2.2.m2.1.1.cmml"><mn id="S4.T1.2.2.m2.1.1.2" xref="S4.T1.2.2.m2.1.1.2.cmml">70.12</mn><mo id="S4.T1.2.2.m2.1.1.1" xref="S4.T1.2.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.2.2.m2.1b"><apply id="S4.T1.2.2.m2.1.1.cmml" xref="S4.T1.2.2.m2.1.1"><csymbol cd="latexml" id="S4.T1.2.2.m2.1.1.1.cmml" xref="S4.T1.2.2.m2.1.1.1">percent</csymbol><cn id="S4.T1.2.2.m2.1.1.2.cmml" type="float" xref="S4.T1.2.2.m2.1.1.2">70.12</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.2.m2.1c">70.12\%</annotation><annotation encoding="application/x-llamapun" id="S4.T1.2.2.m2.1d">70.12 %</annotation></semantics></math>
<br class="ltx_break"/>LayoutLMv3 + synthetic data<sup class="ltx_sup" id="S4.T1.18.18.5">1</sup> <math alttext="65.28\%" class="ltx_Math" display="inline" id="S4.T1.3.3.m3.1"><semantics id="S4.T1.3.3.m3.1a"><mrow id="S4.T1.3.3.m3.1.1" xref="S4.T1.3.3.m3.1.1.cmml"><mn id="S4.T1.3.3.m3.1.1.2" xref="S4.T1.3.3.m3.1.1.2.cmml">65.28</mn><mo id="S4.T1.3.3.m3.1.1.1" xref="S4.T1.3.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.3.3.m3.1b"><apply id="S4.T1.3.3.m3.1.1.cmml" xref="S4.T1.3.3.m3.1.1"><csymbol cd="latexml" id="S4.T1.3.3.m3.1.1.1.cmml" xref="S4.T1.3.3.m3.1.1.1">percent</csymbol><cn id="S4.T1.3.3.m3.1.1.2.cmml" type="float" xref="S4.T1.3.3.m3.1.1.2">65.28</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.3.m3.1c">65.28\%</annotation><annotation encoding="application/x-llamapun" id="S4.T1.3.3.m3.1d">65.28 %</annotation></semantics></math> <math alttext="71.02\%" class="ltx_Math" display="inline" id="S4.T1.4.4.m4.1"><semantics id="S4.T1.4.4.m4.1a"><mrow id="S4.T1.4.4.m4.1.1" xref="S4.T1.4.4.m4.1.1.cmml"><mn id="S4.T1.4.4.m4.1.1.2" xref="S4.T1.4.4.m4.1.1.2.cmml">71.02</mn><mo id="S4.T1.4.4.m4.1.1.1" xref="S4.T1.4.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.4.4.m4.1b"><apply id="S4.T1.4.4.m4.1.1.cmml" xref="S4.T1.4.4.m4.1.1"><csymbol cd="latexml" id="S4.T1.4.4.m4.1.1.1.cmml" xref="S4.T1.4.4.m4.1.1.1">percent</csymbol><cn id="S4.T1.4.4.m4.1.1.2.cmml" type="float" xref="S4.T1.4.4.m4.1.1.2">71.02</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.4.m4.1c">71.02\%</annotation><annotation encoding="application/x-llamapun" id="S4.T1.4.4.m4.1d">71.02 %</annotation></semantics></math>
<br class="ltx_break"/><span class="ltx_ERROR undefined" id="S4.T1.18.18.6">\midrule</span>[dotted]
Roberta  <math alttext="65.88\%" class="ltx_Math" display="inline" id="S4.T1.5.5.m5.1"><semantics id="S4.T1.5.5.m5.1a"><mrow id="S4.T1.5.5.m5.1.1" xref="S4.T1.5.5.m5.1.1.cmml"><mn id="S4.T1.5.5.m5.1.1.2" xref="S4.T1.5.5.m5.1.1.2.cmml">65.88</mn><mo id="S4.T1.5.5.m5.1.1.1" xref="S4.T1.5.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.5.5.m5.1b"><apply id="S4.T1.5.5.m5.1.1.cmml" xref="S4.T1.5.5.m5.1.1"><csymbol cd="latexml" id="S4.T1.5.5.m5.1.1.1.cmml" xref="S4.T1.5.5.m5.1.1.1">percent</csymbol><cn id="S4.T1.5.5.m5.1.1.2.cmml" type="float" xref="S4.T1.5.5.m5.1.1.2">65.88</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.5.5.m5.1c">65.88\%</annotation><annotation encoding="application/x-llamapun" id="S4.T1.5.5.m5.1d">65.88 %</annotation></semantics></math> <math alttext="70.44\%" class="ltx_Math" display="inline" id="S4.T1.6.6.m6.1"><semantics id="S4.T1.6.6.m6.1a"><mrow id="S4.T1.6.6.m6.1.1" xref="S4.T1.6.6.m6.1.1.cmml"><mn id="S4.T1.6.6.m6.1.1.2" xref="S4.T1.6.6.m6.1.1.2.cmml">70.44</mn><mo id="S4.T1.6.6.m6.1.1.1" xref="S4.T1.6.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.6.6.m6.1b"><apply id="S4.T1.6.6.m6.1.1.cmml" xref="S4.T1.6.6.m6.1.1"><csymbol cd="latexml" id="S4.T1.6.6.m6.1.1.1.cmml" xref="S4.T1.6.6.m6.1.1.1">percent</csymbol><cn id="S4.T1.6.6.m6.1.1.2.cmml" type="float" xref="S4.T1.6.6.m6.1.1.2">70.44</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.6.6.m6.1c">70.44\%</annotation><annotation encoding="application/x-llamapun" id="S4.T1.6.6.m6.1d">70.44 %</annotation></semantics></math>
<br class="ltx_break"/>Roberta + synthetic data<sup class="ltx_sup" id="S4.T1.18.18.7">1</sup> <math alttext="\bm{65.97\%}" class="ltx_Math" display="inline" id="S4.T1.7.7.m7.1"><semantics id="S4.T1.7.7.m7.1a"><mrow id="S4.T1.7.7.m7.1.1" xref="S4.T1.7.7.m7.1.1.cmml"><mn class="ltx_mathvariant_bold" id="S4.T1.7.7.m7.1.1.2" mathvariant="bold" xref="S4.T1.7.7.m7.1.1.2.cmml">65.97</mn><mo class="ltx_mathvariant_bold" id="S4.T1.7.7.m7.1.1.1" mathvariant="bold" xref="S4.T1.7.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.7.7.m7.1b"><apply id="S4.T1.7.7.m7.1.1.cmml" xref="S4.T1.7.7.m7.1.1"><csymbol cd="latexml" id="S4.T1.7.7.m7.1.1.1.cmml" xref="S4.T1.7.7.m7.1.1.1">percent</csymbol><cn id="S4.T1.7.7.m7.1.1.2.cmml" type="float" xref="S4.T1.7.7.m7.1.1.2">65.97</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.7.7.m7.1c">\bm{65.97\%}</annotation><annotation encoding="application/x-llamapun" id="S4.T1.7.7.m7.1d">bold_65.97 bold_%</annotation></semantics></math> <math alttext="71.83\%" class="ltx_Math" display="inline" id="S4.T1.8.8.m8.1"><semantics id="S4.T1.8.8.m8.1a"><mrow id="S4.T1.8.8.m8.1.1" xref="S4.T1.8.8.m8.1.1.cmml"><mn id="S4.T1.8.8.m8.1.1.2" xref="S4.T1.8.8.m8.1.1.2.cmml">71.83</mn><mo id="S4.T1.8.8.m8.1.1.1" xref="S4.T1.8.8.m8.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.8.8.m8.1b"><apply id="S4.T1.8.8.m8.1.1.cmml" xref="S4.T1.8.8.m8.1.1"><csymbol cd="latexml" id="S4.T1.8.8.m8.1.1.1.cmml" xref="S4.T1.8.8.m8.1.1.1">percent</csymbol><cn id="S4.T1.8.8.m8.1.1.2.cmml" type="float" xref="S4.T1.8.8.m8.1.1.2">71.83</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.8.8.m8.1c">71.83\%</annotation><annotation encoding="application/x-llamapun" id="S4.T1.8.8.m8.1d">71.83 %</annotation></semantics></math>
<br class="ltx_break"/>Roberta + DeTr Line Items<sup class="ltx_sup" id="S4.T1.18.18.8">2</sup> <math alttext="\cdots" class="ltx_Math" display="inline" id="S4.T1.9.9.m9.1"><semantics id="S4.T1.9.9.m9.1a"><mi id="S4.T1.9.9.m9.1.1" mathvariant="normal" xref="S4.T1.9.9.m9.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="S4.T1.9.9.m9.1b"><ci id="S4.T1.9.9.m9.1.1.cmml" xref="S4.T1.9.9.m9.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.9.9.m9.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="S4.T1.9.9.m9.1d">⋯</annotation></semantics></math> <math alttext="49.56\%" class="ltx_Math" display="inline" id="S4.T1.10.10.m10.1"><semantics id="S4.T1.10.10.m10.1a"><mrow id="S4.T1.10.10.m10.1.1" xref="S4.T1.10.10.m10.1.1.cmml"><mn id="S4.T1.10.10.m10.1.1.2" xref="S4.T1.10.10.m10.1.1.2.cmml">49.56</mn><mo id="S4.T1.10.10.m10.1.1.1" xref="S4.T1.10.10.m10.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.10.10.m10.1b"><apply id="S4.T1.10.10.m10.1.1.cmml" xref="S4.T1.10.10.m10.1.1"><csymbol cd="latexml" id="S4.T1.10.10.m10.1.1.1.cmml" xref="S4.T1.10.10.m10.1.1.1">percent</csymbol><cn id="S4.T1.10.10.m10.1.1.2.cmml" type="float" xref="S4.T1.10.10.m10.1.1.2">49.56</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.10.10.m10.1c">49.56\%</annotation><annotation encoding="application/x-llamapun" id="S4.T1.10.10.m10.1d">49.56 %</annotation></semantics></math>
<br class="ltx_break"/>Roberta + DeTr Table<sup class="ltx_sup" id="S4.T1.18.18.9">3</sup> <math alttext="\cdots" class="ltx_Math" display="inline" id="S4.T1.11.11.m11.1"><semantics id="S4.T1.11.11.m11.1a"><mi id="S4.T1.11.11.m11.1.1" mathvariant="normal" xref="S4.T1.11.11.m11.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="S4.T1.11.11.m11.1b"><ci id="S4.T1.11.11.m11.1.1.cmml" xref="S4.T1.11.11.m11.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.11.11.m11.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="S4.T1.11.11.m11.1d">⋯</annotation></semantics></math> <math alttext="\bm{72.73\%}" class="ltx_Math" display="inline" id="S4.T1.12.12.m12.1"><semantics id="S4.T1.12.12.m12.1a"><mrow id="S4.T1.12.12.m12.1.1" xref="S4.T1.12.12.m12.1.1.cmml"><mn class="ltx_mathvariant_bold" id="S4.T1.12.12.m12.1.1.2" mathvariant="bold" xref="S4.T1.12.12.m12.1.1.2.cmml">72.73</mn><mo class="ltx_mathvariant_bold" id="S4.T1.12.12.m12.1.1.1" mathvariant="bold" xref="S4.T1.12.12.m12.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.12.12.m12.1b"><apply id="S4.T1.12.12.m12.1.1.cmml" xref="S4.T1.12.12.m12.1.1"><csymbol cd="latexml" id="S4.T1.12.12.m12.1.1.1.cmml" xref="S4.T1.12.12.m12.1.1.1">percent</csymbol><cn id="S4.T1.12.12.m12.1.1.2.cmml" type="float" xref="S4.T1.12.12.m12.1.1.2">72.73</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.12.12.m12.1c">\bm{72.73\%}</annotation><annotation encoding="application/x-llamapun" id="S4.T1.12.12.m12.1d">bold_72.73 bold_%</annotation></semantics></math>
<br class="ltx_break"/><span class="ltx_ERROR undefined" id="S4.T1.18.18.10">\midrule</span>Hermes 2 Pro  16.44%  7.06% 
<br class="ltx_break"/>Hermes 2 Pro + RASG  <math alttext="\bm{73.41\%}" class="ltx_Math" display="inline" id="S4.T1.13.13.m13.1"><semantics id="S4.T1.13.13.m13.1a"><mrow id="S4.T1.13.13.m13.1.1" xref="S4.T1.13.13.m13.1.1.cmml"><mn class="ltx_mathvariant_bold" id="S4.T1.13.13.m13.1.1.2" mathvariant="bold" xref="S4.T1.13.13.m13.1.1.2.cmml">73.41</mn><mo class="ltx_mathvariant_bold" id="S4.T1.13.13.m13.1.1.1" mathvariant="bold" xref="S4.T1.13.13.m13.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.13.13.m13.1b"><apply id="S4.T1.13.13.m13.1.1.cmml" xref="S4.T1.13.13.m13.1.1"><csymbol cd="latexml" id="S4.T1.13.13.m13.1.1.1.cmml" xref="S4.T1.13.13.m13.1.1.1">percent</csymbol><cn id="S4.T1.13.13.m13.1.1.2.cmml" type="float" xref="S4.T1.13.13.m13.1.1.2">73.41</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.13.13.m13.1c">\bm{73.41\%}</annotation><annotation encoding="application/x-llamapun" id="S4.T1.13.13.m13.1d">bold_73.41 bold_%</annotation></semantics></math> <math alttext="69.44\%" class="ltx_Math" display="inline" id="S4.T1.14.14.m14.1"><semantics id="S4.T1.14.14.m14.1a"><mrow id="S4.T1.14.14.m14.1.1" xref="S4.T1.14.14.m14.1.1.cmml"><mn id="S4.T1.14.14.m14.1.1.2" xref="S4.T1.14.14.m14.1.1.2.cmml">69.44</mn><mo id="S4.T1.14.14.m14.1.1.1" xref="S4.T1.14.14.m14.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.14.14.m14.1b"><apply id="S4.T1.14.14.m14.1.1.cmml" xref="S4.T1.14.14.m14.1.1"><csymbol cd="latexml" id="S4.T1.14.14.m14.1.1.1.cmml" xref="S4.T1.14.14.m14.1.1.1">percent</csymbol><cn id="S4.T1.14.14.m14.1.1.2.cmml" type="float" xref="S4.T1.14.14.m14.1.1.2">69.44</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.14.14.m14.1c">69.44\%</annotation><annotation encoding="application/x-llamapun" id="S4.T1.14.14.m14.1d">69.44 %</annotation></semantics></math>
<br class="ltx_break"/><span class="ltx_ERROR undefined" id="S4.T1.18.18.11">\midrule</span>[dotted]
GPT-3.5  <math alttext="26.80\%" class="ltx_Math" display="inline" id="S4.T1.15.15.m15.1"><semantics id="S4.T1.15.15.m15.1a"><mrow id="S4.T1.15.15.m15.1.1" xref="S4.T1.15.15.m15.1.1.cmml"><mn id="S4.T1.15.15.m15.1.1.2" xref="S4.T1.15.15.m15.1.1.2.cmml">26.80</mn><mo id="S4.T1.15.15.m15.1.1.1" xref="S4.T1.15.15.m15.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.15.15.m15.1b"><apply id="S4.T1.15.15.m15.1.1.cmml" xref="S4.T1.15.15.m15.1.1"><csymbol cd="latexml" id="S4.T1.15.15.m15.1.1.1.cmml" xref="S4.T1.15.15.m15.1.1.1">percent</csymbol><cn id="S4.T1.15.15.m15.1.1.2.cmml" type="float" xref="S4.T1.15.15.m15.1.1.2">26.80</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.15.15.m15.1c">26.80\%</annotation><annotation encoding="application/x-llamapun" id="S4.T1.15.15.m15.1d">26.80 %</annotation></semantics></math> <math alttext="23.03\%" class="ltx_Math" display="inline" id="S4.T1.16.16.m16.1"><semantics id="S4.T1.16.16.m16.1a"><mrow id="S4.T1.16.16.m16.1.1" xref="S4.T1.16.16.m16.1.1.cmml"><mn id="S4.T1.16.16.m16.1.1.2" xref="S4.T1.16.16.m16.1.1.2.cmml">23.03</mn><mo id="S4.T1.16.16.m16.1.1.1" xref="S4.T1.16.16.m16.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.16.16.m16.1b"><apply id="S4.T1.16.16.m16.1.1.cmml" xref="S4.T1.16.16.m16.1.1"><csymbol cd="latexml" id="S4.T1.16.16.m16.1.1.1.cmml" xref="S4.T1.16.16.m16.1.1.1">percent</csymbol><cn id="S4.T1.16.16.m16.1.1.2.cmml" type="float" xref="S4.T1.16.16.m16.1.1.2">23.03</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.16.16.m16.1c">23.03\%</annotation><annotation encoding="application/x-llamapun" id="S4.T1.16.16.m16.1d">23.03 %</annotation></semantics></math>
<br class="ltx_break"/>GPT-3.5 + RASG  <math alttext="\bm{75.40\%}" class="ltx_Math" display="inline" id="S4.T1.17.17.m17.1"><semantics id="S4.T1.17.17.m17.1a"><mrow id="S4.T1.17.17.m17.1.1" xref="S4.T1.17.17.m17.1.1.cmml"><mn class="ltx_mathvariant_bold" id="S4.T1.17.17.m17.1.1.2" mathvariant="bold" xref="S4.T1.17.17.m17.1.1.2.cmml">75.40</mn><mo class="ltx_mathvariant_bold" id="S4.T1.17.17.m17.1.1.1" mathvariant="bold" xref="S4.T1.17.17.m17.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.17.17.m17.1b"><apply id="S4.T1.17.17.m17.1.1.cmml" xref="S4.T1.17.17.m17.1.1"><csymbol cd="latexml" id="S4.T1.17.17.m17.1.1.1.cmml" xref="S4.T1.17.17.m17.1.1.1">percent</csymbol><cn id="S4.T1.17.17.m17.1.1.2.cmml" type="float" xref="S4.T1.17.17.m17.1.1.2">75.40</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.17.17.m17.1c">\bm{75.40\%}</annotation><annotation encoding="application/x-llamapun" id="S4.T1.17.17.m17.1d">bold_75.40 bold_%</annotation></semantics></math> <math alttext="\bm{79.81\%}" class="ltx_Math" display="inline" id="S4.T1.18.18.m18.1"><semantics id="S4.T1.18.18.m18.1a"><mrow id="S4.T1.18.18.m18.1.1" xref="S4.T1.18.18.m18.1.1.cmml"><mn class="ltx_mathvariant_bold" id="S4.T1.18.18.m18.1.1.2" mathvariant="bold" xref="S4.T1.18.18.m18.1.1.2.cmml">79.81</mn><mo class="ltx_mathvariant_bold" id="S4.T1.18.18.m18.1.1.1" mathvariant="bold" xref="S4.T1.18.18.m18.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.18.18.m18.1b"><apply id="S4.T1.18.18.m18.1.1.cmml" xref="S4.T1.18.18.m18.1.1"><csymbol cd="latexml" id="S4.T1.18.18.m18.1.1.1.cmml" xref="S4.T1.18.18.m18.1.1.1">percent</csymbol><cn id="S4.T1.18.18.m18.1.1.2.cmml" type="float" xref="S4.T1.18.18.m18.1.1.2">79.81</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.18.18.m18.1c">\bm{79.81\%}</annotation><annotation encoding="application/x-llamapun" id="S4.T1.18.18.m18.1d">bold_79.81 bold_%</annotation></semantics></math>
<br class="ltx_break"/><span class="ltx_ERROR undefined" id="S4.T1.18.18.12">\bottomrule</span></span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<ul class="ltx_itemize ltx_centering ltx_figure_panel" id="S4.I1">
<li class="ltx_item" id="S4.I1.ix1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1</span>
<div class="ltx_para" id="S4.I1.ix1.p1">
<p class="ltx_p" id="S4.I1.ix1.p1.1"><span class="ltx_text" id="S4.I1.ix1.p1.1.1" style="font-size:80%;">Additional pretraining on synthetic data provided by the DocILE dataset.</span></p>
</div>
</li>
<li class="ltx_item" id="S4.I1.ix2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2</span>
<div class="ltx_para" id="S4.I1.ix2.p1">
<p class="ltx_p" id="S4.I1.ix2.p1.1"><span class="ltx_text" id="S4.I1.ix2.p1.1.1" style="font-size:80%;">Detection Transformer (DeTr) finetuned on line items detection.</span></p>
</div>
</li>
<li class="ltx_item" id="S4.I1.ix3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3</span>
<div class="ltx_para" id="S4.I1.ix3.p1">
<p class="ltx_p" id="S4.I1.ix3.p1.1"><span class="ltx_text" id="S4.I1.ix3.p1.1.1" style="font-size:80%;">Detection Transformer (DeTr) finetuned on table detection.</span></p>
</div>
</li>
</ul>
</div>
</div>
</figure>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table">TABLE II: </span>Ablation Benchmarks of RASG components on KIE &amp; LIR tasks on the DocILE dataset</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T2.16">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.16.17.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.16.17.1.1" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_ERROR undefined" id="S4.T2.16.17.1.1.1">\toprule</span><span class="ltx_text ltx_font_bold" id="S4.T2.16.17.1.1.2" style="font-size:80%;">Model</span>
</th>
<td class="ltx_td ltx_align_right" id="S4.T2.16.17.1.2" style="padding-top:-1pt;padding-bottom:-1pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.16.17.1.2.1" style="font-size:80%;">KIE F1 Score</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.16.17.1.3" style="padding-top:-1pt;padding-bottom:-1pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.16.17.1.3.1" style="font-size:80%;">LIR GLIRM-F1</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.2.2.3" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_ERROR undefined" id="S4.T2.2.2.3.1">\midrule</span><span class="ltx_text ltx_font_bold" id="S4.T2.2.2.3.2" style="font-size:80%;">GPT-3.5</span>
</th>
<td class="ltx_td ltx_align_right" id="S4.T2.1.1.1" style="padding-top:-1pt;padding-bottom:-1pt;"><math alttext="34.17\%" class="ltx_Math" display="inline" id="S4.T2.1.1.1.m1.1"><semantics id="S4.T2.1.1.1.m1.1a"><mrow id="S4.T2.1.1.1.m1.1.1" xref="S4.T2.1.1.1.m1.1.1.cmml"><mn id="S4.T2.1.1.1.m1.1.1.2" mathsize="80%" xref="S4.T2.1.1.1.m1.1.1.2.cmml">34.17</mn><mo id="S4.T2.1.1.1.m1.1.1.1" mathsize="80%" xref="S4.T2.1.1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.m1.1b"><apply id="S4.T2.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1"><csymbol cd="latexml" id="S4.T2.1.1.1.m1.1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1.1">percent</csymbol><cn id="S4.T2.1.1.1.m1.1.1.2.cmml" type="float" xref="S4.T2.1.1.1.m1.1.1.2">34.17</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.m1.1c">34.17\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.m1.1d">34.17 %</annotation></semantics></math></td>
<td class="ltx_td ltx_align_right" id="S4.T2.2.2.2" style="padding-top:-1pt;padding-bottom:-1pt;"><math alttext="28.31\%" class="ltx_Math" display="inline" id="S4.T2.2.2.2.m1.1"><semantics id="S4.T2.2.2.2.m1.1a"><mrow id="S4.T2.2.2.2.m1.1.1" xref="S4.T2.2.2.2.m1.1.1.cmml"><mn id="S4.T2.2.2.2.m1.1.1.2" mathsize="80%" xref="S4.T2.2.2.2.m1.1.1.2.cmml">28.31</mn><mo id="S4.T2.2.2.2.m1.1.1.1" mathsize="80%" xref="S4.T2.2.2.2.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.m1.1b"><apply id="S4.T2.2.2.2.m1.1.1.cmml" xref="S4.T2.2.2.2.m1.1.1"><csymbol cd="latexml" id="S4.T2.2.2.2.m1.1.1.1.cmml" xref="S4.T2.2.2.2.m1.1.1.1">percent</csymbol><cn id="S4.T2.2.2.2.m1.1.1.2.cmml" type="float" xref="S4.T2.2.2.2.m1.1.1.2">28.31</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.m1.1c">28.31\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.2.2.m1.1d">28.31 %</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.4.4.3" style="padding-top:-1pt;padding-bottom:-1pt;"><span class="ltx_text" id="S4.T2.4.4.3.1" style="font-size:80%;">+ 1-Shot Retrieval</span></th>
<td class="ltx_td ltx_align_right" id="S4.T2.3.3.1" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_text" id="S4.T2.3.3.1.1" style="font-size:80%;">+ </span><math alttext="22.08\%" class="ltx_Math" display="inline" id="S4.T2.3.3.1.m1.1"><semantics id="S4.T2.3.3.1.m1.1a"><mrow id="S4.T2.3.3.1.m1.1.1" xref="S4.T2.3.3.1.m1.1.1.cmml"><mn id="S4.T2.3.3.1.m1.1.1.2" mathsize="80%" xref="S4.T2.3.3.1.m1.1.1.2.cmml">22.08</mn><mo id="S4.T2.3.3.1.m1.1.1.1" mathsize="80%" xref="S4.T2.3.3.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.1.m1.1b"><apply id="S4.T2.3.3.1.m1.1.1.cmml" xref="S4.T2.3.3.1.m1.1.1"><csymbol cd="latexml" id="S4.T2.3.3.1.m1.1.1.1.cmml" xref="S4.T2.3.3.1.m1.1.1.1">percent</csymbol><cn id="S4.T2.3.3.1.m1.1.1.2.cmml" type="float" xref="S4.T2.3.3.1.m1.1.1.2">22.08</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.1.m1.1c">22.08\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.3.1.m1.1d">22.08 %</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right" id="S4.T2.4.4.2" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_text" id="S4.T2.4.4.2.1" style="font-size:80%;">+ </span><math alttext="20.67\%" class="ltx_Math" display="inline" id="S4.T2.4.4.2.m1.1"><semantics id="S4.T2.4.4.2.m1.1a"><mrow id="S4.T2.4.4.2.m1.1.1" xref="S4.T2.4.4.2.m1.1.1.cmml"><mn id="S4.T2.4.4.2.m1.1.1.2" mathsize="80%" xref="S4.T2.4.4.2.m1.1.1.2.cmml">20.67</mn><mo id="S4.T2.4.4.2.m1.1.1.1" mathsize="80%" xref="S4.T2.4.4.2.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.2.m1.1b"><apply id="S4.T2.4.4.2.m1.1.1.cmml" xref="S4.T2.4.4.2.m1.1.1"><csymbol cd="latexml" id="S4.T2.4.4.2.m1.1.1.1.cmml" xref="S4.T2.4.4.2.m1.1.1.1">percent</csymbol><cn id="S4.T2.4.4.2.m1.1.1.2.cmml" type="float" xref="S4.T2.4.4.2.m1.1.1.2">20.67</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.2.m1.1c">20.67\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.4.2.m1.1d">20.67 %</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.6.6.3" style="padding-top:-1pt;padding-bottom:-1pt;"><span class="ltx_text" id="S4.T2.6.6.3.1" style="font-size:80%;">+ Supervised Finetuning</span></th>
<td class="ltx_td ltx_align_right" id="S4.T2.5.5.1" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_text" id="S4.T2.5.5.1.1" style="font-size:80%;">+ </span><math alttext="22.31\%" class="ltx_Math" display="inline" id="S4.T2.5.5.1.m1.1"><semantics id="S4.T2.5.5.1.m1.1a"><mrow id="S4.T2.5.5.1.m1.1.1" xref="S4.T2.5.5.1.m1.1.1.cmml"><mn id="S4.T2.5.5.1.m1.1.1.2" mathsize="80%" xref="S4.T2.5.5.1.m1.1.1.2.cmml">22.31</mn><mo id="S4.T2.5.5.1.m1.1.1.1" mathsize="80%" xref="S4.T2.5.5.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.1.m1.1b"><apply id="S4.T2.5.5.1.m1.1.1.cmml" xref="S4.T2.5.5.1.m1.1.1"><csymbol cd="latexml" id="S4.T2.5.5.1.m1.1.1.1.cmml" xref="S4.T2.5.5.1.m1.1.1.1">percent</csymbol><cn id="S4.T2.5.5.1.m1.1.1.2.cmml" type="float" xref="S4.T2.5.5.1.m1.1.1.2">22.31</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.1.m1.1c">22.31\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.5.5.1.m1.1d">22.31 %</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right" id="S4.T2.6.6.2" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_text" id="S4.T2.6.6.2.1" style="font-size:80%;">+ </span><math alttext="17.73\%" class="ltx_Math" display="inline" id="S4.T2.6.6.2.m1.1"><semantics id="S4.T2.6.6.2.m1.1a"><mrow id="S4.T2.6.6.2.m1.1.1" xref="S4.T2.6.6.2.m1.1.1.cmml"><mn id="S4.T2.6.6.2.m1.1.1.2" mathsize="80%" xref="S4.T2.6.6.2.m1.1.1.2.cmml">17.73</mn><mo id="S4.T2.6.6.2.m1.1.1.1" mathsize="80%" xref="S4.T2.6.6.2.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.2.m1.1b"><apply id="S4.T2.6.6.2.m1.1.1.cmml" xref="S4.T2.6.6.2.m1.1.1"><csymbol cd="latexml" id="S4.T2.6.6.2.m1.1.1.1.cmml" xref="S4.T2.6.6.2.m1.1.1.1">percent</csymbol><cn id="S4.T2.6.6.2.m1.1.1.2.cmml" type="float" xref="S4.T2.6.6.2.m1.1.1.2">17.73</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.2.m1.1c">17.73\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.6.6.2.m1.1d">17.73 %</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.8.8.3" style="padding-top:-1pt;padding-bottom:-1pt;"><span class="ltx_text" id="S4.T2.8.8.3.1" style="font-size:80%;">+ Structured Prompting</span></th>
<td class="ltx_td ltx_align_right" id="S4.T2.7.7.1" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_text" id="S4.T2.7.7.1.1" style="font-size:80%;">+ </span><math alttext="4.96\%" class="ltx_Math" display="inline" id="S4.T2.7.7.1.m1.1"><semantics id="S4.T2.7.7.1.m1.1a"><mrow id="S4.T2.7.7.1.m1.1.1" xref="S4.T2.7.7.1.m1.1.1.cmml"><mn id="S4.T2.7.7.1.m1.1.1.2" mathsize="80%" xref="S4.T2.7.7.1.m1.1.1.2.cmml">4.96</mn><mo id="S4.T2.7.7.1.m1.1.1.1" mathsize="80%" xref="S4.T2.7.7.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.7.7.1.m1.1b"><apply id="S4.T2.7.7.1.m1.1.1.cmml" xref="S4.T2.7.7.1.m1.1.1"><csymbol cd="latexml" id="S4.T2.7.7.1.m1.1.1.1.cmml" xref="S4.T2.7.7.1.m1.1.1.1">percent</csymbol><cn id="S4.T2.7.7.1.m1.1.1.2.cmml" type="float" xref="S4.T2.7.7.1.m1.1.1.2">4.96</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.7.7.1.m1.1c">4.96\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.7.7.1.m1.1d">4.96 %</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.2" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_text" id="S4.T2.8.8.2.1" style="font-size:80%;">+ </span><math alttext="19.42\%" class="ltx_Math" display="inline" id="S4.T2.8.8.2.m1.1"><semantics id="S4.T2.8.8.2.m1.1a"><mrow id="S4.T2.8.8.2.m1.1.1" xref="S4.T2.8.8.2.m1.1.1.cmml"><mn id="S4.T2.8.8.2.m1.1.1.2" mathsize="80%" xref="S4.T2.8.8.2.m1.1.1.2.cmml">19.42</mn><mo id="S4.T2.8.8.2.m1.1.1.1" mathsize="80%" xref="S4.T2.8.8.2.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.8.8.2.m1.1b"><apply id="S4.T2.8.8.2.m1.1.1.cmml" xref="S4.T2.8.8.2.m1.1.1"><csymbol cd="latexml" id="S4.T2.8.8.2.m1.1.1.1.cmml" xref="S4.T2.8.8.2.m1.1.1.1">percent</csymbol><cn id="S4.T2.8.8.2.m1.1.1.2.cmml" type="float" xref="S4.T2.8.8.2.m1.1.1.2">19.42</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.8.8.2.m1.1c">19.42\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.8.8.2.m1.1d">19.42 %</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.10.10.3" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_ERROR undefined" id="S4.T2.10.10.3.1">\midrule</span><span class="ltx_text ltx_font_bold" id="S4.T2.10.10.3.2" style="font-size:80%;">Hermes 2 Pro - Mistral 7B</span>
</th>
<td class="ltx_td ltx_align_right" id="S4.T2.9.9.1" style="padding-top:-1pt;padding-bottom:-1pt;"><math alttext="13.55\%" class="ltx_Math" display="inline" id="S4.T2.9.9.1.m1.1"><semantics id="S4.T2.9.9.1.m1.1a"><mrow id="S4.T2.9.9.1.m1.1.1" xref="S4.T2.9.9.1.m1.1.1.cmml"><mn id="S4.T2.9.9.1.m1.1.1.2" mathsize="80%" xref="S4.T2.9.9.1.m1.1.1.2.cmml">13.55</mn><mo id="S4.T2.9.9.1.m1.1.1.1" mathsize="80%" xref="S4.T2.9.9.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.9.9.1.m1.1b"><apply id="S4.T2.9.9.1.m1.1.1.cmml" xref="S4.T2.9.9.1.m1.1.1"><csymbol cd="latexml" id="S4.T2.9.9.1.m1.1.1.1.cmml" xref="S4.T2.9.9.1.m1.1.1.1">percent</csymbol><cn id="S4.T2.9.9.1.m1.1.1.2.cmml" type="float" xref="S4.T2.9.9.1.m1.1.1.2">13.55</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.9.9.1.m1.1c">13.55\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.9.9.1.m1.1d">13.55 %</annotation></semantics></math></td>
<td class="ltx_td ltx_align_right" id="S4.T2.10.10.2" style="padding-top:-1pt;padding-bottom:-1pt;"><math alttext="4.69\%" class="ltx_Math" display="inline" id="S4.T2.10.10.2.m1.1"><semantics id="S4.T2.10.10.2.m1.1a"><mrow id="S4.T2.10.10.2.m1.1.1" xref="S4.T2.10.10.2.m1.1.1.cmml"><mn id="S4.T2.10.10.2.m1.1.1.2" mathsize="80%" xref="S4.T2.10.10.2.m1.1.1.2.cmml">4.69</mn><mo id="S4.T2.10.10.2.m1.1.1.1" mathsize="80%" xref="S4.T2.10.10.2.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.10.10.2.m1.1b"><apply id="S4.T2.10.10.2.m1.1.1.cmml" xref="S4.T2.10.10.2.m1.1.1"><csymbol cd="latexml" id="S4.T2.10.10.2.m1.1.1.1.cmml" xref="S4.T2.10.10.2.m1.1.1.1">percent</csymbol><cn id="S4.T2.10.10.2.m1.1.1.2.cmml" type="float" xref="S4.T2.10.10.2.m1.1.1.2">4.69</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.10.10.2.m1.1c">4.69\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.10.10.2.m1.1d">4.69 %</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.12.12">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.12.12.3" style="padding-top:-1pt;padding-bottom:-1pt;"><span class="ltx_text" id="S4.T2.12.12.3.1" style="font-size:80%;">+ 1-Shot Retrieval</span></th>
<td class="ltx_td ltx_align_right" id="S4.T2.11.11.1" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_text" id="S4.T2.11.11.1.1" style="font-size:80%;">+ </span><math alttext="36.87\%" class="ltx_Math" display="inline" id="S4.T2.11.11.1.m1.1"><semantics id="S4.T2.11.11.1.m1.1a"><mrow id="S4.T2.11.11.1.m1.1.1" xref="S4.T2.11.11.1.m1.1.1.cmml"><mn id="S4.T2.11.11.1.m1.1.1.2" mathsize="80%" xref="S4.T2.11.11.1.m1.1.1.2.cmml">36.87</mn><mo id="S4.T2.11.11.1.m1.1.1.1" mathsize="80%" xref="S4.T2.11.11.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.11.11.1.m1.1b"><apply id="S4.T2.11.11.1.m1.1.1.cmml" xref="S4.T2.11.11.1.m1.1.1"><csymbol cd="latexml" id="S4.T2.11.11.1.m1.1.1.1.cmml" xref="S4.T2.11.11.1.m1.1.1.1">percent</csymbol><cn id="S4.T2.11.11.1.m1.1.1.2.cmml" type="float" xref="S4.T2.11.11.1.m1.1.1.2">36.87</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.11.11.1.m1.1c">36.87\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.11.11.1.m1.1d">36.87 %</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right" id="S4.T2.12.12.2" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_text" id="S4.T2.12.12.2.1" style="font-size:80%;">+ </span><math alttext="40.55\%" class="ltx_Math" display="inline" id="S4.T2.12.12.2.m1.1"><semantics id="S4.T2.12.12.2.m1.1a"><mrow id="S4.T2.12.12.2.m1.1.1" xref="S4.T2.12.12.2.m1.1.1.cmml"><mn id="S4.T2.12.12.2.m1.1.1.2" mathsize="80%" xref="S4.T2.12.12.2.m1.1.1.2.cmml">40.55</mn><mo id="S4.T2.12.12.2.m1.1.1.1" mathsize="80%" xref="S4.T2.12.12.2.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.12.12.2.m1.1b"><apply id="S4.T2.12.12.2.m1.1.1.cmml" xref="S4.T2.12.12.2.m1.1.1"><csymbol cd="latexml" id="S4.T2.12.12.2.m1.1.1.1.cmml" xref="S4.T2.12.12.2.m1.1.1.1">percent</csymbol><cn id="S4.T2.12.12.2.m1.1.1.2.cmml" type="float" xref="S4.T2.12.12.2.m1.1.1.2">40.55</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.12.12.2.m1.1c">40.55\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.12.12.2.m1.1d">40.55 %</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.14.14">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.14.14.3" style="padding-top:-1pt;padding-bottom:-1pt;"><span class="ltx_text" id="S4.T2.14.14.3.1" style="font-size:80%;">+ Supervised Finetuning</span></th>
<td class="ltx_td ltx_align_right" id="S4.T2.13.13.1" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_text" id="S4.T2.13.13.1.1" style="font-size:80%;">+ </span><math alttext="17.71\%" class="ltx_Math" display="inline" id="S4.T2.13.13.1.m1.1"><semantics id="S4.T2.13.13.1.m1.1a"><mrow id="S4.T2.13.13.1.m1.1.1" xref="S4.T2.13.13.1.m1.1.1.cmml"><mn id="S4.T2.13.13.1.m1.1.1.2" mathsize="80%" xref="S4.T2.13.13.1.m1.1.1.2.cmml">17.71</mn><mo id="S4.T2.13.13.1.m1.1.1.1" mathsize="80%" xref="S4.T2.13.13.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.13.13.1.m1.1b"><apply id="S4.T2.13.13.1.m1.1.1.cmml" xref="S4.T2.13.13.1.m1.1.1"><csymbol cd="latexml" id="S4.T2.13.13.1.m1.1.1.1.cmml" xref="S4.T2.13.13.1.m1.1.1.1">percent</csymbol><cn id="S4.T2.13.13.1.m1.1.1.2.cmml" type="float" xref="S4.T2.13.13.1.m1.1.1.2">17.71</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.13.13.1.m1.1c">17.71\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.13.13.1.m1.1d">17.71 %</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right" id="S4.T2.14.14.2" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_text" id="S4.T2.14.14.2.1" style="font-size:80%;">+ </span><math alttext="13.53\%" class="ltx_Math" display="inline" id="S4.T2.14.14.2.m1.1"><semantics id="S4.T2.14.14.2.m1.1a"><mrow id="S4.T2.14.14.2.m1.1.1" xref="S4.T2.14.14.2.m1.1.1.cmml"><mn id="S4.T2.14.14.2.m1.1.1.2" mathsize="80%" xref="S4.T2.14.14.2.m1.1.1.2.cmml">13.53</mn><mo id="S4.T2.14.14.2.m1.1.1.1" mathsize="80%" xref="S4.T2.14.14.2.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.14.14.2.m1.1b"><apply id="S4.T2.14.14.2.m1.1.1.cmml" xref="S4.T2.14.14.2.m1.1.1"><csymbol cd="latexml" id="S4.T2.14.14.2.m1.1.1.1.cmml" xref="S4.T2.14.14.2.m1.1.1.1">percent</csymbol><cn id="S4.T2.14.14.2.m1.1.1.2.cmml" type="float" xref="S4.T2.14.14.2.m1.1.1.2">13.53</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.14.14.2.m1.1c">13.53\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.14.14.2.m1.1d">13.53 %</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.16.16">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.16.16.3" style="padding-top:-1pt;padding-bottom:-1pt;"><span class="ltx_text" id="S4.T2.16.16.3.1" style="font-size:80%;">+ Structured Prompting</span></th>
<td class="ltx_td ltx_align_right" id="S4.T2.15.15.1" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_text" id="S4.T2.15.15.1.1" style="font-size:80%;">+ </span><math alttext="0.63\%" class="ltx_Math" display="inline" id="S4.T2.15.15.1.m1.1"><semantics id="S4.T2.15.15.1.m1.1a"><mrow id="S4.T2.15.15.1.m1.1.1" xref="S4.T2.15.15.1.m1.1.1.cmml"><mn id="S4.T2.15.15.1.m1.1.1.2" mathsize="80%" xref="S4.T2.15.15.1.m1.1.1.2.cmml">0.63</mn><mo id="S4.T2.15.15.1.m1.1.1.1" mathsize="80%" xref="S4.T2.15.15.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.15.15.1.m1.1b"><apply id="S4.T2.15.15.1.m1.1.1.cmml" xref="S4.T2.15.15.1.m1.1.1"><csymbol cd="latexml" id="S4.T2.15.15.1.m1.1.1.1.cmml" xref="S4.T2.15.15.1.m1.1.1.1">percent</csymbol><cn id="S4.T2.15.15.1.m1.1.1.2.cmml" type="float" xref="S4.T2.15.15.1.m1.1.1.2">0.63</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.15.15.1.m1.1c">0.63\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.15.15.1.m1.1d">0.63 %</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right" id="S4.T2.16.16.2" style="padding-top:-1pt;padding-bottom:-1pt;">
<span class="ltx_text" id="S4.T2.16.16.2.1" style="font-size:80%;">+ </span><math alttext="10.30\%" class="ltx_Math" display="inline" id="S4.T2.16.16.2.m1.1"><semantics id="S4.T2.16.16.2.m1.1a"><mrow id="S4.T2.16.16.2.m1.1.1" xref="S4.T2.16.16.2.m1.1.1.cmml"><mn id="S4.T2.16.16.2.m1.1.1.2" mathsize="80%" xref="S4.T2.16.16.2.m1.1.1.2.cmml">10.30</mn><mo id="S4.T2.16.16.2.m1.1.1.1" mathsize="80%" xref="S4.T2.16.16.2.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.16.16.2.m1.1b"><apply id="S4.T2.16.16.2.m1.1.1.cmml" xref="S4.T2.16.16.2.m1.1.1"><csymbol cd="latexml" id="S4.T2.16.16.2.m1.1.1.1.cmml" xref="S4.T2.16.16.2.m1.1.1.1">percent</csymbol><cn id="S4.T2.16.16.2.m1.1.1.2.cmml" type="float" xref="S4.T2.16.16.2.m1.1.1.2">10.30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.16.16.2.m1.1c">10.30\%</annotation><annotation encoding="application/x-llamapun" id="S4.T2.16.16.2.m1.1d">10.30 %</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S4.T2.16.18.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.16.18.2.1" style="padding-top:-1pt;padding-bottom:-1pt;"><span class="ltx_ERROR undefined" id="S4.T2.16.18.2.1.1">\bottomrule</span></th>
<td class="ltx_td" id="S4.T2.16.18.2.2" style="padding-top:-1pt;padding-bottom:-1pt;"></td>
<td class="ltx_td" id="S4.T2.16.18.2.3" style="padding-top:-1pt;padding-bottom:-1pt;"></td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span class="ltx_text ltx_font_smallcaps" id="S5.1.1">Discussion and Conclusion</span>
</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">Our model performance and ablation results demonstrate a few conclusions. Firstly, for KIE, prompt engineering only provides marginal gains compared to augmenting the model with a retrieval mechanism and/or finetuning it on the target dataset. For LIR, however, prompt engineering is as important as retrieval mechanisms and finetuning. Interestingly, properly tuned and augmented LLMs, can beat finetuned multimodal models such as LayoutLMv3 and Roberta + DeTr. Lastly, our bounding box backcalculation heuristic is only slightly worse than the best baseline at table detection despite not being optimized directly for the task.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">For teams working in the Business Document Information space, our recommendation is to start with off-the-shelf LLMs that support structured generation, then implement a retrieval mechanism. If the performance is still poor, consider supervised finetuning. For LIR, we recommend starting with structured prompting first, then finetuning.</p>
</div>
<div class="ltx_para" id="S5.p3">
<span class="ltx_ERROR undefined" id="S5.p3.1">\printbibliography</span>
</div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Thu May 30 16:48:43 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
