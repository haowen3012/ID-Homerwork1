<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering</title>
<!--Generated on Wed Jun 19 18:58:05 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2406.13779v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S1" title="In FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S2" title="In FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S3" title="In FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Preliminary</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S4" title="In FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Outline-Enhanced RAG</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S4.SS1" title="In 4. Outline-Enhanced RAG ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Outline-Enhanced Generator</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S4.SS2" title="In 4. Outline-Enhanced RAG ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Outline-Enhanced Long-Form QA Dataset</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S5" title="In FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Factuality-Optimized RAG</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S5.SS1" title="In 5. Factuality-Optimized RAG ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Difficulties of Directly Applying RLHF</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S5.SS2" title="In 5. Factuality-Optimized RAG ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Doubly Fine-grained RLHF</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6" title="In FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Experiment</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.SS1" title="In 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1 </span>Experimental setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.SS2" title="In 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2 </span>Main results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.SS3" title="In 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.3 </span>Comparison of Various Factuality Optimization Granularities</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.SS4" title="In 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.4 </span>Ablation study</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.SS5" title="In 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.5 </span>Evaluation of Training Efficiency</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S7" title="In FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#A1" title="In FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Prompts For Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#A2" title="In FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Prompts for Evaluation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#A3" title="In FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Prompts for Decomposition</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#A4" title="In FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Dataset Modification Samples</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#A5" title="In FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Generation Improvement Samples</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering </h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Tianchi Cai
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">Ant Group</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2">Hangzhou</span><span class="ltx_text ltx_affiliation_country" id="id3.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:tianchicai@gmail.com">tianchicai@gmail.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zhiwen Tan
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.1.id1">Ant Group</span><span class="ltx_text ltx_affiliation_city" id="id5.2.id2">Hangzhou</span><span class="ltx_text ltx_affiliation_country" id="id6.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:ender.tzw@antgroup.com">ender.tzw@antgroup.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xierui Song
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id7.1.id1">Ant Group</span><span class="ltx_text ltx_affiliation_city" id="id8.2.id2">Hangzhou</span><span class="ltx_text ltx_affiliation_country" id="id9.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:songxierui.sxr@antgroup.com">songxierui.sxr@antgroup.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Tao Sun
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id10.1.id1">Ant Group</span><span class="ltx_text ltx_affiliation_city" id="id11.2.id2">Hangzhou</span><span class="ltx_text ltx_affiliation_country" id="id12.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:suntao.sun@antgroup.com">suntao.sun@antgroup.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jiyan Jiang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id13.1.id1">Tsinghua University</span><span class="ltx_text ltx_affiliation_city" id="id14.2.id2">Beijing</span><span class="ltx_text ltx_affiliation_country" id="id15.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:scjjy95@outlook.com">scjjy95@outlook.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yunqi Xu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id16.1.id1">Ant Group</span><span class="ltx_text ltx_affiliation_city" id="id17.2.id2">Hangzhou</span><span class="ltx_text ltx_affiliation_country" id="id18.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:xuyunqi.xyq@antgroup.com">xuyunqi.xyq@antgroup.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yinger Zhang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id19.1.id1">Ant Group</span><span class="ltx_text ltx_affiliation_city" id="id20.2.id2">Hangzhou</span><span class="ltx_text ltx_affiliation_country" id="id21.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:zhangyinger@zju.edu.cn">zhangyinger@zju.edu.cn</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jinjie Gu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id22.1.id1">Ant Group</span><span class="ltx_text ltx_affiliation_city" id="id23.2.id2">Hangzhou</span><span class="ltx_text ltx_affiliation_country" id="id24.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:jinjie.gujj@antgroup.com">jinjie.gujj@antgroup.com</a>
</span></span></span>
</div>
<div class="ltx_dates">(2024)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id25.id1">Retrieval Augmented Generation (RAG) has become prevalent in question-answering (QA) tasks due to its ability of utilizing search engine to enhance the quality of long-form question-answering (LFQA). Despite the emergence of various open source methods and web-enhanced commercial systems such as Bing Chat, two critical problems remain unsolved, i.e., the lack of factuality and clear logic in the generated long-form answers. In this paper, we remedy these issues via a systematic study on answer generation in web-enhanced LFQA. Specifically, we first propose a novel outline-enhanced generator to achieve clear logic in the generation of multifaceted answers and construct two datasets accordingly. Then we propose a factuality optimization method based on a carefully designed doubly fine-grained RLHF framework, which contains automatic evaluation and reward modeling in different levels of granularity. Our generic framework comprises conventional fine-grained RLHF methods as special cases. Extensive experiments verify the superiority of our proposed <span class="ltx_text ltx_font_italic" id="id25.id1.1">Factuality-optimized RAG (FoRAG)</span> method on both English and Chinese benchmarks. In particular, when applying our method to Llama2-7B-chat, the derived model FoRAG-L-7B outperforms WebGPT-175B in terms of three commonly used metrics (i.e., coherence, helpfulness, and factuality), while the number of parameters is much smaller (only 1/24 of that of WebGPT-175B). Our datasets and models are made publicly available for better reproducibility.<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/forag" title="">https://huggingface.co/forag</a> </span></span></span></p>
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2024</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>rightsretained</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>Proceedings of the 30th ACM SIGKDD Conference on
Knowledge Discovery and Data Mining; August 25–29, 2024; Barcelona, Spain</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_booktitle" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">booktitle: </span>Proceedings of the 30th ACM SIGKDD Conference on Knowledge
Discovery and Data Mining (KDD ’24), August 25–29, 2024, Barcelona,
Spain</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>10.1145/3637528.3672065</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="id6"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>979-8-4007-0490-1/24/08</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id7"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Computing methodologies Natural language generation</span></span></span>
<figure class="ltx_figure" id="S0.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="391" id="S0.F1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>Illustrations of the input for LLM in web-enhanced LFQA task (upper left), the existing generator (lower left), our outline-enhanced generator (middle) and our doubly fine-grained factuality optimization method (right). Before generating a long answer, the outline-enhanced generator first drafts an organization pattern and an outline to promote a clear logic for generation. The doubly fined-grained RLHF optimizes factuality by incorporating fine-grained designs on two core steps, i.e. factuality evaluation and reward modeling, with methods on multiple levels of granularities proposed on each step. </figcaption>
</figure>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Retrieval Augmented Generation (RAG), a technique that augments Large Language Models (LLMs) with a retriever by appending the retrieved relevant passages to the current context <cite class="ltx_cite ltx_citemacro_citep">(Mialon et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib33" title="">2023</a>)</cite>, has recently attracted considerable research attention <cite class="ltx_cite ltx_citemacro_citep">(Borgeaud et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib7" title="">2022</a>; Guu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib17" title="">2020</a>)</cite>. The access to search engine supplements massive and latest knowledge to LLMs, boosting their performance on various knowledge intensive tasks, such as open domain dialogue <cite class="ltx_cite ltx_citemacro_citep">(Thoppilan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib46" title="">2022</a>)</cite> and question answering (QA) <cite class="ltx_cite ltx_citemacro_citep">(Shuster et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib44" title="">2022</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Following this paradigm, many web-enhanced commercial systems have been developed, such as Bing Chat<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>Bing Chat: <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.bing.com/chat" title="">https://www.bing.com/chat</a>. </span></span></span> and perplexity.ai.<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>perplexity.ai: <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.perplexity.ai" title="">https://www.perplexity.ai</a>.</span></span></span> They generate answers to user queries in natural language with reference to web pages, which we refer to as the web-enhanced long-form question-answering (LFQA) task. Although these systems can generate coherent and helpful answers, recent researches have revealed the low factuality issue of these systems, such that only about half of the statements generated are fully supported by the retrieved references <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib29" title="">2023c</a>; Gao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib15" title="">2023</a>)</cite>. This poses an unignorable threat to the trustworthiness of existing web-enhanced LFQA systems.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Despite its prevalence, there lacks an effective method to optimize factuality in web-enhanced LFQA as far as we are concerned. There are two intrinsic difficulties. First, previous studies mostly rely on human evaluation <cite class="ltx_cite ltx_citemacro_citep">(Nakano et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib35" title="">2022</a>; Menick et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib32" title="">2022</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib29" title="">2023c</a>)</cite>, which is generally expensive to acquire. In web-enhanced LFQA task, factuality is even more time-consuming and difficult to manually annotate compared to other language generation tasks, since it involves comparing the factual details of two lengthy texts <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib51" title="">2023</a>)</cite>. Second, the most commonly used fine-tuning method for human preference alignment, i.e., Reinforcement Learning from Human Feedback (RLHF), conventionally adopts the <span class="ltx_text ltx_font_italic" id="S1.p3.1.1">holistic</span> reward, such that each answer only has a single evaluation score. Such a reward provides a relatively sparse training signal, which undermines the reliability of RLHF <cite class="ltx_cite ltx_citemacro_citep">(Ramamurthy et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib41" title="">2022</a>; Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib51" title="">2023</a>)</cite>. In web-enhanced LFQA, the sparsity problem is even exaggerated, as the answers are in long form.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Besides the above factuality issue, different from conventional QA tasks with short answers, web-enhanced LFQA poses extra challenges due to the pervasive ambiguity of many real-world questions. A desirable answer to these questions is preferred to be multifaceted <cite class="ltx_cite ltx_citemacro_citep">(Amplayo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib3" title="">2022</a>)</cite>, which requires organizing and consolidating information from multiple aspects and references <cite class="ltx_cite ltx_citemacro_citep">(Kulkarni et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib26" title="">2020</a>)</cite>. The problem might be one possible reason why existing open source methods such as WebGLM <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib30" title="">2023b</a>)</cite> have no explicit improvement over closed source methods such as WebGPT/175B.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">To resolve the above issues, in this paper, we conduct a systematic study of web-enhanced LFQA. Specifically, we first propose a novel outline-enhanced generator, which achieves clear logic in the generation of multifaceted answers. We then propose an innovative factuality optimization approach based on a novel doubly fine-grained RLHF framework. Specifically, we design new automatic evaluation and reward modeling steps in different granularities, which allows to optimize factuality for RAG in a flexible way. Our generic method contains several existing fine-grained RLHF methods as special cases.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">Extensive experiments demonstrate the effectiveness of our proposed method, which achieves state-of-the-art performance on both Chinese and English benchmarks. Specifically, the outline-enhanced generator significantly improves the coherence and helpfulness, while the doubly fine-grained factuality optimization method substantially promotes the factuality on both answer and sentence levels. Remarkably, applying our method to Llama2-7B-chat yields a fine-tuned model FoRAG-L-7B, which, for the first time, surpasses the WebGPT/175B on coherence, helpfulness, and factuality, while the number of parameters of FoRAG-L-7B is much smaller (only 1/24 of that of WebGPT/175B).</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">The contributions of this work are summarized as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We propose a new outline-enhanced generator to promote a clear logic of long answer generation in RAG, which significantly improves the coherence and helpfulness of the generated answers. Two large-scale outline-enhanced LFQA datasets are accordingly constructed.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We propose a novel factual optimization method for web-enhanced RAG based on a novel doubly fine-grained RLHF framework, which eschews the need of expensive human annotation.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">We conduct extensive experiments to show that our method achieves state-of-the-art performance on both Chinese and English benchmarks. Notably, the FoRAG-L-7B model fine/tuned by our method outperforms WebGPT-175B on coherence, helpfulness, and factuality, with only 1/24 of the parameters in WebGPT-175B. Both datasets and models are publicly available for better reproducibility.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">In this section, we review prior work in three related fields, i.e., open-domain question answering, retrieval augmented generation, as well as web-enhanced LFQA.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1"><span class="ltx_text ltx_font_bold" id="S2.p2.1.1">Open-domain Question Answering</span>.
In the field of open-domain QA, traditional efforts have centered around reading comprehension techniques, with foundational datasets like SQuAD <cite class="ltx_cite ltx_citemacro_citep">(Rajpurkar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib39" title="">2016</a>)</cite> providing human-written questions and extracted answers. Subsequent datasets, including Natural Questions <cite class="ltx_cite ltx_citemacro_citep">(Kwiatkowski et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib27" title="">2019</a>)</cite>, TriviaQA <cite class="ltx_cite ltx_citemacro_citep">(Joshi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib21" title="">2017</a>)</cite>, and CoQA <cite class="ltx_cite ltx_citemacro_citep">(Reddy et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib42" title="">2019</a>)</cite>, continue this trend but largely cater to brief answers. Recognizing the value of more informative, long-form responses, recent initiatives such as ELI5 <cite class="ltx_cite ltx_citemacro_citep">(Fan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib13" title="">2019</a>)</cite> have begun to compile questions demanding detailed answers, prompting research into advanced generative techniques to meet this need.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1"><span class="ltx_text ltx_font_bold" id="S2.p3.1.1">Retrieval-Augmented Generation</span>.
Retrieval-Augmented Generation (RAG) enhances language model (LM) performance by integrating external knowledge retrieval with in-context learning. The knowledge retrieval techniques in RAG include sparse methods such as BM25 and TF-IDF and dense retrieval systems, including DPR <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib23" title="">2020</a>)</cite> and Contriever <cite class="ltx_cite ltx_citemacro_citep">(Izacard et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib19" title="">2021</a>)</cite>. To utilize the retriever, various methods are proposed. REALM proposes a joint optimization of retriever and language modeling <cite class="ltx_cite ltx_citemacro_citep">(Guu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib17" title="">2020</a>)</cite>. Retro uses a frozen retriever to enhance the generation ability model with a novel chunked cross-attention mechanism <cite class="ltx_cite ltx_citemacro_citep">(Borgeaud et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib7" title="">2022</a>)</cite>. Atlas studies the few-shot ability for RAG models. Others combine black-box LMs with custom or fine-tuned retrieval systems <cite class="ltx_cite ltx_citemacro_citep">(Shi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib43" title="">2023</a>; Ram et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib40" title="">2023</a>)</cite>. Different from these work, we treat the retrieval step as a black box and focus on improving the generation quality given the query and retrieved passages.</p>
</div>
<div class="ltx_para" id="S2.p4">
<p class="ltx_p" id="S2.p4.1"><span class="ltx_text ltx_font_bold" id="S2.p4.1.1">Web-enhanced LFQA</span>.
The web-enhanced LFQA takes a new approach to QA tasks which utilizes the retrieval ability of search engine to improve the generation performance on long-form QA. Closely related to our work, WebGPT <cite class="ltx_cite ltx_citemacro_citep">(Nakano et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib35" title="">2022</a>)</cite> uses the questions from ELI5 and explores the ability of LLMs in navigating through the web, retrieving passages from web, and generating long-form responses. Despite its notable capabilities, the dataset, and models are not accessible to the public. Following this idea, WebCPM <cite class="ltx_cite ltx_citemacro_citep">(Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib38" title="">2023</a>)</cite> builds and releases an open-source web-enhanced LFQA model in Chinese. WebGLM <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib30" title="">2023b</a>)</cite> provides an more efficient and cost-effective method by replacing the expert annotation with evaluations using LLMs and utilizing a non-interactive way to use search engine. However, its resulting model, the WebGLM-10B does not outperforms the WebGPT-175B. Compared to these works, we consider optimizing the logic structure and factuality of the generation, which has not been studied in web-enhanced LFQA as far as we know.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Preliminary</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we briefly review the RAG pipeline in web-enhanced LFQA task, which for simplicity of presentation, we adopt the term <span class="ltx_text ltx_font_italic" id="S3.p1.1.1">web-enhanced RAG</span> to describe in the sequel. The web-enhanced RAG pipeline is demonstrated in the left column of Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S0.F1" title="Figure 1 ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div class="ltx_para" id="S3.p2">
<p class="ltx_p" id="S3.p2.2">In web-enhanced RAG, for a given user input <math alttext="x" class="ltx_Math" display="inline" id="S3.p2.1.m1.1"><semantics id="S3.p2.1.m1.1a"><mi id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><ci id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.p2.1.m1.1d">italic_x</annotation></semantics></math>, the system first utilizes a web search engine to retrieve a list of relevant website URLs, then crawls the websites and extracts the relevant text segments <math alttext="z" class="ltx_Math" display="inline" id="S3.p2.2.m2.1"><semantics id="S3.p2.2.m2.1a"><mi id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><ci id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">z</annotation><annotation encoding="application/x-llamapun" id="S3.p2.2.m2.1d">italic_z</annotation></semantics></math>, which are usually called <span class="ltx_text ltx_font_italic" id="S3.p2.2.1">reference</span> or <span class="ltx_text ltx_font_italic" id="S3.p2.2.2">context</span> for generation <cite class="ltx_cite ltx_citemacro_citep">(Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib38" title="">2023</a>)</cite>. This extraction is commonly done by first segmenting the web pages into text segments and then using pre-trained dense retrievers to extract the top-k segments <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib30" title="">2023b</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S3.p3">
<p class="ltx_p" id="S3.p3.37">After deriving the context <math alttext="z" class="ltx_Math" display="inline" id="S3.p3.1.m1.1"><semantics id="S3.p3.1.m1.1a"><mi id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><ci id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">z</annotation><annotation encoding="application/x-llamapun" id="S3.p3.1.m1.1d">italic_z</annotation></semantics></math>, the RAG system generates an answer <math alttext="y" class="ltx_Math" display="inline" id="S3.p3.2.m2.1"><semantics id="S3.p3.2.m2.1a"><mi id="S3.p3.2.m2.1.1" xref="S3.p3.2.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.p3.2.m2.1b"><ci id="S3.p3.2.m2.1.1.cmml" xref="S3.p3.2.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.2.m2.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.p3.2.m2.1d">italic_y</annotation></semantics></math> based on the context <math alttext="z" class="ltx_Math" display="inline" id="S3.p3.3.m3.1"><semantics id="S3.p3.3.m3.1a"><mi id="S3.p3.3.m3.1.1" xref="S3.p3.3.m3.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S3.p3.3.m3.1b"><ci id="S3.p3.3.m3.1.1.cmml" xref="S3.p3.3.m3.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.3.m3.1c">z</annotation><annotation encoding="application/x-llamapun" id="S3.p3.3.m3.1d">italic_z</annotation></semantics></math> and the user query <math alttext="x" class="ltx_Math" display="inline" id="S3.p3.4.m4.1"><semantics id="S3.p3.4.m4.1a"><mi id="S3.p3.4.m4.1.1" xref="S3.p3.4.m4.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.p3.4.m4.1b"><ci id="S3.p3.4.m4.1.1.cmml" xref="S3.p3.4.m4.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.4.m4.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.p3.4.m4.1d">italic_x</annotation></semantics></math>. Following <cite class="ltx_cite ltx_citemacro_citep">(Ramamurthy et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib41" title="">2022</a>)</cite>, the response generation can be formulated as a Markov Decision Process (MDP) <math alttext="&lt;\mathcal{S},\mathcal{A},\mathcal{R},P,\gamma&gt;" class="ltx_math_unparsed" display="inline" id="S3.p3.5.m5.5"><semantics id="S3.p3.5.m5.5a"><mrow id="S3.p3.5.m5.5b"><mo id="S3.p3.5.m5.5.6">&lt;</mo><mi class="ltx_font_mathcaligraphic" id="S3.p3.5.m5.1.1">𝒮</mi><mo id="S3.p3.5.m5.5.7">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.p3.5.m5.2.2">𝒜</mi><mo id="S3.p3.5.m5.5.8">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.p3.5.m5.3.3">ℛ</mi><mo id="S3.p3.5.m5.5.9">,</mo><mi id="S3.p3.5.m5.4.4">P</mi><mo id="S3.p3.5.m5.5.10">,</mo><mi id="S3.p3.5.m5.5.5">γ</mi><mo id="S3.p3.5.m5.5.11">&gt;</mo></mrow><annotation encoding="application/x-tex" id="S3.p3.5.m5.5c">&lt;\mathcal{S},\mathcal{A},\mathcal{R},P,\gamma&gt;</annotation><annotation encoding="application/x-llamapun" id="S3.p3.5.m5.5d">&lt; caligraphic_S , caligraphic_A , caligraphic_R , italic_P , italic_γ &gt;</annotation></semantics></math>. In such a process, each episode starts with a sampled state <math alttext="s\in\mathcal{S}" class="ltx_Math" display="inline" id="S3.p3.6.m6.1"><semantics id="S3.p3.6.m6.1a"><mrow id="S3.p3.6.m6.1.1" xref="S3.p3.6.m6.1.1.cmml"><mi id="S3.p3.6.m6.1.1.2" xref="S3.p3.6.m6.1.1.2.cmml">s</mi><mo id="S3.p3.6.m6.1.1.1" xref="S3.p3.6.m6.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.p3.6.m6.1.1.3" xref="S3.p3.6.m6.1.1.3.cmml">𝒮</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.6.m6.1b"><apply id="S3.p3.6.m6.1.1.cmml" xref="S3.p3.6.m6.1.1"><in id="S3.p3.6.m6.1.1.1.cmml" xref="S3.p3.6.m6.1.1.1"></in><ci id="S3.p3.6.m6.1.1.2.cmml" xref="S3.p3.6.m6.1.1.2">𝑠</ci><ci id="S3.p3.6.m6.1.1.3.cmml" xref="S3.p3.6.m6.1.1.3">𝒮</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.6.m6.1c">s\in\mathcal{S}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.6.m6.1d">italic_s ∈ caligraphic_S</annotation></semantics></math>, where <math alttext="s=(x,z)" class="ltx_Math" display="inline" id="S3.p3.7.m7.2"><semantics id="S3.p3.7.m7.2a"><mrow id="S3.p3.7.m7.2.3" xref="S3.p3.7.m7.2.3.cmml"><mi id="S3.p3.7.m7.2.3.2" xref="S3.p3.7.m7.2.3.2.cmml">s</mi><mo id="S3.p3.7.m7.2.3.1" xref="S3.p3.7.m7.2.3.1.cmml">=</mo><mrow id="S3.p3.7.m7.2.3.3.2" xref="S3.p3.7.m7.2.3.3.1.cmml"><mo id="S3.p3.7.m7.2.3.3.2.1" stretchy="false" xref="S3.p3.7.m7.2.3.3.1.cmml">(</mo><mi id="S3.p3.7.m7.1.1" xref="S3.p3.7.m7.1.1.cmml">x</mi><mo id="S3.p3.7.m7.2.3.3.2.2" xref="S3.p3.7.m7.2.3.3.1.cmml">,</mo><mi id="S3.p3.7.m7.2.2" xref="S3.p3.7.m7.2.2.cmml">z</mi><mo id="S3.p3.7.m7.2.3.3.2.3" stretchy="false" xref="S3.p3.7.m7.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.7.m7.2b"><apply id="S3.p3.7.m7.2.3.cmml" xref="S3.p3.7.m7.2.3"><eq id="S3.p3.7.m7.2.3.1.cmml" xref="S3.p3.7.m7.2.3.1"></eq><ci id="S3.p3.7.m7.2.3.2.cmml" xref="S3.p3.7.m7.2.3.2">𝑠</ci><interval closure="open" id="S3.p3.7.m7.2.3.3.1.cmml" xref="S3.p3.7.m7.2.3.3.2"><ci id="S3.p3.7.m7.1.1.cmml" xref="S3.p3.7.m7.1.1">𝑥</ci><ci id="S3.p3.7.m7.2.2.cmml" xref="S3.p3.7.m7.2.2">𝑧</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.7.m7.2c">s=(x,z)</annotation><annotation encoding="application/x-llamapun" id="S3.p3.7.m7.2d">italic_s = ( italic_x , italic_z )</annotation></semantics></math> is a prompt that contains a query <math alttext="x" class="ltx_Math" display="inline" id="S3.p3.8.m8.1"><semantics id="S3.p3.8.m8.1a"><mi id="S3.p3.8.m8.1.1" xref="S3.p3.8.m8.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.p3.8.m8.1b"><ci id="S3.p3.8.m8.1.1.cmml" xref="S3.p3.8.m8.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.8.m8.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.p3.8.m8.1d">italic_x</annotation></semantics></math> and a relevant context <math alttext="z" class="ltx_Math" display="inline" id="S3.p3.9.m9.1"><semantics id="S3.p3.9.m9.1a"><mi id="S3.p3.9.m9.1.1" xref="S3.p3.9.m9.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S3.p3.9.m9.1b"><ci id="S3.p3.9.m9.1.1.cmml" xref="S3.p3.9.m9.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.9.m9.1c">z</annotation><annotation encoding="application/x-llamapun" id="S3.p3.9.m9.1d">italic_z</annotation></semantics></math> (here the parenthesis denotes string concatenation). At each step <math alttext="t" class="ltx_Math" display="inline" id="S3.p3.10.m10.1"><semantics id="S3.p3.10.m10.1a"><mi id="S3.p3.10.m10.1.1" xref="S3.p3.10.m10.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.p3.10.m10.1b"><ci id="S3.p3.10.m10.1.1.cmml" xref="S3.p3.10.m10.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.10.m10.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.p3.10.m10.1d">italic_t</annotation></semantics></math> during this episode, the state <math alttext="s_{t}=(x,z,a_{1},...,a_{t-1})" class="ltx_Math" display="inline" id="S3.p3.11.m11.5"><semantics id="S3.p3.11.m11.5a"><mrow id="S3.p3.11.m11.5.5" xref="S3.p3.11.m11.5.5.cmml"><msub id="S3.p3.11.m11.5.5.4" xref="S3.p3.11.m11.5.5.4.cmml"><mi id="S3.p3.11.m11.5.5.4.2" xref="S3.p3.11.m11.5.5.4.2.cmml">s</mi><mi id="S3.p3.11.m11.5.5.4.3" xref="S3.p3.11.m11.5.5.4.3.cmml">t</mi></msub><mo id="S3.p3.11.m11.5.5.3" xref="S3.p3.11.m11.5.5.3.cmml">=</mo><mrow id="S3.p3.11.m11.5.5.2.2" xref="S3.p3.11.m11.5.5.2.3.cmml"><mo id="S3.p3.11.m11.5.5.2.2.3" stretchy="false" xref="S3.p3.11.m11.5.5.2.3.cmml">(</mo><mi id="S3.p3.11.m11.1.1" xref="S3.p3.11.m11.1.1.cmml">x</mi><mo id="S3.p3.11.m11.5.5.2.2.4" xref="S3.p3.11.m11.5.5.2.3.cmml">,</mo><mi id="S3.p3.11.m11.2.2" xref="S3.p3.11.m11.2.2.cmml">z</mi><mo id="S3.p3.11.m11.5.5.2.2.5" xref="S3.p3.11.m11.5.5.2.3.cmml">,</mo><msub id="S3.p3.11.m11.4.4.1.1.1" xref="S3.p3.11.m11.4.4.1.1.1.cmml"><mi id="S3.p3.11.m11.4.4.1.1.1.2" xref="S3.p3.11.m11.4.4.1.1.1.2.cmml">a</mi><mn id="S3.p3.11.m11.4.4.1.1.1.3" xref="S3.p3.11.m11.4.4.1.1.1.3.cmml">1</mn></msub><mo id="S3.p3.11.m11.5.5.2.2.6" xref="S3.p3.11.m11.5.5.2.3.cmml">,</mo><mi id="S3.p3.11.m11.3.3" mathvariant="normal" xref="S3.p3.11.m11.3.3.cmml">…</mi><mo id="S3.p3.11.m11.5.5.2.2.7" xref="S3.p3.11.m11.5.5.2.3.cmml">,</mo><msub id="S3.p3.11.m11.5.5.2.2.2" xref="S3.p3.11.m11.5.5.2.2.2.cmml"><mi id="S3.p3.11.m11.5.5.2.2.2.2" xref="S3.p3.11.m11.5.5.2.2.2.2.cmml">a</mi><mrow id="S3.p3.11.m11.5.5.2.2.2.3" xref="S3.p3.11.m11.5.5.2.2.2.3.cmml"><mi id="S3.p3.11.m11.5.5.2.2.2.3.2" xref="S3.p3.11.m11.5.5.2.2.2.3.2.cmml">t</mi><mo id="S3.p3.11.m11.5.5.2.2.2.3.1" xref="S3.p3.11.m11.5.5.2.2.2.3.1.cmml">−</mo><mn id="S3.p3.11.m11.5.5.2.2.2.3.3" xref="S3.p3.11.m11.5.5.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S3.p3.11.m11.5.5.2.2.8" stretchy="false" xref="S3.p3.11.m11.5.5.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.11.m11.5b"><apply id="S3.p3.11.m11.5.5.cmml" xref="S3.p3.11.m11.5.5"><eq id="S3.p3.11.m11.5.5.3.cmml" xref="S3.p3.11.m11.5.5.3"></eq><apply id="S3.p3.11.m11.5.5.4.cmml" xref="S3.p3.11.m11.5.5.4"><csymbol cd="ambiguous" id="S3.p3.11.m11.5.5.4.1.cmml" xref="S3.p3.11.m11.5.5.4">subscript</csymbol><ci id="S3.p3.11.m11.5.5.4.2.cmml" xref="S3.p3.11.m11.5.5.4.2">𝑠</ci><ci id="S3.p3.11.m11.5.5.4.3.cmml" xref="S3.p3.11.m11.5.5.4.3">𝑡</ci></apply><vector id="S3.p3.11.m11.5.5.2.3.cmml" xref="S3.p3.11.m11.5.5.2.2"><ci id="S3.p3.11.m11.1.1.cmml" xref="S3.p3.11.m11.1.1">𝑥</ci><ci id="S3.p3.11.m11.2.2.cmml" xref="S3.p3.11.m11.2.2">𝑧</ci><apply id="S3.p3.11.m11.4.4.1.1.1.cmml" xref="S3.p3.11.m11.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.p3.11.m11.4.4.1.1.1.1.cmml" xref="S3.p3.11.m11.4.4.1.1.1">subscript</csymbol><ci id="S3.p3.11.m11.4.4.1.1.1.2.cmml" xref="S3.p3.11.m11.4.4.1.1.1.2">𝑎</ci><cn id="S3.p3.11.m11.4.4.1.1.1.3.cmml" type="integer" xref="S3.p3.11.m11.4.4.1.1.1.3">1</cn></apply><ci id="S3.p3.11.m11.3.3.cmml" xref="S3.p3.11.m11.3.3">…</ci><apply id="S3.p3.11.m11.5.5.2.2.2.cmml" xref="S3.p3.11.m11.5.5.2.2.2"><csymbol cd="ambiguous" id="S3.p3.11.m11.5.5.2.2.2.1.cmml" xref="S3.p3.11.m11.5.5.2.2.2">subscript</csymbol><ci id="S3.p3.11.m11.5.5.2.2.2.2.cmml" xref="S3.p3.11.m11.5.5.2.2.2.2">𝑎</ci><apply id="S3.p3.11.m11.5.5.2.2.2.3.cmml" xref="S3.p3.11.m11.5.5.2.2.2.3"><minus id="S3.p3.11.m11.5.5.2.2.2.3.1.cmml" xref="S3.p3.11.m11.5.5.2.2.2.3.1"></minus><ci id="S3.p3.11.m11.5.5.2.2.2.3.2.cmml" xref="S3.p3.11.m11.5.5.2.2.2.3.2">𝑡</ci><cn id="S3.p3.11.m11.5.5.2.2.2.3.3.cmml" type="integer" xref="S3.p3.11.m11.5.5.2.2.2.3.3">1</cn></apply></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.11.m11.5c">s_{t}=(x,z,a_{1},...,a_{t-1})</annotation><annotation encoding="application/x-llamapun" id="S3.p3.11.m11.5d">italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = ( italic_x , italic_z , italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_a start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT )</annotation></semantics></math> is described by the query <math alttext="x" class="ltx_Math" display="inline" id="S3.p3.12.m12.1"><semantics id="S3.p3.12.m12.1a"><mi id="S3.p3.12.m12.1.1" xref="S3.p3.12.m12.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.p3.12.m12.1b"><ci id="S3.p3.12.m12.1.1.cmml" xref="S3.p3.12.m12.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.12.m12.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.p3.12.m12.1d">italic_x</annotation></semantics></math>, the context <math alttext="z" class="ltx_Math" display="inline" id="S3.p3.13.m13.1"><semantics id="S3.p3.13.m13.1a"><mi id="S3.p3.13.m13.1.1" xref="S3.p3.13.m13.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S3.p3.13.m13.1b"><ci id="S3.p3.13.m13.1.1.cmml" xref="S3.p3.13.m13.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.13.m13.1c">z</annotation><annotation encoding="application/x-llamapun" id="S3.p3.13.m13.1d">italic_z</annotation></semantics></math>, and all the previously generated tokens <math alttext="(a_{1},...,a_{t-1})" class="ltx_Math" display="inline" id="S3.p3.14.m14.3"><semantics id="S3.p3.14.m14.3a"><mrow id="S3.p3.14.m14.3.3.2" xref="S3.p3.14.m14.3.3.3.cmml"><mo id="S3.p3.14.m14.3.3.2.3" stretchy="false" xref="S3.p3.14.m14.3.3.3.cmml">(</mo><msub id="S3.p3.14.m14.2.2.1.1" xref="S3.p3.14.m14.2.2.1.1.cmml"><mi id="S3.p3.14.m14.2.2.1.1.2" xref="S3.p3.14.m14.2.2.1.1.2.cmml">a</mi><mn id="S3.p3.14.m14.2.2.1.1.3" xref="S3.p3.14.m14.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.p3.14.m14.3.3.2.4" xref="S3.p3.14.m14.3.3.3.cmml">,</mo><mi id="S3.p3.14.m14.1.1" mathvariant="normal" xref="S3.p3.14.m14.1.1.cmml">…</mi><mo id="S3.p3.14.m14.3.3.2.5" xref="S3.p3.14.m14.3.3.3.cmml">,</mo><msub id="S3.p3.14.m14.3.3.2.2" xref="S3.p3.14.m14.3.3.2.2.cmml"><mi id="S3.p3.14.m14.3.3.2.2.2" xref="S3.p3.14.m14.3.3.2.2.2.cmml">a</mi><mrow id="S3.p3.14.m14.3.3.2.2.3" xref="S3.p3.14.m14.3.3.2.2.3.cmml"><mi id="S3.p3.14.m14.3.3.2.2.3.2" xref="S3.p3.14.m14.3.3.2.2.3.2.cmml">t</mi><mo id="S3.p3.14.m14.3.3.2.2.3.1" xref="S3.p3.14.m14.3.3.2.2.3.1.cmml">−</mo><mn id="S3.p3.14.m14.3.3.2.2.3.3" xref="S3.p3.14.m14.3.3.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S3.p3.14.m14.3.3.2.6" stretchy="false" xref="S3.p3.14.m14.3.3.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.14.m14.3b"><vector id="S3.p3.14.m14.3.3.3.cmml" xref="S3.p3.14.m14.3.3.2"><apply id="S3.p3.14.m14.2.2.1.1.cmml" xref="S3.p3.14.m14.2.2.1.1"><csymbol cd="ambiguous" id="S3.p3.14.m14.2.2.1.1.1.cmml" xref="S3.p3.14.m14.2.2.1.1">subscript</csymbol><ci id="S3.p3.14.m14.2.2.1.1.2.cmml" xref="S3.p3.14.m14.2.2.1.1.2">𝑎</ci><cn id="S3.p3.14.m14.2.2.1.1.3.cmml" type="integer" xref="S3.p3.14.m14.2.2.1.1.3">1</cn></apply><ci id="S3.p3.14.m14.1.1.cmml" xref="S3.p3.14.m14.1.1">…</ci><apply id="S3.p3.14.m14.3.3.2.2.cmml" xref="S3.p3.14.m14.3.3.2.2"><csymbol cd="ambiguous" id="S3.p3.14.m14.3.3.2.2.1.cmml" xref="S3.p3.14.m14.3.3.2.2">subscript</csymbol><ci id="S3.p3.14.m14.3.3.2.2.2.cmml" xref="S3.p3.14.m14.3.3.2.2.2">𝑎</ci><apply id="S3.p3.14.m14.3.3.2.2.3.cmml" xref="S3.p3.14.m14.3.3.2.2.3"><minus id="S3.p3.14.m14.3.3.2.2.3.1.cmml" xref="S3.p3.14.m14.3.3.2.2.3.1"></minus><ci id="S3.p3.14.m14.3.3.2.2.3.2.cmml" xref="S3.p3.14.m14.3.3.2.2.3.2">𝑡</ci><cn id="S3.p3.14.m14.3.3.2.2.3.3.cmml" type="integer" xref="S3.p3.14.m14.3.3.2.2.3.3">1</cn></apply></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.14.m14.3c">(a_{1},...,a_{t-1})</annotation><annotation encoding="application/x-llamapun" id="S3.p3.14.m14.3d">( italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_a start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT )</annotation></semantics></math>, which is denoted <math alttext="\bm{a}_{t-1}" class="ltx_Math" display="inline" id="S3.p3.15.m15.1"><semantics id="S3.p3.15.m15.1a"><msub id="S3.p3.15.m15.1.1" xref="S3.p3.15.m15.1.1.cmml"><mi id="S3.p3.15.m15.1.1.2" xref="S3.p3.15.m15.1.1.2.cmml">𝒂</mi><mrow id="S3.p3.15.m15.1.1.3" xref="S3.p3.15.m15.1.1.3.cmml"><mi id="S3.p3.15.m15.1.1.3.2" xref="S3.p3.15.m15.1.1.3.2.cmml">t</mi><mo id="S3.p3.15.m15.1.1.3.1" xref="S3.p3.15.m15.1.1.3.1.cmml">−</mo><mn id="S3.p3.15.m15.1.1.3.3" xref="S3.p3.15.m15.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p3.15.m15.1b"><apply id="S3.p3.15.m15.1.1.cmml" xref="S3.p3.15.m15.1.1"><csymbol cd="ambiguous" id="S3.p3.15.m15.1.1.1.cmml" xref="S3.p3.15.m15.1.1">subscript</csymbol><ci id="S3.p3.15.m15.1.1.2.cmml" xref="S3.p3.15.m15.1.1.2">𝒂</ci><apply id="S3.p3.15.m15.1.1.3.cmml" xref="S3.p3.15.m15.1.1.3"><minus id="S3.p3.15.m15.1.1.3.1.cmml" xref="S3.p3.15.m15.1.1.3.1"></minus><ci id="S3.p3.15.m15.1.1.3.2.cmml" xref="S3.p3.15.m15.1.1.3.2">𝑡</ci><cn id="S3.p3.15.m15.1.1.3.3.cmml" type="integer" xref="S3.p3.15.m15.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.15.m15.1c">\bm{a}_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.15.m15.1d">bold_italic_a start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math> for short. Given the state <math alttext="s_{t}" class="ltx_Math" display="inline" id="S3.p3.16.m16.1"><semantics id="S3.p3.16.m16.1a"><msub id="S3.p3.16.m16.1.1" xref="S3.p3.16.m16.1.1.cmml"><mi id="S3.p3.16.m16.1.1.2" xref="S3.p3.16.m16.1.1.2.cmml">s</mi><mi id="S3.p3.16.m16.1.1.3" xref="S3.p3.16.m16.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.16.m16.1b"><apply id="S3.p3.16.m16.1.1.cmml" xref="S3.p3.16.m16.1.1"><csymbol cd="ambiguous" id="S3.p3.16.m16.1.1.1.cmml" xref="S3.p3.16.m16.1.1">subscript</csymbol><ci id="S3.p3.16.m16.1.1.2.cmml" xref="S3.p3.16.m16.1.1.2">𝑠</ci><ci id="S3.p3.16.m16.1.1.3.cmml" xref="S3.p3.16.m16.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.16.m16.1c">s_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.16.m16.1d">italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, the LLM, denoted by <math alttext="\pi_{\theta}" class="ltx_Math" display="inline" id="S3.p3.17.m17.1"><semantics id="S3.p3.17.m17.1a"><msub id="S3.p3.17.m17.1.1" xref="S3.p3.17.m17.1.1.cmml"><mi id="S3.p3.17.m17.1.1.2" xref="S3.p3.17.m17.1.1.2.cmml">π</mi><mi id="S3.p3.17.m17.1.1.3" xref="S3.p3.17.m17.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.17.m17.1b"><apply id="S3.p3.17.m17.1.1.cmml" xref="S3.p3.17.m17.1.1"><csymbol cd="ambiguous" id="S3.p3.17.m17.1.1.1.cmml" xref="S3.p3.17.m17.1.1">subscript</csymbol><ci id="S3.p3.17.m17.1.1.2.cmml" xref="S3.p3.17.m17.1.1.2">𝜋</ci><ci id="S3.p3.17.m17.1.1.3.cmml" xref="S3.p3.17.m17.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.17.m17.1c">\pi_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.17.m17.1d">italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math>, defines a probability distribution <math alttext="a\sim\pi_{\theta}(\cdot|s_{t})" class="ltx_math_unparsed" display="inline" id="S3.p3.18.m18.1"><semantics id="S3.p3.18.m18.1a"><mrow id="S3.p3.18.m18.1b"><mi id="S3.p3.18.m18.1.1">a</mi><mo id="S3.p3.18.m18.1.2">∼</mo><msub id="S3.p3.18.m18.1.3"><mi id="S3.p3.18.m18.1.3.2">π</mi><mi id="S3.p3.18.m18.1.3.3">θ</mi></msub><mrow id="S3.p3.18.m18.1.4"><mo id="S3.p3.18.m18.1.4.1" stretchy="false">(</mo><mo id="S3.p3.18.m18.1.4.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S3.p3.18.m18.1.4.3" rspace="0.167em" stretchy="false">|</mo><msub id="S3.p3.18.m18.1.4.4"><mi id="S3.p3.18.m18.1.4.4.2">s</mi><mi id="S3.p3.18.m18.1.4.4.3">t</mi></msub><mo id="S3.p3.18.m18.1.4.5" stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.p3.18.m18.1c">a\sim\pi_{\theta}(\cdot|s_{t})</annotation><annotation encoding="application/x-llamapun" id="S3.p3.18.m18.1d">italic_a ∼ italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( ⋅ | italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> over all tokens <math alttext="a\in\mathcal{A}" class="ltx_Math" display="inline" id="S3.p3.19.m19.1"><semantics id="S3.p3.19.m19.1a"><mrow id="S3.p3.19.m19.1.1" xref="S3.p3.19.m19.1.1.cmml"><mi id="S3.p3.19.m19.1.1.2" xref="S3.p3.19.m19.1.1.2.cmml">a</mi><mo id="S3.p3.19.m19.1.1.1" xref="S3.p3.19.m19.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.p3.19.m19.1.1.3" xref="S3.p3.19.m19.1.1.3.cmml">𝒜</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.19.m19.1b"><apply id="S3.p3.19.m19.1.1.cmml" xref="S3.p3.19.m19.1.1"><in id="S3.p3.19.m19.1.1.1.cmml" xref="S3.p3.19.m19.1.1.1"></in><ci id="S3.p3.19.m19.1.1.2.cmml" xref="S3.p3.19.m19.1.1.2">𝑎</ci><ci id="S3.p3.19.m19.1.1.3.cmml" xref="S3.p3.19.m19.1.1.3">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.19.m19.1c">a\in\mathcal{A}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.19.m19.1d">italic_a ∈ caligraphic_A</annotation></semantics></math> conditioned on the current state <math alttext="s_{t}" class="ltx_Math" display="inline" id="S3.p3.20.m20.1"><semantics id="S3.p3.20.m20.1a"><msub id="S3.p3.20.m20.1.1" xref="S3.p3.20.m20.1.1.cmml"><mi id="S3.p3.20.m20.1.1.2" xref="S3.p3.20.m20.1.1.2.cmml">s</mi><mi id="S3.p3.20.m20.1.1.3" xref="S3.p3.20.m20.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.20.m20.1b"><apply id="S3.p3.20.m20.1.1.cmml" xref="S3.p3.20.m20.1.1"><csymbol cd="ambiguous" id="S3.p3.20.m20.1.1.1.cmml" xref="S3.p3.20.m20.1.1">subscript</csymbol><ci id="S3.p3.20.m20.1.1.2.cmml" xref="S3.p3.20.m20.1.1.2">𝑠</ci><ci id="S3.p3.20.m20.1.1.3.cmml" xref="S3.p3.20.m20.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.20.m20.1c">s_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.20.m20.1d">italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, where <math alttext="\theta" class="ltx_Math" display="inline" id="S3.p3.21.m21.1"><semantics id="S3.p3.21.m21.1a"><mi id="S3.p3.21.m21.1.1" xref="S3.p3.21.m21.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.p3.21.m21.1b"><ci id="S3.p3.21.m21.1.1.cmml" xref="S3.p3.21.m21.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.21.m21.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.p3.21.m21.1d">italic_θ</annotation></semantics></math> denotes the trainable parameters of the LLM. After generating the specific token <math alttext="a_{t}\in\mathcal{A}" class="ltx_Math" display="inline" id="S3.p3.22.m22.1"><semantics id="S3.p3.22.m22.1a"><mrow id="S3.p3.22.m22.1.1" xref="S3.p3.22.m22.1.1.cmml"><msub id="S3.p3.22.m22.1.1.2" xref="S3.p3.22.m22.1.1.2.cmml"><mi id="S3.p3.22.m22.1.1.2.2" xref="S3.p3.22.m22.1.1.2.2.cmml">a</mi><mi id="S3.p3.22.m22.1.1.2.3" xref="S3.p3.22.m22.1.1.2.3.cmml">t</mi></msub><mo id="S3.p3.22.m22.1.1.1" xref="S3.p3.22.m22.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.p3.22.m22.1.1.3" xref="S3.p3.22.m22.1.1.3.cmml">𝒜</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.22.m22.1b"><apply id="S3.p3.22.m22.1.1.cmml" xref="S3.p3.22.m22.1.1"><in id="S3.p3.22.m22.1.1.1.cmml" xref="S3.p3.22.m22.1.1.1"></in><apply id="S3.p3.22.m22.1.1.2.cmml" xref="S3.p3.22.m22.1.1.2"><csymbol cd="ambiguous" id="S3.p3.22.m22.1.1.2.1.cmml" xref="S3.p3.22.m22.1.1.2">subscript</csymbol><ci id="S3.p3.22.m22.1.1.2.2.cmml" xref="S3.p3.22.m22.1.1.2.2">𝑎</ci><ci id="S3.p3.22.m22.1.1.2.3.cmml" xref="S3.p3.22.m22.1.1.2.3">𝑡</ci></apply><ci id="S3.p3.22.m22.1.1.3.cmml" xref="S3.p3.22.m22.1.1.3">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.22.m22.1c">a_{t}\in\mathcal{A}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.22.m22.1d">italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∈ caligraphic_A</annotation></semantics></math>, the state will transit to <math alttext="s_{t+1}=(s_{t},a_{t})" class="ltx_Math" display="inline" id="S3.p3.23.m23.2"><semantics id="S3.p3.23.m23.2a"><mrow id="S3.p3.23.m23.2.2" xref="S3.p3.23.m23.2.2.cmml"><msub id="S3.p3.23.m23.2.2.4" xref="S3.p3.23.m23.2.2.4.cmml"><mi id="S3.p3.23.m23.2.2.4.2" xref="S3.p3.23.m23.2.2.4.2.cmml">s</mi><mrow id="S3.p3.23.m23.2.2.4.3" xref="S3.p3.23.m23.2.2.4.3.cmml"><mi id="S3.p3.23.m23.2.2.4.3.2" xref="S3.p3.23.m23.2.2.4.3.2.cmml">t</mi><mo id="S3.p3.23.m23.2.2.4.3.1" xref="S3.p3.23.m23.2.2.4.3.1.cmml">+</mo><mn id="S3.p3.23.m23.2.2.4.3.3" xref="S3.p3.23.m23.2.2.4.3.3.cmml">1</mn></mrow></msub><mo id="S3.p3.23.m23.2.2.3" xref="S3.p3.23.m23.2.2.3.cmml">=</mo><mrow id="S3.p3.23.m23.2.2.2.2" xref="S3.p3.23.m23.2.2.2.3.cmml"><mo id="S3.p3.23.m23.2.2.2.2.3" stretchy="false" xref="S3.p3.23.m23.2.2.2.3.cmml">(</mo><msub id="S3.p3.23.m23.1.1.1.1.1" xref="S3.p3.23.m23.1.1.1.1.1.cmml"><mi id="S3.p3.23.m23.1.1.1.1.1.2" xref="S3.p3.23.m23.1.1.1.1.1.2.cmml">s</mi><mi id="S3.p3.23.m23.1.1.1.1.1.3" xref="S3.p3.23.m23.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.p3.23.m23.2.2.2.2.4" xref="S3.p3.23.m23.2.2.2.3.cmml">,</mo><msub id="S3.p3.23.m23.2.2.2.2.2" xref="S3.p3.23.m23.2.2.2.2.2.cmml"><mi id="S3.p3.23.m23.2.2.2.2.2.2" xref="S3.p3.23.m23.2.2.2.2.2.2.cmml">a</mi><mi id="S3.p3.23.m23.2.2.2.2.2.3" xref="S3.p3.23.m23.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.p3.23.m23.2.2.2.2.5" stretchy="false" xref="S3.p3.23.m23.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.23.m23.2b"><apply id="S3.p3.23.m23.2.2.cmml" xref="S3.p3.23.m23.2.2"><eq id="S3.p3.23.m23.2.2.3.cmml" xref="S3.p3.23.m23.2.2.3"></eq><apply id="S3.p3.23.m23.2.2.4.cmml" xref="S3.p3.23.m23.2.2.4"><csymbol cd="ambiguous" id="S3.p3.23.m23.2.2.4.1.cmml" xref="S3.p3.23.m23.2.2.4">subscript</csymbol><ci id="S3.p3.23.m23.2.2.4.2.cmml" xref="S3.p3.23.m23.2.2.4.2">𝑠</ci><apply id="S3.p3.23.m23.2.2.4.3.cmml" xref="S3.p3.23.m23.2.2.4.3"><plus id="S3.p3.23.m23.2.2.4.3.1.cmml" xref="S3.p3.23.m23.2.2.4.3.1"></plus><ci id="S3.p3.23.m23.2.2.4.3.2.cmml" xref="S3.p3.23.m23.2.2.4.3.2">𝑡</ci><cn id="S3.p3.23.m23.2.2.4.3.3.cmml" type="integer" xref="S3.p3.23.m23.2.2.4.3.3">1</cn></apply></apply><interval closure="open" id="S3.p3.23.m23.2.2.2.3.cmml" xref="S3.p3.23.m23.2.2.2.2"><apply id="S3.p3.23.m23.1.1.1.1.1.cmml" xref="S3.p3.23.m23.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p3.23.m23.1.1.1.1.1.1.cmml" xref="S3.p3.23.m23.1.1.1.1.1">subscript</csymbol><ci id="S3.p3.23.m23.1.1.1.1.1.2.cmml" xref="S3.p3.23.m23.1.1.1.1.1.2">𝑠</ci><ci id="S3.p3.23.m23.1.1.1.1.1.3.cmml" xref="S3.p3.23.m23.1.1.1.1.1.3">𝑡</ci></apply><apply id="S3.p3.23.m23.2.2.2.2.2.cmml" xref="S3.p3.23.m23.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.p3.23.m23.2.2.2.2.2.1.cmml" xref="S3.p3.23.m23.2.2.2.2.2">subscript</csymbol><ci id="S3.p3.23.m23.2.2.2.2.2.2.cmml" xref="S3.p3.23.m23.2.2.2.2.2.2">𝑎</ci><ci id="S3.p3.23.m23.2.2.2.2.2.3.cmml" xref="S3.p3.23.m23.2.2.2.2.2.3">𝑡</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.23.m23.2c">s_{t+1}=(s_{t},a_{t})</annotation><annotation encoding="application/x-llamapun" id="S3.p3.23.m23.2d">italic_s start_POSTSUBSCRIPT italic_t + 1 end_POSTSUBSCRIPT = ( italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> at the next time step <math alttext="t+1" class="ltx_Math" display="inline" id="S3.p3.24.m24.1"><semantics id="S3.p3.24.m24.1a"><mrow id="S3.p3.24.m24.1.1" xref="S3.p3.24.m24.1.1.cmml"><mi id="S3.p3.24.m24.1.1.2" xref="S3.p3.24.m24.1.1.2.cmml">t</mi><mo id="S3.p3.24.m24.1.1.1" xref="S3.p3.24.m24.1.1.1.cmml">+</mo><mn id="S3.p3.24.m24.1.1.3" xref="S3.p3.24.m24.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.24.m24.1b"><apply id="S3.p3.24.m24.1.1.cmml" xref="S3.p3.24.m24.1.1"><plus id="S3.p3.24.m24.1.1.1.cmml" xref="S3.p3.24.m24.1.1.1"></plus><ci id="S3.p3.24.m24.1.1.2.cmml" xref="S3.p3.24.m24.1.1.2">𝑡</ci><cn id="S3.p3.24.m24.1.1.3.cmml" type="integer" xref="S3.p3.24.m24.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.24.m24.1c">t+1</annotation><annotation encoding="application/x-llamapun" id="S3.p3.24.m24.1d">italic_t + 1</annotation></semantics></math> by appending the latest generated <math alttext="a_{t}" class="ltx_Math" display="inline" id="S3.p3.25.m25.1"><semantics id="S3.p3.25.m25.1a"><msub id="S3.p3.25.m25.1.1" xref="S3.p3.25.m25.1.1.cmml"><mi id="S3.p3.25.m25.1.1.2" xref="S3.p3.25.m25.1.1.2.cmml">a</mi><mi id="S3.p3.25.m25.1.1.3" xref="S3.p3.25.m25.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.25.m25.1b"><apply id="S3.p3.25.m25.1.1.cmml" xref="S3.p3.25.m25.1.1"><csymbol cd="ambiguous" id="S3.p3.25.m25.1.1.1.cmml" xref="S3.p3.25.m25.1.1">subscript</csymbol><ci id="S3.p3.25.m25.1.1.2.cmml" xref="S3.p3.25.m25.1.1.2">𝑎</ci><ci id="S3.p3.25.m25.1.1.3.cmml" xref="S3.p3.25.m25.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.25.m25.1c">a_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.25.m25.1d">italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> token to the current state <math alttext="s_{t}" class="ltx_Math" display="inline" id="S3.p3.26.m26.1"><semantics id="S3.p3.26.m26.1a"><msub id="S3.p3.26.m26.1.1" xref="S3.p3.26.m26.1.1.cmml"><mi id="S3.p3.26.m26.1.1.2" xref="S3.p3.26.m26.1.1.2.cmml">s</mi><mi id="S3.p3.26.m26.1.1.3" xref="S3.p3.26.m26.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.26.m26.1b"><apply id="S3.p3.26.m26.1.1.cmml" xref="S3.p3.26.m26.1.1"><csymbol cd="ambiguous" id="S3.p3.26.m26.1.1.1.cmml" xref="S3.p3.26.m26.1.1">subscript</csymbol><ci id="S3.p3.26.m26.1.1.2.cmml" xref="S3.p3.26.m26.1.1.2">𝑠</ci><ci id="S3.p3.26.m26.1.1.3.cmml" xref="S3.p3.26.m26.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.26.m26.1c">s_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.26.m26.1d">italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. This episode terminates when the length <math alttext="t" class="ltx_Math" display="inline" id="S3.p3.27.m27.1"><semantics id="S3.p3.27.m27.1a"><mi id="S3.p3.27.m27.1.1" xref="S3.p3.27.m27.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.p3.27.m27.1b"><ci id="S3.p3.27.m27.1.1.cmml" xref="S3.p3.27.m27.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.27.m27.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.p3.27.m27.1d">italic_t</annotation></semantics></math> exceeds a pre-defined threshold <math alttext="T" class="ltx_Math" display="inline" id="S3.p3.28.m28.1"><semantics id="S3.p3.28.m28.1a"><mi id="S3.p3.28.m28.1.1" xref="S3.p3.28.m28.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.p3.28.m28.1b"><ci id="S3.p3.28.m28.1.1.cmml" xref="S3.p3.28.m28.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.28.m28.1c">T</annotation><annotation encoding="application/x-llamapun" id="S3.p3.28.m28.1d">italic_T</annotation></semantics></math> or an end-of-sequence token is generated. In the above definition of MDP, the parameter <math alttext="\gamma" class="ltx_Math" display="inline" id="S3.p3.29.m29.1"><semantics id="S3.p3.29.m29.1a"><mi id="S3.p3.29.m29.1.1" xref="S3.p3.29.m29.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S3.p3.29.m29.1b"><ci id="S3.p3.29.m29.1.1.cmml" xref="S3.p3.29.m29.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.29.m29.1c">\gamma</annotation><annotation encoding="application/x-llamapun" id="S3.p3.29.m29.1d">italic_γ</annotation></semantics></math> is a discount factor. In most of the language generation tasks, we have a task specific evaluation metric <math alttext="\mathcal{R}({\bm{a}}_{T},x,z)" class="ltx_Math" display="inline" id="S3.p3.30.m30.3"><semantics id="S3.p3.30.m30.3a"><mrow id="S3.p3.30.m30.3.3" xref="S3.p3.30.m30.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.30.m30.3.3.3" xref="S3.p3.30.m30.3.3.3.cmml">ℛ</mi><mo id="S3.p3.30.m30.3.3.2" xref="S3.p3.30.m30.3.3.2.cmml">⁢</mo><mrow id="S3.p3.30.m30.3.3.1.1" xref="S3.p3.30.m30.3.3.1.2.cmml"><mo id="S3.p3.30.m30.3.3.1.1.2" stretchy="false" xref="S3.p3.30.m30.3.3.1.2.cmml">(</mo><msub id="S3.p3.30.m30.3.3.1.1.1" xref="S3.p3.30.m30.3.3.1.1.1.cmml"><mi id="S3.p3.30.m30.3.3.1.1.1.2" xref="S3.p3.30.m30.3.3.1.1.1.2.cmml">𝒂</mi><mi id="S3.p3.30.m30.3.3.1.1.1.3" xref="S3.p3.30.m30.3.3.1.1.1.3.cmml">T</mi></msub><mo id="S3.p3.30.m30.3.3.1.1.3" xref="S3.p3.30.m30.3.3.1.2.cmml">,</mo><mi id="S3.p3.30.m30.1.1" xref="S3.p3.30.m30.1.1.cmml">x</mi><mo id="S3.p3.30.m30.3.3.1.1.4" xref="S3.p3.30.m30.3.3.1.2.cmml">,</mo><mi id="S3.p3.30.m30.2.2" xref="S3.p3.30.m30.2.2.cmml">z</mi><mo id="S3.p3.30.m30.3.3.1.1.5" stretchy="false" xref="S3.p3.30.m30.3.3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.30.m30.3b"><apply id="S3.p3.30.m30.3.3.cmml" xref="S3.p3.30.m30.3.3"><times id="S3.p3.30.m30.3.3.2.cmml" xref="S3.p3.30.m30.3.3.2"></times><ci id="S3.p3.30.m30.3.3.3.cmml" xref="S3.p3.30.m30.3.3.3">ℛ</ci><vector id="S3.p3.30.m30.3.3.1.2.cmml" xref="S3.p3.30.m30.3.3.1.1"><apply id="S3.p3.30.m30.3.3.1.1.1.cmml" xref="S3.p3.30.m30.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.p3.30.m30.3.3.1.1.1.1.cmml" xref="S3.p3.30.m30.3.3.1.1.1">subscript</csymbol><ci id="S3.p3.30.m30.3.3.1.1.1.2.cmml" xref="S3.p3.30.m30.3.3.1.1.1.2">𝒂</ci><ci id="S3.p3.30.m30.3.3.1.1.1.3.cmml" xref="S3.p3.30.m30.3.3.1.1.1.3">𝑇</ci></apply><ci id="S3.p3.30.m30.1.1.cmml" xref="S3.p3.30.m30.1.1">𝑥</ci><ci id="S3.p3.30.m30.2.2.cmml" xref="S3.p3.30.m30.2.2">𝑧</ci></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.30.m30.3c">\mathcal{R}({\bm{a}}_{T},x,z)</annotation><annotation encoding="application/x-llamapun" id="S3.p3.30.m30.3d">caligraphic_R ( bold_italic_a start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT , italic_x , italic_z )</annotation></semantics></math> that depends on the final context <math alttext="s_{T}=(x,z,a_{1},...,a_{T})" class="ltx_Math" display="inline" id="S3.p3.31.m31.5"><semantics id="S3.p3.31.m31.5a"><mrow id="S3.p3.31.m31.5.5" xref="S3.p3.31.m31.5.5.cmml"><msub id="S3.p3.31.m31.5.5.4" xref="S3.p3.31.m31.5.5.4.cmml"><mi id="S3.p3.31.m31.5.5.4.2" xref="S3.p3.31.m31.5.5.4.2.cmml">s</mi><mi id="S3.p3.31.m31.5.5.4.3" xref="S3.p3.31.m31.5.5.4.3.cmml">T</mi></msub><mo id="S3.p3.31.m31.5.5.3" xref="S3.p3.31.m31.5.5.3.cmml">=</mo><mrow id="S3.p3.31.m31.5.5.2.2" xref="S3.p3.31.m31.5.5.2.3.cmml"><mo id="S3.p3.31.m31.5.5.2.2.3" stretchy="false" xref="S3.p3.31.m31.5.5.2.3.cmml">(</mo><mi id="S3.p3.31.m31.1.1" xref="S3.p3.31.m31.1.1.cmml">x</mi><mo id="S3.p3.31.m31.5.5.2.2.4" xref="S3.p3.31.m31.5.5.2.3.cmml">,</mo><mi id="S3.p3.31.m31.2.2" xref="S3.p3.31.m31.2.2.cmml">z</mi><mo id="S3.p3.31.m31.5.5.2.2.5" xref="S3.p3.31.m31.5.5.2.3.cmml">,</mo><msub id="S3.p3.31.m31.4.4.1.1.1" xref="S3.p3.31.m31.4.4.1.1.1.cmml"><mi id="S3.p3.31.m31.4.4.1.1.1.2" xref="S3.p3.31.m31.4.4.1.1.1.2.cmml">a</mi><mn id="S3.p3.31.m31.4.4.1.1.1.3" xref="S3.p3.31.m31.4.4.1.1.1.3.cmml">1</mn></msub><mo id="S3.p3.31.m31.5.5.2.2.6" xref="S3.p3.31.m31.5.5.2.3.cmml">,</mo><mi id="S3.p3.31.m31.3.3" mathvariant="normal" xref="S3.p3.31.m31.3.3.cmml">…</mi><mo id="S3.p3.31.m31.5.5.2.2.7" xref="S3.p3.31.m31.5.5.2.3.cmml">,</mo><msub id="S3.p3.31.m31.5.5.2.2.2" xref="S3.p3.31.m31.5.5.2.2.2.cmml"><mi id="S3.p3.31.m31.5.5.2.2.2.2" xref="S3.p3.31.m31.5.5.2.2.2.2.cmml">a</mi><mi id="S3.p3.31.m31.5.5.2.2.2.3" xref="S3.p3.31.m31.5.5.2.2.2.3.cmml">T</mi></msub><mo id="S3.p3.31.m31.5.5.2.2.8" stretchy="false" xref="S3.p3.31.m31.5.5.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.31.m31.5b"><apply id="S3.p3.31.m31.5.5.cmml" xref="S3.p3.31.m31.5.5"><eq id="S3.p3.31.m31.5.5.3.cmml" xref="S3.p3.31.m31.5.5.3"></eq><apply id="S3.p3.31.m31.5.5.4.cmml" xref="S3.p3.31.m31.5.5.4"><csymbol cd="ambiguous" id="S3.p3.31.m31.5.5.4.1.cmml" xref="S3.p3.31.m31.5.5.4">subscript</csymbol><ci id="S3.p3.31.m31.5.5.4.2.cmml" xref="S3.p3.31.m31.5.5.4.2">𝑠</ci><ci id="S3.p3.31.m31.5.5.4.3.cmml" xref="S3.p3.31.m31.5.5.4.3">𝑇</ci></apply><vector id="S3.p3.31.m31.5.5.2.3.cmml" xref="S3.p3.31.m31.5.5.2.2"><ci id="S3.p3.31.m31.1.1.cmml" xref="S3.p3.31.m31.1.1">𝑥</ci><ci id="S3.p3.31.m31.2.2.cmml" xref="S3.p3.31.m31.2.2">𝑧</ci><apply id="S3.p3.31.m31.4.4.1.1.1.cmml" xref="S3.p3.31.m31.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.p3.31.m31.4.4.1.1.1.1.cmml" xref="S3.p3.31.m31.4.4.1.1.1">subscript</csymbol><ci id="S3.p3.31.m31.4.4.1.1.1.2.cmml" xref="S3.p3.31.m31.4.4.1.1.1.2">𝑎</ci><cn id="S3.p3.31.m31.4.4.1.1.1.3.cmml" type="integer" xref="S3.p3.31.m31.4.4.1.1.1.3">1</cn></apply><ci id="S3.p3.31.m31.3.3.cmml" xref="S3.p3.31.m31.3.3">…</ci><apply id="S3.p3.31.m31.5.5.2.2.2.cmml" xref="S3.p3.31.m31.5.5.2.2.2"><csymbol cd="ambiguous" id="S3.p3.31.m31.5.5.2.2.2.1.cmml" xref="S3.p3.31.m31.5.5.2.2.2">subscript</csymbol><ci id="S3.p3.31.m31.5.5.2.2.2.2.cmml" xref="S3.p3.31.m31.5.5.2.2.2.2">𝑎</ci><ci id="S3.p3.31.m31.5.5.2.2.2.3.cmml" xref="S3.p3.31.m31.5.5.2.2.2.3">𝑇</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.31.m31.5c">s_{T}=(x,z,a_{1},...,a_{T})</annotation><annotation encoding="application/x-llamapun" id="S3.p3.31.m31.5d">italic_s start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT = ( italic_x , italic_z , italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_a start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT )</annotation></semantics></math> which consists of the generated sequence <math alttext="{\bm{a}}_{T}" class="ltx_Math" display="inline" id="S3.p3.32.m32.1"><semantics id="S3.p3.32.m32.1a"><msub id="S3.p3.32.m32.1.1" xref="S3.p3.32.m32.1.1.cmml"><mi id="S3.p3.32.m32.1.1.2" xref="S3.p3.32.m32.1.1.2.cmml">𝒂</mi><mi id="S3.p3.32.m32.1.1.3" xref="S3.p3.32.m32.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.32.m32.1b"><apply id="S3.p3.32.m32.1.1.cmml" xref="S3.p3.32.m32.1.1"><csymbol cd="ambiguous" id="S3.p3.32.m32.1.1.1.cmml" xref="S3.p3.32.m32.1.1">subscript</csymbol><ci id="S3.p3.32.m32.1.1.2.cmml" xref="S3.p3.32.m32.1.1.2">𝒂</ci><ci id="S3.p3.32.m32.1.1.3.cmml" xref="S3.p3.32.m32.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.32.m32.1c">{\bm{a}}_{T}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.32.m32.1d">bold_italic_a start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT</annotation></semantics></math> and the initial context <math alttext="x,z" class="ltx_Math" display="inline" id="S3.p3.33.m33.2"><semantics id="S3.p3.33.m33.2a"><mrow id="S3.p3.33.m33.2.3.2" xref="S3.p3.33.m33.2.3.1.cmml"><mi id="S3.p3.33.m33.1.1" xref="S3.p3.33.m33.1.1.cmml">x</mi><mo id="S3.p3.33.m33.2.3.2.1" xref="S3.p3.33.m33.2.3.1.cmml">,</mo><mi id="S3.p3.33.m33.2.2" xref="S3.p3.33.m33.2.2.cmml">z</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.33.m33.2b"><list id="S3.p3.33.m33.2.3.1.cmml" xref="S3.p3.33.m33.2.3.2"><ci id="S3.p3.33.m33.1.1.cmml" xref="S3.p3.33.m33.1.1">𝑥</ci><ci id="S3.p3.33.m33.2.2.cmml" xref="S3.p3.33.m33.2.2">𝑧</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.33.m33.2c">x,z</annotation><annotation encoding="application/x-llamapun" id="S3.p3.33.m33.2d">italic_x , italic_z</annotation></semantics></math>, which is typically given at the end of sequence to reflect the quality of the generated sequence, e.g., whether the sequence is helpful or harmless <cite class="ltx_cite ltx_citemacro_citep">(Bai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib5" title="">2022</a>)</cite>. Depending on the evaluation granularity, <math alttext="\mathcal{R}({\bm{a}}_{T},x,z)" class="ltx_Math" display="inline" id="S3.p3.34.m34.3"><semantics id="S3.p3.34.m34.3a"><mrow id="S3.p3.34.m34.3.3" xref="S3.p3.34.m34.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.34.m34.3.3.3" xref="S3.p3.34.m34.3.3.3.cmml">ℛ</mi><mo id="S3.p3.34.m34.3.3.2" xref="S3.p3.34.m34.3.3.2.cmml">⁢</mo><mrow id="S3.p3.34.m34.3.3.1.1" xref="S3.p3.34.m34.3.3.1.2.cmml"><mo id="S3.p3.34.m34.3.3.1.1.2" stretchy="false" xref="S3.p3.34.m34.3.3.1.2.cmml">(</mo><msub id="S3.p3.34.m34.3.3.1.1.1" xref="S3.p3.34.m34.3.3.1.1.1.cmml"><mi id="S3.p3.34.m34.3.3.1.1.1.2" xref="S3.p3.34.m34.3.3.1.1.1.2.cmml">𝒂</mi><mi id="S3.p3.34.m34.3.3.1.1.1.3" xref="S3.p3.34.m34.3.3.1.1.1.3.cmml">T</mi></msub><mo id="S3.p3.34.m34.3.3.1.1.3" xref="S3.p3.34.m34.3.3.1.2.cmml">,</mo><mi id="S3.p3.34.m34.1.1" xref="S3.p3.34.m34.1.1.cmml">x</mi><mo id="S3.p3.34.m34.3.3.1.1.4" xref="S3.p3.34.m34.3.3.1.2.cmml">,</mo><mi id="S3.p3.34.m34.2.2" xref="S3.p3.34.m34.2.2.cmml">z</mi><mo id="S3.p3.34.m34.3.3.1.1.5" stretchy="false" xref="S3.p3.34.m34.3.3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.34.m34.3b"><apply id="S3.p3.34.m34.3.3.cmml" xref="S3.p3.34.m34.3.3"><times id="S3.p3.34.m34.3.3.2.cmml" xref="S3.p3.34.m34.3.3.2"></times><ci id="S3.p3.34.m34.3.3.3.cmml" xref="S3.p3.34.m34.3.3.3">ℛ</ci><vector id="S3.p3.34.m34.3.3.1.2.cmml" xref="S3.p3.34.m34.3.3.1.1"><apply id="S3.p3.34.m34.3.3.1.1.1.cmml" xref="S3.p3.34.m34.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.p3.34.m34.3.3.1.1.1.1.cmml" xref="S3.p3.34.m34.3.3.1.1.1">subscript</csymbol><ci id="S3.p3.34.m34.3.3.1.1.1.2.cmml" xref="S3.p3.34.m34.3.3.1.1.1.2">𝒂</ci><ci id="S3.p3.34.m34.3.3.1.1.1.3.cmml" xref="S3.p3.34.m34.3.3.1.1.1.3">𝑇</ci></apply><ci id="S3.p3.34.m34.1.1.cmml" xref="S3.p3.34.m34.1.1">𝑥</ci><ci id="S3.p3.34.m34.2.2.cmml" xref="S3.p3.34.m34.2.2">𝑧</ci></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.34.m34.3c">\mathcal{R}({\bm{a}}_{T},x,z)</annotation><annotation encoding="application/x-llamapun" id="S3.p3.34.m34.3d">caligraphic_R ( bold_italic_a start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT , italic_x , italic_z )</annotation></semantics></math> might be a scalar or a vector or even a matrix, we denotes the three cases by <math alttext="r" class="ltx_Math" display="inline" id="S3.p3.35.m35.1"><semantics id="S3.p3.35.m35.1a"><mi id="S3.p3.35.m35.1.1" xref="S3.p3.35.m35.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.p3.35.m35.1b"><ci id="S3.p3.35.m35.1.1.cmml" xref="S3.p3.35.m35.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.35.m35.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.p3.35.m35.1d">italic_r</annotation></semantics></math>, <math alttext="{\bm{r}}" class="ltx_Math" display="inline" id="S3.p3.36.m36.1"><semantics id="S3.p3.36.m36.1a"><mi id="S3.p3.36.m36.1.1" xref="S3.p3.36.m36.1.1.cmml">𝒓</mi><annotation-xml encoding="MathML-Content" id="S3.p3.36.m36.1b"><ci id="S3.p3.36.m36.1.1.cmml" xref="S3.p3.36.m36.1.1">𝒓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.36.m36.1c">{\bm{r}}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.36.m36.1d">bold_italic_r</annotation></semantics></math>, <math alttext="\bm{R}" class="ltx_Math" display="inline" id="S3.p3.37.m37.1"><semantics id="S3.p3.37.m37.1a"><mi id="S3.p3.37.m37.1.1" xref="S3.p3.37.m37.1.1.cmml">𝑹</mi><annotation-xml encoding="MathML-Content" id="S3.p3.37.m37.1b"><ci id="S3.p3.37.m37.1.1.cmml" xref="S3.p3.37.m37.1.1">𝑹</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.37.m37.1c">\bm{R}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.37.m37.1d">bold_italic_R</annotation></semantics></math>, respectively (see later explanations in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S5.SS2" title="5.2. Doubly Fine-grained RLHF ‣ 5. Factuality-Optimized RAG ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">5.2</span></a>) .</p>
</div>
<div class="ltx_para" id="S3.p4">
<p class="ltx_p" id="S3.p4.2">Besides helpfulness or harmlessness, one crucial criterion of response generation in RAG is factuality (or verifiability), which leverages the extent to which the generated response is trustful. In general, the response <math alttext="y" class="ltx_Math" display="inline" id="S3.p4.1.m1.1"><semantics id="S3.p4.1.m1.1a"><mi id="S3.p4.1.m1.1.1" xref="S3.p4.1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.p4.1.m1.1b"><ci id="S3.p4.1.m1.1.1.cmml" xref="S3.p4.1.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.1.m1.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.p4.1.m1.1d">italic_y</annotation></semantics></math> is considered to be truthful if its contents are factually consistent with the retrieved text <math alttext="z" class="ltx_Math" display="inline" id="S3.p4.2.m2.1"><semantics id="S3.p4.2.m2.1a"><mi id="S3.p4.2.m2.1.1" xref="S3.p4.2.m2.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S3.p4.2.m2.1b"><ci id="S3.p4.2.m2.1.1.cmml" xref="S3.p4.2.m2.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.2.m2.1c">z</annotation><annotation encoding="application/x-llamapun" id="S3.p4.2.m2.1d">italic_z</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib49" title="">2023b</a>)</cite>. In most previous works <cite class="ltx_cite ltx_citemacro_citep">(Min et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib34" title="">2023</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib48" title="">2023a</a>)</cite>, factuality is mainly evaluated by human annotation or via the NLI model (i.e., whether the context can entail the information contained by the response) <cite class="ltx_cite ltx_citemacro_citep">(Zha et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib54" title="">2023</a>)</cite> or general purpose LLMs <cite class="ltx_cite ltx_citemacro_citep">(Kamoi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib22" title="">2023</a>; Lattimer et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib28" title="">2023</a>; Hu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib18" title="">2023</a>)</cite>, such as ChatGPT <cite class="ltx_cite ltx_citemacro_citep">(Ouyang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib37" title="">2022</a>)</cite> or GPT4 <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib36" title="">2023</a>)</cite>.</p>
</div>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Outline-Enhanced RAG</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we propose the <span class="ltx_text ltx_font_italic" id="S4.p1.1.1">Outline-Enhanced</span> generation technique, which is able to generate well-structured responses of high quality. Illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S0.F1" title="Figure 1 ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">1</span></a> (middle), the outline-enhanced generator takes a two-stage generation, where the generator first generates an organizational pattern and outline to improve the logic structure. In the following, we describe our technique and the corresponding construction of two outline-enhanced LFQA datasets.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Outline-Enhanced Generator</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">In most existing open-source methods <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib30" title="">2023b</a>; Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib38" title="">2023</a>; Nakano et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib35" title="">2022</a>)</cite>, the responses are directly generated, i.e., the retrieved contents are concatenated with the original query and fed into a generation model using certain prompt template (Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S0.F1" title="Figure 1 ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">1</span></a> lower left). Compared to those generated by closed-source methods, these responses are shorter and often found unorganized, lacking a clear logical structure.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span>The statistics of web-enhanced long-form QA datasets. Applying our outline-enhanced generation technique yields significantly longer answers (Ans. (OE)) compared with the original answer (Ans. (Ori)).</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S4.T1.1">
<tr class="ltx_tr" id="S4.T1.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.1.1">Dataset</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S4.T1.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.2.1">Avg. Length (in Tokens)<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_medium" id="footnote4.1.1.1">4</span></span><span class="ltx_text ltx_font_medium" id="footnote4.5">We utilize the tokenizer of </span><a class="ltx_ref ltx_url ltx_font_typewriter ltx_font_medium" href="https://huggingface.co/meta-llama/Llama-2-7b-chat-hf" title="">https://huggingface.co/meta-llama/Llama-2-7b-chat-hf</a><span class="ltx_text ltx_font_medium" id="footnote4.6">.</span></span></span></span></span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt" id="S4.T1.1.1.3" rowspan="2"><span class="ltx_text" id="S4.T1.1.1.3.1"><span class="ltx_text" id="S4.T1.1.1.3.1.1"></span><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.3.1.2"> <span class="ltx_text" id="S4.T1.1.1.3.1.2.1">
<span class="ltx_tabular ltx_align_middle" id="S4.T1.1.1.3.1.2.1.1">
<span class="ltx_tr" id="S4.T1.1.1.3.1.2.1.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.1.1.3.1.2.1.1.1.1"># Samples</span></span>
</span></span> <span class="ltx_text" id="S4.T1.1.1.3.1.2.2"></span></span></span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1">Query</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.2">Ans. (Ori.)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.3">Ans. (OE)</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.1">WebCPM (zh)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.2">44.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.3">374.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.4">623.1</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T1.1.3.5">5,500</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.1">WebGLM (en)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.2">17.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.3">151.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.4">409.0</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T1.1.4.5">43,579</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.5">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.1">WebGPT-13b (en)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.2">20.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.3">212.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.4">407.4</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S4.T1.1.5.5">272</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.6">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.1.6.1">WebGPT-175b (en)</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.1.6.2">20.9</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.1.6.3">208.9</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.1.6.4">414.2</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.1.6.5">272</td>
</tr>
</table>
</figure>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">To enhance the performance, one possible way is to make the responses more organized. Indeed, some researchers have found that carefully designed prompts that comprise task descriptions and a few demonstrations will improve the quality of the generated responses on various tasks <cite class="ltx_cite ltx_citemacro_citep">(Brown et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib8" title="">2020</a>)</cite>. For example, the technique of “Let’s think step by step” <cite class="ltx_cite ltx_citemacro_citep">(Kojima et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib24" title="">2022</a>)</cite> substantially improves the performance by encouraging the chain-of-thought reasoning ability.</p>
</div>
<div class="ltx_para" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.1">Inspired by the above works, we introduce the outline-enhanced technique into response generation. Our proposed generator includes an outline stage and an expansion stage, which aligns with the intuition that when answering a question, human usually first outlines and organizes the answer before expanding each point. Specifically, to generate high-quality output with a clear logic flow, we prompt the model to first output an outline of the final answer, and then concatenate the draft into the prompt to generate the full response. In the following, we elaborate the two stages in detail.</p>
</div>
<div class="ltx_para" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.2"><span class="ltx_text ltx_font_bold" id="S4.SS1.p4.2.1">Outline Stage.</span> In this stage, the generator first drafts an outline of the answer using an outline template, with the user query <math alttext="x" class="ltx_Math" display="inline" id="S4.SS1.p4.1.m1.1"><semantics id="S4.SS1.p4.1.m1.1a"><mi id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><ci id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.1.m1.1d">italic_x</annotation></semantics></math> and context <math alttext="z" class="ltx_Math" display="inline" id="S4.SS1.p4.2.m2.1"><semantics id="S4.SS1.p4.2.m2.1a"><mi id="S4.SS1.p4.2.m2.1.1" xref="S4.SS1.p4.2.m2.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.2.m2.1b"><ci id="S4.SS1.p4.2.m2.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.2.m2.1c">z</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.2.m2.1d">italic_z</annotation></semantics></math> as input. The outline template guides the LLM to first consider which organizational pattern is best suitable to the current question, e.g., “cause and effect” or “compare and contrast”. Then the LLM uses the organizational pattern to output an outline. For example, when the selected pattern is “compare and contrast”, the generated outline will include various perspectives that will later be used to expand on the similarities and differences.</p>
</div>
<div class="ltx_para" id="S4.SS1.p5">
<p class="ltx_p" id="S4.SS1.p5.3"><span class="ltx_text ltx_font_bold" id="S4.SS1.p5.3.1">Expansion Stage.</span> Based on the outline generated at the former stage, the LLM expands each perspective to construct the final answer. Specifically, The model is then asked to generate an answer to the question, given the input containing the query <math alttext="x" class="ltx_Math" display="inline" id="S4.SS1.p5.1.m1.1"><semantics id="S4.SS1.p5.1.m1.1a"><mi id="S4.SS1.p5.1.m1.1.1" xref="S4.SS1.p5.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.1.m1.1b"><ci id="S4.SS1.p5.1.m1.1.1.cmml" xref="S4.SS1.p5.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p5.1.m1.1d">italic_x</annotation></semantics></math>, the context <math alttext="z" class="ltx_Math" display="inline" id="S4.SS1.p5.2.m2.1"><semantics id="S4.SS1.p5.2.m2.1a"><mi id="S4.SS1.p5.2.m2.1.1" xref="S4.SS1.p5.2.m2.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.2.m2.1b"><ci id="S4.SS1.p5.2.m2.1.1.cmml" xref="S4.SS1.p5.2.m2.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.2.m2.1c">z</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p5.2.m2.1d">italic_z</annotation></semantics></math> and the outline <math alttext="o" class="ltx_Math" display="inline" id="S4.SS1.p5.3.m3.1"><semantics id="S4.SS1.p5.3.m3.1a"><mi id="S4.SS1.p5.3.m3.1.1" xref="S4.SS1.p5.3.m3.1.1.cmml">o</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.3.m3.1b"><ci id="S4.SS1.p5.3.m3.1.1.cmml" xref="S4.SS1.p5.3.m3.1.1">𝑜</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.3.m3.1c">o</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p5.3.m3.1d">italic_o</annotation></semantics></math> generated in the first stage.</p>
</div>
<div class="ltx_para" id="S4.SS1.p6">
<p class="ltx_p" id="S4.SS1.p6.1">The training of the outline-enhanced generator follows the standard supervised fine-tuning (SFT) procedure, which is widely adopted in previous works <cite class="ltx_cite ltx_citemacro_citep">(Ouyang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib37" title="">2022</a>; Bai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib5" title="">2022</a>)</cite>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Outline-Enhanced Long-Form QA Dataset</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.2">As far as we know, there are only two open-sourced web-enhanced long-form QA datasets available for training web-enhanced RAG models.<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>The WebGPT demo website contains 272 samples, which can be used for evaluation but not sufficient for training.</span></span></span> The English dataset, i.e. the WebGLM-QA <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib30" title="">2023b</a>)</cite>, contains <math alttext="44k" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1"><semantics id="S4.SS2.p1.1.m1.1a"><mrow id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><mn id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2.cmml">44</mn><mo id="S4.SS2.p1.1.m1.1.1.1" xref="S4.SS2.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.1.m1.1.1.3" xref="S4.SS2.p1.1.m1.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><times id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1.1"></times><cn id="S4.SS2.p1.1.m1.1.1.2.cmml" type="integer" xref="S4.SS2.p1.1.m1.1.1.2">44</cn><ci id="S4.SS2.p1.1.m1.1.1.3.cmml" xref="S4.SS2.p1.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">44k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">44 italic_k</annotation></semantics></math> samples, while the Chinese dataset, i.e. WebCPM <cite class="ltx_cite ltx_citemacro_citep">(Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib38" title="">2023</a>)</cite>, contains <math alttext="5,500" class="ltx_Math" display="inline" id="S4.SS2.p1.2.m2.2"><semantics id="S4.SS2.p1.2.m2.2a"><mrow id="S4.SS2.p1.2.m2.2.3.2" xref="S4.SS2.p1.2.m2.2.3.1.cmml"><mn id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml">5</mn><mo id="S4.SS2.p1.2.m2.2.3.2.1" xref="S4.SS2.p1.2.m2.2.3.1.cmml">,</mo><mn id="S4.SS2.p1.2.m2.2.2" xref="S4.SS2.p1.2.m2.2.2.cmml">500</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.2b"><list id="S4.SS2.p1.2.m2.2.3.1.cmml" xref="S4.SS2.p1.2.m2.2.3.2"><cn id="S4.SS2.p1.2.m2.1.1.cmml" type="integer" xref="S4.SS2.p1.2.m2.1.1">5</cn><cn id="S4.SS2.p1.2.m2.2.2.cmml" type="integer" xref="S4.SS2.p1.2.m2.2.2">500</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.2c">5,500</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.2.m2.2d">5 , 500</annotation></semantics></math> samples. The queries in both datasets are sampled from ELI5 <cite class="ltx_cite ltx_citemacro_citep">(Fan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib13" title="">2019</a>)</cite>, where WebGLM-QA sample question from it, and WebCPM additionally uses human annotators to translate the question into Chinese. The Web search engine are used to collect relevant passages.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">We construct an outline-enhanced bilingual long-form QA dataset using the queries and relevant passages from these two datasets. We apply our outline-enhanced generation technique using GPT4 <cite class="ltx_cite ltx_citemacro_citep">(Achiam et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib2" title="">2023</a>)</cite> to collect outline-enhanced answers. We design a prompt to instruct GPT4 to execute the outline stage and the expansion stage in a step-by-step manner, which is provided in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#A1" title="Appendix A Prompts For Generation ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">A</span></a>.
The detailed statistics of the existing datasets and our outline-enhanced answers are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S4.T1" title="Table 1 ‣ 4.1. Outline-Enhanced Generator ‣ 4. Outline-Enhanced RAG ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">1</span></a>. It is clear that our demonstration answers are much longer than that in existing works, due to the stronger logic structure (examples are provided in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#A4" title="Appendix D Dataset Modification Samples ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">D</span></a>).
The outline-enhanced answers derived from WebCPM and WebGLM are publicly available. <sup class="ltx_sup" id="S4.SS2.p2.1.1"><a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#footnote1" title="footnote 1 ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">1</span></a></sup></p>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1">Note that the imbalance of the amount of training samples in English and Chinese datasets may pose difficulty to train a bilingual web-enhanced RAG model. To overcome this difficulty, we further collect <math alttext="39k" class="ltx_Math" display="inline" id="S4.SS2.p3.1.m1.1"><semantics id="S4.SS2.p3.1.m1.1a"><mrow id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml"><mn id="S4.SS2.p3.1.m1.1.1.2" xref="S4.SS2.p3.1.m1.1.1.2.cmml">39</mn><mo id="S4.SS2.p3.1.m1.1.1.1" xref="S4.SS2.p3.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p3.1.m1.1.1.3" xref="S4.SS2.p3.1.m1.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><apply id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1"><times id="S4.SS2.p3.1.m1.1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1.1"></times><cn id="S4.SS2.p3.1.m1.1.1.2.cmml" type="integer" xref="S4.SS2.p3.1.m1.1.1.2">39</cn><ci id="S4.SS2.p3.1.m1.1.1.3.cmml" xref="S4.SS2.p3.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">39k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.1.m1.1d">39 italic_k</annotation></semantics></math> queries and relevant passages in Chinese from public sources, and follow the same process to generate outline-enhanced answers. These data will be released to the public after passing the censoring process of data release.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2. </span>The reward model training losses when combining different fine-grained evaluation and fine-grained reward modeling techniques are displayed. Note that our doubly fine-grained RLHF framework provides a unified framework, containing the existing RLHF <cite class="ltx_cite ltx_citemacro_citep">(Christiano et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib11" title="">2017</a>)</cite> and fine-grained RLHF approaches <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib53" title="">2023</a>; Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib51" title="">2023</a>)</cite> as special cases.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S4.T2.10.10">
<tr class="ltx_tr" id="S4.T2.10.10.11">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T2.10.10.11.1" rowspan="2"><span class="ltx_text" id="S4.T2.10.10.11.1.1"><span class="ltx_text" id="S4.T2.10.10.11.1.1.1"></span> <span class="ltx_text" id="S4.T2.10.10.11.1.1.2">
<span class="ltx_tabular ltx_align_middle" id="S4.T2.10.10.11.1.1.2.1">
<span class="ltx_tr" id="S4.T2.10.10.11.1.1.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T2.10.10.11.1.1.2.1.1.1">Reward model</span></span>
<span class="ltx_tr" id="S4.T2.10.10.11.1.1.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T2.10.10.11.1.1.2.1.2.1">granularity</span></span>
</span></span> <span class="ltx_text" id="S4.T2.10.10.11.1.1.3"></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="5" id="S4.T2.10.10.11.2">Evaluation Granularity</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.10.12">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.10.12.1">Holistic</td>
<td class="ltx_td ltx_border_t" id="S4.T2.10.10.12.2"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.10.12.3">Sentence-level</td>
<td class="ltx_td ltx_border_t" id="S4.T2.10.10.12.4"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.10.12.5">Subclaim-level</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.5.5">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.5.5.5.6">Sequence-level</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.1.1">Logloss(<math alttext="\hat{\bm{R}}_{\phi},r" class="ltx_Math" display="inline" id="S4.T2.1.1.1.1.m1.2"><semantics id="S4.T2.1.1.1.1.m1.2a"><mrow id="S4.T2.1.1.1.1.m1.2.2.1" xref="S4.T2.1.1.1.1.m1.2.2.2.cmml"><msub id="S4.T2.1.1.1.1.m1.2.2.1.1" xref="S4.T2.1.1.1.1.m1.2.2.1.1.cmml"><mover accent="true" id="S4.T2.1.1.1.1.m1.2.2.1.1.2" xref="S4.T2.1.1.1.1.m1.2.2.1.1.2.cmml"><mi id="S4.T2.1.1.1.1.m1.2.2.1.1.2.2" xref="S4.T2.1.1.1.1.m1.2.2.1.1.2.2.cmml">𝑹</mi><mo id="S4.T2.1.1.1.1.m1.2.2.1.1.2.1" xref="S4.T2.1.1.1.1.m1.2.2.1.1.2.1.cmml">^</mo></mover><mi id="S4.T2.1.1.1.1.m1.2.2.1.1.3" xref="S4.T2.1.1.1.1.m1.2.2.1.1.3.cmml">ϕ</mi></msub><mo id="S4.T2.1.1.1.1.m1.2.2.1.2" xref="S4.T2.1.1.1.1.m1.2.2.2.cmml">,</mo><mi id="S4.T2.1.1.1.1.m1.1.1" xref="S4.T2.1.1.1.1.m1.1.1.cmml">r</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.1.m1.2b"><list id="S4.T2.1.1.1.1.m1.2.2.2.cmml" xref="S4.T2.1.1.1.1.m1.2.2.1"><apply id="S4.T2.1.1.1.1.m1.2.2.1.1.cmml" xref="S4.T2.1.1.1.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S4.T2.1.1.1.1.m1.2.2.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.2.2.1.1">subscript</csymbol><apply id="S4.T2.1.1.1.1.m1.2.2.1.1.2.cmml" xref="S4.T2.1.1.1.1.m1.2.2.1.1.2"><ci id="S4.T2.1.1.1.1.m1.2.2.1.1.2.1.cmml" xref="S4.T2.1.1.1.1.m1.2.2.1.1.2.1">^</ci><ci id="S4.T2.1.1.1.1.m1.2.2.1.1.2.2.cmml" xref="S4.T2.1.1.1.1.m1.2.2.1.1.2.2">𝑹</ci></apply><ci id="S4.T2.1.1.1.1.m1.2.2.1.1.3.cmml" xref="S4.T2.1.1.1.1.m1.2.2.1.1.3">italic-ϕ</ci></apply><ci id="S4.T2.1.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.1.1">𝑟</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.1.m1.2c">\hat{\bm{R}}_{\phi},r</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.1.m1.2d">over^ start_ARG bold_italic_R end_ARG start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT , italic_r</annotation></semantics></math>)<cite class="ltx_cite ltx_citemacro_citep">(Christiano et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib11" title="">2017</a>)</cite>
</td>
<td class="ltx_td ltx_border_t" id="S4.T2.5.5.5.7"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.3.3.3.3">
<math alttext="\sum_{i=1}^{L}" class="ltx_Math" display="inline" id="S4.T2.2.2.2.2.m1.1"><semantics id="S4.T2.2.2.2.2.m1.1a"><msubsup id="S4.T2.2.2.2.2.m1.1.1" xref="S4.T2.2.2.2.2.m1.1.1.cmml"><mo id="S4.T2.2.2.2.2.m1.1.1.2.2" xref="S4.T2.2.2.2.2.m1.1.1.2.2.cmml">∑</mo><mrow id="S4.T2.2.2.2.2.m1.1.1.2.3" xref="S4.T2.2.2.2.2.m1.1.1.2.3.cmml"><mi id="S4.T2.2.2.2.2.m1.1.1.2.3.2" xref="S4.T2.2.2.2.2.m1.1.1.2.3.2.cmml">i</mi><mo id="S4.T2.2.2.2.2.m1.1.1.2.3.1" xref="S4.T2.2.2.2.2.m1.1.1.2.3.1.cmml">=</mo><mn id="S4.T2.2.2.2.2.m1.1.1.2.3.3" xref="S4.T2.2.2.2.2.m1.1.1.2.3.3.cmml">1</mn></mrow><mi id="S4.T2.2.2.2.2.m1.1.1.3" xref="S4.T2.2.2.2.2.m1.1.1.3.cmml">L</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.2.m1.1b"><apply id="S4.T2.2.2.2.2.m1.1.1.cmml" xref="S4.T2.2.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.2.2.2.2.m1.1.1.1.cmml" xref="S4.T2.2.2.2.2.m1.1.1">superscript</csymbol><apply id="S4.T2.2.2.2.2.m1.1.1.2.cmml" xref="S4.T2.2.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.2.2.2.2.m1.1.1.2.1.cmml" xref="S4.T2.2.2.2.2.m1.1.1">subscript</csymbol><sum id="S4.T2.2.2.2.2.m1.1.1.2.2.cmml" xref="S4.T2.2.2.2.2.m1.1.1.2.2"></sum><apply id="S4.T2.2.2.2.2.m1.1.1.2.3.cmml" xref="S4.T2.2.2.2.2.m1.1.1.2.3"><eq id="S4.T2.2.2.2.2.m1.1.1.2.3.1.cmml" xref="S4.T2.2.2.2.2.m1.1.1.2.3.1"></eq><ci id="S4.T2.2.2.2.2.m1.1.1.2.3.2.cmml" xref="S4.T2.2.2.2.2.m1.1.1.2.3.2">𝑖</ci><cn id="S4.T2.2.2.2.2.m1.1.1.2.3.3.cmml" type="integer" xref="S4.T2.2.2.2.2.m1.1.1.2.3.3">1</cn></apply></apply><ci id="S4.T2.2.2.2.2.m1.1.1.3.cmml" xref="S4.T2.2.2.2.2.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.2.m1.1c">\sum_{i=1}^{L}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.2.2.2.m1.1d">∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_L end_POSTSUPERSCRIPT</annotation></semantics></math> Logloss(<math alttext="\hat{\bm{R}}_{\phi}[i],\bm{r}_{i}" class="ltx_Math" display="inline" id="S4.T2.3.3.3.3.m2.3"><semantics id="S4.T2.3.3.3.3.m2.3a"><mrow id="S4.T2.3.3.3.3.m2.3.3.2" xref="S4.T2.3.3.3.3.m2.3.3.3.cmml"><mrow id="S4.T2.3.3.3.3.m2.2.2.1.1" xref="S4.T2.3.3.3.3.m2.2.2.1.1.cmml"><msub id="S4.T2.3.3.3.3.m2.2.2.1.1.2" xref="S4.T2.3.3.3.3.m2.2.2.1.1.2.cmml"><mover accent="true" id="S4.T2.3.3.3.3.m2.2.2.1.1.2.2" xref="S4.T2.3.3.3.3.m2.2.2.1.1.2.2.cmml"><mi id="S4.T2.3.3.3.3.m2.2.2.1.1.2.2.2" xref="S4.T2.3.3.3.3.m2.2.2.1.1.2.2.2.cmml">𝑹</mi><mo id="S4.T2.3.3.3.3.m2.2.2.1.1.2.2.1" xref="S4.T2.3.3.3.3.m2.2.2.1.1.2.2.1.cmml">^</mo></mover><mi id="S4.T2.3.3.3.3.m2.2.2.1.1.2.3" xref="S4.T2.3.3.3.3.m2.2.2.1.1.2.3.cmml">ϕ</mi></msub><mo id="S4.T2.3.3.3.3.m2.2.2.1.1.1" xref="S4.T2.3.3.3.3.m2.2.2.1.1.1.cmml">⁢</mo><mrow id="S4.T2.3.3.3.3.m2.2.2.1.1.3.2" xref="S4.T2.3.3.3.3.m2.2.2.1.1.3.1.cmml"><mo id="S4.T2.3.3.3.3.m2.2.2.1.1.3.2.1" stretchy="false" xref="S4.T2.3.3.3.3.m2.2.2.1.1.3.1.1.cmml">[</mo><mi id="S4.T2.3.3.3.3.m2.1.1" xref="S4.T2.3.3.3.3.m2.1.1.cmml">i</mi><mo id="S4.T2.3.3.3.3.m2.2.2.1.1.3.2.2" stretchy="false" xref="S4.T2.3.3.3.3.m2.2.2.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S4.T2.3.3.3.3.m2.3.3.2.3" xref="S4.T2.3.3.3.3.m2.3.3.3.cmml">,</mo><msub id="S4.T2.3.3.3.3.m2.3.3.2.2" xref="S4.T2.3.3.3.3.m2.3.3.2.2.cmml"><mi id="S4.T2.3.3.3.3.m2.3.3.2.2.2" xref="S4.T2.3.3.3.3.m2.3.3.2.2.2.cmml">𝒓</mi><mi id="S4.T2.3.3.3.3.m2.3.3.2.2.3" xref="S4.T2.3.3.3.3.m2.3.3.2.2.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.3.3.m2.3b"><list id="S4.T2.3.3.3.3.m2.3.3.3.cmml" xref="S4.T2.3.3.3.3.m2.3.3.2"><apply id="S4.T2.3.3.3.3.m2.2.2.1.1.cmml" xref="S4.T2.3.3.3.3.m2.2.2.1.1"><times id="S4.T2.3.3.3.3.m2.2.2.1.1.1.cmml" xref="S4.T2.3.3.3.3.m2.2.2.1.1.1"></times><apply id="S4.T2.3.3.3.3.m2.2.2.1.1.2.cmml" xref="S4.T2.3.3.3.3.m2.2.2.1.1.2"><csymbol cd="ambiguous" id="S4.T2.3.3.3.3.m2.2.2.1.1.2.1.cmml" xref="S4.T2.3.3.3.3.m2.2.2.1.1.2">subscript</csymbol><apply id="S4.T2.3.3.3.3.m2.2.2.1.1.2.2.cmml" xref="S4.T2.3.3.3.3.m2.2.2.1.1.2.2"><ci id="S4.T2.3.3.3.3.m2.2.2.1.1.2.2.1.cmml" xref="S4.T2.3.3.3.3.m2.2.2.1.1.2.2.1">^</ci><ci id="S4.T2.3.3.3.3.m2.2.2.1.1.2.2.2.cmml" xref="S4.T2.3.3.3.3.m2.2.2.1.1.2.2.2">𝑹</ci></apply><ci id="S4.T2.3.3.3.3.m2.2.2.1.1.2.3.cmml" xref="S4.T2.3.3.3.3.m2.2.2.1.1.2.3">italic-ϕ</ci></apply><apply id="S4.T2.3.3.3.3.m2.2.2.1.1.3.1.cmml" xref="S4.T2.3.3.3.3.m2.2.2.1.1.3.2"><csymbol cd="latexml" id="S4.T2.3.3.3.3.m2.2.2.1.1.3.1.1.cmml" xref="S4.T2.3.3.3.3.m2.2.2.1.1.3.2.1">delimited-[]</csymbol><ci id="S4.T2.3.3.3.3.m2.1.1.cmml" xref="S4.T2.3.3.3.3.m2.1.1">𝑖</ci></apply></apply><apply id="S4.T2.3.3.3.3.m2.3.3.2.2.cmml" xref="S4.T2.3.3.3.3.m2.3.3.2.2"><csymbol cd="ambiguous" id="S4.T2.3.3.3.3.m2.3.3.2.2.1.cmml" xref="S4.T2.3.3.3.3.m2.3.3.2.2">subscript</csymbol><ci id="S4.T2.3.3.3.3.m2.3.3.2.2.2.cmml" xref="S4.T2.3.3.3.3.m2.3.3.2.2.2">𝒓</ci><ci id="S4.T2.3.3.3.3.m2.3.3.2.2.3.cmml" xref="S4.T2.3.3.3.3.m2.3.3.2.2.3">𝑖</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.3.3.m2.3c">\hat{\bm{R}}_{\phi}[i],\bm{r}_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.3.3.3.m2.3d">over^ start_ARG bold_italic_R end_ARG start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT [ italic_i ] , bold_italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>)<cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib51" title="">2023</a>)</cite>
</td>
<td class="ltx_td ltx_border_t" id="S4.T2.5.5.5.8"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.5.5.5">
<math alttext="\sum_{i=1}^{L}" class="ltx_Math" display="inline" id="S4.T2.4.4.4.4.m1.1"><semantics id="S4.T2.4.4.4.4.m1.1a"><msubsup id="S4.T2.4.4.4.4.m1.1.1" xref="S4.T2.4.4.4.4.m1.1.1.cmml"><mo id="S4.T2.4.4.4.4.m1.1.1.2.2" xref="S4.T2.4.4.4.4.m1.1.1.2.2.cmml">∑</mo><mrow id="S4.T2.4.4.4.4.m1.1.1.2.3" xref="S4.T2.4.4.4.4.m1.1.1.2.3.cmml"><mi id="S4.T2.4.4.4.4.m1.1.1.2.3.2" xref="S4.T2.4.4.4.4.m1.1.1.2.3.2.cmml">i</mi><mo id="S4.T2.4.4.4.4.m1.1.1.2.3.1" xref="S4.T2.4.4.4.4.m1.1.1.2.3.1.cmml">=</mo><mn id="S4.T2.4.4.4.4.m1.1.1.2.3.3" xref="S4.T2.4.4.4.4.m1.1.1.2.3.3.cmml">1</mn></mrow><mi id="S4.T2.4.4.4.4.m1.1.1.3" xref="S4.T2.4.4.4.4.m1.1.1.3.cmml">L</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.4.4.m1.1b"><apply id="S4.T2.4.4.4.4.m1.1.1.cmml" xref="S4.T2.4.4.4.4.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.4.4.4.4.m1.1.1.1.cmml" xref="S4.T2.4.4.4.4.m1.1.1">superscript</csymbol><apply id="S4.T2.4.4.4.4.m1.1.1.2.cmml" xref="S4.T2.4.4.4.4.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.4.4.4.4.m1.1.1.2.1.cmml" xref="S4.T2.4.4.4.4.m1.1.1">subscript</csymbol><sum id="S4.T2.4.4.4.4.m1.1.1.2.2.cmml" xref="S4.T2.4.4.4.4.m1.1.1.2.2"></sum><apply id="S4.T2.4.4.4.4.m1.1.1.2.3.cmml" xref="S4.T2.4.4.4.4.m1.1.1.2.3"><eq id="S4.T2.4.4.4.4.m1.1.1.2.3.1.cmml" xref="S4.T2.4.4.4.4.m1.1.1.2.3.1"></eq><ci id="S4.T2.4.4.4.4.m1.1.1.2.3.2.cmml" xref="S4.T2.4.4.4.4.m1.1.1.2.3.2">𝑖</ci><cn id="S4.T2.4.4.4.4.m1.1.1.2.3.3.cmml" type="integer" xref="S4.T2.4.4.4.4.m1.1.1.2.3.3">1</cn></apply></apply><ci id="S4.T2.4.4.4.4.m1.1.1.3.cmml" xref="S4.T2.4.4.4.4.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.4.4.m1.1c">\sum_{i=1}^{L}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.4.4.4.m1.1d">∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_L end_POSTSUPERSCRIPT</annotation></semantics></math> MSE(<math alttext="\hat{\bm{R}}_{\phi}[i],\textrm{Agg}_{j}(\bm{R}_{ij})" class="ltx_Math" display="inline" id="S4.T2.5.5.5.5.m2.3"><semantics id="S4.T2.5.5.5.5.m2.3a"><mrow id="S4.T2.5.5.5.5.m2.3.3.2" xref="S4.T2.5.5.5.5.m2.3.3.3.cmml"><mrow id="S4.T2.5.5.5.5.m2.2.2.1.1" xref="S4.T2.5.5.5.5.m2.2.2.1.1.cmml"><msub id="S4.T2.5.5.5.5.m2.2.2.1.1.2" xref="S4.T2.5.5.5.5.m2.2.2.1.1.2.cmml"><mover accent="true" id="S4.T2.5.5.5.5.m2.2.2.1.1.2.2" xref="S4.T2.5.5.5.5.m2.2.2.1.1.2.2.cmml"><mi id="S4.T2.5.5.5.5.m2.2.2.1.1.2.2.2" xref="S4.T2.5.5.5.5.m2.2.2.1.1.2.2.2.cmml">𝑹</mi><mo id="S4.T2.5.5.5.5.m2.2.2.1.1.2.2.1" xref="S4.T2.5.5.5.5.m2.2.2.1.1.2.2.1.cmml">^</mo></mover><mi id="S4.T2.5.5.5.5.m2.2.2.1.1.2.3" xref="S4.T2.5.5.5.5.m2.2.2.1.1.2.3.cmml">ϕ</mi></msub><mo id="S4.T2.5.5.5.5.m2.2.2.1.1.1" xref="S4.T2.5.5.5.5.m2.2.2.1.1.1.cmml">⁢</mo><mrow id="S4.T2.5.5.5.5.m2.2.2.1.1.3.2" xref="S4.T2.5.5.5.5.m2.2.2.1.1.3.1.cmml"><mo id="S4.T2.5.5.5.5.m2.2.2.1.1.3.2.1" stretchy="false" xref="S4.T2.5.5.5.5.m2.2.2.1.1.3.1.1.cmml">[</mo><mi id="S4.T2.5.5.5.5.m2.1.1" xref="S4.T2.5.5.5.5.m2.1.1.cmml">i</mi><mo id="S4.T2.5.5.5.5.m2.2.2.1.1.3.2.2" stretchy="false" xref="S4.T2.5.5.5.5.m2.2.2.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S4.T2.5.5.5.5.m2.3.3.2.3" xref="S4.T2.5.5.5.5.m2.3.3.3.cmml">,</mo><mrow id="S4.T2.5.5.5.5.m2.3.3.2.2" xref="S4.T2.5.5.5.5.m2.3.3.2.2.cmml"><msub id="S4.T2.5.5.5.5.m2.3.3.2.2.3" xref="S4.T2.5.5.5.5.m2.3.3.2.2.3.cmml"><mtext id="S4.T2.5.5.5.5.m2.3.3.2.2.3.2" xref="S4.T2.5.5.5.5.m2.3.3.2.2.3.2a.cmml">Agg</mtext><mi id="S4.T2.5.5.5.5.m2.3.3.2.2.3.3" xref="S4.T2.5.5.5.5.m2.3.3.2.2.3.3.cmml">j</mi></msub><mo id="S4.T2.5.5.5.5.m2.3.3.2.2.2" xref="S4.T2.5.5.5.5.m2.3.3.2.2.2.cmml">⁢</mo><mrow id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.cmml"><mo id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.2" stretchy="false" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.cmml">(</mo><msub id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.cmml"><mi id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.2" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.2.cmml">𝑹</mi><mrow id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.cmml"><mi id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.2" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.2.cmml">i</mi><mo id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.1" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.1.cmml">⁢</mo><mi id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.3" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.3.cmml">j</mi></mrow></msub><mo id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.3" stretchy="false" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.5.5.m2.3b"><list id="S4.T2.5.5.5.5.m2.3.3.3.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2"><apply id="S4.T2.5.5.5.5.m2.2.2.1.1.cmml" xref="S4.T2.5.5.5.5.m2.2.2.1.1"><times id="S4.T2.5.5.5.5.m2.2.2.1.1.1.cmml" xref="S4.T2.5.5.5.5.m2.2.2.1.1.1"></times><apply id="S4.T2.5.5.5.5.m2.2.2.1.1.2.cmml" xref="S4.T2.5.5.5.5.m2.2.2.1.1.2"><csymbol cd="ambiguous" id="S4.T2.5.5.5.5.m2.2.2.1.1.2.1.cmml" xref="S4.T2.5.5.5.5.m2.2.2.1.1.2">subscript</csymbol><apply id="S4.T2.5.5.5.5.m2.2.2.1.1.2.2.cmml" xref="S4.T2.5.5.5.5.m2.2.2.1.1.2.2"><ci id="S4.T2.5.5.5.5.m2.2.2.1.1.2.2.1.cmml" xref="S4.T2.5.5.5.5.m2.2.2.1.1.2.2.1">^</ci><ci id="S4.T2.5.5.5.5.m2.2.2.1.1.2.2.2.cmml" xref="S4.T2.5.5.5.5.m2.2.2.1.1.2.2.2">𝑹</ci></apply><ci id="S4.T2.5.5.5.5.m2.2.2.1.1.2.3.cmml" xref="S4.T2.5.5.5.5.m2.2.2.1.1.2.3">italic-ϕ</ci></apply><apply id="S4.T2.5.5.5.5.m2.2.2.1.1.3.1.cmml" xref="S4.T2.5.5.5.5.m2.2.2.1.1.3.2"><csymbol cd="latexml" id="S4.T2.5.5.5.5.m2.2.2.1.1.3.1.1.cmml" xref="S4.T2.5.5.5.5.m2.2.2.1.1.3.2.1">delimited-[]</csymbol><ci id="S4.T2.5.5.5.5.m2.1.1.cmml" xref="S4.T2.5.5.5.5.m2.1.1">𝑖</ci></apply></apply><apply id="S4.T2.5.5.5.5.m2.3.3.2.2.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2"><times id="S4.T2.5.5.5.5.m2.3.3.2.2.2.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.2"></times><apply id="S4.T2.5.5.5.5.m2.3.3.2.2.3.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.3"><csymbol cd="ambiguous" id="S4.T2.5.5.5.5.m2.3.3.2.2.3.1.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.3">subscript</csymbol><ci id="S4.T2.5.5.5.5.m2.3.3.2.2.3.2a.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.3.2"><mtext id="S4.T2.5.5.5.5.m2.3.3.2.2.3.2.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.3.2">Agg</mtext></ci><ci id="S4.T2.5.5.5.5.m2.3.3.2.2.3.3.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.3.3">𝑗</ci></apply><apply id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1"><csymbol cd="ambiguous" id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.1.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1">subscript</csymbol><ci id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.2.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.2">𝑹</ci><apply id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3"><times id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.1.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.1"></times><ci id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.2.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.2">𝑖</ci><ci id="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.3.cmml" xref="S4.T2.5.5.5.5.m2.3.3.2.2.1.1.1.3.3">𝑗</ci></apply></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.5.5.m2.3c">\hat{\bm{R}}_{\phi}[i],\textrm{Agg}_{j}(\bm{R}_{ij})</annotation><annotation encoding="application/x-llamapun" id="S4.T2.5.5.5.5.m2.3d">over^ start_ARG bold_italic_R end_ARG start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT [ italic_i ] , Agg start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ( bold_italic_R start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT )</annotation></semantics></math>)</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.10.10">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T2.10.10.10.6">Token-level</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.6.6.6.1">Logloss(<math alttext="\textrm{Agg}_{t}(\hat{r}_{t}),r" class="ltx_Math" display="inline" id="S4.T2.6.6.6.1.m1.2"><semantics id="S4.T2.6.6.6.1.m1.2a"><mrow id="S4.T2.6.6.6.1.m1.2.2.1" xref="S4.T2.6.6.6.1.m1.2.2.2.cmml"><mrow id="S4.T2.6.6.6.1.m1.2.2.1.1" xref="S4.T2.6.6.6.1.m1.2.2.1.1.cmml"><msub id="S4.T2.6.6.6.1.m1.2.2.1.1.3" xref="S4.T2.6.6.6.1.m1.2.2.1.1.3.cmml"><mtext id="S4.T2.6.6.6.1.m1.2.2.1.1.3.2" xref="S4.T2.6.6.6.1.m1.2.2.1.1.3.2a.cmml">Agg</mtext><mi id="S4.T2.6.6.6.1.m1.2.2.1.1.3.3" xref="S4.T2.6.6.6.1.m1.2.2.1.1.3.3.cmml">t</mi></msub><mo id="S4.T2.6.6.6.1.m1.2.2.1.1.2" xref="S4.T2.6.6.6.1.m1.2.2.1.1.2.cmml">⁢</mo><mrow id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.cmml"><mo id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.2" stretchy="false" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.cmml">(</mo><msub id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.cmml"><mover accent="true" id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.2" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.2.cmml"><mi id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.2.2" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.2.2.cmml">r</mi><mo id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.2.1" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.3" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.3" stretchy="false" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.T2.6.6.6.1.m1.2.2.1.2" xref="S4.T2.6.6.6.1.m1.2.2.2.cmml">,</mo><mi id="S4.T2.6.6.6.1.m1.1.1" xref="S4.T2.6.6.6.1.m1.1.1.cmml">r</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.6.1.m1.2b"><list id="S4.T2.6.6.6.1.m1.2.2.2.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1"><apply id="S4.T2.6.6.6.1.m1.2.2.1.1.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1"><times id="S4.T2.6.6.6.1.m1.2.2.1.1.2.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1.2"></times><apply id="S4.T2.6.6.6.1.m1.2.2.1.1.3.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.2.2.1.1.3.1.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1.3">subscript</csymbol><ci id="S4.T2.6.6.6.1.m1.2.2.1.1.3.2a.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1.3.2"><mtext id="S4.T2.6.6.6.1.m1.2.2.1.1.3.2.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1.3.2">Agg</mtext></ci><ci id="S4.T2.6.6.6.1.m1.2.2.1.1.3.3.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1.3.3">𝑡</ci></apply><apply id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1">subscript</csymbol><apply id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.2"><ci id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.2.1.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.2.1">^</ci><ci id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.2.2.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.2.2">𝑟</ci></apply><ci id="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.3.cmml" xref="S4.T2.6.6.6.1.m1.2.2.1.1.1.1.1.3">𝑡</ci></apply></apply><ci id="S4.T2.6.6.6.1.m1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.1.1">𝑟</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.6.1.m1.2c">\textrm{Agg}_{t}(\hat{r}_{t}),r</annotation><annotation encoding="application/x-llamapun" id="S4.T2.6.6.6.1.m1.2d">Agg start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( over^ start_ARG italic_r end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) , italic_r</annotation></semantics></math>)<cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib53" title="">2023</a>)</cite>
</td>
<td class="ltx_td ltx_border_bb ltx_border_t" id="S4.T2.10.10.10.7"></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.8.8.8.3">
<math alttext="\sum_{i=1}^{L}" class="ltx_Math" display="inline" id="S4.T2.7.7.7.2.m1.1"><semantics id="S4.T2.7.7.7.2.m1.1a"><msubsup id="S4.T2.7.7.7.2.m1.1.1" xref="S4.T2.7.7.7.2.m1.1.1.cmml"><mo id="S4.T2.7.7.7.2.m1.1.1.2.2" xref="S4.T2.7.7.7.2.m1.1.1.2.2.cmml">∑</mo><mrow id="S4.T2.7.7.7.2.m1.1.1.2.3" xref="S4.T2.7.7.7.2.m1.1.1.2.3.cmml"><mi id="S4.T2.7.7.7.2.m1.1.1.2.3.2" xref="S4.T2.7.7.7.2.m1.1.1.2.3.2.cmml">i</mi><mo id="S4.T2.7.7.7.2.m1.1.1.2.3.1" xref="S4.T2.7.7.7.2.m1.1.1.2.3.1.cmml">=</mo><mn id="S4.T2.7.7.7.2.m1.1.1.2.3.3" xref="S4.T2.7.7.7.2.m1.1.1.2.3.3.cmml">1</mn></mrow><mi id="S4.T2.7.7.7.2.m1.1.1.3" xref="S4.T2.7.7.7.2.m1.1.1.3.cmml">L</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.T2.7.7.7.2.m1.1b"><apply id="S4.T2.7.7.7.2.m1.1.1.cmml" xref="S4.T2.7.7.7.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.7.7.7.2.m1.1.1.1.cmml" xref="S4.T2.7.7.7.2.m1.1.1">superscript</csymbol><apply id="S4.T2.7.7.7.2.m1.1.1.2.cmml" xref="S4.T2.7.7.7.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.7.7.7.2.m1.1.1.2.1.cmml" xref="S4.T2.7.7.7.2.m1.1.1">subscript</csymbol><sum id="S4.T2.7.7.7.2.m1.1.1.2.2.cmml" xref="S4.T2.7.7.7.2.m1.1.1.2.2"></sum><apply id="S4.T2.7.7.7.2.m1.1.1.2.3.cmml" xref="S4.T2.7.7.7.2.m1.1.1.2.3"><eq id="S4.T2.7.7.7.2.m1.1.1.2.3.1.cmml" xref="S4.T2.7.7.7.2.m1.1.1.2.3.1"></eq><ci id="S4.T2.7.7.7.2.m1.1.1.2.3.2.cmml" xref="S4.T2.7.7.7.2.m1.1.1.2.3.2">𝑖</ci><cn id="S4.T2.7.7.7.2.m1.1.1.2.3.3.cmml" type="integer" xref="S4.T2.7.7.7.2.m1.1.1.2.3.3">1</cn></apply></apply><ci id="S4.T2.7.7.7.2.m1.1.1.3.cmml" xref="S4.T2.7.7.7.2.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.7.7.7.2.m1.1c">\sum_{i=1}^{L}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.7.7.7.2.m1.1d">∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_L end_POSTSUPERSCRIPT</annotation></semantics></math> Logloss(<math alttext="\textrm{Agg}_{t}(\hat{r}_{t})[i],\bm{r}_{i}" class="ltx_Math" display="inline" id="S4.T2.8.8.8.3.m2.3"><semantics id="S4.T2.8.8.8.3.m2.3a"><mrow id="S4.T2.8.8.8.3.m2.3.3.2" xref="S4.T2.8.8.8.3.m2.3.3.3.cmml"><mrow id="S4.T2.8.8.8.3.m2.2.2.1.1" xref="S4.T2.8.8.8.3.m2.2.2.1.1.cmml"><msub id="S4.T2.8.8.8.3.m2.2.2.1.1.3" xref="S4.T2.8.8.8.3.m2.2.2.1.1.3.cmml"><mtext id="S4.T2.8.8.8.3.m2.2.2.1.1.3.2" xref="S4.T2.8.8.8.3.m2.2.2.1.1.3.2a.cmml">Agg</mtext><mi id="S4.T2.8.8.8.3.m2.2.2.1.1.3.3" xref="S4.T2.8.8.8.3.m2.2.2.1.1.3.3.cmml">t</mi></msub><mo id="S4.T2.8.8.8.3.m2.2.2.1.1.2" xref="S4.T2.8.8.8.3.m2.2.2.1.1.2.cmml">⁢</mo><mrow id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.cmml"><mo id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.2" stretchy="false" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.cmml">(</mo><msub id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.cmml"><mover accent="true" id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.2" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.2.cmml"><mi id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.2.2" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.2.2.cmml">r</mi><mo id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.2.1" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.3" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.3" stretchy="false" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.cmml">)</mo></mrow><mo id="S4.T2.8.8.8.3.m2.2.2.1.1.2a" xref="S4.T2.8.8.8.3.m2.2.2.1.1.2.cmml">⁢</mo><mrow id="S4.T2.8.8.8.3.m2.2.2.1.1.4.2" xref="S4.T2.8.8.8.3.m2.2.2.1.1.4.1.cmml"><mo id="S4.T2.8.8.8.3.m2.2.2.1.1.4.2.1" stretchy="false" xref="S4.T2.8.8.8.3.m2.2.2.1.1.4.1.1.cmml">[</mo><mi id="S4.T2.8.8.8.3.m2.1.1" xref="S4.T2.8.8.8.3.m2.1.1.cmml">i</mi><mo id="S4.T2.8.8.8.3.m2.2.2.1.1.4.2.2" stretchy="false" xref="S4.T2.8.8.8.3.m2.2.2.1.1.4.1.1.cmml">]</mo></mrow></mrow><mo id="S4.T2.8.8.8.3.m2.3.3.2.3" xref="S4.T2.8.8.8.3.m2.3.3.3.cmml">,</mo><msub id="S4.T2.8.8.8.3.m2.3.3.2.2" xref="S4.T2.8.8.8.3.m2.3.3.2.2.cmml"><mi id="S4.T2.8.8.8.3.m2.3.3.2.2.2" xref="S4.T2.8.8.8.3.m2.3.3.2.2.2.cmml">𝒓</mi><mi id="S4.T2.8.8.8.3.m2.3.3.2.2.3" xref="S4.T2.8.8.8.3.m2.3.3.2.2.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.8.8.8.3.m2.3b"><list id="S4.T2.8.8.8.3.m2.3.3.3.cmml" xref="S4.T2.8.8.8.3.m2.3.3.2"><apply id="S4.T2.8.8.8.3.m2.2.2.1.1.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1"><times id="S4.T2.8.8.8.3.m2.2.2.1.1.2.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.2"></times><apply id="S4.T2.8.8.8.3.m2.2.2.1.1.3.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.T2.8.8.8.3.m2.2.2.1.1.3.1.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.3">subscript</csymbol><ci id="S4.T2.8.8.8.3.m2.2.2.1.1.3.2a.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.3.2"><mtext id="S4.T2.8.8.8.3.m2.2.2.1.1.3.2.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.3.2">Agg</mtext></ci><ci id="S4.T2.8.8.8.3.m2.2.2.1.1.3.3.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.3.3">𝑡</ci></apply><apply id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.1.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1">subscript</csymbol><apply id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.2.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.2"><ci id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.2.1.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.2.1">^</ci><ci id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.2.2.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.2.2">𝑟</ci></apply><ci id="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.3.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.T2.8.8.8.3.m2.2.2.1.1.4.1.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.4.2"><csymbol cd="latexml" id="S4.T2.8.8.8.3.m2.2.2.1.1.4.1.1.cmml" xref="S4.T2.8.8.8.3.m2.2.2.1.1.4.2.1">delimited-[]</csymbol><ci id="S4.T2.8.8.8.3.m2.1.1.cmml" xref="S4.T2.8.8.8.3.m2.1.1">𝑖</ci></apply></apply><apply id="S4.T2.8.8.8.3.m2.3.3.2.2.cmml" xref="S4.T2.8.8.8.3.m2.3.3.2.2"><csymbol cd="ambiguous" id="S4.T2.8.8.8.3.m2.3.3.2.2.1.cmml" xref="S4.T2.8.8.8.3.m2.3.3.2.2">subscript</csymbol><ci id="S4.T2.8.8.8.3.m2.3.3.2.2.2.cmml" xref="S4.T2.8.8.8.3.m2.3.3.2.2.2">𝒓</ci><ci id="S4.T2.8.8.8.3.m2.3.3.2.2.3.cmml" xref="S4.T2.8.8.8.3.m2.3.3.2.2.3">𝑖</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.8.8.8.3.m2.3c">\textrm{Agg}_{t}(\hat{r}_{t})[i],\bm{r}_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.8.8.8.3.m2.3d">Agg start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( over^ start_ARG italic_r end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) [ italic_i ] , bold_italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>)</td>
<td class="ltx_td ltx_border_bb ltx_border_t" id="S4.T2.10.10.10.8"></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T2.10.10.10.5">
<math alttext="\sum_{i=1}^{L}" class="ltx_Math" display="inline" id="S4.T2.9.9.9.4.m1.1"><semantics id="S4.T2.9.9.9.4.m1.1a"><msubsup id="S4.T2.9.9.9.4.m1.1.1" xref="S4.T2.9.9.9.4.m1.1.1.cmml"><mo id="S4.T2.9.9.9.4.m1.1.1.2.2" xref="S4.T2.9.9.9.4.m1.1.1.2.2.cmml">∑</mo><mrow id="S4.T2.9.9.9.4.m1.1.1.2.3" xref="S4.T2.9.9.9.4.m1.1.1.2.3.cmml"><mi id="S4.T2.9.9.9.4.m1.1.1.2.3.2" xref="S4.T2.9.9.9.4.m1.1.1.2.3.2.cmml">i</mi><mo id="S4.T2.9.9.9.4.m1.1.1.2.3.1" xref="S4.T2.9.9.9.4.m1.1.1.2.3.1.cmml">=</mo><mn id="S4.T2.9.9.9.4.m1.1.1.2.3.3" xref="S4.T2.9.9.9.4.m1.1.1.2.3.3.cmml">1</mn></mrow><mi id="S4.T2.9.9.9.4.m1.1.1.3" xref="S4.T2.9.9.9.4.m1.1.1.3.cmml">L</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.T2.9.9.9.4.m1.1b"><apply id="S4.T2.9.9.9.4.m1.1.1.cmml" xref="S4.T2.9.9.9.4.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.9.9.9.4.m1.1.1.1.cmml" xref="S4.T2.9.9.9.4.m1.1.1">superscript</csymbol><apply id="S4.T2.9.9.9.4.m1.1.1.2.cmml" xref="S4.T2.9.9.9.4.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.9.9.9.4.m1.1.1.2.1.cmml" xref="S4.T2.9.9.9.4.m1.1.1">subscript</csymbol><sum id="S4.T2.9.9.9.4.m1.1.1.2.2.cmml" xref="S4.T2.9.9.9.4.m1.1.1.2.2"></sum><apply id="S4.T2.9.9.9.4.m1.1.1.2.3.cmml" xref="S4.T2.9.9.9.4.m1.1.1.2.3"><eq id="S4.T2.9.9.9.4.m1.1.1.2.3.1.cmml" xref="S4.T2.9.9.9.4.m1.1.1.2.3.1"></eq><ci id="S4.T2.9.9.9.4.m1.1.1.2.3.2.cmml" xref="S4.T2.9.9.9.4.m1.1.1.2.3.2">𝑖</ci><cn id="S4.T2.9.9.9.4.m1.1.1.2.3.3.cmml" type="integer" xref="S4.T2.9.9.9.4.m1.1.1.2.3.3">1</cn></apply></apply><ci id="S4.T2.9.9.9.4.m1.1.1.3.cmml" xref="S4.T2.9.9.9.4.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.9.9.9.4.m1.1c">\sum_{i=1}^{L}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.9.9.9.4.m1.1d">∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_L end_POSTSUPERSCRIPT</annotation></semantics></math> MSE(<math alttext="\textrm{Agg}_{t}(\hat{r}_{t})[i],\textrm{Agg}_{j}(\bm{R}_{ij})" class="ltx_Math" display="inline" id="S4.T2.10.10.10.5.m2.3"><semantics id="S4.T2.10.10.10.5.m2.3a"><mrow id="S4.T2.10.10.10.5.m2.3.3.2" xref="S4.T2.10.10.10.5.m2.3.3.3.cmml"><mrow id="S4.T2.10.10.10.5.m2.2.2.1.1" xref="S4.T2.10.10.10.5.m2.2.2.1.1.cmml"><msub id="S4.T2.10.10.10.5.m2.2.2.1.1.3" xref="S4.T2.10.10.10.5.m2.2.2.1.1.3.cmml"><mtext id="S4.T2.10.10.10.5.m2.2.2.1.1.3.2" xref="S4.T2.10.10.10.5.m2.2.2.1.1.3.2a.cmml">Agg</mtext><mi id="S4.T2.10.10.10.5.m2.2.2.1.1.3.3" xref="S4.T2.10.10.10.5.m2.2.2.1.1.3.3.cmml">t</mi></msub><mo id="S4.T2.10.10.10.5.m2.2.2.1.1.2" xref="S4.T2.10.10.10.5.m2.2.2.1.1.2.cmml">⁢</mo><mrow id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.cmml"><mo id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.2" stretchy="false" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.cmml">(</mo><msub id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.cmml"><mover accent="true" id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.2" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.2.cmml"><mi id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.2.2" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.2.2.cmml">r</mi><mo id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.2.1" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.3" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.3" stretchy="false" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.cmml">)</mo></mrow><mo id="S4.T2.10.10.10.5.m2.2.2.1.1.2a" xref="S4.T2.10.10.10.5.m2.2.2.1.1.2.cmml">⁢</mo><mrow id="S4.T2.10.10.10.5.m2.2.2.1.1.4.2" xref="S4.T2.10.10.10.5.m2.2.2.1.1.4.1.cmml"><mo id="S4.T2.10.10.10.5.m2.2.2.1.1.4.2.1" stretchy="false" xref="S4.T2.10.10.10.5.m2.2.2.1.1.4.1.1.cmml">[</mo><mi id="S4.T2.10.10.10.5.m2.1.1" xref="S4.T2.10.10.10.5.m2.1.1.cmml">i</mi><mo id="S4.T2.10.10.10.5.m2.2.2.1.1.4.2.2" stretchy="false" xref="S4.T2.10.10.10.5.m2.2.2.1.1.4.1.1.cmml">]</mo></mrow></mrow><mo id="S4.T2.10.10.10.5.m2.3.3.2.3" xref="S4.T2.10.10.10.5.m2.3.3.3.cmml">,</mo><mrow id="S4.T2.10.10.10.5.m2.3.3.2.2" xref="S4.T2.10.10.10.5.m2.3.3.2.2.cmml"><msub id="S4.T2.10.10.10.5.m2.3.3.2.2.3" xref="S4.T2.10.10.10.5.m2.3.3.2.2.3.cmml"><mtext id="S4.T2.10.10.10.5.m2.3.3.2.2.3.2" xref="S4.T2.10.10.10.5.m2.3.3.2.2.3.2a.cmml">Agg</mtext><mi id="S4.T2.10.10.10.5.m2.3.3.2.2.3.3" xref="S4.T2.10.10.10.5.m2.3.3.2.2.3.3.cmml">j</mi></msub><mo id="S4.T2.10.10.10.5.m2.3.3.2.2.2" xref="S4.T2.10.10.10.5.m2.3.3.2.2.2.cmml">⁢</mo><mrow id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.cmml"><mo id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.2" stretchy="false" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.cmml">(</mo><msub id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.cmml"><mi id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.2" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.2.cmml">𝑹</mi><mrow id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.cmml"><mi id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.2" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.2.cmml">i</mi><mo id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.1" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.1.cmml">⁢</mo><mi id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.3" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.3.cmml">j</mi></mrow></msub><mo id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.3" stretchy="false" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.10.10.10.5.m2.3b"><list id="S4.T2.10.10.10.5.m2.3.3.3.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2"><apply id="S4.T2.10.10.10.5.m2.2.2.1.1.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1"><times id="S4.T2.10.10.10.5.m2.2.2.1.1.2.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.2"></times><apply id="S4.T2.10.10.10.5.m2.2.2.1.1.3.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.T2.10.10.10.5.m2.2.2.1.1.3.1.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.3">subscript</csymbol><ci id="S4.T2.10.10.10.5.m2.2.2.1.1.3.2a.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.3.2"><mtext id="S4.T2.10.10.10.5.m2.2.2.1.1.3.2.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.3.2">Agg</mtext></ci><ci id="S4.T2.10.10.10.5.m2.2.2.1.1.3.3.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.3.3">𝑡</ci></apply><apply id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.1.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1">subscript</csymbol><apply id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.2.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.2"><ci id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.2.1.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.2.1">^</ci><ci id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.2.2.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.2.2">𝑟</ci></apply><ci id="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.3.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.T2.10.10.10.5.m2.2.2.1.1.4.1.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.4.2"><csymbol cd="latexml" id="S4.T2.10.10.10.5.m2.2.2.1.1.4.1.1.cmml" xref="S4.T2.10.10.10.5.m2.2.2.1.1.4.2.1">delimited-[]</csymbol><ci id="S4.T2.10.10.10.5.m2.1.1.cmml" xref="S4.T2.10.10.10.5.m2.1.1">𝑖</ci></apply></apply><apply id="S4.T2.10.10.10.5.m2.3.3.2.2.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2"><times id="S4.T2.10.10.10.5.m2.3.3.2.2.2.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.2"></times><apply id="S4.T2.10.10.10.5.m2.3.3.2.2.3.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.3"><csymbol cd="ambiguous" id="S4.T2.10.10.10.5.m2.3.3.2.2.3.1.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.3">subscript</csymbol><ci id="S4.T2.10.10.10.5.m2.3.3.2.2.3.2a.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.3.2"><mtext id="S4.T2.10.10.10.5.m2.3.3.2.2.3.2.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.3.2">Agg</mtext></ci><ci id="S4.T2.10.10.10.5.m2.3.3.2.2.3.3.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.3.3">𝑗</ci></apply><apply id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1"><csymbol cd="ambiguous" id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.1.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1">subscript</csymbol><ci id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.2.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.2">𝑹</ci><apply id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3"><times id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.1.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.1"></times><ci id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.2.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.2">𝑖</ci><ci id="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.3.cmml" xref="S4.T2.10.10.10.5.m2.3.3.2.2.1.1.1.3.3">𝑗</ci></apply></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.10.10.10.5.m2.3c">\textrm{Agg}_{t}(\hat{r}_{t})[i],\textrm{Agg}_{j}(\bm{R}_{ij})</annotation><annotation encoding="application/x-llamapun" id="S4.T2.10.10.10.5.m2.3d">Agg start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( over^ start_ARG italic_r end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) [ italic_i ] , Agg start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ( bold_italic_R start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT )</annotation></semantics></math>)</td>
</tr>
</table>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Factuality-Optimized RAG</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this section, we propose a novel factuality optimization method to address the aforementioned factuality issue in web-enhanced LFQA. Specifically, we first discuss the difficulty of directly applying the conventional RLHF method to factuality optimization, then develop a novel doubly fine-grained RLHF framework, which characterizes different granularities of automated evaluation and reward modeling, upon which our method is built.</p>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Difficulties of Directly Applying RLHF</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">In LLM alignment, reinforcement learning with human feedback (RLHF) <cite class="ltx_cite ltx_citemacro_citep">(Christiano et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib11" title="">2017</a>; Ouyang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib37" title="">2022</a>)</cite> is a widely used technique to reduce undesirable generations, e.g., harmful responses in chat assistant tasks <cite class="ltx_cite ltx_citemacro_citep">(Bai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib5" title="">2022</a>)</cite>. Viewing nonfactuality as a certain kind of undesirable behaviors, a natural way to promote factuality in web-enhanced RAG is to utilize RLHF to prevent the generator from producing nonfactual responses. To proceed, we first give a detailed description of RLHF.</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.12">Conventionally, RLHF is conducted on manually annotated preference data. For example, given the query <math alttext="x" class="ltx_Math" display="inline" id="S5.SS1.p2.1.m1.1"><semantics id="S5.SS1.p2.1.m1.1a"><mi id="S5.SS1.p2.1.m1.1.1" xref="S5.SS1.p2.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.1b"><ci id="S5.SS1.p2.1.m1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.1.m1.1d">italic_x</annotation></semantics></math> and the retrieved context <math alttext="z" class="ltx_Math" display="inline" id="S5.SS1.p2.2.m2.1"><semantics id="S5.SS1.p2.2.m2.1a"><mi id="S5.SS1.p2.2.m2.1.1" xref="S5.SS1.p2.2.m2.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.2.m2.1b"><ci id="S5.SS1.p2.2.m2.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.2.m2.1c">z</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.2.m2.1d">italic_z</annotation></semantics></math>, the factuality of an answer <math alttext="{\bm{a}}_{T}" class="ltx_Math" display="inline" id="S5.SS1.p2.3.m3.1"><semantics id="S5.SS1.p2.3.m3.1a"><msub id="S5.SS1.p2.3.m3.1.1" xref="S5.SS1.p2.3.m3.1.1.cmml"><mi id="S5.SS1.p2.3.m3.1.1.2" xref="S5.SS1.p2.3.m3.1.1.2.cmml">𝒂</mi><mi id="S5.SS1.p2.3.m3.1.1.3" xref="S5.SS1.p2.3.m3.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.3.m3.1b"><apply id="S5.SS1.p2.3.m3.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.3.m3.1.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1">subscript</csymbol><ci id="S5.SS1.p2.3.m3.1.1.2.cmml" xref="S5.SS1.p2.3.m3.1.1.2">𝒂</ci><ci id="S5.SS1.p2.3.m3.1.1.3.cmml" xref="S5.SS1.p2.3.m3.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.3.m3.1c">{\bm{a}}_{T}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.3.m3.1d">bold_italic_a start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT</annotation></semantics></math> (tokenized as <math alttext="(a_{1},\dots,a_{T})" class="ltx_Math" display="inline" id="S5.SS1.p2.4.m4.3"><semantics id="S5.SS1.p2.4.m4.3a"><mrow id="S5.SS1.p2.4.m4.3.3.2" xref="S5.SS1.p2.4.m4.3.3.3.cmml"><mo id="S5.SS1.p2.4.m4.3.3.2.3" stretchy="false" xref="S5.SS1.p2.4.m4.3.3.3.cmml">(</mo><msub id="S5.SS1.p2.4.m4.2.2.1.1" xref="S5.SS1.p2.4.m4.2.2.1.1.cmml"><mi id="S5.SS1.p2.4.m4.2.2.1.1.2" xref="S5.SS1.p2.4.m4.2.2.1.1.2.cmml">a</mi><mn id="S5.SS1.p2.4.m4.2.2.1.1.3" xref="S5.SS1.p2.4.m4.2.2.1.1.3.cmml">1</mn></msub><mo id="S5.SS1.p2.4.m4.3.3.2.4" xref="S5.SS1.p2.4.m4.3.3.3.cmml">,</mo><mi id="S5.SS1.p2.4.m4.1.1" mathvariant="normal" xref="S5.SS1.p2.4.m4.1.1.cmml">…</mi><mo id="S5.SS1.p2.4.m4.3.3.2.5" xref="S5.SS1.p2.4.m4.3.3.3.cmml">,</mo><msub id="S5.SS1.p2.4.m4.3.3.2.2" xref="S5.SS1.p2.4.m4.3.3.2.2.cmml"><mi id="S5.SS1.p2.4.m4.3.3.2.2.2" xref="S5.SS1.p2.4.m4.3.3.2.2.2.cmml">a</mi><mi id="S5.SS1.p2.4.m4.3.3.2.2.3" xref="S5.SS1.p2.4.m4.3.3.2.2.3.cmml">T</mi></msub><mo id="S5.SS1.p2.4.m4.3.3.2.6" stretchy="false" xref="S5.SS1.p2.4.m4.3.3.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.4.m4.3b"><vector id="S5.SS1.p2.4.m4.3.3.3.cmml" xref="S5.SS1.p2.4.m4.3.3.2"><apply id="S5.SS1.p2.4.m4.2.2.1.1.cmml" xref="S5.SS1.p2.4.m4.2.2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.4.m4.2.2.1.1.1.cmml" xref="S5.SS1.p2.4.m4.2.2.1.1">subscript</csymbol><ci id="S5.SS1.p2.4.m4.2.2.1.1.2.cmml" xref="S5.SS1.p2.4.m4.2.2.1.1.2">𝑎</ci><cn id="S5.SS1.p2.4.m4.2.2.1.1.3.cmml" type="integer" xref="S5.SS1.p2.4.m4.2.2.1.1.3">1</cn></apply><ci id="S5.SS1.p2.4.m4.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1">…</ci><apply id="S5.SS1.p2.4.m4.3.3.2.2.cmml" xref="S5.SS1.p2.4.m4.3.3.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.4.m4.3.3.2.2.1.cmml" xref="S5.SS1.p2.4.m4.3.3.2.2">subscript</csymbol><ci id="S5.SS1.p2.4.m4.3.3.2.2.2.cmml" xref="S5.SS1.p2.4.m4.3.3.2.2.2">𝑎</ci><ci id="S5.SS1.p2.4.m4.3.3.2.2.3.cmml" xref="S5.SS1.p2.4.m4.3.3.2.2.3">𝑇</ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.4.m4.3c">(a_{1},\dots,a_{T})</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.4.m4.3d">( italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_a start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT )</annotation></semantics></math>) can be annotated as <math alttext="r\sim\mathcal{R}({\bm{a}}_{T},x,z)" class="ltx_Math" display="inline" id="S5.SS1.p2.5.m5.3"><semantics id="S5.SS1.p2.5.m5.3a"><mrow id="S5.SS1.p2.5.m5.3.3" xref="S5.SS1.p2.5.m5.3.3.cmml"><mi id="S5.SS1.p2.5.m5.3.3.3" xref="S5.SS1.p2.5.m5.3.3.3.cmml">r</mi><mo id="S5.SS1.p2.5.m5.3.3.2" xref="S5.SS1.p2.5.m5.3.3.2.cmml">∼</mo><mrow id="S5.SS1.p2.5.m5.3.3.1" xref="S5.SS1.p2.5.m5.3.3.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS1.p2.5.m5.3.3.1.3" xref="S5.SS1.p2.5.m5.3.3.1.3.cmml">ℛ</mi><mo id="S5.SS1.p2.5.m5.3.3.1.2" xref="S5.SS1.p2.5.m5.3.3.1.2.cmml">⁢</mo><mrow id="S5.SS1.p2.5.m5.3.3.1.1.1" xref="S5.SS1.p2.5.m5.3.3.1.1.2.cmml"><mo id="S5.SS1.p2.5.m5.3.3.1.1.1.2" stretchy="false" xref="S5.SS1.p2.5.m5.3.3.1.1.2.cmml">(</mo><msub id="S5.SS1.p2.5.m5.3.3.1.1.1.1" xref="S5.SS1.p2.5.m5.3.3.1.1.1.1.cmml"><mi id="S5.SS1.p2.5.m5.3.3.1.1.1.1.2" xref="S5.SS1.p2.5.m5.3.3.1.1.1.1.2.cmml">𝒂</mi><mi id="S5.SS1.p2.5.m5.3.3.1.1.1.1.3" xref="S5.SS1.p2.5.m5.3.3.1.1.1.1.3.cmml">T</mi></msub><mo id="S5.SS1.p2.5.m5.3.3.1.1.1.3" xref="S5.SS1.p2.5.m5.3.3.1.1.2.cmml">,</mo><mi id="S5.SS1.p2.5.m5.1.1" xref="S5.SS1.p2.5.m5.1.1.cmml">x</mi><mo id="S5.SS1.p2.5.m5.3.3.1.1.1.4" xref="S5.SS1.p2.5.m5.3.3.1.1.2.cmml">,</mo><mi id="S5.SS1.p2.5.m5.2.2" xref="S5.SS1.p2.5.m5.2.2.cmml">z</mi><mo id="S5.SS1.p2.5.m5.3.3.1.1.1.5" stretchy="false" xref="S5.SS1.p2.5.m5.3.3.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.5.m5.3b"><apply id="S5.SS1.p2.5.m5.3.3.cmml" xref="S5.SS1.p2.5.m5.3.3"><csymbol cd="latexml" id="S5.SS1.p2.5.m5.3.3.2.cmml" xref="S5.SS1.p2.5.m5.3.3.2">similar-to</csymbol><ci id="S5.SS1.p2.5.m5.3.3.3.cmml" xref="S5.SS1.p2.5.m5.3.3.3">𝑟</ci><apply id="S5.SS1.p2.5.m5.3.3.1.cmml" xref="S5.SS1.p2.5.m5.3.3.1"><times id="S5.SS1.p2.5.m5.3.3.1.2.cmml" xref="S5.SS1.p2.5.m5.3.3.1.2"></times><ci id="S5.SS1.p2.5.m5.3.3.1.3.cmml" xref="S5.SS1.p2.5.m5.3.3.1.3">ℛ</ci><vector id="S5.SS1.p2.5.m5.3.3.1.1.2.cmml" xref="S5.SS1.p2.5.m5.3.3.1.1.1"><apply id="S5.SS1.p2.5.m5.3.3.1.1.1.1.cmml" xref="S5.SS1.p2.5.m5.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.5.m5.3.3.1.1.1.1.1.cmml" xref="S5.SS1.p2.5.m5.3.3.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p2.5.m5.3.3.1.1.1.1.2.cmml" xref="S5.SS1.p2.5.m5.3.3.1.1.1.1.2">𝒂</ci><ci id="S5.SS1.p2.5.m5.3.3.1.1.1.1.3.cmml" xref="S5.SS1.p2.5.m5.3.3.1.1.1.1.3">𝑇</ci></apply><ci id="S5.SS1.p2.5.m5.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1">𝑥</ci><ci id="S5.SS1.p2.5.m5.2.2.cmml" xref="S5.SS1.p2.5.m5.2.2">𝑧</ci></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.5.m5.3c">r\sim\mathcal{R}({\bm{a}}_{T},x,z)</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.5.m5.3d">italic_r ∼ caligraphic_R ( bold_italic_a start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT , italic_x , italic_z )</annotation></semantics></math>, where <math alttext="r\in[0,1]" class="ltx_Math" display="inline" id="S5.SS1.p2.6.m6.2"><semantics id="S5.SS1.p2.6.m6.2a"><mrow id="S5.SS1.p2.6.m6.2.3" xref="S5.SS1.p2.6.m6.2.3.cmml"><mi id="S5.SS1.p2.6.m6.2.3.2" xref="S5.SS1.p2.6.m6.2.3.2.cmml">r</mi><mo id="S5.SS1.p2.6.m6.2.3.1" xref="S5.SS1.p2.6.m6.2.3.1.cmml">∈</mo><mrow id="S5.SS1.p2.6.m6.2.3.3.2" xref="S5.SS1.p2.6.m6.2.3.3.1.cmml"><mo id="S5.SS1.p2.6.m6.2.3.3.2.1" stretchy="false" xref="S5.SS1.p2.6.m6.2.3.3.1.cmml">[</mo><mn id="S5.SS1.p2.6.m6.1.1" xref="S5.SS1.p2.6.m6.1.1.cmml">0</mn><mo id="S5.SS1.p2.6.m6.2.3.3.2.2" xref="S5.SS1.p2.6.m6.2.3.3.1.cmml">,</mo><mn id="S5.SS1.p2.6.m6.2.2" xref="S5.SS1.p2.6.m6.2.2.cmml">1</mn><mo id="S5.SS1.p2.6.m6.2.3.3.2.3" stretchy="false" xref="S5.SS1.p2.6.m6.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.6.m6.2b"><apply id="S5.SS1.p2.6.m6.2.3.cmml" xref="S5.SS1.p2.6.m6.2.3"><in id="S5.SS1.p2.6.m6.2.3.1.cmml" xref="S5.SS1.p2.6.m6.2.3.1"></in><ci id="S5.SS1.p2.6.m6.2.3.2.cmml" xref="S5.SS1.p2.6.m6.2.3.2">𝑟</ci><interval closure="closed" id="S5.SS1.p2.6.m6.2.3.3.1.cmml" xref="S5.SS1.p2.6.m6.2.3.3.2"><cn id="S5.SS1.p2.6.m6.1.1.cmml" type="integer" xref="S5.SS1.p2.6.m6.1.1">0</cn><cn id="S5.SS1.p2.6.m6.2.2.cmml" type="integer" xref="S5.SS1.p2.6.m6.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.6.m6.2c">r\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.6.m6.2d">italic_r ∈ [ 0 , 1 ]</annotation></semantics></math> reflects the underlying human preference. RLHF trains a <span class="ltx_text ltx_font_italic" id="S5.SS1.p2.12.1">reward model</span> <math alttext="\hat{R}" class="ltx_Math" display="inline" id="S5.SS1.p2.7.m7.1"><semantics id="S5.SS1.p2.7.m7.1a"><mover accent="true" id="S5.SS1.p2.7.m7.1.1" xref="S5.SS1.p2.7.m7.1.1.cmml"><mi id="S5.SS1.p2.7.m7.1.1.2" xref="S5.SS1.p2.7.m7.1.1.2.cmml">R</mi><mo id="S5.SS1.p2.7.m7.1.1.1" xref="S5.SS1.p2.7.m7.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.7.m7.1b"><apply id="S5.SS1.p2.7.m7.1.1.cmml" xref="S5.SS1.p2.7.m7.1.1"><ci id="S5.SS1.p2.7.m7.1.1.1.cmml" xref="S5.SS1.p2.7.m7.1.1.1">^</ci><ci id="S5.SS1.p2.7.m7.1.1.2.cmml" xref="S5.SS1.p2.7.m7.1.1.2">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.7.m7.1c">\hat{R}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.7.m7.1d">over^ start_ARG italic_R end_ARG</annotation></semantics></math> to estimate the factuality given any query <math alttext="x" class="ltx_Math" display="inline" id="S5.SS1.p2.8.m8.1"><semantics id="S5.SS1.p2.8.m8.1a"><mi id="S5.SS1.p2.8.m8.1.1" xref="S5.SS1.p2.8.m8.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.8.m8.1b"><ci id="S5.SS1.p2.8.m8.1.1.cmml" xref="S5.SS1.p2.8.m8.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.8.m8.1c">x</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.8.m8.1d">italic_x</annotation></semantics></math>, reference <math alttext="z" class="ltx_Math" display="inline" id="S5.SS1.p2.9.m9.1"><semantics id="S5.SS1.p2.9.m9.1a"><mi id="S5.SS1.p2.9.m9.1.1" xref="S5.SS1.p2.9.m9.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.9.m9.1b"><ci id="S5.SS1.p2.9.m9.1.1.cmml" xref="S5.SS1.p2.9.m9.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.9.m9.1c">z</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.9.m9.1d">italic_z</annotation></semantics></math>, and answer <math alttext="{\bm{a}}" class="ltx_Math" display="inline" id="S5.SS1.p2.10.m10.1"><semantics id="S5.SS1.p2.10.m10.1a"><mi id="S5.SS1.p2.10.m10.1.1" xref="S5.SS1.p2.10.m10.1.1.cmml">𝒂</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.10.m10.1b"><ci id="S5.SS1.p2.10.m10.1.1.cmml" xref="S5.SS1.p2.10.m10.1.1">𝒂</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.10.m10.1c">{\bm{a}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.10.m10.1d">bold_italic_a</annotation></semantics></math>, i.e., to learn the human preference function <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S5.SS1.p2.11.m11.1"><semantics id="S5.SS1.p2.11.m11.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS1.p2.11.m11.1.1" xref="S5.SS1.p2.11.m11.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.11.m11.1b"><ci id="S5.SS1.p2.11.m11.1.1.cmml" xref="S5.SS1.p2.11.m11.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.11.m11.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.11.m11.1d">caligraphic_R</annotation></semantics></math>. Then RL methods such as PPO are applied to optimize the generation model based on the trained reward model <math alttext="\hat{R}" class="ltx_Math" display="inline" id="S5.SS1.p2.12.m12.1"><semantics id="S5.SS1.p2.12.m12.1a"><mover accent="true" id="S5.SS1.p2.12.m12.1.1" xref="S5.SS1.p2.12.m12.1.1.cmml"><mi id="S5.SS1.p2.12.m12.1.1.2" xref="S5.SS1.p2.12.m12.1.1.2.cmml">R</mi><mo id="S5.SS1.p2.12.m12.1.1.1" xref="S5.SS1.p2.12.m12.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.12.m12.1b"><apply id="S5.SS1.p2.12.m12.1.1.cmml" xref="S5.SS1.p2.12.m12.1.1"><ci id="S5.SS1.p2.12.m12.1.1.1.cmml" xref="S5.SS1.p2.12.m12.1.1.1">^</ci><ci id="S5.SS1.p2.12.m12.1.1.2.cmml" xref="S5.SS1.p2.12.m12.1.1.2">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.12.m12.1c">\hat{R}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.12.m12.1d">over^ start_ARG italic_R end_ARG</annotation></semantics></math>. The optimization problem can be formulated as</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx1">
<tbody id="S5.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\max_{\theta}\sum_{s_{1}\sim{\mathcal{D}}}\sum_{t=1}^{T}\mathbb{E%
}_{a_{t}\sim\pi_{\theta}(\cdot|s_{t}))}" class="ltx_math_unparsed" display="inline" id="S5.Ex1.m1.1"><semantics id="S5.Ex1.m1.1a"><mrow id="S5.Ex1.m1.1.1"><munder id="S5.Ex1.m1.1.1.2"><mi id="S5.Ex1.m1.1.1.2.2">max</mi><mi id="S5.Ex1.m1.1.1.2.3">θ</mi></munder><mo id="S5.Ex1.m1.1.1.1" lspace="0.167em">⁢</mo><mrow id="S5.Ex1.m1.1.1.3"><mstyle displaystyle="true" id="S5.Ex1.m1.1.1.3.1"><munder id="S5.Ex1.m1.1.1.3.1a"><mo id="S5.Ex1.m1.1.1.3.1.2" movablelimits="false">∑</mo><mrow id="S5.Ex1.m1.1.1.3.1.3"><msub id="S5.Ex1.m1.1.1.3.1.3.2"><mi id="S5.Ex1.m1.1.1.3.1.3.2.2">s</mi><mn id="S5.Ex1.m1.1.1.3.1.3.2.3">1</mn></msub><mo id="S5.Ex1.m1.1.1.3.1.3.1">∼</mo><mi class="ltx_font_mathcaligraphic" id="S5.Ex1.m1.1.1.3.1.3.3">𝒟</mi></mrow></munder></mstyle><mrow id="S5.Ex1.m1.1.1.3.2"><mstyle displaystyle="true" id="S5.Ex1.m1.1.1.3.2.1"><munderover id="S5.Ex1.m1.1.1.3.2.1a"><mo id="S5.Ex1.m1.1.1.3.2.1.2.2" movablelimits="false">∑</mo><mrow id="S5.Ex1.m1.1.1.3.2.1.2.3"><mi id="S5.Ex1.m1.1.1.3.2.1.2.3.2">t</mi><mo id="S5.Ex1.m1.1.1.3.2.1.2.3.1">=</mo><mn id="S5.Ex1.m1.1.1.3.2.1.2.3.3">1</mn></mrow><mi id="S5.Ex1.m1.1.1.3.2.1.3">T</mi></munderover></mstyle><msub id="S5.Ex1.m1.1.1.3.2.2"><mi id="S5.Ex1.m1.1.1.3.2.2.2">𝔼</mi><mrow id="S5.Ex1.m1.1.1.3.2.2.3"><msub id="S5.Ex1.m1.1.1.3.2.2.3.1"><mi id="S5.Ex1.m1.1.1.3.2.2.3.1.2">a</mi><mi id="S5.Ex1.m1.1.1.3.2.2.3.1.3">t</mi></msub><mo id="S5.Ex1.m1.1.1.3.2.2.3.2">∼</mo><msub id="S5.Ex1.m1.1.1.3.2.2.3.3"><mi id="S5.Ex1.m1.1.1.3.2.2.3.3.2">π</mi><mi id="S5.Ex1.m1.1.1.3.2.2.3.3.3">θ</mi></msub><mrow id="S5.Ex1.m1.1.1.3.2.2.3.4"><mo id="S5.Ex1.m1.1.1.3.2.2.3.4.1" stretchy="false">(</mo><mo id="S5.Ex1.m1.1.1.3.2.2.3.4.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S5.Ex1.m1.1.1.3.2.2.3.4.3" rspace="0.167em" stretchy="false">|</mo><msub id="S5.Ex1.m1.1.1.3.2.2.3.4.4"><mi id="S5.Ex1.m1.1.1.3.2.2.3.4.4.2">s</mi><mi id="S5.Ex1.m1.1.1.3.2.2.3.4.4.3">t</mi></msub><mo id="S5.Ex1.m1.1.1.3.2.2.3.4.5" stretchy="false">)</mo></mrow><mo id="S5.Ex1.m1.1.1.3.2.2.3.5" stretchy="false">)</mo></mrow></msub></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S5.Ex1.m1.1b">\displaystyle\max_{\theta}\sum_{s_{1}\sim{\mathcal{D}}}\sum_{t=1}^{T}\mathbb{E%
}_{a_{t}\sim\pi_{\theta}(\cdot|s_{t}))}</annotation><annotation encoding="application/x-llamapun" id="S5.Ex1.m1.1c">roman_max start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ∼ caligraphic_D end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT blackboard_E start_POSTSUBSCRIPT italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∼ italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( ⋅ | italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) ) end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle[\bm{1}(t=T)r]-\ \beta{\mathbb{D}}_{\textrm{KL}}(\pi_{\theta}(%
\cdot|s_{t})||\pi_{\textrm{ref}}(\cdot|s_{t}))," class="ltx_math_unparsed" display="inline" id="S5.Ex1.m2.1"><semantics id="S5.Ex1.m2.1a"><mrow id="S5.Ex1.m2.1b"><mrow id="S5.Ex1.m2.1.1"><mo id="S5.Ex1.m2.1.1.1" stretchy="false">[</mo><mn id="S5.Ex1.m2.1.1.2">𝟏</mn><mrow id="S5.Ex1.m2.1.1.3"><mo id="S5.Ex1.m2.1.1.3.1" stretchy="false">(</mo><mi id="S5.Ex1.m2.1.1.3.2">t</mi><mo id="S5.Ex1.m2.1.1.3.3">=</mo><mi id="S5.Ex1.m2.1.1.3.4">T</mi><mo id="S5.Ex1.m2.1.1.3.5" stretchy="false">)</mo></mrow><mi id="S5.Ex1.m2.1.1.4">r</mi><mo id="S5.Ex1.m2.1.1.5" stretchy="false">]</mo></mrow><mo id="S5.Ex1.m2.1.2" rspace="0.722em">−</mo><mi id="S5.Ex1.m2.1.3">β</mi><msub id="S5.Ex1.m2.1.4"><mi id="S5.Ex1.m2.1.4.2">𝔻</mi><mtext id="S5.Ex1.m2.1.4.3">KL</mtext></msub><mrow id="S5.Ex1.m2.1.5"><mo id="S5.Ex1.m2.1.5.1" stretchy="false">(</mo><msub id="S5.Ex1.m2.1.5.2"><mi id="S5.Ex1.m2.1.5.2.2">π</mi><mi id="S5.Ex1.m2.1.5.2.3">θ</mi></msub><mrow id="S5.Ex1.m2.1.5.3"><mo id="S5.Ex1.m2.1.5.3.1" stretchy="false">(</mo><mo id="S5.Ex1.m2.1.5.3.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S5.Ex1.m2.1.5.3.3" rspace="0.167em" stretchy="false">|</mo><msub id="S5.Ex1.m2.1.5.3.4"><mi id="S5.Ex1.m2.1.5.3.4.2">s</mi><mi id="S5.Ex1.m2.1.5.3.4.3">t</mi></msub><mo id="S5.Ex1.m2.1.5.3.5" stretchy="false">)</mo></mrow><mo fence="false" id="S5.Ex1.m2.1.5.4" rspace="0.167em" stretchy="false">|</mo><mo fence="false" id="S5.Ex1.m2.1.5.5" rspace="0.167em" stretchy="false">|</mo><msub id="S5.Ex1.m2.1.5.6"><mi id="S5.Ex1.m2.1.5.6.2">π</mi><mtext id="S5.Ex1.m2.1.5.6.3">ref</mtext></msub><mrow id="S5.Ex1.m2.1.5.7"><mo id="S5.Ex1.m2.1.5.7.1" stretchy="false">(</mo><mo id="S5.Ex1.m2.1.5.7.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S5.Ex1.m2.1.5.7.3" rspace="0.167em" stretchy="false">|</mo><msub id="S5.Ex1.m2.1.5.7.4"><mi id="S5.Ex1.m2.1.5.7.4.2">s</mi><mi id="S5.Ex1.m2.1.5.7.4.3">t</mi></msub><mo id="S5.Ex1.m2.1.5.7.5" stretchy="false">)</mo></mrow><mo id="S5.Ex1.m2.1.5.8" stretchy="false">)</mo></mrow><mo id="S5.Ex1.m2.1.6">,</mo></mrow><annotation encoding="application/x-tex" id="S5.Ex1.m2.1c">\displaystyle[\bm{1}(t=T)r]-\ \beta{\mathbb{D}}_{\textrm{KL}}(\pi_{\theta}(%
\cdot|s_{t})||\pi_{\textrm{ref}}(\cdot|s_{t})),</annotation><annotation encoding="application/x-llamapun" id="S5.Ex1.m2.1d">[ bold_1 ( italic_t = italic_T ) italic_r ] - italic_β blackboard_D start_POSTSUBSCRIPT KL end_POSTSUBSCRIPT ( italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( ⋅ | italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) | | italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( ⋅ | italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS1.p2.16">where <math alttext="\bm{1}" class="ltx_Math" display="inline" id="S5.SS1.p2.13.m1.1"><semantics id="S5.SS1.p2.13.m1.1a"><mn id="S5.SS1.p2.13.m1.1.1" xref="S5.SS1.p2.13.m1.1.1.cmml">𝟏</mn><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.13.m1.1b"><cn id="S5.SS1.p2.13.m1.1.1.cmml" type="integer" xref="S5.SS1.p2.13.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.13.m1.1c">\bm{1}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.13.m1.1d">bold_1</annotation></semantics></math> is the indicator function, <math alttext="{\mathbb{D}}_{\textrm{KL}}" class="ltx_Math" display="inline" id="S5.SS1.p2.14.m2.1"><semantics id="S5.SS1.p2.14.m2.1a"><msub id="S5.SS1.p2.14.m2.1.1" xref="S5.SS1.p2.14.m2.1.1.cmml"><mi id="S5.SS1.p2.14.m2.1.1.2" xref="S5.SS1.p2.14.m2.1.1.2.cmml">𝔻</mi><mtext id="S5.SS1.p2.14.m2.1.1.3" xref="S5.SS1.p2.14.m2.1.1.3a.cmml">KL</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.14.m2.1b"><apply id="S5.SS1.p2.14.m2.1.1.cmml" xref="S5.SS1.p2.14.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.14.m2.1.1.1.cmml" xref="S5.SS1.p2.14.m2.1.1">subscript</csymbol><ci id="S5.SS1.p2.14.m2.1.1.2.cmml" xref="S5.SS1.p2.14.m2.1.1.2">𝔻</ci><ci id="S5.SS1.p2.14.m2.1.1.3a.cmml" xref="S5.SS1.p2.14.m2.1.1.3"><mtext id="S5.SS1.p2.14.m2.1.1.3.cmml" mathsize="70%" xref="S5.SS1.p2.14.m2.1.1.3">KL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.14.m2.1c">{\mathbb{D}}_{\textrm{KL}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.14.m2.1d">blackboard_D start_POSTSUBSCRIPT KL end_POSTSUBSCRIPT</annotation></semantics></math> is KL divergence regularization, and <math alttext="\beta" class="ltx_Math" display="inline" id="S5.SS1.p2.15.m3.1"><semantics id="S5.SS1.p2.15.m3.1a"><mi id="S5.SS1.p2.15.m3.1.1" xref="S5.SS1.p2.15.m3.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.15.m3.1b"><ci id="S5.SS1.p2.15.m3.1.1.cmml" xref="S5.SS1.p2.15.m3.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.15.m3.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.15.m3.1d">italic_β</annotation></semantics></math> is the regularization strength. In the above formulation, the regularization term is introduced to prevent the generation model from deviating too far from a reference model <math alttext="\pi_{\textrm{ref}}" class="ltx_Math" display="inline" id="S5.SS1.p2.16.m4.1"><semantics id="S5.SS1.p2.16.m4.1a"><msub id="S5.SS1.p2.16.m4.1.1" xref="S5.SS1.p2.16.m4.1.1.cmml"><mi id="S5.SS1.p2.16.m4.1.1.2" xref="S5.SS1.p2.16.m4.1.1.2.cmml">π</mi><mtext id="S5.SS1.p2.16.m4.1.1.3" xref="S5.SS1.p2.16.m4.1.1.3a.cmml">ref</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.16.m4.1b"><apply id="S5.SS1.p2.16.m4.1.1.cmml" xref="S5.SS1.p2.16.m4.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.16.m4.1.1.1.cmml" xref="S5.SS1.p2.16.m4.1.1">subscript</csymbol><ci id="S5.SS1.p2.16.m4.1.1.2.cmml" xref="S5.SS1.p2.16.m4.1.1.2">𝜋</ci><ci id="S5.SS1.p2.16.m4.1.1.3a.cmml" xref="S5.SS1.p2.16.m4.1.1.3"><mtext id="S5.SS1.p2.16.m4.1.1.3.cmml" mathsize="70%" xref="S5.SS1.p2.16.m4.1.1.3">ref</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.16.m4.1c">\pi_{\textrm{ref}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.16.m4.1d">italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT</annotation></semantics></math>. The reference model is often set as the model after SFT (e.g., our outline-enhanced RAG model as proposed above).</p>
</div>
<div class="ltx_para" id="S5.SS1.p3">
<p class="ltx_p" id="S5.SS1.p3.2">Directly applying the conventional RLHF method to factuality optimization in web-enhanced LFQA will encounter two intrinsic difficulties. First, the manually annotated factuality labels are typically expensive to collect, which involves comparing the factual details between a long answer and its corresponding lengthy reference. Second, as shown in the above equation, the standard RLHF uses the holistic reward, i.e., <math alttext="\bm{1}(t=T)\bm{R}({\bm{a}},x,z)" class="ltx_Math" display="inline" id="S5.SS1.p3.1.m1.4"><semantics id="S5.SS1.p3.1.m1.4a"><mrow id="S5.SS1.p3.1.m1.4.4" xref="S5.SS1.p3.1.m1.4.4.cmml"><mn id="S5.SS1.p3.1.m1.4.4.3" xref="S5.SS1.p3.1.m1.4.4.3.cmml">𝟏</mn><mo id="S5.SS1.p3.1.m1.4.4.2" xref="S5.SS1.p3.1.m1.4.4.2.cmml">⁢</mo><mrow id="S5.SS1.p3.1.m1.4.4.1.1" xref="S5.SS1.p3.1.m1.4.4.1.1.1.cmml"><mo id="S5.SS1.p3.1.m1.4.4.1.1.2" stretchy="false" xref="S5.SS1.p3.1.m1.4.4.1.1.1.cmml">(</mo><mrow id="S5.SS1.p3.1.m1.4.4.1.1.1" xref="S5.SS1.p3.1.m1.4.4.1.1.1.cmml"><mi id="S5.SS1.p3.1.m1.4.4.1.1.1.2" xref="S5.SS1.p3.1.m1.4.4.1.1.1.2.cmml">t</mi><mo id="S5.SS1.p3.1.m1.4.4.1.1.1.1" xref="S5.SS1.p3.1.m1.4.4.1.1.1.1.cmml">=</mo><mi id="S5.SS1.p3.1.m1.4.4.1.1.1.3" xref="S5.SS1.p3.1.m1.4.4.1.1.1.3.cmml">T</mi></mrow><mo id="S5.SS1.p3.1.m1.4.4.1.1.3" stretchy="false" xref="S5.SS1.p3.1.m1.4.4.1.1.1.cmml">)</mo></mrow><mo id="S5.SS1.p3.1.m1.4.4.2a" xref="S5.SS1.p3.1.m1.4.4.2.cmml">⁢</mo><mi id="S5.SS1.p3.1.m1.4.4.4" xref="S5.SS1.p3.1.m1.4.4.4.cmml">𝑹</mi><mo id="S5.SS1.p3.1.m1.4.4.2b" xref="S5.SS1.p3.1.m1.4.4.2.cmml">⁢</mo><mrow id="S5.SS1.p3.1.m1.4.4.5.2" xref="S5.SS1.p3.1.m1.4.4.5.1.cmml"><mo id="S5.SS1.p3.1.m1.4.4.5.2.1" stretchy="false" xref="S5.SS1.p3.1.m1.4.4.5.1.cmml">(</mo><mi id="S5.SS1.p3.1.m1.1.1" xref="S5.SS1.p3.1.m1.1.1.cmml">𝒂</mi><mo id="S5.SS1.p3.1.m1.4.4.5.2.2" xref="S5.SS1.p3.1.m1.4.4.5.1.cmml">,</mo><mi id="S5.SS1.p3.1.m1.2.2" xref="S5.SS1.p3.1.m1.2.2.cmml">x</mi><mo id="S5.SS1.p3.1.m1.4.4.5.2.3" xref="S5.SS1.p3.1.m1.4.4.5.1.cmml">,</mo><mi id="S5.SS1.p3.1.m1.3.3" xref="S5.SS1.p3.1.m1.3.3.cmml">z</mi><mo id="S5.SS1.p3.1.m1.4.4.5.2.4" stretchy="false" xref="S5.SS1.p3.1.m1.4.4.5.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.1.m1.4b"><apply id="S5.SS1.p3.1.m1.4.4.cmml" xref="S5.SS1.p3.1.m1.4.4"><times id="S5.SS1.p3.1.m1.4.4.2.cmml" xref="S5.SS1.p3.1.m1.4.4.2"></times><cn id="S5.SS1.p3.1.m1.4.4.3.cmml" type="integer" xref="S5.SS1.p3.1.m1.4.4.3">1</cn><apply id="S5.SS1.p3.1.m1.4.4.1.1.1.cmml" xref="S5.SS1.p3.1.m1.4.4.1.1"><eq id="S5.SS1.p3.1.m1.4.4.1.1.1.1.cmml" xref="S5.SS1.p3.1.m1.4.4.1.1.1.1"></eq><ci id="S5.SS1.p3.1.m1.4.4.1.1.1.2.cmml" xref="S5.SS1.p3.1.m1.4.4.1.1.1.2">𝑡</ci><ci id="S5.SS1.p3.1.m1.4.4.1.1.1.3.cmml" xref="S5.SS1.p3.1.m1.4.4.1.1.1.3">𝑇</ci></apply><ci id="S5.SS1.p3.1.m1.4.4.4.cmml" xref="S5.SS1.p3.1.m1.4.4.4">𝑹</ci><vector id="S5.SS1.p3.1.m1.4.4.5.1.cmml" xref="S5.SS1.p3.1.m1.4.4.5.2"><ci id="S5.SS1.p3.1.m1.1.1.cmml" xref="S5.SS1.p3.1.m1.1.1">𝒂</ci><ci id="S5.SS1.p3.1.m1.2.2.cmml" xref="S5.SS1.p3.1.m1.2.2">𝑥</ci><ci id="S5.SS1.p3.1.m1.3.3.cmml" xref="S5.SS1.p3.1.m1.3.3">𝑧</ci></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.1.m1.4c">\bm{1}(t=T)\bm{R}({\bm{a}},x,z)</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.1.m1.4d">bold_1 ( italic_t = italic_T ) bold_italic_R ( bold_italic_a , italic_x , italic_z )</annotation></semantics></math>, which is not zero only for the last token of the whole response. This holistic reward can only provide a sparse signal for the training of the generation model <math alttext="\pi_{\theta}" class="ltx_Math" display="inline" id="S5.SS1.p3.2.m2.1"><semantics id="S5.SS1.p3.2.m2.1a"><msub id="S5.SS1.p3.2.m2.1.1" xref="S5.SS1.p3.2.m2.1.1.cmml"><mi id="S5.SS1.p3.2.m2.1.1.2" xref="S5.SS1.p3.2.m2.1.1.2.cmml">π</mi><mi id="S5.SS1.p3.2.m2.1.1.3" xref="S5.SS1.p3.2.m2.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.2.m2.1b"><apply id="S5.SS1.p3.2.m2.1.1.cmml" xref="S5.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.2.m2.1.1.1.cmml" xref="S5.SS1.p3.2.m2.1.1">subscript</csymbol><ci id="S5.SS1.p3.2.m2.1.1.2.cmml" xref="S5.SS1.p3.2.m2.1.1.2">𝜋</ci><ci id="S5.SS1.p3.2.m2.1.1.3.cmml" xref="S5.SS1.p3.2.m2.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.2.m2.1c">\pi_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.2.m2.1d">italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math>. In web-enhanced LFQA where the answers are usually longer, the sparsity problem due to the use of the holistic reward will be even exaggerated.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>Doubly Fine-grained RLHF</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">In light of the above difficulties of conventional RLHF in factuality optimization for web-enhanced RAG, we propose a <span class="ltx_text ltx_font_italic" id="S5.SS2.p1.1.1">doubly fine-grained RLHF</span> framework to conduct factuality optimization in a fine-grained manner. Our framework is inspired by recent study on fine-grained RLHF <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib51" title="">2023</a>; Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib53" title="">2023</a>)</cite>. Unlike these previous works that mainly focus on a single dimension, our framework incorporates fine-grained designs of two core steps, i.e., factuality evaluation and reward modeling.</p>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.16">Before elaborating our framework in details, we first introduce necessary notations and definitions, which enables to characterize multiple rewards for an answer that constitute a denser reward signal <math alttext="\bm{R}_{\phi}" class="ltx_Math" display="inline" id="S5.SS2.p2.1.m1.1"><semantics id="S5.SS2.p2.1.m1.1a"><msub id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml"><mi id="S5.SS2.p2.1.m1.1.1.2" xref="S5.SS2.p2.1.m1.1.1.2.cmml">𝑹</mi><mi id="S5.SS2.p2.1.m1.1.1.3" xref="S5.SS2.p2.1.m1.1.1.3.cmml">ϕ</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.1b"><apply id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.1.m1.1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S5.SS2.p2.1.m1.1.1.2.cmml" xref="S5.SS2.p2.1.m1.1.1.2">𝑹</ci><ci id="S5.SS2.p2.1.m1.1.1.3.cmml" xref="S5.SS2.p2.1.m1.1.1.3">italic-ϕ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.1c">\bm{R}_{\phi}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.1.m1.1d">bold_italic_R start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT</annotation></semantics></math> for the RL process. Specifically, following <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib51" title="">2023</a>)</cite>, we first segment the output <math alttext="{\bm{a}}" class="ltx_Math" display="inline" id="S5.SS2.p2.2.m2.1"><semantics id="S5.SS2.p2.2.m2.1a"><mi id="S5.SS2.p2.2.m2.1.1" xref="S5.SS2.p2.2.m2.1.1.cmml">𝒂</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.2.m2.1b"><ci id="S5.SS2.p2.2.m2.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1">𝒂</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.2.m2.1c">{\bm{a}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.2.m2.1d">bold_italic_a</annotation></semantics></math> into <math alttext="L" class="ltx_Math" display="inline" id="S5.SS2.p2.3.m3.1"><semantics id="S5.SS2.p2.3.m3.1a"><mi id="S5.SS2.p2.3.m3.1.1" xref="S5.SS2.p2.3.m3.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.3.m3.1b"><ci id="S5.SS2.p2.3.m3.1.1.cmml" xref="S5.SS2.p2.3.m3.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.3.m3.1c">L</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.3.m3.1d">italic_L</annotation></semantics></math> text spans <math alttext="({\bm{a}}^{1},{\bm{a}}^{2},\dots,{\bm{a}}^{L})" class="ltx_Math" display="inline" id="S5.SS2.p2.4.m4.4"><semantics id="S5.SS2.p2.4.m4.4a"><mrow id="S5.SS2.p2.4.m4.4.4.3" xref="S5.SS2.p2.4.m4.4.4.4.cmml"><mo id="S5.SS2.p2.4.m4.4.4.3.4" stretchy="false" xref="S5.SS2.p2.4.m4.4.4.4.cmml">(</mo><msup id="S5.SS2.p2.4.m4.2.2.1.1" xref="S5.SS2.p2.4.m4.2.2.1.1.cmml"><mi id="S5.SS2.p2.4.m4.2.2.1.1.2" xref="S5.SS2.p2.4.m4.2.2.1.1.2.cmml">𝒂</mi><mn id="S5.SS2.p2.4.m4.2.2.1.1.3" xref="S5.SS2.p2.4.m4.2.2.1.1.3.cmml">1</mn></msup><mo id="S5.SS2.p2.4.m4.4.4.3.5" xref="S5.SS2.p2.4.m4.4.4.4.cmml">,</mo><msup id="S5.SS2.p2.4.m4.3.3.2.2" xref="S5.SS2.p2.4.m4.3.3.2.2.cmml"><mi id="S5.SS2.p2.4.m4.3.3.2.2.2" xref="S5.SS2.p2.4.m4.3.3.2.2.2.cmml">𝒂</mi><mn id="S5.SS2.p2.4.m4.3.3.2.2.3" xref="S5.SS2.p2.4.m4.3.3.2.2.3.cmml">2</mn></msup><mo id="S5.SS2.p2.4.m4.4.4.3.6" xref="S5.SS2.p2.4.m4.4.4.4.cmml">,</mo><mi id="S5.SS2.p2.4.m4.1.1" mathvariant="normal" xref="S5.SS2.p2.4.m4.1.1.cmml">…</mi><mo id="S5.SS2.p2.4.m4.4.4.3.7" xref="S5.SS2.p2.4.m4.4.4.4.cmml">,</mo><msup id="S5.SS2.p2.4.m4.4.4.3.3" xref="S5.SS2.p2.4.m4.4.4.3.3.cmml"><mi id="S5.SS2.p2.4.m4.4.4.3.3.2" xref="S5.SS2.p2.4.m4.4.4.3.3.2.cmml">𝒂</mi><mi id="S5.SS2.p2.4.m4.4.4.3.3.3" xref="S5.SS2.p2.4.m4.4.4.3.3.3.cmml">L</mi></msup><mo id="S5.SS2.p2.4.m4.4.4.3.8" stretchy="false" xref="S5.SS2.p2.4.m4.4.4.4.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.4.m4.4b"><vector id="S5.SS2.p2.4.m4.4.4.4.cmml" xref="S5.SS2.p2.4.m4.4.4.3"><apply id="S5.SS2.p2.4.m4.2.2.1.1.cmml" xref="S5.SS2.p2.4.m4.2.2.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.4.m4.2.2.1.1.1.cmml" xref="S5.SS2.p2.4.m4.2.2.1.1">superscript</csymbol><ci id="S5.SS2.p2.4.m4.2.2.1.1.2.cmml" xref="S5.SS2.p2.4.m4.2.2.1.1.2">𝒂</ci><cn id="S5.SS2.p2.4.m4.2.2.1.1.3.cmml" type="integer" xref="S5.SS2.p2.4.m4.2.2.1.1.3">1</cn></apply><apply id="S5.SS2.p2.4.m4.3.3.2.2.cmml" xref="S5.SS2.p2.4.m4.3.3.2.2"><csymbol cd="ambiguous" id="S5.SS2.p2.4.m4.3.3.2.2.1.cmml" xref="S5.SS2.p2.4.m4.3.3.2.2">superscript</csymbol><ci id="S5.SS2.p2.4.m4.3.3.2.2.2.cmml" xref="S5.SS2.p2.4.m4.3.3.2.2.2">𝒂</ci><cn id="S5.SS2.p2.4.m4.3.3.2.2.3.cmml" type="integer" xref="S5.SS2.p2.4.m4.3.3.2.2.3">2</cn></apply><ci id="S5.SS2.p2.4.m4.1.1.cmml" xref="S5.SS2.p2.4.m4.1.1">…</ci><apply id="S5.SS2.p2.4.m4.4.4.3.3.cmml" xref="S5.SS2.p2.4.m4.4.4.3.3"><csymbol cd="ambiguous" id="S5.SS2.p2.4.m4.4.4.3.3.1.cmml" xref="S5.SS2.p2.4.m4.4.4.3.3">superscript</csymbol><ci id="S5.SS2.p2.4.m4.4.4.3.3.2.cmml" xref="S5.SS2.p2.4.m4.4.4.3.3.2">𝒂</ci><ci id="S5.SS2.p2.4.m4.4.4.3.3.3.cmml" xref="S5.SS2.p2.4.m4.4.4.3.3.3">𝐿</ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.4.m4.4c">({\bm{a}}^{1},{\bm{a}}^{2},\dots,{\bm{a}}^{L})</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.4.m4.4d">( bold_italic_a start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , bold_italic_a start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT , … , bold_italic_a start_POSTSUPERSCRIPT italic_L end_POSTSUPERSCRIPT )</annotation></semantics></math> corresponding to the evaluation granularity (which will be described later) of <math alttext="\bm{R}_{\phi}" class="ltx_Math" display="inline" id="S5.SS2.p2.5.m5.1"><semantics id="S5.SS2.p2.5.m5.1a"><msub id="S5.SS2.p2.5.m5.1.1" xref="S5.SS2.p2.5.m5.1.1.cmml"><mi id="S5.SS2.p2.5.m5.1.1.2" xref="S5.SS2.p2.5.m5.1.1.2.cmml">𝑹</mi><mi id="S5.SS2.p2.5.m5.1.1.3" xref="S5.SS2.p2.5.m5.1.1.3.cmml">ϕ</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.5.m5.1b"><apply id="S5.SS2.p2.5.m5.1.1.cmml" xref="S5.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.5.m5.1.1.1.cmml" xref="S5.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S5.SS2.p2.5.m5.1.1.2.cmml" xref="S5.SS2.p2.5.m5.1.1.2">𝑹</ci><ci id="S5.SS2.p2.5.m5.1.1.3.cmml" xref="S5.SS2.p2.5.m5.1.1.3">italic-ϕ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.5.m5.1c">\bm{R}_{\phi}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.5.m5.1d">bold_italic_R start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT</annotation></semantics></math>, where each segment <math alttext="{\bm{a}}^{j}" class="ltx_Math" display="inline" id="S5.SS2.p2.6.m6.1"><semantics id="S5.SS2.p2.6.m6.1a"><msup id="S5.SS2.p2.6.m6.1.1" xref="S5.SS2.p2.6.m6.1.1.cmml"><mi id="S5.SS2.p2.6.m6.1.1.2" xref="S5.SS2.p2.6.m6.1.1.2.cmml">𝒂</mi><mi id="S5.SS2.p2.6.m6.1.1.3" xref="S5.SS2.p2.6.m6.1.1.3.cmml">j</mi></msup><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.6.m6.1b"><apply id="S5.SS2.p2.6.m6.1.1.cmml" xref="S5.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.6.m6.1.1.1.cmml" xref="S5.SS2.p2.6.m6.1.1">superscript</csymbol><ci id="S5.SS2.p2.6.m6.1.1.2.cmml" xref="S5.SS2.p2.6.m6.1.1.2">𝒂</ci><ci id="S5.SS2.p2.6.m6.1.1.3.cmml" xref="S5.SS2.p2.6.m6.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.6.m6.1c">{\bm{a}}^{j}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.6.m6.1d">bold_italic_a start_POSTSUPERSCRIPT italic_j end_POSTSUPERSCRIPT</annotation></semantics></math> ends at the step <math alttext="T_{j}" class="ltx_Math" display="inline" id="S5.SS2.p2.7.m7.1"><semantics id="S5.SS2.p2.7.m7.1a"><msub id="S5.SS2.p2.7.m7.1.1" xref="S5.SS2.p2.7.m7.1.1.cmml"><mi id="S5.SS2.p2.7.m7.1.1.2" xref="S5.SS2.p2.7.m7.1.1.2.cmml">T</mi><mi id="S5.SS2.p2.7.m7.1.1.3" xref="S5.SS2.p2.7.m7.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.7.m7.1b"><apply id="S5.SS2.p2.7.m7.1.1.cmml" xref="S5.SS2.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.7.m7.1.1.1.cmml" xref="S5.SS2.p2.7.m7.1.1">subscript</csymbol><ci id="S5.SS2.p2.7.m7.1.1.2.cmml" xref="S5.SS2.p2.7.m7.1.1.2">𝑇</ci><ci id="S5.SS2.p2.7.m7.1.1.3.cmml" xref="S5.SS2.p2.7.m7.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.7.m7.1c">T_{j}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.7.m7.1d">italic_T start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>. The dense reward signal <math alttext="\bm{R}_{\phi}" class="ltx_Math" display="inline" id="S5.SS2.p2.8.m8.1"><semantics id="S5.SS2.p2.8.m8.1a"><msub id="S5.SS2.p2.8.m8.1.1" xref="S5.SS2.p2.8.m8.1.1.cmml"><mi id="S5.SS2.p2.8.m8.1.1.2" xref="S5.SS2.p2.8.m8.1.1.2.cmml">𝑹</mi><mi id="S5.SS2.p2.8.m8.1.1.3" xref="S5.SS2.p2.8.m8.1.1.3.cmml">ϕ</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.8.m8.1b"><apply id="S5.SS2.p2.8.m8.1.1.cmml" xref="S5.SS2.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.8.m8.1.1.1.cmml" xref="S5.SS2.p2.8.m8.1.1">subscript</csymbol><ci id="S5.SS2.p2.8.m8.1.1.2.cmml" xref="S5.SS2.p2.8.m8.1.1.2">𝑹</ci><ci id="S5.SS2.p2.8.m8.1.1.3.cmml" xref="S5.SS2.p2.8.m8.1.1.3">italic-ϕ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.8.m8.1c">\bm{R}_{\phi}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.8.m8.1d">bold_italic_R start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT</annotation></semantics></math> is an <math alttext="L" class="ltx_Math" display="inline" id="S5.SS2.p2.9.m9.1"><semantics id="S5.SS2.p2.9.m9.1a"><mi id="S5.SS2.p2.9.m9.1.1" xref="S5.SS2.p2.9.m9.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.9.m9.1b"><ci id="S5.SS2.p2.9.m9.1.1.cmml" xref="S5.SS2.p2.9.m9.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.9.m9.1c">L</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.9.m9.1d">italic_L</annotation></semantics></math>-dimensional vector, whose <math alttext="j" class="ltx_Math" display="inline" id="S5.SS2.p2.10.m10.1"><semantics id="S5.SS2.p2.10.m10.1a"><mi id="S5.SS2.p2.10.m10.1.1" xref="S5.SS2.p2.10.m10.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.10.m10.1b"><ci id="S5.SS2.p2.10.m10.1.1.cmml" xref="S5.SS2.p2.10.m10.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.10.m10.1c">j</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.10.m10.1d">italic_j</annotation></semantics></math>-th dimension represents the reward <math alttext="\bm{R}_{\phi}({\bm{a}}|x,z)[j]\in[0,1]" class="ltx_Math" display="inline" id="S5.SS2.p2.11.m11.6"><semantics id="S5.SS2.p2.11.m11.6a"><mrow id="S5.SS2.p2.11.m11.6.6" xref="S5.SS2.p2.11.m11.6.6.cmml"><mrow id="S5.SS2.p2.11.m11.6.6.1" xref="S5.SS2.p2.11.m11.6.6.1.cmml"><msub id="S5.SS2.p2.11.m11.6.6.1.3" xref="S5.SS2.p2.11.m11.6.6.1.3.cmml"><mi id="S5.SS2.p2.11.m11.6.6.1.3.2" xref="S5.SS2.p2.11.m11.6.6.1.3.2.cmml">𝑹</mi><mi id="S5.SS2.p2.11.m11.6.6.1.3.3" xref="S5.SS2.p2.11.m11.6.6.1.3.3.cmml">ϕ</mi></msub><mo id="S5.SS2.p2.11.m11.6.6.1.2" xref="S5.SS2.p2.11.m11.6.6.1.2.cmml">⁢</mo><mrow id="S5.SS2.p2.11.m11.6.6.1.1.1" xref="S5.SS2.p2.11.m11.6.6.1.1.1.1.cmml"><mo id="S5.SS2.p2.11.m11.6.6.1.1.1.2" stretchy="false" xref="S5.SS2.p2.11.m11.6.6.1.1.1.1.cmml">(</mo><mrow id="S5.SS2.p2.11.m11.6.6.1.1.1.1" xref="S5.SS2.p2.11.m11.6.6.1.1.1.1.cmml"><mi id="S5.SS2.p2.11.m11.6.6.1.1.1.1.2" xref="S5.SS2.p2.11.m11.6.6.1.1.1.1.2.cmml">𝒂</mi><mo fence="false" id="S5.SS2.p2.11.m11.6.6.1.1.1.1.1" xref="S5.SS2.p2.11.m11.6.6.1.1.1.1.1.cmml">|</mo><mrow id="S5.SS2.p2.11.m11.6.6.1.1.1.1.3.2" xref="S5.SS2.p2.11.m11.6.6.1.1.1.1.3.1.cmml"><mi id="S5.SS2.p2.11.m11.1.1" xref="S5.SS2.p2.11.m11.1.1.cmml">x</mi><mo id="S5.SS2.p2.11.m11.6.6.1.1.1.1.3.2.1" xref="S5.SS2.p2.11.m11.6.6.1.1.1.1.3.1.cmml">,</mo><mi id="S5.SS2.p2.11.m11.2.2" xref="S5.SS2.p2.11.m11.2.2.cmml">z</mi></mrow></mrow><mo id="S5.SS2.p2.11.m11.6.6.1.1.1.3" stretchy="false" xref="S5.SS2.p2.11.m11.6.6.1.1.1.1.cmml">)</mo></mrow><mo id="S5.SS2.p2.11.m11.6.6.1.2a" xref="S5.SS2.p2.11.m11.6.6.1.2.cmml">⁢</mo><mrow id="S5.SS2.p2.11.m11.6.6.1.4.2" xref="S5.SS2.p2.11.m11.6.6.1.4.1.cmml"><mo id="S5.SS2.p2.11.m11.6.6.1.4.2.1" stretchy="false" xref="S5.SS2.p2.11.m11.6.6.1.4.1.1.cmml">[</mo><mi id="S5.SS2.p2.11.m11.3.3" xref="S5.SS2.p2.11.m11.3.3.cmml">j</mi><mo id="S5.SS2.p2.11.m11.6.6.1.4.2.2" stretchy="false" xref="S5.SS2.p2.11.m11.6.6.1.4.1.1.cmml">]</mo></mrow></mrow><mo id="S5.SS2.p2.11.m11.6.6.2" xref="S5.SS2.p2.11.m11.6.6.2.cmml">∈</mo><mrow id="S5.SS2.p2.11.m11.6.6.3.2" xref="S5.SS2.p2.11.m11.6.6.3.1.cmml"><mo id="S5.SS2.p2.11.m11.6.6.3.2.1" stretchy="false" xref="S5.SS2.p2.11.m11.6.6.3.1.cmml">[</mo><mn id="S5.SS2.p2.11.m11.4.4" xref="S5.SS2.p2.11.m11.4.4.cmml">0</mn><mo id="S5.SS2.p2.11.m11.6.6.3.2.2" xref="S5.SS2.p2.11.m11.6.6.3.1.cmml">,</mo><mn id="S5.SS2.p2.11.m11.5.5" xref="S5.SS2.p2.11.m11.5.5.cmml">1</mn><mo id="S5.SS2.p2.11.m11.6.6.3.2.3" stretchy="false" xref="S5.SS2.p2.11.m11.6.6.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.11.m11.6b"><apply id="S5.SS2.p2.11.m11.6.6.cmml" xref="S5.SS2.p2.11.m11.6.6"><in id="S5.SS2.p2.11.m11.6.6.2.cmml" xref="S5.SS2.p2.11.m11.6.6.2"></in><apply id="S5.SS2.p2.11.m11.6.6.1.cmml" xref="S5.SS2.p2.11.m11.6.6.1"><times id="S5.SS2.p2.11.m11.6.6.1.2.cmml" xref="S5.SS2.p2.11.m11.6.6.1.2"></times><apply id="S5.SS2.p2.11.m11.6.6.1.3.cmml" xref="S5.SS2.p2.11.m11.6.6.1.3"><csymbol cd="ambiguous" id="S5.SS2.p2.11.m11.6.6.1.3.1.cmml" xref="S5.SS2.p2.11.m11.6.6.1.3">subscript</csymbol><ci id="S5.SS2.p2.11.m11.6.6.1.3.2.cmml" xref="S5.SS2.p2.11.m11.6.6.1.3.2">𝑹</ci><ci id="S5.SS2.p2.11.m11.6.6.1.3.3.cmml" xref="S5.SS2.p2.11.m11.6.6.1.3.3">italic-ϕ</ci></apply><apply id="S5.SS2.p2.11.m11.6.6.1.1.1.1.cmml" xref="S5.SS2.p2.11.m11.6.6.1.1.1"><csymbol cd="latexml" id="S5.SS2.p2.11.m11.6.6.1.1.1.1.1.cmml" xref="S5.SS2.p2.11.m11.6.6.1.1.1.1.1">conditional</csymbol><ci id="S5.SS2.p2.11.m11.6.6.1.1.1.1.2.cmml" xref="S5.SS2.p2.11.m11.6.6.1.1.1.1.2">𝒂</ci><list id="S5.SS2.p2.11.m11.6.6.1.1.1.1.3.1.cmml" xref="S5.SS2.p2.11.m11.6.6.1.1.1.1.3.2"><ci id="S5.SS2.p2.11.m11.1.1.cmml" xref="S5.SS2.p2.11.m11.1.1">𝑥</ci><ci id="S5.SS2.p2.11.m11.2.2.cmml" xref="S5.SS2.p2.11.m11.2.2">𝑧</ci></list></apply><apply id="S5.SS2.p2.11.m11.6.6.1.4.1.cmml" xref="S5.SS2.p2.11.m11.6.6.1.4.2"><csymbol cd="latexml" id="S5.SS2.p2.11.m11.6.6.1.4.1.1.cmml" xref="S5.SS2.p2.11.m11.6.6.1.4.2.1">delimited-[]</csymbol><ci id="S5.SS2.p2.11.m11.3.3.cmml" xref="S5.SS2.p2.11.m11.3.3">𝑗</ci></apply></apply><interval closure="closed" id="S5.SS2.p2.11.m11.6.6.3.1.cmml" xref="S5.SS2.p2.11.m11.6.6.3.2"><cn id="S5.SS2.p2.11.m11.4.4.cmml" type="integer" xref="S5.SS2.p2.11.m11.4.4">0</cn><cn id="S5.SS2.p2.11.m11.5.5.cmml" type="integer" xref="S5.SS2.p2.11.m11.5.5">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.11.m11.6c">\bm{R}_{\phi}({\bm{a}}|x,z)[j]\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.11.m11.6d">bold_italic_R start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( bold_italic_a | italic_x , italic_z ) [ italic_j ] ∈ [ 0 , 1 ]</annotation></semantics></math> for each segment <math alttext="{\bm{a}}^{j}" class="ltx_Math" display="inline" id="S5.SS2.p2.12.m12.1"><semantics id="S5.SS2.p2.12.m12.1a"><msup id="S5.SS2.p2.12.m12.1.1" xref="S5.SS2.p2.12.m12.1.1.cmml"><mi id="S5.SS2.p2.12.m12.1.1.2" xref="S5.SS2.p2.12.m12.1.1.2.cmml">𝒂</mi><mi id="S5.SS2.p2.12.m12.1.1.3" xref="S5.SS2.p2.12.m12.1.1.3.cmml">j</mi></msup><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.12.m12.1b"><apply id="S5.SS2.p2.12.m12.1.1.cmml" xref="S5.SS2.p2.12.m12.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.12.m12.1.1.1.cmml" xref="S5.SS2.p2.12.m12.1.1">superscript</csymbol><ci id="S5.SS2.p2.12.m12.1.1.2.cmml" xref="S5.SS2.p2.12.m12.1.1.2">𝒂</ci><ci id="S5.SS2.p2.12.m12.1.1.3.cmml" xref="S5.SS2.p2.12.m12.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.12.m12.1c">{\bm{a}}^{j}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.12.m12.1d">bold_italic_a start_POSTSUPERSCRIPT italic_j end_POSTSUPERSCRIPT</annotation></semantics></math> given query <math alttext="x" class="ltx_Math" display="inline" id="S5.SS2.p2.13.m13.1"><semantics id="S5.SS2.p2.13.m13.1a"><mi id="S5.SS2.p2.13.m13.1.1" xref="S5.SS2.p2.13.m13.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.13.m13.1b"><ci id="S5.SS2.p2.13.m13.1.1.cmml" xref="S5.SS2.p2.13.m13.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.13.m13.1c">x</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.13.m13.1d">italic_x</annotation></semantics></math> and retrieved context <math alttext="z" class="ltx_Math" display="inline" id="S5.SS2.p2.14.m14.1"><semantics id="S5.SS2.p2.14.m14.1a"><mi id="S5.SS2.p2.14.m14.1.1" xref="S5.SS2.p2.14.m14.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.14.m14.1b"><ci id="S5.SS2.p2.14.m14.1.1.cmml" xref="S5.SS2.p2.14.m14.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.14.m14.1c">z</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.14.m14.1d">italic_z</annotation></semantics></math> as the input, which is assigned to the final token in <math alttext="{\bm{a}}^{j}" class="ltx_Math" display="inline" id="S5.SS2.p2.15.m15.1"><semantics id="S5.SS2.p2.15.m15.1a"><msup id="S5.SS2.p2.15.m15.1.1" xref="S5.SS2.p2.15.m15.1.1.cmml"><mi id="S5.SS2.p2.15.m15.1.1.2" xref="S5.SS2.p2.15.m15.1.1.2.cmml">𝒂</mi><mi id="S5.SS2.p2.15.m15.1.1.3" xref="S5.SS2.p2.15.m15.1.1.3.cmml">j</mi></msup><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.15.m15.1b"><apply id="S5.SS2.p2.15.m15.1.1.cmml" xref="S5.SS2.p2.15.m15.1.1"><csymbol cd="ambiguous" id="S5.SS2.p2.15.m15.1.1.1.cmml" xref="S5.SS2.p2.15.m15.1.1">superscript</csymbol><ci id="S5.SS2.p2.15.m15.1.1.2.cmml" xref="S5.SS2.p2.15.m15.1.1.2">𝒂</ci><ci id="S5.SS2.p2.15.m15.1.1.3.cmml" xref="S5.SS2.p2.15.m15.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.15.m15.1c">{\bm{a}}^{j}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.15.m15.1d">bold_italic_a start_POSTSUPERSCRIPT italic_j end_POSTSUPERSCRIPT</annotation></semantics></math>. Especially, when <math alttext="L=1" class="ltx_Math" display="inline" id="S5.SS2.p2.16.m16.1"><semantics id="S5.SS2.p2.16.m16.1a"><mrow id="S5.SS2.p2.16.m16.1.1" xref="S5.SS2.p2.16.m16.1.1.cmml"><mi id="S5.SS2.p2.16.m16.1.1.2" xref="S5.SS2.p2.16.m16.1.1.2.cmml">L</mi><mo id="S5.SS2.p2.16.m16.1.1.1" xref="S5.SS2.p2.16.m16.1.1.1.cmml">=</mo><mn id="S5.SS2.p2.16.m16.1.1.3" xref="S5.SS2.p2.16.m16.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.16.m16.1b"><apply id="S5.SS2.p2.16.m16.1.1.cmml" xref="S5.SS2.p2.16.m16.1.1"><eq id="S5.SS2.p2.16.m16.1.1.1.cmml" xref="S5.SS2.p2.16.m16.1.1.1"></eq><ci id="S5.SS2.p2.16.m16.1.1.2.cmml" xref="S5.SS2.p2.16.m16.1.1.2">𝐿</ci><cn id="S5.SS2.p2.16.m16.1.1.3.cmml" type="integer" xref="S5.SS2.p2.16.m16.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.16.m16.1c">L=1</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.16.m16.1d">italic_L = 1</annotation></semantics></math>, our method degenerates to the standard RLHF with holistic reward.</p>
</div>
<div class="ltx_para" id="S5.SS2.p3">
<p class="ltx_p" id="S5.SS2.p3.1"><span class="ltx_text ltx_font_bold" id="S5.SS2.p3.1.1">Fine-grained Evaluation.</span> Recall that to perform high quality automatic factuality evaluation, recent methods have been proposed to first decompose a long answer into shorter pieces and then evaluate the factuality of each piece with respect to the given reference <cite class="ltx_cite ltx_citemacro_citep">(Kamoi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib22" title="">2023</a>; Lattimer et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib28" title="">2023</a>)</cite>. Inspired by these methods, we consider three different levels of granularity in the answer decomposition and automated segment evaluation:</p>
</div>
<div class="ltx_para" id="S5.SS2.p4">
<ul class="ltx_itemize" id="S5.I1">
<li class="ltx_item" id="S5.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I1.i1.p1">
<p class="ltx_p" id="S5.I1.i1.p1.1"><span class="ltx_text ltx_font_italic" id="S5.I1.i1.p1.1.1">Holistic</span>: It is the standard granularity to evaluate the answers <cite class="ltx_cite ltx_citemacro_citep">(Christiano et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib11" title="">2017</a>)</cite>. Each generated answer is associated with a single factuality score <math alttext="r" class="ltx_Math" display="inline" id="S5.I1.i1.p1.1.m1.1"><semantics id="S5.I1.i1.p1.1.m1.1a"><mi id="S5.I1.i1.p1.1.m1.1.1" xref="S5.I1.i1.p1.1.m1.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i1.p1.1.m1.1b"><ci id="S5.I1.i1.p1.1.m1.1.1.cmml" xref="S5.I1.i1.p1.1.m1.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i1.p1.1.m1.1c">r</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i1.p1.1.m1.1d">italic_r</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="S5.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I1.i2.p1">
<p class="ltx_p" id="S5.I1.i2.p1.2"><span class="ltx_text ltx_font_italic" id="S5.I1.i2.p1.2.1">Sentence-level</span>: As is suggested by previous research on automatic evaluation <cite class="ltx_cite ltx_citemacro_citep">(Kryściński et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib25" title="">2019</a>; Lattimer et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib28" title="">2023</a>)</cite>, we can segment the answer into sentences,<span class="ltx_note ltx_role_footnote" id="footnote6"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>We uses pySBD <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/nipunsadvilkar/pySBD" title="">https://github.com/nipunsadvilkar/pySBD</a> for segmentation.</span></span></span> then evaluate each sentence individually. In this case, the evaluation result is denoted as <math alttext="\bm{r}_{i}" class="ltx_Math" display="inline" id="S5.I1.i2.p1.1.m1.1"><semantics id="S5.I1.i2.p1.1.m1.1a"><msub id="S5.I1.i2.p1.1.m1.1.1" xref="S5.I1.i2.p1.1.m1.1.1.cmml"><mi id="S5.I1.i2.p1.1.m1.1.1.2" xref="S5.I1.i2.p1.1.m1.1.1.2.cmml">𝒓</mi><mi id="S5.I1.i2.p1.1.m1.1.1.3" xref="S5.I1.i2.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.I1.i2.p1.1.m1.1b"><apply id="S5.I1.i2.p1.1.m1.1.1.cmml" xref="S5.I1.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.I1.i2.p1.1.m1.1.1.1.cmml" xref="S5.I1.i2.p1.1.m1.1.1">subscript</csymbol><ci id="S5.I1.i2.p1.1.m1.1.1.2.cmml" xref="S5.I1.i2.p1.1.m1.1.1.2">𝒓</ci><ci id="S5.I1.i2.p1.1.m1.1.1.3.cmml" xref="S5.I1.i2.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i2.p1.1.m1.1c">\bm{r}_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i2.p1.1.m1.1d">bold_italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> where <math alttext="i" class="ltx_Math" display="inline" id="S5.I1.i2.p1.2.m2.1"><semantics id="S5.I1.i2.p1.2.m2.1a"><mi id="S5.I1.i2.p1.2.m2.1.1" xref="S5.I1.i2.p1.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i2.p1.2.m2.1b"><ci id="S5.I1.i2.p1.2.m2.1.1.cmml" xref="S5.I1.i2.p1.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i2.p1.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i2.p1.2.m2.1d">italic_i</annotation></semantics></math> is the index for the sentence.</p>
</div>
</li>
<li class="ltx_item" id="S5.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I1.i3.p1">
<p class="ltx_p" id="S5.I1.i3.p1.6"><span class="ltx_text ltx_font_italic" id="S5.I1.i3.p1.6.1">Subclaim-level</span>: Following <cite class="ltx_cite ltx_citemacro_citep">(Kamoi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib22" title="">2023</a>; Chern et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib10" title="">2023</a>; Min et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib34" title="">2023</a>)</cite>, we can further decompose each sentence into multiple <span class="ltx_text ltx_font_italic" id="S5.I1.i3.p1.6.2">subclaims</span> via an LLM, each containing a single piece of factual information (see Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#A3" title="Appendix C Prompts for Decomposition ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">C</span></a> for the prompts we use).
After the decomposition, we evaluate each subclaim individually. Since the decomposition using LLM breaks the association between the subclaim and the original answer, we aggregate the scores of all subclaims into a single score to evaluate the factuality of the sentence. More specifically, assuming there are <math alttext="j" class="ltx_Math" display="inline" id="S5.I1.i3.p1.1.m1.1"><semantics id="S5.I1.i3.p1.1.m1.1a"><mi id="S5.I1.i3.p1.1.m1.1.1" xref="S5.I1.i3.p1.1.m1.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i3.p1.1.m1.1b"><ci id="S5.I1.i3.p1.1.m1.1.1.cmml" xref="S5.I1.i3.p1.1.m1.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i3.p1.1.m1.1c">j</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i3.p1.1.m1.1d">italic_j</annotation></semantics></math> subclaims for sentence <math alttext="i" class="ltx_Math" display="inline" id="S5.I1.i3.p1.2.m2.1"><semantics id="S5.I1.i3.p1.2.m2.1a"><mi id="S5.I1.i3.p1.2.m2.1.1" xref="S5.I1.i3.p1.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i3.p1.2.m2.1b"><ci id="S5.I1.i3.p1.2.m2.1.1.cmml" xref="S5.I1.i3.p1.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i3.p1.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i3.p1.2.m2.1d">italic_i</annotation></semantics></math>, then the evaluation score for the sentence is given as <math alttext="\bm{r}_{i}=\textrm{Agg}_{j}(\bm{R}_{ij})" class="ltx_Math" display="inline" id="S5.I1.i3.p1.3.m3.1"><semantics id="S5.I1.i3.p1.3.m3.1a"><mrow id="S5.I1.i3.p1.3.m3.1.1" xref="S5.I1.i3.p1.3.m3.1.1.cmml"><msub id="S5.I1.i3.p1.3.m3.1.1.3" xref="S5.I1.i3.p1.3.m3.1.1.3.cmml"><mi id="S5.I1.i3.p1.3.m3.1.1.3.2" xref="S5.I1.i3.p1.3.m3.1.1.3.2.cmml">𝒓</mi><mi id="S5.I1.i3.p1.3.m3.1.1.3.3" xref="S5.I1.i3.p1.3.m3.1.1.3.3.cmml">i</mi></msub><mo id="S5.I1.i3.p1.3.m3.1.1.2" xref="S5.I1.i3.p1.3.m3.1.1.2.cmml">=</mo><mrow id="S5.I1.i3.p1.3.m3.1.1.1" xref="S5.I1.i3.p1.3.m3.1.1.1.cmml"><msub id="S5.I1.i3.p1.3.m3.1.1.1.3" xref="S5.I1.i3.p1.3.m3.1.1.1.3.cmml"><mtext id="S5.I1.i3.p1.3.m3.1.1.1.3.2" xref="S5.I1.i3.p1.3.m3.1.1.1.3.2a.cmml">Agg</mtext><mi id="S5.I1.i3.p1.3.m3.1.1.1.3.3" xref="S5.I1.i3.p1.3.m3.1.1.1.3.3.cmml">j</mi></msub><mo id="S5.I1.i3.p1.3.m3.1.1.1.2" xref="S5.I1.i3.p1.3.m3.1.1.1.2.cmml">⁢</mo><mrow id="S5.I1.i3.p1.3.m3.1.1.1.1.1" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.cmml"><mo id="S5.I1.i3.p1.3.m3.1.1.1.1.1.2" stretchy="false" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.cmml">(</mo><msub id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.cmml"><mi id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.2" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.2.cmml">𝑹</mi><mrow id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.cmml"><mi id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.2" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.2.cmml">i</mi><mo id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.1" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.3" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.3.cmml">j</mi></mrow></msub><mo id="S5.I1.i3.p1.3.m3.1.1.1.1.1.3" stretchy="false" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.I1.i3.p1.3.m3.1b"><apply id="S5.I1.i3.p1.3.m3.1.1.cmml" xref="S5.I1.i3.p1.3.m3.1.1"><eq id="S5.I1.i3.p1.3.m3.1.1.2.cmml" xref="S5.I1.i3.p1.3.m3.1.1.2"></eq><apply id="S5.I1.i3.p1.3.m3.1.1.3.cmml" xref="S5.I1.i3.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S5.I1.i3.p1.3.m3.1.1.3.1.cmml" xref="S5.I1.i3.p1.3.m3.1.1.3">subscript</csymbol><ci id="S5.I1.i3.p1.3.m3.1.1.3.2.cmml" xref="S5.I1.i3.p1.3.m3.1.1.3.2">𝒓</ci><ci id="S5.I1.i3.p1.3.m3.1.1.3.3.cmml" xref="S5.I1.i3.p1.3.m3.1.1.3.3">𝑖</ci></apply><apply id="S5.I1.i3.p1.3.m3.1.1.1.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1"><times id="S5.I1.i3.p1.3.m3.1.1.1.2.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.2"></times><apply id="S5.I1.i3.p1.3.m3.1.1.1.3.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.3"><csymbol cd="ambiguous" id="S5.I1.i3.p1.3.m3.1.1.1.3.1.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.3">subscript</csymbol><ci id="S5.I1.i3.p1.3.m3.1.1.1.3.2a.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.3.2"><mtext id="S5.I1.i3.p1.3.m3.1.1.1.3.2.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.3.2">Agg</mtext></ci><ci id="S5.I1.i3.p1.3.m3.1.1.1.3.3.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.3.3">𝑗</ci></apply><apply id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.1.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1">subscript</csymbol><ci id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.2.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.2">𝑹</ci><apply id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3"><times id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.1.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.1"></times><ci id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.2.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.2">𝑖</ci><ci id="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.3.cmml" xref="S5.I1.i3.p1.3.m3.1.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i3.p1.3.m3.1c">\bm{r}_{i}=\textrm{Agg}_{j}(\bm{R}_{ij})</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i3.p1.3.m3.1d">bold_italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = Agg start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ( bold_italic_R start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT )</annotation></semantics></math>, where <math alttext="\bm{R}_{ij}" class="ltx_Math" display="inline" id="S5.I1.i3.p1.4.m4.1"><semantics id="S5.I1.i3.p1.4.m4.1a"><msub id="S5.I1.i3.p1.4.m4.1.1" xref="S5.I1.i3.p1.4.m4.1.1.cmml"><mi id="S5.I1.i3.p1.4.m4.1.1.2" xref="S5.I1.i3.p1.4.m4.1.1.2.cmml">𝑹</mi><mrow id="S5.I1.i3.p1.4.m4.1.1.3" xref="S5.I1.i3.p1.4.m4.1.1.3.cmml"><mi id="S5.I1.i3.p1.4.m4.1.1.3.2" xref="S5.I1.i3.p1.4.m4.1.1.3.2.cmml">i</mi><mo id="S5.I1.i3.p1.4.m4.1.1.3.1" xref="S5.I1.i3.p1.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S5.I1.i3.p1.4.m4.1.1.3.3" xref="S5.I1.i3.p1.4.m4.1.1.3.3.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.I1.i3.p1.4.m4.1b"><apply id="S5.I1.i3.p1.4.m4.1.1.cmml" xref="S5.I1.i3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S5.I1.i3.p1.4.m4.1.1.1.cmml" xref="S5.I1.i3.p1.4.m4.1.1">subscript</csymbol><ci id="S5.I1.i3.p1.4.m4.1.1.2.cmml" xref="S5.I1.i3.p1.4.m4.1.1.2">𝑹</ci><apply id="S5.I1.i3.p1.4.m4.1.1.3.cmml" xref="S5.I1.i3.p1.4.m4.1.1.3"><times id="S5.I1.i3.p1.4.m4.1.1.3.1.cmml" xref="S5.I1.i3.p1.4.m4.1.1.3.1"></times><ci id="S5.I1.i3.p1.4.m4.1.1.3.2.cmml" xref="S5.I1.i3.p1.4.m4.1.1.3.2">𝑖</ci><ci id="S5.I1.i3.p1.4.m4.1.1.3.3.cmml" xref="S5.I1.i3.p1.4.m4.1.1.3.3">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i3.p1.4.m4.1c">\bm{R}_{ij}</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i3.p1.4.m4.1d">bold_italic_R start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT</annotation></semantics></math> denotes the factuality score of the subclaim <math alttext="j" class="ltx_Math" display="inline" id="S5.I1.i3.p1.5.m5.1"><semantics id="S5.I1.i3.p1.5.m5.1a"><mi id="S5.I1.i3.p1.5.m5.1.1" xref="S5.I1.i3.p1.5.m5.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i3.p1.5.m5.1b"><ci id="S5.I1.i3.p1.5.m5.1.1.cmml" xref="S5.I1.i3.p1.5.m5.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i3.p1.5.m5.1c">j</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i3.p1.5.m5.1d">italic_j</annotation></semantics></math> of sentence <math alttext="i" class="ltx_Math" display="inline" id="S5.I1.i3.p1.6.m6.1"><semantics id="S5.I1.i3.p1.6.m6.1a"><mi id="S5.I1.i3.p1.6.m6.1.1" xref="S5.I1.i3.p1.6.m6.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i3.p1.6.m6.1b"><ci id="S5.I1.i3.p1.6.m6.1.1.cmml" xref="S5.I1.i3.p1.6.m6.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i3.p1.6.m6.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.I1.i3.p1.6.m6.1d">italic_i</annotation></semantics></math>, and Agg is the aggregation function (in the form of average, minimum, or maximum).</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S5.SS2.p5">
<p class="ltx_p" id="S5.SS2.p5.3"><span class="ltx_text ltx_font_bold" id="S5.SS2.p5.3.1">Fine-grained Reward Modeling.</span> Recall that to build a reward model to estimate the factuality of a given answer, standard RLHF methods typically use a sequence-level reward model that produces a single factuality score for each answer. Recently, a token-level reward modeling method has been introduced to provide token-level feedback <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib53" title="">2023</a>)</cite>. Enlightened by these methods, we can construct the reward model in two possible levels of granularity.</p>
<ul class="ltx_itemize" id="S5.I2">
<li class="ltx_item" id="S5.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I2.i1.p1">
<p class="ltx_p" id="S5.I2.i1.p1.1"><span class="ltx_text ltx_font_italic" id="S5.I2.i1.p1.1.1">Sequence-level</span>: A single reward <math alttext="\hat{\bm{R}}_{\phi}({\bm{a}}|x,z)" class="ltx_Math" display="inline" id="S5.I2.i1.p1.1.m1.3"><semantics id="S5.I2.i1.p1.1.m1.3a"><mrow id="S5.I2.i1.p1.1.m1.3.3" xref="S5.I2.i1.p1.1.m1.3.3.cmml"><msub id="S5.I2.i1.p1.1.m1.3.3.3" xref="S5.I2.i1.p1.1.m1.3.3.3.cmml"><mover accent="true" id="S5.I2.i1.p1.1.m1.3.3.3.2" xref="S5.I2.i1.p1.1.m1.3.3.3.2.cmml"><mi id="S5.I2.i1.p1.1.m1.3.3.3.2.2" xref="S5.I2.i1.p1.1.m1.3.3.3.2.2.cmml">𝑹</mi><mo id="S5.I2.i1.p1.1.m1.3.3.3.2.1" xref="S5.I2.i1.p1.1.m1.3.3.3.2.1.cmml">^</mo></mover><mi id="S5.I2.i1.p1.1.m1.3.3.3.3" xref="S5.I2.i1.p1.1.m1.3.3.3.3.cmml">ϕ</mi></msub><mo id="S5.I2.i1.p1.1.m1.3.3.2" xref="S5.I2.i1.p1.1.m1.3.3.2.cmml">⁢</mo><mrow id="S5.I2.i1.p1.1.m1.3.3.1.1" xref="S5.I2.i1.p1.1.m1.3.3.1.1.1.cmml"><mo id="S5.I2.i1.p1.1.m1.3.3.1.1.2" stretchy="false" xref="S5.I2.i1.p1.1.m1.3.3.1.1.1.cmml">(</mo><mrow id="S5.I2.i1.p1.1.m1.3.3.1.1.1" xref="S5.I2.i1.p1.1.m1.3.3.1.1.1.cmml"><mi id="S5.I2.i1.p1.1.m1.3.3.1.1.1.2" xref="S5.I2.i1.p1.1.m1.3.3.1.1.1.2.cmml">𝒂</mi><mo fence="false" id="S5.I2.i1.p1.1.m1.3.3.1.1.1.1" xref="S5.I2.i1.p1.1.m1.3.3.1.1.1.1.cmml">|</mo><mrow id="S5.I2.i1.p1.1.m1.3.3.1.1.1.3.2" xref="S5.I2.i1.p1.1.m1.3.3.1.1.1.3.1.cmml"><mi id="S5.I2.i1.p1.1.m1.1.1" xref="S5.I2.i1.p1.1.m1.1.1.cmml">x</mi><mo id="S5.I2.i1.p1.1.m1.3.3.1.1.1.3.2.1" xref="S5.I2.i1.p1.1.m1.3.3.1.1.1.3.1.cmml">,</mo><mi id="S5.I2.i1.p1.1.m1.2.2" xref="S5.I2.i1.p1.1.m1.2.2.cmml">z</mi></mrow></mrow><mo id="S5.I2.i1.p1.1.m1.3.3.1.1.3" stretchy="false" xref="S5.I2.i1.p1.1.m1.3.3.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.I2.i1.p1.1.m1.3b"><apply id="S5.I2.i1.p1.1.m1.3.3.cmml" xref="S5.I2.i1.p1.1.m1.3.3"><times id="S5.I2.i1.p1.1.m1.3.3.2.cmml" xref="S5.I2.i1.p1.1.m1.3.3.2"></times><apply id="S5.I2.i1.p1.1.m1.3.3.3.cmml" xref="S5.I2.i1.p1.1.m1.3.3.3"><csymbol cd="ambiguous" id="S5.I2.i1.p1.1.m1.3.3.3.1.cmml" xref="S5.I2.i1.p1.1.m1.3.3.3">subscript</csymbol><apply id="S5.I2.i1.p1.1.m1.3.3.3.2.cmml" xref="S5.I2.i1.p1.1.m1.3.3.3.2"><ci id="S5.I2.i1.p1.1.m1.3.3.3.2.1.cmml" xref="S5.I2.i1.p1.1.m1.3.3.3.2.1">^</ci><ci id="S5.I2.i1.p1.1.m1.3.3.3.2.2.cmml" xref="S5.I2.i1.p1.1.m1.3.3.3.2.2">𝑹</ci></apply><ci id="S5.I2.i1.p1.1.m1.3.3.3.3.cmml" xref="S5.I2.i1.p1.1.m1.3.3.3.3">italic-ϕ</ci></apply><apply id="S5.I2.i1.p1.1.m1.3.3.1.1.1.cmml" xref="S5.I2.i1.p1.1.m1.3.3.1.1"><csymbol cd="latexml" id="S5.I2.i1.p1.1.m1.3.3.1.1.1.1.cmml" xref="S5.I2.i1.p1.1.m1.3.3.1.1.1.1">conditional</csymbol><ci id="S5.I2.i1.p1.1.m1.3.3.1.1.1.2.cmml" xref="S5.I2.i1.p1.1.m1.3.3.1.1.1.2">𝒂</ci><list id="S5.I2.i1.p1.1.m1.3.3.1.1.1.3.1.cmml" xref="S5.I2.i1.p1.1.m1.3.3.1.1.1.3.2"><ci id="S5.I2.i1.p1.1.m1.1.1.cmml" xref="S5.I2.i1.p1.1.m1.1.1">𝑥</ci><ci id="S5.I2.i1.p1.1.m1.2.2.cmml" xref="S5.I2.i1.p1.1.m1.2.2">𝑧</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i1.p1.1.m1.3c">\hat{\bm{R}}_{\phi}({\bm{a}}|x,z)</annotation><annotation encoding="application/x-llamapun" id="S5.I2.i1.p1.1.m1.3d">over^ start_ARG bold_italic_R end_ARG start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( bold_italic_a | italic_x , italic_z )</annotation></semantics></math> is learned for each sequence, whose actual form depends on the granularity of the evaluation. In this way, the associated reward reflects the factuality of the corresponding sequence, which is then assigned to the last token of each sequence.</p>
</div>
</li>
<li class="ltx_item" id="S5.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I2.i2.p1">
<p class="ltx_p" id="S5.I2.i2.p1.2"><span class="ltx_text ltx_font_italic" id="S5.I2.i2.p1.2.1">Token-level</span>: A reward <math alttext="\hat{r}(s_{t},a_{t})" class="ltx_Math" display="inline" id="S5.I2.i2.p1.1.m1.2"><semantics id="S5.I2.i2.p1.1.m1.2a"><mrow id="S5.I2.i2.p1.1.m1.2.2" xref="S5.I2.i2.p1.1.m1.2.2.cmml"><mover accent="true" id="S5.I2.i2.p1.1.m1.2.2.4" xref="S5.I2.i2.p1.1.m1.2.2.4.cmml"><mi id="S5.I2.i2.p1.1.m1.2.2.4.2" xref="S5.I2.i2.p1.1.m1.2.2.4.2.cmml">r</mi><mo id="S5.I2.i2.p1.1.m1.2.2.4.1" xref="S5.I2.i2.p1.1.m1.2.2.4.1.cmml">^</mo></mover><mo id="S5.I2.i2.p1.1.m1.2.2.3" xref="S5.I2.i2.p1.1.m1.2.2.3.cmml">⁢</mo><mrow id="S5.I2.i2.p1.1.m1.2.2.2.2" xref="S5.I2.i2.p1.1.m1.2.2.2.3.cmml"><mo id="S5.I2.i2.p1.1.m1.2.2.2.2.3" stretchy="false" xref="S5.I2.i2.p1.1.m1.2.2.2.3.cmml">(</mo><msub id="S5.I2.i2.p1.1.m1.1.1.1.1.1" xref="S5.I2.i2.p1.1.m1.1.1.1.1.1.cmml"><mi id="S5.I2.i2.p1.1.m1.1.1.1.1.1.2" xref="S5.I2.i2.p1.1.m1.1.1.1.1.1.2.cmml">s</mi><mi id="S5.I2.i2.p1.1.m1.1.1.1.1.1.3" xref="S5.I2.i2.p1.1.m1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S5.I2.i2.p1.1.m1.2.2.2.2.4" xref="S5.I2.i2.p1.1.m1.2.2.2.3.cmml">,</mo><msub id="S5.I2.i2.p1.1.m1.2.2.2.2.2" xref="S5.I2.i2.p1.1.m1.2.2.2.2.2.cmml"><mi id="S5.I2.i2.p1.1.m1.2.2.2.2.2.2" xref="S5.I2.i2.p1.1.m1.2.2.2.2.2.2.cmml">a</mi><mi id="S5.I2.i2.p1.1.m1.2.2.2.2.2.3" xref="S5.I2.i2.p1.1.m1.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S5.I2.i2.p1.1.m1.2.2.2.2.5" stretchy="false" xref="S5.I2.i2.p1.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.I2.i2.p1.1.m1.2b"><apply id="S5.I2.i2.p1.1.m1.2.2.cmml" xref="S5.I2.i2.p1.1.m1.2.2"><times id="S5.I2.i2.p1.1.m1.2.2.3.cmml" xref="S5.I2.i2.p1.1.m1.2.2.3"></times><apply id="S5.I2.i2.p1.1.m1.2.2.4.cmml" xref="S5.I2.i2.p1.1.m1.2.2.4"><ci id="S5.I2.i2.p1.1.m1.2.2.4.1.cmml" xref="S5.I2.i2.p1.1.m1.2.2.4.1">^</ci><ci id="S5.I2.i2.p1.1.m1.2.2.4.2.cmml" xref="S5.I2.i2.p1.1.m1.2.2.4.2">𝑟</ci></apply><interval closure="open" id="S5.I2.i2.p1.1.m1.2.2.2.3.cmml" xref="S5.I2.i2.p1.1.m1.2.2.2.2"><apply id="S5.I2.i2.p1.1.m1.1.1.1.1.1.cmml" xref="S5.I2.i2.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.I2.i2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S5.I2.i2.p1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S5.I2.i2.p1.1.m1.1.1.1.1.1.2.cmml" xref="S5.I2.i2.p1.1.m1.1.1.1.1.1.2">𝑠</ci><ci id="S5.I2.i2.p1.1.m1.1.1.1.1.1.3.cmml" xref="S5.I2.i2.p1.1.m1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S5.I2.i2.p1.1.m1.2.2.2.2.2.cmml" xref="S5.I2.i2.p1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S5.I2.i2.p1.1.m1.2.2.2.2.2.1.cmml" xref="S5.I2.i2.p1.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S5.I2.i2.p1.1.m1.2.2.2.2.2.2.cmml" xref="S5.I2.i2.p1.1.m1.2.2.2.2.2.2">𝑎</ci><ci id="S5.I2.i2.p1.1.m1.2.2.2.2.2.3.cmml" xref="S5.I2.i2.p1.1.m1.2.2.2.2.2.3">𝑡</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i2.p1.1.m1.2c">\hat{r}(s_{t},a_{t})</annotation><annotation encoding="application/x-llamapun" id="S5.I2.i2.p1.1.m1.2d">over^ start_ARG italic_r end_ARG ( italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> learned for each token in the sequence. In this way, the reward of the sequence is calculated by aggregating the all token-level rewards i.e., <math alttext="\hat{\bm{R}}_{\phi}({\bm{a}}|x,z)=\textrm{Agg}_{t}(\hat{r}(s_{t},a_{t}))" class="ltx_Math" display="inline" id="S5.I2.i2.p1.2.m2.4"><semantics id="S5.I2.i2.p1.2.m2.4a"><mrow id="S5.I2.i2.p1.2.m2.4.4" xref="S5.I2.i2.p1.2.m2.4.4.cmml"><mrow id="S5.I2.i2.p1.2.m2.3.3.1" xref="S5.I2.i2.p1.2.m2.3.3.1.cmml"><msub id="S5.I2.i2.p1.2.m2.3.3.1.3" xref="S5.I2.i2.p1.2.m2.3.3.1.3.cmml"><mover accent="true" id="S5.I2.i2.p1.2.m2.3.3.1.3.2" xref="S5.I2.i2.p1.2.m2.3.3.1.3.2.cmml"><mi id="S5.I2.i2.p1.2.m2.3.3.1.3.2.2" xref="S5.I2.i2.p1.2.m2.3.3.1.3.2.2.cmml">𝑹</mi><mo id="S5.I2.i2.p1.2.m2.3.3.1.3.2.1" xref="S5.I2.i2.p1.2.m2.3.3.1.3.2.1.cmml">^</mo></mover><mi id="S5.I2.i2.p1.2.m2.3.3.1.3.3" xref="S5.I2.i2.p1.2.m2.3.3.1.3.3.cmml">ϕ</mi></msub><mo id="S5.I2.i2.p1.2.m2.3.3.1.2" xref="S5.I2.i2.p1.2.m2.3.3.1.2.cmml">⁢</mo><mrow id="S5.I2.i2.p1.2.m2.3.3.1.1.1" xref="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.cmml"><mo id="S5.I2.i2.p1.2.m2.3.3.1.1.1.2" stretchy="false" xref="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.cmml">(</mo><mrow id="S5.I2.i2.p1.2.m2.3.3.1.1.1.1" xref="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.cmml"><mi id="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.2" xref="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.2.cmml">𝒂</mi><mo fence="false" id="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.1" xref="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.1.cmml">|</mo><mrow id="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.3.2" xref="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.3.1.cmml"><mi id="S5.I2.i2.p1.2.m2.1.1" xref="S5.I2.i2.p1.2.m2.1.1.cmml">x</mi><mo id="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.3.2.1" xref="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.3.1.cmml">,</mo><mi id="S5.I2.i2.p1.2.m2.2.2" xref="S5.I2.i2.p1.2.m2.2.2.cmml">z</mi></mrow></mrow><mo id="S5.I2.i2.p1.2.m2.3.3.1.1.1.3" stretchy="false" xref="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.I2.i2.p1.2.m2.4.4.3" xref="S5.I2.i2.p1.2.m2.4.4.3.cmml">=</mo><mrow id="S5.I2.i2.p1.2.m2.4.4.2" xref="S5.I2.i2.p1.2.m2.4.4.2.cmml"><msub id="S5.I2.i2.p1.2.m2.4.4.2.3" xref="S5.I2.i2.p1.2.m2.4.4.2.3.cmml"><mtext id="S5.I2.i2.p1.2.m2.4.4.2.3.2" xref="S5.I2.i2.p1.2.m2.4.4.2.3.2a.cmml">Agg</mtext><mi id="S5.I2.i2.p1.2.m2.4.4.2.3.3" xref="S5.I2.i2.p1.2.m2.4.4.2.3.3.cmml">t</mi></msub><mo id="S5.I2.i2.p1.2.m2.4.4.2.2" xref="S5.I2.i2.p1.2.m2.4.4.2.2.cmml">⁢</mo><mrow id="S5.I2.i2.p1.2.m2.4.4.2.1.1" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.cmml"><mo id="S5.I2.i2.p1.2.m2.4.4.2.1.1.2" stretchy="false" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.cmml">(</mo><mrow id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.cmml"><mover accent="true" id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.4" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.4.cmml"><mi id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.4.2" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.4.2.cmml">r</mi><mo id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.4.1" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.4.1.cmml">^</mo></mover><mo id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.3" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.3.cmml">⁢</mo><mrow id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.3.cmml"><mo id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.3" stretchy="false" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.3.cmml">(</mo><msub id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1.cmml"><mi id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1.2" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1.2.cmml">s</mi><mi id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1.3" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.4" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.3.cmml">,</mo><msub id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2.cmml"><mi id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2.2" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2.2.cmml">a</mi><mi id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2.3" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2.3.cmml">t</mi></msub><mo id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.5" stretchy="false" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S5.I2.i2.p1.2.m2.4.4.2.1.1.3" stretchy="false" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.I2.i2.p1.2.m2.4b"><apply id="S5.I2.i2.p1.2.m2.4.4.cmml" xref="S5.I2.i2.p1.2.m2.4.4"><eq id="S5.I2.i2.p1.2.m2.4.4.3.cmml" xref="S5.I2.i2.p1.2.m2.4.4.3"></eq><apply id="S5.I2.i2.p1.2.m2.3.3.1.cmml" xref="S5.I2.i2.p1.2.m2.3.3.1"><times id="S5.I2.i2.p1.2.m2.3.3.1.2.cmml" xref="S5.I2.i2.p1.2.m2.3.3.1.2"></times><apply id="S5.I2.i2.p1.2.m2.3.3.1.3.cmml" xref="S5.I2.i2.p1.2.m2.3.3.1.3"><csymbol cd="ambiguous" id="S5.I2.i2.p1.2.m2.3.3.1.3.1.cmml" xref="S5.I2.i2.p1.2.m2.3.3.1.3">subscript</csymbol><apply id="S5.I2.i2.p1.2.m2.3.3.1.3.2.cmml" xref="S5.I2.i2.p1.2.m2.3.3.1.3.2"><ci id="S5.I2.i2.p1.2.m2.3.3.1.3.2.1.cmml" xref="S5.I2.i2.p1.2.m2.3.3.1.3.2.1">^</ci><ci id="S5.I2.i2.p1.2.m2.3.3.1.3.2.2.cmml" xref="S5.I2.i2.p1.2.m2.3.3.1.3.2.2">𝑹</ci></apply><ci id="S5.I2.i2.p1.2.m2.3.3.1.3.3.cmml" xref="S5.I2.i2.p1.2.m2.3.3.1.3.3">italic-ϕ</ci></apply><apply id="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.cmml" xref="S5.I2.i2.p1.2.m2.3.3.1.1.1"><csymbol cd="latexml" id="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.1.cmml" xref="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.1">conditional</csymbol><ci id="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.2.cmml" xref="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.2">𝒂</ci><list id="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.3.1.cmml" xref="S5.I2.i2.p1.2.m2.3.3.1.1.1.1.3.2"><ci id="S5.I2.i2.p1.2.m2.1.1.cmml" xref="S5.I2.i2.p1.2.m2.1.1">𝑥</ci><ci id="S5.I2.i2.p1.2.m2.2.2.cmml" xref="S5.I2.i2.p1.2.m2.2.2">𝑧</ci></list></apply></apply><apply id="S5.I2.i2.p1.2.m2.4.4.2.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2"><times id="S5.I2.i2.p1.2.m2.4.4.2.2.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.2"></times><apply id="S5.I2.i2.p1.2.m2.4.4.2.3.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.3"><csymbol cd="ambiguous" id="S5.I2.i2.p1.2.m2.4.4.2.3.1.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.3">subscript</csymbol><ci id="S5.I2.i2.p1.2.m2.4.4.2.3.2a.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.3.2"><mtext id="S5.I2.i2.p1.2.m2.4.4.2.3.2.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.3.2">Agg</mtext></ci><ci id="S5.I2.i2.p1.2.m2.4.4.2.3.3.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.3.3">𝑡</ci></apply><apply id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1"><times id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.3.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.3"></times><apply id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.4.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.4"><ci id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.4.1.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.4.1">^</ci><ci id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.4.2.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.4.2">𝑟</ci></apply><interval closure="open" id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.3.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2"><apply id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1.1.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1">subscript</csymbol><ci id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1.2.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1.2">𝑠</ci><ci id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1.3.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2.1.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2">subscript</csymbol><ci id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2.2.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2.2">𝑎</ci><ci id="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2.3.cmml" xref="S5.I2.i2.p1.2.m2.4.4.2.1.1.1.2.2.2.3">𝑡</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i2.p1.2.m2.4c">\hat{\bm{R}}_{\phi}({\bm{a}}|x,z)=\textrm{Agg}_{t}(\hat{r}(s_{t},a_{t}))</annotation><annotation encoding="application/x-llamapun" id="S5.I2.i2.p1.2.m2.4d">over^ start_ARG bold_italic_R end_ARG start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( bold_italic_a | italic_x , italic_z ) = Agg start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( over^ start_ARG italic_r end_ARG ( italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) )</annotation></semantics></math>.</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S5.SS2.p5.1">The training loss of each combination of automated evaluation and reward modeling in different levels of granularity is illustrated in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S4.T2" title="Table 2 ‣ 4.2. Outline-Enhanced Long-Form QA Dataset ‣ 4. Outline-Enhanced RAG ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">2</span></a>.
In most cases, the reward <math alttext="r" class="ltx_Math" display="inline" id="S5.SS2.p5.1.m1.1"><semantics id="S5.SS2.p5.1.m1.1a"><mi id="S5.SS2.p5.1.m1.1.1" xref="S5.SS2.p5.1.m1.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.1.m1.1b"><ci id="S5.SS2.p5.1.m1.1.1.cmml" xref="S5.SS2.p5.1.m1.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.1.m1.1c">r</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p5.1.m1.1d">italic_r</annotation></semantics></math> is binary labelled, and the reward model is trained with the Logloss:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx2">
<tbody id="S5.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\textrm{Logloss}(\hat{\bm{R}}_{\phi},r)=-\sum_{(x,z,{\bm{a}},r)%
\in\mathcal{D}}\sum_{i=1}^{L}\quad\bm{r}_{i}\log({\hat{\bm{R}}_{\phi}({\bm{a}}%
|x,z)[i]})" class="ltx_Math" display="inline" id="S5.Ex2.m1.12"><semantics id="S5.Ex2.m1.12a"><mrow id="S5.Ex2.m1.12.12" xref="S5.Ex2.m1.12.12.cmml"><mrow id="S5.Ex2.m1.10.10.1" xref="S5.Ex2.m1.10.10.1.cmml"><mtext id="S5.Ex2.m1.10.10.1.3" xref="S5.Ex2.m1.10.10.1.3a.cmml">Logloss</mtext><mo id="S5.Ex2.m1.10.10.1.2" xref="S5.Ex2.m1.10.10.1.2.cmml">⁢</mo><mrow id="S5.Ex2.m1.10.10.1.1.1" xref="S5.Ex2.m1.10.10.1.1.2.cmml"><mo id="S5.Ex2.m1.10.10.1.1.1.2" stretchy="false" xref="S5.Ex2.m1.10.10.1.1.2.cmml">(</mo><msub id="S5.Ex2.m1.10.10.1.1.1.1" xref="S5.Ex2.m1.10.10.1.1.1.1.cmml"><mover accent="true" id="S5.Ex2.m1.10.10.1.1.1.1.2" xref="S5.Ex2.m1.10.10.1.1.1.1.2.cmml"><mi id="S5.Ex2.m1.10.10.1.1.1.1.2.2" xref="S5.Ex2.m1.10.10.1.1.1.1.2.2.cmml">𝑹</mi><mo id="S5.Ex2.m1.10.10.1.1.1.1.2.1" xref="S5.Ex2.m1.10.10.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S5.Ex2.m1.10.10.1.1.1.1.3" xref="S5.Ex2.m1.10.10.1.1.1.1.3.cmml">ϕ</mi></msub><mo id="S5.Ex2.m1.10.10.1.1.1.3" xref="S5.Ex2.m1.10.10.1.1.2.cmml">,</mo><mi id="S5.Ex2.m1.5.5" xref="S5.Ex2.m1.5.5.cmml">r</mi><mo id="S5.Ex2.m1.10.10.1.1.1.4" stretchy="false" xref="S5.Ex2.m1.10.10.1.1.2.cmml">)</mo></mrow></mrow><mo id="S5.Ex2.m1.12.12.4" xref="S5.Ex2.m1.12.12.4.cmml">=</mo><mrow id="S5.Ex2.m1.12.12.3.2" xref="S5.Ex2.m1.12.12.3.3.cmml"><mrow id="S5.Ex2.m1.11.11.2.1.1" xref="S5.Ex2.m1.11.11.2.1.1.cmml"><mo id="S5.Ex2.m1.11.11.2.1.1a" xref="S5.Ex2.m1.11.11.2.1.1.cmml">−</mo><mrow id="S5.Ex2.m1.11.11.2.1.1.2" xref="S5.Ex2.m1.11.11.2.1.1.2.cmml"><mstyle displaystyle="true" id="S5.Ex2.m1.11.11.2.1.1.2.1" xref="S5.Ex2.m1.11.11.2.1.1.2.1.cmml"><munder id="S5.Ex2.m1.11.11.2.1.1.2.1a" xref="S5.Ex2.m1.11.11.2.1.1.2.1.cmml"><mo id="S5.Ex2.m1.11.11.2.1.1.2.1.2" movablelimits="false" xref="S5.Ex2.m1.11.11.2.1.1.2.1.2.cmml">∑</mo><mrow id="S5.Ex2.m1.4.4.4" xref="S5.Ex2.m1.4.4.4.cmml"><mrow id="S5.Ex2.m1.4.4.4.6.2" xref="S5.Ex2.m1.4.4.4.6.1.cmml"><mo id="S5.Ex2.m1.4.4.4.6.2.1" stretchy="false" xref="S5.Ex2.m1.4.4.4.6.1.cmml">(</mo><mi id="S5.Ex2.m1.1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.cmml">x</mi><mo id="S5.Ex2.m1.4.4.4.6.2.2" xref="S5.Ex2.m1.4.4.4.6.1.cmml">,</mo><mi id="S5.Ex2.m1.2.2.2.2" xref="S5.Ex2.m1.2.2.2.2.cmml">z</mi><mo id="S5.Ex2.m1.4.4.4.6.2.3" xref="S5.Ex2.m1.4.4.4.6.1.cmml">,</mo><mi id="S5.Ex2.m1.3.3.3.3" xref="S5.Ex2.m1.3.3.3.3.cmml">𝒂</mi><mo id="S5.Ex2.m1.4.4.4.6.2.4" xref="S5.Ex2.m1.4.4.4.6.1.cmml">,</mo><mi id="S5.Ex2.m1.4.4.4.4" xref="S5.Ex2.m1.4.4.4.4.cmml">r</mi><mo id="S5.Ex2.m1.4.4.4.6.2.5" stretchy="false" xref="S5.Ex2.m1.4.4.4.6.1.cmml">)</mo></mrow><mo id="S5.Ex2.m1.4.4.4.5" xref="S5.Ex2.m1.4.4.4.5.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.Ex2.m1.4.4.4.7" xref="S5.Ex2.m1.4.4.4.7.cmml">𝒟</mi></mrow></munder></mstyle><mstyle displaystyle="true" id="S5.Ex2.m1.11.11.2.1.1.2.2" xref="S5.Ex2.m1.11.11.2.1.1.2.2.cmml"><munderover id="S5.Ex2.m1.11.11.2.1.1.2.2a" xref="S5.Ex2.m1.11.11.2.1.1.2.2.cmml"><mo id="S5.Ex2.m1.11.11.2.1.1.2.2.2.2" movablelimits="false" xref="S5.Ex2.m1.11.11.2.1.1.2.2.2.2.cmml">∑</mo><mrow id="S5.Ex2.m1.11.11.2.1.1.2.2.2.3" xref="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.cmml"><mi id="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.2" xref="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.2.cmml">i</mi><mo id="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.1" xref="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.1.cmml">=</mo><mn id="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.3" xref="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.3.cmml">1</mn></mrow><mi id="S5.Ex2.m1.11.11.2.1.1.2.2.3" xref="S5.Ex2.m1.11.11.2.1.1.2.2.3.cmml">L</mi></munderover></mstyle></mrow></mrow><mspace id="S5.Ex2.m1.12.12.3.2.3" width="1em" xref="S5.Ex2.m1.12.12.3.3.cmml"></mspace><mrow id="S5.Ex2.m1.12.12.3.2.2" xref="S5.Ex2.m1.12.12.3.2.2.cmml"><msub id="S5.Ex2.m1.12.12.3.2.2.3" xref="S5.Ex2.m1.12.12.3.2.2.3.cmml"><mi id="S5.Ex2.m1.12.12.3.2.2.3.2" xref="S5.Ex2.m1.12.12.3.2.2.3.2.cmml">𝒓</mi><mi id="S5.Ex2.m1.12.12.3.2.2.3.3" xref="S5.Ex2.m1.12.12.3.2.2.3.3.cmml">i</mi></msub><mo id="S5.Ex2.m1.12.12.3.2.2.2" lspace="0.167em" xref="S5.Ex2.m1.12.12.3.2.2.2.cmml">⁢</mo><mrow id="S5.Ex2.m1.12.12.3.2.2.1.1" xref="S5.Ex2.m1.12.12.3.2.2.1.2.cmml"><mi id="S5.Ex2.m1.9.9" xref="S5.Ex2.m1.9.9.cmml">log</mi><mo id="S5.Ex2.m1.12.12.3.2.2.1.1a" xref="S5.Ex2.m1.12.12.3.2.2.1.2.cmml">⁡</mo><mrow id="S5.Ex2.m1.12.12.3.2.2.1.1.1" xref="S5.Ex2.m1.12.12.3.2.2.1.2.cmml"><mo id="S5.Ex2.m1.12.12.3.2.2.1.1.1.2" stretchy="false" xref="S5.Ex2.m1.12.12.3.2.2.1.2.cmml">(</mo><mrow id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.cmml"><msub id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.cmml"><mover accent="true" id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.2" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.2.cmml"><mi id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.2.2" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.2.2.cmml">𝑹</mi><mo id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.2.1" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.2.1.cmml">^</mo></mover><mi id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.3" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.3.cmml">ϕ</mi></msub><mo id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.2" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.cmml"><mo id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.cmml"><mi id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.2" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.2.cmml">𝒂</mi><mo fence="false" id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.1" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.3.2" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.3.1.cmml"><mi id="S5.Ex2.m1.6.6" xref="S5.Ex2.m1.6.6.cmml">x</mi><mo id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.3.2.1" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.3.1.cmml">,</mo><mi id="S5.Ex2.m1.7.7" xref="S5.Ex2.m1.7.7.cmml">z</mi></mrow></mrow><mo id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.2a" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.4.2" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.4.1.cmml"><mo id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.4.2.1" stretchy="false" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.4.1.1.cmml">[</mo><mi id="S5.Ex2.m1.8.8" xref="S5.Ex2.m1.8.8.cmml">i</mi><mo id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.4.2.2" stretchy="false" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.4.1.1.cmml">]</mo></mrow></mrow><mo id="S5.Ex2.m1.12.12.3.2.2.1.1.1.3" stretchy="false" xref="S5.Ex2.m1.12.12.3.2.2.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.Ex2.m1.12b"><apply id="S5.Ex2.m1.12.12.cmml" xref="S5.Ex2.m1.12.12"><eq id="S5.Ex2.m1.12.12.4.cmml" xref="S5.Ex2.m1.12.12.4"></eq><apply id="S5.Ex2.m1.10.10.1.cmml" xref="S5.Ex2.m1.10.10.1"><times id="S5.Ex2.m1.10.10.1.2.cmml" xref="S5.Ex2.m1.10.10.1.2"></times><ci id="S5.Ex2.m1.10.10.1.3a.cmml" xref="S5.Ex2.m1.10.10.1.3"><mtext id="S5.Ex2.m1.10.10.1.3.cmml" xref="S5.Ex2.m1.10.10.1.3">Logloss</mtext></ci><interval closure="open" id="S5.Ex2.m1.10.10.1.1.2.cmml" xref="S5.Ex2.m1.10.10.1.1.1"><apply id="S5.Ex2.m1.10.10.1.1.1.1.cmml" xref="S5.Ex2.m1.10.10.1.1.1.1"><csymbol cd="ambiguous" id="S5.Ex2.m1.10.10.1.1.1.1.1.cmml" xref="S5.Ex2.m1.10.10.1.1.1.1">subscript</csymbol><apply id="S5.Ex2.m1.10.10.1.1.1.1.2.cmml" xref="S5.Ex2.m1.10.10.1.1.1.1.2"><ci id="S5.Ex2.m1.10.10.1.1.1.1.2.1.cmml" xref="S5.Ex2.m1.10.10.1.1.1.1.2.1">^</ci><ci id="S5.Ex2.m1.10.10.1.1.1.1.2.2.cmml" xref="S5.Ex2.m1.10.10.1.1.1.1.2.2">𝑹</ci></apply><ci id="S5.Ex2.m1.10.10.1.1.1.1.3.cmml" xref="S5.Ex2.m1.10.10.1.1.1.1.3">italic-ϕ</ci></apply><ci id="S5.Ex2.m1.5.5.cmml" xref="S5.Ex2.m1.5.5">𝑟</ci></interval></apply><list id="S5.Ex2.m1.12.12.3.3.cmml" xref="S5.Ex2.m1.12.12.3.2"><apply id="S5.Ex2.m1.11.11.2.1.1.cmml" xref="S5.Ex2.m1.11.11.2.1.1"><minus id="S5.Ex2.m1.11.11.2.1.1.1.cmml" xref="S5.Ex2.m1.11.11.2.1.1"></minus><apply id="S5.Ex2.m1.11.11.2.1.1.2.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2"><apply id="S5.Ex2.m1.11.11.2.1.1.2.1.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2.1"><csymbol cd="ambiguous" id="S5.Ex2.m1.11.11.2.1.1.2.1.1.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2.1">subscript</csymbol><sum id="S5.Ex2.m1.11.11.2.1.1.2.1.2.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2.1.2"></sum><apply id="S5.Ex2.m1.4.4.4.cmml" xref="S5.Ex2.m1.4.4.4"><in id="S5.Ex2.m1.4.4.4.5.cmml" xref="S5.Ex2.m1.4.4.4.5"></in><vector id="S5.Ex2.m1.4.4.4.6.1.cmml" xref="S5.Ex2.m1.4.4.4.6.2"><ci id="S5.Ex2.m1.1.1.1.1.cmml" xref="S5.Ex2.m1.1.1.1.1">𝑥</ci><ci id="S5.Ex2.m1.2.2.2.2.cmml" xref="S5.Ex2.m1.2.2.2.2">𝑧</ci><ci id="S5.Ex2.m1.3.3.3.3.cmml" xref="S5.Ex2.m1.3.3.3.3">𝒂</ci><ci id="S5.Ex2.m1.4.4.4.4.cmml" xref="S5.Ex2.m1.4.4.4.4">𝑟</ci></vector><ci id="S5.Ex2.m1.4.4.4.7.cmml" xref="S5.Ex2.m1.4.4.4.7">𝒟</ci></apply></apply><apply id="S5.Ex2.m1.11.11.2.1.1.2.2.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2.2"><csymbol cd="ambiguous" id="S5.Ex2.m1.11.11.2.1.1.2.2.1.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2.2">superscript</csymbol><apply id="S5.Ex2.m1.11.11.2.1.1.2.2.2.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2.2"><csymbol cd="ambiguous" id="S5.Ex2.m1.11.11.2.1.1.2.2.2.1.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2.2">subscript</csymbol><sum id="S5.Ex2.m1.11.11.2.1.1.2.2.2.2.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2.2.2.2"></sum><apply id="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2.2.2.3"><eq id="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.1.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.1"></eq><ci id="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.2.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.2">𝑖</ci><cn id="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.3.cmml" type="integer" xref="S5.Ex2.m1.11.11.2.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S5.Ex2.m1.11.11.2.1.1.2.2.3.cmml" xref="S5.Ex2.m1.11.11.2.1.1.2.2.3">𝐿</ci></apply></apply></apply><apply id="S5.Ex2.m1.12.12.3.2.2.cmml" xref="S5.Ex2.m1.12.12.3.2.2"><times id="S5.Ex2.m1.12.12.3.2.2.2.cmml" xref="S5.Ex2.m1.12.12.3.2.2.2"></times><apply id="S5.Ex2.m1.12.12.3.2.2.3.cmml" xref="S5.Ex2.m1.12.12.3.2.2.3"><csymbol cd="ambiguous" id="S5.Ex2.m1.12.12.3.2.2.3.1.cmml" xref="S5.Ex2.m1.12.12.3.2.2.3">subscript</csymbol><ci id="S5.Ex2.m1.12.12.3.2.2.3.2.cmml" xref="S5.Ex2.m1.12.12.3.2.2.3.2">𝒓</ci><ci id="S5.Ex2.m1.12.12.3.2.2.3.3.cmml" xref="S5.Ex2.m1.12.12.3.2.2.3.3">𝑖</ci></apply><apply id="S5.Ex2.m1.12.12.3.2.2.1.2.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1"><log id="S5.Ex2.m1.9.9.cmml" xref="S5.Ex2.m1.9.9"></log><apply id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1"><times id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.2.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.2"></times><apply id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.1.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3">subscript</csymbol><apply id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.2.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.2"><ci id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.2.1.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.2.1">^</ci><ci id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.2.2.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.2.2">𝑹</ci></apply><ci id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.3.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.3.3">italic-ϕ</ci></apply><apply id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.1.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.2.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.2">𝒂</ci><list id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.1.1.1.3.2"><ci id="S5.Ex2.m1.6.6.cmml" xref="S5.Ex2.m1.6.6">𝑥</ci><ci id="S5.Ex2.m1.7.7.cmml" xref="S5.Ex2.m1.7.7">𝑧</ci></list></apply><apply id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.4.1.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.4.2"><csymbol cd="latexml" id="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.4.1.1.cmml" xref="S5.Ex2.m1.12.12.3.2.2.1.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S5.Ex2.m1.8.8.cmml" xref="S5.Ex2.m1.8.8">𝑖</ci></apply></apply></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Ex2.m1.12c">\displaystyle\textrm{Logloss}(\hat{\bm{R}}_{\phi},r)=-\sum_{(x,z,{\bm{a}},r)%
\in\mathcal{D}}\sum_{i=1}^{L}\quad\bm{r}_{i}\log({\hat{\bm{R}}_{\phi}({\bm{a}}%
|x,z)[i]})</annotation><annotation encoding="application/x-llamapun" id="S5.Ex2.m1.12d">Logloss ( over^ start_ARG bold_italic_R end_ARG start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT , italic_r ) = - ∑ start_POSTSUBSCRIPT ( italic_x , italic_z , bold_italic_a , italic_r ) ∈ caligraphic_D end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_L end_POSTSUPERSCRIPT bold_italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT roman_log ( over^ start_ARG bold_italic_R end_ARG start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( bold_italic_a | italic_x , italic_z ) [ italic_i ] )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S5.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle+(1-\bm{r}_{i})\log(1-\hat{\bm{R}}_{\phi}({\bm{a}}|x,z)[i])." class="ltx_Math" display="inline" id="S5.Ex3.m1.5"><semantics id="S5.Ex3.m1.5a"><mrow id="S5.Ex3.m1.5.5.1" xref="S5.Ex3.m1.5.5.1.1.cmml"><mrow id="S5.Ex3.m1.5.5.1.1" xref="S5.Ex3.m1.5.5.1.1.cmml"><mo id="S5.Ex3.m1.5.5.1.1a" xref="S5.Ex3.m1.5.5.1.1.cmml">+</mo><mrow id="S5.Ex3.m1.5.5.1.1.2" xref="S5.Ex3.m1.5.5.1.1.2.cmml"><mrow id="S5.Ex3.m1.5.5.1.1.1.1.1" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.cmml"><mo id="S5.Ex3.m1.5.5.1.1.1.1.1.2" stretchy="false" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.Ex3.m1.5.5.1.1.1.1.1.1" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.cmml"><mn id="S5.Ex3.m1.5.5.1.1.1.1.1.1.2" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.2.cmml">1</mn><mo id="S5.Ex3.m1.5.5.1.1.1.1.1.1.1" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.1.cmml">−</mo><msub id="S5.Ex3.m1.5.5.1.1.1.1.1.1.3" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.3.cmml"><mi id="S5.Ex3.m1.5.5.1.1.1.1.1.1.3.2" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.3.2.cmml">𝒓</mi><mi id="S5.Ex3.m1.5.5.1.1.1.1.1.1.3.3" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S5.Ex3.m1.5.5.1.1.1.1.1.3" stretchy="false" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S5.Ex3.m1.5.5.1.1.2.3" lspace="0.167em" xref="S5.Ex3.m1.5.5.1.1.2.3.cmml">⁢</mo><mrow id="S5.Ex3.m1.5.5.1.1.2.2.1" xref="S5.Ex3.m1.5.5.1.1.2.2.2.cmml"><mi id="S5.Ex3.m1.4.4" xref="S5.Ex3.m1.4.4.cmml">log</mi><mo id="S5.Ex3.m1.5.5.1.1.2.2.1a" xref="S5.Ex3.m1.5.5.1.1.2.2.2.cmml">⁡</mo><mrow id="S5.Ex3.m1.5.5.1.1.2.2.1.1" xref="S5.Ex3.m1.5.5.1.1.2.2.2.cmml"><mo id="S5.Ex3.m1.5.5.1.1.2.2.1.1.2" stretchy="false" xref="S5.Ex3.m1.5.5.1.1.2.2.2.cmml">(</mo><mrow id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.cmml"><mn id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.3" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.3.cmml">1</mn><mo id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.2" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.2.cmml">−</mo><mrow id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.cmml"><msub id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.cmml"><mover accent="true" id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.2" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.2.cmml"><mi id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.2.2" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.2.2.cmml">𝑹</mi><mo id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.2.1" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.2.1.cmml">^</mo></mover><mi id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.3" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.3.cmml">ϕ</mi></msub><mo id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.2" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.2" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.2.cmml">𝒂</mi><mo fence="false" id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.1" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.3.2" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.3.1.cmml"><mi id="S5.Ex3.m1.1.1" xref="S5.Ex3.m1.1.1.cmml">x</mi><mo id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.3.2.1" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.3.1.cmml">,</mo><mi id="S5.Ex3.m1.2.2" xref="S5.Ex3.m1.2.2.cmml">z</mi></mrow></mrow><mo id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.2a" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.4.2" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.4.1.cmml"><mo id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.4.2.1" stretchy="false" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.4.1.1.cmml">[</mo><mi id="S5.Ex3.m1.3.3" xref="S5.Ex3.m1.3.3.cmml">i</mi><mo id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.4.2.2" stretchy="false" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></mrow><mo id="S5.Ex3.m1.5.5.1.1.2.2.1.1.3" stretchy="false" xref="S5.Ex3.m1.5.5.1.1.2.2.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S5.Ex3.m1.5.5.1.2" lspace="0em" xref="S5.Ex3.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.Ex3.m1.5b"><apply id="S5.Ex3.m1.5.5.1.1.cmml" xref="S5.Ex3.m1.5.5.1"><plus id="S5.Ex3.m1.5.5.1.1.3.cmml" xref="S5.Ex3.m1.5.5.1"></plus><apply id="S5.Ex3.m1.5.5.1.1.2.cmml" xref="S5.Ex3.m1.5.5.1.1.2"><times id="S5.Ex3.m1.5.5.1.1.2.3.cmml" xref="S5.Ex3.m1.5.5.1.1.2.3"></times><apply id="S5.Ex3.m1.5.5.1.1.1.1.1.1.cmml" xref="S5.Ex3.m1.5.5.1.1.1.1.1"><minus id="S5.Ex3.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.1"></minus><cn id="S5.Ex3.m1.5.5.1.1.1.1.1.1.2.cmml" type="integer" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.2">1</cn><apply id="S5.Ex3.m1.5.5.1.1.1.1.1.1.3.cmml" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.Ex3.m1.5.5.1.1.1.1.1.1.3.1.cmml" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.3">subscript</csymbol><ci id="S5.Ex3.m1.5.5.1.1.1.1.1.1.3.2.cmml" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.3.2">𝒓</ci><ci id="S5.Ex3.m1.5.5.1.1.1.1.1.1.3.3.cmml" xref="S5.Ex3.m1.5.5.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><apply id="S5.Ex3.m1.5.5.1.1.2.2.2.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1"><log id="S5.Ex3.m1.4.4.cmml" xref="S5.Ex3.m1.4.4"></log><apply id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1"><minus id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.2.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.2"></minus><cn id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.3.cmml" type="integer" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.3">1</cn><apply id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1"><times id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.2.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.2"></times><apply id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.1.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3">subscript</csymbol><apply id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.2.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.2"><ci id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.2.1.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.2.1">^</ci><ci id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.2.2.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.2.2">𝑹</ci></apply><ci id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.3.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.3.3">italic-ϕ</ci></apply><apply id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.2">𝒂</ci><list id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.3.2"><ci id="S5.Ex3.m1.1.1.cmml" xref="S5.Ex3.m1.1.1">𝑥</ci><ci id="S5.Ex3.m1.2.2.cmml" xref="S5.Ex3.m1.2.2">𝑧</ci></list></apply><apply id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.4.1.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.4.2"><csymbol cd="latexml" id="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.4.1.1.cmml" xref="S5.Ex3.m1.5.5.1.1.2.2.1.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S5.Ex3.m1.3.3.cmml" xref="S5.Ex3.m1.3.3">𝑖</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Ex3.m1.5c">\displaystyle+(1-\bm{r}_{i})\log(1-\hat{\bm{R}}_{\phi}({\bm{a}}|x,z)[i]).</annotation><annotation encoding="application/x-llamapun" id="S5.Ex3.m1.5d">+ ( 1 - bold_italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) roman_log ( 1 - over^ start_ARG bold_italic_R end_ARG start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( bold_italic_a | italic_x , italic_z ) [ italic_i ] ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS2.p5.2">When the aggregation step in subclaim-level evaluation yields continuous/valued reward <math alttext="r" class="ltx_Math" display="inline" id="S5.SS2.p5.2.m1.1"><semantics id="S5.SS2.p5.2.m1.1a"><mi id="S5.SS2.p5.2.m1.1.1" xref="S5.SS2.p5.2.m1.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p5.2.m1.1b"><ci id="S5.SS2.p5.2.m1.1.1.cmml" xref="S5.SS2.p5.2.m1.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p5.2.m1.1c">r</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p5.2.m1.1d">italic_r</annotation></semantics></math>, we choose to use the MSE loss for reward model training instead</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx3">
<tbody id="S5.Ex4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\textrm{MSE}(\hat{\bm{R}_{\phi}},r)=\sum_{(x,z,{\bm{a}},r)\in%
\mathcal{D}}\sum_{i=1}^{L}\quad(\hat{\bm{R}}_{\phi}({\bm{a}}|x,z)[i]-\bm{r}_{i%
})^{2}." class="ltx_Math" display="inline" id="S5.Ex4.m1.10"><semantics id="S5.Ex4.m1.10a"><mrow id="S5.Ex4.m1.10.10.1" xref="S5.Ex4.m1.10.10.1.1.cmml"><mrow id="S5.Ex4.m1.10.10.1.1" xref="S5.Ex4.m1.10.10.1.1.cmml"><mrow id="S5.Ex4.m1.10.10.1.1.4" xref="S5.Ex4.m1.10.10.1.1.4.cmml"><mtext id="S5.Ex4.m1.10.10.1.1.4.2" xref="S5.Ex4.m1.10.10.1.1.4.2a.cmml">MSE</mtext><mo id="S5.Ex4.m1.10.10.1.1.4.1" xref="S5.Ex4.m1.10.10.1.1.4.1.cmml">⁢</mo><mrow id="S5.Ex4.m1.10.10.1.1.4.3.2" xref="S5.Ex4.m1.10.10.1.1.4.3.1.cmml"><mo id="S5.Ex4.m1.10.10.1.1.4.3.2.1" stretchy="false" xref="S5.Ex4.m1.10.10.1.1.4.3.1.cmml">(</mo><mover accent="true" id="S5.Ex4.m1.5.5" xref="S5.Ex4.m1.5.5.cmml"><msub id="S5.Ex4.m1.5.5.2" xref="S5.Ex4.m1.5.5.2.cmml"><mi id="S5.Ex4.m1.5.5.2.2" xref="S5.Ex4.m1.5.5.2.2.cmml">𝑹</mi><mi id="S5.Ex4.m1.5.5.2.3" xref="S5.Ex4.m1.5.5.2.3.cmml">ϕ</mi></msub><mo id="S5.Ex4.m1.5.5.1" xref="S5.Ex4.m1.5.5.1.cmml">^</mo></mover><mo id="S5.Ex4.m1.10.10.1.1.4.3.2.2" xref="S5.Ex4.m1.10.10.1.1.4.3.1.cmml">,</mo><mi id="S5.Ex4.m1.6.6" xref="S5.Ex4.m1.6.6.cmml">r</mi><mo id="S5.Ex4.m1.10.10.1.1.4.3.2.3" stretchy="false" xref="S5.Ex4.m1.10.10.1.1.4.3.1.cmml">)</mo></mrow></mrow><mo id="S5.Ex4.m1.10.10.1.1.3" xref="S5.Ex4.m1.10.10.1.1.3.cmml">=</mo><mrow id="S5.Ex4.m1.10.10.1.1.2.2" xref="S5.Ex4.m1.10.10.1.1.2.3.cmml"><mrow id="S5.Ex4.m1.10.10.1.1.1.1.1" xref="S5.Ex4.m1.10.10.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S5.Ex4.m1.10.10.1.1.1.1.1.1" xref="S5.Ex4.m1.10.10.1.1.1.1.1.1.cmml"><munder id="S5.Ex4.m1.10.10.1.1.1.1.1.1a" xref="S5.Ex4.m1.10.10.1.1.1.1.1.1.cmml"><mo id="S5.Ex4.m1.10.10.1.1.1.1.1.1.2" movablelimits="false" xref="S5.Ex4.m1.10.10.1.1.1.1.1.1.2.cmml">∑</mo><mrow id="S5.Ex4.m1.4.4.4" xref="S5.Ex4.m1.4.4.4.cmml"><mrow id="S5.Ex4.m1.4.4.4.6.2" xref="S5.Ex4.m1.4.4.4.6.1.cmml"><mo id="S5.Ex4.m1.4.4.4.6.2.1" stretchy="false" xref="S5.Ex4.m1.4.4.4.6.1.cmml">(</mo><mi id="S5.Ex4.m1.1.1.1.1" xref="S5.Ex4.m1.1.1.1.1.cmml">x</mi><mo id="S5.Ex4.m1.4.4.4.6.2.2" xref="S5.Ex4.m1.4.4.4.6.1.cmml">,</mo><mi id="S5.Ex4.m1.2.2.2.2" xref="S5.Ex4.m1.2.2.2.2.cmml">z</mi><mo id="S5.Ex4.m1.4.4.4.6.2.3" xref="S5.Ex4.m1.4.4.4.6.1.cmml">,</mo><mi id="S5.Ex4.m1.3.3.3.3" xref="S5.Ex4.m1.3.3.3.3.cmml">𝒂</mi><mo id="S5.Ex4.m1.4.4.4.6.2.4" xref="S5.Ex4.m1.4.4.4.6.1.cmml">,</mo><mi id="S5.Ex4.m1.4.4.4.4" xref="S5.Ex4.m1.4.4.4.4.cmml">r</mi><mo id="S5.Ex4.m1.4.4.4.6.2.5" stretchy="false" xref="S5.Ex4.m1.4.4.4.6.1.cmml">)</mo></mrow><mo id="S5.Ex4.m1.4.4.4.5" xref="S5.Ex4.m1.4.4.4.5.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.Ex4.m1.4.4.4.7" xref="S5.Ex4.m1.4.4.4.7.cmml">𝒟</mi></mrow></munder></mstyle><mstyle displaystyle="true" id="S5.Ex4.m1.10.10.1.1.1.1.1.2" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.cmml"><munderover id="S5.Ex4.m1.10.10.1.1.1.1.1.2a" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.cmml"><mo id="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.2" movablelimits="false" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.cmml"><mi id="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.2" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.1" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.3" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S5.Ex4.m1.10.10.1.1.1.1.1.2.3" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.3.cmml">L</mi></munderover></mstyle></mrow><mspace id="S5.Ex4.m1.10.10.1.1.2.2.3" width="1em" xref="S5.Ex4.m1.10.10.1.1.2.3.cmml"></mspace><msup id="S5.Ex4.m1.10.10.1.1.2.2.2" xref="S5.Ex4.m1.10.10.1.1.2.2.2.cmml"><mrow id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.cmml"><mo id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.2" stretchy="false" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.cmml">(</mo><mrow id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.cmml"><mrow id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.cmml"><msub id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.cmml"><mover accent="true" id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.2" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.2.cmml"><mi id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.2.2" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.2.2.cmml">𝑹</mi><mo id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.2.1" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.2.1.cmml">^</mo></mover><mi id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.3" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.3.cmml">ϕ</mi></msub><mo id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.2" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.cmml"><mo id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.cmml"><mi id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.2" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.2.cmml">𝒂</mi><mo fence="false" id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.1" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.3.2" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.3.1.cmml"><mi id="S5.Ex4.m1.7.7" xref="S5.Ex4.m1.7.7.cmml">x</mi><mo id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.3.2.1" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.3.1.cmml">,</mo><mi id="S5.Ex4.m1.8.8" xref="S5.Ex4.m1.8.8.cmml">z</mi></mrow></mrow><mo id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.2a" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.4.2" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.4.1.cmml"><mo id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.4.2.1" stretchy="false" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.4.1.1.cmml">[</mo><mi id="S5.Ex4.m1.9.9" xref="S5.Ex4.m1.9.9.cmml">i</mi><mo id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.4.2.2" stretchy="false" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.4.1.1.cmml">]</mo></mrow></mrow><mo id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.2" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.2.cmml">−</mo><msub id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3.cmml"><mi id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3.2" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3.2.cmml">𝒓</mi><mi id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3.3" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.3" stretchy="false" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.cmml">)</mo></mrow><mn id="S5.Ex4.m1.10.10.1.1.2.2.2.3" xref="S5.Ex4.m1.10.10.1.1.2.2.2.3.cmml">2</mn></msup></mrow></mrow><mo id="S5.Ex4.m1.10.10.1.2" lspace="0em" xref="S5.Ex4.m1.10.10.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.Ex4.m1.10b"><apply id="S5.Ex4.m1.10.10.1.1.cmml" xref="S5.Ex4.m1.10.10.1"><eq id="S5.Ex4.m1.10.10.1.1.3.cmml" xref="S5.Ex4.m1.10.10.1.1.3"></eq><apply id="S5.Ex4.m1.10.10.1.1.4.cmml" xref="S5.Ex4.m1.10.10.1.1.4"><times id="S5.Ex4.m1.10.10.1.1.4.1.cmml" xref="S5.Ex4.m1.10.10.1.1.4.1"></times><ci id="S5.Ex4.m1.10.10.1.1.4.2a.cmml" xref="S5.Ex4.m1.10.10.1.1.4.2"><mtext id="S5.Ex4.m1.10.10.1.1.4.2.cmml" xref="S5.Ex4.m1.10.10.1.1.4.2">MSE</mtext></ci><interval closure="open" id="S5.Ex4.m1.10.10.1.1.4.3.1.cmml" xref="S5.Ex4.m1.10.10.1.1.4.3.2"><apply id="S5.Ex4.m1.5.5.cmml" xref="S5.Ex4.m1.5.5"><ci id="S5.Ex4.m1.5.5.1.cmml" xref="S5.Ex4.m1.5.5.1">^</ci><apply id="S5.Ex4.m1.5.5.2.cmml" xref="S5.Ex4.m1.5.5.2"><csymbol cd="ambiguous" id="S5.Ex4.m1.5.5.2.1.cmml" xref="S5.Ex4.m1.5.5.2">subscript</csymbol><ci id="S5.Ex4.m1.5.5.2.2.cmml" xref="S5.Ex4.m1.5.5.2.2">𝑹</ci><ci id="S5.Ex4.m1.5.5.2.3.cmml" xref="S5.Ex4.m1.5.5.2.3">italic-ϕ</ci></apply></apply><ci id="S5.Ex4.m1.6.6.cmml" xref="S5.Ex4.m1.6.6">𝑟</ci></interval></apply><list id="S5.Ex4.m1.10.10.1.1.2.3.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2"><apply id="S5.Ex4.m1.10.10.1.1.1.1.1.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1"><apply id="S5.Ex4.m1.10.10.1.1.1.1.1.1.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.Ex4.m1.10.10.1.1.1.1.1.1.1.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1.1">subscript</csymbol><sum id="S5.Ex4.m1.10.10.1.1.1.1.1.1.2.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1.1.2"></sum><apply id="S5.Ex4.m1.4.4.4.cmml" xref="S5.Ex4.m1.4.4.4"><in id="S5.Ex4.m1.4.4.4.5.cmml" xref="S5.Ex4.m1.4.4.4.5"></in><vector id="S5.Ex4.m1.4.4.4.6.1.cmml" xref="S5.Ex4.m1.4.4.4.6.2"><ci id="S5.Ex4.m1.1.1.1.1.cmml" xref="S5.Ex4.m1.1.1.1.1">𝑥</ci><ci id="S5.Ex4.m1.2.2.2.2.cmml" xref="S5.Ex4.m1.2.2.2.2">𝑧</ci><ci id="S5.Ex4.m1.3.3.3.3.cmml" xref="S5.Ex4.m1.3.3.3.3">𝒂</ci><ci id="S5.Ex4.m1.4.4.4.4.cmml" xref="S5.Ex4.m1.4.4.4.4">𝑟</ci></vector><ci id="S5.Ex4.m1.4.4.4.7.cmml" xref="S5.Ex4.m1.4.4.4.7">𝒟</ci></apply></apply><apply id="S5.Ex4.m1.10.10.1.1.1.1.1.2.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex4.m1.10.10.1.1.1.1.1.2.1.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2">superscript</csymbol><apply id="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.1.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2">subscript</csymbol><sum id="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.2.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.2"></sum><apply id="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3"><eq id="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.1.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.1"></eq><ci id="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.2.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.2">𝑖</ci><cn id="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S5.Ex4.m1.10.10.1.1.1.1.1.2.3.cmml" xref="S5.Ex4.m1.10.10.1.1.1.1.1.2.3">𝐿</ci></apply></apply><apply id="S5.Ex4.m1.10.10.1.1.2.2.2.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2"><csymbol cd="ambiguous" id="S5.Ex4.m1.10.10.1.1.2.2.2.2.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2">superscript</csymbol><apply id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1"><minus id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.2.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.2"></minus><apply id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1"><times id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.2.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.2"></times><apply id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.1.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3">subscript</csymbol><apply id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.2.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.2"><ci id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.2.1.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.2.1">^</ci><ci id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.2.2.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.2.2">𝑹</ci></apply><ci id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.3.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.3.3">italic-ϕ</ci></apply><apply id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.2.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.2">𝒂</ci><list id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.3.2"><ci id="S5.Ex4.m1.7.7.cmml" xref="S5.Ex4.m1.7.7">𝑥</ci><ci id="S5.Ex4.m1.8.8.cmml" xref="S5.Ex4.m1.8.8">𝑧</ci></list></apply><apply id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.4.1.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.4.2"><csymbol cd="latexml" id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.4.1.1.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S5.Ex4.m1.9.9.cmml" xref="S5.Ex4.m1.9.9">𝑖</ci></apply></apply><apply id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3.1.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3">subscript</csymbol><ci id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3.2.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3.2">𝒓</ci><ci id="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3.3.cmml" xref="S5.Ex4.m1.10.10.1.1.2.2.2.1.1.1.3.3">𝑖</ci></apply></apply><cn id="S5.Ex4.m1.10.10.1.1.2.2.2.3.cmml" type="integer" xref="S5.Ex4.m1.10.10.1.1.2.2.2.3">2</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Ex4.m1.10c">\displaystyle\textrm{MSE}(\hat{\bm{R}_{\phi}},r)=\sum_{(x,z,{\bm{a}},r)\in%
\mathcal{D}}\sum_{i=1}^{L}\quad(\hat{\bm{R}}_{\phi}({\bm{a}}|x,z)[i]-\bm{r}_{i%
})^{2}.</annotation><annotation encoding="application/x-llamapun" id="S5.Ex4.m1.10d">MSE ( over^ start_ARG bold_italic_R start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT end_ARG , italic_r ) = ∑ start_POSTSUBSCRIPT ( italic_x , italic_z , bold_italic_a , italic_r ) ∈ caligraphic_D end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_L end_POSTSUPERSCRIPT ( over^ start_ARG bold_italic_R end_ARG start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( bold_italic_a | italic_x , italic_z ) [ italic_i ] - bold_italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S5.SS2.p6">
<p class="ltx_p" id="S5.SS2.p6.1">After the reward model <math alttext="\hat{\bm{R}}" class="ltx_Math" display="inline" id="S5.SS2.p6.1.m1.1"><semantics id="S5.SS2.p6.1.m1.1a"><mover accent="true" id="S5.SS2.p6.1.m1.1.1" xref="S5.SS2.p6.1.m1.1.1.cmml"><mi id="S5.SS2.p6.1.m1.1.1.2" xref="S5.SS2.p6.1.m1.1.1.2.cmml">𝑹</mi><mo id="S5.SS2.p6.1.m1.1.1.1" xref="S5.SS2.p6.1.m1.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S5.SS2.p6.1.m1.1b"><apply id="S5.SS2.p6.1.m1.1.1.cmml" xref="S5.SS2.p6.1.m1.1.1"><ci id="S5.SS2.p6.1.m1.1.1.1.cmml" xref="S5.SS2.p6.1.m1.1.1.1">^</ci><ci id="S5.SS2.p6.1.m1.1.1.2.cmml" xref="S5.SS2.p6.1.m1.1.1.2">𝑹</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p6.1.m1.1c">\hat{\bm{R}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p6.1.m1.1d">over^ start_ARG bold_italic_R end_ARG</annotation></semantics></math> is learned, we adopt PPO to optimize the generation model by maximizing the following reward</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx4">
<tbody id="S5.Ex5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\hat{r}_{t}(s_{t},a_{t})=\sum_{j=1}^{L}\bm{1}(t=T_{j})\hat{\bm{R}%
}_{\phi}({\bm{a}}|x,z)[j]-\beta\log\frac{\pi_{\theta}(a_{t}|s_{t})}{\pi_{%
\textrm{ref}}(a_{t}|s_{t})}." class="ltx_Math" display="inline" id="S5.Ex5.m1.6"><semantics id="S5.Ex5.m1.6a"><mrow id="S5.Ex5.m1.6.6.1" xref="S5.Ex5.m1.6.6.1.1.cmml"><mrow id="S5.Ex5.m1.6.6.1.1" xref="S5.Ex5.m1.6.6.1.1.cmml"><mrow id="S5.Ex5.m1.6.6.1.1.2" xref="S5.Ex5.m1.6.6.1.1.2.cmml"><msub id="S5.Ex5.m1.6.6.1.1.2.4" xref="S5.Ex5.m1.6.6.1.1.2.4.cmml"><mover accent="true" id="S5.Ex5.m1.6.6.1.1.2.4.2" xref="S5.Ex5.m1.6.6.1.1.2.4.2.cmml"><mi id="S5.Ex5.m1.6.6.1.1.2.4.2.2" xref="S5.Ex5.m1.6.6.1.1.2.4.2.2.cmml">r</mi><mo id="S5.Ex5.m1.6.6.1.1.2.4.2.1" xref="S5.Ex5.m1.6.6.1.1.2.4.2.1.cmml">^</mo></mover><mi id="S5.Ex5.m1.6.6.1.1.2.4.3" xref="S5.Ex5.m1.6.6.1.1.2.4.3.cmml">t</mi></msub><mo id="S5.Ex5.m1.6.6.1.1.2.3" xref="S5.Ex5.m1.6.6.1.1.2.3.cmml">⁢</mo><mrow id="S5.Ex5.m1.6.6.1.1.2.2.2" xref="S5.Ex5.m1.6.6.1.1.2.2.3.cmml"><mo id="S5.Ex5.m1.6.6.1.1.2.2.2.3" stretchy="false" xref="S5.Ex5.m1.6.6.1.1.2.2.3.cmml">(</mo><msub id="S5.Ex5.m1.6.6.1.1.1.1.1.1" xref="S5.Ex5.m1.6.6.1.1.1.1.1.1.cmml"><mi id="S5.Ex5.m1.6.6.1.1.1.1.1.1.2" xref="S5.Ex5.m1.6.6.1.1.1.1.1.1.2.cmml">s</mi><mi id="S5.Ex5.m1.6.6.1.1.1.1.1.1.3" xref="S5.Ex5.m1.6.6.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S5.Ex5.m1.6.6.1.1.2.2.2.4" xref="S5.Ex5.m1.6.6.1.1.2.2.3.cmml">,</mo><msub id="S5.Ex5.m1.6.6.1.1.2.2.2.2" xref="S5.Ex5.m1.6.6.1.1.2.2.2.2.cmml"><mi id="S5.Ex5.m1.6.6.1.1.2.2.2.2.2" xref="S5.Ex5.m1.6.6.1.1.2.2.2.2.2.cmml">a</mi><mi id="S5.Ex5.m1.6.6.1.1.2.2.2.2.3" xref="S5.Ex5.m1.6.6.1.1.2.2.2.2.3.cmml">t</mi></msub><mo id="S5.Ex5.m1.6.6.1.1.2.2.2.5" stretchy="false" xref="S5.Ex5.m1.6.6.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S5.Ex5.m1.6.6.1.1.5" xref="S5.Ex5.m1.6.6.1.1.5.cmml">=</mo><mrow id="S5.Ex5.m1.6.6.1.1.4" xref="S5.Ex5.m1.6.6.1.1.4.cmml"><mrow id="S5.Ex5.m1.6.6.1.1.4.2" xref="S5.Ex5.m1.6.6.1.1.4.2.cmml"><mstyle displaystyle="true" id="S5.Ex5.m1.6.6.1.1.4.2.3" xref="S5.Ex5.m1.6.6.1.1.4.2.3.cmml"><munderover id="S5.Ex5.m1.6.6.1.1.4.2.3a" xref="S5.Ex5.m1.6.6.1.1.4.2.3.cmml"><mo id="S5.Ex5.m1.6.6.1.1.4.2.3.2.2" movablelimits="false" xref="S5.Ex5.m1.6.6.1.1.4.2.3.2.2.cmml">∑</mo><mrow id="S5.Ex5.m1.6.6.1.1.4.2.3.2.3" xref="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.cmml"><mi id="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.2" xref="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.2.cmml">j</mi><mo id="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.1" xref="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.1.cmml">=</mo><mn id="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.3" xref="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.3.cmml">1</mn></mrow><mi id="S5.Ex5.m1.6.6.1.1.4.2.3.3" xref="S5.Ex5.m1.6.6.1.1.4.2.3.3.cmml">L</mi></munderover></mstyle><mrow id="S5.Ex5.m1.6.6.1.1.4.2.2" xref="S5.Ex5.m1.6.6.1.1.4.2.2.cmml"><mn id="S5.Ex5.m1.6.6.1.1.4.2.2.4" xref="S5.Ex5.m1.6.6.1.1.4.2.2.4.cmml">𝟏</mn><mo id="S5.Ex5.m1.6.6.1.1.4.2.2.3" xref="S5.Ex5.m1.6.6.1.1.4.2.2.3.cmml">⁢</mo><mrow id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.cmml"><mo id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.2" stretchy="false" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.cmml">(</mo><mrow id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.cmml"><mi id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.2" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.2.cmml">t</mi><mo id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.1" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.1.cmml">=</mo><msub id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3.cmml"><mi id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3.2" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3.2.cmml">T</mi><mi id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3.3" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3.3.cmml">j</mi></msub></mrow><mo id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.3" stretchy="false" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.cmml">)</mo></mrow><mo id="S5.Ex5.m1.6.6.1.1.4.2.2.3a" xref="S5.Ex5.m1.6.6.1.1.4.2.2.3.cmml">⁢</mo><msub id="S5.Ex5.m1.6.6.1.1.4.2.2.5" xref="S5.Ex5.m1.6.6.1.1.4.2.2.5.cmml"><mover accent="true" id="S5.Ex5.m1.6.6.1.1.4.2.2.5.2" xref="S5.Ex5.m1.6.6.1.1.4.2.2.5.2.cmml"><mi id="S5.Ex5.m1.6.6.1.1.4.2.2.5.2.2" xref="S5.Ex5.m1.6.6.1.1.4.2.2.5.2.2.cmml">𝑹</mi><mo id="S5.Ex5.m1.6.6.1.1.4.2.2.5.2.1" xref="S5.Ex5.m1.6.6.1.1.4.2.2.5.2.1.cmml">^</mo></mover><mi id="S5.Ex5.m1.6.6.1.1.4.2.2.5.3" xref="S5.Ex5.m1.6.6.1.1.4.2.2.5.3.cmml">ϕ</mi></msub><mo id="S5.Ex5.m1.6.6.1.1.4.2.2.3b" xref="S5.Ex5.m1.6.6.1.1.4.2.2.3.cmml">⁢</mo><mrow id="S5.Ex5.m1.6.6.1.1.4.2.2.2.1" xref="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.cmml"><mo id="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.2" stretchy="false" xref="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.cmml">(</mo><mrow id="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1" xref="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.cmml"><mi id="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.2" xref="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.2.cmml">𝒂</mi><mo fence="false" id="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.1" xref="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.1.cmml">|</mo><mrow id="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.3.2" xref="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.3.1.cmml"><mi id="S5.Ex5.m1.3.3" xref="S5.Ex5.m1.3.3.cmml">x</mi><mo id="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.3.2.1" xref="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.3.1.cmml">,</mo><mi id="S5.Ex5.m1.4.4" xref="S5.Ex5.m1.4.4.cmml">z</mi></mrow></mrow><mo id="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.3" stretchy="false" xref="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.cmml">)</mo></mrow><mo id="S5.Ex5.m1.6.6.1.1.4.2.2.3c" xref="S5.Ex5.m1.6.6.1.1.4.2.2.3.cmml">⁢</mo><mrow id="S5.Ex5.m1.6.6.1.1.4.2.2.6.2" xref="S5.Ex5.m1.6.6.1.1.4.2.2.6.1.cmml"><mo id="S5.Ex5.m1.6.6.1.1.4.2.2.6.2.1" stretchy="false" xref="S5.Ex5.m1.6.6.1.1.4.2.2.6.1.1.cmml">[</mo><mi id="S5.Ex5.m1.5.5" xref="S5.Ex5.m1.5.5.cmml">j</mi><mo id="S5.Ex5.m1.6.6.1.1.4.2.2.6.2.2" stretchy="false" xref="S5.Ex5.m1.6.6.1.1.4.2.2.6.1.1.cmml">]</mo></mrow></mrow></mrow><mo id="S5.Ex5.m1.6.6.1.1.4.3" xref="S5.Ex5.m1.6.6.1.1.4.3.cmml">−</mo><mrow id="S5.Ex5.m1.6.6.1.1.4.4" xref="S5.Ex5.m1.6.6.1.1.4.4.cmml"><mi id="S5.Ex5.m1.6.6.1.1.4.4.2" xref="S5.Ex5.m1.6.6.1.1.4.4.2.cmml">β</mi><mo id="S5.Ex5.m1.6.6.1.1.4.4.1" lspace="0.167em" xref="S5.Ex5.m1.6.6.1.1.4.4.1.cmml">⁢</mo><mrow id="S5.Ex5.m1.6.6.1.1.4.4.3" xref="S5.Ex5.m1.6.6.1.1.4.4.3.cmml"><mi id="S5.Ex5.m1.6.6.1.1.4.4.3.1" xref="S5.Ex5.m1.6.6.1.1.4.4.3.1.cmml">log</mi><mo id="S5.Ex5.m1.6.6.1.1.4.4.3a" lspace="0.167em" xref="S5.Ex5.m1.6.6.1.1.4.4.3.cmml">⁡</mo><mstyle displaystyle="true" id="S5.Ex5.m1.2.2" xref="S5.Ex5.m1.2.2.cmml"><mfrac id="S5.Ex5.m1.2.2a" xref="S5.Ex5.m1.2.2.cmml"><mrow id="S5.Ex5.m1.1.1.1" xref="S5.Ex5.m1.1.1.1.cmml"><msub id="S5.Ex5.m1.1.1.1.3" xref="S5.Ex5.m1.1.1.1.3.cmml"><mi id="S5.Ex5.m1.1.1.1.3.2" xref="S5.Ex5.m1.1.1.1.3.2.cmml">π</mi><mi id="S5.Ex5.m1.1.1.1.3.3" xref="S5.Ex5.m1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S5.Ex5.m1.1.1.1.2" xref="S5.Ex5.m1.1.1.1.2.cmml">⁢</mo><mrow id="S5.Ex5.m1.1.1.1.1.1" xref="S5.Ex5.m1.1.1.1.1.1.1.cmml"><mo id="S5.Ex5.m1.1.1.1.1.1.2" stretchy="false" xref="S5.Ex5.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.Ex5.m1.1.1.1.1.1.1" xref="S5.Ex5.m1.1.1.1.1.1.1.cmml"><msub id="S5.Ex5.m1.1.1.1.1.1.1.2" xref="S5.Ex5.m1.1.1.1.1.1.1.2.cmml"><mi id="S5.Ex5.m1.1.1.1.1.1.1.2.2" xref="S5.Ex5.m1.1.1.1.1.1.1.2.2.cmml">a</mi><mi id="S5.Ex5.m1.1.1.1.1.1.1.2.3" xref="S5.Ex5.m1.1.1.1.1.1.1.2.3.cmml">t</mi></msub><mo fence="false" id="S5.Ex5.m1.1.1.1.1.1.1.1" xref="S5.Ex5.m1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S5.Ex5.m1.1.1.1.1.1.1.3" xref="S5.Ex5.m1.1.1.1.1.1.1.3.cmml"><mi id="S5.Ex5.m1.1.1.1.1.1.1.3.2" xref="S5.Ex5.m1.1.1.1.1.1.1.3.2.cmml">s</mi><mi id="S5.Ex5.m1.1.1.1.1.1.1.3.3" xref="S5.Ex5.m1.1.1.1.1.1.1.3.3.cmml">t</mi></msub></mrow><mo id="S5.Ex5.m1.1.1.1.1.1.3" stretchy="false" xref="S5.Ex5.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S5.Ex5.m1.2.2.2" xref="S5.Ex5.m1.2.2.2.cmml"><msub id="S5.Ex5.m1.2.2.2.3" xref="S5.Ex5.m1.2.2.2.3.cmml"><mi id="S5.Ex5.m1.2.2.2.3.2" xref="S5.Ex5.m1.2.2.2.3.2.cmml">π</mi><mtext id="S5.Ex5.m1.2.2.2.3.3" xref="S5.Ex5.m1.2.2.2.3.3a.cmml">ref</mtext></msub><mo id="S5.Ex5.m1.2.2.2.2" xref="S5.Ex5.m1.2.2.2.2.cmml">⁢</mo><mrow id="S5.Ex5.m1.2.2.2.1.1" xref="S5.Ex5.m1.2.2.2.1.1.1.cmml"><mo id="S5.Ex5.m1.2.2.2.1.1.2" stretchy="false" xref="S5.Ex5.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S5.Ex5.m1.2.2.2.1.1.1" xref="S5.Ex5.m1.2.2.2.1.1.1.cmml"><msub id="S5.Ex5.m1.2.2.2.1.1.1.2" xref="S5.Ex5.m1.2.2.2.1.1.1.2.cmml"><mi id="S5.Ex5.m1.2.2.2.1.1.1.2.2" xref="S5.Ex5.m1.2.2.2.1.1.1.2.2.cmml">a</mi><mi id="S5.Ex5.m1.2.2.2.1.1.1.2.3" xref="S5.Ex5.m1.2.2.2.1.1.1.2.3.cmml">t</mi></msub><mo fence="false" id="S5.Ex5.m1.2.2.2.1.1.1.1" xref="S5.Ex5.m1.2.2.2.1.1.1.1.cmml">|</mo><msub id="S5.Ex5.m1.2.2.2.1.1.1.3" xref="S5.Ex5.m1.2.2.2.1.1.1.3.cmml"><mi id="S5.Ex5.m1.2.2.2.1.1.1.3.2" xref="S5.Ex5.m1.2.2.2.1.1.1.3.2.cmml">s</mi><mi id="S5.Ex5.m1.2.2.2.1.1.1.3.3" xref="S5.Ex5.m1.2.2.2.1.1.1.3.3.cmml">t</mi></msub></mrow><mo id="S5.Ex5.m1.2.2.2.1.1.3" stretchy="false" xref="S5.Ex5.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow></mrow></mrow><mo id="S5.Ex5.m1.6.6.1.2" lspace="0em" xref="S5.Ex5.m1.6.6.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.Ex5.m1.6b"><apply id="S5.Ex5.m1.6.6.1.1.cmml" xref="S5.Ex5.m1.6.6.1"><eq id="S5.Ex5.m1.6.6.1.1.5.cmml" xref="S5.Ex5.m1.6.6.1.1.5"></eq><apply id="S5.Ex5.m1.6.6.1.1.2.cmml" xref="S5.Ex5.m1.6.6.1.1.2"><times id="S5.Ex5.m1.6.6.1.1.2.3.cmml" xref="S5.Ex5.m1.6.6.1.1.2.3"></times><apply id="S5.Ex5.m1.6.6.1.1.2.4.cmml" xref="S5.Ex5.m1.6.6.1.1.2.4"><csymbol cd="ambiguous" id="S5.Ex5.m1.6.6.1.1.2.4.1.cmml" xref="S5.Ex5.m1.6.6.1.1.2.4">subscript</csymbol><apply id="S5.Ex5.m1.6.6.1.1.2.4.2.cmml" xref="S5.Ex5.m1.6.6.1.1.2.4.2"><ci id="S5.Ex5.m1.6.6.1.1.2.4.2.1.cmml" xref="S5.Ex5.m1.6.6.1.1.2.4.2.1">^</ci><ci id="S5.Ex5.m1.6.6.1.1.2.4.2.2.cmml" xref="S5.Ex5.m1.6.6.1.1.2.4.2.2">𝑟</ci></apply><ci id="S5.Ex5.m1.6.6.1.1.2.4.3.cmml" xref="S5.Ex5.m1.6.6.1.1.2.4.3">𝑡</ci></apply><interval closure="open" id="S5.Ex5.m1.6.6.1.1.2.2.3.cmml" xref="S5.Ex5.m1.6.6.1.1.2.2.2"><apply id="S5.Ex5.m1.6.6.1.1.1.1.1.1.cmml" xref="S5.Ex5.m1.6.6.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.Ex5.m1.6.6.1.1.1.1.1.1.1.cmml" xref="S5.Ex5.m1.6.6.1.1.1.1.1.1">subscript</csymbol><ci id="S5.Ex5.m1.6.6.1.1.1.1.1.1.2.cmml" xref="S5.Ex5.m1.6.6.1.1.1.1.1.1.2">𝑠</ci><ci id="S5.Ex5.m1.6.6.1.1.1.1.1.1.3.cmml" xref="S5.Ex5.m1.6.6.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S5.Ex5.m1.6.6.1.1.2.2.2.2.cmml" xref="S5.Ex5.m1.6.6.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S5.Ex5.m1.6.6.1.1.2.2.2.2.1.cmml" xref="S5.Ex5.m1.6.6.1.1.2.2.2.2">subscript</csymbol><ci id="S5.Ex5.m1.6.6.1.1.2.2.2.2.2.cmml" xref="S5.Ex5.m1.6.6.1.1.2.2.2.2.2">𝑎</ci><ci id="S5.Ex5.m1.6.6.1.1.2.2.2.2.3.cmml" xref="S5.Ex5.m1.6.6.1.1.2.2.2.2.3">𝑡</ci></apply></interval></apply><apply id="S5.Ex5.m1.6.6.1.1.4.cmml" xref="S5.Ex5.m1.6.6.1.1.4"><minus id="S5.Ex5.m1.6.6.1.1.4.3.cmml" xref="S5.Ex5.m1.6.6.1.1.4.3"></minus><apply id="S5.Ex5.m1.6.6.1.1.4.2.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2"><apply id="S5.Ex5.m1.6.6.1.1.4.2.3.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.3"><csymbol cd="ambiguous" id="S5.Ex5.m1.6.6.1.1.4.2.3.1.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.3">superscript</csymbol><apply id="S5.Ex5.m1.6.6.1.1.4.2.3.2.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.3"><csymbol cd="ambiguous" id="S5.Ex5.m1.6.6.1.1.4.2.3.2.1.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.3">subscript</csymbol><sum id="S5.Ex5.m1.6.6.1.1.4.2.3.2.2.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.3.2.2"></sum><apply id="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.3.2.3"><eq id="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.1.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.1"></eq><ci id="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.2.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.2">𝑗</ci><cn id="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.3.cmml" type="integer" xref="S5.Ex5.m1.6.6.1.1.4.2.3.2.3.3">1</cn></apply></apply><ci id="S5.Ex5.m1.6.6.1.1.4.2.3.3.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.3.3">𝐿</ci></apply><apply id="S5.Ex5.m1.6.6.1.1.4.2.2.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2"><times id="S5.Ex5.m1.6.6.1.1.4.2.2.3.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.3"></times><cn id="S5.Ex5.m1.6.6.1.1.4.2.2.4.cmml" type="integer" xref="S5.Ex5.m1.6.6.1.1.4.2.2.4">1</cn><apply id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.cmml" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1"><eq id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.1.cmml" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.1"></eq><ci id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.2.cmml" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.2">𝑡</ci><apply id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3.cmml" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3.1.cmml" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3">subscript</csymbol><ci id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3.2.cmml" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3.2">𝑇</ci><ci id="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3.3.cmml" xref="S5.Ex5.m1.6.6.1.1.3.1.1.1.1.1.3.3">𝑗</ci></apply></apply><apply id="S5.Ex5.m1.6.6.1.1.4.2.2.5.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.5"><csymbol cd="ambiguous" id="S5.Ex5.m1.6.6.1.1.4.2.2.5.1.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.5">subscript</csymbol><apply id="S5.Ex5.m1.6.6.1.1.4.2.2.5.2.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.5.2"><ci id="S5.Ex5.m1.6.6.1.1.4.2.2.5.2.1.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.5.2.1">^</ci><ci id="S5.Ex5.m1.6.6.1.1.4.2.2.5.2.2.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.5.2.2">𝑹</ci></apply><ci id="S5.Ex5.m1.6.6.1.1.4.2.2.5.3.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.5.3">italic-ϕ</ci></apply><apply id="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.2.1"><csymbol cd="latexml" id="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.1.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.1">conditional</csymbol><ci id="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.2.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.2">𝒂</ci><list id="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.3.1.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.2.1.1.3.2"><ci id="S5.Ex5.m1.3.3.cmml" xref="S5.Ex5.m1.3.3">𝑥</ci><ci id="S5.Ex5.m1.4.4.cmml" xref="S5.Ex5.m1.4.4">𝑧</ci></list></apply><apply id="S5.Ex5.m1.6.6.1.1.4.2.2.6.1.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.6.2"><csymbol cd="latexml" id="S5.Ex5.m1.6.6.1.1.4.2.2.6.1.1.cmml" xref="S5.Ex5.m1.6.6.1.1.4.2.2.6.2.1">delimited-[]</csymbol><ci id="S5.Ex5.m1.5.5.cmml" xref="S5.Ex5.m1.5.5">𝑗</ci></apply></apply></apply><apply id="S5.Ex5.m1.6.6.1.1.4.4.cmml" xref="S5.Ex5.m1.6.6.1.1.4.4"><times id="S5.Ex5.m1.6.6.1.1.4.4.1.cmml" xref="S5.Ex5.m1.6.6.1.1.4.4.1"></times><ci id="S5.Ex5.m1.6.6.1.1.4.4.2.cmml" xref="S5.Ex5.m1.6.6.1.1.4.4.2">𝛽</ci><apply id="S5.Ex5.m1.6.6.1.1.4.4.3.cmml" xref="S5.Ex5.m1.6.6.1.1.4.4.3"><log id="S5.Ex5.m1.6.6.1.1.4.4.3.1.cmml" xref="S5.Ex5.m1.6.6.1.1.4.4.3.1"></log><apply id="S5.Ex5.m1.2.2.cmml" xref="S5.Ex5.m1.2.2"><divide id="S5.Ex5.m1.2.2.3.cmml" xref="S5.Ex5.m1.2.2"></divide><apply id="S5.Ex5.m1.1.1.1.cmml" xref="S5.Ex5.m1.1.1.1"><times id="S5.Ex5.m1.1.1.1.2.cmml" xref="S5.Ex5.m1.1.1.1.2"></times><apply id="S5.Ex5.m1.1.1.1.3.cmml" xref="S5.Ex5.m1.1.1.1.3"><csymbol cd="ambiguous" id="S5.Ex5.m1.1.1.1.3.1.cmml" xref="S5.Ex5.m1.1.1.1.3">subscript</csymbol><ci id="S5.Ex5.m1.1.1.1.3.2.cmml" xref="S5.Ex5.m1.1.1.1.3.2">𝜋</ci><ci id="S5.Ex5.m1.1.1.1.3.3.cmml" xref="S5.Ex5.m1.1.1.1.3.3">𝜃</ci></apply><apply id="S5.Ex5.m1.1.1.1.1.1.1.cmml" xref="S5.Ex5.m1.1.1.1.1.1"><csymbol cd="latexml" id="S5.Ex5.m1.1.1.1.1.1.1.1.cmml" xref="S5.Ex5.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S5.Ex5.m1.1.1.1.1.1.1.2.cmml" xref="S5.Ex5.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex5.m1.1.1.1.1.1.1.2.1.cmml" xref="S5.Ex5.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S5.Ex5.m1.1.1.1.1.1.1.2.2.cmml" xref="S5.Ex5.m1.1.1.1.1.1.1.2.2">𝑎</ci><ci id="S5.Ex5.m1.1.1.1.1.1.1.2.3.cmml" xref="S5.Ex5.m1.1.1.1.1.1.1.2.3">𝑡</ci></apply><apply id="S5.Ex5.m1.1.1.1.1.1.1.3.cmml" xref="S5.Ex5.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.Ex5.m1.1.1.1.1.1.1.3.1.cmml" xref="S5.Ex5.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S5.Ex5.m1.1.1.1.1.1.1.3.2.cmml" xref="S5.Ex5.m1.1.1.1.1.1.1.3.2">𝑠</ci><ci id="S5.Ex5.m1.1.1.1.1.1.1.3.3.cmml" xref="S5.Ex5.m1.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply><apply id="S5.Ex5.m1.2.2.2.cmml" xref="S5.Ex5.m1.2.2.2"><times id="S5.Ex5.m1.2.2.2.2.cmml" xref="S5.Ex5.m1.2.2.2.2"></times><apply id="S5.Ex5.m1.2.2.2.3.cmml" xref="S5.Ex5.m1.2.2.2.3"><csymbol cd="ambiguous" id="S5.Ex5.m1.2.2.2.3.1.cmml" xref="S5.Ex5.m1.2.2.2.3">subscript</csymbol><ci id="S5.Ex5.m1.2.2.2.3.2.cmml" xref="S5.Ex5.m1.2.2.2.3.2">𝜋</ci><ci id="S5.Ex5.m1.2.2.2.3.3a.cmml" xref="S5.Ex5.m1.2.2.2.3.3"><mtext id="S5.Ex5.m1.2.2.2.3.3.cmml" mathsize="70%" xref="S5.Ex5.m1.2.2.2.3.3">ref</mtext></ci></apply><apply id="S5.Ex5.m1.2.2.2.1.1.1.cmml" xref="S5.Ex5.m1.2.2.2.1.1"><csymbol cd="latexml" id="S5.Ex5.m1.2.2.2.1.1.1.1.cmml" xref="S5.Ex5.m1.2.2.2.1.1.1.1">conditional</csymbol><apply id="S5.Ex5.m1.2.2.2.1.1.1.2.cmml" xref="S5.Ex5.m1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex5.m1.2.2.2.1.1.1.2.1.cmml" xref="S5.Ex5.m1.2.2.2.1.1.1.2">subscript</csymbol><ci id="S5.Ex5.m1.2.2.2.1.1.1.2.2.cmml" xref="S5.Ex5.m1.2.2.2.1.1.1.2.2">𝑎</ci><ci id="S5.Ex5.m1.2.2.2.1.1.1.2.3.cmml" xref="S5.Ex5.m1.2.2.2.1.1.1.2.3">𝑡</ci></apply><apply id="S5.Ex5.m1.2.2.2.1.1.1.3.cmml" xref="S5.Ex5.m1.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S5.Ex5.m1.2.2.2.1.1.1.3.1.cmml" xref="S5.Ex5.m1.2.2.2.1.1.1.3">subscript</csymbol><ci id="S5.Ex5.m1.2.2.2.1.1.1.3.2.cmml" xref="S5.Ex5.m1.2.2.2.1.1.1.3.2">𝑠</ci><ci id="S5.Ex5.m1.2.2.2.1.1.1.3.3.cmml" xref="S5.Ex5.m1.2.2.2.1.1.1.3.3">𝑡</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Ex5.m1.6c">\displaystyle\hat{r}_{t}(s_{t},a_{t})=\sum_{j=1}^{L}\bm{1}(t=T_{j})\hat{\bm{R}%
}_{\phi}({\bm{a}}|x,z)[j]-\beta\log\frac{\pi_{\theta}(a_{t}|s_{t})}{\pi_{%
\textrm{ref}}(a_{t}|s_{t})}.</annotation><annotation encoding="application/x-llamapun" id="S5.Ex5.m1.6d">over^ start_ARG italic_r end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) = ∑ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_L end_POSTSUPERSCRIPT bold_1 ( italic_t = italic_T start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) over^ start_ARG bold_italic_R end_ARG start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( bold_italic_a | italic_x , italic_z ) [ italic_j ] - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS2.p6.2">Compared to the conventional RLHF with a single reward for each answer, our formulation has <math alttext="L" class="ltx_Math" display="inline" id="S5.SS2.p6.2.m1.1"><semantics id="S5.SS2.p6.2.m1.1a"><mi id="S5.SS2.p6.2.m1.1.1" xref="S5.SS2.p6.2.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p6.2.m1.1b"><ci id="S5.SS2.p6.2.m1.1.1.cmml" xref="S5.SS2.p6.2.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p6.2.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p6.2.m1.1d">italic_L</annotation></semantics></math> non-zero rewards corresponding to the segments, which alleviates the sparse feedback signal problem in conventional RLHF.</p>
</div>
<div class="ltx_para" id="S5.SS2.p7">
<p class="ltx_p" id="S5.SS2.p7.1">Note that our proposed framework unifies the existing fine-grained RLHF works <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib51" title="">2023</a>; Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib53" title="">2023</a>)</cite> by containing these methods as special cases. Moreover, although our framework is motivated by optimization factuality for web-enhanced RAG, it can also be generalized to other RLHF tasks.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Experiment</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this section, we conduct extensive experiments to validate the effectiveness of our outline-enhanced generation technique and factuality optimization methods.</p>
</div>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1. </span>Experimental setup</h3>
<div class="ltx_para" id="S6.SS1.p1">
<p class="ltx_p" id="S6.SS1.p1.1"><span class="ltx_text ltx_font_bold" id="S6.SS1.p1.1.1">Datasets.</span> We conduct experiments on two commonly used datasets for web-enhanced long-form QA.</p>
</div>
<div class="ltx_para" id="S6.SS1.p2">
<p class="ltx_p" id="S6.SS1.p2.1"><em class="ltx_emph ltx_font_italic" id="S6.SS1.p2.1.1">The WebGPT’s dataset</em>. Although the training dataset originally used for WebGPT is not publicly available, the 272 samples released on the WebGPT demo website<span class="ltx_note ltx_role_footnote" id="footnote7"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openaipublic.blob.core.windows.net/webgpt-answer-viewer/index.html" title="">https://openaipublic.blob.core.windows.net/webgpt-answer-viewer/index.html</a></span></span></span> can be used as a testbed for performance comparison <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib30" title="">2023b</a>)</cite>. In this dataset, each sample consists of a question from the ELI5 dataset <cite class="ltx_cite ltx_citemacro_citep">(Fan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib13" title="">2019</a>)</cite>, several Bing retrieved web pages, and extracted references. Note that it is a pure English dataset.</p>
</div>
<div class="ltx_para" id="S6.SS1.p3">
<p class="ltx_p" id="S6.SS1.p3.1"><em class="ltx_emph ltx_font_italic" id="S6.SS1.p3.1.1">The WebCPM’s dataset</em>. <cite class="ltx_cite ltx_citemacro_citep">(Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib38" title="">2023</a>)</cite>. This is a Chinese dataset constructed similarly to the WebGPT dataset. As there is no official train-test split, we randomly split 4,676 samples for training, 426 for validation, and 398 for testing.</p>
</div>
<figure class="ltx_table" id="S6.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3. </span>Performance comparison of the existing web-enhanced RAGs with our FoRAG.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T3.1">
<tr class="ltx_tr" id="S6.T3.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.1.1.1" rowspan="3"><span class="ltx_text" id="S6.T3.1.1.1.1"><span class="ltx_text" id="S6.T3.1.1.1.1.1"></span> <span class="ltx_text" id="S6.T3.1.1.1.1.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T3.1.1.1.1.2.1">
<span class="ltx_tr" id="S6.T3.1.1.1.1.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T3.1.1.1.1.2.1.1.1">Model</span></span>
</span></span> <span class="ltx_text" id="S6.T3.1.1.1.1.3"></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="11" id="S6.T3.1.1.2"><span class="ltx_text ltx_font_bold" id="S6.T3.1.1.2.1">Answer Evaluation</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.2">
<td class="ltx_td ltx_align_center" colspan="5" id="S6.T3.1.2.1"><span class="ltx_text ltx_font_bold" id="S6.T3.1.2.1.1">WebCPM (zh)</span></td>
<td class="ltx_td" id="S6.T3.1.2.2"></td>
<td class="ltx_td ltx_align_center" colspan="5" id="S6.T3.1.2.3"><span class="ltx_text ltx_font_bold" id="S6.T3.1.2.3.1">WebGPT (en)</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.3.1">Cohr.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.3.2">Help.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.3.3">Fact/q.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.3.4">Fact/s.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.3.5">Avg. Len.</td>
<td class="ltx_td ltx_border_t" id="S6.T3.1.3.6"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.3.7">Cohr.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.3.8">Help.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.3.9">Fact/q.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.3.10">Fact/s.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.3.11">Avg. Len.</td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.1">WebGPT 175b</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.2">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.3">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.4">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.5">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.6">-</td>
<td class="ltx_td ltx_border_t" id="S6.T3.1.4.7"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.8">0.6911</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.9"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T3.1.4.9.1">0.9154</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.10"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T3.1.4.10.1">0.8823</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.11">0.9752</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.1.4.12">209</td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.5">
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.1">WebGPT 13b</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.2">-</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.3">-</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.4">-</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.5">-</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.6">-</td>
<td class="ltx_td" id="S6.T3.1.5.7"></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.8">0.5478</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.9">0.7390</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.10">0.7977</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.11">0.9642</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.5.12">212</td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.6">
<td class="ltx_td ltx_align_center" id="S6.T3.1.6.1">WebGLM 10B</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.6.2">-</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.6.3">-</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.6.4">-</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.6.5">-</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.6.6">-</td>
<td class="ltx_td" id="S6.T3.1.6.7"></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.6.8">0.5919</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.6.9">0.8566</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.6.10">0.8639</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.6.11">0.9688</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.6.12">169</td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.7">
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.1">WebCPM 10B</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.2">0.4899</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.3">0.6985</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.4">0.6784</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.5">0.8916</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.6">549</td>
<td class="ltx_td" id="S6.T3.1.7.7"></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.8">0.7316</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.9">0.8566</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.10">0.8125</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.11">0.9764</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.7.12">330</td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.8">
<td class="ltx_td ltx_align_center" id="S6.T3.1.8.1">FoRAG-C 6B (Ours)</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.8.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T3.1.8.2.1">0.8618</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.8.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T3.1.8.3.1">0.7764</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.8.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T3.1.8.4.1">0.7739</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.8.5"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T3.1.8.5.1">0.9639</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.8.6">655</td>
<td class="ltx_td" id="S6.T3.1.8.7"></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.8.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T3.1.8.8.1">0.8603</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.8.9">0.8640</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.8.10">0.7610</td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.8.11"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T3.1.8.11.1">0.9804</span></td>
<td class="ltx_td ltx_align_center" id="S6.T3.1.8.12">443</td>
</tr>
<tr class="ltx_tr" id="S6.T3.1.9">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.9.1">FoRAG-L 7B (Ours)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.9.2"><span class="ltx_text ltx_font_bold" id="S6.T3.1.9.2.1">0.9121</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.9.3"><span class="ltx_text ltx_font_bold" id="S6.T3.1.9.3.1">0.8668</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.9.4"><span class="ltx_text ltx_font_bold" id="S6.T3.1.9.4.1">0.8216</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.9.5"><span class="ltx_text ltx_font_bold" id="S6.T3.1.9.5.1">0.9727</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.9.6">625</td>
<td class="ltx_td ltx_border_bb" id="S6.T3.1.9.7"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.9.8"><span class="ltx_text ltx_font_bold" id="S6.T3.1.9.8.1">0.9889</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.9.9"><span class="ltx_text ltx_font_bold" id="S6.T3.1.9.9.1">0.9595</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.9.10"><span class="ltx_text ltx_font_bold" id="S6.T3.1.9.10.1">0.8897</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.9.11"><span class="ltx_text ltx_font_bold" id="S6.T3.1.9.11.1">0.9894</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.1.9.12">447</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="S6.T4">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4. </span>Comparison of variants of FoRAG with or without outline-enhanced (Out. Enh.), factuality optimization (Fac. Opt.).</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T4.1">
<tr class="ltx_tr" id="S6.T4.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T4.1.1.1" rowspan="3"><span class="ltx_text" id="S6.T4.1.1.1.1"><span class="ltx_text" id="S6.T4.1.1.1.1.1"></span> <span class="ltx_text" id="S6.T4.1.1.1.1.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T4.1.1.1.1.2.1">
<span class="ltx_tr" id="S6.T4.1.1.1.1.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T4.1.1.1.1.2.1.1.1">Model</span></span>
</span></span> <span class="ltx_text" id="S6.T4.1.1.1.1.3"></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T4.1.1.2" rowspan="3"><span class="ltx_text" id="S6.T4.1.1.2.1"><span class="ltx_text" id="S6.T4.1.1.2.1.1"></span> <span class="ltx_text" id="S6.T4.1.1.2.1.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T4.1.1.2.1.2.1">
<span class="ltx_tr" id="S6.T4.1.1.2.1.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T4.1.1.2.1.2.1.1.1">Out.</span></span>
<span class="ltx_tr" id="S6.T4.1.1.2.1.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T4.1.1.2.1.2.1.2.1">Enh.</span></span>
</span></span> <span class="ltx_text" id="S6.T4.1.1.2.1.3"></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T4.1.1.3" rowspan="3"><span class="ltx_text" id="S6.T4.1.1.3.1"><span class="ltx_text" id="S6.T4.1.1.3.1.1"></span> <span class="ltx_text" id="S6.T4.1.1.3.1.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T4.1.1.3.1.2.1">
<span class="ltx_tr" id="S6.T4.1.1.3.1.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T4.1.1.3.1.2.1.1.1">Fac.</span></span>
<span class="ltx_tr" id="S6.T4.1.1.3.1.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T4.1.1.3.1.2.1.2.1">Opt.</span></span>
</span></span> <span class="ltx_text" id="S6.T4.1.1.3.1.3"></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="11" id="S6.T4.1.1.4"><span class="ltx_text ltx_font_bold" id="S6.T4.1.1.4.1">Answer Evaluation</span></td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.2">
<td class="ltx_td ltx_align_center" colspan="5" id="S6.T4.1.2.1"><span class="ltx_text ltx_font_bold" id="S6.T4.1.2.1.1">WebCPM (zh)</span></td>
<td class="ltx_td" id="S6.T4.1.2.2"></td>
<td class="ltx_td ltx_align_center" colspan="5" id="S6.T4.1.2.3"><span class="ltx_text ltx_font_bold" id="S6.T4.1.2.3.1">WebGPT (en)</span></td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.3.1">Cohr.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.3.2">Help.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.3.3">Fact/q.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.3.4">Fact/s.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.3.5">Avg. Len.</td>
<td class="ltx_td ltx_border_t" id="S6.T4.1.3.6"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.3.7">Cohr.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.3.8">Help.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.3.9">Fact/q.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.3.10">Fact/s.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.3.11">Avg. Len.</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.1" rowspan="4"><span class="ltx_text" id="S6.T4.1.4.1.1">FoRAG-C 6B</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.2">✗</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.3">✗</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.4">0.4598</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.5">0.6332</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.6">0.7613</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.7">0.9081</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.8">583</td>
<td class="ltx_td ltx_border_t" id="S6.T4.1.4.9"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.10">0.4081</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.11">0.7721</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.12">0.7868</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.13">0.9464</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.4.14">177</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.5">
<td class="ltx_td ltx_align_center" id="S6.T4.1.5.1">✗</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.5.2">✓</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.5.3">0.4724</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.5.4">0.6407</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.5.5">0.8065</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.5.6">0.9395</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.5.7">585</td>
<td class="ltx_td" id="S6.T4.1.5.8"></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.5.9">0.5184</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.5.10">0.7868</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.5.11">0.8566</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.5.12">0.9763</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.5.13">181</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.6">
<td class="ltx_td ltx_align_center" id="S6.T4.1.6.1">✓</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.6.2">✗</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.6.3">0.8643</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.6.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T4.1.6.4.1">0.7814</span></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.6.5">0.6055</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.6.6">0.9197</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.6.7">622</td>
<td class="ltx_td" id="S6.T4.1.6.8"></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.6.9">0.8566</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.6.10">0.8529</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.6.11">0.5993</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.6.12">0.9530</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.6.13">417</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.7">
<td class="ltx_td ltx_align_center" id="S6.T4.1.7.1">✓</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.7.2">✓</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.7.3">0.8618</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.7.4">0.7764</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.7.5">0.7739</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.7.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T4.1.7.6.1">0.9639</span></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.7.7">655</td>
<td class="ltx_td" id="S6.T4.1.7.8"></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.7.9">0.8603</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.7.10">0.8640</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.7.11">0.7610</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.7.12">0.9804</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.7.13">443</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.8">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T4.1.8.1" rowspan="4"><span class="ltx_text" id="S6.T4.1.8.1.1">FoRAG-L 7B</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.8.2">✗</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.8.3">✗</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.8.4">0.4296</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.8.5">0.6181</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.8.6">0.8090</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.8.7">0.8875</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.8.8">556</td>
<td class="ltx_td ltx_border_t" id="S6.T4.1.8.9"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.8.10">0.5221</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.8.11">0.8676</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.8.12">0.8750</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.8.13">0.9728</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T4.1.8.14">186</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.9">
<td class="ltx_td ltx_align_center" id="S6.T4.1.9.1">✗</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.9.2">✓</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.9.3">0.4447</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.9.4">0.6256</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.9.5"><span class="ltx_text ltx_font_bold" id="S6.T4.1.9.5.1">0.8618</span></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.9.6">0.9394</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.9.7">570</td>
<td class="ltx_td" id="S6.T4.1.9.8"></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.9.9">0.5368</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.9.10">0.8860</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.9.11"><span class="ltx_text ltx_font_bold" id="S6.T4.1.9.11.1">0.8970</span></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.9.12"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T4.1.9.12.1">0.9818</span></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.9.13">189</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.10">
<td class="ltx_td ltx_align_center" id="S6.T4.1.10.1">✓</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.10.2">✗</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.10.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T4.1.10.3.1">0.9095</span></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.10.4"><span class="ltx_text ltx_font_bold" id="S6.T4.1.10.4.1">0.8668</span></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.10.5">0.6583</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.10.6">0.9345</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.10.7">613</td>
<td class="ltx_td" id="S6.T4.1.10.8"></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.10.9"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T4.1.10.9.1">0.9816</span></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.10.10"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T4.1.10.10.1">0.9559</span></td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.10.11">0.7978</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.10.12">0.9768</td>
<td class="ltx_td ltx_align_center" id="S6.T4.1.10.13">424</td>
</tr>
<tr class="ltx_tr" id="S6.T4.1.11">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.11.1">✓</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.11.2">✓</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.11.3"><span class="ltx_text ltx_font_bold" id="S6.T4.1.11.3.1">0.9121</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.11.4"><span class="ltx_text ltx_font_bold" id="S6.T4.1.11.4.1">0.8668</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.11.5"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T4.1.11.5.1">0.8216</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.11.6"><span class="ltx_text ltx_font_bold" id="S6.T4.1.11.6.1">0.9727</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.11.7">625</td>
<td class="ltx_td ltx_border_bb" id="S6.T4.1.11.8"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.11.9"><span class="ltx_text ltx_font_bold" id="S6.T4.1.11.9.1">0.9889</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.11.10"><span class="ltx_text ltx_font_bold" id="S6.T4.1.11.10.1">0.9595</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.11.11"><span class="ltx_text ltx_framed ltx_framed_underline" id="S6.T4.1.11.11.1">0.8897</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.11.12"><span class="ltx_text ltx_font_bold" id="S6.T4.1.11.12.1">0.9894</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T4.1.11.13">447</td>
</tr>
</table>
</figure>
<div class="ltx_para" id="S6.SS1.p4">
<p class="ltx_p" id="S6.SS1.p4.1"><span class="ltx_text ltx_font_bold" id="S6.SS1.p4.1.1">Compared Methods.</span> We compare our method with three web-enhanced baseline methods.</p>
</div>
<div class="ltx_para" id="S6.SS1.p5">
<p class="ltx_p" id="S6.SS1.p5.1"><em class="ltx_emph ltx_font_italic" id="S6.SS1.p5.1.1">WebGPT</em> <cite class="ltx_cite ltx_citemacro_citep">(Nakano et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib35" title="">2022</a>)</cite> supports interactive web search for long-form QA. It has two versions, namely WebGPT-13B and WebGPT-175B, where the latter one is the currently state-of-the-art performing model for web-enhanced QA. Note that when comparing with WebGPT, we directly use the responses collected from its website.</p>
</div>
<div class="ltx_para" id="S6.SS1.p6">
<p class="ltx_p" id="S6.SS1.p6.1"><em class="ltx_emph ltx_font_italic" id="S6.SS1.p6.1.1">WebCPM</em> <cite class="ltx_cite ltx_citemacro_citep">(Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib38" title="">2023</a>)</cite> is an open source web-enhanced RAG involving interactive web search. It is the first work on Chinese web-enhanced RAG. It is trained on a dataset which contains 5,500 question-answer pairs in Chinese with references.</p>
</div>
<div class="ltx_para" id="S6.SS1.p7">
<p class="ltx_p" id="S6.SS1.p7.1"><em class="ltx_emph ltx_font_italic" id="S6.SS1.p7.1.1">WebGLM</em> <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib30" title="">2023b</a>)</cite> is an open source web-enhanced QA system with human performance. It simplifies the interactive web search approach in WebGPT and WebCPM by a two-step retriever and generator framework. It is trained on the WebGLM-QA dataset, which focuses on English only.</p>
</div>
<div class="ltx_para" id="S6.SS1.p8">
<p class="ltx_p" id="S6.SS1.p8.1"><span class="ltx_text ltx_font_bold" id="S6.SS1.p8.1.1">Metrics.</span> We adopt three commonly used metrics for web-enhanced RAG, i.e., <em class="ltx_emph ltx_font_italic" id="S6.SS1.p8.1.2">coherence</em>, <em class="ltx_emph ltx_font_italic" id="S6.SS1.p8.1.3">helpfulness</em>, and <em class="ltx_emph ltx_font_italic" id="S6.SS1.p8.1.4">factuality</em>. As existing works show that GPT4’s evaluation is highly consistent to human annotations in both English <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib31" title="">2023a</a>; Jiang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib20" title="">2023</a>; Fu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib14" title="">2023</a>; Bai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib6" title="">2023</a>; Guo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib16" title="">2023</a>)</cite> and Chinese <cite class="ltx_cite ltx_citemacro_citep">(Xu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib52" title="">2024</a>)</cite>, we use GPT4 to evaluate these metrics. For the completeness of our study, we also justify the consistency between GPT4 and human annotation in Chinese in ablation study. Following the framework of <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib31" title="">2023a</a>)</cite>, we evaluates the coherence (<span class="ltx_text ltx_font_italic" id="S6.SS1.p8.1.5">Cohr.</span>) and helpfulness (<span class="ltx_text ltx_font_italic" id="S6.SS1.p8.1.6">Help.</span>) metrics. We count the scores greater than or equal to 4 as the judging criteria. For evaluation of factuality consistency, we adopt the method in <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib9" title="">2023</a>)</cite> to achieve fine-grained evaluation. In addition, since the longer answers are more likely to have factuality mistakes, for the fairness of the evaluation, we report the scores at two granularities, i.e., query-level (<span class="ltx_text ltx_font_italic" id="S6.SS1.p8.1.7">Fact/q.</span>) and sentence-level (<span class="ltx_text ltx_font_italic" id="S6.SS1.p8.1.8">Fact/s.</span>). The prompts we used for the evaluations are given in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#A2" title="Appendix B Prompts for Evaluation ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
<div class="ltx_para" id="S6.SS1.p9">
<p class="ltx_p" id="S6.SS1.p9.5"><span class="ltx_text ltx_font_bold" id="S6.SS1.p9.5.1">Models and Training Configuration.</span>
Our experiments are conducted by fine-tuning on Llama2-7B-chat <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib47" title="">2023</a>)</cite> and ChatGLM2-6B <cite class="ltx_cite ltx_citemacro_citep">(Du et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib12" title="">2022</a>)</cite>, which are widely used LLMs for question-answering in English and Chinese respectively. The prompt templates at fine-tuning and inference stages are given in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#A1" title="Appendix A Prompts For Generation ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">A</span></a>. The maximum context length is set to 4096 for Llama2-7B-chat and 8192 for ChatGLM2-6B. Both models are fine-tuned on 8 A100 GPUs for 5 epochs with a initial learning rate of 1e-5 and a cosine learning rate scheduler. Following the configuration of WebCPM <cite class="ltx_cite ltx_citemacro_citep">(Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib38" title="">2023</a>)</cite>, we adopt beam search for each inference on a single A100 GPU with the <em class="ltx_emph ltx_font_italic" id="S6.SS1.p9.5.2">num_beams</em> parameter set to 3. We use our outline-enhanced dataset to conduct supervised fine-tuning (SFT) <cite class="ltx_cite ltx_citemacro_citep">(Ouyang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib37" title="">2022</a>)</cite>, and our multi-granularity evaluation data to conduct corresponding factuality optimization. In order to decrease noise in the RLHF step, we normalize the reward. Specifically, for each prompt <math alttext="(x,z)" class="ltx_Math" display="inline" id="S6.SS1.p9.1.m1.2"><semantics id="S6.SS1.p9.1.m1.2a"><mrow id="S6.SS1.p9.1.m1.2.3.2" xref="S6.SS1.p9.1.m1.2.3.1.cmml"><mo id="S6.SS1.p9.1.m1.2.3.2.1" stretchy="false" xref="S6.SS1.p9.1.m1.2.3.1.cmml">(</mo><mi id="S6.SS1.p9.1.m1.1.1" xref="S6.SS1.p9.1.m1.1.1.cmml">x</mi><mo id="S6.SS1.p9.1.m1.2.3.2.2" xref="S6.SS1.p9.1.m1.2.3.1.cmml">,</mo><mi id="S6.SS1.p9.1.m1.2.2" xref="S6.SS1.p9.1.m1.2.2.cmml">z</mi><mo id="S6.SS1.p9.1.m1.2.3.2.3" stretchy="false" xref="S6.SS1.p9.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p9.1.m1.2b"><interval closure="open" id="S6.SS1.p9.1.m1.2.3.1.cmml" xref="S6.SS1.p9.1.m1.2.3.2"><ci id="S6.SS1.p9.1.m1.1.1.cmml" xref="S6.SS1.p9.1.m1.1.1">𝑥</ci><ci id="S6.SS1.p9.1.m1.2.2.cmml" xref="S6.SS1.p9.1.m1.2.2">𝑧</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p9.1.m1.2c">(x,z)</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p9.1.m1.2d">( italic_x , italic_z )</annotation></semantics></math>, we generate a response <math alttext="{\bm{a}}_{T}" class="ltx_Math" display="inline" id="S6.SS1.p9.2.m2.1"><semantics id="S6.SS1.p9.2.m2.1a"><msub id="S6.SS1.p9.2.m2.1.1" xref="S6.SS1.p9.2.m2.1.1.cmml"><mi id="S6.SS1.p9.2.m2.1.1.2" xref="S6.SS1.p9.2.m2.1.1.2.cmml">𝒂</mi><mi id="S6.SS1.p9.2.m2.1.1.3" xref="S6.SS1.p9.2.m2.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="S6.SS1.p9.2.m2.1b"><apply id="S6.SS1.p9.2.m2.1.1.cmml" xref="S6.SS1.p9.2.m2.1.1"><csymbol cd="ambiguous" id="S6.SS1.p9.2.m2.1.1.1.cmml" xref="S6.SS1.p9.2.m2.1.1">subscript</csymbol><ci id="S6.SS1.p9.2.m2.1.1.2.cmml" xref="S6.SS1.p9.2.m2.1.1.2">𝒂</ci><ci id="S6.SS1.p9.2.m2.1.1.3.cmml" xref="S6.SS1.p9.2.m2.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p9.2.m2.1c">{\bm{a}}_{T}</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p9.2.m2.1d">bold_italic_a start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT</annotation></semantics></math> using the SFT model, and estimates its reward score <math alttext="\hat{R}({\bm{a}}_{T},x,z)" class="ltx_Math" display="inline" id="S6.SS1.p9.3.m3.3"><semantics id="S6.SS1.p9.3.m3.3a"><mrow id="S6.SS1.p9.3.m3.3.3" xref="S6.SS1.p9.3.m3.3.3.cmml"><mover accent="true" id="S6.SS1.p9.3.m3.3.3.3" xref="S6.SS1.p9.3.m3.3.3.3.cmml"><mi id="S6.SS1.p9.3.m3.3.3.3.2" xref="S6.SS1.p9.3.m3.3.3.3.2.cmml">R</mi><mo id="S6.SS1.p9.3.m3.3.3.3.1" xref="S6.SS1.p9.3.m3.3.3.3.1.cmml">^</mo></mover><mo id="S6.SS1.p9.3.m3.3.3.2" xref="S6.SS1.p9.3.m3.3.3.2.cmml">⁢</mo><mrow id="S6.SS1.p9.3.m3.3.3.1.1" xref="S6.SS1.p9.3.m3.3.3.1.2.cmml"><mo id="S6.SS1.p9.3.m3.3.3.1.1.2" stretchy="false" xref="S6.SS1.p9.3.m3.3.3.1.2.cmml">(</mo><msub id="S6.SS1.p9.3.m3.3.3.1.1.1" xref="S6.SS1.p9.3.m3.3.3.1.1.1.cmml"><mi id="S6.SS1.p9.3.m3.3.3.1.1.1.2" xref="S6.SS1.p9.3.m3.3.3.1.1.1.2.cmml">𝒂</mi><mi id="S6.SS1.p9.3.m3.3.3.1.1.1.3" xref="S6.SS1.p9.3.m3.3.3.1.1.1.3.cmml">T</mi></msub><mo id="S6.SS1.p9.3.m3.3.3.1.1.3" xref="S6.SS1.p9.3.m3.3.3.1.2.cmml">,</mo><mi id="S6.SS1.p9.3.m3.1.1" xref="S6.SS1.p9.3.m3.1.1.cmml">x</mi><mo id="S6.SS1.p9.3.m3.3.3.1.1.4" xref="S6.SS1.p9.3.m3.3.3.1.2.cmml">,</mo><mi id="S6.SS1.p9.3.m3.2.2" xref="S6.SS1.p9.3.m3.2.2.cmml">z</mi><mo id="S6.SS1.p9.3.m3.3.3.1.1.5" stretchy="false" xref="S6.SS1.p9.3.m3.3.3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p9.3.m3.3b"><apply id="S6.SS1.p9.3.m3.3.3.cmml" xref="S6.SS1.p9.3.m3.3.3"><times id="S6.SS1.p9.3.m3.3.3.2.cmml" xref="S6.SS1.p9.3.m3.3.3.2"></times><apply id="S6.SS1.p9.3.m3.3.3.3.cmml" xref="S6.SS1.p9.3.m3.3.3.3"><ci id="S6.SS1.p9.3.m3.3.3.3.1.cmml" xref="S6.SS1.p9.3.m3.3.3.3.1">^</ci><ci id="S6.SS1.p9.3.m3.3.3.3.2.cmml" xref="S6.SS1.p9.3.m3.3.3.3.2">𝑅</ci></apply><vector id="S6.SS1.p9.3.m3.3.3.1.2.cmml" xref="S6.SS1.p9.3.m3.3.3.1.1"><apply id="S6.SS1.p9.3.m3.3.3.1.1.1.cmml" xref="S6.SS1.p9.3.m3.3.3.1.1.1"><csymbol cd="ambiguous" id="S6.SS1.p9.3.m3.3.3.1.1.1.1.cmml" xref="S6.SS1.p9.3.m3.3.3.1.1.1">subscript</csymbol><ci id="S6.SS1.p9.3.m3.3.3.1.1.1.2.cmml" xref="S6.SS1.p9.3.m3.3.3.1.1.1.2">𝒂</ci><ci id="S6.SS1.p9.3.m3.3.3.1.1.1.3.cmml" xref="S6.SS1.p9.3.m3.3.3.1.1.1.3">𝑇</ci></apply><ci id="S6.SS1.p9.3.m3.1.1.cmml" xref="S6.SS1.p9.3.m3.1.1">𝑥</ci><ci id="S6.SS1.p9.3.m3.2.2.cmml" xref="S6.SS1.p9.3.m3.2.2">𝑧</ci></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p9.3.m3.3c">\hat{R}({\bm{a}}_{T},x,z)</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p9.3.m3.3d">over^ start_ARG italic_R end_ARG ( bold_italic_a start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT , italic_x , italic_z )</annotation></semantics></math> using the learned reward model. For any model generated answer <math alttext="{\bm{a}}^{\prime}_{T^{\prime}}" class="ltx_Math" display="inline" id="S6.SS1.p9.4.m4.1"><semantics id="S6.SS1.p9.4.m4.1a"><msubsup id="S6.SS1.p9.4.m4.1.1" xref="S6.SS1.p9.4.m4.1.1.cmml"><mi id="S6.SS1.p9.4.m4.1.1.2.2" xref="S6.SS1.p9.4.m4.1.1.2.2.cmml">𝒂</mi><msup id="S6.SS1.p9.4.m4.1.1.3" xref="S6.SS1.p9.4.m4.1.1.3.cmml"><mi id="S6.SS1.p9.4.m4.1.1.3.2" xref="S6.SS1.p9.4.m4.1.1.3.2.cmml">T</mi><mo id="S6.SS1.p9.4.m4.1.1.3.3" xref="S6.SS1.p9.4.m4.1.1.3.3.cmml">′</mo></msup><mo id="S6.SS1.p9.4.m4.1.1.2.3" xref="S6.SS1.p9.4.m4.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S6.SS1.p9.4.m4.1b"><apply id="S6.SS1.p9.4.m4.1.1.cmml" xref="S6.SS1.p9.4.m4.1.1"><csymbol cd="ambiguous" id="S6.SS1.p9.4.m4.1.1.1.cmml" xref="S6.SS1.p9.4.m4.1.1">subscript</csymbol><apply id="S6.SS1.p9.4.m4.1.1.2.cmml" xref="S6.SS1.p9.4.m4.1.1"><csymbol cd="ambiguous" id="S6.SS1.p9.4.m4.1.1.2.1.cmml" xref="S6.SS1.p9.4.m4.1.1">superscript</csymbol><ci id="S6.SS1.p9.4.m4.1.1.2.2.cmml" xref="S6.SS1.p9.4.m4.1.1.2.2">𝒂</ci><ci id="S6.SS1.p9.4.m4.1.1.2.3.cmml" xref="S6.SS1.p9.4.m4.1.1.2.3">′</ci></apply><apply id="S6.SS1.p9.4.m4.1.1.3.cmml" xref="S6.SS1.p9.4.m4.1.1.3"><csymbol cd="ambiguous" id="S6.SS1.p9.4.m4.1.1.3.1.cmml" xref="S6.SS1.p9.4.m4.1.1.3">superscript</csymbol><ci id="S6.SS1.p9.4.m4.1.1.3.2.cmml" xref="S6.SS1.p9.4.m4.1.1.3.2">𝑇</ci><ci id="S6.SS1.p9.4.m4.1.1.3.3.cmml" xref="S6.SS1.p9.4.m4.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p9.4.m4.1c">{\bm{a}}^{\prime}_{T^{\prime}}</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p9.4.m4.1d">bold_italic_a start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_T start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>, we take <math alttext="\tilde{R}({\bm{a}}^{\prime}_{T^{\prime}},x,z)=\hat{R}({\bm{a}}^{\prime}_{T^{%
\prime}},x,z)-\hat{R}({\bm{a}}_{T},x,z)" class="ltx_Math" display="inline" id="S6.SS1.p9.5.m5.9"><semantics id="S6.SS1.p9.5.m5.9a"><mrow id="S6.SS1.p9.5.m5.9.9" xref="S6.SS1.p9.5.m5.9.9.cmml"><mrow id="S6.SS1.p9.5.m5.7.7.1" xref="S6.SS1.p9.5.m5.7.7.1.cmml"><mover accent="true" id="S6.SS1.p9.5.m5.7.7.1.3" xref="S6.SS1.p9.5.m5.7.7.1.3.cmml"><mi id="S6.SS1.p9.5.m5.7.7.1.3.2" xref="S6.SS1.p9.5.m5.7.7.1.3.2.cmml">R</mi><mo id="S6.SS1.p9.5.m5.7.7.1.3.1" xref="S6.SS1.p9.5.m5.7.7.1.3.1.cmml">~</mo></mover><mo id="S6.SS1.p9.5.m5.7.7.1.2" xref="S6.SS1.p9.5.m5.7.7.1.2.cmml">⁢</mo><mrow id="S6.SS1.p9.5.m5.7.7.1.1.1" xref="S6.SS1.p9.5.m5.7.7.1.1.2.cmml"><mo id="S6.SS1.p9.5.m5.7.7.1.1.1.2" stretchy="false" xref="S6.SS1.p9.5.m5.7.7.1.1.2.cmml">(</mo><msubsup id="S6.SS1.p9.5.m5.7.7.1.1.1.1" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1.cmml"><mi id="S6.SS1.p9.5.m5.7.7.1.1.1.1.2.2" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1.2.2.cmml">𝒂</mi><msup id="S6.SS1.p9.5.m5.7.7.1.1.1.1.3" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1.3.cmml"><mi id="S6.SS1.p9.5.m5.7.7.1.1.1.1.3.2" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1.3.2.cmml">T</mi><mo id="S6.SS1.p9.5.m5.7.7.1.1.1.1.3.3" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1.3.3.cmml">′</mo></msup><mo id="S6.SS1.p9.5.m5.7.7.1.1.1.1.2.3" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1.2.3.cmml">′</mo></msubsup><mo id="S6.SS1.p9.5.m5.7.7.1.1.1.3" xref="S6.SS1.p9.5.m5.7.7.1.1.2.cmml">,</mo><mi id="S6.SS1.p9.5.m5.1.1" xref="S6.SS1.p9.5.m5.1.1.cmml">x</mi><mo id="S6.SS1.p9.5.m5.7.7.1.1.1.4" xref="S6.SS1.p9.5.m5.7.7.1.1.2.cmml">,</mo><mi id="S6.SS1.p9.5.m5.2.2" xref="S6.SS1.p9.5.m5.2.2.cmml">z</mi><mo id="S6.SS1.p9.5.m5.7.7.1.1.1.5" stretchy="false" xref="S6.SS1.p9.5.m5.7.7.1.1.2.cmml">)</mo></mrow></mrow><mo id="S6.SS1.p9.5.m5.9.9.4" xref="S6.SS1.p9.5.m5.9.9.4.cmml">=</mo><mrow id="S6.SS1.p9.5.m5.9.9.3" xref="S6.SS1.p9.5.m5.9.9.3.cmml"><mrow id="S6.SS1.p9.5.m5.8.8.2.1" xref="S6.SS1.p9.5.m5.8.8.2.1.cmml"><mover accent="true" id="S6.SS1.p9.5.m5.8.8.2.1.3" xref="S6.SS1.p9.5.m5.8.8.2.1.3.cmml"><mi id="S6.SS1.p9.5.m5.8.8.2.1.3.2" xref="S6.SS1.p9.5.m5.8.8.2.1.3.2.cmml">R</mi><mo id="S6.SS1.p9.5.m5.8.8.2.1.3.1" xref="S6.SS1.p9.5.m5.8.8.2.1.3.1.cmml">^</mo></mover><mo id="S6.SS1.p9.5.m5.8.8.2.1.2" xref="S6.SS1.p9.5.m5.8.8.2.1.2.cmml">⁢</mo><mrow id="S6.SS1.p9.5.m5.8.8.2.1.1.1" xref="S6.SS1.p9.5.m5.8.8.2.1.1.2.cmml"><mo id="S6.SS1.p9.5.m5.8.8.2.1.1.1.2" stretchy="false" xref="S6.SS1.p9.5.m5.8.8.2.1.1.2.cmml">(</mo><msubsup id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.cmml"><mi id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.2.2" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.2.2.cmml">𝒂</mi><msup id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3.cmml"><mi id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3.2" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3.2.cmml">T</mi><mo id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3.3" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3.3.cmml">′</mo></msup><mo id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.2.3" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.2.3.cmml">′</mo></msubsup><mo id="S6.SS1.p9.5.m5.8.8.2.1.1.1.3" xref="S6.SS1.p9.5.m5.8.8.2.1.1.2.cmml">,</mo><mi id="S6.SS1.p9.5.m5.3.3" xref="S6.SS1.p9.5.m5.3.3.cmml">x</mi><mo id="S6.SS1.p9.5.m5.8.8.2.1.1.1.4" xref="S6.SS1.p9.5.m5.8.8.2.1.1.2.cmml">,</mo><mi id="S6.SS1.p9.5.m5.4.4" xref="S6.SS1.p9.5.m5.4.4.cmml">z</mi><mo id="S6.SS1.p9.5.m5.8.8.2.1.1.1.5" stretchy="false" xref="S6.SS1.p9.5.m5.8.8.2.1.1.2.cmml">)</mo></mrow></mrow><mo id="S6.SS1.p9.5.m5.9.9.3.3" xref="S6.SS1.p9.5.m5.9.9.3.3.cmml">−</mo><mrow id="S6.SS1.p9.5.m5.9.9.3.2" xref="S6.SS1.p9.5.m5.9.9.3.2.cmml"><mover accent="true" id="S6.SS1.p9.5.m5.9.9.3.2.3" xref="S6.SS1.p9.5.m5.9.9.3.2.3.cmml"><mi id="S6.SS1.p9.5.m5.9.9.3.2.3.2" xref="S6.SS1.p9.5.m5.9.9.3.2.3.2.cmml">R</mi><mo id="S6.SS1.p9.5.m5.9.9.3.2.3.1" xref="S6.SS1.p9.5.m5.9.9.3.2.3.1.cmml">^</mo></mover><mo id="S6.SS1.p9.5.m5.9.9.3.2.2" xref="S6.SS1.p9.5.m5.9.9.3.2.2.cmml">⁢</mo><mrow id="S6.SS1.p9.5.m5.9.9.3.2.1.1" xref="S6.SS1.p9.5.m5.9.9.3.2.1.2.cmml"><mo id="S6.SS1.p9.5.m5.9.9.3.2.1.1.2" stretchy="false" xref="S6.SS1.p9.5.m5.9.9.3.2.1.2.cmml">(</mo><msub id="S6.SS1.p9.5.m5.9.9.3.2.1.1.1" xref="S6.SS1.p9.5.m5.9.9.3.2.1.1.1.cmml"><mi id="S6.SS1.p9.5.m5.9.9.3.2.1.1.1.2" xref="S6.SS1.p9.5.m5.9.9.3.2.1.1.1.2.cmml">𝒂</mi><mi id="S6.SS1.p9.5.m5.9.9.3.2.1.1.1.3" xref="S6.SS1.p9.5.m5.9.9.3.2.1.1.1.3.cmml">T</mi></msub><mo id="S6.SS1.p9.5.m5.9.9.3.2.1.1.3" xref="S6.SS1.p9.5.m5.9.9.3.2.1.2.cmml">,</mo><mi id="S6.SS1.p9.5.m5.5.5" xref="S6.SS1.p9.5.m5.5.5.cmml">x</mi><mo id="S6.SS1.p9.5.m5.9.9.3.2.1.1.4" xref="S6.SS1.p9.5.m5.9.9.3.2.1.2.cmml">,</mo><mi id="S6.SS1.p9.5.m5.6.6" xref="S6.SS1.p9.5.m5.6.6.cmml">z</mi><mo id="S6.SS1.p9.5.m5.9.9.3.2.1.1.5" stretchy="false" xref="S6.SS1.p9.5.m5.9.9.3.2.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p9.5.m5.9b"><apply id="S6.SS1.p9.5.m5.9.9.cmml" xref="S6.SS1.p9.5.m5.9.9"><eq id="S6.SS1.p9.5.m5.9.9.4.cmml" xref="S6.SS1.p9.5.m5.9.9.4"></eq><apply id="S6.SS1.p9.5.m5.7.7.1.cmml" xref="S6.SS1.p9.5.m5.7.7.1"><times id="S6.SS1.p9.5.m5.7.7.1.2.cmml" xref="S6.SS1.p9.5.m5.7.7.1.2"></times><apply id="S6.SS1.p9.5.m5.7.7.1.3.cmml" xref="S6.SS1.p9.5.m5.7.7.1.3"><ci id="S6.SS1.p9.5.m5.7.7.1.3.1.cmml" xref="S6.SS1.p9.5.m5.7.7.1.3.1">~</ci><ci id="S6.SS1.p9.5.m5.7.7.1.3.2.cmml" xref="S6.SS1.p9.5.m5.7.7.1.3.2">𝑅</ci></apply><vector id="S6.SS1.p9.5.m5.7.7.1.1.2.cmml" xref="S6.SS1.p9.5.m5.7.7.1.1.1"><apply id="S6.SS1.p9.5.m5.7.7.1.1.1.1.cmml" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1"><csymbol cd="ambiguous" id="S6.SS1.p9.5.m5.7.7.1.1.1.1.1.cmml" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1">subscript</csymbol><apply id="S6.SS1.p9.5.m5.7.7.1.1.1.1.2.cmml" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1"><csymbol cd="ambiguous" id="S6.SS1.p9.5.m5.7.7.1.1.1.1.2.1.cmml" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1">superscript</csymbol><ci id="S6.SS1.p9.5.m5.7.7.1.1.1.1.2.2.cmml" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1.2.2">𝒂</ci><ci id="S6.SS1.p9.5.m5.7.7.1.1.1.1.2.3.cmml" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1.2.3">′</ci></apply><apply id="S6.SS1.p9.5.m5.7.7.1.1.1.1.3.cmml" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1.3"><csymbol cd="ambiguous" id="S6.SS1.p9.5.m5.7.7.1.1.1.1.3.1.cmml" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1.3">superscript</csymbol><ci id="S6.SS1.p9.5.m5.7.7.1.1.1.1.3.2.cmml" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1.3.2">𝑇</ci><ci id="S6.SS1.p9.5.m5.7.7.1.1.1.1.3.3.cmml" xref="S6.SS1.p9.5.m5.7.7.1.1.1.1.3.3">′</ci></apply></apply><ci id="S6.SS1.p9.5.m5.1.1.cmml" xref="S6.SS1.p9.5.m5.1.1">𝑥</ci><ci id="S6.SS1.p9.5.m5.2.2.cmml" xref="S6.SS1.p9.5.m5.2.2">𝑧</ci></vector></apply><apply id="S6.SS1.p9.5.m5.9.9.3.cmml" xref="S6.SS1.p9.5.m5.9.9.3"><minus id="S6.SS1.p9.5.m5.9.9.3.3.cmml" xref="S6.SS1.p9.5.m5.9.9.3.3"></minus><apply id="S6.SS1.p9.5.m5.8.8.2.1.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1"><times id="S6.SS1.p9.5.m5.8.8.2.1.2.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.2"></times><apply id="S6.SS1.p9.5.m5.8.8.2.1.3.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.3"><ci id="S6.SS1.p9.5.m5.8.8.2.1.3.1.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.3.1">^</ci><ci id="S6.SS1.p9.5.m5.8.8.2.1.3.2.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.3.2">𝑅</ci></apply><vector id="S6.SS1.p9.5.m5.8.8.2.1.1.2.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1"><apply id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1"><csymbol cd="ambiguous" id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.1.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1">subscript</csymbol><apply id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.2.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1"><csymbol cd="ambiguous" id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.2.1.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1">superscript</csymbol><ci id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.2.2.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.2.2">𝒂</ci><ci id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.2.3.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.2.3">′</ci></apply><apply id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3.1.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3">superscript</csymbol><ci id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3.2.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3.2">𝑇</ci><ci id="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3.3.cmml" xref="S6.SS1.p9.5.m5.8.8.2.1.1.1.1.3.3">′</ci></apply></apply><ci id="S6.SS1.p9.5.m5.3.3.cmml" xref="S6.SS1.p9.5.m5.3.3">𝑥</ci><ci id="S6.SS1.p9.5.m5.4.4.cmml" xref="S6.SS1.p9.5.m5.4.4">𝑧</ci></vector></apply><apply id="S6.SS1.p9.5.m5.9.9.3.2.cmml" xref="S6.SS1.p9.5.m5.9.9.3.2"><times id="S6.SS1.p9.5.m5.9.9.3.2.2.cmml" xref="S6.SS1.p9.5.m5.9.9.3.2.2"></times><apply id="S6.SS1.p9.5.m5.9.9.3.2.3.cmml" xref="S6.SS1.p9.5.m5.9.9.3.2.3"><ci id="S6.SS1.p9.5.m5.9.9.3.2.3.1.cmml" xref="S6.SS1.p9.5.m5.9.9.3.2.3.1">^</ci><ci id="S6.SS1.p9.5.m5.9.9.3.2.3.2.cmml" xref="S6.SS1.p9.5.m5.9.9.3.2.3.2">𝑅</ci></apply><vector id="S6.SS1.p9.5.m5.9.9.3.2.1.2.cmml" xref="S6.SS1.p9.5.m5.9.9.3.2.1.1"><apply id="S6.SS1.p9.5.m5.9.9.3.2.1.1.1.cmml" xref="S6.SS1.p9.5.m5.9.9.3.2.1.1.1"><csymbol cd="ambiguous" id="S6.SS1.p9.5.m5.9.9.3.2.1.1.1.1.cmml" xref="S6.SS1.p9.5.m5.9.9.3.2.1.1.1">subscript</csymbol><ci id="S6.SS1.p9.5.m5.9.9.3.2.1.1.1.2.cmml" xref="S6.SS1.p9.5.m5.9.9.3.2.1.1.1.2">𝒂</ci><ci id="S6.SS1.p9.5.m5.9.9.3.2.1.1.1.3.cmml" xref="S6.SS1.p9.5.m5.9.9.3.2.1.1.1.3">𝑇</ci></apply><ci id="S6.SS1.p9.5.m5.5.5.cmml" xref="S6.SS1.p9.5.m5.5.5">𝑥</ci><ci id="S6.SS1.p9.5.m5.6.6.cmml" xref="S6.SS1.p9.5.m5.6.6">𝑧</ci></vector></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p9.5.m5.9c">\tilde{R}({\bm{a}}^{\prime}_{T^{\prime}},x,z)=\hat{R}({\bm{a}}^{\prime}_{T^{%
\prime}},x,z)-\hat{R}({\bm{a}}_{T},x,z)</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.p9.5.m5.9d">over~ start_ARG italic_R end_ARG ( bold_italic_a start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_T start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUBSCRIPT , italic_x , italic_z ) = over^ start_ARG italic_R end_ARG ( bold_italic_a start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_T start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUBSCRIPT , italic_x , italic_z ) - over^ start_ARG italic_R end_ARG ( bold_italic_a start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT , italic_x , italic_z )</annotation></semantics></math> as the estimated reward, and the same technique is applied to sentence-level and subclaim level factuality evaluations.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2. </span>Main results</h3>
<div class="ltx_para" id="S6.SS2.p1">
<p class="ltx_p" id="S6.SS2.p1.1">The main empirical results of our method trained on Llama2-7B-chat (FoRAG-L 7B) and ChatGLM2-6B (FoRAG-C 6B) are depicted in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.T3" title="Table 3 ‣ 6.1. Experimental setup ‣ 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">3</span></a> and Table <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.T4" title="Table 4 ‣ 6.1. Experimental setup ‣ 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">4</span></a>. We here mainly report the results of FoRAG-L 7B, which attains the best performance among all possible combinations of the granularities of evaluation and reward model. A detailed performance comparison of different granularity combinations will be given in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.SS3" title="6.3. Comparison of Various Factuality Optimization Granularities ‣ 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">6.3</span></a>.</p>
</div>
<div class="ltx_para" id="S6.SS2.p2">
<p class="ltx_p" id="S6.SS2.p2.1"><span class="ltx_text ltx_font_bold" id="S6.SS2.p2.1.1">Overall Performance</span>. In Table <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.T3" title="Table 3 ‣ 6.1. Experimental setup ‣ 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">3</span></a>, we compare the overall performance of FoRAG-L 7B and FoRAG-C 6B with all existing methods on both datasets. Note that among the examined baselines, only WebCPM 10B can answer in Chinese, since WebGPT does not release model weights or answers in Chinese, and WebGLM has a well-known issue of being unable to answer in Chinese<span class="ltx_note ltx_role_footnote" id="footnote8"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_tag ltx_tag_note">8</span>Please refer to the discussion on the issue at WebGLM’s official codebase <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/THUDM/WebGLM/issues/7" title="">https://github.com/THUDM/WebGLM/issues/7</a>.</span></span></span>. From the results, we observe that on both English and Chinese datasets, FoRAG-C 6B surpasses all baselines on five out of six metrics, and FoRAG-L 7B performs the best on all metrics. Notably, FoRAG-L 7B substantially outperforms WebGPT 175B that contains 24 times more parameters, showing superiority of our method in bilingual web-enhanced RAG tasks.</p>
</div>
<div class="ltx_para" id="S6.SS2.p3">
<p class="ltx_p" id="S6.SS2.p3.1"><span class="ltx_text ltx_font_bold" id="S6.SS2.p3.1.1">Evaluation of Outline-Enhanced Generator</span>. We evaluate the effectiveness of outline-enhanced generator as a core design in dataset collection and RAG model design by showing that, without such technique, the reduced method will deteriorate severely. Specifically, for the reduced variant, we train the backbone models on a merged dataset from WebCPM and WebGLM-QA, which contains 4.7k samples in Chinese and 44k samples in English. Note that here we use the demonstration answers as provided in the original datasets, i.e., the answers in WebCPM are human written and answers in WebGLM-QA are GPT4 generated, which can be considered in high quality.</p>
</div>
<div class="ltx_para" id="S6.SS2.p4">
<p class="ltx_p" id="S6.SS2.p4.1">In Table <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.T4" title="Table 4 ‣ 6.1. Experimental setup ‣ 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">4</span></a>, we compare the performance of our proposed method with the reduced variant. The results show that applying our technique of outline-enhanced generator significantly boosts the performance in terms of coherence and helpfulness on both datasets. As for factuality, the sentence-level measurements of our methods are a little bit higher or comparable with the counterpart models without outline-enhanced techniques. In addition, applying our technique increases the length of model generations (see Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#A5" title="Appendix E Generation Improvement Samples ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">E</span></a> for examples of generations).</p>
</div>
<div class="ltx_para" id="S6.SS2.p5">
<p class="ltx_p" id="S6.SS2.p5.1"><span class="ltx_text ltx_font_bold" id="S6.SS2.p5.1.1">Evaluation of Factuality Optimization</span>. We then evaluate the effectiveness of the factuality optimization technique by comparing our method with the counterpart method without such a mechanism. As presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.T4" title="Table 4 ‣ 6.1. Experimental setup ‣ 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">4</span></a>, adding factuality optimization technique significantly raises the factuality consistency score in both query and sequence levels, without affecting the other two metrics or the generation length. The above results justify the introduction of factuality optimization technique to our proposed method.</p>
</div>
<figure class="ltx_table" id="S6.T5">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5. </span>The comparison of performance using various factuality optimization techniques on our FoRAG-L 7B. The “-” indicates no extra factuality optimization is performed, i.e., the SFT model.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T5.1">
<tr class="ltx_tr" id="S6.T5.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S6.T5.1.1.1" rowspan="3"><span class="ltx_text" id="S6.T5.1.1.1.1"><span class="ltx_text" id="S6.T5.1.1.1.1.1"></span> <span class="ltx_text" id="S6.T5.1.1.1.1.2">
<span class="ltx_tabular ltx_align_middle" id="S6.T5.1.1.1.1.2.1">
<span class="ltx_tr" id="S6.T5.1.1.1.1.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T5.1.1.1.1.2.1.1.1">Factuality</span></span>
<span class="ltx_tr" id="S6.T5.1.1.1.1.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T5.1.1.1.1.2.1.2.1">Optimization</span></span>
</span></span> <span class="ltx_text" id="S6.T5.1.1.1.1.3"></span></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="11" id="S6.T5.1.1.2"><span class="ltx_text ltx_font_bold" id="S6.T5.1.1.2.1">Answer Evaluation</span></td>
</tr>
<tr class="ltx_tr" id="S6.T5.1.2">
<td class="ltx_td ltx_align_center" colspan="5" id="S6.T5.1.2.1"><span class="ltx_text ltx_font_bold" id="S6.T5.1.2.1.1">WebCPM (zh)</span></td>
<td class="ltx_td" id="S6.T5.1.2.2"></td>
<td class="ltx_td ltx_align_center" colspan="5" id="S6.T5.1.2.3"><span class="ltx_text ltx_font_bold" id="S6.T5.1.2.3.1">WebGPT (en)</span></td>
</tr>
<tr class="ltx_tr" id="S6.T5.1.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.3.1">Cohr.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.3.2">Help.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.3.3">Fact/q.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.3.4">Fact/s.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.3.5">Avg. Len.</td>
<td class="ltx_td ltx_border_t" id="S6.T5.1.3.6"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.3.7">Cohr.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.3.8">Help.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.3.9">Fact/q.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.3.10">Fact/s.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.3.11">Avg. Len.</td>
</tr>
<tr class="ltx_tr" id="S6.T5.1.4">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="2" id="S6.T5.1.4.1">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.4.2">0.9095</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.4.3"><span class="ltx_text ltx_font_bold" id="S6.T5.1.4.3.1">0.8668</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.4.4">0.6583</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.4.5">0.9345</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.4.6">613</td>
<td class="ltx_td ltx_border_t" id="S6.T5.1.4.7"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.4.8">0.9816</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.4.9">0.9559</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.4.10">0.7978</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.4.11">0.9768</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.4.12">424</td>
</tr>
<tr class="ltx_tr" id="S6.T5.1.5">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="2" id="S6.T5.1.5.1">Unlikelihood</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.5.2">0.9070</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.5.3">0.8618</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.5.4">0.7286</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.5.5">0.9477</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.5.6">591</td>
<td class="ltx_td ltx_border_t" id="S6.T5.1.5.7"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.5.8">0.9816</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.5.9">0.9522</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.5.10">0.8419</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.5.11">0.9794</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.5.12">442</td>
</tr>
<tr class="ltx_tr" id="S6.T5.1.6">
<td class="ltx_td ltx_align_center" colspan="2" id="S6.T5.1.6.1">MLE w. Filtering</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.6.2"><span class="ltx_text ltx_font_bold" id="S6.T5.1.6.2.1">0.9171</span></td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.6.3">0.8568</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.6.4">0.6783</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.6.5">0.9331</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.6.6">592</td>
<td class="ltx_td" id="S6.T5.1.6.7"></td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.6.8">0.9852</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.6.9">0.9522</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.6.10">0.7831</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.6.11">0.9754</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.6.12">423</td>
</tr>
<tr class="ltx_tr" id="S6.T5.1.7">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T5.1.7.1" rowspan="6"><span class="ltx_text" id="S6.T5.1.7.1.1">RLHF</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.7.2">Holistic + Token</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.7.3">0.9020</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.7.4">0.8543</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.7.5">0.7236</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.7.6">0.9414</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.7.7">608</td>
<td class="ltx_td ltx_border_t" id="S6.T5.1.7.8"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.7.9">0.9816</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.7.10">0.9485</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.7.11">0.8382</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.7.12">0.9768</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T5.1.7.13">444</td>
</tr>
<tr class="ltx_tr" id="S6.T5.1.8">
<td class="ltx_td ltx_align_center" id="S6.T5.1.8.1">Sentence + Token</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.8.2">0.9095</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.8.3">0.8593</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.8.4">0.7814</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.8.5">0.9628</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.8.6">610</td>
<td class="ltx_td" id="S6.T5.1.8.7"></td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.8.8">0.9816</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.8.9">0.9559</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.8.10">0.8603</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.8.11">0.9836</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.8.12">446</td>
</tr>
<tr class="ltx_tr" id="S6.T5.1.9">
<td class="ltx_td ltx_align_center" id="S6.T5.1.9.1">Subclaim + Token</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.9.2">0.9121</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.9.3">0.8593</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.9.4">0.7864</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.9.5">0.9658</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.9.6">616</td>
<td class="ltx_td" id="S6.T5.1.9.7"></td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.9.8">0.9852</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.9.9">0.9559</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.9.10">0.8713</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.9.11">0.9851</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.9.12">446</td>
</tr>
<tr class="ltx_tr" id="S6.T5.1.10">
<td class="ltx_td ltx_align_center" id="S6.T5.1.10.1">Holistic</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.10.2">0.9146</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.10.3">0.8618</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.10.4">0.7563</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.10.5">0.9526</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.10.6">622</td>
<td class="ltx_td" id="S6.T5.1.10.7"></td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.10.8">0.9852</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.10.9">0.9559</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.10.10">0.8493</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.10.11">0.9797</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.10.12">448</td>
</tr>
<tr class="ltx_tr" id="S6.T5.1.11">
<td class="ltx_td ltx_align_center" id="S6.T5.1.11.1">Sentence</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.11.2">0.9095</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.11.3">0.8593</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.11.4">0.8065</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.11.5">0.9704</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.11.6">612</td>
<td class="ltx_td" id="S6.T5.1.11.7"></td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.11.8"><span class="ltx_text ltx_font_bold" id="S6.T5.1.11.8.1">0.9889</span></td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.11.9"><span class="ltx_text ltx_font_bold" id="S6.T5.1.11.9.1">0.9595</span></td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.11.10">0.8787</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.11.11">0.9866</td>
<td class="ltx_td ltx_align_center" id="S6.T5.1.11.12">447</td>
</tr>
<tr class="ltx_tr" id="S6.T5.1.12">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.1.12.1">Subclaim</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.1.12.2">0.9121</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.1.12.3"><span class="ltx_text ltx_font_bold" id="S6.T5.1.12.3.1">0.8668</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.1.12.4"><span class="ltx_text ltx_font_bold" id="S6.T5.1.12.4.1">0.8216</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.1.12.5"><span class="ltx_text ltx_font_bold" id="S6.T5.1.12.5.1">0.9727</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.1.12.6">625</td>
<td class="ltx_td ltx_border_bb" id="S6.T5.1.12.7"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.1.12.8"><span class="ltx_text ltx_font_bold" id="S6.T5.1.12.8.1">0.9889</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.1.12.9"><span class="ltx_text ltx_font_bold" id="S6.T5.1.12.9.1">0.9595</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.1.12.10"><span class="ltx_text ltx_font_bold" id="S6.T5.1.12.10.1">0.8897</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.1.12.11"><span class="ltx_text ltx_font_bold" id="S6.T5.1.12.11.1">0.9894</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T5.1.12.12">447</td>
</tr>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S6.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3. </span>Comparison of Various Factuality Optimization Granularities</h3>
<div class="ltx_para" id="S6.SS3.p1">
<p class="ltx_p" id="S6.SS3.p1.1">In this subsection, we compare the performance of various implementations of our method on different evaluation and reward model granularities (as described in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S4.T2" title="Table 2 ‣ 4.2. Outline-Enhanced Long-Form QA Dataset ‣ 4. Outline-Enhanced RAG ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">2</span></a>), with the following two commonly used alignment methods as baselines:</p>
</div>
<div class="ltx_para" id="S6.SS3.p2">
<p class="ltx_p" id="S6.SS3.p2.1"><em class="ltx_emph ltx_font_italic" id="S6.SS3.p2.1.1">MLE with Filtering (filter.)</em> <cite class="ltx_cite ltx_citemacro_citep">(Solaiman and Dennison, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib45" title="">2021</a>)</cite>: This method applies a filter to drop the samples with factual inconsistency errors and preserve the factually consistent ones. Then it follows the standard SFT procedure, i.e., fine-tuning the model by optimizing the maximum likelihood estimation loss on the positive samples.</p>
</div>
<div class="ltx_para" id="S6.SS3.p3">
<p class="ltx_p" id="S6.SS3.p3.1"><em class="ltx_emph ltx_font_italic" id="S6.SS3.p3.1.1">Unlikelihood</em> <cite class="ltx_cite ltx_citemacro_citep">(Welleck et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib50" title="">2019</a>)</cite>: This method fine-tunes the model by maximizing the likelihood of positive (i.e., factually consistent) samples and minimizing the likelihood of negative (i.e., factually inconsistent) samples simultaneously.</p>
</div>
<div class="ltx_para" id="S6.SS3.p4">
<p class="ltx_p" id="S6.SS3.p4.1">For a fair comparison, all the methods are fine-tuned from the same model, i.e., Llama2 after SFT on our outline-enhanced dataset. The empirical results are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.T5" title="Table 5 ‣ 6.2. Main results ‣ 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">5</span></a>. From the results, we observe that our proposed method attains better factual consistency than the baselines, regardless of the granularity of evaluation or reward modeling. In addition, among all the granularities of evaluation, subclaim-level evaluation performs the best. We also notice that token-level reward modeling performs worse than the conventional segment-level reward modeling, presumably because the length of our datasets may make token-level modeling over-fit.</p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.4. </span>Ablation study</h3>
<div class="ltx_para" id="S6.SS4.p1">
<p class="ltx_p" id="S6.SS4.p1.1">We now conduct ablation study to justify the rational of some certain design choices in our proposed method.</p>
</div>
<div class="ltx_para" id="S6.SS4.p2">
<p class="ltx_p" id="S6.SS4.p2.1"><span class="ltx_text ltx_font_bold" id="S6.SS4.p2.1.1">Effectiveness of the Outline-Expansion Two-Step Answer Generation.</span>
To illustrate the impact of our outline-enhanced generation technique, we train two baseline models that generate answers directly based on our dataset, which lack the outline stage, referred to FoRAG-C 6B w/o outline and FoRAG-L 7B w/o outline in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.T6" title="Table 6 ‣ 6.4. Ablation study ‣ 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">6</span></a>. The outcomes clearly show that our outline-enhanced generation approach significantly augments the model’s capabilities by enhancing the coherence and helpfulness of the answers generated, with a particularly notable improvement observed in the Chinese language task.</p>
</div>
<figure class="ltx_table" id="S6.T6">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6. </span>Ablation study on outline-enhanced generation.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T6.1">
<tr class="ltx_tr" id="S6.T6.1.1">
<td class="ltx_td ltx_border_tt" id="S6.T6.1.1.1"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S6.T6.1.1.2"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.2.1">WebCPM (zh)</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S6.T6.1.1.3"><span class="ltx_text ltx_font_bold" id="S6.T6.1.1.3.1">WebGPT (en)</span></td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.2">
<td class="ltx_td ltx_align_center" id="S6.T6.1.2.1">Method</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.2.2">Cohr.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.2.3">Help.</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.2.4">Cohr.</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S6.T6.1.2.5">Help.</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.3.1">FoRAG-C 6B w/o outline</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.3.2">0.8467</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.3.3">0.7613</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.3.4">0.8492</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S6.T6.1.3.5">0.8529</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.4">
<td class="ltx_td ltx_align_center" id="S6.T6.1.4.1">FoRAG-C 6B</td>
<td class="ltx_td ltx_align_center" id="S6.T6.1.4.2">0.8643</td>
<td class="ltx_td ltx_align_center" id="S6.T6.1.4.3">0.7814</td>
<td class="ltx_td ltx_align_center" id="S6.T6.1.4.4">0.8566</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S6.T6.1.4.5">0.8529</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.5">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.5.1">FoRAG-L 7B w/o outline</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.5.2">0.8543</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.5.3">0.8593</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T6.1.5.4">0.9779</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S6.T6.1.5.5">0.9522</td>
</tr>
<tr class="ltx_tr" id="S6.T6.1.6">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T6.1.6.1">FoRAG-L 7B</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T6.1.6.2"><span class="ltx_text ltx_font_bold" id="S6.T6.1.6.2.1">0.9095</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T6.1.6.3"><span class="ltx_text ltx_font_bold" id="S6.T6.1.6.3.1">0.8668</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T6.1.6.4"><span class="ltx_text ltx_font_bold" id="S6.T6.1.6.4.1">0.9816</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S6.T6.1.6.5"><span class="ltx_text ltx_font_bold" id="S6.T6.1.6.5.1">0.9559</span></td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="S6.T7">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7. </span>Alignment between GPT4-aided automated and human evaluations.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T7.1">
<tr class="ltx_tr" id="S6.T7.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T7.1.1.1"><span class="ltx_text ltx_font_bold" id="S6.T7.1.1.1.1">Metrics</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T7.1.1.2"><span class="ltx_text ltx_font_bold" id="S6.T7.1.1.2.1">Cohr.</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T7.1.1.3"><span class="ltx_text ltx_font_bold" id="S6.T7.1.1.3.1">Help.</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T7.1.1.4"><span class="ltx_text ltx_font_bold" id="S6.T7.1.1.4.1">Fact/q.</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt" id="S6.T7.1.1.5"><span class="ltx_text ltx_font_bold" id="S6.T7.1.1.5.1">Fact/s.</span></td>
</tr>
<tr class="ltx_tr" id="S6.T7.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.2.1">GPT4 vs Human</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.2.2">91.5%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.2.3">83.0%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T7.1.2.4">77.0%</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S6.T7.1.2.5">95.5%</td>
</tr>
<tr class="ltx_tr" id="S6.T7.1.3">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.3.1">Human vs Human</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.3.2">-</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.3.3">-</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T7.1.3.4">69.5%</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S6.T7.1.3.5">93.1%</td>
</tr>
</table>
</figure>
<div class="ltx_para" id="S6.SS4.p3">
<p class="ltx_p" id="S6.SS4.p3.1"><span class="ltx_text ltx_font_bold" id="S6.SS4.p3.1.1">On GPT4 Evaluation Quality.</span>
To evaluate how well GPT4 correlates with human judgment in Chinese, we recruit 10 native Chinese/speaking annotators.
Their task is to manually review coherence, helpfulness, and both query-level and sentence-level factuality on the Chinese generated results.
A subset of 200 examples is selected, and we conduct two rounds of human evaluation on it. In each round, each sample is randomly assigned to one annotator.
We report the agreement rate (the ratio of overlap) between two-round human labels and GPT4ś judgements in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.T7" title="Table 7 ‣ 6.4. Ablation study ‣ 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">7</span></a>.
The results confirm a robust correlation between GPT4 and human ratings on Chinese QA evaluation. Except on the query-level factuality, human suffers from comparing two lengthy texts, a conclusion that is consistent with <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib51" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S6.SS4.p4">
<p class="ltx_p" id="S6.SS4.p4.1"><span class="ltx_text ltx_font_bold" id="S6.SS4.p4.1.1">Effects of Imbalance Dataset.</span>
To evaluate how the imbalance of the two languages in the dataset affects the training effect on the resulting bilingual LLMs, we perform further ablation study on the level of imbalance. We fix the number of training samples to be 40k. Then we tune the ratio of Chinese to English on five level, ranging from 1:10, 1:3, 1:1 to 3:1, 10:1. We then randomly sample the corresponding amount of samples from our dataset and train the models based on Llama2-7B using SFT. The evaluation results, as depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.F2" title="Figure 2 ‣ 6.4. Ablation study ‣ 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">2</span></a> show that with a increasing amount of data, the model’s performance on the corresponding language increases on both coherency and helpfulness metrics. Meanwhile, the factuality metric is not affected by this ratio. Note that the performance of Llama2-7B is more sensitive to the number of training samples in Chinese. This may be because the pre-training of Llama2-7B contains more corpus in English, and therefore a few examples is enough to adopt to the new task.</p>
</div>
<figure class="ltx_figure" id="S6.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="524" id="S6.F2.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>Evaluation results in terms of various metrics of different models fine-tuned from Llama2-7B. We vary the ratio of the Chinese samples to the English samples in the training dataset.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S6.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.5. </span>Evaluation of Training Efficiency</h3>
<div class="ltx_para" id="S6.SS5.p1">
<p class="ltx_p" id="S6.SS5.p1.1">We finally evaluate the training efficiency of our proposed method. In the following, we will examine the additionial computation cost of the two new modules of FoRAG, i.e., outline-enhanced generation and doubly fine-grained RLHF, respectively.</p>
</div>
<div class="ltx_para" id="S6.SS5.p2">
<p class="ltx_p" id="S6.SS5.p2.1">The first step, i.e., outline-enhanced generation, has almost negligible effect on training time. During inference, it requires roughly 10% more tokens to be generated, and the extra time consumed at inference stage is roughly proportionally to this increase in tokens generated. Note that this extra inference time can be eliminated using context distillation techniques<cite class="ltx_cite ltx_citemacro_citep">(Welleck et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib50" title="">2019</a>; Askell et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#bib.bib4" title="">2021</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S6.SS5.p3">
<p class="ltx_p" id="S6.SS5.p3.1">The second step, i.e., doubly fine-grained RLHF, has no impact on inference time. To evaluate the additional computational expense during training, we consider a naive implementation of FoRAG that sequentially evaluates the reward for each sentence. In Table <a class="ltx_ref" href="https://arxiv.org/html/2406.13779v1#S6.T8" title="Table 8 ‣ 6.5. Evaluation of Training Efficiency ‣ 6. Experiment ‣ FoRAG: Factuality-optimized Retrieval Augmented Generation for Web-enhanced Long-form Question Answering"><span class="ltx_text ltx_ref_tag">8</span></a>, we compare the training time of FoRAG and the counterpart method with holistic RLHF. The results show the best performed version, the subclaim version of the doubly fine-grained RLHF framework, takes about 67.7% more time than standard RLHF. Note that the additional computational cost can be further reduced via implementation with a multi-head reward layer and carefully designed attention mask can use one forward pass to calculate the reward for all sentences, which will make the extra computational cost insignificant.</p>
</div>
<div class="ltx_para" id="S6.SS5.p4">
<p class="ltx_p" id="S6.SS5.p4.1">In summary, FoRAG outperforms the baseline method with reasonable additional computational cost.</p>
</div>
<figure class="ltx_table" id="S6.T8">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 8. </span>Evaluation on training efficiency of doubly fine-grained RLHF. We report the time consumed (in hours) for training reward models (RM) and RLHF on different granularities. We also report the extra time cost in percentage compared with the holistic RLHF method.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T8.1">
<tr class="ltx_tr" id="S6.T8.1.1">
<td class="ltx_td ltx_border_tt" id="S6.T8.1.1.1"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T8.1.1.2">RM</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T8.1.1.3">RLHF</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T8.1.1.4">Total</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T8.1.1.5">Percentage</td>
</tr>
<tr class="ltx_tr" id="S6.T8.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T8.1.2.1">Holistic</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T8.1.2.2">1.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T8.1.2.3">32.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T8.1.2.4">33.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T8.1.2.5">-</td>
</tr>
<tr class="ltx_tr" id="S6.T8.1.3">
<td class="ltx_td ltx_align_center" id="S6.T8.1.3.1">Sentence</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.3.2">4.6</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.3.3">45.6</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.3.4">50.2</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.3.5">+51.7%</td>
</tr>
<tr class="ltx_tr" id="S6.T8.1.4">
<td class="ltx_td ltx_align_center" id="S6.T8.1.4.1">Subclaim</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.4.2">5.1</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.4.3">50.4</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.4.4">55.5</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.4.5">+67.7%</td>
</tr>
<tr class="ltx_tr" id="S6.T8.1.5">
<td class="ltx_td ltx_align_center" id="S6.T8.1.5.1">Holistic + Token</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.5.2">1.3</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.5.3">32.8</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.5.4">34.1</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.5.5">+3.0%</td>
</tr>
<tr class="ltx_tr" id="S6.T8.1.6">
<td class="ltx_td ltx_align_center" id="S6.T8.1.6.1">Sentence + Token</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.6.2">5.3</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.6.3">46.4</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.6.4">51.7</td>
<td class="ltx_td ltx_align_center" id="S6.T8.1.6.5">+56.2%</td>
</tr>
<tr class="ltx_tr" id="S6.T8.1.7">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.1.7.1">Subclaim + Token</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.1.7.2">6.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.1.7.3">52.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.1.7.4">58.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T8.1.7.5">+75.2%</td>
</tr>
</table>
</figure>
</section>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7. </span>Conclusion</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">In this paper, we propose a novel answer generation method FoRAG for web-enhanced LFQA to tackle the factuality issue and lack of clear logical structure in existing methods. To this end, we first devise an outline-enhanced generator to fulfill clear logic in long-form answers and accordingly construct two datasets. Then we propose to optimize factuality in a carefully designed doubly fine-grained RLHF framework. Our developed framework contains automatic evaluation and reward modeling in different levels of granularity, and compasses traditional fine-grain RLHF methods as special cases. Empirically, FoRAG achieves state-of-the-art performance in terms of coherence, helpfulness, and factuality on both English and Chinese benchmarks. Notably, applying FoRAG to Llama2-7B-chat, we derive FoRAG-L-7B, which outperforms WebGPT-175B with only 1/24 in the number of parameters of WebGPT-175B.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Achiam et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad, Ilge Akkaya, Florencia Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman, Shyamal Anadkat, et al<span class="ltx_text" id="bib.bib2.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Gpt-4 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.4.1">arXiv preprint arXiv:2303.08774</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Amplayo et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Reinald Kim Amplayo, Kellie Webster, Michael Collins, Dipanjan Das, and Shashi Narayan. 2022.

</span>
<span class="ltx_bibblock">Query Refinement Prompts for Closed-Book Long-Form Question Answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">arXiv preprint arXiv:2210.17525</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Askell et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Amanda Askell, Yuntao Bai, Anna Chen, Dawn Drain, Deep Ganguli, Tom Henighan, Andy Jones, Nicholas Joseph, Ben Mann, Nova DasSarma, et al<span class="ltx_text" id="bib.bib4.3.1">.</span> 2021.

</span>
<span class="ltx_bibblock">A general language assistant as a laboratory for alignment.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.4.1">arXiv preprint arXiv:2112.00861</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yuntao Bai, Andy Jones, Kamal Ndousse, Amanda Askell, Anna Chen, Nova DasSarma, Dawn Drain, Stanislav Fort, Deep Ganguli, Tom Henighan, et al<span class="ltx_text" id="bib.bib5.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Training a helpful and harmless assistant with reinforcement learning from human feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.4.1">arXiv preprint arXiv:2204.05862</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yushi Bai, Jiahao Ying, Yixin Cao, Xin Lv, Yuze He, Xiaozhi Wang, Jifan Yu, Kaisheng Zeng, Yijia Xiao, Haozhe Lyu, Jiayin Zhang, Juanzi Li, and Lei Hou. 2023.

</span>
<span class="ltx_bibblock">Benchmarking Foundation Models with Language-Model-as-an-Examiner.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:2306.04181 [cs.CL]

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Borgeaud et al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Sebastian Borgeaud, Arthur Mensch, Jordan Hoffmann, Trevor Cai, Eliza Rutherford, Katie Millican, George Bm Van Den Driessche, Jean-Baptiste Lespiau, Bogdan Damoc, Aidan Clark, et al<span class="ltx_text" id="bib.bib7.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Improving language models by retrieving from trillions of tokens. In <em class="ltx_emph ltx_font_italic" id="bib.bib7.4.1">International conference on machine learning</em>. PMLR, 2206–2240.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, et al<span class="ltx_text" id="bib.bib8.3.1">.</span> 2020.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.4.1">Advances in neural information processing systems</em> 33 (2020), 1877–1901.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Shiqi Chen, Yiran Zhao, Jinghan Zhang, I-Chun Chern, Siyang Gao, Pengfei Liu, and Junxian He. 2023.

</span>
<span class="ltx_bibblock">FELM: Benchmarking Factuality Evaluation of Large Language Models.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:2310.00741 [cs.CL]

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chern et al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
I Chern, Steffi Chern, Shiqi Chen, Weizhe Yuan, Kehua Feng, Chunting Zhou, Junxian He, Graham Neubig, Pengfei Liu, et al<span class="ltx_text" id="bib.bib10.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">FacTool: Factuality Detection in Generative AI–A Tool Augmented Framework for Multi-Task and Multi-Domain Scenarios.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.4.1">arXiv preprint arXiv:2307.13528</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Christiano et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Paul F Christiano, Jan Leike, Tom Brown, Miljan Martic, Shane Legg, and Dario Amodei. 2017.

</span>
<span class="ltx_bibblock">Deep reinforcement learning from human preferences.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">Advances in neural information processing systems</em> 30 (2017).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Du et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Zhengxiao Du, Yujie Qian, Xiao Liu, Ming Ding, Jiezhong Qiu, Zhilin Yang, and Jie Tang. 2022.

</span>
<span class="ltx_bibblock">GLM: General Language Model Pretraining with Autoregressive Blank Infilling. In <em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">Proceedings of the 60th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>. 320–335.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fan et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Angela Fan, Yacine Jernite, Ethan Perez, David Grangier, Jason Weston, and Michael Auli. 2019.

</span>
<span class="ltx_bibblock">ELI5: Long Form Question Answering. In <em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics</em>. 3558–3567.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fu et al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Jinlan Fu, See-Kiong Ng, Zhengbao Jiang, and Pengfei Liu. 2023.

</span>
<span class="ltx_bibblock">GPTScore: Evaluate as You Desire.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">arXiv preprint arXiv:2302.04166</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Tianyu Gao, Howard Yen, Jiatong Yu, and Danqi Chen. 2023.

</span>
<span class="ltx_bibblock">Enabling Large Language Models to Generate Text with Citations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">arXiv preprint arXiv:2305.14627</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Biyang Guo, Xin Zhang, Ziyuan Wang, Minqi Jiang, Jinran Nie, Yuxuan Ding, Jianwei Yue, and Yupeng Wu. 2023.

</span>
<span class="ltx_bibblock">How Close is ChatGPT to Human Experts? Comparison Corpus, Evaluation, and Detection.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:2301.07597 [cs.CL]

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guu et al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Mingwei Chang. 2020.

</span>
<span class="ltx_bibblock">Retrieval augmented language model pre-training. In <em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">International conference on machine learning</em>. PMLR, 3929–3938.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Xiangkun Hu, Dongyu Ru, Qipeng Guo, Lin Qiu, and Zheng Zhang. 2023.

</span>
<span class="ltx_bibblock">RefChecker for Fine-grained Hallucination Detection.

</span>
<span class="ltx_bibblock">(2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/amazon-science/RefChecker" title="">https://github.com/amazon-science/RefChecker</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Gautier Izacard, Mathilde Caron, Lucas Hosseini, Sebastian Riedel, Piotr Bojanowski, Armand Joulin, and Edouard Grave. 2021.

</span>
<span class="ltx_bibblock">Unsupervised dense information retrieval with contrastive learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">arXiv preprint arXiv:2112.09118</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Dongfu Jiang, Yishan Li, Ge Zhang, Wenhao Huang, Bill Yuchen Lin, and Wenhu Chen. 2023.

</span>
<span class="ltx_bibblock">TIGERScore: Towards Building Explainable Metric for All Text Generation Tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">ArXiv</em> abs/2310.00752 (2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://api.semanticscholar.org/CorpusID:263334281" title="">https://api.semanticscholar.org/CorpusID:263334281</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Joshi et al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Mandar Joshi, Eunsol Choi, Daniel S Weld, and Luke Zettlemoyer. 2017.

</span>
<span class="ltx_bibblock">Triviaqa: A large scale distantly supervised challenge dataset for reading comprehension.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">arXiv preprint arXiv:1705.03551</em> (2017).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kamoi et al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Ryo Kamoi, Tanya Goyal, Juan Diego Rodriguez, and Greg Durrett. 2023.

</span>
<span class="ltx_bibblock">Wice: Real-world entailment for claims in wikipedia.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.3.1">arXiv preprint arXiv:2303.01432</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oğuz, Sewon Min, Patrick Lewis, Ledell Wu, Sergey Edunov, Danqi Chen, and Wen-tau Yih. 2020.

</span>
<span class="ltx_bibblock">Dense passage retrieval for open-domain question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.3.1">arXiv preprint arXiv:2004.04906</em> (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kojima et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Takeshi Kojima, Shixiang Shane Gu, Machel Reid, Yutaka Matsuo, and Yusuke Iwasawa. 2022.

</span>
<span class="ltx_bibblock">Large language models are zero-shot reasoners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">Advances in neural information processing systems</em> 35 (2022), 22199–22213.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kryściński et al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Wojciech Kryściński, Bryan McCann, Caiming Xiong, and Richard Socher. 2019.

</span>
<span class="ltx_bibblock">Evaluating the factual consistency of abstractive text summarization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.3.1">arXiv preprint arXiv:1910.12840</em> (2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kulkarni et al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Sayali Kulkarni, Sheide Chammas, Wan Zhu, Fei Sha, and Eugene Ie. 2020.

</span>
<span class="ltx_bibblock">Aquamuse: Automatically generating datasets for query-based multi-document summarization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">arXiv preprint arXiv:2010.12694</em> (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kwiatkowski et al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Tom Kwiatkowski, Jennimaria Palomaki, Olivia Redfield, Michael Collins, Ankur Parikh, Chris Alberti, Danielle Epstein, Illia Polosukhin, Jacob Devlin, Kenton Lee, et al<span class="ltx_text" id="bib.bib27.3.1">.</span> 2019.

</span>
<span class="ltx_bibblock">Natural questions: a benchmark for question answering research.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.4.1">Transactions of the Association for Computational Linguistics</em> 7 (2019), 453–466.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lattimer et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Barrett Martin Lattimer, Patrick Chen, Xinyuan Zhang, and Yi Yang. 2023.

</span>
<span class="ltx_bibblock">Fast and Accurate Factual Inconsistency Detection Over Long Documents.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">arXiv preprint arXiv:2310.13189</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2023c)</span>
<span class="ltx_bibblock">
Nelson F Liu, Tianyi Zhang, and Percy Liang. 2023c.

</span>
<span class="ltx_bibblock">Evaluating verifiability in generative search engines.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">arXiv preprint arXiv:2304.09848</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Xiao Liu, Hanyu Lai, Hao Yu, Yifan Xu, Aohan Zeng, Zhengxiao Du, Peng Zhang, Yuxiao Dong, and Jie Tang. 2023b.

</span>
<span class="ltx_bibblock">WebGLM: Towards An Efficient Web-Enhanced Question Answering System with Human Preferences. In <em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">Proceedings of the 29th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em> (¡conf-loc¿, ¡city¿Long Beach¡/city¿, ¡state¿CA¡/state¿, ¡country¿USA¡/country¿, ¡/conf-loc¿) <em class="ltx_emph ltx_font_italic" id="bib.bib30.4.2">(KDD ’23)</em>. Association for Computing Machinery, New York, NY, USA, 4549–4560.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3580305.3599931" title="">https://doi.org/10.1145/3580305.3599931</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Yang Liu, Dan Iter, Yichong Xu, Shuohang Wang, Ruochen Xu, and Chenguang Zhu. 2023a.

</span>
<span class="ltx_bibblock">G-Eval: NLG Evaluation using Gpt-4 with Better Human Alignment. In <em class="ltx_emph ltx_font_italic" id="bib.bib31.3.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, Houda Bouamor, Juan Pino, and Kalika Bali (Eds.). Association for Computational Linguistics, Singapore, 2511–2522.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.18653/v1/2023.emnlp-main.153" title="">https://doi.org/10.18653/v1/2023.emnlp-main.153</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Menick et al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Jacob Menick, Maja Trebacz, Vladimir Mikulik, John Aslanides, Francis Song, Martin Chadwick, Mia Glaese, Susannah Young, Lucy Campbell-Gillingham, Geoffrey Irving, et al<span class="ltx_text" id="bib.bib32.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Teaching language models to support answers with verified quotes.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.4.1">arXiv preprint arXiv:2203.11147</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mialon et al<span class="ltx_text" id="bib.bib33.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Grégoire Mialon, Roberto Dessì, Maria Lomeli, Christoforos Nalmpantis, Ram Pasunuru, Roberta Raileanu, Baptiste Rozière, Timo Schick, Jane Dwivedi-Yu, Asli Celikyilmaz, et al<span class="ltx_text" id="bib.bib33.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Augmented language models: a survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.4.1">arXiv preprint arXiv:2302.07842</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Min et al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Sewon Min, Kalpesh Krishna, Xinxi Lyu, Mike Lewis, Wen-tau Yih, Pang Wei Koh, Mohit Iyyer, Luke Zettlemoyer, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock">FActScore: Fine-grained Atomic Evaluation of Factual Precision in Long Form Text Generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.3.1">arXiv preprint arXiv:2305.14251</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nakano et al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Reiichiro Nakano, Jacob Hilton, Suchir Balaji, Jeff Wu, Long Ouyang, Christina Kim, Christopher Hesse, Shantanu Jain, Vineet Kosaraju, William Saunders, Xu Jiang, Karl Cobbe, Tyna Eloundou, Gretchen Krueger, Kevin Button, Matthew Knight, Benjamin Chess, and John Schulman. 2022.

</span>
<span class="ltx_bibblock">WebGPT: Browser-assisted question-answering with human feedback.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:2112.09332 [cs.CL]

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2023)</span>
<span class="ltx_bibblock">
OpenAI. 2023.

</span>
<span class="ltx_bibblock">GPT-4 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">arXiv preprint arXiv:2303.08774</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ouyang et al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Long Ouyang, Jeffrey Wu, Xu Jiang, Diogo Almeida, Carroll Wainwright, Pamela Mishkin, Chong Zhang, Sandhini Agarwal, Katarina Slama, Alex Ray, et al<span class="ltx_text" id="bib.bib37.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Training language models to follow instructions with human feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.4.1">Advances in Neural Information Processing Systems</em> 35 (2022), 27730–27744.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al<span class="ltx_text" id="bib.bib38.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yujia Qin, Zihan Cai, Dian Jin, Lan Yan, Shihao Liang, Kunlun Zhu, Yankai Lin, Xu Han, Ning Ding, Huadong Wang, et al<span class="ltx_text" id="bib.bib38.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">WebCPM: Interactive Web Search for Chinese Long-form Question Answering. In <em class="ltx_emph ltx_font_italic" id="bib.bib38.4.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>. 8968–8988.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rajpurkar et al<span class="ltx_text" id="bib.bib39.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
Pranav Rajpurkar, Jian Zhang, Konstantin Lopyrev, and Percy Liang. 2016.

</span>
<span class="ltx_bibblock">Squad: 100,000+ questions for machine comprehension of text.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.3.1">arXiv preprint arXiv:1606.05250</em> (2016).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ram et al<span class="ltx_text" id="bib.bib40.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Ori Ram, Yoav Levine, Itay Dalmedigos, Dor Muhlgay, Amnon Shashua, Kevin Leyton-Brown, and Yoav Shoham. 2023.

</span>
<span class="ltx_bibblock">In-Context Retrieval-Augmented Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.3.1">Transactions of the Association for Computational Linguistics</em> 11 (2023), 1316–1331.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1162/tacl_a_00605" title="">https://doi.org/10.1162/tacl_a_00605</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ramamurthy et al<span class="ltx_text" id="bib.bib41.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Rajkumar Ramamurthy, Prithviraj Ammanabrolu, Kianté Brantley, Jack Hessel, Rafet Sifa, Christian Bauckhage, Hannaneh Hajishirzi, and Yejin Choi. 2022.

</span>
<span class="ltx_bibblock">Is reinforcement learning (not) for natural language processing?: Benchmarks, baselines, and building blocks for natural language policy optimization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.3.1">arXiv preprint arXiv:2210.01241</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reddy et al<span class="ltx_text" id="bib.bib42.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Siva Reddy, Danqi Chen, and Christopher D Manning. 2019.

</span>
<span class="ltx_bibblock">Coqa: A conversational question answering challenge.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.3.1">Transactions of the Association for Computational Linguistics</em> 7 (2019), 249–266.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et al<span class="ltx_text" id="bib.bib43.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Weijia Shi, Sewon Min, Michihiro Yasunaga, Minjoon Seo, Rich James, Mike Lewis, Luke Zettlemoyer, and Wen tau Yih. 2023.

</span>
<span class="ltx_bibblock">REPLUG: Retrieval-Augmented Black-Box Language Models.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:2301.12652 [cs.CL]

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shuster et al<span class="ltx_text" id="bib.bib44.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Kurt Shuster, Jing Xu, Mojtaba Komeili, Da Ju, Eric Michael Smith, Stephen Roller, Megan Ung, Moya Chen, Kushal Arora, Joshua Lane, et al<span class="ltx_text" id="bib.bib44.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Blenderbot 3: a deployed conversational agent that continually learns to responsibly engage.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.4.1">arXiv preprint arXiv:2208.03188</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Solaiman and Dennison (2021)</span>
<span class="ltx_bibblock">
Irene Solaiman and Christy Dennison. 2021.

</span>
<span class="ltx_bibblock">Process for adapting language models to society (palms) with values-targeted datasets.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">Advances in Neural Information Processing Systems</em> 34 (2021), 5861–5873.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thoppilan et al<span class="ltx_text" id="bib.bib46.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Romal Thoppilan, Daniel De Freitas, Jamie Hall, Noam Shazeer, Apoorv Kulshreshtha, Heng-Tze Cheng, Alicia Jin, Taylor Bos, Leslie Baker, Yu Du, et al<span class="ltx_text" id="bib.bib46.3.1">.</span> 2022.

</span>
<span class="ltx_bibblock">Lamda: Language models for dialog applications.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.4.1">arXiv preprint arXiv:2201.08239</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al<span class="ltx_text" id="bib.bib47.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al<span class="ltx_text" id="bib.bib47.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.4.1">arXiv preprint arXiv:2307.09288</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib48.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Cunxiang Wang, Sirui Cheng, Zhikun Xu, Bowen Ding, Yidong Wang, and Yue Zhang. 2023a.

</span>
<span class="ltx_bibblock">Evaluating open question answering evaluation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib48.3.1">arXiv preprint arXiv:2305.12421</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib49.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Cunxiang Wang, Xiaoze Liu, Yuanhao Yue, Xiangru Tang, Tianhang Zhang, Cheng Jiayang, Yunzhi Yao, Wenyang Gao, Xuming Hu, Zehan Qi, et al<span class="ltx_text" id="bib.bib49.3.1">.</span> 2023b.

</span>
<span class="ltx_bibblock">Survey on factuality in large language models: Knowledge, retrieval and domain-specificity.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib49.4.1">arXiv preprint arXiv:2310.07521</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Welleck et al<span class="ltx_text" id="bib.bib50.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Sean Welleck, Ilia Kulikov, Stephen Roller, Emily Dinan, Kyunghyun Cho, and Jason Weston. 2019.

</span>
<span class="ltx_bibblock">Neural text generation with unlikelihood training.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib50.3.1">arXiv preprint arXiv:1908.04319</em> (2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span class="ltx_text" id="bib.bib51.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zeqiu Wu, Yushi Hu, Weijia Shi, Nouha Dziri, Alane Suhr, Prithviraj Ammanabrolu, Noah A Smith, Mari Ostendorf, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock">Fine-Grained Human Feedback Gives Better Rewards for Language Model Training.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib51.3.1">arXiv preprint arXiv:2306.01693</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al<span class="ltx_text" id="bib.bib52.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yunqi Xu, Tianchi Cai, Jiyan Jiang, and Xierui Song. 2024.

</span>
<span class="ltx_bibblock">Face4RAG: Factual Consistency Evaluation for Retrieval Augmented Generation in Chinese. In <em class="ltx_emph ltx_font_italic" id="bib.bib52.3.1">Proceedings of the 30th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al<span class="ltx_text" id="bib.bib53.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Shentao Yang, Shujian Zhang, Congying Xia, Yihao Feng, Caiming Xiong, and Mingyuan Zhou. 2023.

</span>
<span class="ltx_bibblock">Preference-grounded Token-level Guidance for Language Model Fine-tuning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib53.3.1">arXiv preprint arXiv:2306.00398</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zha et al<span class="ltx_text" id="bib.bib54.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yuheng Zha, Yichi Yang, Ruichen Li, and Zhiting Hu. 2023.

</span>
<span class="ltx_bibblock">AlignScore: Evaluating Factual Consistency with a Unified Alignment Function.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib54.3.1">arXiv preprint arXiv:2305.16739</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<div class="ltx_para" id="p1">
<span class="ltx_ERROR undefined" id="p1.1">{CJK*}</span>
<p class="ltx_p" id="p1.2">UTF8gbsn</p>
</div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Prompts For Generation</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">The following is the prompt template used to invoke GPT4 to generate outline-enhanced answers.</p>
</div>
<figure class="ltx_table" id="A1.T9">
<table class="ltx_tabular" id="A1.T9.1">
<tr class="ltx_tr" id="A1.T9.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A1.T9.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.1.1.1">
<span class="ltx_p" id="A1.T9.1.1.1.1.1" style="width:433.6pt;">###Task###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.2.1.1">
<span class="ltx_p" id="A1.T9.1.2.1.1.1" style="width:433.6pt;">Answer the question based on the materials provided.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.3.1.1">
<span class="ltx_p" id="A1.T9.1.3.1.1.1" style="width:433.6pt;">###Requirements###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.4.1.1">
<span class="ltx_p" id="A1.T9.1.4.1.1.1" style="width:433.6pt;">Step One: Develop an answer outline based on the question and materials.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.5.1.1">
<span class="ltx_p" id="A1.T9.1.5.1.1.1" style="width:433.6pt;">1. Choose a suitable organizational pattern for the answer structure, such as general-specific-general, progressive, comparative, cause-effect, parallel, chronological, among others.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.6.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.6.1.1">
<span class="ltx_p" id="A1.T9.1.6.1.1.1" style="width:433.6pt;">2. Enumerate the essential points that need to be included in the outline, aligned with the the chosen structure.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.7.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.7.1.1">
<span class="ltx_p" id="A1.T9.1.7.1.1.1" style="width:433.6pt;">3. The relationship between key points can be parallel, contrastive, progressive, etc., but should not be repetitive or inclusive.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.8.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.8.1.1">
<span class="ltx_p" id="A1.T9.1.8.1.1.1" style="width:433.6pt;">4. Formulate a clear and concise outline that includes at least 1 but no more than 5 key points.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.9.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.9.1.1">
<span class="ltx_p" id="A1.T9.1.9.1.1.1" style="width:433.6pt;">5. Each main point should reference only one specific part of the provided materials and must include the material’s number within the outline.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.10.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.10.1.1">
<span class="ltx_p" id="A1.T9.1.10.1.1.1" style="width:433.6pt;">Step Two: Answer the question based on the materials and outline.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.11.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.11.1.1">
<span class="ltx_p" id="A1.T9.1.11.1.1.1" style="width:433.6pt;">1. Utilize the outline as a blueprint to develop a comprehensive and informative answer.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.12.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.12.1.1">
<span class="ltx_p" id="A1.T9.1.12.1.1.1" style="width:433.6pt;">2. Write the answer using formatting tools such as numbered lists, bullet points, subheadings, LaTeX formulas, etc., where appropriate.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.13.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.13.1.1">
<span class="ltx_p" id="A1.T9.1.13.1.1.1" style="width:433.6pt;">3. Refrain from using basic sequential connectors like “firstly,” “secondly,” or “furthermore,” in the answer.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.14.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.14.1.1">
<span class="ltx_p" id="A1.T9.1.14.1.1.1" style="width:433.6pt;">4. Avoid redundancy and repetition of content within the answer.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.15.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.15.1.1">
<span class="ltx_p" id="A1.T9.1.15.1.1.1" style="width:433.6pt;">5. Do not cite the number of the materials in the answer.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.16">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.16.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.16.1.1">
<span class="ltx_p" id="A1.T9.1.16.1.1.1" style="width:433.6pt;">6. Adhere strictly to the information contained within the provided materials, without adding any information that is not included in the materials.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.17">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.17.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.17.1.1">
<span class="ltx_p" id="A1.T9.1.17.1.1.1" style="width:433.6pt;">###Format###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.18">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.18.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.18.1.1">
<span class="ltx_p" id="A1.T9.1.18.1.1.1" style="width:433.6pt;">[Structure]:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.19">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.19.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.19.1.1">
<span class="ltx_p" id="A1.T9.1.19.1.1.1" style="width:433.6pt;">¡The organizational structure of the answer¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.20">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.20.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.20.1.1">
<span class="ltx_p" id="A1.T9.1.20.1.1.1" style="width:433.6pt;">[Outline]:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.21">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.21.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.21.1.1">
<span class="ltx_p" id="A1.T9.1.21.1.1.1" style="width:433.6pt;">¡Bullet points outlining the answer¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.22">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.22.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.22.1.1">
<span class="ltx_p" id="A1.T9.1.22.1.1.1" style="width:433.6pt;">[Answer]:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.23">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.23.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.23.1.1">
<span class="ltx_p" id="A1.T9.1.23.1.1.1" style="width:433.6pt;">¡Answer the question based on the materials and outline¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.24">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.24.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.24.1.1">
<span class="ltx_p" id="A1.T9.1.24.1.1.1" style="width:433.6pt;">Here are two examples of input and output:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.25">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.25.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.25.1.1">
<span class="ltx_p" id="A1.T9.1.25.1.1.1" style="width:433.6pt;">###Input Example 1###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.26">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.26.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.26.1.1">
<span class="ltx_p" id="A1.T9.1.26.1.1.1" style="width:433.6pt;">###Question###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.27">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.27.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.27.1.1">
<span class="ltx_p" id="A1.T9.1.27.1.1.1" style="width:433.6pt;">What are the main factors contributing to the increasing trend of urban population growth?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.28">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.28.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.28.1.1">
<span class="ltx_p" id="A1.T9.1.28.1.1.1" style="width:433.6pt;">###Materials###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.29">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.29.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.29.1.1">
<span class="ltx_p" id="A1.T9.1.29.1.1.1" style="width:433.6pt;">[1]The improvement of healthcare in cities has led to lower mortality rates. With access to state-of-the-art hospitals, specialized clinics, and a higher concentration of medical professionals, city residents benefit from quicker and more effective response to health needs. The advancements in healthcare infrastructure, such as the implementation of digital health records and telemedicine, have further streamlined patient care, making it more accessible and efficient.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.30">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.30.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.30.1.1">
<span class="ltx_p" id="A1.T9.1.30.1.1.1" style="width:433.6pt;">[2]Urban areas are widely recognized for better educational institutions, from primary schools to universities, that promise a more comprehensive and diverse learning environment. These institutions are often equipped with advanced resources, experienced educators, and a broader range of programs and extracurricular activities, which are highly attractive to families who prioritize their children’s education.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.31">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.31.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.31.1.1">
<span class="ltx_p" id="A1.T9.1.31.1.1.1" style="width:433.6pt;">[3]Cities are the epicenters of industry, commerce, and services, offering a myriad of employment options that are scarce or nonexistent in rural settings. The diversity of the urban job market, with its potential for higher wages, career advancement, and the chance to engage in more specialized work, draws individuals in pursuit of a better livelihood. Rural to urban migration is driven by the search for better employment opportunities.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.32">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.32.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.32.1.1">
<span class="ltx_p" id="A1.T9.1.32.1.1.1" style="width:433.6pt;">###Output Example 1###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.33">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.33.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.33.1.1">
<span class="ltx_p" id="A1.T9.1.33.1.1.1" style="width:433.6pt;">[Structure]:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.34">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.34.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.34.1.1">
<span class="ltx_p" id="A1.T9.1.34.1.1.1" style="width:433.6pt;">Parallel</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.35">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.35.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.35.1.1">
<span class="ltx_p" id="A1.T9.1.35.1.1.1" style="width:433.6pt;">[Outline]:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.36">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.36.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.36.1.1">
<span class="ltx_p" id="A1.T9.1.36.1.1.1" style="width:433.6pt;">1. Advancements in healthcare (based on [1])</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.37">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.37.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.37.1.1">
<span class="ltx_p" id="A1.T9.1.37.1.1.1" style="width:433.6pt;">2. Enhanced educational opportunities (based on [2])</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.38">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.38.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.38.1.1">
<span class="ltx_p" id="A1.T9.1.38.1.1.1" style="width:433.6pt;">3. Employment prospects (based on [3])</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.39">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.39.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.39.1.1">
<span class="ltx_p" id="A1.T9.1.39.1.1.1" style="width:433.6pt;">[Answer]:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.40">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.40.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.40.1.1">
<span class="ltx_p" id="A1.T9.1.40.1.1.1" style="width:433.6pt;">Urban population growth is driven by several compelling factors that make living in cities increasingly attractive.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.41">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.41.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.41.1.1">
<span class="ltx_p" id="A1.T9.1.41.1.1.1" style="width:433.6pt;">One of the most significant contributors to this trend is the comprehensive improvement in healthcare that cities offer. Residents benefit from lower mortality rates due to access to superior medical facilities including state-of-the-art hospitals and specialized clinics. Furthermore, the urban healthcare infrastructure has been enhanced by technological advancements, such as the implementation of digital health records and the growing availability of telemedicine services.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.42">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.42.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.42.1.1">
<span class="ltx_p" id="A1.T9.1.42.1.1.1" style="width:433.6pt;">In addition to healthcare, the quality of education available in cities acts as a strong magnet for families and individuals. Cities typically boast:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.43">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.43.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.43.1.1">
<span class="ltx_p" id="A1.T9.1.43.1.1.1" style="width:433.6pt;">- Better educational institutions, which provide a more comprehensive and diverse learning environment.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.44">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.44.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.44.1.1">
<span class="ltx_p" id="A1.T9.1.44.1.1.1" style="width:433.6pt;">- Access to experienced educators and advanced educational resources that are not as readily available in rural areas.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.45">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.45.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.45.1.1">
<span class="ltx_p" id="A1.T9.1.45.1.1.1" style="width:433.6pt;">- A broad range of extracurricular activities that are highly attractive for those prioritizing education for their children.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.46">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.46.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.46.1.1">
<span class="ltx_p" id="A1.T9.1.46.1.1.1" style="width:433.6pt;">Finally, the wide array of employment options available in urban areas is a another driver of population growth. The concentration of industry, commerce, and services in cities creates a diverse job market with the potential for higher wages, career advancement, and specialized work. This draws people from rural areas in search of better employment prospects, thereby increasing the urban population.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.47">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.47.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.47.1.1">
<span class="ltx_p" id="A1.T9.1.47.1.1.1" style="width:433.6pt;">###Input Example 2###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.48">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.48.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.48.1.1">
<span class="ltx_p" id="A1.T9.1.48.1.1.1" style="width:433.6pt;">###Question###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.49">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.49.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.49.1.1">
<span class="ltx_p" id="A1.T9.1.49.1.1.1" style="width:433.6pt;">What makes smartphones an essential tool for modern life?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.50">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.50.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.50.1.1">
<span class="ltx_p" id="A1.T9.1.50.1.1.1" style="width:433.6pt;">###Materials###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.51">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.51.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.51.1.1">
<span class="ltx_p" id="A1.T9.1.51.1.1.1" style="width:433.6pt;">[1]Smartphones provide a convenient means of communication, allowing people to stay connected with friends and family through calls, texts, and various messaging apps.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.52">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.52.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.52.1.1">
<span class="ltx_p" id="A1.T9.1.52.1.1.1" style="width:433.6pt;">[2]They offer access to a wide array of information and entertainment options, such as browsing the internet, streaming videos, and playing games.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.53">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.53.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.53.1.1">
<span class="ltx_p" id="A1.T9.1.53.1.1.1" style="width:433.6pt;">[3]Smartphones have built-in features that replace the need for other devices, like a camera, GPS, and notebook, making them a multifunctional tool that fits in your pocket.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.54">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.54.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.54.1.1">
<span class="ltx_p" id="A1.T9.1.54.1.1.1" style="width:433.6pt;">###Output Example 2###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.55">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.55.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.55.1.1">
<span class="ltx_p" id="A1.T9.1.55.1.1.1" style="width:433.6pt;">[Structure]:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.56">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.56.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.56.1.1">
<span class="ltx_p" id="A1.T9.1.56.1.1.1" style="width:433.6pt;">General-Specific-General</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.57">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.57.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.57.1.1">
<span class="ltx_p" id="A1.T9.1.57.1.1.1" style="width:433.6pt;">[Outline]:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.58">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.58.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.58.1.1">
<span class="ltx_p" id="A1.T9.1.58.1.1.1" style="width:433.6pt;">1. Communication hub (based on [1])</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.59">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.59.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.59.1.1">
<span class="ltx_p" id="A1.T9.1.59.1.1.1" style="width:433.6pt;">2. Multifunctional device (based on [3])</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.60">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.60.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.60.1.1">
<span class="ltx_p" id="A1.T9.1.60.1.1.1" style="width:433.6pt;">[Answer]:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.61">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.61.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.61.1.1">
<span class="ltx_p" id="A1.T9.1.61.1.1.1" style="width:433.6pt;">Smartphones have become indispensable in contemporary life primarily because they serve as a central hub for communication and a versatile multifunctional device.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.62">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.62.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.62.1.1">
<span class="ltx_p" id="A1.T9.1.62.1.1.1" style="width:433.6pt;">### Central Hub for Communication</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.63">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.63.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.63.1.1">
<span class="ltx_p" id="A1.T9.1.63.1.1.1" style="width:433.6pt;">The ability to instantly connect with others via calls, texts, and various messaging applications is one of the most valued features of smartphones. This constant connectivity has revolutionized the way we maintain personal and professional relationships.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.64">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.64.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.64.1.1">
<span class="ltx_p" id="A1.T9.1.64.1.1.1" style="width:433.6pt;">### Versatile Multifunctional Device</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.65">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.65.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.65.1.1">
<span class="ltx_p" id="A1.T9.1.65.1.1.1" style="width:433.6pt;">Smartphones eliminate the need to carry multiple gadgets by incorporating essential tools like a high-quality camera, a reliable GPS navigation system, and the functionality of a notebook, all within a single, portable device.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.66">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.66.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.66.1.1">
<span class="ltx_p" id="A1.T9.1.66.1.1.1" style="width:433.6pt;">In essence, the critical role of smartphones in modern life can be attributed to their unparalleled capacity to keep us connected to the world around us and their ability to perform multiple functions that simplify our daily routines.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.67">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.67.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.67.1.1">
<span class="ltx_p" id="A1.T9.1.67.1.1.1" style="width:433.6pt;">Below is the question you need to answer and the corresponding materials. Please output according to the above requirements, format, and examples:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.68">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.68.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.68.1.1">
<span class="ltx_p" id="A1.T9.1.68.1.1.1" style="width:433.6pt;">###Question###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.69">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.69.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.69.1.1">
<span class="ltx_p" id="A1.T9.1.69.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.69.1.1.1.1">{query}</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.70">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T9.1.70.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.70.1.1">
<span class="ltx_p" id="A1.T9.1.70.1.1.1" style="width:433.6pt;">###Materials###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.71">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r" id="A1.T9.1.71.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T9.1.71.1.1">
<span class="ltx_p" id="A1.T9.1.71.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.71.1.1.1.1">{doc}</span></span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A1.T10">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 10. </span>Prompt for Chinese Generation</figcaption>
<table class="ltx_tabular" id="A1.T10.1">
<tr class="ltx_tr" id="A1.T10.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A1.T10.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.1.1.1">
<span class="ltx_p" id="A1.T10.1.1.1.1.1" style="width:433.6pt;">###任务###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.2.1.1">
<span class="ltx_p" id="A1.T10.1.2.1.1.1" style="width:433.6pt;">根据资料回答问题。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.3.1.1">
<span class="ltx_p" id="A1.T10.1.3.1.1.1" style="width:433.6pt;">###要求###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.4.1.1">
<span class="ltx_p" id="A1.T10.1.4.1.1.1" style="width:433.6pt;">第一步：根据问题和资料生成回答提纲。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.5.1.1">
<span class="ltx_p" id="A1.T10.1.5.1.1.1" style="width:433.6pt;">1. 决定回答结构，从总分总、递进、对比、因果、并列、时序等结构中选择合适的来组织回答。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.6.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.6.1.1">
<span class="ltx_p" id="A1.T10.1.6.1.1.1" style="width:433.6pt;">2. 根据回答结构，在提纲中要完整地列出答案中需要包括的要点。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.7.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.7.1.1">
<span class="ltx_p" id="A1.T10.1.7.1.1.1" style="width:433.6pt;">3. 要点之间可以是并列、对照、递进等关系，不可以是重复或者包含关系。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.8.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.8.1.1">
<span class="ltx_p" id="A1.T10.1.8.1.1.1" style="width:433.6pt;">4. 要点要保持精炼，至少有1点，不能多于5点，</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.9.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.9.1.1">
<span class="ltx_p" id="A1.T10.1.9.1.1.1" style="width:433.6pt;">5. 每个要点仅可参考1段资料，并在提纲中标注资料编号。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.10.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.10.1.1">
<span class="ltx_p" id="A1.T10.1.10.1.1.1" style="width:433.6pt;">第二步：根据资料和提纲对问题进行回答。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.11.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.11.1.1">
<span class="ltx_p" id="A1.T10.1.11.1.1.1" style="width:433.6pt;">1. 回答要以提纲为蓝本，对问题进行详细的回答。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.12.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.12.1.1">
<span class="ltx_p" id="A1.T10.1.12.1.1.1" style="width:433.6pt;">2. 回答中可以采用编号或项目列表、小标题、latex公式等格式。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.13.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.13.1.1">
<span class="ltx_p" id="A1.T10.1.13.1.1.1" style="width:433.6pt;">3. 回答中减少使用“首先”、“其次”、“再者”等简单的连接词。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.14.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.14.1.1">
<span class="ltx_p" id="A1.T10.1.14.1.1.1" style="width:433.6pt;">4. 回答中不要生成重复内容。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.15.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.15.1.1">
<span class="ltx_p" id="A1.T10.1.15.1.1.1" style="width:433.6pt;">5. 回答中不要标注资料来源。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.16">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.16.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.16.1.1">
<span class="ltx_p" id="A1.T10.1.16.1.1.1" style="width:433.6pt;">6. 回答应当严格依据资料，不采用不在资料中的内容。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.17">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.17.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.17.1.1">
<span class="ltx_p" id="A1.T10.1.17.1.1.1" style="width:433.6pt;">###格式###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.18">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.18.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.18.1.1">
<span class="ltx_p" id="A1.T10.1.18.1.1.1" style="width:433.6pt;">【结构】：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.19">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.19.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.19.1.1">
<span class="ltx_p" id="A1.T10.1.19.1.1.1" style="width:433.6pt;">¡回答的组织结构¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.20">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.20.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.20.1.1">
<span class="ltx_p" id="A1.T10.1.20.1.1.1" style="width:433.6pt;">【提纲】：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.21">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.21.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.21.1.1">
<span class="ltx_p" id="A1.T10.1.21.1.1.1" style="width:433.6pt;">¡分点介绍回答思路¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.22">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.22.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.22.1.1">
<span class="ltx_p" id="A1.T10.1.22.1.1.1" style="width:433.6pt;">【回答】：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.23">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.23.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.23.1.1">
<span class="ltx_p" id="A1.T10.1.23.1.1.1" style="width:433.6pt;">¡根据资料和提纲回答问题¿</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.24">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.24.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.24.1.1">
<span class="ltx_p" id="A1.T10.1.24.1.1.1" style="width:433.6pt;">下面是1个示例输入和2个满足要求的示例输出：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.25">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.25.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.25.1.1">
<span class="ltx_p" id="A1.T10.1.25.1.1.1" style="width:433.6pt;">###示例输入###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.26">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.26.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.26.1.1">
<span class="ltx_p" id="A1.T10.1.26.1.1.1" style="width:433.6pt;">###问题###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.27">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.27.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.27.1.1">
<span class="ltx_p" id="A1.T10.1.27.1.1.1" style="width:433.6pt;">2023年西安房贷利率最新消息</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.28">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.28.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.28.1.1">
<span class="ltx_p" id="A1.T10.1.28.1.1.1" style="width:433.6pt;">###资料###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.29">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.29.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.29.1.1">
<span class="ltx_p" id="A1.T10.1.29.1.1.1" style="width:433.6pt;">[1 ]一、西安商业贷款固定利率</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.30">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.30.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.30.1.1">
<span class="ltx_p" id="A1.T10.1.30.1.1.1" style="width:433.6pt;">1年以内（含）——4.35%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.31">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.31.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.31.1.1">
<span class="ltx_p" id="A1.T10.1.31.1.1.1" style="width:433.6pt;">5年(含)以下——4.75%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.32">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.32.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.32.1.1">
<span class="ltx_p" id="A1.T10.1.32.1.1.1" style="width:433.6pt;">5年以上——4.9%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.33">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.33.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.33.1.1">
<span class="ltx_p" id="A1.T10.1.33.1.1.1" style="width:433.6pt;">贷款市场报价利率LPR：目前1年期LPR为3.45%，5年期LPR为4.2%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.34">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.34.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.34.1.1">
<span class="ltx_p" id="A1.T10.1.34.1.1.1" style="width:433.6pt;">首套住房商业性个人住房贷款利率下限为不低于相应期限LPR减20个基点。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.35">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.35.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.35.1.1">
<span class="ltx_p" id="A1.T10.1.35.1.1.1" style="width:433.6pt;">二套住房商业性个人住房贷款利率下限为不低于相应期限贷款市场报价LPR利率加20个基点。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.36">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.36.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.36.1.1">
<span class="ltx_p" id="A1.T10.1.36.1.1.1" style="width:433.6pt;">二、西安公积金贷款利率</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.37">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.37.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.37.1.1">
<span class="ltx_p" id="A1.T10.1.37.1.1.1" style="width:433.6pt;">5年(含)以下——2.6%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.38">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.38.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.38.1.1">
<span class="ltx_p" id="A1.T10.1.38.1.1.1" style="width:433.6pt;">5年以上——3.1%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.39">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.39.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.39.1.1">
<span class="ltx_p" id="A1.T10.1.39.1.1.1" style="width:433.6pt;">[2 ]目前西安主流银行的首套房利率集中在4%左右，二套房利率差基本维持在4.9%。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.40">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.40.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.40.1.1">
<span class="ltx_p" id="A1.T10.1.40.1.1.1" style="width:433.6pt;">[3 ]首先，虽然LPR在7月没有变动，但西安首套房贷款利率已经低至4%，并且低于2009年房贷利率打七折后的4.156%！</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.41">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.41.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.41.1.1">
<span class="ltx_p" id="A1.T10.1.41.1.1.1" style="width:433.6pt;">这点也恰恰和楼市走访到的信息不谋而合，据了解，西安目前多数银行首套房贷利率主要集中于4%，二套房贷利率基本在4.9%左右。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.42">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.42.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.42.1.1">
<span class="ltx_p" id="A1.T10.1.42.1.1.1" style="width:433.6pt;">[4 ]7月20日，中国人民银行授权全国银行间同业拆借中心公布了最新一期贷款市场报价利率（LPR）：1年期LPR为3.55%，5年期以上LPR为4.20%，均与上个月持平。但西安房贷利率较上月小幅下行，西安多家银行首套房贷利率从4.1%降至4%。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.43">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.43.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.43.1.1">
<span class="ltx_p" id="A1.T10.1.43.1.1.1" style="width:433.6pt;">今年6月，LPR时隔10个月迎来下调，1年期和5年期以上LPR均跟随政策利率下调10个基点。记者了解到，从6月下旬开始，西安各大银行相继落实首套房贷利率政策动态调整机制，进行利率调整。目前，西安地区六大行及招商银行、宁夏银行、北京银行、西安银行等十余家银行首套房贷利率降至4%，较LPR下浮0.2%。二套房贷利率同步下行，跌破5%大关，维持在4.9%。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.44">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.44.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.44.1.1">
<span class="ltx_p" id="A1.T10.1.44.1.1.1" style="width:433.6pt;">###示例输出1###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.45">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.45.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.45.1.1">
<span class="ltx_p" id="A1.T10.1.45.1.1.1" style="width:433.6pt;">【结构】：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.46">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.46.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.46.1.1">
<span class="ltx_p" id="A1.T10.1.46.1.1.1" style="width:433.6pt;">总分总</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.47">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.47.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.47.1.1">
<span class="ltx_p" id="A1.T10.1.47.1.1.1" style="width:433.6pt;">【提纲】：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.48">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.48.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.48.1.1">
<span class="ltx_p" id="A1.T10.1.48.1.1.1" style="width:433.6pt;">1. 首套房商业贷款利率(仅使用[2 ]回答)</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.49">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.49.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.49.1.1">
<span class="ltx_p" id="A1.T10.1.49.1.1.1" style="width:433.6pt;">2. 二套房商业贷款利率 (仅使用[2 ]回答)</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.50">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.50.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.50.1.1">
<span class="ltx_p" id="A1.T10.1.50.1.1.1" style="width:433.6pt;">3. 公积金贷款利率（仅使用[1 ]回答）</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.51">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.51.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.51.1.1">
<span class="ltx_p" id="A1.T10.1.51.1.1.1" style="width:433.6pt;">【回答】：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.52">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.52.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.52.1.1">
<span class="ltx_p" id="A1.T10.1.52.1.1.1" style="width:433.6pt;">西安的房贷市场在2023年呈现了一定的调整趋势，特别是在商业贷款和公积金贷款利率方面。针对不同的贷款年限，首套和二套住房的贷款利率有所不同。下面是具体的利率情况和银行对房贷利率的调整概述。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.53">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.53.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.53.1.1">
<span class="ltx_p" id="A1.T10.1.53.1.1.1" style="width:433.6pt;">### 首套房商业贷款利率</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.54">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.54.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.54.1.1">
<span class="ltx_p" id="A1.T10.1.54.1.1.1" style="width:433.6pt;">首套住房商业贷款利率集中在4%左右，较LPR下浮0.2%。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.55">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.55.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.55.1.1">
<span class="ltx_p" id="A1.T10.1.55.1.1.1" style="width:433.6pt;">### 二套房商业贷款利率</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.56">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.56.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.56.1.1">
<span class="ltx_p" id="A1.T10.1.56.1.1.1" style="width:433.6pt;">二套房商业贷款利率基本维持在4.9%左右。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.57">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.57.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.57.1.1">
<span class="ltx_p" id="A1.T10.1.57.1.1.1" style="width:433.6pt;">### 公积金贷款利率</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.58">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.58.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.58.1.1">
<span class="ltx_p" id="A1.T10.1.58.1.1.1" style="width:433.6pt;">公积金贷款利率5年(含)以下为2.6%，5年以上为3.1%。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.59">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.59.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.59.1.1">
<span class="ltx_p" id="A1.T10.1.59.1.1.1" style="width:433.6pt;">西安的房贷市场在2023年经历了积极的调整，尤其是首套房贷款利率的下降，为购房者带来了更为优惠的借款条件。与此同时，公积金贷款的低利率也为有资格的借款人提供了额外的经济支持。这些调整对于稳定房地产市场、支持合理住房需求有着重要的作用。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.60">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.60.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.60.1.1">
<span class="ltx_p" id="A1.T10.1.60.1.1.1" style="width:433.6pt;">###示例输出2###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.61">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.61.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.61.1.1">
<span class="ltx_p" id="A1.T10.1.61.1.1.1" style="width:433.6pt;">【结构】：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.62">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.62.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.62.1.1">
<span class="ltx_p" id="A1.T10.1.62.1.1.1" style="width:433.6pt;">并列</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.63">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.63.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.63.1.1">
<span class="ltx_p" id="A1.T10.1.63.1.1.1" style="width:433.6pt;">【提纲】：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.64">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.64.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.64.1.1">
<span class="ltx_p" id="A1.T10.1.64.1.1.1" style="width:433.6pt;">1. 西安商业贷款固定利率（仅使用[1 ]回答）</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.65">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.65.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.65.1.1">
<span class="ltx_p" id="A1.T10.1.65.1.1.1" style="width:433.6pt;">2. 西安公积金贷款利率（仅使用[1 ]回答）</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.66">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.66.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.66.1.1">
<span class="ltx_p" id="A1.T10.1.66.1.1.1" style="width:433.6pt;">3. 首套与二套房贷款利率最新变化（仅使用[4 ]回答）</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.67">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.67.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.67.1.1">
<span class="ltx_p" id="A1.T10.1.67.1.1.1" style="width:433.6pt;">【回答】：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.68">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.68.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.68.1.1">
<span class="ltx_p" id="A1.T10.1.68.1.1.1" style="width:433.6pt;">2023年西安的房贷利率最新消息如下：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.69">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.69.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.69.1.1">
<span class="ltx_p" id="A1.T10.1.69.1.1.1" style="width:433.6pt;">商业贷款固定利率：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.70">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.70.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.70.1.1">
<span class="ltx_p" id="A1.T10.1.70.1.1.1" style="width:433.6pt;">- 1年以内（含）的利率为4.35%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.71">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.71.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.71.1.1">
<span class="ltx_p" id="A1.T10.1.71.1.1.1" style="width:433.6pt;">- 5年（含）以下的利率为4.75%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.72">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.72.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.72.1.1">
<span class="ltx_p" id="A1.T10.1.72.1.1.1" style="width:433.6pt;">- 5年以上的利率为4.9%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.73">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.73.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.73.1.1">
<span class="ltx_p" id="A1.T10.1.73.1.1.1" style="width:433.6pt;">公积金贷款利率：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.74">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.74.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.74.1.1">
<span class="ltx_p" id="A1.T10.1.74.1.1.1" style="width:433.6pt;">- 5年（含）以下为2.6%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.75">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.75.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.75.1.1">
<span class="ltx_p" id="A1.T10.1.75.1.1.1" style="width:433.6pt;">- 5年以上为3.1%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.76">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.76.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.76.1.1">
<span class="ltx_p" id="A1.T10.1.76.1.1.1" style="width:433.6pt;">据报道，7月20日，虽然LPR没有变动，但西安首套房贷款利率已经低至4%，低于2009年房贷利率打七折后的4.156%，二套房贷利率同步下行，维持在4.9%。在6月LPR下调后，西安各大银行相继落实首套房贷利率政策动态调整机制，进行利率调整。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.77">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.77.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.77.1.1">
<span class="ltx_p" id="A1.T10.1.77.1.1.1" style="width:433.6pt;">下面是你要回答的问题和相应的资料，请根据上述要求、格式和示例进行输出：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.78">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.78.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.78.1.1">
<span class="ltx_p" id="A1.T10.1.78.1.1.1" style="width:433.6pt;">###问题###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.79">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.79.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.79.1.1">
<span class="ltx_p" id="A1.T10.1.79.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.79.1.1.1.1">{query}</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.80">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A1.T10.1.80.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.80.1.1">
<span class="ltx_p" id="A1.T10.1.80.1.1.1" style="width:433.6pt;">###资料###</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.81">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r" id="A1.T10.1.81.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T10.1.81.1.1">
<span class="ltx_p" id="A1.T10.1.81.1.1.1" style="width:433.6pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.81.1.1.1.1">{doc}</span></span>
</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Prompts for Evaluation</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">As mentioned, the followings are the prompts we used to invoke GPT4 to evalute the coherence, helpfulness, and factuality.</p>
</div>
<figure class="ltx_table" id="A2.T11">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 11. </span>Prompt for English Coherence Evaluation</figcaption>
<table class="ltx_tabular" id="A2.T11.1">
<tr class="ltx_tr" id="A2.T11.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A2.T11.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.1.1.1">
<span class="ltx_p" id="A2.T11.1.1.1.1.1" style="width:433.6pt;">You will be given one answer written for a question.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.2.1.1">
<span class="ltx_p" id="A2.T11.1.2.1.1.1" style="width:433.6pt;">Your task is to rate the answer on one metric.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.3.1.1">
<span class="ltx_p" id="A2.T11.1.3.1.1.1" style="width:433.6pt;">Please make sure you read and understand these instructions carefully. Please keep this document open while reviewing, and refer to it as needed.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.4.1.1">
<span class="ltx_p" id="A2.T11.1.4.1.1.1" style="width:433.6pt;">Evaluation Criteria:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.5.1.1">
<span class="ltx_p" id="A2.T11.1.5.1.1.1" style="width:433.6pt;">Coherence (1-5) - the collective quality of all sentences. The answer should have no datelines, system-internal formatting, capitalization errors or obviously ungrammatical sentences (e.g., fragments, missing components) that make the text difficult to read. There should be no unnecessary repetition in the answer. Unnecessary repetition might take the form of whole sentences that are repeated or repeated facts. The answer should be well-structured and well-organized. The answer should not just be a heap of related information, but should build from sentence to sentence to a coherent body of information about a topic.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.6.1.1">
<span class="ltx_p" id="A2.T11.1.6.1.1.1" style="width:433.6pt;">Evaluation Steps:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.7.1.1">
<span class="ltx_p" id="A2.T11.1.7.1.1.1" style="width:433.6pt;">1. Read the entire answer thoroughly to get a general understanding of the content and structure.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.8.1.1">
<span class="ltx_p" id="A2.T11.1.8.1.1.1" style="width:433.6pt;">2. Look for any dateline references or system-internal formatting errors. These issues should not be present in a coherent answer.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.9.1.1">
<span class="ltx_p" id="A2.T11.1.9.1.1.1" style="width:433.6pt;">3. Examine the grammar and sentence construction for flaws such as sentence fragments, run-on sentences, or missing components that could hinder readability.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.10.1.1">
<span class="ltx_p" id="A2.T11.1.10.1.1.1" style="width:433.6pt;">4. Identify any unnecessary repetition within the answer. This includes repeated sentences or redundant information that does not contribute to the progression of the text.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.11.1.1">
<span class="ltx_p" id="A2.T11.1.11.1.1.1" style="width:433.6pt;">5. Assess the structure and organization of the answer. It should have a logical flow, with each sentence building upon the previous information and contributing to a comprehensive understanding of the topic.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.12.1.1">
<span class="ltx_p" id="A2.T11.1.12.1.1.1" style="width:433.6pt;">6. Assign a score for coherence on a scale of 1 to 5, where 1 is the lowest and 5 is the highest based on the Evaluation Criteria.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.13.1.1">
<span class="ltx_p" id="A2.T11.1.13.1.1.1" style="width:433.6pt;">Answer: <span class="ltx_text ltx_font_bold" id="A2.T11.1.13.1.1.1.1">{answer}</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T11.1.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.14.1.1">
<span class="ltx_p" id="A2.T11.1.14.1.1.1" style="width:433.6pt;">Evaluation Form (scores ONLY):</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r" id="A2.T11.1.15.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.15.1.1">
<span class="ltx_p" id="A2.T11.1.15.1.1.1" style="width:433.6pt;">- Coherence:</span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A2.T12">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 12. </span>Prompt for Chinese Coherence Evaluation</figcaption>
<table class="ltx_tabular" id="A2.T12.1">
<tr class="ltx_tr" id="A2.T12.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A2.T12.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.1.1.1">
<span class="ltx_p" id="A2.T12.1.1.1.1.1" style="width:433.6pt;">你将获得针对某个问题编写的一个答案。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.2.1.1">
<span class="ltx_p" id="A2.T12.1.2.1.1.1" style="width:433.6pt;">你的任务是根据一项指标对答案进行评分。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.3.1.1">
<span class="ltx_p" id="A2.T12.1.3.1.1.1" style="width:433.6pt;">请你确保仔细阅读并理解这些说明。请在审阅时保持本文档处于打开状态，并根据需要进行参考。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.4.1.1">
<span class="ltx_p" id="A2.T12.1.4.1.1.1" style="width:433.6pt;">评价标准：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.5.1.1">
<span class="ltx_p" id="A2.T12.1.5.1.1.1" style="width:433.6pt;">连贯性 (1-5) - 所有句子的集体质量。 答案不应包含日期线、系统内部格式、大写错误或明显不合语法的句子（例如片段、缺少组件），以免文本难以阅读。 答案中不应有不必要的重复。 不必要的重复可能表现为重复整个句子或重复事实。 答案应该结构良好、组织良好。 答案不应该只是一堆相关信息，而应该逐句构建有关某个主题的连贯信息体。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.6.1.1">
<span class="ltx_p" id="A2.T12.1.6.1.1.1" style="width:433.6pt;">评估步骤：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.7.1.1">
<span class="ltx_p" id="A2.T12.1.7.1.1.1" style="width:433.6pt;">1. 通读整个答案，大致了解内容和结构。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.8.1.1">
<span class="ltx_p" id="A2.T12.1.8.1.1.1" style="width:433.6pt;">2. 查找任何日期线引用或系统内部格式错误。这些问题不应该出现在一个连贯的答案中。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.9.1.1">
<span class="ltx_p" id="A2.T12.1.9.1.1.1" style="width:433.6pt;">3. 检查语法和句子结构是否存在缺陷，例如句子片段、连贯句子或可能妨碍可读性的缺失成分。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.10.1.1">
<span class="ltx_p" id="A2.T12.1.10.1.1.1" style="width:433.6pt;">4. 找出答案中任何不必要的重复。这包括重复的句子或对文本的进展没有贡献的冗余信息。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.11.1.1">
<span class="ltx_p" id="A2.T12.1.11.1.1.1" style="width:433.6pt;">5. 评估答案的结构和组织。它应该有一个逻辑流程，每个句子都建立在前面的信息的基础上，并有助于全面理解该主题。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.12.1.1">
<span class="ltx_p" id="A2.T12.1.12.1.1.1" style="width:433.6pt;">6. 根据评估标准，按照 1 到 5 的范围为一致性打分，其中 1 为最低，5 为最高。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.13.1.1">
<span class="ltx_p" id="A2.T12.1.13.1.1.1" style="width:433.6pt;">回答：<span class="ltx_text ltx_font_bold" id="A2.T12.1.13.1.1.1.1">{answer}</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T12.1.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.14.1.1">
<span class="ltx_p" id="A2.T12.1.14.1.1.1" style="width:433.6pt;">评估形式（仅分数）：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r" id="A2.T12.1.15.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.15.1.1">
<span class="ltx_p" id="A2.T12.1.15.1.1.1" style="width:433.6pt;">- 连贯性：</span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A2.T13">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 13. </span>Prompt for English Helpfulness Evaluation</figcaption>
<table class="ltx_tabular" id="A2.T13.1">
<tr class="ltx_tr" id="A2.T13.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A2.T13.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.1.1.1">
<span class="ltx_p" id="A2.T13.1.1.1.1.1" style="width:433.6pt;">You will be given one answer written for a question.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.2.1.1">
<span class="ltx_p" id="A2.T13.1.2.1.1.1" style="width:433.6pt;">Your task is to rate the answer on one metric.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.3.1.1">
<span class="ltx_p" id="A2.T13.1.3.1.1.1" style="width:433.6pt;">Please make sure you read and understand these instructions carefully. Please keep this document open while reviewing, and refer to it as needed.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.4.1.1">
<span class="ltx_p" id="A2.T13.1.4.1.1.1" style="width:433.6pt;">Evaluation Criteria:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.5.1.1">
<span class="ltx_p" id="A2.T13.1.5.1.1.1" style="width:433.6pt;">Helpfulness (1-5) - the degree to which the answer effectively meets the needs of the person seeking information. The answer should be articulated in a way that is easy to understand. The answer should directly address the question posed, focusing on the specific information or solution sought by the inquirer. The information provided should be correct and based on factual, verifiable data or recognized expertise. The answer includes all necessary details to fully respond to the question. It leaves no critical aspects of the question unaddressed.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.6.1.1">
<span class="ltx_p" id="A2.T13.1.6.1.1.1" style="width:433.6pt;">Evaluation Steps:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.7.1.1">
<span class="ltx_p" id="A2.T13.1.7.1.1.1" style="width:433.6pt;">1. Begin by thoroughly reading and understanding the question asked. Identify the main points and what the inquirer is seeking.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.8.1.1">
<span class="ltx_p" id="A2.T13.1.8.1.1.1" style="width:433.6pt;">2. Read the answer thoroughly to understand the information provided. Evaluate if the answer is articulated in a way that is easy to understand.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.9.1.1">
<span class="ltx_p" id="A2.T13.1.9.1.1.1" style="width:433.6pt;">3. Evaluate whether the answer directly addresses the question. The information provided should be relevant to what was asked.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.10.1.1">
<span class="ltx_p" id="A2.T13.1.10.1.1.1" style="width:433.6pt;">4. Ensure that the information provided is correct, factual, and based on verifiable data or recognized expertise.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.11.1.1">
<span class="ltx_p" id="A2.T13.1.11.1.1.1" style="width:433.6pt;">5. Determine if the answer includes all necessary details. A helpful answer should fully respond to the question without leaving critical aspects unaddressed.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.12.1.1">
<span class="ltx_p" id="A2.T13.1.12.1.1.1" style="width:433.6pt;">6. Assign a score for helpfulness on a scale of 1 to 5, where 1 is the lowest and 5 is the highest based on the Evaluation Criteria.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.13.1.1">
<span class="ltx_p" id="A2.T13.1.13.1.1.1" style="width:433.6pt;">Question: <span class="ltx_text ltx_font_bold" id="A2.T13.1.13.1.1.1.1">{query}</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.14.1.1">
<span class="ltx_p" id="A2.T13.1.14.1.1.1" style="width:433.6pt;">Answer: <span class="ltx_text ltx_font_bold" id="A2.T13.1.14.1.1.1.1">{answer}</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T13.1.15.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.15.1.1">
<span class="ltx_p" id="A2.T13.1.15.1.1.1" style="width:433.6pt;">Evaluation Form (scores ONLY):</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T13.1.16">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r" id="A2.T13.1.16.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.1.16.1.1">
<span class="ltx_p" id="A2.T13.1.16.1.1.1" style="width:433.6pt;">- Helpfulness:</span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A2.T14">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 14. </span>Prompt for Chinese Helpfulness Evaluation</figcaption>
<table class="ltx_tabular" id="A2.T14.1">
<tr class="ltx_tr" id="A2.T14.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A2.T14.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.1.1.1">
<span class="ltx_p" id="A2.T14.1.1.1.1.1" style="width:433.6pt;">你将获得针对某个问题编写的一个答案。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.2.1.1">
<span class="ltx_p" id="A2.T14.1.2.1.1.1" style="width:433.6pt;">你的任务是根据一项指标对答案进行评分。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.3.1.1">
<span class="ltx_p" id="A2.T14.1.3.1.1.1" style="width:433.6pt;">请你确保仔细阅读并理解这些说明。请在审阅时保持本文档处于打开状态，并根据需要进行参考。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.4.1.1">
<span class="ltx_p" id="A2.T14.1.4.1.1.1" style="width:433.6pt;">评价标准：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.5.1.1">
<span class="ltx_p" id="A2.T14.1.5.1.1.1" style="width:433.6pt;">帮助性 (1-5) - 答案有效满足寻求信息的人的需求的程度。 答案应该以易于理解的方式表达。 答案应直接解决提出的问题，重点关注询问者寻求的具体信息或解决方案。 所提供的信息应正确且基于事实、可验证的数据或公认的专业知识。 答案包括完整回答问题的所有必要细节。 它没有遗漏问题的所有关键方面。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.6.1.1">
<span class="ltx_p" id="A2.T14.1.6.1.1.1" style="width:433.6pt;">评估步骤：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.7.1.1">
<span class="ltx_p" id="A2.T14.1.7.1.1.1" style="width:433.6pt;">1. 首先彻底阅读并理解所提出的问题。 确定要点以及询问者想要什么。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.8.1.1">
<span class="ltx_p" id="A2.T14.1.8.1.1.1" style="width:433.6pt;">2. 仔细阅读答案，理解所提供的信息。 评估答案是否以易于理解的方式表达。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.9.1.1">
<span class="ltx_p" id="A2.T14.1.9.1.1.1" style="width:433.6pt;">3. 评估答案是否直接解决问题。 提供的信息应与所询问的内容相关。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.10.1.1">
<span class="ltx_p" id="A2.T14.1.10.1.1.1" style="width:433.6pt;">4. 确保所提供的信息正确、真实，并且基于可验证的数据或公认的专业知识。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.11.1.1">
<span class="ltx_p" id="A2.T14.1.11.1.1.1" style="width:433.6pt;">5. 确定答案是否包含所有必要的详细信息。 有用的答案应该充分回答问题，同时不遗漏关键方面。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.12.1.1">
<span class="ltx_p" id="A2.T14.1.12.1.1.1" style="width:433.6pt;">6. 根据评估标准，按 1 到 5 的等级为帮助性打分，其中 1 为最低，5 为最高。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.13.1.1">
<span class="ltx_p" id="A2.T14.1.13.1.1.1" style="width:433.6pt;">问题：<span class="ltx_text ltx_font_bold" id="A2.T14.1.13.1.1.1.1">{query}</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.14.1.1">
<span class="ltx_p" id="A2.T14.1.14.1.1.1" style="width:433.6pt;">回答：<span class="ltx_text ltx_font_bold" id="A2.T14.1.14.1.1.1.1">{answer}</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T14.1.15.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.15.1.1">
<span class="ltx_p" id="A2.T14.1.15.1.1.1" style="width:433.6pt;">评估形式（仅分数）：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T14.1.16">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r" id="A2.T14.1.16.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.1.16.1.1">
<span class="ltx_p" id="A2.T14.1.16.1.1.1" style="width:433.6pt;">- 帮助性：</span>
</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
<figure class="ltx_table" id="A2.T15">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 15. </span>Prompt for English Factuality Evaluation</figcaption>
<table class="ltx_tabular" id="A2.T15.1">
<tr class="ltx_tr" id="A2.T15.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A2.T15.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.1.1.1">
<span class="ltx_p" id="A2.T15.1.1.1.1.1" style="width:433.6pt;">I will show you a question, a series of text segments, and a few reference documents. All the segments can be linked together to form a complete answer to the question. Your task is to assess whether each text segment contains factual errors with the help of the reference documents.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.2.1.1">
<span class="ltx_p" id="A2.T15.1.2.1.1.1" style="width:433.6pt;">Please evaluate according to the following requirements:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.3.1.1">
<span class="ltx_p" id="A2.T15.1.3.1.1.1" style="width:433.6pt;">1. If the text segment only contains general introductions such as “the method is as follows” or “according to the material,” without conveying specific information, directly judge it as “correct.”</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.4.1.1">
<span class="ltx_p" id="A2.T15.1.4.1.1.1" style="width:433.6pt;">2. If the text segments can find corresponding sentences in the reference document or the question as support, or can be inferred from the corresponding sentences, directly judge them as “correct.” Pay attention to the semantic consistency of key words and details.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.5.1.1">
<span class="ltx_p" id="A2.T15.1.5.1.1.1" style="width:433.6pt;">3. If there are any pieces of information in the text segment that cannot be found in the reference document or the question, nor can they be inferred from the corresponding sentences, directly judge them as “incorrect.”</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.6.1.1">
<span class="ltx_p" id="A2.T15.1.6.1.1.1" style="width:433.6pt;">Please generate the output in the following format:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.7.1.1">
<span class="ltx_p" id="A2.T15.1.7.1.1.1" style="width:433.6pt;">Assessment Details: For each segment, use the reference documents and question to explain the rationale and judgment result.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.8.1.1">
<span class="ltx_p" id="A2.T15.1.8.1.1.1" style="width:433.6pt;">Final Answer: List the numbers of the segments with errors (separated by commas). Please only output the numbers, do not output more details. If all information in the text segments is supported and semantically consistent with the reference documents, even if some information in the reference documents is not covered, please output “completely correct.”</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.9.1.1">
<span class="ltx_p" id="A2.T15.1.9.1.1.1" style="width:433.6pt;">Here’s an example:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.10.1.1">
<span class="ltx_p" id="A2.T15.1.10.1.1.1" style="width:433.6pt;">Question: How many nuclear power plants are there in the world?</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.11.1.1">
<span class="ltx_p" id="A2.T15.1.11.1.1.1" style="width:433.6pt;">Segments:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.12.1.1">
<span class="ltx_p" id="A2.T15.1.12.1.1.1" style="width:433.6pt;">¡1¿There are a total of 440 operating nuclear reactors in the world, with a total installed capacity of over 390 gigawatts (GW).</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.13.1.1">
<span class="ltx_p" id="A2.T15.1.13.1.1.1" style="width:433.6pt;">¡2¿These reactors are distributed in 30 countries around the world, with the United States owning the most reactors, followed by France, China, Japan, and Russia.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.14.1.1">
<span class="ltx_p" id="A2.T15.1.14.1.1.1" style="width:433.6pt;">¡3¿Among them, China is building 16 new reactors with the fastest growth, followed by India with 8 under construction.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.15.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.15.1.1">
<span class="ltx_p" id="A2.T15.1.15.1.1.1" style="width:433.6pt;">Reference Documents:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.16">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.16.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.16.1.1">
<span class="ltx_p" id="A2.T15.1.16.1.1.1" style="width:433.6pt;">```</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.17">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.17.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.17.1.1">
<span class="ltx_p" id="A2.T15.1.17.1.1.1" style="width:433.6pt;">[1]Nuclear power plants operate in 32 countries, generating about one-tenth of the world’s electricity. Most are located in Europe, North America, East Asia, and South Asia. The United States is the largest producer of nuclear power, while France has the largest share of electricity from nuclear power, at about 70%. China has the fastest-growing nuclear power program, with 16 new reactors under construction, followed by India with 8 under construction.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.18">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.18.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.18.1.1">
<span class="ltx_p" id="A2.T15.1.18.1.1.1" style="width:433.6pt;">[2]As of May 2023, there are 410 operable nuclear reactors in the world, with a total electric power capacity of 368.6 gigawatts.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.19">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.19.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.19.1.1">
<span class="ltx_p" id="A2.T15.1.19.1.1.1" style="width:433.6pt;">```</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.20">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.20.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.20.1.1">
<span class="ltx_p" id="A2.T15.1.20.1.1.1" style="width:433.6pt;">Here’s what your output should look like:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.21">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.21.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.21.1.1">
<span class="ltx_p" id="A2.T15.1.21.1.1.1" style="width:433.6pt;">Assessment Details:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.22">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.22.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.22.1.1">
<span class="ltx_p" id="A2.T15.1.22.1.1.1" style="width:433.6pt;">¡1¿Segment 1 states: “There are a total of 440 operating nuclear reactors in the world, with a total installed capacity of over 390 gigawatts (GW).” This information is inconsistent with the information in the reference document [2]: “there are 410 operable nuclear reactors in the world, with a total electric power capacity of 368.6 gigawatts.” Therefore, segment 1 is incorrect.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.23">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.23.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.23.1.1">
<span class="ltx_p" id="A2.T15.1.23.1.1.1" style="width:433.6pt;">¡2¿The information in segment 2 “These reactors are distributed in 30 countries around the world” is inconsistent with the information in reference document [1]: “Nuclear power plants operate in 32 countries,” and the reference document does not mention the number of nuclear reactors in “France, China, Japan, and Russia,” so segment 2 is incorrect.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.24">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.24.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.24.1.1">
<span class="ltx_p" id="A2.T15.1.24.1.1.1" style="width:433.6pt;">¡3¿Segment 3 states: “China is building 16 new reactors with the fastest growth, followed by India with 8 under construction.” This is consistent with reference document [1]: “China has the fastest-growing nuclear power program, with 16 new reactors under construction, followed by India with 8 under construction.” Therefore, segment 3 is correct.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.25">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.25.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.25.1.1">
<span class="ltx_p" id="A2.T15.1.25.1.1.1" style="width:433.6pt;">Final Answer: 1,2</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.26">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.26.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.26.1.1">
<span class="ltx_p" id="A2.T15.1.26.1.1.1" style="width:433.6pt;">This means that only segments 1 and 2 contain errors, while segment 3 can find corresponding sentences in the reference document to support it and is judged to be correct.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.27">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.27.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.27.1.1">
<span class="ltx_p" id="A2.T15.1.27.1.1.1" style="width:433.6pt;">Below is the input:</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.28">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.28.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.28.1.1">
<span class="ltx_p" id="A2.T15.1.28.1.1.1" style="width:433.6pt;">Question: <span class="ltx_text ltx_font_bold" id="A2.T15.1.28.1.1.1.1">{question}</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.29">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T15.1.29.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.29.1.1">
<span class="ltx_p" id="A2.T15.1.29.1.1.1" style="width:433.6pt;">Segments: <span class="ltx_text ltx_font_bold" id="A2.T15.1.29.1.1.1.1">{segments}</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T15.1.30">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r" id="A2.T15.1.30.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.1.30.1.1">
<span class="ltx_p" id="A2.T15.1.30.1.1.1" style="width:433.6pt;">Reference Documents:``` <span class="ltx_text ltx_font_bold" id="A2.T15.1.30.1.1.1.1">{docs}</span> ```</span>
</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
<figure class="ltx_table" id="A2.T16">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 16. </span>Prompt for Chinese Factuality Evaluation</figcaption>
<table class="ltx_tabular" id="A2.T16.1">
<tr class="ltx_tr" id="A2.T16.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A2.T16.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.1.1.1">
<span class="ltx_p" id="A2.T16.1.1.1.1.1" style="width:433.6pt;">我将向您展示一个问题、一系列文本片段和一份参考文档。所有的片段可以连起来形成对问题的完整回答。您的任务是在参考文档的帮助下评估每个文本片段是否包含事实错误。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.2.1.1">
<span class="ltx_p" id="A2.T16.1.2.1.1.1" style="width:433.6pt;">请按照以下要求进行评估：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.3.1.1">
<span class="ltx_p" id="A2.T16.1.3.1.1.1" style="width:433.6pt;">1. 如果文本片段仅包含类似“方法如下”、“根据资料可得”这样的通用开场白而没有传递具体信息，直接判定为“正确”。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.4.1.1">
<span class="ltx_p" id="A2.T16.1.4.1.1.1" style="width:433.6pt;">2. 如果文本片段都能在参考文档或者问题中找到相应句子作为支持，或者可以从相应句子推理得到，直接判定为“正确”。关注关键词和细节的语义一致性。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.5.1.1">
<span class="ltx_p" id="A2.T16.1.5.1.1.1" style="width:433.6pt;">3. 如果文本片段中有任何信息在参考文档或者问题中找不到明确的支撑，也不能根据相应句子推理得到，直接判定为“错误”。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.6.1.1">
<span class="ltx_p" id="A2.T16.1.6.1.1.1" style="width:433.6pt;">请按照以下格式生成输出：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.7.1.1">
<span class="ltx_p" id="A2.T16.1.7.1.1.1" style="width:433.6pt;">评估明细：对于每一条片段，结合参考文档或者问题说明判定理由和判定结果。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.8.1.1">
<span class="ltx_p" id="A2.T16.1.8.1.1.1" style="width:433.6pt;">最终答案：列出带有错误的片段的编号（用逗号分隔）。请只输出编号，不要输出更多细节。如果所有文本片段中的信息都得到了支持且与参考文档语义一致，即使参考文档中有其他信息未被涵盖，请输出“完全正确”。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.9.1.1">
<span class="ltx_p" id="A2.T16.1.9.1.1.1" style="width:433.6pt;">这里有一个例子：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.10.1.1">
<span class="ltx_p" id="A2.T16.1.10.1.1.1" style="width:433.6pt;">问题：全世界共有多少座核电站？</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.11.1.1">
<span class="ltx_p" id="A2.T16.1.11.1.1.1" style="width:433.6pt;">片段：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.12.1.1">
<span class="ltx_p" id="A2.T16.1.12.1.1.1" style="width:433.6pt;">¡1¿世界上共有440座运行中的核电反应堆，总装机容量超过390吉瓦特（GW）。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.13.1.1">
<span class="ltx_p" id="A2.T16.1.13.1.1.1" style="width:433.6pt;">¡2¿这些反应堆分布在世界上30个国家，美国拥有最多的反应堆，其次是法国、中国、日本和俄罗斯。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.14.1.1">
<span class="ltx_p" id="A2.T16.1.14.1.1.1" style="width:433.6pt;">¡3¿其中，中国正在新建16座反应堆，增长最快，其次是印度，有8座在建。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.15.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.15.1.1">
<span class="ltx_p" id="A2.T16.1.15.1.1.1" style="width:433.6pt;">参考文档：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.16">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.16.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.16.1.1">
<span class="ltx_p" id="A2.T16.1.16.1.1.1" style="width:433.6pt;">```</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.17">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.17.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.17.1.1">
<span class="ltx_p" id="A2.T16.1.17.1.1.1" style="width:433.6pt;">[1]核电站在32个国家运营，产生了世界上约十分之一的电力。大多数位于欧洲、北美、东亚和南亚。美国是最大的核能生产国，而法国的核电所占的电力比重最大，约为70%。中国拥有增长最快的核电计划，正在建设16座新的反应堆，其次是印度，有8座在建。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.18">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.18.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.18.1.1">
<span class="ltx_p" id="A2.T16.1.18.1.1.1" style="width:433.6pt;">[2]截至2023年5月，世界上有410座可运行的核电反应堆，总电力容量为368.6吉瓦特。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.19">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.19.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.19.1.1">
<span class="ltx_p" id="A2.T16.1.19.1.1.1" style="width:433.6pt;">```</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.20">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.20.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.20.1.1">
<span class="ltx_p" id="A2.T16.1.20.1.1.1" style="width:433.6pt;">以下是您的输出：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.21">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.21.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.21.1.1">
<span class="ltx_p" id="A2.T16.1.21.1.1.1" style="width:433.6pt;">评估明细：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.22">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.22.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.22.1.1">
<span class="ltx_p" id="A2.T16.1.22.1.1.1" style="width:433.6pt;">¡1¿片段1提到：“世界上共有440座运行中的核电反应堆，总装机容量超过390吉瓦特（GW）。” 这一信息与参考文档[2]中的信息不一致：“世界上有410座可运行的核电反应堆，总电力容量为368.6吉瓦特。” 因此片段1是错误的。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.23">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.23.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.23.1.1">
<span class="ltx_p" id="A2.T16.1.23.1.1.1" style="width:433.6pt;">¡2¿片段2中的信息“反应堆分布在世界上30个国家”与参考文档[1]中的信息不一致：“核电站在32个国家运营”，而且参考文档中没有提及“法国、中国、日本和俄罗斯”的核反应堆数量，因此片段2是错误的。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.24">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.24.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.24.1.1">
<span class="ltx_p" id="A2.T16.1.24.1.1.1" style="width:433.6pt;">¡3¿片段3提到：“中国正在新建16座反应堆，增长最快，其次是印度，有8座在建。”与参考文档[1]一致：“中国拥有增长最快的核电计划，正在建设16座新的反应堆，其次是印度，有8座在建。”，因此片段3是正确的。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.25">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.25.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.25.1.1">
<span class="ltx_p" id="A2.T16.1.25.1.1.1" style="width:433.6pt;">最终答案：1,2</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.26">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.26.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.26.1.1">
<span class="ltx_p" id="A2.T16.1.26.1.1.1" style="width:433.6pt;">这意味着只有片段1和2包含错误，而片段3都能在参考文档中找到相应句子作为支持，被判定为正确。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.27">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.27.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.27.1.1">
<span class="ltx_p" id="A2.T16.1.27.1.1.1" style="width:433.6pt;">以下是我的输入：</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.28">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.28.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.28.1.1">
<span class="ltx_p" id="A2.T16.1.28.1.1.1" style="width:433.6pt;">问题：<span class="ltx_text ltx_font_bold" id="A2.T16.1.28.1.1.1.1">{question}</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.29">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A2.T16.1.29.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.29.1.1">
<span class="ltx_p" id="A2.T16.1.29.1.1.1" style="width:433.6pt;">片段：<span class="ltx_text ltx_font_bold" id="A2.T16.1.29.1.1.1.1">{segments}</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T16.1.30">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r" id="A2.T16.1.30.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.1.30.1.1">
<span class="ltx_p" id="A2.T16.1.30.1.1.1" style="width:433.6pt;">参考文档：``` <span class="ltx_text ltx_font_bold" id="A2.T16.1.30.1.1.1.1">{docs}</span> ```</span>
</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Prompts for Decomposition</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">The following are the prompts we used to decompose sentences into subclaims.</p>
</div>
<figure class="ltx_table" id="A3.T17">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 17. </span>Prompt for English Sentence Decomposition</figcaption>
<table class="ltx_tabular" id="A3.T17.1">
<tr class="ltx_tr" id="A3.T17.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A3.T17.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.1.1.1">
<span class="ltx_p" id="A3.T17.1.1.1.1.1" style="width:433.6pt;">Please breakdown the following sentence into independent facts: He is also a successful producer and engineer, having worked with a wide variety of artists, including Willie Nelson, Tim McGraw, and Taylor Swift.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.2.1.1">
<span class="ltx_p" id="A3.T17.1.2.1.1.1" style="width:433.6pt;">- He is successful.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.3.1.1">
<span class="ltx_p" id="A3.T17.1.3.1.1.1" style="width:433.6pt;">- He is a producer.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.4.1.1">
<span class="ltx_p" id="A3.T17.1.4.1.1.1" style="width:433.6pt;">- He is a engineer.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.5.1.1">
<span class="ltx_p" id="A3.T17.1.5.1.1.1" style="width:433.6pt;">- He has worked with a wide variety of artists.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.6.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.6.1.1">
<span class="ltx_p" id="A3.T17.1.6.1.1.1" style="width:433.6pt;">- Willie Nelson is an artist.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.7.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.7.1.1">
<span class="ltx_p" id="A3.T17.1.7.1.1.1" style="width:433.6pt;">- He has worked with Willie Nelson.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.8.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.8.1.1">
<span class="ltx_p" id="A3.T17.1.8.1.1.1" style="width:433.6pt;">- Tim McGraw is an artist.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.9.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.9.1.1">
<span class="ltx_p" id="A3.T17.1.9.1.1.1" style="width:433.6pt;">- He has worked with Tim McGraw.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.10.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.10.1.1">
<span class="ltx_p" id="A3.T17.1.10.1.1.1" style="width:433.6pt;">- Taylor Swift is an artist.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.11.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.11.1.1">
<span class="ltx_p" id="A3.T17.1.11.1.1.1" style="width:433.6pt;">- He has worked with Taylor Swift.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.12.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.12.1.1">
<span class="ltx_p" id="A3.T17.1.12.1.1.1" style="width:433.6pt;">Please breakdown the following sentence into independent facts: Michael Collins (born October 31, 1930) is a retired American astronaut and test pilot who was the Command Module Pilot for the Apollo 11 mission in 1969.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.13.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.13.1.1">
<span class="ltx_p" id="A3.T17.1.13.1.1.1" style="width:433.6pt;">- Michael Collins was born on October 31, 1930.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.14.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.14.1.1">
<span class="ltx_p" id="A3.T17.1.14.1.1.1" style="width:433.6pt;">- Michael Collins is retired.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.15.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.15.1.1">
<span class="ltx_p" id="A3.T17.1.15.1.1.1" style="width:433.6pt;">- Michael Collins is an American.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.16">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.16.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.16.1.1">
<span class="ltx_p" id="A3.T17.1.16.1.1.1" style="width:433.6pt;">- Michael Collins was an astronaut.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.17">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.17.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.17.1.1">
<span class="ltx_p" id="A3.T17.1.17.1.1.1" style="width:433.6pt;">- Michael Collins was a test pilot.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.18">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.18.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.18.1.1">
<span class="ltx_p" id="A3.T17.1.18.1.1.1" style="width:433.6pt;">- Michael Collins was the Command Module Pilot.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.19">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.19.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.19.1.1">
<span class="ltx_p" id="A3.T17.1.19.1.1.1" style="width:433.6pt;">- Michael Collins was the Command Module Pilot for the Apollo 11 mission.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.20">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.20.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.20.1.1">
<span class="ltx_p" id="A3.T17.1.20.1.1.1" style="width:433.6pt;">- Michael Collins was the Command Module Pilot for the Apollo 11 mission in 1969.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.21">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.21.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.21.1.1">
<span class="ltx_p" id="A3.T17.1.21.1.1.1" style="width:433.6pt;">Please breakdown the following sentence into independent facts: He was an American composer, conductor, and musical director.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.22">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.22.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.22.1.1">
<span class="ltx_p" id="A3.T17.1.22.1.1.1" style="width:433.6pt;">- He was an American.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.23">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.23.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.23.1.1">
<span class="ltx_p" id="A3.T17.1.23.1.1.1" style="width:433.6pt;">- He was a composer.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.24">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.24.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.24.1.1">
<span class="ltx_p" id="A3.T17.1.24.1.1.1" style="width:433.6pt;">- He was a conductor.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.25">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.25.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.25.1.1">
<span class="ltx_p" id="A3.T17.1.25.1.1.1" style="width:433.6pt;">- He was a musical director.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.26">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.26.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.26.1.1">
<span class="ltx_p" id="A3.T17.1.26.1.1.1" style="width:433.6pt;">Please breakdown the following sentence into independent facts: In 1970, the Empire State Building in New York City was the tallest building in the United States and the world, standing at 1,250 feet tall.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.27">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.27.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.27.1.1">
<span class="ltx_p" id="A3.T17.1.27.1.1.1" style="width:433.6pt;">- The Empire State Building is in New York City.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.28">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.28.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.28.1.1">
<span class="ltx_p" id="A3.T17.1.28.1.1.1" style="width:433.6pt;">- In 1970, the Empire State Building was the tallest building in the United States.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.29">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.29.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.29.1.1">
<span class="ltx_p" id="A3.T17.1.29.1.1.1" style="width:433.6pt;">- In 1970, the Empire State Building was the tallest building in the world.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.30">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.30.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.30.1.1">
<span class="ltx_p" id="A3.T17.1.30.1.1.1" style="width:433.6pt;">- The Empire State Building stands at 1,250 feet tall.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.31">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.31.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.31.1.1">
<span class="ltx_p" id="A3.T17.1.31.1.1.1" style="width:433.6pt;">Please breakdown the following sentence into independent facts: The Willis Tower (formerly the Sears Tower) in Chicago was the first to do so, reaching 1,450 feet in 1973.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.32">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.32.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.32.1.1">
<span class="ltx_p" id="A3.T17.1.32.1.1.1" style="width:433.6pt;">- The Willis Tower is formerly called the Sears Tower.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.33">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.33.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.33.1.1">
<span class="ltx_p" id="A3.T17.1.33.1.1.1" style="width:433.6pt;">- The Willis Tower is in Chicago.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.34">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.34.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.34.1.1">
<span class="ltx_p" id="A3.T17.1.34.1.1.1" style="width:433.6pt;">- The Willis Tower reached 1,450 feet in 1973.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.35">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.35.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.35.1.1">
<span class="ltx_p" id="A3.T17.1.35.1.1.1" style="width:433.6pt;">Please breakdown the following sentence into independent facts: The current tallest building in the United States is One World Trade Center in New York City, which stands at 1,776 feet.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.36">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.36.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.36.1.1">
<span class="ltx_p" id="A3.T17.1.36.1.1.1" style="width:433.6pt;">- The current tallest building in the United States is One World Trade Center.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.37">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.37.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.37.1.1">
<span class="ltx_p" id="A3.T17.1.37.1.1.1" style="width:433.6pt;">- One World Trade Center is in New York City.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.38">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.38.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.38.1.1">
<span class="ltx_p" id="A3.T17.1.38.1.1.1" style="width:433.6pt;">- One World Trade Center stands at 1,776 feet.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.39">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.39.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.39.1.1">
<span class="ltx_p" id="A3.T17.1.39.1.1.1" style="width:433.6pt;">Please breakdown the following sentence into independent facts: William E. Moerner is an American physical chemist who was affiliated with the University of Sussex as a visiting professor.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.40">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.40.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.40.1.1">
<span class="ltx_p" id="A3.T17.1.40.1.1.1" style="width:433.6pt;">- William E. Moerner is an American.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.41">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.41.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.41.1.1">
<span class="ltx_p" id="A3.T17.1.41.1.1.1" style="width:433.6pt;">- William E. Moerner is an physical chemist.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.42">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.42.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.42.1.1">
<span class="ltx_p" id="A3.T17.1.42.1.1.1" style="width:433.6pt;">- William E. Moerner was affiliated with the University of Sussex.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.43">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.43.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.43.1.1">
<span class="ltx_p" id="A3.T17.1.43.1.1.1" style="width:433.6pt;">- William E. Moerner was affiliated with the University of Sussex as a visiting professor.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.44">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.44.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.44.1.1">
<span class="ltx_p" id="A3.T17.1.44.1.1.1" style="width:433.6pt;">Please breakdown the following sentence into independent facts: Sir Harold Walter Kroto, an English chemist, shared the 1996 Nobel Prize in Chemistry with Robert Curl and Richard Smalley for their discovery of a new form of carbon, buckminsterfullerene, also known as buckyballs.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.45">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.45.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.45.1.1">
<span class="ltx_p" id="A3.T17.1.45.1.1.1" style="width:433.6pt;">- Sir Harold Walter Kroto is English.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.46">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.46.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.46.1.1">
<span class="ltx_p" id="A3.T17.1.46.1.1.1" style="width:433.6pt;">- Sir Harold Walter Kroto is an chemist.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.47">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.47.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.47.1.1">
<span class="ltx_p" id="A3.T17.1.47.1.1.1" style="width:433.6pt;">- Sir Harold Walter Kroto won the Nobel Prize in 1996.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.48">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.48.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.48.1.1">
<span class="ltx_p" id="A3.T17.1.48.1.1.1" style="width:433.6pt;">- Sir Harold Walter Kroto won the Nobel Prize in Chemistry.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.49">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.49.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.49.1.1">
<span class="ltx_p" id="A3.T17.1.49.1.1.1" style="width:433.6pt;">- Sir Harold Walter Kroto shared the Nobel Prize with Robert Curl and Richard Smalley.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.50">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T17.1.50.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.50.1.1">
<span class="ltx_p" id="A3.T17.1.50.1.1.1" style="width:433.6pt;">- They won the prize for their discovery of a new form of carbon, buckminsterfullerene, also known as buckyballs.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T17.1.51">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r" id="A3.T17.1.51.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T17.1.51.1.1">
<span class="ltx_p" id="A3.T17.1.51.1.1.1" style="width:433.6pt;">Please breakdown the following sentence into independent facts: <span class="ltx_text ltx_font_bold" id="A3.T17.1.51.1.1.1.1">{sentence}</span></span>
</span>
</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="A3.T18">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 18. </span>Prompt for Chinese Sentence Decomposition</figcaption>
<table class="ltx_tabular" id="A3.T18.1">
<tr class="ltx_tr" id="A3.T18.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r ltx_border_t" id="A3.T18.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.1.1.1">
<span class="ltx_p" id="A3.T18.1.1.1.1.1" style="width:433.6pt;">请将下面的句子分解为独立的陈述：王羲之是东晋时期的书法家，被誉为书圣，其代表作《兰亭序》被认为是楷书的巅峰之作。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.2.1.1">
<span class="ltx_p" id="A3.T18.1.2.1.1.1" style="width:433.6pt;">- 王羲之是东晋时期的人物。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.3.1.1">
<span class="ltx_p" id="A3.T18.1.3.1.1.1" style="width:433.6pt;">- 王羲之是书法家。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.4.1.1">
<span class="ltx_p" id="A3.T18.1.4.1.1.1" style="width:433.6pt;">- 王羲之被誉为书圣。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.5.1.1">
<span class="ltx_p" id="A3.T18.1.5.1.1.1" style="width:433.6pt;">- 王羲之的代表作是《兰亭序》。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.6.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.6.1.1">
<span class="ltx_p" id="A3.T18.1.6.1.1.1" style="width:433.6pt;">- 《兰亭序》被认为是楷书的巅峰之作。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.7.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.7.1.1">
<span class="ltx_p" id="A3.T18.1.7.1.1.1" style="width:433.6pt;">请将下面的句子分解为独立的陈述：北京住房公积金缴存人购买北京市行政区域内商品住房、经济适用房及限价商品房、公有住房及集资合作建房、危改拆迁征收回迁房，可申请提取住房公积金。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.8.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.8.1.1">
<span class="ltx_p" id="A3.T18.1.8.1.1.1" style="width:433.6pt;">- 北京住房公积金缴存人购买北京市行政区域内商品住房可申请提取住房公积金。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.9.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.9.1.1">
<span class="ltx_p" id="A3.T18.1.9.1.1.1" style="width:433.6pt;">- 北京住房公积金缴存人购买北京市行政区域内经济适用房可申请提取住房公积金。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.10.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.10.1.1">
<span class="ltx_p" id="A3.T18.1.10.1.1.1" style="width:433.6pt;">- 北京住房公积金缴存人购买北京市行政区域内限价商品房可申请提取住房公积金。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.11.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.11.1.1">
<span class="ltx_p" id="A3.T18.1.11.1.1.1" style="width:433.6pt;">- 北京住房公积金缴存人购买北京市行政区域内公有住房可申请提取住房公积金。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.12.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.12.1.1">
<span class="ltx_p" id="A3.T18.1.12.1.1.1" style="width:433.6pt;">- 北京住房公积金缴存人购买北京市行政区域内集资合作建房可申请提取住房公积金。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.13.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.13.1.1">
<span class="ltx_p" id="A3.T18.1.13.1.1.1" style="width:433.6pt;">- 北京住房公积金缴存人购买北京市行政区域内危改拆迁征收回迁房可申请提取住房公积金。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.14.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.14.1.1">
<span class="ltx_p" id="A3.T18.1.14.1.1.1" style="width:433.6pt;">请将下面的句子分解为独立的陈述：中国的茶文化有着几千年的历史，涵盖了茶叶的种植、加工、饮用习俗以及茶艺表演等方面，是中国传统文化中不可分割的一部分，也对周边国家如日本和韩国的茶文化产生了深远的影响。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.15.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.15.1.1">
<span class="ltx_p" id="A3.T18.1.15.1.1.1" style="width:433.6pt;">- 中国的茶文化有几千年的历史。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.16">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.16.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.16.1.1">
<span class="ltx_p" id="A3.T18.1.16.1.1.1" style="width:433.6pt;">- 茶文化包括茶叶种植。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.17">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.17.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.17.1.1">
<span class="ltx_p" id="A3.T18.1.17.1.1.1" style="width:433.6pt;">- 茶文化包括茶叶加工。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.18">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.18.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.18.1.1">
<span class="ltx_p" id="A3.T18.1.18.1.1.1" style="width:433.6pt;">- 茶文化包括茶叶饮用习俗。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.19">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.19.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.19.1.1">
<span class="ltx_p" id="A3.T18.1.19.1.1.1" style="width:433.6pt;">- 茶文化包括茶艺表演。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.20">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.20.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.20.1.1">
<span class="ltx_p" id="A3.T18.1.20.1.1.1" style="width:433.6pt;">- 茶文化是中国传统文化中不可分割的一部分。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.21">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.21.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.21.1.1">
<span class="ltx_p" id="A3.T18.1.21.1.1.1" style="width:433.6pt;">- 日本是中国的周边国家</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.22">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.22.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.22.1.1">
<span class="ltx_p" id="A3.T18.1.22.1.1.1" style="width:433.6pt;">- 韩国是中国的周边国家</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.23">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.23.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.23.1.1">
<span class="ltx_p" id="A3.T18.1.23.1.1.1" style="width:433.6pt;">- 中国的茶文化对日本的茶文化有深远影响。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.24">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.24.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.24.1.1">
<span class="ltx_p" id="A3.T18.1.24.1.1.1" style="width:433.6pt;">- 中国的茶文化对韩国的茶文化有深远影响。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.25">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.25.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.25.1.1">
<span class="ltx_p" id="A3.T18.1.25.1.1.1" style="width:433.6pt;">请将下面的句子分解为独立的陈述：布洛芬属于非甾体类解热镇痛药，它通过抑制前列腺素的合成从而发挥解热、镇痛的作用，从而达到使发热者退热、缓解疼痛带来的不适感等作用。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.26">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.26.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.26.1.1">
<span class="ltx_p" id="A3.T18.1.26.1.1.1" style="width:433.6pt;">- 布洛芬是非甾体类解热镇痛药。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.27">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.27.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.27.1.1">
<span class="ltx_p" id="A3.T18.1.27.1.1.1" style="width:433.6pt;">- 布洛芬通过抑制前列腺素的合成来发挥作用。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.28">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.28.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.28.1.1">
<span class="ltx_p" id="A3.T18.1.28.1.1.1" style="width:433.6pt;">- 布洛芬具有解热的作用。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.29">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.29.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.29.1.1">
<span class="ltx_p" id="A3.T18.1.29.1.1.1" style="width:433.6pt;">- 布洛芬具有镇痛的作用。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.30">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.30.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.30.1.1">
<span class="ltx_p" id="A3.T18.1.30.1.1.1" style="width:433.6pt;">- 布洛芬能帮助发热者退热。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.31">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.31.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.31.1.1">
<span class="ltx_p" id="A3.T18.1.31.1.1.1" style="width:433.6pt;">- 布洛芬能缓解疼痛带来的不适感。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.32">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.32.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.32.1.1">
<span class="ltx_p" id="A3.T18.1.32.1.1.1" style="width:433.6pt;">请将下面的句子分解为独立的陈述：屠呦呦是一位杰出的中国药理学家，以其发现抗疟疾药物青蒿素而闻名于世，这一发现源于对中国古代药书的深入研究，对全球抗击疟疾的努力作出了历史性的贡献，她的工作不仅挽救了无数生命，还因此荣获2015年诺贝尔生理学或医学奖。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.33">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.33.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.33.1.1">
<span class="ltx_p" id="A3.T18.1.33.1.1.1" style="width:433.6pt;">- 屠呦呦是杰出的。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.34">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.34.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.34.1.1">
<span class="ltx_p" id="A3.T18.1.34.1.1.1" style="width:433.6pt;">- 屠呦呦是中国人。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.35">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.35.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.35.1.1">
<span class="ltx_p" id="A3.T18.1.35.1.1.1" style="width:433.6pt;">- 屠呦呦是药理学家。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.36">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.36.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.36.1.1">
<span class="ltx_p" id="A3.T18.1.36.1.1.1" style="width:433.6pt;">- 屠呦呦因发现青蒿素而成为世界闻名。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.37">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.37.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.37.1.1">
<span class="ltx_p" id="A3.T18.1.37.1.1.1" style="width:433.6pt;">- 青蒿素是抗疟疾药物。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.38">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.38.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.38.1.1">
<span class="ltx_p" id="A3.T18.1.38.1.1.1" style="width:433.6pt;">- 青蒿素的发现是基于对中国古代药书的研究。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.39">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.39.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.39.1.1">
<span class="ltx_p" id="A3.T18.1.39.1.1.1" style="width:433.6pt;">- 屠呦呦的研究对全球抗击疟疾做出了重大贡献。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.40">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.40.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.40.1.1">
<span class="ltx_p" id="A3.T18.1.40.1.1.1" style="width:433.6pt;">- 青蒿素的发现挽救了无数人的生命。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.41">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.41.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.41.1.1">
<span class="ltx_p" id="A3.T18.1.41.1.1.1" style="width:433.6pt;">- 屠呦呦获得了2015年诺贝尔生理学或医学奖。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.42">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.42.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.42.1.1">
<span class="ltx_p" id="A3.T18.1.42.1.1.1" style="width:433.6pt;">请将下面的句子分解为独立的陈述：中国的故宫是明清两代的皇宫，占地超过72万平方米，包含了约8000间房屋，拥有丰富的历史文物，每年吸引数百万游客前来参观，是世界上现存规模最大、保存最为完整的木质结构古建筑群之一。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.43">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.43.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.43.1.1">
<span class="ltx_p" id="A3.T18.1.43.1.1.1" style="width:433.6pt;">- 故宫是中国的。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.44">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.44.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.44.1.1">
<span class="ltx_p" id="A3.T18.1.44.1.1.1" style="width:433.6pt;">- 故宫曾是明代的皇宫。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.45">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.45.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.45.1.1">
<span class="ltx_p" id="A3.T18.1.45.1.1.1" style="width:433.6pt;">- 故宫曾是清代的皇宫。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.46">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.46.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.46.1.1">
<span class="ltx_p" id="A3.T18.1.46.1.1.1" style="width:433.6pt;">- 故宫占地超过72万平方米。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.47">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.47.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.47.1.1">
<span class="ltx_p" id="A3.T18.1.47.1.1.1" style="width:433.6pt;">- 故宫包含约8000间房屋。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.48">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.48.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.48.1.1">
<span class="ltx_p" id="A3.T18.1.48.1.1.1" style="width:433.6pt;">- 故宫内拥有丰富的历史文物。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.49">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.49.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.49.1.1">
<span class="ltx_p" id="A3.T18.1.49.1.1.1" style="width:433.6pt;">- 每年有数百万游客参观故宫。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.50">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.50.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.50.1.1">
<span class="ltx_p" id="A3.T18.1.50.1.1.1" style="width:433.6pt;">- 故宫是世界上最大的木质结构古建筑群之一。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.51">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.51.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.51.1.1">
<span class="ltx_p" id="A3.T18.1.51.1.1.1" style="width:433.6pt;">- 故宫的保存状况非常完整。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.52">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.52.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.52.1.1">
<span class="ltx_p" id="A3.T18.1.52.1.1.1" style="width:433.6pt;">请将下面的句子分解为独立的陈述：袁隆平，被称为“杂交水稻之父”，是中国著名的农学家，其领导的科研团队成功开发出了第一代杂交水稻，大幅提高了水稻产量，他的研究成果被广泛应用于亚洲、非洲等多个国家和地区，极大地缓解了这些地区的饥饿问题，袁隆平本人因此获得了包括“世界粮食奖”在内的众多国际荣誉，被世界各国誉为人类粮食生产的英雄。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.53">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.53.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.53.1.1">
<span class="ltx_p" id="A3.T18.1.53.1.1.1" style="width:433.6pt;">- 袁隆平被称为“杂交水稻之父”。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.54">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.54.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.54.1.1">
<span class="ltx_p" id="A3.T18.1.54.1.1.1" style="width:433.6pt;">- 袁隆平是中国人。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.55">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.55.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.55.1.1">
<span class="ltx_p" id="A3.T18.1.55.1.1.1" style="width:433.6pt;">- 袁隆平是著名的农学家。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.56">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.56.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.56.1.1">
<span class="ltx_p" id="A3.T18.1.56.1.1.1" style="width:433.6pt;">- 袁隆平领导的科研团队开发出了第一代杂交水稻。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.57">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.57.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.57.1.1">
<span class="ltx_p" id="A3.T18.1.57.1.1.1" style="width:433.6pt;">- 杂交水稻的开发显著提升了水稻产量。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.58">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.58.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.58.1.1">
<span class="ltx_p" id="A3.T18.1.58.1.1.1" style="width:433.6pt;">- 杂交水稻技术被应用于亚洲多个国家和地区。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.59">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.59.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.59.1.1">
<span class="ltx_p" id="A3.T18.1.59.1.1.1" style="width:433.6pt;">- 杂交水稻技术被应用于非洲多个国家和地区。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.60">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.60.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.60.1.1">
<span class="ltx_p" id="A3.T18.1.60.1.1.1" style="width:433.6pt;">- 袁隆平的工作帮助缓解了世界饥饿问题。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.61">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.61.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.61.1.1">
<span class="ltx_p" id="A3.T18.1.61.1.1.1" style="width:433.6pt;">- 袁隆平获得了包括“世界粮食奖”在内的多项国际荣誉。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.62">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.62.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.62.1.1">
<span class="ltx_p" id="A3.T18.1.62.1.1.1" style="width:433.6pt;">- 袁隆平被世界各国誉为人类粮食生产的英雄。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.63">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.63.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.63.1.1">
<span class="ltx_p" id="A3.T18.1.63.1.1.1" style="width:433.6pt;">请将下面的句子分解为独立的陈述：敦煌是中国甘肃省的一个历史名城，丝绸之路的重要节点，以其保存下来的一系列壁画和雕塑闻名于世，其中最著名的莫过于敦煌莫高窟，这些艺术作品不仅展示了古代丝绸之路的繁荣，也反映了不同宗教文化的交融，敦煌成为了研究中国古代历史、宗教和文化交流的宝贵资料。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.64">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.64.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.64.1.1">
<span class="ltx_p" id="A3.T18.1.64.1.1.1" style="width:433.6pt;">- 敦煌在中国甘肃省。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.65">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.65.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.65.1.1">
<span class="ltx_p" id="A3.T18.1.65.1.1.1" style="width:433.6pt;">- 敦煌是历史名城。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.66">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.66.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.66.1.1">
<span class="ltx_p" id="A3.T18.1.66.1.1.1" style="width:433.6pt;">- 敦煌是丝绸之路的重要节点。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.67">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.67.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.67.1.1">
<span class="ltx_p" id="A3.T18.1.67.1.1.1" style="width:433.6pt;">- 敦煌以壁画闻名于世。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.68">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.68.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.68.1.1">
<span class="ltx_p" id="A3.T18.1.68.1.1.1" style="width:433.6pt;">- 敦煌以雕塑闻名于世。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.69">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.69.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.69.1.1">
<span class="ltx_p" id="A3.T18.1.69.1.1.1" style="width:433.6pt;">- 敦煌莫高窟是敦煌最著名的。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.70">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.70.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.70.1.1">
<span class="ltx_p" id="A3.T18.1.70.1.1.1" style="width:433.6pt;">- 莫高窟的艺术作品展示了古代丝绸之路的繁荣。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.71">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.71.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.71.1.1">
<span class="ltx_p" id="A3.T18.1.71.1.1.1" style="width:433.6pt;">- 敦煌艺术反映了不同宗教文化的交融。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.72">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.72.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.72.1.1">
<span class="ltx_p" id="A3.T18.1.72.1.1.1" style="width:433.6pt;">- 敦煌是研究中国古代历史的宝贵资料。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.73">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.73.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.73.1.1">
<span class="ltx_p" id="A3.T18.1.73.1.1.1" style="width:433.6pt;">- 敦煌是研究中国古代宗教的宝贵资料。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.74">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_l ltx_border_r" id="A3.T18.1.74.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.74.1.1">
<span class="ltx_p" id="A3.T18.1.74.1.1.1" style="width:433.6pt;">- 敦煌是研究中国古代文化交流的宝贵资料。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A3.T18.1.75">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_l ltx_border_r" id="A3.T18.1.75.1">
<span class="ltx_inline-block ltx_align_top" id="A3.T18.1.75.1.1">
<span class="ltx_p" id="A3.T18.1.75.1.1.1" style="width:433.6pt;">请将下面的句子分解为独立的陈述：<span class="ltx_text ltx_font_bold" id="A3.T18.1.75.1.1.1.1">{sentence}</span></span>
</span>
</td>
</tr>
</table>
</figure>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Dataset Modification Samples</h2>
<div class="ltx_para" id="A4.p1">
<p class="ltx_p" id="A4.p1.1">We samples query, reference, and answers from WebGLM-QA (English-only) and WebCPM (Chinese-only) and compare them with the answer constructed using our outline-enhanced technique. Answers in our dataset has organization pattern, the outline and the answer. It is clear that our answers are longer and have a better logic structure.</p>
</div>
<figure class="ltx_table" id="A4.T19">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 19. </span>Examples for Dataset Modification</figcaption>
<table class="ltx_tabular" id="A4.T19.1">
<tr class="ltx_tr" id="A4.T19.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.1.1.1">
<span class="ltx_p" id="A4.T19.1.1.1.1.1" style="width:21.7pt;"><span class="ltx_text ltx_font_bold" id="A4.T19.1.1.1.1.1.1">Query</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.1.2.1">
<span class="ltx_p" id="A4.T19.1.1.2.1.1" style="width:108.4pt;"><span class="ltx_text ltx_font_bold" id="A4.T19.1.1.2.1.1.1">References</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.1.3.1">
<span class="ltx_p" id="A4.T19.1.1.3.1.1" style="width:108.4pt;"><span class="ltx_text ltx_font_bold" id="A4.T19.1.1.3.1.1.1">Answer in Original Dataset</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.1.4.1">
<span class="ltx_p" id="A4.T19.1.1.4.1.1" style="width:151.8pt;"><span class="ltx_text ltx_font_bold" id="A4.T19.1.1.4.1.1.1">Answer in Our Dataset</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T19.1.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.2.1.1">
<span class="ltx_p" id="A4.T19.1.2.1.1.1" style="width:21.7pt;">why aren’t all tin cans ring pull??</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.2.2">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.2.2.1">
<span class="ltx_p" id="A4.T19.1.2.2.1.1" style="width:108.4pt;">[1]Thanks to @alanwood01, we think we’ve been using ring pulls on tin cans in completely the wrong way. But what do you think?</span>
<span class="ltx_p" id="A4.T19.1.2.2.1.2">[2]Thanks to @alanwood01, we think we’ve been using ring pulls on tin cans in completely the wrong way. But what do you think?</span>
<span class="ltx_p" id="A4.T19.1.2.2.1.3">[3]They’re not 100% ideal in all circumstances. Soup cans with ring pulls must have much thinner lids to work, which means the lids are more vulnerable to damage. As an educated guess, I would imagine that the ring pull lids cost slightly more to manufacture, too, which isn’t at all a small consideration when you’re talking about something as low-margin as most groceries.</span>
<span class="ltx_p" id="A4.T19.1.2.2.1.4">[4]Ring pulls are expensive compared to the standard lid. It’s fractions of a penny, but it adds up when you manufacture a few million units in cans a day.</span>
<span class="ltx_p" id="A4.T19.1.2.2.1.5">[5]“In my civilized European country all cans are ring-pull, even the ones with tuna. OP must be a primitive American, where you have to use stupid can openers for everything.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.2.3">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.2.3.1">
<span class="ltx_p" id="A4.T19.1.2.3.1.1" style="width:108.4pt;">Ring pull cans are not used universally because they are more expensive to manufacture compared to the standard lid[3], and the soup can lids must be thinner to work, making them more vulnerable to damage[3]. In addition, the cost difference adds up when manufacturing a few million cans a day[4], making the ring pull lids less cost-effective.[3]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.2.4">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.2.4.1">
<span class="ltx_p" id="A4.T19.1.2.4.1.1" style="width:151.8pt;">[Structure]:</span>
<span class="ltx_p" id="A4.T19.1.2.4.1.2">Cause-Effect</span>
<span class="ltx_p" id="A4.T19.1.2.4.1.3">[Outline]:</span>
<span class="ltx_p" id="A4.T19.1.2.4.1.4">1. Manufacturing cost considerations (based on [3] and [4])</span>
<span class="ltx_p" id="A4.T19.1.2.4.1.5">2. Practicality in terms of product safety and integrity (based on [3])</span>
<span class="ltx_p" id="A4.T19.1.2.4.1.6">[Answer]:</span>
<span class="ltx_p" id="A4.T19.1.2.4.1.7">The absence of ring pulls on all tin cans can be attributed primarily to two factors: cost concerns and practicality related to product safety.</span>
<span class="ltx_p" id="A4.T19.1.2.4.1.8">### Manufacturing Cost Considerations</span>
<span class="ltx_p" id="A4.T19.1.2.4.1.9">Ring pulls, while convenient for consumers, are more expensive to produce than standard lids. This cost difference, although seemingly minor on a per-unit basis, becomes significant when considering the scale of production. Manufacturers often produce millions of cans daily, and even fractions of a penny per can add up to a considerable amount. As groceries are generally low-margin products, companies are inclined to minimize production costs wherever possible to maintain profitability.</span>
<span class="ltx_p" id="A4.T19.1.2.4.1.10">### Practicality for Product Safety</span>
<span class="ltx_p" id="A4.T19.1.2.4.1.11">In addition to cost implications, the feasibility of using ring pulls on certain products is limited by the need for thinner lids. This requirement for a thinner lid makes the cans more vulnerable to damage, posing a risk to the integrity of the product inside. Soup cans, for example, must maintain their structure to ensure safe storage and transportation. The decision to forgo ring pulls on some tin cans is a measure to prevent potential damage and the associated waste or customer dissatisfaction that could result from compromised product packaging.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T19.1.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.3.1.1">
<span class="ltx_p" id="A4.T19.1.3.1.1.1" style="width:21.7pt;">Why don’t surfers wear life vests and helmets?</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.3.2">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.3.2.1">
<span class="ltx_p" id="A4.T19.1.3.2.1.1" style="width:108.4pt;">[1]One of the major reasons surfers don’t use life vests is that when they are in the water they are strapped to a giant floatation device, their surfboard.</span>
<span class="ltx_p" id="A4.T19.1.3.2.1.2">[2]Other than the fact that they look bad, the main reason why surfers don’t wear life jackets is that they get in the way. With a PFD on, it will be harder to paddle and duck dive. Furthermore, surfers are literally standing on a big PFD – their surfboards – which are attached to their legs with a rope.</span>
<span class="ltx_p" id="A4.T19.1.3.2.1.3">[3]Let’s be honest here, this is probably the #1 reasons apart from the “we don’t really need it” reason that surfers don’t wear life jackets.</span>
<span class="ltx_p" id="A4.T19.1.3.2.1.4">[4]Now, arguably the main reason why most surfers don’t wear life jackets is that they get in the way both in terms of fun and, ironically, in the way of safety as well.</span>
<span class="ltx_p" id="A4.T19.1.3.2.1.5">[5]While surfers don’t wear life vests (there are specific requirements for a device to be considered life saving), it’s not a surprise that big wave surfers wear special inflatable PFDs.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.3.3">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.3.3.1">
<span class="ltx_p" id="A4.T19.1.3.3.1.1" style="width:108.4pt;">Surfers generally don’t wear life vests and helmets because they are strapped to a giant floatation device, their surfboard[1], and life jackets get in the way of paddling and duck diving[2][4]. Furthermore, surfers don’t need to wear life jackets because they are standing on a big PFD - their surfboards - which are attached to their legs with a rope[2]. For bigger waves, some surfers wear special inflatable PFDs[5].</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.3.4">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.3.4.1">
<span class="ltx_p" id="A4.T19.1.3.4.1.1" style="width:151.8pt;">[Structure]:</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.2">Comparative</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.3">[Outline]:</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.4">1. Surfboard as a flotation device (based on [1])</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.5">2. Hindrance to movement and safety (based on [2] and [4])</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.6">3. Aesthetic and traditional reasons (based on [3])</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.7">4. Exception for big wave surfers (based on [5])</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.8">[Answer]:</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.9">Surfers typically eschew traditional life vests and helmets due to a combination of practical, safety, and cultural reasons, as well as the nature of their equipment.</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.10">### Surfboard as a Flotation Device</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.11">A primary reason surfers don’t utilize life vests is their surfboard, which essentially acts as a large flotation device. Since surfboards are buoyant and tethered to the surfer by a leash, they provide significant flotation support without the need for an additional life vest.</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.12">### Hindrance to Movement and Safety</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.13">Life vests are generally avoided because they can interfere with the surfer’s ability to move freely. The requirement to paddle effectively and perform duck dives — a maneuver used to dive beneath oncoming waves — is hampered by the bulk of a personal flotation device (PFD). Ironically, rather than increasing safety, a life vest can actually present a hazard by restricting mobility in the water.</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.14">### Aesthetic and Traditional Reasons</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.15">The avoidance of life vests is also influenced by aesthetics and tradition within the surfing community. Surfers often prefer the freedom of not wearing what may be considered unattractive gear, adhering to a longstanding cultural norm of surfing without excessive equipment.</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.16">### Exception for Big Wave Surfers</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.17">While standard practice is to not wear life vests, there is an exception for big wave surfers, who may use specialized inflatable PFDs. These devices are designed with the specific risks of big wave surfing in mind, balancing the need for flotation with the necessity of not hindering movement.</span>
<span class="ltx_p" id="A4.T19.1.3.4.1.18">In conclusion, the decision not to wear life vests and helmets while surfing is largely based on the surfboard’s role as a flotation aid, the importance of unhindered movement for both performance and safety, cultural factors regarding appearance, and exceptions made for the unique conditions faced by big wave surfers.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T19.1.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.4.1.1">
<span class="ltx_p" id="A4.T19.1.4.1.1.1" style="width:21.7pt;">.NET是什么？</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.4.2">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.4.2.1">
<span class="ltx_p" id="A4.T19.1.4.2.1.1" style="width:108.4pt;">[1].NET是一种用于构建多种应用的免费开源开发平台，可以使用多种语言，编辑器和库开发Web应用、Web API和微服务、云中的无服务器函数、云原生应用、移动应用、桌面应用、Windows WPF、Windows窗体、通用 Windows平台 (UWP)、游戏、物联网 (IoT)、机器学习、控制台应用、Windows服务。.NET类库在不同应用和应用类型中共享功能，无论构建哪种类型的应用，代码和项目文件看起来都一样，可以访问每个应用的相同运行时、API和语言功能。</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.4.3">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.4.3.1">
<span class="ltx_p" id="A4.T19.1.4.3.1.1" style="width:108.4pt;">.NET是一种用于构建多种应用的免费开源开发平台，可以使用多种语言，编辑器和库开发Web应用、Web API和微服务、云中的无服务器函数、云原生应用、移动应用、桌面应用、Windows WPF、Windows窗体、通用 Windows平台 (UWP)、游戏、物联网 (IoT)、机器学习、控制台应用、Windows服务。.NET类库在不同应用和应用类型中共享功能，无论构建哪种类型的应用，代码和项目文件看起来都一样，可以访问每个应用的相同运行时、API和语言功能。</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A4.T19.1.4.4">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.4.4.1">
<span class="ltx_p" id="A4.T19.1.4.4.1.1" style="width:151.8pt;">【结构】：</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.2">并列</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.3">【提纲】：</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.4">1. .NET的定义与性质（仅使用[1]回答）</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.5">2. .NET的开源特性（仅使用[1]回答）</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.6">3. .NET的应用领域（仅使用[1]回答）</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.7">4. .NET的编程语言支持与API（仅使用[1]回答）</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.8">【回答】：</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.9">.NET是一种多功能的开发平台，旨在支持开发人员构建各种类型的应用程序。它具有多种特点和功能，下面进行详细介绍：</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.10">1. .NET的定义与性质</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.11">.NET是一个免费且开源的开发平台，它提供了一套工具和资源，使开发者能够使用多种编程语言、编辑器和库来构建应用程序。</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.12">2. .NET的开源特性</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.13">作为一个开源平台，.NET允许开发者自由地访问其源代码，共同贡献和改进平台的功能和性能。</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.14">3. .NET的应用领域</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.15">该平台适用于多种应用程序的开发，包括但不限于Web应用程序、Web API和微服务、无服务器函数、云原生应用、移动应用、桌面应用、游戏、物联网 (IoT) 设备、机器学习项目以及控制台应用程序等。</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.16">4. .NET的编程语言支持与API</span>
<span class="ltx_p" id="A4.T19.1.4.4.1.17">.NET支持多种编程语言，这意味着开发者可以根据自己的偏好选择合适的语言来构建项目。此外，.NET提供了丰富的API和类库来促进不同应用程序之间功能的共享，无论是哪种类型的应用，其代码和项目文件在结构上都保持一致性，开发者可以访问相同的运行时环境、API和语言功能，这极大地便利了开发过程和维护工作。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A4.T19.1.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_t" id="A4.T19.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.5.1.1">
<span class="ltx_p" id="A4.T19.1.5.1.1.1" style="width:21.7pt;">狗如何理解人类语言？</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_t" id="A4.T19.1.5.2">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.5.2.1">
<span class="ltx_p" id="A4.T19.1.5.2.1.1" style="width:108.4pt;">[1]狗狗对于铲屎官的语言本身会进行思考和理解，但也会观察铲屎官说话时的表情和动作来帮助解读，这就说明咱们低估了狗狗的学习能力。
而对于狗狗能听懂人话还有另一个解释，那就是条件反射。不错，就拿上面提到的给狗狗起名字以及一些常用的指令，通过反复记忆狗狗就能形成条件反射记住这些词汇的含义。
每种生物都有属于自己的那套语言功能系统，人与狗之间的语言系统明显是不同的，那么想要做到完全了解彼此的</span>
<span class="ltx_p" id="A4.T19.1.5.2.1.2">[2]话语肯定是不太可能的。
不过虽然狗狗不能完全明白铲屎官的对话，却可以通过情绪来辨别话语的意思，说到底这也是狗狗经过数千年的驯化后与人类达成的默契，它们并不只是依靠条件反射来读懂铲屎官，更多的时候它们也在思考，也在努力走进铲屎官的世界。</span>
<span class="ltx_p" id="A4.T19.1.5.2.1.3">[3]虽然不同犬类对理解人类语言的水平和动机会有不同，但当它们听到学过的单词时，脑部都会产生神经反应而不只是巴甫洛夫的条件反射。本次研究的结果不能说明语言是和狗沟通最有效的方式，真正有效的其实是犬类的神经奖励机制，才能让训狗更加有效。而人类更倾向于通过语言来训练狗，这是从人类的认知角度出发得到的主观性常识，实际上对于犬类来说视觉感官才更加有效。</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_t" id="A4.T19.1.5.3">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.5.3.1">
<span class="ltx_p" id="A4.T19.1.5.3.1.1" style="width:108.4pt;">狗对人类语言的理解主要从两个角度来说，一是狗听到学过的单词时，脑部都会产生神经反应而不只是巴甫洛夫的条件反射。狗狗对于人类的语言本身会进行思考和理解，但也会观察人类说话时的表情和动作来帮助解读。二是条件反射，通过反复记忆狗狗就能形成条件反射记住这些词汇的含义。</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_t" id="A4.T19.1.5.4">
<span class="ltx_inline-block ltx_align_top" id="A4.T19.1.5.4.1">
<span class="ltx_p" id="A4.T19.1.5.4.1.1" style="width:151.8pt;">【结构】：</span>
<span class="ltx_p" id="A4.T19.1.5.4.1.2">因果</span>
<span class="ltx_p" id="A4.T19.1.5.4.1.3">【提纲】：</span>
<span class="ltx_p" id="A4.T19.1.5.4.1.4">1. 狗狗的语言理解包括语言和非语言因素（仅使用[1]回答）</span>
<span class="ltx_p" id="A4.T19.1.5.4.1.5">2. 狗狗对于人类话语的理解与情绪辨识相关（仅使用[2]回答）</span>
<span class="ltx_p" id="A4.T19.1.5.4.1.6">3. 狗狗理解人类语言的神经机制（仅使用[3]回答）</span>
<span class="ltx_p" id="A4.T19.1.5.4.1.7">【回答】：</span>
<span class="ltx_p" id="A4.T19.1.5.4.1.8">狗狗理解人类语言的过程是一个复杂的认知活动，涉及到多种因素和机制。</span>
<span class="ltx_p" id="A4.T19.1.5.4.1.9">首先，狗狗不仅仅是通过听觉接受人类的语言，它们还会结合人类的表情和动作来辅助理解。这表明狗狗具备一定的学习能力，能够在一定程度上思考和理解它们的主人所表达的内容。同时，狗狗也会通过条件反射机制来记住和响应主人的命令和名字。</span>
<span class="ltx_p" id="A4.T19.1.5.4.1.10">其次，狗狗能够通过感知人类的情绪来辨别话语的意义，这是数千年驯化过程中形成的一种与人类的沟通默契。在和人类的互动过程中，它们并不完全依赖条件反射，而是通过观察和思考来更深入地理解人类的世界。</span>
<span class="ltx_p" id="A4.T19.1.5.4.1.11">最后，科学研究表明，狗狗在听到熟悉的单词时会在大脑中产生神经反应，这不仅仅是简单的条件反射。有效的犬类训练实际上和它们的神经奖励机制有关，而非单纯的语言训练。人类可能更倾向于用语言来训练狗，但从狗的认知角度看，视觉感官可能是更有效的沟通方式。</span>
<span class="ltx_p" id="A4.T19.1.5.4.1.12">综上所述，狗狗理解人类语言的能力是多方面的，涉及到语言的听觉处理、非语言的情绪和肢体语言认知，以及大脑的神经奖励机制。这些因素共同作用，让狗狗能够更好地理解和响应人类的指令和情感。</span>
</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_appendix" id="A5">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Generation Improvement Samples</h2>
<div class="ltx_para" id="A5.p1">
<p class="ltx_p" id="A5.p1.1">We provide examples from the test set of WebGLM-QA (in English) and WebCPM (in Chinese). For each test set, we compare the open sourced method with best performance on that dataset with our FoRAG-L 7B.</p>
</div>
<figure class="ltx_table" id="A5.T20">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 20. </span>Examples for Generation Improvement</figcaption>
<table class="ltx_tabular" id="A5.T20.1">
<tr class="ltx_tr" id="A5.T20.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.1.1.1">
<span class="ltx_p" id="A5.T20.1.1.1.1.1" style="width:21.7pt;"><span class="ltx_text ltx_font_bold" id="A5.T20.1.1.1.1.1.1">Query</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.1.2.1">
<span class="ltx_p" id="A5.T20.1.1.2.1.1" style="width:108.4pt;"><span class="ltx_text ltx_font_bold" id="A5.T20.1.1.2.1.1.1">References</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.1.3.1">
<span class="ltx_p" id="A5.T20.1.1.3.1.1" style="width:108.4pt;"><span class="ltx_text ltx_font_bold" id="A5.T20.1.1.3.1.1.1">Answer from SOTA Model</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.1.4.1">
<span class="ltx_p" id="A5.T20.1.1.4.1.1" style="width:151.8pt;"><span class="ltx_text ltx_font_bold" id="A5.T20.1.1.4.1.1.1">Answer from Our Best Model</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A5.T20.1.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.2.1.1">
<span class="ltx_p" id="A5.T20.1.2.1.1.1" style="width:21.7pt;">IPod和磁带播放机的工作原理？</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.2.2">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.2.2.1">
<span class="ltx_p" id="A5.T20.1.2.2.1.1" style="width:108.4pt;">[1]ipod video的芯片是WM8758，touch的是WM8758BG，似乎是多了两个字母后缀。中间两个是闪存片，右边的是微处理器。
在MP3播放器中，解码芯片将存储在闪存或者硬盘里面的数据格式歌曲解码成数字信号，再通过模拟输出电路转化为模拟信号，并通过耳机播放出来”
这个数模转换的过程，和“内核”是无关的，“内核”只输出数字信号而已，很显然“解码芯片”并不是三星、西格玛、portal player之类的“内核” 。</span>
<span class="ltx_p" id="A5.T20.1.2.2.1.2">[2]在音频领域，磁带（以小型磁带的形式）是分发音乐的流行方式。
磁带本身实际上非常简单。它由薄的塑料基材组成，并与该基底粘合，是一种氧化铁粉末涂层。氧化物通常与粘合剂混合以将其附着到塑料上，并且还包括某种干润滑剂以避免磨损记录器。
氧化铁（FeO）是我们常见的红锈。氧化铁（Fe 2 O 3）是铁的另一种氧化物。磁赤铁矿或氧化铁是该物质的通用名称。
这种氧化物是一种铁磁性材料，这意味着如果将其暴露在磁场中，它会被磁场永久磁化。这种能力赋予磁带两个最吸引人的功能：
您可以立即录制任何想要的内容，录像带会记住您录制的内容，以便随时播放。
您可以随时擦除磁带并在其上记录其他内容。</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.2.3">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.2.3.1">
<span class="ltx_p" id="A5.T20.1.2.3.1.1" style="width:108.4pt;">IPod和磁带播放机的工作原理是通过解码芯片将存储在闪存或者硬盘里面的数据格式歌曲解码成数字信号，再通过模拟输出电路转化为模拟信号，并通过耳机播放出来。这种数模转换的过程，和“内核”是无关的，“内核”只输出数字信号而已，很显然“解码芯片”并不是三星、西格玛、portal player之类的“内核” 。此外，磁带本身实际上非常简单，它由薄的塑料基材组成，并与该基底粘合，是一种氧化铁粉末涂层。氧化物通常与粘合剂混合以将其附着到塑料上，并且还包括某种干润滑剂以避免磨损记录器。这种氧化物是一种铁磁性材料，这意味着如果将其暴露在磁场中，它会被磁场永久磁化。这种能力赋予磁带两个最吸引人的功能：您可以立即录制任何想要的内容，录像带会记住您录制的内容，以便随时播放；您可以随时擦除磁带并在其上记录其他内容。这两个功能使磁带和磁盘如此受欢迎，它们是即时的，并且很容易更改。</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.2.4">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.2.4.1">
<span class="ltx_p" id="A5.T20.1.2.4.1.1" style="width:151.8pt;">【结构】：</span>
<span class="ltx_p" id="A5.T20.1.2.4.1.2">并列</span>
<span class="ltx_p" id="A5.T20.1.2.4.1.3">【提纲】：</span>
<span class="ltx_p" id="A5.T20.1.2.4.1.4">1. IPod和磁带播放机的芯片功能（仅使用[1]回答）</span>
<span class="ltx_p" id="A5.T20.1.2.4.1.5">2. 磁带播放机的物理结构（仅使用[2]回答）</span>
<span class="ltx_p" id="A5.T20.1.2.4.1.6">【回答】：</span>
<span class="ltx_p" id="A5.T20.1.2.4.1.7">IPod和磁带播放机的工作原理涉及到芯片的解码功能以及磁带的物理结构。</span>
<span class="ltx_p" id="A5.T20.1.2.4.1.8">### IPod和磁带播放机的芯片功能</span>
<span class="ltx_p" id="A5.T20.1.2.4.1.9">在IPod播放机上，芯片的功能是解码音频数据。IPod Video使用的是WM8758芯片，而Touch版本则使用WM8758BG版本，这两者之间的区别在于闪存和处理器的组合。解码芯片负责将音乐文件，以及其他数据格式的歌曲解码成数字信号。这一过程涉及到模拟输出电路的转换，并通过耳机播放出来。这个数字到模拟转换过程并不涉及芯片本身的内核功能，而是额外的解码过程。</span>
<span class="ltx_p" id="A5.T20.1.2.4.1.10">### 磁带播放机的物理结构</span>
<span class="ltx_p" id="A5.T20.1.2.4.1.11">磁带播放机的物理结构相对简单。磁带是由塑料基材组成，覆盖有一层氧化铁粉末涂层，这是一种铁磁性材料。在磁场中，氧化铁会被永久磁化，这是磁带记录音乐和视频的原理。磁带可以被立即录制和擦除内容，从而允许用户快速更改媒体内容。这种即时性和容易更改的特点是磁带播放机受欢迎的原因之一。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A5.T20.1.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.3.1.1">
<span class="ltx_p" id="A5.T20.1.3.1.1.1" style="width:21.7pt;">什么限制了地球上生物的大小？</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.3.2">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.3.2.1">
<span class="ltx_p" id="A5.T20.1.3.2.1.1" style="width:108.4pt;">[1]至少以地球的标准看，限制动物体型的因素主要有三个：
1、气温；
2、大气含氧量。
3、动物自身生理构造因素：主要是呼吸系统、循环系统的效能会对体型有很大限制。
气温其实主要对植物有重大影响，气温高，植物生长快，动物会有更多食物，容易长得更大。
根据地质历史温度与巨型动物的关系的研究表明，总的来说气温高有利于动物体型增大（虽然没有大气含氧量的影响大）。
大气含氧量和动物自身呼吸/循环系统效能决定了动物新陈代谢的速率。
地球历史上，气温高、大气含氧量高的时代，动物体型也普遍偏大，例如古生代某些时期的巨型昆虫等等，现代地球已经养不活那样大的昆虫了。</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.3.3">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.3.3.1">
<span class="ltx_p" id="A5.T20.1.3.3.1.1" style="width:108.4pt;">地球上生物的大小受到气温、大气含氧量和动物自身生理构造因素的限制。首先，气温对植物有重大影响，气温高，植物生长快，动物会有更多食物，容易长得更大；其次，大气含氧量决定了动物新陈代谢的速率，而动物自身呼吸/循环系统效能也会对体型有很大限制；最后，根据地质历史温度与巨型动物的关系的研究表明，总的来说气温高有利于动物体型增大（虽然没有大气含氧量的影响大）。因此，气温、大气含氧量和动物自身生理构造因素共同限制了地球上生物的大小。</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.3.4">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.3.4.1">
<span class="ltx_p" id="A5.T20.1.3.4.1.1" style="width:151.8pt;">【结构】：
总分总</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.2">【提纲】：</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.3">1. 气温对生物体型的影响（仅使用[1]回答）</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.4">2. 大气含氧量对生物体型的影响（仅使用[1]回答）</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.5">3. 生理构造因素对生物体型的影响（仅使用[1]回答）</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.6">【回答】：</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.7">地球上生物的大小受到多种因素的限制，其中气温、大气含氧量和生物自身的生理构造因素是主要的限制因素。</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.8">### 气温对生物体型的影响</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.9">气温是影响生物体型的重要因素，尤其对植物有着显著的影响。当气温较高时，植物能更快地生长，这意味着动物就有了更多的食物来源，从而可能长得更大。地球历史上，高温时期通常伴随着大型生物的出现和繁衍。</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.10">### 大气含氧量对生物体型的影响</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.11">大气中的含氧量也对生物的体型有重要影响。高大气含氧量意味着生物能够更有效地进行新陈代谢，这会加速生物体型的增大。古生代某些时期的地球环境具有较高的气温和大气含氧量，这导致了当时出现了巨型生物的现象。而随着地球气候的温和化，现代地球上已经无法养活像古生代的巨型昆虫了。</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.12">### 生理构造因素对生物体型的影响</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.13">生物的自身生理构造，如呼吸系统和循环系统的效能，也会对其体型有很大的限制。一个有效的呼吸系统和循环系统能够提供足够的氧气和营养物质，以支持生物体型的增长。</span>
<span class="ltx_p" id="A5.T20.1.3.4.1.14">综上所述，气温、大气含氧量和生物自身的生理构造因素共同限制了地球上生物的大小。气温对植物生长速率有着直接的影响，而大气含氧量和生物的生理系统效能则影响了新陈代谢速率，这些因素共同决定了生物体型的最大范围。</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A5.T20.1.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.4.1.1">
<span class="ltx_p" id="A5.T20.1.4.1.1.1" style="width:21.7pt;">Why do iced coffee drinks have more caffeine than hot ones?</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.4.2">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.4.2.1">
<span class="ltx_p" id="A5.T20.1.4.2.1.1" style="width:108.4pt;">[1]While it’s hard to pin down the precise amount of caffeine in any given iced coffee, we can make several assumptions based on what we know of caffeine. Since caffeine is soluble in water, hot water remains the best way to extract caffeine from coffee beans, giving iced coffee an edge over cold brew due to the brewing method.</span>
<span class="ltx_p" id="A5.T20.1.4.2.1.2">But, iced coffee brewed with hot water also tends to have a lower coffee to water ratio that somewhat dilutes the caffeine content, as does the ice you need to chill the coffee.</span>
<span class="ltx_p" id="A5.T20.1.4.2.1.3">[2]Iced coffee can be made with leftover hot coffee, and will have more caffeine in it than a cold brew coffee. Cold-brew coffees can have a lot of caffeine in them if they are highly concentrated, but the amount of caffeine that can be concentrated down into the cold brew depends on how the coffee was brewed initially.</span>
<span class="ltx_p" id="A5.T20.1.4.2.1.4">[3]ICED COFFEE: A typical 16-oz. iced coffee has  165 mg of caffeine.</span>
<span class="ltx_p" id="A5.T20.1.4.2.1.5">COLD BREW: A typical 16-oz. cold brew has  200 mg of caffeine. So, in the simplest of terms, cold brew has more caffeine than iced coffee (and, depending on how it’s brewed sometimes it can be nearly double that of its cold coffee counterpart!) But, why is there such a huge difference in the caffeine contents of these drinks?</span>
<span class="ltx_p" id="A5.T20.1.4.2.1.6">THE BREW SAYS IT ALL</span>
<span class="ltx_p" id="A5.T20.1.4.2.1.7">It all comes down to how each one is brewed. Iced coffee is brewed as regular coffee, which then goes through a cooling process and is served over ice. Cold brew, on the other hand, is created by steeping ground coffee at room temperature and then filtering out the grounds. So, it’s essentially the most concentrated version of coffee you can get. Once you filter out the grounds, the concentrate is combined with water for (generally) a 50/50 coffee concentrate/water split, and TA-DA! You have cold brew.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.4.3">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.4.3.1">
<span class="ltx_p" id="A5.T20.1.4.3.1.1" style="width:108.4pt;">There is more caffeine in iced coffee than in hot coffee due to the brewing method [1, 2, 3]. Iced coffee is brewed as regular coffee, which then goes through a cooling process and is served over ice [1]. Cold brew, on the other hand, is created by steeping ground coffee at room temperature and then filtering out the grounds [1]. Once you filter out the grounds, the concentrate is combined with water for (generally) a 50/50 coffee concentrate/water split [1]. Iced coffee brewed with hot water also tends to have a lower coffee to water ratio that somewhat dilutes the caffeine content, as does the ice you need to chill the coffee [2].</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.4.4">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.4.4.1">
<span class="ltx_p" id="A5.T20.1.4.4.1.1" style="width:151.8pt;">[Structure]:</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.2">Comparative-Cause-Effect</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.3">[Outline]:</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.4">1. Brewing method and extraction efficiency (based on [1] and [3])</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.5">2. Coffee to water ratio and ice dilution (based on [1])</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.6">3. Concentration of caffeine in cold brew (based on [2] and [3])</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.7">[Answer]:</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.8">iced coffee drinks contain more caffeine than their hot counterparts primarily due to differences in the brewing process and the resulting concentration of caffeine.</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.9">### Brewing Method and Extraction Efficiency</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.10">The extraction of caffeine from coffee beans is most efficient when using hot water, as caffeine is soluble in water. This is the reason why iced coffee, which is often made by pouring hot coffee over ice, tends to have a higher caffeine content compared to cold brew coffee. However, the caffeine content can be diluted in iced coffee due to the use of hot water in the brewing process and the inclusion of ice which requires water to chill the drink.</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.11">### Coffee to Water Ratio and Ice Dilution</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.12">When making iced coffee, the coffee to water ratio is typically higher than in cold brew coffee. This is because iced coffee is made by brewing hot coffee and then cooling it down, which results in a lower concentration of caffeine per serving. Conversely, cold brew coffee is brewed at room temperature and then filtered to remove the grounds, concentrating the caffeine.</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.13">### Concentration of Caffeine in Cold Brew</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.14">Cold brew coffee can have a significantly higher caffeine content than iced coffee. This is because the cold brew process involves steeping ground coffee at room temperature and filtering it to create a highly concentrated coffee concentrate. Typically, a 16-ounce cold brew contains about 200 mg of caffeine, compared to iced coffee which may have around 165 mg of caffeine. The difference in caffeine content can sometimes be nearly double, depending on the specific brewing methods used for each drink.</span>
<span class="ltx_p" id="A5.T20.1.4.4.1.15">In summary, the higher caffeine content in iced coffee drinks as opposed to hot coffees is attributed to the brewing techniques that extract more caffeine into the beverage, the dilution effect from using ice, and the concentration of caffeine in the cold brew process.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A5.T20.1.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.5.1.1">
<span class="ltx_p" id="A5.T20.1.5.1.1.1" style="width:21.7pt;">Who are the Kurdish people?</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.5.2">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.5.2.1">
<span class="ltx_p" id="A5.T20.1.5.2.1.1" style="width:108.4pt;">[1]Kurds speak the Kurdish languages and the Zaza–Gorani languages, which belong to the Western Iranian branch of the Iranian languages in the Indo-European language family.[33][34]</span>
<span class="ltx_p" id="A5.T20.1.5.2.1.2">[2]Kurds (Kurdish: Kurd) or Kurdish people are an Iranian[28][29][30] ethnic group native to the mountainous region of Kurdistan in Western Asia, which spans southeastern Turkey, northwestern Iran, northern Iraq, and northern Syria.[31] There are exclaves of Kurds in Central Anatolia, Khorasan, and the Caucasus, as well as significant Kurdish diaspora communities in the cities of western Turkey (in particular Istanbul) and Western Europe (primarily in Germany). The Kurdish population is estimated to be between 30 and 45 million.[2][32]</span>
<span class="ltx_p" id="A5.T20.1.5.2.1.3">[3]The Kurds are one of the indigenous peoples of the Mesopotamian plains and the highlands in what are now south-eastern Turkey, north-eastern Syria, northern Iraq, north-western Iran and south-western Armenia.</span>
<span class="ltx_p" id="A5.T20.1.5.2.1.4">Today, they form a distinctive community, united through race, culture and language, even though they have no standard dialect. They also adhere to a number of different religions and creeds, although the majority are Sunni Muslims.</span>
<span class="ltx_p" id="A5.T20.1.5.2.1.5">[4]The Kurdish people are an ethnic minority group without an official state. Before World War I, Kurds lived a nomadic lifestyle until the breakup of the Ottoman Empire, which stripped them of their freedom and divided them across several nation states.</span>
<span class="ltx_p" id="A5.T20.1.5.2.1.6">Today, there are an estimated 25-30 million Kurds, the majority living in a region that stretches across parts of Turkey, Iraq, Iran, Syria and Armenia.</span>
<span class="ltx_p" id="A5.T20.1.5.2.1.7">Most Kurds are Sunni Muslims, but the Kurdish population has diverse cultural, social, religious and political traditions as well as a variety of dialects.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.5.3">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.5.3.1">
<span class="ltx_p" id="A5.T20.1.5.3.1.1" style="width:108.4pt;">The Kurds are an Iranian ethnic group native to the mountainous region of Kurdistan in Western Asia, which spans southeastern Turkey, northwestern Iran, northern Iraq, and northern Syria. [1][2] They are one of the indigenous peoples of the Mesopotamian plains and the highlands in what are now south-eastern Turkey, north-eastern Syria, northern Iraq, north-western Iran and south-western Armenia. [3]</span>
<span class="ltx_p" id="A5.T20.1.5.3.1.2">Kurds speak the Kurdish languages and the Zaza–Gorani languages, which belong to the Western Iranian branch of the Iranian languages in the Indo-European language family. [1] They are an ethnic minority group without an official state. Before World War I, Kurds lived a nomadic lifestyle until the breakup of the Ottoman Empire, which stripped them of their freedom and divided them across several nation states. [4] Today, there are an estimated 25-30 million Kurds, the majority living in a region that stretches across parts of Turkey, Iraq, Iran, Syria and Armenia. [4] Most Kurds are Sunni Muslims, but the Kurdish population has diverse cultural, social, religious and political traditions as well as a variety of dialects. [4]</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A5.T20.1.5.4">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.5.4.1">
<span class="ltx_p" id="A5.T20.1.5.4.1.1" style="width:151.8pt;">[Structure]:</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.2">General-Specific-General</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.3">[Outline]:</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.4">1. Ethnic and linguistic identity (based on [1] and [3])</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.5">2. Geographical distribution and diaspora (based on [2])</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.6">3. Cultural and religious characteristics (based on [3] and [4])</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.7">[Answer]:</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.8">The Kurdish people are an ethnic group with a rich cultural and linguistic heritage, native to the region known as Kurdistan in Western Asia.</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.9">### Ethnic and Linguistic Identity</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.10">Kurds speak Kurdish languages and Zaza–Gorani languages, which are part of the Western Iranian branch of the Iranian languages within the Indo-European family. This linguistic connection underscores their unique identity, both as an ethnic group and as a linguistic minority.</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.11">### Geographical Distribution and Diaspora</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.12">Geographically, Kurds are spread across a region that includes parts of Turkey, Iraq, Iran, Syria, and Armenia. Their historical homeland, known as Kurdistan, encompasses significant exclaves in Central Anatolia, Khorasan, and the Caucasus. In addition to their native regions, Kurdish diaspora communities are notable in western Turkey, particularly Istanbul, and in Western Europe, with a substantial presence in Germany.</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.13">### Cultural and Religious Characteristics</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.14">Culturally, Kurds share a common identity through race, language, and religion, even though they do not have a standard dialect. The majority of Kurds today adhere to Sunni Islam, reflecting a common religious practice among the community. Despite this religious affiliation, Kurdish culture is diverse, encompassing various social, religious, political traditions, and dialects.</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.15">Before the dissolution of the Ottoman Empire following World War I, Kurds led a nomadic life. The subsequent division of the Ottoman Empire into several nation-states resulted in the loss of Kurdish freedom and led to a complex political situation where Kurds found themselves spread across several countries, without an official state of their own.</span>
<span class="ltx_p" id="A5.T20.1.5.4.1.16">In summary, the Kurdish people are characterized by their distinct ethnic and linguistic background, their geographic distribution and diaspora, and the rich tapestry of their cultural and religious practices. Despite facing historical challenges, they maintain a strong sense of identity and community.</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A5.T20.1.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_t" id="A5.T20.1.6.1">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.6.1.1">
<span class="ltx_p" id="A5.T20.1.6.1.1.1" style="width:21.7pt;">Why do we use shaving plugs in bathrooms, are they safer that normal 3 pin plugs?</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_t" id="A5.T20.1.6.2">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.6.2.1">
<span class="ltx_p" id="A5.T20.1.6.2.1.1" style="width:108.4pt;">[1]UK building regulations mean you cannot fit a regular 3 pin mains power socket in a bathroom, even the ‘shaver socket’ has to be a safe distance away from the bath or shower. This is often why many sockets are part of a light fitting above a mirror and hidden behind a little door, making it harder to access. All to protect you and I from injuring ourselves.</span>
<span class="ltx_p" id="A5.T20.1.6.2.1.2">Other countries around the world may have normal sockets in their bathrooms. Why? For some it is because of the lower voltage used, so the effects of electric shock and serious injury are reduced. In other cases it is less established safety measures and in others there is a trust that you as an individual won’t do anything silly enough to put your life at risk.</span>
<span class="ltx_p" id="A5.T20.1.6.2.1.3">[2]A bathroom shaver socket is a specialized electrical socket designed for safe use of electrical shavers in the bathroom. This socket design is most commonly seen in the United Kingdom and some parts of Europe, and has been largely replaced by the ground fault circuit interrupter (GFCI) socket. It is possible to use these types of sockets for replacement of old sockets or installation in a new bathroom design, but usually a GFCI socket is more appropriate. The newer socket style may also be required under the building code.</span>
<span class="ltx_p" id="A5.T20.1.6.2.1.4">The bathroom shaver socket is mounted in an isolation transformer that cuts it off from the rest of the electrical system. This limits the risk of electrical shock, a concern in the bathroom where lots of water can be present. In addition, the current is very low. It will power a shaver or electric toothbrush, but not an item like a heater or a hair dryer. The circuit will shut down if it gets too hot, thus keeping the user as safe as possible.</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_t" id="A5.T20.1.6.3">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.6.3.1">
<span class="ltx_p" id="A5.T20.1.6.3.1.1" style="width:108.4pt;">In the UK, special sockets are required for bathrooms due to building regulations [2]. These sockets, called bathroom shaver sockets, are designed to be safer than a regular 3-pronged electrical socket [1]. They are mounted in an isolation transformer that cuts them off from the rest of the electrical system [1]. This limits the risk of electrical shock, which is a concern in the bathroom given that lots of water can be present [1]. The circuit will shut down if it gets too hot, which protects the user as safe as possible [1]. Additionally, these sockets are often part of a light fixture above a mirror and hidden behind a little door, which makes them harder to access [2].</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_t" id="A5.T20.1.6.4">
<span class="ltx_inline-block ltx_align_top" id="A5.T20.1.6.4.1">
<span class="ltx_p" id="A5.T20.1.6.4.1.1" style="width:151.8pt;">[Structure]:</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.2">Comparative</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.3">[Outline]:</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.4">1. Safety measures in the UK and similar regulations elsewhere (based on [1])</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.5">2. Design differences between bathroom shaver sockets and regular 3-pin plugs (based on [2])</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.6">3. Electrical safety and low-current design (based on [2])</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.7">[Answer]:</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.8">The use of shaving plugs, also known as bathroom shaver sockets, in bathrooms is primarily a result of safety regulations and design considerations that differentiate them from normal 3-pin plugs.</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.9">### Safety Measures and Regulations</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.10">In the UK and some other countries, building regulations dictate that regular 3-pin mains power sockets are not permitted in bathrooms. This is to prevent the risk of electric shock or injury due to coming into contact with the socket while wet. Therefore, sockets are often concealed and installed at a safe distance from bathing areas.</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.11">### Design Differences</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.12">The bathroom shaver socket is specifically designed for safe use of electrical appliances like shavers in the bathroom environment. It is characterized by its isolation transformer which segregates it from the rest of the electrical system, thereby reducing the risk of electrical shock. This design is a safety measure particularly pertinent in bathrooms where water is likely to be present.</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.13">### Electrical Safety and Low-Current Design</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.14">The shaver socket is engineered to power only devices that are safe to use in a wet environment, such as shavers and electric toothbrushes. It is not designed to power appliances that could present a higher risk, like heaters or hair dryers. Additionally, the circuit is designed to shut down if it overheats, which further ensures user safety.</span>
<span class="ltx_p" id="A5.T20.1.6.4.1.15">In conclusion, shaving plugs are considered safer than normal 3-pin plugs because of the specific safety regulations they adhere to, their isolated design, and the low-current circuitry that prevents riskier electrical appliances from being used in wet environments.</span>
</span>
</td>
</tr>
</table>
</figure>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Wed Jun 19 18:58:05 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
