<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation</title>
<!--Generated on Tue Oct  1 04:44:54 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2406.12566v3/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S1" title="In RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S2" title="In RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Works</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S2.SS1" title="In 2 Related Works ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Retrieval-augmented Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S2.SS2" title="In 2 Related Works ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Generative Ranking with LLM</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3" title="In RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Method</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.SS1" title="In 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Problem Definition</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.SS2" title="In 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Sub-aspect Explorer</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.SS3" title="In 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Multi-faceted Retriever</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.SS4" title="In 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Generative List-wise Ranker</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.SS4.SSS1" title="In 3.4 Generative List-wise Ranker ‣ 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4.1 </span>Supervised Fine-tuning</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.SS4.SSS2" title="In 3.4 Generative List-wise Ranker ‣ 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4.2 </span>Reinforcement Learning</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S4" title="In RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiment</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S4.SS1" title="In 4 Experiment ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Datasets and Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S4.SS2" title="In 4 Experiment ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S4.SS3" title="In 4 Experiment ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Overall Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S4.SS4" title="In 4 Experiment ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Ablation Studies</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S4.SS5" title="In 4 Experiment ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>Efficiency Analysis of Ranking Algorithms</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S5" title="In RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A1" title="In RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Data Pre-process</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A2" title="In RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Implementation Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A3" title="In RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Ranking Performance</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A4" title="In RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Impact of Sub-aspect Amount</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A5" title="In RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Analysis of LLMs’ Preferences</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A6" title="In RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">F </span>Impact of Number of External Documents</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A7" title="In RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">G </span>Case Study</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shuting Wang<sup class="ltx_sup" id="id9.6.id1">1</sup>, Xin Yu<sup class="ltx_sup" id="id10.7.id2">2</sup>, Mang Wang<sup class="ltx_sup" id="id11.8.id3">2</sup>, Weipeng Chen<sup class="ltx_sup" id="id12.9.id4">2</sup>, Yutao Zhu<sup class="ltx_sup" id="id13.10.id5">1</sup>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"><span class="ltx_text ltx_font_bold" id="id6.1.1">Zhicheng Dou<sup class="ltx_sup" id="id6.1.1.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id6.1.1.1.1">1∗</span></sup></span>
<br class="ltx_break"/><sup class="ltx_sup" id="id14.4.id1">1</sup>Gaoling School of Artificial Intelligence, Renmin University of China 
<br class="ltx_break"/><sup class="ltx_sup" id="id15.5.id2">2</sup>Baichuan Intelligent Technology
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id16.6.id3">{wangshuting, dou}@ruc.edu.cn</span>
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id17.id1">Retrieval-augmented generation (RAG) effectively addresses issues of static knowledge and hallucination in large language models. Existing studies mostly focus on question scenarios with clear user intents and concise answers. However, it is prevalent that users issue broad, open-ended queries with diverse sub-intents, for which they desire rich and long-form answers covering multiple relevant aspects.
To tackle this important yet underexplored problem, we propose a novel RAG framework, namely RichRAG. It includes a sub-aspect explorer to identify potential sub-aspects of input questions, a multi-faceted retriever to build a candidate pool of diverse external documents related to these sub-aspects, and a generative list-wise ranker, which is a key module to provide the top-k most valuable documents for the final generator. These ranked documents sufficiently cover various query aspects and are aware of the generator’s preferences, hence incentivizing it to produce rich and comprehensive responses for users.
The training of our ranker involves a supervised fine-tuning stage to ensure the basic coverage of documents, and a reinforcement learning stage to align downstream LLM’s preferences to the ranking of documents. Experimental results on two publicly available datasets prove that our framework effectively and efficiently provides comprehensive and satisfying responses to users.</p>
</div>
<div class="ltx_para ltx_noindent" id="p1">
<div class="ltx_block ltx_align_bottom" id="p1.8">
<p class="ltx_p" id="p1.8.9"><span class="ltx_text ltx_font_bold" id="p1.8.9.1">RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation</span></p>
<br class="ltx_break ltx_centering"/>
<p class="ltx_p ltx_align_center" id="p1.8.8" style="width:433.6pt;"><span class="ltx_text ltx_inline-block" id="p1.8.8.8" style="width:0.0pt;">
<span class="ltx_tabular ltx_align_top" id="p1.8.8.8.8">
<span class="ltx_tr" id="p1.6.6.6.6.6">
<span class="ltx_td ltx_align_center" id="p1.6.6.6.6.6.6"><span class="ltx_text ltx_font_bold" id="p1.5.5.5.5.5.5.5">Shuting Wang<sup class="ltx_sup" id="p1.5.5.5.5.5.5.5.1"><span class="ltx_text ltx_font_medium" id="p1.5.5.5.5.5.5.5.1.1">1</span></sup>, Xin Yu<sup class="ltx_sup" id="p1.5.5.5.5.5.5.5.2"><span class="ltx_text ltx_font_medium" id="p1.5.5.5.5.5.5.5.2.1">2</span></sup>, Mang Wang<sup class="ltx_sup" id="p1.5.5.5.5.5.5.5.3"><span class="ltx_text ltx_font_medium" id="p1.5.5.5.5.5.5.5.3.1">2</span></sup>, Weipeng Chen<sup class="ltx_sup" id="p1.5.5.5.5.5.5.5.4"><span class="ltx_text ltx_font_medium" id="p1.5.5.5.5.5.5.5.4.1">2</span></sup>, Yutao Zhu<sup class="ltx_sup" id="p1.5.5.5.5.5.5.5.5"><span class="ltx_text ltx_font_medium" id="p1.5.5.5.5.5.5.5.5.1">1</span></sup>  </span>and<span class="ltx_text ltx_font_bold" id="p1.6.6.6.6.6.6.6"> Zhicheng Dou<sup class="ltx_sup" id="p1.6.6.6.6.6.6.6.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.6.6.6.6.6.6.6.1.1">1∗</span></sup></span></span></span>
<span class="ltx_tr" id="p1.7.7.7.7.7">
<span class="ltx_td ltx_align_center" id="p1.7.7.7.7.7.1"><sup class="ltx_sup" id="p1.7.7.7.7.7.1.1">1</sup>Gaoling School of Artificial Intelligence, Renmin University of China</span></span>
<span class="ltx_tr" id="p1.8.8.8.8.8">
<span class="ltx_td ltx_align_center" id="p1.8.8.8.8.8.1"><sup class="ltx_sup" id="p1.8.8.8.8.8.1.1">2</sup>Baichuan Intelligent Technology</span></span>
<span class="ltx_tr" id="p1.8.8.8.8.9">
<span class="ltx_td ltx_align_center" id="p1.8.8.8.8.9.1"><span class="ltx_text ltx_font_typewriter" id="p1.8.8.8.8.9.1.1">{wangshuting, dou}@ruc.edu.cn</span></span></span>
</span></span></p>
<br class="ltx_break ltx_centering"/>
</div>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="544" id="S1.F1.g1" src="x1.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>An example of a scenario where a multi-faceted query requires a comprehensive answer.</figcaption>
</figure>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Large language models (LLMs) have revolutionized how information is accessed online, shifting from returning ranked lists of relevant documents to directly generating answers to user queries. However, they still suffer from hallucinations and information staleness issues, impacting the authenticity and reliability of generated answers. Retrieval-augmented generation (RAG) has emerged as a promising solution, empowering LLMs to leverage reliable information from retrieved documents, thereby returning more reliable responses.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Though some advanced techniques <cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib12" title="">2023</a>); Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib2" title="">2024</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib36" title="">2023d</a>); Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib16" title="">2024</a>)</cite> have been proposed, existing studies primarily focus on addressing specific problems that require concise and definitive answers. However, user intents are complex and multi-faceted, necessitating rich and comprehensive answers. As Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a> shows, when a user inquires about rapping-related information, a rich response about various aspects of rapping, such as origins, characteristics, and evolution could lead to a more satisfactory user experience than a superficial description.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Our research is focused on developing effective RAG approaches to handle these more complex user needs.
We propose a RAG framework, RichRAG, which is designed to offer diverse external knowledge that comprehensively covers various sub-aspects of multi-faceted queries, thereby enhancing the downstream generator (an LLM) to yield rich responses. RichRAG first employs a sub-aspect explorer to explicitly predict sub-aspects of queries. Then, it adopts a multi-facet retriever to build a broad pool of candidate documents covering those identified sub-aspects. However, such redundant candidates inevitably contain much irrelevant noise and are hard to handle completely by LLMs due to limited input length. As a result, sorting out the top-k best documents from the candidate pool is critical to the success of the RichRAG framework.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">In further, we claim that a promising top-k ranking should have the following desirable features:
(1) <span class="ltx_text ltx_font_italic" id="S1.p4.1.1">Comprehensiveness</span>. Incentivizing LLM to generate rich and reliable responses requires external documents to comprehensively cover various query aspects.
Therefore, instead of predicting each document’s relevance independently, the ranking model should consider the relationship among documents to enhance the global coverage of the ranking list for query aspects.
(2) <span class="ltx_text ltx_font_italic" id="S1.p4.1.2">Alignment with the LLMs’ preferences</span>. In RAG systems, the users of IR models are LLMs instead of humans. Thus, the reference order should be LLM-friendly, hence enhancing the generator to produce satisfying responses.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">To achieve this, we devise a generative list-wise ranker based on encoder-decoder structures. It takes as input the user query, its identified sub-aspects, and all candidates, then directly generates top-k document IDs as final ranking lists. This structure offers two key advantages:
(1) <span class="ltx_text ltx_font_italic" id="S1.p5.1.1">Global Document Modeling</span>.
The seq-to-seq model structure equips the ranker to
effectively model global interactions among candidates, queries, and sub-aspects, thereby capturing the overall utility of generated ranking lists in covering the query’s multi-aspects.
(2) <span class="ltx_text ltx_font_italic" id="S1.p5.1.2">Efficiency</span>. Following the FiD structure <cite class="ltx_cite ltx_citemacro_cite">Izacard and Grave (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib10" title="">2021</a>)</cite>, we parallelize the encoding of each candidate and further introduce pooling and reuse operations to the decoder module. These strategies significantly reduce the spatiotemporal load of the ranker.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">The optimization of our ranker consists of two stages:
The first is supervised fine-tuning (SFT).
To enhance the coverage of generated ranking lists on query aspects, we devise a <span class="ltx_text ltx_font_italic" id="S1.p6.1.1">coverage utility function</span> based on which to build silver generation targets (ranking lists of document IDs) for training samples greedily. These silver targets allow us to SFT our ranker and ensure its basic ability.
To further improve the ranking quality and align ranking lists with LLMs’ preferences, a reinforcement learning stage is introduced. We consider both the accuracy and comprehensiveness of generated responses to create reward values, and adopt the DPO <cite class="ltx_cite ltx_citemacro_cite">Rafailov et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib24" title="">2023</a>)</cite> algorithm to optimize our ranker.
In addition, we devise a <span class="ltx_text ltx_font_italic" id="S1.p6.1.2">unilateral significance sampling strategy</span> (US<sup class="ltx_sup" id="S1.p6.1.3">3</sup>) to build valuable training samples for stable optimization.
Experiments on two public datasets prove that RichRAG can effectively and efficiently generate more comprehensive answers for multi-faceted queries than existing methods.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">Our contributions are three-fold:</p>
</div>
<div class="ltx_para" id="S1.p8">
<p class="ltx_p" id="S1.p8.1">(1) We propose a RAG framework RichRAG to explicitly model the query’s various sub-aspects, thereby providing comprehensive long-form responses to satisfy the user’s rich intents.</p>
</div>
<div class="ltx_para" id="S1.p9">
<p class="ltx_p" id="S1.p9.1">(2) We develop an efficient generative list-wise ranker that models the global gain of ranking lists considering rich user intents, delivering promising ranking lists for downstream LLMs.</p>
</div>
<div class="ltx_para" id="S1.p10">
<p class="ltx_p" id="S1.p10.1">(3) We devise the US<sup class="ltx_sup" id="S1.p10.1.1">3</sup> approach to create reliable and valuable training pairs for the DPO algorithm, improving the quality and stability of optimization.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Works</h2>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Retrieval-augmented Generation</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">To ensure the effectiveness of RAG systems, previous studies mainly optimized retrievers and generators simultaneously <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib11" title="">2024</a>); Borgeaud et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib3" title="">2022</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib31" title="">2023a</a>); Arora et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib1" title="">2023</a>); Paranjape et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib21" title="">2022</a>); Lewis et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib15" title="">2020</a>); Lin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib17" title="">2023</a>); Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib2" title="">2024</a>)</cite>.
Recent researchers also explored fixing LLMs and optimizing retrievers as plug-in modules <cite class="ltx_cite ltx_citemacro_cite">Shi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib27" title="">2023</a>); Yu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib42" title="">2023</a>)</cite> or introducing post-retrieval components, <span class="ltx_text ltx_font_italic" id="S2.SS1.p1.1.1">e.g.</span>, compressors and rankers <cite class="ltx_cite ltx_citemacro_cite">Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib38" title="">2023</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib36" title="">2023d</a>); Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib16" title="">2024</a>); Ke et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib13" title="">2024</a>); Gao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib8" title="">2024</a>)</cite>, to reduce the training cost.
Some studies <cite class="ltx_cite ltx_citemacro_cite">Chan et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib4" title="">2024</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib32" title="">2024a</a>); Khot et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib14" title="">2023</a>); Yao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib41" title="">2023</a>); Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib39" title="">2024a</a>)</cite> propose to decompose multi-hop questions into sub-tasks and solve them step-by-step. These works typically focus on breaking down <span class="ltx_text ltx_font_italic" id="S2.SS1.p1.1.2">complex questions with clearly stated</span> user intents into simpler questions. Our research, however, addresses a different scenario where user questions are broad and encompass <span class="ltx_text ltx_font_italic" id="S2.SS1.p1.1.3">various potential sub-aspects not explicitly stated</span>. Answering such questions usually requires integrating diverse relevant information to these underlying sub-aspects to fully respond to the user’s potential information needs.
Recent studies <cite class="ltx_cite ltx_citemacro_cite">Rackauckas (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib23" title="">2024</a>)</cite> also highlight the importance of exploring users’ sub-intents, but its simplistic pipeline fails to model global document-intent interactions, leading to sub-optimal results.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Generative Ranking with LLM</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">Recently, the rise of LLMs allows researchers to establish various generative ranking models <cite class="ltx_cite ltx_citemacro_cite">Nogueira et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib20" title="">2020</a>); Zhuang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib43" title="">2023a</a>); Sun et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib28" title="">2023</a>); Tamber et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib29" title="">2023</a>); Zhuang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib44" title="">2023b</a>); Qin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib22" title="">2024</a>)</cite>, including point-wise <cite class="ltx_cite ltx_citemacro_cite">Nogueira et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib20" title="">2020</a>); Zhuang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib43" title="">2023a</a>)</cite>, pair-wise <cite class="ltx_cite ltx_citemacro_cite">Zhuang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib44" title="">2023b</a>); Qin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib22" title="">2024</a>)</cite>, and list-wise <cite class="ltx_cite ltx_citemacro_cite">Tamber et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib29" title="">2023</a>); Sun et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib28" title="">2023</a>)</cite> models.
To handle extensive document load, some generative list-wise methods <cite class="ltx_cite ltx_citemacro_cite">Sun et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib28" title="">2023</a>); Tamber et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib29" title="">2023</a>)</cite> adopt a sliding-window approach to iteratively generate final ranking lists.
Some studies <cite class="ltx_cite ltx_citemacro_cite">Ke et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib13" title="">2024</a>); Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib40" title="">2024b</a>)</cite> also explore list-wise rankers in RAG systems but still focus on scenarios with specific intents and answers, neglecting the depth and breadth of user questions.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Method</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we demonstrate our RichRAG framework, which explicitly considers the sub-aspects of multi-faceted questions to provide diverse and LLM-friendly external reference lists, thereby enhancing the richness and satisfaction of generated responses. Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.F2" title="Figure 2 ‣ 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> (a) displays the overall framework.
We first define the problem, and then delve into the introduction of each component, including the sub-aspect explorer, the multi-faceted retriever, and the generative list-wise ranker.</p>
</div>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="431" id="S3.F2.g1" src="x2.png" width="706"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>The overall framework of RichRAG. We describe the training stages of our ranker at the bottom.</figcaption>
</figure>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Problem Definition</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.8">The basic RAG setting usually contains a knowledge corpus <math alttext="\mathcal{C}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">𝒞</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝒞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">\mathcal{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">caligraphic_C</annotation></semantics></math>, a fixed retriever <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">caligraphic_R</annotation></semantics></math>, and a fixed LLM serving as the generator, <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.1"><semantics id="S3.SS1.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.1d">caligraphic_G</annotation></semantics></math>. For a multi-faceted query, <math alttext="q" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.1"><semantics id="S3.SS1.p1.4.m4.1a"><mi id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><ci id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.1d">italic_q</annotation></semantics></math>, its various subordinate aspects are denoted as <math alttext="\mathcal{S}=\{s_{1},\ldots,s_{n}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.3"><semantics id="S3.SS1.p1.5.m5.3a"><mrow id="S3.SS1.p1.5.m5.3.3" xref="S3.SS1.p1.5.m5.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.5.m5.3.3.4" xref="S3.SS1.p1.5.m5.3.3.4.cmml">𝒮</mi><mo id="S3.SS1.p1.5.m5.3.3.3" xref="S3.SS1.p1.5.m5.3.3.3.cmml">=</mo><mrow id="S3.SS1.p1.5.m5.3.3.2.2" xref="S3.SS1.p1.5.m5.3.3.2.3.cmml"><mo id="S3.SS1.p1.5.m5.3.3.2.2.3" stretchy="false" xref="S3.SS1.p1.5.m5.3.3.2.3.cmml">{</mo><msub id="S3.SS1.p1.5.m5.2.2.1.1.1" xref="S3.SS1.p1.5.m5.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.5.m5.2.2.1.1.1.2" xref="S3.SS1.p1.5.m5.2.2.1.1.1.2.cmml">s</mi><mn id="S3.SS1.p1.5.m5.2.2.1.1.1.3" xref="S3.SS1.p1.5.m5.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.5.m5.3.3.2.2.4" xref="S3.SS1.p1.5.m5.3.3.2.3.cmml">,</mo><mi id="S3.SS1.p1.5.m5.1.1" mathvariant="normal" xref="S3.SS1.p1.5.m5.1.1.cmml">…</mi><mo id="S3.SS1.p1.5.m5.3.3.2.2.5" xref="S3.SS1.p1.5.m5.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p1.5.m5.3.3.2.2.2" xref="S3.SS1.p1.5.m5.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.5.m5.3.3.2.2.2.2" xref="S3.SS1.p1.5.m5.3.3.2.2.2.2.cmml">s</mi><mi id="S3.SS1.p1.5.m5.3.3.2.2.2.3" xref="S3.SS1.p1.5.m5.3.3.2.2.2.3.cmml">n</mi></msub><mo id="S3.SS1.p1.5.m5.3.3.2.2.6" stretchy="false" xref="S3.SS1.p1.5.m5.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.3b"><apply id="S3.SS1.p1.5.m5.3.3.cmml" xref="S3.SS1.p1.5.m5.3.3"><eq id="S3.SS1.p1.5.m5.3.3.3.cmml" xref="S3.SS1.p1.5.m5.3.3.3"></eq><ci id="S3.SS1.p1.5.m5.3.3.4.cmml" xref="S3.SS1.p1.5.m5.3.3.4">𝒮</ci><set id="S3.SS1.p1.5.m5.3.3.2.3.cmml" xref="S3.SS1.p1.5.m5.3.3.2.2"><apply id="S3.SS1.p1.5.m5.2.2.1.1.1.cmml" xref="S3.SS1.p1.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.5.m5.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.5.m5.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.5.m5.2.2.1.1.1.2">𝑠</ci><cn id="S3.SS1.p1.5.m5.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.5.m5.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">…</ci><apply id="S3.SS1.p1.5.m5.3.3.2.2.2.cmml" xref="S3.SS1.p1.5.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.5.m5.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.5.m5.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.5.m5.3.3.2.2.2.2">𝑠</ci><ci id="S3.SS1.p1.5.m5.3.3.2.2.2.3.cmml" xref="S3.SS1.p1.5.m5.3.3.2.2.2.3">𝑛</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.3c">\mathcal{S}=\{s_{1},\ldots,s_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.3d">caligraphic_S = { italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>.
These sub-aspects have corresponding sub-answers, which are denoted as <math alttext="\mathcal{A}=\{a_{1},\ldots,a_{n}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.3"><semantics id="S3.SS1.p1.6.m6.3a"><mrow id="S3.SS1.p1.6.m6.3.3" xref="S3.SS1.p1.6.m6.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.6.m6.3.3.4" xref="S3.SS1.p1.6.m6.3.3.4.cmml">𝒜</mi><mo id="S3.SS1.p1.6.m6.3.3.3" xref="S3.SS1.p1.6.m6.3.3.3.cmml">=</mo><mrow id="S3.SS1.p1.6.m6.3.3.2.2" xref="S3.SS1.p1.6.m6.3.3.2.3.cmml"><mo id="S3.SS1.p1.6.m6.3.3.2.2.3" stretchy="false" xref="S3.SS1.p1.6.m6.3.3.2.3.cmml">{</mo><msub id="S3.SS1.p1.6.m6.2.2.1.1.1" xref="S3.SS1.p1.6.m6.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.6.m6.2.2.1.1.1.2" xref="S3.SS1.p1.6.m6.2.2.1.1.1.2.cmml">a</mi><mn id="S3.SS1.p1.6.m6.2.2.1.1.1.3" xref="S3.SS1.p1.6.m6.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.6.m6.3.3.2.2.4" xref="S3.SS1.p1.6.m6.3.3.2.3.cmml">,</mo><mi id="S3.SS1.p1.6.m6.1.1" mathvariant="normal" xref="S3.SS1.p1.6.m6.1.1.cmml">…</mi><mo id="S3.SS1.p1.6.m6.3.3.2.2.5" xref="S3.SS1.p1.6.m6.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p1.6.m6.3.3.2.2.2" xref="S3.SS1.p1.6.m6.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.6.m6.3.3.2.2.2.2" xref="S3.SS1.p1.6.m6.3.3.2.2.2.2.cmml">a</mi><mi id="S3.SS1.p1.6.m6.3.3.2.2.2.3" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3.cmml">n</mi></msub><mo id="S3.SS1.p1.6.m6.3.3.2.2.6" stretchy="false" xref="S3.SS1.p1.6.m6.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.3b"><apply id="S3.SS1.p1.6.m6.3.3.cmml" xref="S3.SS1.p1.6.m6.3.3"><eq id="S3.SS1.p1.6.m6.3.3.3.cmml" xref="S3.SS1.p1.6.m6.3.3.3"></eq><ci id="S3.SS1.p1.6.m6.3.3.4.cmml" xref="S3.SS1.p1.6.m6.3.3.4">𝒜</ci><set id="S3.SS1.p1.6.m6.3.3.2.3.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2"><apply id="S3.SS1.p1.6.m6.2.2.1.1.1.cmml" xref="S3.SS1.p1.6.m6.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.6.m6.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m6.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.6.m6.2.2.1.1.1.2">𝑎</ci><cn id="S3.SS1.p1.6.m6.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.6.m6.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">…</ci><apply id="S3.SS1.p1.6.m6.3.3.2.2.2.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.6.m6.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2.2">𝑎</ci><ci id="S3.SS1.p1.6.m6.3.3.2.2.2.3.cmml" xref="S3.SS1.p1.6.m6.3.3.2.2.2.3">𝑛</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.3c">\mathcal{A}=\{a_{1},\ldots,a_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.3d">caligraphic_A = { italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_a start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>.<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>The collection of sub-aspects and sub-answers is introduced in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A1" title="Appendix A Data Pre-process ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A</span></a>.</span></span></span> The combination of these sub-answers forms the ground truth answer, <math alttext="a" class="ltx_Math" display="inline" id="S3.SS1.p1.7.m7.1"><semantics id="S3.SS1.p1.7.m7.1a"><mi id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.7.m7.1d">italic_a</annotation></semantics></math>, which is long-form and responds to all sub-aspects. Existing RAG models primarily focus on retrieving relevant documents from the corpus and incorporating them into the LLM’s input to generate responses closely aligned with ground truth answers. In this study, we aim to make responses, <math alttext="r" class="ltx_Math" display="inline" id="S3.SS1.p1.8.m8.1"><semantics id="S3.SS1.p1.8.m8.1a"><mi id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><ci id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.8.m8.1d">italic_r</annotation></semantics></math>, generated by RichRAG not only match the ground truth answers but also sufficiently cover individual sub-answers comprehensively, to ensure the responses’ richness and completeness.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Sub-aspect Explorer</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.3">Examining various sub-aspects under a user’s query could provide explicit insights into the user’s underlying intents, thereby enabling more satisfactory results for users <cite class="ltx_cite ltx_citemacro_cite">Santos et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib26" title="">2010</a>); Dang and Croft (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib7" title="">2012</a>); Liu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib18" title="">2020</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib33" title="">2023b</a>)</cite>.
We leverage LLMs to build our sub-aspect explorer, <math alttext="\mathcal{E}" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">caligraphic_E</annotation></semantics></math>, due to their extensive world knowledge and excellent capabilities in language understanding and generation.
This module takes a prompt <math alttext="p_{se}" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><msub id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><mi id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">p</mi><mrow id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml"><mi id="S3.SS2.p1.2.m2.1.1.3.2" xref="S3.SS2.p1.2.m2.1.1.3.2.cmml">s</mi><mo id="S3.SS2.p1.2.m2.1.1.3.1" xref="S3.SS2.p1.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p1.2.m2.1.1.3.3" xref="S3.SS2.p1.2.m2.1.1.3.3.cmml">e</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2">𝑝</ci><apply id="S3.SS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3"><times id="S3.SS2.p1.2.m2.1.1.3.1.cmml" xref="S3.SS2.p1.2.m2.1.1.3.1"></times><ci id="S3.SS2.p1.2.m2.1.1.3.2.cmml" xref="S3.SS2.p1.2.m2.1.1.3.2">𝑠</ci><ci id="S3.SS2.p1.2.m2.1.1.3.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">p_{se}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.1d">italic_p start_POSTSUBSCRIPT italic_s italic_e end_POSTSUBSCRIPT</annotation></semantics></math>, which instructs the LLM to predict the sub-aspects of the input query, and a user’s query, <math alttext="q" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.1"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.3.m3.1d">italic_q</annotation></semantics></math>, as input and generates a series of sub-aspects under the query:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\vspace{-2pt}{\hat{\mathcal{S}}}=\{\hat{s}_{1},\ldots,\hat{s}_{m}\}=\mathcal{E%
}(q,p_{se})." class="ltx_Math" display="block" id="S3.E1.m1.3"><semantics id="S3.E1.m1.3a"><mrow id="S3.E1.m1.3.3.1" xref="S3.E1.m1.3.3.1.1.cmml"><mrow id="S3.E1.m1.3.3.1.1" xref="S3.E1.m1.3.3.1.1.cmml"><mover accent="true" id="S3.E1.m1.3.3.1.1.5" xref="S3.E1.m1.3.3.1.1.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.3.3.1.1.5.2" xref="S3.E1.m1.3.3.1.1.5.2.cmml">𝒮</mi><mo id="S3.E1.m1.3.3.1.1.5.1" xref="S3.E1.m1.3.3.1.1.5.1.cmml">^</mo></mover><mo id="S3.E1.m1.3.3.1.1.6" xref="S3.E1.m1.3.3.1.1.6.cmml">=</mo><mrow id="S3.E1.m1.3.3.1.1.2.2" xref="S3.E1.m1.3.3.1.1.2.3.cmml"><mo id="S3.E1.m1.3.3.1.1.2.2.3" stretchy="false" xref="S3.E1.m1.3.3.1.1.2.3.cmml">{</mo><msub id="S3.E1.m1.3.3.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.cmml"><mover accent="true" id="S3.E1.m1.3.3.1.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.1.2.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.1.2.2" xref="S3.E1.m1.3.3.1.1.1.1.1.2.2.cmml">s</mi><mo id="S3.E1.m1.3.3.1.1.1.1.1.2.1" xref="S3.E1.m1.3.3.1.1.1.1.1.2.1.cmml">^</mo></mover><mn id="S3.E1.m1.3.3.1.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.E1.m1.3.3.1.1.2.2.4" xref="S3.E1.m1.3.3.1.1.2.3.cmml">,</mo><mi id="S3.E1.m1.1.1" mathvariant="normal" xref="S3.E1.m1.1.1.cmml">…</mi><mo id="S3.E1.m1.3.3.1.1.2.2.5" xref="S3.E1.m1.3.3.1.1.2.3.cmml">,</mo><msub id="S3.E1.m1.3.3.1.1.2.2.2" xref="S3.E1.m1.3.3.1.1.2.2.2.cmml"><mover accent="true" id="S3.E1.m1.3.3.1.1.2.2.2.2" xref="S3.E1.m1.3.3.1.1.2.2.2.2.cmml"><mi id="S3.E1.m1.3.3.1.1.2.2.2.2.2" xref="S3.E1.m1.3.3.1.1.2.2.2.2.2.cmml">s</mi><mo id="S3.E1.m1.3.3.1.1.2.2.2.2.1" xref="S3.E1.m1.3.3.1.1.2.2.2.2.1.cmml">^</mo></mover><mi id="S3.E1.m1.3.3.1.1.2.2.2.3" xref="S3.E1.m1.3.3.1.1.2.2.2.3.cmml">m</mi></msub><mo id="S3.E1.m1.3.3.1.1.2.2.6" stretchy="false" xref="S3.E1.m1.3.3.1.1.2.3.cmml">}</mo></mrow><mo id="S3.E1.m1.3.3.1.1.7" xref="S3.E1.m1.3.3.1.1.7.cmml">=</mo><mrow id="S3.E1.m1.3.3.1.1.3" xref="S3.E1.m1.3.3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.3.3.1.1.3.3" xref="S3.E1.m1.3.3.1.1.3.3.cmml">ℰ</mi><mo id="S3.E1.m1.3.3.1.1.3.2" xref="S3.E1.m1.3.3.1.1.3.2.cmml">⁢</mo><mrow id="S3.E1.m1.3.3.1.1.3.1.1" xref="S3.E1.m1.3.3.1.1.3.1.2.cmml"><mo id="S3.E1.m1.3.3.1.1.3.1.1.2" stretchy="false" xref="S3.E1.m1.3.3.1.1.3.1.2.cmml">(</mo><mi id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">q</mi><mo id="S3.E1.m1.3.3.1.1.3.1.1.3" xref="S3.E1.m1.3.3.1.1.3.1.2.cmml">,</mo><msub id="S3.E1.m1.3.3.1.1.3.1.1.1" xref="S3.E1.m1.3.3.1.1.3.1.1.1.cmml"><mi id="S3.E1.m1.3.3.1.1.3.1.1.1.2" xref="S3.E1.m1.3.3.1.1.3.1.1.1.2.cmml">p</mi><mrow id="S3.E1.m1.3.3.1.1.3.1.1.1.3" xref="S3.E1.m1.3.3.1.1.3.1.1.1.3.cmml"><mi id="S3.E1.m1.3.3.1.1.3.1.1.1.3.2" xref="S3.E1.m1.3.3.1.1.3.1.1.1.3.2.cmml">s</mi><mo id="S3.E1.m1.3.3.1.1.3.1.1.1.3.1" xref="S3.E1.m1.3.3.1.1.3.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E1.m1.3.3.1.1.3.1.1.1.3.3" xref="S3.E1.m1.3.3.1.1.3.1.1.1.3.3.cmml">e</mi></mrow></msub><mo id="S3.E1.m1.3.3.1.1.3.1.1.4" stretchy="false" xref="S3.E1.m1.3.3.1.1.3.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.3.3.1.2" lspace="0em" xref="S3.E1.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.3b"><apply id="S3.E1.m1.3.3.1.1.cmml" xref="S3.E1.m1.3.3.1"><and id="S3.E1.m1.3.3.1.1a.cmml" xref="S3.E1.m1.3.3.1"></and><apply id="S3.E1.m1.3.3.1.1b.cmml" xref="S3.E1.m1.3.3.1"><eq id="S3.E1.m1.3.3.1.1.6.cmml" xref="S3.E1.m1.3.3.1.1.6"></eq><apply id="S3.E1.m1.3.3.1.1.5.cmml" xref="S3.E1.m1.3.3.1.1.5"><ci id="S3.E1.m1.3.3.1.1.5.1.cmml" xref="S3.E1.m1.3.3.1.1.5.1">^</ci><ci id="S3.E1.m1.3.3.1.1.5.2.cmml" xref="S3.E1.m1.3.3.1.1.5.2">𝒮</ci></apply><set id="S3.E1.m1.3.3.1.1.2.3.cmml" xref="S3.E1.m1.3.3.1.1.2.2"><apply id="S3.E1.m1.3.3.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1">subscript</csymbol><apply id="S3.E1.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.2"><ci id="S3.E1.m1.3.3.1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.2.1">^</ci><ci id="S3.E1.m1.3.3.1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.2.2">𝑠</ci></apply><cn id="S3.E1.m1.3.3.1.1.1.1.1.3.cmml" type="integer" xref="S3.E1.m1.3.3.1.1.1.1.1.3">1</cn></apply><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">…</ci><apply id="S3.E1.m1.3.3.1.1.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.2.2.2.1.cmml" xref="S3.E1.m1.3.3.1.1.2.2.2">subscript</csymbol><apply id="S3.E1.m1.3.3.1.1.2.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.2.2.2.2"><ci id="S3.E1.m1.3.3.1.1.2.2.2.2.1.cmml" xref="S3.E1.m1.3.3.1.1.2.2.2.2.1">^</ci><ci id="S3.E1.m1.3.3.1.1.2.2.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.2.2.2.2.2">𝑠</ci></apply><ci id="S3.E1.m1.3.3.1.1.2.2.2.3.cmml" xref="S3.E1.m1.3.3.1.1.2.2.2.3">𝑚</ci></apply></set></apply><apply id="S3.E1.m1.3.3.1.1c.cmml" xref="S3.E1.m1.3.3.1"><eq id="S3.E1.m1.3.3.1.1.7.cmml" xref="S3.E1.m1.3.3.1.1.7"></eq><share href="https://arxiv.org/html/2406.12566v3#S3.E1.m1.3.3.1.1.2.cmml" id="S3.E1.m1.3.3.1.1d.cmml" xref="S3.E1.m1.3.3.1"></share><apply id="S3.E1.m1.3.3.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.3"><times id="S3.E1.m1.3.3.1.1.3.2.cmml" xref="S3.E1.m1.3.3.1.1.3.2"></times><ci id="S3.E1.m1.3.3.1.1.3.3.cmml" xref="S3.E1.m1.3.3.1.1.3.3">ℰ</ci><interval closure="open" id="S3.E1.m1.3.3.1.1.3.1.2.cmml" xref="S3.E1.m1.3.3.1.1.3.1.1"><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">𝑞</ci><apply id="S3.E1.m1.3.3.1.1.3.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.3.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.3.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.3.1.1.1">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.3.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.3.1.1.1.2">𝑝</ci><apply id="S3.E1.m1.3.3.1.1.3.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.3.1.1.1.3"><times id="S3.E1.m1.3.3.1.1.3.1.1.1.3.1.cmml" xref="S3.E1.m1.3.3.1.1.3.1.1.1.3.1"></times><ci id="S3.E1.m1.3.3.1.1.3.1.1.1.3.2.cmml" xref="S3.E1.m1.3.3.1.1.3.1.1.1.3.2">𝑠</ci><ci id="S3.E1.m1.3.3.1.1.3.1.1.1.3.3.cmml" xref="S3.E1.m1.3.3.1.1.3.1.1.1.3.3">𝑒</ci></apply></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.3c">\vspace{-2pt}{\hat{\mathcal{S}}}=\{\hat{s}_{1},\ldots,\hat{s}_{m}\}=\mathcal{E%
}(q,p_{se}).</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.3d">over^ start_ARG caligraphic_S end_ARG = { over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT } = caligraphic_E ( italic_q , italic_p start_POSTSUBSCRIPT italic_s italic_e end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p1.4">To align the sub-aspect explorer with the output format and the distribution of downstream data, we fine-tune it using training queries and their labeled sub-aspects. The target output is a concatenation of labeled sub-aspects surrounded by square brackets: <math alttext="o=[s_{1}]\ldots[s_{n}]." class="ltx_Math" display="inline" id="S3.SS2.p1.4.m1.1"><semantics id="S3.SS2.p1.4.m1.1a"><mrow id="S3.SS2.p1.4.m1.1.1.1" xref="S3.SS2.p1.4.m1.1.1.1.1.cmml"><mrow id="S3.SS2.p1.4.m1.1.1.1.1" xref="S3.SS2.p1.4.m1.1.1.1.1.cmml"><mi id="S3.SS2.p1.4.m1.1.1.1.1.4" xref="S3.SS2.p1.4.m1.1.1.1.1.4.cmml">o</mi><mo id="S3.SS2.p1.4.m1.1.1.1.1.3" xref="S3.SS2.p1.4.m1.1.1.1.1.3.cmml">=</mo><mrow id="S3.SS2.p1.4.m1.1.1.1.1.2" xref="S3.SS2.p1.4.m1.1.1.1.1.2.cmml"><mrow id="S3.SS2.p1.4.m1.1.1.1.1.1.1.1" xref="S3.SS2.p1.4.m1.1.1.1.1.1.1.2.cmml"><mo id="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.SS2.p1.4.m1.1.1.1.1.1.1.2.1.cmml">[</mo><msub id="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1" xref="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1.2.cmml">s</mi><mn id="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.SS2.p1.4.m1.1.1.1.1.1.1.2.1.cmml">]</mo></mrow><mo id="S3.SS2.p1.4.m1.1.1.1.1.2.3" xref="S3.SS2.p1.4.m1.1.1.1.1.2.3.cmml">⁢</mo><mi id="S3.SS2.p1.4.m1.1.1.1.1.2.4" mathvariant="normal" xref="S3.SS2.p1.4.m1.1.1.1.1.2.4.cmml">…</mi><mo id="S3.SS2.p1.4.m1.1.1.1.1.2.3a" xref="S3.SS2.p1.4.m1.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.SS2.p1.4.m1.1.1.1.1.2.2.1" xref="S3.SS2.p1.4.m1.1.1.1.1.2.2.2.cmml"><mo id="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.2" stretchy="false" xref="S3.SS2.p1.4.m1.1.1.1.1.2.2.2.1.cmml">[</mo><msub id="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1" xref="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1.cmml"><mi id="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1.2" xref="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1.2.cmml">s</mi><mi id="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1.3" xref="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1.3.cmml">n</mi></msub><mo id="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.3" stretchy="false" xref="S3.SS2.p1.4.m1.1.1.1.1.2.2.2.1.cmml">]</mo></mrow></mrow></mrow><mo id="S3.SS2.p1.4.m1.1.1.1.2" lspace="0em" xref="S3.SS2.p1.4.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m1.1b"><apply id="S3.SS2.p1.4.m1.1.1.1.1.cmml" xref="S3.SS2.p1.4.m1.1.1.1"><eq id="S3.SS2.p1.4.m1.1.1.1.1.3.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.3"></eq><ci id="S3.SS2.p1.4.m1.1.1.1.1.4.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.4">𝑜</ci><apply id="S3.SS2.p1.4.m1.1.1.1.1.2.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.2"><times id="S3.SS2.p1.4.m1.1.1.1.1.2.3.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.2.3"></times><apply id="S3.SS2.p1.4.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p1.4.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1.2">𝑠</ci><cn id="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.SS2.p1.4.m1.1.1.1.1.1.1.1.1.3">1</cn></apply></apply><ci id="S3.SS2.p1.4.m1.1.1.1.1.2.4.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.2.4">…</ci><apply id="S3.SS2.p1.4.m1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.2.2.1"><csymbol cd="latexml" id="S3.SS2.p1.4.m1.1.1.1.1.2.2.2.1.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.2">delimited-[]</csymbol><apply id="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1.1.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1.2.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1.2">𝑠</ci><ci id="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1.3.cmml" xref="S3.SS2.p1.4.m1.1.1.1.1.2.2.1.1.3">𝑛</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m1.1c">o=[s_{1}]\ldots[s_{n}].</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.4.m1.1d">italic_o = [ italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ] … [ italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ] .</annotation></semantics></math> Subsequently, we optimize the sub-aspect explorer by the next token prediction (NTP) loss function:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E2">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E2X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{se}=-\sum\nolimits_{i=1}^{|o|}\log P(o_{i}|o_{1:i-1}%
,q,p_{se})." class="ltx_Math" display="inline" id="S3.E2X.2.1.1.m1.3"><semantics id="S3.E2X.2.1.1.m1.3a"><mrow id="S3.E2X.2.1.1.m1.3.3.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.cmml"><mrow id="S3.E2X.2.1.1.m1.3.3.1.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.cmml"><msub id="S3.E2X.2.1.1.m1.3.3.1.1.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2X.2.1.1.m1.3.3.1.1.3.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.2.cmml">ℒ</mi><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.3.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.3.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.3.3.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.3.2.cmml">s</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.3.3.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E2X.2.1.1.m1.3.3.1.1.3.3.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.3.3.cmml">e</mi></mrow></msub><mo id="S3.E2X.2.1.1.m1.3.3.1.1.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.cmml"><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1a" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.cmml">−</mo><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.cmml"><msubsup id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2a" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.cmml"><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.E2X.2.1.1.m1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.2.cmml"><mo id="S3.E2X.2.1.1.m1.1.1.1.3.1" stretchy="false" xref="S3.E2X.2.1.1.m1.1.1.1.2.1.cmml">|</mo><mi id="S3.E2X.2.1.1.m1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.cmml">o</mi><mo id="S3.E2X.2.1.1.m1.1.1.1.3.2" stretchy="false" xref="S3.E2X.2.1.1.m1.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mstyle><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.cmml"><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.1.cmml">log</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3a" lspace="0.167em" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.cmml">⁡</mo><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.2.cmml">P</mi></mrow><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4.2.cmml">o</mi><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4.3.cmml">i</mi></msub><mo fence="false" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.cmml">o</mi><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mn id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">1</mn><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.1" lspace="0.278em" rspace="0.278em" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">−</mo><mn id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.3.cmml">,</mo><mi id="S3.E2X.2.1.1.m1.2.2" xref="S3.E2X.2.1.1.m1.2.2.cmml">q</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.4" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.2.cmml">p</mi><mrow id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.2" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml">s</mi><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.3" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml">e</mi></mrow></msub></mrow></mrow><mo id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.E2X.2.1.1.m1.3.3.1.2" lspace="0em" xref="S3.E2X.2.1.1.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2X.2.1.1.m1.3b"><apply id="S3.E2X.2.1.1.m1.3.3.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1"><eq id="S3.E2X.2.1.1.m1.3.3.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.2"></eq><apply id="S3.E2X.2.1.1.m1.3.3.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.3.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.3">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.3.3.1.1.3.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.2">ℒ</ci><apply id="S3.E2X.2.1.1.m1.3.3.1.1.3.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.3"><times id="S3.E2X.2.1.1.m1.3.3.1.1.3.3.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.3.1"></times><ci id="S3.E2X.2.1.1.m1.3.3.1.1.3.3.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.3.2">𝑠</ci><ci id="S3.E2X.2.1.1.m1.3.3.1.1.3.3.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.3.3.3">𝑒</ci></apply></apply><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1"><minus id="S3.E2X.2.1.1.m1.3.3.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1"></minus><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1"><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2">superscript</csymbol><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2">subscript</csymbol><sum id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.2"></sum><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3"><eq id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.1"></eq><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.2">𝑖</ci><cn id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E2X.2.1.1.m1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.3"><abs id="S3.E2X.2.1.1.m1.1.1.1.2.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.3.1"></abs><ci id="S3.E2X.2.1.1.m1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1">𝑜</ci></apply></apply><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1"><times id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.2"></times><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3"><log id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.1"></log><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.3.2">𝑃</ci></apply><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.3">conditional</csymbol><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4.2">𝑜</ci><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.4.3">𝑖</ci></apply><list id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2"><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2">𝑜</ci><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3"><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.1">:</ci><cn id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" type="integer" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.2">1</cn><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3"><minus id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.1"></minus><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.2">𝑖</ci><cn id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" type="integer" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply><ci id="S3.E2X.2.1.1.m1.2.2.cmml" xref="S3.E2X.2.1.1.m1.2.2">𝑞</ci><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.2">𝑝</ci><apply id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3"><times id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.1"></times><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.2">𝑠</ci><ci id="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.2.3.3">𝑒</ci></apply></apply></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2X.2.1.1.m1.3c">\displaystyle\mathcal{L}_{se}=-\sum\nolimits_{i=1}^{|o|}\log P(o_{i}|o_{1:i-1}%
,q,p_{se}).</annotation><annotation encoding="application/x-llamapun" id="S3.E2X.2.1.1.m1.3d">caligraphic_L start_POSTSUBSCRIPT italic_s italic_e end_POSTSUBSCRIPT = - ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | italic_o | end_POSTSUPERSCRIPT roman_log italic_P ( italic_o start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_o start_POSTSUBSCRIPT 1 : italic_i - 1 end_POSTSUBSCRIPT , italic_q , italic_p start_POSTSUBSCRIPT italic_s italic_e end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(2)</span></td>
</tr>
</tbody>
</table>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Multi-faceted Retriever</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">Given the query’s sub-aspects that represent the user’s various potential sub-intents, we then use a multi-faceted retriever to collect documents that are relevant to various sub-aspects to build a diverse candidate pool. This operation could filter out apparent irrelevant documents and shrink the search space of the subsequent ranker. The multi-faceted retriever consists of the following two processes.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.2">The first is a retrieval process, where we separately retrieve top-N documents <math alttext="\mathcal{D}_{i}" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.1"><semantics id="S3.SS3.p2.1.m1.1a"><msub id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml">𝒟</mi><mi id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2">𝒟</ci><ci id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">\mathcal{D}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.1d">caligraphic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> from the corpus for each sub-aspect <math alttext="\hat{s_{i}}" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.1"><semantics id="S3.SS3.p2.2.m2.1a"><mover accent="true" id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><msub id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2.2" xref="S3.SS3.p2.2.m2.1.1.2.2.cmml">s</mi><mi id="S3.SS3.p2.2.m2.1.1.2.3" xref="S3.SS3.p2.2.m2.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS3.p2.2.m2.1.1.1" xref="S3.SS3.p2.2.m2.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><ci id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1.1">^</ci><apply id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.2.1.cmml" xref="S3.SS3.p2.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.2.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2.2">𝑠</ci><ci id="S3.SS3.p2.2.m2.1.1.2.3.cmml" xref="S3.SS3.p2.2.m2.1.1.2.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">\hat{s_{i}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m2.1d">over^ start_ARG italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG</annotation></semantics></math>.
To avoid the topic drift, we concatenate each sub-aspect with the original query to form a new query and retrieve as follows,</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{D}_{i}=\mathcal{R}(q\circ\hat{s_{i}},\mathcal{C})," class="ltx_Math" display="block" id="S3.E3.m1.2"><semantics id="S3.E3.m1.2a"><mrow id="S3.E3.m1.2.2.1" xref="S3.E3.m1.2.2.1.1.cmml"><mrow id="S3.E3.m1.2.2.1.1" xref="S3.E3.m1.2.2.1.1.cmml"><msub id="S3.E3.m1.2.2.1.1.3" xref="S3.E3.m1.2.2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.2.1.1.3.2" xref="S3.E3.m1.2.2.1.1.3.2.cmml">𝒟</mi><mi id="S3.E3.m1.2.2.1.1.3.3" xref="S3.E3.m1.2.2.1.1.3.3.cmml">i</mi></msub><mo id="S3.E3.m1.2.2.1.1.2" xref="S3.E3.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E3.m1.2.2.1.1.1" xref="S3.E3.m1.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.2.1.1.1.3" xref="S3.E3.m1.2.2.1.1.1.3.cmml">ℛ</mi><mo id="S3.E3.m1.2.2.1.1.1.2" xref="S3.E3.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.2.2.1.1.1.1.1" xref="S3.E3.m1.2.2.1.1.1.1.2.cmml"><mo id="S3.E3.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.2.2.1.1.1.1.2.cmml">(</mo><mrow id="S3.E3.m1.2.2.1.1.1.1.1.1" xref="S3.E3.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.2.2.1.1.1.1.1.1.2" xref="S3.E3.m1.2.2.1.1.1.1.1.1.2.cmml">q</mi><mo id="S3.E3.m1.2.2.1.1.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1.cmml">∘</mo><mover accent="true" id="S3.E3.m1.2.2.1.1.1.1.1.1.3" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3.cmml"><msub id="S3.E3.m1.2.2.1.1.1.1.1.1.3.2" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3.2.cmml"><mi id="S3.E3.m1.2.2.1.1.1.1.1.1.3.2.2" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3.2.2.cmml">s</mi><mi id="S3.E3.m1.2.2.1.1.1.1.1.1.3.2.3" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3.2.3.cmml">i</mi></msub><mo id="S3.E3.m1.2.2.1.1.1.1.1.1.3.1" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3.1.cmml">^</mo></mover></mrow><mo id="S3.E3.m1.2.2.1.1.1.1.1.3" xref="S3.E3.m1.2.2.1.1.1.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml">𝒞</mi><mo id="S3.E3.m1.2.2.1.1.1.1.1.4" stretchy="false" xref="S3.E3.m1.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E3.m1.2.2.1.2" xref="S3.E3.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.2b"><apply id="S3.E3.m1.2.2.1.1.cmml" xref="S3.E3.m1.2.2.1"><eq id="S3.E3.m1.2.2.1.1.2.cmml" xref="S3.E3.m1.2.2.1.1.2"></eq><apply id="S3.E3.m1.2.2.1.1.3.cmml" xref="S3.E3.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.3.1.cmml" xref="S3.E3.m1.2.2.1.1.3">subscript</csymbol><ci id="S3.E3.m1.2.2.1.1.3.2.cmml" xref="S3.E3.m1.2.2.1.1.3.2">𝒟</ci><ci id="S3.E3.m1.2.2.1.1.3.3.cmml" xref="S3.E3.m1.2.2.1.1.3.3">𝑖</ci></apply><apply id="S3.E3.m1.2.2.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1"><times id="S3.E3.m1.2.2.1.1.1.2.cmml" xref="S3.E3.m1.2.2.1.1.1.2"></times><ci id="S3.E3.m1.2.2.1.1.1.3.cmml" xref="S3.E3.m1.2.2.1.1.1.3">ℛ</ci><interval closure="open" id="S3.E3.m1.2.2.1.1.1.1.2.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1"><apply id="S3.E3.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1"><compose id="S3.E3.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.1"></compose><ci id="S3.E3.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.2">𝑞</ci><apply id="S3.E3.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3"><ci id="S3.E3.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3.1">^</ci><apply id="S3.E3.m1.2.2.1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E3.m1.2.2.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3.2.2">𝑠</ci><ci id="S3.E3.m1.2.2.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3.2.3">𝑖</ci></apply></apply></apply><ci id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1">𝒞</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.2c">\mathcal{D}_{i}=\mathcal{R}(q\circ\hat{s_{i}},\mathcal{C}),</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.2d">caligraphic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = caligraphic_R ( italic_q ∘ over^ start_ARG italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG , caligraphic_C ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p2.5">where <math alttext="\circ" class="ltx_Math" display="inline" id="S3.SS3.p2.3.m1.1"><semantics id="S3.SS3.p2.3.m1.1a"><mo id="S3.SS3.p2.3.m1.1.1" xref="S3.SS3.p2.3.m1.1.1.cmml">∘</mo><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m1.1b"><compose id="S3.SS3.p2.3.m1.1.1.cmml" xref="S3.SS3.p2.3.m1.1.1"></compose></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m1.1c">\circ</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.3.m1.1d">∘</annotation></semantics></math> denotes concatenation and each document in <math alttext="\mathcal{D}_{i}" class="ltx_Math" display="inline" id="S3.SS3.p2.4.m2.1"><semantics id="S3.SS3.p2.4.m2.1a"><msub id="S3.SS3.p2.4.m2.1.1" xref="S3.SS3.p2.4.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.4.m2.1.1.2" xref="S3.SS3.p2.4.m2.1.1.2.cmml">𝒟</mi><mi id="S3.SS3.p2.4.m2.1.1.3" xref="S3.SS3.p2.4.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m2.1b"><apply id="S3.SS3.p2.4.m2.1.1.cmml" xref="S3.SS3.p2.4.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m2.1.1.1.cmml" xref="S3.SS3.p2.4.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.4.m2.1.1.2.cmml" xref="S3.SS3.p2.4.m2.1.1.2">𝒟</ci><ci id="S3.SS3.p2.4.m2.1.1.3.cmml" xref="S3.SS3.p2.4.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m2.1c">\mathcal{D}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.4.m2.1d">caligraphic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is associated with the sub-aspect, <math alttext="\hat{s_{i}}" class="ltx_Math" display="inline" id="S3.SS3.p2.5.m3.1"><semantics id="S3.SS3.p2.5.m3.1a"><mover accent="true" id="S3.SS3.p2.5.m3.1.1" xref="S3.SS3.p2.5.m3.1.1.cmml"><msub id="S3.SS3.p2.5.m3.1.1.2" xref="S3.SS3.p2.5.m3.1.1.2.cmml"><mi id="S3.SS3.p2.5.m3.1.1.2.2" xref="S3.SS3.p2.5.m3.1.1.2.2.cmml">s</mi><mi id="S3.SS3.p2.5.m3.1.1.2.3" xref="S3.SS3.p2.5.m3.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS3.p2.5.m3.1.1.1" xref="S3.SS3.p2.5.m3.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m3.1b"><apply id="S3.SS3.p2.5.m3.1.1.cmml" xref="S3.SS3.p2.5.m3.1.1"><ci id="S3.SS3.p2.5.m3.1.1.1.cmml" xref="S3.SS3.p2.5.m3.1.1.1">^</ci><apply id="S3.SS3.p2.5.m3.1.1.2.cmml" xref="S3.SS3.p2.5.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p2.5.m3.1.1.2.1.cmml" xref="S3.SS3.p2.5.m3.1.1.2">subscript</csymbol><ci id="S3.SS3.p2.5.m3.1.1.2.2.cmml" xref="S3.SS3.p2.5.m3.1.1.2.2">𝑠</ci><ci id="S3.SS3.p2.5.m3.1.1.2.3.cmml" xref="S3.SS3.p2.5.m3.1.1.2.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m3.1c">\hat{s_{i}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.5.m3.1d">over^ start_ARG italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.2">Next, a combination process is introduced to merge all these retrieved documents to create the candidate pool, <math alttext="\mathcal{P}" class="ltx_Math" display="inline" id="S3.SS3.p3.1.m1.1"><semantics id="S3.SS3.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><ci id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">\mathcal{P}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.1.m1.1d">caligraphic_P</annotation></semantics></math>. Since some documents may be retrieved multiple times by different sub-aspects, to reduce the space-time burden of the ranker, we treat the repeated documents as a single one, hence the associated sub-aspects form a set, <math alttext="s(d)" class="ltx_Math" display="inline" id="S3.SS3.p3.2.m2.1"><semantics id="S3.SS3.p3.2.m2.1a"><mrow id="S3.SS3.p3.2.m2.1.2" xref="S3.SS3.p3.2.m2.1.2.cmml"><mi id="S3.SS3.p3.2.m2.1.2.2" xref="S3.SS3.p3.2.m2.1.2.2.cmml">s</mi><mo id="S3.SS3.p3.2.m2.1.2.1" xref="S3.SS3.p3.2.m2.1.2.1.cmml">⁢</mo><mrow id="S3.SS3.p3.2.m2.1.2.3.2" xref="S3.SS3.p3.2.m2.1.2.cmml"><mo id="S3.SS3.p3.2.m2.1.2.3.2.1" stretchy="false" xref="S3.SS3.p3.2.m2.1.2.cmml">(</mo><mi id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml">d</mi><mo id="S3.SS3.p3.2.m2.1.2.3.2.2" stretchy="false" xref="S3.SS3.p3.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.1b"><apply id="S3.SS3.p3.2.m2.1.2.cmml" xref="S3.SS3.p3.2.m2.1.2"><times id="S3.SS3.p3.2.m2.1.2.1.cmml" xref="S3.SS3.p3.2.m2.1.2.1"></times><ci id="S3.SS3.p3.2.m2.1.2.2.cmml" xref="S3.SS3.p3.2.m2.1.2.2">𝑠</ci><ci id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.1c">s(d)</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.2.m2.1d">italic_s ( italic_d )</annotation></semantics></math>:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E4">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E4X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{P}" class="ltx_Math" display="inline" id="S3.E4X.2.1.1.m1.1"><semantics id="S3.E4X.2.1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.E4X.2.1.1.m1.1.1" xref="S3.E4X.2.1.1.m1.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="S3.E4X.2.1.1.m1.1b"><ci id="S3.E4X.2.1.1.m1.1.1.cmml" xref="S3.E4X.2.1.1.m1.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.E4X.2.1.1.m1.1c">\displaystyle\mathcal{P}</annotation><annotation encoding="application/x-llamapun" id="S3.E4X.2.1.1.m1.1d">caligraphic_P</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\mathcal{M}(\mathcal{D}_{1:m})=\{d_{1},\ldots,d_{M}\}," class="ltx_Math" display="inline" id="S3.E4X.3.2.2.m1.2"><semantics id="S3.E4X.3.2.2.m1.2a"><mrow id="S3.E4X.3.2.2.m1.2.2.1" xref="S3.E4X.3.2.2.m1.2.2.1.1.cmml"><mrow id="S3.E4X.3.2.2.m1.2.2.1.1" xref="S3.E4X.3.2.2.m1.2.2.1.1.cmml"><mi id="S3.E4X.3.2.2.m1.2.2.1.1.5" xref="S3.E4X.3.2.2.m1.2.2.1.1.5.cmml"></mi><mo id="S3.E4X.3.2.2.m1.2.2.1.1.6" xref="S3.E4X.3.2.2.m1.2.2.1.1.6.cmml">=</mo><mrow id="S3.E4X.3.2.2.m1.2.2.1.1.1" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4X.3.2.2.m1.2.2.1.1.1.3" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.3.cmml">ℳ</mi><mo id="S3.E4X.3.2.2.m1.2.2.1.1.1.2" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml"><mo id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.2" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml">𝒟</mi><mrow id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml"><mn id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.2" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.2.cmml">1</mn><mo id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.1" lspace="0.278em" rspace="0.278em" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.1.cmml">:</mo><mi id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.3" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.cmml">m</mi></mrow></msub><mo id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.3" stretchy="false" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4X.3.2.2.m1.2.2.1.1.7" xref="S3.E4X.3.2.2.m1.2.2.1.1.7.cmml">=</mo><mrow id="S3.E4X.3.2.2.m1.2.2.1.1.3.2" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.3.cmml"><mo id="S3.E4X.3.2.2.m1.2.2.1.1.3.2.3" stretchy="false" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.3.cmml">{</mo><msub id="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1" xref="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1.cmml"><mi id="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1.2" xref="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1.2.cmml">d</mi><mn id="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1.3" xref="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1.3.cmml">1</mn></msub><mo id="S3.E4X.3.2.2.m1.2.2.1.1.3.2.4" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.3.cmml">,</mo><mi id="S3.E4X.3.2.2.m1.1.1" mathvariant="normal" xref="S3.E4X.3.2.2.m1.1.1.cmml">…</mi><mo id="S3.E4X.3.2.2.m1.2.2.1.1.3.2.5" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.3.cmml">,</mo><msub id="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2.cmml"><mi id="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2.2" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2.2.cmml">d</mi><mi id="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2.3" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2.3.cmml">M</mi></msub><mo id="S3.E4X.3.2.2.m1.2.2.1.1.3.2.6" stretchy="false" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.3.cmml">}</mo></mrow></mrow><mo id="S3.E4X.3.2.2.m1.2.2.1.2" xref="S3.E4X.3.2.2.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4X.3.2.2.m1.2b"><apply id="S3.E4X.3.2.2.m1.2.2.1.1.cmml" xref="S3.E4X.3.2.2.m1.2.2.1"><and id="S3.E4X.3.2.2.m1.2.2.1.1a.cmml" xref="S3.E4X.3.2.2.m1.2.2.1"></and><apply id="S3.E4X.3.2.2.m1.2.2.1.1b.cmml" xref="S3.E4X.3.2.2.m1.2.2.1"><eq id="S3.E4X.3.2.2.m1.2.2.1.1.6.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.6"></eq><csymbol cd="latexml" id="S3.E4X.3.2.2.m1.2.2.1.1.5.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.5">absent</csymbol><apply id="S3.E4X.3.2.2.m1.2.2.1.1.1.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.1"><times id="S3.E4X.3.2.2.m1.2.2.1.1.1.2.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.2"></times><ci id="S3.E4X.3.2.2.m1.2.2.1.1.1.3.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.3">ℳ</ci><apply id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.2">𝒟</ci><apply id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3"><ci id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.1">:</ci><cn id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.2.cmml" type="integer" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.2">1</cn><ci id="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.1.1.1.1.3.3">𝑚</ci></apply></apply></apply></apply><apply id="S3.E4X.3.2.2.m1.2.2.1.1c.cmml" xref="S3.E4X.3.2.2.m1.2.2.1"><eq id="S3.E4X.3.2.2.m1.2.2.1.1.7.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.7"></eq><share href="https://arxiv.org/html/2406.12566v3#S3.E4X.3.2.2.m1.2.2.1.1.1.cmml" id="S3.E4X.3.2.2.m1.2.2.1.1d.cmml" xref="S3.E4X.3.2.2.m1.2.2.1"></share><set id="S3.E4X.3.2.2.m1.2.2.1.1.3.3.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.2"><apply id="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1"><csymbol cd="ambiguous" id="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1.1.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1">subscript</csymbol><ci id="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1.2.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1.2">𝑑</ci><cn id="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1.3.cmml" type="integer" xref="S3.E4X.3.2.2.m1.2.2.1.1.2.1.1.3">1</cn></apply><ci id="S3.E4X.3.2.2.m1.1.1.cmml" xref="S3.E4X.3.2.2.m1.1.1">…</ci><apply id="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2.1.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2">subscript</csymbol><ci id="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2.2.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2.2">𝑑</ci><ci id="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2.3.cmml" xref="S3.E4X.3.2.2.m1.2.2.1.1.3.2.2.3">𝑀</ci></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4X.3.2.2.m1.2c">\displaystyle=\mathcal{M}(\mathcal{D}_{1:m})=\{d_{1},\ldots,d_{M}\},</annotation><annotation encoding="application/x-llamapun" id="S3.E4X.3.2.2.m1.2d">= caligraphic_M ( caligraphic_D start_POSTSUBSCRIPT 1 : italic_m end_POSTSUBSCRIPT ) = { italic_d start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_d start_POSTSUBSCRIPT italic_M end_POSTSUBSCRIPT } ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(4)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E4Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle s(d_{i})" class="ltx_Math" display="inline" id="S3.E4Xa.2.1.1.m1.1"><semantics id="S3.E4Xa.2.1.1.m1.1a"><mrow id="S3.E4Xa.2.1.1.m1.1.1" xref="S3.E4Xa.2.1.1.m1.1.1.cmml"><mi id="S3.E4Xa.2.1.1.m1.1.1.3" xref="S3.E4Xa.2.1.1.m1.1.1.3.cmml">s</mi><mo id="S3.E4Xa.2.1.1.m1.1.1.2" xref="S3.E4Xa.2.1.1.m1.1.1.2.cmml">⁢</mo><mrow id="S3.E4Xa.2.1.1.m1.1.1.1.1" xref="S3.E4Xa.2.1.1.m1.1.1.1.1.1.cmml"><mo id="S3.E4Xa.2.1.1.m1.1.1.1.1.2" stretchy="false" xref="S3.E4Xa.2.1.1.m1.1.1.1.1.1.cmml">(</mo><msub id="S3.E4Xa.2.1.1.m1.1.1.1.1.1" xref="S3.E4Xa.2.1.1.m1.1.1.1.1.1.cmml"><mi id="S3.E4Xa.2.1.1.m1.1.1.1.1.1.2" xref="S3.E4Xa.2.1.1.m1.1.1.1.1.1.2.cmml">d</mi><mi id="S3.E4Xa.2.1.1.m1.1.1.1.1.1.3" xref="S3.E4Xa.2.1.1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E4Xa.2.1.1.m1.1.1.1.1.3" stretchy="false" xref="S3.E4Xa.2.1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4Xa.2.1.1.m1.1b"><apply id="S3.E4Xa.2.1.1.m1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1"><times id="S3.E4Xa.2.1.1.m1.1.1.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.2"></times><ci id="S3.E4Xa.2.1.1.m1.1.1.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.3">𝑠</ci><apply id="S3.E4Xa.2.1.1.m1.1.1.1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4Xa.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.1.1">subscript</csymbol><ci id="S3.E4Xa.2.1.1.m1.1.1.1.1.1.2.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.1.1.1.2">𝑑</ci><ci id="S3.E4Xa.2.1.1.m1.1.1.1.1.1.3.cmml" xref="S3.E4Xa.2.1.1.m1.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4Xa.2.1.1.m1.1c">\displaystyle s(d_{i})</annotation><annotation encoding="application/x-llamapun" id="S3.E4Xa.2.1.1.m1.1d">italic_s ( italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\{\hat{s}^{i}_{1},\ldots,\hat{s}^{i}_{n_{i}}\}." class="ltx_Math" display="inline" id="S3.E4Xa.3.2.2.m1.2"><semantics id="S3.E4Xa.3.2.2.m1.2a"><mrow id="S3.E4Xa.3.2.2.m1.2.2.1" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.cmml"><mrow id="S3.E4Xa.3.2.2.m1.2.2.1.1" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.cmml"><mi id="S3.E4Xa.3.2.2.m1.2.2.1.1.4" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.4.cmml"></mi><mo id="S3.E4Xa.3.2.2.m1.2.2.1.1.3" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.3.cmml">=</mo><mrow id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.3.cmml"><mo id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.3" stretchy="false" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.3.cmml">{</mo><msubsup id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.cmml"><mover accent="true" id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2.cmml"><mi id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2.2" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2.1" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2.1.cmml">^</mo></mover><mn id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.3" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.3.cmml">1</mn><mi id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.3" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.3.cmml">i</mi></msubsup><mo id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.4" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.3.cmml">,</mo><mi id="S3.E4Xa.3.2.2.m1.1.1" mathvariant="normal" xref="S3.E4Xa.3.2.2.m1.1.1.cmml">…</mi><mo id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.5" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.3.cmml">,</mo><msubsup id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.cmml"><mover accent="true" id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.2" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.2.cmml"><mi id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.2.2" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.2.2.cmml">s</mi><mo id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.2.1" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.2.1.cmml">^</mo></mover><msub id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3.cmml"><mi id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3.2" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3.2.cmml">n</mi><mi id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3.3" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3.3.cmml">i</mi></msub><mi id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.3" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.3.cmml">i</mi></msubsup><mo id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.6" stretchy="false" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.3.cmml">}</mo></mrow></mrow><mo id="S3.E4Xa.3.2.2.m1.2.2.1.2" lspace="0em" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4Xa.3.2.2.m1.2b"><apply id="S3.E4Xa.3.2.2.m1.2.2.1.1.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1"><eq id="S3.E4Xa.3.2.2.m1.2.2.1.1.3.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.3"></eq><csymbol cd="latexml" id="S3.E4Xa.3.2.2.m1.2.2.1.1.4.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.4">absent</csymbol><set id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.3.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2"><apply id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1">subscript</csymbol><apply id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.1.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1">superscript</csymbol><apply id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2"><ci id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2.1.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2.1">^</ci><ci id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2.2.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.3.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.2.3">𝑖</ci></apply><cn id="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.3.cmml" type="integer" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.1.1.1.3">1</cn></apply><ci id="S3.E4Xa.3.2.2.m1.1.1.cmml" xref="S3.E4Xa.3.2.2.m1.1.1">…</ci><apply id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.1.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2">subscript</csymbol><apply id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.1.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2">superscript</csymbol><apply id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.2.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.2"><ci id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.2.1.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.2.1">^</ci><ci id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.2.2.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.2.2">𝑠</ci></apply><ci id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.3.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.2.3">𝑖</ci></apply><apply id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3"><csymbol cd="ambiguous" id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3.1.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3">subscript</csymbol><ci id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3.2.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3.2">𝑛</ci><ci id="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3.3.cmml" xref="S3.E4Xa.3.2.2.m1.2.2.1.1.2.2.2.3.3">𝑖</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4Xa.3.2.2.m1.2c">\displaystyle=\{\hat{s}^{i}_{1},\ldots,\hat{s}^{i}_{n_{i}}\}.</annotation><annotation encoding="application/x-llamapun" id="S3.E4Xa.3.2.2.m1.2d">= { over^ start_ARG italic_s end_ARG start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , over^ start_ARG italic_s end_ARG start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_n start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT } .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS3.p3.4"><math alttext="\mathcal{M}()" class="ltx_Math" display="inline" id="S3.SS3.p3.3.m1.1"><semantics id="S3.SS3.p3.3.m1.1a"><mrow id="S3.SS3.p3.3.m1.1.1" xref="S3.SS3.p3.3.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p3.3.m1.1.1.2" xref="S3.SS3.p3.3.m1.1.1.2.cmml">ℳ</mi><mo id="S3.SS3.p3.3.m1.1.1.1" xref="S3.SS3.p3.3.m1.1.1.1.cmml">⁢</mo><mrow id="S3.SS3.p3.3.m1.1.1.3.2" xref="S3.SS3.p3.3.m1.1.1.cmml"><mo id="S3.SS3.p3.3.m1.1.1.3.2.1" stretchy="false" xref="S3.SS3.p3.3.m1.1.1.3.1.cmml">(</mo><mo id="S3.SS3.p3.3.m1.1.1.3.2.2" stretchy="false" xref="S3.SS3.p3.3.m1.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.3.m1.1b"><apply id="S3.SS3.p3.3.m1.1.1.cmml" xref="S3.SS3.p3.3.m1.1.1"><times id="S3.SS3.p3.3.m1.1.1.1.cmml" xref="S3.SS3.p3.3.m1.1.1.1"></times><ci id="S3.SS3.p3.3.m1.1.1.2.cmml" xref="S3.SS3.p3.3.m1.1.1.2">ℳ</ci><list id="S3.SS3.p3.3.m1.1.1.3.1.cmml" xref="S3.SS3.p3.3.m1.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.3.m1.1c">\mathcal{M}()</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.3.m1.1d">caligraphic_M ( )</annotation></semantics></math> denotes the combination and <math alttext="M" class="ltx_Math" display="inline" id="S3.SS3.p3.4.m2.1"><semantics id="S3.SS3.p3.4.m2.1a"><mi id="S3.SS3.p3.4.m2.1.1" xref="S3.SS3.p3.4.m2.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.4.m2.1b"><ci id="S3.SS3.p3.4.m2.1.1.cmml" xref="S3.SS3.p3.4.m2.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.4.m2.1c">M</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.4.m2.1d">italic_M</annotation></semantics></math> is the maximum capacity of the pool. This candidate pool collects potentially valuable documents that sufficiently cover various sub-aspects of the query.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Generative List-wise Ranker</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.4">Though we have collected plenty of candidates related to various sub-aspects, directly providing these massive documents to the generator is challenging due to the extensive processing burden and potential noisy information.
Consequently, we devise a ranking model that targets to sort out the top-<math alttext="k" class="ltx_Math" display="inline" id="S3.SS4.p1.1.m1.1"><semantics id="S3.SS4.p1.1.m1.1a"><mi id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.1b"><ci id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.1.m1.1d">italic_k</annotation></semantics></math> most valuable documents from the candidate pool. These ranked documents should collectively cover the query’s various sub-aspects and adhere to the preferences of the generator, hence enhancing the response performance.
To equip our ranker with the ability to globally model relationships among candidates, we build it upon a generative model,
T5 <cite class="ltx_cite ltx_citemacro_cite">Raffel et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib25" title="">2020</a>)</cite>, which views all candidates, sub-aspects, and the query as input and directly generates a top-k ranking list of document ID (docid) tokens. For each candidate, <math alttext="d_{i}" class="ltx_Math" display="inline" id="S3.SS4.p1.2.m2.1"><semantics id="S3.SS4.p1.2.m2.1a"><msub id="S3.SS4.p1.2.m2.1.1" xref="S3.SS4.p1.2.m2.1.1.cmml"><mi id="S3.SS4.p1.2.m2.1.1.2" xref="S3.SS4.p1.2.m2.1.1.2.cmml">d</mi><mi id="S3.SS4.p1.2.m2.1.1.3" xref="S3.SS4.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.1b"><apply id="S3.SS4.p1.2.m2.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.2.m2.1.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.p1.2.m2.1.1.2.cmml" xref="S3.SS4.p1.2.m2.1.1.2">𝑑</ci><ci id="S3.SS4.p1.2.m2.1.1.3.cmml" xref="S3.SS4.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.1c">d_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.2.m2.1d">italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, we concatenate it with the original query, <math alttext="q" class="ltx_Math" display="inline" id="S3.SS4.p1.3.m3.1"><semantics id="S3.SS4.p1.3.m3.1a"><mi id="S3.SS4.p1.3.m3.1.1" xref="S3.SS4.p1.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.3.m3.1b"><ci id="S3.SS4.p1.3.m3.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.3.m3.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.3.m3.1d">italic_q</annotation></semantics></math>, its associated sub-aspects, <math alttext="s(d_{i})=\{\hat{s}^{i}_{1},\ldots,\hat{s}^{i}_{n_{i}}\}" class="ltx_Math" display="inline" id="S3.SS4.p1.4.m4.4"><semantics id="S3.SS4.p1.4.m4.4a"><mrow id="S3.SS4.p1.4.m4.4.4" xref="S3.SS4.p1.4.m4.4.4.cmml"><mrow id="S3.SS4.p1.4.m4.2.2.1" xref="S3.SS4.p1.4.m4.2.2.1.cmml"><mi id="S3.SS4.p1.4.m4.2.2.1.3" xref="S3.SS4.p1.4.m4.2.2.1.3.cmml">s</mi><mo id="S3.SS4.p1.4.m4.2.2.1.2" xref="S3.SS4.p1.4.m4.2.2.1.2.cmml">⁢</mo><mrow id="S3.SS4.p1.4.m4.2.2.1.1.1" xref="S3.SS4.p1.4.m4.2.2.1.1.1.1.cmml"><mo id="S3.SS4.p1.4.m4.2.2.1.1.1.2" stretchy="false" xref="S3.SS4.p1.4.m4.2.2.1.1.1.1.cmml">(</mo><msub id="S3.SS4.p1.4.m4.2.2.1.1.1.1" xref="S3.SS4.p1.4.m4.2.2.1.1.1.1.cmml"><mi id="S3.SS4.p1.4.m4.2.2.1.1.1.1.2" xref="S3.SS4.p1.4.m4.2.2.1.1.1.1.2.cmml">d</mi><mi id="S3.SS4.p1.4.m4.2.2.1.1.1.1.3" xref="S3.SS4.p1.4.m4.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS4.p1.4.m4.2.2.1.1.1.3" stretchy="false" xref="S3.SS4.p1.4.m4.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS4.p1.4.m4.4.4.4" xref="S3.SS4.p1.4.m4.4.4.4.cmml">=</mo><mrow id="S3.SS4.p1.4.m4.4.4.3.2" xref="S3.SS4.p1.4.m4.4.4.3.3.cmml"><mo id="S3.SS4.p1.4.m4.4.4.3.2.3" stretchy="false" xref="S3.SS4.p1.4.m4.4.4.3.3.cmml">{</mo><msubsup id="S3.SS4.p1.4.m4.3.3.2.1.1" xref="S3.SS4.p1.4.m4.3.3.2.1.1.cmml"><mover accent="true" id="S3.SS4.p1.4.m4.3.3.2.1.1.2.2" xref="S3.SS4.p1.4.m4.3.3.2.1.1.2.2.cmml"><mi id="S3.SS4.p1.4.m4.3.3.2.1.1.2.2.2" xref="S3.SS4.p1.4.m4.3.3.2.1.1.2.2.2.cmml">s</mi><mo id="S3.SS4.p1.4.m4.3.3.2.1.1.2.2.1" xref="S3.SS4.p1.4.m4.3.3.2.1.1.2.2.1.cmml">^</mo></mover><mn id="S3.SS4.p1.4.m4.3.3.2.1.1.3" xref="S3.SS4.p1.4.m4.3.3.2.1.1.3.cmml">1</mn><mi id="S3.SS4.p1.4.m4.3.3.2.1.1.2.3" xref="S3.SS4.p1.4.m4.3.3.2.1.1.2.3.cmml">i</mi></msubsup><mo id="S3.SS4.p1.4.m4.4.4.3.2.4" xref="S3.SS4.p1.4.m4.4.4.3.3.cmml">,</mo><mi id="S3.SS4.p1.4.m4.1.1" mathvariant="normal" xref="S3.SS4.p1.4.m4.1.1.cmml">…</mi><mo id="S3.SS4.p1.4.m4.4.4.3.2.5" xref="S3.SS4.p1.4.m4.4.4.3.3.cmml">,</mo><msubsup id="S3.SS4.p1.4.m4.4.4.3.2.2" xref="S3.SS4.p1.4.m4.4.4.3.2.2.cmml"><mover accent="true" id="S3.SS4.p1.4.m4.4.4.3.2.2.2.2" xref="S3.SS4.p1.4.m4.4.4.3.2.2.2.2.cmml"><mi id="S3.SS4.p1.4.m4.4.4.3.2.2.2.2.2" xref="S3.SS4.p1.4.m4.4.4.3.2.2.2.2.2.cmml">s</mi><mo id="S3.SS4.p1.4.m4.4.4.3.2.2.2.2.1" xref="S3.SS4.p1.4.m4.4.4.3.2.2.2.2.1.cmml">^</mo></mover><msub id="S3.SS4.p1.4.m4.4.4.3.2.2.3" xref="S3.SS4.p1.4.m4.4.4.3.2.2.3.cmml"><mi id="S3.SS4.p1.4.m4.4.4.3.2.2.3.2" xref="S3.SS4.p1.4.m4.4.4.3.2.2.3.2.cmml">n</mi><mi id="S3.SS4.p1.4.m4.4.4.3.2.2.3.3" xref="S3.SS4.p1.4.m4.4.4.3.2.2.3.3.cmml">i</mi></msub><mi id="S3.SS4.p1.4.m4.4.4.3.2.2.2.3" xref="S3.SS4.p1.4.m4.4.4.3.2.2.2.3.cmml">i</mi></msubsup><mo id="S3.SS4.p1.4.m4.4.4.3.2.6" stretchy="false" xref="S3.SS4.p1.4.m4.4.4.3.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.4.m4.4b"><apply id="S3.SS4.p1.4.m4.4.4.cmml" xref="S3.SS4.p1.4.m4.4.4"><eq id="S3.SS4.p1.4.m4.4.4.4.cmml" xref="S3.SS4.p1.4.m4.4.4.4"></eq><apply id="S3.SS4.p1.4.m4.2.2.1.cmml" xref="S3.SS4.p1.4.m4.2.2.1"><times id="S3.SS4.p1.4.m4.2.2.1.2.cmml" xref="S3.SS4.p1.4.m4.2.2.1.2"></times><ci id="S3.SS4.p1.4.m4.2.2.1.3.cmml" xref="S3.SS4.p1.4.m4.2.2.1.3">𝑠</ci><apply id="S3.SS4.p1.4.m4.2.2.1.1.1.1.cmml" xref="S3.SS4.p1.4.m4.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.4.m4.2.2.1.1.1.1.1.cmml" xref="S3.SS4.p1.4.m4.2.2.1.1.1">subscript</csymbol><ci id="S3.SS4.p1.4.m4.2.2.1.1.1.1.2.cmml" xref="S3.SS4.p1.4.m4.2.2.1.1.1.1.2">𝑑</ci><ci id="S3.SS4.p1.4.m4.2.2.1.1.1.1.3.cmml" xref="S3.SS4.p1.4.m4.2.2.1.1.1.1.3">𝑖</ci></apply></apply><set id="S3.SS4.p1.4.m4.4.4.3.3.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2"><apply id="S3.SS4.p1.4.m4.3.3.2.1.1.cmml" xref="S3.SS4.p1.4.m4.3.3.2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.4.m4.3.3.2.1.1.1.cmml" xref="S3.SS4.p1.4.m4.3.3.2.1.1">subscript</csymbol><apply id="S3.SS4.p1.4.m4.3.3.2.1.1.2.cmml" xref="S3.SS4.p1.4.m4.3.3.2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.4.m4.3.3.2.1.1.2.1.cmml" xref="S3.SS4.p1.4.m4.3.3.2.1.1">superscript</csymbol><apply id="S3.SS4.p1.4.m4.3.3.2.1.1.2.2.cmml" xref="S3.SS4.p1.4.m4.3.3.2.1.1.2.2"><ci id="S3.SS4.p1.4.m4.3.3.2.1.1.2.2.1.cmml" xref="S3.SS4.p1.4.m4.3.3.2.1.1.2.2.1">^</ci><ci id="S3.SS4.p1.4.m4.3.3.2.1.1.2.2.2.cmml" xref="S3.SS4.p1.4.m4.3.3.2.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS4.p1.4.m4.3.3.2.1.1.2.3.cmml" xref="S3.SS4.p1.4.m4.3.3.2.1.1.2.3">𝑖</ci></apply><cn id="S3.SS4.p1.4.m4.3.3.2.1.1.3.cmml" type="integer" xref="S3.SS4.p1.4.m4.3.3.2.1.1.3">1</cn></apply><ci id="S3.SS4.p1.4.m4.1.1.cmml" xref="S3.SS4.p1.4.m4.1.1">…</ci><apply id="S3.SS4.p1.4.m4.4.4.3.2.2.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2.2"><csymbol cd="ambiguous" id="S3.SS4.p1.4.m4.4.4.3.2.2.1.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2.2">subscript</csymbol><apply id="S3.SS4.p1.4.m4.4.4.3.2.2.2.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2.2"><csymbol cd="ambiguous" id="S3.SS4.p1.4.m4.4.4.3.2.2.2.1.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2.2">superscript</csymbol><apply id="S3.SS4.p1.4.m4.4.4.3.2.2.2.2.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2.2.2.2"><ci id="S3.SS4.p1.4.m4.4.4.3.2.2.2.2.1.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2.2.2.2.1">^</ci><ci id="S3.SS4.p1.4.m4.4.4.3.2.2.2.2.2.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2.2.2.2.2">𝑠</ci></apply><ci id="S3.SS4.p1.4.m4.4.4.3.2.2.2.3.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2.2.2.3">𝑖</ci></apply><apply id="S3.SS4.p1.4.m4.4.4.3.2.2.3.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2.2.3"><csymbol cd="ambiguous" id="S3.SS4.p1.4.m4.4.4.3.2.2.3.1.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2.2.3">subscript</csymbol><ci id="S3.SS4.p1.4.m4.4.4.3.2.2.3.2.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2.2.3.2">𝑛</ci><ci id="S3.SS4.p1.4.m4.4.4.3.2.2.3.3.cmml" xref="S3.SS4.p1.4.m4.4.4.3.2.2.3.3">𝑖</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.4.m4.4c">s(d_{i})=\{\hat{s}^{i}_{1},\ldots,\hat{s}^{i}_{n_{i}}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.4.m4.4d">italic_s ( italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) = { over^ start_ARG italic_s end_ARG start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , over^ start_ARG italic_s end_ARG start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_n start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT }</annotation></semantics></math>, and some special tokens to formulate an input sequence:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="I_{i}=[\mathrm{D}_{i}]\circ q\circ[\mathrm{Q}]\circ\hat{s}^{i}_{1}\circ[%
\mathrm{E}]\ldots\;\hat{s}^{i}_{n_{i}}\circ[\mathrm{S}]\circ d_{i}," class="ltx_Math" display="block" id="S3.E5.m1.4"><semantics id="S3.E5.m1.4a"><mrow id="S3.E5.m1.4.4.1" xref="S3.E5.m1.4.4.1.1.cmml"><mrow id="S3.E5.m1.4.4.1.1" xref="S3.E5.m1.4.4.1.1.cmml"><msub id="S3.E5.m1.4.4.1.1.3" xref="S3.E5.m1.4.4.1.1.3.cmml"><mi id="S3.E5.m1.4.4.1.1.3.2" xref="S3.E5.m1.4.4.1.1.3.2.cmml">I</mi><mi id="S3.E5.m1.4.4.1.1.3.3" xref="S3.E5.m1.4.4.1.1.3.3.cmml">i</mi></msub><mo id="S3.E5.m1.4.4.1.1.2" xref="S3.E5.m1.4.4.1.1.2.cmml">=</mo><mrow id="S3.E5.m1.4.4.1.1.1" xref="S3.E5.m1.4.4.1.1.1.cmml"><mrow id="S3.E5.m1.4.4.1.1.1.1" xref="S3.E5.m1.4.4.1.1.1.1.cmml"><mrow id="S3.E5.m1.4.4.1.1.1.1.1" xref="S3.E5.m1.4.4.1.1.1.1.1.cmml"><mrow id="S3.E5.m1.4.4.1.1.1.1.1.1.1" xref="S3.E5.m1.4.4.1.1.1.1.1.1.2.cmml"><mo id="S3.E5.m1.4.4.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E5.m1.4.4.1.1.1.1.1.1.2.1.cmml">[</mo><msub id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2" mathvariant="normal" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.cmml">D</mi><mi id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E5.m1.4.4.1.1.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S3.E5.m1.4.4.1.1.1.1.1.1.2.1.cmml">]</mo></mrow><mo id="S3.E5.m1.4.4.1.1.1.1.1.2" rspace="0.222em" xref="S3.E5.m1.4.4.1.1.1.1.1.2.cmml">∘</mo><mi id="S3.E5.m1.4.4.1.1.1.1.1.3" xref="S3.E5.m1.4.4.1.1.1.1.1.3.cmml">q</mi><mo id="S3.E5.m1.4.4.1.1.1.1.1.2a" lspace="0.222em" rspace="0.222em" xref="S3.E5.m1.4.4.1.1.1.1.1.2.cmml">∘</mo><mrow id="S3.E5.m1.4.4.1.1.1.1.1.4.2" xref="S3.E5.m1.4.4.1.1.1.1.1.4.1.cmml"><mo id="S3.E5.m1.4.4.1.1.1.1.1.4.2.1" stretchy="false" xref="S3.E5.m1.4.4.1.1.1.1.1.4.1.1.cmml">[</mo><mi id="S3.E5.m1.1.1" mathvariant="normal" xref="S3.E5.m1.1.1.cmml">Q</mi><mo id="S3.E5.m1.4.4.1.1.1.1.1.4.2.2" rspace="0.055em" stretchy="false" xref="S3.E5.m1.4.4.1.1.1.1.1.4.1.1.cmml">]</mo></mrow><mo id="S3.E5.m1.4.4.1.1.1.1.1.2b" rspace="0.222em" xref="S3.E5.m1.4.4.1.1.1.1.1.2.cmml">∘</mo><msubsup id="S3.E5.m1.4.4.1.1.1.1.1.5" xref="S3.E5.m1.4.4.1.1.1.1.1.5.cmml"><mover accent="true" id="S3.E5.m1.4.4.1.1.1.1.1.5.2.2" xref="S3.E5.m1.4.4.1.1.1.1.1.5.2.2.cmml"><mi id="S3.E5.m1.4.4.1.1.1.1.1.5.2.2.2" xref="S3.E5.m1.4.4.1.1.1.1.1.5.2.2.2.cmml">s</mi><mo id="S3.E5.m1.4.4.1.1.1.1.1.5.2.2.1" xref="S3.E5.m1.4.4.1.1.1.1.1.5.2.2.1.cmml">^</mo></mover><mn id="S3.E5.m1.4.4.1.1.1.1.1.5.3" xref="S3.E5.m1.4.4.1.1.1.1.1.5.3.cmml">1</mn><mi id="S3.E5.m1.4.4.1.1.1.1.1.5.2.3" xref="S3.E5.m1.4.4.1.1.1.1.1.5.2.3.cmml">i</mi></msubsup><mo id="S3.E5.m1.4.4.1.1.1.1.1.2c" lspace="0.222em" rspace="0.222em" xref="S3.E5.m1.4.4.1.1.1.1.1.2.cmml">∘</mo><mrow id="S3.E5.m1.4.4.1.1.1.1.1.6.2" xref="S3.E5.m1.4.4.1.1.1.1.1.6.1.cmml"><mo id="S3.E5.m1.4.4.1.1.1.1.1.6.2.1" stretchy="false" xref="S3.E5.m1.4.4.1.1.1.1.1.6.1.1.cmml">[</mo><mi id="S3.E5.m1.2.2" mathvariant="normal" xref="S3.E5.m1.2.2.cmml">E</mi><mo id="S3.E5.m1.4.4.1.1.1.1.1.6.2.2" stretchy="false" xref="S3.E5.m1.4.4.1.1.1.1.1.6.1.1.cmml">]</mo></mrow></mrow><mo id="S3.E5.m1.4.4.1.1.1.1.2" xref="S3.E5.m1.4.4.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E5.m1.4.4.1.1.1.1.3" mathvariant="normal" xref="S3.E5.m1.4.4.1.1.1.1.3.cmml">…</mi><mo id="S3.E5.m1.4.4.1.1.1.1.2a" lspace="0.280em" xref="S3.E5.m1.4.4.1.1.1.1.2.cmml">⁢</mo><msubsup id="S3.E5.m1.4.4.1.1.1.1.4" xref="S3.E5.m1.4.4.1.1.1.1.4.cmml"><mover accent="true" id="S3.E5.m1.4.4.1.1.1.1.4.2.2" xref="S3.E5.m1.4.4.1.1.1.1.4.2.2.cmml"><mi id="S3.E5.m1.4.4.1.1.1.1.4.2.2.2" xref="S3.E5.m1.4.4.1.1.1.1.4.2.2.2.cmml">s</mi><mo id="S3.E5.m1.4.4.1.1.1.1.4.2.2.1" xref="S3.E5.m1.4.4.1.1.1.1.4.2.2.1.cmml">^</mo></mover><msub id="S3.E5.m1.4.4.1.1.1.1.4.3" xref="S3.E5.m1.4.4.1.1.1.1.4.3.cmml"><mi id="S3.E5.m1.4.4.1.1.1.1.4.3.2" xref="S3.E5.m1.4.4.1.1.1.1.4.3.2.cmml">n</mi><mi id="S3.E5.m1.4.4.1.1.1.1.4.3.3" xref="S3.E5.m1.4.4.1.1.1.1.4.3.3.cmml">i</mi></msub><mi id="S3.E5.m1.4.4.1.1.1.1.4.2.3" xref="S3.E5.m1.4.4.1.1.1.1.4.2.3.cmml">i</mi></msubsup></mrow><mo id="S3.E5.m1.4.4.1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S3.E5.m1.4.4.1.1.1.2.cmml">∘</mo><mrow id="S3.E5.m1.4.4.1.1.1.3.2" xref="S3.E5.m1.4.4.1.1.1.3.1.cmml"><mo id="S3.E5.m1.4.4.1.1.1.3.2.1" stretchy="false" xref="S3.E5.m1.4.4.1.1.1.3.1.1.cmml">[</mo><mi id="S3.E5.m1.3.3" mathvariant="normal" xref="S3.E5.m1.3.3.cmml">S</mi><mo id="S3.E5.m1.4.4.1.1.1.3.2.2" rspace="0.055em" stretchy="false" xref="S3.E5.m1.4.4.1.1.1.3.1.1.cmml">]</mo></mrow><mo id="S3.E5.m1.4.4.1.1.1.2a" rspace="0.222em" xref="S3.E5.m1.4.4.1.1.1.2.cmml">∘</mo><msub id="S3.E5.m1.4.4.1.1.1.4" xref="S3.E5.m1.4.4.1.1.1.4.cmml"><mi id="S3.E5.m1.4.4.1.1.1.4.2" xref="S3.E5.m1.4.4.1.1.1.4.2.cmml">d</mi><mi id="S3.E5.m1.4.4.1.1.1.4.3" xref="S3.E5.m1.4.4.1.1.1.4.3.cmml">i</mi></msub></mrow></mrow><mo id="S3.E5.m1.4.4.1.2" xref="S3.E5.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.4b"><apply id="S3.E5.m1.4.4.1.1.cmml" xref="S3.E5.m1.4.4.1"><eq id="S3.E5.m1.4.4.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.2"></eq><apply id="S3.E5.m1.4.4.1.1.3.cmml" xref="S3.E5.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.3.1.cmml" xref="S3.E5.m1.4.4.1.1.3">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.3.2.cmml" xref="S3.E5.m1.4.4.1.1.3.2">𝐼</ci><ci id="S3.E5.m1.4.4.1.1.3.3.cmml" xref="S3.E5.m1.4.4.1.1.3.3">𝑖</ci></apply><apply id="S3.E5.m1.4.4.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1"><compose id="S3.E5.m1.4.4.1.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.1.2"></compose><apply id="S3.E5.m1.4.4.1.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1"><times id="S3.E5.m1.4.4.1.1.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.2"></times><apply id="S3.E5.m1.4.4.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1"><compose id="S3.E5.m1.4.4.1.1.1.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.2"></compose><apply id="S3.E5.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E5.m1.4.4.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2">D</ci><ci id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply><ci id="S3.E5.m1.4.4.1.1.1.1.1.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.3">𝑞</ci><apply id="S3.E5.m1.4.4.1.1.1.1.1.4.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.4.2"><csymbol cd="latexml" id="S3.E5.m1.4.4.1.1.1.1.1.4.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S3.E5.m1.1.1.cmml" xref="S3.E5.m1.1.1">Q</ci></apply><apply id="S3.E5.m1.4.4.1.1.1.1.1.5.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.5"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.1.1.1.5.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.5">subscript</csymbol><apply id="S3.E5.m1.4.4.1.1.1.1.1.5.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.5"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.1.1.1.5.2.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.5">superscript</csymbol><apply id="S3.E5.m1.4.4.1.1.1.1.1.5.2.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.5.2.2"><ci id="S3.E5.m1.4.4.1.1.1.1.1.5.2.2.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.5.2.2.1">^</ci><ci id="S3.E5.m1.4.4.1.1.1.1.1.5.2.2.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.5.2.2.2">𝑠</ci></apply><ci id="S3.E5.m1.4.4.1.1.1.1.1.5.2.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.5.2.3">𝑖</ci></apply><cn id="S3.E5.m1.4.4.1.1.1.1.1.5.3.cmml" type="integer" xref="S3.E5.m1.4.4.1.1.1.1.1.5.3">1</cn></apply><apply id="S3.E5.m1.4.4.1.1.1.1.1.6.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.6.2"><csymbol cd="latexml" id="S3.E5.m1.4.4.1.1.1.1.1.6.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.6.2.1">delimited-[]</csymbol><ci id="S3.E5.m1.2.2.cmml" xref="S3.E5.m1.2.2">E</ci></apply></apply><ci id="S3.E5.m1.4.4.1.1.1.1.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.3">…</ci><apply id="S3.E5.m1.4.4.1.1.1.1.4.cmml" xref="S3.E5.m1.4.4.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.1.1.4.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.4">subscript</csymbol><apply id="S3.E5.m1.4.4.1.1.1.1.4.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.1.1.4.2.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.4">superscript</csymbol><apply id="S3.E5.m1.4.4.1.1.1.1.4.2.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.4.2.2"><ci id="S3.E5.m1.4.4.1.1.1.1.4.2.2.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.4.2.2.1">^</ci><ci id="S3.E5.m1.4.4.1.1.1.1.4.2.2.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.4.2.2.2">𝑠</ci></apply><ci id="S3.E5.m1.4.4.1.1.1.1.4.2.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.4.2.3">𝑖</ci></apply><apply id="S3.E5.m1.4.4.1.1.1.1.4.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.4.3"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.1.1.4.3.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.4.3">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.1.1.4.3.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.4.3.2">𝑛</ci><ci id="S3.E5.m1.4.4.1.1.1.1.4.3.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.4.3.3">𝑖</ci></apply></apply></apply><apply id="S3.E5.m1.4.4.1.1.1.3.1.cmml" xref="S3.E5.m1.4.4.1.1.1.3.2"><csymbol cd="latexml" id="S3.E5.m1.4.4.1.1.1.3.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S3.E5.m1.3.3.cmml" xref="S3.E5.m1.3.3">S</ci></apply><apply id="S3.E5.m1.4.4.1.1.1.4.cmml" xref="S3.E5.m1.4.4.1.1.1.4"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.1.4.1.cmml" xref="S3.E5.m1.4.4.1.1.1.4">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.1.4.2.cmml" xref="S3.E5.m1.4.4.1.1.1.4.2">𝑑</ci><ci id="S3.E5.m1.4.4.1.1.1.4.3.cmml" xref="S3.E5.m1.4.4.1.1.1.4.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.4c">I_{i}=[\mathrm{D}_{i}]\circ q\circ[\mathrm{Q}]\circ\hat{s}^{i}_{1}\circ[%
\mathrm{E}]\ldots\;\hat{s}^{i}_{n_{i}}\circ[\mathrm{S}]\circ d_{i},</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.4d">italic_I start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = [ roman_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ] ∘ italic_q ∘ [ roman_Q ] ∘ over^ start_ARG italic_s end_ARG start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ∘ [ roman_E ] … over^ start_ARG italic_s end_ARG start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_n start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT ∘ [ roman_S ] ∘ italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS4.p1.13">where <math alttext="[\mathrm{D}_{i}]" class="ltx_Math" display="inline" id="S3.SS4.p1.5.m1.1"><semantics id="S3.SS4.p1.5.m1.1a"><mrow id="S3.SS4.p1.5.m1.1.1.1" xref="S3.SS4.p1.5.m1.1.1.2.cmml"><mo id="S3.SS4.p1.5.m1.1.1.1.2" stretchy="false" xref="S3.SS4.p1.5.m1.1.1.2.1.cmml">[</mo><msub id="S3.SS4.p1.5.m1.1.1.1.1" xref="S3.SS4.p1.5.m1.1.1.1.1.cmml"><mi id="S3.SS4.p1.5.m1.1.1.1.1.2" mathvariant="normal" xref="S3.SS4.p1.5.m1.1.1.1.1.2.cmml">D</mi><mi id="S3.SS4.p1.5.m1.1.1.1.1.3" xref="S3.SS4.p1.5.m1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS4.p1.5.m1.1.1.1.3" stretchy="false" xref="S3.SS4.p1.5.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.5.m1.1b"><apply id="S3.SS4.p1.5.m1.1.1.2.cmml" xref="S3.SS4.p1.5.m1.1.1.1"><csymbol cd="latexml" id="S3.SS4.p1.5.m1.1.1.2.1.cmml" xref="S3.SS4.p1.5.m1.1.1.1.2">delimited-[]</csymbol><apply id="S3.SS4.p1.5.m1.1.1.1.1.cmml" xref="S3.SS4.p1.5.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.5.m1.1.1.1.1.1.cmml" xref="S3.SS4.p1.5.m1.1.1.1.1">subscript</csymbol><ci id="S3.SS4.p1.5.m1.1.1.1.1.2.cmml" xref="S3.SS4.p1.5.m1.1.1.1.1.2">D</ci><ci id="S3.SS4.p1.5.m1.1.1.1.1.3.cmml" xref="S3.SS4.p1.5.m1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.5.m1.1c">[\mathrm{D}_{i}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.5.m1.1d">[ roman_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ]</annotation></semantics></math> is the docid token indicating the <math alttext="i" class="ltx_Math" display="inline" id="S3.SS4.p1.6.m2.1"><semantics id="S3.SS4.p1.6.m2.1a"><mi id="S3.SS4.p1.6.m2.1.1" xref="S3.SS4.p1.6.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.6.m2.1b"><ci id="S3.SS4.p1.6.m2.1.1.cmml" xref="S3.SS4.p1.6.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.6.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.6.m2.1d">italic_i</annotation></semantics></math>-th candidate, <math alttext="[\mathrm{Q}]" class="ltx_Math" display="inline" id="S3.SS4.p1.7.m3.1"><semantics id="S3.SS4.p1.7.m3.1a"><mrow id="S3.SS4.p1.7.m3.1.2.2" xref="S3.SS4.p1.7.m3.1.2.1.cmml"><mo id="S3.SS4.p1.7.m3.1.2.2.1" stretchy="false" xref="S3.SS4.p1.7.m3.1.2.1.1.cmml">[</mo><mi id="S3.SS4.p1.7.m3.1.1" mathvariant="normal" xref="S3.SS4.p1.7.m3.1.1.cmml">Q</mi><mo id="S3.SS4.p1.7.m3.1.2.2.2" stretchy="false" xref="S3.SS4.p1.7.m3.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.7.m3.1b"><apply id="S3.SS4.p1.7.m3.1.2.1.cmml" xref="S3.SS4.p1.7.m3.1.2.2"><csymbol cd="latexml" id="S3.SS4.p1.7.m3.1.2.1.1.cmml" xref="S3.SS4.p1.7.m3.1.2.2.1">delimited-[]</csymbol><ci id="S3.SS4.p1.7.m3.1.1.cmml" xref="S3.SS4.p1.7.m3.1.1">Q</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.7.m3.1c">[\mathrm{Q}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.7.m3.1d">[ roman_Q ]</annotation></semantics></math> denotes the end of the query, <math alttext="[\mathrm{E}]" class="ltx_Math" display="inline" id="S3.SS4.p1.8.m4.1"><semantics id="S3.SS4.p1.8.m4.1a"><mrow id="S3.SS4.p1.8.m4.1.2.2" xref="S3.SS4.p1.8.m4.1.2.1.cmml"><mo id="S3.SS4.p1.8.m4.1.2.2.1" stretchy="false" xref="S3.SS4.p1.8.m4.1.2.1.1.cmml">[</mo><mi id="S3.SS4.p1.8.m4.1.1" mathvariant="normal" xref="S3.SS4.p1.8.m4.1.1.cmml">E</mi><mo id="S3.SS4.p1.8.m4.1.2.2.2" stretchy="false" xref="S3.SS4.p1.8.m4.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.8.m4.1b"><apply id="S3.SS4.p1.8.m4.1.2.1.cmml" xref="S3.SS4.p1.8.m4.1.2.2"><csymbol cd="latexml" id="S3.SS4.p1.8.m4.1.2.1.1.cmml" xref="S3.SS4.p1.8.m4.1.2.2.1">delimited-[]</csymbol><ci id="S3.SS4.p1.8.m4.1.1.cmml" xref="S3.SS4.p1.8.m4.1.1">E</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.8.m4.1c">[\mathrm{E}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.8.m4.1d">[ roman_E ]</annotation></semantics></math> separates each sub-aspect, and <math alttext="[\mathrm{S}]" class="ltx_Math" display="inline" id="S3.SS4.p1.9.m5.1"><semantics id="S3.SS4.p1.9.m5.1a"><mrow id="S3.SS4.p1.9.m5.1.2.2" xref="S3.SS4.p1.9.m5.1.2.1.cmml"><mo id="S3.SS4.p1.9.m5.1.2.2.1" stretchy="false" xref="S3.SS4.p1.9.m5.1.2.1.1.cmml">[</mo><mi id="S3.SS4.p1.9.m5.1.1" mathvariant="normal" xref="S3.SS4.p1.9.m5.1.1.cmml">S</mi><mo id="S3.SS4.p1.9.m5.1.2.2.2" stretchy="false" xref="S3.SS4.p1.9.m5.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.9.m5.1b"><apply id="S3.SS4.p1.9.m5.1.2.1.cmml" xref="S3.SS4.p1.9.m5.1.2.2"><csymbol cd="latexml" id="S3.SS4.p1.9.m5.1.2.1.1.cmml" xref="S3.SS4.p1.9.m5.1.2.2.1">delimited-[]</csymbol><ci id="S3.SS4.p1.9.m5.1.1.cmml" xref="S3.SS4.p1.9.m5.1.1">S</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.9.m5.1c">[\mathrm{S}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.9.m5.1d">[ roman_S ]</annotation></semantics></math> denotes the end of associated sub-aspects.
Inspired by FiD structure <cite class="ltx_cite ltx_citemacro_cite">Izacard and Grave (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib10" title="">2021</a>)</cite>, the encoder module, <math alttext="\mathrm{Enc}()" class="ltx_Math" display="inline" id="S3.SS4.p1.10.m6.1"><semantics id="S3.SS4.p1.10.m6.1a"><mrow id="S3.SS4.p1.10.m6.1.1" xref="S3.SS4.p1.10.m6.1.1.cmml"><mi id="S3.SS4.p1.10.m6.1.1.2" xref="S3.SS4.p1.10.m6.1.1.2.cmml">Enc</mi><mo id="S3.SS4.p1.10.m6.1.1.1" xref="S3.SS4.p1.10.m6.1.1.1.cmml">⁢</mo><mrow id="S3.SS4.p1.10.m6.1.1.3.2" xref="S3.SS4.p1.10.m6.1.1.cmml"><mo id="S3.SS4.p1.10.m6.1.1.3.2.1" stretchy="false" xref="S3.SS4.p1.10.m6.1.1.3.1.cmml">(</mo><mo id="S3.SS4.p1.10.m6.1.1.3.2.2" stretchy="false" xref="S3.SS4.p1.10.m6.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.10.m6.1b"><apply id="S3.SS4.p1.10.m6.1.1.cmml" xref="S3.SS4.p1.10.m6.1.1"><times id="S3.SS4.p1.10.m6.1.1.1.cmml" xref="S3.SS4.p1.10.m6.1.1.1"></times><ci id="S3.SS4.p1.10.m6.1.1.2.cmml" xref="S3.SS4.p1.10.m6.1.1.2">Enc</ci><list id="S3.SS4.p1.10.m6.1.1.3.1.cmml" xref="S3.SS4.p1.10.m6.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.10.m6.1c">\mathrm{Enc}()</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.10.m6.1d">roman_Enc ( )</annotation></semantics></math>, encodes candidate sequences in parallel to ensure high efficiency. Furthermore, since the ranker’s generation space is limited to docid tokens instead of the whole vocabulary,
we use the pooling operation <math alttext="\mathrm{Pool}()" class="ltx_Math" display="inline" id="S3.SS4.p1.11.m7.1"><semantics id="S3.SS4.p1.11.m7.1a"><mrow id="S3.SS4.p1.11.m7.1.1" xref="S3.SS4.p1.11.m7.1.1.cmml"><mi id="S3.SS4.p1.11.m7.1.1.2" xref="S3.SS4.p1.11.m7.1.1.2.cmml">Pool</mi><mo id="S3.SS4.p1.11.m7.1.1.1" xref="S3.SS4.p1.11.m7.1.1.1.cmml">⁢</mo><mrow id="S3.SS4.p1.11.m7.1.1.3.2" xref="S3.SS4.p1.11.m7.1.1.cmml"><mo id="S3.SS4.p1.11.m7.1.1.3.2.1" stretchy="false" xref="S3.SS4.p1.11.m7.1.1.3.1.cmml">(</mo><mo id="S3.SS4.p1.11.m7.1.1.3.2.2" stretchy="false" xref="S3.SS4.p1.11.m7.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.11.m7.1b"><apply id="S3.SS4.p1.11.m7.1.1.cmml" xref="S3.SS4.p1.11.m7.1.1"><times id="S3.SS4.p1.11.m7.1.1.1.cmml" xref="S3.SS4.p1.11.m7.1.1.1"></times><ci id="S3.SS4.p1.11.m7.1.1.2.cmml" xref="S3.SS4.p1.11.m7.1.1.2">Pool</ci><list id="S3.SS4.p1.11.m7.1.1.3.1.cmml" xref="S3.SS4.p1.11.m7.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.11.m7.1c">\mathrm{Pool}()</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.11.m7.1d">roman_Pool ( )</annotation></semantics></math> to extract the encoded output of docid tokens <math alttext="\mathrm{\mathbf{e}}_{i}" class="ltx_Math" display="inline" id="S3.SS4.p1.12.m8.1"><semantics id="S3.SS4.p1.12.m8.1a"><msub id="S3.SS4.p1.12.m8.1.1" xref="S3.SS4.p1.12.m8.1.1.cmml"><mi id="S3.SS4.p1.12.m8.1.1.2" xref="S3.SS4.p1.12.m8.1.1.2.cmml">𝐞</mi><mi id="S3.SS4.p1.12.m8.1.1.3" xref="S3.SS4.p1.12.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.12.m8.1b"><apply id="S3.SS4.p1.12.m8.1.1.cmml" xref="S3.SS4.p1.12.m8.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.12.m8.1.1.1.cmml" xref="S3.SS4.p1.12.m8.1.1">subscript</csymbol><ci id="S3.SS4.p1.12.m8.1.1.2.cmml" xref="S3.SS4.p1.12.m8.1.1.2">𝐞</ci><ci id="S3.SS4.p1.12.m8.1.1.3.cmml" xref="S3.SS4.p1.12.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.12.m8.1c">\mathrm{\mathbf{e}}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.12.m8.1d">bold_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> as relevance representations of candidates. They are then connected and entered into the decoder <math alttext="\mathrm{Dec}()" class="ltx_Math" display="inline" id="S3.SS4.p1.13.m9.1"><semantics id="S3.SS4.p1.13.m9.1a"><mrow id="S3.SS4.p1.13.m9.1.1" xref="S3.SS4.p1.13.m9.1.1.cmml"><mi id="S3.SS4.p1.13.m9.1.1.2" xref="S3.SS4.p1.13.m9.1.1.2.cmml">Dec</mi><mo id="S3.SS4.p1.13.m9.1.1.1" xref="S3.SS4.p1.13.m9.1.1.1.cmml">⁢</mo><mrow id="S3.SS4.p1.13.m9.1.1.3.2" xref="S3.SS4.p1.13.m9.1.1.cmml"><mo id="S3.SS4.p1.13.m9.1.1.3.2.1" stretchy="false" xref="S3.SS4.p1.13.m9.1.1.3.1.cmml">(</mo><mo id="S3.SS4.p1.13.m9.1.1.3.2.2" stretchy="false" xref="S3.SS4.p1.13.m9.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.13.m9.1b"><apply id="S3.SS4.p1.13.m9.1.1.cmml" xref="S3.SS4.p1.13.m9.1.1"><times id="S3.SS4.p1.13.m9.1.1.1.cmml" xref="S3.SS4.p1.13.m9.1.1.1"></times><ci id="S3.SS4.p1.13.m9.1.1.2.cmml" xref="S3.SS4.p1.13.m9.1.1.2">Dec</ci><list id="S3.SS4.p1.13.m9.1.1.3.1.cmml" xref="S3.SS4.p1.13.m9.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.13.m9.1c">\mathrm{Dec}()</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.13.m9.1d">roman_Dec ( )</annotation></semantics></math> to generate the ranking list:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E6">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E6X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle,\ldots,[\mathrm{D}_{r(k)}]" class="ltx_math_unparsed" display="inline" id="S3.E6X.2.1.1.m1.1"><semantics id="S3.E6X.2.1.1.m1.1a"><mrow id="S3.E6X.2.1.1.m1.1b"><mo id="S3.E6X.2.1.1.m1.1.2">,</mo><mi id="S3.E6X.2.1.1.m1.1.3" mathvariant="normal">…</mi><mo id="S3.E6X.2.1.1.m1.1.4">,</mo><mrow id="S3.E6X.2.1.1.m1.1.5"><mo id="S3.E6X.2.1.1.m1.1.5.1" stretchy="false">[</mo><msub id="S3.E6X.2.1.1.m1.1.5.2"><mi id="S3.E6X.2.1.1.m1.1.5.2.2" mathvariant="normal">D</mi><mrow id="S3.E6X.2.1.1.m1.1.1.1"><mi id="S3.E6X.2.1.1.m1.1.1.1.3">r</mi><mo id="S3.E6X.2.1.1.m1.1.1.1.2">⁢</mo><mrow id="S3.E6X.2.1.1.m1.1.1.1.4.2"><mo id="S3.E6X.2.1.1.m1.1.1.1.4.2.1" stretchy="false">(</mo><mi id="S3.E6X.2.1.1.m1.1.1.1.1">k</mi><mo id="S3.E6X.2.1.1.m1.1.1.1.4.2.2" stretchy="false">)</mo></mrow></mrow></msub><mo id="S3.E6X.2.1.1.m1.1.5.3" stretchy="false">]</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.E6X.2.1.1.m1.1c">\displaystyle,\ldots,[\mathrm{D}_{r(k)}]</annotation><annotation encoding="application/x-llamapun" id="S3.E6X.2.1.1.m1.1d">, … , [ roman_D start_POSTSUBSCRIPT italic_r ( italic_k ) end_POSTSUBSCRIPT ]</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\mathrm{Dec}([\mathrm{\mathbf{e}}_{1};\ldots;\mathrm{\mathbf{e}}%
_{M}])," class="ltx_Math" display="inline" id="S3.E6X.3.2.2.m1.2"><semantics id="S3.E6X.3.2.2.m1.2a"><mrow id="S3.E6X.3.2.2.m1.2.2.1" xref="S3.E6X.3.2.2.m1.2.2.1.1.cmml"><mrow id="S3.E6X.3.2.2.m1.2.2.1.1" xref="S3.E6X.3.2.2.m1.2.2.1.1.cmml"><mi id="S3.E6X.3.2.2.m1.2.2.1.1.3" xref="S3.E6X.3.2.2.m1.2.2.1.1.3.cmml"></mi><mo id="S3.E6X.3.2.2.m1.2.2.1.1.2" xref="S3.E6X.3.2.2.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E6X.3.2.2.m1.2.2.1.1.1" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.cmml"><mi id="S3.E6X.3.2.2.m1.2.2.1.1.1.3" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.3.cmml">Dec</mi><mo id="S3.E6X.3.2.2.m1.2.2.1.1.1.2" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.cmml"><mo id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.cmml">(</mo><mrow id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml"><mo id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.3" stretchy="false" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml">[</mo><msub id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">𝐞</mi><mn id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.4" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml">;</mo><mi id="S3.E6X.3.2.2.m1.1.1" mathvariant="normal" xref="S3.E6X.3.2.2.m1.1.1.cmml">…</mi><mo id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.5" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml">;</mo><msub id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.2" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.2.cmml">𝐞</mi><mi id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.3" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.3.cmml">M</mi></msub><mo id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.6" stretchy="false" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml">]</mo></mrow><mo id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.3" stretchy="false" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E6X.3.2.2.m1.2.2.1.2" xref="S3.E6X.3.2.2.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6X.3.2.2.m1.2b"><apply id="S3.E6X.3.2.2.m1.2.2.1.1.cmml" xref="S3.E6X.3.2.2.m1.2.2.1"><eq id="S3.E6X.3.2.2.m1.2.2.1.1.2.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.2"></eq><csymbol cd="latexml" id="S3.E6X.3.2.2.m1.2.2.1.1.3.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.3">absent</csymbol><apply id="S3.E6X.3.2.2.m1.2.2.1.1.1.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.1"><times id="S3.E6X.3.2.2.m1.2.2.1.1.1.2.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.2"></times><ci id="S3.E6X.3.2.2.m1.2.2.1.1.1.3.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.3">Dec</ci><list id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2"><apply id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.2">𝐞</ci><cn id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.3">1</cn></apply><ci id="S3.E6X.3.2.2.m1.1.1.cmml" xref="S3.E6X.3.2.2.m1.1.1">…</ci><apply id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.2">𝐞</ci><ci id="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E6X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.3">𝑀</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6X.3.2.2.m1.2c">\displaystyle=\mathrm{Dec}([\mathrm{\mathbf{e}}_{1};\ldots;\mathrm{\mathbf{e}}%
_{M}]),</annotation><annotation encoding="application/x-llamapun" id="S3.E6X.3.2.2.m1.2d">= roman_Dec ( [ bold_e start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ; … ; bold_e start_POSTSUBSCRIPT italic_M end_POSTSUBSCRIPT ] ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(6)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E6Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathrm{\mathbf{e}}_{i}" class="ltx_Math" display="inline" id="S3.E6Xa.2.1.1.m1.1"><semantics id="S3.E6Xa.2.1.1.m1.1a"><msub id="S3.E6Xa.2.1.1.m1.1.1" xref="S3.E6Xa.2.1.1.m1.1.1.cmml"><mi id="S3.E6Xa.2.1.1.m1.1.1.2" xref="S3.E6Xa.2.1.1.m1.1.1.2.cmml">𝐞</mi><mi id="S3.E6Xa.2.1.1.m1.1.1.3" xref="S3.E6Xa.2.1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.E6Xa.2.1.1.m1.1b"><apply id="S3.E6Xa.2.1.1.m1.1.1.cmml" xref="S3.E6Xa.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.E6Xa.2.1.1.m1.1.1.1.cmml" xref="S3.E6Xa.2.1.1.m1.1.1">subscript</csymbol><ci id="S3.E6Xa.2.1.1.m1.1.1.2.cmml" xref="S3.E6Xa.2.1.1.m1.1.1.2">𝐞</ci><ci id="S3.E6Xa.2.1.1.m1.1.1.3.cmml" xref="S3.E6Xa.2.1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6Xa.2.1.1.m1.1c">\displaystyle\mathrm{\mathbf{e}}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.E6Xa.2.1.1.m1.1d">bold_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\mathrm{Pool}(\mathrm{Enc}(I_{i}))," class="ltx_Math" display="inline" id="S3.E6Xa.3.2.2.m1.1"><semantics id="S3.E6Xa.3.2.2.m1.1a"><mrow id="S3.E6Xa.3.2.2.m1.1.1.1" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.cmml"><mrow id="S3.E6Xa.3.2.2.m1.1.1.1.1" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.cmml"><mi id="S3.E6Xa.3.2.2.m1.1.1.1.1.3" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.3.cmml"></mi><mo id="S3.E6Xa.3.2.2.m1.1.1.1.1.2" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E6Xa.3.2.2.m1.1.1.1.1.1" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.cmml"><mi id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.3" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.3.cmml">Pool</mi><mo id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.2" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.cmml">Enc</mi><mo id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.2" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">I</mi><mi id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E6Xa.3.2.2.m1.1.1.1.2" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6Xa.3.2.2.m1.1b"><apply id="S3.E6Xa.3.2.2.m1.1.1.1.1.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1"><eq id="S3.E6Xa.3.2.2.m1.1.1.1.1.2.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.2"></eq><csymbol cd="latexml" id="S3.E6Xa.3.2.2.m1.1.1.1.1.3.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.3">absent</csymbol><apply id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1"><times id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.2.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.2"></times><ci id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.3.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.3">Pool</ci><apply id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1"><times id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3">Enc</ci><apply id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.2">𝐼</ci><ci id="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6Xa.3.2.2.m1.1c">\displaystyle=\mathrm{Pool}(\mathrm{Enc}(I_{i})),</annotation><annotation encoding="application/x-llamapun" id="S3.E6Xa.3.2.2.m1.1d">= roman_Pool ( roman_Enc ( italic_I start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS4.p1.16">where <math alttext="r(i)" class="ltx_Math" display="inline" id="S3.SS4.p1.14.m1.1"><semantics id="S3.SS4.p1.14.m1.1a"><mrow id="S3.SS4.p1.14.m1.1.2" xref="S3.SS4.p1.14.m1.1.2.cmml"><mi id="S3.SS4.p1.14.m1.1.2.2" xref="S3.SS4.p1.14.m1.1.2.2.cmml">r</mi><mo id="S3.SS4.p1.14.m1.1.2.1" xref="S3.SS4.p1.14.m1.1.2.1.cmml">⁢</mo><mrow id="S3.SS4.p1.14.m1.1.2.3.2" xref="S3.SS4.p1.14.m1.1.2.cmml"><mo id="S3.SS4.p1.14.m1.1.2.3.2.1" stretchy="false" xref="S3.SS4.p1.14.m1.1.2.cmml">(</mo><mi id="S3.SS4.p1.14.m1.1.1" xref="S3.SS4.p1.14.m1.1.1.cmml">i</mi><mo id="S3.SS4.p1.14.m1.1.2.3.2.2" stretchy="false" xref="S3.SS4.p1.14.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.14.m1.1b"><apply id="S3.SS4.p1.14.m1.1.2.cmml" xref="S3.SS4.p1.14.m1.1.2"><times id="S3.SS4.p1.14.m1.1.2.1.cmml" xref="S3.SS4.p1.14.m1.1.2.1"></times><ci id="S3.SS4.p1.14.m1.1.2.2.cmml" xref="S3.SS4.p1.14.m1.1.2.2">𝑟</ci><ci id="S3.SS4.p1.14.m1.1.1.cmml" xref="S3.SS4.p1.14.m1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.14.m1.1c">r(i)</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.14.m1.1d">italic_r ( italic_i )</annotation></semantics></math> project the rank position <math alttext="i" class="ltx_Math" display="inline" id="S3.SS4.p1.15.m2.1"><semantics id="S3.SS4.p1.15.m2.1a"><mi id="S3.SS4.p1.15.m2.1.1" xref="S3.SS4.p1.15.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.15.m2.1b"><ci id="S3.SS4.p1.15.m2.1.1.cmml" xref="S3.SS4.p1.15.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.15.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.15.m2.1d">italic_i</annotation></semantics></math> into the index of the document ranked at the <math alttext="i" class="ltx_Math" display="inline" id="S3.SS4.p1.16.m3.1"><semantics id="S3.SS4.p1.16.m3.1a"><mi id="S3.SS4.p1.16.m3.1.1" xref="S3.SS4.p1.16.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.16.m3.1b"><ci id="S3.SS4.p1.16.m3.1.1.cmml" xref="S3.SS4.p1.16.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.16.m3.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.16.m3.1d">italic_i</annotation></semantics></math>-th position. This pooling operation could significantly reduce the time-space burden of the decoder.</p>
</div>
<div class="ltx_para" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.5">Additionally, we implement a reuse strategy on the language model (LM) head layer to reduce unnecessary load and enhance the modeling accuracy. It sets the LM head layer’s projection matrix <math alttext="\mathrm{\mathbf{F}}" class="ltx_Math" display="inline" id="S3.SS4.p2.1.m1.1"><semantics id="S3.SS4.p2.1.m1.1a"><mi id="S3.SS4.p2.1.m1.1.1" xref="S3.SS4.p2.1.m1.1.1.cmml">𝐅</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.1b"><ci id="S3.SS4.p2.1.m1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1">𝐅</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.1c">\mathrm{\mathbf{F}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.1.m1.1d">bold_F</annotation></semantics></math>, which maps generated hidden states to probabilistic token spaces, to be <math alttext="d\times M" class="ltx_Math" display="inline" id="S3.SS4.p2.2.m2.1"><semantics id="S3.SS4.p2.2.m2.1a"><mrow id="S3.SS4.p2.2.m2.1.1" xref="S3.SS4.p2.2.m2.1.1.cmml"><mi id="S3.SS4.p2.2.m2.1.1.2" xref="S3.SS4.p2.2.m2.1.1.2.cmml">d</mi><mo id="S3.SS4.p2.2.m2.1.1.1" lspace="0.222em" rspace="0.222em" xref="S3.SS4.p2.2.m2.1.1.1.cmml">×</mo><mi id="S3.SS4.p2.2.m2.1.1.3" xref="S3.SS4.p2.2.m2.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.2.m2.1b"><apply id="S3.SS4.p2.2.m2.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1"><times id="S3.SS4.p2.2.m2.1.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1.1"></times><ci id="S3.SS4.p2.2.m2.1.1.2.cmml" xref="S3.SS4.p2.2.m2.1.1.2">𝑑</ci><ci id="S3.SS4.p2.2.m2.1.1.3.cmml" xref="S3.SS4.p2.2.m2.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.2.m2.1c">d\times M</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.2.m2.1d">italic_d × italic_M</annotation></semantics></math>, (<math alttext="M" class="ltx_Math" display="inline" id="S3.SS4.p2.3.m3.1"><semantics id="S3.SS4.p2.3.m3.1a"><mi id="S3.SS4.p2.3.m3.1.1" xref="S3.SS4.p2.3.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.3.m3.1b"><ci id="S3.SS4.p2.3.m3.1.1.cmml" xref="S3.SS4.p2.3.m3.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.3.m3.1c">M</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.3.m3.1d">italic_M</annotation></semantics></math> is the maximum number of candidates). Furthermore, our preliminary experiments imply that randomly initializing the value of <math alttext="\mathrm{\mathbf{F}}" class="ltx_Math" display="inline" id="S3.SS4.p2.4.m4.1"><semantics id="S3.SS4.p2.4.m4.1a"><mi id="S3.SS4.p2.4.m4.1.1" xref="S3.SS4.p2.4.m4.1.1.cmml">𝐅</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.4.m4.1b"><ci id="S3.SS4.p2.4.m4.1.1.cmml" xref="S3.SS4.p2.4.m4.1.1">𝐅</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.4.m4.1c">\mathrm{\mathbf{F}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.4.m4.1d">bold_F</annotation></semantics></math> is hard to optimize due to limited training samples. Therefore, we define its value using relevance representations of candidates to simplify optimization difficulty, hence improving the ranking performance. Thus, the probability of the <math alttext="t" class="ltx_Math" display="inline" id="S3.SS4.p2.5.m5.1"><semantics id="S3.SS4.p2.5.m5.1a"><mi id="S3.SS4.p2.5.m5.1.1" xref="S3.SS4.p2.5.m5.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.5.m5.1b"><ci id="S3.SS4.p2.5.m5.1.1.cmml" xref="S3.SS4.p2.5.m5.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.5.m5.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.5.m5.1d">italic_t</annotation></semantics></math>-th token is computed as below,</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E7">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E7X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle p^{t}(d)=\mathrm{Softmax}\left(\mathbbm{M}(\mathrm{\mathbf{h}}^{%
t}\mathrm{\mathbf{F}}/{\tau})\right),\mathrm{\mathbf{F}}=[\mathrm{\mathbf{e}}_%
{1};\ldots;\mathrm{\mathbf{e}}_{M}]," class="ltx_Math" display="inline" id="S3.E7X.2.1.1.m1.3"><semantics id="S3.E7X.2.1.1.m1.3a"><mrow id="S3.E7X.2.1.1.m1.3.3.1"><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.3.cmml"><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.cmml"><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.cmml"><msup id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2.2.cmml">p</mi><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2.3.cmml">t</mi></msup><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.3.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.cmml"><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.3.2.1" stretchy="false" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.cmml">(</mo><mi id="S3.E7X.2.1.1.m1.1.1" xref="S3.E7X.2.1.1.m1.1.1.cmml">d</mi><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.3.2.2" stretchy="false" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.cmml">)</mo></mrow></mrow><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.2.cmml">=</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.3.cmml">Softmax</mi><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">𝕄</mi><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><msup id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">𝐡</mi><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml">t</mi></msup><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">𝐅</mi></mrow><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml">/</mo><mi id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.cmml">τ</mi></mrow><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E7X.2.1.1.m1.3.3.1.1.2.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.3a.cmml">,</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.2.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.4" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.4.cmml">𝐅</mi><mo id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.3.cmml">=</mo><mrow id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.3.cmml"><mo id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.3" stretchy="false" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.3.cmml">[</mo><msub id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1.2.cmml">𝐞</mi><mn id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.4" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.3.cmml">;</mo><mi id="S3.E7X.2.1.1.m1.2.2" mathvariant="normal" xref="S3.E7X.2.1.1.m1.2.2.cmml">…</mi><mo id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.5" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.3.cmml">;</mo><msub id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2.cmml"><mi id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2.2" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2.2.cmml">𝐞</mi><mi id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2.3" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2.3.cmml">M</mi></msub><mo id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.6" stretchy="false" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.3.cmml">]</mo></mrow></mrow></mrow><mo id="S3.E7X.2.1.1.m1.3.3.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7X.2.1.1.m1.3b"><apply id="S3.E7X.2.1.1.m1.3.3.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.3.3.1.1.3a.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1"><eq id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.2"></eq><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3"><times id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.1"></times><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2">superscript</csymbol><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2.2">𝑝</ci><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.3.2.3">𝑡</ci></apply><ci id="S3.E7X.2.1.1.m1.1.1.cmml" xref="S3.E7X.2.1.1.m1.1.1">𝑑</ci></apply><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1"><times id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.2"></times><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.3">Softmax</ci><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1"><times id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.3">𝕄</ci><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1"><divide id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1"></divide><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2"><times id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.1"></times><apply id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2">superscript</csymbol><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2.2">𝐡</ci><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.2.3">𝑡</ci></apply><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.3">𝐅</ci></apply><ci id="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3">𝜏</ci></apply></apply></apply></apply><apply id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2"><eq id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.3"></eq><ci id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.4.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.4">𝐅</ci><list id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2"><apply id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1">subscript</csymbol><ci id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1.2">𝐞</ci><cn id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1.3.cmml" type="integer" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.1.1.1.3">1</cn></apply><ci id="S3.E7X.2.1.1.m1.2.2.cmml" xref="S3.E7X.2.1.1.m1.2.2">…</ci><apply id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2.1.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2.2.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2.2">𝐞</ci><ci id="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2.3.cmml" xref="S3.E7X.2.1.1.m1.3.3.1.1.2.2.2.2.2.3">𝑀</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7X.2.1.1.m1.3c">\displaystyle p^{t}(d)=\mathrm{Softmax}\left(\mathbbm{M}(\mathrm{\mathbf{h}}^{%
t}\mathrm{\mathbf{F}}/{\tau})\right),\mathrm{\mathbf{F}}=[\mathrm{\mathbf{e}}_%
{1};\ldots;\mathrm{\mathbf{e}}_{M}],</annotation><annotation encoding="application/x-llamapun" id="S3.E7X.2.1.1.m1.3d">italic_p start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ( italic_d ) = roman_Softmax ( blackboard_M ( bold_h start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT bold_F / italic_τ ) ) , bold_F = [ bold_e start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ; … ; bold_e start_POSTSUBSCRIPT italic_M end_POSTSUBSCRIPT ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(7)</span></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS4.p2.9">where <math alttext="\mathrm{\mathbf{h}}^{t}" class="ltx_Math" display="inline" id="S3.SS4.p2.6.m1.1"><semantics id="S3.SS4.p2.6.m1.1a"><msup id="S3.SS4.p2.6.m1.1.1" xref="S3.SS4.p2.6.m1.1.1.cmml"><mi id="S3.SS4.p2.6.m1.1.1.2" xref="S3.SS4.p2.6.m1.1.1.2.cmml">𝐡</mi><mi id="S3.SS4.p2.6.m1.1.1.3" xref="S3.SS4.p2.6.m1.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.6.m1.1b"><apply id="S3.SS4.p2.6.m1.1.1.cmml" xref="S3.SS4.p2.6.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.6.m1.1.1.1.cmml" xref="S3.SS4.p2.6.m1.1.1">superscript</csymbol><ci id="S3.SS4.p2.6.m1.1.1.2.cmml" xref="S3.SS4.p2.6.m1.1.1.2">𝐡</ci><ci id="S3.SS4.p2.6.m1.1.1.3.cmml" xref="S3.SS4.p2.6.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.6.m1.1c">\mathrm{\mathbf{h}}^{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.6.m1.1d">bold_h start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> is generated hidden states of the <math alttext="t" class="ltx_Math" display="inline" id="S3.SS4.p2.7.m2.1"><semantics id="S3.SS4.p2.7.m2.1a"><mi id="S3.SS4.p2.7.m2.1.1" xref="S3.SS4.p2.7.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.7.m2.1b"><ci id="S3.SS4.p2.7.m2.1.1.cmml" xref="S3.SS4.p2.7.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.7.m2.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.7.m2.1d">italic_t</annotation></semantics></math>-th token and <math alttext="\tau" class="ltx_Math" display="inline" id="S3.SS4.p2.8.m3.1"><semantics id="S3.SS4.p2.8.m3.1a"><mi id="S3.SS4.p2.8.m3.1.1" xref="S3.SS4.p2.8.m3.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.8.m3.1b"><ci id="S3.SS4.p2.8.m3.1.1.cmml" xref="S3.SS4.p2.8.m3.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.8.m3.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.8.m3.1d">italic_τ</annotation></semantics></math> is temperature to control the sharpness of distribution.
<math alttext="\mathbbm{M}()" class="ltx_Math" display="inline" id="S3.SS4.p2.9.m4.1"><semantics id="S3.SS4.p2.9.m4.1a"><mrow id="S3.SS4.p2.9.m4.1.1" xref="S3.SS4.p2.9.m4.1.1.cmml"><mi id="S3.SS4.p2.9.m4.1.1.2" xref="S3.SS4.p2.9.m4.1.1.2.cmml">𝕄</mi><mo id="S3.SS4.p2.9.m4.1.1.1" xref="S3.SS4.p2.9.m4.1.1.1.cmml">⁢</mo><mrow id="S3.SS4.p2.9.m4.1.1.3.2" xref="S3.SS4.p2.9.m4.1.1.cmml"><mo id="S3.SS4.p2.9.m4.1.1.3.2.1" stretchy="false" xref="S3.SS4.p2.9.m4.1.1.3.1.cmml">(</mo><mo id="S3.SS4.p2.9.m4.1.1.3.2.2" stretchy="false" xref="S3.SS4.p2.9.m4.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.9.m4.1b"><apply id="S3.SS4.p2.9.m4.1.1.cmml" xref="S3.SS4.p2.9.m4.1.1"><times id="S3.SS4.p2.9.m4.1.1.1.cmml" xref="S3.SS4.p2.9.m4.1.1.1"></times><ci id="S3.SS4.p2.9.m4.1.1.2.cmml" xref="S3.SS4.p2.9.m4.1.1.2">𝕄</ci><list id="S3.SS4.p2.9.m4.1.1.3.1.cmml" xref="S3.SS4.p2.9.m4.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.9.m4.1c">\mathbbm{M}()</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.9.m4.1d">blackboard_M ( )</annotation></semantics></math> denotes a masking mechanism to set the probabilities of previously generated documents to zero, avoiding repetition. To ensure the ranker’s performance, we employ a two-stage optimization. We demonstrate it in the following sections and visualize it in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.F2" title="Figure 2 ‣ 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> (b).</p>
</div>
<section class="ltx_subsubsection" id="S3.SS4.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.1 </span>Supervised Fine-tuning</h4>
<div class="ltx_para" id="S3.SS4.SSS1.p1">
<p class="ltx_p" id="S3.SS4.SSS1.p1.3">To address the problem of the vast searching space of possible permutation, a major challenge for list-wise ranking algorithms, we adopt a greedy algorithm to build silver target ranking lists for each training instance, supporting supervised fine-tuning of the ranker. Specifically, we devise a coverage utility function, <math alttext="\Phi^{t}(d)" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.1.m1.1"><semantics id="S3.SS4.SSS1.p1.1.m1.1a"><mrow id="S3.SS4.SSS1.p1.1.m1.1.2" xref="S3.SS4.SSS1.p1.1.m1.1.2.cmml"><msup id="S3.SS4.SSS1.p1.1.m1.1.2.2" xref="S3.SS4.SSS1.p1.1.m1.1.2.2.cmml"><mi id="S3.SS4.SSS1.p1.1.m1.1.2.2.2" mathvariant="normal" xref="S3.SS4.SSS1.p1.1.m1.1.2.2.2.cmml">Φ</mi><mi id="S3.SS4.SSS1.p1.1.m1.1.2.2.3" xref="S3.SS4.SSS1.p1.1.m1.1.2.2.3.cmml">t</mi></msup><mo id="S3.SS4.SSS1.p1.1.m1.1.2.1" xref="S3.SS4.SSS1.p1.1.m1.1.2.1.cmml">⁢</mo><mrow id="S3.SS4.SSS1.p1.1.m1.1.2.3.2" xref="S3.SS4.SSS1.p1.1.m1.1.2.cmml"><mo id="S3.SS4.SSS1.p1.1.m1.1.2.3.2.1" stretchy="false" xref="S3.SS4.SSS1.p1.1.m1.1.2.cmml">(</mo><mi id="S3.SS4.SSS1.p1.1.m1.1.1" xref="S3.SS4.SSS1.p1.1.m1.1.1.cmml">d</mi><mo id="S3.SS4.SSS1.p1.1.m1.1.2.3.2.2" stretchy="false" xref="S3.SS4.SSS1.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.1.m1.1b"><apply id="S3.SS4.SSS1.p1.1.m1.1.2.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.2"><times id="S3.SS4.SSS1.p1.1.m1.1.2.1.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.2.1"></times><apply id="S3.SS4.SSS1.p1.1.m1.1.2.2.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.1.m1.1.2.2.1.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.2.2">superscript</csymbol><ci id="S3.SS4.SSS1.p1.1.m1.1.2.2.2.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.2.2.2">Φ</ci><ci id="S3.SS4.SSS1.p1.1.m1.1.2.2.3.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.2.2.3">𝑡</ci></apply><ci id="S3.SS4.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.1">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.1.m1.1c">\Phi^{t}(d)</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.1.m1.1d">roman_Φ start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ( italic_d )</annotation></semantics></math>, to measure the incremental gain in aspect coverage for each remaining document, <math alttext="d" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.2.m2.1"><semantics id="S3.SS4.SSS1.p1.2.m2.1a"><mi id="S3.SS4.SSS1.p1.2.m2.1.1" xref="S3.SS4.SSS1.p1.2.m2.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.2.m2.1b"><ci id="S3.SS4.SSS1.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS1.p1.2.m2.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.2.m2.1c">d</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.2.m2.1d">italic_d</annotation></semantics></math>, conditioned on previously selected ones, <math alttext="L^{*}_{t-1}" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.3.m3.1"><semantics id="S3.SS4.SSS1.p1.3.m3.1a"><msubsup id="S3.SS4.SSS1.p1.3.m3.1.1" xref="S3.SS4.SSS1.p1.3.m3.1.1.cmml"><mi id="S3.SS4.SSS1.p1.3.m3.1.1.2.2" xref="S3.SS4.SSS1.p1.3.m3.1.1.2.2.cmml">L</mi><mrow id="S3.SS4.SSS1.p1.3.m3.1.1.3" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.cmml"><mi id="S3.SS4.SSS1.p1.3.m3.1.1.3.2" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.2.cmml">t</mi><mo id="S3.SS4.SSS1.p1.3.m3.1.1.3.1" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.1.cmml">−</mo><mn id="S3.SS4.SSS1.p1.3.m3.1.1.3.3" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.3.cmml">1</mn></mrow><mo id="S3.SS4.SSS1.p1.3.m3.1.1.2.3" xref="S3.SS4.SSS1.p1.3.m3.1.1.2.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.3.m3.1b"><apply id="S3.SS4.SSS1.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.3.m3.1.1.1.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1">subscript</csymbol><apply id="S3.SS4.SSS1.p1.3.m3.1.1.2.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.3.m3.1.1.2.1.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1">superscript</csymbol><ci id="S3.SS4.SSS1.p1.3.m3.1.1.2.2.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1.2.2">𝐿</ci><times id="S3.SS4.SSS1.p1.3.m3.1.1.2.3.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1.2.3"></times></apply><apply id="S3.SS4.SSS1.p1.3.m3.1.1.3.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1.3"><minus id="S3.SS4.SSS1.p1.3.m3.1.1.3.1.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.1"></minus><ci id="S3.SS4.SSS1.p1.3.m3.1.1.3.2.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.2">𝑡</ci><cn id="S3.SS4.SSS1.p1.3.m3.1.1.3.3.cmml" type="integer" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.3.m3.1c">L^{*}_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.3.m3.1d">italic_L start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math>. The greedy selection is presented as follows,</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E8">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E8X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle L^{*}_{t}" class="ltx_Math" display="inline" id="S3.E8X.2.1.1.m1.1"><semantics id="S3.E8X.2.1.1.m1.1a"><msubsup id="S3.E8X.2.1.1.m1.1.1" xref="S3.E8X.2.1.1.m1.1.1.cmml"><mi id="S3.E8X.2.1.1.m1.1.1.2.2" xref="S3.E8X.2.1.1.m1.1.1.2.2.cmml">L</mi><mi id="S3.E8X.2.1.1.m1.1.1.3" xref="S3.E8X.2.1.1.m1.1.1.3.cmml">t</mi><mo id="S3.E8X.2.1.1.m1.1.1.2.3" xref="S3.E8X.2.1.1.m1.1.1.2.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.E8X.2.1.1.m1.1b"><apply id="S3.E8X.2.1.1.m1.1.1.cmml" xref="S3.E8X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.1.1.1.cmml" xref="S3.E8X.2.1.1.m1.1.1">subscript</csymbol><apply id="S3.E8X.2.1.1.m1.1.1.2.cmml" xref="S3.E8X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.E8X.2.1.1.m1.1.1.2.1.cmml" xref="S3.E8X.2.1.1.m1.1.1">superscript</csymbol><ci id="S3.E8X.2.1.1.m1.1.1.2.2.cmml" xref="S3.E8X.2.1.1.m1.1.1.2.2">𝐿</ci><times id="S3.E8X.2.1.1.m1.1.1.2.3.cmml" xref="S3.E8X.2.1.1.m1.1.1.2.3"></times></apply><ci id="S3.E8X.2.1.1.m1.1.1.3.cmml" xref="S3.E8X.2.1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8X.2.1.1.m1.1c">\displaystyle L^{*}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.E8X.2.1.1.m1.1d">italic_L start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=L^{*}_{t-1}\cup d^{*}_{t},\;\;d^{*}_{t}=\mathop{\arg\max}%
\nolimits_{d\in\mathcal{P}/L^{*}_{t-1}}\Phi^{t}(d)," class="ltx_Math" display="inline" id="S3.E8X.3.2.2.m1.2"><semantics id="S3.E8X.3.2.2.m1.2a"><mrow id="S3.E8X.3.2.2.m1.2.2.1"><mrow id="S3.E8X.3.2.2.m1.2.2.1.1.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.3.cmml"><mrow id="S3.E8X.3.2.2.m1.2.2.1.1.1.1" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.cmml"><mi id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.2.cmml"></mi><mo id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.1" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.1.cmml">=</mo><mrow id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.cmml"><msubsup id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.cmml"><mi id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.2.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.2.2.cmml">L</mi><mrow id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.cmml"><mi id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.2.cmml">t</mi><mo id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.1" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.1.cmml">−</mo><mn id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.3.cmml">1</mn></mrow><mo id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.2.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.2.3.cmml">∗</mo></msubsup><mo id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.1" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.1.cmml">∪</mo><msubsup id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.cmml"><mi id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.2.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.2.2.cmml">d</mi><mi id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.3.cmml">t</mi><mo id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.2.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.2.3.cmml">∗</mo></msubsup></mrow></mrow><mo id="S3.E8X.3.2.2.m1.2.2.1.1.2.3" rspace="0.727em" xref="S3.E8X.3.2.2.m1.2.2.1.1.3a.cmml">,</mo><mrow id="S3.E8X.3.2.2.m1.2.2.1.1.2.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.cmml"><msubsup id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.cmml"><mi id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.2.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.2.2.cmml">d</mi><mi id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.3.cmml">t</mi><mo id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.2.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.2.3.cmml">∗</mo></msubsup><mo id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.1" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.1.cmml">=</mo><mrow id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.cmml"><msub id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.cmml"><mrow id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2.cmml"><mi id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2.1" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2.1.cmml">arg</mi><mo id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2a" lspace="0.167em" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2.cmml">⁡</mo><mi id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2.2.cmml">max</mi></mrow><mrow id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.cmml"><mi id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.2.cmml">d</mi><mo id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.1" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.1.cmml">∈</mo><mrow id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.2.cmml">𝒫</mi><mo id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.1" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.1.cmml">/</mo><msubsup id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.cmml"><mi id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.2.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.2.2.cmml">L</mi><mrow id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.cmml"><mi id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.2.cmml">t</mi><mo id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.1" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.1.cmml">−</mo><mn id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.3.cmml">1</mn></mrow><mo id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.2.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.2.3.cmml">∗</mo></msubsup></mrow></mrow></msub><mrow id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.cmml"><msup id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2.cmml"><mi id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2.2" mathvariant="normal" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2.2.cmml">Φ</mi><mi id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2.3" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2.3.cmml">t</mi></msup><mo id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.1" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.1.cmml">⁢</mo><mrow id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.3.2" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.cmml"><mo id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.3.2.1" stretchy="false" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.cmml">(</mo><mi id="S3.E8X.3.2.2.m1.1.1" xref="S3.E8X.3.2.2.m1.1.1.cmml">d</mi><mo id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.3.2.2" stretchy="false" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.E8X.3.2.2.m1.2.2.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8X.3.2.2.m1.2b"><apply id="S3.E8X.3.2.2.m1.2.2.1.1.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E8X.3.2.2.m1.2.2.1.1.3a.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1"><eq id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.1"></eq><csymbol cd="latexml" id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.2">absent</csymbol><apply id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3"><union id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.1"></union><apply id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2">subscript</csymbol><apply id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.2.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2">superscript</csymbol><ci id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.2.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.2.2">𝐿</ci><times id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.2.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.2.3"></times></apply><apply id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3"><minus id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.1"></minus><ci id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.2">𝑡</ci><cn id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.3.cmml" type="integer" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.2.3.3">1</cn></apply></apply><apply id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3">subscript</csymbol><apply id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.2.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3">superscript</csymbol><ci id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.2.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.2.2">𝑑</ci><times id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.2.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.2.3"></times></apply><ci id="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.1.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2"><eq id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.1"></eq><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2">subscript</csymbol><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.2.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2">superscript</csymbol><ci id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.2.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.2.2">𝑑</ci><times id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.2.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.2.3"></times></apply><ci id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.2.3">𝑡</ci></apply><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3"><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1"><csymbol cd="ambiguous" id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1">subscript</csymbol><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2"><arg id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2.1"></arg><max id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.2.2"></max></apply><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3"><in id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.1"></in><ci id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.2">𝑑</ci><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3"><divide id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.1"></divide><ci id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.2">𝒫</ci><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3"><csymbol cd="ambiguous" id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3">subscript</csymbol><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3"><csymbol cd="ambiguous" id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.2.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3">superscript</csymbol><ci id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.2.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.2.2">𝐿</ci><times id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.2.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.2.3"></times></apply><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3"><minus id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.1"></minus><ci id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.2">𝑡</ci><cn id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.3.cmml" type="integer" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.1.3.3.3.3.3">1</cn></apply></apply></apply></apply></apply><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2"><times id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.1"></times><apply id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2"><csymbol cd="ambiguous" id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2.1.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2">superscript</csymbol><ci id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2.2.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2.2">Φ</ci><ci id="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2.3.cmml" xref="S3.E8X.3.2.2.m1.2.2.1.1.2.2.3.2.2.3">𝑡</ci></apply><ci id="S3.E8X.3.2.2.m1.1.1.cmml" xref="S3.E8X.3.2.2.m1.1.1">𝑑</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8X.3.2.2.m1.2c">\displaystyle=L^{*}_{t-1}\cup d^{*}_{t},\;\;d^{*}_{t}=\mathop{\arg\max}%
\nolimits_{d\in\mathcal{P}/L^{*}_{t-1}}\Phi^{t}(d),</annotation><annotation encoding="application/x-llamapun" id="S3.E8X.3.2.2.m1.2d">= italic_L start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT ∪ italic_d start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_d start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = start_BIGOP roman_arg roman_max end_BIGOP start_POSTSUBSCRIPT italic_d ∈ caligraphic_P / italic_L start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_Φ start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ( italic_d ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(8)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E8Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\Phi^{t}(d)" class="ltx_Math" display="inline" id="S3.E8Xa.2.1.1.m1.1"><semantics id="S3.E8Xa.2.1.1.m1.1a"><mrow id="S3.E8Xa.2.1.1.m1.1.2" xref="S3.E8Xa.2.1.1.m1.1.2.cmml"><msup id="S3.E8Xa.2.1.1.m1.1.2.2" xref="S3.E8Xa.2.1.1.m1.1.2.2.cmml"><mi id="S3.E8Xa.2.1.1.m1.1.2.2.2" mathvariant="normal" xref="S3.E8Xa.2.1.1.m1.1.2.2.2.cmml">Φ</mi><mi id="S3.E8Xa.2.1.1.m1.1.2.2.3" xref="S3.E8Xa.2.1.1.m1.1.2.2.3.cmml">t</mi></msup><mo id="S3.E8Xa.2.1.1.m1.1.2.1" xref="S3.E8Xa.2.1.1.m1.1.2.1.cmml">⁢</mo><mrow id="S3.E8Xa.2.1.1.m1.1.2.3.2" xref="S3.E8Xa.2.1.1.m1.1.2.cmml"><mo id="S3.E8Xa.2.1.1.m1.1.2.3.2.1" stretchy="false" xref="S3.E8Xa.2.1.1.m1.1.2.cmml">(</mo><mi id="S3.E8Xa.2.1.1.m1.1.1" xref="S3.E8Xa.2.1.1.m1.1.1.cmml">d</mi><mo id="S3.E8Xa.2.1.1.m1.1.2.3.2.2" stretchy="false" xref="S3.E8Xa.2.1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E8Xa.2.1.1.m1.1b"><apply id="S3.E8Xa.2.1.1.m1.1.2.cmml" xref="S3.E8Xa.2.1.1.m1.1.2"><times id="S3.E8Xa.2.1.1.m1.1.2.1.cmml" xref="S3.E8Xa.2.1.1.m1.1.2.1"></times><apply id="S3.E8Xa.2.1.1.m1.1.2.2.cmml" xref="S3.E8Xa.2.1.1.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E8Xa.2.1.1.m1.1.2.2.1.cmml" xref="S3.E8Xa.2.1.1.m1.1.2.2">superscript</csymbol><ci id="S3.E8Xa.2.1.1.m1.1.2.2.2.cmml" xref="S3.E8Xa.2.1.1.m1.1.2.2.2">Φ</ci><ci id="S3.E8Xa.2.1.1.m1.1.2.2.3.cmml" xref="S3.E8Xa.2.1.1.m1.1.2.2.3">𝑡</ci></apply><ci id="S3.E8Xa.2.1.1.m1.1.1.cmml" xref="S3.E8Xa.2.1.1.m1.1.1">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8Xa.2.1.1.m1.1c">\displaystyle\Phi^{t}(d)</annotation><annotation encoding="application/x-llamapun" id="S3.E8Xa.2.1.1.m1.1d">roman_Φ start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ( italic_d )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sum\nolimits_{i=1}^{n}w^{t}_{i}\phi(d,a_{i})." class="ltx_Math" display="inline" id="S3.E8Xa.3.2.2.m1.2"><semantics id="S3.E8Xa.3.2.2.m1.2a"><mrow id="S3.E8Xa.3.2.2.m1.2.2.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.cmml"><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.cmml"><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.3.cmml"></mi><mo id="S3.E8Xa.3.2.2.m1.2.2.1.1.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.cmml"><msubsup id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2a" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.cmml"><mo id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.cmml"><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.3.cmml">n</mi></msubsup></mstyle><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.cmml"><msubsup id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.cmml"><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.2.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.2.2.cmml">w</mi><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.3.cmml">i</mi><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.2.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.2.3.cmml">t</mi></msubsup><mo id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.4" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.4.cmml">ϕ</mi><mo id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.2a" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.2.cmml"><mo id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E8Xa.3.2.2.m1.1.1" xref="S3.E8Xa.3.2.2.m1.1.1.cmml">d</mi><mo id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.2.cmml">,</mo><msub id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.2.cmml">a</mi><mi id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.4" stretchy="false" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E8Xa.3.2.2.m1.2.2.1.2" lspace="0em" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8Xa.3.2.2.m1.2b"><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1"><eq id="S3.E8Xa.3.2.2.m1.2.2.1.1.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.2"></eq><csymbol cd="latexml" id="S3.E8Xa.3.2.2.m1.2.2.1.1.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.3">absent</csymbol><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1"><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2">superscript</csymbol><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2">subscript</csymbol><sum id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.2"></sum><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3"><eq id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.1"></eq><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.2">𝑖</ci><cn id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.2.3">𝑛</ci></apply><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1"><times id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.2"></times><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3">subscript</csymbol><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.2.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3">superscript</csymbol><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.2.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.2.2">𝑤</ci><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.2.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.2.3">𝑡</ci></apply><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.3.3">𝑖</ci></apply><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.4.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.4">italic-ϕ</ci><interval closure="open" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1"><ci id="S3.E8Xa.3.2.2.m1.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.1.1">𝑑</ci><apply id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.2">𝑎</ci><ci id="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E8Xa.3.2.2.m1.2.2.1.1.1.1.1.1.1.3">𝑖</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8Xa.3.2.2.m1.2c">\displaystyle=\sum\nolimits_{i=1}^{n}w^{t}_{i}\phi(d,a_{i}).</annotation><annotation encoding="application/x-llamapun" id="S3.E8Xa.3.2.2.m1.2d">= ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT italic_w start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT italic_ϕ ( italic_d , italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS4.SSS1.p1.12"><math alttext="\Phi^{t}(d)" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.4.m1.1"><semantics id="S3.SS4.SSS1.p1.4.m1.1a"><mrow id="S3.SS4.SSS1.p1.4.m1.1.2" xref="S3.SS4.SSS1.p1.4.m1.1.2.cmml"><msup id="S3.SS4.SSS1.p1.4.m1.1.2.2" xref="S3.SS4.SSS1.p1.4.m1.1.2.2.cmml"><mi id="S3.SS4.SSS1.p1.4.m1.1.2.2.2" mathvariant="normal" xref="S3.SS4.SSS1.p1.4.m1.1.2.2.2.cmml">Φ</mi><mi id="S3.SS4.SSS1.p1.4.m1.1.2.2.3" xref="S3.SS4.SSS1.p1.4.m1.1.2.2.3.cmml">t</mi></msup><mo id="S3.SS4.SSS1.p1.4.m1.1.2.1" xref="S3.SS4.SSS1.p1.4.m1.1.2.1.cmml">⁢</mo><mrow id="S3.SS4.SSS1.p1.4.m1.1.2.3.2" xref="S3.SS4.SSS1.p1.4.m1.1.2.cmml"><mo id="S3.SS4.SSS1.p1.4.m1.1.2.3.2.1" stretchy="false" xref="S3.SS4.SSS1.p1.4.m1.1.2.cmml">(</mo><mi id="S3.SS4.SSS1.p1.4.m1.1.1" xref="S3.SS4.SSS1.p1.4.m1.1.1.cmml">d</mi><mo id="S3.SS4.SSS1.p1.4.m1.1.2.3.2.2" stretchy="false" xref="S3.SS4.SSS1.p1.4.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.4.m1.1b"><apply id="S3.SS4.SSS1.p1.4.m1.1.2.cmml" xref="S3.SS4.SSS1.p1.4.m1.1.2"><times id="S3.SS4.SSS1.p1.4.m1.1.2.1.cmml" xref="S3.SS4.SSS1.p1.4.m1.1.2.1"></times><apply id="S3.SS4.SSS1.p1.4.m1.1.2.2.cmml" xref="S3.SS4.SSS1.p1.4.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.4.m1.1.2.2.1.cmml" xref="S3.SS4.SSS1.p1.4.m1.1.2.2">superscript</csymbol><ci id="S3.SS4.SSS1.p1.4.m1.1.2.2.2.cmml" xref="S3.SS4.SSS1.p1.4.m1.1.2.2.2">Φ</ci><ci id="S3.SS4.SSS1.p1.4.m1.1.2.2.3.cmml" xref="S3.SS4.SSS1.p1.4.m1.1.2.2.3">𝑡</ci></apply><ci id="S3.SS4.SSS1.p1.4.m1.1.1.cmml" xref="S3.SS4.SSS1.p1.4.m1.1.1">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.4.m1.1c">\Phi^{t}(d)</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.4.m1.1d">roman_Φ start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ( italic_d )</annotation></semantics></math> considers the current importance of each sub-aspect <math alttext="w^{t}_{i}" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.5.m2.1"><semantics id="S3.SS4.SSS1.p1.5.m2.1a"><msubsup id="S3.SS4.SSS1.p1.5.m2.1.1" xref="S3.SS4.SSS1.p1.5.m2.1.1.cmml"><mi id="S3.SS4.SSS1.p1.5.m2.1.1.2.2" xref="S3.SS4.SSS1.p1.5.m2.1.1.2.2.cmml">w</mi><mi id="S3.SS4.SSS1.p1.5.m2.1.1.3" xref="S3.SS4.SSS1.p1.5.m2.1.1.3.cmml">i</mi><mi id="S3.SS4.SSS1.p1.5.m2.1.1.2.3" xref="S3.SS4.SSS1.p1.5.m2.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.5.m2.1b"><apply id="S3.SS4.SSS1.p1.5.m2.1.1.cmml" xref="S3.SS4.SSS1.p1.5.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.5.m2.1.1.1.cmml" xref="S3.SS4.SSS1.p1.5.m2.1.1">subscript</csymbol><apply id="S3.SS4.SSS1.p1.5.m2.1.1.2.cmml" xref="S3.SS4.SSS1.p1.5.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.5.m2.1.1.2.1.cmml" xref="S3.SS4.SSS1.p1.5.m2.1.1">superscript</csymbol><ci id="S3.SS4.SSS1.p1.5.m2.1.1.2.2.cmml" xref="S3.SS4.SSS1.p1.5.m2.1.1.2.2">𝑤</ci><ci id="S3.SS4.SSS1.p1.5.m2.1.1.2.3.cmml" xref="S3.SS4.SSS1.p1.5.m2.1.1.2.3">𝑡</ci></apply><ci id="S3.SS4.SSS1.p1.5.m2.1.1.3.cmml" xref="S3.SS4.SSS1.p1.5.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.5.m2.1c">w^{t}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.5.m2.1d">italic_w start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and the candidate’s coverage for each sub-aspect <math alttext="\phi(d,a_{i})" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.6.m3.2"><semantics id="S3.SS4.SSS1.p1.6.m3.2a"><mrow id="S3.SS4.SSS1.p1.6.m3.2.2" xref="S3.SS4.SSS1.p1.6.m3.2.2.cmml"><mi id="S3.SS4.SSS1.p1.6.m3.2.2.3" xref="S3.SS4.SSS1.p1.6.m3.2.2.3.cmml">ϕ</mi><mo id="S3.SS4.SSS1.p1.6.m3.2.2.2" xref="S3.SS4.SSS1.p1.6.m3.2.2.2.cmml">⁢</mo><mrow id="S3.SS4.SSS1.p1.6.m3.2.2.1.1" xref="S3.SS4.SSS1.p1.6.m3.2.2.1.2.cmml"><mo id="S3.SS4.SSS1.p1.6.m3.2.2.1.1.2" stretchy="false" xref="S3.SS4.SSS1.p1.6.m3.2.2.1.2.cmml">(</mo><mi id="S3.SS4.SSS1.p1.6.m3.1.1" xref="S3.SS4.SSS1.p1.6.m3.1.1.cmml">d</mi><mo id="S3.SS4.SSS1.p1.6.m3.2.2.1.1.3" xref="S3.SS4.SSS1.p1.6.m3.2.2.1.2.cmml">,</mo><msub id="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1" xref="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1.cmml"><mi id="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1.2" xref="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1.2.cmml">a</mi><mi id="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1.3" xref="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS4.SSS1.p1.6.m3.2.2.1.1.4" stretchy="false" xref="S3.SS4.SSS1.p1.6.m3.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.6.m3.2b"><apply id="S3.SS4.SSS1.p1.6.m3.2.2.cmml" xref="S3.SS4.SSS1.p1.6.m3.2.2"><times id="S3.SS4.SSS1.p1.6.m3.2.2.2.cmml" xref="S3.SS4.SSS1.p1.6.m3.2.2.2"></times><ci id="S3.SS4.SSS1.p1.6.m3.2.2.3.cmml" xref="S3.SS4.SSS1.p1.6.m3.2.2.3">italic-ϕ</ci><interval closure="open" id="S3.SS4.SSS1.p1.6.m3.2.2.1.2.cmml" xref="S3.SS4.SSS1.p1.6.m3.2.2.1.1"><ci id="S3.SS4.SSS1.p1.6.m3.1.1.cmml" xref="S3.SS4.SSS1.p1.6.m3.1.1">𝑑</ci><apply id="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1.cmml" xref="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1.1.cmml" xref="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1">subscript</csymbol><ci id="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1.2.cmml" xref="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1.2">𝑎</ci><ci id="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1.3.cmml" xref="S3.SS4.SSS1.p1.6.m3.2.2.1.1.1.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.6.m3.2c">\phi(d,a_{i})</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.6.m3.2d">italic_ϕ ( italic_d , italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math>.
The coverage function <math alttext="\phi()" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.7.m4.1"><semantics id="S3.SS4.SSS1.p1.7.m4.1a"><mrow id="S3.SS4.SSS1.p1.7.m4.1.1" xref="S3.SS4.SSS1.p1.7.m4.1.1.cmml"><mi id="S3.SS4.SSS1.p1.7.m4.1.1.2" xref="S3.SS4.SSS1.p1.7.m4.1.1.2.cmml">ϕ</mi><mo id="S3.SS4.SSS1.p1.7.m4.1.1.1" xref="S3.SS4.SSS1.p1.7.m4.1.1.1.cmml">⁢</mo><mrow id="S3.SS4.SSS1.p1.7.m4.1.1.3.2" xref="S3.SS4.SSS1.p1.7.m4.1.1.cmml"><mo id="S3.SS4.SSS1.p1.7.m4.1.1.3.2.1" stretchy="false" xref="S3.SS4.SSS1.p1.7.m4.1.1.3.1.cmml">(</mo><mo id="S3.SS4.SSS1.p1.7.m4.1.1.3.2.2" stretchy="false" xref="S3.SS4.SSS1.p1.7.m4.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.7.m4.1b"><apply id="S3.SS4.SSS1.p1.7.m4.1.1.cmml" xref="S3.SS4.SSS1.p1.7.m4.1.1"><times id="S3.SS4.SSS1.p1.7.m4.1.1.1.cmml" xref="S3.SS4.SSS1.p1.7.m4.1.1.1"></times><ci id="S3.SS4.SSS1.p1.7.m4.1.1.2.cmml" xref="S3.SS4.SSS1.p1.7.m4.1.1.2">italic-ϕ</ci><list id="S3.SS4.SSS1.p1.7.m4.1.1.3.1.cmml" xref="S3.SS4.SSS1.p1.7.m4.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.7.m4.1c">\phi()</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.7.m4.1d">italic_ϕ ( )</annotation></semantics></math> is implemented by the rouge-score between <math alttext="d" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.8.m5.1"><semantics id="S3.SS4.SSS1.p1.8.m5.1a"><mi id="S3.SS4.SSS1.p1.8.m5.1.1" xref="S3.SS4.SSS1.p1.8.m5.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.8.m5.1b"><ci id="S3.SS4.SSS1.p1.8.m5.1.1.cmml" xref="S3.SS4.SSS1.p1.8.m5.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.8.m5.1c">d</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.8.m5.1d">italic_d</annotation></semantics></math> and the <math alttext="i" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.9.m6.1"><semantics id="S3.SS4.SSS1.p1.9.m6.1a"><mi id="S3.SS4.SSS1.p1.9.m6.1.1" xref="S3.SS4.SSS1.p1.9.m6.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.9.m6.1b"><ci id="S3.SS4.SSS1.p1.9.m6.1.1.cmml" xref="S3.SS4.SSS1.p1.9.m6.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.9.m6.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.9.m6.1d">italic_i</annotation></semantics></math>-th sub-answer <math alttext="a_{i}" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.10.m7.1"><semantics id="S3.SS4.SSS1.p1.10.m7.1a"><msub id="S3.SS4.SSS1.p1.10.m7.1.1" xref="S3.SS4.SSS1.p1.10.m7.1.1.cmml"><mi id="S3.SS4.SSS1.p1.10.m7.1.1.2" xref="S3.SS4.SSS1.p1.10.m7.1.1.2.cmml">a</mi><mi id="S3.SS4.SSS1.p1.10.m7.1.1.3" xref="S3.SS4.SSS1.p1.10.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.10.m7.1b"><apply id="S3.SS4.SSS1.p1.10.m7.1.1.cmml" xref="S3.SS4.SSS1.p1.10.m7.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.10.m7.1.1.1.cmml" xref="S3.SS4.SSS1.p1.10.m7.1.1">subscript</csymbol><ci id="S3.SS4.SSS1.p1.10.m7.1.1.2.cmml" xref="S3.SS4.SSS1.p1.10.m7.1.1.2">𝑎</ci><ci id="S3.SS4.SSS1.p1.10.m7.1.1.3.cmml" xref="S3.SS4.SSS1.p1.10.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.10.m7.1c">a_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.10.m7.1d">italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>. The current importance of sub-aspects is measured by calculating their coverage by previous <math alttext="t-1" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.11.m8.1"><semantics id="S3.SS4.SSS1.p1.11.m8.1a"><mrow id="S3.SS4.SSS1.p1.11.m8.1.1" xref="S3.SS4.SSS1.p1.11.m8.1.1.cmml"><mi id="S3.SS4.SSS1.p1.11.m8.1.1.2" xref="S3.SS4.SSS1.p1.11.m8.1.1.2.cmml">t</mi><mo id="S3.SS4.SSS1.p1.11.m8.1.1.1" xref="S3.SS4.SSS1.p1.11.m8.1.1.1.cmml">−</mo><mn id="S3.SS4.SSS1.p1.11.m8.1.1.3" xref="S3.SS4.SSS1.p1.11.m8.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.11.m8.1b"><apply id="S3.SS4.SSS1.p1.11.m8.1.1.cmml" xref="S3.SS4.SSS1.p1.11.m8.1.1"><minus id="S3.SS4.SSS1.p1.11.m8.1.1.1.cmml" xref="S3.SS4.SSS1.p1.11.m8.1.1.1"></minus><ci id="S3.SS4.SSS1.p1.11.m8.1.1.2.cmml" xref="S3.SS4.SSS1.p1.11.m8.1.1.2">𝑡</ci><cn id="S3.SS4.SSS1.p1.11.m8.1.1.3.cmml" type="integer" xref="S3.SS4.SSS1.p1.11.m8.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.11.m8.1c">t-1</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.11.m8.1d">italic_t - 1</annotation></semantics></math> selected documents using the following function with sum normalization <math alttext="\mathrm{Norm}()" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.12.m9.1"><semantics id="S3.SS4.SSS1.p1.12.m9.1a"><mrow id="S3.SS4.SSS1.p1.12.m9.1.1" xref="S3.SS4.SSS1.p1.12.m9.1.1.cmml"><mi id="S3.SS4.SSS1.p1.12.m9.1.1.2" xref="S3.SS4.SSS1.p1.12.m9.1.1.2.cmml">Norm</mi><mo id="S3.SS4.SSS1.p1.12.m9.1.1.1" xref="S3.SS4.SSS1.p1.12.m9.1.1.1.cmml">⁢</mo><mrow id="S3.SS4.SSS1.p1.12.m9.1.1.3.2" xref="S3.SS4.SSS1.p1.12.m9.1.1.cmml"><mo id="S3.SS4.SSS1.p1.12.m9.1.1.3.2.1" stretchy="false" xref="S3.SS4.SSS1.p1.12.m9.1.1.3.1.cmml">(</mo><mo id="S3.SS4.SSS1.p1.12.m9.1.1.3.2.2" stretchy="false" xref="S3.SS4.SSS1.p1.12.m9.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.12.m9.1b"><apply id="S3.SS4.SSS1.p1.12.m9.1.1.cmml" xref="S3.SS4.SSS1.p1.12.m9.1.1"><times id="S3.SS4.SSS1.p1.12.m9.1.1.1.cmml" xref="S3.SS4.SSS1.p1.12.m9.1.1.1"></times><ci id="S3.SS4.SSS1.p1.12.m9.1.1.2.cmml" xref="S3.SS4.SSS1.p1.12.m9.1.1.2">Norm</ci><list id="S3.SS4.SSS1.p1.12.m9.1.1.3.1.cmml" xref="S3.SS4.SSS1.p1.12.m9.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.12.m9.1c">\mathrm{Norm}()</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.12.m9.1d">roman_Norm ( )</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="w^{t}_{i}=1-\mathrm{Norm}_{i}({\max\nolimits_{\tilde{d}\in L^{*}_{t-1}}\phi(%
\tilde{d},a_{i})})," class="ltx_Math" display="block" id="S3.E9.m1.2"><semantics id="S3.E9.m1.2a"><mrow id="S3.E9.m1.2.2.1" xref="S3.E9.m1.2.2.1.1.cmml"><mrow id="S3.E9.m1.2.2.1.1" xref="S3.E9.m1.2.2.1.1.cmml"><msubsup id="S3.E9.m1.2.2.1.1.3" xref="S3.E9.m1.2.2.1.1.3.cmml"><mi id="S3.E9.m1.2.2.1.1.3.2.2" xref="S3.E9.m1.2.2.1.1.3.2.2.cmml">w</mi><mi id="S3.E9.m1.2.2.1.1.3.3" xref="S3.E9.m1.2.2.1.1.3.3.cmml">i</mi><mi id="S3.E9.m1.2.2.1.1.3.2.3" xref="S3.E9.m1.2.2.1.1.3.2.3.cmml">t</mi></msubsup><mo id="S3.E9.m1.2.2.1.1.2" xref="S3.E9.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E9.m1.2.2.1.1.1" xref="S3.E9.m1.2.2.1.1.1.cmml"><mn id="S3.E9.m1.2.2.1.1.1.3" xref="S3.E9.m1.2.2.1.1.1.3.cmml">1</mn><mo id="S3.E9.m1.2.2.1.1.1.2" xref="S3.E9.m1.2.2.1.1.1.2.cmml">−</mo><mrow id="S3.E9.m1.2.2.1.1.1.1" xref="S3.E9.m1.2.2.1.1.1.1.cmml"><msub id="S3.E9.m1.2.2.1.1.1.1.3" xref="S3.E9.m1.2.2.1.1.1.1.3.cmml"><mi id="S3.E9.m1.2.2.1.1.1.1.3.2" xref="S3.E9.m1.2.2.1.1.1.1.3.2.cmml">Norm</mi><mi id="S3.E9.m1.2.2.1.1.1.1.3.3" xref="S3.E9.m1.2.2.1.1.1.1.3.3.cmml">i</mi></msub><mo id="S3.E9.m1.2.2.1.1.1.1.2" xref="S3.E9.m1.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E9.m1.2.2.1.1.1.1.1.1" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S3.E9.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E9.m1.2.2.1.1.1.1.1.1.1" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.cmml"><mrow id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.cmml"><msub id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.cmml"><mi id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.2" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.2.cmml">max</mi><mrow id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.cmml"><mover accent="true" id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.2" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.2.cmml"><mi id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.2.2" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.2.2.cmml">d</mi><mo id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.2.1" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.2.1.cmml">~</mo></mover><mo id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.1" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.1.cmml">∈</mo><msubsup id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.cmml"><mi id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.2.2" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.2.2.cmml">L</mi><mrow id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.cmml"><mi id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.2" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.2.cmml">t</mi><mo id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.1" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.1.cmml">−</mo><mn id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.3" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.3.cmml">1</mn></mrow><mo id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.2.3" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.2.3.cmml">∗</mo></msubsup></mrow></msub><mo id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3a" lspace="0.167em" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.cmml">⁡</mo><mi id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.2" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.2.cmml">ϕ</mi></mrow><mo id="S3.E9.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.2.cmml"><mo id="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">(</mo><mover accent="true" id="S3.E9.m1.1.1" xref="S3.E9.m1.1.1.cmml"><mi id="S3.E9.m1.1.1.2" xref="S3.E9.m1.1.1.2.cmml">d</mi><mo id="S3.E9.m1.1.1.1" xref="S3.E9.m1.1.1.1.cmml">~</mo></mover><mo id="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">,</mo><msub id="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml">a</mi><mi id="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.4" stretchy="false" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E9.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E9.m1.2.2.1.2" xref="S3.E9.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E9.m1.2b"><apply id="S3.E9.m1.2.2.1.1.cmml" xref="S3.E9.m1.2.2.1"><eq id="S3.E9.m1.2.2.1.1.2.cmml" xref="S3.E9.m1.2.2.1.1.2"></eq><apply id="S3.E9.m1.2.2.1.1.3.cmml" xref="S3.E9.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.1.1.3.1.cmml" xref="S3.E9.m1.2.2.1.1.3">subscript</csymbol><apply id="S3.E9.m1.2.2.1.1.3.2.cmml" xref="S3.E9.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.1.1.3.2.1.cmml" xref="S3.E9.m1.2.2.1.1.3">superscript</csymbol><ci id="S3.E9.m1.2.2.1.1.3.2.2.cmml" xref="S3.E9.m1.2.2.1.1.3.2.2">𝑤</ci><ci id="S3.E9.m1.2.2.1.1.3.2.3.cmml" xref="S3.E9.m1.2.2.1.1.3.2.3">𝑡</ci></apply><ci id="S3.E9.m1.2.2.1.1.3.3.cmml" xref="S3.E9.m1.2.2.1.1.3.3">𝑖</ci></apply><apply id="S3.E9.m1.2.2.1.1.1.cmml" xref="S3.E9.m1.2.2.1.1.1"><minus id="S3.E9.m1.2.2.1.1.1.2.cmml" xref="S3.E9.m1.2.2.1.1.1.2"></minus><cn id="S3.E9.m1.2.2.1.1.1.3.cmml" type="integer" xref="S3.E9.m1.2.2.1.1.1.3">1</cn><apply id="S3.E9.m1.2.2.1.1.1.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1"><times id="S3.E9.m1.2.2.1.1.1.1.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.2"></times><apply id="S3.E9.m1.2.2.1.1.1.1.3.cmml" xref="S3.E9.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E9.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.3.2">Norm</ci><ci id="S3.E9.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E9.m1.2.2.1.1.1.1.3.3">𝑖</ci></apply><apply id="S3.E9.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1"><times id="S3.E9.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.2"></times><apply id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3"><apply id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1">subscript</csymbol><max id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.2"></max><apply id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3"><in id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.1"></in><apply id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.2"><ci id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.2.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.2.1">~</ci><ci id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.2.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.2.2">𝑑</ci></apply><apply id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3">subscript</csymbol><apply id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.2.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3">superscript</csymbol><ci id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.2.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.2.2">𝐿</ci><times id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.2.3.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.2.3"></times></apply><apply id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3"><minus id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.1"></minus><ci id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.2">𝑡</ci><cn id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.3.cmml" type="integer" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.1.3.3.3.3">1</cn></apply></apply></apply></apply><ci id="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.3.2">italic-ϕ</ci></apply><interval closure="open" id="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1"><apply id="S3.E9.m1.1.1.cmml" xref="S3.E9.m1.1.1"><ci id="S3.E9.m1.1.1.1.cmml" xref="S3.E9.m1.1.1.1">~</ci><ci id="S3.E9.m1.1.1.2.cmml" xref="S3.E9.m1.1.1.2">𝑑</ci></apply><apply id="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1.2">𝑎</ci><ci id="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9.m1.2c">w^{t}_{i}=1-\mathrm{Norm}_{i}({\max\nolimits_{\tilde{d}\in L^{*}_{t-1}}\phi(%
\tilde{d},a_{i})}),</annotation><annotation encoding="application/x-llamapun" id="S3.E9.m1.2d">italic_w start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = 1 - roman_Norm start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ( roman_max start_POSTSUBSCRIPT over~ start_ARG italic_d end_ARG ∈ italic_L start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT italic_ϕ ( over~ start_ARG italic_d end_ARG , italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS4.SSS1.p1.13">The silver target list, <math alttext="L^{*}_{k}" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.13.m1.1"><semantics id="S3.SS4.SSS1.p1.13.m1.1a"><msubsup id="S3.SS4.SSS1.p1.13.m1.1.1" xref="S3.SS4.SSS1.p1.13.m1.1.1.cmml"><mi id="S3.SS4.SSS1.p1.13.m1.1.1.2.2" xref="S3.SS4.SSS1.p1.13.m1.1.1.2.2.cmml">L</mi><mi id="S3.SS4.SSS1.p1.13.m1.1.1.3" xref="S3.SS4.SSS1.p1.13.m1.1.1.3.cmml">k</mi><mo id="S3.SS4.SSS1.p1.13.m1.1.1.2.3" xref="S3.SS4.SSS1.p1.13.m1.1.1.2.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.13.m1.1b"><apply id="S3.SS4.SSS1.p1.13.m1.1.1.cmml" xref="S3.SS4.SSS1.p1.13.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.13.m1.1.1.1.cmml" xref="S3.SS4.SSS1.p1.13.m1.1.1">subscript</csymbol><apply id="S3.SS4.SSS1.p1.13.m1.1.1.2.cmml" xref="S3.SS4.SSS1.p1.13.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.13.m1.1.1.2.1.cmml" xref="S3.SS4.SSS1.p1.13.m1.1.1">superscript</csymbol><ci id="S3.SS4.SSS1.p1.13.m1.1.1.2.2.cmml" xref="S3.SS4.SSS1.p1.13.m1.1.1.2.2">𝐿</ci><times id="S3.SS4.SSS1.p1.13.m1.1.1.2.3.cmml" xref="S3.SS4.SSS1.p1.13.m1.1.1.2.3"></times></apply><ci id="S3.SS4.SSS1.p1.13.m1.1.1.3.cmml" xref="S3.SS4.SSS1.p1.13.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.13.m1.1c">L^{*}_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.13.m1.1d">italic_L start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math>, allows us to supervise fine-tune the ranker via the NTP task:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E10">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{sft}=-\sum\nolimits_{t=1}^{k}\log p(d^{*}_{t}|q,\mathcal{P},\hat{%
\mathcal{S}},L^{*}_{t-1})." class="ltx_Math" display="block" id="S3.E10.m1.4"><semantics id="S3.E10.m1.4a"><mrow id="S3.E10.m1.4.4.1" xref="S3.E10.m1.4.4.1.1.cmml"><mrow id="S3.E10.m1.4.4.1.1" xref="S3.E10.m1.4.4.1.1.cmml"><msub id="S3.E10.m1.4.4.1.1.3" xref="S3.E10.m1.4.4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.4.4.1.1.3.2" xref="S3.E10.m1.4.4.1.1.3.2.cmml">ℒ</mi><mrow id="S3.E10.m1.4.4.1.1.3.3" xref="S3.E10.m1.4.4.1.1.3.3.cmml"><mi id="S3.E10.m1.4.4.1.1.3.3.2" xref="S3.E10.m1.4.4.1.1.3.3.2.cmml">s</mi><mo id="S3.E10.m1.4.4.1.1.3.3.1" xref="S3.E10.m1.4.4.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E10.m1.4.4.1.1.3.3.3" xref="S3.E10.m1.4.4.1.1.3.3.3.cmml">f</mi><mo id="S3.E10.m1.4.4.1.1.3.3.1a" xref="S3.E10.m1.4.4.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E10.m1.4.4.1.1.3.3.4" xref="S3.E10.m1.4.4.1.1.3.3.4.cmml">t</mi></mrow></msub><mo id="S3.E10.m1.4.4.1.1.2" xref="S3.E10.m1.4.4.1.1.2.cmml">=</mo><mrow id="S3.E10.m1.4.4.1.1.1" xref="S3.E10.m1.4.4.1.1.1.cmml"><mo id="S3.E10.m1.4.4.1.1.1a" xref="S3.E10.m1.4.4.1.1.1.cmml">−</mo><mrow id="S3.E10.m1.4.4.1.1.1.1" xref="S3.E10.m1.4.4.1.1.1.1.cmml"><msubsup id="S3.E10.m1.4.4.1.1.1.1.2" xref="S3.E10.m1.4.4.1.1.1.1.2.cmml"><mo id="S3.E10.m1.4.4.1.1.1.1.2.2.2" xref="S3.E10.m1.4.4.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E10.m1.4.4.1.1.1.1.2.2.3" xref="S3.E10.m1.4.4.1.1.1.1.2.2.3.cmml"><mi id="S3.E10.m1.4.4.1.1.1.1.2.2.3.2" xref="S3.E10.m1.4.4.1.1.1.1.2.2.3.2.cmml">t</mi><mo id="S3.E10.m1.4.4.1.1.1.1.2.2.3.1" xref="S3.E10.m1.4.4.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E10.m1.4.4.1.1.1.1.2.2.3.3" xref="S3.E10.m1.4.4.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E10.m1.4.4.1.1.1.1.2.3" xref="S3.E10.m1.4.4.1.1.1.1.2.3.cmml">k</mi></msubsup><mrow id="S3.E10.m1.4.4.1.1.1.1.1" xref="S3.E10.m1.4.4.1.1.1.1.1.cmml"><mrow id="S3.E10.m1.4.4.1.1.1.1.1.3" xref="S3.E10.m1.4.4.1.1.1.1.1.3.cmml"><mi id="S3.E10.m1.4.4.1.1.1.1.1.3.1" xref="S3.E10.m1.4.4.1.1.1.1.1.3.1.cmml">log</mi><mo id="S3.E10.m1.4.4.1.1.1.1.1.3a" lspace="0.167em" xref="S3.E10.m1.4.4.1.1.1.1.1.3.cmml">⁡</mo><mi id="S3.E10.m1.4.4.1.1.1.1.1.3.2" xref="S3.E10.m1.4.4.1.1.1.1.1.3.2.cmml">p</mi></mrow><mo id="S3.E10.m1.4.4.1.1.1.1.1.2" xref="S3.E10.m1.4.4.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E10.m1.4.4.1.1.1.1.1.1.1" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E10.m1.4.4.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.cmml"><msubsup id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.2.2.cmml">d</mi><mi id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.3" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.3.cmml">t</mi><mo id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.2.3" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.2.3.cmml">∗</mo></msubsup><mo fence="false" id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.2" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E10.m1.1.1" xref="S3.E10.m1.1.1.cmml">q</mi><mo id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.2.2" xref="S3.E10.m1.2.2.cmml">𝒫</mi><mo id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><mover accent="true" id="S3.E10.m1.3.3" xref="S3.E10.m1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.3.3.2" xref="S3.E10.m1.3.3.2.cmml">𝒮</mi><mo id="S3.E10.m1.3.3.1" xref="S3.E10.m1.3.3.1.cmml">^</mo></mover><mo id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.4" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><msubsup id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">L</mi><mrow id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow><mo id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">∗</mo></msubsup></mrow></mrow><mo id="S3.E10.m1.4.4.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.E10.m1.4.4.1.2" lspace="0em" xref="S3.E10.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m1.4b"><apply id="S3.E10.m1.4.4.1.1.cmml" xref="S3.E10.m1.4.4.1"><eq id="S3.E10.m1.4.4.1.1.2.cmml" xref="S3.E10.m1.4.4.1.1.2"></eq><apply id="S3.E10.m1.4.4.1.1.3.cmml" xref="S3.E10.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m1.4.4.1.1.3.1.cmml" xref="S3.E10.m1.4.4.1.1.3">subscript</csymbol><ci id="S3.E10.m1.4.4.1.1.3.2.cmml" xref="S3.E10.m1.4.4.1.1.3.2">ℒ</ci><apply id="S3.E10.m1.4.4.1.1.3.3.cmml" xref="S3.E10.m1.4.4.1.1.3.3"><times id="S3.E10.m1.4.4.1.1.3.3.1.cmml" xref="S3.E10.m1.4.4.1.1.3.3.1"></times><ci id="S3.E10.m1.4.4.1.1.3.3.2.cmml" xref="S3.E10.m1.4.4.1.1.3.3.2">𝑠</ci><ci id="S3.E10.m1.4.4.1.1.3.3.3.cmml" xref="S3.E10.m1.4.4.1.1.3.3.3">𝑓</ci><ci id="S3.E10.m1.4.4.1.1.3.3.4.cmml" xref="S3.E10.m1.4.4.1.1.3.3.4">𝑡</ci></apply></apply><apply id="S3.E10.m1.4.4.1.1.1.cmml" xref="S3.E10.m1.4.4.1.1.1"><minus id="S3.E10.m1.4.4.1.1.1.2.cmml" xref="S3.E10.m1.4.4.1.1.1"></minus><apply id="S3.E10.m1.4.4.1.1.1.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1"><apply id="S3.E10.m1.4.4.1.1.1.1.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.4.4.1.1.1.1.2.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1.2">superscript</csymbol><apply id="S3.E10.m1.4.4.1.1.1.1.2.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.4.4.1.1.1.1.2.2.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1.2">subscript</csymbol><sum id="S3.E10.m1.4.4.1.1.1.1.2.2.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.2.2.2"></sum><apply id="S3.E10.m1.4.4.1.1.1.1.2.2.3.cmml" xref="S3.E10.m1.4.4.1.1.1.1.2.2.3"><eq id="S3.E10.m1.4.4.1.1.1.1.2.2.3.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1.2.2.3.1"></eq><ci id="S3.E10.m1.4.4.1.1.1.1.2.2.3.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.2.2.3.2">𝑡</ci><cn id="S3.E10.m1.4.4.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E10.m1.4.4.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E10.m1.4.4.1.1.1.1.2.3.cmml" xref="S3.E10.m1.4.4.1.1.1.1.2.3">𝑘</ci></apply><apply id="S3.E10.m1.4.4.1.1.1.1.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1"><times id="S3.E10.m1.4.4.1.1.1.1.1.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.2"></times><apply id="S3.E10.m1.4.4.1.1.1.1.1.3.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.3"><log id="S3.E10.m1.4.4.1.1.1.1.1.3.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.3.1"></log><ci id="S3.E10.m1.4.4.1.1.1.1.1.3.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.3.2">𝑝</ci></apply><apply id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.2.2">𝑑</ci><times id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.2.3"></times></apply><ci id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.3.3">𝑡</ci></apply><list id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1"><ci id="S3.E10.m1.1.1.cmml" xref="S3.E10.m1.1.1">𝑞</ci><ci id="S3.E10.m1.2.2.cmml" xref="S3.E10.m1.2.2">𝒫</ci><apply id="S3.E10.m1.3.3.cmml" xref="S3.E10.m1.3.3"><ci id="S3.E10.m1.3.3.1.cmml" xref="S3.E10.m1.3.3.1">^</ci><ci id="S3.E10.m1.3.3.2.cmml" xref="S3.E10.m1.3.3.2">𝒮</ci></apply><apply id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.2">𝐿</ci><times id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.2.3"></times></apply><apply id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3"><minus id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.1"></minus><ci id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.2">𝑡</ci><cn id="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S3.E10.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m1.4c">\mathcal{L}_{sft}=-\sum\nolimits_{t=1}^{k}\log p(d^{*}_{t}|q,\mathcal{P},\hat{%
\mathcal{S}},L^{*}_{t-1}).</annotation><annotation encoding="application/x-llamapun" id="S3.E10.m1.4d">caligraphic_L start_POSTSUBSCRIPT italic_s italic_f italic_t end_POSTSUBSCRIPT = - ∑ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT roman_log italic_p ( italic_d start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_q , caligraphic_P , over^ start_ARG caligraphic_S end_ARG , italic_L start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS4.SSS1.p1.15"><math alttext="p(d^{*}_{t}|q,\mathcal{P},\hat{\mathcal{S}},d^{*}_{1:t-1})" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.14.m1.4"><semantics id="S3.SS4.SSS1.p1.14.m1.4a"><mrow id="S3.SS4.SSS1.p1.14.m1.4.4" xref="S3.SS4.SSS1.p1.14.m1.4.4.cmml"><mi id="S3.SS4.SSS1.p1.14.m1.4.4.3" xref="S3.SS4.SSS1.p1.14.m1.4.4.3.cmml">p</mi><mo id="S3.SS4.SSS1.p1.14.m1.4.4.2" xref="S3.SS4.SSS1.p1.14.m1.4.4.2.cmml">⁢</mo><mrow id="S3.SS4.SSS1.p1.14.m1.4.4.1.1" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.cmml"><mo id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.2" stretchy="false" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.cmml">(</mo><mrow id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.cmml"><msubsup id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.cmml"><mi id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.2.2" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.2.2.cmml">d</mi><mi id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.3" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.3.cmml">t</mi><mo id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.2.3" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.2.3.cmml">∗</mo></msubsup><mo fence="false" id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.2" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.2.cmml">|</mo><mrow id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.2.cmml"><mi id="S3.SS4.SSS1.p1.14.m1.1.1" xref="S3.SS4.SSS1.p1.14.m1.1.1.cmml">q</mi><mo id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.2" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS1.p1.14.m1.2.2" xref="S3.SS4.SSS1.p1.14.m1.2.2.cmml">𝒫</mi><mo id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.3" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.2.cmml">,</mo><mover accent="true" id="S3.SS4.SSS1.p1.14.m1.3.3" xref="S3.SS4.SSS1.p1.14.m1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS1.p1.14.m1.3.3.2" xref="S3.SS4.SSS1.p1.14.m1.3.3.2.cmml">𝒮</mi><mo id="S3.SS4.SSS1.p1.14.m1.3.3.1" xref="S3.SS4.SSS1.p1.14.m1.3.3.1.cmml">^</mo></mover><mo id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.4" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.2.cmml">,</mo><msubsup id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.cmml"><mi id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.2.2" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.2.2.cmml">d</mi><mrow id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.cmml"><mn id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.2" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.2.cmml">1</mn><mo id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.1" lspace="0.278em" rspace="0.278em" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.cmml"><mi id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.2" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.2.cmml">t</mi><mo id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.1" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.1.cmml">−</mo><mn id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.3" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow><mo id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.2.3" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.2.3.cmml">∗</mo></msubsup></mrow></mrow><mo id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.3" stretchy="false" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.14.m1.4b"><apply id="S3.SS4.SSS1.p1.14.m1.4.4.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4"><times id="S3.SS4.SSS1.p1.14.m1.4.4.2.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.2"></times><ci id="S3.SS4.SSS1.p1.14.m1.4.4.3.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.3">𝑝</ci><apply id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1"><csymbol cd="latexml" id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.2.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.2">conditional</csymbol><apply id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.1.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3">subscript</csymbol><apply id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.2.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.2.1.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3">superscript</csymbol><ci id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.2.2.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.2.2">𝑑</ci><times id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.2.3.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.2.3"></times></apply><ci id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.3.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.3.3">𝑡</ci></apply><list id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.2.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1"><ci id="S3.SS4.SSS1.p1.14.m1.1.1.cmml" xref="S3.SS4.SSS1.p1.14.m1.1.1">𝑞</ci><ci id="S3.SS4.SSS1.p1.14.m1.2.2.cmml" xref="S3.SS4.SSS1.p1.14.m1.2.2">𝒫</ci><apply id="S3.SS4.SSS1.p1.14.m1.3.3.cmml" xref="S3.SS4.SSS1.p1.14.m1.3.3"><ci id="S3.SS4.SSS1.p1.14.m1.3.3.1.cmml" xref="S3.SS4.SSS1.p1.14.m1.3.3.1">^</ci><ci id="S3.SS4.SSS1.p1.14.m1.3.3.2.cmml" xref="S3.SS4.SSS1.p1.14.m1.3.3.2">𝒮</ci></apply><apply id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1">subscript</csymbol><apply id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.2.1.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1">superscript</csymbol><ci id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.2.2.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.2.2">𝑑</ci><times id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.2.3.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.2.3"></times></apply><apply id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3"><ci id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.1.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.1">:</ci><cn id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.2.cmml" type="integer" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.2">1</cn><apply id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3"><minus id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.1.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.1"></minus><ci id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.2.cmml" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.2">𝑡</ci><cn id="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.3.cmml" type="integer" xref="S3.SS4.SSS1.p1.14.m1.4.4.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.14.m1.4c">p(d^{*}_{t}|q,\mathcal{P},\hat{\mathcal{S}},d^{*}_{1:t-1})</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.14.m1.4d">italic_p ( italic_d start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_q , caligraphic_P , over^ start_ARG caligraphic_S end_ARG , italic_d start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 1 : italic_t - 1 end_POSTSUBSCRIPT )</annotation></semantics></math> is the generation probability of the <math alttext="t" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.15.m2.1"><semantics id="S3.SS4.SSS1.p1.15.m2.1a"><mi id="S3.SS4.SSS1.p1.15.m2.1.1" xref="S3.SS4.SSS1.p1.15.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.15.m2.1b"><ci id="S3.SS4.SSS1.p1.15.m2.1.1.cmml" xref="S3.SS4.SSS1.p1.15.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.15.m2.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.15.m2.1d">italic_t</annotation></semantics></math>-th target docid conditioned on the current question, the candidate pool, the sub-aspects, and the previously target documents. It is calculated by our ranking module.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS4.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.2 </span>Reinforcement Learning</h4>
<div class="ltx_para" id="S3.SS4.SSS2.p1">
<p class="ltx_p" id="S3.SS4.SSS2.p1.1">After supervised fine-tuning, aligning ranking lists with LLM-preferred order is critical to enhance the final response quality. Therefore, we use an RL strategy to explore better ranking possibilities.</p>
</div>
<div class="ltx_para" id="S3.SS4.SSS2.p2">
<p class="ltx_p" id="S3.SS4.SSS2.p2.8"><math alttext="\bullet" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.1.m1.1"><semantics id="S3.SS4.SSS2.p2.1.m1.1a"><mo id="S3.SS4.SSS2.p2.1.m1.1.1" xref="S3.SS4.SSS2.p2.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.1.m1.1b"><ci id="S3.SS4.SSS2.p2.1.m1.1.1.cmml" xref="S3.SS4.SSS2.p2.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_italic" id="S3.SS4.SSS2.p2.8.1">Reward Function.</span>
We treat the quality of final responses as the reward of provided ranking lists to model LLM’s preferences. Since we expect the generated responses to cover all sub-answers from all sub-aspects, besides using the rouge score <math alttext="\phi()" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.2.m2.1"><semantics id="S3.SS4.SSS2.p2.2.m2.1a"><mrow id="S3.SS4.SSS2.p2.2.m2.1.1" xref="S3.SS4.SSS2.p2.2.m2.1.1.cmml"><mi id="S3.SS4.SSS2.p2.2.m2.1.1.2" xref="S3.SS4.SSS2.p2.2.m2.1.1.2.cmml">ϕ</mi><mo id="S3.SS4.SSS2.p2.2.m2.1.1.1" xref="S3.SS4.SSS2.p2.2.m2.1.1.1.cmml">⁢</mo><mrow id="S3.SS4.SSS2.p2.2.m2.1.1.3.2" xref="S3.SS4.SSS2.p2.2.m2.1.1.cmml"><mo id="S3.SS4.SSS2.p2.2.m2.1.1.3.2.1" stretchy="false" xref="S3.SS4.SSS2.p2.2.m2.1.1.3.1.cmml">(</mo><mo id="S3.SS4.SSS2.p2.2.m2.1.1.3.2.2" stretchy="false" xref="S3.SS4.SSS2.p2.2.m2.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.2.m2.1b"><apply id="S3.SS4.SSS2.p2.2.m2.1.1.cmml" xref="S3.SS4.SSS2.p2.2.m2.1.1"><times id="S3.SS4.SSS2.p2.2.m2.1.1.1.cmml" xref="S3.SS4.SSS2.p2.2.m2.1.1.1"></times><ci id="S3.SS4.SSS2.p2.2.m2.1.1.2.cmml" xref="S3.SS4.SSS2.p2.2.m2.1.1.2">italic-ϕ</ci><list id="S3.SS4.SSS2.p2.2.m2.1.1.3.1.cmml" xref="S3.SS4.SSS2.p2.2.m2.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.2.m2.1c">\phi()</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.2.m2.1d">italic_ϕ ( )</annotation></semantics></math> to calculate the matching between responses <math alttext="r" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.3.m3.1"><semantics id="S3.SS4.SSS2.p2.3.m3.1a"><mi id="S3.SS4.SSS2.p2.3.m3.1.1" xref="S3.SS4.SSS2.p2.3.m3.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.3.m3.1b"><ci id="S3.SS4.SSS2.p2.3.m3.1.1.cmml" xref="S3.SS4.SSS2.p2.3.m3.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.3.m3.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.3.m3.1d">italic_r</annotation></semantics></math> and golden answers <math alttext="a" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.4.m4.1"><semantics id="S3.SS4.SSS2.p2.4.m4.1a"><mi id="S3.SS4.SSS2.p2.4.m4.1.1" xref="S3.SS4.SSS2.p2.4.m4.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.4.m4.1b"><ci id="S3.SS4.SSS2.p2.4.m4.1.1.cmml" xref="S3.SS4.SSS2.p2.4.m4.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.4.m4.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.4.m4.1d">italic_a</annotation></semantics></math>, we further introduce a com-rouge score, <math alttext="\phi^{c}()" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.5.m5.1"><semantics id="S3.SS4.SSS2.p2.5.m5.1a"><mrow id="S3.SS4.SSS2.p2.5.m5.1.1" xref="S3.SS4.SSS2.p2.5.m5.1.1.cmml"><msup id="S3.SS4.SSS2.p2.5.m5.1.1.2" xref="S3.SS4.SSS2.p2.5.m5.1.1.2.cmml"><mi id="S3.SS4.SSS2.p2.5.m5.1.1.2.2" xref="S3.SS4.SSS2.p2.5.m5.1.1.2.2.cmml">ϕ</mi><mi id="S3.SS4.SSS2.p2.5.m5.1.1.2.3" xref="S3.SS4.SSS2.p2.5.m5.1.1.2.3.cmml">c</mi></msup><mo id="S3.SS4.SSS2.p2.5.m5.1.1.1" xref="S3.SS4.SSS2.p2.5.m5.1.1.1.cmml">⁢</mo><mrow id="S3.SS4.SSS2.p2.5.m5.1.1.3.2" xref="S3.SS4.SSS2.p2.5.m5.1.1.cmml"><mo id="S3.SS4.SSS2.p2.5.m5.1.1.3.2.1" stretchy="false" xref="S3.SS4.SSS2.p2.5.m5.1.1.3.1.cmml">(</mo><mo id="S3.SS4.SSS2.p2.5.m5.1.1.3.2.2" stretchy="false" xref="S3.SS4.SSS2.p2.5.m5.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.5.m5.1b"><apply id="S3.SS4.SSS2.p2.5.m5.1.1.cmml" xref="S3.SS4.SSS2.p2.5.m5.1.1"><times id="S3.SS4.SSS2.p2.5.m5.1.1.1.cmml" xref="S3.SS4.SSS2.p2.5.m5.1.1.1"></times><apply id="S3.SS4.SSS2.p2.5.m5.1.1.2.cmml" xref="S3.SS4.SSS2.p2.5.m5.1.1.2"><csymbol cd="ambiguous" id="S3.SS4.SSS2.p2.5.m5.1.1.2.1.cmml" xref="S3.SS4.SSS2.p2.5.m5.1.1.2">superscript</csymbol><ci id="S3.SS4.SSS2.p2.5.m5.1.1.2.2.cmml" xref="S3.SS4.SSS2.p2.5.m5.1.1.2.2">italic-ϕ</ci><ci id="S3.SS4.SSS2.p2.5.m5.1.1.2.3.cmml" xref="S3.SS4.SSS2.p2.5.m5.1.1.2.3">𝑐</ci></apply><list id="S3.SS4.SSS2.p2.5.m5.1.1.3.1.cmml" xref="S3.SS4.SSS2.p2.5.m5.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.5.m5.1c">\phi^{c}()</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.5.m5.1d">italic_ϕ start_POSTSUPERSCRIPT italic_c end_POSTSUPERSCRIPT ( )</annotation></semantics></math> to measure the coverage of responses on sub-answers, <math alttext="\mathcal{A}" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.6.m6.1"><semantics id="S3.SS4.SSS2.p2.6.m6.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS2.p2.6.m6.1.1" xref="S3.SS4.SSS2.p2.6.m6.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.6.m6.1b"><ci id="S3.SS4.SSS2.p2.6.m6.1.1.cmml" xref="S3.SS4.SSS2.p2.6.m6.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.6.m6.1c">\mathcal{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.6.m6.1d">caligraphic_A</annotation></semantics></math>. The reward function <math alttext="\mathcal{r}(L)" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.7.m7.1"><semantics id="S3.SS4.SSS2.p2.7.m7.1a"><mrow id="S3.SS4.SSS2.p2.7.m7.1.2" xref="S3.SS4.SSS2.p2.7.m7.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS2.p2.7.m7.1.2.2" xref="S3.SS4.SSS2.p2.7.m7.1.2.2.cmml">𝓇</mi><mo id="S3.SS4.SSS2.p2.7.m7.1.2.1" xref="S3.SS4.SSS2.p2.7.m7.1.2.1.cmml">⁢</mo><mrow id="S3.SS4.SSS2.p2.7.m7.1.2.3.2" xref="S3.SS4.SSS2.p2.7.m7.1.2.cmml"><mo id="S3.SS4.SSS2.p2.7.m7.1.2.3.2.1" stretchy="false" xref="S3.SS4.SSS2.p2.7.m7.1.2.cmml">(</mo><mi id="S3.SS4.SSS2.p2.7.m7.1.1" xref="S3.SS4.SSS2.p2.7.m7.1.1.cmml">L</mi><mo id="S3.SS4.SSS2.p2.7.m7.1.2.3.2.2" stretchy="false" xref="S3.SS4.SSS2.p2.7.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.7.m7.1b"><apply id="S3.SS4.SSS2.p2.7.m7.1.2.cmml" xref="S3.SS4.SSS2.p2.7.m7.1.2"><times id="S3.SS4.SSS2.p2.7.m7.1.2.1.cmml" xref="S3.SS4.SSS2.p2.7.m7.1.2.1"></times><ci id="S3.SS4.SSS2.p2.7.m7.1.2.2.cmml" xref="S3.SS4.SSS2.p2.7.m7.1.2.2">𝓇</ci><ci id="S3.SS4.SSS2.p2.7.m7.1.1.cmml" xref="S3.SS4.SSS2.p2.7.m7.1.1">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.7.m7.1c">\mathcal{r}(L)</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.7.m7.1d">caligraphic_r ( italic_L )</annotation></semantics></math> of a ranking list <math alttext="L" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.8.m8.1"><semantics id="S3.SS4.SSS2.p2.8.m8.1a"><mi id="S3.SS4.SSS2.p2.8.m8.1.1" xref="S3.SS4.SSS2.p2.8.m8.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.8.m8.1b"><ci id="S3.SS4.SSS2.p2.8.m8.1.1.cmml" xref="S3.SS4.SSS2.p2.8.m8.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.8.m8.1c">L</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.8.m8.1d">italic_L</annotation></semantics></math> is produced as:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E11">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E11X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{r}(L)" class="ltx_Math" display="inline" id="S3.E11X.2.1.1.m1.1"><semantics id="S3.E11X.2.1.1.m1.1a"><mrow id="S3.E11X.2.1.1.m1.1.2" xref="S3.E11X.2.1.1.m1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11X.2.1.1.m1.1.2.2" xref="S3.E11X.2.1.1.m1.1.2.2.cmml">𝓇</mi><mo id="S3.E11X.2.1.1.m1.1.2.1" xref="S3.E11X.2.1.1.m1.1.2.1.cmml">⁢</mo><mrow id="S3.E11X.2.1.1.m1.1.2.3.2" xref="S3.E11X.2.1.1.m1.1.2.cmml"><mo id="S3.E11X.2.1.1.m1.1.2.3.2.1" stretchy="false" xref="S3.E11X.2.1.1.m1.1.2.cmml">(</mo><mi id="S3.E11X.2.1.1.m1.1.1" xref="S3.E11X.2.1.1.m1.1.1.cmml">L</mi><mo id="S3.E11X.2.1.1.m1.1.2.3.2.2" stretchy="false" xref="S3.E11X.2.1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E11X.2.1.1.m1.1b"><apply id="S3.E11X.2.1.1.m1.1.2.cmml" xref="S3.E11X.2.1.1.m1.1.2"><times id="S3.E11X.2.1.1.m1.1.2.1.cmml" xref="S3.E11X.2.1.1.m1.1.2.1"></times><ci id="S3.E11X.2.1.1.m1.1.2.2.cmml" xref="S3.E11X.2.1.1.m1.1.2.2">𝓇</ci><ci id="S3.E11X.2.1.1.m1.1.1.cmml" xref="S3.E11X.2.1.1.m1.1.1">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11X.2.1.1.m1.1c">\displaystyle\mathcal{r}(L)</annotation><annotation encoding="application/x-llamapun" id="S3.E11X.2.1.1.m1.1d">caligraphic_r ( italic_L )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\phi(r,a)+\phi^{c}(r,\mathcal{A})," class="ltx_Math" display="inline" id="S3.E11X.3.2.2.m1.5"><semantics id="S3.E11X.3.2.2.m1.5a"><mrow id="S3.E11X.3.2.2.m1.5.5.1" xref="S3.E11X.3.2.2.m1.5.5.1.1.cmml"><mrow id="S3.E11X.3.2.2.m1.5.5.1.1" xref="S3.E11X.3.2.2.m1.5.5.1.1.cmml"><mi id="S3.E11X.3.2.2.m1.5.5.1.1.2" xref="S3.E11X.3.2.2.m1.5.5.1.1.2.cmml"></mi><mo id="S3.E11X.3.2.2.m1.5.5.1.1.1" xref="S3.E11X.3.2.2.m1.5.5.1.1.1.cmml">=</mo><mrow id="S3.E11X.3.2.2.m1.5.5.1.1.3" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.cmml"><mrow id="S3.E11X.3.2.2.m1.5.5.1.1.3.2" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.2.cmml"><mi id="S3.E11X.3.2.2.m1.5.5.1.1.3.2.2" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.2.2.cmml">ϕ</mi><mo id="S3.E11X.3.2.2.m1.5.5.1.1.3.2.1" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.2.1.cmml">⁢</mo><mrow id="S3.E11X.3.2.2.m1.5.5.1.1.3.2.3.2" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.2.3.1.cmml"><mo id="S3.E11X.3.2.2.m1.5.5.1.1.3.2.3.2.1" stretchy="false" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.2.3.1.cmml">(</mo><mi id="S3.E11X.3.2.2.m1.1.1" xref="S3.E11X.3.2.2.m1.1.1.cmml">r</mi><mo id="S3.E11X.3.2.2.m1.5.5.1.1.3.2.3.2.2" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.2.3.1.cmml">,</mo><mi id="S3.E11X.3.2.2.m1.2.2" xref="S3.E11X.3.2.2.m1.2.2.cmml">a</mi><mo id="S3.E11X.3.2.2.m1.5.5.1.1.3.2.3.2.3" stretchy="false" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.2.3.1.cmml">)</mo></mrow></mrow><mo id="S3.E11X.3.2.2.m1.5.5.1.1.3.1" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.1.cmml">+</mo><mrow id="S3.E11X.3.2.2.m1.5.5.1.1.3.3" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.cmml"><msup id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2.cmml"><mi id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2.2" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2.2.cmml">ϕ</mi><mi id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2.3" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2.3.cmml">c</mi></msup><mo id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.1" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.1.cmml">⁢</mo><mrow id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.3.2" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.3.1.cmml"><mo id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.3.2.1" stretchy="false" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.3.1.cmml">(</mo><mi id="S3.E11X.3.2.2.m1.3.3" xref="S3.E11X.3.2.2.m1.3.3.cmml">r</mi><mo id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.3.2.2" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E11X.3.2.2.m1.4.4" xref="S3.E11X.3.2.2.m1.4.4.cmml">𝒜</mi><mo id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.3.2.3" stretchy="false" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.3.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E11X.3.2.2.m1.5.5.1.2" xref="S3.E11X.3.2.2.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E11X.3.2.2.m1.5b"><apply id="S3.E11X.3.2.2.m1.5.5.1.1.cmml" xref="S3.E11X.3.2.2.m1.5.5.1"><eq id="S3.E11X.3.2.2.m1.5.5.1.1.1.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.1"></eq><csymbol cd="latexml" id="S3.E11X.3.2.2.m1.5.5.1.1.2.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.2">absent</csymbol><apply id="S3.E11X.3.2.2.m1.5.5.1.1.3.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3"><plus id="S3.E11X.3.2.2.m1.5.5.1.1.3.1.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.1"></plus><apply id="S3.E11X.3.2.2.m1.5.5.1.1.3.2.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.2"><times id="S3.E11X.3.2.2.m1.5.5.1.1.3.2.1.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.2.1"></times><ci id="S3.E11X.3.2.2.m1.5.5.1.1.3.2.2.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.2.2">italic-ϕ</ci><interval closure="open" id="S3.E11X.3.2.2.m1.5.5.1.1.3.2.3.1.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.2.3.2"><ci id="S3.E11X.3.2.2.m1.1.1.cmml" xref="S3.E11X.3.2.2.m1.1.1">𝑟</ci><ci id="S3.E11X.3.2.2.m1.2.2.cmml" xref="S3.E11X.3.2.2.m1.2.2">𝑎</ci></interval></apply><apply id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3"><times id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.1.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.1"></times><apply id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2.1.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2">superscript</csymbol><ci id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2.2.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2.2">italic-ϕ</ci><ci id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2.3.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.2.3">𝑐</ci></apply><interval closure="open" id="S3.E11X.3.2.2.m1.5.5.1.1.3.3.3.1.cmml" xref="S3.E11X.3.2.2.m1.5.5.1.1.3.3.3.2"><ci id="S3.E11X.3.2.2.m1.3.3.cmml" xref="S3.E11X.3.2.2.m1.3.3">𝑟</ci><ci id="S3.E11X.3.2.2.m1.4.4.cmml" xref="S3.E11X.3.2.2.m1.4.4">𝒜</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11X.3.2.2.m1.5c">\displaystyle=\phi(r,a)+\phi^{c}(r,\mathcal{A}),</annotation><annotation encoding="application/x-llamapun" id="S3.E11X.3.2.2.m1.5d">= italic_ϕ ( italic_r , italic_a ) + italic_ϕ start_POSTSUPERSCRIPT italic_c end_POSTSUPERSCRIPT ( italic_r , caligraphic_A ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(11)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E11Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\phi^{c}(r,\mathcal{A})" class="ltx_Math" display="inline" id="S3.E11Xa.2.1.1.m1.2"><semantics id="S3.E11Xa.2.1.1.m1.2a"><mrow id="S3.E11Xa.2.1.1.m1.2.3" xref="S3.E11Xa.2.1.1.m1.2.3.cmml"><msup id="S3.E11Xa.2.1.1.m1.2.3.2" xref="S3.E11Xa.2.1.1.m1.2.3.2.cmml"><mi id="S3.E11Xa.2.1.1.m1.2.3.2.2" xref="S3.E11Xa.2.1.1.m1.2.3.2.2.cmml">ϕ</mi><mi id="S3.E11Xa.2.1.1.m1.2.3.2.3" xref="S3.E11Xa.2.1.1.m1.2.3.2.3.cmml">c</mi></msup><mo id="S3.E11Xa.2.1.1.m1.2.3.1" xref="S3.E11Xa.2.1.1.m1.2.3.1.cmml">⁢</mo><mrow id="S3.E11Xa.2.1.1.m1.2.3.3.2" xref="S3.E11Xa.2.1.1.m1.2.3.3.1.cmml"><mo id="S3.E11Xa.2.1.1.m1.2.3.3.2.1" stretchy="false" xref="S3.E11Xa.2.1.1.m1.2.3.3.1.cmml">(</mo><mi id="S3.E11Xa.2.1.1.m1.1.1" xref="S3.E11Xa.2.1.1.m1.1.1.cmml">r</mi><mo id="S3.E11Xa.2.1.1.m1.2.3.3.2.2" xref="S3.E11Xa.2.1.1.m1.2.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E11Xa.2.1.1.m1.2.2" xref="S3.E11Xa.2.1.1.m1.2.2.cmml">𝒜</mi><mo id="S3.E11Xa.2.1.1.m1.2.3.3.2.3" stretchy="false" xref="S3.E11Xa.2.1.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E11Xa.2.1.1.m1.2b"><apply id="S3.E11Xa.2.1.1.m1.2.3.cmml" xref="S3.E11Xa.2.1.1.m1.2.3"><times id="S3.E11Xa.2.1.1.m1.2.3.1.cmml" xref="S3.E11Xa.2.1.1.m1.2.3.1"></times><apply id="S3.E11Xa.2.1.1.m1.2.3.2.cmml" xref="S3.E11Xa.2.1.1.m1.2.3.2"><csymbol cd="ambiguous" id="S3.E11Xa.2.1.1.m1.2.3.2.1.cmml" xref="S3.E11Xa.2.1.1.m1.2.3.2">superscript</csymbol><ci id="S3.E11Xa.2.1.1.m1.2.3.2.2.cmml" xref="S3.E11Xa.2.1.1.m1.2.3.2.2">italic-ϕ</ci><ci id="S3.E11Xa.2.1.1.m1.2.3.2.3.cmml" xref="S3.E11Xa.2.1.1.m1.2.3.2.3">𝑐</ci></apply><interval closure="open" id="S3.E11Xa.2.1.1.m1.2.3.3.1.cmml" xref="S3.E11Xa.2.1.1.m1.2.3.3.2"><ci id="S3.E11Xa.2.1.1.m1.1.1.cmml" xref="S3.E11Xa.2.1.1.m1.1.1">𝑟</ci><ci id="S3.E11Xa.2.1.1.m1.2.2.cmml" xref="S3.E11Xa.2.1.1.m1.2.2">𝒜</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11Xa.2.1.1.m1.2c">\displaystyle\phi^{c}(r,\mathcal{A})</annotation><annotation encoding="application/x-llamapun" id="S3.E11Xa.2.1.1.m1.2d">italic_ϕ start_POSTSUPERSCRIPT italic_c end_POSTSUPERSCRIPT ( italic_r , caligraphic_A )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sum\nolimits_{i=1}^{n}\delta_{i}\phi(r,a_{i}),\;\;\;r=\mathcal{%
G}(q,L)." class="ltx_Math" display="inline" id="S3.E11Xa.3.2.2.m1.4"><semantics id="S3.E11Xa.3.2.2.m1.4a"><mrow id="S3.E11Xa.3.2.2.m1.4.4.1"><mrow id="S3.E11Xa.3.2.2.m1.4.4.1.1.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.3.cmml"><mrow id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.cmml"><mi id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.3" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.3.cmml"></mi><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.2.cmml">=</mo><mrow id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.cmml"><msubsup id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2a" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.cmml"><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.cmml"><mi id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.1" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.3" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.3" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.3.cmml">n</mi></msubsup></mstyle><mrow id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.cmml"><msub id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3.cmml"><mi id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3.2.cmml">δ</mi><mi id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3.3" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3.3.cmml">i</mi></msub><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.4" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.4.cmml">ϕ</mi><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2a" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.2.cmml"><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E11Xa.3.2.2.m1.1.1" xref="S3.E11Xa.3.2.2.m1.1.1.cmml">r</mi><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.3" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.2.cmml">,</mo><msub id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml">a</mi><mi id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.4" stretchy="false" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.3" rspace="0.997em" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.3a.cmml">,</mo><mrow id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.cmml"><mi id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.2.cmml">r</mi><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.1" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.1.cmml">=</mo><mrow id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.2.cmml">𝒢</mi><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.1" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.1.cmml">⁢</mo><mrow id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.3.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.3.1.cmml"><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.3.2.1" stretchy="false" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.3.1.cmml">(</mo><mi id="S3.E11Xa.3.2.2.m1.2.2" xref="S3.E11Xa.3.2.2.m1.2.2.cmml">q</mi><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.3.2.2" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.3.1.cmml">,</mo><mi id="S3.E11Xa.3.2.2.m1.3.3" xref="S3.E11Xa.3.2.2.m1.3.3.cmml">L</mi><mo id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.3.2.3" stretchy="false" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.3.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E11Xa.3.2.2.m1.4.4.1.2" lspace="0em">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E11Xa.3.2.2.m1.4b"><apply id="S3.E11Xa.3.2.2.m1.4.4.1.1.3.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.E11Xa.3.2.2.m1.4.4.1.1.3a.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1"><eq id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.2.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.2"></eq><csymbol cd="latexml" id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.3.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.3">absent</csymbol><apply id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1"><apply id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.1.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2">superscript</csymbol><apply id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.1.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2">subscript</csymbol><sum id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.2.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.2"></sum><apply id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3"><eq id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.1"></eq><ci id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.2">𝑖</ci><cn id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.3.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.2.3">𝑛</ci></apply><apply id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1"><times id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2"></times><apply id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3.1.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3.2.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3.2">𝛿</ci><ci id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3.3.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.3.3">𝑖</ci></apply><ci id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.4.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.4">italic-ϕ</ci><interval closure="open" id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.2.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1"><ci id="S3.E11Xa.3.2.2.m1.1.1.cmml" xref="S3.E11Xa.3.2.2.m1.1.1">𝑟</ci><apply id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2">𝑎</ci><ci id="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></interval></apply></apply></apply><apply id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2"><eq id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.1.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.1"></eq><ci id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.2.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.2">𝑟</ci><apply id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3"><times id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.1.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.1"></times><ci id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.2.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.2">𝒢</ci><interval closure="open" id="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.3.1.cmml" xref="S3.E11Xa.3.2.2.m1.4.4.1.1.2.2.3.3.2"><ci id="S3.E11Xa.3.2.2.m1.2.2.cmml" xref="S3.E11Xa.3.2.2.m1.2.2">𝑞</ci><ci id="S3.E11Xa.3.2.2.m1.3.3.cmml" xref="S3.E11Xa.3.2.2.m1.3.3">𝐿</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11Xa.3.2.2.m1.4c">\displaystyle=\sum\nolimits_{i=1}^{n}\delta_{i}\phi(r,a_{i}),\;\;\;r=\mathcal{%
G}(q,L).</annotation><annotation encoding="application/x-llamapun" id="S3.E11Xa.3.2.2.m1.4d">= ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT italic_δ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT italic_ϕ ( italic_r , italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) , italic_r = caligraphic_G ( italic_q , italic_L ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS4.SSS2.p2.14"><math alttext="r" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.9.m1.1"><semantics id="S3.SS4.SSS2.p2.9.m1.1a"><mi id="S3.SS4.SSS2.p2.9.m1.1.1" xref="S3.SS4.SSS2.p2.9.m1.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.9.m1.1b"><ci id="S3.SS4.SSS2.p2.9.m1.1.1.cmml" xref="S3.SS4.SSS2.p2.9.m1.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.9.m1.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.9.m1.1d">italic_r</annotation></semantics></math> is the response from the generator, <math alttext="\mathcal{G}()" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.10.m2.1"><semantics id="S3.SS4.SSS2.p2.10.m2.1a"><mrow id="S3.SS4.SSS2.p2.10.m2.1.1" xref="S3.SS4.SSS2.p2.10.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS2.p2.10.m2.1.1.2" xref="S3.SS4.SSS2.p2.10.m2.1.1.2.cmml">𝒢</mi><mo id="S3.SS4.SSS2.p2.10.m2.1.1.1" xref="S3.SS4.SSS2.p2.10.m2.1.1.1.cmml">⁢</mo><mrow id="S3.SS4.SSS2.p2.10.m2.1.1.3.2" xref="S3.SS4.SSS2.p2.10.m2.1.1.cmml"><mo id="S3.SS4.SSS2.p2.10.m2.1.1.3.2.1" stretchy="false" xref="S3.SS4.SSS2.p2.10.m2.1.1.3.1.cmml">(</mo><mo id="S3.SS4.SSS2.p2.10.m2.1.1.3.2.2" stretchy="false" xref="S3.SS4.SSS2.p2.10.m2.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.10.m2.1b"><apply id="S3.SS4.SSS2.p2.10.m2.1.1.cmml" xref="S3.SS4.SSS2.p2.10.m2.1.1"><times id="S3.SS4.SSS2.p2.10.m2.1.1.1.cmml" xref="S3.SS4.SSS2.p2.10.m2.1.1.1"></times><ci id="S3.SS4.SSS2.p2.10.m2.1.1.2.cmml" xref="S3.SS4.SSS2.p2.10.m2.1.1.2">𝒢</ci><list id="S3.SS4.SSS2.p2.10.m2.1.1.3.1.cmml" xref="S3.SS4.SSS2.p2.10.m2.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.10.m2.1c">\mathcal{G}()</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.10.m2.1d">caligraphic_G ( )</annotation></semantics></math>, given the query <math alttext="q" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.11.m3.1"><semantics id="S3.SS4.SSS2.p2.11.m3.1a"><mi id="S3.SS4.SSS2.p2.11.m3.1.1" xref="S3.SS4.SSS2.p2.11.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.11.m3.1b"><ci id="S3.SS4.SSS2.p2.11.m3.1.1.cmml" xref="S3.SS4.SSS2.p2.11.m3.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.11.m3.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.11.m3.1d">italic_q</annotation></semantics></math> and ranked top-<math alttext="k" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.12.m4.1"><semantics id="S3.SS4.SSS2.p2.12.m4.1a"><mi id="S3.SS4.SSS2.p2.12.m4.1.1" xref="S3.SS4.SSS2.p2.12.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.12.m4.1b"><ci id="S3.SS4.SSS2.p2.12.m4.1.1.cmml" xref="S3.SS4.SSS2.p2.12.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.12.m4.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.12.m4.1d">italic_k</annotation></semantics></math> documents <math alttext="L" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.13.m5.1"><semantics id="S3.SS4.SSS2.p2.13.m5.1a"><mi id="S3.SS4.SSS2.p2.13.m5.1.1" xref="S3.SS4.SSS2.p2.13.m5.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.13.m5.1b"><ci id="S3.SS4.SSS2.p2.13.m5.1.1.cmml" xref="S3.SS4.SSS2.p2.13.m5.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.13.m5.1c">L</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.13.m5.1d">italic_L</annotation></semantics></math>.
<math alttext="\delta_{i}" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p2.14.m6.1"><semantics id="S3.SS4.SSS2.p2.14.m6.1a"><msub id="S3.SS4.SSS2.p2.14.m6.1.1" xref="S3.SS4.SSS2.p2.14.m6.1.1.cmml"><mi id="S3.SS4.SSS2.p2.14.m6.1.1.2" xref="S3.SS4.SSS2.p2.14.m6.1.1.2.cmml">δ</mi><mi id="S3.SS4.SSS2.p2.14.m6.1.1.3" xref="S3.SS4.SSS2.p2.14.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p2.14.m6.1b"><apply id="S3.SS4.SSS2.p2.14.m6.1.1.cmml" xref="S3.SS4.SSS2.p2.14.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS2.p2.14.m6.1.1.1.cmml" xref="S3.SS4.SSS2.p2.14.m6.1.1">subscript</csymbol><ci id="S3.SS4.SSS2.p2.14.m6.1.1.2.cmml" xref="S3.SS4.SSS2.p2.14.m6.1.1.2">𝛿</ci><ci id="S3.SS4.SSS2.p2.14.m6.1.1.3.cmml" xref="S3.SS4.SSS2.p2.14.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p2.14.m6.1c">\delta_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p2.14.m6.1d">italic_δ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> denotes the normalized length of the sub-answer to value the sub-answer’s weight.</p>
</div>
<div class="ltx_para" id="S3.SS4.SSS2.p3">
<p class="ltx_p" id="S3.SS4.SSS2.p3.1">Then, we adopt the Direct Preference Optimization (DPO) <cite class="ltx_cite ltx_citemacro_cite">Rafailov et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib24" title="">2023</a>)</cite> algorithm to ensure the optimization stability. Its training samples consist of a series of prediction pairs pre-generated by the policy model, namely the ranker in our study. Each pair contains a winner and a loser prediction, namely generated ranking lists, which are assessed by their rewards. Thus, DPO pairwise optimizes the policy model to discriminate the better one among a prediction pair.</p>
</div>
<div class="ltx_para" id="S3.SS4.SSS2.p4">
<p class="ltx_p" id="S3.SS4.SSS2.p4.4"><math alttext="\bullet" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p4.1.m1.1"><semantics id="S3.SS4.SSS2.p4.1.m1.1a"><mo id="S3.SS4.SSS2.p4.1.m1.1.1" xref="S3.SS4.SSS2.p4.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p4.1.m1.1b"><ci id="S3.SS4.SSS2.p4.1.m1.1.1.cmml" xref="S3.SS4.SSS2.p4.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p4.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p4.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_italic" id="S3.SS4.SSS2.p4.4.1">Data Construction.</span>
To build valuable training pairs, we introduce the <span class="ltx_text ltx_font_italic" id="S3.SS4.SSS2.p4.4.2">unilateral sample significance strategy</span> (US<sup class="ltx_sup" id="S3.SS4.SSS2.p4.4.3">3</sup>). First, this approach generates a greedy search ranking list and multiple sampled ranking lists for each training data, obtaining their rewards via Equation (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.E11" title="In 3.4.2 Reinforcement Learning ‣ 3.4 Generative List-wise Ranker ‣ 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">11</span></a>). Then, US<sup class="ltx_sup" id="S3.SS4.SSS2.p4.4.4">3</sup> follows two rules when forming DPO training pairs: (1) <span class="ltx_text ltx_font_italic" id="S3.SS4.SSS2.p4.4.5">Unilaterality</span>: One prediction is from greedy search (used in inference) to provide a baseline for discerning better optimization directions, and the other from sampling search. (2) <span class="ltx_text ltx_font_italic" id="S3.SS4.SSS2.p4.4.6">Significance</span>: The reward gap between the predictions must exceed a threshold <math alttext="\mu" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p4.4.m4.1"><semantics id="S3.SS4.SSS2.p4.4.m4.1a"><mi id="S3.SS4.SSS2.p4.4.m4.1.1" xref="S3.SS4.SSS2.p4.4.m4.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p4.4.m4.1b"><ci id="S3.SS4.SSS2.p4.4.m4.1.1.cmml" xref="S3.SS4.SSS2.p4.4.m4.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p4.4.m4.1c">\mu</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p4.4.m4.1d">italic_μ</annotation></semantics></math> to ensure the pair’s value, thereby reducing errors from pairs with similar performance that may not reflect ranking quality, but noise.</p>
</div>
<div class="ltx_para" id="S3.SS4.SSS2.p5">
<p class="ltx_p" id="S3.SS4.SSS2.p5.1"><math alttext="\bullet" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p5.1.m1.1"><semantics id="S3.SS4.SSS2.p5.1.m1.1a"><mo id="S3.SS4.SSS2.p5.1.m1.1.1" xref="S3.SS4.SSS2.p5.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p5.1.m1.1b"><ci id="S3.SS4.SSS2.p5.1.m1.1.1.cmml" xref="S3.SS4.SSS2.p5.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p5.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p5.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_italic" id="S3.SS4.SSS2.p5.1.1">Optimization.</span> Given built training pairs, we optimize the ranker using the following DPO objective function:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E12">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E12X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{DPO}=-\!\!\!\!\!\!\!\!\!\mathop{\mathbbm{E}}_{(x,y_{%
w},y_{l})\sim D}\!\!\!\!\!\![\log\sigma(\beta\log\frac{\pi_{\theta}(y_{w}|x){%
\pi_{f}(y_{l}|x)}}{\pi_{f}(y_{w}|x)\pi_{\theta}(y_{l}|x)}]." class="ltx_math_unparsed" display="inline" id="S3.E12X.2.1.1.m1.7"><semantics id="S3.E12X.2.1.1.m1.7a"><mrow id="S3.E12X.2.1.1.m1.7b"><msub id="S3.E12X.2.1.1.m1.7.8"><mi class="ltx_font_mathcaligraphic" id="S3.E12X.2.1.1.m1.7.8.2">ℒ</mi><mrow id="S3.E12X.2.1.1.m1.7.8.3"><mi id="S3.E12X.2.1.1.m1.7.8.3.2">D</mi><mo id="S3.E12X.2.1.1.m1.7.8.3.1">⁢</mo><mi id="S3.E12X.2.1.1.m1.7.8.3.3">P</mi><mo id="S3.E12X.2.1.1.m1.7.8.3.1a">⁢</mo><mi id="S3.E12X.2.1.1.m1.7.8.3.4">O</mi></mrow></msub><mo id="S3.E12X.2.1.1.m1.7.9" rspace="0em">=</mo><mpadded id="S3.E12X.2.1.1.m1.7c" width="0em"><mo id="S3.E12X.2.1.1.m1.7.10" lspace="0em">−</mo></mpadded><munder id="S3.E12X.2.1.1.m1.7.11"><mo id="S3.E12X.2.1.1.m1.7.11.2" movablelimits="false" rspace="0em">𝔼</mo><mrow id="S3.E12X.2.1.1.m1.3.3.3"><mrow id="S3.E12X.2.1.1.m1.3.3.3.3.2"><mo id="S3.E12X.2.1.1.m1.3.3.3.3.2.3" stretchy="false">(</mo><mi id="S3.E12X.2.1.1.m1.1.1.1.1">x</mi><mo id="S3.E12X.2.1.1.m1.3.3.3.3.2.4">,</mo><msub id="S3.E12X.2.1.1.m1.2.2.2.2.1.1"><mi id="S3.E12X.2.1.1.m1.2.2.2.2.1.1.2">y</mi><mi id="S3.E12X.2.1.1.m1.2.2.2.2.1.1.3">w</mi></msub><mo id="S3.E12X.2.1.1.m1.3.3.3.3.2.5">,</mo><msub id="S3.E12X.2.1.1.m1.3.3.3.3.2.2"><mi id="S3.E12X.2.1.1.m1.3.3.3.3.2.2.2">y</mi><mi id="S3.E12X.2.1.1.m1.3.3.3.3.2.2.3">l</mi></msub><mo id="S3.E12X.2.1.1.m1.3.3.3.3.2.6" stretchy="false">)</mo></mrow><mo id="S3.E12X.2.1.1.m1.3.3.3.4">∼</mo><mi id="S3.E12X.2.1.1.m1.3.3.3.5">D</mi></mrow></munder><mrow id="S3.E12X.2.1.1.m1.7.12"><mo id="S3.E12X.2.1.1.m1.7.12.1" stretchy="false">[</mo><mi id="S3.E12X.2.1.1.m1.7.12.2">log</mi><mi id="S3.E12X.2.1.1.m1.7.12.3">σ</mi><mrow id="S3.E12X.2.1.1.m1.7.12.4"><mo id="S3.E12X.2.1.1.m1.7.12.4.1" stretchy="false">(</mo><mi id="S3.E12X.2.1.1.m1.7.12.4.2">β</mi><mi id="S3.E12X.2.1.1.m1.7.12.4.3">log</mi><mstyle displaystyle="true" id="S3.E12X.2.1.1.m1.7.7"><mfrac id="S3.E12X.2.1.1.m1.7.7a"><mrow id="S3.E12X.2.1.1.m1.5.5.2"><msub id="S3.E12X.2.1.1.m1.5.5.2.4"><mi id="S3.E12X.2.1.1.m1.5.5.2.4.2">π</mi><mi id="S3.E12X.2.1.1.m1.5.5.2.4.3">θ</mi></msub><mo id="S3.E12X.2.1.1.m1.5.5.2.3">⁢</mo><mrow id="S3.E12X.2.1.1.m1.4.4.1.1.1"><mo id="S3.E12X.2.1.1.m1.4.4.1.1.1.2" stretchy="false">(</mo><mrow id="S3.E12X.2.1.1.m1.4.4.1.1.1.1"><msub id="S3.E12X.2.1.1.m1.4.4.1.1.1.1.2"><mi id="S3.E12X.2.1.1.m1.4.4.1.1.1.1.2.2">y</mi><mi id="S3.E12X.2.1.1.m1.4.4.1.1.1.1.2.3">w</mi></msub><mo fence="false" id="S3.E12X.2.1.1.m1.4.4.1.1.1.1.1">|</mo><mi id="S3.E12X.2.1.1.m1.4.4.1.1.1.1.3">x</mi></mrow><mo id="S3.E12X.2.1.1.m1.4.4.1.1.1.3" stretchy="false">)</mo></mrow><mo id="S3.E12X.2.1.1.m1.5.5.2.3a">⁢</mo><msub id="S3.E12X.2.1.1.m1.5.5.2.5"><mi id="S3.E12X.2.1.1.m1.5.5.2.5.2">π</mi><mi id="S3.E12X.2.1.1.m1.5.5.2.5.3">f</mi></msub><mo id="S3.E12X.2.1.1.m1.5.5.2.3b">⁢</mo><mrow id="S3.E12X.2.1.1.m1.5.5.2.2.1"><mo id="S3.E12X.2.1.1.m1.5.5.2.2.1.2" stretchy="false">(</mo><mrow id="S3.E12X.2.1.1.m1.5.5.2.2.1.1"><msub id="S3.E12X.2.1.1.m1.5.5.2.2.1.1.2"><mi id="S3.E12X.2.1.1.m1.5.5.2.2.1.1.2.2">y</mi><mi id="S3.E12X.2.1.1.m1.5.5.2.2.1.1.2.3">l</mi></msub><mo fence="false" id="S3.E12X.2.1.1.m1.5.5.2.2.1.1.1">|</mo><mi id="S3.E12X.2.1.1.m1.5.5.2.2.1.1.3">x</mi></mrow><mo id="S3.E12X.2.1.1.m1.5.5.2.2.1.3" stretchy="false">)</mo></mrow></mrow><mrow id="S3.E12X.2.1.1.m1.7.7.4"><msub id="S3.E12X.2.1.1.m1.7.7.4.4"><mi id="S3.E12X.2.1.1.m1.7.7.4.4.2">π</mi><mi id="S3.E12X.2.1.1.m1.7.7.4.4.3">f</mi></msub><mo id="S3.E12X.2.1.1.m1.7.7.4.3">⁢</mo><mrow id="S3.E12X.2.1.1.m1.6.6.3.1.1"><mo id="S3.E12X.2.1.1.m1.6.6.3.1.1.2" stretchy="false">(</mo><mrow id="S3.E12X.2.1.1.m1.6.6.3.1.1.1"><msub id="S3.E12X.2.1.1.m1.6.6.3.1.1.1.2"><mi id="S3.E12X.2.1.1.m1.6.6.3.1.1.1.2.2">y</mi><mi id="S3.E12X.2.1.1.m1.6.6.3.1.1.1.2.3">w</mi></msub><mo fence="false" id="S3.E12X.2.1.1.m1.6.6.3.1.1.1.1">|</mo><mi id="S3.E12X.2.1.1.m1.6.6.3.1.1.1.3">x</mi></mrow><mo id="S3.E12X.2.1.1.m1.6.6.3.1.1.3" stretchy="false">)</mo></mrow><mo id="S3.E12X.2.1.1.m1.7.7.4.3a">⁢</mo><msub id="S3.E12X.2.1.1.m1.7.7.4.5"><mi id="S3.E12X.2.1.1.m1.7.7.4.5.2">π</mi><mi id="S3.E12X.2.1.1.m1.7.7.4.5.3">θ</mi></msub><mo id="S3.E12X.2.1.1.m1.7.7.4.3b">⁢</mo><mrow id="S3.E12X.2.1.1.m1.7.7.4.2.1"><mo id="S3.E12X.2.1.1.m1.7.7.4.2.1.2" stretchy="false">(</mo><mrow id="S3.E12X.2.1.1.m1.7.7.4.2.1.1"><msub id="S3.E12X.2.1.1.m1.7.7.4.2.1.1.2"><mi id="S3.E12X.2.1.1.m1.7.7.4.2.1.1.2.2">y</mi><mi id="S3.E12X.2.1.1.m1.7.7.4.2.1.1.2.3">l</mi></msub><mo fence="false" id="S3.E12X.2.1.1.m1.7.7.4.2.1.1.1">|</mo><mi id="S3.E12X.2.1.1.m1.7.7.4.2.1.1.3">x</mi></mrow><mo id="S3.E12X.2.1.1.m1.7.7.4.2.1.3" stretchy="false">)</mo></mrow></mrow></mfrac></mstyle><mo id="S3.E12X.2.1.1.m1.7.12.4.4" stretchy="false">]</mo></mrow><mo id="S3.E12X.2.1.1.m1.7.12.5" lspace="0em">.</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.E12X.2.1.1.m1.7d">\displaystyle\mathcal{L}_{DPO}=-\!\!\!\!\!\!\!\!\!\mathop{\mathbbm{E}}_{(x,y_{%
w},y_{l})\sim D}\!\!\!\!\!\![\log\sigma(\beta\log\frac{\pi_{\theta}(y_{w}|x){%
\pi_{f}(y_{l}|x)}}{\pi_{f}(y_{w}|x)\pi_{\theta}(y_{l}|x)}].</annotation><annotation encoding="application/x-llamapun" id="S3.E12X.2.1.1.m1.7e">caligraphic_L start_POSTSUBSCRIPT italic_D italic_P italic_O end_POSTSUBSCRIPT = - blackboard_E start_POSTSUBSCRIPT ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) ∼ italic_D end_POSTSUBSCRIPT [ roman_log italic_σ ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) italic_π start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(12)</span></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS4.SSS2.p5.8"><math alttext="D" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p5.2.m1.1"><semantics id="S3.SS4.SSS2.p5.2.m1.1a"><mi id="S3.SS4.SSS2.p5.2.m1.1.1" xref="S3.SS4.SSS2.p5.2.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p5.2.m1.1b"><ci id="S3.SS4.SSS2.p5.2.m1.1.1.cmml" xref="S3.SS4.SSS2.p5.2.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p5.2.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p5.2.m1.1d">italic_D</annotation></semantics></math> is the training set built by US<sup class="ltx_sup" id="S3.SS4.SSS2.p5.8.1">3</sup>, where the input of each data is <math alttext="x=\{q,\hat{\mathcal{S}},\mathcal{P}\}" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p5.4.m3.3"><semantics id="S3.SS4.SSS2.p5.4.m3.3a"><mrow id="S3.SS4.SSS2.p5.4.m3.3.4" xref="S3.SS4.SSS2.p5.4.m3.3.4.cmml"><mi id="S3.SS4.SSS2.p5.4.m3.3.4.2" xref="S3.SS4.SSS2.p5.4.m3.3.4.2.cmml">x</mi><mo id="S3.SS4.SSS2.p5.4.m3.3.4.1" xref="S3.SS4.SSS2.p5.4.m3.3.4.1.cmml">=</mo><mrow id="S3.SS4.SSS2.p5.4.m3.3.4.3.2" xref="S3.SS4.SSS2.p5.4.m3.3.4.3.1.cmml"><mo id="S3.SS4.SSS2.p5.4.m3.3.4.3.2.1" stretchy="false" xref="S3.SS4.SSS2.p5.4.m3.3.4.3.1.cmml">{</mo><mi id="S3.SS4.SSS2.p5.4.m3.1.1" xref="S3.SS4.SSS2.p5.4.m3.1.1.cmml">q</mi><mo id="S3.SS4.SSS2.p5.4.m3.3.4.3.2.2" xref="S3.SS4.SSS2.p5.4.m3.3.4.3.1.cmml">,</mo><mover accent="true" id="S3.SS4.SSS2.p5.4.m3.2.2" xref="S3.SS4.SSS2.p5.4.m3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS2.p5.4.m3.2.2.2" xref="S3.SS4.SSS2.p5.4.m3.2.2.2.cmml">𝒮</mi><mo id="S3.SS4.SSS2.p5.4.m3.2.2.1" xref="S3.SS4.SSS2.p5.4.m3.2.2.1.cmml">^</mo></mover><mo id="S3.SS4.SSS2.p5.4.m3.3.4.3.2.3" xref="S3.SS4.SSS2.p5.4.m3.3.4.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS2.p5.4.m3.3.3" xref="S3.SS4.SSS2.p5.4.m3.3.3.cmml">𝒫</mi><mo id="S3.SS4.SSS2.p5.4.m3.3.4.3.2.4" stretchy="false" xref="S3.SS4.SSS2.p5.4.m3.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p5.4.m3.3b"><apply id="S3.SS4.SSS2.p5.4.m3.3.4.cmml" xref="S3.SS4.SSS2.p5.4.m3.3.4"><eq id="S3.SS4.SSS2.p5.4.m3.3.4.1.cmml" xref="S3.SS4.SSS2.p5.4.m3.3.4.1"></eq><ci id="S3.SS4.SSS2.p5.4.m3.3.4.2.cmml" xref="S3.SS4.SSS2.p5.4.m3.3.4.2">𝑥</ci><set id="S3.SS4.SSS2.p5.4.m3.3.4.3.1.cmml" xref="S3.SS4.SSS2.p5.4.m3.3.4.3.2"><ci id="S3.SS4.SSS2.p5.4.m3.1.1.cmml" xref="S3.SS4.SSS2.p5.4.m3.1.1">𝑞</ci><apply id="S3.SS4.SSS2.p5.4.m3.2.2.cmml" xref="S3.SS4.SSS2.p5.4.m3.2.2"><ci id="S3.SS4.SSS2.p5.4.m3.2.2.1.cmml" xref="S3.SS4.SSS2.p5.4.m3.2.2.1">^</ci><ci id="S3.SS4.SSS2.p5.4.m3.2.2.2.cmml" xref="S3.SS4.SSS2.p5.4.m3.2.2.2">𝒮</ci></apply><ci id="S3.SS4.SSS2.p5.4.m3.3.3.cmml" xref="S3.SS4.SSS2.p5.4.m3.3.3">𝒫</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p5.4.m3.3c">x=\{q,\hat{\mathcal{S}},\mathcal{P}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p5.4.m3.3d">italic_x = { italic_q , over^ start_ARG caligraphic_S end_ARG , caligraphic_P }</annotation></semantics></math> and the output is a pair of ranking lists, with <math alttext="y_{w}" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p5.5.m4.1"><semantics id="S3.SS4.SSS2.p5.5.m4.1a"><msub id="S3.SS4.SSS2.p5.5.m4.1.1" xref="S3.SS4.SSS2.p5.5.m4.1.1.cmml"><mi id="S3.SS4.SSS2.p5.5.m4.1.1.2" xref="S3.SS4.SSS2.p5.5.m4.1.1.2.cmml">y</mi><mi id="S3.SS4.SSS2.p5.5.m4.1.1.3" xref="S3.SS4.SSS2.p5.5.m4.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p5.5.m4.1b"><apply id="S3.SS4.SSS2.p5.5.m4.1.1.cmml" xref="S3.SS4.SSS2.p5.5.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS2.p5.5.m4.1.1.1.cmml" xref="S3.SS4.SSS2.p5.5.m4.1.1">subscript</csymbol><ci id="S3.SS4.SSS2.p5.5.m4.1.1.2.cmml" xref="S3.SS4.SSS2.p5.5.m4.1.1.2">𝑦</ci><ci id="S3.SS4.SSS2.p5.5.m4.1.1.3.cmml" xref="S3.SS4.SSS2.p5.5.m4.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p5.5.m4.1c">y_{w}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p5.5.m4.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="y_{l}" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p5.6.m5.1"><semantics id="S3.SS4.SSS2.p5.6.m5.1a"><msub id="S3.SS4.SSS2.p5.6.m5.1.1" xref="S3.SS4.SSS2.p5.6.m5.1.1.cmml"><mi id="S3.SS4.SSS2.p5.6.m5.1.1.2" xref="S3.SS4.SSS2.p5.6.m5.1.1.2.cmml">y</mi><mi id="S3.SS4.SSS2.p5.6.m5.1.1.3" xref="S3.SS4.SSS2.p5.6.m5.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p5.6.m5.1b"><apply id="S3.SS4.SSS2.p5.6.m5.1.1.cmml" xref="S3.SS4.SSS2.p5.6.m5.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS2.p5.6.m5.1.1.1.cmml" xref="S3.SS4.SSS2.p5.6.m5.1.1">subscript</csymbol><ci id="S3.SS4.SSS2.p5.6.m5.1.1.2.cmml" xref="S3.SS4.SSS2.p5.6.m5.1.1.2">𝑦</ci><ci id="S3.SS4.SSS2.p5.6.m5.1.1.3.cmml" xref="S3.SS4.SSS2.p5.6.m5.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p5.6.m5.1c">y_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p5.6.m5.1d">italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> as winner list and loser list respectively. <math alttext="\pi_{\theta}" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p5.7.m6.1"><semantics id="S3.SS4.SSS2.p5.7.m6.1a"><msub id="S3.SS4.SSS2.p5.7.m6.1.1" xref="S3.SS4.SSS2.p5.7.m6.1.1.cmml"><mi id="S3.SS4.SSS2.p5.7.m6.1.1.2" xref="S3.SS4.SSS2.p5.7.m6.1.1.2.cmml">π</mi><mi id="S3.SS4.SSS2.p5.7.m6.1.1.3" xref="S3.SS4.SSS2.p5.7.m6.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p5.7.m6.1b"><apply id="S3.SS4.SSS2.p5.7.m6.1.1.cmml" xref="S3.SS4.SSS2.p5.7.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS2.p5.7.m6.1.1.1.cmml" xref="S3.SS4.SSS2.p5.7.m6.1.1">subscript</csymbol><ci id="S3.SS4.SSS2.p5.7.m6.1.1.2.cmml" xref="S3.SS4.SSS2.p5.7.m6.1.1.2">𝜋</ci><ci id="S3.SS4.SSS2.p5.7.m6.1.1.3.cmml" xref="S3.SS4.SSS2.p5.7.m6.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p5.7.m6.1c">\pi_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p5.7.m6.1d">italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> denotes the policy model that needs to be optimized and <math alttext="\pi_{f}" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p5.8.m7.1"><semantics id="S3.SS4.SSS2.p5.8.m7.1a"><msub id="S3.SS4.SSS2.p5.8.m7.1.1" xref="S3.SS4.SSS2.p5.8.m7.1.1.cmml"><mi id="S3.SS4.SSS2.p5.8.m7.1.1.2" xref="S3.SS4.SSS2.p5.8.m7.1.1.2.cmml">π</mi><mi id="S3.SS4.SSS2.p5.8.m7.1.1.3" xref="S3.SS4.SSS2.p5.8.m7.1.1.3.cmml">f</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p5.8.m7.1b"><apply id="S3.SS4.SSS2.p5.8.m7.1.1.cmml" xref="S3.SS4.SSS2.p5.8.m7.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS2.p5.8.m7.1.1.1.cmml" xref="S3.SS4.SSS2.p5.8.m7.1.1">subscript</csymbol><ci id="S3.SS4.SSS2.p5.8.m7.1.1.2.cmml" xref="S3.SS4.SSS2.p5.8.m7.1.1.2">𝜋</ci><ci id="S3.SS4.SSS2.p5.8.m7.1.1.3.cmml" xref="S3.SS4.SSS2.p5.8.m7.1.1.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p5.8.m7.1c">\pi_{f}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p5.8.m7.1d">italic_π start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT</annotation></semantics></math> represents the original policy model with fixed parameters, and its role is to avoid optimization trajectory excessively deviating from the basic model.</p>
</div>
<figure class="ltx_table" id="S3.T1">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S3.T1.1">
<tr class="ltx_tr" id="S3.T1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T1.1.1.1" rowspan="2" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text" id="S3.T1.1.1.1.1">Settings</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T1.1.1.2" rowspan="2" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text" id="S3.T1.1.1.2.1">Models</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="6" id="S3.T1.1.1.3" style="padding-left:4.6pt;padding-right:4.6pt;">WikiPassageQA</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="6" id="S3.T1.1.1.4" style="padding-left:4.6pt;padding-right:4.6pt;">WikiAsp</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.2.1" style="padding-left:4.6pt;padding-right:4.6pt;">F1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.2.2" style="padding-left:4.6pt;padding-right:4.6pt;">R2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.2.3" style="padding-left:4.6pt;padding-right:4.6pt;">RL</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.2.4" style="padding-left:4.6pt;padding-right:4.6pt;">BS</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.2.5" style="padding-left:4.6pt;padding-right:4.6pt;">CR2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.2.6" style="padding-left:4.6pt;padding-right:4.6pt;">CRL</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.2.7" style="padding-left:4.6pt;padding-right:4.6pt;">F1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.2.8" style="padding-left:4.6pt;padding-right:4.6pt;">R2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.2.9" style="padding-left:4.6pt;padding-right:4.6pt;">RL</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.2.10" style="padding-left:4.6pt;padding-right:4.6pt;">BS</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.2.11" style="padding-left:4.6pt;padding-right:4.6pt;">CR2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.2.12" style="padding-left:4.6pt;padding-right:4.6pt;">CRL</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.1.3.1" rowspan="11" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text" id="S3.T1.1.3.1.1"><span class="ltx_text" id="S3.T1.1.3.1.1.1"></span> <span class="ltx_text" id="S3.T1.1.3.1.1.2">
<span class="ltx_tabular ltx_align_middle" id="S3.T1.1.3.1.1.2.1">
<span class="ltx_tr" id="S3.T1.1.3.1.1.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T1.1.3.1.1.2.1.1.1" style="padding-left:4.6pt;padding-right:4.6pt;">Predicted</span></span>
<span class="ltx_tr" id="S3.T1.1.3.1.1.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T1.1.3.1.1.2.1.2.1" style="padding-left:4.6pt;padding-right:4.6pt;">Sub-aspects</span></span>
</span></span> <span class="ltx_text" id="S3.T1.1.3.1.1.3"></span></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.1.3.2" style="padding-left:4.6pt;padding-right:4.6pt;">Close-book</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.3" style="padding-left:4.6pt;padding-right:4.6pt;">.2132</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.4" style="padding-left:4.6pt;padding-right:4.6pt;">.0324</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.5" style="padding-left:4.6pt;padding-right:4.6pt;">.0989</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.6" style="padding-left:4.6pt;padding-right:4.6pt;">.8417</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.7" style="padding-left:4.6pt;padding-right:4.6pt;">.0397</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.8" style="padding-left:4.6pt;padding-right:4.6pt;">.1714</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.9" style="padding-left:4.6pt;padding-right:4.6pt;">.2037</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.10" style="padding-left:4.6pt;padding-right:4.6pt;">.0114</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.11" style="padding-left:4.6pt;padding-right:4.6pt;">.0581</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.12" style="padding-left:4.6pt;padding-right:4.6pt;">.7967</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.13" style="padding-left:4.6pt;padding-right:4.6pt;">.0128</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.3.14" style="padding-left:4.6pt;padding-right:4.6pt;">.0834</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.1.4.1" style="padding-left:4.6pt;padding-right:4.6pt;">No Ranker</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.4.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3372</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.4.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1191</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.4.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2065</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.4.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8491</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.4.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1310</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.4.7" style="padding-left:4.6pt;padding-right:4.6pt;">.2969</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.4.8" style="padding-left:4.6pt;padding-right:4.6pt;">0.3029</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.4.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0479</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.4.10" style="padding-left:4.6pt;padding-right:4.6pt;">.0923</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.4.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8073</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.4.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0502</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.4.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1257</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.5">
<td class="ltx_td ltx_align_left" id="S3.T1.1.5.1" style="padding-left:4.6pt;padding-right:4.6pt;">RankT5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.5.2" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.5.2.1">.3502</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.5.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1313</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.5.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2123</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.5.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8536</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.5.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1441</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.5.7" style="padding-left:4.6pt;padding-right:4.6pt;">.3027</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.5.8" style="padding-left:4.6pt;padding-right:4.6pt;">0.3079</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.5.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0481</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.5.10" style="padding-left:4.6pt;padding-right:4.6pt;">.0932</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.5.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8063</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.5.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0504</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.5.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1263</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.6">
<td class="ltx_td ltx_align_left" id="S3.T1.1.6.1" style="padding-left:4.6pt;padding-right:4.6pt;">LDIST</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.6.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3487</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.6.3" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.6.3.1">.1325</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.6.4" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.6.4.1">.2140</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.6.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8523</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.6.6" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.6.6.1">.1447</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.6.7" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.6.7.1">.3044</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.6.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3377</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.6.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0479</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.6.10" style="padding-left:4.6pt;padding-right:4.6pt;">.0923</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.6.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8114</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.6.12" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.6.12.1">.0624</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.6.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1376</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.7">
<td class="ltx_td ltx_align_left" id="S3.T1.1.7.1" style="padding-left:4.6pt;padding-right:4.6pt;">LiT5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.7.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3473</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.7.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1291</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.7.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2118</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.7.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8514</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.7.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1413</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.7.7" style="padding-left:4.6pt;padding-right:4.6pt;">.3033</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.7.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3341</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.7.9" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.7.9.1">.0594</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.7.10" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.7.10.1">.1037</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.7.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8125</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.7.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0620</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.7.13" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.7.13.1">.1399</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.8">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.1.8.1" style="padding-left:4.6pt;padding-right:4.6pt;">RAG-Fusion</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.8.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3316</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.8.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1146</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.8.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2029</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.8.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8467</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.8.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1261</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.8.7" style="padding-left:4.6pt;padding-right:4.6pt;">.2913</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.8.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3219</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.8.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0547</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.8.10" style="padding-left:4.6pt;padding-right:4.6pt;">.0976</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.8.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8116</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.8.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0572</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.8.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1324</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.9">
<td class="ltx_td ltx_align_left" id="S3.T1.1.9.1" style="padding-left:4.6pt;padding-right:4.6pt;">+RankT5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.9.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3448</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.9.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1278</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.9.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2122</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.9.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8510</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.9.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1402</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.9.7" style="padding-left:4.6pt;padding-right:4.6pt;">.3015</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.9.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3123</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.9.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0507</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.9.10" style="padding-left:4.6pt;padding-right:4.6pt;">.0939</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.9.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8091</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.9.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0532</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.9.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1277</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.10">
<td class="ltx_td ltx_align_left" id="S3.T1.1.10.1" style="padding-left:4.6pt;padding-right:4.6pt;">+LDIST</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.10.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3400</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.10.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1253</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.10.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2114</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.10.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8494</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.10.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1394</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.10.7" style="padding-left:4.6pt;padding-right:4.6pt;">.3022</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.10.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3327</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.10.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0587</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.10.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1021</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.10.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8122</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.10.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0612</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.10.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1380</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.11">
<td class="ltx_td ltx_align_left" id="S3.T1.1.11.1" style="padding-left:4.6pt;padding-right:4.6pt;">+LiT5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.11.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3386</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.11.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1226</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.11.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2071</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.11.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8491</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.11.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1347</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.11.7" style="padding-left:4.6pt;padding-right:4.6pt;">.2987</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.11.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3344</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.11.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0589</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.11.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1017</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.11.11" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.11.11.1">.8137</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.11.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0616</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.11.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1373</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.12">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.1.12.1" style="padding-left:4.6pt;padding-right:4.6pt;">BGM</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.12.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3465</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.12.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1191</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.12.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2065</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.12.5" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.12.5.1">.8547</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.12.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1537</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.12.7" style="padding-left:4.6pt;padding-right:4.6pt;">.2983</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.12.8" style="padding-left:4.6pt;padding-right:4.6pt;">.2969</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.12.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0472</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.12.10" style="padding-left:4.6pt;padding-right:4.6pt;">.0920</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.12.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8061</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.12.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0497</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.12.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1242</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.13">
<td class="ltx_td ltx_align_left" id="S3.T1.1.13.1" style="padding-left:4.6pt;padding-right:4.6pt;">RichRAG</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.13.2" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.13.2.1">.3638</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.13.3" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.13.3.1">.1538</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.13.4" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.13.4.1">.2316</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.13.5" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.13.5.1">.8549</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.13.6" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.13.6.1">.1664</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.13.7" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.13.7.1">.3225</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.13.8" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.13.8.1">.3610</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.13.9" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.13.9.1">.0678</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.13.10" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.13.10.1">.1094</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.13.11" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.13.11.1">.8194</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.13.12" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.13.12.1">.0706</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.13.13" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.13.13.1">.1458</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.14">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S3.T1.1.14.1" rowspan="12" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text" id="S3.T1.1.14.1.1"><span class="ltx_text" id="S3.T1.1.14.1.1.1"></span> <span class="ltx_text" id="S3.T1.1.14.1.1.2">
<span class="ltx_tabular ltx_align_middle" id="S3.T1.1.14.1.1.2.1">
<span class="ltx_tr" id="S3.T1.1.14.1.1.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T1.1.14.1.1.2.1.1.1" style="padding-left:4.6pt;padding-right:4.6pt;">Golden</span></span>
<span class="ltx_tr" id="S3.T1.1.14.1.1.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T1.1.14.1.1.2.1.2.1" style="padding-left:4.6pt;padding-right:4.6pt;">Sub-aspects</span></span>
</span></span> <span class="ltx_text" id="S3.T1.1.14.1.1.3"></span></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.1.14.2" style="padding-left:4.6pt;padding-right:4.6pt;">No Ranker</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.14.3" style="padding-left:4.6pt;padding-right:4.6pt;">.3763</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.14.4" style="padding-left:4.6pt;padding-right:4.6pt;">.1667</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.14.5" style="padding-left:4.6pt;padding-right:4.6pt;">.2650</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.14.6" style="padding-left:4.6pt;padding-right:4.6pt;">.8544</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.14.7" style="padding-left:4.6pt;padding-right:4.6pt;">.1809</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.14.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3600</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.14.9" style="padding-left:4.6pt;padding-right:4.6pt;">.3325</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.14.10" style="padding-left:4.6pt;padding-right:4.6pt;">.0655</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.14.11" style="padding-left:4.6pt;padding-right:4.6pt;">.1277</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.14.12" style="padding-left:4.6pt;padding-right:4.6pt;">.8116</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.14.13" style="padding-left:4.6pt;padding-right:4.6pt;">.0688</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.14.14" style="padding-left:4.6pt;padding-right:4.6pt;">.1671</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.15">
<td class="ltx_td ltx_align_left" id="S3.T1.1.15.1" style="padding-left:4.6pt;padding-right:4.6pt;">RankT5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.15.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3854</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.15.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1760</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.15.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2734</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.15.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8569</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.15.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1887</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.15.7" style="padding-left:4.6pt;padding-right:4.6pt;">.3673</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.15.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3329</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.15.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0632</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.15.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1244</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.15.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8107</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.15.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0665</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.15.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1637</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.16">
<td class="ltx_td ltx_align_left" id="S3.T1.1.16.1" style="padding-left:4.6pt;padding-right:4.6pt;">LDIST</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.16.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3867</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.16.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1766</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.16.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2728</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.16.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8558</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.16.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1906</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.16.7" style="padding-left:4.6pt;padding-right:4.6pt;">.3680</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.16.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3609</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.16.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0792</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.16.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1354</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.16.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8163</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.16.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0826</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.16.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1767</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.17">
<td class="ltx_td ltx_align_left" id="S3.T1.1.17.1" style="padding-left:4.6pt;padding-right:4.6pt;">LiT5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.17.2" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.17.2.1">.3926</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.17.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1844</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.17.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2808</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.17.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8558</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.17.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1991</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.17.7" style="padding-left:4.6pt;padding-right:4.6pt;">.3724</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.17.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3564</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.17.9" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.17.9.1">.0801</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.17.10" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.17.10.1">.1385</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.17.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8165</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.17.12" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.17.12.1">.0834</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.17.13" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.17.13.1">.1795</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.18">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.1.18.1" style="padding-left:4.6pt;padding-right:4.6pt;">RAG-Fusion</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.18.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3808</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.18.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1764</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.18.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2740</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.18.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8554</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.18.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1901</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.18.7" style="padding-left:4.6pt;padding-right:4.6pt;">.3687</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.18.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3658</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.18.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0790</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.18.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1376</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.18.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8187</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.18.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0825</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.18.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1762</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.19">
<td class="ltx_td ltx_align_left" id="S3.T1.1.19.1" style="padding-left:4.6pt;padding-right:4.6pt;">+RankT5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.19.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3866</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.19.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1825</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.19.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2774</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.19.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8572</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.19.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1972</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.19.7" style="padding-left:4.6pt;padding-right:4.6pt;">.3702</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.19.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3511</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.19.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0718</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.19.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1289</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.19.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8155</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.19.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0751</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.19.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1693</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.20">
<td class="ltx_td ltx_align_left" id="S3.T1.1.20.1" style="padding-left:4.6pt;padding-right:4.6pt;">+LDIST</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.20.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3894</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.20.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1851</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.20.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2787</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.20.5" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.20.5.1">.8610</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.20.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1996</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.20.7" style="padding-left:4.6pt;padding-right:4.6pt;">.3734</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.20.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3690</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.20.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0791</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.20.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1366</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.20.11" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.20.11.1">.8190</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.20.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0825</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.20.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1767</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.21">
<td class="ltx_td ltx_align_left" id="S3.T1.1.21.1" style="padding-left:4.6pt;padding-right:4.6pt;">+LiT5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.21.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3915</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.21.3" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.21.3.1">.1906</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.21.4" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.21.4.1">.2842</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.21.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8567</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.21.6" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.21.6.1">.2053</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.21.7" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.21.7.1">.3776</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.21.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3676</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.21.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0800</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.21.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1369</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.21.11" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S3.T1.1.21.11.1">.8190</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.21.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0833</td>
<td class="ltx_td ltx_align_center" id="S3.T1.1.21.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1770</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.22">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.1.22.1" style="padding-left:4.6pt;padding-right:4.6pt;">BGM</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.22.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3723</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.22.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1686</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.22.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2723</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.22.5" style="padding-left:4.6pt;padding-right:4.6pt;">.8537</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.22.6" style="padding-left:4.6pt;padding-right:4.6pt;">.1824</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.22.7" style="padding-left:4.6pt;padding-right:4.6pt;">.3651</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.22.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3296</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.22.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0642</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.22.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1282</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.22.11" style="padding-left:4.6pt;padding-right:4.6pt;">.8104</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.22.12" style="padding-left:4.6pt;padding-right:4.6pt;">.0677</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.1.22.13" style="padding-left:4.6pt;padding-right:4.6pt;">.1666</td>
</tr>
<tr class="ltx_tr" id="S3.T1.1.23">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T1.1.23.1" style="padding-left:4.6pt;padding-right:4.6pt;">RichRAG</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.23.2" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.23.2.1">.4174</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.23.3" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.23.3.1">.2247</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.23.4" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.23.4.1">.3055</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.23.5" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.23.5.1">.8637</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.23.6" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.23.6.1">.2392</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.23.7" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.23.7.1">.4015</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.23.8" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.23.8.1">.3951</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.23.9" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.23.9.1">.0942</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.23.10" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.23.10.1">.1456</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.23.11" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.23.11.1">.8256</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.23.12" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.23.12.1">.0976</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.1.23.13" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="S3.T1.1.23.13.1">.1863</span></td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>
Overall results of all models. The best and second-best results are in bold and underlined, respectively.
</figcaption>
</figure>
</section>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiment</h2>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Datasets and Metrics</h3>
<div class="ltx_para ltx_noindent" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1"><span class="ltx_text ltx_font_italic" id="S4.SS1.p1.1.1">Datasets</span>.
We conduct our experiments on two publicly available datasets that focus on multi-document summarization and long-form query-answer (QA) respectively, <span class="ltx_text ltx_font_italic" id="S4.SS1.p1.1.2">i.e.</span>, <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.3">WikiPassageQA</span> <cite class="ltx_cite ltx_citemacro_cite">Hayashi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib9" title="">2021</a>)</cite> and <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.4">WikiAsp</span> <cite class="ltx_cite ltx_citemacro_cite">Hayashi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib9" title="">2021</a>)</cite>. WikiPassageQA offers human-annotated quality-evaluated questions and long-form answers. We chose this dataset because its answers are generally comprehensive, related to various aspects of questions, and the answer length is fairly long. WikiAsp dataset is devised for generating aspect-based summaries of entities from 20 domains. We follow <cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib12" title="">2023</a>)</cite> to convert it into open-domain QA settings.
To support our experiments, we first operate some data pre-processing to ensure that each piece of data contains the question, ground truth answer, sub-aspects of the question, and their sub-answers. The process details and statistical information of datasets are demonstrated in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A1" title="Appendix A Data Pre-process ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1"><span class="ltx_text ltx_font_italic" id="S4.SS1.p2.1.1">Metrics</span>.
To measure the matching scores of models’ responses with long-form ground truth answers, we select F1, Rouge(-2 and -L), and BERT-Score as evaluation metrics.Furthermore, we leverage the com-rouge score, which is introduced in Eq. <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.E11" title="In 3.4.2 Reinforcement Learning ‣ 3.4 Generative List-wise Ranker ‣ 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">11</span></a>, to assess the coverage of responses on sub-answers. We implement <math alttext="\phi()" class="ltx_Math" display="inline" id="S4.SS1.p2.1.m1.1"><semantics id="S4.SS1.p2.1.m1.1a"><mrow id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml"><mi id="S4.SS1.p2.1.m1.1.1.2" xref="S4.SS1.p2.1.m1.1.1.2.cmml">ϕ</mi><mo id="S4.SS1.p2.1.m1.1.1.1" xref="S4.SS1.p2.1.m1.1.1.1.cmml">⁢</mo><mrow id="S4.SS1.p2.1.m1.1.1.3.2" xref="S4.SS1.p2.1.m1.1.1.cmml"><mo id="S4.SS1.p2.1.m1.1.1.3.2.1" stretchy="false" xref="S4.SS1.p2.1.m1.1.1.3.1.cmml">(</mo><mo id="S4.SS1.p2.1.m1.1.1.3.2.2" stretchy="false" xref="S4.SS1.p2.1.m1.1.1.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><apply id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1"><times id="S4.SS1.p2.1.m1.1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1.1"></times><ci id="S4.SS1.p2.1.m1.1.1.2.cmml" xref="S4.SS1.p2.1.m1.1.1.2">italic-ϕ</ci><list id="S4.SS1.p2.1.m1.1.1.3.1.cmml" xref="S4.SS1.p2.1.m1.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">\phi()</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.1.m1.1d">italic_ϕ ( )</annotation></semantics></math> in Eq. <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.E11" title="In 3.4.2 Reinforcement Learning ‣ 3.4 Generative List-wise Ranker ‣ 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">11</span></a> by Rouge-2, and -L to build Com-Rouge-2 and -L evaluation metrics. For briefness, F1, R2, RL, BS, CR2, and CRL are utilized to represent these metrics. Following <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib35" title="">2023c</a>)</cite>, we also leverage GPT-4 to conduct a pairwise evaluation of our method with baseline models to confirm its effectiveness further. To comprehensively evaluate the effectiveness of our proposed ranking algorithm, we also provide the ranking performance comparison and analysis in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A3" title="Appendix C Ranking Performance ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">C</span></a></p>
</div>
<figure class="ltx_figure" id="S4.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="185" id="S4.F3.g1" src="x3.png" width="747"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Results of the GPT-4-based evaluation comparing our method with baseline models.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Baselines</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">To evaluate the effectiveness of our framework, we first build baselines with different RAG framework settings: (1) <span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.1">Close-book</span> setting without external reference support. (2) “Retrieve-Generation” setting without ranking stage, namely <span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.2">No Ranker</span>. (3) “Retrieve-Rerank-Generation” setting with various ranking algorithms, including <span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.3">RankT5</span> <cite class="ltx_cite ltx_citemacro_cite">Nogueira et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib20" title="">2020</a>); Zhuang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib43" title="">2023a</a>)</cite>, a point-wise T5-based ranking model, <span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.4">LDist</span> <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib11" title="">2024</a>)</cite>, a widely-used ranking algorithm in RAG systems <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib11" title="">2024</a>); Shi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib27" title="">2023</a>)</cite>, and <span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.5">LiT5</span> <cite class="ltx_cite ltx_citemacro_cite">Tamber et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib29" title="">2023</a>)</cite>, a list-wise ranking model using slide-window-based ranking strategy. These baselines directly retrieve external documents based on the original queries. <span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.6">RAG-Fusion</span> <cite class="ltx_cite ltx_citemacro_cite">Rackauckas (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib23" title="">2024</a>)</cite> proposes retrieving documents from various sub-aspects and providing the final ranking lists via a simple reciprocal rank fusion algorithm <cite class="ltx_cite ltx_citemacro_cite">Cormack et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib6" title="">2009</a>)</cite>. We set this framework as a basic baseline to compare the superiority of our proposed framework when explicitly considering query-aspects. We combine it with the above ranking algorithms to build various advanced versions of RAG-Fusion, <span class="ltx_text ltx_font_italic" id="S4.SS2.p1.1.7">e.g.</span>, <span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.8">RAG-Fusion+RankT5</span>, etc. <span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.9">BGM</span> <cite class="ltx_cite ltx_citemacro_cite">Ke et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib13" title="">2024</a>)</cite> is a recent RAG framework that introduces PPO strategy to fine-tune list-wise ranking model based on the LLM’s feedback. Due to limited space, we describe the implementation details in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A2" title="Appendix B Implementation Details ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Overall Results</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">To fully evaluate the effectiveness of our proposed framework, RichRAG, we utilize two settings to conduct experiments, the first one we provide the predicted sub-aspects to retriever and ranker while in the second one, we provide the golden sub-aspects to unlock the RichRAG’s powers in the fullest extent possible.
We present the overall results in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.T1" title="Table 1 ‣ 3.4.2 Reinforcement Learning ‣ 3.4 Generative List-wise Ranker ‣ 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a> and Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S4.F3" title="Figure 3 ‣ 4.1 Datasets and Metrics ‣ 4 Experiment ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3</span></a>, and have the following conclusions:</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">(1) Whether given predicted or golden sub-aspects, RichRAG shows the best performance. This phenomenon confirms the ability of our framework to explore and leverage user’s sub-intents underlying the issued multi-faceted questions, hence providing comprehensive responses. However, existing RAG systems solely consider query-document relevance without relationships among candidates, blocking their potential to understand user’s various sub-intents and limiting the richness of final responses.</p>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.1">(2) Compared to list-wise ranking algorithms, our method still illustrates better performance. Though there exist several list-wise ranking algorithms in the RAG community, such as LiT5 and BGM, these algorithms do not explicitly model the interactions among candidates from the perspective of comprehensiveness of the user intent coverage. Without such explicit guidance, these algorithms may be trapped in a locally optimal solution, hence impacting the overall quality of ranking lists.</p>
</div>
<div class="ltx_para" id="S4.SS3.p4">
<p class="ltx_p" id="S4.SS3.p4.1">(3) With golden sub-aspects, RAG-Fusion settings often outperform settings only considering the original question’s retrieved documents.
It reveals the importance of modeling the questions’ sub-aspects in RAG systems for generating rich and reliable responses. However, with predicted sub-aspects, the RAG-Fusion variants do not outperform corresponding baselines without RAG-Fusion. This may be due to the gap between predicted sub-aspects and annotated sub-aspects. However, in real applications, the user’s sub-intents may be diverse while we can only label some of them in datasets to evaluate model performances. Therefore, how to deal with such a gap between realistic and human annotation is still an open problem and will be further investigated in our future study.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Ablation Studies</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">In order to evaluate the role of our key modules, we further conduct the following ablation studies with results presented in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S4.F4" title="Figure 4 ‣ 4.4 Ablation Studies ‣ 4 Experiment ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">4</span></a>. This figure shows the decline degrees of the ablation models compared with the complete RichRAG.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.1">(1) To confirm the importance of explicitly consideration of user’s sub-intents, <span class="ltx_text ltx_font_italic" id="S4.SS4.p2.1.1">i.e.</span>question’s sub-aspects. We further construct a variant, w/o SA, by directly ranking the retrieved documents of the original question without considering the candidate pool, <math alttext="\mathcal{P}" class="ltx_Math" display="inline" id="S4.SS4.p2.1.m1.1"><semantics id="S4.SS4.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><ci id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">\mathcal{P}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.1.m1.1d">caligraphic_P</annotation></semantics></math>. The significantly worse results than RichRAG further prove the importance of explicitly considering the various sub-intents underlying multi-faceted questions, which is beneficial for providing comprehensive responses for users.</p>
</div>
<figure class="ltx_figure" id="S4.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="403" id="S4.F4.g1" src="x4.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Ablation results of RichRAG on two datasets. </figcaption>
</figure>
<div class="ltx_para" id="S4.SS4.p3">
<p class="ltx_p" id="S4.SS4.p3.1">(2) In our study, we propose a generative list-wise ranking module to generate LLM-preferred comprehensive ranking lists. To prove its advantages, we replace it with another list-wise algorithm, LiT5, in our framework to build a variant, w/o GLR. We find that it still underperforms RichRAG. This result validates the advantages of our model structure, <span class="ltx_text ltx_font_italic" id="S4.SS4.p3.1.1">i.e.</span>the ability to potentially model global interactions among various candidates with sub-aspects. While the sliding-window-based list-wise algorithm still has defects on it, hence limiting the performance.</p>
</div>
<div class="ltx_para" id="S4.SS4.p4">
<p class="ltx_p" id="S4.SS4.p4.1">(3) To confirm the role of alignment with LLMs’ preferences, we build a variant of our framework, w/o. RL, which only supervised fine-tunes our ranker without the RL optimization. The declined performance proves that the LLMs’ preferences are different from humans’ preferences. As a result, it is vital for RAG systems to align the LLMs’ preferences to enhance the overall quality of the final responses generated from LLMs.</p>
</div>
<div class="ltx_para" id="S4.SS4.p5">
<p class="ltx_p" id="S4.SS4.p5.3">(4) To ensure the robustness and quality of the DPO algorithm, we propose a US<sup class="ltx_sup" id="S4.SS4.p5.3.1">3</sup> approach to build the pairwise training samples for it. To confirm its effect, we replace it by randomly creating the training pairs for the RL stage, building a variant, namely w/o US<sup class="ltx_sup" id="S4.SS4.p5.3.2">3</sup>. The worse result than RichRAG proves the usefulness of this strategy. It suggests that the US<sup class="ltx_sup" id="S4.SS4.p5.3.3">3</sup> approach can create more reliable training pairs by ensuring the meaningful comparison between predictions of our ranker, hence optimizing it in a promising direction.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5 </span>Efficiency Analysis of Ranking Algorithms</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">We previously confirmed the advantages of considering various sub-aspects in RAG systems. However, with extensive candidate documents, the efficiency of ranking modules is also important. Therefore, we compare the query latency of our ranker to point-wise and list-wise ranking algorithms, LDIST and LiT5, to test their efficiency. First, we demonstrate their changes in query latency with the candidate amount in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S4.F5" title="Figure 5 ‣ 4.5 Efficiency Analysis of Ranking Algorithms ‣ 4 Experiment ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">5</span></a> (a). Obviously, our ranker has comparable efficiency and trend with the point-wise ranking algorithm. However, the time overhead of LiT5 rises more sharply along with the improvement of the candidate amount. This phenomenon proves that our ranker could provide a better trade-off between effectiveness and efficiency. Furthermore, since our ranker generates docids step-by-step, we further provide the trends of query latency with different generated document numbers and show the trend lines of different amounts of candidate documents in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S4.F5" title="Figure 5 ‣ 4.5 Efficiency Analysis of Ranking Algorithms ‣ 4 Experiment ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">5</span></a> (b).
It can be found that as the number of ranked documents increases, all trendlines rise slowly, and the gap between different candidate counts (CCnt) is limited to 1 second. This phenomenon further proves the robustness of our ranker’s efficiency across diverse ranking settings.</p>
</div>
<div class="ltx_para" id="S4.SS5.p2">
<p class="ltx_p" id="S4.SS5.p2.1">Due to limited space, we provide further analysis studies in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A3" title="Appendix C Ranking Performance ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">C</span></a>,  <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A4" title="Appendix D Impact of Sub-aspect Amount ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">D</span></a>,  <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A5" title="Appendix E Analysis of LLMs’ Preferences ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">E</span></a>,  <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A6" title="Appendix F Impact of Number of External Documents ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">F</span></a> and  <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A7" title="Appendix G Case Study ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">G</span></a>.</p>
</div>
<figure class="ltx_figure" id="S4.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="206" id="S4.F5.g1" src="x5.png" width="406"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Efficiency experiments of different models.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this study, we proposed a new RAG framework, RichRAG, to comprehensively consider the various sub-intents underlying users’ broad questions, hence providing all-sided long-form responses for users. Specifically, we introduced a sub-aspect explorer to predict the potential sub-aspects contained by questions representing the user’s sub-intents. According to sub-aspects and a fixed retriever, we could build extensive and diverse candidate pools. To provide comprehensive and LLM-preferred ranking lists, we designed a generative list-wise ranking model. It effectively and efficiently encodes the global relationships between candidates and multi-aspects, thereby offering global optimal ranking lists to LLMs. To ensure the ranking quality, we utilized a two-stage training process involving supervised fine-tuning and RL optimization. Furthermore, we devised a US<sup class="ltx_sup" id="S5.p1.1.1">3</sup> approach to create useful and reliable training samples to ensure the effectiveness of the DPO algorithm. Extensive experiments on two public datasets confirm the effectiveness and efficiency of RichRAG.</p>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Limitations</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">In this work, we identified an underexplored but important scenario of RAG systems, where multi-faceted questions require rich and comprehensive responses satisfying various related sub-aspects. To handle these situations, we developed a framework, namely RichRAG to equip RAG models with the ability to generate rich and satisfying responses for multi-faceted questions. We acknowledge the following limitations of our current study that present opportunities for future investigations.</p>
</div>
<div class="ltx_para" id="Sx1.p2">
<p class="ltx_p" id="Sx1.p2.1">First, though we built an aspect explorer to identify users’ sub-intents underlying multi-faceted questions, it is still shallow and there is a gap between predicted sub-aspects and real intents. This is because the user’s intents are usually diverse and vary from person to person. Even though we annotated some sub-aspects in data samples, these may only cover a sub-set. Therefore, in this study, we mainly focus on how to provide a promising reference permutation given the user’s potential sub-intents for enhancing the final generation to comprehensively respond to these sub-intents.
Second, since the situation is still underexplored, few suitable datasets are available. The datasets we used in our study were chosen by carefully investigating the data samples’ content and converted by some operations to a suitable data format. Therefore, the diversity of experiment datasets is limited. In the future, we will pay more attention to the evaluation and annotation of user intent exploration in such scenarios to support further study.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Arora et al. (2023)</span>
<span class="ltx_bibblock">
Daman Arora, Anush Kini, Sayak Ray Chowdhury, Nagarajan Natarajan, Gaurav Sinha, and Amit Sharma. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:264817661" title="">Gar-meets-rag paradigm for zero-shot information retrieval</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">ArXiv</em>, abs/2310.20158.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Asai et al. (2024)</span>
<span class="ltx_bibblock">
Akari Asai, Zeqiu Wu, Yizhong Wang, Avirup Sil, and Hannaneh Hajishirzi. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=hSyW5go0v8" title="">Self-RAG: Learning to retrieve, generate, and critique through self-reflection</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">The Twelfth International Conference on Learning Representations</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Borgeaud et al. (2022)</span>
<span class="ltx_bibblock">
Sebastian Borgeaud, Arthur Mensch, Jordan Hoffmann, Trevor Cai, Eliza Rutherford, Katie Millican, George Bm Van Den Driessche, Jean-Baptiste Lespiau, Bogdan Damoc, Aidan Clark, Diego De Las Casas, Aurelia Guy, Jacob Menick, Roman Ring, Tom Hennigan, Saffron Huang, Loren Maggiore, Chris Jones, Albin Cassirer, Andy Brock, Michela Paganini, Geoffrey Irving, Oriol Vinyals, Simon Osindero, Karen Simonyan, Jack Rae, Erich Elsen, and Laurent Sifre. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://proceedings.mlr.press/v162/borgeaud22a.html" title="">Improving language models by retrieving from trillions of tokens</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">Proceedings of the 39th International Conference on Machine Learning</em>, volume 162 of <em class="ltx_emph ltx_font_italic" id="bib.bib3.2.2">Proceedings of Machine Learning Research</em>, pages 2206–2240. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chan et al. (2024)</span>
<span class="ltx_bibblock">
Chi-Min Chan, Chunpu Xu, Ruibin Yuan, Hongyin Luo, Wei Xue, Yike Guo, and Jie Fu. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2404.00610" title="">Rq-rag: Learning to refine queries for retrieval augmented generation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Preprint</em>, arXiv:2404.00610.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chung et al. (2022)</span>
<span class="ltx_bibblock">
Hyung Won Chung, Le Hou, Shayne Longpre, Barret Zoph, Yi Tay, William Fedus, Eric Li, Xuezhi Wang, Mostafa Dehghani, Siddhartha Brahma, Albert Webson, Shixiang Shane Gu, Zhuyun Dai, Mirac Suzgun, Xinyun Chen, Aakanksha Chowdhery, Sharan Narang, Gaurav Mishra, Adams Yu, Vincent Zhao, Yanping Huang, Andrew Dai, Hongkun Yu, Slav Petrov, Ed H. Chi, Jeff Dean, Jacob Devlin, Adam Roberts, Denny Zhou, Quoc V. Le, and Jason Wei. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.48550/ARXIV.2210.11416" title="">Scaling instruction-finetuned language models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">arXiv preprint</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cormack et al. (2009)</span>
<span class="ltx_bibblock">
Gordon V. Cormack, Charles L A Clarke, and Stefan Buettcher. 2009.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1145/1571941.1572114" title="">Reciprocal rank fusion outperforms condorcet and individual rank learning methods</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Proceedings of the 32nd International ACM SIGIR Conference on Research and Development in Information Retrieval</em>, SIGIR ’09, page 758–759, New York, NY, USA. Association for Computing Machinery.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dang and Croft (2012)</span>
<span class="ltx_bibblock">
Van Dang and W. Bruce Croft. 2012.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1145/2348283.2348296" title="">Diversity by proportionality: an election-based approach to search result diversification</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">Proceedings of the 35th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>, SIGIR ’12, page 65–74, New York, NY, USA. Association for Computing Machinery.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2024)</span>
<span class="ltx_bibblock">
Yunfan Gao, Yun Xiong, Xinyu Gao, Kangxiang Jia, Jinliu Pan, Yuxi Bi, Yi Dai, Jiawei Sun, Meng Wang, and Haofen Wang. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2312.10997" title="">Retrieval-augmented generation for large language models: A survey</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">Preprint</em>, arXiv:2312.10997.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hayashi et al. (2021)</span>
<span class="ltx_bibblock">
Hiroaki Hayashi, Prashant Budania, Peng Wang, Chris Ackerson, Raj Neervannan, and Graham Neubig. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1162/tacl_a_00362" title="">WikiAsp: A dataset for multi-domain aspect-based summarization</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">Transactions of the Association for Computational Linguistics</em>, 9:211–225.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard and Grave (2021)</span>
<span class="ltx_bibblock">
Gautier Izacard and Edouard Grave. 2021.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2021.eacl-main.74" title="">Leveraging passage retrieval with generative models for open domain question answering</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">Proceedings of the 16th Conference of the European Chapter of the Association for Computational Linguistics: Main Volume</em>, pages 874–880, Online. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard et al. (2024)</span>
<span class="ltx_bibblock">
Gautier Izacard, Patrick Lewis, Maria Lomeli, Lucas Hosseini, Fabio Petroni, Timo Schick, Jane Dwivedi-Yu, Armand Joulin, Sebastian Riedel, and Edouard Grave. 2024.

</span>
<span class="ltx_bibblock">Atlas: few-shot learning with retrieval augmented language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">J. Mach. Learn. Res.</em>, 24(1).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2023)</span>
<span class="ltx_bibblock">
Zhengbao Jiang, Frank Xu, Luyu Gao, Zhiqing Sun, Qian Liu, Jane Dwivedi-Yu, Yiming Yang, Jamie Callan, and Graham Neubig. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2023.emnlp-main.495" title="">Active retrieval augmented generation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pages 7969–7992, Singapore. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ke et al. (2024)</span>
<span class="ltx_bibblock">
Zixuan Ke, Weize Kong, Cheng Li, Mingyang Zhang, Qiaozhu Mei, and Michael Bendersky. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2401.06954" title="">Bridging the preference gap between retrievers and llms</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">Preprint</em>, arXiv:2401.06954.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khot et al. (2023)</span>
<span class="ltx_bibblock">
Tushar Khot, Harsh Trivedi, Matthew Finlayson, Yao Fu, Kyle Richardson, Peter Clark, and Ashish Sabharwal. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2210.02406" title="">Decomposed prompting: A modular approach for solving complex tasks</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">Preprint</em>, arXiv:2210.02406.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, Sebastian Riedel, and Douwe Kiela. 2020.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">Proceedings of the 34th International Conference on Neural Information Processing Systems</em>, NIPS ’20, Red Hook, NY, USA. Curran Associates Inc.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2024)</span>
<span class="ltx_bibblock">
Xinze Li, Zhenghao Liu, Chenyan Xiong, Shi Yu, Yukun Yan, Shuo Wang, and Ge Yu. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2402.16058" title="">Say more with less: Understanding prompt learning behaviors through gist compression</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">Preprint</em>, arXiv:2402.16058.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al. (2023)</span>
<span class="ltx_bibblock">
Xi Victoria Lin, Xilun Chen, Mingda Chen, Weijia Shi, Maria Lomeli, Rich James, Pedro Rodriguez, Jacob Kahn, Gergely Szilvasy, Mike Lewis, Luke Zettlemoyer, and Scott Yih. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:263605962" title="">Ra-dit: Retrieval-augmented dual instruction tuning</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">ArXiv</em>, abs/2310.01352.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2020)</span>
<span class="ltx_bibblock">
Jiongnan Liu, Zhicheng Dou, Xiaojie Wang, Shuqi Lu, and Ji-Rong Wen. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1145/3397271.3401084" title="">Dvgan: A minimax game for search result diversification combining explicit and implicit features</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">Proceedings of the 43rd International ACM SIGIR Conference on Research and Development in Information Retrieval</em>, SIGIR ’20, page 479–488, New York, NY, USA. Association for Computing Machinery.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Loshchilov and Hutter (2019)</span>
<span class="ltx_bibblock">
Ilya Loshchilov and Frank Hutter. 2019.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=Bkg6RiCqY7" title="">Decoupled weight decay regularization</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">7th International Conference on Learning Representations, ICLR 2019, New Orleans, LA, USA, May 6-9, 2019</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nogueira et al. (2020)</span>
<span class="ltx_bibblock">
Rodrigo Nogueira, Zhiying Jiang, Ronak Pradeep, and Jimmy Lin. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2020.findings-emnlp.63" title="">Document ranking with a pretrained sequence-to-sequence model</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">Findings of the Association for Computational Linguistics: EMNLP 2020</em>, pages 708–718, Online. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Paranjape et al. (2022)</span>
<span class="ltx_bibblock">
Ashwin Paranjape, Omar Khattab, Christopher Potts, Matei Zaharia, and Christopher D. Manning. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=Vr_BTpw3wz" title="">Hindsight: Posterior-guided training of retrievers for improved open-ended generation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">The Tenth International Conference on Learning Representations, ICLR 2022, Virtual Event, April 25-29, 2022</em>. OpenReview.net.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al. (2024)</span>
<span class="ltx_bibblock">
Zhen Qin, Rolf Jagerman, Kai Hui, Honglei Zhuang, Junru Wu, Le Yan, Jiaming Shen, Tianqi Liu, Jialu Liu, Donald Metzler, Xuanhui Wang, and Michael Bendersky. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2306.17563" title="">Large language models are effective text rankers with pairwise ranking prompting</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Preprint</em>, arXiv:2306.17563.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rackauckas (2024)</span>
<span class="ltx_bibblock">
Zackary Rackauckas. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.5121/ijnlc.2024.13103" title="">Rag-fusion: A new take on retrieval augmented generation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">International Journal on Natural Language Computing</em>, 13(1):37–47.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rafailov et al. (2023)</span>
<span class="ltx_bibblock">
Rafael Rafailov, Archit Sharma, Eric Mitchell, Christopher D Manning, Stefano Ermon, and Chelsea Finn. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=HPuSIXJaa9" title="">Direct preference optimization: Your language model is secretly a reward model</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">Thirty-seventh Conference on Neural Information Processing Systems</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Raffel et al. (2020)</span>
<span class="ltx_bibblock">
Colin Raffel, Noam Shazeer, Adam Roberts, Katherine Lee, Sharan Narang, Michael Matena, Yanqi Zhou, Wei Li, and Peter J. Liu. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://jmlr.org/papers/v21/20-074.html" title="">Exploring the limits of transfer learning with a unified text-to-text transformer</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">Journal of Machine Learning Research</em>, 21(140):1–67.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Santos et al. (2010)</span>
<span class="ltx_bibblock">
Rodrygo L.T. Santos, Craig Macdonald, and Iadh Ounis. 2010.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1145/1772690.1772780" title="">Exploiting query reformulations for web search result diversification</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">Proceedings of the 19th International Conference on World Wide Web</em>, WWW ’10, page 881–890, New York, NY, USA. Association for Computing Machinery.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et al. (2023)</span>
<span class="ltx_bibblock">
Weijia Shi, Sewon Min, Michihiro Yasunaga, Minjoon Seo, Rich James, Mike Lewis, Luke Zettlemoyer, and Wen tau Yih. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2301.12652" title="">Replug: Retrieval-augmented black-box language models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">Preprint</em>, arXiv:2301.12652.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al. (2023)</span>
<span class="ltx_bibblock">
Weiwei Sun, Lingyong Yan, Xinyu Ma, Shuaiqiang Wang, Pengjie Ren, Zhumin Chen, Dawei Yin, and Zhaochun Ren. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2023.emnlp-main.923" title="">Is ChatGPT good at search? investigating large language models as re-ranking agents</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pages 14918–14937, Singapore. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tamber et al. (2023)</span>
<span class="ltx_bibblock">
Manveer Singh Tamber, Ronak Pradeep, and Jimmy Lin. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2312.16098" title="">Scaling down, litting up: Efficient zero-shot listwise reranking with seq2seq encoder-decoder models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">Preprint</em>, arXiv:2312.16098.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, Dan Bikel, Lukas Blecher, Cristian Canton Ferrer, Moya Chen, Guillem Cucurull, David Esiobu, Jude Fernandes, Jeremy Fu, Wenyin Fu, Brian Fuller, Cynthia Gao, Vedanuj Goswami, Naman Goyal, Anthony Hartshorn, Saghar Hosseini, Rui Hou, Hakan Inan, Marcin Kardas, Viktor Kerkez, Madian Khabsa, Isabel Kloumann, Artem Korenev, Punit Singh Koura, Marie-Anne Lachaux, Thibaut Lavril, Jenya Lee, Diana Liskovich, Yinghai Lu, Yuning Mao, Xavier Martinet, Todor Mihaylov, Pushkar Mishra, Igor Molybog, Yixin Nie, Andrew Poulton, Jeremy Reizenstein, Rashi Rungta, Kalyan Saladi, Alan Schelten, Ruan Silva, Eric Michael Smith, Ranjan Subramanian, Xiaoqing Ellen Tan, Binh Tang, Ross Taylor, Adina Williams, Jian Xiang Kuan, Puxin Xu, Zheng Yan, Iliyan Zarov, Yuchen Zhang, Angela Fan, Melanie Kambadur, Sharan Narang, Aurelien Rodriguez, Robert Stojnic, Sergey Edunov, and Thomas
Scialom. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2307.09288" title="">Llama 2: Open foundation and fine-tuned chat models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Preprint</em>, arXiv:2307.09288.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023a)</span>
<span class="ltx_bibblock">
Boxin Wang, Wei Ping, Peng Xu, Lawrence McAfee, Zihan Liu, Mohammad Shoeybi, Yi Dong, Oleksii Kuchaiev, Bo Li, Chaowei Xiao, Anima Anandkumar, and Bryan Catanzaro. 2023a.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2023.emnlp-main.482" title="">Shall we pretrain autoregressive language models with retrieval? a comprehensive study</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pages 7763–7786, Singapore. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2024a)</span>
<span class="ltx_bibblock">
Hongru Wang, Boyang Xue, Baohang Zhou, Tianhua Zhang, Cunxiang Wang, Guanhua Chen, Huimin Wang, and Kam fai Wong. 2024a.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2402.13514" title="">Self-dc: When to retrieve and when to generate? self divide-and-conquer for compositional unknown questions</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">Preprint</em>, arXiv:2402.13514.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023b)</span>
<span class="ltx_bibblock">
Shuting Wang, Zhicheng Dou, Jing Yao, Yujia Zhou, and Ji-Rong Wen. 2023b.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1145/3543507.3583488" title="">Incorporating explicit subtopics in personalized search</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">Proceedings of the ACM Web Conference 2023</em>, WWW ’23, page 3364–3374, New York, NY, USA. Association for Computing Machinery.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2024b)</span>
<span class="ltx_bibblock">
Shuting Wang, Jiongnan Liu Shiren Song, Jiehan Cheng, Yuqi Fu, Peidong Guo, Kun Fang, Yutao Zhu, and Zhicheng Dou. 2024b.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2406.05654" title="">Domainrag: A chinese benchmark for evaluating domain-specific retrieval-augmented generation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">Preprint</em>, arXiv:2406.05654.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023c)</span>
<span class="ltx_bibblock">
Tianlu Wang, Ping Yu, Xiaoqing Ellen Tan, Sean O’Brien, Ramakanth Pasunuru, Jane Dwivedi-Yu, Olga Golovneva, Luke Zettlemoyer, Maryam Fazel-Zarandi, and Asli Celikyilmaz. 2023c.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2308.04592" title="">Shepherd: A critic for language model generation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">Preprint</em>, arXiv:2308.04592.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023d)</span>
<span class="ltx_bibblock">
Zhiruo Wang, Jun Araki, Zhengbao Jiang, Md Rizwan Parvez, and Graham Neubig. 2023d.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2311.08377" title="">Learning to filter context for retrieval-augmented generation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">Preprint</em>, arXiv:2311.08377.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao et al. (2023)</span>
<span class="ltx_bibblock">
Shitao Xiao, Zheng Liu, Peitian Zhang, and Niklas Muennighoff. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2309.07597" title="">C-pack: Packaged resources to advance general chinese embedding</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">Preprint</em>, arXiv:2309.07597.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2023)</span>
<span class="ltx_bibblock">
Fangyuan Xu, Weijia Shi, and Eunsol Choi. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2310.04408" title="">Recomp: Improving retrieval-augmented lms with compression and selective augmentation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">Preprint</em>, arXiv:2310.04408.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2024a)</span>
<span class="ltx_bibblock">
Shicheng Xu, Liang Pang, Huawei Shen, Xueqi Cheng, and Tat-Seng Chua. 2024a.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2304.14732" title="">Search-in-the-chain: Interactively enhancing large language models with search for knowledge-intensive tasks</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">Preprint</em>, arXiv:2304.14732.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2024b)</span>
<span class="ltx_bibblock">
Shicheng Xu, Liang Pang, Jun Xu, Huawei Shen, and Xueqi Cheng. 2024b.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2402.02764" title="">List-aware reranking-truncation joint model for search and retrieval-augmented generation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">Preprint</em>, arXiv:2402.02764.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao et al. (2023)</span>
<span class="ltx_bibblock">
Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik Narasimhan, and Yuan Cao. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2210.03629" title="">React: Synergizing reasoning and acting in language models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">Preprint</em>, arXiv:2210.03629.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2023)</span>
<span class="ltx_bibblock">
Zichun Yu, Chenyan Xiong, Shi Yu, and Zhiyuan Liu. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2023.acl-long.136" title="">Augmentation-adapted retriever improves generalization of language models as generic plug-in</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pages 2421–2436, Toronto, Canada. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhuang et al. (2023a)</span>
<span class="ltx_bibblock">
Honglei Zhuang, Zhen Qin, Rolf Jagerman, Kai Hui, Ji Ma, Jing Lu, Jianmo Ni, Xuanhui Wang, and Michael Bendersky. 2023a.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1145/3539618.3592047" title="">Rankt5: Fine-tuning t5 for text ranking with ranking losses</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">Proceedings of the 46th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>, SIGIR ’23, page 2308–2313, New York, NY, USA. Association for Computing Machinery.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhuang et al. (2023b)</span>
<span class="ltx_bibblock">
Shengyao Zhuang, Honglei Zhuang, Bevan Koopman, and Guido Zuccon. 2023b.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2310.09497" title="">A setwise approach for effective and highly efficient zero-shot ranking with large language models</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">Preprint</em>, arXiv:2310.09497.

</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Data Pre-process</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">Specifically, for the WikiPassageQA dataset, we prompt GPT-4 to generate appropriate and accurate sub-aspects and sub-answers for each data point to support our study, where sub-answers are split from the original long-form answers and sub-aspects are closely related to original questions and sub-answers. The content of the prompt is shown in Prompt <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A7" title="Appendix G Case Study ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">G</span></a>.
To ensure the quality of reformulated WikiPassageQA, the prompt of GPT-4 is decided via the following steps:</p>
</div>
<div class="ltx_para" id="A1.p2">
<p class="ltx_p" id="A1.p2.1">(1) <span class="ltx_text ltx_font_italic" id="A1.p2.1.1">Human-Annotated Demonstrations</span>: We first selected five data examples and manually annotated their sub-aspects and sub-answers. These human-annotated examples are used as demonstrations to prompt the GPT-4 to generate satisfied results.</p>
</div>
<div class="ltx_para" id="A1.p3">
<p class="ltx_p" id="A1.p3.1">(2) <span class="ltx_text ltx_font_italic" id="A1.p3.1.1">Calibration with Human verification</span>: Then, we randomly sampled 50 examples and used them as calibration examples. Specifically, we ceaselessly adjusted the content of the prompt based on the generation quality of these calibration examples until we thought the generation quality of these examples was satisfied. The satisfaction rate of human evaluation was 94%.</p>
</div>
<div class="ltx_para" id="A1.p4">
<p class="ltx_p" id="A1.p4.1">The WikiAsp dataset is devised for generating aspect-based summaries of entities from 20 domains. Each piece of data is built from a Wikipedia article, consisting of various aspects of this article and aspect-based summaries. Each target summary corresponds to an aspect. We follow <cite class="ltx_cite ltx_citemacro_cite">Jiang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib12" title="">2023</a>)</cite> to convert it into open-domain QA settings and introduce some additional operations to make it suitable for our experimental settings. Firstly, samples with more than two aspects are retained, and the remaining parts are removed to ensure the multifaceted nature of the experimental samples. Then, due to the expensive costs of experiments and the large amount of the whole dataset, we evenly sample subsets from each domain to build the experimental samples and split training, validation, and test sets according to the ratio of 10:1:1. Finally, we insert the title of the original Wikipedia article into a template: “Generate a summary about title” to mimic the real question format, hence constructing the question of each sample data. The aspects and aspect-based summaries are treated as sub-aspects of the question and sub-answers. We concatenate these sub-answers to build the long-form answer for each sample.</p>
</div>
<div class="ltx_para" id="A1.p5">
<p class="ltx_p" id="A1.p5.1">The statistical information of our datasets is presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A1.T2" title="Table 2 ‣ Appendix A Data Pre-process ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<figure class="ltx_table" id="A1.T2">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A1.T2.1">
<tr class="ltx_tr" id="A1.T2.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T2.1.1.1" rowspan="2"><span class="ltx_text" id="A1.T2.1.1.1.1">Items</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="A1.T2.1.1.2">WikiPassageQA</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.2">
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T2.1.2.1">Train</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T2.1.2.2">Validation</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T2.1.2.3">Test</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T2.1.3.1">Count</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T2.1.3.2">3,311</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T2.1.3.3">415</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T2.1.3.4">416</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.4">
<td class="ltx_td ltx_align_left" id="A1.T2.1.4.1">Avg. Q Len</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.4.2">9.53</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.4.3">9.70</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.4.4">9.44</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.5">
<td class="ltx_td ltx_align_left" id="A1.T2.1.5.1">Avg. A Len</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.5.2">148.14</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.5.3">145.93</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.5.4">146.1</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.6">
<td class="ltx_td ltx_align_left" id="A1.T2.1.6.1">Avg. SubCnt</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.6.2">3.77</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.6.3">3.77</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.6.4">3.78</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.7">
<td class="ltx_td ltx_align_left" id="A1.T2.1.7.1">Avg. Sub Q Len</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.7.2">6.34</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.7.3">6.25</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.7.4">6.29</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.8">
<td class="ltx_td ltx_align_left" id="A1.T2.1.8.1">Avg. Sub A Len</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.8.2">62.84</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.8.3">62.32</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.8.4">61.99</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.9">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T2.1.9.1" rowspan="2"><span class="ltx_text" id="A1.T2.1.9.1.1">Items</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="A1.T2.1.9.2">WikiAsp</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.10">
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T2.1.10.1">Train</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T2.1.10.2">Validation</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T2.1.10.3">Test</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.11">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T2.1.11.1">Count</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T2.1.11.2">8,613</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T2.1.11.3">859</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T2.1.11.4">867</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.12">
<td class="ltx_td ltx_align_left" id="A1.T2.1.12.1">Avg. Q Len</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.12.2">7.01</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.12.3">6.97</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.12.4">6.94</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.13">
<td class="ltx_td ltx_align_left" id="A1.T2.1.13.1">Avg. A Len</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.13.2">201.7</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.13.3">216.26</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.13.4">200.44</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.14">
<td class="ltx_td ltx_align_left" id="A1.T2.1.14.1">Avg. SubCnt</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.14.2">2.38</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.14.3">2.41</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.14.4">2.40</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.15">
<td class="ltx_td ltx_align_left" id="A1.T2.1.15.1">Avg. Sub Q Len</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.15.2">1.28</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.15.3">1.28</td>
<td class="ltx_td ltx_align_right" id="A1.T2.1.15.4">1.29</td>
</tr>
<tr class="ltx_tr" id="A1.T2.1.16">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T2.1.16.1">Avg. Sub A Len</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="A1.T2.1.16.2">229.36</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="A1.T2.1.16.3">240.6</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="A1.T2.1.16.4">221.91</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Statistical information of datasets. </figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Implementation Details</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.4">The sub-aspect explorer is implemented by Llama-2-7B-chat <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib30" title="">2023</a>)</cite>. We set the learning rate as 5e-5, batch size as 64, and use AdamW <cite class="ltx_cite ltx_citemacro_cite">Loshchilov and Hutter (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib19" title="">2019</a>)</cite> to fine-tune it.
For the multi-faceted retriever, the number of retrieved documents for each sub-aspect is set as 50. The maximum capacity of the pool is 290 for WikipasssageQA and 270 for WikiAsp.
For the generative list-wise ranker, We base on Flan-T5-base <cite class="ltx_cite ltx_citemacro_cite">Chung et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib5" title="">2022</a>)</cite> to initialize it and rerank the top-10 final documents as provided external knowledge for the generator. In the SFT stage, we set the learning rate as 5e-5, batch size as 64, temperature <math alttext="\tau" class="ltx_Math" display="inline" id="A2.p1.1.m1.1"><semantics id="A2.p1.1.m1.1a"><mi id="A2.p1.1.m1.1.1" xref="A2.p1.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="A2.p1.1.m1.1b"><ci id="A2.p1.1.m1.1.1.cmml" xref="A2.p1.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.1.m1.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="A2.p1.1.m1.1d">italic_τ</annotation></semantics></math> as 0.1, and optimize the ranker to generate top-<math alttext="10" class="ltx_Math" display="inline" id="A2.p1.2.m2.1"><semantics id="A2.p1.2.m2.1a"><mn id="A2.p1.2.m2.1.1" xref="A2.p1.2.m2.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="A2.p1.2.m2.1b"><cn id="A2.p1.2.m2.1.1.cmml" type="integer" xref="A2.p1.2.m2.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.2.m2.1c">10</annotation><annotation encoding="application/x-llamapun" id="A2.p1.2.m2.1d">10</annotation></semantics></math> ranked document IDs with AdamW algorithm. In the RL stage, Llama-2-13B-chat is chosen as the generator, <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="A2.p1.3.m3.1"><semantics id="A2.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="A2.p1.3.m3.1.1" xref="A2.p1.3.m3.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="A2.p1.3.m3.1b"><ci id="A2.p1.3.m3.1.1.cmml" xref="A2.p1.3.m3.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.3.m3.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="A2.p1.3.m3.1d">caligraphic_G</annotation></semantics></math>, providing reward feedback to the policy model. Then, we set <math alttext="\mu" class="ltx_Math" display="inline" id="A2.p1.4.m4.1"><semantics id="A2.p1.4.m4.1a"><mi id="A2.p1.4.m4.1.1" xref="A2.p1.4.m4.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="A2.p1.4.m4.1b"><ci id="A2.p1.4.m4.1.1.cmml" xref="A2.p1.4.m4.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.4.m4.1c">\mu</annotation><annotation encoding="application/x-llamapun" id="A2.p1.4.m4.1d">italic_μ</annotation></semantics></math> as 0.1 to build 6,000 training pairs for the DPO algorithm. The batch size and learning rate are set as 32 and 3e-6 respectively to further optimize our ranker via the DPO strategy.
We followed <cite class="ltx_cite ltx_citemacro_cite">Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib11" title="">2024</a>)</cite> to consider the Dec. 20, 2021, Wikipedia dump as our knowledge base and utilize BGE-en-base <cite class="ltx_cite ltx_citemacro_cite">Xiao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib37" title="">2023</a>)</cite> as our fixed retriever. All our baselines are optimized and evaluated by the same training, validation, and test datasets. Since the WikiAsp dataset has no relevance labels on documents, for each query,we view the documents whose matching score (the average of rouge scores evaluated by the ground truth answer) is higher than 0.5 as relevant documents to support the training of our baseline ranking models. Our experiments are conducted on the platform with four NVIDIA A100-SXM4-80GB GPUs. We will release our codes upon the acceptance of our study.</p>
</div>
<figure class="ltx_table" id="A2.T3">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T3.1">
<tr class="ltx_tr" id="A2.T3.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A2.T3.1.1.1" rowspan="2" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text" id="A2.T3.1.1.1.1">Models</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="6" id="A2.T3.1.1.2" style="padding-left:4.6pt;padding-right:4.6pt;">WikiPassageQA</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="6" id="A2.T3.1.1.3" style="padding-left:4.6pt;padding-right:4.6pt;">WikiAsp</td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.2.1" style="padding-left:4.6pt;padding-right:4.6pt;">MAP</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.2.2" style="padding-left:4.6pt;padding-right:4.6pt;">N1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.2.3" style="padding-left:4.6pt;padding-right:4.6pt;">N3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.2.4" style="padding-left:4.6pt;padding-right:4.6pt;">N5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.2.5" style="padding-left:4.6pt;padding-right:4.6pt;">N10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.2.6" style="padding-left:4.6pt;padding-right:4.6pt;">NCOM</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.2.7" style="padding-left:4.6pt;padding-right:4.6pt;">MAP</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.2.8" style="padding-left:4.6pt;padding-right:4.6pt;">N1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.2.9" style="padding-left:4.6pt;padding-right:4.6pt;">N3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.2.10" style="padding-left:4.6pt;padding-right:4.6pt;">N5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.2.11" style="padding-left:4.6pt;padding-right:4.6pt;">N10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.2.12" style="padding-left:4.6pt;padding-right:4.6pt;">NCOM</td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="A2.T3.1.3.1" style="padding-left:4.6pt;padding-right:4.6pt;">Retriever</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.3.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3201</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.3.3" style="padding-left:4.6pt;padding-right:4.6pt;">.2476</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.3.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2933</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.3.5" style="padding-left:4.6pt;padding-right:4.6pt;">.3498</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.3.6" style="padding-left:4.6pt;padding-right:4.6pt;">.3951</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.3.7" style="padding-left:4.6pt;padding-right:4.6pt;">.7006</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.3.8" style="padding-left:4.6pt;padding-right:4.6pt;">.1780</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.3.9" style="padding-left:4.6pt;padding-right:4.6pt;">.1003</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.3.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1678</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.3.11" style="padding-left:4.6pt;padding-right:4.6pt;">.1953</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.3.12" style="padding-left:4.6pt;padding-right:4.6pt;">.2294</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.3.13" style="padding-left:4.6pt;padding-right:4.6pt;">.3926</td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.4">
<td class="ltx_td ltx_align_left" id="A2.T3.1.4.1" style="padding-left:4.6pt;padding-right:4.6pt;">RankT5 (point)</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.4.2" style="padding-left:4.6pt;padding-right:4.6pt;">.5200</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.4.3" style="padding-left:4.6pt;padding-right:4.6pt;">.4808</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.4.4" style="padding-left:4.6pt;padding-right:4.6pt;">.5176</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.4.5" style="padding-left:4.6pt;padding-right:4.6pt;">.5424</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.4.6" style="padding-left:4.6pt;padding-right:4.6pt;">.5916</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.4.7" style="padding-left:4.6pt;padding-right:4.6pt;">.7865</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.4.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3712</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.4.9" style="padding-left:4.6pt;padding-right:4.6pt;">.3230</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.4.10" style="padding-left:4.6pt;padding-right:4.6pt;">.3704</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.4.11" style="padding-left:4.6pt;padding-right:4.6pt;">.3942</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.4.12" style="padding-left:4.6pt;padding-right:4.6pt;">.4043</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.4.13" style="padding-left:4.6pt;padding-right:4.6pt;">.4739</td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.5">
<td class="ltx_td ltx_align_left" id="A2.T3.1.5.1" style="padding-left:4.6pt;padding-right:4.6pt;">RankT5 (pair)</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.5.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3602</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.5.3" style="padding-left:4.6pt;padding-right:4.6pt;">.2740</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.5.4" style="padding-left:4.6pt;padding-right:4.6pt;">.3367</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.5.5" style="padding-left:4.6pt;padding-right:4.6pt;">.3863</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.5.6" style="padding-left:4.6pt;padding-right:4.6pt;">.4298</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.5.7" style="padding-left:4.6pt;padding-right:4.6pt;">.7395</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.5.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3299</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.5.9" style="padding-left:4.6pt;padding-right:4.6pt;">.2088</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.5.10" style="padding-left:4.6pt;padding-right:4.6pt;">.3274</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.5.11" style="padding-left:4.6pt;padding-right:4.6pt;">.3717</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.5.12" style="padding-left:4.6pt;padding-right:4.6pt;">.3894</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.5.13" style="padding-left:4.6pt;padding-right:4.6pt;">.5297</td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.6">
<td class="ltx_td ltx_align_left" id="A2.T3.1.6.1" style="padding-left:4.6pt;padding-right:4.6pt;">LDIST (point)</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.6.2" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T3.1.6.2.1">.5346</span></td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.6.3" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T3.1.6.3.1">.5024</span></td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.6.4" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T3.1.6.4.1">.5261</span></td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.6.5" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T3.1.6.5.1">.5573</span></td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.6.6" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T3.1.6.6.1">.5979</span></td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.6.7" style="padding-left:4.6pt;padding-right:4.6pt;">.7608</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.6.8" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T3.1.6.8.1">.4051</span></td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.6.9" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T3.1.6.9.1">.3668</span></td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.6.10" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T3.1.6.10.1">.4078</span></td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.6.11" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T3.1.6.11.1">.4213</span></td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.6.12" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T3.1.6.12.1">.4280</span></td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.6.13" style="padding-left:4.6pt;padding-right:4.6pt;">.5043</td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.7">
<td class="ltx_td ltx_align_left" id="A2.T3.1.7.1" style="padding-left:4.6pt;padding-right:4.6pt;">LiT5 (list)</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.7.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3756</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.7.3" style="padding-left:4.6pt;padding-right:4.6pt;">.2813</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.7.4" style="padding-left:4.6pt;padding-right:4.6pt;">.3661</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.7.5" style="padding-left:4.6pt;padding-right:4.6pt;">.3968</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.7.6" style="padding-left:4.6pt;padding-right:4.6pt;">.4412</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.7.7" style="padding-left:4.6pt;padding-right:4.6pt;">.7465</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.7.8" style="padding-left:4.6pt;padding-right:4.6pt;">.2757</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.7.9" style="padding-left:4.6pt;padding-right:4.6pt;">.1696</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.7.10" style="padding-left:4.6pt;padding-right:4.6pt;">.2742</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.7.11" style="padding-left:4.6pt;padding-right:4.6pt;">.3142</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.7.12" style="padding-left:4.6pt;padding-right:4.6pt;">.3318</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.7.13" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T3.1.7.13.1">.5442</span></td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.8">
<td class="ltx_td ltx_align_left ltx_border_t" id="A2.T3.1.8.1" style="padding-left:4.6pt;padding-right:4.6pt;">RAG-Fusion</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.8.2" style="padding-left:4.6pt;padding-right:4.6pt;">.2632</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.8.3" style="padding-left:4.6pt;padding-right:4.6pt;">.1923</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.8.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2348</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.8.5" style="padding-left:4.6pt;padding-right:4.6pt;">.2754</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.8.6" style="padding-left:4.6pt;padding-right:4.6pt;">.3317</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.8.7" style="padding-left:4.6pt;padding-right:4.6pt;">.5771</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.8.8" style="padding-left:4.6pt;padding-right:4.6pt;">.2040</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.8.9" style="padding-left:4.6pt;padding-right:4.6pt;">.1188</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.8.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1844</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.8.11" style="padding-left:4.6pt;padding-right:4.6pt;">.2271</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.8.12" style="padding-left:4.6pt;padding-right:4.6pt;">.2608</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.8.13" style="padding-left:4.6pt;padding-right:4.6pt;">.4415</td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.9">
<td class="ltx_td ltx_align_left" id="A2.T3.1.9.1" style="padding-left:4.6pt;padding-right:4.6pt;">+RankT5 (point)</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.9.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3962</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.9.3" style="padding-left:4.6pt;padding-right:4.6pt;">.3510</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.9.4" style="padding-left:4.6pt;padding-right:4.6pt;">.3831</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.9.5" style="padding-left:4.6pt;padding-right:4.6pt;">.4238</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.9.6" style="padding-left:4.6pt;padding-right:4.6pt;">.4641</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.9.7" style="padding-left:4.6pt;padding-right:4.6pt;">.6543</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.9.8" style="padding-left:4.6pt;padding-right:4.6pt;">.1591</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.9.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0681</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.9.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1411</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.9.11" style="padding-left:4.6pt;padding-right:4.6pt;">.1742</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.9.12" style="padding-left:4.6pt;padding-right:4.6pt;">.2177</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.9.13" style="padding-left:4.6pt;padding-right:4.6pt;">.4610</td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.10">
<td class="ltx_td ltx_align_left" id="A2.T3.1.10.1" style="padding-left:4.6pt;padding-right:4.6pt;">+RankT5 (pair)</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.10.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3946</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.10.3" style="padding-left:4.6pt;padding-right:4.6pt;">.3029</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.10.4" style="padding-left:4.6pt;padding-right:4.6pt;">.3669</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.10.5" style="padding-left:4.6pt;padding-right:4.6pt;">.4202</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.10.6" style="padding-left:4.6pt;padding-right:4.6pt;">.4758</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.10.7" style="padding-left:4.6pt;padding-right:4.6pt;">.6717</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.10.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3297</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.10.9" style="padding-left:4.6pt;padding-right:4.6pt;">.2376</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.10.10" style="padding-left:4.6pt;padding-right:4.6pt;">.3249</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.10.11" style="padding-left:4.6pt;padding-right:4.6pt;">.3583</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.10.12" style="padding-left:4.6pt;padding-right:4.6pt;">.3869</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.10.13" style="padding-left:4.6pt;padding-right:4.6pt;">.4992</td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.11">
<td class="ltx_td ltx_align_left" id="A2.T3.1.11.1" style="padding-left:4.6pt;padding-right:4.6pt;">+LDIST (point)</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.11.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3746</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.11.3" style="padding-left:4.6pt;padding-right:4.6pt;">.3245</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.11.4" style="padding-left:4.6pt;padding-right:4.6pt;">.3654</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.11.5" style="padding-left:4.6pt;padding-right:4.6pt;">.3951</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.11.6" style="padding-left:4.6pt;padding-right:4.6pt;">.4385</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.11.7" style="padding-left:4.6pt;padding-right:4.6pt;">.6370</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.11.8" style="padding-left:4.6pt;padding-right:4.6pt;">.3345</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.11.9" style="padding-left:4.6pt;padding-right:4.6pt;">.2987</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.11.10" style="padding-left:4.6pt;padding-right:4.6pt;">.3241</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.11.11" style="padding-left:4.6pt;padding-right:4.6pt;">.3505</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.11.12" style="padding-left:4.6pt;padding-right:4.6pt;">.3733</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.11.13" style="padding-left:4.6pt;padding-right:4.6pt;">.5138</td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.12">
<td class="ltx_td ltx_align_left" id="A2.T3.1.12.1" style="padding-left:4.6pt;padding-right:4.6pt;">+LiT5 (list)</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.12.2" style="padding-left:4.6pt;padding-right:4.6pt;">.3114</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.12.3" style="padding-left:4.6pt;padding-right:4.6pt;">.2308</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.12.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2811</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.12.5" style="padding-left:4.6pt;padding-right:4.6pt;">.3244</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.12.6" style="padding-left:4.6pt;padding-right:4.6pt;">.3839</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.12.7" style="padding-left:4.6pt;padding-right:4.6pt;">.6547</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.12.8" style="padding-left:4.6pt;padding-right:4.6pt;">.2737</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.12.9" style="padding-left:4.6pt;padding-right:4.6pt;">.1995</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.12.10" style="padding-left:4.6pt;padding-right:4.6pt;">.2606</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.12.11" style="padding-left:4.6pt;padding-right:4.6pt;">.3014</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.12.12" style="padding-left:4.6pt;padding-right:4.6pt;">.3255</td>
<td class="ltx_td ltx_align_center" id="A2.T3.1.12.13" style="padding-left:4.6pt;padding-right:4.6pt;">.5196</td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.13">
<td class="ltx_td ltx_align_left ltx_border_t" id="A2.T3.1.13.1" style="padding-left:4.6pt;padding-right:4.6pt;">BGM (list)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.13.2" style="padding-left:4.6pt;padding-right:4.6pt;">.2614</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.13.3" style="padding-left:4.6pt;padding-right:4.6pt;">.2476</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.13.4" style="padding-left:4.6pt;padding-right:4.6pt;">.2480</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.13.5" style="padding-left:4.6pt;padding-right:4.6pt;">.2626</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.13.6" style="padding-left:4.6pt;padding-right:4.6pt;">.2864</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.13.7" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T3.1.13.7.1">.7988</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.13.8" style="padding-left:4.6pt;padding-right:4.6pt;">.1382</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.13.9" style="padding-left:4.6pt;padding-right:4.6pt;">.0727</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.13.10" style="padding-left:4.6pt;padding-right:4.6pt;">.1152</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.13.11" style="padding-left:4.6pt;padding-right:4.6pt;">.1497</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.13.12" style="padding-left:4.6pt;padding-right:4.6pt;">.1921</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T3.1.13.13" style="padding-left:4.6pt;padding-right:4.6pt;">.3887</td>
</tr>
<tr class="ltx_tr" id="A2.T3.1.14">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A2.T3.1.14.1" style="padding-left:4.6pt;padding-right:4.6pt;">RichRAG (list)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T3.1.14.2" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="A2.T3.1.14.2.1">.5444</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T3.1.14.3" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="A2.T3.1.14.3.1">.5240</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T3.1.14.4" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="A2.T3.1.14.4.1">.5359</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T3.1.14.5" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="A2.T3.1.14.5.1">.5663</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T3.1.14.6" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="A2.T3.1.14.6.1">.6035</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T3.1.14.7" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="A2.T3.1.14.7.1">.8065</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T3.1.14.8" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="A2.T3.1.14.8.1">.4880</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T3.1.14.9" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="A2.T3.1.14.9.1">.4556</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T3.1.14.10" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="A2.T3.1.14.10.1">.4962</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T3.1.14.11" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="A2.T3.1.14.11.1">.5047</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T3.1.14.12" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="A2.T3.1.14.12.1">.5067</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T3.1.14.13" style="padding-left:4.6pt;padding-right:4.6pt;"><span class="ltx_text ltx_font_bold" id="A2.T3.1.14.13.1">.8935</span></td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>
Overall ranking results. The best and second-best results are in bold and underlined, respectively.
</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Ranking Performance</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.4">To prove the effectiveness of our proposed list-wise ranking module, we also evaluate the ranking modules’ performance of our method and baselines. We indicate the types of ranking algorithms, including point-wise and list-wise. We further implement a pairwise version of the RankT5 model by using the following training objective to optimize it:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="A3.Ex1">
<tbody id="A3.Ex1X"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}=\!\!\!\!\!\!\!\!\!\!\!\!\!\!\sum_{d_{1},d_{2}\in%
\mathcal{D},R(d_{1})&gt;R(d_{2})}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\max(0,s(d_{2})-s(d_%
{1})+\gamma),\;\;\gamma=1," class="ltx_Math" display="inline" id="A3.Ex1X.2.1.1.m1.5"><semantics id="A3.Ex1X.2.1.1.m1.5a"><mrow id="A3.Ex1X.2.1.1.m1.5.5.1"><mrow id="A3.Ex1X.2.1.1.m1.5.5.1.1.2" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.3.cmml"><mrow id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.3" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.3.cmml">ℒ</mi><mpadded width="0em"><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.2" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.2.cmml">=</mo></mpadded><mrow id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.2" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.2.cmml"><munder id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.2a" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.2.cmml"><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.2.2" movablelimits="false" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.2.2.cmml">∑</mo><mrow id="A3.Ex1X.2.1.1.m1.2.2.2.2" xref="A3.Ex1X.2.1.1.m1.2.2.2.3.cmml"><mrow id="A3.Ex1X.2.1.1.m1.1.1.1.1.1" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.cmml"><mrow id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.3.cmml"><msub id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1.2" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1.2.cmml">d</mi><mn id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1.3" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.3" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.3.cmml">,</mo><msub id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2.cmml"><mi id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2.2" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2.2.cmml">d</mi><mn id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2.3" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2.3.cmml">2</mn></msub></mrow><mo id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.3" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.4" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.4.cmml">𝒟</mi></mrow><mo id="A3.Ex1X.2.1.1.m1.2.2.2.2.3" xref="A3.Ex1X.2.1.1.m1.2.2.2.3a.cmml">,</mo><mrow id="A3.Ex1X.2.1.1.m1.2.2.2.2.2" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.cmml"><mrow id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.cmml"><mi id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.3" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.3.cmml">R</mi><mo id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.2" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.2.cmml">⁢</mo><mrow id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.cmml"><mo id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.2" stretchy="false" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.cmml">(</mo><msub id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.cmml"><mi id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.2" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.2.cmml">d</mi><mn id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.3" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.3.cmml">1</mn></msub><mo id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.3" stretchy="false" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.3" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.3.cmml">&gt;</mo><mrow id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.cmml"><mi id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.3" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.3.cmml">R</mi><mo id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.2" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.2.cmml">⁢</mo><mrow id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.cmml"><mo id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.2" stretchy="false" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.cmml">(</mo><msub id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.cmml"><mi id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.2" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.2.cmml">d</mi><mn id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.3" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.3.cmml">2</mn></msub><mo id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.3" stretchy="false" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></munder></mstyle><mrow id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.2.cmml"><mi id="A3.Ex1X.2.1.1.m1.3.3" xref="A3.Ex1X.2.1.1.m1.3.3.cmml">max</mi><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1a" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.2.cmml">⁡</mo><mrow id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.2.cmml"><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.2.cmml">(</mo><mn id="A3.Ex1X.2.1.1.m1.4.4" xref="A3.Ex1X.2.1.1.m1.4.4.cmml">0</mn><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.3" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.2.cmml">,</mo><mrow id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.cmml"><mrow id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml"><mrow id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml">s</mi><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">d</mi><mn id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">2</mn></msub><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.3" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.3.cmml">−</mo><mrow id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.3" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.3.cmml">s</mi><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.2" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.2.cmml">⁢</mo><mrow id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml"><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.2" stretchy="false" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml">(</mo><msub id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml"><mi id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.cmml">d</mi><mn id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.3" stretchy="false" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.3" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml">+</mo><mi id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.4" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.4.cmml">γ</mi></mrow><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.4" stretchy="false" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.2.3" rspace="0.727em" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.3a.cmml">,</mo><mrow id="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.cmml"><mi id="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.2" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.2.cmml">γ</mi><mo id="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.1" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.1.cmml">=</mo><mn id="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.3" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.3.cmml">1</mn></mrow></mrow><mo id="A3.Ex1X.2.1.1.m1.5.5.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.Ex1X.2.1.1.m1.5b"><apply id="A3.Ex1X.2.1.1.m1.5.5.1.1.3.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="A3.Ex1X.2.1.1.m1.5.5.1.1.3a.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.2.3">formulae-sequence</csymbol><apply id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1"><eq id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.2.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.2"></eq><ci id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.3.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.3">ℒ</ci><apply id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1"><apply id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.2.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.2.1.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.2">subscript</csymbol><sum id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.2.2.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.2.2"></sum><apply id="A3.Ex1X.2.1.1.m1.2.2.2.3.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="A3.Ex1X.2.1.1.m1.2.2.2.3a.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.3">formulae-sequence</csymbol><apply id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1"><in id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.3.cmml" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.3"></in><list id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.3.cmml" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2"><apply id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1.2">𝑑</ci><cn id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.1.1.1.3">1</cn></apply><apply id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2.cmml" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2.1.cmml" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2.2.cmml" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2.2">𝑑</ci><cn id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.2.2.2.3">2</cn></apply></list><ci id="A3.Ex1X.2.1.1.m1.1.1.1.1.1.4.cmml" xref="A3.Ex1X.2.1.1.m1.1.1.1.1.1.4">𝒟</ci></apply><apply id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2"><gt id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.3.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.3"></gt><apply id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1"><times id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.2.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.2"></times><ci id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.3.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.3">𝑅</ci><apply id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1">subscript</csymbol><ci id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.2.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.2">𝑑</ci><cn id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.3.cmml" type="integer" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.1.1.1.1.3">1</cn></apply></apply><apply id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2"><times id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.2.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.2"></times><ci id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.3.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.3">𝑅</ci><apply id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1">subscript</csymbol><ci id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.2.cmml" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.2">𝑑</ci><cn id="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.3.cmml" type="integer" xref="A3.Ex1X.2.1.1.m1.2.2.2.2.2.2.1.1.1.3">2</cn></apply></apply></apply></apply></apply><apply id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.2.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1"><max id="A3.Ex1X.2.1.1.m1.3.3.cmml" xref="A3.Ex1X.2.1.1.m1.3.3"></max><cn id="A3.Ex1X.2.1.1.m1.4.4.cmml" type="integer" xref="A3.Ex1X.2.1.1.m1.4.4">0</cn><apply id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1"><plus id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.3"></plus><apply id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2"><minus id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.3"></minus><apply id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1"><times id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3">𝑠</ci><apply id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑑</ci><cn id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">2</cn></apply></apply><apply id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2"><times id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.2"></times><ci id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.3">𝑠</ci><apply id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1"><csymbol cd="ambiguous" id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.1.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1">subscript</csymbol><ci id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.2">𝑑</ci><cn id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.cmml" type="integer" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3">1</cn></apply></apply></apply><ci id="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.4.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.1.1.1.1.1.1.1.4">𝛾</ci></apply></apply></apply></apply><apply id="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2"><eq id="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.1.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.1"></eq><ci id="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.2.cmml" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.2">𝛾</ci><cn id="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.3.cmml" type="integer" xref="A3.Ex1X.2.1.1.m1.5.5.1.1.2.2.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.Ex1X.2.1.1.m1.5c">\displaystyle\mathcal{L}=\!\!\!\!\!\!\!\!\!\!\!\!\!\!\sum_{d_{1},d_{2}\in%
\mathcal{D},R(d_{1})&gt;R(d_{2})}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\max(0,s(d_{2})-s(d_%
{1})+\gamma),\;\;\gamma=1,</annotation><annotation encoding="application/x-llamapun" id="A3.Ex1X.2.1.1.m1.5d">caligraphic_L = ∑ start_POSTSUBSCRIPT italic_d start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_d start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ∈ caligraphic_D , italic_R ( italic_d start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) &gt; italic_R ( italic_d start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT roman_max ( 0 , italic_s ( italic_d start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) - italic_s ( italic_d start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) + italic_γ ) , italic_γ = 1 ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A3.p1.3">where <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="A3.p1.1.m1.1"><semantics id="A3.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="A3.p1.1.m1.1.1" xref="A3.p1.1.m1.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="A3.p1.1.m1.1b"><ci id="A3.p1.1.m1.1.1.cmml" xref="A3.p1.1.m1.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.1.m1.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="A3.p1.1.m1.1d">caligraphic_D</annotation></semantics></math> denotes the candidate documents, <math alttext="R(d)" class="ltx_Math" display="inline" id="A3.p1.2.m2.1"><semantics id="A3.p1.2.m2.1a"><mrow id="A3.p1.2.m2.1.2" xref="A3.p1.2.m2.1.2.cmml"><mi id="A3.p1.2.m2.1.2.2" xref="A3.p1.2.m2.1.2.2.cmml">R</mi><mo id="A3.p1.2.m2.1.2.1" xref="A3.p1.2.m2.1.2.1.cmml">⁢</mo><mrow id="A3.p1.2.m2.1.2.3.2" xref="A3.p1.2.m2.1.2.cmml"><mo id="A3.p1.2.m2.1.2.3.2.1" stretchy="false" xref="A3.p1.2.m2.1.2.cmml">(</mo><mi id="A3.p1.2.m2.1.1" xref="A3.p1.2.m2.1.1.cmml">d</mi><mo id="A3.p1.2.m2.1.2.3.2.2" stretchy="false" xref="A3.p1.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.p1.2.m2.1b"><apply id="A3.p1.2.m2.1.2.cmml" xref="A3.p1.2.m2.1.2"><times id="A3.p1.2.m2.1.2.1.cmml" xref="A3.p1.2.m2.1.2.1"></times><ci id="A3.p1.2.m2.1.2.2.cmml" xref="A3.p1.2.m2.1.2.2">𝑅</ci><ci id="A3.p1.2.m2.1.1.cmml" xref="A3.p1.2.m2.1.1">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.2.m2.1c">R(d)</annotation><annotation encoding="application/x-llamapun" id="A3.p1.2.m2.1d">italic_R ( italic_d )</annotation></semantics></math> represents the relevance label of the document and <math alttext="s(d)" class="ltx_Math" display="inline" id="A3.p1.3.m3.1"><semantics id="A3.p1.3.m3.1a"><mrow id="A3.p1.3.m3.1.2" xref="A3.p1.3.m3.1.2.cmml"><mi id="A3.p1.3.m3.1.2.2" xref="A3.p1.3.m3.1.2.2.cmml">s</mi><mo id="A3.p1.3.m3.1.2.1" xref="A3.p1.3.m3.1.2.1.cmml">⁢</mo><mrow id="A3.p1.3.m3.1.2.3.2" xref="A3.p1.3.m3.1.2.cmml"><mo id="A3.p1.3.m3.1.2.3.2.1" stretchy="false" xref="A3.p1.3.m3.1.2.cmml">(</mo><mi id="A3.p1.3.m3.1.1" xref="A3.p1.3.m3.1.1.cmml">d</mi><mo id="A3.p1.3.m3.1.2.3.2.2" stretchy="false" xref="A3.p1.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.p1.3.m3.1b"><apply id="A3.p1.3.m3.1.2.cmml" xref="A3.p1.3.m3.1.2"><times id="A3.p1.3.m3.1.2.1.cmml" xref="A3.p1.3.m3.1.2.1"></times><ci id="A3.p1.3.m3.1.2.2.cmml" xref="A3.p1.3.m3.1.2.2">𝑠</ci><ci id="A3.p1.3.m3.1.1.cmml" xref="A3.p1.3.m3.1.1">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.3.m3.1c">s(d)</annotation><annotation encoding="application/x-llamapun" id="A3.p1.3.m3.1d">italic_s ( italic_d )</annotation></semantics></math> is the predicted score of the document.</p>
</div>
<div class="ltx_para" id="A3.p2">
<p class="ltx_p" id="A3.p2.1">Specifically, we select some widely-used metrics, MAP and NDCG@k(k=1,3,5,10) to assess the ability to predict the document relevance of models. Furthermore, our model not only focuses on document relevance but also the comprehensiveness of the provided ranking lists. Thus, we propose a novel ranking metric, Normalized Comprehensiveness (NCOM), to assess the comprehensiveness of ranking lists, following the way to build the silver ranking targets (introduced in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.SS4.SSS1" title="3.4.1 Supervised Fine-tuning ‣ 3.4 Generative List-wise Ranker ‣ 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3.4.1</span></a>). This metric considers both the document relevance and the coverage of ranking lists on sub-aspects, hence reliably evaluating the comprehensiveness of ranking lists. Its calculation is presented below:</p>
</div>
<div class="ltx_para" id="A3.p3">
<p class="ltx_p" id="A3.p3.5">Given a question <math alttext="q" class="ltx_Math" display="inline" id="A3.p3.1.m1.1"><semantics id="A3.p3.1.m1.1a"><mi id="A3.p3.1.m1.1.1" xref="A3.p3.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="A3.p3.1.m1.1b"><ci id="A3.p3.1.m1.1.1.cmml" xref="A3.p3.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p3.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="A3.p3.1.m1.1d">italic_q</annotation></semantics></math>, its sub-answers <math alttext="\{a_{1},...a_{n}\}" class="ltx_Math" display="inline" id="A3.p3.2.m2.2"><semantics id="A3.p3.2.m2.2a"><mrow id="A3.p3.2.m2.2.2.2" xref="A3.p3.2.m2.2.2.3.cmml"><mo id="A3.p3.2.m2.2.2.2.3" stretchy="false" xref="A3.p3.2.m2.2.2.3.cmml">{</mo><msub id="A3.p3.2.m2.1.1.1.1" xref="A3.p3.2.m2.1.1.1.1.cmml"><mi id="A3.p3.2.m2.1.1.1.1.2" xref="A3.p3.2.m2.1.1.1.1.2.cmml">a</mi><mn id="A3.p3.2.m2.1.1.1.1.3" xref="A3.p3.2.m2.1.1.1.1.3.cmml">1</mn></msub><mo id="A3.p3.2.m2.2.2.2.4" xref="A3.p3.2.m2.2.2.3.cmml">,</mo><mrow id="A3.p3.2.m2.2.2.2.2" xref="A3.p3.2.m2.2.2.2.2.cmml"><mi id="A3.p3.2.m2.2.2.2.2.2" mathvariant="normal" xref="A3.p3.2.m2.2.2.2.2.2.cmml">…</mi><mo id="A3.p3.2.m2.2.2.2.2.1" xref="A3.p3.2.m2.2.2.2.2.1.cmml">⁢</mo><msub id="A3.p3.2.m2.2.2.2.2.3" xref="A3.p3.2.m2.2.2.2.2.3.cmml"><mi id="A3.p3.2.m2.2.2.2.2.3.2" xref="A3.p3.2.m2.2.2.2.2.3.2.cmml">a</mi><mi id="A3.p3.2.m2.2.2.2.2.3.3" xref="A3.p3.2.m2.2.2.2.2.3.3.cmml">n</mi></msub></mrow><mo id="A3.p3.2.m2.2.2.2.5" stretchy="false" xref="A3.p3.2.m2.2.2.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.p3.2.m2.2b"><set id="A3.p3.2.m2.2.2.3.cmml" xref="A3.p3.2.m2.2.2.2"><apply id="A3.p3.2.m2.1.1.1.1.cmml" xref="A3.p3.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="A3.p3.2.m2.1.1.1.1.1.cmml" xref="A3.p3.2.m2.1.1.1.1">subscript</csymbol><ci id="A3.p3.2.m2.1.1.1.1.2.cmml" xref="A3.p3.2.m2.1.1.1.1.2">𝑎</ci><cn id="A3.p3.2.m2.1.1.1.1.3.cmml" type="integer" xref="A3.p3.2.m2.1.1.1.1.3">1</cn></apply><apply id="A3.p3.2.m2.2.2.2.2.cmml" xref="A3.p3.2.m2.2.2.2.2"><times id="A3.p3.2.m2.2.2.2.2.1.cmml" xref="A3.p3.2.m2.2.2.2.2.1"></times><ci id="A3.p3.2.m2.2.2.2.2.2.cmml" xref="A3.p3.2.m2.2.2.2.2.2">…</ci><apply id="A3.p3.2.m2.2.2.2.2.3.cmml" xref="A3.p3.2.m2.2.2.2.2.3"><csymbol cd="ambiguous" id="A3.p3.2.m2.2.2.2.2.3.1.cmml" xref="A3.p3.2.m2.2.2.2.2.3">subscript</csymbol><ci id="A3.p3.2.m2.2.2.2.2.3.2.cmml" xref="A3.p3.2.m2.2.2.2.2.3.2">𝑎</ci><ci id="A3.p3.2.m2.2.2.2.2.3.3.cmml" xref="A3.p3.2.m2.2.2.2.2.3.3">𝑛</ci></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="A3.p3.2.m2.2c">\{a_{1},...a_{n}\}</annotation><annotation encoding="application/x-llamapun" id="A3.p3.2.m2.2d">{ italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … italic_a start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>, a pool of candidate document <math alttext="\mathcal{P}" class="ltx_Math" display="inline" id="A3.p3.3.m3.1"><semantics id="A3.p3.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="A3.p3.3.m3.1.1" xref="A3.p3.3.m3.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="A3.p3.3.m3.1b"><ci id="A3.p3.3.m3.1.1.cmml" xref="A3.p3.3.m3.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p3.3.m3.1c">\mathcal{P}</annotation><annotation encoding="application/x-llamapun" id="A3.p3.3.m3.1d">caligraphic_P</annotation></semantics></math>, a ranking list generated by a ranking model, <math alttext="L=[d^{1},...,d^{K}]" class="ltx_Math" display="inline" id="A3.p3.4.m4.3"><semantics id="A3.p3.4.m4.3a"><mrow id="A3.p3.4.m4.3.3" xref="A3.p3.4.m4.3.3.cmml"><mi id="A3.p3.4.m4.3.3.4" xref="A3.p3.4.m4.3.3.4.cmml">L</mi><mo id="A3.p3.4.m4.3.3.3" xref="A3.p3.4.m4.3.3.3.cmml">=</mo><mrow id="A3.p3.4.m4.3.3.2.2" xref="A3.p3.4.m4.3.3.2.3.cmml"><mo id="A3.p3.4.m4.3.3.2.2.3" stretchy="false" xref="A3.p3.4.m4.3.3.2.3.cmml">[</mo><msup id="A3.p3.4.m4.2.2.1.1.1" xref="A3.p3.4.m4.2.2.1.1.1.cmml"><mi id="A3.p3.4.m4.2.2.1.1.1.2" xref="A3.p3.4.m4.2.2.1.1.1.2.cmml">d</mi><mn id="A3.p3.4.m4.2.2.1.1.1.3" xref="A3.p3.4.m4.2.2.1.1.1.3.cmml">1</mn></msup><mo id="A3.p3.4.m4.3.3.2.2.4" xref="A3.p3.4.m4.3.3.2.3.cmml">,</mo><mi id="A3.p3.4.m4.1.1" mathvariant="normal" xref="A3.p3.4.m4.1.1.cmml">…</mi><mo id="A3.p3.4.m4.3.3.2.2.5" xref="A3.p3.4.m4.3.3.2.3.cmml">,</mo><msup id="A3.p3.4.m4.3.3.2.2.2" xref="A3.p3.4.m4.3.3.2.2.2.cmml"><mi id="A3.p3.4.m4.3.3.2.2.2.2" xref="A3.p3.4.m4.3.3.2.2.2.2.cmml">d</mi><mi id="A3.p3.4.m4.3.3.2.2.2.3" xref="A3.p3.4.m4.3.3.2.2.2.3.cmml">K</mi></msup><mo id="A3.p3.4.m4.3.3.2.2.6" stretchy="false" xref="A3.p3.4.m4.3.3.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.p3.4.m4.3b"><apply id="A3.p3.4.m4.3.3.cmml" xref="A3.p3.4.m4.3.3"><eq id="A3.p3.4.m4.3.3.3.cmml" xref="A3.p3.4.m4.3.3.3"></eq><ci id="A3.p3.4.m4.3.3.4.cmml" xref="A3.p3.4.m4.3.3.4">𝐿</ci><list id="A3.p3.4.m4.3.3.2.3.cmml" xref="A3.p3.4.m4.3.3.2.2"><apply id="A3.p3.4.m4.2.2.1.1.1.cmml" xref="A3.p3.4.m4.2.2.1.1.1"><csymbol cd="ambiguous" id="A3.p3.4.m4.2.2.1.1.1.1.cmml" xref="A3.p3.4.m4.2.2.1.1.1">superscript</csymbol><ci id="A3.p3.4.m4.2.2.1.1.1.2.cmml" xref="A3.p3.4.m4.2.2.1.1.1.2">𝑑</ci><cn id="A3.p3.4.m4.2.2.1.1.1.3.cmml" type="integer" xref="A3.p3.4.m4.2.2.1.1.1.3">1</cn></apply><ci id="A3.p3.4.m4.1.1.cmml" xref="A3.p3.4.m4.1.1">…</ci><apply id="A3.p3.4.m4.3.3.2.2.2.cmml" xref="A3.p3.4.m4.3.3.2.2.2"><csymbol cd="ambiguous" id="A3.p3.4.m4.3.3.2.2.2.1.cmml" xref="A3.p3.4.m4.3.3.2.2.2">superscript</csymbol><ci id="A3.p3.4.m4.3.3.2.2.2.2.cmml" xref="A3.p3.4.m4.3.3.2.2.2.2">𝑑</ci><ci id="A3.p3.4.m4.3.3.2.2.2.3.cmml" xref="A3.p3.4.m4.3.3.2.2.2.3">𝐾</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p3.4.m4.3c">L=[d^{1},...,d^{K}]</annotation><annotation encoding="application/x-llamapun" id="A3.p3.4.m4.3d">italic_L = [ italic_d start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , … , italic_d start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT ]</annotation></semantics></math>, and a silver ranking list, <math alttext="L^{*}" class="ltx_Math" display="inline" id="A3.p3.5.m5.1"><semantics id="A3.p3.5.m5.1a"><msup id="A3.p3.5.m5.1.1" xref="A3.p3.5.m5.1.1.cmml"><mi id="A3.p3.5.m5.1.1.2" xref="A3.p3.5.m5.1.1.2.cmml">L</mi><mo id="A3.p3.5.m5.1.1.3" xref="A3.p3.5.m5.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="A3.p3.5.m5.1b"><apply id="A3.p3.5.m5.1.1.cmml" xref="A3.p3.5.m5.1.1"><csymbol cd="ambiguous" id="A3.p3.5.m5.1.1.1.cmml" xref="A3.p3.5.m5.1.1">superscript</csymbol><ci id="A3.p3.5.m5.1.1.2.cmml" xref="A3.p3.5.m5.1.1.2">𝐿</ci><times id="A3.p3.5.m5.1.1.3.cmml" xref="A3.p3.5.m5.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p3.5.m5.1c">L^{*}</annotation><annotation encoding="application/x-llamapun" id="A3.p3.5.m5.1d">italic_L start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math>, generated by Eq. 8 in our paper, we calculate the generated and silver ranking lists’ comprehensiveness scores as follow:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="A3.E13">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="A3.E13X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle COM(L)" class="ltx_Math" display="inline" id="A3.E13X.2.1.1.m1.1"><semantics id="A3.E13X.2.1.1.m1.1a"><mrow id="A3.E13X.2.1.1.m1.1.2" xref="A3.E13X.2.1.1.m1.1.2.cmml"><mi id="A3.E13X.2.1.1.m1.1.2.2" xref="A3.E13X.2.1.1.m1.1.2.2.cmml">C</mi><mo id="A3.E13X.2.1.1.m1.1.2.1" xref="A3.E13X.2.1.1.m1.1.2.1.cmml">⁢</mo><mi id="A3.E13X.2.1.1.m1.1.2.3" xref="A3.E13X.2.1.1.m1.1.2.3.cmml">O</mi><mo id="A3.E13X.2.1.1.m1.1.2.1a" xref="A3.E13X.2.1.1.m1.1.2.1.cmml">⁢</mo><mi id="A3.E13X.2.1.1.m1.1.2.4" xref="A3.E13X.2.1.1.m1.1.2.4.cmml">M</mi><mo id="A3.E13X.2.1.1.m1.1.2.1b" xref="A3.E13X.2.1.1.m1.1.2.1.cmml">⁢</mo><mrow id="A3.E13X.2.1.1.m1.1.2.5.2" xref="A3.E13X.2.1.1.m1.1.2.cmml"><mo id="A3.E13X.2.1.1.m1.1.2.5.2.1" stretchy="false" xref="A3.E13X.2.1.1.m1.1.2.cmml">(</mo><mi id="A3.E13X.2.1.1.m1.1.1" xref="A3.E13X.2.1.1.m1.1.1.cmml">L</mi><mo id="A3.E13X.2.1.1.m1.1.2.5.2.2" stretchy="false" xref="A3.E13X.2.1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.E13X.2.1.1.m1.1b"><apply id="A3.E13X.2.1.1.m1.1.2.cmml" xref="A3.E13X.2.1.1.m1.1.2"><times id="A3.E13X.2.1.1.m1.1.2.1.cmml" xref="A3.E13X.2.1.1.m1.1.2.1"></times><ci id="A3.E13X.2.1.1.m1.1.2.2.cmml" xref="A3.E13X.2.1.1.m1.1.2.2">𝐶</ci><ci id="A3.E13X.2.1.1.m1.1.2.3.cmml" xref="A3.E13X.2.1.1.m1.1.2.3">𝑂</ci><ci id="A3.E13X.2.1.1.m1.1.2.4.cmml" xref="A3.E13X.2.1.1.m1.1.2.4">𝑀</ci><ci id="A3.E13X.2.1.1.m1.1.1.cmml" xref="A3.E13X.2.1.1.m1.1.1">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.E13X.2.1.1.m1.1c">\displaystyle COM(L)</annotation><annotation encoding="application/x-llamapun" id="A3.E13X.2.1.1.m1.1d">italic_C italic_O italic_M ( italic_L )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sum_{t=1}^{K}\sum_{i=1}^{n}w^{t}_{i}\cdot\phi(d^{t},a_{i})," class="ltx_Math" display="inline" id="A3.E13X.3.2.2.m1.1"><semantics id="A3.E13X.3.2.2.m1.1a"><mrow id="A3.E13X.3.2.2.m1.1.1.1" xref="A3.E13X.3.2.2.m1.1.1.1.1.cmml"><mrow id="A3.E13X.3.2.2.m1.1.1.1.1" xref="A3.E13X.3.2.2.m1.1.1.1.1.cmml"><mi id="A3.E13X.3.2.2.m1.1.1.1.1.4" xref="A3.E13X.3.2.2.m1.1.1.1.1.4.cmml"></mi><mo id="A3.E13X.3.2.2.m1.1.1.1.1.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.3.cmml">=</mo><mrow id="A3.E13X.3.2.2.m1.1.1.1.1.2" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.cmml"><mstyle displaystyle="true" id="A3.E13X.3.2.2.m1.1.1.1.1.2.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.cmml"><munderover id="A3.E13X.3.2.2.m1.1.1.1.1.2.3a" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.cmml"><mo id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.2" movablelimits="false" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.2.cmml">∑</mo><mrow id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.cmml"><mi id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.2" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.2.cmml">t</mi><mo id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.1" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.1.cmml">=</mo><mn id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.3.cmml">1</mn></mrow><mi id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.3.cmml">K</mi></munderover></mstyle><mrow id="A3.E13X.3.2.2.m1.1.1.1.1.2.2" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.cmml"><mstyle displaystyle="true" id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.cmml"><munderover id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3a" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.cmml"><mo id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.2" movablelimits="false" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.2.cmml">∑</mo><mrow id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.cmml"><mi id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.2" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.2.cmml">i</mi><mo id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.1" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.1.cmml">=</mo><mn id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.3.cmml">1</mn></mrow><mi id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.3.cmml">n</mi></munderover></mstyle><mrow id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.cmml"><mrow id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.cmml"><msubsup id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.cmml"><mi id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.2.2" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.2.2.cmml">w</mi><mi id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.3.cmml">i</mi><mi id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.2.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.2.3.cmml">t</mi></msubsup><mo id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.1" lspace="0.222em" rspace="0.222em" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.1.cmml">⋅</mo><mi id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.3.cmml">ϕ</mi></mrow><mo id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.3.cmml">⁢</mo><mrow id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.3.cmml"><mo id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.3" stretchy="false" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.3.cmml">(</mo><msup id="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1" xref="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.2" xref="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">d</mi><mi id="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msup><mo id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.4" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.3.cmml">,</mo><msub id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2.cmml"><mi id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2.2" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2.2.cmml">a</mi><mi id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2.3" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.5" stretchy="false" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="A3.E13X.3.2.2.m1.1.1.1.2" xref="A3.E13X.3.2.2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.E13X.3.2.2.m1.1b"><apply id="A3.E13X.3.2.2.m1.1.1.1.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1"><eq id="A3.E13X.3.2.2.m1.1.1.1.1.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.3"></eq><csymbol cd="latexml" id="A3.E13X.3.2.2.m1.1.1.1.1.4.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.4">absent</csymbol><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2"><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3">superscript</csymbol><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3">subscript</csymbol><sum id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.2"></sum><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3"><eq id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.1"></eq><ci id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.2">𝑡</ci><cn id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.3.cmml" type="integer" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.2.3.3">1</cn></apply></apply><ci id="A3.E13X.3.2.2.m1.1.1.1.1.2.3.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.3.3">𝐾</ci></apply><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2"><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3">superscript</csymbol><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3">subscript</csymbol><sum id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.2"></sum><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3"><eq id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.1"></eq><ci id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.2">𝑖</ci><cn id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.3.cmml" type="integer" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.2.3.3">1</cn></apply></apply><ci id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.3.3">𝑛</ci></apply><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2"><times id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.3"></times><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4"><ci id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.1">⋅</ci><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2"><csymbol cd="ambiguous" id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2">subscript</csymbol><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2"><csymbol cd="ambiguous" id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.2.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2">superscript</csymbol><ci id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.2.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.2.2">𝑤</ci><ci id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.2.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.2.3">𝑡</ci></apply><ci id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.2.3">𝑖</ci></apply><ci id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.4.3">italic-ϕ</ci></apply><interval closure="open" id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2"><apply id="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.2">𝑑</ci><ci id="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2.1.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2">subscript</csymbol><ci id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2.2.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2.2">𝑎</ci><ci id="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2.3.cmml" xref="A3.E13X.3.2.2.m1.1.1.1.1.2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.E13X.3.2.2.m1.1c">\displaystyle=\sum_{t=1}^{K}\sum_{i=1}^{n}w^{t}_{i}\cdot\phi(d^{t},a_{i}),</annotation><annotation encoding="application/x-llamapun" id="A3.E13X.3.2.2.m1.1d">= ∑ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT italic_w start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ⋅ italic_ϕ ( italic_d start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(13)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="A3.E13Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle w^{t}_{i}" class="ltx_Math" display="inline" id="A3.E13Xa.2.1.1.m1.1"><semantics id="A3.E13Xa.2.1.1.m1.1a"><msubsup id="A3.E13Xa.2.1.1.m1.1.1" xref="A3.E13Xa.2.1.1.m1.1.1.cmml"><mi id="A3.E13Xa.2.1.1.m1.1.1.2.2" xref="A3.E13Xa.2.1.1.m1.1.1.2.2.cmml">w</mi><mi id="A3.E13Xa.2.1.1.m1.1.1.3" xref="A3.E13Xa.2.1.1.m1.1.1.3.cmml">i</mi><mi id="A3.E13Xa.2.1.1.m1.1.1.2.3" xref="A3.E13Xa.2.1.1.m1.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="A3.E13Xa.2.1.1.m1.1b"><apply id="A3.E13Xa.2.1.1.m1.1.1.cmml" xref="A3.E13Xa.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="A3.E13Xa.2.1.1.m1.1.1.1.cmml" xref="A3.E13Xa.2.1.1.m1.1.1">subscript</csymbol><apply id="A3.E13Xa.2.1.1.m1.1.1.2.cmml" xref="A3.E13Xa.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="A3.E13Xa.2.1.1.m1.1.1.2.1.cmml" xref="A3.E13Xa.2.1.1.m1.1.1">superscript</csymbol><ci id="A3.E13Xa.2.1.1.m1.1.1.2.2.cmml" xref="A3.E13Xa.2.1.1.m1.1.1.2.2">𝑤</ci><ci id="A3.E13Xa.2.1.1.m1.1.1.2.3.cmml" xref="A3.E13Xa.2.1.1.m1.1.1.2.3">𝑡</ci></apply><ci id="A3.E13Xa.2.1.1.m1.1.1.3.cmml" xref="A3.E13Xa.2.1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.E13Xa.2.1.1.m1.1c">\displaystyle w^{t}_{i}</annotation><annotation encoding="application/x-llamapun" id="A3.E13Xa.2.1.1.m1.1d">italic_w start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=1-\mathrm{Norm}_{i}(\max_{d\in L[:t]}\phi(d,a_{i}))" class="ltx_Math" display="inline" id="A3.E13Xa.3.2.2.m1.4"><semantics id="A3.E13Xa.3.2.2.m1.4a"><mrow id="A3.E13Xa.3.2.2.m1.4.4" xref="A3.E13Xa.3.2.2.m1.4.4.cmml"><mi id="A3.E13Xa.3.2.2.m1.4.4.3" xref="A3.E13Xa.3.2.2.m1.4.4.3.cmml"></mi><mo id="A3.E13Xa.3.2.2.m1.4.4.2" xref="A3.E13Xa.3.2.2.m1.4.4.2.cmml">=</mo><mrow id="A3.E13Xa.3.2.2.m1.4.4.1" xref="A3.E13Xa.3.2.2.m1.4.4.1.cmml"><mn id="A3.E13Xa.3.2.2.m1.4.4.1.3" xref="A3.E13Xa.3.2.2.m1.4.4.1.3.cmml">1</mn><mo id="A3.E13Xa.3.2.2.m1.4.4.1.2" xref="A3.E13Xa.3.2.2.m1.4.4.1.2.cmml">−</mo><mrow id="A3.E13Xa.3.2.2.m1.4.4.1.1" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.cmml"><msub id="A3.E13Xa.3.2.2.m1.4.4.1.1.3" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.3.cmml"><mi id="A3.E13Xa.3.2.2.m1.4.4.1.1.3.2" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.3.2.cmml">Norm</mi><mi id="A3.E13Xa.3.2.2.m1.4.4.1.1.3.3" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.3.3.cmml">i</mi></msub><mo id="A3.E13Xa.3.2.2.m1.4.4.1.1.2" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.2.cmml">⁢</mo><mrow id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.cmml"><mo id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.2" stretchy="false" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.cmml">(</mo><mrow id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.cmml"><mrow id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.cmml"><munder id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.1" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.1.cmml"><mi id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.1.2" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.1.2.cmml">max</mi><mrow id="A3.E13Xa.3.2.2.m1.2.2.2.2" xref="A3.E13Xa.3.2.2.m1.2.2.2.3.cmml"><mrow id="A3.E13Xa.3.2.2.m1.1.1.1.1.1" xref="A3.E13Xa.3.2.2.m1.1.1.1.1.1.cmml"><mi id="A3.E13Xa.3.2.2.m1.1.1.1.1.1.2" xref="A3.E13Xa.3.2.2.m1.1.1.1.1.1.2.cmml">d</mi><mo id="A3.E13Xa.3.2.2.m1.1.1.1.1.1.1" xref="A3.E13Xa.3.2.2.m1.1.1.1.1.1.1.cmml">∈</mo><mi id="A3.E13Xa.3.2.2.m1.1.1.1.1.1.3" xref="A3.E13Xa.3.2.2.m1.1.1.1.1.1.3.cmml">L</mi></mrow><mo id="A3.E13Xa.3.2.2.m1.2.2.2.2.3" xref="A3.E13Xa.3.2.2.m1.2.2.2.3.cmml">⁣</mo><mrow id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.2.cmml"><mo id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.2" stretchy="false" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.2.1.cmml">[</mo><mrow id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.cmml"><mi id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.2" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.2.cmml"></mi><mo id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.1" lspace="0.278em" rspace="0.278em" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.1.cmml">:</mo><mi id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.3" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.3.cmml">t</mi></mrow><mo id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.3" stretchy="false" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.2.1.cmml">]</mo></mrow></mrow></munder><mo id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3a" lspace="0.167em" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.cmml">⁡</mo><mi id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.2" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.2.cmml">ϕ</mi></mrow><mo id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.2" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.2.cmml">⁢</mo><mrow id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml"><mo id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.2" stretchy="false" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml">(</mo><mi id="A3.E13Xa.3.2.2.m1.3.3" xref="A3.E13Xa.3.2.2.m1.3.3.cmml">d</mi><mo id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.3" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml">,</mo><msub id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.cmml"><mi id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.2" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.2.cmml">a</mi><mi id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.3" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.4" stretchy="false" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.3" stretchy="false" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.E13Xa.3.2.2.m1.4b"><apply id="A3.E13Xa.3.2.2.m1.4.4.cmml" xref="A3.E13Xa.3.2.2.m1.4.4"><eq id="A3.E13Xa.3.2.2.m1.4.4.2.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.2"></eq><csymbol cd="latexml" id="A3.E13Xa.3.2.2.m1.4.4.3.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.3">absent</csymbol><apply id="A3.E13Xa.3.2.2.m1.4.4.1.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1"><minus id="A3.E13Xa.3.2.2.m1.4.4.1.2.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.2"></minus><cn id="A3.E13Xa.3.2.2.m1.4.4.1.3.cmml" type="integer" xref="A3.E13Xa.3.2.2.m1.4.4.1.3">1</cn><apply id="A3.E13Xa.3.2.2.m1.4.4.1.1.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1"><times id="A3.E13Xa.3.2.2.m1.4.4.1.1.2.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.2"></times><apply id="A3.E13Xa.3.2.2.m1.4.4.1.1.3.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="A3.E13Xa.3.2.2.m1.4.4.1.1.3.1.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.3">subscript</csymbol><ci id="A3.E13Xa.3.2.2.m1.4.4.1.1.3.2.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.3.2">Norm</ci><ci id="A3.E13Xa.3.2.2.m1.4.4.1.1.3.3.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.3.3">𝑖</ci></apply><apply id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1"><times id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.2.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.2"></times><apply id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3"><apply id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.1.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.1.1.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.1">subscript</csymbol><max id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.1.2.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.1.2"></max><list id="A3.E13Xa.3.2.2.m1.2.2.2.3.cmml" xref="A3.E13Xa.3.2.2.m1.2.2.2.2"><apply id="A3.E13Xa.3.2.2.m1.1.1.1.1.1.cmml" xref="A3.E13Xa.3.2.2.m1.1.1.1.1.1"><in id="A3.E13Xa.3.2.2.m1.1.1.1.1.1.1.cmml" xref="A3.E13Xa.3.2.2.m1.1.1.1.1.1.1"></in><ci id="A3.E13Xa.3.2.2.m1.1.1.1.1.1.2.cmml" xref="A3.E13Xa.3.2.2.m1.1.1.1.1.1.2">𝑑</ci><ci id="A3.E13Xa.3.2.2.m1.1.1.1.1.1.3.cmml" xref="A3.E13Xa.3.2.2.m1.1.1.1.1.1.3">𝐿</ci></apply><apply id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.2.cmml" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1"><csymbol cd="latexml" id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.2.1.cmml" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.2">delimited-[]</csymbol><apply id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.cmml" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1"><ci id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.1.cmml" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.1">:</ci><csymbol cd="latexml" id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.2.cmml" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.2">absent</csymbol><ci id="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.3.cmml" xref="A3.E13Xa.3.2.2.m1.2.2.2.2.2.1.1.3">𝑡</ci></apply></apply></list></apply><ci id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.2.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.3.2">italic-ϕ</ci></apply><interval closure="open" id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1"><ci id="A3.E13Xa.3.2.2.m1.3.3.cmml" xref="A3.E13Xa.3.2.2.m1.3.3">𝑑</ci><apply id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.2.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.2">𝑎</ci><ci id="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.3.cmml" xref="A3.E13Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.E13Xa.3.2.2.m1.4c">\displaystyle=1-\mathrm{Norm}_{i}(\max_{d\in L[:t]}\phi(d,a_{i}))</annotation><annotation encoding="application/x-llamapun" id="A3.E13Xa.3.2.2.m1.4d">= 1 - roman_Norm start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ( roman_max start_POSTSUBSCRIPT italic_d ∈ italic_L [ : italic_t ] end_POSTSUBSCRIPT italic_ϕ ( italic_d , italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="A3.p3.9">where <math alttext="w^{t}_{i}" class="ltx_Math" display="inline" id="A3.p3.6.m1.1"><semantics id="A3.p3.6.m1.1a"><msubsup id="A3.p3.6.m1.1.1" xref="A3.p3.6.m1.1.1.cmml"><mi id="A3.p3.6.m1.1.1.2.2" xref="A3.p3.6.m1.1.1.2.2.cmml">w</mi><mi id="A3.p3.6.m1.1.1.3" xref="A3.p3.6.m1.1.1.3.cmml">i</mi><mi id="A3.p3.6.m1.1.1.2.3" xref="A3.p3.6.m1.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="A3.p3.6.m1.1b"><apply id="A3.p3.6.m1.1.1.cmml" xref="A3.p3.6.m1.1.1"><csymbol cd="ambiguous" id="A3.p3.6.m1.1.1.1.cmml" xref="A3.p3.6.m1.1.1">subscript</csymbol><apply id="A3.p3.6.m1.1.1.2.cmml" xref="A3.p3.6.m1.1.1"><csymbol cd="ambiguous" id="A3.p3.6.m1.1.1.2.1.cmml" xref="A3.p3.6.m1.1.1">superscript</csymbol><ci id="A3.p3.6.m1.1.1.2.2.cmml" xref="A3.p3.6.m1.1.1.2.2">𝑤</ci><ci id="A3.p3.6.m1.1.1.2.3.cmml" xref="A3.p3.6.m1.1.1.2.3">𝑡</ci></apply><ci id="A3.p3.6.m1.1.1.3.cmml" xref="A3.p3.6.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p3.6.m1.1c">w^{t}_{i}</annotation><annotation encoding="application/x-llamapun" id="A3.p3.6.m1.1d">italic_w start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> denotes the importance of <math alttext="i" class="ltx_Math" display="inline" id="A3.p3.7.m2.1"><semantics id="A3.p3.7.m2.1a"><mi id="A3.p3.7.m2.1.1" xref="A3.p3.7.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="A3.p3.7.m2.1b"><ci id="A3.p3.7.m2.1.1.cmml" xref="A3.p3.7.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p3.7.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="A3.p3.7.m2.1d">italic_i</annotation></semantics></math>-th sub-aspects at the <math alttext="t" class="ltx_Math" display="inline" id="A3.p3.8.m3.1"><semantics id="A3.p3.8.m3.1a"><mi id="A3.p3.8.m3.1.1" xref="A3.p3.8.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A3.p3.8.m3.1b"><ci id="A3.p3.8.m3.1.1.cmml" xref="A3.p3.8.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p3.8.m3.1c">t</annotation><annotation encoding="application/x-llamapun" id="A3.p3.8.m3.1d">italic_t</annotation></semantics></math>-th step (which is the same as the Equation <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#S3.E9" title="In 3.4.1 Supervised Fine-tuning ‣ 3.4 Generative List-wise Ranker ‣ 3 Method ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">9</span></a> in our paper.), and <math alttext="\phi(\cdot,\cdot)" class="ltx_Math" display="inline" id="A3.p3.9.m4.2"><semantics id="A3.p3.9.m4.2a"><mrow id="A3.p3.9.m4.2.3" xref="A3.p3.9.m4.2.3.cmml"><mi id="A3.p3.9.m4.2.3.2" xref="A3.p3.9.m4.2.3.2.cmml">ϕ</mi><mo id="A3.p3.9.m4.2.3.1" xref="A3.p3.9.m4.2.3.1.cmml">⁢</mo><mrow id="A3.p3.9.m4.2.3.3.2" xref="A3.p3.9.m4.2.3.3.1.cmml"><mo id="A3.p3.9.m4.2.3.3.2.1" stretchy="false" xref="A3.p3.9.m4.2.3.3.1.cmml">(</mo><mo id="A3.p3.9.m4.1.1" lspace="0em" rspace="0em" xref="A3.p3.9.m4.1.1.cmml">⋅</mo><mo id="A3.p3.9.m4.2.3.3.2.2" rspace="0em" xref="A3.p3.9.m4.2.3.3.1.cmml">,</mo><mo id="A3.p3.9.m4.2.2" lspace="0em" rspace="0em" xref="A3.p3.9.m4.2.2.cmml">⋅</mo><mo id="A3.p3.9.m4.2.3.3.2.3" stretchy="false" xref="A3.p3.9.m4.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.p3.9.m4.2b"><apply id="A3.p3.9.m4.2.3.cmml" xref="A3.p3.9.m4.2.3"><times id="A3.p3.9.m4.2.3.1.cmml" xref="A3.p3.9.m4.2.3.1"></times><ci id="A3.p3.9.m4.2.3.2.cmml" xref="A3.p3.9.m4.2.3.2">italic-ϕ</ci><interval closure="open" id="A3.p3.9.m4.2.3.3.1.cmml" xref="A3.p3.9.m4.2.3.3.2"><ci id="A3.p3.9.m4.1.1.cmml" xref="A3.p3.9.m4.1.1">⋅</ci><ci id="A3.p3.9.m4.2.2.cmml" xref="A3.p3.9.m4.2.2">⋅</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p3.9.m4.2c">\phi(\cdot,\cdot)</annotation><annotation encoding="application/x-llamapun" id="A3.p3.9.m4.2d">italic_ϕ ( ⋅ , ⋅ )</annotation></semantics></math> calculates the similarity between two sentences, <span class="ltx_text ltx_font_italic" id="A3.p3.9.1">i.e.</span>, average of Rouge-2, and Rouge-L scores.</p>
</div>
<div class="ltx_para" id="A3.p4">
<p class="ltx_p" id="A3.p4.2">The final normalized comprehensiveness score is computed by normalizing <math alttext="COM(L)" class="ltx_Math" display="inline" id="A3.p4.1.m1.1"><semantics id="A3.p4.1.m1.1a"><mrow id="A3.p4.1.m1.1.2" xref="A3.p4.1.m1.1.2.cmml"><mi id="A3.p4.1.m1.1.2.2" xref="A3.p4.1.m1.1.2.2.cmml">C</mi><mo id="A3.p4.1.m1.1.2.1" xref="A3.p4.1.m1.1.2.1.cmml">⁢</mo><mi id="A3.p4.1.m1.1.2.3" xref="A3.p4.1.m1.1.2.3.cmml">O</mi><mo id="A3.p4.1.m1.1.2.1a" xref="A3.p4.1.m1.1.2.1.cmml">⁢</mo><mi id="A3.p4.1.m1.1.2.4" xref="A3.p4.1.m1.1.2.4.cmml">M</mi><mo id="A3.p4.1.m1.1.2.1b" xref="A3.p4.1.m1.1.2.1.cmml">⁢</mo><mrow id="A3.p4.1.m1.1.2.5.2" xref="A3.p4.1.m1.1.2.cmml"><mo id="A3.p4.1.m1.1.2.5.2.1" stretchy="false" xref="A3.p4.1.m1.1.2.cmml">(</mo><mi id="A3.p4.1.m1.1.1" xref="A3.p4.1.m1.1.1.cmml">L</mi><mo id="A3.p4.1.m1.1.2.5.2.2" stretchy="false" xref="A3.p4.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.p4.1.m1.1b"><apply id="A3.p4.1.m1.1.2.cmml" xref="A3.p4.1.m1.1.2"><times id="A3.p4.1.m1.1.2.1.cmml" xref="A3.p4.1.m1.1.2.1"></times><ci id="A3.p4.1.m1.1.2.2.cmml" xref="A3.p4.1.m1.1.2.2">𝐶</ci><ci id="A3.p4.1.m1.1.2.3.cmml" xref="A3.p4.1.m1.1.2.3">𝑂</ci><ci id="A3.p4.1.m1.1.2.4.cmml" xref="A3.p4.1.m1.1.2.4">𝑀</ci><ci id="A3.p4.1.m1.1.1.cmml" xref="A3.p4.1.m1.1.1">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p4.1.m1.1c">COM(L)</annotation><annotation encoding="application/x-llamapun" id="A3.p4.1.m1.1d">italic_C italic_O italic_M ( italic_L )</annotation></semantics></math> by <math alttext="COM(L^{*})" class="ltx_Math" display="inline" id="A3.p4.2.m2.1"><semantics id="A3.p4.2.m2.1a"><mrow id="A3.p4.2.m2.1.1" xref="A3.p4.2.m2.1.1.cmml"><mi id="A3.p4.2.m2.1.1.3" xref="A3.p4.2.m2.1.1.3.cmml">C</mi><mo id="A3.p4.2.m2.1.1.2" xref="A3.p4.2.m2.1.1.2.cmml">⁢</mo><mi id="A3.p4.2.m2.1.1.4" xref="A3.p4.2.m2.1.1.4.cmml">O</mi><mo id="A3.p4.2.m2.1.1.2a" xref="A3.p4.2.m2.1.1.2.cmml">⁢</mo><mi id="A3.p4.2.m2.1.1.5" xref="A3.p4.2.m2.1.1.5.cmml">M</mi><mo id="A3.p4.2.m2.1.1.2b" xref="A3.p4.2.m2.1.1.2.cmml">⁢</mo><mrow id="A3.p4.2.m2.1.1.1.1" xref="A3.p4.2.m2.1.1.1.1.1.cmml"><mo id="A3.p4.2.m2.1.1.1.1.2" stretchy="false" xref="A3.p4.2.m2.1.1.1.1.1.cmml">(</mo><msup id="A3.p4.2.m2.1.1.1.1.1" xref="A3.p4.2.m2.1.1.1.1.1.cmml"><mi id="A3.p4.2.m2.1.1.1.1.1.2" xref="A3.p4.2.m2.1.1.1.1.1.2.cmml">L</mi><mo id="A3.p4.2.m2.1.1.1.1.1.3" xref="A3.p4.2.m2.1.1.1.1.1.3.cmml">∗</mo></msup><mo id="A3.p4.2.m2.1.1.1.1.3" stretchy="false" xref="A3.p4.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.p4.2.m2.1b"><apply id="A3.p4.2.m2.1.1.cmml" xref="A3.p4.2.m2.1.1"><times id="A3.p4.2.m2.1.1.2.cmml" xref="A3.p4.2.m2.1.1.2"></times><ci id="A3.p4.2.m2.1.1.3.cmml" xref="A3.p4.2.m2.1.1.3">𝐶</ci><ci id="A3.p4.2.m2.1.1.4.cmml" xref="A3.p4.2.m2.1.1.4">𝑂</ci><ci id="A3.p4.2.m2.1.1.5.cmml" xref="A3.p4.2.m2.1.1.5">𝑀</ci><apply id="A3.p4.2.m2.1.1.1.1.1.cmml" xref="A3.p4.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="A3.p4.2.m2.1.1.1.1.1.1.cmml" xref="A3.p4.2.m2.1.1.1.1">superscript</csymbol><ci id="A3.p4.2.m2.1.1.1.1.1.2.cmml" xref="A3.p4.2.m2.1.1.1.1.1.2">𝐿</ci><times id="A3.p4.2.m2.1.1.1.1.1.3.cmml" xref="A3.p4.2.m2.1.1.1.1.1.3"></times></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p4.2.m2.1c">COM(L^{*})</annotation><annotation encoding="application/x-llamapun" id="A3.p4.2.m2.1d">italic_C italic_O italic_M ( italic_L start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT )</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="A3.Ex2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="NCOM=COM(L)/COM(L^{*})." class="ltx_Math" display="block" id="A3.Ex2.m1.2"><semantics id="A3.Ex2.m1.2a"><mrow id="A3.Ex2.m1.2.2.1" xref="A3.Ex2.m1.2.2.1.1.cmml"><mrow id="A3.Ex2.m1.2.2.1.1" xref="A3.Ex2.m1.2.2.1.1.cmml"><mrow id="A3.Ex2.m1.2.2.1.1.3" xref="A3.Ex2.m1.2.2.1.1.3.cmml"><mi id="A3.Ex2.m1.2.2.1.1.3.2" xref="A3.Ex2.m1.2.2.1.1.3.2.cmml">N</mi><mo id="A3.Ex2.m1.2.2.1.1.3.1" xref="A3.Ex2.m1.2.2.1.1.3.1.cmml">⁢</mo><mi id="A3.Ex2.m1.2.2.1.1.3.3" xref="A3.Ex2.m1.2.2.1.1.3.3.cmml">C</mi><mo id="A3.Ex2.m1.2.2.1.1.3.1a" xref="A3.Ex2.m1.2.2.1.1.3.1.cmml">⁢</mo><mi id="A3.Ex2.m1.2.2.1.1.3.4" xref="A3.Ex2.m1.2.2.1.1.3.4.cmml">O</mi><mo id="A3.Ex2.m1.2.2.1.1.3.1b" xref="A3.Ex2.m1.2.2.1.1.3.1.cmml">⁢</mo><mi id="A3.Ex2.m1.2.2.1.1.3.5" xref="A3.Ex2.m1.2.2.1.1.3.5.cmml">M</mi></mrow><mo id="A3.Ex2.m1.2.2.1.1.2" xref="A3.Ex2.m1.2.2.1.1.2.cmml">=</mo><mrow id="A3.Ex2.m1.2.2.1.1.1" xref="A3.Ex2.m1.2.2.1.1.1.cmml"><mrow id="A3.Ex2.m1.2.2.1.1.1.3" xref="A3.Ex2.m1.2.2.1.1.1.3.cmml"><mrow id="A3.Ex2.m1.2.2.1.1.1.3.2" xref="A3.Ex2.m1.2.2.1.1.1.3.2.cmml"><mi id="A3.Ex2.m1.2.2.1.1.1.3.2.2" xref="A3.Ex2.m1.2.2.1.1.1.3.2.2.cmml">C</mi><mo id="A3.Ex2.m1.2.2.1.1.1.3.2.1" xref="A3.Ex2.m1.2.2.1.1.1.3.2.1.cmml">⁢</mo><mi id="A3.Ex2.m1.2.2.1.1.1.3.2.3" xref="A3.Ex2.m1.2.2.1.1.1.3.2.3.cmml">O</mi><mo id="A3.Ex2.m1.2.2.1.1.1.3.2.1a" xref="A3.Ex2.m1.2.2.1.1.1.3.2.1.cmml">⁢</mo><mi id="A3.Ex2.m1.2.2.1.1.1.3.2.4" xref="A3.Ex2.m1.2.2.1.1.1.3.2.4.cmml">M</mi><mo id="A3.Ex2.m1.2.2.1.1.1.3.2.1b" xref="A3.Ex2.m1.2.2.1.1.1.3.2.1.cmml">⁢</mo><mrow id="A3.Ex2.m1.2.2.1.1.1.3.2.5.2" xref="A3.Ex2.m1.2.2.1.1.1.3.2.cmml"><mo id="A3.Ex2.m1.2.2.1.1.1.3.2.5.2.1" stretchy="false" xref="A3.Ex2.m1.2.2.1.1.1.3.2.cmml">(</mo><mi id="A3.Ex2.m1.1.1" xref="A3.Ex2.m1.1.1.cmml">L</mi><mo id="A3.Ex2.m1.2.2.1.1.1.3.2.5.2.2" stretchy="false" xref="A3.Ex2.m1.2.2.1.1.1.3.2.cmml">)</mo></mrow></mrow><mo id="A3.Ex2.m1.2.2.1.1.1.3.1" xref="A3.Ex2.m1.2.2.1.1.1.3.1.cmml">/</mo><mi id="A3.Ex2.m1.2.2.1.1.1.3.3" xref="A3.Ex2.m1.2.2.1.1.1.3.3.cmml">C</mi></mrow><mo id="A3.Ex2.m1.2.2.1.1.1.2" xref="A3.Ex2.m1.2.2.1.1.1.2.cmml">⁢</mo><mi id="A3.Ex2.m1.2.2.1.1.1.4" xref="A3.Ex2.m1.2.2.1.1.1.4.cmml">O</mi><mo id="A3.Ex2.m1.2.2.1.1.1.2a" xref="A3.Ex2.m1.2.2.1.1.1.2.cmml">⁢</mo><mi id="A3.Ex2.m1.2.2.1.1.1.5" xref="A3.Ex2.m1.2.2.1.1.1.5.cmml">M</mi><mo id="A3.Ex2.m1.2.2.1.1.1.2b" xref="A3.Ex2.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="A3.Ex2.m1.2.2.1.1.1.1.1" xref="A3.Ex2.m1.2.2.1.1.1.1.1.1.cmml"><mo id="A3.Ex2.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="A3.Ex2.m1.2.2.1.1.1.1.1.1.cmml">(</mo><msup id="A3.Ex2.m1.2.2.1.1.1.1.1.1" xref="A3.Ex2.m1.2.2.1.1.1.1.1.1.cmml"><mi id="A3.Ex2.m1.2.2.1.1.1.1.1.1.2" xref="A3.Ex2.m1.2.2.1.1.1.1.1.1.2.cmml">L</mi><mo id="A3.Ex2.m1.2.2.1.1.1.1.1.1.3" xref="A3.Ex2.m1.2.2.1.1.1.1.1.1.3.cmml">∗</mo></msup><mo id="A3.Ex2.m1.2.2.1.1.1.1.1.3" stretchy="false" xref="A3.Ex2.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="A3.Ex2.m1.2.2.1.2" lspace="0em" xref="A3.Ex2.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.Ex2.m1.2b"><apply id="A3.Ex2.m1.2.2.1.1.cmml" xref="A3.Ex2.m1.2.2.1"><eq id="A3.Ex2.m1.2.2.1.1.2.cmml" xref="A3.Ex2.m1.2.2.1.1.2"></eq><apply id="A3.Ex2.m1.2.2.1.1.3.cmml" xref="A3.Ex2.m1.2.2.1.1.3"><times id="A3.Ex2.m1.2.2.1.1.3.1.cmml" xref="A3.Ex2.m1.2.2.1.1.3.1"></times><ci id="A3.Ex2.m1.2.2.1.1.3.2.cmml" xref="A3.Ex2.m1.2.2.1.1.3.2">𝑁</ci><ci id="A3.Ex2.m1.2.2.1.1.3.3.cmml" xref="A3.Ex2.m1.2.2.1.1.3.3">𝐶</ci><ci id="A3.Ex2.m1.2.2.1.1.3.4.cmml" xref="A3.Ex2.m1.2.2.1.1.3.4">𝑂</ci><ci id="A3.Ex2.m1.2.2.1.1.3.5.cmml" xref="A3.Ex2.m1.2.2.1.1.3.5">𝑀</ci></apply><apply id="A3.Ex2.m1.2.2.1.1.1.cmml" xref="A3.Ex2.m1.2.2.1.1.1"><times id="A3.Ex2.m1.2.2.1.1.1.2.cmml" xref="A3.Ex2.m1.2.2.1.1.1.2"></times><apply id="A3.Ex2.m1.2.2.1.1.1.3.cmml" xref="A3.Ex2.m1.2.2.1.1.1.3"><divide id="A3.Ex2.m1.2.2.1.1.1.3.1.cmml" xref="A3.Ex2.m1.2.2.1.1.1.3.1"></divide><apply id="A3.Ex2.m1.2.2.1.1.1.3.2.cmml" xref="A3.Ex2.m1.2.2.1.1.1.3.2"><times id="A3.Ex2.m1.2.2.1.1.1.3.2.1.cmml" xref="A3.Ex2.m1.2.2.1.1.1.3.2.1"></times><ci id="A3.Ex2.m1.2.2.1.1.1.3.2.2.cmml" xref="A3.Ex2.m1.2.2.1.1.1.3.2.2">𝐶</ci><ci id="A3.Ex2.m1.2.2.1.1.1.3.2.3.cmml" xref="A3.Ex2.m1.2.2.1.1.1.3.2.3">𝑂</ci><ci id="A3.Ex2.m1.2.2.1.1.1.3.2.4.cmml" xref="A3.Ex2.m1.2.2.1.1.1.3.2.4">𝑀</ci><ci id="A3.Ex2.m1.1.1.cmml" xref="A3.Ex2.m1.1.1">𝐿</ci></apply><ci id="A3.Ex2.m1.2.2.1.1.1.3.3.cmml" xref="A3.Ex2.m1.2.2.1.1.1.3.3">𝐶</ci></apply><ci id="A3.Ex2.m1.2.2.1.1.1.4.cmml" xref="A3.Ex2.m1.2.2.1.1.1.4">𝑂</ci><ci id="A3.Ex2.m1.2.2.1.1.1.5.cmml" xref="A3.Ex2.m1.2.2.1.1.1.5">𝑀</ci><apply id="A3.Ex2.m1.2.2.1.1.1.1.1.1.cmml" xref="A3.Ex2.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A3.Ex2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="A3.Ex2.m1.2.2.1.1.1.1.1">superscript</csymbol><ci id="A3.Ex2.m1.2.2.1.1.1.1.1.1.2.cmml" xref="A3.Ex2.m1.2.2.1.1.1.1.1.1.2">𝐿</ci><times id="A3.Ex2.m1.2.2.1.1.1.1.1.1.3.cmml" xref="A3.Ex2.m1.2.2.1.1.1.1.1.1.3"></times></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.Ex2.m1.2c">NCOM=COM(L)/COM(L^{*}).</annotation><annotation encoding="application/x-llamapun" id="A3.Ex2.m1.2d">italic_N italic_C italic_O italic_M = italic_C italic_O italic_M ( italic_L ) / italic_C italic_O italic_M ( italic_L start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A3.p4.3">The evaluation results are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A1.T2" title="Table 2 ‣ Appendix A Data Pre-process ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>. From the experimental results, we can find that our method outperforms all types of ranking algorithms on both datasets and all metrics, especially on NCOM. This phenomenon proves that our ranking model could consider the document’s relevance and list comprehensiveness simultaneously, hence providing comprehensive external knowledge and stimulating LLMs to generate better responses. We also notice that even though LiT5 and BGM are list-wise ranking models, their optimization does not explicitly consider the relationships among documents and, hence cannot provide satisfactory results. It also confirms the superiority of our proposed training algorithm.</p>
</div>
<figure class="ltx_figure" id="A3.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="391" id="A3.F6.g1" src="x6.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Trend of model performance as Top-K changes on both two dataset.</figcaption>
</figure>
<figure class="ltx_figure" id="A3.F7"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="192" id="A3.F7.g1" src="x7.png" width="415"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Subset experiments with different sub-aspect amounts.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Impact of Sub-aspect Amount</h2>
<div class="ltx_para" id="A4.p1">
<p class="ltx_p" id="A4.p1.1">To test the generalization of our framework with different sub-aspects numbers, which represent different search scenarios, we further split the test dataset into different sub-sets according to the number of sub-aspects. Questions with a sub-aspect amount less than two are divided into the narrow set, questions with a sub-aspect amount less than four are divided into the middle set, and the remaining questions are divided into the broad set. The models’ performances on these subsets are shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A3.F7" title="Figure 7 ‣ Appendix C Ranking Performance ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">7</span></a>. Evidently, our framework outperforms all baselines on all subsets. This result verifies the robustness of our framework with diverse search scenarios. Furthermore, we find that the overall results on the broad set are worse than the remaining two sets. This phenomenon implies that the scenarios involving various potential user sub-intents are harder to handle than specific user intents, which need to be further investigated in the future.</p>
</div>
</section>
<section class="ltx_appendix" id="A5">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Analysis of LLMs’ Preferences</h2>
<div class="ltx_para" id="A5.p1">
<p class="ltx_p" id="A5.p1.1">We mentioned that in the system of RAG, the downstream users of IR systems are no longer humans, but LLMs. To align the LLMs’ reading preferences on the provided information, we introduce the RL stage to further capture LLMs’ preferences on the order of ranking lists. Furthermore, another angle of the differences between human and LLM users is that traditional IR systems usually provide distinct documents for users and assume that users will carefully read the document containing information if she is interested in a certain document. However, such a reading habit may not be suitable for LLMs. It may be important for LLMs to repeat some important information when providing retrieved knowledge <cite class="ltx_cite ltx_citemacro_cite">Ke et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib13" title="">2024</a>)</cite>. Such a paradigm is hard to implement by traditional ranking models based on individual relevance score sorting. However, it is easy to accomplish for our generative ranking model. Therefore, we waive the constraint of ensuring that the next ranked document has not been previously selected. The corresponding results are illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A6.F8" title="Figure 8 ‣ Appendix F Impact of Number of External Documents ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">8</span></a>. Interestingly, releasing of repetition constraint could bring significant improvement to our model. The potential reason may be that repetition of important information could avoid the introduction of irrelevant information and attract more attention of LLMs to repeated important information, which enhances the LLMs’ confidence in it. This enables LLMs to provide more reliable responses according to this important knowledge.
Similar results can also be found in <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#bib.bib34" title="">2024b</a>)</cite>. It further confirms the importance of repetition with potential emphasis and denoising effect.</p>
</div>
</section>
<section class="ltx_appendix" id="A6">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix F </span>Impact of Number of External Documents</h2>
<div class="ltx_para" id="A6.p1">
<p class="ltx_p" id="A6.p1.1">To further investigate the impact of different numbers of external knowledge on RAG performance, we vary the value of K and conduct corresponding experiments on our model and a baseline model that directly treats the top-k retrieved documents as provided references for the generator. We set the maximum value to 14 due to the limited input length of the generator. The performance trendlines of the two models are shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A3.F6" title="Figure 6 ‣ Appendix C Ranking Performance ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">6</span></a>. We further provide the trendlines of our model’s improvement at each point with red lines. By comparison, we find that our model generally outperforms the baseline with different top-k numbers, which confirms the superiority of RichRAG. In addition, it is clear that the performance of the baseline usually improves with the initial increase in top-k values. This phenomenon suggests that the baseline cannot rank the valuable documents at the forefront. Therefore, important documents can only be incorporated into the generator’s input when the top value becomes larger. However, our model is capable of accurately ranking the valuable documents at the top of the ranking. Consequently, even with a small k-value, it still demonstrates excellent performance. The improvement trendlines also imply that with limited external references, our model could show better response performance due to better ranking abilities.</p>
</div>
<figure class="ltx_figure" id="A6.F8"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="371" id="A6.F8.g1" src="x8.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Comparison with and without repeated constraints</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A7">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix G </span>Case Study</h2>
<div class="ltx_para" id="A7.p1">
<p class="ltx_p" id="A7.p1.1">To validate that our proposed framework has the ability to provide rich and comprehensive responses for multi-faceted questions, we further demonstrate a case study to compare the generated responses of RichRAG and an RAG baseline that directly generates responses based on retrieved documents. In Box <a class="ltx_ref" href="https://arxiv.org/html/2406.12566v3#A7" title="Appendix G Case Study ‣ RichRAG: Crafting Rich Responses for Multi-faceted Queries in Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">G</span></a>, we provide the input question, its labeled sub-aspects, and predictions from different compared models. The parts of generated responses are highlighted by different colors to indicate the comprehensiveness of different results.
According to the visualized results, it is obvious that RichRAG could predict the query’s sub-aspects accurately and provide rich responses that satisfy these potential intents. However, the baseline model only offers a general and incomplete response without in-depth consideration of the various underlying intentions of the user, which may implicitly impact user satisfaction. This result further proves the ability of RichRAG to identify and explicitly model the query’s sub-aspects, thereby providing satisfying ranking results to enhance the richness and comprehensiveness of generated responses. This result also reveals that though LLMs have the potential ability to generate comprehensive answers, comprehensive ranking lists that correctly cover the query’s sub-aspects can better stimulate LLMs’ ability to generate comprehensive responses. This can also be verified by our quantitative experiments where our model exhibits the best performance among baselines.</p>
</div>
<div class="ltx_para ltx_noindent" id="A7.p2">
<svg class="ltx_picture" height="523.29" id="A7.p2.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,523.29) matrix(1 0 0 -1 0 0)"><g fill="#404040" fill-opacity="1.0"><path d="M 0 5.91 L 0 517.39 C 0 520.65 2.64 523.29 5.91 523.29 L 594.09 523.29 C 597.36 523.29 600 520.65 600 517.39 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 488.92 L 598.03 488.92 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g color="#404040" fill="#404040" stroke="#404040" stroke-dasharray="2.84528pt,2.84528pt" stroke-dashoffset="1.42264pt" stroke-opacity="1.0"><path d="M 1.97 436.4 L 598.03 436.4" style="fill:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 494.83)"><foreignobject color="#FFFFFF" height="22.56" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A7.p2.pic1.1.1.1.1.1" style="width:402.3pt;">
<span class="ltx_p" id="A7.p2.pic1.1.1.1.1.1.1">Box E: A case to show the richness and comprehensiveness of our model’s generated responses.</span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 448.21)"><foreignobject color="#000000" height="28.9" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A7.p2.pic1.2.2.2.1.1" style="width:402.3pt;">
<span class="ltx_p" id="A7.p2.pic1.2.2.2.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="A7.p2.pic1.2.2.2.1.1.1.1">Query</span>: Generate a summary about Instant Mom. 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold ltx_font_italic" id="A7.p2.pic1.2.2.2.1.1.1.2">Sub-aspects</span>: production, reception</span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000" height="410.81" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A7.p2.pic1.3.3.3.1.1" style="width:402.3pt;">
<span class="ltx_p" id="A7.p2.pic1.3.3.3.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="A7.p2.pic1.3.3.3.1.1.1.1">Baseline Response<span class="ltx_text ltx_font_upright" id="A7.p2.pic1.3.3.3.1.1.1.1.1">:
<br class="ltx_break"/></span></span>Instant Mom is a talk show that focuses on various aspects of motherhood, including child-rearing, homemaking, and personal growth. The show features a variety of segments, including MomStop, which provides pressure-free bonding moments between mothers and their children, and Momstyle, which showcases different techniques in child rearing and domestic engineering. The show also includes 24/7, which celebrates the non-stop nature of motherhood, and Mom and Me, an inspiring tribute to the kindness and love of mothers. Additionally, the show features practical tips for homemakers and parents, as well as interviews with celebrity mothers and experts in child development. The show is certified by moms and features independent reviews and expert advice to provide a comprehensive resource for mothers.

<br class="ltx_break"/>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold ltx_font_italic" id="A7.p2.pic1.3.3.3.1.1.1.2">RichRAG Response</span>:
<br class="ltx_break"/>Based on the given sources, here is a summary of Instant Mom:</span>
<span class="ltx_p" id="A7.p2.pic1.3.3.3.1.1.2">Instant Mom is a television show that aired on Nickelodeon from 2013 to 2015. The show was created by Howard Nemetz and starred Tia Mowry-Hardrict as Stephanie, a young woman who becomes the legal guardian of her three nieces and nephews after her sister and brother-in-law die in a car accident. The show follows the challenges and adventures of Stephanie and her new family as they navigate life and try to move forward after their loss.</span>
<span class="ltx_p" id="A7.p2.pic1.3.3.3.1.1.3">The show received positive reviews, with Emily Ashby of Common Sense Media giving it 4 out of 5 stars and Brian Lowry of Variety comparing it to Trophy Wife. The show also featured a production report, which is a filmmaking term for a form filled out each day of production to summarize what occurred. The show was produced by Nickelodeon and was filmed in various locations in Los Angeles.</span>
<span class="ltx_p" id="A7.p2.pic1.3.3.3.1.1.4">Overall, Instant Mom is a heartwarming and humorous show that explores the complexities of family and the challenges of raising children. With its talented cast and engaging storylines, it is a great choice for families and young audiences looking for a fun and entertaining show.</span>
</span></foreignobject></g></g></svg>
</div>
<div class="ltx_para ltx_noindent" id="A7.p3">
<svg class="ltx_picture" height="707.53" id="A7.p3.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,707.53) matrix(1 0 0 -1 0 0)"><g fill="#404040" fill-opacity="1.0"><path d="M 0 5.91 L 0 701.63 C 0 704.89 2.64 707.53 5.91 707.53 L 594.09 707.53 C 597.36 707.53 600 704.89 600 701.63 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 673.16 L 598.03 673.16 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 679.07)"><foreignobject color="#FFFFFF" height="22.56" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A7.p3.pic1.1.1.1.1.1" style="width:402.3pt;">
<span class="ltx_p" id="A7.p3.pic1.1.1.1.1.1.1">Prompt E: Annotate question aspects and split long-form answers into corresponding sub-answers</span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000" height="647.57" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="A7.p3.pic1.2.2.2.1.1" style="width:402.3pt;">
<span class="ltx_p" id="A7.p3.pic1.2.2.2.1.1.1">Your task is to adjust the results of query-facets mining. The query-facets are extensions of the original query in various generic perspectives, rather than some specific facts. Given a query that requires information from multiple query-facets, you should return all query-facets of the query to fully answer it query. Note that each query has at least two query-facets. I will give you the long-form answer to the original query to help you explore query-facets based on the perspectives of its answer. But refrain from using the additional information from the answer to generate the query-facets. Then you should segment the original long-form answer into several sub-answers that each are paired with a query-facet. Please return each query-facet of the original query and its corresponding sub-answers. The query-facets and sub-answers should be one-to-one and returned in JSON format. You need to follow the following rules:
<br class="ltx_break"/>1. The answers are only used to help you determine the generic direction. You mustn’t generate query-facets based on the contents of answers and the facets mustn’t contain the answers’ additional information beyond the input query.
<br class="ltx_break"/>2. Sub-answers are constructed by segmenting the original answer, you cannot generate or reorder the original answer to create sub-answers.
<br class="ltx_break"/>3. The sub-answers should be complete. You must ensure that when the sub-answers are joined together in order, the complete original answer should be formed.
<br class="ltx_break"/>4. The generated query-facets should be sufficiently generic and contain no specific information about the sub-answers.
<br class="ltx_break"/>5. **You should ensure that generated query-facets cover all perspectives original answer.**
<br class="ltx_break"/>6. **You should ensure that all sub-answers cover all contents of the original answer.**
<br class="ltx_break"/>7. **The number of query surfaces must range from 2 to 7.**
<br class="ltx_break"/>8. **You should ensure that each query-facet is sufficiently generic and can be easily derived from the original query.**
<br class="ltx_break"/>9. **You should ensure each query-facet contains no information from the answer.** 
<br class="ltx_break"/>10. **You should rewrite or combine the query-facets to be more generic if some query-facets do not meet the above requirements.**
<br class="ltx_break"/>11. The returned results should be in JSON format and contain the following key: results, which is a list of JSON data. Each item of results should contain the following keys: query-facet, and sub-answer.
<br class="ltx_break"/>12. I will give you some demonstrations, you should learn the pattern of them to mine query-facets and split sub-answers.
<br class="ltx_break"/></span>
<span class="ltx_p" id="A7.p3.pic1.2.2.2.1.1.2">**Demonstration**
<br class="ltx_break"/>{<span class="ltx_text ltx_font_italic" id="A7.p3.pic1.2.2.2.1.1.2.1">demonstrations</span>}
<br class="ltx_break"/>Query: {<span class="ltx_text ltx_font_italic" id="A7.p3.pic1.2.2.2.1.1.2.2">query</span>}
<br class="ltx_break"/>Answer: {<span class="ltx_text ltx_font_italic" id="A7.p3.pic1.2.2.2.1.1.2.3">answer</span>}
<br class="ltx_break"/>Results:
<br class="ltx_break"/></span>
</span></foreignobject></g></g></svg>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Tue Oct  1 04:44:54 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
