<!DOCTYPE html>

<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Loops On Retrieval Augmented Generation (LoRAG)</title>
<!--Generated on Mon Mar 18 15:16:13 2024 by LaTeXML (version 0.8.7) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv_0.7.4.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="
LoRAG,  Machine Learning,  Natural Language Processing,  Retrieval Augmented Generation,  Dynamic Loops
" lang="en" name="keywords"/>
<base href="/html/2403.15450v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S1" title="I Introduction ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">I </span><span class="ltx_text ltx_font_smallcaps">Introduction</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S1.SS1" title="I-A Motivation ‣ I Introduction ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">I-A</span> </span><span class="ltx_text ltx_font_italic">Motivation</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S1.SS2" title="I-B Objective ‣ I Introduction ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">I-B</span> </span><span class="ltx_text ltx_font_italic">Objective</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S2" title="II Related Work ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">II </span><span class="ltx_text ltx_font_smallcaps">Related Work</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S2.SS1" title="II-A Retrieval-augmented Generation Models ‣ II Related Work ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">II-A</span> </span><span class="ltx_text ltx_font_italic">Retrieval-augmented Generation Models</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S2.SS2" title="II-B Transformer-based Approaches ‣ II Related Work ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">II-B</span> </span><span class="ltx_text ltx_font_italic">Transformer-based Approaches</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S2.SS3" title="II-C Loop Mechanisms in Text Generation ‣ II Related Work ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">II-C</span> </span><span class="ltx_text ltx_font_italic">Loop Mechanisms in Text Generation</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S2.SS4" title="II-D LoRAG Framework ‣ II Related Work ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">II-D</span> </span><span class="ltx_text ltx_font_italic">LoRAG Framework</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S3" title="III LoRAG Framework ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">III </span><span class="ltx_text ltx_font_smallcaps">LoRAG Framework</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S3.SS1" title="III-A Architecture ‣ III LoRAG Framework ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-A</span> </span><span class="ltx_text ltx_font_italic">Architecture</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S3.SS2" title="III-B Iterative Loop Mechanism ‣ III LoRAG Framework ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-B</span> </span><span class="ltx_text ltx_font_italic">Iterative Loop Mechanism</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S3.SS3" title="III-C Operational Flow ‣ III LoRAG Framework ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-C</span> </span><span class="ltx_text ltx_font_italic">Operational Flow</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S3.SS4" title="III-D Experimental Loop Visualization ‣ III LoRAG Framework ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-D</span> </span><span class="ltx_text ltx_font_italic">Experimental Loop Visualization</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S4" title="IV Results and Analysis ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">IV </span><span class="ltx_text ltx_font_smallcaps">Results and Analysis</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S4.SS1" title="IV-A Experimental Setup ‣ IV Results and Analysis ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-A</span> </span><span class="ltx_text ltx_font_italic">Experimental Setup</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S4.SS2" title="IV-B Quantitative Evaluation ‣ IV Results and Analysis ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-B</span> </span><span class="ltx_text ltx_font_italic">Quantitative Evaluation</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S4.SS3" title="IV-C Discussion ‣ IV Results and Analysis ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-C</span> </span><span class="ltx_text ltx_font_italic">Discussion</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S4.SS4" title="IV-D Limitations and Future Work ‣ IV Results and Analysis ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-D</span> </span><span class="ltx_text ltx_font_italic">Limitations and Future Work</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S5" title="V Conclusion ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">V </span><span class="ltx_text ltx_font_smallcaps">Conclusion</span></span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content"><div class="section" id="target-section"><div id="license-tr">License: arXiv.org perpetual non-exclusive license</div><div id="watermark-tr">arXiv:2403.15450v1 [cs.CL] 18 Mar 2024</div></div>
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Loops On Retrieval Augmented Generation 
<br class="ltx_break"/>(LoRAG)</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">1<sup class="ltx_sup" id="id1.1.id1">st</sup> Ayush Thakur
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id2.2.id1">Amity Institute of Information Technology</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_italic" id="id3.3.id2">Amity University
<br class="ltx_break"/></span>Noida, India 
<br class="ltx_break"/>ayush.th2002@gmail.com
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">2<sup class="ltx_sup" id="id4.1.id1">nd</sup> Rashmi Vashisth
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id5.2.id1">Amity Institute of Information Technology</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_italic" id="id6.3.id2">Amity University
<br class="ltx_break"/></span>Noida, India 
<br class="ltx_break"/>rvashisth@amity.edu
</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id7.id1">This paper presents Loops On Retrieval Augmented Generation (LoRAG), a new framework designed to enhance the quality of retrieval-augmented text generation through the incorporation of an iterative loop mechanism. The architecture integrates a generative model, a retrieval mechanism, and a dynamic loop module, allowing for iterative refinement of the generated text through interactions with relevant information retrieved from the input context. Experimental evaluations on benchmark datasets demonstrate that LoRAG surpasses existing state-of-the-art models in terms of BLEU score, ROUGE score, and perplexity, showcasing its effectiveness in achieving both coherence and relevance in generated text. The qualitative assessment further illustrates LoRAG’s capability to produce contextually rich and coherent outputs. This research contributes valuable insights into the potential of iterative loops in mitigating challenges in text generation, positioning LoRAG as a promising advancement in the field.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
LoRAG, Machine Learning, Natural Language Processing, Retrieval Augmented Generation, Dynamic Loops

</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span class="ltx_text ltx_font_smallcaps" id="S1.1.1">Introduction</span>
</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">In recent years, there has been notable progress in natural language processing (NLP), particularly in the field of text generation. An area of particular interest is the combination of retrieval methods with generative models to improve the quality and relevance of generated content <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib4" title="">4</a>]</cite>. Retrieval-augmented generation seeks to capitalize on the strengths of both generative and retrieval-based approaches, striving to achieve a balance between creativity and coherence <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib5" title="">5</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">In this vein, we introduce a new framework called Loops On Retrieval augmented generation (LoRAG). The LoRAG framework aims to tackle the challenges encountered by conventional generative models, such as maintaining coherence, relevance, and informativeness in the generated text. By integrating loops into the retrieval process, LoRAG endeavors to establish a dynamic interplay between the generative model and the retrieved information, promoting a more contextually aware and coherent generation.</p>
</div>
<section class="ltx_subsection" id="S1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S1.SS1.4.1.1">I-A</span> </span><span class="ltx_text ltx_font_italic" id="S1.SS1.5.2">Motivation</span>
</h3>
<div class="ltx_para" id="S1.SS1.p1">
<p class="ltx_p" id="S1.SS1.p1.1">The rationale behind LoRAG originates from the deficiencies identified in current text generation models. While purely generative models demonstrate proficiency in creativity, they frequently encounter challenges related to factual precision and contextual coherence. Conversely, retrieval-based models excel in providing accurate information but may exhibit shortcomings in fluency and imaginative output. LoRAG endeavors to leverage the advantages of both approaches by incorporating a loop mechanism that iteratively enhances the generation through engagements with the retrieved content.
</p>
</div>
</section>
<section class="ltx_subsection" id="S1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S1.SS2.4.1.1">I-B</span> </span><span class="ltx_text ltx_font_italic" id="S1.SS2.5.2">Objective</span>
</h3>
<div class="ltx_para" id="S1.SS2.p1">
<p class="ltx_p" id="S1.SS2.p1.1">The principal aim of this study is to investigate the efficacy of LoRAG in enhancing the caliber of generated text by progressively integrating information from a retrieval mechanism. Our goal is to illustrate the capability of LoRAG in mitigating common challenges encountered in text generation tasks, including coherence, relevance, and context retention.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span class="ltx_text ltx_font_smallcaps" id="S2.1.1">Related Work</span>
</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">The domain of retrieval-augmented generation has seen significant research endeavors dedicated to amalgamating the merits of generative and retrieval-based methodologies. Remarkable strides have been taken to enhance the relevance, coherence, and informativeness of generated text.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S2.SS1.4.1.1">II-A</span> </span><span class="ltx_text ltx_font_italic" id="S2.SS1.5.2">Retrieval-augmented Generation Models</span>
</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">Early efforts to integrate retrieval mechanisms with generative models include techniques like the Dual Encoder architecture <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib7" title="">7</a>]</cite>, which employs distinct encoders for context and response. The context encoder handles input information, while the response encoder generates the output. Despite their effectiveness, these models frequently encounter difficulties in managing long-context dependencies and preserving coherent conversations.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S2.SS2.4.1.1">II-B</span> </span><span class="ltx_text ltx_font_italic" id="S2.SS2.5.2">Transformer-based Approaches</span>
</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">Recent progress in transformer-based architectures has facilitated the emergence of models such as DialoGPT <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib14" title="">14</a>, <a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib8" title="">8</a>]</cite>, which utilizes a large-scale pretrained language model for dialogue generation. Transformer-based models <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib3" title="">3</a>]</cite> have demonstrated encouraging outcomes in capturing contextual cues and enhancing the coherence of generated text. Nevertheless, they may encounter challenges with relevance and factual precision, particularly in dynamic conversational contexts.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S2.SS3.4.1.1">II-C</span> </span><span class="ltx_text ltx_font_italic" id="S2.SS3.5.2">Loop Mechanisms in Text Generation</span>
</h3>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.1">The concept of iterative loops in text generation has been investigated across different contexts. Loop models, such as those implemented in reinforcement learning frameworks <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib9" title="">9</a>]</cite>, utilize iterative mechanisms to enhance the quality of generated outputs. These methodologies have exhibited effectiveness in improving both fluency and coherence. However, their integration within the framework of retrieval-augmented generation represents an area ripe for exploration.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S2.SS4.4.1.1">II-D</span> </span><span class="ltx_text ltx_font_italic" id="S2.SS4.5.2">LoRAG Framework</span>
</h3>
<div class="ltx_para" id="S2.SS4.p1">
<p class="ltx_p" id="S2.SS4.p1.1">The LoRAG framework introduces a pioneering methodology by integrating iterative loops into the retrieval-augmented generation procedure. This involves numerous interactions between the generative model and retrieved data, enabling the model to refine its output in a contextually sensitive manner. The iterative loops are governed by the following equation:</p>
</div>
<div class="ltx_para" id="S2.SS4.p2">
<table class="ltx_equation ltx_eqn_table" id="S2.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="P(y_{t}|x,y_{&lt;t})=\text{LoRAG}(y_{&lt;t},\text{Retrieve}(x))" class="ltx_Math" display="block" id="S2.Ex1.m1.5"><semantics id="S2.Ex1.m1.5a"><mrow id="S2.Ex1.m1.5.5" xref="S2.Ex1.m1.5.5.cmml"><mrow id="S2.Ex1.m1.3.3.1" xref="S2.Ex1.m1.3.3.1.cmml"><mi id="S2.Ex1.m1.3.3.1.3" xref="S2.Ex1.m1.3.3.1.3.cmml">P</mi><mo id="S2.Ex1.m1.3.3.1.2" xref="S2.Ex1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S2.Ex1.m1.3.3.1.1.1" xref="S2.Ex1.m1.3.3.1.1.1.1.cmml"><mo id="S2.Ex1.m1.3.3.1.1.1.2" stretchy="false" xref="S2.Ex1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S2.Ex1.m1.3.3.1.1.1.1" xref="S2.Ex1.m1.3.3.1.1.1.1.cmml"><msub id="S2.Ex1.m1.3.3.1.1.1.1.3" xref="S2.Ex1.m1.3.3.1.1.1.1.3.cmml"><mi id="S2.Ex1.m1.3.3.1.1.1.1.3.2" xref="S2.Ex1.m1.3.3.1.1.1.1.3.2.cmml">y</mi><mi id="S2.Ex1.m1.3.3.1.1.1.1.3.3" xref="S2.Ex1.m1.3.3.1.1.1.1.3.3.cmml">t</mi></msub><mo fence="false" id="S2.Ex1.m1.3.3.1.1.1.1.2" xref="S2.Ex1.m1.3.3.1.1.1.1.2.cmml">|</mo><mrow id="S2.Ex1.m1.3.3.1.1.1.1.1.1" xref="S2.Ex1.m1.3.3.1.1.1.1.1.2.cmml"><mi id="S2.Ex1.m1.1.1" xref="S2.Ex1.m1.1.1.cmml">x</mi><mo id="S2.Ex1.m1.3.3.1.1.1.1.1.1.2" xref="S2.Ex1.m1.3.3.1.1.1.1.1.2.cmml">,</mo><msub id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.cmml"><mi id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.2" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.cmml"><mi id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.2" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.1" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.3" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.3.cmml">t</mi></mrow></msub></mrow></mrow><mo id="S2.Ex1.m1.3.3.1.1.1.3" stretchy="false" xref="S2.Ex1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.Ex1.m1.5.5.4" xref="S2.Ex1.m1.5.5.4.cmml">=</mo><mrow id="S2.Ex1.m1.5.5.3" xref="S2.Ex1.m1.5.5.3.cmml"><mtext id="S2.Ex1.m1.5.5.3.4" xref="S2.Ex1.m1.5.5.3.4a.cmml">LoRAG</mtext><mo id="S2.Ex1.m1.5.5.3.3" xref="S2.Ex1.m1.5.5.3.3.cmml">⁢</mo><mrow id="S2.Ex1.m1.5.5.3.2.2" xref="S2.Ex1.m1.5.5.3.2.3.cmml"><mo id="S2.Ex1.m1.5.5.3.2.2.3" stretchy="false" xref="S2.Ex1.m1.5.5.3.2.3.cmml">(</mo><msub id="S2.Ex1.m1.4.4.2.1.1.1" xref="S2.Ex1.m1.4.4.2.1.1.1.cmml"><mi id="S2.Ex1.m1.4.4.2.1.1.1.2" xref="S2.Ex1.m1.4.4.2.1.1.1.2.cmml">y</mi><mrow id="S2.Ex1.m1.4.4.2.1.1.1.3" xref="S2.Ex1.m1.4.4.2.1.1.1.3.cmml"><mi id="S2.Ex1.m1.4.4.2.1.1.1.3.2" xref="S2.Ex1.m1.4.4.2.1.1.1.3.2.cmml"></mi><mo id="S2.Ex1.m1.4.4.2.1.1.1.3.1" xref="S2.Ex1.m1.4.4.2.1.1.1.3.1.cmml">&lt;</mo><mi id="S2.Ex1.m1.4.4.2.1.1.1.3.3" xref="S2.Ex1.m1.4.4.2.1.1.1.3.3.cmml">t</mi></mrow></msub><mo id="S2.Ex1.m1.5.5.3.2.2.4" xref="S2.Ex1.m1.5.5.3.2.3.cmml">,</mo><mrow id="S2.Ex1.m1.5.5.3.2.2.2" xref="S2.Ex1.m1.5.5.3.2.2.2.cmml"><mtext id="S2.Ex1.m1.5.5.3.2.2.2.2" xref="S2.Ex1.m1.5.5.3.2.2.2.2a.cmml">Retrieve</mtext><mo id="S2.Ex1.m1.5.5.3.2.2.2.1" xref="S2.Ex1.m1.5.5.3.2.2.2.1.cmml">⁢</mo><mrow id="S2.Ex1.m1.5.5.3.2.2.2.3.2" xref="S2.Ex1.m1.5.5.3.2.2.2.cmml"><mo id="S2.Ex1.m1.5.5.3.2.2.2.3.2.1" stretchy="false" xref="S2.Ex1.m1.5.5.3.2.2.2.cmml">(</mo><mi id="S2.Ex1.m1.2.2" xref="S2.Ex1.m1.2.2.cmml">x</mi><mo id="S2.Ex1.m1.5.5.3.2.2.2.3.2.2" stretchy="false" xref="S2.Ex1.m1.5.5.3.2.2.2.cmml">)</mo></mrow></mrow><mo id="S2.Ex1.m1.5.5.3.2.2.5" stretchy="false" xref="S2.Ex1.m1.5.5.3.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1.m1.5b"><apply id="S2.Ex1.m1.5.5.cmml" xref="S2.Ex1.m1.5.5"><eq id="S2.Ex1.m1.5.5.4.cmml" xref="S2.Ex1.m1.5.5.4"></eq><apply id="S2.Ex1.m1.3.3.1.cmml" xref="S2.Ex1.m1.3.3.1"><times id="S2.Ex1.m1.3.3.1.2.cmml" xref="S2.Ex1.m1.3.3.1.2"></times><ci id="S2.Ex1.m1.3.3.1.3.cmml" xref="S2.Ex1.m1.3.3.1.3">𝑃</ci><apply id="S2.Ex1.m1.3.3.1.1.1.1.cmml" xref="S2.Ex1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S2.Ex1.m1.3.3.1.1.1.1.2.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.2">conditional</csymbol><apply id="S2.Ex1.m1.3.3.1.1.1.1.3.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.1.1.1.1.3.1.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.3">subscript</csymbol><ci id="S2.Ex1.m1.3.3.1.1.1.1.3.2.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.3.2">𝑦</ci><ci id="S2.Ex1.m1.3.3.1.1.1.1.3.3.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.3.3">𝑡</ci></apply><list id="S2.Ex1.m1.3.3.1.1.1.1.1.2.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1"><ci id="S2.Ex1.m1.1.1.cmml" xref="S2.Ex1.m1.1.1">𝑥</ci><apply id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.2">𝑦</ci><apply id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3"><lt id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.1.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.2.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.2">absent</csymbol><ci id="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.3.cmml" xref="S2.Ex1.m1.3.3.1.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></list></apply></apply><apply id="S2.Ex1.m1.5.5.3.cmml" xref="S2.Ex1.m1.5.5.3"><times id="S2.Ex1.m1.5.5.3.3.cmml" xref="S2.Ex1.m1.5.5.3.3"></times><ci id="S2.Ex1.m1.5.5.3.4a.cmml" xref="S2.Ex1.m1.5.5.3.4"><mtext id="S2.Ex1.m1.5.5.3.4.cmml" xref="S2.Ex1.m1.5.5.3.4">LoRAG</mtext></ci><interval closure="open" id="S2.Ex1.m1.5.5.3.2.3.cmml" xref="S2.Ex1.m1.5.5.3.2.2"><apply id="S2.Ex1.m1.4.4.2.1.1.1.cmml" xref="S2.Ex1.m1.4.4.2.1.1.1"><csymbol cd="ambiguous" id="S2.Ex1.m1.4.4.2.1.1.1.1.cmml" xref="S2.Ex1.m1.4.4.2.1.1.1">subscript</csymbol><ci id="S2.Ex1.m1.4.4.2.1.1.1.2.cmml" xref="S2.Ex1.m1.4.4.2.1.1.1.2">𝑦</ci><apply id="S2.Ex1.m1.4.4.2.1.1.1.3.cmml" xref="S2.Ex1.m1.4.4.2.1.1.1.3"><lt id="S2.Ex1.m1.4.4.2.1.1.1.3.1.cmml" xref="S2.Ex1.m1.4.4.2.1.1.1.3.1"></lt><csymbol cd="latexml" id="S2.Ex1.m1.4.4.2.1.1.1.3.2.cmml" xref="S2.Ex1.m1.4.4.2.1.1.1.3.2">absent</csymbol><ci id="S2.Ex1.m1.4.4.2.1.1.1.3.3.cmml" xref="S2.Ex1.m1.4.4.2.1.1.1.3.3">𝑡</ci></apply></apply><apply id="S2.Ex1.m1.5.5.3.2.2.2.cmml" xref="S2.Ex1.m1.5.5.3.2.2.2"><times id="S2.Ex1.m1.5.5.3.2.2.2.1.cmml" xref="S2.Ex1.m1.5.5.3.2.2.2.1"></times><ci id="S2.Ex1.m1.5.5.3.2.2.2.2a.cmml" xref="S2.Ex1.m1.5.5.3.2.2.2.2"><mtext id="S2.Ex1.m1.5.5.3.2.2.2.2.cmml" xref="S2.Ex1.m1.5.5.3.2.2.2.2">Retrieve</mtext></ci><ci id="S2.Ex1.m1.2.2.cmml" xref="S2.Ex1.m1.2.2">𝑥</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1.m1.5c">P(y_{t}|x,y_{&lt;t})=\text{LoRAG}(y_{&lt;t},\text{Retrieve}(x))</annotation><annotation encoding="application/x-llamapun" id="S2.Ex1.m1.5d">italic_P ( italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x , italic_y start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT ) = LoRAG ( italic_y start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT , Retrieve ( italic_x ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S2.SS4.p3">
<p class="ltx_p" id="S2.SS4.p3.6">In this equation, <math alttext="P(y_{t}|x,y_{&lt;t})" class="ltx_Math" display="inline" id="S2.SS4.p3.1.m1.2"><semantics id="S2.SS4.p3.1.m1.2a"><mrow id="S2.SS4.p3.1.m1.2.2" xref="S2.SS4.p3.1.m1.2.2.cmml"><mi id="S2.SS4.p3.1.m1.2.2.3" xref="S2.SS4.p3.1.m1.2.2.3.cmml">P</mi><mo id="S2.SS4.p3.1.m1.2.2.2" xref="S2.SS4.p3.1.m1.2.2.2.cmml">⁢</mo><mrow id="S2.SS4.p3.1.m1.2.2.1.1" xref="S2.SS4.p3.1.m1.2.2.1.1.1.cmml"><mo id="S2.SS4.p3.1.m1.2.2.1.1.2" stretchy="false" xref="S2.SS4.p3.1.m1.2.2.1.1.1.cmml">(</mo><mrow id="S2.SS4.p3.1.m1.2.2.1.1.1" xref="S2.SS4.p3.1.m1.2.2.1.1.1.cmml"><msub id="S2.SS4.p3.1.m1.2.2.1.1.1.3" xref="S2.SS4.p3.1.m1.2.2.1.1.1.3.cmml"><mi id="S2.SS4.p3.1.m1.2.2.1.1.1.3.2" xref="S2.SS4.p3.1.m1.2.2.1.1.1.3.2.cmml">y</mi><mi id="S2.SS4.p3.1.m1.2.2.1.1.1.3.3" xref="S2.SS4.p3.1.m1.2.2.1.1.1.3.3.cmml">t</mi></msub><mo fence="false" id="S2.SS4.p3.1.m1.2.2.1.1.1.2" xref="S2.SS4.p3.1.m1.2.2.1.1.1.2.cmml">|</mo><mrow id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.2.cmml"><mi id="S2.SS4.p3.1.m1.1.1" xref="S2.SS4.p3.1.m1.1.1.cmml">x</mi><mo id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.2" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.2.cmml">,</mo><msub id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.2" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.cmml"><mi id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.2" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.1" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.3" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.3.cmml">t</mi></mrow></msub></mrow></mrow><mo id="S2.SS4.p3.1.m1.2.2.1.1.3" stretchy="false" xref="S2.SS4.p3.1.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p3.1.m1.2b"><apply id="S2.SS4.p3.1.m1.2.2.cmml" xref="S2.SS4.p3.1.m1.2.2"><times id="S2.SS4.p3.1.m1.2.2.2.cmml" xref="S2.SS4.p3.1.m1.2.2.2"></times><ci id="S2.SS4.p3.1.m1.2.2.3.cmml" xref="S2.SS4.p3.1.m1.2.2.3">𝑃</ci><apply id="S2.SS4.p3.1.m1.2.2.1.1.1.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1"><csymbol cd="latexml" id="S2.SS4.p3.1.m1.2.2.1.1.1.2.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.2">conditional</csymbol><apply id="S2.SS4.p3.1.m1.2.2.1.1.1.3.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.p3.1.m1.2.2.1.1.1.3.1.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S2.SS4.p3.1.m1.2.2.1.1.1.3.2.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.3.2">𝑦</ci><ci id="S2.SS4.p3.1.m1.2.2.1.1.1.3.3.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.3.3">𝑡</ci></apply><list id="S2.SS4.p3.1.m1.2.2.1.1.1.1.2.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1"><ci id="S2.SS4.p3.1.m1.1.1.cmml" xref="S2.SS4.p3.1.m1.1.1">𝑥</ci><apply id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.2">𝑦</ci><apply id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3"><lt id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.2.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.2">absent</csymbol><ci id="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="S2.SS4.p3.1.m1.2.2.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p3.1.m1.2c">P(y_{t}|x,y_{&lt;t})</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p3.1.m1.2d">italic_P ( italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x , italic_y start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> denotes the probability distribution of the next token <math alttext="y_{t}" class="ltx_Math" display="inline" id="S2.SS4.p3.2.m2.1"><semantics id="S2.SS4.p3.2.m2.1a"><msub id="S2.SS4.p3.2.m2.1.1" xref="S2.SS4.p3.2.m2.1.1.cmml"><mi id="S2.SS4.p3.2.m2.1.1.2" xref="S2.SS4.p3.2.m2.1.1.2.cmml">y</mi><mi id="S2.SS4.p3.2.m2.1.1.3" xref="S2.SS4.p3.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p3.2.m2.1b"><apply id="S2.SS4.p3.2.m2.1.1.cmml" xref="S2.SS4.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS4.p3.2.m2.1.1.1.cmml" xref="S2.SS4.p3.2.m2.1.1">subscript</csymbol><ci id="S2.SS4.p3.2.m2.1.1.2.cmml" xref="S2.SS4.p3.2.m2.1.1.2">𝑦</ci><ci id="S2.SS4.p3.2.m2.1.1.3.cmml" xref="S2.SS4.p3.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p3.2.m2.1c">y_{t}</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p3.2.m2.1d">italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> given the context <math alttext="x" class="ltx_Math" display="inline" id="S2.SS4.p3.3.m3.1"><semantics id="S2.SS4.p3.3.m3.1a"><mi id="S2.SS4.p3.3.m3.1.1" xref="S2.SS4.p3.3.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p3.3.m3.1b"><ci id="S2.SS4.p3.3.m3.1.1.cmml" xref="S2.SS4.p3.3.m3.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p3.3.m3.1c">x</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p3.3.m3.1d">italic_x</annotation></semantics></math> and the previously generated sequence <math alttext="y_{&lt;t}" class="ltx_Math" display="inline" id="S2.SS4.p3.4.m4.1"><semantics id="S2.SS4.p3.4.m4.1a"><msub id="S2.SS4.p3.4.m4.1.1" xref="S2.SS4.p3.4.m4.1.1.cmml"><mi id="S2.SS4.p3.4.m4.1.1.2" xref="S2.SS4.p3.4.m4.1.1.2.cmml">y</mi><mrow id="S2.SS4.p3.4.m4.1.1.3" xref="S2.SS4.p3.4.m4.1.1.3.cmml"><mi id="S2.SS4.p3.4.m4.1.1.3.2" xref="S2.SS4.p3.4.m4.1.1.3.2.cmml"></mi><mo id="S2.SS4.p3.4.m4.1.1.3.1" xref="S2.SS4.p3.4.m4.1.1.3.1.cmml">&lt;</mo><mi id="S2.SS4.p3.4.m4.1.1.3.3" xref="S2.SS4.p3.4.m4.1.1.3.3.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p3.4.m4.1b"><apply id="S2.SS4.p3.4.m4.1.1.cmml" xref="S2.SS4.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS4.p3.4.m4.1.1.1.cmml" xref="S2.SS4.p3.4.m4.1.1">subscript</csymbol><ci id="S2.SS4.p3.4.m4.1.1.2.cmml" xref="S2.SS4.p3.4.m4.1.1.2">𝑦</ci><apply id="S2.SS4.p3.4.m4.1.1.3.cmml" xref="S2.SS4.p3.4.m4.1.1.3"><lt id="S2.SS4.p3.4.m4.1.1.3.1.cmml" xref="S2.SS4.p3.4.m4.1.1.3.1"></lt><csymbol cd="latexml" id="S2.SS4.p3.4.m4.1.1.3.2.cmml" xref="S2.SS4.p3.4.m4.1.1.3.2">absent</csymbol><ci id="S2.SS4.p3.4.m4.1.1.3.3.cmml" xref="S2.SS4.p3.4.m4.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p3.4.m4.1c">y_{&lt;t}</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p3.4.m4.1d">italic_y start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. The function <math alttext="\text{Retrieve}(x)" class="ltx_Math" display="inline" id="S2.SS4.p3.5.m5.1"><semantics id="S2.SS4.p3.5.m5.1a"><mrow id="S2.SS4.p3.5.m5.1.2" xref="S2.SS4.p3.5.m5.1.2.cmml"><mtext id="S2.SS4.p3.5.m5.1.2.2" xref="S2.SS4.p3.5.m5.1.2.2a.cmml">Retrieve</mtext><mo id="S2.SS4.p3.5.m5.1.2.1" xref="S2.SS4.p3.5.m5.1.2.1.cmml">⁢</mo><mrow id="S2.SS4.p3.5.m5.1.2.3.2" xref="S2.SS4.p3.5.m5.1.2.cmml"><mo id="S2.SS4.p3.5.m5.1.2.3.2.1" stretchy="false" xref="S2.SS4.p3.5.m5.1.2.cmml">(</mo><mi id="S2.SS4.p3.5.m5.1.1" xref="S2.SS4.p3.5.m5.1.1.cmml">x</mi><mo id="S2.SS4.p3.5.m5.1.2.3.2.2" stretchy="false" xref="S2.SS4.p3.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p3.5.m5.1b"><apply id="S2.SS4.p3.5.m5.1.2.cmml" xref="S2.SS4.p3.5.m5.1.2"><times id="S2.SS4.p3.5.m5.1.2.1.cmml" xref="S2.SS4.p3.5.m5.1.2.1"></times><ci id="S2.SS4.p3.5.m5.1.2.2a.cmml" xref="S2.SS4.p3.5.m5.1.2.2"><mtext id="S2.SS4.p3.5.m5.1.2.2.cmml" xref="S2.SS4.p3.5.m5.1.2.2">Retrieve</mtext></ci><ci id="S2.SS4.p3.5.m5.1.1.cmml" xref="S2.SS4.p3.5.m5.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p3.5.m5.1c">\text{Retrieve}(x)</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p3.5.m5.1d">Retrieve ( italic_x )</annotation></semantics></math> retrieves pertinent information from the input context, which is then incorporated into the generation process by the function <span class="ltx_text ltx_markedasmath" id="S2.SS4.p3.6.1">LoRAG</span>.</p>
</div>
<div class="ltx_para" id="S2.SS4.p4">
<p class="ltx_p" id="S2.SS4.p4.1">Furthermore, the loop mechanism is enhanced through the utilization of a reinforcement learning objective:</p>
</div>
<div class="ltx_para" id="S2.SS4.p5">
<table class="ltx_equation ltx_eqn_table" id="S2.Ex2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="J(\theta)=\sum_{t=1}^{T}\mathbb{E}_{(x,y)}\left[r(y_{t},y_{&lt;t},x)\cdot\nabla_{%
\theta}\log P(y_{t}|x,y_{&lt;t};\theta)\right]" class="ltx_Math" display="block" id="S2.Ex2.m1.7"><semantics id="S2.Ex2.m1.7a"><mrow id="S2.Ex2.m1.7.7" xref="S2.Ex2.m1.7.7.cmml"><mrow id="S2.Ex2.m1.7.7.3" xref="S2.Ex2.m1.7.7.3.cmml"><mi id="S2.Ex2.m1.7.7.3.2" xref="S2.Ex2.m1.7.7.3.2.cmml">J</mi><mo id="S2.Ex2.m1.7.7.3.1" xref="S2.Ex2.m1.7.7.3.1.cmml">⁢</mo><mrow id="S2.Ex2.m1.7.7.3.3.2" xref="S2.Ex2.m1.7.7.3.cmml"><mo id="S2.Ex2.m1.7.7.3.3.2.1" stretchy="false" xref="S2.Ex2.m1.7.7.3.cmml">(</mo><mi id="S2.Ex2.m1.3.3" xref="S2.Ex2.m1.3.3.cmml">θ</mi><mo id="S2.Ex2.m1.7.7.3.3.2.2" stretchy="false" xref="S2.Ex2.m1.7.7.3.cmml">)</mo></mrow></mrow><mo id="S2.Ex2.m1.7.7.2" rspace="0.111em" xref="S2.Ex2.m1.7.7.2.cmml">=</mo><mrow id="S2.Ex2.m1.7.7.1" xref="S2.Ex2.m1.7.7.1.cmml"><munderover id="S2.Ex2.m1.7.7.1.2" xref="S2.Ex2.m1.7.7.1.2.cmml"><mo id="S2.Ex2.m1.7.7.1.2.2.2" movablelimits="false" xref="S2.Ex2.m1.7.7.1.2.2.2.cmml">∑</mo><mrow id="S2.Ex2.m1.7.7.1.2.2.3" xref="S2.Ex2.m1.7.7.1.2.2.3.cmml"><mi id="S2.Ex2.m1.7.7.1.2.2.3.2" xref="S2.Ex2.m1.7.7.1.2.2.3.2.cmml">t</mi><mo id="S2.Ex2.m1.7.7.1.2.2.3.1" xref="S2.Ex2.m1.7.7.1.2.2.3.1.cmml">=</mo><mn id="S2.Ex2.m1.7.7.1.2.2.3.3" xref="S2.Ex2.m1.7.7.1.2.2.3.3.cmml">1</mn></mrow><mi id="S2.Ex2.m1.7.7.1.2.3" xref="S2.Ex2.m1.7.7.1.2.3.cmml">T</mi></munderover><mrow id="S2.Ex2.m1.7.7.1.1" xref="S2.Ex2.m1.7.7.1.1.cmml"><msub id="S2.Ex2.m1.7.7.1.1.3" xref="S2.Ex2.m1.7.7.1.1.3.cmml"><mi id="S2.Ex2.m1.7.7.1.1.3.2" xref="S2.Ex2.m1.7.7.1.1.3.2.cmml">𝔼</mi><mrow id="S2.Ex2.m1.2.2.2.4" xref="S2.Ex2.m1.2.2.2.3.cmml"><mo id="S2.Ex2.m1.2.2.2.4.1" stretchy="false" xref="S2.Ex2.m1.2.2.2.3.cmml">(</mo><mi id="S2.Ex2.m1.1.1.1.1" xref="S2.Ex2.m1.1.1.1.1.cmml">x</mi><mo id="S2.Ex2.m1.2.2.2.4.2" xref="S2.Ex2.m1.2.2.2.3.cmml">,</mo><mi id="S2.Ex2.m1.2.2.2.2" xref="S2.Ex2.m1.2.2.2.2.cmml">y</mi><mo id="S2.Ex2.m1.2.2.2.4.3" stretchy="false" xref="S2.Ex2.m1.2.2.2.3.cmml">)</mo></mrow></msub><mo id="S2.Ex2.m1.7.7.1.1.2" xref="S2.Ex2.m1.7.7.1.1.2.cmml">⁢</mo><mrow id="S2.Ex2.m1.7.7.1.1.1.1" xref="S2.Ex2.m1.7.7.1.1.1.2.cmml"><mo id="S2.Ex2.m1.7.7.1.1.1.1.2" xref="S2.Ex2.m1.7.7.1.1.1.2.1.cmml">[</mo><mrow id="S2.Ex2.m1.7.7.1.1.1.1.1" xref="S2.Ex2.m1.7.7.1.1.1.1.1.cmml"><mrow id="S2.Ex2.m1.7.7.1.1.1.1.1.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.cmml"><mrow id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.cmml"><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.4" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.4.cmml">r</mi><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.3" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.3.cmml">⁢</mo><mrow id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.3.cmml"><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.3" stretchy="false" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.3.cmml">(</mo><msub id="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1" xref="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.cmml">y</mi><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3" xref="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.4" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.3.cmml">,</mo><msub id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.2.cmml">y</mi><mrow id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.cmml"><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.2.cmml"></mi><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.1" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.1.cmml">&lt;</mo><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.3" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.3.cmml">t</mi></mrow></msub><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.5" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.3.cmml">,</mo><mi id="S2.Ex2.m1.4.4" xref="S2.Ex2.m1.4.4.cmml">x</mi><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.6" rspace="0.055em" stretchy="false" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.2.3" rspace="0.222em" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.3.cmml">⋅</mo><mrow id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.cmml"><mrow id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.cmml"><msub id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1.cmml"><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1.2" rspace="0.167em" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1.2.cmml">∇</mo><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1.3" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1.3.cmml">θ</mi></msub><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.2.cmml">log</mi></mrow><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4a" lspace="0.167em" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.cmml">⁡</mo><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.2.cmml">P</mi></mrow></mrow><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.4" xref="S2.Ex2.m1.7.7.1.1.1.1.1.4.cmml">⁢</mo><mrow id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.cmml"><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.2" stretchy="false" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.cmml">(</mo><mrow id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.cmml"><msub id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3.cmml"><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3.2.cmml">y</mi><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3.3" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3.3.cmml">t</mi></msub><mo fence="false" id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.2.cmml">|</mo><mrow id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.2.cmml"><mi id="S2.Ex2.m1.5.5" xref="S2.Ex2.m1.5.5.cmml">x</mi><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.2.cmml">,</mo><msub id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.cmml"><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.2.cmml">y</mi><mrow id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.cmml"><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.2" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.2.cmml"></mi><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.1" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.3" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.3.cmml">t</mi></mrow></msub><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.3" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.2.cmml">;</mo><mi id="S2.Ex2.m1.6.6" xref="S2.Ex2.m1.6.6.cmml">θ</mi></mrow></mrow><mo id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.3" stretchy="false" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.cmml">)</mo></mrow></mrow><mo id="S2.Ex2.m1.7.7.1.1.1.1.3" xref="S2.Ex2.m1.7.7.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex2.m1.7b"><apply id="S2.Ex2.m1.7.7.cmml" xref="S2.Ex2.m1.7.7"><eq id="S2.Ex2.m1.7.7.2.cmml" xref="S2.Ex2.m1.7.7.2"></eq><apply id="S2.Ex2.m1.7.7.3.cmml" xref="S2.Ex2.m1.7.7.3"><times id="S2.Ex2.m1.7.7.3.1.cmml" xref="S2.Ex2.m1.7.7.3.1"></times><ci id="S2.Ex2.m1.7.7.3.2.cmml" xref="S2.Ex2.m1.7.7.3.2">𝐽</ci><ci id="S2.Ex2.m1.3.3.cmml" xref="S2.Ex2.m1.3.3">𝜃</ci></apply><apply id="S2.Ex2.m1.7.7.1.cmml" xref="S2.Ex2.m1.7.7.1"><apply id="S2.Ex2.m1.7.7.1.2.cmml" xref="S2.Ex2.m1.7.7.1.2"><csymbol cd="ambiguous" id="S2.Ex2.m1.7.7.1.2.1.cmml" xref="S2.Ex2.m1.7.7.1.2">superscript</csymbol><apply id="S2.Ex2.m1.7.7.1.2.2.cmml" xref="S2.Ex2.m1.7.7.1.2"><csymbol cd="ambiguous" id="S2.Ex2.m1.7.7.1.2.2.1.cmml" xref="S2.Ex2.m1.7.7.1.2">subscript</csymbol><sum id="S2.Ex2.m1.7.7.1.2.2.2.cmml" xref="S2.Ex2.m1.7.7.1.2.2.2"></sum><apply id="S2.Ex2.m1.7.7.1.2.2.3.cmml" xref="S2.Ex2.m1.7.7.1.2.2.3"><eq id="S2.Ex2.m1.7.7.1.2.2.3.1.cmml" xref="S2.Ex2.m1.7.7.1.2.2.3.1"></eq><ci id="S2.Ex2.m1.7.7.1.2.2.3.2.cmml" xref="S2.Ex2.m1.7.7.1.2.2.3.2">𝑡</ci><cn id="S2.Ex2.m1.7.7.1.2.2.3.3.cmml" type="integer" xref="S2.Ex2.m1.7.7.1.2.2.3.3">1</cn></apply></apply><ci id="S2.Ex2.m1.7.7.1.2.3.cmml" xref="S2.Ex2.m1.7.7.1.2.3">𝑇</ci></apply><apply id="S2.Ex2.m1.7.7.1.1.cmml" xref="S2.Ex2.m1.7.7.1.1"><times id="S2.Ex2.m1.7.7.1.1.2.cmml" xref="S2.Ex2.m1.7.7.1.1.2"></times><apply id="S2.Ex2.m1.7.7.1.1.3.cmml" xref="S2.Ex2.m1.7.7.1.1.3"><csymbol cd="ambiguous" id="S2.Ex2.m1.7.7.1.1.3.1.cmml" xref="S2.Ex2.m1.7.7.1.1.3">subscript</csymbol><ci id="S2.Ex2.m1.7.7.1.1.3.2.cmml" xref="S2.Ex2.m1.7.7.1.1.3.2">𝔼</ci><interval closure="open" id="S2.Ex2.m1.2.2.2.3.cmml" xref="S2.Ex2.m1.2.2.2.4"><ci id="S2.Ex2.m1.1.1.1.1.cmml" xref="S2.Ex2.m1.1.1.1.1">𝑥</ci><ci id="S2.Ex2.m1.2.2.2.2.cmml" xref="S2.Ex2.m1.2.2.2.2">𝑦</ci></interval></apply><apply id="S2.Ex2.m1.7.7.1.1.1.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1"><csymbol cd="latexml" id="S2.Ex2.m1.7.7.1.1.1.2.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1"><times id="S2.Ex2.m1.7.7.1.1.1.1.1.4.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.4"></times><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2"><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.2.3.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.3">⋅</ci><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2"><times id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.3.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.3"></times><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.4.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.4">𝑟</ci><vector id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.3.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2"><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2">𝑦</ci><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.2">𝑦</ci><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3"><lt id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.1"></lt><csymbol cd="latexml" id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.2">absent</csymbol><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.3.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.2.2.2.2.3.3">𝑡</ci></apply></apply><ci id="S2.Ex2.m1.4.4.cmml" xref="S2.Ex2.m1.4.4">𝑥</ci></vector></apply><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4"><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1"><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1"><csymbol cd="ambiguous" id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1">subscript</csymbol><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1.2">∇</ci><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1.3.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.1.3">𝜃</ci></apply><log id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.1.2"></log></apply><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.2.4.2">𝑃</ci></apply></apply><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1"><csymbol cd="latexml" id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.2">conditional</csymbol><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3"><csymbol cd="ambiguous" id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3">subscript</csymbol><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3.2">𝑦</ci><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3.3.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.3.3">𝑡</ci></apply><list id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1"><ci id="S2.Ex2.m1.5.5.cmml" xref="S2.Ex2.m1.5.5">𝑥</ci><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1">subscript</csymbol><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.2">𝑦</ci><apply id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3"><lt id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.1.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.2.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.2">absent</csymbol><ci id="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.3.cmml" xref="S2.Ex2.m1.7.7.1.1.1.1.1.3.1.1.1.1.1.3.3">𝑡</ci></apply></apply><ci id="S2.Ex2.m1.6.6.cmml" xref="S2.Ex2.m1.6.6">𝜃</ci></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex2.m1.7c">J(\theta)=\sum_{t=1}^{T}\mathbb{E}_{(x,y)}\left[r(y_{t},y_{&lt;t},x)\cdot\nabla_{%
\theta}\log P(y_{t}|x,y_{&lt;t};\theta)\right]</annotation><annotation encoding="application/x-llamapun" id="S2.Ex2.m1.7d">italic_J ( italic_θ ) = ∑ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT blackboard_E start_POSTSUBSCRIPT ( italic_x , italic_y ) end_POSTSUBSCRIPT [ italic_r ( italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT , italic_x ) ⋅ ∇ start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT roman_log italic_P ( italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_x , italic_y start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT ; italic_θ ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S2.SS4.p6">
<p class="ltx_p" id="S2.SS4.p6.3">Here, <math alttext="J(\theta)" class="ltx_Math" display="inline" id="S2.SS4.p6.1.m1.1"><semantics id="S2.SS4.p6.1.m1.1a"><mrow id="S2.SS4.p6.1.m1.1.2" xref="S2.SS4.p6.1.m1.1.2.cmml"><mi id="S2.SS4.p6.1.m1.1.2.2" xref="S2.SS4.p6.1.m1.1.2.2.cmml">J</mi><mo id="S2.SS4.p6.1.m1.1.2.1" xref="S2.SS4.p6.1.m1.1.2.1.cmml">⁢</mo><mrow id="S2.SS4.p6.1.m1.1.2.3.2" xref="S2.SS4.p6.1.m1.1.2.cmml"><mo id="S2.SS4.p6.1.m1.1.2.3.2.1" stretchy="false" xref="S2.SS4.p6.1.m1.1.2.cmml">(</mo><mi id="S2.SS4.p6.1.m1.1.1" xref="S2.SS4.p6.1.m1.1.1.cmml">θ</mi><mo id="S2.SS4.p6.1.m1.1.2.3.2.2" stretchy="false" xref="S2.SS4.p6.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p6.1.m1.1b"><apply id="S2.SS4.p6.1.m1.1.2.cmml" xref="S2.SS4.p6.1.m1.1.2"><times id="S2.SS4.p6.1.m1.1.2.1.cmml" xref="S2.SS4.p6.1.m1.1.2.1"></times><ci id="S2.SS4.p6.1.m1.1.2.2.cmml" xref="S2.SS4.p6.1.m1.1.2.2">𝐽</ci><ci id="S2.SS4.p6.1.m1.1.1.cmml" xref="S2.SS4.p6.1.m1.1.1">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p6.1.m1.1c">J(\theta)</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p6.1.m1.1d">italic_J ( italic_θ )</annotation></semantics></math> represents the reinforcement learning objective, <math alttext="r(y_{t},y_{&lt;t},x)" class="ltx_Math" display="inline" id="S2.SS4.p6.2.m2.3"><semantics id="S2.SS4.p6.2.m2.3a"><mrow id="S2.SS4.p6.2.m2.3.3" xref="S2.SS4.p6.2.m2.3.3.cmml"><mi id="S2.SS4.p6.2.m2.3.3.4" xref="S2.SS4.p6.2.m2.3.3.4.cmml">r</mi><mo id="S2.SS4.p6.2.m2.3.3.3" xref="S2.SS4.p6.2.m2.3.3.3.cmml">⁢</mo><mrow id="S2.SS4.p6.2.m2.3.3.2.2" xref="S2.SS4.p6.2.m2.3.3.2.3.cmml"><mo id="S2.SS4.p6.2.m2.3.3.2.2.3" stretchy="false" xref="S2.SS4.p6.2.m2.3.3.2.3.cmml">(</mo><msub id="S2.SS4.p6.2.m2.2.2.1.1.1" xref="S2.SS4.p6.2.m2.2.2.1.1.1.cmml"><mi id="S2.SS4.p6.2.m2.2.2.1.1.1.2" xref="S2.SS4.p6.2.m2.2.2.1.1.1.2.cmml">y</mi><mi id="S2.SS4.p6.2.m2.2.2.1.1.1.3" xref="S2.SS4.p6.2.m2.2.2.1.1.1.3.cmml">t</mi></msub><mo id="S2.SS4.p6.2.m2.3.3.2.2.4" xref="S2.SS4.p6.2.m2.3.3.2.3.cmml">,</mo><msub id="S2.SS4.p6.2.m2.3.3.2.2.2" xref="S2.SS4.p6.2.m2.3.3.2.2.2.cmml"><mi id="S2.SS4.p6.2.m2.3.3.2.2.2.2" xref="S2.SS4.p6.2.m2.3.3.2.2.2.2.cmml">y</mi><mrow id="S2.SS4.p6.2.m2.3.3.2.2.2.3" xref="S2.SS4.p6.2.m2.3.3.2.2.2.3.cmml"><mi id="S2.SS4.p6.2.m2.3.3.2.2.2.3.2" xref="S2.SS4.p6.2.m2.3.3.2.2.2.3.2.cmml"></mi><mo id="S2.SS4.p6.2.m2.3.3.2.2.2.3.1" xref="S2.SS4.p6.2.m2.3.3.2.2.2.3.1.cmml">&lt;</mo><mi id="S2.SS4.p6.2.m2.3.3.2.2.2.3.3" xref="S2.SS4.p6.2.m2.3.3.2.2.2.3.3.cmml">t</mi></mrow></msub><mo id="S2.SS4.p6.2.m2.3.3.2.2.5" xref="S2.SS4.p6.2.m2.3.3.2.3.cmml">,</mo><mi id="S2.SS4.p6.2.m2.1.1" xref="S2.SS4.p6.2.m2.1.1.cmml">x</mi><mo id="S2.SS4.p6.2.m2.3.3.2.2.6" stretchy="false" xref="S2.SS4.p6.2.m2.3.3.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p6.2.m2.3b"><apply id="S2.SS4.p6.2.m2.3.3.cmml" xref="S2.SS4.p6.2.m2.3.3"><times id="S2.SS4.p6.2.m2.3.3.3.cmml" xref="S2.SS4.p6.2.m2.3.3.3"></times><ci id="S2.SS4.p6.2.m2.3.3.4.cmml" xref="S2.SS4.p6.2.m2.3.3.4">𝑟</ci><vector id="S2.SS4.p6.2.m2.3.3.2.3.cmml" xref="S2.SS4.p6.2.m2.3.3.2.2"><apply id="S2.SS4.p6.2.m2.2.2.1.1.1.cmml" xref="S2.SS4.p6.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS4.p6.2.m2.2.2.1.1.1.1.cmml" xref="S2.SS4.p6.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S2.SS4.p6.2.m2.2.2.1.1.1.2.cmml" xref="S2.SS4.p6.2.m2.2.2.1.1.1.2">𝑦</ci><ci id="S2.SS4.p6.2.m2.2.2.1.1.1.3.cmml" xref="S2.SS4.p6.2.m2.2.2.1.1.1.3">𝑡</ci></apply><apply id="S2.SS4.p6.2.m2.3.3.2.2.2.cmml" xref="S2.SS4.p6.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS4.p6.2.m2.3.3.2.2.2.1.cmml" xref="S2.SS4.p6.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S2.SS4.p6.2.m2.3.3.2.2.2.2.cmml" xref="S2.SS4.p6.2.m2.3.3.2.2.2.2">𝑦</ci><apply id="S2.SS4.p6.2.m2.3.3.2.2.2.3.cmml" xref="S2.SS4.p6.2.m2.3.3.2.2.2.3"><lt id="S2.SS4.p6.2.m2.3.3.2.2.2.3.1.cmml" xref="S2.SS4.p6.2.m2.3.3.2.2.2.3.1"></lt><csymbol cd="latexml" id="S2.SS4.p6.2.m2.3.3.2.2.2.3.2.cmml" xref="S2.SS4.p6.2.m2.3.3.2.2.2.3.2">absent</csymbol><ci id="S2.SS4.p6.2.m2.3.3.2.2.2.3.3.cmml" xref="S2.SS4.p6.2.m2.3.3.2.2.2.3.3">𝑡</ci></apply></apply><ci id="S2.SS4.p6.2.m2.1.1.cmml" xref="S2.SS4.p6.2.m2.1.1">𝑥</ci></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p6.2.m2.3c">r(y_{t},y_{&lt;t},x)</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p6.2.m2.3d">italic_r ( italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT , italic_x )</annotation></semantics></math> is the reward function, and <math alttext="\theta" class="ltx_Math" display="inline" id="S2.SS4.p6.3.m3.1"><semantics id="S2.SS4.p6.3.m3.1a"><mi id="S2.SS4.p6.3.m3.1.1" xref="S2.SS4.p6.3.m3.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p6.3.m3.1b"><ci id="S2.SS4.p6.3.m3.1.1.cmml" xref="S2.SS4.p6.3.m3.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p6.3.m3.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p6.3.m3.1d">italic_θ</annotation></semantics></math> denotes the model parameters.</p>
</div>
<div class="ltx_para" id="S2.SS4.p7">
<p class="ltx_p" id="S2.SS4.p7.1">This fusion of retrieval, loops, and reinforcement learning sets LoRAG apart as an innovative approach in the realm of text generation models.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span class="ltx_text ltx_font_smallcaps" id="S3.1.1">LoRAG Framework</span>
</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">The LoRAG framework is crafted to elevate retrieval-augmented text generation by integrating iterative loops. In this segment, we elucidate the architecture, constituents, and operational flow of the LoRAG model.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS1.4.1.1">III-A</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS1.5.2">Architecture</span>
</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">The LoRAG architecture comprises three primary components: the generative model, the retrieval mechanism, and the iterative loop module. Figure <a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S3.F1" title="Figure 1 ‣ III-A Architecture ‣ III LoRAG Framework ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_tag">1</span></a> depicts the overall architecture of LoRAG.</p>
</div>
<figure class="ltx_figure" id="S3.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="379" id="S3.F1.g1" src="extracted/5478830/figure1.png" width="479"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>LoRAG Architecture</figcaption>
</figure>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.3">The generative model processes the input context <math alttext="x" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><mi id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">italic_x</annotation></semantics></math> and produces the initial output <math alttext="y" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><mi id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">italic_y</annotation></semantics></math>. Concurrently, the retrieval mechanism retrieves pertinent information from the input context, supplying additional context <math alttext="C" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.1"><semantics id="S3.SS1.p2.3.m3.1a"><mi id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.1d">italic_C</annotation></semantics></math> to the iterative loop module. Subsequently, the iterative loop module enhances the generated output through multiple interactions with the retrieved information.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS2.4.1.1">III-B</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS2.5.2">Iterative Loop Mechanism</span>
</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">The core component of LoRAG is its iterative loop mechanism, which facilitates the progressive enhancement of generated text. The mechanism entails the following steps:</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed_top" id="alg1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.2.1.1">Algorithm 1</span> </span> LoRAG Iterative Loop</figcaption>
<div class="ltx_listing ltx_listing" id="alg1.3">
<div class="ltx_listingline" id="alg1.l1">Initialize: <math alttext="y\leftarrow\textit{GenerativeModel}(x)" class="ltx_Math" display="inline" id="alg1.l1.m1.1"><semantics id="alg1.l1.m1.1a"><mrow id="alg1.l1.m1.1.2" xref="alg1.l1.m1.1.2.cmml"><mi id="alg1.l1.m1.1.2.2" xref="alg1.l1.m1.1.2.2.cmml">y</mi><mo id="alg1.l1.m1.1.2.1" stretchy="false" xref="alg1.l1.m1.1.2.1.cmml">←</mo><mrow id="alg1.l1.m1.1.2.3" xref="alg1.l1.m1.1.2.3.cmml"><mtext id="alg1.l1.m1.1.2.3.2" xref="alg1.l1.m1.1.2.3.2a.cmml">𝐺𝑒𝑛𝑒𝑟𝑎𝑡𝑖𝑣𝑒𝑀𝑜𝑑𝑒𝑙</mtext><mo id="alg1.l1.m1.1.2.3.1" xref="alg1.l1.m1.1.2.3.1.cmml">⁢</mo><mrow id="alg1.l1.m1.1.2.3.3.2" xref="alg1.l1.m1.1.2.3.cmml"><mo id="alg1.l1.m1.1.2.3.3.2.1" stretchy="false" xref="alg1.l1.m1.1.2.3.cmml">(</mo><mi id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml">x</mi><mo id="alg1.l1.m1.1.2.3.3.2.2" stretchy="false" xref="alg1.l1.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.2.cmml" xref="alg1.l1.m1.1.2"><ci id="alg1.l1.m1.1.2.1.cmml" xref="alg1.l1.m1.1.2.1">←</ci><ci id="alg1.l1.m1.1.2.2.cmml" xref="alg1.l1.m1.1.2.2">𝑦</ci><apply id="alg1.l1.m1.1.2.3.cmml" xref="alg1.l1.m1.1.2.3"><times id="alg1.l1.m1.1.2.3.1.cmml" xref="alg1.l1.m1.1.2.3.1"></times><ci id="alg1.l1.m1.1.2.3.2a.cmml" xref="alg1.l1.m1.1.2.3.2"><mtext id="alg1.l1.m1.1.2.3.2.cmml" xref="alg1.l1.m1.1.2.3.2">𝐺𝑒𝑛𝑒𝑟𝑎𝑡𝑖𝑣𝑒𝑀𝑜𝑑𝑒𝑙</mtext></ci><ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">y\leftarrow\textit{GenerativeModel}(x)</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m1.1d">italic_y ← GenerativeModel ( italic_x )</annotation></semantics></math>, where <math alttext="x" class="ltx_Math" display="inline" id="alg1.l1.m2.1"><semantics id="alg1.l1.m2.1a"><mi id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><ci id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">x</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m2.1d">italic_x</annotation></semantics></math> denotes the input text and <math alttext="y" class="ltx_Math" display="inline" id="alg1.l1.m3.1"><semantics id="alg1.l1.m3.1a"><mi id="alg1.l1.m3.1.1" xref="alg1.l1.m3.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m3.1b"><ci id="alg1.l1.m3.1.1.cmml" xref="alg1.l1.m3.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m3.1c">y</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m3.1d">italic_y</annotation></semantics></math> represents the initial output text

</div>
<div class="ltx_listingline" id="alg1.l2">
<math alttext="\mathcal{C}\leftarrow\textit{RetrievalMechanism}(x)" class="ltx_Math" display="inline" id="alg1.l2.m1.1"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.2" xref="alg1.l2.m1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l2.m1.1.2.2" xref="alg1.l2.m1.1.2.2.cmml">𝒞</mi><mo id="alg1.l2.m1.1.2.1" stretchy="false" xref="alg1.l2.m1.1.2.1.cmml">←</mo><mrow id="alg1.l2.m1.1.2.3" xref="alg1.l2.m1.1.2.3.cmml"><mtext id="alg1.l2.m1.1.2.3.2" xref="alg1.l2.m1.1.2.3.2a.cmml">𝑅𝑒𝑡𝑟𝑖𝑒𝑣𝑎𝑙𝑀𝑒𝑐ℎ𝑎𝑛𝑖𝑠𝑚</mtext><mo id="alg1.l2.m1.1.2.3.1" xref="alg1.l2.m1.1.2.3.1.cmml">⁢</mo><mrow id="alg1.l2.m1.1.2.3.3.2" xref="alg1.l2.m1.1.2.3.cmml"><mo id="alg1.l2.m1.1.2.3.3.2.1" stretchy="false" xref="alg1.l2.m1.1.2.3.cmml">(</mo><mi id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">x</mi><mo id="alg1.l2.m1.1.2.3.3.2.2" stretchy="false" xref="alg1.l2.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.2.cmml" xref="alg1.l2.m1.1.2"><ci id="alg1.l2.m1.1.2.1.cmml" xref="alg1.l2.m1.1.2.1">←</ci><ci id="alg1.l2.m1.1.2.2.cmml" xref="alg1.l2.m1.1.2.2">𝒞</ci><apply id="alg1.l2.m1.1.2.3.cmml" xref="alg1.l2.m1.1.2.3"><times id="alg1.l2.m1.1.2.3.1.cmml" xref="alg1.l2.m1.1.2.3.1"></times><ci id="alg1.l2.m1.1.2.3.2a.cmml" xref="alg1.l2.m1.1.2.3.2"><mtext id="alg1.l2.m1.1.2.3.2.cmml" xref="alg1.l2.m1.1.2.3.2">𝑅𝑒𝑡𝑟𝑖𝑒𝑣𝑎𝑙𝑀𝑒𝑐ℎ𝑎𝑛𝑖𝑠𝑚</mtext></ci><ci id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">\mathcal{C}\leftarrow\textit{RetrievalMechanism}(x)</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m1.1d">caligraphic_C ← RetrievalMechanism ( italic_x )</annotation></semantics></math>, where <math alttext="\mathcal{C}" class="ltx_Math" display="inline" id="alg1.l2.m2.1"><semantics id="alg1.l2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l2.m2.1.1" xref="alg1.l2.m2.1.1.cmml">𝒞</mi><annotation-xml encoding="MathML-Content" id="alg1.l2.m2.1b"><ci id="alg1.l2.m2.1.1.cmml" xref="alg1.l2.m2.1.1">𝒞</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m2.1c">\mathcal{C}</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m2.1d">caligraphic_C</annotation></semantics></math> signifies the set of relevant information retrieved from external sources

</div>
<div class="ltx_listingline" id="alg1.l3">
<span class="ltx_text ltx_font_bold" id="alg1.l3.1">for</span> <math alttext="t=1" class="ltx_Math" display="inline" id="alg1.l3.m1.1"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><mi id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml">t</mi><mo id="alg1.l3.m1.1.1.1" xref="alg1.l3.m1.1.1.1.cmml">=</mo><mn id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><eq id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1"></eq><ci id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">𝑡</ci><cn id="alg1.l3.m1.1.1.3.cmml" type="integer" xref="alg1.l3.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">t=1</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.1d">italic_t = 1</annotation></semantics></math> to <math alttext="T" class="ltx_Math" display="inline" id="alg1.l3.m2.1"><semantics id="alg1.l3.m2.1a"><mi id="alg1.l3.m2.1.1" xref="alg1.l3.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg1.l3.m2.1b"><ci id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m2.1c">T</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m2.1d">italic_T</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l3.2">do</span>, where <math alttext="T" class="ltx_Math" display="inline" id="alg1.l3.m3.1"><semantics id="alg1.l3.m3.1a"><mi id="alg1.l3.m3.1.1" xref="alg1.l3.m3.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg1.l3.m3.1b"><ci id="alg1.l3.m3.1.1.cmml" xref="alg1.l3.m3.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m3.1c">T</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m3.1d">italic_T</annotation></semantics></math> denotes the maximum number of iterations

</div>
<div class="ltx_listingline" id="alg1.l4">     <math alttext="y_{t}\leftarrow\textit{LoRAG}(y_{\leq t},\mathcal{C})" class="ltx_Math" display="inline" id="alg1.l4.m1.2"><semantics id="alg1.l4.m1.2a"><mrow id="alg1.l4.m1.2.2" xref="alg1.l4.m1.2.2.cmml"><msub id="alg1.l4.m1.2.2.3" xref="alg1.l4.m1.2.2.3.cmml"><mi id="alg1.l4.m1.2.2.3.2" xref="alg1.l4.m1.2.2.3.2.cmml">y</mi><mi id="alg1.l4.m1.2.2.3.3" xref="alg1.l4.m1.2.2.3.3.cmml">t</mi></msub><mo id="alg1.l4.m1.2.2.2" stretchy="false" xref="alg1.l4.m1.2.2.2.cmml">←</mo><mrow id="alg1.l4.m1.2.2.1" xref="alg1.l4.m1.2.2.1.cmml"><mtext id="alg1.l4.m1.2.2.1.3" xref="alg1.l4.m1.2.2.1.3a.cmml">𝐿𝑜𝑅𝐴𝐺</mtext><mo id="alg1.l4.m1.2.2.1.2" xref="alg1.l4.m1.2.2.1.2.cmml">⁢</mo><mrow id="alg1.l4.m1.2.2.1.1.1" xref="alg1.l4.m1.2.2.1.1.2.cmml"><mo id="alg1.l4.m1.2.2.1.1.1.2" stretchy="false" xref="alg1.l4.m1.2.2.1.1.2.cmml">(</mo><msub id="alg1.l4.m1.2.2.1.1.1.1" xref="alg1.l4.m1.2.2.1.1.1.1.cmml"><mi id="alg1.l4.m1.2.2.1.1.1.1.2" xref="alg1.l4.m1.2.2.1.1.1.1.2.cmml">y</mi><mrow id="alg1.l4.m1.2.2.1.1.1.1.3" xref="alg1.l4.m1.2.2.1.1.1.1.3.cmml"><mi id="alg1.l4.m1.2.2.1.1.1.1.3.2" xref="alg1.l4.m1.2.2.1.1.1.1.3.2.cmml"></mi><mo id="alg1.l4.m1.2.2.1.1.1.1.3.1" xref="alg1.l4.m1.2.2.1.1.1.1.3.1.cmml">≤</mo><mi id="alg1.l4.m1.2.2.1.1.1.1.3.3" xref="alg1.l4.m1.2.2.1.1.1.1.3.3.cmml">t</mi></mrow></msub><mo id="alg1.l4.m1.2.2.1.1.1.3" xref="alg1.l4.m1.2.2.1.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">𝒞</mi><mo id="alg1.l4.m1.2.2.1.1.1.4" stretchy="false" xref="alg1.l4.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.2b"><apply id="alg1.l4.m1.2.2.cmml" xref="alg1.l4.m1.2.2"><ci id="alg1.l4.m1.2.2.2.cmml" xref="alg1.l4.m1.2.2.2">←</ci><apply id="alg1.l4.m1.2.2.3.cmml" xref="alg1.l4.m1.2.2.3"><csymbol cd="ambiguous" id="alg1.l4.m1.2.2.3.1.cmml" xref="alg1.l4.m1.2.2.3">subscript</csymbol><ci id="alg1.l4.m1.2.2.3.2.cmml" xref="alg1.l4.m1.2.2.3.2">𝑦</ci><ci id="alg1.l4.m1.2.2.3.3.cmml" xref="alg1.l4.m1.2.2.3.3">𝑡</ci></apply><apply id="alg1.l4.m1.2.2.1.cmml" xref="alg1.l4.m1.2.2.1"><times id="alg1.l4.m1.2.2.1.2.cmml" xref="alg1.l4.m1.2.2.1.2"></times><ci id="alg1.l4.m1.2.2.1.3a.cmml" xref="alg1.l4.m1.2.2.1.3"><mtext id="alg1.l4.m1.2.2.1.3.cmml" xref="alg1.l4.m1.2.2.1.3">𝐿𝑜𝑅𝐴𝐺</mtext></ci><interval closure="open" id="alg1.l4.m1.2.2.1.1.2.cmml" xref="alg1.l4.m1.2.2.1.1.1"><apply id="alg1.l4.m1.2.2.1.1.1.1.cmml" xref="alg1.l4.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.2.2.1.1.1.1.1.cmml" xref="alg1.l4.m1.2.2.1.1.1.1">subscript</csymbol><ci id="alg1.l4.m1.2.2.1.1.1.1.2.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.2">𝑦</ci><apply id="alg1.l4.m1.2.2.1.1.1.1.3.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.3"><leq id="alg1.l4.m1.2.2.1.1.1.1.3.1.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.3.1"></leq><csymbol cd="latexml" id="alg1.l4.m1.2.2.1.1.1.1.3.2.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.3.2">absent</csymbol><ci id="alg1.l4.m1.2.2.1.1.1.1.3.3.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.3.3">𝑡</ci></apply></apply><ci id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">𝒞</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.2c">y_{t}\leftarrow\textit{LoRAG}(y_{\leq t},\mathcal{C})</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m1.2d">italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ← LoRAG ( italic_y start_POSTSUBSCRIPT ≤ italic_t end_POSTSUBSCRIPT , caligraphic_C )</annotation></semantics></math>, where <math alttext="y_{t}" class="ltx_Math" display="inline" id="alg1.l4.m2.1"><semantics id="alg1.l4.m2.1a"><msub id="alg1.l4.m2.1.1" xref="alg1.l4.m2.1.1.cmml"><mi id="alg1.l4.m2.1.1.2" xref="alg1.l4.m2.1.1.2.cmml">y</mi><mi id="alg1.l4.m2.1.1.3" xref="alg1.l4.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l4.m2.1b"><apply id="alg1.l4.m2.1.1.cmml" xref="alg1.l4.m2.1.1"><csymbol cd="ambiguous" id="alg1.l4.m2.1.1.1.cmml" xref="alg1.l4.m2.1.1">subscript</csymbol><ci id="alg1.l4.m2.1.1.2.cmml" xref="alg1.l4.m2.1.1.2">𝑦</ci><ci id="alg1.l4.m2.1.1.3.cmml" xref="alg1.l4.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m2.1c">y_{t}</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m2.1d">italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> represents the refined output text at iteration <math alttext="t" class="ltx_Math" display="inline" id="alg1.l4.m3.1"><semantics id="alg1.l4.m3.1a"><mi id="alg1.l4.m3.1.1" xref="alg1.l4.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="alg1.l4.m3.1b"><ci id="alg1.l4.m3.1.1.cmml" xref="alg1.l4.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m3.1c">t</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m3.1d">italic_t</annotation></semantics></math> and <math alttext="y_{\leq t}" class="ltx_Math" display="inline" id="alg1.l4.m4.1"><semantics id="alg1.l4.m4.1a"><msub id="alg1.l4.m4.1.1" xref="alg1.l4.m4.1.1.cmml"><mi id="alg1.l4.m4.1.1.2" xref="alg1.l4.m4.1.1.2.cmml">y</mi><mrow id="alg1.l4.m4.1.1.3" xref="alg1.l4.m4.1.1.3.cmml"><mi id="alg1.l4.m4.1.1.3.2" xref="alg1.l4.m4.1.1.3.2.cmml"></mi><mo id="alg1.l4.m4.1.1.3.1" xref="alg1.l4.m4.1.1.3.1.cmml">≤</mo><mi id="alg1.l4.m4.1.1.3.3" xref="alg1.l4.m4.1.1.3.3.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l4.m4.1b"><apply id="alg1.l4.m4.1.1.cmml" xref="alg1.l4.m4.1.1"><csymbol cd="ambiguous" id="alg1.l4.m4.1.1.1.cmml" xref="alg1.l4.m4.1.1">subscript</csymbol><ci id="alg1.l4.m4.1.1.2.cmml" xref="alg1.l4.m4.1.1.2">𝑦</ci><apply id="alg1.l4.m4.1.1.3.cmml" xref="alg1.l4.m4.1.1.3"><leq id="alg1.l4.m4.1.1.3.1.cmml" xref="alg1.l4.m4.1.1.3.1"></leq><csymbol cd="latexml" id="alg1.l4.m4.1.1.3.2.cmml" xref="alg1.l4.m4.1.1.3.2">absent</csymbol><ci id="alg1.l4.m4.1.1.3.3.cmml" xref="alg1.l4.m4.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m4.1c">y_{\leq t}</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m4.1d">italic_y start_POSTSUBSCRIPT ≤ italic_t end_POSTSUBSCRIPT</annotation></semantics></math> signifies the output text up to iteration <math alttext="t-1" class="ltx_Math" display="inline" id="alg1.l4.m5.1"><semantics id="alg1.l4.m5.1a"><mrow id="alg1.l4.m5.1.1" xref="alg1.l4.m5.1.1.cmml"><mi id="alg1.l4.m5.1.1.2" xref="alg1.l4.m5.1.1.2.cmml">t</mi><mo id="alg1.l4.m5.1.1.1" xref="alg1.l4.m5.1.1.1.cmml">−</mo><mn id="alg1.l4.m5.1.1.3" xref="alg1.l4.m5.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m5.1b"><apply id="alg1.l4.m5.1.1.cmml" xref="alg1.l4.m5.1.1"><minus id="alg1.l4.m5.1.1.1.cmml" xref="alg1.l4.m5.1.1.1"></minus><ci id="alg1.l4.m5.1.1.2.cmml" xref="alg1.l4.m5.1.1.2">𝑡</ci><cn id="alg1.l4.m5.1.1.3.cmml" type="integer" xref="alg1.l4.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m5.1c">t-1</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m5.1d">italic_t - 1</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l5">     <math alttext="\mathcal{C}\leftarrow\textit{RetrievalMechanism}(x,y_{t})" class="ltx_Math" display="inline" id="alg1.l5.m1.2"><semantics id="alg1.l5.m1.2a"><mrow id="alg1.l5.m1.2.2" xref="alg1.l5.m1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l5.m1.2.2.3" xref="alg1.l5.m1.2.2.3.cmml">𝒞</mi><mo id="alg1.l5.m1.2.2.2" stretchy="false" xref="alg1.l5.m1.2.2.2.cmml">←</mo><mrow id="alg1.l5.m1.2.2.1" xref="alg1.l5.m1.2.2.1.cmml"><mtext id="alg1.l5.m1.2.2.1.3" xref="alg1.l5.m1.2.2.1.3a.cmml">𝑅𝑒𝑡𝑟𝑖𝑒𝑣𝑎𝑙𝑀𝑒𝑐ℎ𝑎𝑛𝑖𝑠𝑚</mtext><mo id="alg1.l5.m1.2.2.1.2" xref="alg1.l5.m1.2.2.1.2.cmml">⁢</mo><mrow id="alg1.l5.m1.2.2.1.1.1" xref="alg1.l5.m1.2.2.1.1.2.cmml"><mo id="alg1.l5.m1.2.2.1.1.1.2" stretchy="false" xref="alg1.l5.m1.2.2.1.1.2.cmml">(</mo><mi id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml">x</mi><mo id="alg1.l5.m1.2.2.1.1.1.3" xref="alg1.l5.m1.2.2.1.1.2.cmml">,</mo><msub id="alg1.l5.m1.2.2.1.1.1.1" xref="alg1.l5.m1.2.2.1.1.1.1.cmml"><mi id="alg1.l5.m1.2.2.1.1.1.1.2" xref="alg1.l5.m1.2.2.1.1.1.1.2.cmml">y</mi><mi id="alg1.l5.m1.2.2.1.1.1.1.3" xref="alg1.l5.m1.2.2.1.1.1.1.3.cmml">t</mi></msub><mo id="alg1.l5.m1.2.2.1.1.1.4" stretchy="false" xref="alg1.l5.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.2b"><apply id="alg1.l5.m1.2.2.cmml" xref="alg1.l5.m1.2.2"><ci id="alg1.l5.m1.2.2.2.cmml" xref="alg1.l5.m1.2.2.2">←</ci><ci id="alg1.l5.m1.2.2.3.cmml" xref="alg1.l5.m1.2.2.3">𝒞</ci><apply id="alg1.l5.m1.2.2.1.cmml" xref="alg1.l5.m1.2.2.1"><times id="alg1.l5.m1.2.2.1.2.cmml" xref="alg1.l5.m1.2.2.1.2"></times><ci id="alg1.l5.m1.2.2.1.3a.cmml" xref="alg1.l5.m1.2.2.1.3"><mtext id="alg1.l5.m1.2.2.1.3.cmml" xref="alg1.l5.m1.2.2.1.3">𝑅𝑒𝑡𝑟𝑖𝑒𝑣𝑎𝑙𝑀𝑒𝑐ℎ𝑎𝑛𝑖𝑠𝑚</mtext></ci><interval closure="open" id="alg1.l5.m1.2.2.1.1.2.cmml" xref="alg1.l5.m1.2.2.1.1.1"><ci id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1">𝑥</ci><apply id="alg1.l5.m1.2.2.1.1.1.1.cmml" xref="alg1.l5.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.1.1.1.1.1.cmml" xref="alg1.l5.m1.2.2.1.1.1.1">subscript</csymbol><ci id="alg1.l5.m1.2.2.1.1.1.1.2.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.2">𝑦</ci><ci id="alg1.l5.m1.2.2.1.1.1.1.3.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.3">𝑡</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.2c">\mathcal{C}\leftarrow\textit{RetrievalMechanism}(x,y_{t})</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m1.2d">caligraphic_C ← RetrievalMechanism ( italic_x , italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>, where <math alttext="\mathcal{C}" class="ltx_Math" display="inline" id="alg1.l5.m2.1"><semantics id="alg1.l5.m2.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l5.m2.1.1" xref="alg1.l5.m2.1.1.cmml">𝒞</mi><annotation-xml encoding="MathML-Content" id="alg1.l5.m2.1b"><ci id="alg1.l5.m2.1.1.cmml" xref="alg1.l5.m2.1.1">𝒞</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m2.1c">\mathcal{C}</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m2.1d">caligraphic_C</annotation></semantics></math> denotes the updated set of relevant information based on the current output text

</div>
<div class="ltx_listingline" id="alg1.l6">
<span class="ltx_text ltx_font_bold" id="alg1.l6.1">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l6.2">for</span>
</div>
<div class="ltx_listingline" id="alg1.l7">Return: <math alttext="y_{T}" class="ltx_Math" display="inline" id="alg1.l7.m1.1"><semantics id="alg1.l7.m1.1a"><msub id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><mi id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2.cmml">y</mi><mi id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1">subscript</csymbol><ci id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2">𝑦</ci><ci id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">y_{T}</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m1.1d">italic_y start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT</annotation></semantics></math>, the final output text after <math alttext="T" class="ltx_Math" display="inline" id="alg1.l7.m2.1"><semantics id="alg1.l7.m2.1a"><mi id="alg1.l7.m2.1.1" xref="alg1.l7.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg1.l7.m2.1b"><ci id="alg1.l7.m2.1.1.cmml" xref="alg1.l7.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m2.1c">T</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m2.1d">italic_T</annotation></semantics></math> iterations

</div>
</div>
</figure>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.13">This mechanism initiates by generating an initial output text <math alttext="y" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">italic_y</annotation></semantics></math> using a generative model, such as GPT-4, capable of producing fluent and coherent text given an input text <math alttext="x" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_x</annotation></semantics></math>. Subsequently, it retrieves a set of relevant information <math alttext="\mathcal{C}" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.1"><semantics id="S3.SS2.p2.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml">𝒞</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><ci id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">𝒞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">\mathcal{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.1d">caligraphic_C</annotation></semantics></math> from external sources, such as Bing Search <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib12" title="">12</a>]</cite>, which can offer additional knowledge or context for the input text <math alttext="x" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m4.1"><semantics id="S3.SS2.p2.4.m4.1a"><mi id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><ci id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m4.1d">italic_x</annotation></semantics></math>. Then, it iteratively refines the output text <math alttext="y_{t}" class="ltx_Math" display="inline" id="S3.SS2.p2.5.m5.1"><semantics id="S3.SS2.p2.5.m5.1a"><msub id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml"><mi id="S3.SS2.p2.5.m5.1.1.2" xref="S3.SS2.p2.5.m5.1.1.2.cmml">y</mi><mi id="S3.SS2.p2.5.m5.1.1.3" xref="S3.SS2.p2.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><apply id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.5.m5.1.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p2.5.m5.1.1.2.cmml" xref="S3.SS2.p2.5.m5.1.1.2">𝑦</ci><ci id="S3.SS2.p2.5.m5.1.1.3.cmml" xref="S3.SS2.p2.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">y_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.5.m5.1d">italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> by employing LoRAG, a novel model that harnesses both the previous output text <math alttext="y_{\leq t}" class="ltx_Math" display="inline" id="S3.SS2.p2.6.m6.1"><semantics id="S3.SS2.p2.6.m6.1a"><msub id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml"><mi id="S3.SS2.p2.6.m6.1.1.2" xref="S3.SS2.p2.6.m6.1.1.2.cmml">y</mi><mrow id="S3.SS2.p2.6.m6.1.1.3" xref="S3.SS2.p2.6.m6.1.1.3.cmml"><mi id="S3.SS2.p2.6.m6.1.1.3.2" xref="S3.SS2.p2.6.m6.1.1.3.2.cmml"></mi><mo id="S3.SS2.p2.6.m6.1.1.3.1" xref="S3.SS2.p2.6.m6.1.1.3.1.cmml">≤</mo><mi id="S3.SS2.p2.6.m6.1.1.3.3" xref="S3.SS2.p2.6.m6.1.1.3.3.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.1b"><apply id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m6.1.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p2.6.m6.1.1.2.cmml" xref="S3.SS2.p2.6.m6.1.1.2">𝑦</ci><apply id="S3.SS2.p2.6.m6.1.1.3.cmml" xref="S3.SS2.p2.6.m6.1.1.3"><leq id="S3.SS2.p2.6.m6.1.1.3.1.cmml" xref="S3.SS2.p2.6.m6.1.1.3.1"></leq><csymbol cd="latexml" id="S3.SS2.p2.6.m6.1.1.3.2.cmml" xref="S3.SS2.p2.6.m6.1.1.3.2">absent</csymbol><ci id="S3.SS2.p2.6.m6.1.1.3.3.cmml" xref="S3.SS2.p2.6.m6.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.1c">y_{\leq t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.6.m6.1d">italic_y start_POSTSUBSCRIPT ≤ italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and the retrieved information <math alttext="\mathcal{C}" class="ltx_Math" display="inline" id="S3.SS2.p2.7.m7.1"><semantics id="S3.SS2.p2.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.7.m7.1.1" xref="S3.SS2.p2.7.m7.1.1.cmml">𝒞</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.7.m7.1b"><ci id="S3.SS2.p2.7.m7.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1">𝒞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m7.1c">\mathcal{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.7.m7.1d">caligraphic_C</annotation></semantics></math> to generate text that is more accurate, informative, and diverse. At each iteration, the retrieved information <math alttext="\mathcal{C}" class="ltx_Math" display="inline" id="S3.SS2.p2.8.m8.1"><semantics id="S3.SS2.p2.8.m8.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.8.m8.1.1" xref="S3.SS2.p2.8.m8.1.1.cmml">𝒞</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.8.m8.1b"><ci id="S3.SS2.p2.8.m8.1.1.cmml" xref="S3.SS2.p2.8.m8.1.1">𝒞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.8.m8.1c">\mathcal{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.8.m8.1d">caligraphic_C</annotation></semantics></math> is updated based on the current output text <math alttext="y_{t}" class="ltx_Math" display="inline" id="S3.SS2.p2.9.m9.1"><semantics id="S3.SS2.p2.9.m9.1a"><msub id="S3.SS2.p2.9.m9.1.1" xref="S3.SS2.p2.9.m9.1.1.cmml"><mi id="S3.SS2.p2.9.m9.1.1.2" xref="S3.SS2.p2.9.m9.1.1.2.cmml">y</mi><mi id="S3.SS2.p2.9.m9.1.1.3" xref="S3.SS2.p2.9.m9.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.9.m9.1b"><apply id="S3.SS2.p2.9.m9.1.1.cmml" xref="S3.SS2.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.9.m9.1.1.1.cmml" xref="S3.SS2.p2.9.m9.1.1">subscript</csymbol><ci id="S3.SS2.p2.9.m9.1.1.2.cmml" xref="S3.SS2.p2.9.m9.1.1.2">𝑦</ci><ci id="S3.SS2.p2.9.m9.1.1.3.cmml" xref="S3.SS2.p2.9.m9.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.9.m9.1c">y_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.9.m9.1d">italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> to ensure that the generation process is dynamic and contextually sensitive. The mechanism halts after a predetermined number of iterations <math alttext="T" class="ltx_Math" display="inline" id="S3.SS2.p2.10.m10.1"><semantics id="S3.SS2.p2.10.m10.1a"><mi id="S3.SS2.p2.10.m10.1.1" xref="S3.SS2.p2.10.m10.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.10.m10.1b"><ci id="S3.SS2.p2.10.m10.1.1.cmml" xref="S3.SS2.p2.10.m10.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.10.m10.1c">T</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.10.m10.1d">italic_T</annotation></semantics></math> or when the output text <math alttext="y_{t}" class="ltx_Math" display="inline" id="S3.SS2.p2.11.m11.1"><semantics id="S3.SS2.p2.11.m11.1a"><msub id="S3.SS2.p2.11.m11.1.1" xref="S3.SS2.p2.11.m11.1.1.cmml"><mi id="S3.SS2.p2.11.m11.1.1.2" xref="S3.SS2.p2.11.m11.1.1.2.cmml">y</mi><mi id="S3.SS2.p2.11.m11.1.1.3" xref="S3.SS2.p2.11.m11.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.11.m11.1b"><apply id="S3.SS2.p2.11.m11.1.1.cmml" xref="S3.SS2.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.11.m11.1.1.1.cmml" xref="S3.SS2.p2.11.m11.1.1">subscript</csymbol><ci id="S3.SS2.p2.11.m11.1.1.2.cmml" xref="S3.SS2.p2.11.m11.1.1.2">𝑦</ci><ci id="S3.SS2.p2.11.m11.1.1.3.cmml" xref="S3.SS2.p2.11.m11.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.11.m11.1c">y_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.11.m11.1d">italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> converges to a stable state. The final output text <math alttext="y_{T}" class="ltx_Math" display="inline" id="S3.SS2.p2.12.m12.1"><semantics id="S3.SS2.p2.12.m12.1a"><msub id="S3.SS2.p2.12.m12.1.1" xref="S3.SS2.p2.12.m12.1.1.cmml"><mi id="S3.SS2.p2.12.m12.1.1.2" xref="S3.SS2.p2.12.m12.1.1.2.cmml">y</mi><mi id="S3.SS2.p2.12.m12.1.1.3" xref="S3.SS2.p2.12.m12.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.12.m12.1b"><apply id="S3.SS2.p2.12.m12.1.1.cmml" xref="S3.SS2.p2.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.12.m12.1.1.1.cmml" xref="S3.SS2.p2.12.m12.1.1">subscript</csymbol><ci id="S3.SS2.p2.12.m12.1.1.2.cmml" xref="S3.SS2.p2.12.m12.1.1.2">𝑦</ci><ci id="S3.SS2.p2.12.m12.1.1.3.cmml" xref="S3.SS2.p2.12.m12.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.12.m12.1c">y_{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.12.m12.1d">italic_y start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT</annotation></semantics></math> is then returned as the refined version of the initial output text <math alttext="y" class="ltx_Math" display="inline" id="S3.SS2.p2.13.m13.1"><semantics id="S3.SS2.p2.13.m13.1a"><mi id="S3.SS2.p2.13.m13.1.1" xref="S3.SS2.p2.13.m13.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.13.m13.1b"><ci id="S3.SS2.p2.13.m13.1.1.cmml" xref="S3.SS2.p2.13.m13.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.13.m13.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.13.m13.1d">italic_y</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS3.4.1.1">III-C</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS3.5.2">Operational Flow</span>
</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S3.F2" title="Figure 2 ‣ III-C Operational Flow ‣ III LoRAG Framework ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_tag">2</span></a> depicts a comprehensive operational flow of the LoRAG framework, illustrating the interaction among the generative model, retrieval mechanism, and iterative loop module.
</p>
</div>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="525" id="S3.F2.g1" src="extracted/5478830/figure2.png" width="479"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>LoRAG Operational Flow</figcaption>
</figure>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.1">The operational flow underscores the dynamic character of the iterative loop, wherein the generated output and retrieved information iteratively impact each other, culminating in an enhanced and contextually enriched text generation.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS4.4.1.1">III-D</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS4.5.2">Experimental Loop Visualization</span>
</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S3.F3" title="Figure 3 ‣ III-D Experimental Loop Visualization ‣ III LoRAG Framework ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_tag">3</span></a> presents the experimental loop visualization, portraying the refinement process across multiple iterations.</p>
</div>
<figure class="ltx_figure" id="S3.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="506" id="S3.F3.g1" src="extracted/5478830/figure3.png" width="240"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Experimental Loop Visualization</figcaption>
</figure>
<div class="ltx_para" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.1">The visualization illustrates the iterative refinement of the initial output, culminating in the final refined output through successive iterations.</p>
</div>
<div class="ltx_para" id="S3.SS4.p3">
<p class="ltx_p" id="S3.SS4.p3.1">These visual representations and algorithms offer a thorough comprehension of the operational flow and constituents of the LoRAG framework.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span class="ltx_text ltx_font_smallcaps" id="S4.1.1">Results and Analysis</span>
</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">To assess the efficacy of the LoRAG framework, we conducted experiments on benchmark datasets and juxtaposed its performance against state-of-the-art retrieval-augmented generation models.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS1.4.1.1">IV-A</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS1.5.2">Experimental Setup</span>
</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">In our experiments, we employed the OpenOrca dataset <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib6" title="">6</a>]</cite>, which encompasses varied contexts along with their corresponding target outputs. The baseline models utilized for comparison comprised Gemini (Model A) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib11" title="">11</a>]</cite>, Falcon 40B (Model B) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib1" title="">1</a>, <a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib10" title="">10</a>]</cite>, and GPTNeo 2.7B (Model C) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#bib.bib2" title="">2</a>]</cite>, representing prevailing state-of-the-art methodologies in retrieval-augmented generation.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS2.4.1.1">IV-B</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS2.5.2">Quantitative Evaluation</span>
</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2403.15450v1#S4.T1" title="TABLE I ‣ IV-B Quantitative Evaluation ‣ IV Results and Analysis ‣ Loops On Retrieval Augmented Generation (LoRAG)"><span class="ltx_text ltx_ref_tag">I</span></a> delineates the quantitative outcomes of our experiments, presenting various metrics such as BLEU score, ROUGE score, and perplexity. The metrics were computed over a test set comprising 1000 samples, ensuring a robust assessment of the models.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE I: </span>Quantitative Results Comparison</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.1.1.1.1">Model</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.1.1.1.2">BLEU Score</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.1.1.1.3">ROUGE Score</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.1.1.1.4">Perplexity</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.1.2.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1.1">Gemini</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1.2">0.68</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1.3">0.78</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1.4">29.1</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.1">Falcon 40B</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.2">0.71</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.3">0.80</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.4">27.3</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.4.3">
<td class="ltx_td ltx_align_center" id="S4.T1.1.4.3.1">GPTNeo 2.7B</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.4.3.2">0.67</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.4.3.3">0.77</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.4.3.4">30.2</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.5.4">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.5.4.1"><span class="ltx_text ltx_font_bold" id="S4.T1.1.5.4.1.1">LoRAG</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.5.4.2"><span class="ltx_text ltx_font_bold" id="S4.T1.1.5.4.2.1">0.75</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.5.4.3"><span class="ltx_text ltx_font_bold" id="S4.T1.1.5.4.3.1">0.82</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.1.5.4.4"><span class="ltx_text ltx_font_bold" id="S4.T1.1.5.4.4.1">25.4</span></td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">The findings indicate that the LoRAG model surpasses the baseline models across various metrics, underscoring its superior performance in terms of text generation quality.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS3.4.1.1">IV-C</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS3.5.2">Discussion</span>
</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">The superior performance of LoRAG can be attributed to its innovative iterative loop mechanism, which enables dynamic refinement through multiple interactions with retrieved information. The model adeptly balances creativity and coherence, effectively addressing prevalent challenges encountered in retrieval-augmented generation.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS4.4.1.1">IV-D</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS4.5.2">Limitations and Future Work</span>
</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">Although LoRAG demonstrates promising results, it is crucial to acknowledge its limitations. Future endeavors could focus on enhancing the iterative loop mechanism, integrating attention mechanisms, and assessing the model’s scalability to larger datasets.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.1">The experimental findings and analysis underscore the efficacy of the LoRAG framework in enhancing retrieval-augmented text generation, establishing it as a compelling approach in the realm of generative models.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span class="ltx_text ltx_font_smallcaps" id="S5.1.1">Conclusion</span>
</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In conclusion, this research introduces the Loops On Retrieval augmented generation (LoRAG) framework, offering a novel approach to enhancing retrieval-augmented text generation. By integrating an iterative loop mechanism, LoRAG dynamically refines generated outputs through iterative interactions with retrieved information. Our comprehensive evaluation on benchmark datasets demonstrates that LoRAG surpasses existing state-of-the-art models in terms of BLEU score, ROUGE score, and perplexity, indicating its superior ability to achieve both contextual coherence and relevance. Qualitative assessments further validate the model’s effectiveness, showcasing its proficiency in producing more contextually relevant and coherent text outputs. The success of LoRAG underscores the importance of iterative loops in mitigating challenges encountered by traditional text generation models. This research contributes to the evolving landscape of generative models and lays the groundwork for future endeavors in refining and extending the capabilities of retrieval-augmented text generation systems.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Ebtesam Almazrouei, Hamza Alobeidli, Abdulaziz Alshamsi, Alessandro Cappelli, Ruxandra Cojocaru, Mérouane Debbah, Étienne Goffinet, Daniel Hesslow, Julien Launay, Quentin Malartic, et al.

</span>
<span class="ltx_bibblock">The falcon series of open language models.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2311.16867</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Sid Black, Gao Leo, Phil Wang, Connor Leahy, and Stella Biderman.

</span>
<span class="ltx_bibblock">GPT-Neo: Large Scale Autoregressive Language Modeling with Mesh-Tensorflow, March 2021.

</span>
<span class="ltx_bibblock">If you use this software, please cite it using these metadata.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Anthony Gillioz, Jacky Casas, Elena Mugellini, and Omar Abou Khaled.

</span>
<span class="ltx_bibblock">Overview of the transformer-based models for nlp tasks.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib3.1.1">2020 15th Conference on Computer Science and Information Systems (FedCSIS)</span>, pages 179–183. IEEE, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Yue Kang, Zhao Cai, Chee-Wee Tan, Qian Huang, and Hefu Liu.

</span>
<span class="ltx_bibblock">Natural language processing (nlp) in management research: A literature review.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib4.1.1">Journal of Management Analytics</span>, 7(2):139–172, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, et al.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib5.1.1">Advances in Neural Information Processing Systems</span>, 33:9459–9474, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Wing Lian, Bleys Goodson, Eugene Pentland, Austin Cook, Chanvichet Vong, and ”Teknium”.

</span>
<span class="ltx_bibblock">Openorca: An open dataset of gpt augmented flan reasoning traces.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://https://huggingface.co/Open-Orca/OpenOrca" title="">https://https://huggingface.co/Open-Orca/OpenOrca</a>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Jiduan Liu, Jiahao Liu, Yang Yang, Jingang Wang, Wei Wu, Dongyan Zhao, and Rui Yan.

</span>
<span class="ltx_bibblock">Gnn-encoder: Learning a dual-encoder architecture via graph neural networks for dense passage retrieval.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2204.08241</span>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Shikib Mehri and Maxine Eskenazi.

</span>
<span class="ltx_bibblock">Unsupervised evaluation of interactive dialog with dialogpt.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib8.1.1">arXiv preprint arXiv:2006.12719</span>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Thanh Thi Nguyen, Ngoc Duy Nguyen, Peter Vamplew, Saeid Nahavandi, Richard Dazeley, and Chee Peng Lim.

</span>
<span class="ltx_bibblock">A multi-objective deep reinforcement learning framework.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib9.1.1">Engineering Applications of Artificial Intelligence</span>, 96:103915, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Guilherme Penedo, Quentin Malartic, Daniel Hesslow, Ruxandra Cojocaru, Alessandro Cappelli, Hamza Alobeidli, Baptiste Pannier, Ebtesam Almazrouei, and Julien Launay.

</span>
<span class="ltx_bibblock">The RefinedWeb dataset for Falcon LLM: outperforming curated corpora with web data, and web data only.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib10.1.1">arXiv preprint arXiv:2306.01116</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Hamid Reza Saeidnia.

</span>
<span class="ltx_bibblock">Welcome to the gemini era: Google deepmind and the information industry.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib11.1.1">Library Hi Tech News</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Mike Thelwall and Pardeep Sud.

</span>
<span class="ltx_bibblock">Webometric research with the bing search api 2.0.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib12.1.1">Journal of Informetrics</span>, 6(1):44–52, 2012.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Abhishek Vahadane, B Atheeth, and Shantanu Majumdar.

</span>
<span class="ltx_bibblock">Dual encoder attention u-net for nuclei segmentation.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib13.1.1">2021 43rd Annual International Conference of the IEEE Engineering in Medicine &amp; Biology Society (EMBC)</span>, pages 3205–3208. IEEE, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Yizhe Zhang, Siqi Sun, Michel Galley, Yen-Chun Chen, Chris Brockett, Xiang Gao, Jianfeng Gao, Jingjing Liu, and Bill Dolan.

</span>
<span class="ltx_bibblock">Dialogpt: Large-scale generative pre-training for conversational response generation.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib14.1.1">arXiv preprint arXiv:1911.00536</span>, 2019.

</span>
</li>
</ul>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Mon Mar 18 15:16:13 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span style="font-size:70%;position:relative; bottom:2.2pt;">A</span>T<span style="position:relative; bottom:-0.4ex;">E</span></span><span class="ltx_font_smallcaps">xml</span><img alt="[LOGO]" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
