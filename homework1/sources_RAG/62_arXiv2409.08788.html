<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling</title>
<!--Generated on Fri Sep 13 12:45:39 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="" lang="en" name="keywords"/>
<base href="/html/2409.08788v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#S1" title="In Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">I </span><span class="ltx_text ltx_font_smallcaps">Introduction</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#S2" title="In Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">II </span><span class="ltx_text ltx_font_smallcaps">Method</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#S3" title="In Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">III </span><span class="ltx_text ltx_font_smallcaps">Experiments</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#S4" title="In Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">IV </span><span class="ltx_text ltx_font_smallcaps">Conclusions</span></span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line" lang="en">
<h1 class="ltx_title ltx_title_document">Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Jialu Tang<sup class="ltx_sup" id="id1.1.id1">1</sup>, Tong Xia<sup class="ltx_sup" id="id2.2.id2">2</sup>, Yuan Lu<sup class="ltx_sup" id="id3.3.id3">1</sup>, Cecilia Mascolo<sup class="ltx_sup" id="id4.4.id4">2</sup>, Aaqib Saeed<sup class="ltx_sup" id="id5.5.id5">1</sup>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><sup class="ltx_sup" id="id6.6.id1">1</sup>Eindhoven University of Technology, Eindhoven, Netherlands
</span>
<span class="ltx_contact ltx_role_affiliation"><sup class="ltx_sup" id="id7.7.id1">2</sup>University of Cambridge, United Kingdom
</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id8.id1"><span class="ltx_text" id="id8.id1.1">Interpreting electrocardiograms (ECGs) and generating comprehensive reports remain challenging tasks in cardiology, often requiring specialized expertise and significant time investment. To address these critical issues, we proposeÂ ECG-ReGen, a retrieval-based approach for ECG-to-text report generation and question answering. Our method leverages a self-supervised learning for the ECG encoder, enabling efficient similarity searches and report retrieval. By combining pre-training with dynamic retrieval and Large Language Model (LLM)-based refinement,Â ECG-ReGenÂ effectively analyzes ECG data and answers related queries, with the potential of improving patient care. Experiments conducted on the PTB-XL and MIMIC-IV-ECG datasets demonstrate superior performance in both in-domain and cross-domain scenarios for report generation. Furthermore, our approach exhibits competitive performance on ECG-QA dataset compared to fully supervised methods when utilizing off-the-shelf LLMs for zero-shot question answering. This approach, effectively combining self-supervised encoder and LLMs, offers a scalable and efficient solution for accurate ECG interpretation, holding significant potential to enhance clinical decision-making.</span></p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
<span class="ltx_text" id="id9.id1">
electrocardiogram, retrieval augmented generation, self-supervised learning, large language models
</span>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span class="ltx_text ltx_font_smallcaps" id="S1.1.1">Introduction</span>
</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Electrocardiograms (ECGs) are non-invasive, cost-effective diagnostic tools that play a crucial role in detecting cardiac arrhythmias in clinical practice. While numerous studies have demonstrated the effectiveness of machine learning models in predicting arrhythmia types from ECGs <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib1" title="">1</a>]</cite>, the tasks of interpreting ECGs, generating illustrative reports, and answering patient questions remain largely under-explored <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib2" title="">2</a>]</cite>. These tasks present significant challenges, as they are time-consuming and require specialized expertise, even for experienced cardiologists. Moreover, they pose unique difficulties for machine learning models, demanding fine-grained feature extraction and the ability to generate cross-modality outputs (i.e., converting signals into coherent textual descriptions).</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Recent advances in large language models (LLMs) have sparked considerable interest in their application to medical image interpretation, particularly for generating radiology reports from chest X-rays <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib3" title="">3</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib4" title="">4</a>]</cite>. However, the extension of these approaches to ECG analysis remains largely unexplored, despite ECGsâ€™ critical role in cardiology. This gap is significant because ECGs, as biosignals, present unique challenges distinct from static medical images. Converting ECG data into features that LLMs can directly analyze for medical report generation is a complex task, potentially requiring substantial amounts of data, as LLMs were not originally designed for processing time-series biosignals <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib5" title="">5</a>]</cite>. Furthermore, concerns persist regarding the efficiency of this process and the modelsâ€™ ability to generalize to new data, such as unseen cardiac conditions or patient populations that differ from those in the training set. These challenges underscore the need for innovative approaches that can effectively bridge the gap between ECG signal processing and the natural language understanding capabilities of LLMs.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">In this paper, we propose a novel retrieval-based approach to address the challenges of ECG-to-text report generation and question answering, marking the first application of such a method in this domain. Unlike commonly used task-specific, fully supervised learning approachesÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib6" title="">6</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib7" title="">7</a>]</cite>, our method leverages the power of similarity search to establish explicit connections between a given test ECG and examples in an existing dataset. This approach involves interpreting new samples by referencing similar samples in the dataset (e.g.,, training set), making the process more efficient and explainable by design. While such methods have been successfully applied to chest X-ray report generation <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib8" title="">8</a>]</cite>, their application to ECGs presents unique challenges. The key to success lies in learning useful representations that aid similarity measures in the feature space, which is particularly challenging for ECGs due to their multi-lead, long time-series nature. Some arrhythmias or cardiac conditions manifest as very subtle changes in the waveforms, making them difficult to detect and requiring significant expertise. Furthermore, ECG reports typically consist of brief and diverse phrases summarizing signal patterns, adding another layer of complexity to the task.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="315" id="S1.F1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Overview of ECG-ReGenÂ leveraging self-supervised model to tackle report generation via retrieval and QA with LLMs. NLG refers to natural language generation.</figcaption>
</figure>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.2">To address these challenges, we propose a novel approach that pre-trains an ECG encoder to learn generalizable ECG embeddings for efficient similarity searches. Our encoder is trained in a self-supervised learning manner that integrates ECG signals with their corresponding textual reports. During inference, we use this encoder to find relevant reports based on the nearest neighbors of an ECG embedding. Specifically, we choose the top-<math alttext="1" class="ltx_Math" display="inline" id="S1.p4.1.m1.1"><semantics id="S1.p4.1.m1.1a"><mn id="S1.p4.1.m1.1.1" xref="S1.p4.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S1.p4.1.m1.1b"><cn id="S1.p4.1.m1.1.1.cmml" type="integer" xref="S1.p4.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.1.m1.1c">1</annotation><annotation encoding="application/x-llamapun" id="S1.p4.1.m1.1d">1</annotation></semantics></math> most similar report as the generated report for a given ECG. This retrieval-based method forms the foundation for our question-answering system. We feed top-<math alttext="k" class="ltx_Math" display="inline" id="S1.p4.2.m2.1"><semantics id="S1.p4.2.m2.1a"><mi id="S1.p4.2.m2.1.1" xref="S1.p4.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S1.p4.2.m2.1b"><ci id="S1.p4.2.m2.1.1.cmml" xref="S1.p4.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S1.p4.2.m2.1d">italic_k</annotation></semantics></math> retrieved reports, along with their diagnoses labels, into the LLM for zero-shot question answering. The LLM processes this information to answer queries, utilizing the retrieved reports to provide more accurate and contextually relevant responses. Our approach combines the strengths of similarity-based retrieval and the natural language understanding capabilities of LLMs, potentially offering grounded and interpretable results compared to traditional fully supervised methods.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">We validate our approach using two prominent ECG datasets: PTB-XLÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib9" title="">9</a>]</cite> and MIMIC-IV-ECGÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib10" title="">10</a>]</cite>. Our ECG encoder, pre-trained on PTB-XL, is evaluated for report generation on both datasets, assessing performance in in-domain and cross-domain scenarios. The retrieval-based method demonstrates superior performance in both settings, underlining its robustness and generalizability. Additionally, we employ off-the-shelf LLMs for zero-shot question answering, achieving competitive results compared to fully supervised approaches without task-specific fine-tuning. This comprehensive evaluation showcases the effectiveness of our method, which combines self-supervised pre-training, dynamic retrieval, and LLM-based refinement to enhance automated ECG interpretation in clinical settings.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span class="ltx_text ltx_font_smallcaps" id="S2.1.1">Method</span>
</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">We frame ECG-to-text report generation and question answering as a retrieval augmented generation task using a report corpus <math alttext="R" class="ltx_Math" display="inline" id="S2.p1.1.m1.1"><semantics id="S2.p1.1.m1.1a"><mi id="S2.p1.1.m1.1.1" xref="S2.p1.1.m1.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S2.p1.1.m1.1b"><ci id="S2.p1.1.m1.1.1.cmml" xref="S2.p1.1.m1.1.1">ğ‘…</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.1.m1.1c">R</annotation><annotation encoding="application/x-llamapun" id="S2.p1.1.m1.1d">italic_R</annotation></semantics></math>. Our approach combines a self-supervised ECG model with efficient similarity search to generate reports and answer ECG-related questions. The method consists of four stages: (1) self-supervised pre-training, (2) embedding generation and indexing, (3) report retrieval and refinement, and (4) zero-shot LLM-based question-answering. FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#S1.F1" title="Figure 1 â€£ I Introduction â€£ Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling"><span class="ltx_text ltx_ref_tag">1</span></a> illustrates our proposed technique.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.6">We pre-train a multi-modal model to learn joint representations of ECG signals and their textual reports. Let <math alttext="X={x_{1},x_{2},...,x_{n}}" class="ltx_Math" display="inline" id="S2.p2.1.m1.4"><semantics id="S2.p2.1.m1.4a"><mrow id="S2.p2.1.m1.4.4" xref="S2.p2.1.m1.4.4.cmml"><mi id="S2.p2.1.m1.4.4.5" xref="S2.p2.1.m1.4.4.5.cmml">X</mi><mo id="S2.p2.1.m1.4.4.4" xref="S2.p2.1.m1.4.4.4.cmml">=</mo><mrow id="S2.p2.1.m1.4.4.3.3" xref="S2.p2.1.m1.4.4.3.4.cmml"><msub id="S2.p2.1.m1.2.2.1.1.1" xref="S2.p2.1.m1.2.2.1.1.1.cmml"><mi id="S2.p2.1.m1.2.2.1.1.1.2" xref="S2.p2.1.m1.2.2.1.1.1.2.cmml">x</mi><mn id="S2.p2.1.m1.2.2.1.1.1.3" xref="S2.p2.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S2.p2.1.m1.4.4.3.3.4" xref="S2.p2.1.m1.4.4.3.4.cmml">,</mo><msub id="S2.p2.1.m1.3.3.2.2.2" xref="S2.p2.1.m1.3.3.2.2.2.cmml"><mi id="S2.p2.1.m1.3.3.2.2.2.2" xref="S2.p2.1.m1.3.3.2.2.2.2.cmml">x</mi><mn id="S2.p2.1.m1.3.3.2.2.2.3" xref="S2.p2.1.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S2.p2.1.m1.4.4.3.3.5" xref="S2.p2.1.m1.4.4.3.4.cmml">,</mo><mi id="S2.p2.1.m1.1.1" mathvariant="normal" xref="S2.p2.1.m1.1.1.cmml">â€¦</mi><mo id="S2.p2.1.m1.4.4.3.3.6" xref="S2.p2.1.m1.4.4.3.4.cmml">,</mo><msub id="S2.p2.1.m1.4.4.3.3.3" xref="S2.p2.1.m1.4.4.3.3.3.cmml"><mi id="S2.p2.1.m1.4.4.3.3.3.2" xref="S2.p2.1.m1.4.4.3.3.3.2.cmml">x</mi><mi id="S2.p2.1.m1.4.4.3.3.3.3" xref="S2.p2.1.m1.4.4.3.3.3.3.cmml">n</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.1.m1.4b"><apply id="S2.p2.1.m1.4.4.cmml" xref="S2.p2.1.m1.4.4"><eq id="S2.p2.1.m1.4.4.4.cmml" xref="S2.p2.1.m1.4.4.4"></eq><ci id="S2.p2.1.m1.4.4.5.cmml" xref="S2.p2.1.m1.4.4.5">ğ‘‹</ci><list id="S2.p2.1.m1.4.4.3.4.cmml" xref="S2.p2.1.m1.4.4.3.3"><apply id="S2.p2.1.m1.2.2.1.1.1.cmml" xref="S2.p2.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.p2.1.m1.2.2.1.1.1.1.cmml" xref="S2.p2.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S2.p2.1.m1.2.2.1.1.1.2.cmml" xref="S2.p2.1.m1.2.2.1.1.1.2">ğ‘¥</ci><cn id="S2.p2.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S2.p2.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="S2.p2.1.m1.3.3.2.2.2.cmml" xref="S2.p2.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.p2.1.m1.3.3.2.2.2.1.cmml" xref="S2.p2.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S2.p2.1.m1.3.3.2.2.2.2.cmml" xref="S2.p2.1.m1.3.3.2.2.2.2">ğ‘¥</ci><cn id="S2.p2.1.m1.3.3.2.2.2.3.cmml" type="integer" xref="S2.p2.1.m1.3.3.2.2.2.3">2</cn></apply><ci id="S2.p2.1.m1.1.1.cmml" xref="S2.p2.1.m1.1.1">â€¦</ci><apply id="S2.p2.1.m1.4.4.3.3.3.cmml" xref="S2.p2.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.p2.1.m1.4.4.3.3.3.1.cmml" xref="S2.p2.1.m1.4.4.3.3.3">subscript</csymbol><ci id="S2.p2.1.m1.4.4.3.3.3.2.cmml" xref="S2.p2.1.m1.4.4.3.3.3.2">ğ‘¥</ci><ci id="S2.p2.1.m1.4.4.3.3.3.3.cmml" xref="S2.p2.1.m1.4.4.3.3.3.3">ğ‘›</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.1.m1.4c">X={x_{1},x_{2},...,x_{n}}</annotation><annotation encoding="application/x-llamapun" id="S2.p2.1.m1.4d">italic_X = italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â€¦ , italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math> be a set of ECGs, where <math alttext="x_{i}\in\mathbb{R}^{L\times C}" class="ltx_Math" display="inline" id="S2.p2.2.m2.1"><semantics id="S2.p2.2.m2.1a"><mrow id="S2.p2.2.m2.1.1" xref="S2.p2.2.m2.1.1.cmml"><msub id="S2.p2.2.m2.1.1.2" xref="S2.p2.2.m2.1.1.2.cmml"><mi id="S2.p2.2.m2.1.1.2.2" xref="S2.p2.2.m2.1.1.2.2.cmml">x</mi><mi id="S2.p2.2.m2.1.1.2.3" xref="S2.p2.2.m2.1.1.2.3.cmml">i</mi></msub><mo id="S2.p2.2.m2.1.1.1" xref="S2.p2.2.m2.1.1.1.cmml">âˆˆ</mo><msup id="S2.p2.2.m2.1.1.3" xref="S2.p2.2.m2.1.1.3.cmml"><mi id="S2.p2.2.m2.1.1.3.2" xref="S2.p2.2.m2.1.1.3.2.cmml">â„</mi><mrow id="S2.p2.2.m2.1.1.3.3" xref="S2.p2.2.m2.1.1.3.3.cmml"><mi id="S2.p2.2.m2.1.1.3.3.2" xref="S2.p2.2.m2.1.1.3.3.2.cmml">L</mi><mo id="S2.p2.2.m2.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S2.p2.2.m2.1.1.3.3.1.cmml">Ã—</mo><mi id="S2.p2.2.m2.1.1.3.3.3" xref="S2.p2.2.m2.1.1.3.3.3.cmml">C</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.2.m2.1b"><apply id="S2.p2.2.m2.1.1.cmml" xref="S2.p2.2.m2.1.1"><in id="S2.p2.2.m2.1.1.1.cmml" xref="S2.p2.2.m2.1.1.1"></in><apply id="S2.p2.2.m2.1.1.2.cmml" xref="S2.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S2.p2.2.m2.1.1.2.1.cmml" xref="S2.p2.2.m2.1.1.2">subscript</csymbol><ci id="S2.p2.2.m2.1.1.2.2.cmml" xref="S2.p2.2.m2.1.1.2.2">ğ‘¥</ci><ci id="S2.p2.2.m2.1.1.2.3.cmml" xref="S2.p2.2.m2.1.1.2.3">ğ‘–</ci></apply><apply id="S2.p2.2.m2.1.1.3.cmml" xref="S2.p2.2.m2.1.1.3"><csymbol cd="ambiguous" id="S2.p2.2.m2.1.1.3.1.cmml" xref="S2.p2.2.m2.1.1.3">superscript</csymbol><ci id="S2.p2.2.m2.1.1.3.2.cmml" xref="S2.p2.2.m2.1.1.3.2">â„</ci><apply id="S2.p2.2.m2.1.1.3.3.cmml" xref="S2.p2.2.m2.1.1.3.3"><times id="S2.p2.2.m2.1.1.3.3.1.cmml" xref="S2.p2.2.m2.1.1.3.3.1"></times><ci id="S2.p2.2.m2.1.1.3.3.2.cmml" xref="S2.p2.2.m2.1.1.3.3.2">ğ¿</ci><ci id="S2.p2.2.m2.1.1.3.3.3.cmml" xref="S2.p2.2.m2.1.1.3.3.3">ğ¶</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.2.m2.1c">x_{i}\in\mathbb{R}^{L\times C}</annotation><annotation encoding="application/x-llamapun" id="S2.p2.2.m2.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT âˆˆ blackboard_R start_POSTSUPERSCRIPT italic_L Ã— italic_C end_POSTSUPERSCRIPT</annotation></semantics></math> represents an ECG with <math alttext="L" class="ltx_Math" display="inline" id="S2.p2.3.m3.1"><semantics id="S2.p2.3.m3.1a"><mi id="S2.p2.3.m3.1.1" xref="S2.p2.3.m3.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S2.p2.3.m3.1b"><ci id="S2.p2.3.m3.1.1.cmml" xref="S2.p2.3.m3.1.1">ğ¿</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.3.m3.1c">L</annotation><annotation encoding="application/x-llamapun" id="S2.p2.3.m3.1d">italic_L</annotation></semantics></math> time steps and <math alttext="C" class="ltx_Math" display="inline" id="S2.p2.4.m4.1"><semantics id="S2.p2.4.m4.1a"><mi id="S2.p2.4.m4.1.1" xref="S2.p2.4.m4.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.p2.4.m4.1b"><ci id="S2.p2.4.m4.1.1.cmml" xref="S2.p2.4.m4.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.4.m4.1c">C</annotation><annotation encoding="application/x-llamapun" id="S2.p2.4.m4.1d">italic_C</annotation></semantics></math> channels, which correspond to the leads. The corresponding reports are denoted as <math alttext="R={r_{1},r_{2},...,r_{n}}" class="ltx_Math" display="inline" id="S2.p2.5.m5.4"><semantics id="S2.p2.5.m5.4a"><mrow id="S2.p2.5.m5.4.4" xref="S2.p2.5.m5.4.4.cmml"><mi id="S2.p2.5.m5.4.4.5" xref="S2.p2.5.m5.4.4.5.cmml">R</mi><mo id="S2.p2.5.m5.4.4.4" xref="S2.p2.5.m5.4.4.4.cmml">=</mo><mrow id="S2.p2.5.m5.4.4.3.3" xref="S2.p2.5.m5.4.4.3.4.cmml"><msub id="S2.p2.5.m5.2.2.1.1.1" xref="S2.p2.5.m5.2.2.1.1.1.cmml"><mi id="S2.p2.5.m5.2.2.1.1.1.2" xref="S2.p2.5.m5.2.2.1.1.1.2.cmml">r</mi><mn id="S2.p2.5.m5.2.2.1.1.1.3" xref="S2.p2.5.m5.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S2.p2.5.m5.4.4.3.3.4" xref="S2.p2.5.m5.4.4.3.4.cmml">,</mo><msub id="S2.p2.5.m5.3.3.2.2.2" xref="S2.p2.5.m5.3.3.2.2.2.cmml"><mi id="S2.p2.5.m5.3.3.2.2.2.2" xref="S2.p2.5.m5.3.3.2.2.2.2.cmml">r</mi><mn id="S2.p2.5.m5.3.3.2.2.2.3" xref="S2.p2.5.m5.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S2.p2.5.m5.4.4.3.3.5" xref="S2.p2.5.m5.4.4.3.4.cmml">,</mo><mi id="S2.p2.5.m5.1.1" mathvariant="normal" xref="S2.p2.5.m5.1.1.cmml">â€¦</mi><mo id="S2.p2.5.m5.4.4.3.3.6" xref="S2.p2.5.m5.4.4.3.4.cmml">,</mo><msub id="S2.p2.5.m5.4.4.3.3.3" xref="S2.p2.5.m5.4.4.3.3.3.cmml"><mi id="S2.p2.5.m5.4.4.3.3.3.2" xref="S2.p2.5.m5.4.4.3.3.3.2.cmml">r</mi><mi id="S2.p2.5.m5.4.4.3.3.3.3" xref="S2.p2.5.m5.4.4.3.3.3.3.cmml">n</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.5.m5.4b"><apply id="S2.p2.5.m5.4.4.cmml" xref="S2.p2.5.m5.4.4"><eq id="S2.p2.5.m5.4.4.4.cmml" xref="S2.p2.5.m5.4.4.4"></eq><ci id="S2.p2.5.m5.4.4.5.cmml" xref="S2.p2.5.m5.4.4.5">ğ‘…</ci><list id="S2.p2.5.m5.4.4.3.4.cmml" xref="S2.p2.5.m5.4.4.3.3"><apply id="S2.p2.5.m5.2.2.1.1.1.cmml" xref="S2.p2.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.p2.5.m5.2.2.1.1.1.1.cmml" xref="S2.p2.5.m5.2.2.1.1.1">subscript</csymbol><ci id="S2.p2.5.m5.2.2.1.1.1.2.cmml" xref="S2.p2.5.m5.2.2.1.1.1.2">ğ‘Ÿ</ci><cn id="S2.p2.5.m5.2.2.1.1.1.3.cmml" type="integer" xref="S2.p2.5.m5.2.2.1.1.1.3">1</cn></apply><apply id="S2.p2.5.m5.3.3.2.2.2.cmml" xref="S2.p2.5.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.p2.5.m5.3.3.2.2.2.1.cmml" xref="S2.p2.5.m5.3.3.2.2.2">subscript</csymbol><ci id="S2.p2.5.m5.3.3.2.2.2.2.cmml" xref="S2.p2.5.m5.3.3.2.2.2.2">ğ‘Ÿ</ci><cn id="S2.p2.5.m5.3.3.2.2.2.3.cmml" type="integer" xref="S2.p2.5.m5.3.3.2.2.2.3">2</cn></apply><ci id="S2.p2.5.m5.1.1.cmml" xref="S2.p2.5.m5.1.1">â€¦</ci><apply id="S2.p2.5.m5.4.4.3.3.3.cmml" xref="S2.p2.5.m5.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.p2.5.m5.4.4.3.3.3.1.cmml" xref="S2.p2.5.m5.4.4.3.3.3">subscript</csymbol><ci id="S2.p2.5.m5.4.4.3.3.3.2.cmml" xref="S2.p2.5.m5.4.4.3.3.3.2">ğ‘Ÿ</ci><ci id="S2.p2.5.m5.4.4.3.3.3.3.cmml" xref="S2.p2.5.m5.4.4.3.3.3.3">ğ‘›</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.5.m5.4c">R={r_{1},r_{2},...,r_{n}}</annotation><annotation encoding="application/x-llamapun" id="S2.p2.5.m5.4d">italic_R = italic_r start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_r start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â€¦ , italic_r start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math>. We use a masked autoencoder-based self-supervised learning approach similar toÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib11" title="">11</a>]</cite>, combining three loss terms: masked language modeling (MLM), masked ECG modeling (MEM), and ECG-text matching (ETM), as <math alttext="L=L_{\text{MLM}}+L_{\text{MEM}}+L_{\text{ETM}}" class="ltx_Math" display="inline" id="S2.p2.6.m6.1"><semantics id="S2.p2.6.m6.1a"><mrow id="S2.p2.6.m6.1.1" xref="S2.p2.6.m6.1.1.cmml"><mi id="S2.p2.6.m6.1.1.2" xref="S2.p2.6.m6.1.1.2.cmml">L</mi><mo id="S2.p2.6.m6.1.1.1" xref="S2.p2.6.m6.1.1.1.cmml">=</mo><mrow id="S2.p2.6.m6.1.1.3" xref="S2.p2.6.m6.1.1.3.cmml"><msub id="S2.p2.6.m6.1.1.3.2" xref="S2.p2.6.m6.1.1.3.2.cmml"><mi id="S2.p2.6.m6.1.1.3.2.2" xref="S2.p2.6.m6.1.1.3.2.2.cmml">L</mi><mtext id="S2.p2.6.m6.1.1.3.2.3" xref="S2.p2.6.m6.1.1.3.2.3a.cmml">MLM</mtext></msub><mo id="S2.p2.6.m6.1.1.3.1" xref="S2.p2.6.m6.1.1.3.1.cmml">+</mo><msub id="S2.p2.6.m6.1.1.3.3" xref="S2.p2.6.m6.1.1.3.3.cmml"><mi id="S2.p2.6.m6.1.1.3.3.2" xref="S2.p2.6.m6.1.1.3.3.2.cmml">L</mi><mtext id="S2.p2.6.m6.1.1.3.3.3" xref="S2.p2.6.m6.1.1.3.3.3a.cmml">MEM</mtext></msub><mo id="S2.p2.6.m6.1.1.3.1a" xref="S2.p2.6.m6.1.1.3.1.cmml">+</mo><msub id="S2.p2.6.m6.1.1.3.4" xref="S2.p2.6.m6.1.1.3.4.cmml"><mi id="S2.p2.6.m6.1.1.3.4.2" xref="S2.p2.6.m6.1.1.3.4.2.cmml">L</mi><mtext id="S2.p2.6.m6.1.1.3.4.3" xref="S2.p2.6.m6.1.1.3.4.3a.cmml">ETM</mtext></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.6.m6.1b"><apply id="S2.p2.6.m6.1.1.cmml" xref="S2.p2.6.m6.1.1"><eq id="S2.p2.6.m6.1.1.1.cmml" xref="S2.p2.6.m6.1.1.1"></eq><ci id="S2.p2.6.m6.1.1.2.cmml" xref="S2.p2.6.m6.1.1.2">ğ¿</ci><apply id="S2.p2.6.m6.1.1.3.cmml" xref="S2.p2.6.m6.1.1.3"><plus id="S2.p2.6.m6.1.1.3.1.cmml" xref="S2.p2.6.m6.1.1.3.1"></plus><apply id="S2.p2.6.m6.1.1.3.2.cmml" xref="S2.p2.6.m6.1.1.3.2"><csymbol cd="ambiguous" id="S2.p2.6.m6.1.1.3.2.1.cmml" xref="S2.p2.6.m6.1.1.3.2">subscript</csymbol><ci id="S2.p2.6.m6.1.1.3.2.2.cmml" xref="S2.p2.6.m6.1.1.3.2.2">ğ¿</ci><ci id="S2.p2.6.m6.1.1.3.2.3a.cmml" xref="S2.p2.6.m6.1.1.3.2.3"><mtext id="S2.p2.6.m6.1.1.3.2.3.cmml" mathsize="70%" xref="S2.p2.6.m6.1.1.3.2.3">MLM</mtext></ci></apply><apply id="S2.p2.6.m6.1.1.3.3.cmml" xref="S2.p2.6.m6.1.1.3.3"><csymbol cd="ambiguous" id="S2.p2.6.m6.1.1.3.3.1.cmml" xref="S2.p2.6.m6.1.1.3.3">subscript</csymbol><ci id="S2.p2.6.m6.1.1.3.3.2.cmml" xref="S2.p2.6.m6.1.1.3.3.2">ğ¿</ci><ci id="S2.p2.6.m6.1.1.3.3.3a.cmml" xref="S2.p2.6.m6.1.1.3.3.3"><mtext id="S2.p2.6.m6.1.1.3.3.3.cmml" mathsize="70%" xref="S2.p2.6.m6.1.1.3.3.3">MEM</mtext></ci></apply><apply id="S2.p2.6.m6.1.1.3.4.cmml" xref="S2.p2.6.m6.1.1.3.4"><csymbol cd="ambiguous" id="S2.p2.6.m6.1.1.3.4.1.cmml" xref="S2.p2.6.m6.1.1.3.4">subscript</csymbol><ci id="S2.p2.6.m6.1.1.3.4.2.cmml" xref="S2.p2.6.m6.1.1.3.4.2">ğ¿</ci><ci id="S2.p2.6.m6.1.1.3.4.3a.cmml" xref="S2.p2.6.m6.1.1.3.4.3"><mtext id="S2.p2.6.m6.1.1.3.4.3.cmml" mathsize="70%" xref="S2.p2.6.m6.1.1.3.4.3">ETM</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.6.m6.1c">L=L_{\text{MLM}}+L_{\text{MEM}}+L_{\text{ETM}}</annotation><annotation encoding="application/x-llamapun" id="S2.p2.6.m6.1d">italic_L = italic_L start_POSTSUBSCRIPT MLM end_POSTSUBSCRIPT + italic_L start_POSTSUBSCRIPT MEM end_POSTSUBSCRIPT + italic_L start_POSTSUBSCRIPT ETM end_POSTSUBSCRIPT</annotation></semantics></math>. The MEM task involves masking a high proportion of ECG signal patches and reconstructing them. For MLM, we mask and predict a smaller proportion of tokens in the textual reports. The ETM loss uses a binary classifier to determine if ECG-text pairs are semantically aligned (positive) or misaligned (negative). We employ transformer-based architectures for both ECG and text encoders.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1">Our multi-modal Transformer-based architectureÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib12" title="">12</a>]</cite> for ECGs and texts comprises: 1) separate uni-modal encoders, 2) a multi-modal fusion module, and 3) separate uni-modal decoders for pre-training tasks. The text encoder uses a pre-trained BERT modelÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib13" title="">13</a>]</cite>. The ECG encoder applies 1D convolutional layers to extract local features from signal before feeding them into a transformer. We follow the configurations fromÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib11" title="">11</a>]</cite> for other architectural aspects. The model is pre-trained using above defined MLM, MEM, and ETM tasks.</p>
</div>
<div class="ltx_para" id="S2.p4">
<p class="ltx_p" id="S2.p4.12">After pre-training, we generate embeddings for all ECG samples using the ECG encoder <math alttext="f(\cdot)" class="ltx_Math" display="inline" id="S2.p4.1.m1.1"><semantics id="S2.p4.1.m1.1a"><mrow id="S2.p4.1.m1.1.2" xref="S2.p4.1.m1.1.2.cmml"><mi id="S2.p4.1.m1.1.2.2" xref="S2.p4.1.m1.1.2.2.cmml">f</mi><mo id="S2.p4.1.m1.1.2.1" xref="S2.p4.1.m1.1.2.1.cmml">â¢</mo><mrow id="S2.p4.1.m1.1.2.3.2" xref="S2.p4.1.m1.1.2.cmml"><mo id="S2.p4.1.m1.1.2.3.2.1" stretchy="false" xref="S2.p4.1.m1.1.2.cmml">(</mo><mo id="S2.p4.1.m1.1.1" lspace="0em" rspace="0em" xref="S2.p4.1.m1.1.1.cmml">â‹…</mo><mo id="S2.p4.1.m1.1.2.3.2.2" stretchy="false" xref="S2.p4.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p4.1.m1.1b"><apply id="S2.p4.1.m1.1.2.cmml" xref="S2.p4.1.m1.1.2"><times id="S2.p4.1.m1.1.2.1.cmml" xref="S2.p4.1.m1.1.2.1"></times><ci id="S2.p4.1.m1.1.2.2.cmml" xref="S2.p4.1.m1.1.2.2">ğ‘“</ci><ci id="S2.p4.1.m1.1.1.cmml" xref="S2.p4.1.m1.1.1">â‹…</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.1.m1.1c">f(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.p4.1.m1.1d">italic_f ( â‹… )</annotation></semantics></math>: <math alttext="z_{i}=f(x_{i}),z_{i}\in\mathbb{R}^{d}" class="ltx_Math" display="inline" id="S2.p4.2.m2.2"><semantics id="S2.p4.2.m2.2a"><mrow id="S2.p4.2.m2.2.2.2" xref="S2.p4.2.m2.2.2.3.cmml"><mrow id="S2.p4.2.m2.1.1.1.1" xref="S2.p4.2.m2.1.1.1.1.cmml"><msub id="S2.p4.2.m2.1.1.1.1.3" xref="S2.p4.2.m2.1.1.1.1.3.cmml"><mi id="S2.p4.2.m2.1.1.1.1.3.2" xref="S2.p4.2.m2.1.1.1.1.3.2.cmml">z</mi><mi id="S2.p4.2.m2.1.1.1.1.3.3" xref="S2.p4.2.m2.1.1.1.1.3.3.cmml">i</mi></msub><mo id="S2.p4.2.m2.1.1.1.1.2" xref="S2.p4.2.m2.1.1.1.1.2.cmml">=</mo><mrow id="S2.p4.2.m2.1.1.1.1.1" xref="S2.p4.2.m2.1.1.1.1.1.cmml"><mi id="S2.p4.2.m2.1.1.1.1.1.3" xref="S2.p4.2.m2.1.1.1.1.1.3.cmml">f</mi><mo id="S2.p4.2.m2.1.1.1.1.1.2" xref="S2.p4.2.m2.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S2.p4.2.m2.1.1.1.1.1.1.1" xref="S2.p4.2.m2.1.1.1.1.1.1.1.1.cmml"><mo id="S2.p4.2.m2.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.p4.2.m2.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S2.p4.2.m2.1.1.1.1.1.1.1.1" xref="S2.p4.2.m2.1.1.1.1.1.1.1.1.cmml"><mi id="S2.p4.2.m2.1.1.1.1.1.1.1.1.2" xref="S2.p4.2.m2.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.p4.2.m2.1.1.1.1.1.1.1.1.3" xref="S2.p4.2.m2.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S2.p4.2.m2.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.p4.2.m2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S2.p4.2.m2.2.2.2.3" xref="S2.p4.2.m2.2.2.3a.cmml">,</mo><mrow id="S2.p4.2.m2.2.2.2.2" xref="S2.p4.2.m2.2.2.2.2.cmml"><msub id="S2.p4.2.m2.2.2.2.2.2" xref="S2.p4.2.m2.2.2.2.2.2.cmml"><mi id="S2.p4.2.m2.2.2.2.2.2.2" xref="S2.p4.2.m2.2.2.2.2.2.2.cmml">z</mi><mi id="S2.p4.2.m2.2.2.2.2.2.3" xref="S2.p4.2.m2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S2.p4.2.m2.2.2.2.2.1" xref="S2.p4.2.m2.2.2.2.2.1.cmml">âˆˆ</mo><msup id="S2.p4.2.m2.2.2.2.2.3" xref="S2.p4.2.m2.2.2.2.2.3.cmml"><mi id="S2.p4.2.m2.2.2.2.2.3.2" xref="S2.p4.2.m2.2.2.2.2.3.2.cmml">â„</mi><mi id="S2.p4.2.m2.2.2.2.2.3.3" xref="S2.p4.2.m2.2.2.2.2.3.3.cmml">d</mi></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p4.2.m2.2b"><apply id="S2.p4.2.m2.2.2.3.cmml" xref="S2.p4.2.m2.2.2.2"><csymbol cd="ambiguous" id="S2.p4.2.m2.2.2.3a.cmml" xref="S2.p4.2.m2.2.2.2.3">formulae-sequence</csymbol><apply id="S2.p4.2.m2.1.1.1.1.cmml" xref="S2.p4.2.m2.1.1.1.1"><eq id="S2.p4.2.m2.1.1.1.1.2.cmml" xref="S2.p4.2.m2.1.1.1.1.2"></eq><apply id="S2.p4.2.m2.1.1.1.1.3.cmml" xref="S2.p4.2.m2.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.p4.2.m2.1.1.1.1.3.1.cmml" xref="S2.p4.2.m2.1.1.1.1.3">subscript</csymbol><ci id="S2.p4.2.m2.1.1.1.1.3.2.cmml" xref="S2.p4.2.m2.1.1.1.1.3.2">ğ‘§</ci><ci id="S2.p4.2.m2.1.1.1.1.3.3.cmml" xref="S2.p4.2.m2.1.1.1.1.3.3">ğ‘–</ci></apply><apply id="S2.p4.2.m2.1.1.1.1.1.cmml" xref="S2.p4.2.m2.1.1.1.1.1"><times id="S2.p4.2.m2.1.1.1.1.1.2.cmml" xref="S2.p4.2.m2.1.1.1.1.1.2"></times><ci id="S2.p4.2.m2.1.1.1.1.1.3.cmml" xref="S2.p4.2.m2.1.1.1.1.1.3">ğ‘“</ci><apply id="S2.p4.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S2.p4.2.m2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.p4.2.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S2.p4.2.m2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.p4.2.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S2.p4.2.m2.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.p4.2.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S2.p4.2.m2.1.1.1.1.1.1.1.1.3">ğ‘–</ci></apply></apply></apply><apply id="S2.p4.2.m2.2.2.2.2.cmml" xref="S2.p4.2.m2.2.2.2.2"><in id="S2.p4.2.m2.2.2.2.2.1.cmml" xref="S2.p4.2.m2.2.2.2.2.1"></in><apply id="S2.p4.2.m2.2.2.2.2.2.cmml" xref="S2.p4.2.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.p4.2.m2.2.2.2.2.2.1.cmml" xref="S2.p4.2.m2.2.2.2.2.2">subscript</csymbol><ci id="S2.p4.2.m2.2.2.2.2.2.2.cmml" xref="S2.p4.2.m2.2.2.2.2.2.2">ğ‘§</ci><ci id="S2.p4.2.m2.2.2.2.2.2.3.cmml" xref="S2.p4.2.m2.2.2.2.2.2.3">ğ‘–</ci></apply><apply id="S2.p4.2.m2.2.2.2.2.3.cmml" xref="S2.p4.2.m2.2.2.2.2.3"><csymbol cd="ambiguous" id="S2.p4.2.m2.2.2.2.2.3.1.cmml" xref="S2.p4.2.m2.2.2.2.2.3">superscript</csymbol><ci id="S2.p4.2.m2.2.2.2.2.3.2.cmml" xref="S2.p4.2.m2.2.2.2.2.3.2">â„</ci><ci id="S2.p4.2.m2.2.2.2.2.3.3.cmml" xref="S2.p4.2.m2.2.2.2.2.3.3">ğ‘‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.2.m2.2c">z_{i}=f(x_{i}),z_{i}\in\mathbb{R}^{d}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.2.m2.2d">italic_z start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = italic_f ( italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) , italic_z start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT âˆˆ blackboard_R start_POSTSUPERSCRIPT italic_d end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math alttext="d" class="ltx_Math" display="inline" id="S2.p4.3.m3.1"><semantics id="S2.p4.3.m3.1a"><mi id="S2.p4.3.m3.1.1" xref="S2.p4.3.m3.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S2.p4.3.m3.1b"><ci id="S2.p4.3.m3.1.1.cmml" xref="S2.p4.3.m3.1.1">ğ‘‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.3.m3.1c">d</annotation><annotation encoding="application/x-llamapun" id="S2.p4.3.m3.1d">italic_d</annotation></semantics></math> is the embedding dimension. We build a FAISSÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib14" title="">14</a>]</cite> index for efficient similarity search (FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#S1.F1" title="Figure 1 â€£ I Introduction â€£ Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling"><span class="ltx_text ltx_ref_tag">1</span></a>.A). During inference, for a new ECG <math alttext="x_{t}" class="ltx_Math" display="inline" id="S2.p4.4.m4.1"><semantics id="S2.p4.4.m4.1a"><msub id="S2.p4.4.m4.1.1" xref="S2.p4.4.m4.1.1.cmml"><mi id="S2.p4.4.m4.1.1.2" xref="S2.p4.4.m4.1.1.2.cmml">x</mi><mi id="S2.p4.4.m4.1.1.3" xref="S2.p4.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p4.4.m4.1b"><apply id="S2.p4.4.m4.1.1.cmml" xref="S2.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S2.p4.4.m4.1.1.1.cmml" xref="S2.p4.4.m4.1.1">subscript</csymbol><ci id="S2.p4.4.m4.1.1.2.cmml" xref="S2.p4.4.m4.1.1.2">ğ‘¥</ci><ci id="S2.p4.4.m4.1.1.3.cmml" xref="S2.p4.4.m4.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.4.m4.1c">x_{t}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.4.m4.1d">italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> sample, we compute <math alttext="z_{t}=f(x_{t})" class="ltx_Math" display="inline" id="S2.p4.5.m5.1"><semantics id="S2.p4.5.m5.1a"><mrow id="S2.p4.5.m5.1.1" xref="S2.p4.5.m5.1.1.cmml"><msub id="S2.p4.5.m5.1.1.3" xref="S2.p4.5.m5.1.1.3.cmml"><mi id="S2.p4.5.m5.1.1.3.2" xref="S2.p4.5.m5.1.1.3.2.cmml">z</mi><mi id="S2.p4.5.m5.1.1.3.3" xref="S2.p4.5.m5.1.1.3.3.cmml">t</mi></msub><mo id="S2.p4.5.m5.1.1.2" xref="S2.p4.5.m5.1.1.2.cmml">=</mo><mrow id="S2.p4.5.m5.1.1.1" xref="S2.p4.5.m5.1.1.1.cmml"><mi id="S2.p4.5.m5.1.1.1.3" xref="S2.p4.5.m5.1.1.1.3.cmml">f</mi><mo id="S2.p4.5.m5.1.1.1.2" xref="S2.p4.5.m5.1.1.1.2.cmml">â¢</mo><mrow id="S2.p4.5.m5.1.1.1.1.1" xref="S2.p4.5.m5.1.1.1.1.1.1.cmml"><mo id="S2.p4.5.m5.1.1.1.1.1.2" stretchy="false" xref="S2.p4.5.m5.1.1.1.1.1.1.cmml">(</mo><msub id="S2.p4.5.m5.1.1.1.1.1.1" xref="S2.p4.5.m5.1.1.1.1.1.1.cmml"><mi id="S2.p4.5.m5.1.1.1.1.1.1.2" xref="S2.p4.5.m5.1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.p4.5.m5.1.1.1.1.1.1.3" xref="S2.p4.5.m5.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S2.p4.5.m5.1.1.1.1.1.3" stretchy="false" xref="S2.p4.5.m5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p4.5.m5.1b"><apply id="S2.p4.5.m5.1.1.cmml" xref="S2.p4.5.m5.1.1"><eq id="S2.p4.5.m5.1.1.2.cmml" xref="S2.p4.5.m5.1.1.2"></eq><apply id="S2.p4.5.m5.1.1.3.cmml" xref="S2.p4.5.m5.1.1.3"><csymbol cd="ambiguous" id="S2.p4.5.m5.1.1.3.1.cmml" xref="S2.p4.5.m5.1.1.3">subscript</csymbol><ci id="S2.p4.5.m5.1.1.3.2.cmml" xref="S2.p4.5.m5.1.1.3.2">ğ‘§</ci><ci id="S2.p4.5.m5.1.1.3.3.cmml" xref="S2.p4.5.m5.1.1.3.3">ğ‘¡</ci></apply><apply id="S2.p4.5.m5.1.1.1.cmml" xref="S2.p4.5.m5.1.1.1"><times id="S2.p4.5.m5.1.1.1.2.cmml" xref="S2.p4.5.m5.1.1.1.2"></times><ci id="S2.p4.5.m5.1.1.1.3.cmml" xref="S2.p4.5.m5.1.1.1.3">ğ‘“</ci><apply id="S2.p4.5.m5.1.1.1.1.1.1.cmml" xref="S2.p4.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.p4.5.m5.1.1.1.1.1.1.1.cmml" xref="S2.p4.5.m5.1.1.1.1.1">subscript</csymbol><ci id="S2.p4.5.m5.1.1.1.1.1.1.2.cmml" xref="S2.p4.5.m5.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.p4.5.m5.1.1.1.1.1.1.3.cmml" xref="S2.p4.5.m5.1.1.1.1.1.1.3">ğ‘¡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.5.m5.1c">z_{t}=f(x_{t})</annotation><annotation encoding="application/x-llamapun" id="S2.p4.5.m5.1d">italic_z start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = italic_f ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> and retrieve <math alttext="k" class="ltx_Math" display="inline" id="S2.p4.6.m6.1"><semantics id="S2.p4.6.m6.1a"><mi id="S2.p4.6.m6.1.1" xref="S2.p4.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p4.6.m6.1b"><ci id="S2.p4.6.m6.1.1.cmml" xref="S2.p4.6.m6.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.6.m6.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.p4.6.m6.1d">italic_k</annotation></semantics></math> nearest neighbors using FAISS. Let <math alttext="N_{k}(z_{t})={(i_{j},d_{j})|j=1,...,k}" class="ltx_Math" display="inline" id="S2.p4.7.m7.5"><semantics id="S2.p4.7.m7.5a"><mrow id="S2.p4.7.m7.5.5.2" xref="S2.p4.7.m7.5.5.3.cmml"><mrow id="S2.p4.7.m7.4.4.1.1" xref="S2.p4.7.m7.4.4.1.1.cmml"><mrow id="S2.p4.7.m7.4.4.1.1.1" xref="S2.p4.7.m7.4.4.1.1.1.cmml"><msub id="S2.p4.7.m7.4.4.1.1.1.3" xref="S2.p4.7.m7.4.4.1.1.1.3.cmml"><mi id="S2.p4.7.m7.4.4.1.1.1.3.2" xref="S2.p4.7.m7.4.4.1.1.1.3.2.cmml">N</mi><mi id="S2.p4.7.m7.4.4.1.1.1.3.3" xref="S2.p4.7.m7.4.4.1.1.1.3.3.cmml">k</mi></msub><mo id="S2.p4.7.m7.4.4.1.1.1.2" xref="S2.p4.7.m7.4.4.1.1.1.2.cmml">â¢</mo><mrow id="S2.p4.7.m7.4.4.1.1.1.1.1" xref="S2.p4.7.m7.4.4.1.1.1.1.1.1.cmml"><mo id="S2.p4.7.m7.4.4.1.1.1.1.1.2" stretchy="false" xref="S2.p4.7.m7.4.4.1.1.1.1.1.1.cmml">(</mo><msub id="S2.p4.7.m7.4.4.1.1.1.1.1.1" xref="S2.p4.7.m7.4.4.1.1.1.1.1.1.cmml"><mi id="S2.p4.7.m7.4.4.1.1.1.1.1.1.2" xref="S2.p4.7.m7.4.4.1.1.1.1.1.1.2.cmml">z</mi><mi id="S2.p4.7.m7.4.4.1.1.1.1.1.1.3" xref="S2.p4.7.m7.4.4.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S2.p4.7.m7.4.4.1.1.1.1.1.3" stretchy="false" xref="S2.p4.7.m7.4.4.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.p4.7.m7.4.4.1.1.5" xref="S2.p4.7.m7.4.4.1.1.5.cmml">=</mo><mrow id="S2.p4.7.m7.4.4.1.1.3" xref="S2.p4.7.m7.4.4.1.1.3.cmml"><mrow id="S2.p4.7.m7.4.4.1.1.3.2.2" xref="S2.p4.7.m7.4.4.1.1.3.2.3.cmml"><mo id="S2.p4.7.m7.4.4.1.1.3.2.2.3" stretchy="false" xref="S2.p4.7.m7.4.4.1.1.3.2.3.cmml">(</mo><msub id="S2.p4.7.m7.4.4.1.1.2.1.1.1" xref="S2.p4.7.m7.4.4.1.1.2.1.1.1.cmml"><mi id="S2.p4.7.m7.4.4.1.1.2.1.1.1.2" xref="S2.p4.7.m7.4.4.1.1.2.1.1.1.2.cmml">i</mi><mi id="S2.p4.7.m7.4.4.1.1.2.1.1.1.3" xref="S2.p4.7.m7.4.4.1.1.2.1.1.1.3.cmml">j</mi></msub><mo id="S2.p4.7.m7.4.4.1.1.3.2.2.4" xref="S2.p4.7.m7.4.4.1.1.3.2.3.cmml">,</mo><msub id="S2.p4.7.m7.4.4.1.1.3.2.2.2" xref="S2.p4.7.m7.4.4.1.1.3.2.2.2.cmml"><mi id="S2.p4.7.m7.4.4.1.1.3.2.2.2.2" xref="S2.p4.7.m7.4.4.1.1.3.2.2.2.2.cmml">d</mi><mi id="S2.p4.7.m7.4.4.1.1.3.2.2.2.3" xref="S2.p4.7.m7.4.4.1.1.3.2.2.2.3.cmml">j</mi></msub><mo id="S2.p4.7.m7.4.4.1.1.3.2.2.5" stretchy="false" xref="S2.p4.7.m7.4.4.1.1.3.2.3.cmml">)</mo></mrow><mo fence="false" id="S2.p4.7.m7.4.4.1.1.3.3" xref="S2.p4.7.m7.4.4.1.1.3.3.cmml">|</mo><mi id="S2.p4.7.m7.4.4.1.1.3.4" xref="S2.p4.7.m7.4.4.1.1.3.4.cmml">j</mi></mrow><mo id="S2.p4.7.m7.4.4.1.1.6" xref="S2.p4.7.m7.4.4.1.1.6.cmml">=</mo><mn id="S2.p4.7.m7.1.1" xref="S2.p4.7.m7.1.1.cmml">1</mn></mrow><mo id="S2.p4.7.m7.5.5.2.3" xref="S2.p4.7.m7.5.5.3a.cmml">,</mo><mrow id="S2.p4.7.m7.5.5.2.2.2" xref="S2.p4.7.m7.5.5.2.2.1.cmml"><mi id="S2.p4.7.m7.2.2" mathvariant="normal" xref="S2.p4.7.m7.2.2.cmml">â€¦</mi><mo id="S2.p4.7.m7.5.5.2.2.2.1" xref="S2.p4.7.m7.5.5.2.2.1.cmml">,</mo><mi id="S2.p4.7.m7.3.3" xref="S2.p4.7.m7.3.3.cmml">k</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p4.7.m7.5b"><apply id="S2.p4.7.m7.5.5.3.cmml" xref="S2.p4.7.m7.5.5.2"><csymbol cd="ambiguous" id="S2.p4.7.m7.5.5.3a.cmml" xref="S2.p4.7.m7.5.5.2.3">formulae-sequence</csymbol><apply id="S2.p4.7.m7.4.4.1.1.cmml" xref="S2.p4.7.m7.4.4.1.1"><and id="S2.p4.7.m7.4.4.1.1a.cmml" xref="S2.p4.7.m7.4.4.1.1"></and><apply id="S2.p4.7.m7.4.4.1.1b.cmml" xref="S2.p4.7.m7.4.4.1.1"><eq id="S2.p4.7.m7.4.4.1.1.5.cmml" xref="S2.p4.7.m7.4.4.1.1.5"></eq><apply id="S2.p4.7.m7.4.4.1.1.1.cmml" xref="S2.p4.7.m7.4.4.1.1.1"><times id="S2.p4.7.m7.4.4.1.1.1.2.cmml" xref="S2.p4.7.m7.4.4.1.1.1.2"></times><apply id="S2.p4.7.m7.4.4.1.1.1.3.cmml" xref="S2.p4.7.m7.4.4.1.1.1.3"><csymbol cd="ambiguous" id="S2.p4.7.m7.4.4.1.1.1.3.1.cmml" xref="S2.p4.7.m7.4.4.1.1.1.3">subscript</csymbol><ci id="S2.p4.7.m7.4.4.1.1.1.3.2.cmml" xref="S2.p4.7.m7.4.4.1.1.1.3.2">ğ‘</ci><ci id="S2.p4.7.m7.4.4.1.1.1.3.3.cmml" xref="S2.p4.7.m7.4.4.1.1.1.3.3">ğ‘˜</ci></apply><apply id="S2.p4.7.m7.4.4.1.1.1.1.1.1.cmml" xref="S2.p4.7.m7.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.p4.7.m7.4.4.1.1.1.1.1.1.1.cmml" xref="S2.p4.7.m7.4.4.1.1.1.1.1">subscript</csymbol><ci id="S2.p4.7.m7.4.4.1.1.1.1.1.1.2.cmml" xref="S2.p4.7.m7.4.4.1.1.1.1.1.1.2">ğ‘§</ci><ci id="S2.p4.7.m7.4.4.1.1.1.1.1.1.3.cmml" xref="S2.p4.7.m7.4.4.1.1.1.1.1.1.3">ğ‘¡</ci></apply></apply><apply id="S2.p4.7.m7.4.4.1.1.3.cmml" xref="S2.p4.7.m7.4.4.1.1.3"><csymbol cd="latexml" id="S2.p4.7.m7.4.4.1.1.3.3.cmml" xref="S2.p4.7.m7.4.4.1.1.3.3">conditional</csymbol><interval closure="open" id="S2.p4.7.m7.4.4.1.1.3.2.3.cmml" xref="S2.p4.7.m7.4.4.1.1.3.2.2"><apply id="S2.p4.7.m7.4.4.1.1.2.1.1.1.cmml" xref="S2.p4.7.m7.4.4.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S2.p4.7.m7.4.4.1.1.2.1.1.1.1.cmml" xref="S2.p4.7.m7.4.4.1.1.2.1.1.1">subscript</csymbol><ci id="S2.p4.7.m7.4.4.1.1.2.1.1.1.2.cmml" xref="S2.p4.7.m7.4.4.1.1.2.1.1.1.2">ğ‘–</ci><ci id="S2.p4.7.m7.4.4.1.1.2.1.1.1.3.cmml" xref="S2.p4.7.m7.4.4.1.1.2.1.1.1.3">ğ‘—</ci></apply><apply id="S2.p4.7.m7.4.4.1.1.3.2.2.2.cmml" xref="S2.p4.7.m7.4.4.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S2.p4.7.m7.4.4.1.1.3.2.2.2.1.cmml" xref="S2.p4.7.m7.4.4.1.1.3.2.2.2">subscript</csymbol><ci id="S2.p4.7.m7.4.4.1.1.3.2.2.2.2.cmml" xref="S2.p4.7.m7.4.4.1.1.3.2.2.2.2">ğ‘‘</ci><ci id="S2.p4.7.m7.4.4.1.1.3.2.2.2.3.cmml" xref="S2.p4.7.m7.4.4.1.1.3.2.2.2.3">ğ‘—</ci></apply></interval><ci id="S2.p4.7.m7.4.4.1.1.3.4.cmml" xref="S2.p4.7.m7.4.4.1.1.3.4">ğ‘—</ci></apply></apply><apply id="S2.p4.7.m7.4.4.1.1c.cmml" xref="S2.p4.7.m7.4.4.1.1"><eq id="S2.p4.7.m7.4.4.1.1.6.cmml" xref="S2.p4.7.m7.4.4.1.1.6"></eq><share href="https://arxiv.org/html/2409.08788v1#S2.p4.7.m7.4.4.1.1.3.cmml" id="S2.p4.7.m7.4.4.1.1d.cmml" xref="S2.p4.7.m7.4.4.1.1"></share><cn id="S2.p4.7.m7.1.1.cmml" type="integer" xref="S2.p4.7.m7.1.1">1</cn></apply></apply><list id="S2.p4.7.m7.5.5.2.2.1.cmml" xref="S2.p4.7.m7.5.5.2.2.2"><ci id="S2.p4.7.m7.2.2.cmml" xref="S2.p4.7.m7.2.2">â€¦</ci><ci id="S2.p4.7.m7.3.3.cmml" xref="S2.p4.7.m7.3.3">ğ‘˜</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.7.m7.5c">N_{k}(z_{t})={(i_{j},d_{j})|j=1,...,k}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.7.m7.5d">italic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) = ( italic_i start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , italic_d start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) | italic_j = 1 , â€¦ , italic_k</annotation></semantics></math> denote the set of <math alttext="k" class="ltx_Math" display="inline" id="S2.p4.8.m8.1"><semantics id="S2.p4.8.m8.1a"><mi id="S2.p4.8.m8.1.1" xref="S2.p4.8.m8.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p4.8.m8.1b"><ci id="S2.p4.8.m8.1.1.cmml" xref="S2.p4.8.m8.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.8.m8.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.p4.8.m8.1d">italic_k</annotation></semantics></math> nearest neighbors, where <math alttext="i_{j}" class="ltx_Math" display="inline" id="S2.p4.9.m9.1"><semantics id="S2.p4.9.m9.1a"><msub id="S2.p4.9.m9.1.1" xref="S2.p4.9.m9.1.1.cmml"><mi id="S2.p4.9.m9.1.1.2" xref="S2.p4.9.m9.1.1.2.cmml">i</mi><mi id="S2.p4.9.m9.1.1.3" xref="S2.p4.9.m9.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p4.9.m9.1b"><apply id="S2.p4.9.m9.1.1.cmml" xref="S2.p4.9.m9.1.1"><csymbol cd="ambiguous" id="S2.p4.9.m9.1.1.1.cmml" xref="S2.p4.9.m9.1.1">subscript</csymbol><ci id="S2.p4.9.m9.1.1.2.cmml" xref="S2.p4.9.m9.1.1.2">ğ‘–</ci><ci id="S2.p4.9.m9.1.1.3.cmml" xref="S2.p4.9.m9.1.1.3">ğ‘—</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.9.m9.1c">i_{j}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.9.m9.1d">italic_i start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> is the index of the <math alttext="j" class="ltx_Math" display="inline" id="S2.p4.10.m10.1"><semantics id="S2.p4.10.m10.1a"><mi id="S2.p4.10.m10.1.1" xref="S2.p4.10.m10.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S2.p4.10.m10.1b"><ci id="S2.p4.10.m10.1.1.cmml" xref="S2.p4.10.m10.1.1">ğ‘—</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.10.m10.1c">j</annotation><annotation encoding="application/x-llamapun" id="S2.p4.10.m10.1d">italic_j</annotation></semantics></math>-th neighbor and <math alttext="d_{j}" class="ltx_Math" display="inline" id="S2.p4.11.m11.1"><semantics id="S2.p4.11.m11.1a"><msub id="S2.p4.11.m11.1.1" xref="S2.p4.11.m11.1.1.cmml"><mi id="S2.p4.11.m11.1.1.2" xref="S2.p4.11.m11.1.1.2.cmml">d</mi><mi id="S2.p4.11.m11.1.1.3" xref="S2.p4.11.m11.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p4.11.m11.1b"><apply id="S2.p4.11.m11.1.1.cmml" xref="S2.p4.11.m11.1.1"><csymbol cd="ambiguous" id="S2.p4.11.m11.1.1.1.cmml" xref="S2.p4.11.m11.1.1">subscript</csymbol><ci id="S2.p4.11.m11.1.1.2.cmml" xref="S2.p4.11.m11.1.1.2">ğ‘‘</ci><ci id="S2.p4.11.m11.1.1.3.cmml" xref="S2.p4.11.m11.1.1.3">ğ‘—</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.11.m11.1c">d_{j}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.11.m11.1d">italic_d start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> is the distance. We then retrieve the corresponding reports: <math alttext="R_{\text{retrieved}}={r_{i_{j}}|(i_{j},d_{j})\in N_{k}(z_{t})}" class="ltx_Math" display="inline" id="S2.p4.12.m12.3"><semantics id="S2.p4.12.m12.3a"><mrow id="S2.p4.12.m12.3.3" xref="S2.p4.12.m12.3.3.cmml"><msub id="S2.p4.12.m12.3.3.5" xref="S2.p4.12.m12.3.3.5.cmml"><mi id="S2.p4.12.m12.3.3.5.2" xref="S2.p4.12.m12.3.3.5.2.cmml">R</mi><mtext id="S2.p4.12.m12.3.3.5.3" xref="S2.p4.12.m12.3.3.5.3a.cmml">retrieved</mtext></msub><mo id="S2.p4.12.m12.3.3.6" xref="S2.p4.12.m12.3.3.6.cmml">=</mo><mrow id="S2.p4.12.m12.2.2.2" xref="S2.p4.12.m12.2.2.2.cmml"><msub id="S2.p4.12.m12.2.2.2.4" xref="S2.p4.12.m12.2.2.2.4.cmml"><mi id="S2.p4.12.m12.2.2.2.4.2" xref="S2.p4.12.m12.2.2.2.4.2.cmml">r</mi><msub id="S2.p4.12.m12.2.2.2.4.3" xref="S2.p4.12.m12.2.2.2.4.3.cmml"><mi id="S2.p4.12.m12.2.2.2.4.3.2" xref="S2.p4.12.m12.2.2.2.4.3.2.cmml">i</mi><mi id="S2.p4.12.m12.2.2.2.4.3.3" xref="S2.p4.12.m12.2.2.2.4.3.3.cmml">j</mi></msub></msub><mo fence="false" id="S2.p4.12.m12.2.2.2.3" xref="S2.p4.12.m12.2.2.2.3.cmml">|</mo><mrow id="S2.p4.12.m12.2.2.2.2.2" xref="S2.p4.12.m12.2.2.2.2.3.cmml"><mo id="S2.p4.12.m12.2.2.2.2.2.3" stretchy="false" xref="S2.p4.12.m12.2.2.2.2.3.cmml">(</mo><msub id="S2.p4.12.m12.1.1.1.1.1.1" xref="S2.p4.12.m12.1.1.1.1.1.1.cmml"><mi id="S2.p4.12.m12.1.1.1.1.1.1.2" xref="S2.p4.12.m12.1.1.1.1.1.1.2.cmml">i</mi><mi id="S2.p4.12.m12.1.1.1.1.1.1.3" xref="S2.p4.12.m12.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S2.p4.12.m12.2.2.2.2.2.4" xref="S2.p4.12.m12.2.2.2.2.3.cmml">,</mo><msub id="S2.p4.12.m12.2.2.2.2.2.2" xref="S2.p4.12.m12.2.2.2.2.2.2.cmml"><mi id="S2.p4.12.m12.2.2.2.2.2.2.2" xref="S2.p4.12.m12.2.2.2.2.2.2.2.cmml">d</mi><mi id="S2.p4.12.m12.2.2.2.2.2.2.3" xref="S2.p4.12.m12.2.2.2.2.2.2.3.cmml">j</mi></msub><mo id="S2.p4.12.m12.2.2.2.2.2.5" stretchy="false" xref="S2.p4.12.m12.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S2.p4.12.m12.3.3.7" xref="S2.p4.12.m12.3.3.7.cmml">âˆˆ</mo><mrow id="S2.p4.12.m12.3.3.3" xref="S2.p4.12.m12.3.3.3.cmml"><msub id="S2.p4.12.m12.3.3.3.3" xref="S2.p4.12.m12.3.3.3.3.cmml"><mi id="S2.p4.12.m12.3.3.3.3.2" xref="S2.p4.12.m12.3.3.3.3.2.cmml">N</mi><mi id="S2.p4.12.m12.3.3.3.3.3" xref="S2.p4.12.m12.3.3.3.3.3.cmml">k</mi></msub><mo id="S2.p4.12.m12.3.3.3.2" xref="S2.p4.12.m12.3.3.3.2.cmml">â¢</mo><mrow id="S2.p4.12.m12.3.3.3.1.1" xref="S2.p4.12.m12.3.3.3.1.1.1.cmml"><mo id="S2.p4.12.m12.3.3.3.1.1.2" stretchy="false" xref="S2.p4.12.m12.3.3.3.1.1.1.cmml">(</mo><msub id="S2.p4.12.m12.3.3.3.1.1.1" xref="S2.p4.12.m12.3.3.3.1.1.1.cmml"><mi id="S2.p4.12.m12.3.3.3.1.1.1.2" xref="S2.p4.12.m12.3.3.3.1.1.1.2.cmml">z</mi><mi id="S2.p4.12.m12.3.3.3.1.1.1.3" xref="S2.p4.12.m12.3.3.3.1.1.1.3.cmml">t</mi></msub><mo id="S2.p4.12.m12.3.3.3.1.1.3" stretchy="false" xref="S2.p4.12.m12.3.3.3.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p4.12.m12.3b"><apply id="S2.p4.12.m12.3.3.cmml" xref="S2.p4.12.m12.3.3"><and id="S2.p4.12.m12.3.3a.cmml" xref="S2.p4.12.m12.3.3"></and><apply id="S2.p4.12.m12.3.3b.cmml" xref="S2.p4.12.m12.3.3"><eq id="S2.p4.12.m12.3.3.6.cmml" xref="S2.p4.12.m12.3.3.6"></eq><apply id="S2.p4.12.m12.3.3.5.cmml" xref="S2.p4.12.m12.3.3.5"><csymbol cd="ambiguous" id="S2.p4.12.m12.3.3.5.1.cmml" xref="S2.p4.12.m12.3.3.5">subscript</csymbol><ci id="S2.p4.12.m12.3.3.5.2.cmml" xref="S2.p4.12.m12.3.3.5.2">ğ‘…</ci><ci id="S2.p4.12.m12.3.3.5.3a.cmml" xref="S2.p4.12.m12.3.3.5.3"><mtext id="S2.p4.12.m12.3.3.5.3.cmml" mathsize="70%" xref="S2.p4.12.m12.3.3.5.3">retrieved</mtext></ci></apply><apply id="S2.p4.12.m12.2.2.2.cmml" xref="S2.p4.12.m12.2.2.2"><csymbol cd="latexml" id="S2.p4.12.m12.2.2.2.3.cmml" xref="S2.p4.12.m12.2.2.2.3">conditional</csymbol><apply id="S2.p4.12.m12.2.2.2.4.cmml" xref="S2.p4.12.m12.2.2.2.4"><csymbol cd="ambiguous" id="S2.p4.12.m12.2.2.2.4.1.cmml" xref="S2.p4.12.m12.2.2.2.4">subscript</csymbol><ci id="S2.p4.12.m12.2.2.2.4.2.cmml" xref="S2.p4.12.m12.2.2.2.4.2">ğ‘Ÿ</ci><apply id="S2.p4.12.m12.2.2.2.4.3.cmml" xref="S2.p4.12.m12.2.2.2.4.3"><csymbol cd="ambiguous" id="S2.p4.12.m12.2.2.2.4.3.1.cmml" xref="S2.p4.12.m12.2.2.2.4.3">subscript</csymbol><ci id="S2.p4.12.m12.2.2.2.4.3.2.cmml" xref="S2.p4.12.m12.2.2.2.4.3.2">ğ‘–</ci><ci id="S2.p4.12.m12.2.2.2.4.3.3.cmml" xref="S2.p4.12.m12.2.2.2.4.3.3">ğ‘—</ci></apply></apply><interval closure="open" id="S2.p4.12.m12.2.2.2.2.3.cmml" xref="S2.p4.12.m12.2.2.2.2.2"><apply id="S2.p4.12.m12.1.1.1.1.1.1.cmml" xref="S2.p4.12.m12.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.p4.12.m12.1.1.1.1.1.1.1.cmml" xref="S2.p4.12.m12.1.1.1.1.1.1">subscript</csymbol><ci id="S2.p4.12.m12.1.1.1.1.1.1.2.cmml" xref="S2.p4.12.m12.1.1.1.1.1.1.2">ğ‘–</ci><ci id="S2.p4.12.m12.1.1.1.1.1.1.3.cmml" xref="S2.p4.12.m12.1.1.1.1.1.1.3">ğ‘—</ci></apply><apply id="S2.p4.12.m12.2.2.2.2.2.2.cmml" xref="S2.p4.12.m12.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.p4.12.m12.2.2.2.2.2.2.1.cmml" xref="S2.p4.12.m12.2.2.2.2.2.2">subscript</csymbol><ci id="S2.p4.12.m12.2.2.2.2.2.2.2.cmml" xref="S2.p4.12.m12.2.2.2.2.2.2.2">ğ‘‘</ci><ci id="S2.p4.12.m12.2.2.2.2.2.2.3.cmml" xref="S2.p4.12.m12.2.2.2.2.2.2.3">ğ‘—</ci></apply></interval></apply></apply><apply id="S2.p4.12.m12.3.3c.cmml" xref="S2.p4.12.m12.3.3"><in id="S2.p4.12.m12.3.3.7.cmml" xref="S2.p4.12.m12.3.3.7"></in><share href="https://arxiv.org/html/2409.08788v1#S2.p4.12.m12.2.2.2.cmml" id="S2.p4.12.m12.3.3d.cmml" xref="S2.p4.12.m12.3.3"></share><apply id="S2.p4.12.m12.3.3.3.cmml" xref="S2.p4.12.m12.3.3.3"><times id="S2.p4.12.m12.3.3.3.2.cmml" xref="S2.p4.12.m12.3.3.3.2"></times><apply id="S2.p4.12.m12.3.3.3.3.cmml" xref="S2.p4.12.m12.3.3.3.3"><csymbol cd="ambiguous" id="S2.p4.12.m12.3.3.3.3.1.cmml" xref="S2.p4.12.m12.3.3.3.3">subscript</csymbol><ci id="S2.p4.12.m12.3.3.3.3.2.cmml" xref="S2.p4.12.m12.3.3.3.3.2">ğ‘</ci><ci id="S2.p4.12.m12.3.3.3.3.3.cmml" xref="S2.p4.12.m12.3.3.3.3.3">ğ‘˜</ci></apply><apply id="S2.p4.12.m12.3.3.3.1.1.1.cmml" xref="S2.p4.12.m12.3.3.3.1.1"><csymbol cd="ambiguous" id="S2.p4.12.m12.3.3.3.1.1.1.1.cmml" xref="S2.p4.12.m12.3.3.3.1.1">subscript</csymbol><ci id="S2.p4.12.m12.3.3.3.1.1.1.2.cmml" xref="S2.p4.12.m12.3.3.3.1.1.1.2">ğ‘§</ci><ci id="S2.p4.12.m12.3.3.3.1.1.1.3.cmml" xref="S2.p4.12.m12.3.3.3.1.1.1.3">ğ‘¡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.12.m12.3c">R_{\text{retrieved}}={r_{i_{j}}|(i_{j},d_{j})\in N_{k}(z_{t})}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.12.m12.3d">italic_R start_POSTSUBSCRIPT retrieved end_POSTSUBSCRIPT = italic_r start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT | ( italic_i start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , italic_d start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) âˆˆ italic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>.</p>
</div>
<figure class="ltx_table" id="S2.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table I: </span>Performance comparison of various methods for ECG report generation on PTB-XL and MIMIC-IV-ECG datasets.</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S2.T1.1" style="width:433.6pt;height:169.9pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-83.1pt,32.4pt) scale(0.722866325238819,0.722866325238819) ;">
<table class="ltx_tabular ltx_align_middle" id="S2.T1.1.1">
<tr class="ltx_tr" id="S2.T1.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S2.T1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.1.1">Dataset</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S2.T1.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.2.1">Method</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.3.1">BLEU-1</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.4.1">BLEU-2</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.5.1">BLEU-3</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.6.1">BLEU-4</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.7"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.7.1">BERTScore</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.8"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.8.1">Meteor</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt" id="S2.T1.1.1.1.9"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.9.1">Rouge</span></td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T1.1.1.2.1" rowspan="4"><span class="ltx_text" id="S2.T1.1.1.2.1.1">
<span class="ltx_tabular ltx_align_middle" id="S2.T1.1.1.2.1.1.1">
<span class="ltx_tr" id="S2.T1.1.1.2.1.1.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S2.T1.1.1.2.1.1.1.1.1">PTB-XL</span></span>
<span class="ltx_tr" id="S2.T1.1.1.2.1.1.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S2.T1.1.1.2.1.1.1.2.1">(in-domain)</span></span>
</span></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T1.1.1.2.2">Random</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.2.3">0.152</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.2.4">0.091</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.2.5">0.060</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.2.6">0.049</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.2.7">0.582</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.2.8">0.226</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S2.T1.1.1.2.9">0.234</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.3">
<td class="ltx_td ltx_align_left" id="S2.T1.1.1.3.1">Common</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.3.2">0.212</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.3.3">0.150</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.3.4">0.134</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.3.5">0.132</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.3.6">0.663</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.3.7">0.317</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S2.T1.1.1.3.8">0.385</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.4">
<td class="ltx_td ltx_align_left" id="S2.T1.1.1.4.1">Transformer</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.4.2">0.273</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.4.3">0.179</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.4.4">0.119</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.4.5">0.093</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.4.6">0.626</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.4.7">0.292</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S2.T1.1.1.4.8">0.303</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.5">
<td class="ltx_td ltx_align_left" id="S2.T1.1.1.5.1">R2GenCMN (R)Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib15" title="">15</a>]</cite>
</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.5.2">0.337</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.5.3">0.249</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.5.4">0.188</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.5.5">0.159</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.5.6">0.687</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.5.7">0.362</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S2.T1.1.1.5.8">0.392</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.6">
<td class="ltx_td" id="S2.T1.1.1.6.1"></td>
<td class="ltx_td ltx_align_left" id="S2.T1.1.1.6.2">R2GenCMN (P)Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib15" title="">15</a>]</cite>
</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.6.3">0.393</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.6.4">0.298</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.6.5">0.232</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.6.6">0.196</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.6.7">0.710</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.6.8">0.412</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S2.T1.1.1.6.9">0.443</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.7">
<td class="ltx_td" id="S2.T1.1.1.7.1"></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T1.1.1.7.2">ECG-ReGenÂ (Ours)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.7.3"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.7.3.1">0.801</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.7.4"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.7.4.1">0.768</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.7.5"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.7.5.1">0.737</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.7.6"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.7.6.1">0.700</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.7.7"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.7.7.1">0.920</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.7.8"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.7.8.1">0.836</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S2.T1.1.1.7.9"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.7.9.1">0.836</span></td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.8">
<td class="ltx_td ltx_align_left" id="S2.T1.1.1.8.1" rowspan="4"><span class="ltx_text" id="S2.T1.1.1.8.1.1">
<span class="ltx_tabular ltx_align_middle" id="S2.T1.1.1.8.1.1.1">
<span class="ltx_tr" id="S2.T1.1.1.8.1.1.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S2.T1.1.1.8.1.1.1.1.1">MIMIC-IV-ECG</span></span>
<span class="ltx_tr" id="S2.T1.1.1.8.1.1.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S2.T1.1.1.8.1.1.1.2.1">(cross-domain)</span></span>
</span></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T1.1.1.8.2">Random</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.8.3">0.113</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.8.4">0.055</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.8.5">0.031</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.8.6">0.023</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.8.7">0.579</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S2.T1.1.1.8.8">0.185</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S2.T1.1.1.8.9">0.201</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.9">
<td class="ltx_td ltx_align_left" id="S2.T1.1.1.9.1">Common</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.9.2">0.127</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.9.3">0.048</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.9.4">0.038</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.9.5">0.033</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.9.6">0.651</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.9.7">0.283</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S2.T1.1.1.9.8">0.399</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.10">
<td class="ltx_td ltx_align_left" id="S2.T1.1.1.10.1">Transformer</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.10.2">0.229</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.10.3">0.137</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.10.4">0.082</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.10.5">0.054</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.10.6">0.598</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.10.7">0.250</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S2.T1.1.1.10.8">0.240</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.11">
<td class="ltx_td ltx_align_left" id="S2.T1.1.1.11.1">R2GenCMN (R)Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib15" title="">15</a>]</cite>
</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.11.2">0.305</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.11.3">0.215</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.11.4">0.133</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.11.5">0.084</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.11.6">0.677</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.11.7">0.346</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S2.T1.1.1.11.8">0.378</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.12">
<td class="ltx_td" id="S2.T1.1.1.12.1"></td>
<td class="ltx_td ltx_align_left" id="S2.T1.1.1.12.2">R2GenCMN (P)Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib15" title="">15</a>]</cite>
</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.12.3">0.325</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.12.4">0.224</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.12.5">0.141</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.12.6">0.091</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.12.7">0.672</td>
<td class="ltx_td ltx_align_center" id="S2.T1.1.1.12.8">0.360</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S2.T1.1.1.12.9">0.383</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.1.13">
<td class="ltx_td ltx_border_bb" id="S2.T1.1.1.13.1"></td>
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S2.T1.1.1.13.2">ECG-ReGenÂ (Ours)</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S2.T1.1.1.13.3"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.13.3.1">0.348</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S2.T1.1.1.13.4"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.13.4.1">0.271</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S2.T1.1.1.13.5"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.13.5.1">0.212</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S2.T1.1.1.13.6"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.13.6.1">0.182</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S2.T1.1.1.13.7"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.13.7.1">0.714</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S2.T1.1.1.13.8"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.13.8.1">0.419</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" id="S2.T1.1.1.13.9"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.13.9.1">0.439</span></td>
</tr>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S2.p5">
<p class="ltx_p" id="S2.p5.7">For a test ECG embedding <math alttext="e_{t}" class="ltx_Math" display="inline" id="S2.p5.1.m1.1"><semantics id="S2.p5.1.m1.1a"><msub id="S2.p5.1.m1.1.1" xref="S2.p5.1.m1.1.1.cmml"><mi id="S2.p5.1.m1.1.1.2" xref="S2.p5.1.m1.1.1.2.cmml">e</mi><mi id="S2.p5.1.m1.1.1.3" xref="S2.p5.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p5.1.m1.1b"><apply id="S2.p5.1.m1.1.1.cmml" xref="S2.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S2.p5.1.m1.1.1.1.cmml" xref="S2.p5.1.m1.1.1">subscript</csymbol><ci id="S2.p5.1.m1.1.1.2.cmml" xref="S2.p5.1.m1.1.1.2">ğ‘’</ci><ci id="S2.p5.1.m1.1.1.3.cmml" xref="S2.p5.1.m1.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p5.1.m1.1c">e_{t}</annotation><annotation encoding="application/x-llamapun" id="S2.p5.1.m1.1d">italic_e start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, we assign the closest retrieved sampleâ€™s report as an initial prediction, that can be optionally refined by an LLM. For zero-shot ECG question answering (FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#S1.F1" title="Figure 1 â€£ I Introduction â€£ Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling"><span class="ltx_text ltx_ref_tag">1</span></a>.B), we use the <math alttext="k" class="ltx_Math" display="inline" id="S2.p5.2.m2.1"><semantics id="S2.p5.2.m2.1a"><mi id="S2.p5.2.m2.1.1" xref="S2.p5.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p5.2.m2.1b"><ci id="S2.p5.2.m2.1.1.cmml" xref="S2.p5.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p5.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.p5.2.m2.1d">italic_k</annotation></semantics></math> retrieved reports and their diagnoses labels as a way to perform in-context learning. We concatenate these as: <math alttext="r_{\text{concat}}=r_{i_{1}}\oplus l_{i_{1}}\oplus r_{i_{2}}\oplus l_{i_{2}}%
\oplus\cdots\oplus r_{i_{k}}\oplus l_{i_{k}}" class="ltx_Math" display="inline" id="S2.p5.3.m3.1"><semantics id="S2.p5.3.m3.1a"><mrow id="S2.p5.3.m3.1.1" xref="S2.p5.3.m3.1.1.cmml"><msub id="S2.p5.3.m3.1.1.2" xref="S2.p5.3.m3.1.1.2.cmml"><mi id="S2.p5.3.m3.1.1.2.2" xref="S2.p5.3.m3.1.1.2.2.cmml">r</mi><mtext id="S2.p5.3.m3.1.1.2.3" xref="S2.p5.3.m3.1.1.2.3a.cmml">concat</mtext></msub><mo id="S2.p5.3.m3.1.1.1" xref="S2.p5.3.m3.1.1.1.cmml">=</mo><mrow id="S2.p5.3.m3.1.1.3" xref="S2.p5.3.m3.1.1.3.cmml"><msub id="S2.p5.3.m3.1.1.3.2" xref="S2.p5.3.m3.1.1.3.2.cmml"><mi id="S2.p5.3.m3.1.1.3.2.2" xref="S2.p5.3.m3.1.1.3.2.2.cmml">r</mi><msub id="S2.p5.3.m3.1.1.3.2.3" xref="S2.p5.3.m3.1.1.3.2.3.cmml"><mi id="S2.p5.3.m3.1.1.3.2.3.2" xref="S2.p5.3.m3.1.1.3.2.3.2.cmml">i</mi><mn id="S2.p5.3.m3.1.1.3.2.3.3" xref="S2.p5.3.m3.1.1.3.2.3.3.cmml">1</mn></msub></msub><mo id="S2.p5.3.m3.1.1.3.1" xref="S2.p5.3.m3.1.1.3.1.cmml">âŠ•</mo><msub id="S2.p5.3.m3.1.1.3.3" xref="S2.p5.3.m3.1.1.3.3.cmml"><mi id="S2.p5.3.m3.1.1.3.3.2" xref="S2.p5.3.m3.1.1.3.3.2.cmml">l</mi><msub id="S2.p5.3.m3.1.1.3.3.3" xref="S2.p5.3.m3.1.1.3.3.3.cmml"><mi id="S2.p5.3.m3.1.1.3.3.3.2" xref="S2.p5.3.m3.1.1.3.3.3.2.cmml">i</mi><mn id="S2.p5.3.m3.1.1.3.3.3.3" xref="S2.p5.3.m3.1.1.3.3.3.3.cmml">1</mn></msub></msub><mo id="S2.p5.3.m3.1.1.3.1a" xref="S2.p5.3.m3.1.1.3.1.cmml">âŠ•</mo><msub id="S2.p5.3.m3.1.1.3.4" xref="S2.p5.3.m3.1.1.3.4.cmml"><mi id="S2.p5.3.m3.1.1.3.4.2" xref="S2.p5.3.m3.1.1.3.4.2.cmml">r</mi><msub id="S2.p5.3.m3.1.1.3.4.3" xref="S2.p5.3.m3.1.1.3.4.3.cmml"><mi id="S2.p5.3.m3.1.1.3.4.3.2" xref="S2.p5.3.m3.1.1.3.4.3.2.cmml">i</mi><mn id="S2.p5.3.m3.1.1.3.4.3.3" xref="S2.p5.3.m3.1.1.3.4.3.3.cmml">2</mn></msub></msub><mo id="S2.p5.3.m3.1.1.3.1b" xref="S2.p5.3.m3.1.1.3.1.cmml">âŠ•</mo><msub id="S2.p5.3.m3.1.1.3.5" xref="S2.p5.3.m3.1.1.3.5.cmml"><mi id="S2.p5.3.m3.1.1.3.5.2" xref="S2.p5.3.m3.1.1.3.5.2.cmml">l</mi><msub id="S2.p5.3.m3.1.1.3.5.3" xref="S2.p5.3.m3.1.1.3.5.3.cmml"><mi id="S2.p5.3.m3.1.1.3.5.3.2" xref="S2.p5.3.m3.1.1.3.5.3.2.cmml">i</mi><mn id="S2.p5.3.m3.1.1.3.5.3.3" xref="S2.p5.3.m3.1.1.3.5.3.3.cmml">2</mn></msub></msub><mo id="S2.p5.3.m3.1.1.3.1c" xref="S2.p5.3.m3.1.1.3.1.cmml">âŠ•</mo><mi id="S2.p5.3.m3.1.1.3.6" mathvariant="normal" xref="S2.p5.3.m3.1.1.3.6.cmml">â‹¯</mi><mo id="S2.p5.3.m3.1.1.3.1d" xref="S2.p5.3.m3.1.1.3.1.cmml">âŠ•</mo><msub id="S2.p5.3.m3.1.1.3.7" xref="S2.p5.3.m3.1.1.3.7.cmml"><mi id="S2.p5.3.m3.1.1.3.7.2" xref="S2.p5.3.m3.1.1.3.7.2.cmml">r</mi><msub id="S2.p5.3.m3.1.1.3.7.3" xref="S2.p5.3.m3.1.1.3.7.3.cmml"><mi id="S2.p5.3.m3.1.1.3.7.3.2" xref="S2.p5.3.m3.1.1.3.7.3.2.cmml">i</mi><mi id="S2.p5.3.m3.1.1.3.7.3.3" xref="S2.p5.3.m3.1.1.3.7.3.3.cmml">k</mi></msub></msub><mo id="S2.p5.3.m3.1.1.3.1e" xref="S2.p5.3.m3.1.1.3.1.cmml">âŠ•</mo><msub id="S2.p5.3.m3.1.1.3.8" xref="S2.p5.3.m3.1.1.3.8.cmml"><mi id="S2.p5.3.m3.1.1.3.8.2" xref="S2.p5.3.m3.1.1.3.8.2.cmml">l</mi><msub id="S2.p5.3.m3.1.1.3.8.3" xref="S2.p5.3.m3.1.1.3.8.3.cmml"><mi id="S2.p5.3.m3.1.1.3.8.3.2" xref="S2.p5.3.m3.1.1.3.8.3.2.cmml">i</mi><mi id="S2.p5.3.m3.1.1.3.8.3.3" xref="S2.p5.3.m3.1.1.3.8.3.3.cmml">k</mi></msub></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p5.3.m3.1b"><apply id="S2.p5.3.m3.1.1.cmml" xref="S2.p5.3.m3.1.1"><eq id="S2.p5.3.m3.1.1.1.cmml" xref="S2.p5.3.m3.1.1.1"></eq><apply id="S2.p5.3.m3.1.1.2.cmml" xref="S2.p5.3.m3.1.1.2"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.2.1.cmml" xref="S2.p5.3.m3.1.1.2">subscript</csymbol><ci id="S2.p5.3.m3.1.1.2.2.cmml" xref="S2.p5.3.m3.1.1.2.2">ğ‘Ÿ</ci><ci id="S2.p5.3.m3.1.1.2.3a.cmml" xref="S2.p5.3.m3.1.1.2.3"><mtext id="S2.p5.3.m3.1.1.2.3.cmml" mathsize="70%" xref="S2.p5.3.m3.1.1.2.3">concat</mtext></ci></apply><apply id="S2.p5.3.m3.1.1.3.cmml" xref="S2.p5.3.m3.1.1.3"><csymbol cd="latexml" id="S2.p5.3.m3.1.1.3.1.cmml" xref="S2.p5.3.m3.1.1.3.1">direct-sum</csymbol><apply id="S2.p5.3.m3.1.1.3.2.cmml" xref="S2.p5.3.m3.1.1.3.2"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.3.2.1.cmml" xref="S2.p5.3.m3.1.1.3.2">subscript</csymbol><ci id="S2.p5.3.m3.1.1.3.2.2.cmml" xref="S2.p5.3.m3.1.1.3.2.2">ğ‘Ÿ</ci><apply id="S2.p5.3.m3.1.1.3.2.3.cmml" xref="S2.p5.3.m3.1.1.3.2.3"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.3.2.3.1.cmml" xref="S2.p5.3.m3.1.1.3.2.3">subscript</csymbol><ci id="S2.p5.3.m3.1.1.3.2.3.2.cmml" xref="S2.p5.3.m3.1.1.3.2.3.2">ğ‘–</ci><cn id="S2.p5.3.m3.1.1.3.2.3.3.cmml" type="integer" xref="S2.p5.3.m3.1.1.3.2.3.3">1</cn></apply></apply><apply id="S2.p5.3.m3.1.1.3.3.cmml" xref="S2.p5.3.m3.1.1.3.3"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.3.3.1.cmml" xref="S2.p5.3.m3.1.1.3.3">subscript</csymbol><ci id="S2.p5.3.m3.1.1.3.3.2.cmml" xref="S2.p5.3.m3.1.1.3.3.2">ğ‘™</ci><apply id="S2.p5.3.m3.1.1.3.3.3.cmml" xref="S2.p5.3.m3.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.3.3.3.1.cmml" xref="S2.p5.3.m3.1.1.3.3.3">subscript</csymbol><ci id="S2.p5.3.m3.1.1.3.3.3.2.cmml" xref="S2.p5.3.m3.1.1.3.3.3.2">ğ‘–</ci><cn id="S2.p5.3.m3.1.1.3.3.3.3.cmml" type="integer" xref="S2.p5.3.m3.1.1.3.3.3.3">1</cn></apply></apply><apply id="S2.p5.3.m3.1.1.3.4.cmml" xref="S2.p5.3.m3.1.1.3.4"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.3.4.1.cmml" xref="S2.p5.3.m3.1.1.3.4">subscript</csymbol><ci id="S2.p5.3.m3.1.1.3.4.2.cmml" xref="S2.p5.3.m3.1.1.3.4.2">ğ‘Ÿ</ci><apply id="S2.p5.3.m3.1.1.3.4.3.cmml" xref="S2.p5.3.m3.1.1.3.4.3"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.3.4.3.1.cmml" xref="S2.p5.3.m3.1.1.3.4.3">subscript</csymbol><ci id="S2.p5.3.m3.1.1.3.4.3.2.cmml" xref="S2.p5.3.m3.1.1.3.4.3.2">ğ‘–</ci><cn id="S2.p5.3.m3.1.1.3.4.3.3.cmml" type="integer" xref="S2.p5.3.m3.1.1.3.4.3.3">2</cn></apply></apply><apply id="S2.p5.3.m3.1.1.3.5.cmml" xref="S2.p5.3.m3.1.1.3.5"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.3.5.1.cmml" xref="S2.p5.3.m3.1.1.3.5">subscript</csymbol><ci id="S2.p5.3.m3.1.1.3.5.2.cmml" xref="S2.p5.3.m3.1.1.3.5.2">ğ‘™</ci><apply id="S2.p5.3.m3.1.1.3.5.3.cmml" xref="S2.p5.3.m3.1.1.3.5.3"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.3.5.3.1.cmml" xref="S2.p5.3.m3.1.1.3.5.3">subscript</csymbol><ci id="S2.p5.3.m3.1.1.3.5.3.2.cmml" xref="S2.p5.3.m3.1.1.3.5.3.2">ğ‘–</ci><cn id="S2.p5.3.m3.1.1.3.5.3.3.cmml" type="integer" xref="S2.p5.3.m3.1.1.3.5.3.3">2</cn></apply></apply><ci id="S2.p5.3.m3.1.1.3.6.cmml" xref="S2.p5.3.m3.1.1.3.6">â‹¯</ci><apply id="S2.p5.3.m3.1.1.3.7.cmml" xref="S2.p5.3.m3.1.1.3.7"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.3.7.1.cmml" xref="S2.p5.3.m3.1.1.3.7">subscript</csymbol><ci id="S2.p5.3.m3.1.1.3.7.2.cmml" xref="S2.p5.3.m3.1.1.3.7.2">ğ‘Ÿ</ci><apply id="S2.p5.3.m3.1.1.3.7.3.cmml" xref="S2.p5.3.m3.1.1.3.7.3"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.3.7.3.1.cmml" xref="S2.p5.3.m3.1.1.3.7.3">subscript</csymbol><ci id="S2.p5.3.m3.1.1.3.7.3.2.cmml" xref="S2.p5.3.m3.1.1.3.7.3.2">ğ‘–</ci><ci id="S2.p5.3.m3.1.1.3.7.3.3.cmml" xref="S2.p5.3.m3.1.1.3.7.3.3">ğ‘˜</ci></apply></apply><apply id="S2.p5.3.m3.1.1.3.8.cmml" xref="S2.p5.3.m3.1.1.3.8"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.3.8.1.cmml" xref="S2.p5.3.m3.1.1.3.8">subscript</csymbol><ci id="S2.p5.3.m3.1.1.3.8.2.cmml" xref="S2.p5.3.m3.1.1.3.8.2">ğ‘™</ci><apply id="S2.p5.3.m3.1.1.3.8.3.cmml" xref="S2.p5.3.m3.1.1.3.8.3"><csymbol cd="ambiguous" id="S2.p5.3.m3.1.1.3.8.3.1.cmml" xref="S2.p5.3.m3.1.1.3.8.3">subscript</csymbol><ci id="S2.p5.3.m3.1.1.3.8.3.2.cmml" xref="S2.p5.3.m3.1.1.3.8.3.2">ğ‘–</ci><ci id="S2.p5.3.m3.1.1.3.8.3.3.cmml" xref="S2.p5.3.m3.1.1.3.8.3.3">ğ‘˜</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p5.3.m3.1c">r_{\text{concat}}=r_{i_{1}}\oplus l_{i_{1}}\oplus r_{i_{2}}\oplus l_{i_{2}}%
\oplus\cdots\oplus r_{i_{k}}\oplus l_{i_{k}}</annotation><annotation encoding="application/x-llamapun" id="S2.p5.3.m3.1d">italic_r start_POSTSUBSCRIPT concat end_POSTSUBSCRIPT = italic_r start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT âŠ• italic_l start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT âŠ• italic_r start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT âŠ• italic_l start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT âŠ• â‹¯ âŠ• italic_r start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT âŠ• italic_l start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>, where <math alttext="r_{i_{j}}\in R_{\text{retrieved}}" class="ltx_Math" display="inline" id="S2.p5.4.m4.1"><semantics id="S2.p5.4.m4.1a"><mrow id="S2.p5.4.m4.1.1" xref="S2.p5.4.m4.1.1.cmml"><msub id="S2.p5.4.m4.1.1.2" xref="S2.p5.4.m4.1.1.2.cmml"><mi id="S2.p5.4.m4.1.1.2.2" xref="S2.p5.4.m4.1.1.2.2.cmml">r</mi><msub id="S2.p5.4.m4.1.1.2.3" xref="S2.p5.4.m4.1.1.2.3.cmml"><mi id="S2.p5.4.m4.1.1.2.3.2" xref="S2.p5.4.m4.1.1.2.3.2.cmml">i</mi><mi id="S2.p5.4.m4.1.1.2.3.3" xref="S2.p5.4.m4.1.1.2.3.3.cmml">j</mi></msub></msub><mo id="S2.p5.4.m4.1.1.1" xref="S2.p5.4.m4.1.1.1.cmml">âˆˆ</mo><msub id="S2.p5.4.m4.1.1.3" xref="S2.p5.4.m4.1.1.3.cmml"><mi id="S2.p5.4.m4.1.1.3.2" xref="S2.p5.4.m4.1.1.3.2.cmml">R</mi><mtext id="S2.p5.4.m4.1.1.3.3" xref="S2.p5.4.m4.1.1.3.3a.cmml">retrieved</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.p5.4.m4.1b"><apply id="S2.p5.4.m4.1.1.cmml" xref="S2.p5.4.m4.1.1"><in id="S2.p5.4.m4.1.1.1.cmml" xref="S2.p5.4.m4.1.1.1"></in><apply id="S2.p5.4.m4.1.1.2.cmml" xref="S2.p5.4.m4.1.1.2"><csymbol cd="ambiguous" id="S2.p5.4.m4.1.1.2.1.cmml" xref="S2.p5.4.m4.1.1.2">subscript</csymbol><ci id="S2.p5.4.m4.1.1.2.2.cmml" xref="S2.p5.4.m4.1.1.2.2">ğ‘Ÿ</ci><apply id="S2.p5.4.m4.1.1.2.3.cmml" xref="S2.p5.4.m4.1.1.2.3"><csymbol cd="ambiguous" id="S2.p5.4.m4.1.1.2.3.1.cmml" xref="S2.p5.4.m4.1.1.2.3">subscript</csymbol><ci id="S2.p5.4.m4.1.1.2.3.2.cmml" xref="S2.p5.4.m4.1.1.2.3.2">ğ‘–</ci><ci id="S2.p5.4.m4.1.1.2.3.3.cmml" xref="S2.p5.4.m4.1.1.2.3.3">ğ‘—</ci></apply></apply><apply id="S2.p5.4.m4.1.1.3.cmml" xref="S2.p5.4.m4.1.1.3"><csymbol cd="ambiguous" id="S2.p5.4.m4.1.1.3.1.cmml" xref="S2.p5.4.m4.1.1.3">subscript</csymbol><ci id="S2.p5.4.m4.1.1.3.2.cmml" xref="S2.p5.4.m4.1.1.3.2">ğ‘…</ci><ci id="S2.p5.4.m4.1.1.3.3a.cmml" xref="S2.p5.4.m4.1.1.3.3"><mtext id="S2.p5.4.m4.1.1.3.3.cmml" mathsize="70%" xref="S2.p5.4.m4.1.1.3.3">retrieved</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p5.4.m4.1c">r_{i_{j}}\in R_{\text{retrieved}}</annotation><annotation encoding="application/x-llamapun" id="S2.p5.4.m4.1d">italic_r start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT âˆˆ italic_R start_POSTSUBSCRIPT retrieved end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="l_{i_{j}}" class="ltx_Math" display="inline" id="S2.p5.5.m5.1"><semantics id="S2.p5.5.m5.1a"><msub id="S2.p5.5.m5.1.1" xref="S2.p5.5.m5.1.1.cmml"><mi id="S2.p5.5.m5.1.1.2" xref="S2.p5.5.m5.1.1.2.cmml">l</mi><msub id="S2.p5.5.m5.1.1.3" xref="S2.p5.5.m5.1.1.3.cmml"><mi id="S2.p5.5.m5.1.1.3.2" xref="S2.p5.5.m5.1.1.3.2.cmml">i</mi><mi id="S2.p5.5.m5.1.1.3.3" xref="S2.p5.5.m5.1.1.3.3.cmml">j</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S2.p5.5.m5.1b"><apply id="S2.p5.5.m5.1.1.cmml" xref="S2.p5.5.m5.1.1"><csymbol cd="ambiguous" id="S2.p5.5.m5.1.1.1.cmml" xref="S2.p5.5.m5.1.1">subscript</csymbol><ci id="S2.p5.5.m5.1.1.2.cmml" xref="S2.p5.5.m5.1.1.2">ğ‘™</ci><apply id="S2.p5.5.m5.1.1.3.cmml" xref="S2.p5.5.m5.1.1.3"><csymbol cd="ambiguous" id="S2.p5.5.m5.1.1.3.1.cmml" xref="S2.p5.5.m5.1.1.3">subscript</csymbol><ci id="S2.p5.5.m5.1.1.3.2.cmml" xref="S2.p5.5.m5.1.1.3.2">ğ‘–</ci><ci id="S2.p5.5.m5.1.1.3.3.cmml" xref="S2.p5.5.m5.1.1.3.3">ğ‘—</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p5.5.m5.1c">l_{i_{j}}</annotation><annotation encoding="application/x-llamapun" id="S2.p5.5.m5.1d">italic_l start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> is the <math alttext="j" class="ltx_Math" display="inline" id="S2.p5.6.m6.1"><semantics id="S2.p5.6.m6.1a"><mi id="S2.p5.6.m6.1.1" xref="S2.p5.6.m6.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S2.p5.6.m6.1b"><ci id="S2.p5.6.m6.1.1.cmml" xref="S2.p5.6.m6.1.1">ğ‘—</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p5.6.m6.1c">j</annotation><annotation encoding="application/x-llamapun" id="S2.p5.6.m6.1d">italic_j</annotation></semantics></math>-th reportâ€™s diagnoses label, and <math alttext="\oplus" class="ltx_Math" display="inline" id="S2.p5.7.m7.1"><semantics id="S2.p5.7.m7.1a"><mo id="S2.p5.7.m7.1.1" xref="S2.p5.7.m7.1.1.cmml">âŠ•</mo><annotation-xml encoding="MathML-Content" id="S2.p5.7.m7.1b"><csymbol cd="latexml" id="S2.p5.7.m7.1.1.cmml" xref="S2.p5.7.m7.1.1">direct-sum</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.p5.7.m7.1c">\oplus</annotation><annotation encoding="application/x-llamapun" id="S2.p5.7.m7.1d">âŠ•</annotation></semantics></math> denotes concatenation. This concatenated input, the question, and a system prompt are passed to the LLM, instructing it to leverage the provided data to answer questions about the test ECG in a zero-shot manner.</p>
</div>
<div class="ltx_para" id="S2.p6">
<p class="ltx_p" id="S2.p6.8">For pretraining, we use the PTB-XL datasetÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib9" title="">9</a>]</cite> with 75% and 15% masking for MEM and MLM tasks, respectively. We use a batch size of <math alttext="32" class="ltx_Math" display="inline" id="S2.p6.1.m1.1"><semantics id="S2.p6.1.m1.1a"><mn id="S2.p6.1.m1.1.1" xref="S2.p6.1.m1.1.1.cmml">32</mn><annotation-xml encoding="MathML-Content" id="S2.p6.1.m1.1b"><cn id="S2.p6.1.m1.1.1.cmml" type="integer" xref="S2.p6.1.m1.1.1">32</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.1.m1.1c">32</annotation><annotation encoding="application/x-llamapun" id="S2.p6.1.m1.1d">32</annotation></semantics></math> and a learning rate of <math alttext="5\times 10^{-5}" class="ltx_Math" display="inline" id="S2.p6.2.m2.1"><semantics id="S2.p6.2.m2.1a"><mrow id="S2.p6.2.m2.1.1" xref="S2.p6.2.m2.1.1.cmml"><mn id="S2.p6.2.m2.1.1.2" xref="S2.p6.2.m2.1.1.2.cmml">5</mn><mo id="S2.p6.2.m2.1.1.1" lspace="0.222em" rspace="0.222em" xref="S2.p6.2.m2.1.1.1.cmml">Ã—</mo><msup id="S2.p6.2.m2.1.1.3" xref="S2.p6.2.m2.1.1.3.cmml"><mn id="S2.p6.2.m2.1.1.3.2" xref="S2.p6.2.m2.1.1.3.2.cmml">10</mn><mrow id="S2.p6.2.m2.1.1.3.3" xref="S2.p6.2.m2.1.1.3.3.cmml"><mo id="S2.p6.2.m2.1.1.3.3a" xref="S2.p6.2.m2.1.1.3.3.cmml">âˆ’</mo><mn id="S2.p6.2.m2.1.1.3.3.2" xref="S2.p6.2.m2.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.p6.2.m2.1b"><apply id="S2.p6.2.m2.1.1.cmml" xref="S2.p6.2.m2.1.1"><times id="S2.p6.2.m2.1.1.1.cmml" xref="S2.p6.2.m2.1.1.1"></times><cn id="S2.p6.2.m2.1.1.2.cmml" type="integer" xref="S2.p6.2.m2.1.1.2">5</cn><apply id="S2.p6.2.m2.1.1.3.cmml" xref="S2.p6.2.m2.1.1.3"><csymbol cd="ambiguous" id="S2.p6.2.m2.1.1.3.1.cmml" xref="S2.p6.2.m2.1.1.3">superscript</csymbol><cn id="S2.p6.2.m2.1.1.3.2.cmml" type="integer" xref="S2.p6.2.m2.1.1.3.2">10</cn><apply id="S2.p6.2.m2.1.1.3.3.cmml" xref="S2.p6.2.m2.1.1.3.3"><minus id="S2.p6.2.m2.1.1.3.3.1.cmml" xref="S2.p6.2.m2.1.1.3.3"></minus><cn id="S2.p6.2.m2.1.1.3.3.2.cmml" type="integer" xref="S2.p6.2.m2.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.2.m2.1c">5\times 10^{-5}</annotation><annotation encoding="application/x-llamapun" id="S2.p6.2.m2.1d">5 Ã— 10 start_POSTSUPERSCRIPT - 5 end_POSTSUPERSCRIPT</annotation></semantics></math>, keeping other hyperparameters consistent withÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib11" title="">11</a>]</cite>. We apply global max pooling over ECG encoderâ€™s output to get fixed-dimensional embeddings (<math alttext="z" class="ltx_Math" display="inline" id="S2.p6.3.m3.1"><semantics id="S2.p6.3.m3.1a"><mi id="S2.p6.3.m3.1.1" xref="S2.p6.3.m3.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S2.p6.3.m3.1b"><ci id="S2.p6.3.m3.1.1.cmml" xref="S2.p6.3.m3.1.1">ğ‘§</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.3.m3.1c">z</annotation><annotation encoding="application/x-llamapun" id="S2.p6.3.m3.1d">italic_z</annotation></semantics></math>, <math alttext="d=768" class="ltx_Math" display="inline" id="S2.p6.4.m4.1"><semantics id="S2.p6.4.m4.1a"><mrow id="S2.p6.4.m4.1.1" xref="S2.p6.4.m4.1.1.cmml"><mi id="S2.p6.4.m4.1.1.2" xref="S2.p6.4.m4.1.1.2.cmml">d</mi><mo id="S2.p6.4.m4.1.1.1" xref="S2.p6.4.m4.1.1.1.cmml">=</mo><mn id="S2.p6.4.m4.1.1.3" xref="S2.p6.4.m4.1.1.3.cmml">768</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.p6.4.m4.1b"><apply id="S2.p6.4.m4.1.1.cmml" xref="S2.p6.4.m4.1.1"><eq id="S2.p6.4.m4.1.1.1.cmml" xref="S2.p6.4.m4.1.1.1"></eq><ci id="S2.p6.4.m4.1.1.2.cmml" xref="S2.p6.4.m4.1.1.2">ğ‘‘</ci><cn id="S2.p6.4.m4.1.1.3.cmml" type="integer" xref="S2.p6.4.m4.1.1.3">768</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.4.m4.1c">d=768</annotation><annotation encoding="application/x-llamapun" id="S2.p6.4.m4.1d">italic_d = 768</annotation></semantics></math>). During indexing and retrieval, embeddings are L2 normalized. We set <math alttext="k=1" class="ltx_Math" display="inline" id="S2.p6.5.m5.1"><semantics id="S2.p6.5.m5.1a"><mrow id="S2.p6.5.m5.1.1" xref="S2.p6.5.m5.1.1.cmml"><mi id="S2.p6.5.m5.1.1.2" xref="S2.p6.5.m5.1.1.2.cmml">k</mi><mo id="S2.p6.5.m5.1.1.1" xref="S2.p6.5.m5.1.1.1.cmml">=</mo><mn id="S2.p6.5.m5.1.1.3" xref="S2.p6.5.m5.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.p6.5.m5.1b"><apply id="S2.p6.5.m5.1.1.cmml" xref="S2.p6.5.m5.1.1"><eq id="S2.p6.5.m5.1.1.1.cmml" xref="S2.p6.5.m5.1.1.1"></eq><ci id="S2.p6.5.m5.1.1.2.cmml" xref="S2.p6.5.m5.1.1.2">ğ‘˜</ci><cn id="S2.p6.5.m5.1.1.3.cmml" type="integer" xref="S2.p6.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.5.m5.1c">k=1</annotation><annotation encoding="application/x-llamapun" id="S2.p6.5.m5.1d">italic_k = 1</annotation></semantics></math> for report generation and <math alttext="k=3" class="ltx_Math" display="inline" id="S2.p6.6.m6.1"><semantics id="S2.p6.6.m6.1a"><mrow id="S2.p6.6.m6.1.1" xref="S2.p6.6.m6.1.1.cmml"><mi id="S2.p6.6.m6.1.1.2" xref="S2.p6.6.m6.1.1.2.cmml">k</mi><mo id="S2.p6.6.m6.1.1.1" xref="S2.p6.6.m6.1.1.1.cmml">=</mo><mn id="S2.p6.6.m6.1.1.3" xref="S2.p6.6.m6.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.p6.6.m6.1b"><apply id="S2.p6.6.m6.1.1.cmml" xref="S2.p6.6.m6.1.1"><eq id="S2.p6.6.m6.1.1.1.cmml" xref="S2.p6.6.m6.1.1.1"></eq><ci id="S2.p6.6.m6.1.1.2.cmml" xref="S2.p6.6.m6.1.1.2">ğ‘˜</ci><cn id="S2.p6.6.m6.1.1.3.cmml" type="integer" xref="S2.p6.6.m6.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.6.m6.1c">k=3</annotation><annotation encoding="application/x-llamapun" id="S2.p6.6.m6.1d">italic_k = 3</annotation></semantics></math> for question-answering. Our ECG-QA LLM leverages GPT-4o (mini)<cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib16" title="">16</a>]</cite>, Gemini-Flash1.5<cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib17" title="">17</a>]</cite>, and Llama3-70BÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib18" title="">18</a>]</cite> due to their cost-effectiveness. We set <math alttext="\text{temperature}=1" class="ltx_Math" display="inline" id="S2.p6.7.m7.1"><semantics id="S2.p6.7.m7.1a"><mrow id="S2.p6.7.m7.1.1" xref="S2.p6.7.m7.1.1.cmml"><mtext id="S2.p6.7.m7.1.1.2" xref="S2.p6.7.m7.1.1.2a.cmml">temperature</mtext><mo id="S2.p6.7.m7.1.1.1" xref="S2.p6.7.m7.1.1.1.cmml">=</mo><mn id="S2.p6.7.m7.1.1.3" xref="S2.p6.7.m7.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.p6.7.m7.1b"><apply id="S2.p6.7.m7.1.1.cmml" xref="S2.p6.7.m7.1.1"><eq id="S2.p6.7.m7.1.1.1.cmml" xref="S2.p6.7.m7.1.1.1"></eq><ci id="S2.p6.7.m7.1.1.2a.cmml" xref="S2.p6.7.m7.1.1.2"><mtext id="S2.p6.7.m7.1.1.2.cmml" xref="S2.p6.7.m7.1.1.2">temperature</mtext></ci><cn id="S2.p6.7.m7.1.1.3.cmml" type="integer" xref="S2.p6.7.m7.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.7.m7.1c">\text{temperature}=1</annotation><annotation encoding="application/x-llamapun" id="S2.p6.7.m7.1d">temperature = 1</annotation></semantics></math> and <math alttext="\text{max_tokens}=256" class="ltx_Math" display="inline" id="S2.p6.8.m8.1"><semantics id="S2.p6.8.m8.1a"><mrow id="S2.p6.8.m8.1.1" xref="S2.p6.8.m8.1.1.cmml"><mtext id="S2.p6.8.m8.1.1.2" xref="S2.p6.8.m8.1.1.2a.cmml">max_tokens</mtext><mo id="S2.p6.8.m8.1.1.1" xref="S2.p6.8.m8.1.1.1.cmml">=</mo><mn id="S2.p6.8.m8.1.1.3" xref="S2.p6.8.m8.1.1.3.cmml">256</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.p6.8.m8.1b"><apply id="S2.p6.8.m8.1.1.cmml" xref="S2.p6.8.m8.1.1"><eq id="S2.p6.8.m8.1.1.1.cmml" xref="S2.p6.8.m8.1.1.1"></eq><ci id="S2.p6.8.m8.1.1.2a.cmml" xref="S2.p6.8.m8.1.1.2"><mtext id="S2.p6.8.m8.1.1.2.cmml" xref="S2.p6.8.m8.1.1.2">max_tokens</mtext></ci><cn id="S2.p6.8.m8.1.1.3.cmml" type="integer" xref="S2.p6.8.m8.1.1.3">256</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p6.8.m8.1c">\text{max_tokens}=256</annotation><annotation encoding="application/x-llamapun" id="S2.p6.8.m8.1d">max_tokens = 256</annotation></semantics></math>. Prompt details are provided inÂ <a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#S3" title="III Experiments â€£ Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling"><span class="ltx_text ltx_ref_tag">III</span></a>. For <span class="ltx_text ltx_font_italic" id="S2.p6.8.1">question prompts</span>, we use variations for different answer formats: â€Answer should be only yes and noâ€ (single-verify), â€Choose correct answer from the options provided below. If noneâ€¦ answer will be â€™noneâ€™. If both conditions are present then provide both options as an answer.â€ (single-choose), and a similar prompt for single-query allowing multiple answer selections. Answer options are always provided within the prompt.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span class="ltx_text ltx_font_smallcaps" id="S3.1.1">Experiments</span>
</h2>
<div class="ltx_para ltx_noindent" id="S3.p1">
<p class="ltx_p" id="S3.p1.1"><span class="ltx_text ltx_font_bold" id="S3.p1.1.1">Datasets.</span> We evaluate our report generation method on the PTB-XLÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib9" title="">9</a>]</cite> and MIMIC-IV-ECGÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib10" title="">10</a>]</cite> datasets, both of which provide 12-lead ECG signals and corresponding textual reports. PTB-XL offers extensive cardiologist-annotated auxiliary information, including interpretive summaries, diagnostic assessments, likelihood estimates, and signal characteristics. MIMIC-IV-ECG provides machine-generated reports covering various conditions, which we combine into a single unified report. From this dataset, we randomly select <math alttext="5" class="ltx_Math" display="inline" id="S3.p1.1.m1.1"><semantics id="S3.p1.1.m1.1a"><mn id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><cn id="S3.p1.1.m1.1.1.cmml" type="integer" xref="S3.p1.1.m1.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">5</annotation><annotation encoding="application/x-llamapun" id="S3.p1.1.m1.1d">5</annotation></semantics></math>k samples from the test set for cross-domain evaluation. For question answering, we utilize the ECG-QAÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib6" title="">6</a>]</cite> dataset, which comprises curated questions about key ECG aspects. We experiment with verify, choose, and query question types, utilizing the provided train, test, and validation splits based on patient IDs to ensure no overlap among sets.
<br class="ltx_break"/></p>
</div>
<div class="ltx_para ltx_noindent" id="S3.p2">
<svg class="ltx_picture" height="177.31" id="S3.p2.pic1" overflow="visible" version="1.1" width="600"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,177.31) matrix(1 0 0 -1 0 0)"><g fill="#000000" fill-opacity="1.0"><path d="M 0 5.91 L 0 171.4 C 0 174.66 2.64 177.31 5.91 177.31 L 594.09 177.31 C 597.36 177.31 600 174.66 600 171.4 L 600 5.91 C 600 2.64 597.36 0 594.09 0 L 5.91 0 C 2.64 0 0 2.64 0 5.91 Z" style="stroke:none"></path></g><g fill="#F2F2F2" fill-opacity="1.0"><path d="M 1.97 5.91 L 1.97 155.66 L 598.03 155.66 L 598.03 5.91 C 598.03 3.73 596.27 1.97 594.09 1.97 L 5.91 1.97 C 3.73 1.97 1.97 3.73 1.97 5.91 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 161.56)"><foreignobject color="#FFFFFF" height="9.84" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S3.p2.pic1.1.1.1.1.1" style="width:402.3pt;">
<span class="ltx_p" id="S3.p2.pic1.1.1.1.1.1.1"><span class="ltx_text" id="S3.p2.pic1.1.1.1.1.1.1.1" style="font-size:80%;">LLM System Prompt for <span class="ltx_text ltx_font_italic" id="S3.p2.pic1.1.1.1.1.1.1.1.1">Zero-Shot</span> ECG-QA Task.</span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 21.65 13.78)"><foreignobject color="#000000" height="130.07" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="556.69">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S3.p2.pic1.2.2.2.1.1" style="width:402.3pt;">
<span class="ltx_p" id="S3.p2.pic1.2.2.2.1.1.1">Given the closest ECG retrieved reports and diagnoses to the test ECG as discovered by a multimodal model. Your job is to analyze the report and only answer the question. Output should be JSON of the following structure: {â€˜answerâ€™: â€¦}.

<br class="ltx_break"/>Question Specific Prompt: <span class="ltx_text ltx_font_typewriter" id="S3.p2.pic1.2.2.2.1.1.1.1">${question_prompt}</span>
<br class="ltx_break"/>Think step-by-step to generate an answer without any explanation.

<br class="ltx_break"/>ECG Reports: <span class="ltx_text ltx_font_typewriter" id="S3.p2.pic1.2.2.2.1.1.1.2">${reports}
<br class="ltx_break"/></span>Diagnoses: <span class="ltx_text ltx_font_typewriter" id="S3.p2.pic1.2.2.2.1.1.1.3">${diagnoses}
<br class="ltx_break"/></span>Question: <span class="ltx_text ltx_font_typewriter" id="S3.p2.pic1.2.2.2.1.1.1.4">${question}</span></span>
</span></foreignobject></g></g></svg>
</div>
<div class="ltx_para ltx_noindent" id="S3.p3">
<p class="ltx_p" id="S3.p3.1"><span class="ltx_text ltx_font_bold" id="S3.p3.1.1">Baseline and Evaluation Metrics.</span> We conduct a quantitative evaluation of our approach with commonly-used metrics concerning both language fluency and accuracy. For report generation task, we compute several natural language generation (NLG) metrics, including BLEU-1,2,3 and 4Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib19" title="">19</a>]</cite>, BERTScoreÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib20" title="">20</a>]</cite>, MeteorÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib21" title="">21</a>]</cite> and RougeÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib22" title="">22</a>]</cite>. These metrics cover various aspects of lexical and semantic similarities. We compare our method for this task with multiple baselines, a) randomly selected report, b) most common report, and c) R2GenCMNÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib3" title="">3</a>]</cite> that we adapt for ECG signals, where we use both randomly initialized (R) and pre-trained (P) ECG encoders. For zero-shot ECG-QA task, we compute exact match accuracy to compare with prior methods and compare against six baselinesÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib6" title="">6</a>]</cite> that are supervised in nature, where models are trained for this task. 
<br class="ltx_break"/></p>
</div>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="284" id="S3.F2.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Qualitative analysis of ground-truth and the top-<math alttext="3" class="ltx_Math" display="inline" id="S3.F2.2.m1.1"><semantics id="S3.F2.2.m1.1b"><mn id="S3.F2.2.m1.1.1" xref="S3.F2.2.m1.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S3.F2.2.m1.1c"><cn id="S3.F2.2.m1.1.1.cmml" type="integer" xref="S3.F2.2.m1.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.2.m1.1d">3</annotation><annotation encoding="application/x-llamapun" id="S3.F2.2.m1.1e">3</annotation></semantics></math> retrieved reports along with their ECG signals on the PTB-XL dataset.</figcaption>
</figure>
<figure class="ltx_table" id="S3.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table II: </span>Evaluation ofÂ ECG-ReGenÂ paired with an off-the-shelf LLM on the ECG-QA dataset against supervised approaches. â€˜Sâ€™ refers to Single.</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.T2.1" style="width:433.6pt;height:210pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(30.9pt,-15.0pt) scale(1.16642702781466,1.16642702781466) ;">
<table class="ltx_tabular ltx_align_middle" id="S3.T2.1.1">
<tr class="ltx_tr" id="S3.T2.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T2.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S3.T2.1.1.1.1.1">Method</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S3.T2.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S3.T2.1.1.1.2.1">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T2.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S3.T2.1.1.1.3.1">S-Verify</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S3.T2.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S3.T2.1.1.1.4.1">S-Choose</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt" id="S3.T2.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S3.T2.1.1.1.5.1">S-Query</span></td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.1.2.1">per Q-type majority</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.1.2.2">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.2.3">67.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.2.4">31.2</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S3.T2.1.1.2.5">23.2</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.1.3.1" rowspan="5"><span class="ltx_text" id="S3.T2.1.1.3.1.1">SupervisedÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#bib.bib6" title="">6</a>]</cite></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.1.3.2">M3AE</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.3.3">74.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.3.4">57.1</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S3.T2.1.1.3.5">41.0</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.4">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.4.1">MedViLL</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.4.2">73.9</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.4.3">54.1</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T2.1.1.4.4">40.4</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.5">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.5.1">Fusion Transformer</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.5.2">72.1</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.5.3">46.4</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T2.1.1.5.4">37.4</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.6">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.6.1">Blind Transformer</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.6.2">67.7</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.6.3">31.0</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T2.1.1.6.4">24.0</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.7">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.7.1">Deaf Transformer</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.7.2">67.3</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.7.3">31.4</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T2.1.1.7.4">27.0</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.8">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S3.T2.1.1.8.1" rowspan="3"><span class="ltx_text" id="S3.T2.1.1.8.1.1">ECG-ReGenÂ (Ours)</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T2.1.1.8.2">Gemini Flash 1.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.8.3">72.54</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T2.1.1.8.4">58.52</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S3.T2.1.1.8.5">32.57</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.9">
<td class="ltx_td ltx_align_left" id="S3.T2.1.1.9.1">GPT-4o mini</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.9.2">72.79</td>
<td class="ltx_td ltx_align_center" id="S3.T2.1.1.9.3">58.66</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S3.T2.1.1.9.4">30.56</td>
</tr>
<tr class="ltx_tr" id="S3.T2.1.1.10">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T2.1.1.10.1">Llama3-70B</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T2.1.1.10.2">71.99</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T2.1.1.10.3">54.83</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S3.T2.1.1.10.4">32.02</td>
</tr>
</table>
</span></div>
</figure>
<div class="ltx_para ltx_noindent" id="S3.p4">
<p class="ltx_p" id="S3.p4.6"><span class="ltx_text ltx_font_bold" id="S3.p4.6.1">Results.</span>
The main experimental results on report generation task are presented in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#S2.T1" title="Table I â€£ II Method â€£ Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling"><span class="ltx_text ltx_ref_tag">I</span></a>. The results demonstrate the effectiveness ofÂ ECG-ReGenÂ across all evaluated metrics. On the PTB-XL dataset, it achieves substantial improvements over the R2GenCMN technique with pre-trained model, with a BLEU-4 score of <math alttext="0.700" class="ltx_Math" display="inline" id="S3.p4.1.m1.1"><semantics id="S3.p4.1.m1.1a"><mn id="S3.p4.1.m1.1.1" xref="S3.p4.1.m1.1.1.cmml">0.700</mn><annotation-xml encoding="MathML-Content" id="S3.p4.1.m1.1b"><cn id="S3.p4.1.m1.1.1.cmml" type="float" xref="S3.p4.1.m1.1.1">0.700</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.1.m1.1c">0.700</annotation><annotation encoding="application/x-llamapun" id="S3.p4.1.m1.1d">0.700</annotation></semantics></math> compared to <math alttext="0.196" class="ltx_Math" display="inline" id="S3.p4.2.m2.1"><semantics id="S3.p4.2.m2.1a"><mn id="S3.p4.2.m2.1.1" xref="S3.p4.2.m2.1.1.cmml">0.196</mn><annotation-xml encoding="MathML-Content" id="S3.p4.2.m2.1b"><cn id="S3.p4.2.m2.1.1.cmml" type="float" xref="S3.p4.2.m2.1.1">0.196</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.2.m2.1c">0.196</annotation><annotation encoding="application/x-llamapun" id="S3.p4.2.m2.1d">0.196</annotation></semantics></math>, and a BERTScore of <math alttext="0.920" class="ltx_Math" display="inline" id="S3.p4.3.m3.1"><semantics id="S3.p4.3.m3.1a"><mn id="S3.p4.3.m3.1.1" xref="S3.p4.3.m3.1.1.cmml">0.920</mn><annotation-xml encoding="MathML-Content" id="S3.p4.3.m3.1b"><cn id="S3.p4.3.m3.1.1.cmml" type="float" xref="S3.p4.3.m3.1.1">0.920</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.3.m3.1c">0.920</annotation><annotation encoding="application/x-llamapun" id="S3.p4.3.m3.1d">0.920</annotation></semantics></math> versus <math alttext="0.710" class="ltx_Math" display="inline" id="S3.p4.4.m4.1"><semantics id="S3.p4.4.m4.1a"><mn id="S3.p4.4.m4.1.1" xref="S3.p4.4.m4.1.1.cmml">0.710</mn><annotation-xml encoding="MathML-Content" id="S3.p4.4.m4.1b"><cn id="S3.p4.4.m4.1.1.cmml" type="float" xref="S3.p4.4.m4.1.1">0.710</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.4.m4.1c">0.710</annotation><annotation encoding="application/x-llamapun" id="S3.p4.4.m4.1d">0.710</annotation></semantics></math>. This significant performance gain highlights the superiority of our retrieval-augmented approach in capturing and generating accurate ECG reports. The cross-domain evaluation on MIMIC-IV-ECG shows that our method maintains its superior performance, albeit with a smaller margin, achieving a BLEU-4 score of <math alttext="0.182" class="ltx_Math" display="inline" id="S3.p4.5.m5.1"><semantics id="S3.p4.5.m5.1a"><mn id="S3.p4.5.m5.1.1" xref="S3.p4.5.m5.1.1.cmml">0.182</mn><annotation-xml encoding="MathML-Content" id="S3.p4.5.m5.1b"><cn id="S3.p4.5.m5.1.1.cmml" type="float" xref="S3.p4.5.m5.1.1">0.182</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.5.m5.1c">0.182</annotation><annotation encoding="application/x-llamapun" id="S3.p4.5.m5.1d">0.182</annotation></semantics></math> and a BERTScore of <math alttext="0.714" class="ltx_Math" display="inline" id="S3.p4.6.m6.1"><semantics id="S3.p4.6.m6.1a"><mn id="S3.p4.6.m6.1.1" xref="S3.p4.6.m6.1.1.cmml">0.714</mn><annotation-xml encoding="MathML-Content" id="S3.p4.6.m6.1b"><cn id="S3.p4.6.m6.1.1.cmml" type="float" xref="S3.p4.6.m6.1.1">0.714</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.6.m6.1c">0.714</annotation><annotation encoding="application/x-llamapun" id="S3.p4.6.m6.1d">0.714</annotation></semantics></math>. This robustness in cross-domain scenarios underscores the generalizability of our method.</p>
</div>
<div class="ltx_para" id="S3.p5">
<p class="ltx_p" id="S3.p5.1">Notably,Â ECG-ReGenÂ consistently outperforms both random and common baselines, as well as the R2GenCMN variants, across all metrics on both datasets. The high ROUGE and METEOR scores further indicate that our method generates reports with better content coverage and semantic similarity to ground truth reports. Further, FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#S3.F2" title="Figure 2 â€£ III Experiments â€£ Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling"><span class="ltx_text ltx_ref_tag">2</span></a> shows qualitative results of retrieving similar examples with reports that closely match the ground truth, capturing key diagnostic features. These results collectively demonstrate the efficacy and simplicity of leveraging self-supervised representations for retrieval-based report generation. Our approach not only produces high-quality reports but also enables transparency by allowing clinicians to inspect and compare the generated report with similar examples.</p>
</div>
<div class="ltx_para" id="S3.p6">
<p class="ltx_p" id="S3.p6.4">TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2409.08788v1#S3.T2" title="Table II â€£ III Experiments â€£ Electrocardiogram Report Generation and Question Answering via Retrieval-Augmented Self-Supervised Modeling"><span class="ltx_text ltx_ref_tag">II</span></a> presents the performance of various methods on three ECG question-answering tasks. Our proposed ECG-ReGen-QA approach, operating in a zero-shot setting, demonstrates competitive performance compared to supervised methods. Notably, our method paired with Gemini Flash 1.5 and GPT-4o mini achieves the highest scores on the S-Choose task (<math alttext="58.52" class="ltx_Math" display="inline" id="S3.p6.1.m1.1"><semantics id="S3.p6.1.m1.1a"><mn id="S3.p6.1.m1.1.1" xref="S3.p6.1.m1.1.1.cmml">58.52</mn><annotation-xml encoding="MathML-Content" id="S3.p6.1.m1.1b"><cn id="S3.p6.1.m1.1.1.cmml" type="float" xref="S3.p6.1.m1.1.1">58.52</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.1.m1.1c">58.52</annotation><annotation encoding="application/x-llamapun" id="S3.p6.1.m1.1d">58.52</annotation></semantics></math>% and <math alttext="58.66" class="ltx_Math" display="inline" id="S3.p6.2.m2.1"><semantics id="S3.p6.2.m2.1a"><mn id="S3.p6.2.m2.1.1" xref="S3.p6.2.m2.1.1.cmml">58.66</mn><annotation-xml encoding="MathML-Content" id="S3.p6.2.m2.1b"><cn id="S3.p6.2.m2.1.1.cmml" type="float" xref="S3.p6.2.m2.1.1">58.66</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.2.m2.1c">58.66</annotation><annotation encoding="application/x-llamapun" id="S3.p6.2.m2.1d">58.66</annotation></semantics></math>%, respectively), surpassing all supervised models. For the S-Verify task, our approach performs comparably to the best supervised model (M3AE), with scores ranging from <math alttext="71.99" class="ltx_Math" display="inline" id="S3.p6.3.m3.1"><semantics id="S3.p6.3.m3.1a"><mn id="S3.p6.3.m3.1.1" xref="S3.p6.3.m3.1.1.cmml">71.99</mn><annotation-xml encoding="MathML-Content" id="S3.p6.3.m3.1b"><cn id="S3.p6.3.m3.1.1.cmml" type="float" xref="S3.p6.3.m3.1.1">71.99</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.3.m3.1c">71.99</annotation><annotation encoding="application/x-llamapun" id="S3.p6.3.m3.1d">71.99</annotation></semantics></math>% to <math alttext="72.79" class="ltx_Math" display="inline" id="S3.p6.4.m4.1"><semantics id="S3.p6.4.m4.1a"><mn id="S3.p6.4.m4.1.1" xref="S3.p6.4.m4.1.1.cmml">72.79</mn><annotation-xml encoding="MathML-Content" id="S3.p6.4.m4.1b"><cn id="S3.p6.4.m4.1.1.cmml" type="float" xref="S3.p6.4.m4.1.1">72.79</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p6.4.m4.1c">72.79</annotation><annotation encoding="application/x-llamapun" id="S3.p6.4.m4.1d">72.79</annotation></semantics></math>%. While ECG-ReGen-QA shows lower performance on the S-Query task (open-ended questions and answers) compared to the top supervised models, it still significantly outperforms the per Q-type majority baseline and other supervised models like the Blind and Deaf Transformers. These results are particularly impressive considering that our method operates in a zero-shot manner, requiring no task-specific fine-tuning. This demonstrates the effectiveness of our retrieval-augmented approach in leveraging off-the-shelf language models for ECG analysis. Likewise, the performance gap between different considered language models is relatively small, suggesting that the choice of LLM may not be crucial given that retrieved samples with self-supervised ECG model are similar to the test case.</p>
</div>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span class="ltx_text ltx_font_smallcaps" id="S4.1.1">Conclusions</span>
</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">This work introduces a novel retrieval-based method for ECG report generation and question answering, leveraging self-supervised pre-training, efficient similarity search, and LLM-powered zero-shot question answering. Our approach demonstrates superior performance in both in-domain and cross-domain evaluations for report generation task, showcasing improved efficiency, inherent explainability, and enhanced generalizability. By integrating LLMs for zero-shot QA, we further augment the systemâ€™s capabilities, offering a promising avenue for accurate ECG interpretation with potential benefits for cardiologist workflow and patient care.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Ana MincholÃ© and Blanca Rodriguez,

</span>
<span class="ltx_bibblock">â€œArtificial intelligence for the electrocardiogram,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib1.1.1">Nature medicine</span>, vol. 25, no. 1, pp. 22â€“23, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Michael Moor, Oishi Banerjee, Zahra ShakeriÂ Hossein Abad, HarlanÂ M Krumholz, Jure Leskovec, EricÂ J Topol, and Pranav Rajpurkar,

</span>
<span class="ltx_bibblock">â€œFoundation models for generalist medical artificial intelligence,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib2.1.1">Nature</span>, vol. 616, no. 7956, pp. 259â€“265, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Zhihong Chen, Yan Song, Tsung-Hui Chang, and Xiang Wan,

</span>
<span class="ltx_bibblock">â€œGenerating radiology reports via memory-driven transformer,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib3.1.1">arXiv preprint arXiv:2010.16056</span>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Benjamin Yan, Ruochen Liu, DavidÂ E Kuo, Subathra Adithan, EduardoÂ Pontes Reis, Stephen Kwak, VasanthaÂ Kumar Venugopal, ChloeÂ P Oâ€™Connell, Agustina Saenz, Pranav Rajpurkar, etÂ al.,

</span>
<span class="ltx_bibblock">â€œStyle-aware radiology report generation with radgraph and few-shot prompting,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib4.1.1">arXiv preprint arXiv:2310.17811</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
ArunÂ James Thirunavukarasu, Darren ShuÂ Jeng Ting, Kabilan Elangovan, Laura Gutierrez, TingÂ Fang Tan, and Daniel ShuÂ Wei Ting,

</span>
<span class="ltx_bibblock">â€œLarge language models in medicine,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib5.1.1">Nature medicine</span>, vol. 29, no. 8, pp. 1930â€“1940, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Jungwoo Oh, Gyubok Lee, Seongsu Bae, Joon-myoung Kwon, and Edward Choi,

</span>
<span class="ltx_bibblock">â€œEcg-qa: A comprehensive question answering dataset combined with electrocardiogram,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib6.1.1">Advances in Neural Information Processing Systems</span>, vol. 36, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Zhongwei Wan, Che Liu, Xin Wang, Chaofan Tao, Hui Shen, Zhenwu Peng, Jie Fu, Rossella Arcucci, Huaxiu Yao, and MiÂ Zhang,

</span>
<span class="ltx_bibblock">â€œElectrocardiogram instruction tuning for report generation,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2403.04945</span>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Mark Endo, Rayan Krishnan, Viswesh Krishna, AndrewÂ Y Ng, and Pranav Rajpurkar,

</span>
<span class="ltx_bibblock">â€œRetrieval-based chest x-ray report generation using a pre-trained contrastive language-image model,â€

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib8.1.1">Machine Learning for Health</span>. PMLR, 2021, pp. 209â€“219.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Patrick Wagner, Nils Strodthoff, Ralf-Dieter Bousseljot, Dieter Kreiseler, FatimaÂ I Lunze, Wojciech Samek, and Tobias Schaeffter,

</span>
<span class="ltx_bibblock">â€œPtb-xl, a large publicly available electrocardiography dataset,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib9.1.1">Scientific data</span>, vol. 7, no. 1, pp. 1â€“15, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Brian Gow, Tom Pollard, LarryÂ A Nathanson, Alistair Johnson, Benjamin Moody, Chrystinne Fernandes, Nathaniel Greenbaum, Seth Berkowitz, Dana Moukheiber, Parastou Eslami, etÂ al.,

</span>
<span class="ltx_bibblock">â€œMimic-iv-ecg-diagnostic electrocardiogram matched subset,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib10.1.1">Type: dataset</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Zhihong Chen, Yuhao Du, Jinpeng Hu, Yang Liu, Guanbin Li, Xiang Wan, and Tsung-Hui Chang,

</span>
<span class="ltx_bibblock">â€œMulti-modal masked autoencoders for medical vision-and-language pre-training,â€

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib11.1.1">International Conference on Medical Image Computing and Computer-Assisted Intervention</span>. Springer, 2022, pp. 679â€“689.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones, AidanÂ N Gomez, ÅÂ ukasz Kaiser, and Illia Polosukhin,

</span>
<span class="ltx_bibblock">â€œAttention is all you need,â€

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib12.1.1">Advances in Neural Information Processing Systems</span>, I.Â Guyon, U.Â Von Luxburg, S.Â Bengio, H.Â Wallach, R.Â Fergus, S.Â Vishwanathan, and R.Â Garnett, Eds. 2017, vol.Â 30, Curran Associates, Inc.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Jacob Devlin,

</span>
<span class="ltx_bibblock">â€œBert: Pre-training of deep bidirectional transformers for language understanding,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib13.1.1">arXiv preprint arXiv:1810.04805</span>, 2018.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Matthijs Douze, Alexandr Guzhva, Chengqi Deng, Jeff Johnson, Gergely Szilvasy, Pierre-Emmanuel MazarÃ©, Maria Lomeli, Lucas Hosseini, and HervÃ© JÃ©gou,

</span>
<span class="ltx_bibblock">â€œThe faiss library,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib14.1.1">arXiv preprint arXiv:2401.08281</span>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Zhihong Chen, Yaling Shen, Yan Song, and Xiang Wan,

</span>
<span class="ltx_bibblock">â€œCross-modal memory networks for radiology report generation,â€

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib15.1.1">Proceedings of the 59th Annual Meeting of the Association for Computational Linguistics and the 11th International Joint Conference on Natural Language Processing (Volume 1: Long Papers)</span>, 2021, pp. 5904â€“5914.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
OpenAI,

</span>
<span class="ltx_bibblock">â€œGpt-4o (mini),â€ <span class="ltx_text ltx_font_typewriter" id="bib.bib16.1.1">https://openai.com</span>, 2024,

</span>
<span class="ltx_bibblock">[Large language model].

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Machel Reid, Nikolay Savinov, Denis Teplyashin, Dmitry Lepikhin, Timothy Lillicrap, Jean-baptiste Alayrac, Radu Soricut, Angeliki Lazaridou, Orhan Firat, Julian Schrittwieser, etÂ al.,

</span>
<span class="ltx_bibblock">â€œGemini 1.5: Unlocking multimodal understanding across millions of tokens of context,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib17.1.1">arXiv preprint arXiv:2403.05530</span>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Abhimanyu Dubey, Abhinav Jauhri, Abhinav Pandey, Abhishek Kadian, Ahmad Al-Dahle, Aiesha Letman, Akhil Mathur, Alan Schelten, Amy Yang, Angela Fan, etÂ al.,

</span>
<span class="ltx_bibblock">â€œThe llama 3 herd of models,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib18.1.1">arXiv preprint arXiv:2407.21783</span>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Kishore Papineni, Salim Roukos, Todd Ward, and Wei-Jing Zhu,

</span>
<span class="ltx_bibblock">â€œBleu: a method for automatic evaluation of machine translation,â€

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib19.1.1">Proceedings of the 40th annual meeting of the Association for Computational Linguistics</span>, 2002, pp. 311â€“318.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Tianyi Zhang, Varsha Kishore, Felix Wu, KilianÂ Q Weinberger, and Yoav Artzi,

</span>
<span class="ltx_bibblock">â€œBertscore: Evaluating text generation with bert,â€

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib20.1.1">arXiv preprint arXiv:1904.09675</span>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Michael Denkowski and Alon Lavie,

</span>
<span class="ltx_bibblock">â€œMeteor 1.3: Automatic metric for reliable optimization and evaluation of machine translation systems,â€

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib21.1.1">Proceedings of the sixth workshop on statistical machine translation</span>, 2011, pp. 85â€“91.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Chin-Yew Lin,

</span>
<span class="ltx_bibblock">â€œRouge: A package for automatic evaluation of summaries,â€

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib22.1.1">Text summarization branches out</span>, 2004, pp. 74â€“81.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Sep 13 12:45:39 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
