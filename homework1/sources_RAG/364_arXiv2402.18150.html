<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation</title>
<!--Generated on Wed Jun 12 03:20:52 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2402.18150v2/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S1" title="In Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S2" title="In Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S2.SS0.SSS0.Px1" title="In 2 Related Work ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Retrieval Augmented Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S2.SS0.SSS0.Px2" title="In 2 Related Work ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Unsupervised Learning of RAG</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S3" title="In Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Our <span class="ltx_text ltx_font_smallcaps">InFO</span>-<span class="ltx_text ltx_font_smallcaps">RAG </span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S3.SS1" title="In 3 Our InFO-RAG ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Positive Information Gain in RAG</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S3.SS2" title="In 3 Our InFO-RAG ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Unsupervised Learning</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S3.SS2.SSS1" title="In 3.2 Unsupervised Learning ‣ 3 Our InFO-RAG ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.1 </span>Data Collection</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S3.SS2.SSS2" title="In 3.2 Unsupervised Learning ‣ 3 Our InFO-RAG ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.2 </span>Data Construction and Training Tasks</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S3.SS2.SSS3" title="In 3.2 Unsupervised Learning ‣ 3 Our InFO-RAG ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.3 </span>Training Strategy</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4" title="In Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.SS1" title="In 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Datasets and Evaluation Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.SS2" title="In 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Experimental Settings</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.SS3" title="In 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Experimental Results</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.SS3.SSS0.Px1" title="In 4.3 Experimental Results ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Main Results (Zero-Shot Setting)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.SS3.SSS0.Px2" title="In 4.3 Experimental Results ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Results on In-context Learning for RAG</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.SS3.SSS0.Px3" title="In 4.3 Experimental Results ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Enhancing Previous SOTA in Open-Retrieval Setting</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.SS4" title="In 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Analysis</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.SS4.SSS0.Px1" title="In 4.4 Analysis ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Fine-grained Analysis for Three Scenarios</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.SS4.SSS0.Px2" title="In 4.4 Analysis ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Ablation Study</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.SS4.SSS0.Px3" title="In 4.4 Analysis ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title">Robustness to Retrieval Results</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S5" title="In Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1" title="In Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>More Analysis</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.SS1" title="In Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>Robustness to ratio of Positive Passages</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.SS2" title="In Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Robustness to Positive Passage Position</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.SS3" title="In Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3 </span>Robustness to Number of Retrieved Passages</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.SS4" title="In Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.4 </span>Ablation Study on Masking Strategy</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.SS5" title="In Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.5 </span>Works with Different Retriever</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.SS6" title="In Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.6 </span>Performance on MMLU</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shicheng Xu<sup class="ltx_sup" id="id11.11.id1"><span class="ltx_text ltx_font_italic" id="id11.11.id1.1">1,2</span></sup>  Liang Pang<sup class="ltx_sup" id="id12.12.id2"><span class="ltx_text ltx_font_italic" id="id12.12.id2.1">1</span></sup>  Mo Yu<sup class="ltx_sup" id="id13.13.id3"><span class="ltx_text ltx_font_italic" id="id13.13.id3.1">3</span></sup><span class="ltx_note ltx_role_footnotemark" id="footnotex1"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">2</span></span></span></span>
 Fandong Meng<sup class="ltx_sup" id="id14.14.id4"><span class="ltx_text ltx_font_italic" id="id14.14.id4.1">3</span></sup>  Huawei Shen<sup class="ltx_sup" id="id15.15.id5"><span class="ltx_text ltx_font_italic" id="id15.15.id5.1">1</span></sup>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id10.10.5"> Xueqi Cheng<sup class="ltx_sup" id="id10.10.5.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id10.10.5.1.1">1</span></sup>  Jie Zhou<sup class="ltx_sup" id="id10.10.5.2"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id10.10.5.2.1">3</span></sup>
<br class="ltx_break"/><sup class="ltx_sup" id="id10.10.5.3"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id10.10.5.3.1">1</span></sup>CAS Key Laboratory of AI Safety,
Institute of Computing Technology, CAS 
<br class="ltx_break"/><sup class="ltx_sup" id="id10.10.5.4"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id10.10.5.4.1">2</span></sup>University of Chinese Academy of Sciences
<br class="ltx_break"/><sup class="ltx_sup" id="id10.10.5.5"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id10.10.5.5.1">3</span></sup>Pattern Recognition Center, WeChat AI 
<br class="ltx_break"/></span><span class="ltx_text ltx_font_typewriter" id="id16.16.id6">{xushicheng21s,pangliang,shenhuawei,cxq}@ict.ac.cn</span><span class="ltx_text ltx_font_bold" id="id17.17.id7">
<br class="ltx_break"/></span><span class="ltx_text ltx_font_typewriter" id="id18.18.id8">moyumyu@global.tencent.com  {fandongmeng,withtomzhou}@tencent.com</span>
</span><span class="ltx_author_notes">  Work done during the Tencent Rhino-bird Research Elite Program at WeChat.  Corresponding authors.</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id19.id1">Retrieval-augmented generation (RAG) enhances large language models (LLMs) by incorporating additional information from retrieval. However, studies have shown that LLMs still face challenges in effectively using the retrieved information, even ignoring it or being misled by it. The key reason is that the training of LLMs does not clearly make LLMs learn how to utilize input retrieved texts with varied quality. In this paper, we propose a novel perspective that considers the role of LLMs in RAG as “Information Refiner”, which means that regardless of correctness, completeness, or usefulness of retrieved texts, LLMs can consistently integrate knowledge within the retrieved texts and model parameters to generate the texts that are more concise, accurate, and complete than the retrieved texts. To this end, we propose an information refinement training method named <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="id19.id1.1">InFO<span class="ltx_text ltx_font_upright" id="id19.id1.1.1">-RAG</span></span> that optimizes LLMs for RAG in an unsupervised manner. <span class="ltx_text ltx_font_smallcaps" id="id19.id1.2">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="id19.id1.3">RAG </span>is low-cost and general across various tasks. Extensive experiments on zero-shot prediction of 11 datasets in diverse tasks including Question Answering, Slot-Filling, Language Modeling, Dialogue, and Code Generation show that <span class="ltx_text ltx_font_smallcaps" id="id19.id1.4">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="id19.id1.5">RAG </span>improves the performance of LLaMA2 by an average of 9.39% relative points. <span class="ltx_text ltx_font_smallcaps" id="id19.id1.6">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="id19.id1.7">RAG </span>also shows advantages in in-context learning and robustness of RAG.</p>
</div>
<div class="ltx_para ltx_noindent" id="p1">
<div class="ltx_block ltx_align_bottom" id="p1.10">
<p class="ltx_p" id="p1.10.11"><span class="ltx_text ltx_font_bold" id="p1.10.11.1">Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation</span></p>
<br class="ltx_break ltx_centering"/>
<p class="ltx_p ltx_align_center" id="p1.10.10" style="width:433.6pt;"><span class="ltx_text ltx_inline-block" id="p1.10.10.10" style="width:0.0pt;">
<span class="ltx_tabular ltx_align_top" id="p1.10.10.10.10">
<span class="ltx_tr" id="p1.5.5.5.5.5">
<span class="ltx_td ltx_align_center" id="p1.5.5.5.5.5.5"><span class="ltx_text ltx_font_bold" id="p1.5.5.5.5.5.5.5">Shicheng Xu<sup class="ltx_sup" id="p1.5.5.5.5.5.5.5.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.5.5.5.5.5.5.5.1.1">1,2</span></sup><span class="ltx_note ltx_role_thanks" id="p1.5.5.5.5.5.5.5.2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">thanks: </span>  Work done during the Tencent Rhino-bird Research Elite Program at WeChat.</span></span></span>  Liang Pang<sup class="ltx_sup" id="p1.5.5.5.5.5.5.5.3"><span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.5.5.5.5.5.5.5.3.1">1</span></sup><span class="ltx_note ltx_role_thanks" id="p1.5.5.5.5.5.5.5.4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">thanks: </span>  Corresponding authors.</span></span></span>  Mo Yu<sup class="ltx_sup" id="p1.5.5.5.5.5.5.5.5"><span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.5.5.5.5.5.5.5.5.1">3</span></sup><span class="ltx_note ltx_role_footnotemark" id="footnotex2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_medium" id="footnotex2.1.1.1">2</span></span></span></span></span>
 Fandong Meng<sup class="ltx_sup" id="p1.5.5.5.5.5.5.5.6"><span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.5.5.5.5.5.5.5.6.1">3</span></sup>  Huawei Shen<sup class="ltx_sup" id="p1.5.5.5.5.5.5.5.7"><span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.5.5.5.5.5.5.5.7.1">1</span></sup></span></span></span>
<span class="ltx_tr" id="p1.7.7.7.7.7">
<span class="ltx_td ltx_align_center" id="p1.7.7.7.7.7.2"><span class="ltx_text ltx_font_bold" id="p1.7.7.7.7.7.2.2"> Xueqi Cheng<sup class="ltx_sup" id="p1.7.7.7.7.7.2.2.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.7.7.7.7.7.2.2.1.1">1</span></sup>  Jie Zhou<sup class="ltx_sup" id="p1.7.7.7.7.7.2.2.2"><span class="ltx_text ltx_font_medium ltx_font_italic" id="p1.7.7.7.7.7.2.2.2.1">3</span></sup></span></span></span>
<span class="ltx_tr" id="p1.8.8.8.8.8">
<span class="ltx_td ltx_align_center" id="p1.8.8.8.8.8.1"><sup class="ltx_sup" id="p1.8.8.8.8.8.1.1"><span class="ltx_text ltx_font_italic" id="p1.8.8.8.8.8.1.1.1">1</span></sup>CAS Key Laboratory of AI Safety,
Institute of Computing Technology, CAS</span></span>
<span class="ltx_tr" id="p1.9.9.9.9.9">
<span class="ltx_td ltx_align_center" id="p1.9.9.9.9.9.1"><sup class="ltx_sup" id="p1.9.9.9.9.9.1.1"><span class="ltx_text ltx_font_italic" id="p1.9.9.9.9.9.1.1.1">2</span></sup>University of Chinese Academy of Sciences</span></span>
<span class="ltx_tr" id="p1.10.10.10.10.10">
<span class="ltx_td ltx_align_center" id="p1.10.10.10.10.10.1"><sup class="ltx_sup" id="p1.10.10.10.10.10.1.1"><span class="ltx_text ltx_font_italic" id="p1.10.10.10.10.10.1.1.1">3</span></sup>Pattern Recognition Center, WeChat AI</span></span>
<span class="ltx_tr" id="p1.10.10.10.10.11">
<span class="ltx_td ltx_align_center" id="p1.10.10.10.10.11.1"><span class="ltx_text ltx_font_typewriter" id="p1.10.10.10.10.11.1.1">{xushicheng21s,pangliang,shenhuawei,cxq}@ict.ac.cn</span></span></span>
<span class="ltx_tr" id="p1.10.10.10.10.12">
<span class="ltx_td ltx_align_center" id="p1.10.10.10.10.12.1"><span class="ltx_text ltx_font_typewriter" id="p1.10.10.10.10.12.1.1">moyumyu@global.tencent.com  {fandongmeng,withtomzhou}@tencent.com</span></span></span>
</span></span></p>
<br class="ltx_break ltx_centering"/>
</div>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="506" id="S1.F1.g1" src="x1.png" width="831"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>We consider the role of LLMs in RAG as “Information Refiner” that can generate more concise, accurate, and complete texts than the input retrieved texts. In this way, LLM can consistently make RAG system produce positive information gain.</figcaption>
</figure>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Retrieval-augmented generation (RAG) is a popular framework in modern NLP systems that equips neural with retrieved information for text generation like open-domain question answering, dialogue <cite class="ltx_cite ltx_citemacro_cite">Lewis et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib24" title="">2020</a>); Guu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib14" title="">2020</a>)</cite> etc. Recently, RAG has been applied to large language models (LLMs) to provide additional knowledge and mitigate issues such as hallucination <cite class="ltx_cite ltx_citemacro_cite">Peng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib29" title="">2023</a>); Shi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib38" title="">2023</a>); Ren et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib34" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Despite the improved performance of retrieval models, the internet continues to be inundated with fake news, rumors, and fragmented, noisy information, posing challenges for retrieval models to reliably identify and shield against such content <cite class="ltx_cite ltx_citemacro_cite">Sun et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib39" title="">2022</a>); Thakur et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib40" title="">2021</a>)</cite>. Consequently, not all retrieved texts are beneficial, necessitating that LLMs determine how to judiciously utilize them. However, pre-training tasks do not explicitly enable LLMs to learn how to utilize the retrieved texts with varied quality for generation. For a question and its retrieved texts as input sequence, RAG aims to minimize the negative log-likelihood (NLL) of sub-sequence (question and generated answer) by referring to the retrieved texts. However, mainstream pre-training for LLMs with decoder-only architecture is language modeling based on the prefix <cite class="ltx_cite ltx_citemacro_cite">Radford et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib32" title="">2018</a>); Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib41" title="">2023a</a>)</cite>, the training objective aims to minimize the negative log-likelihood (NLL) of the entire input sequence (retrieved texts, question, and generated answer) <cite class="ltx_cite ltx_citemacro_cite">Mikolov et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib27" title="">2012</a>)</cite>. This gap causes LLMs to only regard the input retrieved texts as a part of the prefix for language modeling rather than additional reference, which leads to the following problems. Firstly, for the long and complex retrieved texts, LLMs struggle to extract the correct answers <cite class="ltx_cite ltx_citemacro_cite">Deng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib9" title="">2023</a>)</cite> accurately. Secondly, in situations where the retrieved texts cannot address the task, LLMs lack the capability to integrate the knowledge within model parameters with the retrieved texts to generate improved texts. Thirdly, LLMs are susceptible to incorrect and noisy information in retrieved texts, posing a risk of being misled <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib7" title="">2023</a>); Yoran et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib50" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">To solve above problems, some previous methods explore strategies for how or when to perform retrieval for LLMs by prompt techniques <cite class="ltx_cite ltx_citemacro_cite">Press et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib31" title="">2023</a>); Khattab et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib21" title="">2022</a>); Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib46" title="">2023</a>); Asai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib1" title="">2023</a>)</cite>. However, prompt cannot materially change the ability of LLMs to utilize retrieved texts because model parameters are not updated for this ability. Some methods fine-tune LLMs on the constructed RAG data for a specific task such as QA <cite class="ltx_cite ltx_citemacro_cite">Yoran et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib50" title="">2023</a>); Yu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib51" title="">2023</a>)</cite>. However, under the trend that LLMs are regarded as foundation models for various tasks in zero-shot setting, fine-tuning LLMs only on a few tasks make LLMs limited to the RAG of training tasks and lose their generalizability. Because catastrophic forgetting still exists in supervised fine-tuning of LLMs <cite class="ltx_cite ltx_citemacro_cite">Luo et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib25" title="">2023</a>)</cite>. Although constructing data for a large number of tasks can alleviate this, it is hard to design the data in various RAG tasks and requires high data annotation costs. Our paper aims to fundamentally improve the ability of LLMs to utilize retrieved texts while preserving the generalizability of LLMs for various RAG tasks in zero-shot setting, which is orthogonal to prompt techniques and can be combined with them to get better performance.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">In this paper, considering that LLMs have a certain ability to use their own knowledge to examine information <cite class="ltx_cite ltx_citemacro_cite">Dhuliawala et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib10" title="">2023</a>)</cite>, we introduce a novel perspective to reassess the role of LLMs in RAG. Specifically, we propose considering LLMs as <span class="ltx_text ltx_font_bold" id="S1.p4.1.1">“Information Refiner”</span>. The key idea behind this is to continue training the pre-trained LLMs with an Information Refinement objective that regardless of the correctness, completeness, or usefulness of the input retrieved texts, LLMs can consistently integrate knowledge within the retrieved texts and model parameters to generate the texts that are more concise, accurate, and complete than the retrieved texts (Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>). We term this process “Positive Information Gain”. This enables LLMs to extract correct information from complex texts as well as resist and rectify retrieved erroneous information and noise, thereby improving the information bottleneck of the RAG and allowing the knowledge capacity of RAG to approximate the combined knowledge of IR and LLMs.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">We make the information refinement training work in a completely unsupervised manner, such that it is easy to obtain large-scale training data and maintain the generalizability of the trained LLMs that can be used in various RAG tasks in zero-shot setting. Specifically, we propose an unsupervised training method named <span class="ltx_text ltx_font_smallcaps" id="S1.p5.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S1.p5.1.2">RAG</span>. <span class="ltx_text ltx_font_smallcaps" id="S1.p5.1.3">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S1.p5.1.4">RAG </span>classifies the retrieved texts into three scenarios (shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>) and proposes the unsupervised training task for each scenario. For the first scenario that all knowledge for the question is already in the retrieved texts, LLMs need to accurately extract relevant knowledge from complex retrieved texts and generate more concise texts. For the second scenario that retrieved texts are incomplete or incorrect for the question, LLMs need to combine the knowledge within model parameters to verify the retrieved texts, correct the wrong knowledge, and complete the missing knowledge. For the third scenario that retrieved texts are relevant but do not have any answer, LLMs need to find the knowledge within model parameters based on relevant context to generate correct answers. We mix the above three tasks to train <span class="ltx_text ltx_font_smallcaps" id="S1.p5.1.5">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S1.p5.1.6">RAG </span>unsupervisedly.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">Main contributions of this paper are as follows:</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">(1) We introduce a novel perspective to reassess the role of LLMs in the RAG system that considers LLMs as <span class="ltx_text ltx_font_bold" id="S1.p7.1.1">“Information Refiner”</span> that can produce positive information gain in RAG scenarios.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p8">
<p class="ltx_p" id="S1.p8.1">(2) We propose an unsupervised training method named <span class="ltx_text ltx_font_smallcaps" id="S1.p8.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S1.p8.1.2">RAG </span>that enables LLMs to perform information refinement in RAG. <span class="ltx_text ltx_font_smallcaps" id="S1.p8.1.3">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S1.p8.1.4">RAG </span>is low-cost and general for various RAG tasks.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p9">
<p class="ltx_p" id="S1.p9.1">(3) Extensive experiments show <span class="ltx_text ltx_font_smallcaps" id="S1.p9.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S1.p9.1.2">RAG </span>enhances the zero-shot RAG of LLaMA2 across Question Answering, Slot-Filling, Language Modeling, Dialog, and Code Generation. <span class="ltx_text ltx_font_smallcaps" id="S1.p9.1.3">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S1.p9.1.4">RAG </span>also shows advantages in in-context learning and robustness of RAG. Code is released at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/xsc1234/INFO-RAG/" title="">https://github.com/xsc1234/INFO-RAG/</a>.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Retrieval Augmented Generation</h5>
<div class="ltx_para" id="S2.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p1.1">Retrieval augmented generation (RAG) aims to provide additional knowledge for language models by retrieving information from external databases <cite class="ltx_cite ltx_citemacro_cite">Lewis et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib24" title="">2020</a>); Guu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib14" title="">2020</a>); Borgeaud et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib3" title="">2022</a>); Izacard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib19" title="">2022</a>)</cite>. RAG makes the text generated by LLM more accurate and credible, and is widely used in Open-domain QA <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib20" title="">2020</a>); Trivedi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib43" title="">2022a</a>)</cite>, dialogue <cite class="ltx_cite ltx_citemacro_cite">Cai et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib5" title="">2018</a>, <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib6" title="">2019</a>)</cite> and Code Generation <cite class="ltx_cite ltx_citemacro_cite">Parvez et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib28" title="">2021</a>)</cite>. Recently, RAG has also been widely applied in LLMs <cite class="ltx_cite ltx_citemacro_cite">Peng et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib29" title="">2023</a>); Shi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib38" title="">2023</a>); Ren et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib34" title="">2023</a>)</cite>. The form of RAG in LLMs is using the retrieved texts as contexts <cite class="ltx_cite ltx_citemacro_cite">Ram et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib33" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px1.p2">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p2.1">Some studies have noted that noise in retrieved texts will interfere with the performance of the language model or even mislead it <cite class="ltx_cite ltx_citemacro_cite">Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib46" title="">2023</a>); Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib45" title="">2023</a>); Chen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib7" title="">2023</a>); Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib47" title="">2024</a>)</cite>. These works try to solve this problem from the interactive framework between IR and LM, while our work points out a more essential view. That is, previous studies on RAG do not define the role of LLMs in RAG clearly. Our paper introduces a novel perspective to reassess the role of LLMs in RAG that considers LLMs as “Information Refiner”.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px2">
<h5 class="ltx_title ltx_title_paragraph">Unsupervised Learning of RAG</h5>
<div class="ltx_para" id="S2.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p1.1">Unsupervised learning of RAG can be divided into the training of retrievers and language models. As for retrievers, REALM <cite class="ltx_cite ltx_citemacro_cite">Guu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib14" title="">2020</a>)</cite> proposes using masked language modeling to pre-train a knowledge retriever. REPLUG <cite class="ltx_cite ltx_citemacro_cite">Shi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib38" title="">2023</a>)</cite> trains the retriever according to the feedback from black-box LM. As for language models, RETRO <cite class="ltx_cite ltx_citemacro_cite">Borgeaud et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib3" title="">2022</a>)</cite> improves language models by retrieving tokens. Atlas proposes pretext tasks to jointly train the retriever and language model. However, these two methods focus on the model of encoder-decoder architecture, which is inconsistent with the current mainstream LLMs based on decoder-only.</p>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px2.p2">
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p2.1">Previous unsupervised training methods do not consider the specific role that language models should play in RAG. In this paper, we focus on training language model as an “Information Refiner” that can further improve the information bottleneck of RAG and be robust to retrieved texts.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Our <span class="ltx_text ltx_font_smallcaps" id="S3.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S3.2.2">RAG </span>
</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">This section introduces our <span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S3.p1.1.1">InFO<span class="ltx_text ltx_font_upright" id="S3.p1.1.1.1">-</span>RAG</span>, an unsupervised training method to enable LLMs to perform information refinement in RAG. Firstly, we summarize the retrieved texts in RAG into three scenarios and define the positive information gain for each scenario. Secondly, we construct sample pairs in which the output has information gain compared to the input for these three scenarios and design three training tasks. Thirdly, we train LLMs under our designed tasks on the unsupervised samples. Unsupervised training makes <span class="ltx_text ltx_font_smallcaps" id="S3.p1.1.2">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S3.p1.1.3">RAG </span>low-cost and general for RAG in various tasks.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Positive Information Gain in RAG</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">In this paper, we introduce a novel perspective to reassess the role of LLMs in RAG that LLMs should be the “Information Refiner” that can produce “Positive Information Gain” in the information flow of RAG. This section details the scenarios of retrieved texts and defines specific information gain LLMs should produce in each scenario.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS1.p2.1.1">Scenario 1.</span> The first scenario is that all knowledge for the question is already in the retrieved texts. Even if the correct knowledge already exists in the retrieved texts, complex and lengthy retrieved texts are not conducive for users to directly obtain the knowledge. Therefore, the positive information gain in this scenario means that LLMs extract correct knowledge as much as possible while removing irrelevant information, thereby generating more direct and concise texts for users.</p>
</div>
<div class="ltx_para" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="S3.SS1.p3.1.1">Scenario 2.</span> The second scenario is that although the retrieved texts contain some usable knowledge, they still contain some incomplete or incorrect knowledge. This scenario is very common, especially with the current proliferation of fake news, misinformation, and fragmented knowledge on the Internet. There has been study proving that noise and erroneous knowledge in retrieved texts greatly mislead the generation of LLMs <cite class="ltx_cite ltx_citemacro_cite">Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib46" title="">2023</a>)</cite>. The positive information gain in this scenario is that LLMs can exploit the knowledge within their parameters to verify the knowledge in the retrieved texts. Utilize accurate knowledge, rectify incorrect knowledge, and complete missing knowledge</p>
</div>
<div class="ltx_para" id="S3.SS1.p4">
<p class="ltx_p" id="S3.SS1.p4.1"><span class="ltx_text ltx_font_bold" id="S3.SS1.p4.1.1">Scenario 3.</span> The third scenario is that the retrieved texts do not have any answer that can used to solve the question. This scenario means that the question is very difficult or the target knowledge is very long-tail for information retrieval systems. Even in this case, the retrieval model’s ability to model semantics allows it to provide texts that are semantically related to the question <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib20" title="">2020</a>)</cite>. Therefore, the positive information gain in this scenario is that LLMs can stimulate the knowledge within their parameters based on semantically relevant context to solve the question.</p>
</div>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="282" id="S3.F2.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Overview of our <span class="ltx_text ltx_font_smallcaps" id="S3.F2.3.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S3.F2.4.2">RAG</span>. Each sample is only processed for a single scenario to avoid data leakage.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Unsupervised Learning</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">This section introduces unsupervised learning in <span class="ltx_text ltx_font_smallcaps" id="S3.SS2.p1.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S3.SS2.p1.1.2">RAG</span>. We construct the input-output pairs that satisfy the information gain in the above three scenarios on Wikipedia. We continue to train pre-trained LLMs on the constructed data to perform information refinement in the form of next token prediction in prefix language modeling, which is general for various tasks. Pipeline is in Figure <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S3.F2" title="Figure 2 ‣ 3.1 Positive Information Gain in RAG ‣ 3 Our InFO-RAG ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<section class="ltx_subsubsection" id="S3.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.1 </span>Data Collection</h4>
<div class="ltx_para" id="S3.SS2.SSS1.p1">
<p class="ltx_p" id="S3.SS2.SSS1.p1.19">The data construction is performed on English Wikipedia. Specifically, for each document <math alttext="d" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.1.m1.1"><semantics id="S3.SS2.SSS1.p1.1.m1.1a"><mi id="S3.SS2.SSS1.p1.1.m1.1.1" xref="S3.SS2.SSS1.p1.1.m1.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.1.m1.1b"><ci id="S3.SS2.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p1.1.m1.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.1.m1.1c">d</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.1.m1.1d">italic_d</annotation></semantics></math> in Wikipedia, we intercept <math alttext="k" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.2.m2.1"><semantics id="S3.SS2.SSS1.p1.2.m2.1a"><mi id="S3.SS2.SSS1.p1.2.m2.1.1" xref="S3.SS2.SSS1.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.2.m2.1b"><ci id="S3.SS2.SSS1.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p1.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.2.m2.1d">italic_k</annotation></semantics></math> consecutive sentences from <math alttext="d" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.3.m3.1"><semantics id="S3.SS2.SSS1.p1.3.m3.1a"><mi id="S3.SS2.SSS1.p1.3.m3.1.1" xref="S3.SS2.SSS1.p1.3.m3.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.3.m3.1b"><ci id="S3.SS2.SSS1.p1.3.m3.1.1.cmml" xref="S3.SS2.SSS1.p1.3.m3.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.3.m3.1c">d</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.3.m3.1d">italic_d</annotation></semantics></math> and get the sentence set <math alttext="S=[s_{1},s_{2},...,s_{k}]" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.4.m4.4"><semantics id="S3.SS2.SSS1.p1.4.m4.4a"><mrow id="S3.SS2.SSS1.p1.4.m4.4.4" xref="S3.SS2.SSS1.p1.4.m4.4.4.cmml"><mi id="S3.SS2.SSS1.p1.4.m4.4.4.5" xref="S3.SS2.SSS1.p1.4.m4.4.4.5.cmml">S</mi><mo id="S3.SS2.SSS1.p1.4.m4.4.4.4" xref="S3.SS2.SSS1.p1.4.m4.4.4.4.cmml">=</mo><mrow id="S3.SS2.SSS1.p1.4.m4.4.4.3.3" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.4.cmml"><mo id="S3.SS2.SSS1.p1.4.m4.4.4.3.3.4" stretchy="false" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.4.cmml">[</mo><msub id="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1" xref="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1.cmml"><mi id="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1.2" xref="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1.2.cmml">s</mi><mn id="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1.3" xref="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS2.SSS1.p1.4.m4.4.4.3.3.5" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.4.cmml">,</mo><msub id="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2" xref="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2.cmml"><mi id="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2.2" xref="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2.2.cmml">s</mi><mn id="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2.3" xref="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS2.SSS1.p1.4.m4.4.4.3.3.6" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.4.cmml">,</mo><mi id="S3.SS2.SSS1.p1.4.m4.1.1" mathvariant="normal" xref="S3.SS2.SSS1.p1.4.m4.1.1.cmml">…</mi><mo id="S3.SS2.SSS1.p1.4.m4.4.4.3.3.7" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.4.cmml">,</mo><msub id="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3.cmml"><mi id="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3.2" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3.3" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3.3.cmml">k</mi></msub><mo id="S3.SS2.SSS1.p1.4.m4.4.4.3.3.8" stretchy="false" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.4.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.4.m4.4b"><apply id="S3.SS2.SSS1.p1.4.m4.4.4.cmml" xref="S3.SS2.SSS1.p1.4.m4.4.4"><eq id="S3.SS2.SSS1.p1.4.m4.4.4.4.cmml" xref="S3.SS2.SSS1.p1.4.m4.4.4.4"></eq><ci id="S3.SS2.SSS1.p1.4.m4.4.4.5.cmml" xref="S3.SS2.SSS1.p1.4.m4.4.4.5">𝑆</ci><list id="S3.SS2.SSS1.p1.4.m4.4.4.3.4.cmml" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.3"><apply id="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1.cmml" xref="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1.1.cmml" xref="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1.2.cmml" xref="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1.2">𝑠</ci><cn id="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS2.SSS1.p1.4.m4.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2.cmml" xref="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2.1.cmml" xref="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2.2.cmml" xref="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2.2">𝑠</ci><cn id="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS2.SSS1.p1.4.m4.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS2.SSS1.p1.4.m4.1.1.cmml" xref="S3.SS2.SSS1.p1.4.m4.1.1">…</ci><apply id="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3.cmml" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3.1.cmml" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3">subscript</csymbol><ci id="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3.2.cmml" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3.3.cmml" xref="S3.SS2.SSS1.p1.4.m4.4.4.3.3.3.3">𝑘</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.4.m4.4c">S=[s_{1},s_{2},...,s_{k}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.4.m4.4d">italic_S = [ italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_s start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_s start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ]</annotation></semantics></math>. Our method randomly selects <math alttext="s_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.5.m5.1"><semantics id="S3.SS2.SSS1.p1.5.m5.1a"><msub id="S3.SS2.SSS1.p1.5.m5.1.1" xref="S3.SS2.SSS1.p1.5.m5.1.1.cmml"><mi id="S3.SS2.SSS1.p1.5.m5.1.1.2" xref="S3.SS2.SSS1.p1.5.m5.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.5.m5.1.1.3" xref="S3.SS2.SSS1.p1.5.m5.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.5.m5.1b"><apply id="S3.SS2.SSS1.p1.5.m5.1.1.cmml" xref="S3.SS2.SSS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.5.m5.1.1.1.cmml" xref="S3.SS2.SSS1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p1.5.m5.1.1.2.cmml" xref="S3.SS2.SSS1.p1.5.m5.1.1.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.5.m5.1.1.3.cmml" xref="S3.SS2.SSS1.p1.5.m5.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.5.m5.1c">s_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.5.m5.1d">italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> from <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.6.m6.1"><semantics id="S3.SS2.SSS1.p1.6.m6.1a"><mi id="S3.SS2.SSS1.p1.6.m6.1.1" xref="S3.SS2.SSS1.p1.6.m6.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.6.m6.1b"><ci id="S3.SS2.SSS1.p1.6.m6.1.1.cmml" xref="S3.SS2.SSS1.p1.6.m6.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.6.m6.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.6.m6.1d">italic_S</annotation></semantics></math> and uses it as the object for language modeling. The first <math alttext="\frac{1}{3}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.7.m7.1"><semantics id="S3.SS2.SSS1.p1.7.m7.1a"><mfrac id="S3.SS2.SSS1.p1.7.m7.1.1" xref="S3.SS2.SSS1.p1.7.m7.1.1.cmml"><mn id="S3.SS2.SSS1.p1.7.m7.1.1.2" xref="S3.SS2.SSS1.p1.7.m7.1.1.2.cmml">1</mn><mn id="S3.SS2.SSS1.p1.7.m7.1.1.3" xref="S3.SS2.SSS1.p1.7.m7.1.1.3.cmml">3</mn></mfrac><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.7.m7.1b"><apply id="S3.SS2.SSS1.p1.7.m7.1.1.cmml" xref="S3.SS2.SSS1.p1.7.m7.1.1"><divide id="S3.SS2.SSS1.p1.7.m7.1.1.1.cmml" xref="S3.SS2.SSS1.p1.7.m7.1.1"></divide><cn id="S3.SS2.SSS1.p1.7.m7.1.1.2.cmml" type="integer" xref="S3.SS2.SSS1.p1.7.m7.1.1.2">1</cn><cn id="S3.SS2.SSS1.p1.7.m7.1.1.3.cmml" type="integer" xref="S3.SS2.SSS1.p1.7.m7.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.7.m7.1c">\frac{1}{3}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.7.m7.1d">divide start_ARG 1 end_ARG start_ARG 3 end_ARG</annotation></semantics></math> to <math alttext="\frac{2}{3}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.8.m8.1"><semantics id="S3.SS2.SSS1.p1.8.m8.1a"><mfrac id="S3.SS2.SSS1.p1.8.m8.1.1" xref="S3.SS2.SSS1.p1.8.m8.1.1.cmml"><mn id="S3.SS2.SSS1.p1.8.m8.1.1.2" xref="S3.SS2.SSS1.p1.8.m8.1.1.2.cmml">2</mn><mn id="S3.SS2.SSS1.p1.8.m8.1.1.3" xref="S3.SS2.SSS1.p1.8.m8.1.1.3.cmml">3</mn></mfrac><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.8.m8.1b"><apply id="S3.SS2.SSS1.p1.8.m8.1.1.cmml" xref="S3.SS2.SSS1.p1.8.m8.1.1"><divide id="S3.SS2.SSS1.p1.8.m8.1.1.1.cmml" xref="S3.SS2.SSS1.p1.8.m8.1.1"></divide><cn id="S3.SS2.SSS1.p1.8.m8.1.1.2.cmml" type="integer" xref="S3.SS2.SSS1.p1.8.m8.1.1.2">2</cn><cn id="S3.SS2.SSS1.p1.8.m8.1.1.3.cmml" type="integer" xref="S3.SS2.SSS1.p1.8.m8.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.8.m8.1c">\frac{2}{3}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.8.m8.1d">divide start_ARG 2 end_ARG start_ARG 3 end_ARG</annotation></semantics></math> of the tokens of <math alttext="s_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.9.m9.1"><semantics id="S3.SS2.SSS1.p1.9.m9.1a"><msub id="S3.SS2.SSS1.p1.9.m9.1.1" xref="S3.SS2.SSS1.p1.9.m9.1.1.cmml"><mi id="S3.SS2.SSS1.p1.9.m9.1.1.2" xref="S3.SS2.SSS1.p1.9.m9.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.9.m9.1.1.3" xref="S3.SS2.SSS1.p1.9.m9.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.9.m9.1b"><apply id="S3.SS2.SSS1.p1.9.m9.1.1.cmml" xref="S3.SS2.SSS1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.9.m9.1.1.1.cmml" xref="S3.SS2.SSS1.p1.9.m9.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p1.9.m9.1.1.2.cmml" xref="S3.SS2.SSS1.p1.9.m9.1.1.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.9.m9.1.1.3.cmml" xref="S3.SS2.SSS1.p1.9.m9.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.9.m9.1c">s_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.9.m9.1d">italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> are randomly intercepted as the prefix (<math alttext="s^{p}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.10.m10.1"><semantics id="S3.SS2.SSS1.p1.10.m10.1a"><msubsup id="S3.SS2.SSS1.p1.10.m10.1.1" xref="S3.SS2.SSS1.p1.10.m10.1.1.cmml"><mi id="S3.SS2.SSS1.p1.10.m10.1.1.2.2" xref="S3.SS2.SSS1.p1.10.m10.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.10.m10.1.1.3" xref="S3.SS2.SSS1.p1.10.m10.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS1.p1.10.m10.1.1.2.3" xref="S3.SS2.SSS1.p1.10.m10.1.1.2.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.10.m10.1b"><apply id="S3.SS2.SSS1.p1.10.m10.1.1.cmml" xref="S3.SS2.SSS1.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.10.m10.1.1.1.cmml" xref="S3.SS2.SSS1.p1.10.m10.1.1">subscript</csymbol><apply id="S3.SS2.SSS1.p1.10.m10.1.1.2.cmml" xref="S3.SS2.SSS1.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.10.m10.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.10.m10.1.1">superscript</csymbol><ci id="S3.SS2.SSS1.p1.10.m10.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.10.m10.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.10.m10.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.10.m10.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS1.p1.10.m10.1.1.3.cmml" xref="S3.SS2.SSS1.p1.10.m10.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.10.m10.1c">s^{p}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.10.m10.1d">italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>) and the other tokens of <math alttext="s_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.11.m11.1"><semantics id="S3.SS2.SSS1.p1.11.m11.1a"><msub id="S3.SS2.SSS1.p1.11.m11.1.1" xref="S3.SS2.SSS1.p1.11.m11.1.1.cmml"><mi id="S3.SS2.SSS1.p1.11.m11.1.1.2" xref="S3.SS2.SSS1.p1.11.m11.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.11.m11.1.1.3" xref="S3.SS2.SSS1.p1.11.m11.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.11.m11.1b"><apply id="S3.SS2.SSS1.p1.11.m11.1.1.cmml" xref="S3.SS2.SSS1.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.11.m11.1.1.1.cmml" xref="S3.SS2.SSS1.p1.11.m11.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p1.11.m11.1.1.2.cmml" xref="S3.SS2.SSS1.p1.11.m11.1.1.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.11.m11.1.1.3.cmml" xref="S3.SS2.SSS1.p1.11.m11.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.11.m11.1c">s_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.11.m11.1d">italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> are used as the prediction target (<math alttext="s^{t}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.12.m12.1"><semantics id="S3.SS2.SSS1.p1.12.m12.1a"><msubsup id="S3.SS2.SSS1.p1.12.m12.1.1" xref="S3.SS2.SSS1.p1.12.m12.1.1.cmml"><mi id="S3.SS2.SSS1.p1.12.m12.1.1.2.2" xref="S3.SS2.SSS1.p1.12.m12.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.12.m12.1.1.3" xref="S3.SS2.SSS1.p1.12.m12.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS1.p1.12.m12.1.1.2.3" xref="S3.SS2.SSS1.p1.12.m12.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.12.m12.1b"><apply id="S3.SS2.SSS1.p1.12.m12.1.1.cmml" xref="S3.SS2.SSS1.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.12.m12.1.1.1.cmml" xref="S3.SS2.SSS1.p1.12.m12.1.1">subscript</csymbol><apply id="S3.SS2.SSS1.p1.12.m12.1.1.2.cmml" xref="S3.SS2.SSS1.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.12.m12.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.12.m12.1.1">superscript</csymbol><ci id="S3.SS2.SSS1.p1.12.m12.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.12.m12.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.12.m12.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.12.m12.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.SSS1.p1.12.m12.1.1.3.cmml" xref="S3.SS2.SSS1.p1.12.m12.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.12.m12.1c">s^{t}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.12.m12.1d">italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>). We also perform the process (Section <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S3.SS2.SSS2" title="3.2.2 Data Construction and Training Tasks ‣ 3.2 Unsupervised Learning ‣ 3 Our InFO-RAG ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3.2.2</span></a>) on sentence set <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.13.m13.1"><semantics id="S3.SS2.SSS1.p1.13.m13.1a"><mi id="S3.SS2.SSS1.p1.13.m13.1.1" xref="S3.SS2.SSS1.p1.13.m13.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.13.m13.1b"><ci id="S3.SS2.SSS1.p1.13.m13.1.1.cmml" xref="S3.SS2.SSS1.p1.13.m13.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.13.m13.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.13.m13.1d">italic_S</annotation></semantics></math> so that it can be used to simulate the retrieved texts <math alttext="\mathcal{R}(s^{p}_{l})" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.14.m14.1"><semantics id="S3.SS2.SSS1.p1.14.m14.1a"><mrow id="S3.SS2.SSS1.p1.14.m14.1.1" xref="S3.SS2.SSS1.p1.14.m14.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS1.p1.14.m14.1.1.3" xref="S3.SS2.SSS1.p1.14.m14.1.1.3.cmml">ℛ</mi><mo id="S3.SS2.SSS1.p1.14.m14.1.1.2" xref="S3.SS2.SSS1.p1.14.m14.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.SSS1.p1.14.m14.1.1.1.1" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.cmml"><mo id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.2" stretchy="false" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.2.2" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.3" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.2.3" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.2.3.cmml">p</mi></msubsup><mo id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.3" stretchy="false" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.14.m14.1b"><apply id="S3.SS2.SSS1.p1.14.m14.1.1.cmml" xref="S3.SS2.SSS1.p1.14.m14.1.1"><times id="S3.SS2.SSS1.p1.14.m14.1.1.2.cmml" xref="S3.SS2.SSS1.p1.14.m14.1.1.2"></times><ci id="S3.SS2.SSS1.p1.14.m14.1.1.3.cmml" xref="S3.SS2.SSS1.p1.14.m14.1.1.3">ℛ</ci><apply id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1">subscript</csymbol><apply id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1">superscript</csymbol><ci id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p1.14.m14.1.1.1.1.1.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.14.m14.1c">\mathcal{R}(s^{p}_{l})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.14.m14.1d">caligraphic_R ( italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT )</annotation></semantics></math> for prefix <math alttext="s^{p}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.15.m15.1"><semantics id="S3.SS2.SSS1.p1.15.m15.1a"><msubsup id="S3.SS2.SSS1.p1.15.m15.1.1" xref="S3.SS2.SSS1.p1.15.m15.1.1.cmml"><mi id="S3.SS2.SSS1.p1.15.m15.1.1.2.2" xref="S3.SS2.SSS1.p1.15.m15.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.15.m15.1.1.3" xref="S3.SS2.SSS1.p1.15.m15.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS1.p1.15.m15.1.1.2.3" xref="S3.SS2.SSS1.p1.15.m15.1.1.2.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.15.m15.1b"><apply id="S3.SS2.SSS1.p1.15.m15.1.1.cmml" xref="S3.SS2.SSS1.p1.15.m15.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.15.m15.1.1.1.cmml" xref="S3.SS2.SSS1.p1.15.m15.1.1">subscript</csymbol><apply id="S3.SS2.SSS1.p1.15.m15.1.1.2.cmml" xref="S3.SS2.SSS1.p1.15.m15.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.15.m15.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.15.m15.1.1">superscript</csymbol><ci id="S3.SS2.SSS1.p1.15.m15.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.15.m15.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.15.m15.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.15.m15.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS1.p1.15.m15.1.1.3.cmml" xref="S3.SS2.SSS1.p1.15.m15.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.15.m15.1c">s^{p}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.15.m15.1d">italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> in three scenarios for conditioning the generation of <math alttext="s^{t}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.16.m16.1"><semantics id="S3.SS2.SSS1.p1.16.m16.1a"><msubsup id="S3.SS2.SSS1.p1.16.m16.1.1" xref="S3.SS2.SSS1.p1.16.m16.1.1.cmml"><mi id="S3.SS2.SSS1.p1.16.m16.1.1.2.2" xref="S3.SS2.SSS1.p1.16.m16.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.16.m16.1.1.3" xref="S3.SS2.SSS1.p1.16.m16.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS1.p1.16.m16.1.1.2.3" xref="S3.SS2.SSS1.p1.16.m16.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.16.m16.1b"><apply id="S3.SS2.SSS1.p1.16.m16.1.1.cmml" xref="S3.SS2.SSS1.p1.16.m16.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.16.m16.1.1.1.cmml" xref="S3.SS2.SSS1.p1.16.m16.1.1">subscript</csymbol><apply id="S3.SS2.SSS1.p1.16.m16.1.1.2.cmml" xref="S3.SS2.SSS1.p1.16.m16.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.16.m16.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.16.m16.1.1">superscript</csymbol><ci id="S3.SS2.SSS1.p1.16.m16.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.16.m16.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.16.m16.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.16.m16.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.SSS1.p1.16.m16.1.1.3.cmml" xref="S3.SS2.SSS1.p1.16.m16.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.16.m16.1c">s^{t}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.16.m16.1d">italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>. Then, we can get an unsupervised training sample for prefix language modeling that predicts <math alttext="s^{t}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.17.m17.1"><semantics id="S3.SS2.SSS1.p1.17.m17.1a"><msubsup id="S3.SS2.SSS1.p1.17.m17.1.1" xref="S3.SS2.SSS1.p1.17.m17.1.1.cmml"><mi id="S3.SS2.SSS1.p1.17.m17.1.1.2.2" xref="S3.SS2.SSS1.p1.17.m17.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.17.m17.1.1.3" xref="S3.SS2.SSS1.p1.17.m17.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS1.p1.17.m17.1.1.2.3" xref="S3.SS2.SSS1.p1.17.m17.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.17.m17.1b"><apply id="S3.SS2.SSS1.p1.17.m17.1.1.cmml" xref="S3.SS2.SSS1.p1.17.m17.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.17.m17.1.1.1.cmml" xref="S3.SS2.SSS1.p1.17.m17.1.1">subscript</csymbol><apply id="S3.SS2.SSS1.p1.17.m17.1.1.2.cmml" xref="S3.SS2.SSS1.p1.17.m17.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.17.m17.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.17.m17.1.1">superscript</csymbol><ci id="S3.SS2.SSS1.p1.17.m17.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.17.m17.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.17.m17.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.17.m17.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.SSS1.p1.17.m17.1.1.3.cmml" xref="S3.SS2.SSS1.p1.17.m17.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.17.m17.1c">s^{t}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.17.m17.1d">italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> given the prefix <math alttext="s^{p}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.18.m18.1"><semantics id="S3.SS2.SSS1.p1.18.m18.1a"><msubsup id="S3.SS2.SSS1.p1.18.m18.1.1" xref="S3.SS2.SSS1.p1.18.m18.1.1.cmml"><mi id="S3.SS2.SSS1.p1.18.m18.1.1.2.2" xref="S3.SS2.SSS1.p1.18.m18.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.18.m18.1.1.3" xref="S3.SS2.SSS1.p1.18.m18.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS1.p1.18.m18.1.1.2.3" xref="S3.SS2.SSS1.p1.18.m18.1.1.2.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.18.m18.1b"><apply id="S3.SS2.SSS1.p1.18.m18.1.1.cmml" xref="S3.SS2.SSS1.p1.18.m18.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.18.m18.1.1.1.cmml" xref="S3.SS2.SSS1.p1.18.m18.1.1">subscript</csymbol><apply id="S3.SS2.SSS1.p1.18.m18.1.1.2.cmml" xref="S3.SS2.SSS1.p1.18.m18.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.18.m18.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.18.m18.1.1">superscript</csymbol><ci id="S3.SS2.SSS1.p1.18.m18.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.18.m18.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.18.m18.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.18.m18.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS1.p1.18.m18.1.1.3.cmml" xref="S3.SS2.SSS1.p1.18.m18.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.18.m18.1c">s^{p}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.18.m18.1d">italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> and the retrieved texts <math alttext="\mathcal{R}(s^{p}_{l})" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.19.m19.1"><semantics id="S3.SS2.SSS1.p1.19.m19.1a"><mrow id="S3.SS2.SSS1.p1.19.m19.1.1" xref="S3.SS2.SSS1.p1.19.m19.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS1.p1.19.m19.1.1.3" xref="S3.SS2.SSS1.p1.19.m19.1.1.3.cmml">ℛ</mi><mo id="S3.SS2.SSS1.p1.19.m19.1.1.2" xref="S3.SS2.SSS1.p1.19.m19.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.SSS1.p1.19.m19.1.1.1.1" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.cmml"><mo id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.2" stretchy="false" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.2.2" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.3" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.2.3" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.2.3.cmml">p</mi></msubsup><mo id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.3" stretchy="false" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.19.m19.1b"><apply id="S3.SS2.SSS1.p1.19.m19.1.1.cmml" xref="S3.SS2.SSS1.p1.19.m19.1.1"><times id="S3.SS2.SSS1.p1.19.m19.1.1.2.cmml" xref="S3.SS2.SSS1.p1.19.m19.1.1.2"></times><ci id="S3.SS2.SSS1.p1.19.m19.1.1.3.cmml" xref="S3.SS2.SSS1.p1.19.m19.1.1.3">ℛ</ci><apply id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1">subscript</csymbol><apply id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1">superscript</csymbol><ci id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p1.19.m19.1.1.1.1.1.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.19.m19.1c">\mathcal{R}(s^{p}_{l})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.19.m19.1d">caligraphic_R ( italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT )</annotation></semantics></math>. This can be formulated as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="p(s^{t}_{l})=p_{\theta}([\mathcal{R}(s^{p}_{l});s^{p}_{l}])," class="ltx_Math" display="block" id="S3.E1.m1.1"><semantics id="S3.E1.m1.1a"><mrow id="S3.E1.m1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><mrow id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><mrow id="S3.E1.m1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.3.cmml">p</mi><mo id="S3.E1.m1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E1.m1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3.cmml">l</mi><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.cmml">t</mi></msubsup><mo id="S3.E1.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.3.cmml">=</mo><mrow id="S3.E1.m1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.2.cmml"><msub id="S3.E1.m1.1.1.1.1.2.3" xref="S3.E1.m1.1.1.1.1.2.3.cmml"><mi id="S3.E1.m1.1.1.1.1.2.3.2" xref="S3.E1.m1.1.1.1.1.2.3.2.cmml">p</mi><mi id="S3.E1.m1.1.1.1.1.2.3.3" xref="S3.E1.m1.1.1.1.1.2.3.3.cmml">θ</mi></msub><mo id="S3.E1.m1.1.1.1.1.2.2" xref="S3.E1.m1.1.1.1.1.2.2.cmml">⁢</mo><mrow id="S3.E1.m1.1.1.1.1.2.1.1" xref="S3.E1.m1.1.1.1.1.2.cmml"><mo id="S3.E1.m1.1.1.1.1.2.1.1.2" stretchy="false" xref="S3.E1.m1.1.1.1.1.2.cmml">(</mo><mrow id="S3.E1.m1.1.1.1.1.2.1.1.1.2" xref="S3.E1.m1.1.1.1.1.2.1.1.1.3.cmml"><mo id="S3.E1.m1.1.1.1.1.2.1.1.1.2.3" stretchy="false" xref="S3.E1.m1.1.1.1.1.2.1.1.1.3.cmml">[</mo><mrow id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.3.cmml">ℛ</mi><mo id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2.2" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.3.cmml">l</mi><mi id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2.3" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2.3.cmml">p</mi></msubsup><mo id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.1.1.1.1.2.1.1.1.2.4" xref="S3.E1.m1.1.1.1.1.2.1.1.1.3.cmml">;</mo><msubsup id="S3.E1.m1.1.1.1.1.2.1.1.1.2.2" xref="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.cmml"><mi id="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.2.2" xref="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.2.2.cmml">s</mi><mi id="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.3" xref="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.3.cmml">l</mi><mi id="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.2.3" xref="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.2.3.cmml">p</mi></msubsup><mo id="S3.E1.m1.1.1.1.1.2.1.1.1.2.5" stretchy="false" xref="S3.E1.m1.1.1.1.1.2.1.1.1.3.cmml">]</mo></mrow><mo id="S3.E1.m1.1.1.1.1.2.1.1.3" stretchy="false" xref="S3.E1.m1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.1b"><apply id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1"><eq id="S3.E1.m1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.3"></eq><apply id="S3.E1.m1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1"><times id="S3.E1.m1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.2"></times><ci id="S3.E1.m1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.3">𝑝</ci><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.3">𝑙</ci></apply></apply><apply id="S3.E1.m1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.2"><times id="S3.E1.m1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2.2"></times><apply id="S3.E1.m1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.3.1.cmml" xref="S3.E1.m1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.2.3.2.cmml" xref="S3.E1.m1.1.1.1.1.2.3.2">𝑝</ci><ci id="S3.E1.m1.1.1.1.1.2.3.3.cmml" xref="S3.E1.m1.1.1.1.1.2.3.3">𝜃</ci></apply><list id="S3.E1.m1.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.2"><apply id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1"><times id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.2"></times><ci id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.3">ℛ</ci><apply id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2.3">𝑝</ci></apply><ci id="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.3">𝑙</ci></apply></apply><apply id="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.1.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.2.2">subscript</csymbol><apply id="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.2.1.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.2.2">superscript</csymbol><ci id="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.2.2">𝑠</ci><ci id="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.2.3.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.2.3">𝑝</ci></apply><ci id="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.3.cmml" xref="S3.E1.m1.1.1.1.1.2.1.1.1.2.2.3">𝑙</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.1c">p(s^{t}_{l})=p_{\theta}([\mathcal{R}(s^{p}_{l});s^{p}_{l}]),</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.1d">italic_p ( italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) = italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( [ caligraphic_R ( italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) ; italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ] ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.SSS1.p1.23"><math alttext="\theta" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.20.m1.1"><semantics id="S3.SS2.SSS1.p1.20.m1.1a"><mi id="S3.SS2.SSS1.p1.20.m1.1.1" xref="S3.SS2.SSS1.p1.20.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.20.m1.1b"><ci id="S3.SS2.SSS1.p1.20.m1.1.1.cmml" xref="S3.SS2.SSS1.p1.20.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.20.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.20.m1.1d">italic_θ</annotation></semantics></math> are parameters of LLMs, <math alttext="[\mathcal{R}(s^{p}_{l});s^{p}_{l}]" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.21.m2.2"><semantics id="S3.SS2.SSS1.p1.21.m2.2a"><mrow id="S3.SS2.SSS1.p1.21.m2.2.2.2" xref="S3.SS2.SSS1.p1.21.m2.2.2.3.cmml"><mo id="S3.SS2.SSS1.p1.21.m2.2.2.2.3" stretchy="false" xref="S3.SS2.SSS1.p1.21.m2.2.2.3.cmml">[</mo><mrow id="S3.SS2.SSS1.p1.21.m2.1.1.1.1" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.3" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.3.cmml">ℛ</mi><mo id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.2" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.cmml"><mo id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.2" stretchy="false" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.2.2" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.3" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.2.3" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.2.3.cmml">p</mi></msubsup><mo id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.3" stretchy="false" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS2.SSS1.p1.21.m2.2.2.2.4" xref="S3.SS2.SSS1.p1.21.m2.2.2.3.cmml">;</mo><msubsup id="S3.SS2.SSS1.p1.21.m2.2.2.2.2" xref="S3.SS2.SSS1.p1.21.m2.2.2.2.2.cmml"><mi id="S3.SS2.SSS1.p1.21.m2.2.2.2.2.2.2" xref="S3.SS2.SSS1.p1.21.m2.2.2.2.2.2.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.21.m2.2.2.2.2.3" xref="S3.SS2.SSS1.p1.21.m2.2.2.2.2.3.cmml">l</mi><mi id="S3.SS2.SSS1.p1.21.m2.2.2.2.2.2.3" xref="S3.SS2.SSS1.p1.21.m2.2.2.2.2.2.3.cmml">p</mi></msubsup><mo id="S3.SS2.SSS1.p1.21.m2.2.2.2.5" stretchy="false" xref="S3.SS2.SSS1.p1.21.m2.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.21.m2.2b"><list id="S3.SS2.SSS1.p1.21.m2.2.2.3.cmml" xref="S3.SS2.SSS1.p1.21.m2.2.2.2"><apply id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.cmml" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1"><times id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.2"></times><ci id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.3">ℛ</ci><apply id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1">subscript</csymbol><apply id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1">superscript</csymbol><ci id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p1.21.m2.1.1.1.1.1.1.1.3">𝑙</ci></apply></apply><apply id="S3.SS2.SSS1.p1.21.m2.2.2.2.2.cmml" xref="S3.SS2.SSS1.p1.21.m2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.21.m2.2.2.2.2.1.cmml" xref="S3.SS2.SSS1.p1.21.m2.2.2.2.2">subscript</csymbol><apply id="S3.SS2.SSS1.p1.21.m2.2.2.2.2.2.cmml" xref="S3.SS2.SSS1.p1.21.m2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.21.m2.2.2.2.2.2.1.cmml" xref="S3.SS2.SSS1.p1.21.m2.2.2.2.2">superscript</csymbol><ci id="S3.SS2.SSS1.p1.21.m2.2.2.2.2.2.2.cmml" xref="S3.SS2.SSS1.p1.21.m2.2.2.2.2.2.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.21.m2.2.2.2.2.2.3.cmml" xref="S3.SS2.SSS1.p1.21.m2.2.2.2.2.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS1.p1.21.m2.2.2.2.2.3.cmml" xref="S3.SS2.SSS1.p1.21.m2.2.2.2.2.3">𝑙</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.21.m2.2c">[\mathcal{R}(s^{p}_{l});s^{p}_{l}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.21.m2.2d">[ caligraphic_R ( italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) ; italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ]</annotation></semantics></math> is the concatenation of <math alttext="\mathcal{R}(s^{p}_{l})" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.22.m3.1"><semantics id="S3.SS2.SSS1.p1.22.m3.1a"><mrow id="S3.SS2.SSS1.p1.22.m3.1.1" xref="S3.SS2.SSS1.p1.22.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS1.p1.22.m3.1.1.3" xref="S3.SS2.SSS1.p1.22.m3.1.1.3.cmml">ℛ</mi><mo id="S3.SS2.SSS1.p1.22.m3.1.1.2" xref="S3.SS2.SSS1.p1.22.m3.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.SSS1.p1.22.m3.1.1.1.1" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.cmml"><mo id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.2" stretchy="false" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.2.2" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.3" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.2.3" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.2.3.cmml">p</mi></msubsup><mo id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.3" stretchy="false" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.22.m3.1b"><apply id="S3.SS2.SSS1.p1.22.m3.1.1.cmml" xref="S3.SS2.SSS1.p1.22.m3.1.1"><times id="S3.SS2.SSS1.p1.22.m3.1.1.2.cmml" xref="S3.SS2.SSS1.p1.22.m3.1.1.2"></times><ci id="S3.SS2.SSS1.p1.22.m3.1.1.3.cmml" xref="S3.SS2.SSS1.p1.22.m3.1.1.3">ℛ</ci><apply id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1">subscript</csymbol><apply id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1">superscript</csymbol><ci id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p1.22.m3.1.1.1.1.1.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.22.m3.1c">\mathcal{R}(s^{p}_{l})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.22.m3.1d">caligraphic_R ( italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT )</annotation></semantics></math> and <math alttext="s^{p}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS1.p1.23.m4.1"><semantics id="S3.SS2.SSS1.p1.23.m4.1a"><msubsup id="S3.SS2.SSS1.p1.23.m4.1.1" xref="S3.SS2.SSS1.p1.23.m4.1.1.cmml"><mi id="S3.SS2.SSS1.p1.23.m4.1.1.2.2" xref="S3.SS2.SSS1.p1.23.m4.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS1.p1.23.m4.1.1.3" xref="S3.SS2.SSS1.p1.23.m4.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS1.p1.23.m4.1.1.2.3" xref="S3.SS2.SSS1.p1.23.m4.1.1.2.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p1.23.m4.1b"><apply id="S3.SS2.SSS1.p1.23.m4.1.1.cmml" xref="S3.SS2.SSS1.p1.23.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.23.m4.1.1.1.cmml" xref="S3.SS2.SSS1.p1.23.m4.1.1">subscript</csymbol><apply id="S3.SS2.SSS1.p1.23.m4.1.1.2.cmml" xref="S3.SS2.SSS1.p1.23.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p1.23.m4.1.1.2.1.cmml" xref="S3.SS2.SSS1.p1.23.m4.1.1">superscript</csymbol><ci id="S3.SS2.SSS1.p1.23.m4.1.1.2.2.cmml" xref="S3.SS2.SSS1.p1.23.m4.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS1.p1.23.m4.1.1.2.3.cmml" xref="S3.SS2.SSS1.p1.23.m4.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS1.p1.23.m4.1.1.3.cmml" xref="S3.SS2.SSS1.p1.23.m4.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p1.23.m4.1c">s^{p}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS1.p1.23.m4.1d">italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> by a special token.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.2 </span>Data Construction and Training Tasks</h4>
<div class="ltx_para" id="S3.SS2.SSS2.p1">
<p class="ltx_p" id="S3.SS2.SSS2.p1.1">This section details our data construction and training tasks for three scenarios in Section <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S3.SS1" title="3.1 Positive Information Gain in RAG ‣ 3 Our InFO-RAG ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3.1</span></a>.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS2.p2">
<p class="ltx_p" id="S3.SS2.SSS2.p2.4">For <span class="ltx_text ltx_font_bold" id="S3.SS2.SSS2.p2.4.1">Scenario 1</span> that needs LLMs to extract the correct knowledge from the complex texts, we propose the training task named <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p2.4.2">Select and Copy</span>. Specifically, given the sentence set <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.1.m1.1"><semantics id="S3.SS2.SSS2.p2.1.m1.1a"><mi id="S3.SS2.SSS2.p2.1.m1.1.1" xref="S3.SS2.SSS2.p2.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.1.m1.1b"><ci id="S3.SS2.SSS2.p2.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p2.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.1.m1.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.1.m1.1d">italic_S</annotation></semantics></math> for a sample, <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p2.4.3">Select and Copy</span> directly uses all sentences in <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.2.m2.1"><semantics id="S3.SS2.SSS2.p2.2.m2.1a"><mi id="S3.SS2.SSS2.p2.2.m2.1.1" xref="S3.SS2.SSS2.p2.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.2.m2.1b"><ci id="S3.SS2.SSS2.p2.2.m2.1.1.cmml" xref="S3.SS2.SSS2.p2.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.2.m2.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.2.m2.1d">italic_S</annotation></semantics></math> as retrieved texts for conditioning LLMs to predict <math alttext="s^{t}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.3.m3.1"><semantics id="S3.SS2.SSS2.p2.3.m3.1a"><msubsup id="S3.SS2.SSS2.p2.3.m3.1.1" xref="S3.SS2.SSS2.p2.3.m3.1.1.cmml"><mi id="S3.SS2.SSS2.p2.3.m3.1.1.2.2" xref="S3.SS2.SSS2.p2.3.m3.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p2.3.m3.1.1.3" xref="S3.SS2.SSS2.p2.3.m3.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p2.3.m3.1.1.2.3" xref="S3.SS2.SSS2.p2.3.m3.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.3.m3.1b"><apply id="S3.SS2.SSS2.p2.3.m3.1.1.cmml" xref="S3.SS2.SSS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.SSS2.p2.3.m3.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.SSS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.3.m3.1.1.2.1.cmml" xref="S3.SS2.SSS2.p2.3.m3.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p2.3.m3.1.1.2.2.cmml" xref="S3.SS2.SSS2.p2.3.m3.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p2.3.m3.1.1.2.3.cmml" xref="S3.SS2.SSS2.p2.3.m3.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.SSS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.SSS2.p2.3.m3.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.3.m3.1c">s^{t}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.3.m3.1d">italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> for the given prefix <math alttext="s^{p}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.4.m4.1"><semantics id="S3.SS2.SSS2.p2.4.m4.1a"><msubsup id="S3.SS2.SSS2.p2.4.m4.1.1" xref="S3.SS2.SSS2.p2.4.m4.1.1.cmml"><mi id="S3.SS2.SSS2.p2.4.m4.1.1.2.2" xref="S3.SS2.SSS2.p2.4.m4.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p2.4.m4.1.1.3" xref="S3.SS2.SSS2.p2.4.m4.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p2.4.m4.1.1.2.3" xref="S3.SS2.SSS2.p2.4.m4.1.1.2.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.4.m4.1b"><apply id="S3.SS2.SSS2.p2.4.m4.1.1.cmml" xref="S3.SS2.SSS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.4.m4.1.1.1.cmml" xref="S3.SS2.SSS2.p2.4.m4.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p2.4.m4.1.1.2.cmml" xref="S3.SS2.SSS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.4.m4.1.1.2.1.cmml" xref="S3.SS2.SSS2.p2.4.m4.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p2.4.m4.1.1.2.2.cmml" xref="S3.SS2.SSS2.p2.4.m4.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p2.4.m4.1.1.2.3.cmml" xref="S3.SS2.SSS2.p2.4.m4.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS2.p2.4.m4.1.1.3.cmml" xref="S3.SS2.SSS2.p2.4.m4.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.4.m4.1c">s^{p}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.4.m4.1d">italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>. This can be formulated as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="p(s^{t}_{l})=p_{\theta}([S;s^{p}_{l}])." class="ltx_Math" display="block" id="S3.E2.m1.2"><semantics id="S3.E2.m1.2a"><mrow id="S3.E2.m1.2.2.1" xref="S3.E2.m1.2.2.1.1.cmml"><mrow id="S3.E2.m1.2.2.1.1" xref="S3.E2.m1.2.2.1.1.cmml"><mrow id="S3.E2.m1.2.2.1.1.1" xref="S3.E2.m1.2.2.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.3.cmml">p</mi><mo id="S3.E2.m1.2.2.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.2.2.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.2.2.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E2.m1.2.2.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.3.cmml">l</mi><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.2.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.cmml">t</mi></msubsup><mo id="S3.E2.m1.2.2.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.2.2.1.1.3" xref="S3.E2.m1.2.2.1.1.3.cmml">=</mo><mrow id="S3.E2.m1.2.2.1.1.2" xref="S3.E2.m1.2.2.1.1.2.cmml"><msub id="S3.E2.m1.2.2.1.1.2.3" xref="S3.E2.m1.2.2.1.1.2.3.cmml"><mi id="S3.E2.m1.2.2.1.1.2.3.2" xref="S3.E2.m1.2.2.1.1.2.3.2.cmml">p</mi><mi id="S3.E2.m1.2.2.1.1.2.3.3" xref="S3.E2.m1.2.2.1.1.2.3.3.cmml">θ</mi></msub><mo id="S3.E2.m1.2.2.1.1.2.2" xref="S3.E2.m1.2.2.1.1.2.2.cmml">⁢</mo><mrow id="S3.E2.m1.2.2.1.1.2.1.1" xref="S3.E2.m1.2.2.1.1.2.cmml"><mo id="S3.E2.m1.2.2.1.1.2.1.1.2" stretchy="false" xref="S3.E2.m1.2.2.1.1.2.cmml">(</mo><mrow id="S3.E2.m1.2.2.1.1.2.1.1.1.1" xref="S3.E2.m1.2.2.1.1.2.1.1.1.2.cmml"><mo id="S3.E2.m1.2.2.1.1.2.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.2.2.1.1.2.1.1.1.2.cmml">[</mo><mi id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml">S</mi><mo id="S3.E2.m1.2.2.1.1.2.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.1.1.1.2.cmml">;</mo><msubsup id="S3.E2.m1.2.2.1.1.2.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.2.2" xref="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.3.cmml">l</mi><mi id="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.2.3" xref="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.2.3.cmml">p</mi></msubsup><mo id="S3.E2.m1.2.2.1.1.2.1.1.1.1.4" stretchy="false" xref="S3.E2.m1.2.2.1.1.2.1.1.1.2.cmml">]</mo></mrow><mo id="S3.E2.m1.2.2.1.1.2.1.1.3" stretchy="false" xref="S3.E2.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2.m1.2.2.1.2" lspace="0em" xref="S3.E2.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.2b"><apply id="S3.E2.m1.2.2.1.1.cmml" xref="S3.E2.m1.2.2.1"><eq id="S3.E2.m1.2.2.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.3"></eq><apply id="S3.E2.m1.2.2.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1"><times id="S3.E2.m1.2.2.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.2"></times><ci id="S3.E2.m1.2.2.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.3">𝑝</ci><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1">subscript</csymbol><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1">superscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.3">𝑙</ci></apply></apply><apply id="S3.E2.m1.2.2.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2"><times id="S3.E2.m1.2.2.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2"></times><apply id="S3.E2.m1.2.2.1.1.2.3.cmml" xref="S3.E2.m1.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.3.1.cmml" xref="S3.E2.m1.2.2.1.1.2.3">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.2.3.2.cmml" xref="S3.E2.m1.2.2.1.1.2.3.2">𝑝</ci><ci id="S3.E2.m1.2.2.1.1.2.3.3.cmml" xref="S3.E2.m1.2.2.1.1.2.3.3">𝜃</ci></apply><list id="S3.E2.m1.2.2.1.1.2.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.1.1.1.1"><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">𝑆</ci><apply id="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.1.1.1.1.1">subscript</csymbol><apply id="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.2.2.1.1.2.1.1.1.1.1">superscript</csymbol><ci id="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.2.3">𝑝</ci></apply><ci id="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2.1.1.1.1.1.3">𝑙</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.2c">p(s^{t}_{l})=p_{\theta}([S;s^{p}_{l}]).</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.2d">italic_p ( italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) = italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( [ italic_S ; italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ] ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.SSS2.p2.15">In <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p2.15.1">Select and Copy</span>, <math alttext="s_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.5.m1.1"><semantics id="S3.SS2.SSS2.p2.5.m1.1a"><msub id="S3.SS2.SSS2.p2.5.m1.1.1" xref="S3.SS2.SSS2.p2.5.m1.1.1.cmml"><mi id="S3.SS2.SSS2.p2.5.m1.1.1.2" xref="S3.SS2.SSS2.p2.5.m1.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS2.p2.5.m1.1.1.3" xref="S3.SS2.SSS2.p2.5.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.5.m1.1b"><apply id="S3.SS2.SSS2.p2.5.m1.1.1.cmml" xref="S3.SS2.SSS2.p2.5.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.5.m1.1.1.1.cmml" xref="S3.SS2.SSS2.p2.5.m1.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p2.5.m1.1.1.2.cmml" xref="S3.SS2.SSS2.p2.5.m1.1.1.2">𝑠</ci><ci id="S3.SS2.SSS2.p2.5.m1.1.1.3.cmml" xref="S3.SS2.SSS2.p2.5.m1.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.5.m1.1c">s_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.5.m1.1d">italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> (both <math alttext="s^{p}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.6.m2.1"><semantics id="S3.SS2.SSS2.p2.6.m2.1a"><msubsup id="S3.SS2.SSS2.p2.6.m2.1.1" xref="S3.SS2.SSS2.p2.6.m2.1.1.cmml"><mi id="S3.SS2.SSS2.p2.6.m2.1.1.2.2" xref="S3.SS2.SSS2.p2.6.m2.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p2.6.m2.1.1.3" xref="S3.SS2.SSS2.p2.6.m2.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p2.6.m2.1.1.2.3" xref="S3.SS2.SSS2.p2.6.m2.1.1.2.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.6.m2.1b"><apply id="S3.SS2.SSS2.p2.6.m2.1.1.cmml" xref="S3.SS2.SSS2.p2.6.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.6.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p2.6.m2.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p2.6.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p2.6.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.6.m2.1.1.2.1.cmml" xref="S3.SS2.SSS2.p2.6.m2.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p2.6.m2.1.1.2.2.cmml" xref="S3.SS2.SSS2.p2.6.m2.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p2.6.m2.1.1.2.3.cmml" xref="S3.SS2.SSS2.p2.6.m2.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS2.p2.6.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p2.6.m2.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.6.m2.1c">s^{p}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.6.m2.1d">italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="s^{t}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.7.m3.1"><semantics id="S3.SS2.SSS2.p2.7.m3.1a"><msubsup id="S3.SS2.SSS2.p2.7.m3.1.1" xref="S3.SS2.SSS2.p2.7.m3.1.1.cmml"><mi id="S3.SS2.SSS2.p2.7.m3.1.1.2.2" xref="S3.SS2.SSS2.p2.7.m3.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p2.7.m3.1.1.3" xref="S3.SS2.SSS2.p2.7.m3.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p2.7.m3.1.1.2.3" xref="S3.SS2.SSS2.p2.7.m3.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.7.m3.1b"><apply id="S3.SS2.SSS2.p2.7.m3.1.1.cmml" xref="S3.SS2.SSS2.p2.7.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.7.m3.1.1.1.cmml" xref="S3.SS2.SSS2.p2.7.m3.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p2.7.m3.1.1.2.cmml" xref="S3.SS2.SSS2.p2.7.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.7.m3.1.1.2.1.cmml" xref="S3.SS2.SSS2.p2.7.m3.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p2.7.m3.1.1.2.2.cmml" xref="S3.SS2.SSS2.p2.7.m3.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p2.7.m3.1.1.2.3.cmml" xref="S3.SS2.SSS2.p2.7.m3.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.SSS2.p2.7.m3.1.1.3.cmml" xref="S3.SS2.SSS2.p2.7.m3.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.7.m3.1c">s^{t}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.7.m3.1d">italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>) has been contained in the retrieved texts <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.8.m4.1"><semantics id="S3.SS2.SSS2.p2.8.m4.1a"><mi id="S3.SS2.SSS2.p2.8.m4.1.1" xref="S3.SS2.SSS2.p2.8.m4.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.8.m4.1b"><ci id="S3.SS2.SSS2.p2.8.m4.1.1.cmml" xref="S3.SS2.SSS2.p2.8.m4.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.8.m4.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.8.m4.1d">italic_S</annotation></semantics></math>, this needs LLMs to select the texts matching the prefix <math alttext="s^{p}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.9.m5.1"><semantics id="S3.SS2.SSS2.p2.9.m5.1a"><msubsup id="S3.SS2.SSS2.p2.9.m5.1.1" xref="S3.SS2.SSS2.p2.9.m5.1.1.cmml"><mi id="S3.SS2.SSS2.p2.9.m5.1.1.2.2" xref="S3.SS2.SSS2.p2.9.m5.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p2.9.m5.1.1.3" xref="S3.SS2.SSS2.p2.9.m5.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p2.9.m5.1.1.2.3" xref="S3.SS2.SSS2.p2.9.m5.1.1.2.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.9.m5.1b"><apply id="S3.SS2.SSS2.p2.9.m5.1.1.cmml" xref="S3.SS2.SSS2.p2.9.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.9.m5.1.1.1.cmml" xref="S3.SS2.SSS2.p2.9.m5.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p2.9.m5.1.1.2.cmml" xref="S3.SS2.SSS2.p2.9.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.9.m5.1.1.2.1.cmml" xref="S3.SS2.SSS2.p2.9.m5.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p2.9.m5.1.1.2.2.cmml" xref="S3.SS2.SSS2.p2.9.m5.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p2.9.m5.1.1.2.3.cmml" xref="S3.SS2.SSS2.p2.9.m5.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS2.p2.9.m5.1.1.3.cmml" xref="S3.SS2.SSS2.p2.9.m5.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.9.m5.1c">s^{p}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.9.m5.1d">italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> from the complex retrieved texts <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.10.m6.1"><semantics id="S3.SS2.SSS2.p2.10.m6.1a"><mi id="S3.SS2.SSS2.p2.10.m6.1.1" xref="S3.SS2.SSS2.p2.10.m6.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.10.m6.1b"><ci id="S3.SS2.SSS2.p2.10.m6.1.1.cmml" xref="S3.SS2.SSS2.p2.10.m6.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.10.m6.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.10.m6.1d">italic_S</annotation></semantics></math> and directly copy the target <math alttext="s^{t}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.11.m7.1"><semantics id="S3.SS2.SSS2.p2.11.m7.1a"><msubsup id="S3.SS2.SSS2.p2.11.m7.1.1" xref="S3.SS2.SSS2.p2.11.m7.1.1.cmml"><mi id="S3.SS2.SSS2.p2.11.m7.1.1.2.2" xref="S3.SS2.SSS2.p2.11.m7.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p2.11.m7.1.1.3" xref="S3.SS2.SSS2.p2.11.m7.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p2.11.m7.1.1.2.3" xref="S3.SS2.SSS2.p2.11.m7.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.11.m7.1b"><apply id="S3.SS2.SSS2.p2.11.m7.1.1.cmml" xref="S3.SS2.SSS2.p2.11.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.11.m7.1.1.1.cmml" xref="S3.SS2.SSS2.p2.11.m7.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p2.11.m7.1.1.2.cmml" xref="S3.SS2.SSS2.p2.11.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.11.m7.1.1.2.1.cmml" xref="S3.SS2.SSS2.p2.11.m7.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p2.11.m7.1.1.2.2.cmml" xref="S3.SS2.SSS2.p2.11.m7.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p2.11.m7.1.1.2.3.cmml" xref="S3.SS2.SSS2.p2.11.m7.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.SSS2.p2.11.m7.1.1.3.cmml" xref="S3.SS2.SSS2.p2.11.m7.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.11.m7.1c">s^{t}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.11.m7.1d">italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> for generation. The information gain between <math alttext="s^{t}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.12.m8.1"><semantics id="S3.SS2.SSS2.p2.12.m8.1a"><msubsup id="S3.SS2.SSS2.p2.12.m8.1.1" xref="S3.SS2.SSS2.p2.12.m8.1.1.cmml"><mi id="S3.SS2.SSS2.p2.12.m8.1.1.2.2" xref="S3.SS2.SSS2.p2.12.m8.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p2.12.m8.1.1.3" xref="S3.SS2.SSS2.p2.12.m8.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p2.12.m8.1.1.2.3" xref="S3.SS2.SSS2.p2.12.m8.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.12.m8.1b"><apply id="S3.SS2.SSS2.p2.12.m8.1.1.cmml" xref="S3.SS2.SSS2.p2.12.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.12.m8.1.1.1.cmml" xref="S3.SS2.SSS2.p2.12.m8.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p2.12.m8.1.1.2.cmml" xref="S3.SS2.SSS2.p2.12.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.12.m8.1.1.2.1.cmml" xref="S3.SS2.SSS2.p2.12.m8.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p2.12.m8.1.1.2.2.cmml" xref="S3.SS2.SSS2.p2.12.m8.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p2.12.m8.1.1.2.3.cmml" xref="S3.SS2.SSS2.p2.12.m8.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.SSS2.p2.12.m8.1.1.3.cmml" xref="S3.SS2.SSS2.p2.12.m8.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.12.m8.1c">s^{t}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.12.m8.1d">italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> and input retrieved texts <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.13.m9.1"><semantics id="S3.SS2.SSS2.p2.13.m9.1a"><mi id="S3.SS2.SSS2.p2.13.m9.1.1" xref="S3.SS2.SSS2.p2.13.m9.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.13.m9.1b"><ci id="S3.SS2.SSS2.p2.13.m9.1.1.cmml" xref="S3.SS2.SSS2.p2.13.m9.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.13.m9.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.13.m9.1d">italic_S</annotation></semantics></math> is that <math alttext="s^{t}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.14.m10.1"><semantics id="S3.SS2.SSS2.p2.14.m10.1a"><msubsup id="S3.SS2.SSS2.p2.14.m10.1.1" xref="S3.SS2.SSS2.p2.14.m10.1.1.cmml"><mi id="S3.SS2.SSS2.p2.14.m10.1.1.2.2" xref="S3.SS2.SSS2.p2.14.m10.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p2.14.m10.1.1.3" xref="S3.SS2.SSS2.p2.14.m10.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p2.14.m10.1.1.2.3" xref="S3.SS2.SSS2.p2.14.m10.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.14.m10.1b"><apply id="S3.SS2.SSS2.p2.14.m10.1.1.cmml" xref="S3.SS2.SSS2.p2.14.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.14.m10.1.1.1.cmml" xref="S3.SS2.SSS2.p2.14.m10.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p2.14.m10.1.1.2.cmml" xref="S3.SS2.SSS2.p2.14.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.14.m10.1.1.2.1.cmml" xref="S3.SS2.SSS2.p2.14.m10.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p2.14.m10.1.1.2.2.cmml" xref="S3.SS2.SSS2.p2.14.m10.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p2.14.m10.1.1.2.3.cmml" xref="S3.SS2.SSS2.p2.14.m10.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.SSS2.p2.14.m10.1.1.3.cmml" xref="S3.SS2.SSS2.p2.14.m10.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.14.m10.1c">s^{t}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.14.m10.1d">italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> is more concise to be used as the postfix for <math alttext="s^{p}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p2.15.m11.1"><semantics id="S3.SS2.SSS2.p2.15.m11.1a"><msubsup id="S3.SS2.SSS2.p2.15.m11.1.1" xref="S3.SS2.SSS2.p2.15.m11.1.1.cmml"><mi id="S3.SS2.SSS2.p2.15.m11.1.1.2.2" xref="S3.SS2.SSS2.p2.15.m11.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p2.15.m11.1.1.3" xref="S3.SS2.SSS2.p2.15.m11.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p2.15.m11.1.1.2.3" xref="S3.SS2.SSS2.p2.15.m11.1.1.2.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.15.m11.1b"><apply id="S3.SS2.SSS2.p2.15.m11.1.1.cmml" xref="S3.SS2.SSS2.p2.15.m11.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.15.m11.1.1.1.cmml" xref="S3.SS2.SSS2.p2.15.m11.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p2.15.m11.1.1.2.cmml" xref="S3.SS2.SSS2.p2.15.m11.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p2.15.m11.1.1.2.1.cmml" xref="S3.SS2.SSS2.p2.15.m11.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p2.15.m11.1.1.2.2.cmml" xref="S3.SS2.SSS2.p2.15.m11.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p2.15.m11.1.1.2.3.cmml" xref="S3.SS2.SSS2.p2.15.m11.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS2.p2.15.m11.1.1.3.cmml" xref="S3.SS2.SSS2.p2.15.m11.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.15.m11.1c">s^{p}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p2.15.m11.1d">italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS2.p3">
<p class="ltx_p" id="S3.SS2.SSS2.p3.7">For <span class="ltx_text ltx_font_bold" id="S3.SS2.SSS2.p3.7.1">Scenario 2</span> that needs LLMs to verify the knowledge in the retrieved texts, utilize accurate knowledge, rectify incorrect knowledge, and complete missing knowledge. We propose the training task named <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p3.7.2">Correct and Complete</span>. Given a sentence set <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.1.m1.1"><semantics id="S3.SS2.SSS2.p3.1.m1.1a"><mi id="S3.SS2.SSS2.p3.1.m1.1.1" xref="S3.SS2.SSS2.p3.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.1.m1.1b"><ci id="S3.SS2.SSS2.p3.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p3.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.1.m1.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.1.m1.1d">italic_S</annotation></semantics></math>, firstly, this task uses the stability of word distribution between layers to get informative tokens. The intention for this is that the more unstable the word distribution of the token among the topmost layers is, the more it indicates that the token is an informative token. We follow <cite class="ltx_cite ltx_citemacro_cite">Chuang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib8" title="">2023</a>)</cite> to achieve this. Specifically, for each sentence <math alttext="s_{i}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.2.m2.1"><semantics id="S3.SS2.SSS2.p3.2.m2.1a"><msub id="S3.SS2.SSS2.p3.2.m2.1.1" xref="S3.SS2.SSS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.SSS2.p3.2.m2.1.1.2" xref="S3.SS2.SSS2.p3.2.m2.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.2.m2.1.1.3" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.2.m2.1b"><apply id="S3.SS2.SSS2.p3.2.m2.1.1.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.2">𝑠</ci><ci id="S3.SS2.SSS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.2.m2.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.2.m2.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.3.m3.1"><semantics id="S3.SS2.SSS2.p3.3.m3.1a"><mi id="S3.SS2.SSS2.p3.3.m3.1.1" xref="S3.SS2.SSS2.p3.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.3.m3.1b"><ci id="S3.SS2.SSS2.p3.3.m3.1.1.cmml" xref="S3.SS2.SSS2.p3.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.3.m3.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.3.m3.1d">italic_S</annotation></semantics></math>, our method obtains the next word distribution of the <math alttext="a\mbox{-}th" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.4.m4.1"><semantics id="S3.SS2.SSS2.p3.4.m4.1a"><mrow id="S3.SS2.SSS2.p3.4.m4.1.1" xref="S3.SS2.SSS2.p3.4.m4.1.1.cmml"><mi id="S3.SS2.SSS2.p3.4.m4.1.1.2" xref="S3.SS2.SSS2.p3.4.m4.1.1.2.cmml">a</mi><mo id="S3.SS2.SSS2.p3.4.m4.1.1.1" xref="S3.SS2.SSS2.p3.4.m4.1.1.1.cmml">⁢</mo><mtext id="S3.SS2.SSS2.p3.4.m4.1.1.3" xref="S3.SS2.SSS2.p3.4.m4.1.1.3a.cmml">-</mtext><mo id="S3.SS2.SSS2.p3.4.m4.1.1.1a" xref="S3.SS2.SSS2.p3.4.m4.1.1.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.4.m4.1.1.4" xref="S3.SS2.SSS2.p3.4.m4.1.1.4.cmml">t</mi><mo id="S3.SS2.SSS2.p3.4.m4.1.1.1b" xref="S3.SS2.SSS2.p3.4.m4.1.1.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.4.m4.1.1.5" xref="S3.SS2.SSS2.p3.4.m4.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.4.m4.1b"><apply id="S3.SS2.SSS2.p3.4.m4.1.1.cmml" xref="S3.SS2.SSS2.p3.4.m4.1.1"><times id="S3.SS2.SSS2.p3.4.m4.1.1.1.cmml" xref="S3.SS2.SSS2.p3.4.m4.1.1.1"></times><ci id="S3.SS2.SSS2.p3.4.m4.1.1.2.cmml" xref="S3.SS2.SSS2.p3.4.m4.1.1.2">𝑎</ci><ci id="S3.SS2.SSS2.p3.4.m4.1.1.3a.cmml" xref="S3.SS2.SSS2.p3.4.m4.1.1.3"><mtext id="S3.SS2.SSS2.p3.4.m4.1.1.3.cmml" xref="S3.SS2.SSS2.p3.4.m4.1.1.3">-</mtext></ci><ci id="S3.SS2.SSS2.p3.4.m4.1.1.4.cmml" xref="S3.SS2.SSS2.p3.4.m4.1.1.4">𝑡</ci><ci id="S3.SS2.SSS2.p3.4.m4.1.1.5.cmml" xref="S3.SS2.SSS2.p3.4.m4.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.4.m4.1c">a\mbox{-}th</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.4.m4.1d">italic_a - italic_t italic_h</annotation></semantics></math> token <math alttext="s^{[a]}_{i}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.5.m5.1"><semantics id="S3.SS2.SSS2.p3.5.m5.1a"><msubsup id="S3.SS2.SSS2.p3.5.m5.1.2" xref="S3.SS2.SSS2.p3.5.m5.1.2.cmml"><mi id="S3.SS2.SSS2.p3.5.m5.1.2.2.2" xref="S3.SS2.SSS2.p3.5.m5.1.2.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.5.m5.1.2.3" xref="S3.SS2.SSS2.p3.5.m5.1.2.3.cmml">i</mi><mrow id="S3.SS2.SSS2.p3.5.m5.1.1.1.3" xref="S3.SS2.SSS2.p3.5.m5.1.1.1.2.cmml"><mo id="S3.SS2.SSS2.p3.5.m5.1.1.1.3.1" stretchy="false" xref="S3.SS2.SSS2.p3.5.m5.1.1.1.2.1.cmml">[</mo><mi id="S3.SS2.SSS2.p3.5.m5.1.1.1.1" xref="S3.SS2.SSS2.p3.5.m5.1.1.1.1.cmml">a</mi><mo id="S3.SS2.SSS2.p3.5.m5.1.1.1.3.2" stretchy="false" xref="S3.SS2.SSS2.p3.5.m5.1.1.1.2.1.cmml">]</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.5.m5.1b"><apply id="S3.SS2.SSS2.p3.5.m5.1.2.cmml" xref="S3.SS2.SSS2.p3.5.m5.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.5.m5.1.2.1.cmml" xref="S3.SS2.SSS2.p3.5.m5.1.2">subscript</csymbol><apply id="S3.SS2.SSS2.p3.5.m5.1.2.2.cmml" xref="S3.SS2.SSS2.p3.5.m5.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.5.m5.1.2.2.1.cmml" xref="S3.SS2.SSS2.p3.5.m5.1.2">superscript</csymbol><ci id="S3.SS2.SSS2.p3.5.m5.1.2.2.2.cmml" xref="S3.SS2.SSS2.p3.5.m5.1.2.2.2">𝑠</ci><apply id="S3.SS2.SSS2.p3.5.m5.1.1.1.2.cmml" xref="S3.SS2.SSS2.p3.5.m5.1.1.1.3"><csymbol cd="latexml" id="S3.SS2.SSS2.p3.5.m5.1.1.1.2.1.cmml" xref="S3.SS2.SSS2.p3.5.m5.1.1.1.3.1">delimited-[]</csymbol><ci id="S3.SS2.SSS2.p3.5.m5.1.1.1.1.cmml" xref="S3.SS2.SSS2.p3.5.m5.1.1.1.1">𝑎</ci></apply></apply><ci id="S3.SS2.SSS2.p3.5.m5.1.2.3.cmml" xref="S3.SS2.SSS2.p3.5.m5.1.2.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.5.m5.1c">s^{[a]}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.5.m5.1d">italic_s start_POSTSUPERSCRIPT [ italic_a ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> given prefix <math alttext="s^{&lt;a}_{i}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.6.m6.1"><semantics id="S3.SS2.SSS2.p3.6.m6.1a"><msubsup id="S3.SS2.SSS2.p3.6.m6.1.1" xref="S3.SS2.SSS2.p3.6.m6.1.1.cmml"><mi id="S3.SS2.SSS2.p3.6.m6.1.1.2.2" xref="S3.SS2.SSS2.p3.6.m6.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.6.m6.1.1.3" xref="S3.SS2.SSS2.p3.6.m6.1.1.3.cmml">i</mi><mrow id="S3.SS2.SSS2.p3.6.m6.1.1.2.3" xref="S3.SS2.SSS2.p3.6.m6.1.1.2.3.cmml"><mi id="S3.SS2.SSS2.p3.6.m6.1.1.2.3.2" xref="S3.SS2.SSS2.p3.6.m6.1.1.2.3.2.cmml"></mi><mo id="S3.SS2.SSS2.p3.6.m6.1.1.2.3.1" xref="S3.SS2.SSS2.p3.6.m6.1.1.2.3.1.cmml">&lt;</mo><mi id="S3.SS2.SSS2.p3.6.m6.1.1.2.3.3" xref="S3.SS2.SSS2.p3.6.m6.1.1.2.3.3.cmml">a</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.6.m6.1b"><apply id="S3.SS2.SSS2.p3.6.m6.1.1.cmml" xref="S3.SS2.SSS2.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.6.m6.1.1.1.cmml" xref="S3.SS2.SSS2.p3.6.m6.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p3.6.m6.1.1.2.cmml" xref="S3.SS2.SSS2.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.6.m6.1.1.2.1.cmml" xref="S3.SS2.SSS2.p3.6.m6.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p3.6.m6.1.1.2.2.cmml" xref="S3.SS2.SSS2.p3.6.m6.1.1.2.2">𝑠</ci><apply id="S3.SS2.SSS2.p3.6.m6.1.1.2.3.cmml" xref="S3.SS2.SSS2.p3.6.m6.1.1.2.3"><lt id="S3.SS2.SSS2.p3.6.m6.1.1.2.3.1.cmml" xref="S3.SS2.SSS2.p3.6.m6.1.1.2.3.1"></lt><csymbol cd="latexml" id="S3.SS2.SSS2.p3.6.m6.1.1.2.3.2.cmml" xref="S3.SS2.SSS2.p3.6.m6.1.1.2.3.2">absent</csymbol><ci id="S3.SS2.SSS2.p3.6.m6.1.1.2.3.3.cmml" xref="S3.SS2.SSS2.p3.6.m6.1.1.2.3.3">𝑎</ci></apply></apply><ci id="S3.SS2.SSS2.p3.6.m6.1.1.3.cmml" xref="S3.SS2.SSS2.p3.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.6.m6.1c">s^{&lt;a}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.6.m6.1d">italic_s start_POSTSUPERSCRIPT &lt; italic_a end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> of <math alttext="s_{i}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.7.m7.1"><semantics id="S3.SS2.SSS2.p3.7.m7.1a"><msub id="S3.SS2.SSS2.p3.7.m7.1.1" xref="S3.SS2.SSS2.p3.7.m7.1.1.cmml"><mi id="S3.SS2.SSS2.p3.7.m7.1.1.2" xref="S3.SS2.SSS2.p3.7.m7.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.7.m7.1.1.3" xref="S3.SS2.SSS2.p3.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.7.m7.1b"><apply id="S3.SS2.SSS2.p3.7.m7.1.1.cmml" xref="S3.SS2.SSS2.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.7.m7.1.1.1.cmml" xref="S3.SS2.SSS2.p3.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p3.7.m7.1.1.2.cmml" xref="S3.SS2.SSS2.p3.7.m7.1.1.2">𝑠</ci><ci id="S3.SS2.SSS2.p3.7.m7.1.1.3.cmml" xref="S3.SS2.SSS2.p3.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.7.m7.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.7.m7.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in each layer of LLM as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="d_{j}(s^{[a]}_{i}|s^{&lt;a}_{i})=\textrm{softmax}(\textrm{{W}}\textrm{{H}}^{[a]}_%
{j})," class="ltx_Math" display="block" id="S3.E3.m1.3"><semantics id="S3.E3.m1.3a"><mrow id="S3.E3.m1.3.3.1" xref="S3.E3.m1.3.3.1.1.cmml"><mrow id="S3.E3.m1.3.3.1.1" xref="S3.E3.m1.3.3.1.1.cmml"><mrow id="S3.E3.m1.3.3.1.1.1" xref="S3.E3.m1.3.3.1.1.1.cmml"><msub id="S3.E3.m1.3.3.1.1.1.3" xref="S3.E3.m1.3.3.1.1.1.3.cmml"><mi id="S3.E3.m1.3.3.1.1.1.3.2" xref="S3.E3.m1.3.3.1.1.1.3.2.cmml">d</mi><mi id="S3.E3.m1.3.3.1.1.1.3.3" xref="S3.E3.m1.3.3.1.1.1.3.3.cmml">j</mi></msub><mo id="S3.E3.m1.3.3.1.1.1.2" xref="S3.E3.m1.3.3.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.3.3.1.1.1.1.1" xref="S3.E3.m1.3.3.1.1.1.1.1.1.cmml"><mo id="S3.E3.m1.3.3.1.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.3.3.1.1.1.1.1.1" xref="S3.E3.m1.3.3.1.1.1.1.1.1.cmml"><msubsup id="S3.E3.m1.3.3.1.1.1.1.1.1.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2.cmml">s</mi><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.2.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.3.cmml">i</mi><mrow id="S3.E3.m1.1.1.1.3" xref="S3.E3.m1.1.1.1.2.cmml"><mo id="S3.E3.m1.1.1.1.3.1" stretchy="false" xref="S3.E3.m1.1.1.1.2.1.cmml">[</mo><mi id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml">a</mi><mo id="S3.E3.m1.1.1.1.3.2" stretchy="false" xref="S3.E3.m1.1.1.1.2.1.cmml">]</mo></mrow></msubsup><mo fence="false" id="S3.E3.m1.3.3.1.1.1.1.1.1.1" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1.cmml">|</mo><msubsup id="S3.E3.m1.3.3.1.1.1.1.1.1.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.2.cmml">s</mi><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.cmml">i</mi><mrow id="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.cmml"><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.2" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.2.cmml"></mi><mo id="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.1" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.1.cmml">&lt;</mo><mi id="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.3" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.3.cmml">a</mi></mrow></msubsup></mrow><mo id="S3.E3.m1.3.3.1.1.1.1.1.3" stretchy="false" xref="S3.E3.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.3.3.1.1.3" xref="S3.E3.m1.3.3.1.1.3.cmml">=</mo><mrow id="S3.E3.m1.3.3.1.1.2" xref="S3.E3.m1.3.3.1.1.2.cmml"><mtext id="S3.E3.m1.3.3.1.1.2.3" xref="S3.E3.m1.3.3.1.1.2.3a.cmml">softmax</mtext><mo id="S3.E3.m1.3.3.1.1.2.2" xref="S3.E3.m1.3.3.1.1.2.2.cmml">⁢</mo><mrow id="S3.E3.m1.3.3.1.1.2.1.1" xref="S3.E3.m1.3.3.1.1.2.1.1.1.cmml"><mo id="S3.E3.m1.3.3.1.1.2.1.1.2" stretchy="false" xref="S3.E3.m1.3.3.1.1.2.1.1.1.cmml">(</mo><msubsup id="S3.E3.m1.3.3.1.1.2.1.1.1" xref="S3.E3.m1.3.3.1.1.2.1.1.1.cmml"><mrow id="S3.E3.m1.3.3.1.1.2.1.1.1.2.2" xref="S3.E3.m1.3.3.1.1.2.1.1.1.2.2c.cmml"><mtext class="ltx_mathvariant_bold" id="S3.E3.m1.3.3.1.1.2.1.1.1.2.2a" xref="S3.E3.m1.3.3.1.1.2.1.1.1.2.2c.cmml">W</mtext><mtext class="ltx_mathvariant_bold" id="S3.E3.m1.3.3.1.1.2.1.1.1.2.2b" xref="S3.E3.m1.3.3.1.1.2.1.1.1.2.2c.cmml">H</mtext></mrow><mi id="S3.E3.m1.3.3.1.1.2.1.1.1.3" xref="S3.E3.m1.3.3.1.1.2.1.1.1.3.cmml">j</mi><mrow id="S3.E3.m1.2.2.1.3" xref="S3.E3.m1.2.2.1.2.cmml"><mo id="S3.E3.m1.2.2.1.3.1" stretchy="false" xref="S3.E3.m1.2.2.1.2.1.cmml">[</mo><mi id="S3.E3.m1.2.2.1.1" xref="S3.E3.m1.2.2.1.1.cmml">a</mi><mo id="S3.E3.m1.2.2.1.3.2" stretchy="false" xref="S3.E3.m1.2.2.1.2.1.cmml">]</mo></mrow></msubsup><mo id="S3.E3.m1.3.3.1.1.2.1.1.3" stretchy="false" xref="S3.E3.m1.3.3.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E3.m1.3.3.1.2" xref="S3.E3.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.3b"><apply id="S3.E3.m1.3.3.1.1.cmml" xref="S3.E3.m1.3.3.1"><eq id="S3.E3.m1.3.3.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.3"></eq><apply id="S3.E3.m1.3.3.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1"><times id="S3.E3.m1.3.3.1.1.1.2.cmml" xref="S3.E3.m1.3.3.1.1.1.2"></times><apply id="S3.E3.m1.3.3.1.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.3.1.cmml" xref="S3.E3.m1.3.3.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.3.3.1.1.1.3.2.cmml" xref="S3.E3.m1.3.3.1.1.1.3.2">𝑑</ci><ci id="S3.E3.m1.3.3.1.1.1.3.3.cmml" xref="S3.E3.m1.3.3.1.1.1.3.3">𝑗</ci></apply><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2">subscript</csymbol><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.2.2">𝑠</ci><apply id="S3.E3.m1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.3"><csymbol cd="latexml" id="S3.E3.m1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.3.1">delimited-[]</csymbol><ci id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1">𝑎</ci></apply></apply><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.2">𝑠</ci><apply id="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3"><lt id="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.1"></lt><csymbol cd="latexml" id="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.2">absent</csymbol><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.2.3.3">𝑎</ci></apply></apply><ci id="S3.E3.m1.3.3.1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.3.3.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S3.E3.m1.3.3.1.1.2.cmml" xref="S3.E3.m1.3.3.1.1.2"><times id="S3.E3.m1.3.3.1.1.2.2.cmml" xref="S3.E3.m1.3.3.1.1.2.2"></times><ci id="S3.E3.m1.3.3.1.1.2.3a.cmml" xref="S3.E3.m1.3.3.1.1.2.3"><mtext id="S3.E3.m1.3.3.1.1.2.3.cmml" xref="S3.E3.m1.3.3.1.1.2.3">softmax</mtext></ci><apply id="S3.E3.m1.3.3.1.1.2.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.2.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.2.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.2.1.1">subscript</csymbol><apply id="S3.E3.m1.3.3.1.1.2.1.1.1.2.cmml" xref="S3.E3.m1.3.3.1.1.2.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.2.1.1.1.2.1.cmml" xref="S3.E3.m1.3.3.1.1.2.1.1">superscript</csymbol><ci id="S3.E3.m1.3.3.1.1.2.1.1.1.2.2c.cmml" xref="S3.E3.m1.3.3.1.1.2.1.1.1.2.2"><mrow id="S3.E3.m1.3.3.1.1.2.1.1.1.2.2.cmml" xref="S3.E3.m1.3.3.1.1.2.1.1.1.2.2"><mtext class="ltx_mathvariant_bold" id="S3.E3.m1.3.3.1.1.2.1.1.1.2.2a.cmml" xref="S3.E3.m1.3.3.1.1.2.1.1.1.2.2">W</mtext><mtext class="ltx_mathvariant_bold" id="S3.E3.m1.3.3.1.1.2.1.1.1.2.2b.cmml" xref="S3.E3.m1.3.3.1.1.2.1.1.1.2.2">H</mtext></mrow></ci><apply id="S3.E3.m1.2.2.1.2.cmml" xref="S3.E3.m1.2.2.1.3"><csymbol cd="latexml" id="S3.E3.m1.2.2.1.2.1.cmml" xref="S3.E3.m1.2.2.1.3.1">delimited-[]</csymbol><ci id="S3.E3.m1.2.2.1.1.cmml" xref="S3.E3.m1.2.2.1.1">𝑎</ci></apply></apply><ci id="S3.E3.m1.3.3.1.1.2.1.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.2.1.1.1.3">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.3c">d_{j}(s^{[a]}_{i}|s^{&lt;a}_{i})=\textrm{softmax}(\textrm{{W}}\textrm{{H}}^{[a]}_%
{j}),</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.3d">italic_d start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ( italic_s start_POSTSUPERSCRIPT [ italic_a ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_s start_POSTSUPERSCRIPT &lt; italic_a end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) = softmax ( bold_W bold_H start_POSTSUPERSCRIPT [ italic_a ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.SSS2.p3.17">in which <math alttext="j" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.8.m1.1"><semantics id="S3.SS2.SSS2.p3.8.m1.1a"><mi id="S3.SS2.SSS2.p3.8.m1.1.1" xref="S3.SS2.SSS2.p3.8.m1.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.8.m1.1b"><ci id="S3.SS2.SSS2.p3.8.m1.1.1.cmml" xref="S3.SS2.SSS2.p3.8.m1.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.8.m1.1c">j</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.8.m1.1d">italic_j</annotation></semantics></math> indicates the <math alttext="j\mbox{-}th" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.9.m2.1"><semantics id="S3.SS2.SSS2.p3.9.m2.1a"><mrow id="S3.SS2.SSS2.p3.9.m2.1.1" xref="S3.SS2.SSS2.p3.9.m2.1.1.cmml"><mi id="S3.SS2.SSS2.p3.9.m2.1.1.2" xref="S3.SS2.SSS2.p3.9.m2.1.1.2.cmml">j</mi><mo id="S3.SS2.SSS2.p3.9.m2.1.1.1" xref="S3.SS2.SSS2.p3.9.m2.1.1.1.cmml">⁢</mo><mtext id="S3.SS2.SSS2.p3.9.m2.1.1.3" xref="S3.SS2.SSS2.p3.9.m2.1.1.3a.cmml">-</mtext><mo id="S3.SS2.SSS2.p3.9.m2.1.1.1a" xref="S3.SS2.SSS2.p3.9.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.9.m2.1.1.4" xref="S3.SS2.SSS2.p3.9.m2.1.1.4.cmml">t</mi><mo id="S3.SS2.SSS2.p3.9.m2.1.1.1b" xref="S3.SS2.SSS2.p3.9.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.9.m2.1.1.5" xref="S3.SS2.SSS2.p3.9.m2.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.9.m2.1b"><apply id="S3.SS2.SSS2.p3.9.m2.1.1.cmml" xref="S3.SS2.SSS2.p3.9.m2.1.1"><times id="S3.SS2.SSS2.p3.9.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p3.9.m2.1.1.1"></times><ci id="S3.SS2.SSS2.p3.9.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p3.9.m2.1.1.2">𝑗</ci><ci id="S3.SS2.SSS2.p3.9.m2.1.1.3a.cmml" xref="S3.SS2.SSS2.p3.9.m2.1.1.3"><mtext id="S3.SS2.SSS2.p3.9.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p3.9.m2.1.1.3">-</mtext></ci><ci id="S3.SS2.SSS2.p3.9.m2.1.1.4.cmml" xref="S3.SS2.SSS2.p3.9.m2.1.1.4">𝑡</ci><ci id="S3.SS2.SSS2.p3.9.m2.1.1.5.cmml" xref="S3.SS2.SSS2.p3.9.m2.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.9.m2.1c">j\mbox{-}th</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.9.m2.1d">italic_j - italic_t italic_h</annotation></semantics></math> layer of LLMs, <math alttext="\textrm{{H}}^{[a]}_{j}\in\mathbb{R}^{h}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.10.m3.1"><semantics id="S3.SS2.SSS2.p3.10.m3.1a"><mrow id="S3.SS2.SSS2.p3.10.m3.1.2" xref="S3.SS2.SSS2.p3.10.m3.1.2.cmml"><msubsup id="S3.SS2.SSS2.p3.10.m3.1.2.2" xref="S3.SS2.SSS2.p3.10.m3.1.2.2.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS2.p3.10.m3.1.2.2.2.2" xref="S3.SS2.SSS2.p3.10.m3.1.2.2.2.2a.cmml">H</mtext><mi id="S3.SS2.SSS2.p3.10.m3.1.2.2.3" xref="S3.SS2.SSS2.p3.10.m3.1.2.2.3.cmml">j</mi><mrow id="S3.SS2.SSS2.p3.10.m3.1.1.1.3" xref="S3.SS2.SSS2.p3.10.m3.1.1.1.2.cmml"><mo id="S3.SS2.SSS2.p3.10.m3.1.1.1.3.1" stretchy="false" xref="S3.SS2.SSS2.p3.10.m3.1.1.1.2.1.cmml">[</mo><mi id="S3.SS2.SSS2.p3.10.m3.1.1.1.1" xref="S3.SS2.SSS2.p3.10.m3.1.1.1.1.cmml">a</mi><mo id="S3.SS2.SSS2.p3.10.m3.1.1.1.3.2" stretchy="false" xref="S3.SS2.SSS2.p3.10.m3.1.1.1.2.1.cmml">]</mo></mrow></msubsup><mo id="S3.SS2.SSS2.p3.10.m3.1.2.1" xref="S3.SS2.SSS2.p3.10.m3.1.2.1.cmml">∈</mo><msup id="S3.SS2.SSS2.p3.10.m3.1.2.3" xref="S3.SS2.SSS2.p3.10.m3.1.2.3.cmml"><mi id="S3.SS2.SSS2.p3.10.m3.1.2.3.2" xref="S3.SS2.SSS2.p3.10.m3.1.2.3.2.cmml">ℝ</mi><mi id="S3.SS2.SSS2.p3.10.m3.1.2.3.3" xref="S3.SS2.SSS2.p3.10.m3.1.2.3.3.cmml">h</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.10.m3.1b"><apply id="S3.SS2.SSS2.p3.10.m3.1.2.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2"><in id="S3.SS2.SSS2.p3.10.m3.1.2.1.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2.1"></in><apply id="S3.SS2.SSS2.p3.10.m3.1.2.2.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.10.m3.1.2.2.1.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2.2">subscript</csymbol><apply id="S3.SS2.SSS2.p3.10.m3.1.2.2.2.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.10.m3.1.2.2.2.1.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2.2">superscript</csymbol><ci id="S3.SS2.SSS2.p3.10.m3.1.2.2.2.2a.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2.2.2.2"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS2.p3.10.m3.1.2.2.2.2.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2.2.2.2">H</mtext></ci><apply id="S3.SS2.SSS2.p3.10.m3.1.1.1.2.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.1.1.3"><csymbol cd="latexml" id="S3.SS2.SSS2.p3.10.m3.1.1.1.2.1.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.1.1.3.1">delimited-[]</csymbol><ci id="S3.SS2.SSS2.p3.10.m3.1.1.1.1.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.1.1.1">𝑎</ci></apply></apply><ci id="S3.SS2.SSS2.p3.10.m3.1.2.2.3.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2.2.3">𝑗</ci></apply><apply id="S3.SS2.SSS2.p3.10.m3.1.2.3.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2.3"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.10.m3.1.2.3.1.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2.3">superscript</csymbol><ci id="S3.SS2.SSS2.p3.10.m3.1.2.3.2.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2.3.2">ℝ</ci><ci id="S3.SS2.SSS2.p3.10.m3.1.2.3.3.cmml" xref="S3.SS2.SSS2.p3.10.m3.1.2.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.10.m3.1c">\textrm{{H}}^{[a]}_{j}\in\mathbb{R}^{h}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.10.m3.1d">H start_POSTSUPERSCRIPT [ italic_a ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT italic_h end_POSTSUPERSCRIPT</annotation></semantics></math> is the hidden states for token <math alttext="s^{[a]}_{i}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.11.m4.1"><semantics id="S3.SS2.SSS2.p3.11.m4.1a"><msubsup id="S3.SS2.SSS2.p3.11.m4.1.2" xref="S3.SS2.SSS2.p3.11.m4.1.2.cmml"><mi id="S3.SS2.SSS2.p3.11.m4.1.2.2.2" xref="S3.SS2.SSS2.p3.11.m4.1.2.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.11.m4.1.2.3" xref="S3.SS2.SSS2.p3.11.m4.1.2.3.cmml">i</mi><mrow id="S3.SS2.SSS2.p3.11.m4.1.1.1.3" xref="S3.SS2.SSS2.p3.11.m4.1.1.1.2.cmml"><mo id="S3.SS2.SSS2.p3.11.m4.1.1.1.3.1" stretchy="false" xref="S3.SS2.SSS2.p3.11.m4.1.1.1.2.1.cmml">[</mo><mi id="S3.SS2.SSS2.p3.11.m4.1.1.1.1" xref="S3.SS2.SSS2.p3.11.m4.1.1.1.1.cmml">a</mi><mo id="S3.SS2.SSS2.p3.11.m4.1.1.1.3.2" stretchy="false" xref="S3.SS2.SSS2.p3.11.m4.1.1.1.2.1.cmml">]</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.11.m4.1b"><apply id="S3.SS2.SSS2.p3.11.m4.1.2.cmml" xref="S3.SS2.SSS2.p3.11.m4.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.11.m4.1.2.1.cmml" xref="S3.SS2.SSS2.p3.11.m4.1.2">subscript</csymbol><apply id="S3.SS2.SSS2.p3.11.m4.1.2.2.cmml" xref="S3.SS2.SSS2.p3.11.m4.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.11.m4.1.2.2.1.cmml" xref="S3.SS2.SSS2.p3.11.m4.1.2">superscript</csymbol><ci id="S3.SS2.SSS2.p3.11.m4.1.2.2.2.cmml" xref="S3.SS2.SSS2.p3.11.m4.1.2.2.2">𝑠</ci><apply id="S3.SS2.SSS2.p3.11.m4.1.1.1.2.cmml" xref="S3.SS2.SSS2.p3.11.m4.1.1.1.3"><csymbol cd="latexml" id="S3.SS2.SSS2.p3.11.m4.1.1.1.2.1.cmml" xref="S3.SS2.SSS2.p3.11.m4.1.1.1.3.1">delimited-[]</csymbol><ci id="S3.SS2.SSS2.p3.11.m4.1.1.1.1.cmml" xref="S3.SS2.SSS2.p3.11.m4.1.1.1.1">𝑎</ci></apply></apply><ci id="S3.SS2.SSS2.p3.11.m4.1.2.3.cmml" xref="S3.SS2.SSS2.p3.11.m4.1.2.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.11.m4.1c">s^{[a]}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.11.m4.1d">italic_s start_POSTSUPERSCRIPT [ italic_a ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in the <math alttext="j\mbox{-}th" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.12.m5.1"><semantics id="S3.SS2.SSS2.p3.12.m5.1a"><mrow id="S3.SS2.SSS2.p3.12.m5.1.1" xref="S3.SS2.SSS2.p3.12.m5.1.1.cmml"><mi id="S3.SS2.SSS2.p3.12.m5.1.1.2" xref="S3.SS2.SSS2.p3.12.m5.1.1.2.cmml">j</mi><mo id="S3.SS2.SSS2.p3.12.m5.1.1.1" xref="S3.SS2.SSS2.p3.12.m5.1.1.1.cmml">⁢</mo><mtext id="S3.SS2.SSS2.p3.12.m5.1.1.3" xref="S3.SS2.SSS2.p3.12.m5.1.1.3a.cmml">-</mtext><mo id="S3.SS2.SSS2.p3.12.m5.1.1.1a" xref="S3.SS2.SSS2.p3.12.m5.1.1.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.12.m5.1.1.4" xref="S3.SS2.SSS2.p3.12.m5.1.1.4.cmml">t</mi><mo id="S3.SS2.SSS2.p3.12.m5.1.1.1b" xref="S3.SS2.SSS2.p3.12.m5.1.1.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.12.m5.1.1.5" xref="S3.SS2.SSS2.p3.12.m5.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.12.m5.1b"><apply id="S3.SS2.SSS2.p3.12.m5.1.1.cmml" xref="S3.SS2.SSS2.p3.12.m5.1.1"><times id="S3.SS2.SSS2.p3.12.m5.1.1.1.cmml" xref="S3.SS2.SSS2.p3.12.m5.1.1.1"></times><ci id="S3.SS2.SSS2.p3.12.m5.1.1.2.cmml" xref="S3.SS2.SSS2.p3.12.m5.1.1.2">𝑗</ci><ci id="S3.SS2.SSS2.p3.12.m5.1.1.3a.cmml" xref="S3.SS2.SSS2.p3.12.m5.1.1.3"><mtext id="S3.SS2.SSS2.p3.12.m5.1.1.3.cmml" xref="S3.SS2.SSS2.p3.12.m5.1.1.3">-</mtext></ci><ci id="S3.SS2.SSS2.p3.12.m5.1.1.4.cmml" xref="S3.SS2.SSS2.p3.12.m5.1.1.4">𝑡</ci><ci id="S3.SS2.SSS2.p3.12.m5.1.1.5.cmml" xref="S3.SS2.SSS2.p3.12.m5.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.12.m5.1c">j\mbox{-}th</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.12.m5.1d">italic_j - italic_t italic_h</annotation></semantics></math> layer, <math alttext="\textrm{{W}}\in\mathbb{R}^{h\times v}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.13.m6.1"><semantics id="S3.SS2.SSS2.p3.13.m6.1a"><mrow id="S3.SS2.SSS2.p3.13.m6.1.1" xref="S3.SS2.SSS2.p3.13.m6.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS2.p3.13.m6.1.1.2" xref="S3.SS2.SSS2.p3.13.m6.1.1.2a.cmml">W</mtext><mo id="S3.SS2.SSS2.p3.13.m6.1.1.1" xref="S3.SS2.SSS2.p3.13.m6.1.1.1.cmml">∈</mo><msup id="S3.SS2.SSS2.p3.13.m6.1.1.3" xref="S3.SS2.SSS2.p3.13.m6.1.1.3.cmml"><mi id="S3.SS2.SSS2.p3.13.m6.1.1.3.2" xref="S3.SS2.SSS2.p3.13.m6.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.SSS2.p3.13.m6.1.1.3.3" xref="S3.SS2.SSS2.p3.13.m6.1.1.3.3.cmml"><mi id="S3.SS2.SSS2.p3.13.m6.1.1.3.3.2" xref="S3.SS2.SSS2.p3.13.m6.1.1.3.3.2.cmml">h</mi><mo id="S3.SS2.SSS2.p3.13.m6.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S3.SS2.SSS2.p3.13.m6.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.SSS2.p3.13.m6.1.1.3.3.3" xref="S3.SS2.SSS2.p3.13.m6.1.1.3.3.3.cmml">v</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.13.m6.1b"><apply id="S3.SS2.SSS2.p3.13.m6.1.1.cmml" xref="S3.SS2.SSS2.p3.13.m6.1.1"><in id="S3.SS2.SSS2.p3.13.m6.1.1.1.cmml" xref="S3.SS2.SSS2.p3.13.m6.1.1.1"></in><ci id="S3.SS2.SSS2.p3.13.m6.1.1.2a.cmml" xref="S3.SS2.SSS2.p3.13.m6.1.1.2"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS2.p3.13.m6.1.1.2.cmml" xref="S3.SS2.SSS2.p3.13.m6.1.1.2">W</mtext></ci><apply id="S3.SS2.SSS2.p3.13.m6.1.1.3.cmml" xref="S3.SS2.SSS2.p3.13.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.13.m6.1.1.3.1.cmml" xref="S3.SS2.SSS2.p3.13.m6.1.1.3">superscript</csymbol><ci id="S3.SS2.SSS2.p3.13.m6.1.1.3.2.cmml" xref="S3.SS2.SSS2.p3.13.m6.1.1.3.2">ℝ</ci><apply id="S3.SS2.SSS2.p3.13.m6.1.1.3.3.cmml" xref="S3.SS2.SSS2.p3.13.m6.1.1.3.3"><times id="S3.SS2.SSS2.p3.13.m6.1.1.3.3.1.cmml" xref="S3.SS2.SSS2.p3.13.m6.1.1.3.3.1"></times><ci id="S3.SS2.SSS2.p3.13.m6.1.1.3.3.2.cmml" xref="S3.SS2.SSS2.p3.13.m6.1.1.3.3.2">ℎ</ci><ci id="S3.SS2.SSS2.p3.13.m6.1.1.3.3.3.cmml" xref="S3.SS2.SSS2.p3.13.m6.1.1.3.3.3">𝑣</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.13.m6.1c">\textrm{{W}}\in\mathbb{R}^{h\times v}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.13.m6.1d">W ∈ blackboard_R start_POSTSUPERSCRIPT italic_h × italic_v end_POSTSUPERSCRIPT</annotation></semantics></math> is the vocabulary head that maps the hidden states <math alttext="\textrm{{H}}^{[a]}_{j}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.14.m7.1"><semantics id="S3.SS2.SSS2.p3.14.m7.1a"><msubsup id="S3.SS2.SSS2.p3.14.m7.1.2" xref="S3.SS2.SSS2.p3.14.m7.1.2.cmml"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS2.p3.14.m7.1.2.2.2" xref="S3.SS2.SSS2.p3.14.m7.1.2.2.2a.cmml">H</mtext><mi id="S3.SS2.SSS2.p3.14.m7.1.2.3" xref="S3.SS2.SSS2.p3.14.m7.1.2.3.cmml">j</mi><mrow id="S3.SS2.SSS2.p3.14.m7.1.1.1.3" xref="S3.SS2.SSS2.p3.14.m7.1.1.1.2.cmml"><mo id="S3.SS2.SSS2.p3.14.m7.1.1.1.3.1" stretchy="false" xref="S3.SS2.SSS2.p3.14.m7.1.1.1.2.1.cmml">[</mo><mi id="S3.SS2.SSS2.p3.14.m7.1.1.1.1" xref="S3.SS2.SSS2.p3.14.m7.1.1.1.1.cmml">a</mi><mo id="S3.SS2.SSS2.p3.14.m7.1.1.1.3.2" stretchy="false" xref="S3.SS2.SSS2.p3.14.m7.1.1.1.2.1.cmml">]</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.14.m7.1b"><apply id="S3.SS2.SSS2.p3.14.m7.1.2.cmml" xref="S3.SS2.SSS2.p3.14.m7.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.14.m7.1.2.1.cmml" xref="S3.SS2.SSS2.p3.14.m7.1.2">subscript</csymbol><apply id="S3.SS2.SSS2.p3.14.m7.1.2.2.cmml" xref="S3.SS2.SSS2.p3.14.m7.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.14.m7.1.2.2.1.cmml" xref="S3.SS2.SSS2.p3.14.m7.1.2">superscript</csymbol><ci id="S3.SS2.SSS2.p3.14.m7.1.2.2.2a.cmml" xref="S3.SS2.SSS2.p3.14.m7.1.2.2.2"><mtext class="ltx_mathvariant_bold" id="S3.SS2.SSS2.p3.14.m7.1.2.2.2.cmml" xref="S3.SS2.SSS2.p3.14.m7.1.2.2.2">H</mtext></ci><apply id="S3.SS2.SSS2.p3.14.m7.1.1.1.2.cmml" xref="S3.SS2.SSS2.p3.14.m7.1.1.1.3"><csymbol cd="latexml" id="S3.SS2.SSS2.p3.14.m7.1.1.1.2.1.cmml" xref="S3.SS2.SSS2.p3.14.m7.1.1.1.3.1">delimited-[]</csymbol><ci id="S3.SS2.SSS2.p3.14.m7.1.1.1.1.cmml" xref="S3.SS2.SSS2.p3.14.m7.1.1.1.1">𝑎</ci></apply></apply><ci id="S3.SS2.SSS2.p3.14.m7.1.2.3.cmml" xref="S3.SS2.SSS2.p3.14.m7.1.2.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.14.m7.1c">\textrm{{H}}^{[a]}_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.14.m7.1d">H start_POSTSUPERSCRIPT [ italic_a ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> to the word distribution with vocabulary size <math alttext="v" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.15.m8.1"><semantics id="S3.SS2.SSS2.p3.15.m8.1a"><mi id="S3.SS2.SSS2.p3.15.m8.1.1" xref="S3.SS2.SSS2.p3.15.m8.1.1.cmml">v</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.15.m8.1b"><ci id="S3.SS2.SSS2.p3.15.m8.1.1.cmml" xref="S3.SS2.SSS2.p3.15.m8.1.1">𝑣</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.15.m8.1c">v</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.15.m8.1d">italic_v</annotation></semantics></math>. Then, for the LLM with <math alttext="N" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.16.m9.1"><semantics id="S3.SS2.SSS2.p3.16.m9.1a"><mi id="S3.SS2.SSS2.p3.16.m9.1.1" xref="S3.SS2.SSS2.p3.16.m9.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.16.m9.1b"><ci id="S3.SS2.SSS2.p3.16.m9.1.1.cmml" xref="S3.SS2.SSS2.p3.16.m9.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.16.m9.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.16.m9.1d">italic_N</annotation></semantics></math> layers, our method uses Jensen-Shannon Divergence (JSD) to measure the differences in word distribution between layers and gets the word distribution stability of token <math alttext="s^{[a]}_{i}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.17.m10.1"><semantics id="S3.SS2.SSS2.p3.17.m10.1a"><msubsup id="S3.SS2.SSS2.p3.17.m10.1.2" xref="S3.SS2.SSS2.p3.17.m10.1.2.cmml"><mi id="S3.SS2.SSS2.p3.17.m10.1.2.2.2" xref="S3.SS2.SSS2.p3.17.m10.1.2.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.17.m10.1.2.3" xref="S3.SS2.SSS2.p3.17.m10.1.2.3.cmml">i</mi><mrow id="S3.SS2.SSS2.p3.17.m10.1.1.1.3" xref="S3.SS2.SSS2.p3.17.m10.1.1.1.2.cmml"><mo id="S3.SS2.SSS2.p3.17.m10.1.1.1.3.1" stretchy="false" xref="S3.SS2.SSS2.p3.17.m10.1.1.1.2.1.cmml">[</mo><mi id="S3.SS2.SSS2.p3.17.m10.1.1.1.1" xref="S3.SS2.SSS2.p3.17.m10.1.1.1.1.cmml">a</mi><mo id="S3.SS2.SSS2.p3.17.m10.1.1.1.3.2" stretchy="false" xref="S3.SS2.SSS2.p3.17.m10.1.1.1.2.1.cmml">]</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.17.m10.1b"><apply id="S3.SS2.SSS2.p3.17.m10.1.2.cmml" xref="S3.SS2.SSS2.p3.17.m10.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.17.m10.1.2.1.cmml" xref="S3.SS2.SSS2.p3.17.m10.1.2">subscript</csymbol><apply id="S3.SS2.SSS2.p3.17.m10.1.2.2.cmml" xref="S3.SS2.SSS2.p3.17.m10.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.17.m10.1.2.2.1.cmml" xref="S3.SS2.SSS2.p3.17.m10.1.2">superscript</csymbol><ci id="S3.SS2.SSS2.p3.17.m10.1.2.2.2.cmml" xref="S3.SS2.SSS2.p3.17.m10.1.2.2.2">𝑠</ci><apply id="S3.SS2.SSS2.p3.17.m10.1.1.1.2.cmml" xref="S3.SS2.SSS2.p3.17.m10.1.1.1.3"><csymbol cd="latexml" id="S3.SS2.SSS2.p3.17.m10.1.1.1.2.1.cmml" xref="S3.SS2.SSS2.p3.17.m10.1.1.1.3.1">delimited-[]</csymbol><ci id="S3.SS2.SSS2.p3.17.m10.1.1.1.1.cmml" xref="S3.SS2.SSS2.p3.17.m10.1.1.1.1">𝑎</ci></apply></apply><ci id="S3.SS2.SSS2.p3.17.m10.1.2.3.cmml" xref="S3.SS2.SSS2.p3.17.m10.1.2.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.17.m10.1c">s^{[a]}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.17.m10.1d">italic_s start_POSTSUPERSCRIPT [ italic_a ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> as:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A1.EGx1">
<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle O^{[a]}_{i}=\max_{j\in J}\textrm{JSD}(d_{N}(s^{[a]}_{i}|s^{&lt;a}_{%
i})||d_{j}(s^{[a]}_{i}|s^{&lt;a}_{i}))," class="ltx_math_unparsed" display="inline" id="S3.Ex1.m1.3"><semantics id="S3.Ex1.m1.3a"><mrow id="S3.Ex1.m1.3b"><msubsup id="S3.Ex1.m1.3.4"><mi id="S3.Ex1.m1.3.4.2.2">O</mi><mi id="S3.Ex1.m1.3.4.3">i</mi><mrow id="S3.Ex1.m1.1.1.1.3"><mo id="S3.Ex1.m1.1.1.1.3.1" stretchy="false">[</mo><mi id="S3.Ex1.m1.1.1.1.1">a</mi><mo id="S3.Ex1.m1.1.1.1.3.2" stretchy="false">]</mo></mrow></msubsup><mo id="S3.Ex1.m1.3.5">=</mo><munder id="S3.Ex1.m1.3.6"><mi id="S3.Ex1.m1.3.6.2">max</mi><mrow id="S3.Ex1.m1.3.6.3"><mi id="S3.Ex1.m1.3.6.3.2">j</mi><mo id="S3.Ex1.m1.3.6.3.1">∈</mo><mi id="S3.Ex1.m1.3.6.3.3">J</mi></mrow></munder><mtext id="S3.Ex1.m1.3.7">JSD</mtext><mrow id="S3.Ex1.m1.3.8"><mo id="S3.Ex1.m1.3.8.1" stretchy="false">(</mo><msub id="S3.Ex1.m1.3.8.2"><mi id="S3.Ex1.m1.3.8.2.2">d</mi><mi id="S3.Ex1.m1.3.8.2.3">N</mi></msub><mrow id="S3.Ex1.m1.3.8.3"><mo id="S3.Ex1.m1.3.8.3.1" stretchy="false">(</mo><msubsup id="S3.Ex1.m1.3.8.3.2"><mi id="S3.Ex1.m1.3.8.3.2.2.2">s</mi><mi id="S3.Ex1.m1.3.8.3.2.3">i</mi><mrow id="S3.Ex1.m1.2.2.1.3"><mo id="S3.Ex1.m1.2.2.1.3.1" stretchy="false">[</mo><mi id="S3.Ex1.m1.2.2.1.1">a</mi><mo id="S3.Ex1.m1.2.2.1.3.2" stretchy="false">]</mo></mrow></msubsup><mo fence="false" id="S3.Ex1.m1.3.8.3.3" rspace="0.167em" stretchy="false">|</mo><msubsup id="S3.Ex1.m1.3.8.3.4"><mi id="S3.Ex1.m1.3.8.3.4.2.2">s</mi><mi id="S3.Ex1.m1.3.8.3.4.3">i</mi><mrow id="S3.Ex1.m1.3.8.3.4.2.3"><mi id="S3.Ex1.m1.3.8.3.4.2.3.2"></mi><mo id="S3.Ex1.m1.3.8.3.4.2.3.1">&lt;</mo><mi id="S3.Ex1.m1.3.8.3.4.2.3.3">a</mi></mrow></msubsup><mo id="S3.Ex1.m1.3.8.3.5" stretchy="false">)</mo></mrow><mo fence="false" id="S3.Ex1.m1.3.8.4" rspace="0.167em" stretchy="false">|</mo><mo fence="false" id="S3.Ex1.m1.3.8.5" rspace="0.167em" stretchy="false">|</mo><msub id="S3.Ex1.m1.3.8.6"><mi id="S3.Ex1.m1.3.8.6.2">d</mi><mi id="S3.Ex1.m1.3.8.6.3">j</mi></msub><mrow id="S3.Ex1.m1.3.8.7"><mo id="S3.Ex1.m1.3.8.7.1" stretchy="false">(</mo><msubsup id="S3.Ex1.m1.3.8.7.2"><mi id="S3.Ex1.m1.3.8.7.2.2.2">s</mi><mi id="S3.Ex1.m1.3.8.7.2.3">i</mi><mrow id="S3.Ex1.m1.3.3.1.3"><mo id="S3.Ex1.m1.3.3.1.3.1" stretchy="false">[</mo><mi id="S3.Ex1.m1.3.3.1.1">a</mi><mo id="S3.Ex1.m1.3.3.1.3.2" stretchy="false">]</mo></mrow></msubsup><mo fence="false" id="S3.Ex1.m1.3.8.7.3" rspace="0.167em" stretchy="false">|</mo><msubsup id="S3.Ex1.m1.3.8.7.4"><mi id="S3.Ex1.m1.3.8.7.4.2.2">s</mi><mi id="S3.Ex1.m1.3.8.7.4.3">i</mi><mrow id="S3.Ex1.m1.3.8.7.4.2.3"><mi id="S3.Ex1.m1.3.8.7.4.2.3.2"></mi><mo id="S3.Ex1.m1.3.8.7.4.2.3.1">&lt;</mo><mi id="S3.Ex1.m1.3.8.7.4.2.3.3">a</mi></mrow></msubsup><mo id="S3.Ex1.m1.3.8.7.5" stretchy="false">)</mo></mrow><mo id="S3.Ex1.m1.3.8.8" stretchy="false">)</mo></mrow><mo id="S3.Ex1.m1.3.9">,</mo></mrow><annotation encoding="application/x-tex" id="S3.Ex1.m1.3c">\displaystyle O^{[a]}_{i}=\max_{j\in J}\textrm{JSD}(d_{N}(s^{[a]}_{i}|s^{&lt;a}_{%
i})||d_{j}(s^{[a]}_{i}|s^{&lt;a}_{i})),</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m1.3d">italic_O start_POSTSUPERSCRIPT [ italic_a ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = roman_max start_POSTSUBSCRIPT italic_j ∈ italic_J end_POSTSUBSCRIPT JSD ( italic_d start_POSTSUBSCRIPT italic_N end_POSTSUBSCRIPT ( italic_s start_POSTSUPERSCRIPT [ italic_a ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_s start_POSTSUPERSCRIPT &lt; italic_a end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) | | italic_d start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ( italic_s start_POSTSUPERSCRIPT [ italic_a ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_s start_POSTSUPERSCRIPT &lt; italic_a end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.SSS2.p3.24">in which <math alttext="J" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.18.m1.1"><semantics id="S3.SS2.SSS2.p3.18.m1.1a"><mi id="S3.SS2.SSS2.p3.18.m1.1.1" xref="S3.SS2.SSS2.p3.18.m1.1.1.cmml">J</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.18.m1.1b"><ci id="S3.SS2.SSS2.p3.18.m1.1.1.cmml" xref="S3.SS2.SSS2.p3.18.m1.1.1">𝐽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.18.m1.1c">J</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.18.m1.1d">italic_J</annotation></semantics></math> is the set of candidate layers (<math alttext="0\mbox{-}th" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.19.m2.1"><semantics id="S3.SS2.SSS2.p3.19.m2.1a"><mrow id="S3.SS2.SSS2.p3.19.m2.1.1" xref="S3.SS2.SSS2.p3.19.m2.1.1.cmml"><mn id="S3.SS2.SSS2.p3.19.m2.1.1.2" xref="S3.SS2.SSS2.p3.19.m2.1.1.2.cmml">0</mn><mo id="S3.SS2.SSS2.p3.19.m2.1.1.1" xref="S3.SS2.SSS2.p3.19.m2.1.1.1.cmml">⁢</mo><mtext id="S3.SS2.SSS2.p3.19.m2.1.1.3" xref="S3.SS2.SSS2.p3.19.m2.1.1.3a.cmml">-</mtext><mo id="S3.SS2.SSS2.p3.19.m2.1.1.1a" xref="S3.SS2.SSS2.p3.19.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.19.m2.1.1.4" xref="S3.SS2.SSS2.p3.19.m2.1.1.4.cmml">t</mi><mo id="S3.SS2.SSS2.p3.19.m2.1.1.1b" xref="S3.SS2.SSS2.p3.19.m2.1.1.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.19.m2.1.1.5" xref="S3.SS2.SSS2.p3.19.m2.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.19.m2.1b"><apply id="S3.SS2.SSS2.p3.19.m2.1.1.cmml" xref="S3.SS2.SSS2.p3.19.m2.1.1"><times id="S3.SS2.SSS2.p3.19.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p3.19.m2.1.1.1"></times><cn id="S3.SS2.SSS2.p3.19.m2.1.1.2.cmml" type="integer" xref="S3.SS2.SSS2.p3.19.m2.1.1.2">0</cn><ci id="S3.SS2.SSS2.p3.19.m2.1.1.3a.cmml" xref="S3.SS2.SSS2.p3.19.m2.1.1.3"><mtext id="S3.SS2.SSS2.p3.19.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p3.19.m2.1.1.3">-</mtext></ci><ci id="S3.SS2.SSS2.p3.19.m2.1.1.4.cmml" xref="S3.SS2.SSS2.p3.19.m2.1.1.4">𝑡</ci><ci id="S3.SS2.SSS2.p3.19.m2.1.1.5.cmml" xref="S3.SS2.SSS2.p3.19.m2.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.19.m2.1c">0\mbox{-}th</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.19.m2.1d">0 - italic_t italic_h</annotation></semantics></math> to <math alttext="\frac{N}{2}\mbox{-}th" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.20.m3.1"><semantics id="S3.SS2.SSS2.p3.20.m3.1a"><mrow id="S3.SS2.SSS2.p3.20.m3.1.1" xref="S3.SS2.SSS2.p3.20.m3.1.1.cmml"><mfrac id="S3.SS2.SSS2.p3.20.m3.1.1.2" xref="S3.SS2.SSS2.p3.20.m3.1.1.2.cmml"><mi id="S3.SS2.SSS2.p3.20.m3.1.1.2.2" xref="S3.SS2.SSS2.p3.20.m3.1.1.2.2.cmml">N</mi><mn id="S3.SS2.SSS2.p3.20.m3.1.1.2.3" xref="S3.SS2.SSS2.p3.20.m3.1.1.2.3.cmml">2</mn></mfrac><mo id="S3.SS2.SSS2.p3.20.m3.1.1.1" xref="S3.SS2.SSS2.p3.20.m3.1.1.1.cmml">⁢</mo><mtext id="S3.SS2.SSS2.p3.20.m3.1.1.3" xref="S3.SS2.SSS2.p3.20.m3.1.1.3a.cmml">-</mtext><mo id="S3.SS2.SSS2.p3.20.m3.1.1.1a" xref="S3.SS2.SSS2.p3.20.m3.1.1.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.20.m3.1.1.4" xref="S3.SS2.SSS2.p3.20.m3.1.1.4.cmml">t</mi><mo id="S3.SS2.SSS2.p3.20.m3.1.1.1b" xref="S3.SS2.SSS2.p3.20.m3.1.1.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.20.m3.1.1.5" xref="S3.SS2.SSS2.p3.20.m3.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.20.m3.1b"><apply id="S3.SS2.SSS2.p3.20.m3.1.1.cmml" xref="S3.SS2.SSS2.p3.20.m3.1.1"><times id="S3.SS2.SSS2.p3.20.m3.1.1.1.cmml" xref="S3.SS2.SSS2.p3.20.m3.1.1.1"></times><apply id="S3.SS2.SSS2.p3.20.m3.1.1.2.cmml" xref="S3.SS2.SSS2.p3.20.m3.1.1.2"><divide id="S3.SS2.SSS2.p3.20.m3.1.1.2.1.cmml" xref="S3.SS2.SSS2.p3.20.m3.1.1.2"></divide><ci id="S3.SS2.SSS2.p3.20.m3.1.1.2.2.cmml" xref="S3.SS2.SSS2.p3.20.m3.1.1.2.2">𝑁</ci><cn id="S3.SS2.SSS2.p3.20.m3.1.1.2.3.cmml" type="integer" xref="S3.SS2.SSS2.p3.20.m3.1.1.2.3">2</cn></apply><ci id="S3.SS2.SSS2.p3.20.m3.1.1.3a.cmml" xref="S3.SS2.SSS2.p3.20.m3.1.1.3"><mtext id="S3.SS2.SSS2.p3.20.m3.1.1.3.cmml" xref="S3.SS2.SSS2.p3.20.m3.1.1.3">-</mtext></ci><ci id="S3.SS2.SSS2.p3.20.m3.1.1.4.cmml" xref="S3.SS2.SSS2.p3.20.m3.1.1.4">𝑡</ci><ci id="S3.SS2.SSS2.p3.20.m3.1.1.5.cmml" xref="S3.SS2.SSS2.p3.20.m3.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.20.m3.1c">\frac{N}{2}\mbox{-}th</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.20.m3.1d">divide start_ARG italic_N end_ARG start_ARG 2 end_ARG - italic_t italic_h</annotation></semantics></math> layers), <math alttext="d_{N}(s^{[a]}_{i}|s^{&lt;a}_{i})" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.21.m4.2"><semantics id="S3.SS2.SSS2.p3.21.m4.2a"><mrow id="S3.SS2.SSS2.p3.21.m4.2.2" xref="S3.SS2.SSS2.p3.21.m4.2.2.cmml"><msub id="S3.SS2.SSS2.p3.21.m4.2.2.3" xref="S3.SS2.SSS2.p3.21.m4.2.2.3.cmml"><mi id="S3.SS2.SSS2.p3.21.m4.2.2.3.2" xref="S3.SS2.SSS2.p3.21.m4.2.2.3.2.cmml">d</mi><mi id="S3.SS2.SSS2.p3.21.m4.2.2.3.3" xref="S3.SS2.SSS2.p3.21.m4.2.2.3.3.cmml">N</mi></msub><mo id="S3.SS2.SSS2.p3.21.m4.2.2.2" xref="S3.SS2.SSS2.p3.21.m4.2.2.2.cmml">⁢</mo><mrow id="S3.SS2.SSS2.p3.21.m4.2.2.1.1" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.cmml"><mo id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.2" stretchy="false" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.cmml">(</mo><mrow id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.cmml"><msubsup id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.cmml"><mi id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.2.2" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.3" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.3.cmml">i</mi><mrow id="S3.SS2.SSS2.p3.21.m4.1.1.1.3" xref="S3.SS2.SSS2.p3.21.m4.1.1.1.2.cmml"><mo id="S3.SS2.SSS2.p3.21.m4.1.1.1.3.1" stretchy="false" xref="S3.SS2.SSS2.p3.21.m4.1.1.1.2.1.cmml">[</mo><mi id="S3.SS2.SSS2.p3.21.m4.1.1.1.1" xref="S3.SS2.SSS2.p3.21.m4.1.1.1.1.cmml">a</mi><mo id="S3.SS2.SSS2.p3.21.m4.1.1.1.3.2" stretchy="false" xref="S3.SS2.SSS2.p3.21.m4.1.1.1.2.1.cmml">]</mo></mrow></msubsup><mo fence="false" id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.1" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.1.cmml">|</mo><msubsup id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.cmml"><mi id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.2" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.3" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.3.cmml">i</mi><mrow id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.cmml"><mi id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.2" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.2.cmml"></mi><mo id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.1" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.1.cmml">&lt;</mo><mi id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.3" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.3.cmml">a</mi></mrow></msubsup></mrow><mo id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.3" stretchy="false" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.21.m4.2b"><apply id="S3.SS2.SSS2.p3.21.m4.2.2.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2"><times id="S3.SS2.SSS2.p3.21.m4.2.2.2.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.2"></times><apply id="S3.SS2.SSS2.p3.21.m4.2.2.3.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.21.m4.2.2.3.1.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.3">subscript</csymbol><ci id="S3.SS2.SSS2.p3.21.m4.2.2.3.2.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.3.2">𝑑</ci><ci id="S3.SS2.SSS2.p3.21.m4.2.2.3.3.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.3.3">𝑁</ci></apply><apply id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1"><csymbol cd="latexml" id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.1.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.1">conditional</csymbol><apply id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.1.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2">subscript</csymbol><apply id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.2.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.2.1.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2">superscript</csymbol><ci id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.2.2.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.2.2">𝑠</ci><apply id="S3.SS2.SSS2.p3.21.m4.1.1.1.2.cmml" xref="S3.SS2.SSS2.p3.21.m4.1.1.1.3"><csymbol cd="latexml" id="S3.SS2.SSS2.p3.21.m4.1.1.1.2.1.cmml" xref="S3.SS2.SSS2.p3.21.m4.1.1.1.3.1">delimited-[]</csymbol><ci id="S3.SS2.SSS2.p3.21.m4.1.1.1.1.cmml" xref="S3.SS2.SSS2.p3.21.m4.1.1.1.1">𝑎</ci></apply></apply><ci id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.3.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.2.3">𝑖</ci></apply><apply id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.1.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3">subscript</csymbol><apply id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.1.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3">superscript</csymbol><ci id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.2.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.2">𝑠</ci><apply id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3"><lt id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.1.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.1"></lt><csymbol cd="latexml" id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.2.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.2">absent</csymbol><ci id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.3.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.2.3.3">𝑎</ci></apply></apply><ci id="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.3.cmml" xref="S3.SS2.SSS2.p3.21.m4.2.2.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.21.m4.2c">d_{N}(s^{[a]}_{i}|s^{&lt;a}_{i})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.21.m4.2d">italic_d start_POSTSUBSCRIPT italic_N end_POSTSUBSCRIPT ( italic_s start_POSTSUPERSCRIPT [ italic_a ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_s start_POSTSUPERSCRIPT &lt; italic_a end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> is the word distribution of the last layer. This design aims to find the layer with the largest word distribution difference between the last layer and use the JSD of the two as the word distribution stability of the token <math alttext="s^{[a]}_{i}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.22.m5.1"><semantics id="S3.SS2.SSS2.p3.22.m5.1a"><msubsup id="S3.SS2.SSS2.p3.22.m5.1.2" xref="S3.SS2.SSS2.p3.22.m5.1.2.cmml"><mi id="S3.SS2.SSS2.p3.22.m5.1.2.2.2" xref="S3.SS2.SSS2.p3.22.m5.1.2.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.22.m5.1.2.3" xref="S3.SS2.SSS2.p3.22.m5.1.2.3.cmml">i</mi><mrow id="S3.SS2.SSS2.p3.22.m5.1.1.1.3" xref="S3.SS2.SSS2.p3.22.m5.1.1.1.2.cmml"><mo id="S3.SS2.SSS2.p3.22.m5.1.1.1.3.1" stretchy="false" xref="S3.SS2.SSS2.p3.22.m5.1.1.1.2.1.cmml">[</mo><mi id="S3.SS2.SSS2.p3.22.m5.1.1.1.1" xref="S3.SS2.SSS2.p3.22.m5.1.1.1.1.cmml">a</mi><mo id="S3.SS2.SSS2.p3.22.m5.1.1.1.3.2" stretchy="false" xref="S3.SS2.SSS2.p3.22.m5.1.1.1.2.1.cmml">]</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.22.m5.1b"><apply id="S3.SS2.SSS2.p3.22.m5.1.2.cmml" xref="S3.SS2.SSS2.p3.22.m5.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.22.m5.1.2.1.cmml" xref="S3.SS2.SSS2.p3.22.m5.1.2">subscript</csymbol><apply id="S3.SS2.SSS2.p3.22.m5.1.2.2.cmml" xref="S3.SS2.SSS2.p3.22.m5.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.22.m5.1.2.2.1.cmml" xref="S3.SS2.SSS2.p3.22.m5.1.2">superscript</csymbol><ci id="S3.SS2.SSS2.p3.22.m5.1.2.2.2.cmml" xref="S3.SS2.SSS2.p3.22.m5.1.2.2.2">𝑠</ci><apply id="S3.SS2.SSS2.p3.22.m5.1.1.1.2.cmml" xref="S3.SS2.SSS2.p3.22.m5.1.1.1.3"><csymbol cd="latexml" id="S3.SS2.SSS2.p3.22.m5.1.1.1.2.1.cmml" xref="S3.SS2.SSS2.p3.22.m5.1.1.1.3.1">delimited-[]</csymbol><ci id="S3.SS2.SSS2.p3.22.m5.1.1.1.1.cmml" xref="S3.SS2.SSS2.p3.22.m5.1.1.1.1">𝑎</ci></apply></apply><ci id="S3.SS2.SSS2.p3.22.m5.1.2.3.cmml" xref="S3.SS2.SSS2.p3.22.m5.1.2.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.22.m5.1c">s^{[a]}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.22.m5.1d">italic_s start_POSTSUPERSCRIPT [ italic_a ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">Chuang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib8" title="">2023</a>)</cite>. For each token of <math alttext="s_{i}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.23.m6.1"><semantics id="S3.SS2.SSS2.p3.23.m6.1a"><msub id="S3.SS2.SSS2.p3.23.m6.1.1" xref="S3.SS2.SSS2.p3.23.m6.1.1.cmml"><mi id="S3.SS2.SSS2.p3.23.m6.1.1.2" xref="S3.SS2.SSS2.p3.23.m6.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.23.m6.1.1.3" xref="S3.SS2.SSS2.p3.23.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.23.m6.1b"><apply id="S3.SS2.SSS2.p3.23.m6.1.1.cmml" xref="S3.SS2.SSS2.p3.23.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.23.m6.1.1.1.cmml" xref="S3.SS2.SSS2.p3.23.m6.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p3.23.m6.1.1.2.cmml" xref="S3.SS2.SSS2.p3.23.m6.1.1.2">𝑠</ci><ci id="S3.SS2.SSS2.p3.23.m6.1.1.3.cmml" xref="S3.SS2.SSS2.p3.23.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.23.m6.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.23.m6.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, we obtain its word distribution stability in parallel and get the set of word distribution stability for <math alttext="s_{i}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.24.m7.1"><semantics id="S3.SS2.SSS2.p3.24.m7.1a"><msub id="S3.SS2.SSS2.p3.24.m7.1.1" xref="S3.SS2.SSS2.p3.24.m7.1.1.cmml"><mi id="S3.SS2.SSS2.p3.24.m7.1.1.2" xref="S3.SS2.SSS2.p3.24.m7.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.24.m7.1.1.3" xref="S3.SS2.SSS2.p3.24.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.24.m7.1b"><apply id="S3.SS2.SSS2.p3.24.m7.1.1.cmml" xref="S3.SS2.SSS2.p3.24.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.24.m7.1.1.1.cmml" xref="S3.SS2.SSS2.p3.24.m7.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p3.24.m7.1.1.2.cmml" xref="S3.SS2.SSS2.p3.24.m7.1.1.2">𝑠</ci><ci id="S3.SS2.SSS2.p3.24.m7.1.1.3.cmml" xref="S3.SS2.SSS2.p3.24.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.24.m7.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.24.m7.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{O}_{i}=\{O^{[0]}_{i},O^{[1]}_{i},...,O^{[n]}_{i}\}." class="ltx_Math" display="block" id="S3.E4.m1.5"><semantics id="S3.E4.m1.5a"><mrow id="S3.E4.m1.5.5.1" xref="S3.E4.m1.5.5.1.1.cmml"><mrow id="S3.E4.m1.5.5.1.1" xref="S3.E4.m1.5.5.1.1.cmml"><msub id="S3.E4.m1.5.5.1.1.5" xref="S3.E4.m1.5.5.1.1.5.cmml"><mi id="S3.E4.m1.5.5.1.1.5.2" xref="S3.E4.m1.5.5.1.1.5.2.cmml">𝕆</mi><mi id="S3.E4.m1.5.5.1.1.5.3" xref="S3.E4.m1.5.5.1.1.5.3.cmml">i</mi></msub><mo id="S3.E4.m1.5.5.1.1.4" xref="S3.E4.m1.5.5.1.1.4.cmml">=</mo><mrow id="S3.E4.m1.5.5.1.1.3.3" xref="S3.E4.m1.5.5.1.1.3.4.cmml"><mo id="S3.E4.m1.5.5.1.1.3.3.4" stretchy="false" xref="S3.E4.m1.5.5.1.1.3.4.cmml">{</mo><msubsup id="S3.E4.m1.5.5.1.1.1.1.1" xref="S3.E4.m1.5.5.1.1.1.1.1.cmml"><mi id="S3.E4.m1.5.5.1.1.1.1.1.2.2" xref="S3.E4.m1.5.5.1.1.1.1.1.2.2.cmml">O</mi><mi id="S3.E4.m1.5.5.1.1.1.1.1.3" xref="S3.E4.m1.5.5.1.1.1.1.1.3.cmml">i</mi><mrow id="S3.E4.m1.1.1.1.3" xref="S3.E4.m1.1.1.1.2.cmml"><mo id="S3.E4.m1.1.1.1.3.1" stretchy="false" xref="S3.E4.m1.1.1.1.2.1.cmml">[</mo><mn id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml">0</mn><mo id="S3.E4.m1.1.1.1.3.2" stretchy="false" xref="S3.E4.m1.1.1.1.2.1.cmml">]</mo></mrow></msubsup><mo id="S3.E4.m1.5.5.1.1.3.3.5" xref="S3.E4.m1.5.5.1.1.3.4.cmml">,</mo><msubsup id="S3.E4.m1.5.5.1.1.2.2.2" xref="S3.E4.m1.5.5.1.1.2.2.2.cmml"><mi id="S3.E4.m1.5.5.1.1.2.2.2.2.2" xref="S3.E4.m1.5.5.1.1.2.2.2.2.2.cmml">O</mi><mi id="S3.E4.m1.5.5.1.1.2.2.2.3" xref="S3.E4.m1.5.5.1.1.2.2.2.3.cmml">i</mi><mrow id="S3.E4.m1.2.2.1.3" xref="S3.E4.m1.2.2.1.2.cmml"><mo id="S3.E4.m1.2.2.1.3.1" stretchy="false" xref="S3.E4.m1.2.2.1.2.1.cmml">[</mo><mn id="S3.E4.m1.2.2.1.1" xref="S3.E4.m1.2.2.1.1.cmml">1</mn><mo id="S3.E4.m1.2.2.1.3.2" stretchy="false" xref="S3.E4.m1.2.2.1.2.1.cmml">]</mo></mrow></msubsup><mo id="S3.E4.m1.5.5.1.1.3.3.6" xref="S3.E4.m1.5.5.1.1.3.4.cmml">,</mo><mi id="S3.E4.m1.4.4" mathvariant="normal" xref="S3.E4.m1.4.4.cmml">…</mi><mo id="S3.E4.m1.5.5.1.1.3.3.7" xref="S3.E4.m1.5.5.1.1.3.4.cmml">,</mo><msubsup id="S3.E4.m1.5.5.1.1.3.3.3" xref="S3.E4.m1.5.5.1.1.3.3.3.cmml"><mi id="S3.E4.m1.5.5.1.1.3.3.3.2.2" xref="S3.E4.m1.5.5.1.1.3.3.3.2.2.cmml">O</mi><mi id="S3.E4.m1.5.5.1.1.3.3.3.3" xref="S3.E4.m1.5.5.1.1.3.3.3.3.cmml">i</mi><mrow id="S3.E4.m1.3.3.1.3" xref="S3.E4.m1.3.3.1.2.cmml"><mo id="S3.E4.m1.3.3.1.3.1" stretchy="false" xref="S3.E4.m1.3.3.1.2.1.cmml">[</mo><mi id="S3.E4.m1.3.3.1.1" xref="S3.E4.m1.3.3.1.1.cmml">n</mi><mo id="S3.E4.m1.3.3.1.3.2" stretchy="false" xref="S3.E4.m1.3.3.1.2.1.cmml">]</mo></mrow></msubsup><mo id="S3.E4.m1.5.5.1.1.3.3.8" stretchy="false" xref="S3.E4.m1.5.5.1.1.3.4.cmml">}</mo></mrow></mrow><mo id="S3.E4.m1.5.5.1.2" lspace="0em" xref="S3.E4.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.5b"><apply id="S3.E4.m1.5.5.1.1.cmml" xref="S3.E4.m1.5.5.1"><eq id="S3.E4.m1.5.5.1.1.4.cmml" xref="S3.E4.m1.5.5.1.1.4"></eq><apply id="S3.E4.m1.5.5.1.1.5.cmml" xref="S3.E4.m1.5.5.1.1.5"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.5.1.cmml" xref="S3.E4.m1.5.5.1.1.5">subscript</csymbol><ci id="S3.E4.m1.5.5.1.1.5.2.cmml" xref="S3.E4.m1.5.5.1.1.5.2">𝕆</ci><ci id="S3.E4.m1.5.5.1.1.5.3.cmml" xref="S3.E4.m1.5.5.1.1.5.3">𝑖</ci></apply><set id="S3.E4.m1.5.5.1.1.3.4.cmml" xref="S3.E4.m1.5.5.1.1.3.3"><apply id="S3.E4.m1.5.5.1.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1">subscript</csymbol><apply id="S3.E4.m1.5.5.1.1.1.1.1.2.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1">superscript</csymbol><ci id="S3.E4.m1.5.5.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1.2.2">𝑂</ci><apply id="S3.E4.m1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.3"><csymbol cd="latexml" id="S3.E4.m1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.3.1">delimited-[]</csymbol><cn id="S3.E4.m1.1.1.1.1.cmml" type="integer" xref="S3.E4.m1.1.1.1.1">0</cn></apply></apply><ci id="S3.E4.m1.5.5.1.1.1.1.1.3.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E4.m1.5.5.1.1.2.2.2.cmml" xref="S3.E4.m1.5.5.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.2.2.2.1.cmml" xref="S3.E4.m1.5.5.1.1.2.2.2">subscript</csymbol><apply id="S3.E4.m1.5.5.1.1.2.2.2.2.cmml" xref="S3.E4.m1.5.5.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.2.2.2.2.1.cmml" xref="S3.E4.m1.5.5.1.1.2.2.2">superscript</csymbol><ci id="S3.E4.m1.5.5.1.1.2.2.2.2.2.cmml" xref="S3.E4.m1.5.5.1.1.2.2.2.2.2">𝑂</ci><apply id="S3.E4.m1.2.2.1.2.cmml" xref="S3.E4.m1.2.2.1.3"><csymbol cd="latexml" id="S3.E4.m1.2.2.1.2.1.cmml" xref="S3.E4.m1.2.2.1.3.1">delimited-[]</csymbol><cn id="S3.E4.m1.2.2.1.1.cmml" type="integer" xref="S3.E4.m1.2.2.1.1">1</cn></apply></apply><ci id="S3.E4.m1.5.5.1.1.2.2.2.3.cmml" xref="S3.E4.m1.5.5.1.1.2.2.2.3">𝑖</ci></apply><ci id="S3.E4.m1.4.4.cmml" xref="S3.E4.m1.4.4">…</ci><apply id="S3.E4.m1.5.5.1.1.3.3.3.cmml" xref="S3.E4.m1.5.5.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.3.3.3.1.cmml" xref="S3.E4.m1.5.5.1.1.3.3.3">subscript</csymbol><apply id="S3.E4.m1.5.5.1.1.3.3.3.2.cmml" xref="S3.E4.m1.5.5.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.3.3.3.2.1.cmml" xref="S3.E4.m1.5.5.1.1.3.3.3">superscript</csymbol><ci id="S3.E4.m1.5.5.1.1.3.3.3.2.2.cmml" xref="S3.E4.m1.5.5.1.1.3.3.3.2.2">𝑂</ci><apply id="S3.E4.m1.3.3.1.2.cmml" xref="S3.E4.m1.3.3.1.3"><csymbol cd="latexml" id="S3.E4.m1.3.3.1.2.1.cmml" xref="S3.E4.m1.3.3.1.3.1">delimited-[]</csymbol><ci id="S3.E4.m1.3.3.1.1.cmml" xref="S3.E4.m1.3.3.1.1">𝑛</ci></apply></apply><ci id="S3.E4.m1.5.5.1.1.3.3.3.3.cmml" xref="S3.E4.m1.5.5.1.1.3.3.3.3">𝑖</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.5c">\mathbb{O}_{i}=\{O^{[0]}_{i},O^{[1]}_{i},...,O^{[n]}_{i}\}.</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.5d">blackboard_O start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = { italic_O start_POSTSUPERSCRIPT [ 0 ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_O start_POSTSUPERSCRIPT [ 1 ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , … , italic_O start_POSTSUPERSCRIPT [ italic_n ] end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.SSS2.p3.32">We choose the tokens corresponding to the top 50% of the elements in <math alttext="\mathbb{O}_{i}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.25.m1.1"><semantics id="S3.SS2.SSS2.p3.25.m1.1a"><msub id="S3.SS2.SSS2.p3.25.m1.1.1" xref="S3.SS2.SSS2.p3.25.m1.1.1.cmml"><mi id="S3.SS2.SSS2.p3.25.m1.1.1.2" xref="S3.SS2.SSS2.p3.25.m1.1.1.2.cmml">𝕆</mi><mi id="S3.SS2.SSS2.p3.25.m1.1.1.3" xref="S3.SS2.SSS2.p3.25.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.25.m1.1b"><apply id="S3.SS2.SSS2.p3.25.m1.1.1.cmml" xref="S3.SS2.SSS2.p3.25.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.25.m1.1.1.1.cmml" xref="S3.SS2.SSS2.p3.25.m1.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p3.25.m1.1.1.2.cmml" xref="S3.SS2.SSS2.p3.25.m1.1.1.2">𝕆</ci><ci id="S3.SS2.SSS2.p3.25.m1.1.1.3.cmml" xref="S3.SS2.SSS2.p3.25.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.25.m1.1c">\mathbb{O}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.25.m1.1d">blackboard_O start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> as informative tokens within the sentence <math alttext="s_{i}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.26.m2.1"><semantics id="S3.SS2.SSS2.p3.26.m2.1a"><msub id="S3.SS2.SSS2.p3.26.m2.1.1" xref="S3.SS2.SSS2.p3.26.m2.1.1.cmml"><mi id="S3.SS2.SSS2.p3.26.m2.1.1.2" xref="S3.SS2.SSS2.p3.26.m2.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.26.m2.1.1.3" xref="S3.SS2.SSS2.p3.26.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.26.m2.1b"><apply id="S3.SS2.SSS2.p3.26.m2.1.1.cmml" xref="S3.SS2.SSS2.p3.26.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.26.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p3.26.m2.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p3.26.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p3.26.m2.1.1.2">𝑠</ci><ci id="S3.SS2.SSS2.p3.26.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p3.26.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.26.m2.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.26.m2.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>. Subsequently, we apply a specific percentage (<math alttext="30\%" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.27.m3.1"><semantics id="S3.SS2.SSS2.p3.27.m3.1a"><mrow id="S3.SS2.SSS2.p3.27.m3.1.1" xref="S3.SS2.SSS2.p3.27.m3.1.1.cmml"><mn id="S3.SS2.SSS2.p3.27.m3.1.1.2" xref="S3.SS2.SSS2.p3.27.m3.1.1.2.cmml">30</mn><mo id="S3.SS2.SSS2.p3.27.m3.1.1.1" xref="S3.SS2.SSS2.p3.27.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.27.m3.1b"><apply id="S3.SS2.SSS2.p3.27.m3.1.1.cmml" xref="S3.SS2.SSS2.p3.27.m3.1.1"><csymbol cd="latexml" id="S3.SS2.SSS2.p3.27.m3.1.1.1.cmml" xref="S3.SS2.SSS2.p3.27.m3.1.1.1">percent</csymbol><cn id="S3.SS2.SSS2.p3.27.m3.1.1.2.cmml" type="integer" xref="S3.SS2.SSS2.p3.27.m3.1.1.2">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.27.m3.1c">30\%</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.27.m3.1d">30 %</annotation></semantics></math>) of random masking and replacement to these tokens. For the randomly selected token, we replace it with [MASK] with a <math alttext="50\%" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.28.m4.1"><semantics id="S3.SS2.SSS2.p3.28.m4.1a"><mrow id="S3.SS2.SSS2.p3.28.m4.1.1" xref="S3.SS2.SSS2.p3.28.m4.1.1.cmml"><mn id="S3.SS2.SSS2.p3.28.m4.1.1.2" xref="S3.SS2.SSS2.p3.28.m4.1.1.2.cmml">50</mn><mo id="S3.SS2.SSS2.p3.28.m4.1.1.1" xref="S3.SS2.SSS2.p3.28.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.28.m4.1b"><apply id="S3.SS2.SSS2.p3.28.m4.1.1.cmml" xref="S3.SS2.SSS2.p3.28.m4.1.1"><csymbol cd="latexml" id="S3.SS2.SSS2.p3.28.m4.1.1.1.cmml" xref="S3.SS2.SSS2.p3.28.m4.1.1.1">percent</csymbol><cn id="S3.SS2.SSS2.p3.28.m4.1.1.2.cmml" type="integer" xref="S3.SS2.SSS2.p3.28.m4.1.1.2">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.28.m4.1c">50\%</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.28.m4.1d">50 %</annotation></semantics></math> probability to simulate the incomplete knowledge, and randomly replace it with another token with a <math alttext="40\%" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.29.m5.1"><semantics id="S3.SS2.SSS2.p3.29.m5.1a"><mrow id="S3.SS2.SSS2.p3.29.m5.1.1" xref="S3.SS2.SSS2.p3.29.m5.1.1.cmml"><mn id="S3.SS2.SSS2.p3.29.m5.1.1.2" xref="S3.SS2.SSS2.p3.29.m5.1.1.2.cmml">40</mn><mo id="S3.SS2.SSS2.p3.29.m5.1.1.1" xref="S3.SS2.SSS2.p3.29.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.29.m5.1b"><apply id="S3.SS2.SSS2.p3.29.m5.1.1.cmml" xref="S3.SS2.SSS2.p3.29.m5.1.1"><csymbol cd="latexml" id="S3.SS2.SSS2.p3.29.m5.1.1.1.cmml" xref="S3.SS2.SSS2.p3.29.m5.1.1.1">percent</csymbol><cn id="S3.SS2.SSS2.p3.29.m5.1.1.2.cmml" type="integer" xref="S3.SS2.SSS2.p3.29.m5.1.1.2">40</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.29.m5.1c">40\%</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.29.m5.1d">40 %</annotation></semantics></math> probability to simulate the incorrect knowledge, while keeping it unchanged with a <math alttext="10\%" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.30.m6.1"><semantics id="S3.SS2.SSS2.p3.30.m6.1a"><mrow id="S3.SS2.SSS2.p3.30.m6.1.1" xref="S3.SS2.SSS2.p3.30.m6.1.1.cmml"><mn id="S3.SS2.SSS2.p3.30.m6.1.1.2" xref="S3.SS2.SSS2.p3.30.m6.1.1.2.cmml">10</mn><mo id="S3.SS2.SSS2.p3.30.m6.1.1.1" xref="S3.SS2.SSS2.p3.30.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.30.m6.1b"><apply id="S3.SS2.SSS2.p3.30.m6.1.1.cmml" xref="S3.SS2.SSS2.p3.30.m6.1.1"><csymbol cd="latexml" id="S3.SS2.SSS2.p3.30.m6.1.1.1.cmml" xref="S3.SS2.SSS2.p3.30.m6.1.1.1">percent</csymbol><cn id="S3.SS2.SSS2.p3.30.m6.1.1.2.cmml" type="integer" xref="S3.SS2.SSS2.p3.30.m6.1.1.2">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.30.m6.1c">10\%</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.30.m6.1d">10 %</annotation></semantics></math> probability to simulate the correct knowledge. We do the above pipeline for each sentence in the set <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.31.m7.1"><semantics id="S3.SS2.SSS2.p3.31.m7.1a"><mi id="S3.SS2.SSS2.p3.31.m7.1.1" xref="S3.SS2.SSS2.p3.31.m7.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.31.m7.1b"><ci id="S3.SS2.SSS2.p3.31.m7.1.1.cmml" xref="S3.SS2.SSS2.p3.31.m7.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.31.m7.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.31.m7.1d">italic_S</annotation></semantics></math> and get the processed set <math alttext="S^{\prime}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.32.m8.1"><semantics id="S3.SS2.SSS2.p3.32.m8.1a"><msup id="S3.SS2.SSS2.p3.32.m8.1.1" xref="S3.SS2.SSS2.p3.32.m8.1.1.cmml"><mi id="S3.SS2.SSS2.p3.32.m8.1.1.2" xref="S3.SS2.SSS2.p3.32.m8.1.1.2.cmml">S</mi><mo id="S3.SS2.SSS2.p3.32.m8.1.1.3" xref="S3.SS2.SSS2.p3.32.m8.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.32.m8.1b"><apply id="S3.SS2.SSS2.p3.32.m8.1.1.cmml" xref="S3.SS2.SSS2.p3.32.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.32.m8.1.1.1.cmml" xref="S3.SS2.SSS2.p3.32.m8.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p3.32.m8.1.1.2.cmml" xref="S3.SS2.SSS2.p3.32.m8.1.1.2">𝑆</ci><ci id="S3.SS2.SSS2.p3.32.m8.1.1.3.cmml" xref="S3.SS2.SSS2.p3.32.m8.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.32.m8.1c">S^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.32.m8.1d">italic_S start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>. RAG in <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p3.32.1">Correct and Complete</span> can be formulated as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="p(s^{t}_{l})=p_{\theta}([S^{\prime};s^{p}_{l}])." class="ltx_Math" display="block" id="S3.E5.m1.1"><semantics id="S3.E5.m1.1a"><mrow id="S3.E5.m1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.3.cmml">p</mi><mo id="S3.E5.m1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E5.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E5.m1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3.cmml">l</mi><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.3.cmml">t</mi></msubsup><mo id="S3.E5.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3.cmml">=</mo><mrow id="S3.E5.m1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.2.cmml"><msub id="S3.E5.m1.1.1.1.1.2.3" xref="S3.E5.m1.1.1.1.1.2.3.cmml"><mi id="S3.E5.m1.1.1.1.1.2.3.2" xref="S3.E5.m1.1.1.1.1.2.3.2.cmml">p</mi><mi id="S3.E5.m1.1.1.1.1.2.3.3" xref="S3.E5.m1.1.1.1.1.2.3.3.cmml">θ</mi></msub><mo id="S3.E5.m1.1.1.1.1.2.2" xref="S3.E5.m1.1.1.1.1.2.2.cmml">⁢</mo><mrow id="S3.E5.m1.1.1.1.1.2.1.1" xref="S3.E5.m1.1.1.1.1.2.cmml"><mo id="S3.E5.m1.1.1.1.1.2.1.1.2" stretchy="false" xref="S3.E5.m1.1.1.1.1.2.cmml">(</mo><mrow id="S3.E5.m1.1.1.1.1.2.1.1.1.2" xref="S3.E5.m1.1.1.1.1.2.1.1.1.3.cmml"><mo id="S3.E5.m1.1.1.1.1.2.1.1.1.2.3" stretchy="false" xref="S3.E5.m1.1.1.1.1.2.1.1.1.3.cmml">[</mo><msup id="S3.E5.m1.1.1.1.1.2.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.2.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.1.2.cmml">S</mi><mo id="S3.E5.m1.1.1.1.1.2.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S3.E5.m1.1.1.1.1.2.1.1.1.2.4" xref="S3.E5.m1.1.1.1.1.2.1.1.1.3.cmml">;</mo><msubsup id="S3.E5.m1.1.1.1.1.2.1.1.1.2.2" xref="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.cmml"><mi id="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.2.2" xref="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.2.2.cmml">s</mi><mi id="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.3" xref="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.3.cmml">l</mi><mi id="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.2.3" xref="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.2.3.cmml">p</mi></msubsup><mo id="S3.E5.m1.1.1.1.1.2.1.1.1.2.5" stretchy="false" xref="S3.E5.m1.1.1.1.1.2.1.1.1.3.cmml">]</mo></mrow><mo id="S3.E5.m1.1.1.1.1.2.1.1.3" stretchy="false" xref="S3.E5.m1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E5.m1.1.1.1.2" lspace="0em" xref="S3.E5.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1"><eq id="S3.E5.m1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.3"></eq><apply id="S3.E5.m1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1"><times id="S3.E5.m1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.2"></times><ci id="S3.E5.m1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3">𝑝</ci><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3">𝑙</ci></apply></apply><apply id="S3.E5.m1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.2"><times id="S3.E5.m1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.2.2"></times><apply id="S3.E5.m1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.2.3.1.cmml" xref="S3.E5.m1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.2.3.2.cmml" xref="S3.E5.m1.1.1.1.1.2.3.2">𝑝</ci><ci id="S3.E5.m1.1.1.1.1.2.3.3.cmml" xref="S3.E5.m1.1.1.1.1.2.3.3">𝜃</ci></apply><list id="S3.E5.m1.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.2"><apply id="S3.E5.m1.1.1.1.1.2.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.1">superscript</csymbol><ci id="S3.E5.m1.1.1.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.1.2">𝑆</ci><ci id="S3.E5.m1.1.1.1.1.2.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.1.3">′</ci></apply><apply id="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.1.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.2.2">subscript</csymbol><apply id="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.2.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.2.1.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.2.2">superscript</csymbol><ci id="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.2.2.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.2.2">𝑠</ci><ci id="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.2.3.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.2.3">𝑝</ci></apply><ci id="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.3.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.2.2.3">𝑙</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">p(s^{t}_{l})=p_{\theta}([S^{\prime};s^{p}_{l}]).</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.1d">italic_p ( italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) = italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( [ italic_S start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ; italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ] ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.SSS2.p3.37">In <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p3.37.1">Correct and Complete</span>, the broken <math alttext="s_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.33.m1.1"><semantics id="S3.SS2.SSS2.p3.33.m1.1a"><msub id="S3.SS2.SSS2.p3.33.m1.1.1" xref="S3.SS2.SSS2.p3.33.m1.1.1.cmml"><mi id="S3.SS2.SSS2.p3.33.m1.1.1.2" xref="S3.SS2.SSS2.p3.33.m1.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.33.m1.1.1.3" xref="S3.SS2.SSS2.p3.33.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.33.m1.1b"><apply id="S3.SS2.SSS2.p3.33.m1.1.1.cmml" xref="S3.SS2.SSS2.p3.33.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.33.m1.1.1.1.cmml" xref="S3.SS2.SSS2.p3.33.m1.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p3.33.m1.1.1.2.cmml" xref="S3.SS2.SSS2.p3.33.m1.1.1.2">𝑠</ci><ci id="S3.SS2.SSS2.p3.33.m1.1.1.3.cmml" xref="S3.SS2.SSS2.p3.33.m1.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.33.m1.1c">s_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.33.m1.1d">italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> with noise is already in <math alttext="S^{\prime}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.34.m2.1"><semantics id="S3.SS2.SSS2.p3.34.m2.1a"><msup id="S3.SS2.SSS2.p3.34.m2.1.1" xref="S3.SS2.SSS2.p3.34.m2.1.1.cmml"><mi id="S3.SS2.SSS2.p3.34.m2.1.1.2" xref="S3.SS2.SSS2.p3.34.m2.1.1.2.cmml">S</mi><mo id="S3.SS2.SSS2.p3.34.m2.1.1.3" xref="S3.SS2.SSS2.p3.34.m2.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.34.m2.1b"><apply id="S3.SS2.SSS2.p3.34.m2.1.1.cmml" xref="S3.SS2.SSS2.p3.34.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.34.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p3.34.m2.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p3.34.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p3.34.m2.1.1.2">𝑆</ci><ci id="S3.SS2.SSS2.p3.34.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p3.34.m2.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.34.m2.1c">S^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.34.m2.1d">italic_S start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>. The information gain in this task requires LLM to extract, correct, and complete the knowledge in <math alttext="s_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.35.m3.1"><semantics id="S3.SS2.SSS2.p3.35.m3.1a"><msub id="S3.SS2.SSS2.p3.35.m3.1.1" xref="S3.SS2.SSS2.p3.35.m3.1.1.cmml"><mi id="S3.SS2.SSS2.p3.35.m3.1.1.2" xref="S3.SS2.SSS2.p3.35.m3.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.35.m3.1.1.3" xref="S3.SS2.SSS2.p3.35.m3.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.35.m3.1b"><apply id="S3.SS2.SSS2.p3.35.m3.1.1.cmml" xref="S3.SS2.SSS2.p3.35.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.35.m3.1.1.1.cmml" xref="S3.SS2.SSS2.p3.35.m3.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p3.35.m3.1.1.2.cmml" xref="S3.SS2.SSS2.p3.35.m3.1.1.2">𝑠</ci><ci id="S3.SS2.SSS2.p3.35.m3.1.1.3.cmml" xref="S3.SS2.SSS2.p3.35.m3.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.35.m3.1c">s_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.35.m3.1d">italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> from <math alttext="S^{\prime}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.36.m4.1"><semantics id="S3.SS2.SSS2.p3.36.m4.1a"><msup id="S3.SS2.SSS2.p3.36.m4.1.1" xref="S3.SS2.SSS2.p3.36.m4.1.1.cmml"><mi id="S3.SS2.SSS2.p3.36.m4.1.1.2" xref="S3.SS2.SSS2.p3.36.m4.1.1.2.cmml">S</mi><mo id="S3.SS2.SSS2.p3.36.m4.1.1.3" xref="S3.SS2.SSS2.p3.36.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.36.m4.1b"><apply id="S3.SS2.SSS2.p3.36.m4.1.1.cmml" xref="S3.SS2.SSS2.p3.36.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.36.m4.1.1.1.cmml" xref="S3.SS2.SSS2.p3.36.m4.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p3.36.m4.1.1.2.cmml" xref="S3.SS2.SSS2.p3.36.m4.1.1.2">𝑆</ci><ci id="S3.SS2.SSS2.p3.36.m4.1.1.3.cmml" xref="S3.SS2.SSS2.p3.36.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.36.m4.1c">S^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.36.m4.1d">italic_S start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> to generate <math alttext="s^{t}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.37.m5.1"><semantics id="S3.SS2.SSS2.p3.37.m5.1a"><msubsup id="S3.SS2.SSS2.p3.37.m5.1.1" xref="S3.SS2.SSS2.p3.37.m5.1.1.cmml"><mi id="S3.SS2.SSS2.p3.37.m5.1.1.2.2" xref="S3.SS2.SSS2.p3.37.m5.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p3.37.m5.1.1.3" xref="S3.SS2.SSS2.p3.37.m5.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p3.37.m5.1.1.2.3" xref="S3.SS2.SSS2.p3.37.m5.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.37.m5.1b"><apply id="S3.SS2.SSS2.p3.37.m5.1.1.cmml" xref="S3.SS2.SSS2.p3.37.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.37.m5.1.1.1.cmml" xref="S3.SS2.SSS2.p3.37.m5.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p3.37.m5.1.1.2.cmml" xref="S3.SS2.SSS2.p3.37.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.37.m5.1.1.2.1.cmml" xref="S3.SS2.SSS2.p3.37.m5.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p3.37.m5.1.1.2.2.cmml" xref="S3.SS2.SSS2.p3.37.m5.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p3.37.m5.1.1.2.3.cmml" xref="S3.SS2.SSS2.p3.37.m5.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.SSS2.p3.37.m5.1.1.3.cmml" xref="S3.SS2.SSS2.p3.37.m5.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.37.m5.1c">s^{t}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.37.m5.1d">italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS2.p4">
<p class="ltx_p" id="S3.SS2.SSS2.p4.4">For <span class="ltx_text ltx_font_bold" id="S3.SS2.SSS2.p4.4.1">Scenario 3</span> that needs LLMs to find answers from their knowledge based on relevant texts in context. We propose the training task named <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p4.4.2">Contextual Stimulation</span>. <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p4.4.3">Contextual Stimulation</span> eliminates <math alttext="s_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p4.1.m1.1"><semantics id="S3.SS2.SSS2.p4.1.m1.1a"><msub id="S3.SS2.SSS2.p4.1.m1.1.1" xref="S3.SS2.SSS2.p4.1.m1.1.1.cmml"><mi id="S3.SS2.SSS2.p4.1.m1.1.1.2" xref="S3.SS2.SSS2.p4.1.m1.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS2.p4.1.m1.1.1.3" xref="S3.SS2.SSS2.p4.1.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p4.1.m1.1b"><apply id="S3.SS2.SSS2.p4.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.SSS2.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.SSS2.p4.1.m1.1.1.2">𝑠</ci><ci id="S3.SS2.SSS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.SSS2.p4.1.m1.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p4.1.m1.1c">s_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p4.1.m1.1d">italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> (both <math alttext="s^{p}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p4.2.m2.1"><semantics id="S3.SS2.SSS2.p4.2.m2.1a"><msubsup id="S3.SS2.SSS2.p4.2.m2.1.1" xref="S3.SS2.SSS2.p4.2.m2.1.1.cmml"><mi id="S3.SS2.SSS2.p4.2.m2.1.1.2.2" xref="S3.SS2.SSS2.p4.2.m2.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p4.2.m2.1.1.3" xref="S3.SS2.SSS2.p4.2.m2.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p4.2.m2.1.1.2.3" xref="S3.SS2.SSS2.p4.2.m2.1.1.2.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p4.2.m2.1b"><apply id="S3.SS2.SSS2.p4.2.m2.1.1.cmml" xref="S3.SS2.SSS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p4.2.m2.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p4.2.m2.1.1.2.1.cmml" xref="S3.SS2.SSS2.p4.2.m2.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p4.2.m2.1.1.2.2.cmml" xref="S3.SS2.SSS2.p4.2.m2.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p4.2.m2.1.1.2.3.cmml" xref="S3.SS2.SSS2.p4.2.m2.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p4.2.m2.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p4.2.m2.1c">s^{p}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p4.2.m2.1d">italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="s^{t}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p4.3.m3.1"><semantics id="S3.SS2.SSS2.p4.3.m3.1a"><msubsup id="S3.SS2.SSS2.p4.3.m3.1.1" xref="S3.SS2.SSS2.p4.3.m3.1.1.cmml"><mi id="S3.SS2.SSS2.p4.3.m3.1.1.2.2" xref="S3.SS2.SSS2.p4.3.m3.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p4.3.m3.1.1.3" xref="S3.SS2.SSS2.p4.3.m3.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p4.3.m3.1.1.2.3" xref="S3.SS2.SSS2.p4.3.m3.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p4.3.m3.1b"><apply id="S3.SS2.SSS2.p4.3.m3.1.1.cmml" xref="S3.SS2.SSS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p4.3.m3.1.1.1.cmml" xref="S3.SS2.SSS2.p4.3.m3.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p4.3.m3.1.1.2.cmml" xref="S3.SS2.SSS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p4.3.m3.1.1.2.1.cmml" xref="S3.SS2.SSS2.p4.3.m3.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p4.3.m3.1.1.2.2.cmml" xref="S3.SS2.SSS2.p4.3.m3.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p4.3.m3.1.1.2.3.cmml" xref="S3.SS2.SSS2.p4.3.m3.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.SSS2.p4.3.m3.1.1.3.cmml" xref="S3.SS2.SSS2.p4.3.m3.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p4.3.m3.1c">s^{t}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p4.3.m3.1d">italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>) from the set <math alttext="S" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p4.4.m4.1"><semantics id="S3.SS2.SSS2.p4.4.m4.1a"><mi id="S3.SS2.SSS2.p4.4.m4.1.1" xref="S3.SS2.SSS2.p4.4.m4.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p4.4.m4.1b"><ci id="S3.SS2.SSS2.p4.4.m4.1.1.cmml" xref="S3.SS2.SSS2.p4.4.m4.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p4.4.m4.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p4.4.m4.1d">italic_S</annotation></semantics></math> and uses the remaining sentences as retrieved tests for generation, which can be formulated as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="p(s^{t}_{l})=p_{\theta}([S-\{s_{l}\};s^{p}_{l}])." class="ltx_Math" display="block" id="S3.E6.m1.1"><semantics id="S3.E6.m1.1a"><mrow id="S3.E6.m1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.3.cmml">p</mi><mo id="S3.E6.m1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E6.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E6.m1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.cmml">l</mi><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.cmml">t</mi></msubsup><mo id="S3.E6.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.3.cmml">=</mo><mrow id="S3.E6.m1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.2.cmml"><msub id="S3.E6.m1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.2.3.2" xref="S3.E6.m1.1.1.1.1.2.3.2.cmml">p</mi><mi id="S3.E6.m1.1.1.1.1.2.3.3" xref="S3.E6.m1.1.1.1.1.2.3.3.cmml">θ</mi></msub><mo id="S3.E6.m1.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.2.2.cmml">⁢</mo><mrow id="S3.E6.m1.1.1.1.1.2.1.1" xref="S3.E6.m1.1.1.1.1.2.cmml"><mo id="S3.E6.m1.1.1.1.1.2.1.1.2" stretchy="false" xref="S3.E6.m1.1.1.1.1.2.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.2.1.1.1.2" xref="S3.E6.m1.1.1.1.1.2.1.1.1.3.cmml"><mo id="S3.E6.m1.1.1.1.1.2.1.1.1.2.3" stretchy="false" xref="S3.E6.m1.1.1.1.1.2.1.1.1.3.cmml">[</mo><mrow id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.3.cmml">S</mi><mo id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.2.cmml">−</mo><mrow id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.2.cmml"><mo id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.2.cmml">{</mo><msub id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2.cmml">s</mi><mi id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.3.cmml">l</mi></msub><mo id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.2.cmml">}</mo></mrow></mrow><mo id="S3.E6.m1.1.1.1.1.2.1.1.1.2.4" xref="S3.E6.m1.1.1.1.1.2.1.1.1.3.cmml">;</mo><msubsup id="S3.E6.m1.1.1.1.1.2.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.cmml"><mi id="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.2.2" xref="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.2.2.cmml">s</mi><mi id="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.3" xref="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.3.cmml">l</mi><mi id="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.2.3" xref="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.2.3.cmml">p</mi></msubsup><mo id="S3.E6.m1.1.1.1.1.2.1.1.1.2.5" stretchy="false" xref="S3.E6.m1.1.1.1.1.2.1.1.1.3.cmml">]</mo></mrow><mo id="S3.E6.m1.1.1.1.1.2.1.1.3" stretchy="false" xref="S3.E6.m1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E6.m1.1.1.1.2" lspace="0em" xref="S3.E6.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.1b"><apply id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1"><eq id="S3.E6.m1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.3"></eq><apply id="S3.E6.m1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1"><times id="S3.E6.m1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.2"></times><ci id="S3.E6.m1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3">𝑝</ci><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.3">𝑡</ci></apply><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3">𝑙</ci></apply></apply><apply id="S3.E6.m1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2"><times id="S3.E6.m1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.2"></times><apply id="S3.E6.m1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.2.3.2">𝑝</ci><ci id="S3.E6.m1.1.1.1.1.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.2.3.3">𝜃</ci></apply><list id="S3.E6.m1.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.2"><apply id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1"><minus id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.2"></minus><ci id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.3">𝑆</ci><set id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1"><apply id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2">𝑠</ci><ci id="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.3">𝑙</ci></apply></set></apply><apply id="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.2.2">subscript</csymbol><apply id="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.2.2">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.2.2">𝑠</ci><ci id="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.2.3">𝑝</ci></apply><ci id="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.1.1.1.2.2.3">𝑙</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.1c">p(s^{t}_{l})=p_{\theta}([S-\{s_{l}\};s^{p}_{l}]).</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.1d">italic_p ( italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) = italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( [ italic_S - { italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT } ; italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ] ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.SSS2.p4.8">In <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p4.8.1">Contextual Stimulation</span>, each sentence in retrieved texts <math alttext="S-\{s_{l}\}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p4.5.m1.1"><semantics id="S3.SS2.SSS2.p4.5.m1.1a"><mrow id="S3.SS2.SSS2.p4.5.m1.1.1" xref="S3.SS2.SSS2.p4.5.m1.1.1.cmml"><mi id="S3.SS2.SSS2.p4.5.m1.1.1.3" xref="S3.SS2.SSS2.p4.5.m1.1.1.3.cmml">S</mi><mo id="S3.SS2.SSS2.p4.5.m1.1.1.2" xref="S3.SS2.SSS2.p4.5.m1.1.1.2.cmml">−</mo><mrow id="S3.SS2.SSS2.p4.5.m1.1.1.1.1" xref="S3.SS2.SSS2.p4.5.m1.1.1.1.2.cmml"><mo id="S3.SS2.SSS2.p4.5.m1.1.1.1.1.2" stretchy="false" xref="S3.SS2.SSS2.p4.5.m1.1.1.1.2.cmml">{</mo><msub id="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1" xref="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1.2" xref="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1.3" xref="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1.3.cmml">l</mi></msub><mo id="S3.SS2.SSS2.p4.5.m1.1.1.1.1.3" stretchy="false" xref="S3.SS2.SSS2.p4.5.m1.1.1.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p4.5.m1.1b"><apply id="S3.SS2.SSS2.p4.5.m1.1.1.cmml" xref="S3.SS2.SSS2.p4.5.m1.1.1"><minus id="S3.SS2.SSS2.p4.5.m1.1.1.2.cmml" xref="S3.SS2.SSS2.p4.5.m1.1.1.2"></minus><ci id="S3.SS2.SSS2.p4.5.m1.1.1.3.cmml" xref="S3.SS2.SSS2.p4.5.m1.1.1.3">𝑆</ci><set id="S3.SS2.SSS2.p4.5.m1.1.1.1.2.cmml" xref="S3.SS2.SSS2.p4.5.m1.1.1.1.1"><apply id="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1.cmml" xref="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1.2">𝑠</ci><ci id="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS2.p4.5.m1.1.1.1.1.1.3">𝑙</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p4.5.m1.1c">S-\{s_{l}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p4.5.m1.1d">italic_S - { italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT }</annotation></semantics></math> is semantically relevant to <math alttext="s^{p}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p4.6.m2.1"><semantics id="S3.SS2.SSS2.p4.6.m2.1a"><msubsup id="S3.SS2.SSS2.p4.6.m2.1.1" xref="S3.SS2.SSS2.p4.6.m2.1.1.cmml"><mi id="S3.SS2.SSS2.p4.6.m2.1.1.2.2" xref="S3.SS2.SSS2.p4.6.m2.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p4.6.m2.1.1.3" xref="S3.SS2.SSS2.p4.6.m2.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p4.6.m2.1.1.2.3" xref="S3.SS2.SSS2.p4.6.m2.1.1.2.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p4.6.m2.1b"><apply id="S3.SS2.SSS2.p4.6.m2.1.1.cmml" xref="S3.SS2.SSS2.p4.6.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p4.6.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p4.6.m2.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p4.6.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p4.6.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p4.6.m2.1.1.2.1.cmml" xref="S3.SS2.SSS2.p4.6.m2.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p4.6.m2.1.1.2.2.cmml" xref="S3.SS2.SSS2.p4.6.m2.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p4.6.m2.1.1.2.3.cmml" xref="S3.SS2.SSS2.p4.6.m2.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.SSS2.p4.6.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p4.6.m2.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p4.6.m2.1c">s^{p}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p4.6.m2.1d">italic_s start_POSTSUPERSCRIPT italic_p end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> but cannot help LLMs to directly generate <math alttext="s^{t}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p4.7.m3.1"><semantics id="S3.SS2.SSS2.p4.7.m3.1a"><msubsup id="S3.SS2.SSS2.p4.7.m3.1.1" xref="S3.SS2.SSS2.p4.7.m3.1.1.cmml"><mi id="S3.SS2.SSS2.p4.7.m3.1.1.2.2" xref="S3.SS2.SSS2.p4.7.m3.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p4.7.m3.1.1.3" xref="S3.SS2.SSS2.p4.7.m3.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p4.7.m3.1.1.2.3" xref="S3.SS2.SSS2.p4.7.m3.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p4.7.m3.1b"><apply id="S3.SS2.SSS2.p4.7.m3.1.1.cmml" xref="S3.SS2.SSS2.p4.7.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p4.7.m3.1.1.1.cmml" xref="S3.SS2.SSS2.p4.7.m3.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p4.7.m3.1.1.2.cmml" xref="S3.SS2.SSS2.p4.7.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p4.7.m3.1.1.2.1.cmml" xref="S3.SS2.SSS2.p4.7.m3.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p4.7.m3.1.1.2.2.cmml" xref="S3.SS2.SSS2.p4.7.m3.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p4.7.m3.1.1.2.3.cmml" xref="S3.SS2.SSS2.p4.7.m3.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.SSS2.p4.7.m3.1.1.3.cmml" xref="S3.SS2.SSS2.p4.7.m3.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p4.7.m3.1c">s^{t}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p4.7.m3.1d">italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>. LLMs need to be stimulated by relevant information to generate <math alttext="s^{t}_{l}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p4.8.m4.1"><semantics id="S3.SS2.SSS2.p4.8.m4.1a"><msubsup id="S3.SS2.SSS2.p4.8.m4.1.1" xref="S3.SS2.SSS2.p4.8.m4.1.1.cmml"><mi id="S3.SS2.SSS2.p4.8.m4.1.1.2.2" xref="S3.SS2.SSS2.p4.8.m4.1.1.2.2.cmml">s</mi><mi id="S3.SS2.SSS2.p4.8.m4.1.1.3" xref="S3.SS2.SSS2.p4.8.m4.1.1.3.cmml">l</mi><mi id="S3.SS2.SSS2.p4.8.m4.1.1.2.3" xref="S3.SS2.SSS2.p4.8.m4.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p4.8.m4.1b"><apply id="S3.SS2.SSS2.p4.8.m4.1.1.cmml" xref="S3.SS2.SSS2.p4.8.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p4.8.m4.1.1.1.cmml" xref="S3.SS2.SSS2.p4.8.m4.1.1">subscript</csymbol><apply id="S3.SS2.SSS2.p4.8.m4.1.1.2.cmml" xref="S3.SS2.SSS2.p4.8.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p4.8.m4.1.1.2.1.cmml" xref="S3.SS2.SSS2.p4.8.m4.1.1">superscript</csymbol><ci id="S3.SS2.SSS2.p4.8.m4.1.1.2.2.cmml" xref="S3.SS2.SSS2.p4.8.m4.1.1.2.2">𝑠</ci><ci id="S3.SS2.SSS2.p4.8.m4.1.1.2.3.cmml" xref="S3.SS2.SSS2.p4.8.m4.1.1.2.3">𝑡</ci></apply><ci id="S3.SS2.SSS2.p4.8.m4.1.1.3.cmml" xref="S3.SS2.SSS2.p4.8.m4.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p4.8.m4.1c">s^{t}_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p4.8.m4.1d">italic_s start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> based on their own knowledge.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.3 </span>Training Strategy</h4>
<div class="ltx_para" id="S3.SS2.SSS3.p1">
<p class="ltx_p" id="S3.SS2.SSS3.p1.2">After the data construction for three training tasks, we mix them for multi-task training. Specifically, we use LoRA <cite class="ltx_cite ltx_citemacro_cite">Hu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib16" title="">2021</a>)</cite> to train the pre-trained LLMs on the mixed dataset of three tasks. Three tasks are trained alternately in batches. Since <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS3.p1.2.1">Select and Copy</span> is relatively simple for LLMs, it only accounts for <math alttext="20\%" class="ltx_Math" display="inline" id="S3.SS2.SSS3.p1.1.m1.1"><semantics id="S3.SS2.SSS3.p1.1.m1.1a"><mrow id="S3.SS2.SSS3.p1.1.m1.1.1" xref="S3.SS2.SSS3.p1.1.m1.1.1.cmml"><mn id="S3.SS2.SSS3.p1.1.m1.1.1.2" xref="S3.SS2.SSS3.p1.1.m1.1.1.2.cmml">20</mn><mo id="S3.SS2.SSS3.p1.1.m1.1.1.1" xref="S3.SS2.SSS3.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS3.p1.1.m1.1b"><apply id="S3.SS2.SSS3.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS3.p1.1.m1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS3.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS3.p1.1.m1.1.1.1">percent</csymbol><cn id="S3.SS2.SSS3.p1.1.m1.1.1.2.cmml" type="integer" xref="S3.SS2.SSS3.p1.1.m1.1.1.2">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS3.p1.1.m1.1c">20\%</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS3.p1.1.m1.1d">20 %</annotation></semantics></math> of the batches, while <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS3.p1.2.2">Correct and Complete</span> and <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS3.p1.2.3">Contextual Stimulation</span> each account for <math alttext="40\%" class="ltx_Math" display="inline" id="S3.SS2.SSS3.p1.2.m2.1"><semantics id="S3.SS2.SSS3.p1.2.m2.1a"><mrow id="S3.SS2.SSS3.p1.2.m2.1.1" xref="S3.SS2.SSS3.p1.2.m2.1.1.cmml"><mn id="S3.SS2.SSS3.p1.2.m2.1.1.2" xref="S3.SS2.SSS3.p1.2.m2.1.1.2.cmml">40</mn><mo id="S3.SS2.SSS3.p1.2.m2.1.1.1" xref="S3.SS2.SSS3.p1.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS3.p1.2.m2.1b"><apply id="S3.SS2.SSS3.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS3.p1.2.m2.1.1"><csymbol cd="latexml" id="S3.SS2.SSS3.p1.2.m2.1.1.1.cmml" xref="S3.SS2.SSS3.p1.2.m2.1.1.1">percent</csymbol><cn id="S3.SS2.SSS3.p1.2.m2.1.1.2.cmml" type="integer" xref="S3.SS2.SSS3.p1.2.m2.1.1.2">40</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS3.p1.2.m2.1c">40\%</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS3.p1.2.m2.1d">40 %</annotation></semantics></math> of the batches. Using LoRA not only reduces training costs but also makes our method plug-and-play. The trained LoRA parameters are loaded when LLMs need to perform RAG and unloaded when RAG is not needed.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>
<figure class="ltx_table" id="S4.T1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T1.1" style="width:477.0pt;height:169.1pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-42.1pt,14.9pt) scale(0.85,0.85) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T1.1.1">
<tr class="ltx_tr" id="S4.T1.1.1.1">
<td class="ltx_td ltx_border_tt" id="S4.T1.1.1.1.1" style="padding:0.5pt 2.8pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T1.1.1.1.2" style="padding:0.5pt 2.8pt;">Soft-Filling</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T1.1.1.1.3" style="padding:0.5pt 2.8pt;">ODQA</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T1.1.1.1.4" style="padding:0.5pt 2.8pt;">Multi-Hop QA</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.1.5" style="padding:0.5pt 2.8pt;">LFQA</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.1.6" style="padding:0.5pt 2.8pt;">Dialog</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.1.7" style="padding:0.5pt 2.8pt;">LM</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T1.1.1.1.8" style="padding:0.5pt 2.8pt;">Code Gen</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.1.9" rowspan="3" style="padding:0.5pt 2.8pt;"><span class="ltx_text" id="S4.T1.1.1.1.9.1">Overall</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.2">
<td class="ltx_td" id="S4.T1.1.1.2.1" style="padding:0.5pt 2.8pt;"></td>
<td class="ltx_td ltx_align_center" colspan="2" id="S4.T1.1.1.2.2" style="padding:0.5pt 2.8pt;">Accuracy</td>
<td class="ltx_td ltx_align_center" colspan="2" id="S4.T1.1.1.2.3" style="padding:0.5pt 2.8pt;">Accuracy</td>
<td class="ltx_td ltx_align_center" colspan="2" id="S4.T1.1.1.2.4" style="padding:0.5pt 2.8pt;">Accuracy</td>
<td class="ltx_td ltx_align_left" id="S4.T1.1.1.2.5" style="padding:0.5pt 2.8pt;">ROUGE</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.6" style="padding:0.5pt 2.8pt;">F1</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.2.7" style="padding:0.5pt 2.8pt;">ROUGE</td>
<td class="ltx_td ltx_align_center" colspan="2" id="S4.T1.1.1.2.8" style="padding:0.5pt 2.8pt;">CodeBLEU</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.3">
<td class="ltx_td" id="S4.T1.1.1.3.1" style="padding:0.5pt 2.8pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.2" style="padding:0.5pt 2.8pt;">T-REx</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.3" style="padding:0.5pt 2.8pt;">ZS</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.4" style="padding:0.5pt 2.8pt;">NQ</td>
<td class="ltx_td ltx_align_left" id="S4.T1.1.1.3.5" style="padding:0.5pt 2.8pt;">WebQ</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.6" style="padding:0.5pt 2.8pt;">Hotpot</td>
<td class="ltx_td ltx_align_left" id="S4.T1.1.1.3.7" style="padding:0.5pt 2.8pt;">Musique</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.8" style="padding:0.5pt 2.8pt;">ElI5</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.9" style="padding:0.5pt 2.8pt;">Wow</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.10" style="padding:0.5pt 2.8pt;">WikiText</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.11" style="padding:0.5pt 2.8pt;">Python</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.12" style="padding:0.5pt 2.8pt;">Java</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.1.1.4.1" style="padding:0.5pt 2.8pt;">LLaMA-2-7B</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4.2" style="padding:0.5pt 2.8pt;">55.60</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4.3" style="padding:0.5pt 2.8pt;">54.08</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4.4" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.4.4.1">46.82</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4.5" style="padding:0.5pt 2.8pt;">43.52</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4.6" style="padding:0.5pt 2.8pt;">39.40</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4.7" style="padding:0.5pt 2.8pt;">25.95</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4.8" style="padding:0.5pt 2.8pt;">15.18</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4.9" style="padding:0.5pt 2.8pt;">7.85</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4.10" style="padding:0.5pt 2.8pt;">60.77</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4.11" style="padding:0.5pt 2.8pt;">21.44</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4.12" style="padding:0.5pt 2.8pt;">22.99</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.4.13" style="padding:0.5pt 2.8pt;">35.78</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.5">
<td class="ltx_td ltx_align_left" id="S4.T1.1.1.5.1" style="padding:0.5pt 2.8pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T1.1.1.5.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T1.1.1.5.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.2" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.2.1">65.91</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.3" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.3.1">57.01</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.4" style="padding:0.5pt 2.8pt;">45.74</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.5" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.5.1">44.68</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.6" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.6.1">46.56</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.7" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.7.1">30.19</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.8" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.8.1">17.18</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.9" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.9.1">9.09</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.10" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.10.1">62.91</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.11" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.11.1">26.75</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.12" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.12.1">32.06</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.5.13" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.13.1">39.83</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.6">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.1.1.6.1" style="padding:0.5pt 2.8pt;">LLaMA-2-7B-chat</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.6.2" style="padding:0.5pt 2.8pt;">60.63</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.6.3" style="padding:0.5pt 2.8pt;">55.03</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.6.4" style="padding:0.5pt 2.8pt;">49.42</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.6.5" style="padding:0.5pt 2.8pt;">46.72</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.6.6" style="padding:0.5pt 2.8pt;">50.03</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.6.7" style="padding:0.5pt 2.8pt;">42.69</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.6.8" style="padding:0.5pt 2.8pt;">27.81</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.6.9" style="padding:0.5pt 2.8pt;">10.21</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.6.10" style="padding:0.5pt 2.8pt;">60.26</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.6.11" style="padding:0.5pt 2.8pt;">22.46</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.6.12" style="padding:0.5pt 2.8pt;">23.90</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.6.13" style="padding:0.5pt 2.8pt;">40.83</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.7">
<td class="ltx_td ltx_align_left" id="S4.T1.1.1.7.1" style="padding:0.5pt 2.8pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T1.1.1.7.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T1.1.1.7.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.2" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.2.1">65.77</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.3" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.3.1">58.32</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.4" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.4.1">53.93</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.5" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.5.1">49.13</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.6" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.6.1">52.01</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.7" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.7.1">44.45</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.8" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.8.1">28.15</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.9" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.9.1">10.49</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.10" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.10.1">63.24</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.11" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.11.1">27.25</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.12" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.12.1">28.79</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.7.13" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.13.1">43.78</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.8">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.1.1.8.1" style="padding:0.5pt 2.8pt;">LLaMA-2-13B</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.2" style="padding:0.5pt 2.8pt;">60.08</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.3" style="padding:0.5pt 2.8pt;">50.77</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.4" style="padding:0.5pt 2.8pt;">47.40</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.5" style="padding:0.5pt 2.8pt;">44.62</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.6" style="padding:0.5pt 2.8pt;">42.12</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.7" style="padding:0.5pt 2.8pt;">25.78</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.8" style="padding:0.5pt 2.8pt;">14.80</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.9" style="padding:0.5pt 2.8pt;">7.04</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.10" style="padding:0.5pt 2.8pt;">62.20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.11" style="padding:0.5pt 2.8pt;">21.52</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.12" style="padding:0.5pt 2.8pt;">29.16</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.8.13" style="padding:0.5pt 2.8pt;">36.86</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.9">
<td class="ltx_td ltx_align_left" id="S4.T1.1.1.9.1" style="padding:0.5pt 2.8pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T1.1.1.9.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T1.1.1.9.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.9.2" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.2.1">62.80</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.9.3" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.3.1">55.63</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.9.4" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.4.1">47.82</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.9.5" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.5.1">45.42</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.9.6" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.6.1">51.48</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.9.7" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.7.1">35.02</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.9.8" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.8.1">17.48</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.9.9" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.9.1">7.20</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.9.10" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.10.1">64.14</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.9.11" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.11.1">29.00</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.9.12" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.12.1">35.50</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.9.13" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.13.1">41.04</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.10">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.1.1.10.1" style="padding:0.5pt 2.8pt;">LLaMA-2-13B-chat</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.10.2" style="padding:0.5pt 2.8pt;">62.53</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.10.3" style="padding:0.5pt 2.8pt;">56.81</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.10.4" style="padding:0.5pt 2.8pt;">50.36</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.10.5" style="padding:0.5pt 2.8pt;">45.47</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.10.6" style="padding:0.5pt 2.8pt;">61.23</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.10.7" style="padding:0.5pt 2.8pt;">47.06</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.10.8" style="padding:0.5pt 2.8pt;">27.07</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.10.9" style="padding:0.5pt 2.8pt;">11.19</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.10.10" style="padding:0.5pt 2.8pt;">60.52</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.10.11" style="padding:0.5pt 2.8pt;">22.34</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.10.12" style="padding:0.5pt 2.8pt;">30.96</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.10.13" style="padding:0.5pt 2.8pt;">43.23</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.11">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T1.1.1.11.1" style="padding:0.5pt 2.8pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T1.1.1.11.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T1.1.1.11.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11.2" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.2.1">65.39</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11.3" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.3.1">59.05</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11.4" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.4.1">54.04</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11.5" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.5.1">51.07</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11.6" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.6.1">61.91</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11.7" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.7.1">47.93</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11.8" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.8.1">27.24</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11.9" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.9.1">11.38</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11.10" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.10.1">63.92</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11.11" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.11.1">31.98</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11.12" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.12.1">38.12</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11.13" style="padding:0.5pt 2.8pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.13.1">46.55</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Overall performance on retrieval-augmented generation on 11 datasets across 7 tasks in zero-shot setting.</figcaption>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Datasets and Evaluation Metrics</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">To demonstrate the generality of our unsupervised training method, we evaluate the performance of <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p1.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p1.1.2">RAG </span>on eleven datasets across seven tasks.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.1">Open-domain Question Answering</span> Open-domain QA is a typical knowledge-intensive task that can directly evaluate the knowledge of LLMs. We use Natural Questions <cite class="ltx_cite ltx_citemacro_cite">Kwiatkowski et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib22" title="">2019</a>)</cite> (NQ) and WebQuestions <cite class="ltx_cite ltx_citemacro_cite">Berant et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib2" title="">2013</a>)</cite> (WebQ) as the datasets. We use cover Exact Match (EM) to determine whether the ground truth exactly appears in the output and the accuracy is used as the evaluation metric, following <cite class="ltx_cite ltx_citemacro_cite">Schick et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib37" title="">2023</a>)</cite></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p3.1.1">Soft Filling</span> Soft filling requires LLMs to output the object entities for the input subject entity and relation. We use two knowledge-intensive datasets including Zero Shot RE <cite class="ltx_cite ltx_citemacro_cite">Levy et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib23" title="">2017</a>)</cite> (ZS) and T-REx <cite class="ltx_cite ltx_citemacro_cite">Elsahar et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib12" title="">2018</a>)</cite>. We use the same evaluation metric as Open-domain QA.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p4.1.1">Long-Form Question Answering</span> Compared with open-domain QA, LFQA is the QA task whose ground truth answer is a relatively long text. We use ELI5 <cite class="ltx_cite ltx_citemacro_cite">Fan et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib13" title="">2019</a>)</cite>, a knowledge-intensive dataset for LFQA. We use ROUGE-L as the evaluation metric <cite class="ltx_cite ltx_citemacro_cite">Petroni et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib30" title="">2020</a>)</cite>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p5">
<p class="ltx_p" id="S4.SS1.p5.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p5.1.1">Dialogue</span> Dialogue in our experiment focuses on the factual knowledge. We use Wizard of Wikipedia <cite class="ltx_cite ltx_citemacro_cite">Dinan et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib11" title="">2018</a>)</cite> (WoW), a knowledge-powered dialogue dataset whose conversation is grounded with knowledge. We use F1 as the evaluation metric <cite class="ltx_cite ltx_citemacro_cite">Petroni et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib30" title="">2020</a>)</cite>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p6">
<p class="ltx_p" id="S4.SS1.p6.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p6.1.1">Language Modeling</span> We use WikiText-103 <cite class="ltx_cite ltx_citemacro_cite">Merity (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib26" title="">2016</a>)</cite>, a popular dataset for language modeling. We use ROUGE-L as the evaluation metric.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p7">
<p class="ltx_p" id="S4.SS1.p7.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p7.1.1">Multi-Hop Question Answering</span> Multi-hop QA measures the ability of LLMs to perform combined reasoning on multiple knowledge. We use HotpotQA <cite class="ltx_cite ltx_citemacro_cite">Yang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib48" title="">2018</a>)</cite> and Musique <cite class="ltx_cite ltx_citemacro_cite">Trivedi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib44" title="">2022b</a>)</cite> for this task. We use the same evaluation metric as Open-domain QA.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p8">
<p class="ltx_p" id="S4.SS1.p8.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p8.1.1">Code Generation</span> Code generation aims to generate the code for the given natural language. We use Java and Python in CodeXGLUE <cite class="ltx_cite ltx_citemacro_cite">Iyer et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib18" title="">2018</a>)</cite> for this task. We use CodeBLEU <cite class="ltx_cite ltx_citemacro_cite">Ren et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib35" title="">2020</a>)</cite> as the evaluation metric.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Experimental Settings</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">LLMs in our paper include LLaMA-2-7B, 13B and their chat version <cite class="ltx_cite ltx_citemacro_cite">Touvron et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib42" title="">2023b</a>)</cite>. We use LoRA to fine-tune these pre-trained LLMs on four A100 GPUs with the learning rate of 1e-5, per-gpu batch size of 4 (for 7B) and 2 (for 13B) for 5K steps. As for the training data, we intercept <math alttext="15" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1"><semantics id="S4.SS2.p1.1.m1.1a"><mn id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">15</mn><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><cn id="S4.SS2.p1.1.m1.1.1.cmml" type="integer" xref="S4.SS2.p1.1.m1.1.1">15</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">15</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">15</annotation></semantics></math> consecutive sentences for each example.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">As for the retrieval model and retrieval database, for Open-domain QA, Soft Filling and Language Modeling, we use ColBERTv2 <cite class="ltx_cite ltx_citemacro_cite">Santhanam et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib36" title="">2022</a>)</cite>, a late-interaction model with excellent generalization ability as the retriever, and use Wikipedia consisting of 21,015,324 passages <cite class="ltx_cite ltx_citemacro_cite">Karpukhin et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib20" title="">2020</a>)</cite> as retrieval database.
For Code Generation, we SCODE-R <cite class="ltx_cite ltx_citemacro_cite">Parvez et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib28" title="">2021</a>)</cite> as code retriever and use deduplicated source codes in CodeSearchNET <cite class="ltx_cite ltx_citemacro_cite">Husain et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib17" title="">2019</a>)</cite> as retrievel database.
For all the above tasks, we give Top-5 retrieved passages to each example. For LFQA, Dialog, and Multi-Hop QA, we use the list of contextual passages provided in the datasets as the retrieved list (distractor setting). <span class="ltx_text ltx_font_bold" id="S4.SS2.p2.1.1">In each experiment, all baselines and our method share the same retrieved documents.</span></p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Experimental Results</h3>
<section class="ltx_paragraph" id="S4.SS3.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Main Results (Zero-Shot Setting)</h5>
<div class="ltx_para" id="S4.SS3.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS3.SSS0.Px1.p1.1">Experimental results in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.T1" title="Table 1 ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a> show the improvement (the average is 9.39%) of our method on the utilization of retrieved knowledge from four aspects.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS0.Px1.p2">
<p class="ltx_p" id="S4.SS3.SSS0.Px1.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.SSS0.Px1.p2.1.1">(1)</span> Short and Direct Knowledge. Our method can significantly improve the RAG performance of LLaMA on ODQA and Slot-Filling tasks. The answer in ODQA and Slot-Filling is short and direct, it can directly reflect the ability of LLMs to utilize the knowledge in retrieved texts.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS0.Px1.p3">
<p class="ltx_p" id="S4.SS3.SSS0.Px1.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.SSS0.Px1.p3.1.1">(2)</span> Reasoning on Multiple Knowledge. Our <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p3.1.2">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p3.1.3">RAG </span>has advantages in cross-passage reasoning on multiple knowledge of retrieval lists. Questions in both HotpotQA and Musique are complex and need multiple knowledge from different passages. These questions not only require LLMs to extract correct knowledge from the retrieved passage list but also to combine the knowledge of different passages in the list for reasoning to give the final answer.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS0.Px1.p4">
<p class="ltx_p" id="S4.SS3.SSS0.Px1.p4.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.SSS0.Px1.p4.1.1">(3)</span> Long and Complex Knowledge. Our <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p4.1.2">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p4.1.3">RAG </span>can improve the RAG performance of LLaMA on LFQA, Dialogue and Language Modeling. These tasks require LLaMA to output long and complex texts grounded with intensive knowledge.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS0.Px1.p5">
<p class="ltx_p" id="S4.SS3.SSS0.Px1.p5.1"><span class="ltx_text ltx_font_bold" id="S4.SS3.SSS0.Px1.p5.1.1">(4)</span> Code Knowledge.
Our <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p5.1.2">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p5.1.3">RAG </span>can also improve the RAG performance of LLaMA on Code Generation. This further demonstrates the cross-task generality of <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p5.1.4">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p5.1.5">RAG</span>. Our method is only trained on natural language but can also show advantages in programming language tasks, which demonstrates that <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p5.1.6">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p5.1.7">RAG </span>successfully enables LLMs to learn how to exploit the retrieved information rather than just fitting the data. Unsupervised and prefix language modeling training paradigms make <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p5.1.8">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px1.p5.1.9">RAG </span>general in various tasks.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS3.SSS0.Px2">
<h5 class="ltx_title ltx_title_paragraph">Results on In-context Learning for RAG</h5>
<div class="ltx_para" id="S4.SS3.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS3.SSS0.Px2.p1.1">Besides, our <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px2.p1.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px2.p1.1.2">RAG </span>allows further improvement cooperating with in-context learning (ICL). ICL <cite class="ltx_cite ltx_citemacro_cite">Brown et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib4" title="">2020</a>)</cite> works by prepending a few examples of the target task before the query, which helps LLMs understand the task.
However, ICL may not always help in the RAG setting, mainly due to the confusion between the retrieved texts of the query and the few-shot examples.
As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.T3" title="Table 3 ‣ Results on In-context Learning for RAG ‣ 4.3 Experimental Results ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3</span></a>, LLaMA-2 cannot further improve the RAG performance from ICL, even sometimes hurt by the few-shot examples while <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px2.p1.1.3">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px2.p1.1.4">RAG </span>can further improve RAG by ICL. This is mainly because <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px2.p1.1.5">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px2.p1.1.6">RAG </span>enables LLaMA to understand the task form of RAG, thereby better learning the general task pattern from ICL examples. In this experiment, we construct the ICL example consisting of a query, a relevant passage, and an answer. For a fair comparison, we need to ensure that the performance of our method and the baseline are close in non-ICL setting. Therefore, we select queries for which the baseline gives the same answer as our method (both correct or both incorrect) and evaluate the ICL performance on these queries.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T2.1" style="width:465.5pt;height:153.8pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-41.1pt,13.5pt) scale(0.85,0.85) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T2.1.1">
<tr class="ltx_tr" id="S4.T2.1.1.1">
<td class="ltx_td ltx_border_tt" id="S4.T2.1.1.1.1" style="padding:0.25pt 2.0pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S4.T2.1.1.1.2" style="padding:0.25pt 2.0pt;">T-REx</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S4.T2.1.1.1.3" style="padding:0.25pt 2.0pt;">ZS</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S4.T2.1.1.1.4" style="padding:0.25pt 2.0pt;">NQ</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S4.T2.1.1.1.5" style="padding:0.25pt 2.0pt;">WebQ</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.2">
<td class="ltx_td" id="S4.T2.1.1.2.1" style="padding:0.25pt 2.0pt;"></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.2.2" style="padding:0.25pt 2.0pt;">has-ans.</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.2.3" style="padding:0.25pt 2.0pt;">replace</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.2.4" style="padding:0.25pt 2.0pt;">no-ans.</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.2.5" style="padding:0.25pt 2.0pt;">has-ans.</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.2.6" style="padding:0.25pt 2.0pt;">replace</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.2.7" style="padding:0.25pt 2.0pt;">no-ans.</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.2.8" style="padding:0.25pt 2.0pt;">has-ans.</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.2.9" style="padding:0.25pt 2.0pt;">replace</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.2.10" style="padding:0.25pt 2.0pt;">no-ans.</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.2.11" style="padding:0.25pt 2.0pt;">has-ans.</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.2.12" style="padding:0.25pt 2.0pt;">replace</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.2.13" style="padding:0.25pt 2.0pt;">no-ans.</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.1" style="padding:0.25pt 2.0pt;">LLaMA-2-7B</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.2" style="padding:0.25pt 2.0pt;">67.19</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.3" style="padding:0.25pt 2.0pt;">38.37</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.4" style="padding:0.25pt 2.0pt;">6.49</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.5" style="padding:0.25pt 2.0pt;">64.41</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.6" style="padding:0.25pt 2.0pt;">12.78</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.7" style="padding:0.25pt 2.0pt;">2.44</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.8" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.3.8.1">65.54</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.9" style="padding:0.25pt 2.0pt;">16.91</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.10" style="padding:0.25pt 2.0pt;">3.41</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.11" style="padding:0.25pt 2.0pt;">60.64</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.12" style="padding:0.25pt 2.0pt;">25.68</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.3.13" style="padding:0.25pt 2.0pt;">7.90</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.4">
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.1" style="padding:0.25pt 2.0pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T2.1.1.4.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T2.1.1.4.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.2" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.2.1">79.80</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.3" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.3.1">41.79</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.4" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.4.1">7.04</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.5" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.5.1">68.10</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.6" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.6.1">13.55</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.7" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.7.1">3.26</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.8" style="padding:0.25pt 2.0pt;">64.43</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.9" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.9.1">22.68</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.10" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.10.1">4.70</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.11" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.11.1">62.70</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.12" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.12.1">26.48</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.4.13" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.13.1">8.96</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.5">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.1" style="padding:0.25pt 2.0pt;">LLaMA-2-7B-chat</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.2" style="padding:0.25pt 2.0pt;">73.79</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.3" style="padding:0.25pt 2.0pt;">40.56</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.4" style="padding:0.25pt 2.0pt;">4.87</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.5" style="padding:0.25pt 2.0pt;">66.71</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.6" style="padding:0.25pt 2.0pt;">14.19</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.7" style="padding:0.25pt 2.0pt;">1.63</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.8" style="padding:0.25pt 2.0pt;">68.72</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.9" style="padding:0.25pt 2.0pt;">20.81</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.10" style="padding:0.25pt 2.0pt;">4.50</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.11" style="padding:0.25pt 2.0pt;">66.86</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.12" style="padding:0.25pt 2.0pt;">28.63</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.5.13" style="padding:0.25pt 2.0pt;">5.62</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.6">
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.1" style="padding:0.25pt 2.0pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T2.1.1.6.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T2.1.1.6.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.2" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.2.1">80.01</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.3" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.3.1">42.92</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.4" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.4.1">5.42</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.5" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.5.1">69.64</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.6" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.6.1">15.02</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.7" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.7.1">2.65</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.8" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.8.1">70.99</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.9" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.9.1">23.14</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.10" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.10.1">5.62</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.11" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.11.1">68.73</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.12" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.12.1">29.74</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.6.13" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.13.1">9.12</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.1" style="padding:0.25pt 2.0pt;">LLaMA-2-13B</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.2" style="padding:0.25pt 2.0pt;">72.26</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.3" style="padding:0.25pt 2.0pt;">39.47</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.4" style="padding:0.25pt 2.0pt;">7.76</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.5" style="padding:0.25pt 2.0pt;">60.14</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.6" style="padding:0.25pt 2.0pt;">19.71</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.7" style="padding:0.25pt 2.0pt;">4.69</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.8" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.7.8.1">65.94</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.9" style="padding:0.25pt 2.0pt;">18.45</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.10" style="padding:0.25pt 2.0pt;">4.42</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.11" style="padding:0.25pt 2.0pt;">62.09</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.12" style="padding:0.25pt 2.0pt;">26.63</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.7.13" style="padding:0.25pt 2.0pt;">9.27</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.8">
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.1" style="padding:0.25pt 2.0pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T2.1.1.8.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T2.1.1.8.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.2" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.2.1">75.80</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.3" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.3.1">44.08</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.4" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.4.1">8.48</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.5" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.5.1">65.94</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.6" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.6.1">23.21</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.7" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.7.1">4.90</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.8" style="padding:0.25pt 2.0pt;">64.98</td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.9" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.9.1">27.60</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.10" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.10.1">8.02</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.11" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.11.1">63.51</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.12" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.12.1">28.24</span></td>
<td class="ltx_td ltx_align_left" id="S4.T2.1.1.8.13" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.8.13.1">9.88</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.9">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.1" style="padding:0.25pt 2.0pt;">LLaMA-2-13B-chat</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.2" style="padding:0.25pt 2.0pt;">75.96</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.3" style="padding:0.25pt 2.0pt;">43.79</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.4" style="padding:0.25pt 2.0pt;">5.59</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.5" style="padding:0.25pt 2.0pt;">67.03</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.6" style="padding:0.25pt 2.0pt;">16.58</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.7" style="padding:0.25pt 2.0pt;">1.42</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.8" style="padding:0.25pt 2.0pt;">69.37</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.9" style="padding:0.25pt 2.0pt;">30.72</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.10" style="padding:0.25pt 2.0pt;">6.16</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.11" style="padding:0.25pt 2.0pt;">65.07</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.12" style="padding:0.25pt 2.0pt;">31.88</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.1.1.9.13" style="padding:0.25pt 2.0pt;">5.47</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.10">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.1" style="padding:0.25pt 2.0pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T2.1.1.10.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T2.1.1.10.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.2" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.10.2.1">79.25</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.3" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.10.3.1">48.59</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.4" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.10.4.1">6.67</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.5" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.10.5.1">70.26</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.6" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.10.6.1">25.02</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.7" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.10.7.1">3.87</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.8" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.10.8.1">73.73</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.9" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.10.9.1">33.85</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.10" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.10.10.1">8.39</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.11" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.10.11.1">70.59</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.12" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.10.12.1">37.48</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.1.1.10.13" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.10.13.1">11.25</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Experimental results on three scenarios. “has-ans.” is the first scenario that correct answers are in retrieved texts. “replace” is the second scenario that correct answers are randomly replaced with other phrases to simulate the incorrect and incomplete knowledge. “no-ans.” is the third scenario that retrieval cannot find any answers.</figcaption>
</figure>
<figure class="ltx_table" id="S4.T3">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T3.1" style="width:216.1pt;height:144pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-27.0pt,18.0pt) scale(0.8,0.8) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T3.1.1">
<tr class="ltx_tr" id="S4.T3.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T3.1.1.1.1" rowspan="2" style="padding:0.5pt 2.5pt;"><span class="ltx_text" id="S4.T3.1.1.1.1.1">Data</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T3.1.1.1.2" rowspan="2" style="padding:0.5pt 2.5pt;"><span class="ltx_text" id="S4.T3.1.1.1.2.1">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="6" id="S4.T3.1.1.1.3" style="padding:0.5pt 2.5pt;">Number of Examples in ICL</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.2">
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.2.1" style="padding:0.5pt 2.5pt;">0</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.2.2" style="padding:0.5pt 2.5pt;">2</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.2.3" style="padding:0.5pt 2.5pt;">4</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.2.4" style="padding:0.5pt 2.5pt;">8</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.2.5" style="padding:0.5pt 2.5pt;">12</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.2.6" style="padding:0.5pt 2.5pt;">16</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.1.1.3.1" rowspan="2" style="padding:0.5pt 2.5pt;"><span class="ltx_text" id="S4.T3.1.1.3.1.1">NQ</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.1.1.3.2" style="padding:0.5pt 2.5pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.3" style="padding:0.5pt 2.5pt;">43.36</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.4" style="padding:0.5pt 2.5pt;">23.34</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.5" style="padding:0.5pt 2.5pt;">16.60</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.6" style="padding:0.5pt 2.5pt;">39.22</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.7" style="padding:0.5pt 2.5pt;">44.32</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.8" style="padding:0.5pt 2.5pt;">43.00</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.4">
<td class="ltx_td ltx_align_left" id="S4.T3.1.1.4.1" style="padding:0.5pt 2.5pt;">+<span class="ltx_text ltx_font_smallcaps" id="S4.T3.1.1.4.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T3.1.1.4.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.2" style="padding:0.5pt 2.5pt;">43.36</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.3" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.4.3.1">44.35</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.4" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.4.4.1">45.88</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.5" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.4.5.1">44.45</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.6" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.4.6.1">47.75</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.7" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.4.7.1">46.25</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.5">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.1.1.5.1" rowspan="2" style="padding:0.5pt 2.5pt;"><span class="ltx_text" id="S4.T3.1.1.5.1.1">WebQ</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.1.1.5.2" style="padding:0.5pt 2.5pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.5.3" style="padding:0.5pt 2.5pt;">43.20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.5.4" style="padding:0.5pt 2.5pt;">18.36</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.5.5" style="padding:0.5pt 2.5pt;">9.40</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.5.6" style="padding:0.5pt 2.5pt;">36.71</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.5.7" style="padding:0.5pt 2.5pt;">44.80</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.5.8" style="padding:0.5pt 2.5pt;">44.81</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.6">
<td class="ltx_td ltx_align_left" id="S4.T3.1.1.6.1" style="padding:0.5pt 2.5pt;">+<span class="ltx_text ltx_font_smallcaps" id="S4.T3.1.1.6.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T3.1.1.6.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.2" style="padding:0.5pt 2.5pt;">43.20</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.6.3.1">48.03</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.4" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.6.4.1">49.82</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.5" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.6.5.1">48.25</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.6" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.6.6.1">47.86</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.7" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.6.7.1">47.29</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.1.1.7.1" rowspan="2" style="padding:0.5pt 2.5pt;"><span class="ltx_text" id="S4.T3.1.1.7.1.1">T-REx</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.1.1.7.2" style="padding:0.5pt 2.5pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.3" style="padding:0.5pt 2.5pt;">59.83</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.4" style="padding:0.5pt 2.5pt;">47.05</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.5" style="padding:0.5pt 2.5pt;">49.11</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.6" style="padding:0.5pt 2.5pt;">56.51</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.7" style="padding:0.5pt 2.5pt;">55.23</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.7.8" style="padding:0.5pt 2.5pt;">56.31</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.8">
<td class="ltx_td ltx_align_left" id="S4.T3.1.1.8.1" style="padding:0.5pt 2.5pt;">+<span class="ltx_text ltx_font_smallcaps" id="S4.T3.1.1.8.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T3.1.1.8.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.2" style="padding:0.5pt 2.5pt;">59.83</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.3" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.3.1">63.08</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.4" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.4.1">63.45</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.5.1">63.54</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.6" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.6.1">63.57</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.7" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.7.1">63.38</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.9">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S4.T3.1.1.9.1" rowspan="2" style="padding:0.5pt 2.5pt;"><span class="ltx_text" id="S4.T3.1.1.9.1.1">ZS</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.1.1.9.2" style="padding:0.5pt 2.5pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.9.3" style="padding:0.5pt 2.5pt;">52.41</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.9.4" style="padding:0.5pt 2.5pt;">42.71</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.9.5" style="padding:0.5pt 2.5pt;">37.05</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.9.6" style="padding:0.5pt 2.5pt;">50.40</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.9.7" style="padding:0.5pt 2.5pt;">50.20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.9.8" style="padding:0.5pt 2.5pt;">51.01</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.10">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T3.1.1.10.1" style="padding:0.5pt 2.5pt;">+<span class="ltx_text ltx_font_smallcaps" id="S4.T3.1.1.10.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T3.1.1.10.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.2" style="padding:0.5pt 2.5pt;">52.41</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.3" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.10.3.1">56.53</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.4" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.10.4.1">60.37</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.5" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.10.5.1">59.86</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.6" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.10.6.1">59.75</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.10.7" style="padding:0.5pt 2.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.10.7.1">59.85</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>RAG performance changes with number of examples in In-context learning.</figcaption>
</figure>
<figure class="ltx_table" id="S4.T4">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T4.1" style="width:220.7pt;height:72pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-27.6pt,9.0pt) scale(0.8,0.8) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T4.1.1">
<tr class="ltx_tr" id="S4.T4.1.1.1">
<td class="ltx_td ltx_border_tt" id="S4.T4.1.1.1.1" style="padding:0.25pt 6.5pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T4.1.1.1.2" style="padding:0.25pt 6.5pt;">Multi-Hop QA</td>
<td class="ltx_td ltx_align_left ltx_border_tt" colspan="2" id="S4.T4.1.1.1.3" style="padding:0.25pt 6.5pt;">Slot-Filling</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.2">
<td class="ltx_td" id="S4.T4.1.1.2.1" style="padding:0.25pt 6.5pt;"></td>
<td class="ltx_td ltx_align_left" id="S4.T4.1.1.2.2" style="padding:0.25pt 6.5pt;">HotpotQA</td>
<td class="ltx_td ltx_align_left" id="S4.T4.1.1.2.3" style="padding:0.25pt 6.5pt;">Musique</td>
<td class="ltx_td ltx_align_left" id="S4.T4.1.1.2.4" style="padding:0.25pt 6.5pt;">T-REx</td>
<td class="ltx_td ltx_align_left" id="S4.T4.1.1.2.5" style="padding:0.25pt 6.5pt;">zsRE</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T4.1.1.3.1" style="padding:0.25pt 6.5pt;">Previous SOTA</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T4.1.1.3.2" style="padding:0.25pt 6.5pt;">28.19</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T4.1.1.3.3" style="padding:0.25pt 6.5pt;">10.03</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T4.1.1.3.4" style="padding:0.25pt 6.5pt;">63.10</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T4.1.1.3.5" style="padding:0.25pt 6.5pt;">57.09</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.4">
<td class="ltx_td ltx_align_left" id="S4.T4.1.1.4.1" style="padding:0.25pt 6.5pt;">SearChain</td>
<td class="ltx_td ltx_align_left" id="S4.T4.1.1.4.2" style="padding:0.25pt 6.5pt;">31.21</td>
<td class="ltx_td ltx_align_left" id="S4.T4.1.1.4.3" style="padding:0.25pt 6.5pt;">11.27</td>
<td class="ltx_td ltx_align_left" id="S4.T4.1.1.4.4" style="padding:0.25pt 6.5pt;">64.58</td>
<td class="ltx_td ltx_align_left" id="S4.T4.1.1.4.5" style="padding:0.25pt 6.5pt;">58.91</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.5">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T4.1.1.5.1" style="padding:0.25pt 6.5pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T4.1.1.5.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T4.1.1.5.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T4.1.1.5.2" style="padding:0.25pt 6.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.5.2.1">33.04</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T4.1.1.5.3" style="padding:0.25pt 6.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.5.3.1">12.10</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T4.1.1.5.4" style="padding:0.25pt 6.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.5.4.1">66.95</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T4.1.1.5.5" style="padding:0.25pt 6.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.5.5.1">60.72</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Enhancement to the state-of-the-art RAG framework. Previous SOTA includes DSP, Self-Ask, React.</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S4.SS3.SSS0.Px3">
<h5 class="ltx_title ltx_title_paragraph">Enhancing Previous SOTA in Open-Retrieval Setting</h5>
<div class="ltx_para" id="S4.SS3.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS3.SSS0.Px3.p1.1">We further show that our <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px3.p1.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px3.p1.1.2">RAG </span>can cooperate well with the recent prompting techniques that perform multi-step reasoning to combine with retrieval to solve questions <cite class="ltx_cite ltx_citemacro_cite">Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib46" title="">2023</a>); Khattab et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib21" title="">2022</a>); Press et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib31" title="">2023</a>); Yao et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib49" title="">2022</a>)</cite>.
To make a fair comparison, we follow SearChain <cite class="ltx_cite ltx_citemacro_cite">Xu et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib46" title="">2023</a>)</cite> that runs on Multi-Hop QA and Slot-Filling in open-retrieval setting that retrieves passages from the full Wikipedia in each reasoning step. SearChain and other baselines use LLaMA-2-13B-chat as the backbone. Then, we perform SearChain based on LLaMA-2-13B-chat trained by <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px3.p1.1.3">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px3.p1.1.4">RAG </span>to show the enhancement to SearChain by <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px3.p1.1.5">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px3.p1.1.6">RAG</span>. Results in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.T4" title="Table 4 ‣ Results on In-context Learning for RAG ‣ 4.3 Experimental Results ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">4</span></a> show that <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px3.p1.1.7">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px3.p1.1.8">RAG </span>can make SearChain achieve better performance. This provides additional support that our unsupervised <span class="ltx_text ltx_font_smallcaps" id="S4.SS3.SSS0.Px3.p1.1.9">InFO </span>training fundamentally improves the RAG performance of LLMs.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Analysis</h3>
<section class="ltx_paragraph" id="S4.SS4.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Fine-grained Analysis for Three Scenarios</h5>
<div class="ltx_para" id="S4.SS4.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS4.SSS0.Px1.p1.1">As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.T2" title="Table 2 ‣ Results on In-context Learning for RAG ‣ 4.3 Experimental Results ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>, our <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.SSS0.Px1.p1.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS4.SSS0.Px1.p1.1.2">RAG </span>is effective in all three RAG scenarios and shows better robustness to incorrect, incomplete, and noisy retrieved texts. We propose corresponding unsupervised training tasks for the three scenarios of RAG. This section introduces the fine-grained analysis for each scenario. For <span class="ltx_text ltx_font_bold" id="S4.SS4.SSS0.Px1.p1.1.3">Scenario 1</span>, we use cover EM to select those samples that already contain the correct answers in the retrieval list. For <span class="ltx_text ltx_font_bold" id="S4.SS4.SSS0.Px1.p1.1.4">Scenario 2</span>, we randomly replace the correct answers in the retrieved texts with another phrase with the same properties. For <span class="ltx_text ltx_font_bold" id="S4.SS4.SSS0.Px1.p1.1.5">Scenario 3</span>, we use cover EM to select those samples that retrieved texts do not contain any correct answers. We count the accuracy of LLaMA on samples of these three scenarios respectively. Questions in the third scenario are more difficult than in the second scenario because retrieval models cannot find anything to solve them. Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.T2" title="Table 2 ‣ Results on In-context Learning for RAG ‣ 4.3 Experimental Results ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> indicates that our method shows advantages in each scenario and is more robust regardless of whether the retrieved texts contain the correct answer.</p>
</div>
<figure class="ltx_table" id="S4.T5">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T5.1" style="width:477.1pt;height:74.6pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-52.4pt,8.1pt) scale(0.82,0.82) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T5.1.1">
<tr class="ltx_tr" id="S4.T5.1.1.1">
<td class="ltx_td ltx_border_tt" id="S4.T5.1.1.1.1" style="padding-left:4.2pt;padding-right:4.2pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.1.1.2" style="padding-left:4.2pt;padding-right:4.2pt;">T-REx</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.1.1.3" style="padding-left:4.2pt;padding-right:4.2pt;">ZS</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.1.1.4" style="padding-left:4.2pt;padding-right:4.2pt;">NQ</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T5.1.1.1.5" style="padding-left:4.2pt;padding-right:4.2pt;">WebQ</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.1.1.6" style="padding-left:4.2pt;padding-right:4.2pt;">Hotpot</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T5.1.1.1.7" style="padding-left:4.2pt;padding-right:4.2pt;">Musique</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.1.1.8" style="padding-left:4.2pt;padding-right:4.2pt;">ElI5</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.1.1.9" style="padding-left:4.2pt;padding-right:4.2pt;">Wow</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.1.1.10" style="padding-left:4.2pt;padding-right:4.2pt;">WikiText</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.1.1.11" style="padding-left:4.2pt;padding-right:4.2pt;">Python</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.1.1.12" style="padding-left:4.2pt;padding-right:4.2pt;">Java</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.1.1.1.13" style="padding-left:4.2pt;padding-right:4.2pt;">Overall</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T5.1.1.2.1" style="padding-left:4.2pt;padding-right:4.2pt;">LLaMA-2 w/o RAG</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2.2" style="padding-left:4.2pt;padding-right:4.2pt;">35.60</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2.3" style="padding-left:4.2pt;padding-right:4.2pt;">10.99</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2.4" style="padding-left:4.2pt;padding-right:4.2pt;">32.67</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2.5" style="padding-left:4.2pt;padding-right:4.2pt;">39.13</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2.6" style="padding-left:4.2pt;padding-right:4.2pt;">29.16</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2.7" style="padding-left:4.2pt;padding-right:4.2pt;">5.83</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2.8" style="padding-left:4.2pt;padding-right:4.2pt;">26.05</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2.9" style="padding-left:4.2pt;padding-right:4.2pt;">10.71</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2.10" style="padding-left:4.2pt;padding-right:4.2pt;">41.80</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2.11" style="padding-left:4.2pt;padding-right:4.2pt;">20.67</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2.12" style="padding-left:4.2pt;padding-right:4.2pt;">25.87</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.1.1.2.13" style="padding-left:4.2pt;padding-right:4.2pt;">25.32</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.3">
<td class="ltx_td ltx_align_left" id="S4.T5.1.1.3.1" style="padding-left:4.2pt;padding-right:4.2pt;">LLaMA-2 w/ RAG</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.3.2" style="padding-left:4.2pt;padding-right:4.2pt;">62.53</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.3.3" style="padding-left:4.2pt;padding-right:4.2pt;">56.81</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.3.4" style="padding-left:4.2pt;padding-right:4.2pt;">50.36</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.3.5" style="padding-left:4.2pt;padding-right:4.2pt;">45.47</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.3.6" style="padding-left:4.2pt;padding-right:4.2pt;">61.23</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.3.7" style="padding-left:4.2pt;padding-right:4.2pt;">47.06</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.3.8" style="padding-left:4.2pt;padding-right:4.2pt;">27.07</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.3.9" style="padding-left:4.2pt;padding-right:4.2pt;">11.19</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.3.10" style="padding-left:4.2pt;padding-right:4.2pt;">60.52</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.3.11" style="padding-left:4.2pt;padding-right:4.2pt;">22.34</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.3.12" style="padding-left:4.2pt;padding-right:4.2pt;">30.96</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.3.13" style="padding-left:4.2pt;padding-right:4.2pt;">43.23</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.4">
<td class="ltx_td ltx_align_left" id="S4.T5.1.1.4.1" style="padding-left:4.2pt;padding-right:4.2pt;">+ training on wiki</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.2" style="padding-left:4.2pt;padding-right:4.2pt;">62.55</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.3" style="padding-left:4.2pt;padding-right:4.2pt;">56.79</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.4" style="padding-left:4.2pt;padding-right:4.2pt;">49.23</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.5" style="padding-left:4.2pt;padding-right:4.2pt;">45.05</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.6" style="padding-left:4.2pt;padding-right:4.2pt;">61.00</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.7" style="padding-left:4.2pt;padding-right:4.2pt;">46.95</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.8" style="padding-left:4.2pt;padding-right:4.2pt;">26.31</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.9" style="padding-left:4.2pt;padding-right:4.2pt;">11.05</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.10" style="padding-left:4.2pt;padding-right:4.2pt;">60.84</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.11" style="padding-left:4.2pt;padding-right:4.2pt;">22.05</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.12" style="padding-left:4.2pt;padding-right:4.2pt;">30.28</td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.4.13" style="padding-left:4.2pt;padding-right:4.2pt;">42.92</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.5">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T5.1.1.5.1" style="padding-left:4.2pt;padding-right:4.2pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T5.1.1.5.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T5.1.1.5.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.2" style="padding-left:4.2pt;padding-right:4.2pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.2.1">65.39</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.3" style="padding-left:4.2pt;padding-right:4.2pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.3.1">59.05</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.4" style="padding-left:4.2pt;padding-right:4.2pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.4.1">54.04</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.5" style="padding-left:4.2pt;padding-right:4.2pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.5.1">51.07</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.6" style="padding-left:4.2pt;padding-right:4.2pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.6.1">61.91</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.7" style="padding-left:4.2pt;padding-right:4.2pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.7.1">47.93</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.8" style="padding-left:4.2pt;padding-right:4.2pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.8.1">27.24</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.9" style="padding-left:4.2pt;padding-right:4.2pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.9.1">11.38</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.10" style="padding-left:4.2pt;padding-right:4.2pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.10.1">63.92</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.11" style="padding-left:4.2pt;padding-right:4.2pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.11.1">31.98</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.12" style="padding-left:4.2pt;padding-right:4.2pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.12.1">38.12</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.1.1.5.13" style="padding-left:4.2pt;padding-right:4.2pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.5.13.1">46.55</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Analysis on the best-performed model LLaMA-2-13B-chat.</figcaption>
</figure>
<figure class="ltx_table" id="S4.T6">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T6.1" style="width:221.8pt;height:118.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-24.3pt,13.0pt) scale(0.82,0.82) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T6.1.1">
<tr class="ltx_tr" id="S4.T6.1.1.1">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_tt" id="S4.T6.1.1.1.1" rowspan="2" style="padding-left:1.5pt;padding-right:1.5pt;"><span class="ltx_text" id="S4.T6.1.1.1.1.1">Method</span></td>
<td class="ltx_td ltx_nopad_l ltx_align_center ltx_border_tt" colspan="4" id="S4.T6.1.1.1.2" style="padding-left:1.5pt;padding-right:1.5pt;">NQ</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.1.2">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.2.1" style="padding-left:1.5pt;padding-right:1.5pt;">original</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.2.2" style="padding-left:1.5pt;padding-right:1.5pt;">has-ans.</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.2.3" style="padding-left:1.5pt;padding-right:1.5pt;">replace</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.2.4" style="padding-left:1.5pt;padding-right:1.5pt;">no-ans.</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.1.3">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S4.T6.1.1.3.1" style="padding-left:1.5pt;padding-right:1.5pt;">Baseline</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S4.T6.1.1.3.2" style="padding-left:1.5pt;padding-right:1.5pt;">50.36</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S4.T6.1.1.3.3" style="padding-left:1.5pt;padding-right:1.5pt;">69.37</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S4.T6.1.1.3.4" style="padding-left:1.5pt;padding-right:1.5pt;">30.72</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" id="S4.T6.1.1.3.5" style="padding-left:1.5pt;padding-right:1.5pt;">6.16</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.1.4">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.4.1" style="padding-left:1.5pt;padding-right:1.5pt;">S1: <span class="ltx_text ltx_font_italic" id="S4.T6.1.1.4.1.1">Select and Copy</span>
</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.4.2" style="padding-left:1.5pt;padding-right:1.5pt;">48.77</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.4.3" style="padding-left:1.5pt;padding-right:1.5pt;">69.59</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.4.4" style="padding-left:1.5pt;padding-right:1.5pt;">25.40</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.4.5" style="padding-left:1.5pt;padding-right:1.5pt;">0.11</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.1.5">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.5.1" style="padding-left:1.5pt;padding-right:1.5pt;">S2: <span class="ltx_text ltx_font_italic" id="S4.T6.1.1.5.1.1">Correct and Complete</span>
</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.5.2" style="padding-left:1.5pt;padding-right:1.5pt;">51.59</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.5.3" style="padding-left:1.5pt;padding-right:1.5pt;">70.42</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.5.4" style="padding-left:1.5pt;padding-right:1.5pt;">32.71</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.5.5" style="padding-left:1.5pt;padding-right:1.5pt;">4.48</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.1.6">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.6.1" style="padding-left:1.5pt;padding-right:1.5pt;">S3: <span class="ltx_text ltx_font_italic" id="S4.T6.1.1.6.1.1">Contextual Stimulation</span>
</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.6.2" style="padding-left:1.5pt;padding-right:1.5pt;">52.75</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.6.3" style="padding-left:1.5pt;padding-right:1.5pt;">72.50</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.6.4" style="padding-left:1.5pt;padding-right:1.5pt;">31.77</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.6.5" style="padding-left:1.5pt;padding-right:1.5pt;">8.86</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.1.7">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.7.1" style="padding-left:1.5pt;padding-right:1.5pt;">S2&amp;S3</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.7.2" style="padding-left:1.5pt;padding-right:1.5pt;">53.73</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.7.3" style="padding-left:1.5pt;padding-right:1.5pt;">73.01</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.7.4" style="padding-left:1.5pt;padding-right:1.5pt;">32.50</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" id="S4.T6.1.1.7.5" style="padding-left:1.5pt;padding-right:1.5pt;">9.01</td>
</tr>
<tr class="ltx_tr" id="S4.T6.1.1.8">
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb" id="S4.T6.1.1.8.1" style="padding-left:1.5pt;padding-right:1.5pt;">
<span class="ltx_text ltx_font_smallcaps" id="S4.T6.1.1.8.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T6.1.1.8.1.2">RAG </span>(S1&amp; S2&amp;S3)</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb" id="S4.T6.1.1.8.2" style="padding-left:1.5pt;padding-right:1.5pt;">54.04</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb" id="S4.T6.1.1.8.3" style="padding-left:1.5pt;padding-right:1.5pt;">73.73</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb" id="S4.T6.1.1.8.4" style="padding-left:1.5pt;padding-right:1.5pt;">33.85</td>
<td class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb" id="S4.T6.1.1.8.5" style="padding-left:1.5pt;padding-right:1.5pt;">8.39</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Effects of three training tasks.</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S4.SS4.SSS0.Px2">
<h5 class="ltx_title ltx_title_paragraph">Ablation Study</h5>
<div class="ltx_para" id="S4.SS4.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS4.SSS0.Px2.p1.1">We conduct ablation study to explore the effects of the following factors.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS4.SSS0.Px2.p2">
<p class="ltx_p" id="S4.SS4.SSS0.Px2.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS4.SSS0.Px2.p2.1.1">(1) Additional Training on Wikipedia. </span>We study whether our improvement is from helping the model to achieve information refinement, or simply because of additional training on Wikipedia. To this end, we train LLaMA-2 on Wikipedia with standard language modeling objective, by setting the same hyperparameters as our <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.SSS0.Px2.p2.1.2">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS4.SSS0.Px2.p2.1.3">RAG</span>. The results in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.T5" title="Table 5 ‣ Fine-grained Analysis for Three Scenarios ‣ 4.4 Analysis ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">5</span></a> show that this baseline leads to no improvement over the backbone LLaMA-2, confirming the effectiveness of our training method rather than additional training on Wikipedia.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS4.SSS0.Px2.p3">
<p class="ltx_p" id="S4.SS4.SSS0.Px2.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS4.SSS0.Px2.p3.1.1">(2) Training tasks. </span>We perform three training tasks proposed in <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.SSS0.Px2.p3.1.2">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS4.SSS0.Px2.p3.1.3">RAG </span>separately on original data and data constructed for each scenario to explore their effects respectively. Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.T6" title="Table 6 ‣ Fine-grained Analysis for Three Scenarios ‣ 4.4 Analysis ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">6</span></a> shows that both S2 and S3 have gains in their scenarios. Although S1 has negative effects when performed alone, it can achieve the best results when trained together with S2 and S3. This is mainly because S1 alone is so simple that causes LLM to overfit the data. Adding S2 and S3 allows LLM to learn the task paradigm of information refinement, making LLM better extract the correct answer for <span class="ltx_text ltx_font_bold" id="S4.SS4.SSS0.Px2.p3.1.4">Scenario 1</span>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS4.SSS0.Px3">
<h5 class="ltx_title ltx_title_paragraph">Robustness to Retrieval Results</h5>
<div class="ltx_para" id="S4.SS4.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS4.SSS0.Px3.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#S4.T7" title="Table 7 ‣ Robustness to Retrieval Results ‣ 4.4 Analysis ‣ 4 Experiments ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">7</span></a> shows <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.SSS0.Px3.p1.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS4.SSS0.Px3.p1.1.2">RAG </span>is more robust to changes in retrieval results including the ratio and position of positive passages and number of retrieved passages. More details can be found in Section <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1" title="Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A</span></a> of Appendix.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS4.SSS0.Px3.p2">
<p class="ltx_p" id="S4.SS4.SSS0.Px3.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS4.SSS0.Px3.p2.1.1">Avoid Catastrophic Forgetting </span>Experiment on MMLU <cite class="ltx_cite ltx_citemacro_cite">Hendrycks et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib15" title="">2020</a>)</cite> without RAG shows that <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.SSS0.Px3.p2.1.2">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS4.SSS0.Px3.p2.1.3">RAG </span>performs very close to the original LLaMA-2 (7B: 45.0 vs. 45.3; 13B: 54.3 vs. 54.8), which indicates that <span class="ltx_text ltx_font_smallcaps" id="S4.SS4.SSS0.Px3.p2.1.4">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.SS4.SSS0.Px3.p2.1.5">RAG </span>enhances RAG while avoiding catastrophic forgetting. More details can be found in Section <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.SS6" title="A.6 Performance on MMLU ‣ Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A.6</span></a> of Appendix.</p>
</div>
<figure class="ltx_table" id="S4.T7">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T7.3" style="width:216.9pt;height:147.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-23.8pt,16.2pt) scale(0.82,0.82) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T7.3.3">
<tr class="ltx_tr" id="S4.T7.3.3.3">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T7.3.3.3.4" rowspan="2" style="padding:0.25pt 5.3pt;"><span class="ltx_text" id="S4.T7.3.3.3.4.1">Datasets</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T7.3.3.3.5" rowspan="2" style="padding:0.25pt 5.3pt;"><span class="ltx_text" id="S4.T7.3.3.3.5.1">Method</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T7.1.1.1.1" style="padding:0.25pt 5.3pt;">Max <math alttext="\Delta" class="ltx_Math" display="inline" id="S4.T7.1.1.1.1.m1.1"><semantics id="S4.T7.1.1.1.1.m1.1a"><mi id="S4.T7.1.1.1.1.m1.1.1" mathvariant="normal" xref="S4.T7.1.1.1.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S4.T7.1.1.1.1.m1.1b"><ci id="S4.T7.1.1.1.1.m1.1.1.cmml" xref="S4.T7.1.1.1.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.1.1.1.1.m1.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="S4.T7.1.1.1.1.m1.1d">roman_Δ</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T7.2.2.2.2" style="padding:0.25pt 5.3pt;">Max <math alttext="\Delta" class="ltx_Math" display="inline" id="S4.T7.2.2.2.2.m1.1"><semantics id="S4.T7.2.2.2.2.m1.1a"><mi id="S4.T7.2.2.2.2.m1.1.1" mathvariant="normal" xref="S4.T7.2.2.2.2.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S4.T7.2.2.2.2.m1.1b"><ci id="S4.T7.2.2.2.2.m1.1.1.cmml" xref="S4.T7.2.2.2.2.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.2.2.2.2.m1.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="S4.T7.2.2.2.2.m1.1d">roman_Δ</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T7.3.3.3.3" style="padding:0.25pt 5.3pt;">Max <math alttext="\Delta" class="ltx_Math" display="inline" id="S4.T7.3.3.3.3.m1.1"><semantics id="S4.T7.3.3.3.3.m1.1a"><mi id="S4.T7.3.3.3.3.m1.1.1" mathvariant="normal" xref="S4.T7.3.3.3.3.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S4.T7.3.3.3.3.m1.1b"><ci id="S4.T7.3.3.3.3.m1.1.1.cmml" xref="S4.T7.3.3.3.3.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.3.3.3.3.m1.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="S4.T7.3.3.3.3.m1.1d">roman_Δ</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S4.T7.3.3.4">
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.4.1" style="padding:0.25pt 5.3pt;">ratio</td>
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.4.2" style="padding:0.25pt 5.3pt;">position</td>
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.4.3" style="padding:0.25pt 5.3pt;">number</td>
</tr>
<tr class="ltx_tr" id="S4.T7.3.3.5">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.5.1" rowspan="2" style="padding:0.25pt 5.3pt;"><span class="ltx_text" id="S4.T7.3.3.5.1.1">NQ</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.5.2" style="padding:0.25pt 5.3pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.5.3" style="padding:0.25pt 5.3pt;">-51.94%</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.5.4" style="padding:0.25pt 5.3pt;">-16.18%</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.5.5" style="padding:0.25pt 5.3pt;">-25.43%</td>
</tr>
<tr class="ltx_tr" id="S4.T7.3.3.6">
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.6.1" style="padding:0.25pt 5.3pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T7.3.3.6.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T7.3.3.6.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.6.2" style="padding:0.25pt 5.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T7.3.3.6.2.1">-43.48%</span></td>
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.6.3" style="padding:0.25pt 5.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T7.3.3.6.3.1">-15.80%</span></td>
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.6.4" style="padding:0.25pt 5.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T7.3.3.6.4.1">-17.25%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T7.3.3.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.7.1" rowspan="2" style="padding:0.25pt 5.3pt;"><span class="ltx_text" id="S4.T7.3.3.7.1.1">WebQ</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.7.2" style="padding:0.25pt 5.3pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.7.3" style="padding:0.25pt 5.3pt;">-50.57%</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.7.4" style="padding:0.25pt 5.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T7.3.3.7.4.1">-5.63%</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.7.5" style="padding:0.25pt 5.3pt;">-22.13%</td>
</tr>
<tr class="ltx_tr" id="S4.T7.3.3.8">
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.8.1" style="padding:0.25pt 5.3pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T7.3.3.8.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T7.3.3.8.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.8.2" style="padding:0.25pt 5.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T7.3.3.8.2.1">-45.48%</span></td>
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.8.3" style="padding:0.25pt 5.3pt;">-8.72%</td>
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.8.4" style="padding:0.25pt 5.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T7.3.3.8.4.1">-11.91%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T7.3.3.9">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.9.1" rowspan="2" style="padding:0.25pt 5.3pt;"><span class="ltx_text" id="S4.T7.3.3.9.1.1">T-REx</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.9.2" style="padding:0.25pt 5.3pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.9.3" style="padding:0.25pt 5.3pt;">-46.57%</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.9.4" style="padding:0.25pt 5.3pt;">-9.45%</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.9.5" style="padding:0.25pt 5.3pt;">-5.95%</td>
</tr>
<tr class="ltx_tr" id="S4.T7.3.3.10">
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.10.1" style="padding:0.25pt 5.3pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T7.3.3.10.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T7.3.3.10.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.10.2" style="padding:0.25pt 5.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T7.3.3.10.2.1">-44.38%</span></td>
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.10.3" style="padding:0.25pt 5.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T7.3.3.10.3.1">-8.61%</span></td>
<td class="ltx_td ltx_align_left" id="S4.T7.3.3.10.4" style="padding:0.25pt 5.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T7.3.3.10.4.1">-2.99%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T7.3.3.11">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S4.T7.3.3.11.1" rowspan="2" style="padding:0.25pt 5.3pt;"><span class="ltx_text" id="S4.T7.3.3.11.1.1">ZS</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.11.2" style="padding:0.25pt 5.3pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.11.3" style="padding:0.25pt 5.3pt;">-59.25%</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.11.4" style="padding:0.25pt 5.3pt;">-13.40%</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T7.3.3.11.5" style="padding:0.25pt 5.3pt;">-12.37%</td>
</tr>
<tr class="ltx_tr" id="S4.T7.3.3.12">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T7.3.3.12.1" style="padding:0.25pt 5.3pt;">+ <span class="ltx_text ltx_font_smallcaps" id="S4.T7.3.3.12.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S4.T7.3.3.12.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T7.3.3.12.2" style="padding:0.25pt 5.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T7.3.3.12.2.1">-50.08%</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T7.3.3.12.3" style="padding:0.25pt 5.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T7.3.3.12.3.1">-11.11%</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T7.3.3.12.4" style="padding:0.25pt 5.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T7.3.3.12.4.1">-11.43%</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>Maximum relative performance change caused by changes in retrieval results.</figcaption>
</figure>
</section>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">This paper proposes a novel perspective to reassess the role of LLMs in RAG that considers LLMs as “Information Refiner”. This means that regardless of the correctness, completeness, or usefulness of the retrieved texts, LLMs can consistently integrate knowledge within model parameters and the retrieved texts to generate texts that are more concise, accurate, and complete. To achieve it, we propose an information refinement training method named <span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.2">RAG </span>in an unsupervised manner, which is low-cost and general across various tasks. Extensive experiments across 11 datasets of 7 tasks in zero-shot setting show that <span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.3">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.4">RAG </span>improves the performance of LLMs for RAG. <span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.5">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.6">RAG </span>also shows advantages in ICL and robustness of RAG and can be combined with the SOTA RAG framework to further improve its performance.</p>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Limitations</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">This paper aims to enable LLMs to perform information refinement in RAG by unsupervised training, so as to accurately extract correct information and avoid the interference of incorrect information. The main limitation of this paper is that due to the lack of computing resources, we only conduct experiments on models with 7B and 13B parameter sizes. In the future, we consider using more computing resources to explore the performance of models with larger parameter sizes.</p>
</div>
</section>
<section class="ltx_section" id="Sx2">
<h2 class="ltx_title ltx_title_section">Ethics Statement</h2>
<div class="ltx_para" id="Sx2.p1">
<p class="ltx_p" id="Sx2.p1.1">After careful consideration, we believe that our paper does not introduce additional ethical concerns. We declare that our work complies with the <a class="ltx_ref ltx_href" href="https://www.aclweb.org/portal/content/acl-code-ethics" title="">ACL Ethics Policy</a>.</p>
</div>
</section>
<section class="ltx_section" id="Sx3">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>
<div class="ltx_para" id="Sx3.p1">
<p class="ltx_p" id="Sx3.p1.1">This work was supported by the National Key R&amp;D Program of China (2022YFB3103700, 2022YFB3103704), the National
Natural Science Foundation of China (NSFC) under Grants No. 62276248 and U21B2046, and the Youth Innovation Promotion Association
CAS under Grants No. 2023111.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Asai et al. (2023)</span>
<span class="ltx_bibblock">
Akari Asai, Zeqiu Wu, Yizhong Wang, Avirup Sil, and Hannaneh Hajishirzi. 2023.

</span>
<span class="ltx_bibblock">Self-rag: Learning to retrieve, generate, and critique through self-reflection.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2310.11511</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Berant et al. (2013)</span>
<span class="ltx_bibblock">
Jonathan Berant, Andrew Chou, Roy Frostig, and Percy Liang. 2013.

</span>
<span class="ltx_bibblock">Semantic parsing on freebase from question-answer pairs.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">Proceedings of the EMNLP 2013</em>, pages 1533–1544.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Borgeaud et al. (2022)</span>
<span class="ltx_bibblock">
Sebastian Borgeaud, Arthur Mensch, Jordan Hoffmann, Trevor Cai, Eliza Rutherford, Katie Millican, George Bm Van Den Driessche, Jean-Baptiste Lespiau, Bogdan Damoc, Aidan Clark, et al. 2022.

</span>
<span class="ltx_bibblock">Improving language models by retrieving from trillions of tokens.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">International conference on machine learning</em>, pages 2206–2240. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al. (2020)</span>
<span class="ltx_bibblock">
Tom B. Brown, Benjamin Mann, Nick Ryder, et al. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2005.14165" title="">Language models are few-shot learners</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cai et al. (2018)</span>
<span class="ltx_bibblock">
Deng Cai, Yan Wang, Victoria Bi, Zhaopeng Tu, Xiaojiang Liu, Wai Lam, and Shuming Shi. 2018.

</span>
<span class="ltx_bibblock">Skeleton-to-response: Dialogue generation guided by retrieval memory.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:1809.05296</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cai et al. (2019)</span>
<span class="ltx_bibblock">
Deng Cai, Yan Wang, Wei Bi, Zhaopeng Tu, Xiaojiang Liu, and Shuming Shi. 2019.

</span>
<span class="ltx_bibblock">Retrieval-guided dialogue response generation via a matching-to-generation framework.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing and the 9th International Joint Conference on Natural Language Processing (EMNLP-IJCNLP)</em>, pages 1866–1875.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2023)</span>
<span class="ltx_bibblock">
Jiawei Chen, Hongyu Lin, Xianpei Han, and Le Sun. 2023.

</span>
<span class="ltx_bibblock">Benchmarking large language models in retrieval-augmented generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2309.01431</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chuang et al. (2023)</span>
<span class="ltx_bibblock">
Yung-Sung Chuang, Yujia Xie, Hongyin Luo, Yoon Kim, James Glass, and Pengcheng He. 2023.

</span>
<span class="ltx_bibblock">Dola: Decoding by contrasting layers improves factuality in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">arXiv preprint arXiv:2309.03883</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deng et al. (2023)</span>
<span class="ltx_bibblock">
Jingcheng Deng, Liang Pang, Huawei Shen, and Xueqi Cheng. 2023.

</span>
<span class="ltx_bibblock">Regavae: A retrieval-augmented gaussian mixture variational auto-encoder for language modeling.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">arXiv preprint arXiv:2310.10567</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dhuliawala et al. (2023)</span>
<span class="ltx_bibblock">
Shehzaad Dhuliawala, Mojtaba Komeili, Jing Xu, Roberta Raileanu, Xian Li, Asli Celikyilmaz, and Jason Weston. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2309.11495" title="">Chain-of-verification reduces hallucination in large language models</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dinan et al. (2018)</span>
<span class="ltx_bibblock">
Emily Dinan, Stephen Roller, Kurt Shuster, Angela Fan, Michael Auli, and Jason Weston. 2018.

</span>
<span class="ltx_bibblock">Wizard of wikipedia: Knowledge-powered conversational agents.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:1811.01241</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Elsahar et al. (2018)</span>
<span class="ltx_bibblock">
Hady Elsahar, Pavlos Vougiouklis, Arslen Remaci, Christophe Gravier, Jonathon Hare, Frederique Laforest, and Elena Simperl. 2018.

</span>
<span class="ltx_bibblock">T-rex: A large scale alignment of natural language with knowledge base triples.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">Proceedings of LREC 2018</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fan et al. (2019)</span>
<span class="ltx_bibblock">
Angela Fan, Yacine Jernite, Ethan Perez, David Grangier, Jason Weston, and Michael Auli. 2019.

</span>
<span class="ltx_bibblock">Eli5: Long form question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">arXiv preprint arXiv:1907.09190</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guu et al. (2020)</span>
<span class="ltx_bibblock">
Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Mingwei Chang. 2020.

</span>
<span class="ltx_bibblock">Retrieval augmented language model pre-training.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">International conference on machine learning</em>, pages 3929–3938. PMLR.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks et al. (2020)</span>
<span class="ltx_bibblock">
Dan Hendrycks, Collin Burns, Steven Basart, Andy Zou, Mantas Mazeika, Dawn Song, and Jacob Steinhardt. 2020.

</span>
<span class="ltx_bibblock">Measuring massive multitask language understanding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:2009.03300</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al. (2021)</span>
<span class="ltx_bibblock">
Edward J Hu, Yelong Shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu Wang, and Weizhu Chen. 2021.

</span>
<span class="ltx_bibblock">Lora: Low-rank adaptation of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">arXiv preprint arXiv:2106.09685</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Husain et al. (2019)</span>
<span class="ltx_bibblock">
Hamel Husain, Ho-Hsiang Wu, Tiferet Gazit, Miltiadis Allamanis, and Marc Brockschmidt. 2019.

</span>
<span class="ltx_bibblock">Codesearchnet challenge: Evaluating the state of semantic code search.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">arXiv preprint arXiv:1909.09436</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Iyer et al. (2018)</span>
<span class="ltx_bibblock">
Srinivasan Iyer, Ioannis Konstas, Alvin Cheung, and Luke Zettlemoyer. 2018.

</span>
<span class="ltx_bibblock">Mapping language to code in programmatic context.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">arXiv preprint arXiv:1808.09588</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Izacard et al. (2022)</span>
<span class="ltx_bibblock">
Gautier Izacard, Patrick Lewis, Maria Lomeli, Lucas Hosseini, Fabio Petroni, Timo Schick, Jane Dwivedi-Yu, Armand Joulin, Sebastian Riedel, and Edouard Grave. 2022.

</span>
<span class="ltx_bibblock">Few-shot learning with retrieval augmented language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">arXiv preprint arXiv:2208.03299</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al. (2020)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oguz, Sewon Min, Patrick Lewis, Ledell Wu, Sergey Edunov, Danqi Chen, and Wen-tau Yih. 2020.

</span>
<span class="ltx_bibblock">Dense passage retrieval for open-domain question answering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP)</em>, pages 6769–6781.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khattab et al. (2022)</span>
<span class="ltx_bibblock">
Omar Khattab, Keshav Santhanam, Xiang Lisa Li, David Hall, Percy Liang, Christopher Potts, and Matei Zaharia. 2022.

</span>
<span class="ltx_bibblock">Demonstrate-search-predict: Composing retrieval and language models for knowledge-intensive nlp.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">arXiv preprint arXiv:2212.14024</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kwiatkowski et al. (2019)</span>
<span class="ltx_bibblock">
Tom Kwiatkowski, Jennimaria Palomaki, Olivia Redfield, Michael Collins, Ankur Parikh, Chris Alberti, Danielle Epstein, Illia Polosukhin, Jacob Devlin, Kenton Lee, et al. 2019.

</span>
<span class="ltx_bibblock">Natural questions: a benchmark for question answering research.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Transactions of the Association for Computational Linguistics</em>, 7:453–466.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Levy et al. (2017)</span>
<span class="ltx_bibblock">
Omer Levy, Minjoon Seo, Eunsol Choi, and Luke Zettlemoyer. 2017.

</span>
<span class="ltx_bibblock">Zero-shot relation extraction via reading comprehension.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">arXiv preprint arXiv:1706.04115</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, et al. 2020.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">Advances in Neural Information Processing Systems</em>, 33:9459–9474.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et al. (2023)</span>
<span class="ltx_bibblock">
Yun Luo, Zhen Yang, Fandong Meng, Yafu Li, Jie Zhou, and Yue Zhang. 2023.

</span>
<span class="ltx_bibblock">An empirical study of catastrophic forgetting in large language models during continual fine-tuning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">arXiv preprint arXiv:2308.08747</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Merity (2016)</span>
<span class="ltx_bibblock">
Stephen Merity. 2016.

</span>
<span class="ltx_bibblock">The wikitext long term dependency language modeling dataset.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">Salesforce Metamind</em>, 9.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mikolov et al. (2012)</span>
<span class="ltx_bibblock">
Tomáš Mikolov et al. 2012.

</span>
<span class="ltx_bibblock">Statistical language models based on neural networks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">Presentation at Google, Mountain View, 2nd April</em>, 80(26).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Parvez et al. (2021)</span>
<span class="ltx_bibblock">
Md Rizwan Parvez, Wasi Uddin Ahmad, Saikat Chakraborty, Baishakhi Ray, and Kai-Wei Chang. 2021.

</span>
<span class="ltx_bibblock">Retrieval augmented code generation and summarization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">arXiv preprint arXiv:2108.11601</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Peng et al. (2023)</span>
<span class="ltx_bibblock">
Baolin Peng, Michel Galley, Pengcheng He, Hao Cheng, Yujia Xie, Yu Hu, Qiuyuan Huang, Lars Liden, Zhou Yu, Weizhu Chen, et al. 2023.

</span>
<span class="ltx_bibblock">Check your facts and try again: Improving large language models with external knowledge and automated feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">arXiv preprint arXiv:2302.12813</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Petroni et al. (2020)</span>
<span class="ltx_bibblock">
Fabio Petroni, Aleksandra Piktus, Angela Fan, Patrick Lewis, Majid Yazdani, Nicola De Cao, James Thorne, Yacine Jernite, Vladimir Karpukhin, Jean Maillard, et al. 2020.

</span>
<span class="ltx_bibblock">Kilt: a benchmark for knowledge intensive language tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">arXiv preprint arXiv:2009.02252</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Press et al. (2023)</span>
<span class="ltx_bibblock">
Ofir Press, Muru Zhang, Sewon Min, Ludwig Schmidt, Noah A. Smith, and Mike Lewis. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2210.03350" title="">Measuring and narrowing the compositionality gap in language models</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2018)</span>
<span class="ltx_bibblock">
Alec Radford, Karthik Narasimhan, Tim Salimans, Ilya Sutskever, et al. 2018.

</span>
<span class="ltx_bibblock">Improving language understanding by generative pre-training.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ram et al. (2023)</span>
<span class="ltx_bibblock">
Ori Ram, Yoav Levine, Itay Dalmedigos, Dor Muhlgay, Amnon Shashua, Kevin Leyton-Brown, and Yoav Shoham. 2023.

</span>
<span class="ltx_bibblock">In-context retrieval-augmented language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">arXiv preprint arXiv:2302.00083</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ren et al. (2023)</span>
<span class="ltx_bibblock">
Ruiyang Ren, Yuhao Wang, Yingqi Qu, Wayne Xin Zhao, Jing Liu, Hao Tian, Hua Wu, Ji-Rong Wen, and Haifeng Wang. 2023.

</span>
<span class="ltx_bibblock">Investigating the factual knowledge boundary of large language models with retrieval augmentation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">arXiv preprint arXiv:2307.11019</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ren et al. (2020)</span>
<span class="ltx_bibblock">
Shuo Ren, Daya Guo, Shuai Lu, Long Zhou, Shujie Liu, Duyu Tang, Neel Sundaresan, Ming Zhou, Ambrosio Blanco, and Shuai Ma. 2020.

</span>
<span class="ltx_bibblock">Codebleu: a method for automatic evaluation of code synthesis.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">arXiv preprint arXiv:2009.10297</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Santhanam et al. (2022)</span>
<span class="ltx_bibblock">
Keshav Santhanam, Omar Khattab, Jon Saad-Falcon, Christopher Potts, and Matei Zaharia. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2112.01488" title="">Colbertv2: Effective and efficient retrieval via lightweight late interaction</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schick et al. (2023)</span>
<span class="ltx_bibblock">
Timo Schick, Jane Dwivedi-Yu, Roberto Dessì, Roberta Raileanu, Maria Lomeli, Luke Zettlemoyer, Nicola Cancedda, and Thomas Scialom. 2023.

</span>
<span class="ltx_bibblock">Toolformer: Language models can teach themselves to use tools.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">arXiv preprint arXiv:2302.04761</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et al. (2023)</span>
<span class="ltx_bibblock">
Weijia Shi, Sewon Min, Michihiro Yasunaga, Minjoon Seo, Rich James, Mike Lewis, Luke Zettlemoyer, and Wen-tau Yih. 2023.

</span>
<span class="ltx_bibblock">Replug: Retrieval-augmented black-box language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">arXiv preprint arXiv:2301.12652</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al. (2022)</span>
<span class="ltx_bibblock">
Tiening Sun, Zhong Qian, Sujun Dong, Peifeng Li, and Qiaoming Zhu. 2022.

</span>
<span class="ltx_bibblock">Rumor detection on social media with graph adversarial contrastive learning.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">Proceedings of the WWW 2022</em>, pages 2789–2797.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thakur et al. (2021)</span>
<span class="ltx_bibblock">
Nandan Thakur, Nils Reimers, Andreas Rücklé, Abhishek Srivastava, and Iryna Gurevych. 2021.

</span>
<span class="ltx_bibblock">Beir: A heterogenous benchmark for zero-shot evaluation of information retrieval models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">arXiv preprint arXiv:2104.08663</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023a)</span>
<span class="ltx_bibblock">
Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier Martinet, Marie-Anne Lachaux, Timothée Lacroix, Baptiste Rozière, Naman Goyal, Eric Hambro, Faisal Azhar, et al. 2023a.

</span>
<span class="ltx_bibblock">Llama: Open and efficient foundation language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">arXiv preprint arXiv:2302.13971</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023b)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al. 2023b.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">arXiv preprint arXiv:2307.09288</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Trivedi et al. (2022a)</span>
<span class="ltx_bibblock">
Harsh Trivedi, Niranjan Balasubramanian, Tushar Khot, and Ashish Sabharwal. 2022a.

</span>
<span class="ltx_bibblock">Interleaving retrieval with chain-of-thought reasoning for knowledge-intensive multi-step questions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">arXiv preprint arXiv:2212.10509</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Trivedi et al. (2022b)</span>
<span class="ltx_bibblock">
Harsh Trivedi, Niranjan Balasubramanian, Tushar Khot, and Ashish Sabharwal. 2022b.

</span>
<span class="ltx_bibblock">Musique: Multihop questions via single-hop question composition.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">Transactions of the Association for Computational Linguistics</em>, 10:539–554.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023)</span>
<span class="ltx_bibblock">
Yile Wang, Peng Li, Maosong Sun, and Yang Liu. 2023.

</span>
<span class="ltx_bibblock">Self-knowledge guided retrieval augmentation for large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">arXiv preprint arXiv:2310.05002</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2023)</span>
<span class="ltx_bibblock">
Shicheng Xu, Liang Pang, Huawei Shen, Xueqi Cheng, and Tat-seng Chua. 2023.

</span>
<span class="ltx_bibblock">Search-in-the-chain: Towards the accurate, credible and traceable content generation for complex knowledge-intensive tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">arXiv preprint arXiv:2304.14732</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2024)</span>
<span class="ltx_bibblock">
Shicheng Xu, Liang Pang, Jun Xu, Huawei Shen, and Xueqi Cheng. 2024.

</span>
<span class="ltx_bibblock">List-aware reranking-truncation joint model for search and retrieval-augmented generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">arXiv preprint arXiv:2402.02764</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2018)</span>
<span class="ltx_bibblock">
Zhilin Yang, Peng Qi, Saizheng Zhang, Yoshua Bengio, William W Cohen, Ruslan Salakhutdinov, and Christopher D Manning. 2018.

</span>
<span class="ltx_bibblock">Hotpotqa: A dataset for diverse, explainable multi-hop question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">arXiv preprint arXiv:1809.09600</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao et al. (2022)</span>
<span class="ltx_bibblock">
Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik Narasimhan, and Yuan Cao. 2022.

</span>
<span class="ltx_bibblock">React: Synergizing reasoning and acting in language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">arXiv preprint arXiv:2210.03629</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yoran et al. (2023)</span>
<span class="ltx_bibblock">
Ori Yoran, Tomer Wolfson, Ori Ram, and Jonathan Berant. 2023.

</span>
<span class="ltx_bibblock">Making retrieval-augmented language models robust to irrelevant context.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">arXiv preprint arXiv:2310.01558</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2023)</span>
<span class="ltx_bibblock">
Wenhao Yu, Hongming Zhang, Xiaoman Pan, Kaixin Ma, Hongwei Wang, and Dong Yu. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2311.09210" title="">Chain-of-note: Enhancing robustness in retrieval-augmented language models</a>.

</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>More Analysis</h2>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Robustness to ratio of Positive Passages</h3>
<figure class="ltx_table" id="A1.T8">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A1.T8.1" style="width:433.0pt;height:162.9pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-24.1pt,9.0pt) scale(0.9,0.9) ;">
<table class="ltx_tabular ltx_align_middle" id="A1.T8.1.1">
<tr class="ltx_tr" id="A1.T8.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T8.1.1.1.2" rowspan="2" style="padding:0.5pt 12.0pt;"><span class="ltx_text" id="A1.T8.1.1.1.2.1">Data</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T8.1.1.1.3" rowspan="2" style="padding:0.5pt 12.0pt;"><span class="ltx_text" id="A1.T8.1.1.1.3.1">Model</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="6" id="A1.T8.1.1.1.4" style="padding:0.5pt 12.0pt;">ratio of Positive Passages</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T8.1.1.1.1" rowspan="2" style="padding:0.5pt 12.0pt;"><span class="ltx_text" id="A1.T8.1.1.1.1.1">Max <math alttext="\Delta" class="ltx_Math" display="inline" id="A1.T8.1.1.1.1.1.m1.1"><semantics id="A1.T8.1.1.1.1.1.m1.1a"><mi id="A1.T8.1.1.1.1.1.m1.1.1" mathvariant="normal" xref="A1.T8.1.1.1.1.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.T8.1.1.1.1.1.m1.1b"><ci id="A1.T8.1.1.1.1.1.m1.1.1.cmml" xref="A1.T8.1.1.1.1.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T8.1.1.1.1.1.m1.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="A1.T8.1.1.1.1.1.m1.1d">roman_Δ</annotation></semantics></math></span></td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.1.2">
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.2.1" style="padding:0.5pt 12.0pt;">100%</td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.2.2" style="padding:0.5pt 12.0pt;">80%</td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.2.3" style="padding:0.5pt 12.0pt;">60%</td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.2.4" style="padding:0.5pt 12.0pt;">40%</td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.2.5" style="padding:0.5pt 12.0pt;">20%</td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.2.6" style="padding:0.5pt 12.0pt;">0%</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.3.1" rowspan="2" style="padding:0.5pt 12.0pt;"><span class="ltx_text" id="A1.T8.1.1.3.1.1">NQ</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.3.2" style="padding:0.5pt 12.0pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.3.3" style="padding:0.5pt 12.0pt;">88.11</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.3.4" style="padding:0.5pt 12.0pt;">82.71</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.3.5" style="padding:0.5pt 12.0pt;">80.81</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.3.6" style="padding:0.5pt 12.0pt;">77.62</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.3.7" style="padding:0.5pt 12.0pt;">69.73</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.3.8" style="padding:0.5pt 12.0pt;">42.35</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.3.9" style="padding:0.5pt 12.0pt;">-51.94%</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.1.4">
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.4.1" style="padding:0.5pt 12.0pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T8.1.1.4.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T8.1.1.4.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.4.2" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.4.2.1">90.31</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.4.3" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.4.3.1">83.72</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.4.4" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.4.4.1">81.72</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.4.5" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.4.5.1">79.72</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.4.6" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.4.6.1">71.52</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.4.7" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.4.7.1">51.04</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.4.8" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.4.8.1">-43.48%</span></td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.1.5">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.5.1" rowspan="2" style="padding:0.5pt 12.0pt;"><span class="ltx_text" id="A1.T8.1.1.5.1.1">WebQ</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.5.2" style="padding:0.5pt 12.0pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.5.3" style="padding:0.5pt 12.0pt;">79.41</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.5.4" style="padding:0.5pt 12.0pt;">75.43</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.5.5" style="padding:0.5pt 12.0pt;">71.63</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.5.6" style="padding:0.5pt 12.0pt;">65.53</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.5.7" style="padding:0.5pt 12.0pt;">63.39</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.5.8" style="padding:0.5pt 12.0pt;">39.25</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.5.9" style="padding:0.5pt 12.0pt;">-50.57%</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.1.6">
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.6.1" style="padding:0.5pt 12.0pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T8.1.1.6.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T8.1.1.6.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.6.2" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.6.2.1">83.66</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.6.3" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.6.3.1">76.23</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.6.4" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.6.4.1">74.23</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.6.5" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.6.5.1">69.05</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.6.6" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.6.6.1">65.74</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.6.7" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.6.7.1">45.61</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.6.8" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.6.8.1">-45.48%</span></td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.1.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.7.1" rowspan="2" style="padding:0.5pt 12.0pt;"><span class="ltx_text" id="A1.T8.1.1.7.1.1">T-REx</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.7.2" style="padding:0.5pt 12.0pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.7.3" style="padding:0.5pt 12.0pt;">80.01</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.7.4" style="padding:0.5pt 12.0pt;">70.05</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.7.5" style="padding:0.5pt 12.0pt;">71.52</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.7.6" style="padding:0.5pt 12.0pt;">68.53</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.7.7" style="padding:0.5pt 12.0pt;">66.23</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.7.8" style="padding:0.5pt 12.0pt;">42.75</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.7.9" style="padding:0.5pt 12.0pt;">-46.57%</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.1.8">
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.8.1" style="padding:0.5pt 12.0pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T8.1.1.8.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T8.1.1.8.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.8.2" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.8.2.1">83.52</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.8.3" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.8.3.1">73.22</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.8.4" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.8.4.1">74.93</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.8.5" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.8.5.1">72.32</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.8.6" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.8.6.1">70.12</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.8.7" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.8.7.1">46.45</span></td>
<td class="ltx_td ltx_align_left" id="A1.T8.1.1.8.8" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.8.8.1">-44.38%</span></td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.1.9">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A1.T8.1.1.9.1" rowspan="2" style="padding:0.5pt 12.0pt;"><span class="ltx_text" id="A1.T8.1.1.9.1.1">ZS</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.9.2" style="padding:0.5pt 12.0pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.9.3" style="padding:0.5pt 12.0pt;">69.52</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.9.4" style="padding:0.5pt 12.0pt;">65.48</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.9.5" style="padding:0.5pt 12.0pt;">63.81</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.9.6" style="padding:0.5pt 12.0pt;">60.95</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.9.7" style="padding:0.5pt 12.0pt;">57.14</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.9.8" style="padding:0.5pt 12.0pt;">28.33</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T8.1.1.9.9" style="padding:0.5pt 12.0pt;">-59.25%</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.1.10">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T8.1.1.10.1" style="padding:0.5pt 12.0pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T8.1.1.10.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T8.1.1.10.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T8.1.1.10.2" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.10.2.1">72.50</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T8.1.1.10.3" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.10.3.1">72.62</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T8.1.1.10.4" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.10.4.1">67.62</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T8.1.1.10.5" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.10.5.1">67.86</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T8.1.1.10.6" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.10.6.1">60.48</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T8.1.1.10.7" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.10.7.1">36.19</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T8.1.1.10.8" style="padding:0.5pt 12.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.10.8.1">-50.08%</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 8: </span>RAG performance changes with the ratio of positive passages (randomly select 500 samples).</figcaption>
</figure>
<div class="ltx_para" id="A1.SS1.p1">
<p class="ltx_p" id="A1.SS1.p1.1">Our <span class="ltx_text ltx_font_smallcaps" id="A1.SS1.p1.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.SS1.p1.1.2">RAG </span>improves the robustness of RAG performance to retrieval performance. The performance of the retriever greatly affects the performance of LLM in RAG <cite class="ltx_cite ltx_citemacro_cite">Chen et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib7" title="">2023</a>)</cite>. We explore this in this section. Specifically, we simulate changes in retrieval performance by varying the ratio of positive and negative passages in the retrieved list and report the RAG performance with different ratios. Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.T8" title="Table 8 ‣ A.1 Robustness to ratio of Positive Passages ‣ Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">8</span></a> shows <span class="ltx_text ltx_font_smallcaps" id="A1.SS1.p1.1.3">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.SS1.p1.1.4">RAG </span>performs better when the ratio is low and the performance is more stable than baseline when the ratio changes from 100% to 0% (Max <math alttext="\Delta" class="ltx_Math" display="inline" id="A1.SS1.p1.1.m1.1"><semantics id="A1.SS1.p1.1.m1.1a"><mi id="A1.SS1.p1.1.m1.1.1" mathvariant="normal" xref="A1.SS1.p1.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.1.m1.1b"><ci id="A1.SS1.p1.1.m1.1.1.cmml" xref="A1.SS1.p1.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.1.m1.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p1.1.m1.1d">roman_Δ</annotation></semantics></math>). The model in this experiment is LLaMA-2-13B-chat.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Robustness to Positive Passage Position</h3>
<div class="ltx_para" id="A1.SS2.p1">
<p class="ltx_p" id="A1.SS2.p1.1">Experimental results in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.T9" title="Table 9 ‣ A.2 Robustness to Positive Passage Position ‣ Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">9</span></a> show that our <span class="ltx_text ltx_font_smallcaps" id="A1.SS2.p1.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.SS2.p1.1.2">RAG </span>consistently outperforms the baseline (LLaMA-2) regardless of where the positive passage (passage contains the correct answers) appears in the retrieved list. Specifically, we mix positive and negative passages in a ratio of 1:9 to simulate the retrieved passage list, vary the position of the positive passage in the retrieved list from 0 to 9, and evaluate the corresponding RAG performance respectively. The model in this experiment is LLaMA-2-13B-chat. Experimental results show that our <span class="ltx_text ltx_font_smallcaps" id="A1.SS2.p1.1.3">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.SS2.p1.1.4">RAG </span>not only outperforms the baseline at every position but also achieves more stable performance varying with the position (Max <math alttext="\Delta" class="ltx_Math" display="inline" id="A1.SS2.p1.1.m1.1"><semantics id="A1.SS2.p1.1.m1.1a"><mi id="A1.SS2.p1.1.m1.1.1" mathvariant="normal" xref="A1.SS2.p1.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.1.m1.1b"><ci id="A1.SS2.p1.1.m1.1.1.cmml" xref="A1.SS2.p1.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.1.m1.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.p1.1.m1.1d">roman_Δ</annotation></semantics></math>).</p>
</div>
<figure class="ltx_table" id="A1.T9">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A1.T9.1" style="width:432.3pt;height:162.9pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-24.0pt,9.0pt) scale(0.9,0.9) ;">
<table class="ltx_tabular ltx_align_middle" id="A1.T9.1.1">
<tr class="ltx_tr" id="A1.T9.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T9.1.1.1.2" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T9.1.1.1.2.1">Datasets</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T9.1.1.1.3" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T9.1.1.1.3.1">Method</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="10" id="A1.T9.1.1.1.4" style="padding:0.5pt 4.5pt;">Position of Positive Passage</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T9.1.1.1.1" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T9.1.1.1.1.1">Max <math alttext="\Delta" class="ltx_Math" display="inline" id="A1.T9.1.1.1.1.1.m1.1"><semantics id="A1.T9.1.1.1.1.1.m1.1a"><mi id="A1.T9.1.1.1.1.1.m1.1.1" mathvariant="normal" xref="A1.T9.1.1.1.1.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.T9.1.1.1.1.1.m1.1b"><ci id="A1.T9.1.1.1.1.1.m1.1.1.cmml" xref="A1.T9.1.1.1.1.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T9.1.1.1.1.1.m1.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="A1.T9.1.1.1.1.1.m1.1d">roman_Δ</annotation></semantics></math></span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.1.2">
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.2.1" style="padding:0.5pt 4.5pt;">0</td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.2.2" style="padding:0.5pt 4.5pt;">1</td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.2.3" style="padding:0.5pt 4.5pt;">2</td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.2.4" style="padding:0.5pt 4.5pt;">3</td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.2.5" style="padding:0.5pt 4.5pt;">4</td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.2.6" style="padding:0.5pt 4.5pt;">5</td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.2.7" style="padding:0.5pt 4.5pt;">6</td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.2.8" style="padding:0.5pt 4.5pt;">7</td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.2.9" style="padding:0.5pt 4.5pt;">8</td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.2.10" style="padding:0.5pt 4.5pt;">9</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.1" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T9.1.1.3.1.1">NQ</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.2" style="padding:0.5pt 4.5pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.3" style="padding:0.5pt 4.5pt;">54.94</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.4" style="padding:0.5pt 4.5pt;">48.05</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.5" style="padding:0.5pt 4.5pt;">46.05</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.6" style="padding:0.5pt 4.5pt;">46.45</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.7" style="padding:0.5pt 4.5pt;">46.35</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.8" style="padding:0.5pt 4.5pt;">48.30</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.9" style="padding:0.5pt 4.5pt;">48.35</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.10" style="padding:0.5pt 4.5pt;">47.15</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.11" style="padding:0.5pt 4.5pt;">51.64</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.12" style="padding:0.5pt 4.5pt;">50.44</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.3.13" style="padding:0.5pt 4.5pt;">-16.18%</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.1.4">
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.4.1" style="padding:0.5pt 4.5pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T9.1.1.4.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T9.1.1.4.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.4.2" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.4.2.1">63.23</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.4.3" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.4.3.1">58.34</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.4.4" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.4.4.1">54.54</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.4.5" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.4.5.1">54.44</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.4.6" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.4.6.1">53.54</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.4.7" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.4.7.1">53.24</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.4.8" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.4.8.1">53.84</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.4.9" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.4.9.1">54.44</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.4.10" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.4.10.1">53.34</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.4.11" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.4.11.1">53.34</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.4.12" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.4.12.1">-15.80%</span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.1.5">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.1" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T9.1.1.5.1.1">WebQ</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.2" style="padding:0.5pt 4.5pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.3" style="padding:0.5pt 4.5pt;">66.13</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.4" style="padding:0.5pt 4.5pt;">63.21</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.5" style="padding:0.5pt 4.5pt;">62.54</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.6" style="padding:0.5pt 4.5pt;">62.68</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.7" style="padding:0.5pt 4.5pt;">64.01</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.8" style="padding:0.5pt 4.5pt;">62.41</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.9" style="padding:0.5pt 4.5pt;">63.21</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.10" style="padding:0.5pt 4.5pt;">64.54</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.11" style="padding:0.5pt 4.5pt;">63.87</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.12" style="padding:0.5pt 4.5pt;">64.14</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.5.13" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.5.13.1">-5.63%</span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.1.6">
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.6.1" style="padding:0.5pt 4.5pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T9.1.1.6.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T9.1.1.6.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.6.2" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.6.2.1">71.58</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.6.3" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.6.3.1">68.39</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.6.4" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.6.4.1">66.26</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.6.5" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.6.5.1">65.34</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.6.6" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.6.6.1">67.19</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.6.7" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.6.7.1">65.73</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.6.8" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.6.8.1">65.73</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.6.9" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.6.9.1">65.81</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.6.10" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.6.10.1">65.54</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.6.11" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.6.11.1">66.72</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.6.12" style="padding:0.5pt 4.5pt;">-8.72%</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.1.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.1" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T9.1.1.7.1.1">T-REx</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.2" style="padding:0.5pt 4.5pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.3" style="padding:0.5pt 4.5pt;">64.43</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.4" style="padding:0.5pt 4.5pt;">60.13</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.5" style="padding:0.5pt 4.5pt;">58.34</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.6" style="padding:0.5pt 4.5pt;">60.23</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.7" style="padding:0.5pt 4.5pt;">58.54</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.8" style="padding:0.5pt 4.5pt;">59.14</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.9" style="padding:0.5pt 4.5pt;">59.74</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.10" style="padding:0.5pt 4.5pt;">60.53</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.11" style="padding:0.5pt 4.5pt;">63.53</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.12" style="padding:0.5pt 4.5pt;">63.23</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.7.13" style="padding:0.5pt 4.5pt;">-9.45%</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.1.8">
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.8.1" style="padding:0.5pt 4.5pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T9.1.1.8.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T9.1.1.8.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.8.2" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.8.2.1">70.72</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.8.3" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.8.3.1">66.23</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.8.4" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.8.4.1">64.93</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.8.5" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.8.5.1">65.23</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.8.6" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.8.6.1">65.43</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.8.7" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.8.7.1">64.83</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.8.8" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.8.8.1">66.03</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.8.9" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.8.9.1">67.23</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.8.10" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.8.10.1">64.63</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.8.11" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.8.11.1">66.83</span></td>
<td class="ltx_td ltx_align_left" id="A1.T9.1.1.8.12" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.8.12.1">-8.61%</span></td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.1.9">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A1.T9.1.1.9.1" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T9.1.1.9.1.1">ZS</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.9.2" style="padding:0.5pt 4.5pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.9.3" style="padding:0.5pt 4.5pt;">63.04</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.9.4" style="padding:0.5pt 4.5pt;">59.04</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.9.5" style="padding:0.5pt 4.5pt;">54.59</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.9.6" style="padding:0.5pt 4.5pt;">55.03</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.9.7" style="padding:0.5pt 4.5pt;">55.17</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.9.8" style="padding:0.5pt 4.5pt;">57.15</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.9.9" style="padding:0.5pt 4.5pt;">56.42</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.9.10" style="padding:0.5pt 4.5pt;">57.89</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.9.11" style="padding:0.5pt 4.5pt;">58.04</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.9.12" style="padding:0.5pt 4.5pt;">59.47</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T9.1.1.9.13" style="padding:0.5pt 4.5pt;">-13.40%</td>
</tr>
<tr class="ltx_tr" id="A1.T9.1.1.10">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T9.1.1.10.1" style="padding:0.5pt 4.5pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T9.1.1.10.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T9.1.1.10.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T9.1.1.10.2" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.10.2.1">66.42</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T9.1.1.10.3" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.10.3.1">63.33</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T9.1.1.10.4" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.10.4.1">59.04</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T9.1.1.10.5" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.10.5.1">60.23</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T9.1.1.10.6" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.10.6.1">61.42</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T9.1.1.10.7" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.10.7.1">61.66</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T9.1.1.10.8" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.10.8.1">60.00</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T9.1.1.10.9" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.10.9.1">61.19</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T9.1.1.10.10" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.10.10.1">60.23</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T9.1.1.10.11" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.10.11.1">62.14</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T9.1.1.10.12" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T9.1.1.10.12.1">-11.11%</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 9: </span>RAG performance changes with the position of positive passage (randomly select 500 samples).</figcaption>
</figure>
<figure class="ltx_table" id="A1.T10">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A1.T10.1" style="width:432.3pt;height:162.9pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-24.0pt,9.0pt) scale(0.9,0.9) ;">
<table class="ltx_tabular ltx_align_middle" id="A1.T10.1.1">
<tr class="ltx_tr" id="A1.T10.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T10.1.1.1.2" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T10.1.1.1.2.1">Datasets</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T10.1.1.1.3" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T10.1.1.1.3.1">Method</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="10" id="A1.T10.1.1.1.4" style="padding:0.5pt 4.5pt;">Number of Retrieved Passages</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T10.1.1.1.1" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T10.1.1.1.1.1">Max <math alttext="\Delta" class="ltx_Math" display="inline" id="A1.T10.1.1.1.1.1.m1.1"><semantics id="A1.T10.1.1.1.1.1.m1.1a"><mi id="A1.T10.1.1.1.1.1.m1.1.1" mathvariant="normal" xref="A1.T10.1.1.1.1.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A1.T10.1.1.1.1.1.m1.1b"><ci id="A1.T10.1.1.1.1.1.m1.1.1.cmml" xref="A1.T10.1.1.1.1.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T10.1.1.1.1.1.m1.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="A1.T10.1.1.1.1.1.m1.1d">roman_Δ</annotation></semantics></math></span></td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.1.2">
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.2.1" style="padding:0.5pt 4.5pt;">1</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.2.2" style="padding:0.5pt 4.5pt;">2</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.2.3" style="padding:0.5pt 4.5pt;">3</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.2.4" style="padding:0.5pt 4.5pt;">4</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.2.5" style="padding:0.5pt 4.5pt;">5</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.2.6" style="padding:0.5pt 4.5pt;">6</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.2.7" style="padding:0.5pt 4.5pt;">7</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.2.8" style="padding:0.5pt 4.5pt;">8</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.2.9" style="padding:0.5pt 4.5pt;">9</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.2.10" style="padding:0.5pt 4.5pt;">10</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.1" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T10.1.1.3.1.1">NQ</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.2" style="padding:0.5pt 4.5pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.3" style="padding:0.5pt 4.5pt;">38.80</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.4" style="padding:0.5pt 4.5pt;">43.21</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.5" style="padding:0.5pt 4.5pt;">46.62</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.6" style="padding:0.5pt 4.5pt;">47.84</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.7" style="padding:0.5pt 4.5pt;">48.61</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.8" style="padding:0.5pt 4.5pt;">49.42</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.9" style="padding:0.5pt 4.5pt;">52.03</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.10" style="padding:0.5pt 4.5pt;">50.23</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.11" style="padding:0.5pt 4.5pt;">50.40</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.12" style="padding:0.5pt 4.5pt;">50.20</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.3.13" style="padding:0.5pt 4.5pt;">-25.43%</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.1.4">
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.4.1" style="padding:0.5pt 4.5pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T10.1.1.4.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T10.1.1.4.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.4.2" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.4.2.1">45.18</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.4.3" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.4.3.1">46.80</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.4.4" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.4.4.1">51.44</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.4.5" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.4.5.1">51.23</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.4.6" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.4.6.1">51.00</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.4.7" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.4.7.1">53.21</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.4.8" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.4.8.1">54.03</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.4.9" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.4.9.1">53.44</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.4.10" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.4.10.1">53.82</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.4.11" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.4.11.1">54.60</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.4.12" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.4.12.1">-17.25%</span></td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.1.5">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.1" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T10.1.1.5.1.1">WebQ</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.2" style="padding:0.5pt 4.5pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.3" style="padding:0.5pt 4.5pt;">40.22</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.4" style="padding:0.5pt 4.5pt;">43.63</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.5" style="padding:0.5pt 4.5pt;">48.20</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.6" style="padding:0.5pt 4.5pt;">46.61</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.7" style="padding:0.5pt 4.5pt;">48.32</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.8" style="padding:0.5pt 4.5pt;">49.11</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.9" style="padding:0.5pt 4.5pt;">49.40</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.10" style="padding:0.5pt 4.5pt;">50.22</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.11" style="padding:0.5pt 4.5pt;">51.65</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.12" style="padding:0.5pt 4.5pt;">50.43</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.5.13" style="padding:0.5pt 4.5pt;">-22.13%</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.1.6">
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.6.1" style="padding:0.5pt 4.5pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T10.1.1.6.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T10.1.1.6.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.6.2" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.6.2.1">50.21</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.6.3" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.6.3.1">53.84</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.6.4" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.6.4.1">54.41</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.6.5" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.6.5.1">55.07</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.6.6" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.6.6.1">55.25</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.6.7" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.6.7.1">55.27</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.6.8" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.6.8.1">57.00</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.6.9" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.6.9.1">55.45</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.6.10" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.6.10.1">56.62</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.6.11" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.6.11.1">56.03</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.6.12" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.6.12.1">-11.91%</span></td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.1.7">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.1" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T10.1.1.7.1.1">T-REx</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.2" style="padding:0.5pt 4.5pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.3" style="padding:0.5pt 4.5pt;">66.20</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.4" style="padding:0.5pt 4.5pt;">63.45</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.5" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.7.5.1">67.22</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.6" style="padding:0.5pt 4.5pt;">64.45</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.7" style="padding:0.5pt 4.5pt;">64.43</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.8" style="padding:0.5pt 4.5pt;">65.40</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.9" style="padding:0.5pt 4.5pt;">64.41</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.10" style="padding:0.5pt 4.5pt;">65.22</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.11" style="padding:0.5pt 4.5pt;">63.22</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.12" style="padding:0.5pt 4.5pt;">65.01</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.7.13" style="padding:0.5pt 4.5pt;">-5.95%</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.1.8">
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.8.1" style="padding:0.5pt 4.5pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T10.1.1.8.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T10.1.1.8.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.8.2" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.8.2.1">66.25</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.8.3" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.8.3.1">66.03</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.8.4" style="padding:0.5pt 4.5pt;">66.31</td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.8.5" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.8.5.1">65.80</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.8.6" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.8.6.1">67.23</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.8.7" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.8.7.1">67.22</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.8.8" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.8.8.1">66.65</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.8.9" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.8.9.1">67.83</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.8.10" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.8.10.1">67.03</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.8.11" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.8.11.1">67.40</span></td>
<td class="ltx_td ltx_align_left" id="A1.T10.1.1.8.12" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.8.12.1">-2.99%</span></td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.1.9">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A1.T10.1.1.9.1" rowspan="2" style="padding:0.5pt 4.5pt;"><span class="ltx_text" id="A1.T10.1.1.9.1.1">ZS</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.9.2" style="padding:0.5pt 4.5pt;">LLaMA-2</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.9.3" style="padding:0.5pt 4.5pt;">49.25</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.9.4" style="padding:0.5pt 4.5pt;">50.01</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.9.5" style="padding:0.5pt 4.5pt;">52.38</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.9.6" style="padding:0.5pt 4.5pt;">54.09</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.9.7" style="padding:0.5pt 4.5pt;">56.12</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.9.8" style="padding:0.5pt 4.5pt;">56.20</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.9.9" style="padding:0.5pt 4.5pt;">56.13</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.9.10" style="padding:0.5pt 4.5pt;">56.05</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.9.11" style="padding:0.5pt 4.5pt;">55.95</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.9.12" style="padding:0.5pt 4.5pt;">56.11</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T10.1.1.9.13" style="padding:0.5pt 4.5pt;">-12.37%</td>
</tr>
<tr class="ltx_tr" id="A1.T10.1.1.10">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T10.1.1.10.1" style="padding:0.5pt 4.5pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T10.1.1.10.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T10.1.1.10.1.2">RAG</span>
</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T10.1.1.10.2" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.10.2.1">53.17</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T10.1.1.10.3" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.10.3.1">54.08</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T10.1.1.10.4" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.10.4.1">56.35</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T10.1.1.10.5" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.10.5.1">58.01</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T10.1.1.10.6" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.10.6.1">59.45</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T10.1.1.10.7" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.10.7.1">59.12</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T10.1.1.10.8" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.10.8.1">59.40</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T10.1.1.10.9" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.10.9.1">58.55</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T10.1.1.10.10" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.10.10.1">60.03</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T10.1.1.10.11" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.10.11.1">59.08</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T10.1.1.10.12" style="padding:0.5pt 4.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T10.1.1.10.12.1">-11.43%</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 10: </span>RAG performance changes with the number of retrieved passages (randomly select 500 samples).</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A1.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Robustness to Number of Retrieved Passages</h3>
<div class="ltx_para" id="A1.SS3.p1">
<p class="ltx_p" id="A1.SS3.p1.1">Experimental results in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.T10" title="Table 10 ‣ A.2 Robustness to Positive Passage Position ‣ Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">10</span></a> show that our <span class="ltx_text ltx_font_smallcaps" id="A1.SS3.p1.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.SS3.p1.1.2">RAG </span>consistently outperforms the baseline with the different number of retrieved passages (from 1 to 10) and is robust to the change of the number. In this experiment, we use LLaMA-2-13B-chat as the base model, change the number of retrieved passages from 1 to 10, and evaluate the corresponding performance.</p>
</div>
<figure class="ltx_table" id="A1.T11">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A1.T11.1" style="width:209.4pt;height:51.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-5.5pt,1.4pt) scale(0.95,0.95) ;">
<table class="ltx_tabular ltx_align_middle" id="A1.T11.1.1">
<tr class="ltx_tr" id="A1.T11.1.1.1">
<td class="ltx_td ltx_border_tt" id="A1.T11.1.1.1.1" style="padding-left:4.9pt;padding-right:4.9pt;"></td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T11.1.1.1.2" style="padding-left:4.9pt;padding-right:4.9pt;">T-REx</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T11.1.1.1.3" style="padding-left:4.9pt;padding-right:4.9pt;">ZS</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T11.1.1.1.4" style="padding-left:4.9pt;padding-right:4.9pt;">NQ</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T11.1.1.1.5" style="padding-left:4.9pt;padding-right:4.9pt;">WebQ</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T11.1.1.2.1" style="padding-left:4.9pt;padding-right:4.9pt;">Baseline</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T11.1.1.2.2" style="padding-left:4.9pt;padding-right:4.9pt;">51.47</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T11.1.1.2.3" style="padding-left:4.9pt;padding-right:4.9pt;">40.26</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T11.1.1.2.4" style="padding-left:4.9pt;padding-right:4.9pt;">45.05</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T11.1.1.2.5" style="padding-left:4.9pt;padding-right:4.9pt;">41.78</td>
</tr>
<tr class="ltx_tr" id="A1.T11.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T11.1.1.3.1" style="padding-left:4.9pt;padding-right:4.9pt;">+ INFO-RAG</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T11.1.1.3.2" style="padding-left:4.9pt;padding-right:4.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.1.3.2.1">55.67</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T11.1.1.3.3" style="padding-left:4.9pt;padding-right:4.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.1.3.3.1">43.29</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T11.1.1.3.4" style="padding-left:4.9pt;padding-right:4.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.1.3.4.1">49.76</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T11.1.1.3.5" style="padding-left:4.9pt;padding-right:4.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T11.1.1.3.5.1">44.02</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 11: </span>Works based on BM25.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A1.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.4 </span>Ablation Study on Masking Strategy</h3>
<figure class="ltx_table" id="A1.T12">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A1.T12.1" style="width:432.6pt;height:77.3pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-38.2pt,6.8pt) scale(0.85,0.85) ;">
<table class="ltx_tabular ltx_align_middle" id="A1.T12.1.1">
<tr class="ltx_tr" id="A1.T12.1.1.1">
<td class="ltx_td ltx_border_tt" id="A1.T12.1.1.1.1" style="padding:0.25pt 2.0pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="A1.T12.1.1.1.2" style="padding:0.25pt 2.0pt;">T-REx</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="A1.T12.1.1.1.3" style="padding:0.25pt 2.0pt;">ZS</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="A1.T12.1.1.1.4" style="padding:0.25pt 2.0pt;">NQ</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="A1.T12.1.1.1.5" style="padding:0.25pt 2.0pt;">WebQ</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.1.2">
<td class="ltx_td" id="A1.T12.1.1.2.1" style="padding:0.25pt 2.0pt;"></td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.2.2" style="padding:0.25pt 2.0pt;">has-ans.</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.2.3" style="padding:0.25pt 2.0pt;">replace</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.2.4" style="padding:0.25pt 2.0pt;">no-ans.</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.2.5" style="padding:0.25pt 2.0pt;">has-ans.</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.2.6" style="padding:0.25pt 2.0pt;">replace</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.2.7" style="padding:0.25pt 2.0pt;">no-ans.</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.2.8" style="padding:0.25pt 2.0pt;">has-ans.</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.2.9" style="padding:0.25pt 2.0pt;">replace</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.2.10" style="padding:0.25pt 2.0pt;">no-ans.</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.2.11" style="padding:0.25pt 2.0pt;">has-ans.</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.2.12" style="padding:0.25pt 2.0pt;">replace</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.2.13" style="padding:0.25pt 2.0pt;">no-ans.</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.1" style="padding:0.25pt 2.0pt;">Baseline</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.2" style="padding:0.25pt 2.0pt;">75.96</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.3" style="padding:0.25pt 2.0pt;">43.79</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.4" style="padding:0.25pt 2.0pt;">5.59</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.5" style="padding:0.25pt 2.0pt;">67.03</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.6" style="padding:0.25pt 2.0pt;">16.58</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.7" style="padding:0.25pt 2.0pt;">1.42</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.8" style="padding:0.25pt 2.0pt;">69.37</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.9" style="padding:0.25pt 2.0pt;">30.72</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.10" style="padding:0.25pt 2.0pt;">6.16</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.11" style="padding:0.25pt 2.0pt;">65.07</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.12" style="padding:0.25pt 2.0pt;">31.88</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T12.1.1.3.13" style="padding:0.25pt 2.0pt;">5.47</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.1.4">
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.1" style="padding:0.25pt 2.0pt;">Simple Mask</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.2" style="padding:0.25pt 2.0pt;">78.43</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.3" style="padding:0.25pt 2.0pt;">44.05</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.4" style="padding:0.25pt 2.0pt;">5.75</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.5" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.1.4.5.1">70.30</span></td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.6" style="padding:0.25pt 2.0pt;">19.45</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.7" style="padding:0.25pt 2.0pt;">1.96</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.8" style="padding:0.25pt 2.0pt;">73.59</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.9" style="padding:0.25pt 2.0pt;">31.05</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.10" style="padding:0.25pt 2.0pt;">6.51</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.11" style="padding:0.25pt 2.0pt;">70.55</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.12" style="padding:0.25pt 2.0pt;">32.96</td>
<td class="ltx_td ltx_align_left" id="A1.T12.1.1.4.13" style="padding:0.25pt 2.0pt;">6.83</td>
</tr>
<tr class="ltx_tr" id="A1.T12.1.1.5">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.1" style="padding:0.25pt 2.0pt;">Our method</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.2" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.1.5.2.1">79.25</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.3" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.1.5.3.1">48.59</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.4" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.1.5.4.1">6.67</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.5" style="padding:0.25pt 2.0pt;">70.26</td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.6" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.1.5.6.1">25.02</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.7" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.1.5.7.1">3.87</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.8" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.1.5.8.1">73.73</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.9" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.1.5.9.1">33.85</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.10" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.1.5.10.1">8.39</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.11" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.1.5.11.1">70.59</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.12" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.1.5.12.1">37.48</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T12.1.1.5.13" style="padding:0.25pt 2.0pt;"><span class="ltx_text ltx_font_bold" id="A1.T12.1.1.5.13.1">11.25</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 12: </span>Ablation study of masking strategy on three scenarios. “has-ans.” is the first scenario that correct answers are in retrieved texts. “replace” is the second scenario that correct answers are randomly replaced with other phrases to simulate the incorrect and incomplete knowledge. “no-ans.” is the third scenario that retrieval cannot find any answers.</figcaption>
</figure>
<div class="ltx_para" id="A1.SS4.p1">
<p class="ltx_p" id="A1.SS4.p1.1">In general, Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.T13" title="Table 13 ‣ A.5 Works with Different Retriever ‣ Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">13</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.T12" title="Table 12 ‣ A.4 Ablation Study on Masking Strategy ‣ Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">12</span></a> show our masking strategy in Scenario 3 is more effective than simple and straightforward masking. Specifically, our method is more significantly effective in the scenarios that correct answers are randomly replaced with other phrases (replace) and retrieval cannot find any answers (no answer).</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.5 </span>Works with Different Retriever</h3>
<div class="ltx_para" id="A1.SS5.p1">
<p class="ltx_p" id="A1.SS5.p1.1">We evaluate our method and baseline (LLaMA2-13B-chat) with BM25 as the retriever, the experimental results shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.T11" title="Table 11 ‣ A.3 Robustness to Number of Retrieved Passages ‣ Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">11</span></a> indicate that our method still performs better than baseline when the retriever as BM25.</p>
</div>
<figure class="ltx_table" id="A1.T13">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A1.T13.1" style="width:203.9pt;height:68.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-5.4pt,1.8pt) scale(0.95,0.95) ;">
<table class="ltx_tabular ltx_align_middle" id="A1.T13.1.1">
<tr class="ltx_tr" id="A1.T13.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T13.1.1.1.1" style="padding-left:4.9pt;padding-right:4.9pt;">Method</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T13.1.1.1.2" style="padding-left:4.9pt;padding-right:4.9pt;">T-REx</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T13.1.1.1.3" style="padding-left:4.9pt;padding-right:4.9pt;">ZS</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T13.1.1.1.4" style="padding-left:4.9pt;padding-right:4.9pt;">NQ</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="A1.T13.1.1.1.5" style="padding-left:4.9pt;padding-right:4.9pt;">WebQ</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T13.1.1.2.1" style="padding-left:4.9pt;padding-right:4.9pt;">Baseline</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T13.1.1.2.2" style="padding-left:4.9pt;padding-right:4.9pt;">62.53</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T13.1.1.2.3" style="padding-left:4.9pt;padding-right:4.9pt;">56.81</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T13.1.1.2.4" style="padding-left:4.9pt;padding-right:4.9pt;">50.36</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T13.1.1.2.5" style="padding-left:4.9pt;padding-right:4.9pt;">45.47</td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.1.3">
<td class="ltx_td ltx_align_left" id="A1.T13.1.1.3.1" style="padding-left:4.9pt;padding-right:4.9pt;">Simple Mask</td>
<td class="ltx_td ltx_align_left" id="A1.T13.1.1.3.2" style="padding-left:4.9pt;padding-right:4.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.1.3.2.1">64.05</span></td>
<td class="ltx_td ltx_align_left" id="A1.T13.1.1.3.3" style="padding-left:4.9pt;padding-right:4.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.1.3.3.1">58.91</span></td>
<td class="ltx_td ltx_align_left" id="A1.T13.1.1.3.4" style="padding-left:4.9pt;padding-right:4.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.1.3.4.1">53.80</span></td>
<td class="ltx_td ltx_align_left" id="A1.T13.1.1.3.5" style="padding-left:4.9pt;padding-right:4.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.1.3.5.1">50.55</span></td>
</tr>
<tr class="ltx_tr" id="A1.T13.1.1.4">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A1.T13.1.1.4.1" style="padding-left:4.9pt;padding-right:4.9pt;">Our method</td>
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A1.T13.1.1.4.2" style="padding-left:4.9pt;padding-right:4.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.1.4.2.1">65.39</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A1.T13.1.1.4.3" style="padding-left:4.9pt;padding-right:4.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.1.4.3.1">59.05</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A1.T13.1.1.4.4" style="padding-left:4.9pt;padding-right:4.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.1.4.4.1">54.04</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="A1.T13.1.1.4.5" style="padding-left:4.9pt;padding-right:4.9pt;"><span class="ltx_text ltx_font_bold" id="A1.T13.1.1.4.5.1">51.07</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 13: </span>Ablation study of masking strategy.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A1.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.6 </span>Performance on MMLU</h3>
<div class="ltx_para" id="A1.SS6.p1">
<p class="ltx_p" id="A1.SS6.p1.1">Experimental results on MMLU benchmark in the setting without RAG shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#A1.T14" title="Table 14 ‣ A.6 Performance on MMLU ‣ Appendix A More Analysis ‣ Unsupervised Information Refinement Training of Large Language Models for Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">14</span></a> show that our <span class="ltx_text ltx_font_smallcaps" id="A1.SS6.p1.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.SS6.p1.1.2">RAG </span>significantly improves the performance of LLMs in RAG, while still maintaining its versatility and avoiding catastrophic forgetting. MMLU is a benchmark that measures massive multitask language understanding ability of LLMs. It covers 57 subjects across STEM, the humanities, the social sciences, and more. It ranges in difficulty from an elementary level to an advanced professional level, and it tests both world knowledge and problem-solving ability <cite class="ltx_cite ltx_citemacro_cite">Hendrycks et al. (<a class="ltx_ref" href="https://arxiv.org/html/2402.18150v2#bib.bib15" title="">2020</a>)</cite>. Experiments show that our <span class="ltx_text ltx_font_smallcaps" id="A1.SS6.p1.1.3">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.SS6.p1.1.4">RAG </span>performs very close to the original LLaMA-2 on MMLU, which shows that our <span class="ltx_text ltx_font_smallcaps" id="A1.SS6.p1.1.5">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.SS6.p1.1.6">RAG </span>does not damage the basic language understanding ability of LLMs. This is mainly because the prefix language modeling training paradigm of our method is consistent with the pre-training task of LLMs. The difference is that in the training of prefix language modeling, our method learns to perform information refinement that utilizes the retrieved texts for the next token prediction.</p>
</div>
<figure class="ltx_table" id="A1.T14">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A1.T14.1" style="width:221.5pt;height:58.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-59.6pt,15.8pt) scale(0.65,0.65) ;">
<table class="ltx_tabular ltx_align_middle" id="A1.T14.1.1">
<tr class="ltx_tr" id="A1.T14.1.1.1">
<td class="ltx_td ltx_border_tt" id="A1.T14.1.1.1.1" style="padding:0.5pt 2.0pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T14.1.1.1.2" style="padding:0.5pt 2.0pt;">Humanities</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T14.1.1.1.3" style="padding:0.5pt 2.0pt;">STEM</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T14.1.1.1.4" style="padding:0.5pt 2.0pt;">Social-Sciences</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T14.1.1.1.5" style="padding:0.5pt 2.0pt;">Other</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A1.T14.1.1.1.6" style="padding:0.5pt 2.0pt;">Average</td>
</tr>
<tr class="ltx_tr" id="A1.T14.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T14.1.1.2.1" style="padding:0.5pt 2.0pt;">LLaMA-2-7B w/o RAG</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T14.1.1.2.2" style="padding:0.5pt 2.0pt;">42.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T14.1.1.2.3" style="padding:0.5pt 2.0pt;">36.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T14.1.1.2.4" style="padding:0.5pt 2.0pt;">51.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T14.1.1.2.5" style="padding:0.5pt 2.0pt;">52.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T14.1.1.2.6" style="padding:0.5pt 2.0pt;">45.3</td>
</tr>
<tr class="ltx_tr" id="A1.T14.1.1.3">
<td class="ltx_td ltx_align_left" id="A1.T14.1.1.3.1" style="padding:0.5pt 2.0pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T14.1.1.3.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T14.1.1.3.1.2">RAG </span>w/o RAG</td>
<td class="ltx_td ltx_align_center" id="A1.T14.1.1.3.2" style="padding:0.5pt 2.0pt;">42.8</td>
<td class="ltx_td ltx_align_center" id="A1.T14.1.1.3.3" style="padding:0.5pt 2.0pt;">36.1</td>
<td class="ltx_td ltx_align_center" id="A1.T14.1.1.3.4" style="padding:0.5pt 2.0pt;">50.8</td>
<td class="ltx_td ltx_align_center" id="A1.T14.1.1.3.5" style="padding:0.5pt 2.0pt;">52.0</td>
<td class="ltx_td ltx_align_center" id="A1.T14.1.1.3.6" style="padding:0.5pt 2.0pt;">45.0</td>
</tr>
<tr class="ltx_tr" id="A1.T14.1.1.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="A1.T14.1.1.4.1" style="padding:0.5pt 2.0pt;">LLaMA-2-13B w/o RAG</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T14.1.1.4.2" style="padding:0.5pt 2.0pt;">52.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T14.1.1.4.3" style="padding:0.5pt 2.0pt;">44.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T14.1.1.4.4" style="padding:0.5pt 2.0pt;">62.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T14.1.1.4.5" style="padding:0.5pt 2.0pt;">61.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T14.1.1.4.6" style="padding:0.5pt 2.0pt;">54.8</td>
</tr>
<tr class="ltx_tr" id="A1.T14.1.1.5">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A1.T14.1.1.5.1" style="padding:0.5pt 2.0pt;">+ <span class="ltx_text ltx_font_smallcaps" id="A1.T14.1.1.5.1.1">InFO</span>-<span class="ltx_text ltx_font_smallcaps" id="A1.T14.1.1.5.1.2">RAG </span>w/o RAG</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T14.1.1.5.2" style="padding:0.5pt 2.0pt;">52.5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T14.1.1.5.3" style="padding:0.5pt 2.0pt;">43.7</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T14.1.1.5.4" style="padding:0.5pt 2.0pt;">62.1</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T14.1.1.5.5" style="padding:0.5pt 2.0pt;">60.9</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A1.T14.1.1.5.6" style="padding:0.5pt 2.0pt;">54.3</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 14: </span>Performance on MMLU in the setting without retrieval-augmented generation.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Wed Jun 12 03:20:52 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
