<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Self-adaptive Multimodal Retrieval-Augmented Generation</title>
<!--Generated on Tue Oct 15 06:35:20 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2410.11321v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S1" title="In Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S2" title="In Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Works</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S2.SS1" title="In 2 Related Works ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Retrieval-Augmented Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S2.SS2" title="In 2 Related Works ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Multimodal Retrieval-Augmented Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S2.SS3" title="In 2 Related Works ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>Adaptive Retrieval-Augmented Generation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3" title="In Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Method</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.SS1" title="In 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Task Definition</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.SS2" title="In 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Embedding Model</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.SS3" title="In 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Multimodal Knowledge Distillation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.SS4" title="In 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>SAM-RAG</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.SS4.SSS1" title="In 3.4 SAM-RAG ‣ 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4.1 </span>Modality Alignment</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.SS4.SSS2" title="In 3.4 SAM-RAG ‣ 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4.2 </span>Document Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.SS4.SSS3" title="In 3.4 SAM-RAG ‣ 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4.3 </span>Relevance Verification</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.SS4.SSS4" title="In 3.4 SAM-RAG ‣ 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4.4 </span>Answer Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.SS4.SSS5" title="In 3.4 SAM-RAG ‣ 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4.5 </span>Answer Verification</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4" title="In Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.SS1" title="In 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Dataset</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.SS2" title="In 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.SS3" title="In 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Experimental Settings</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.SS4" title="In 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Main Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.SS5" title="In 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>Ablation Study</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.SS6" title="In 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.6 </span>Analysis of Retrieval Effectiveness</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.SS7" title="In 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.7 </span>Case Study</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S5" title="In Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Limitations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1" title="In Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Typical Cases</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1.SS1" title="In Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span><span class="ltx_text ltx_markedasmath ltx_font_bold">isRel</span></span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1.SS1.SSS1" title="In A.1 isRel ‣ Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1.1 </span>Positive</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1.SS1.SSS2" title="In A.1 isRel ‣ Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1.2 </span>Negative</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1.SS2" title="In Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>isUse</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1.SS2.SSS1" title="In A.2 isUse ‣ Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2.1 </span>Positive</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1.SS2.SSS2" title="In A.2 isUse ‣ Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2.2 </span>Negative</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1.SS3" title="In Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3 </span>isSup</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1.SS3.SSS1" title="In A.3 isSup ‣ Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3.1 </span>Postive</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1.SS3.SSS2" title="In A.3 isSup ‣ Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3.2 </span>Partial</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1.SS3.SSS3" title="In A.3 isSup ‣ Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3.3 </span>Negative</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A2" title="In Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Prompt template</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A2.SS1" title="In Appendix B Prompt template ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.1 </span>isRel</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A2.SS2" title="In Appendix B Prompt template ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.2 </span>QA prompt</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A2.SS3" title="In Appendix B Prompt template ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.3 </span>isSup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A2.SS4" title="In Appendix B Prompt template ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.4 </span>isUse</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A2.SS5" title="In Appendix B Prompt template ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.5 </span>Image inference prompt</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">Self-adaptive Multimodal Retrieval-Augmented Generation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Wenjia Zhai 
<br class="ltx_break"/>Unaffiliated 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id1.1.id1">zhaiwenjia0311@163.com</span>
<br class="ltx_break"/>
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id2.id1">Traditional Retrieval-Augmented Generation (RAG) methods are limited by their reliance on a fixed number of retrieved documents, often resulting in incomplete or noisy information that undermines task performance. Although recent adaptive approaches alleviated these problems, their application in intricate and real-world multimodal tasks remains limited. To address these, we propose a new approach called Self-adaptive Multimodal Retrieval-Augmented Generation (SAM-RAG), tailored specifically for multimodal contexts. SAM-RAG not only dynamically filters relevant documents based on the input query, including image captions when needed, but also verifies the quality of both the retrieved documents and the output. Extensive experimental results show that SAM-RAG surpasses existing state-of-the-art methods in both retrieval accuracy and response generation. By further ablation experiments and effectiveness analysis, SAM-RAG maintains high recall quality while improving overall task performance in multimodal RAG task. Our codes are available at <span class="ltx_ref ltx_ref_self">https://github.com/SAM-RAG/SAM_RAG</span>.</p>
</div>
<div class="ltx_para ltx_noindent" id="p1">
<div class="ltx_block ltx_align_bottom" id="p1.1">
<p class="ltx_p" id="p1.1.1"><span class="ltx_text ltx_font_bold" id="p1.1.1.1">Self-adaptive Multimodal Retrieval-Augmented Generation</span></p>
<br class="ltx_break ltx_centering"/>
<p class="ltx_p ltx_align_center" id="p1.1.2" style="width:433.6pt;"><span class="ltx_text ltx_inline-block" id="p1.1.2.1" style="width:0.0pt;">
<span class="ltx_tabular ltx_align_top" id="p1.1.2.1.1">
<span class="ltx_tr" id="p1.1.2.1.1.1">
<span class="ltx_td ltx_align_center" id="p1.1.2.1.1.1.1"><span class="ltx_text ltx_font_bold" id="p1.1.2.1.1.1.1.1">Wenjia Zhai</span></span></span>
<span class="ltx_tr" id="p1.1.2.1.1.2">
<span class="ltx_td ltx_align_center" id="p1.1.2.1.1.2.1">Unaffiliated</span></span>
<span class="ltx_tr" id="p1.1.2.1.1.3">
<span class="ltx_td ltx_align_center" id="p1.1.2.1.1.3.1"><span class="ltx_text ltx_font_typewriter" id="p1.1.2.1.1.3.1.1">zhaiwenjia0311@163.com</span></span></span>
</span></span></p>
<br class="ltx_break ltx_centering"/>
</div>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Recent advances in large language models (LLMs) have significantly improved various natural language processing tasks <cite class="ltx_cite ltx_citemacro_citep">(Manikandan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib26" title="">2023</a>; OpenAI et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib27" title="">2024</a>; Ouyang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib28" title="">2022</a>; Touvron et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib35" title="">2023</a>; Anil et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib1" title="">2023</a>)</cite>, including question answering <cite class="ltx_cite ltx_citemacro_citep">(Tan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib34" title="">2023</a>)</cite>. In addition, LLMs have begun to cross modal boundaries, exhibiting potential in various multimodal tasks such as visual comprehension <cite class="ltx_cite ltx_citemacro_citep">(Pan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib29" title="">2022</a>)</cite> and code generation <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib37" title="">2024</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">However, challenges remain, including the generation of false information (hallucination) <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib17" title="">2022</a>)</cite> and difficulties in knowledge updating <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib46" title="">2023</a>)</cite>, which hinder the applicability of a wider variety. To address these challenges, Retrieval-Augmented Generation (RAG) <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib16" title="">2020</a>)</cite> has been proposed, positing that documents semantically similar to a query likely contain the information needed to answer that query. By leveraging the in-context learning capabilities of LLMs, RAG enhances the likelihood of accurate responses from semantically related document retrievals while effectively reducing hallucinations and facilitating knowledge acquisition <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib18" title="">2024</a>)</cite>. As RAG technology evolves, it gradually expands into the multimodal domain, achieving progress in tasks involving texts <cite class="ltx_cite ltx_citemacro_citep">(Wu et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib40" title="">2024</a>)</cite>, images <cite class="ltx_cite ltx_citemacro_citep">(Pan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib29" title="">2022</a>)</cite>, etc., an example of multimodal RAG task is shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="347" id="S1.F1.g1" src="extracted/5922567/overview.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>
Some questions rely on visual information, which make text-only retrieval unfeasible. These questions require retrieving and reasoning over visual context.
</figcaption>
</figure>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">RAG, while advantageous, encounters substantial obstacles, especially regarding adaptability <cite class="ltx_cite ltx_citemacro_citep">(Zhao et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib47" title="">2024</a>)</cite>. RAG’s reliance on a fixed number of retrieved documents often results in retrieval omissions or excessive noise, negatively impacting performance, while it also lacks a mechanism to verify its generated responses. To address these challenges, adaptive RAG frameworks have been introduced, enabling dynamic adjustments based on task-specific needs, which greatly improve RAG performance in various tasks. However, research on adaptive RAG in multimodal contexts remains limited.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">To this end, we propose <span class="ltx_text ltx_font_bold" id="S1.p4.1.1">S</span>elf-<span class="ltx_text ltx_font_bold" id="S1.p4.1.2">A</span>daptive <span class="ltx_text ltx_font_bold" id="S1.p4.1.3">M</span>ultimodal <span class="ltx_text ltx_font_bold" id="S1.p4.1.4">R</span>etrieval-<span class="ltx_text ltx_font_bold" id="S1.p4.1.5">A</span>ugmented <span class="ltx_text ltx_font_bold" id="S1.p4.1.6">G</span>eneration (<span class="ltx_text ltx_font_bold" id="S1.p4.1.7">SAM-RAG</span>), the first adaptive multimodal RAG framework capable of proactively selecting relevant data and self-evaluating generated responses. By employing knowledge distillation from state-of-the-art models to a smaller multimodal LLM, we ensure superior performance in multimodal tasks. SAM-RAG defines three essential criteria: relevance, usefulness, and support. In the course of processing queries, SAM-RAG assesses each set of retrieval outcomes separately, identifying pertinent data after retrieval, then generates a preliminary response based on these relevant contexts and assesses their contribution to response generation. Ultimately, the framework conducts a thorough evaluation of the query, contexts, and response. This process ensures that the generated answer is thoroughly substantiated by the provided contexts, thereby significantly reducing the occurrence of hallucinations.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">We set up a series of experiments and introduce various baselines to evaluate our method. The experimental results indicate that SAM-RAG significantly outperforms the previous state-of-the-art framework like MuRAG <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib3" title="">2022</a>)</cite> and other baselines in multimodal RAG tasks, demonstrating its robust capabilities in multimodal retrieval and generation. The ablation study evaluates the rationale and effectiveness of the three verifications, while the analysis of retrieval effectiveness underscores the importance of dynamic retrieval in enhancing performance. Additionally, the case study offers concrete examples demonstrating how each verification individually and collectively improves retrieval accuracy and the quality of answer generation.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">The SAM-RAG framework integrates dynamic retrieval, relevance verification, and multi-stage answer validation to optimize multimodal tasks, ensuring accurate and supported answers while minimizing hallucinations. The process involves modality alignment, document retrieval, and iterative verifications for relevance, usability, and support, enhancing both output quality and model robustness. In summary, the contributions of this paper are as follows:</p>
</div>
<div class="ltx_para" id="S1.p7">
<ol class="ltx_enumerate" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">SAM-RAG introduces a dynamic multimodal RAG framework, enhancing relevant document selection while minimizing unnecessary retrievals;</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">It uses three key verification criteria — relevance, usability, and support — to improve retrieval accuracy and answer quality;</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">Experiments show SAM-RAG’s superior performance over state-of-the-art models, especially in multimodal tasks.</p>
</div>
</li>
</ol>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Works</h2>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Retrieval-Augmented Generation</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">RAG improved the relevance and accuracy of generated responses by incorporating external knowledge into language models. Early research focused on the text modality. Re2G <cite class="ltx_cite ltx_citemacro_citep">(Glass et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib6" title="">2022</a>)</cite> combined BM25 with deep learning retrieval, UPRISE <cite class="ltx_cite ltx_citemacro_citep">(Cheng et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib4" title="">2023</a>)</cite> introduced a prompt retriever to enhance the zero-shot capabilities of large language models, and QOQA <cite class="ltx_cite ltx_citemacro_citep">(Koo et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib15" title="">2024</a>)</cite> refined the retrieval performance through query regeneration. However, these methods relied on a fixed number of retrieval results, limiting adaptability to specific tasks. SAM-RAG overcomes this limitation by using adaptive retrieval, dynamically assessing recalled documents to improve response generation.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Multimodal Retrieval-Augmented Generation</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">A key area of RAG research is multimodal contexts, integrating various formats such as texts <cite class="ltx_cite ltx_citemacro_citep">(Wu et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib40" title="">2024</a>)</cite>, images <cite class="ltx_cite ltx_citemacro_citep">(Pan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib29" title="">2022</a>)</cite>, tables <cite class="ltx_cite ltx_citemacro_citep">(Dong et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib5" title="">2024</a>)</cite>, and audio <cite class="ltx_cite ltx_citemacro_citep">(Xu et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib44" title="">2019</a>)</cite>, with Visual Question Answering (VQA) being a significant focus <cite class="ltx_cite ltx_citemacro_citep">(Ishmam et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib12" title="">2024</a>)</cite>. The main distinction between multimodal and textual RAG tasks is the necessity to unify diverse modalities into a single representation, known as modality alignment. Current LLMs exhibit superior reasoning, analysis, and generation capabilities by leveraging large-scale internet corpora, often outperforming visual and other modalities in these tasks <cite class="ltx_cite ltx_citemacro_citep">(Jin et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib13" title="">2024</a>)</cite>. Thus, in multimodal RAG, a common approach involves converting non-textual modalities into text representations using a modality converter, thereby utilizing LLM’s strengths in text processing <cite class="ltx_cite ltx_citemacro_citep">(Zhao et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib48" title="">2023</a>)</cite>. Frameworks such as RA-VQA <cite class="ltx_cite ltx_citemacro_citep">(Lin and Byrne, <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib20" title="">2022</a>)</cite> used object detection to create multiple textual representations from images for standard RAG operations, while other approaches like MMHQA-ICL <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib22" title="">2023</a>)</cite> and UniMMQA <cite class="ltx_cite ltx_citemacro_citep">(Luo et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib24" title="">2023</a>)</cite> combined text, tabular, and visual data to align with text-based RAG techniques. This paper specifically focuses on texts and images, incorporating these methods to extract image information effectively.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Adaptive Retrieval-Augmented Generation</h3>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.1">The quality of retrieval significantly impacts RAG performance, as irrelevant or incorrect documents often cause "hallucinations" <cite class="ltx_cite ltx_citemacro_citep">(Huang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib11" title="">2023b</a>)</cite>. The conventional RAG relies on a fixed number of documents, which can miss crucial information or introduce irrelevant text. The conventional RAG also lacks verification mechanisms for generated answers. Adaptive RAG frameworks, such as Self-Improve <cite class="ltx_cite ltx_citemacro_citep">(Huang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib10" title="">2023a</a>)</cite> and Self-Refine <cite class="ltx_cite ltx_citemacro_citep">(Madaan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib25" title="">2023</a>)</cite>, used feedback loops for error correction. Self-Correction <cite class="ltx_cite ltx_citemacro_citep">(Welleck et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib39" title="">2023</a>)</cite> and Self-Reasoning <cite class="ltx_cite ltx_citemacro_citep">(Xia et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib41" title="">2024</a>)</cite> further enhanced retrieval quality via reasoning. Self-RAG <cite class="ltx_cite ltx_citemacro_citep">(Asai et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib2" title="">2024</a>)</cite> improved adaptability by using on-demand retrieval and reflection. SAM-RAG builds on these ideas, introducing active screening and reflection mechanisms in the multimodal domain, creating a more dynamic retrieval process and advancing multimodal RAG applications.</p>
</div>
<figure class="ltx_figure" id="S2.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="236" id="S2.F2.g1" src="extracted/5922567/pipeline.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>The illustration of SAM-RAG pipeline. If the documents are visual, they will be converted to textual captions, vectorized and stored with textual documents. When a retrieval is performed, documents are processed in batch based on semantic similarity. If a caption is in a batch, its coressponding image will be recaptioned with the query.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Method</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this study, we propose a novel multimodal RAG framework, SAM-RAG, as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S2.F2" title="Figure 2 ‣ 2.3 Adaptive Retrieval-Augmented Generation ‣ 2 Related Works ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>. SAM-RAG is designed to actively select multimodal data pertinent to the query for answer generation and to validate the generated responses from multiple perspectives, thereby ensuring the quality and reliability of the output.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Task Definition</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.9">Formally, the RAG task involves constructing a retrieval database from a document collection <math alttext="\boldsymbol{D}=\{\boldsymbol{d}_{1},\boldsymbol{d}_{2},\ldots,\boldsymbol{d}_{%
n}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.4"><semantics id="S3.SS1.p1.1.m1.4a"><mrow id="S3.SS1.p1.1.m1.4.4" xref="S3.SS1.p1.1.m1.4.4.cmml"><mi id="S3.SS1.p1.1.m1.4.4.5" xref="S3.SS1.p1.1.m1.4.4.5.cmml">𝑫</mi><mo id="S3.SS1.p1.1.m1.4.4.4" xref="S3.SS1.p1.1.m1.4.4.4.cmml">=</mo><mrow id="S3.SS1.p1.1.m1.4.4.3.3" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml"><mo id="S3.SS1.p1.1.m1.4.4.3.3.4" stretchy="false" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p1.1.m1.2.2.1.1.1" xref="S3.SS1.p1.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.2.2.1.1.1.2" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml">𝒅</mi><mn id="S3.SS1.p1.1.m1.2.2.1.1.1.3" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.1.m1.4.4.3.3.5" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.1.m1.3.3.2.2.2" xref="S3.SS1.p1.1.m1.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.1.m1.3.3.2.2.2.2" xref="S3.SS1.p1.1.m1.3.3.2.2.2.2.cmml">𝒅</mi><mn id="S3.SS1.p1.1.m1.3.3.2.2.2.3" xref="S3.SS1.p1.1.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p1.1.m1.4.4.3.3.6" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">,</mo><mi id="S3.SS1.p1.1.m1.1.1" mathvariant="normal" xref="S3.SS1.p1.1.m1.1.1.cmml">…</mi><mo id="S3.SS1.p1.1.m1.4.4.3.3.7" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.1.m1.4.4.3.3.3" xref="S3.SS1.p1.1.m1.4.4.3.3.3.cmml"><mi id="S3.SS1.p1.1.m1.4.4.3.3.3.2" xref="S3.SS1.p1.1.m1.4.4.3.3.3.2.cmml">𝒅</mi><mi id="S3.SS1.p1.1.m1.4.4.3.3.3.3" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3.cmml">n</mi></msub><mo id="S3.SS1.p1.1.m1.4.4.3.3.8" stretchy="false" xref="S3.SS1.p1.1.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.4b"><apply id="S3.SS1.p1.1.m1.4.4.cmml" xref="S3.SS1.p1.1.m1.4.4"><eq id="S3.SS1.p1.1.m1.4.4.4.cmml" xref="S3.SS1.p1.1.m1.4.4.4"></eq><ci id="S3.SS1.p1.1.m1.4.4.5.cmml" xref="S3.SS1.p1.1.m1.4.4.5">𝑫</ci><set id="S3.SS1.p1.1.m1.4.4.3.4.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3"><apply id="S3.SS1.p1.1.m1.2.2.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.2.2.1.1.1.2">𝒅</ci><cn id="S3.SS1.p1.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p1.1.m1.3.3.2.2.2.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.1.m1.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.1.m1.3.3.2.2.2.2">𝒅</ci><cn id="S3.SS1.p1.1.m1.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS1.p1.1.m1.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">…</ci><apply id="S3.SS1.p1.1.m1.4.4.3.3.3.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.4.4.3.3.3.1.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.1.m1.4.4.3.3.3.2.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3.2">𝒅</ci><ci id="S3.SS1.p1.1.m1.4.4.3.3.3.3.cmml" xref="S3.SS1.p1.1.m1.4.4.3.3.3.3">𝑛</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.4c">\boldsymbol{D}=\{\boldsymbol{d}_{1},\boldsymbol{d}_{2},\ldots,\boldsymbol{d}_{%
n}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.4d">bold_italic_D = { bold_italic_d start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , bold_italic_d start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , bold_italic_d start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math> using a retriever <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">caligraphic_R</annotation></semantics></math>. For a set of queries <math alttext="\boldsymbol{Q}=\{\boldsymbol{q}_{1},\ldots,\boldsymbol{q}_{m}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.3"><semantics id="S3.SS1.p1.3.m3.3a"><mrow id="S3.SS1.p1.3.m3.3.3" xref="S3.SS1.p1.3.m3.3.3.cmml"><mi id="S3.SS1.p1.3.m3.3.3.4" xref="S3.SS1.p1.3.m3.3.3.4.cmml">𝑸</mi><mo id="S3.SS1.p1.3.m3.3.3.3" xref="S3.SS1.p1.3.m3.3.3.3.cmml">=</mo><mrow id="S3.SS1.p1.3.m3.3.3.2.2" xref="S3.SS1.p1.3.m3.3.3.2.3.cmml"><mo id="S3.SS1.p1.3.m3.3.3.2.2.3" stretchy="false" xref="S3.SS1.p1.3.m3.3.3.2.3.cmml">{</mo><msub id="S3.SS1.p1.3.m3.2.2.1.1.1" xref="S3.SS1.p1.3.m3.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.3.m3.2.2.1.1.1.2" xref="S3.SS1.p1.3.m3.2.2.1.1.1.2.cmml">𝒒</mi><mn id="S3.SS1.p1.3.m3.2.2.1.1.1.3" xref="S3.SS1.p1.3.m3.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.3.m3.3.3.2.2.4" xref="S3.SS1.p1.3.m3.3.3.2.3.cmml">,</mo><mi id="S3.SS1.p1.3.m3.1.1" mathvariant="normal" xref="S3.SS1.p1.3.m3.1.1.cmml">…</mi><mo id="S3.SS1.p1.3.m3.3.3.2.2.5" xref="S3.SS1.p1.3.m3.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p1.3.m3.3.3.2.2.2" xref="S3.SS1.p1.3.m3.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.3.m3.3.3.2.2.2.2" xref="S3.SS1.p1.3.m3.3.3.2.2.2.2.cmml">𝒒</mi><mi id="S3.SS1.p1.3.m3.3.3.2.2.2.3" xref="S3.SS1.p1.3.m3.3.3.2.2.2.3.cmml">m</mi></msub><mo id="S3.SS1.p1.3.m3.3.3.2.2.6" stretchy="false" xref="S3.SS1.p1.3.m3.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.3b"><apply id="S3.SS1.p1.3.m3.3.3.cmml" xref="S3.SS1.p1.3.m3.3.3"><eq id="S3.SS1.p1.3.m3.3.3.3.cmml" xref="S3.SS1.p1.3.m3.3.3.3"></eq><ci id="S3.SS1.p1.3.m3.3.3.4.cmml" xref="S3.SS1.p1.3.m3.3.3.4">𝑸</ci><set id="S3.SS1.p1.3.m3.3.3.2.3.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2"><apply id="S3.SS1.p1.3.m3.2.2.1.1.1.cmml" xref="S3.SS1.p1.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.3.m3.2.2.1.1.1.2">𝒒</ci><cn id="S3.SS1.p1.3.m3.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.3.m3.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">…</ci><apply id="S3.SS1.p1.3.m3.3.3.2.2.2.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.3.m3.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2.2">𝒒</ci><ci id="S3.SS1.p1.3.m3.3.3.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2.3">𝑚</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.3c">\boldsymbol{Q}=\{\boldsymbol{q}_{1},\ldots,\boldsymbol{q}_{m}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.3d">bold_italic_Q = { bold_italic_q start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , bold_italic_q start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT }</annotation></semantics></math>, the retriever identifies a relevant document set <math alttext="\boldsymbol{D}_{rel}=\{\boldsymbol{d}_{1},\ldots,\boldsymbol{d}_{k}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.3"><semantics id="S3.SS1.p1.4.m4.3a"><mrow id="S3.SS1.p1.4.m4.3.3" xref="S3.SS1.p1.4.m4.3.3.cmml"><msub id="S3.SS1.p1.4.m4.3.3.4" xref="S3.SS1.p1.4.m4.3.3.4.cmml"><mi id="S3.SS1.p1.4.m4.3.3.4.2" xref="S3.SS1.p1.4.m4.3.3.4.2.cmml">𝑫</mi><mrow id="S3.SS1.p1.4.m4.3.3.4.3" xref="S3.SS1.p1.4.m4.3.3.4.3.cmml"><mi id="S3.SS1.p1.4.m4.3.3.4.3.2" xref="S3.SS1.p1.4.m4.3.3.4.3.2.cmml">r</mi><mo id="S3.SS1.p1.4.m4.3.3.4.3.1" xref="S3.SS1.p1.4.m4.3.3.4.3.1.cmml">⁢</mo><mi id="S3.SS1.p1.4.m4.3.3.4.3.3" xref="S3.SS1.p1.4.m4.3.3.4.3.3.cmml">e</mi><mo id="S3.SS1.p1.4.m4.3.3.4.3.1a" xref="S3.SS1.p1.4.m4.3.3.4.3.1.cmml">⁢</mo><mi id="S3.SS1.p1.4.m4.3.3.4.3.4" xref="S3.SS1.p1.4.m4.3.3.4.3.4.cmml">l</mi></mrow></msub><mo id="S3.SS1.p1.4.m4.3.3.3" xref="S3.SS1.p1.4.m4.3.3.3.cmml">=</mo><mrow id="S3.SS1.p1.4.m4.3.3.2.2" xref="S3.SS1.p1.4.m4.3.3.2.3.cmml"><mo id="S3.SS1.p1.4.m4.3.3.2.2.3" stretchy="false" xref="S3.SS1.p1.4.m4.3.3.2.3.cmml">{</mo><msub id="S3.SS1.p1.4.m4.2.2.1.1.1" xref="S3.SS1.p1.4.m4.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.4.m4.2.2.1.1.1.2" xref="S3.SS1.p1.4.m4.2.2.1.1.1.2.cmml">𝒅</mi><mn id="S3.SS1.p1.4.m4.2.2.1.1.1.3" xref="S3.SS1.p1.4.m4.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.4.m4.3.3.2.2.4" xref="S3.SS1.p1.4.m4.3.3.2.3.cmml">,</mo><mi id="S3.SS1.p1.4.m4.1.1" mathvariant="normal" xref="S3.SS1.p1.4.m4.1.1.cmml">…</mi><mo id="S3.SS1.p1.4.m4.3.3.2.2.5" xref="S3.SS1.p1.4.m4.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p1.4.m4.3.3.2.2.2" xref="S3.SS1.p1.4.m4.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.4.m4.3.3.2.2.2.2" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2.cmml">𝒅</mi><mi id="S3.SS1.p1.4.m4.3.3.2.2.2.3" xref="S3.SS1.p1.4.m4.3.3.2.2.2.3.cmml">k</mi></msub><mo id="S3.SS1.p1.4.m4.3.3.2.2.6" stretchy="false" xref="S3.SS1.p1.4.m4.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.3b"><apply id="S3.SS1.p1.4.m4.3.3.cmml" xref="S3.SS1.p1.4.m4.3.3"><eq id="S3.SS1.p1.4.m4.3.3.3.cmml" xref="S3.SS1.p1.4.m4.3.3.3"></eq><apply id="S3.SS1.p1.4.m4.3.3.4.cmml" xref="S3.SS1.p1.4.m4.3.3.4"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.3.3.4.1.cmml" xref="S3.SS1.p1.4.m4.3.3.4">subscript</csymbol><ci id="S3.SS1.p1.4.m4.3.3.4.2.cmml" xref="S3.SS1.p1.4.m4.3.3.4.2">𝑫</ci><apply id="S3.SS1.p1.4.m4.3.3.4.3.cmml" xref="S3.SS1.p1.4.m4.3.3.4.3"><times id="S3.SS1.p1.4.m4.3.3.4.3.1.cmml" xref="S3.SS1.p1.4.m4.3.3.4.3.1"></times><ci id="S3.SS1.p1.4.m4.3.3.4.3.2.cmml" xref="S3.SS1.p1.4.m4.3.3.4.3.2">𝑟</ci><ci id="S3.SS1.p1.4.m4.3.3.4.3.3.cmml" xref="S3.SS1.p1.4.m4.3.3.4.3.3">𝑒</ci><ci id="S3.SS1.p1.4.m4.3.3.4.3.4.cmml" xref="S3.SS1.p1.4.m4.3.3.4.3.4">𝑙</ci></apply></apply><set id="S3.SS1.p1.4.m4.3.3.2.3.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2"><apply id="S3.SS1.p1.4.m4.2.2.1.1.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.2.2.1.1.1.2">𝒅</ci><cn id="S3.SS1.p1.4.m4.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.4.m4.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">…</ci><apply id="S3.SS1.p1.4.m4.3.3.2.2.2.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.4.m4.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2.2">𝒅</ci><ci id="S3.SS1.p1.4.m4.3.3.2.2.2.3.cmml" xref="S3.SS1.p1.4.m4.3.3.2.2.2.3">𝑘</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.3c">\boldsymbol{D}_{rel}=\{\boldsymbol{d}_{1},\ldots,\boldsymbol{d}_{k}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.3d">bold_italic_D start_POSTSUBSCRIPT italic_r italic_e italic_l end_POSTSUBSCRIPT = { bold_italic_d start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , bold_italic_d start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT }</annotation></semantics></math> for each query <math alttext="\boldsymbol{q}" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><mi id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">𝒒</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">𝒒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">\boldsymbol{q}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">bold_italic_q</annotation></semantics></math>, generating a sequence of <math alttext="s" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.1"><semantics id="S3.SS1.p1.6.m6.1a"><mi id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><ci id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.1d">italic_s</annotation></semantics></math> tokens <math alttext="\boldsymbol{A}=[\boldsymbol{a}_{1},\ldots,\boldsymbol{a}_{s}]" class="ltx_Math" display="inline" id="S3.SS1.p1.7.m7.3"><semantics id="S3.SS1.p1.7.m7.3a"><mrow id="S3.SS1.p1.7.m7.3.3" xref="S3.SS1.p1.7.m7.3.3.cmml"><mi id="S3.SS1.p1.7.m7.3.3.4" xref="S3.SS1.p1.7.m7.3.3.4.cmml">𝑨</mi><mo id="S3.SS1.p1.7.m7.3.3.3" xref="S3.SS1.p1.7.m7.3.3.3.cmml">=</mo><mrow id="S3.SS1.p1.7.m7.3.3.2.2" xref="S3.SS1.p1.7.m7.3.3.2.3.cmml"><mo id="S3.SS1.p1.7.m7.3.3.2.2.3" stretchy="false" xref="S3.SS1.p1.7.m7.3.3.2.3.cmml">[</mo><msub id="S3.SS1.p1.7.m7.2.2.1.1.1" xref="S3.SS1.p1.7.m7.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.7.m7.2.2.1.1.1.2" xref="S3.SS1.p1.7.m7.2.2.1.1.1.2.cmml">𝒂</mi><mn id="S3.SS1.p1.7.m7.2.2.1.1.1.3" xref="S3.SS1.p1.7.m7.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.7.m7.3.3.2.2.4" xref="S3.SS1.p1.7.m7.3.3.2.3.cmml">,</mo><mi id="S3.SS1.p1.7.m7.1.1" mathvariant="normal" xref="S3.SS1.p1.7.m7.1.1.cmml">…</mi><mo id="S3.SS1.p1.7.m7.3.3.2.2.5" xref="S3.SS1.p1.7.m7.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p1.7.m7.3.3.2.2.2" xref="S3.SS1.p1.7.m7.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.7.m7.3.3.2.2.2.2" xref="S3.SS1.p1.7.m7.3.3.2.2.2.2.cmml">𝒂</mi><mi id="S3.SS1.p1.7.m7.3.3.2.2.2.3" xref="S3.SS1.p1.7.m7.3.3.2.2.2.3.cmml">s</mi></msub><mo id="S3.SS1.p1.7.m7.3.3.2.2.6" stretchy="false" xref="S3.SS1.p1.7.m7.3.3.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.3b"><apply id="S3.SS1.p1.7.m7.3.3.cmml" xref="S3.SS1.p1.7.m7.3.3"><eq id="S3.SS1.p1.7.m7.3.3.3.cmml" xref="S3.SS1.p1.7.m7.3.3.3"></eq><ci id="S3.SS1.p1.7.m7.3.3.4.cmml" xref="S3.SS1.p1.7.m7.3.3.4">𝑨</ci><list id="S3.SS1.p1.7.m7.3.3.2.3.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2"><apply id="S3.SS1.p1.7.m7.2.2.1.1.1.cmml" xref="S3.SS1.p1.7.m7.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m7.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.7.m7.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.7.m7.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.7.m7.2.2.1.1.1.2">𝒂</ci><cn id="S3.SS1.p1.7.m7.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.7.m7.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">…</ci><apply id="S3.SS1.p1.7.m7.3.3.2.2.2.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m7.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.7.m7.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2.2.2">𝒂</ci><ci id="S3.SS1.p1.7.m7.3.3.2.2.2.3.cmml" xref="S3.SS1.p1.7.m7.3.3.2.2.2.3">𝑠</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.3c">\boldsymbol{A}=[\boldsymbol{a}_{1},\ldots,\boldsymbol{a}_{s}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.7.m7.3d">bold_italic_A = [ bold_italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , bold_italic_a start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ]</annotation></semantics></math> as the answer. Here, <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.p1.8.m8.1"><semantics id="S3.SS1.p1.8.m8.1a"><mi id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><ci id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.8.m8.1d">italic_k</annotation></semantics></math> (<math alttext="k&lt;n" class="ltx_Math" display="inline" id="S3.SS1.p1.9.m9.1"><semantics id="S3.SS1.p1.9.m9.1a"><mrow id="S3.SS1.p1.9.m9.1.1" xref="S3.SS1.p1.9.m9.1.1.cmml"><mi id="S3.SS1.p1.9.m9.1.1.2" xref="S3.SS1.p1.9.m9.1.1.2.cmml">k</mi><mo id="S3.SS1.p1.9.m9.1.1.1" xref="S3.SS1.p1.9.m9.1.1.1.cmml">&lt;</mo><mi id="S3.SS1.p1.9.m9.1.1.3" xref="S3.SS1.p1.9.m9.1.1.3.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m9.1b"><apply id="S3.SS1.p1.9.m9.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1"><lt id="S3.SS1.p1.9.m9.1.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1.1"></lt><ci id="S3.SS1.p1.9.m9.1.1.2.cmml" xref="S3.SS1.p1.9.m9.1.1.2">𝑘</ci><ci id="S3.SS1.p1.9.m9.1.1.3.cmml" xref="S3.SS1.p1.9.m9.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.1c">k&lt;n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.9.m9.1d">italic_k &lt; italic_n</annotation></semantics></math>) is typically a predefined number for retrieval.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.12">The multimodal RAG task typically involves the following steps: First, a modality converter <math alttext="\mathcal{P}" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\mathcal{P}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">caligraphic_P</annotation></semantics></math> transforms information in other modalities into a format that the language model <math alttext="\mathcal{L}" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">\mathcal{L}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">caligraphic_L</annotation></semantics></math> can interpret, integrating it with textual data for retrieval. Next, for each query <math alttext="\boldsymbol{q}" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.1"><semantics id="S3.SS1.p2.3.m3.1a"><mi id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">𝒒</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">𝒒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">\boldsymbol{q}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.1d">bold_italic_q</annotation></semantics></math>, the retriever <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1"><semantics id="S3.SS1.p2.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.4.m4.1d">caligraphic_R</annotation></semantics></math> identifies the relevant information <math alttext="\boldsymbol{D}_{rel}" class="ltx_Math" display="inline" id="S3.SS1.p2.5.m5.1"><semantics id="S3.SS1.p2.5.m5.1a"><msub id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml"><mi id="S3.SS1.p2.5.m5.1.1.2" xref="S3.SS1.p2.5.m5.1.1.2.cmml">𝑫</mi><mrow id="S3.SS1.p2.5.m5.1.1.3" xref="S3.SS1.p2.5.m5.1.1.3.cmml"><mi id="S3.SS1.p2.5.m5.1.1.3.2" xref="S3.SS1.p2.5.m5.1.1.3.2.cmml">r</mi><mo id="S3.SS1.p2.5.m5.1.1.3.1" xref="S3.SS1.p2.5.m5.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.5.m5.1.1.3.3" xref="S3.SS1.p2.5.m5.1.1.3.3.cmml">e</mi><mo id="S3.SS1.p2.5.m5.1.1.3.1a" xref="S3.SS1.p2.5.m5.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.5.m5.1.1.3.4" xref="S3.SS1.p2.5.m5.1.1.3.4.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p2.5.m5.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.2">𝑫</ci><apply id="S3.SS1.p2.5.m5.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3"><times id="S3.SS1.p2.5.m5.1.1.3.1.cmml" xref="S3.SS1.p2.5.m5.1.1.3.1"></times><ci id="S3.SS1.p2.5.m5.1.1.3.2.cmml" xref="S3.SS1.p2.5.m5.1.1.3.2">𝑟</ci><ci id="S3.SS1.p2.5.m5.1.1.3.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3.3">𝑒</ci><ci id="S3.SS1.p2.5.m5.1.1.3.4.cmml" xref="S3.SS1.p2.5.m5.1.1.3.4">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">\boldsymbol{D}_{rel}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.5.m5.1d">bold_italic_D start_POSTSUBSCRIPT italic_r italic_e italic_l end_POSTSUBSCRIPT</annotation></semantics></math>. Finally, the language model <math alttext="\mathcal{L}" class="ltx_Math" display="inline" id="S3.SS1.p2.6.m6.1"><semantics id="S3.SS1.p2.6.m6.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b"><ci id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">\mathcal{L}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.6.m6.1d">caligraphic_L</annotation></semantics></math> generates a sequence of <math alttext="s" class="ltx_Math" display="inline" id="S3.SS1.p2.7.m7.1"><semantics id="S3.SS1.p2.7.m7.1a"><mi id="S3.SS1.p2.7.m7.1.1" xref="S3.SS1.p2.7.m7.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m7.1b"><ci id="S3.SS1.p2.7.m7.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m7.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.7.m7.1d">italic_s</annotation></semantics></math> tokens <math alttext="[\boldsymbol{a}_{1},\ldots,\boldsymbol{a}_{s}]" class="ltx_Math" display="inline" id="S3.SS1.p2.8.m8.3"><semantics id="S3.SS1.p2.8.m8.3a"><mrow id="S3.SS1.p2.8.m8.3.3.2" xref="S3.SS1.p2.8.m8.3.3.3.cmml"><mo id="S3.SS1.p2.8.m8.3.3.2.3" stretchy="false" xref="S3.SS1.p2.8.m8.3.3.3.cmml">[</mo><msub id="S3.SS1.p2.8.m8.2.2.1.1" xref="S3.SS1.p2.8.m8.2.2.1.1.cmml"><mi id="S3.SS1.p2.8.m8.2.2.1.1.2" xref="S3.SS1.p2.8.m8.2.2.1.1.2.cmml">𝒂</mi><mn id="S3.SS1.p2.8.m8.2.2.1.1.3" xref="S3.SS1.p2.8.m8.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p2.8.m8.3.3.2.4" xref="S3.SS1.p2.8.m8.3.3.3.cmml">,</mo><mi id="S3.SS1.p2.8.m8.1.1" mathvariant="normal" xref="S3.SS1.p2.8.m8.1.1.cmml">…</mi><mo id="S3.SS1.p2.8.m8.3.3.2.5" xref="S3.SS1.p2.8.m8.3.3.3.cmml">,</mo><msub id="S3.SS1.p2.8.m8.3.3.2.2" xref="S3.SS1.p2.8.m8.3.3.2.2.cmml"><mi id="S3.SS1.p2.8.m8.3.3.2.2.2" xref="S3.SS1.p2.8.m8.3.3.2.2.2.cmml">𝒂</mi><mi id="S3.SS1.p2.8.m8.3.3.2.2.3" xref="S3.SS1.p2.8.m8.3.3.2.2.3.cmml">s</mi></msub><mo id="S3.SS1.p2.8.m8.3.3.2.6" stretchy="false" xref="S3.SS1.p2.8.m8.3.3.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.8.m8.3b"><list id="S3.SS1.p2.8.m8.3.3.3.cmml" xref="S3.SS1.p2.8.m8.3.3.2"><apply id="S3.SS1.p2.8.m8.2.2.1.1.cmml" xref="S3.SS1.p2.8.m8.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.2.2.1.1.1.cmml" xref="S3.SS1.p2.8.m8.2.2.1.1">subscript</csymbol><ci id="S3.SS1.p2.8.m8.2.2.1.1.2.cmml" xref="S3.SS1.p2.8.m8.2.2.1.1.2">𝒂</ci><cn id="S3.SS1.p2.8.m8.2.2.1.1.3.cmml" type="integer" xref="S3.SS1.p2.8.m8.2.2.1.1.3">1</cn></apply><ci id="S3.SS1.p2.8.m8.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1">…</ci><apply id="S3.SS1.p2.8.m8.3.3.2.2.cmml" xref="S3.SS1.p2.8.m8.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.3.3.2.2.1.cmml" xref="S3.SS1.p2.8.m8.3.3.2.2">subscript</csymbol><ci id="S3.SS1.p2.8.m8.3.3.2.2.2.cmml" xref="S3.SS1.p2.8.m8.3.3.2.2.2">𝒂</ci><ci id="S3.SS1.p2.8.m8.3.3.2.2.3.cmml" xref="S3.SS1.p2.8.m8.3.3.2.2.3">𝑠</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.8.m8.3c">[\boldsymbol{a}_{1},\ldots,\boldsymbol{a}_{s}]</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.8.m8.3d">[ bold_italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , bold_italic_a start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ]</annotation></semantics></math> as a response to the query <math alttext="\boldsymbol{q}" class="ltx_Math" display="inline" id="S3.SS1.p2.9.m9.1"><semantics id="S3.SS1.p2.9.m9.1a"><mi id="S3.SS1.p2.9.m9.1.1" xref="S3.SS1.p2.9.m9.1.1.cmml">𝒒</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.9.m9.1b"><ci id="S3.SS1.p2.9.m9.1.1.cmml" xref="S3.SS1.p2.9.m9.1.1">𝒒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.9.m9.1c">\boldsymbol{q}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.9.m9.1d">bold_italic_q</annotation></semantics></math>, based on the retrieved information. The modules <math alttext="\mathcal{P}" class="ltx_Math" display="inline" id="S3.SS1.p2.10.m10.1"><semantics id="S3.SS1.p2.10.m10.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.10.m10.1.1" xref="S3.SS1.p2.10.m10.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.10.m10.1b"><ci id="S3.SS1.p2.10.m10.1.1.cmml" xref="S3.SS1.p2.10.m10.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.10.m10.1c">\mathcal{P}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.10.m10.1d">caligraphic_P</annotation></semantics></math> and <math alttext="\mathcal{L}" class="ltx_Math" display="inline" id="S3.SS1.p2.11.m11.1"><semantics id="S3.SS1.p2.11.m11.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.11.m11.1.1" xref="S3.SS1.p2.11.m11.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.11.m11.1b"><ci id="S3.SS1.p2.11.m11.1.1.cmml" xref="S3.SS1.p2.11.m11.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.11.m11.1c">\mathcal{L}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.11.m11.1d">caligraphic_L</annotation></semantics></math> are often combined into a single module <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S3.SS1.p2.12.m12.1"><semantics id="S3.SS1.p2.12.m12.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.12.m12.1.1" xref="S3.SS1.p2.12.m12.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.12.m12.1b"><ci id="S3.SS1.p2.12.m12.1.1.cmml" xref="S3.SS1.p2.12.m12.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.12.m12.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.12.m12.1d">caligraphic_M</annotation></semantics></math> to streamline the entire process.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Embedding Model</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">In the RAG framework, the quality of retrieval results is critical to overall performance <cite class="ltx_cite ltx_citemacro_citep">(Salemi and Zamani, <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib32" title="">2024</a>)</cite>. To enhance the recall rate of <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">caligraphic_R</annotation></semantics></math>, we optimize its representational capabilities through contrastive learning.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.9">For a given query <math alttext="\boldsymbol{q}" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">𝒒</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝒒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">\boldsymbol{q}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">bold_italic_q</annotation></semantics></math>, the supporting documents for the official answers constitute the positive sample set <math alttext="\boldsymbol{D}_{pos}" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><msub id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">𝑫</mi><mrow id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml"><mi id="S3.SS2.p2.2.m2.1.1.3.2" xref="S3.SS2.p2.2.m2.1.1.3.2.cmml">p</mi><mo id="S3.SS2.p2.2.m2.1.1.3.1" xref="S3.SS2.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.2.m2.1.1.3.3" xref="S3.SS2.p2.2.m2.1.1.3.3.cmml">o</mi><mo id="S3.SS2.p2.2.m2.1.1.3.1a" xref="S3.SS2.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.2.m2.1.1.3.4" xref="S3.SS2.p2.2.m2.1.1.3.4.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝑫</ci><apply id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3"><times id="S3.SS2.p2.2.m2.1.1.3.1.cmml" xref="S3.SS2.p2.2.m2.1.1.3.1"></times><ci id="S3.SS2.p2.2.m2.1.1.3.2.cmml" xref="S3.SS2.p2.2.m2.1.1.3.2">𝑝</ci><ci id="S3.SS2.p2.2.m2.1.1.3.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3.3">𝑜</ci><ci id="S3.SS2.p2.2.m2.1.1.3.4.cmml" xref="S3.SS2.p2.2.m2.1.1.3.4">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">\boldsymbol{D}_{pos}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">bold_italic_D start_POSTSUBSCRIPT italic_p italic_o italic_s end_POSTSUBSCRIPT</annotation></semantics></math>, resulting in positive query-document pairs <math alttext="(\boldsymbol{Q},\boldsymbol{D}_{pos})" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.2"><semantics id="S3.SS2.p2.3.m3.2a"><mrow id="S3.SS2.p2.3.m3.2.2.1" xref="S3.SS2.p2.3.m3.2.2.2.cmml"><mo id="S3.SS2.p2.3.m3.2.2.1.2" stretchy="false" xref="S3.SS2.p2.3.m3.2.2.2.cmml">(</mo><mi id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml">𝑸</mi><mo id="S3.SS2.p2.3.m3.2.2.1.3" xref="S3.SS2.p2.3.m3.2.2.2.cmml">,</mo><msub id="S3.SS2.p2.3.m3.2.2.1.1" xref="S3.SS2.p2.3.m3.2.2.1.1.cmml"><mi id="S3.SS2.p2.3.m3.2.2.1.1.2" xref="S3.SS2.p2.3.m3.2.2.1.1.2.cmml">𝑫</mi><mrow id="S3.SS2.p2.3.m3.2.2.1.1.3" xref="S3.SS2.p2.3.m3.2.2.1.1.3.cmml"><mi id="S3.SS2.p2.3.m3.2.2.1.1.3.2" xref="S3.SS2.p2.3.m3.2.2.1.1.3.2.cmml">p</mi><mo id="S3.SS2.p2.3.m3.2.2.1.1.3.1" xref="S3.SS2.p2.3.m3.2.2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.3.m3.2.2.1.1.3.3" xref="S3.SS2.p2.3.m3.2.2.1.1.3.3.cmml">o</mi><mo id="S3.SS2.p2.3.m3.2.2.1.1.3.1a" xref="S3.SS2.p2.3.m3.2.2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.3.m3.2.2.1.1.3.4" xref="S3.SS2.p2.3.m3.2.2.1.1.3.4.cmml">s</mi></mrow></msub><mo id="S3.SS2.p2.3.m3.2.2.1.4" stretchy="false" xref="S3.SS2.p2.3.m3.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.2b"><interval closure="open" id="S3.SS2.p2.3.m3.2.2.2.cmml" xref="S3.SS2.p2.3.m3.2.2.1"><ci id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">𝑸</ci><apply id="S3.SS2.p2.3.m3.2.2.1.1.cmml" xref="S3.SS2.p2.3.m3.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.2.2.1.1.1.cmml" xref="S3.SS2.p2.3.m3.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p2.3.m3.2.2.1.1.2.cmml" xref="S3.SS2.p2.3.m3.2.2.1.1.2">𝑫</ci><apply id="S3.SS2.p2.3.m3.2.2.1.1.3.cmml" xref="S3.SS2.p2.3.m3.2.2.1.1.3"><times id="S3.SS2.p2.3.m3.2.2.1.1.3.1.cmml" xref="S3.SS2.p2.3.m3.2.2.1.1.3.1"></times><ci id="S3.SS2.p2.3.m3.2.2.1.1.3.2.cmml" xref="S3.SS2.p2.3.m3.2.2.1.1.3.2">𝑝</ci><ci id="S3.SS2.p2.3.m3.2.2.1.1.3.3.cmml" xref="S3.SS2.p2.3.m3.2.2.1.1.3.3">𝑜</ci><ci id="S3.SS2.p2.3.m3.2.2.1.1.3.4.cmml" xref="S3.SS2.p2.3.m3.2.2.1.1.3.4">𝑠</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.2c">(\boldsymbol{Q},\boldsymbol{D}_{pos})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.2d">( bold_italic_Q , bold_italic_D start_POSTSUBSCRIPT italic_p italic_o italic_s end_POSTSUBSCRIPT )</annotation></semantics></math>. The remaining documents form the negative sample set <math alttext="\boldsymbol{D}_{neg}" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m4.1"><semantics id="S3.SS2.p2.4.m4.1a"><msub id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml"><mi id="S3.SS2.p2.4.m4.1.1.2" xref="S3.SS2.p2.4.m4.1.1.2.cmml">𝑫</mi><mrow id="S3.SS2.p2.4.m4.1.1.3" xref="S3.SS2.p2.4.m4.1.1.3.cmml"><mi id="S3.SS2.p2.4.m4.1.1.3.2" xref="S3.SS2.p2.4.m4.1.1.3.2.cmml">n</mi><mo id="S3.SS2.p2.4.m4.1.1.3.1" xref="S3.SS2.p2.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.4.m4.1.1.3.3" xref="S3.SS2.p2.4.m4.1.1.3.3.cmml">e</mi><mo id="S3.SS2.p2.4.m4.1.1.3.1a" xref="S3.SS2.p2.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.4.m4.1.1.3.4" xref="S3.SS2.p2.4.m4.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><apply id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.1.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p2.4.m4.1.1.2.cmml" xref="S3.SS2.p2.4.m4.1.1.2">𝑫</ci><apply id="S3.SS2.p2.4.m4.1.1.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3"><times id="S3.SS2.p2.4.m4.1.1.3.1.cmml" xref="S3.SS2.p2.4.m4.1.1.3.1"></times><ci id="S3.SS2.p2.4.m4.1.1.3.2.cmml" xref="S3.SS2.p2.4.m4.1.1.3.2">𝑛</ci><ci id="S3.SS2.p2.4.m4.1.1.3.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3">𝑒</ci><ci id="S3.SS2.p2.4.m4.1.1.3.4.cmml" xref="S3.SS2.p2.4.m4.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">\boldsymbol{D}_{neg}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m4.1d">bold_italic_D start_POSTSUBSCRIPT italic_n italic_e italic_g end_POSTSUBSCRIPT</annotation></semantics></math>. We employ dense passage retrieval (DPR) <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib14" title="">2020</a>)</cite> to rank the negative document collection <math alttext="\boldsymbol{D}_{neg}" class="ltx_Math" display="inline" id="S3.SS2.p2.5.m5.1"><semantics id="S3.SS2.p2.5.m5.1a"><msub id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml"><mi id="S3.SS2.p2.5.m5.1.1.2" xref="S3.SS2.p2.5.m5.1.1.2.cmml">𝑫</mi><mrow id="S3.SS2.p2.5.m5.1.1.3" xref="S3.SS2.p2.5.m5.1.1.3.cmml"><mi id="S3.SS2.p2.5.m5.1.1.3.2" xref="S3.SS2.p2.5.m5.1.1.3.2.cmml">n</mi><mo id="S3.SS2.p2.5.m5.1.1.3.1" xref="S3.SS2.p2.5.m5.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.5.m5.1.1.3.3" xref="S3.SS2.p2.5.m5.1.1.3.3.cmml">e</mi><mo id="S3.SS2.p2.5.m5.1.1.3.1a" xref="S3.SS2.p2.5.m5.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.5.m5.1.1.3.4" xref="S3.SS2.p2.5.m5.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><apply id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.5.m5.1.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p2.5.m5.1.1.2.cmml" xref="S3.SS2.p2.5.m5.1.1.2">𝑫</ci><apply id="S3.SS2.p2.5.m5.1.1.3.cmml" xref="S3.SS2.p2.5.m5.1.1.3"><times id="S3.SS2.p2.5.m5.1.1.3.1.cmml" xref="S3.SS2.p2.5.m5.1.1.3.1"></times><ci id="S3.SS2.p2.5.m5.1.1.3.2.cmml" xref="S3.SS2.p2.5.m5.1.1.3.2">𝑛</ci><ci id="S3.SS2.p2.5.m5.1.1.3.3.cmml" xref="S3.SS2.p2.5.m5.1.1.3.3">𝑒</ci><ci id="S3.SS2.p2.5.m5.1.1.3.4.cmml" xref="S3.SS2.p2.5.m5.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">\boldsymbol{D}_{neg}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.5.m5.1d">bold_italic_D start_POSTSUBSCRIPT italic_n italic_e italic_g end_POSTSUBSCRIPT</annotation></semantics></math> and randomly select 10 samples from the top 50 samples, thereby creating negative query-document pairs <math alttext="(\boldsymbol{Q},\boldsymbol{D}_{neg})" class="ltx_Math" display="inline" id="S3.SS2.p2.6.m6.2"><semantics id="S3.SS2.p2.6.m6.2a"><mrow id="S3.SS2.p2.6.m6.2.2.1" xref="S3.SS2.p2.6.m6.2.2.2.cmml"><mo id="S3.SS2.p2.6.m6.2.2.1.2" stretchy="false" xref="S3.SS2.p2.6.m6.2.2.2.cmml">(</mo><mi id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml">𝑸</mi><mo id="S3.SS2.p2.6.m6.2.2.1.3" xref="S3.SS2.p2.6.m6.2.2.2.cmml">,</mo><msub id="S3.SS2.p2.6.m6.2.2.1.1" xref="S3.SS2.p2.6.m6.2.2.1.1.cmml"><mi id="S3.SS2.p2.6.m6.2.2.1.1.2" xref="S3.SS2.p2.6.m6.2.2.1.1.2.cmml">𝑫</mi><mrow id="S3.SS2.p2.6.m6.2.2.1.1.3" xref="S3.SS2.p2.6.m6.2.2.1.1.3.cmml"><mi id="S3.SS2.p2.6.m6.2.2.1.1.3.2" xref="S3.SS2.p2.6.m6.2.2.1.1.3.2.cmml">n</mi><mo id="S3.SS2.p2.6.m6.2.2.1.1.3.1" xref="S3.SS2.p2.6.m6.2.2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.6.m6.2.2.1.1.3.3" xref="S3.SS2.p2.6.m6.2.2.1.1.3.3.cmml">e</mi><mo id="S3.SS2.p2.6.m6.2.2.1.1.3.1a" xref="S3.SS2.p2.6.m6.2.2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.6.m6.2.2.1.1.3.4" xref="S3.SS2.p2.6.m6.2.2.1.1.3.4.cmml">g</mi></mrow></msub><mo id="S3.SS2.p2.6.m6.2.2.1.4" stretchy="false" xref="S3.SS2.p2.6.m6.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.2b"><interval closure="open" id="S3.SS2.p2.6.m6.2.2.2.cmml" xref="S3.SS2.p2.6.m6.2.2.1"><ci id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1">𝑸</ci><apply id="S3.SS2.p2.6.m6.2.2.1.1.cmml" xref="S3.SS2.p2.6.m6.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m6.2.2.1.1.1.cmml" xref="S3.SS2.p2.6.m6.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p2.6.m6.2.2.1.1.2.cmml" xref="S3.SS2.p2.6.m6.2.2.1.1.2">𝑫</ci><apply id="S3.SS2.p2.6.m6.2.2.1.1.3.cmml" xref="S3.SS2.p2.6.m6.2.2.1.1.3"><times id="S3.SS2.p2.6.m6.2.2.1.1.3.1.cmml" xref="S3.SS2.p2.6.m6.2.2.1.1.3.1"></times><ci id="S3.SS2.p2.6.m6.2.2.1.1.3.2.cmml" xref="S3.SS2.p2.6.m6.2.2.1.1.3.2">𝑛</ci><ci id="S3.SS2.p2.6.m6.2.2.1.1.3.3.cmml" xref="S3.SS2.p2.6.m6.2.2.1.1.3.3">𝑒</ci><ci id="S3.SS2.p2.6.m6.2.2.1.1.3.4.cmml" xref="S3.SS2.p2.6.m6.2.2.1.1.3.4">𝑔</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.2c">(\boldsymbol{Q},\boldsymbol{D}_{neg})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.6.m6.2d">( bold_italic_Q , bold_italic_D start_POSTSUBSCRIPT italic_n italic_e italic_g end_POSTSUBSCRIPT )</annotation></semantics></math>. This process culminates in a dataset of approximately 240k entries, with each query paired with corresponding a positive document <math alttext="\boldsymbol{d}_{pos}" class="ltx_Math" display="inline" id="S3.SS2.p2.7.m7.1"><semantics id="S3.SS2.p2.7.m7.1a"><msub id="S3.SS2.p2.7.m7.1.1" xref="S3.SS2.p2.7.m7.1.1.cmml"><mi id="S3.SS2.p2.7.m7.1.1.2" xref="S3.SS2.p2.7.m7.1.1.2.cmml">𝒅</mi><mrow id="S3.SS2.p2.7.m7.1.1.3" xref="S3.SS2.p2.7.m7.1.1.3.cmml"><mi id="S3.SS2.p2.7.m7.1.1.3.2" xref="S3.SS2.p2.7.m7.1.1.3.2.cmml">p</mi><mo id="S3.SS2.p2.7.m7.1.1.3.1" xref="S3.SS2.p2.7.m7.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.7.m7.1.1.3.3" xref="S3.SS2.p2.7.m7.1.1.3.3.cmml">o</mi><mo id="S3.SS2.p2.7.m7.1.1.3.1a" xref="S3.SS2.p2.7.m7.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.7.m7.1.1.3.4" xref="S3.SS2.p2.7.m7.1.1.3.4.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.7.m7.1b"><apply id="S3.SS2.p2.7.m7.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.7.m7.1.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.p2.7.m7.1.1.2.cmml" xref="S3.SS2.p2.7.m7.1.1.2">𝒅</ci><apply id="S3.SS2.p2.7.m7.1.1.3.cmml" xref="S3.SS2.p2.7.m7.1.1.3"><times id="S3.SS2.p2.7.m7.1.1.3.1.cmml" xref="S3.SS2.p2.7.m7.1.1.3.1"></times><ci id="S3.SS2.p2.7.m7.1.1.3.2.cmml" xref="S3.SS2.p2.7.m7.1.1.3.2">𝑝</ci><ci id="S3.SS2.p2.7.m7.1.1.3.3.cmml" xref="S3.SS2.p2.7.m7.1.1.3.3">𝑜</ci><ci id="S3.SS2.p2.7.m7.1.1.3.4.cmml" xref="S3.SS2.p2.7.m7.1.1.3.4">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m7.1c">\boldsymbol{d}_{pos}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.7.m7.1d">bold_italic_d start_POSTSUBSCRIPT italic_p italic_o italic_s end_POSTSUBSCRIPT</annotation></semantics></math> and a negative document <math alttext="\boldsymbol{d}_{neg}" class="ltx_Math" display="inline" id="S3.SS2.p2.8.m8.1"><semantics id="S3.SS2.p2.8.m8.1a"><msub id="S3.SS2.p2.8.m8.1.1" xref="S3.SS2.p2.8.m8.1.1.cmml"><mi id="S3.SS2.p2.8.m8.1.1.2" xref="S3.SS2.p2.8.m8.1.1.2.cmml">𝒅</mi><mrow id="S3.SS2.p2.8.m8.1.1.3" xref="S3.SS2.p2.8.m8.1.1.3.cmml"><mi id="S3.SS2.p2.8.m8.1.1.3.2" xref="S3.SS2.p2.8.m8.1.1.3.2.cmml">n</mi><mo id="S3.SS2.p2.8.m8.1.1.3.1" xref="S3.SS2.p2.8.m8.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.8.m8.1.1.3.3" xref="S3.SS2.p2.8.m8.1.1.3.3.cmml">e</mi><mo id="S3.SS2.p2.8.m8.1.1.3.1a" xref="S3.SS2.p2.8.m8.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.8.m8.1.1.3.4" xref="S3.SS2.p2.8.m8.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.8.m8.1b"><apply id="S3.SS2.p2.8.m8.1.1.cmml" xref="S3.SS2.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.8.m8.1.1.1.cmml" xref="S3.SS2.p2.8.m8.1.1">subscript</csymbol><ci id="S3.SS2.p2.8.m8.1.1.2.cmml" xref="S3.SS2.p2.8.m8.1.1.2">𝒅</ci><apply id="S3.SS2.p2.8.m8.1.1.3.cmml" xref="S3.SS2.p2.8.m8.1.1.3"><times id="S3.SS2.p2.8.m8.1.1.3.1.cmml" xref="S3.SS2.p2.8.m8.1.1.3.1"></times><ci id="S3.SS2.p2.8.m8.1.1.3.2.cmml" xref="S3.SS2.p2.8.m8.1.1.3.2">𝑛</ci><ci id="S3.SS2.p2.8.m8.1.1.3.3.cmml" xref="S3.SS2.p2.8.m8.1.1.3.3">𝑒</ci><ci id="S3.SS2.p2.8.m8.1.1.3.4.cmml" xref="S3.SS2.p2.8.m8.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.8.m8.1c">\boldsymbol{d}_{neg}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.8.m8.1d">bold_italic_d start_POSTSUBSCRIPT italic_n italic_e italic_g end_POSTSUBSCRIPT</annotation></semantics></math>, used to finetune the model <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S3.SS2.p2.9.m9.1"><semantics id="S3.SS2.p2.9.m9.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.9.m9.1.1" xref="S3.SS2.p2.9.m9.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.9.m9.1b"><ci id="S3.SS2.p2.9.m9.1.1.cmml" xref="S3.SS2.p2.9.m9.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.9.m9.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.9.m9.1d">caligraphic_R</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.4">We optimize the performance of <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.1"><semantics id="S3.SS2.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><ci id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.1d">caligraphic_R</annotation></semantics></math> using the InfoNCE loss function <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib8" title="">2020</a>)</cite>, as shown in Equation <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.E1" title="In 3.2 Embedding Model ‣ 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>, where <math alttext="\boldsymbol{D}_{pos}" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m2.1"><semantics id="S3.SS2.p3.2.m2.1a"><msub id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2" xref="S3.SS2.p3.2.m2.1.1.2.cmml">𝑫</mi><mrow id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml"><mi id="S3.SS2.p3.2.m2.1.1.3.2" xref="S3.SS2.p3.2.m2.1.1.3.2.cmml">p</mi><mo id="S3.SS2.p3.2.m2.1.1.3.1" xref="S3.SS2.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.2.m2.1.1.3.3" xref="S3.SS2.p3.2.m2.1.1.3.3.cmml">o</mi><mo id="S3.SS2.p3.2.m2.1.1.3.1a" xref="S3.SS2.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p3.2.m2.1.1.3.4" xref="S3.SS2.p3.2.m2.1.1.3.4.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2">𝑫</ci><apply id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3"><times id="S3.SS2.p3.2.m2.1.1.3.1.cmml" xref="S3.SS2.p3.2.m2.1.1.3.1"></times><ci id="S3.SS2.p3.2.m2.1.1.3.2.cmml" xref="S3.SS2.p3.2.m2.1.1.3.2">𝑝</ci><ci id="S3.SS2.p3.2.m2.1.1.3.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3">𝑜</ci><ci id="S3.SS2.p3.2.m2.1.1.3.4.cmml" xref="S3.SS2.p3.2.m2.1.1.3.4">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">\boldsymbol{D}_{pos}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m2.1d">bold_italic_D start_POSTSUBSCRIPT italic_p italic_o italic_s end_POSTSUBSCRIPT</annotation></semantics></math> represents the supporting documents for the answers, and <math alttext="\tau" class="ltx_Math" display="inline" id="S3.SS2.p3.3.m3.1"><semantics id="S3.SS2.p3.3.m3.1a"><mi id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><ci id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.3.m3.1d">italic_τ</annotation></semantics></math> is the temperature hyperparameter. The goal is to minimize <math alttext="\ell" class="ltx_Math" display="inline" id="S3.SS2.p3.4.m4.1"><semantics id="S3.SS2.p3.4.m4.1a"><mi id="S3.SS2.p3.4.m4.1.1" mathvariant="normal" xref="S3.SS2.p3.4.m4.1.1.cmml">ℓ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.1b"><ci id="S3.SS2.p3.4.m4.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1">ℓ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.1c">\ell</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.4.m4.1d">roman_ℓ</annotation></semantics></math> between positive and negative samples.</p>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\ell=-\log\frac{\exp\left(\boldsymbol{Q}\cdot\boldsymbol{D}_{pos}/\tau\right)}%
{\sum\exp\left(\boldsymbol{Q}\cdot\boldsymbol{D}/\tau\right)}" class="ltx_Math" display="block" id="S3.E1.m1.4"><semantics id="S3.E1.m1.4a"><mrow id="S3.E1.m1.4.5" xref="S3.E1.m1.4.5.cmml"><mi id="S3.E1.m1.4.5.2" mathvariant="normal" xref="S3.E1.m1.4.5.2.cmml">ℓ</mi><mo id="S3.E1.m1.4.5.1" xref="S3.E1.m1.4.5.1.cmml">=</mo><mrow id="S3.E1.m1.4.5.3" xref="S3.E1.m1.4.5.3.cmml"><mo id="S3.E1.m1.4.5.3a" rspace="0.167em" xref="S3.E1.m1.4.5.3.cmml">−</mo><mrow id="S3.E1.m1.4.5.3.2" xref="S3.E1.m1.4.5.3.2.cmml"><mi id="S3.E1.m1.4.5.3.2.1" xref="S3.E1.m1.4.5.3.2.1.cmml">log</mi><mo id="S3.E1.m1.4.5.3.2a" lspace="0.167em" xref="S3.E1.m1.4.5.3.2.cmml">⁡</mo><mfrac id="S3.E1.m1.4.4" xref="S3.E1.m1.4.4.cmml"><mrow id="S3.E1.m1.2.2.2.2" xref="S3.E1.m1.2.2.2.3.cmml"><mi id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml">exp</mi><mo id="S3.E1.m1.2.2.2.2a" xref="S3.E1.m1.2.2.2.3.cmml">⁡</mo><mrow id="S3.E1.m1.2.2.2.2.1" xref="S3.E1.m1.2.2.2.3.cmml"><mo id="S3.E1.m1.2.2.2.2.1.2" xref="S3.E1.m1.2.2.2.3.cmml">(</mo><mrow id="S3.E1.m1.2.2.2.2.1.1" xref="S3.E1.m1.2.2.2.2.1.1.cmml"><mrow id="S3.E1.m1.2.2.2.2.1.1.2" xref="S3.E1.m1.2.2.2.2.1.1.2.cmml"><mi id="S3.E1.m1.2.2.2.2.1.1.2.2" xref="S3.E1.m1.2.2.2.2.1.1.2.2.cmml">𝑸</mi><mo id="S3.E1.m1.2.2.2.2.1.1.2.1" lspace="0.222em" rspace="0.222em" xref="S3.E1.m1.2.2.2.2.1.1.2.1.cmml">⋅</mo><msub id="S3.E1.m1.2.2.2.2.1.1.2.3" xref="S3.E1.m1.2.2.2.2.1.1.2.3.cmml"><mi id="S3.E1.m1.2.2.2.2.1.1.2.3.2" xref="S3.E1.m1.2.2.2.2.1.1.2.3.2.cmml">𝑫</mi><mrow id="S3.E1.m1.2.2.2.2.1.1.2.3.3" xref="S3.E1.m1.2.2.2.2.1.1.2.3.3.cmml"><mi id="S3.E1.m1.2.2.2.2.1.1.2.3.3.2" xref="S3.E1.m1.2.2.2.2.1.1.2.3.3.2.cmml">p</mi><mo id="S3.E1.m1.2.2.2.2.1.1.2.3.3.1" xref="S3.E1.m1.2.2.2.2.1.1.2.3.3.1.cmml">⁢</mo><mi id="S3.E1.m1.2.2.2.2.1.1.2.3.3.3" xref="S3.E1.m1.2.2.2.2.1.1.2.3.3.3.cmml">o</mi><mo id="S3.E1.m1.2.2.2.2.1.1.2.3.3.1a" xref="S3.E1.m1.2.2.2.2.1.1.2.3.3.1.cmml">⁢</mo><mi id="S3.E1.m1.2.2.2.2.1.1.2.3.3.4" xref="S3.E1.m1.2.2.2.2.1.1.2.3.3.4.cmml">s</mi></mrow></msub></mrow><mo id="S3.E1.m1.2.2.2.2.1.1.1" xref="S3.E1.m1.2.2.2.2.1.1.1.cmml">/</mo><mi id="S3.E1.m1.2.2.2.2.1.1.3" xref="S3.E1.m1.2.2.2.2.1.1.3.cmml">τ</mi></mrow><mo id="S3.E1.m1.2.2.2.2.1.3" xref="S3.E1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><mrow id="S3.E1.m1.4.4.4" xref="S3.E1.m1.4.4.4.cmml"><mo id="S3.E1.m1.4.4.4.3" xref="S3.E1.m1.4.4.4.3.cmml">∑</mo><mrow id="S3.E1.m1.4.4.4.2.1" xref="S3.E1.m1.4.4.4.2.2.cmml"><mi id="S3.E1.m1.3.3.3.1" xref="S3.E1.m1.3.3.3.1.cmml">exp</mi><mo id="S3.E1.m1.4.4.4.2.1a" xref="S3.E1.m1.4.4.4.2.2.cmml">⁡</mo><mrow id="S3.E1.m1.4.4.4.2.1.1" xref="S3.E1.m1.4.4.4.2.2.cmml"><mo id="S3.E1.m1.4.4.4.2.1.1.2" xref="S3.E1.m1.4.4.4.2.2.cmml">(</mo><mrow id="S3.E1.m1.4.4.4.2.1.1.1" xref="S3.E1.m1.4.4.4.2.1.1.1.cmml"><mrow id="S3.E1.m1.4.4.4.2.1.1.1.2" xref="S3.E1.m1.4.4.4.2.1.1.1.2.cmml"><mi id="S3.E1.m1.4.4.4.2.1.1.1.2.2" xref="S3.E1.m1.4.4.4.2.1.1.1.2.2.cmml">𝑸</mi><mo id="S3.E1.m1.4.4.4.2.1.1.1.2.1" lspace="0.222em" rspace="0.222em" xref="S3.E1.m1.4.4.4.2.1.1.1.2.1.cmml">⋅</mo><mi id="S3.E1.m1.4.4.4.2.1.1.1.2.3" xref="S3.E1.m1.4.4.4.2.1.1.1.2.3.cmml">𝑫</mi></mrow><mo id="S3.E1.m1.4.4.4.2.1.1.1.1" xref="S3.E1.m1.4.4.4.2.1.1.1.1.cmml">/</mo><mi id="S3.E1.m1.4.4.4.2.1.1.1.3" xref="S3.E1.m1.4.4.4.2.1.1.1.3.cmml">τ</mi></mrow><mo id="S3.E1.m1.4.4.4.2.1.1.3" xref="S3.E1.m1.4.4.4.2.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.4b"><apply id="S3.E1.m1.4.5.cmml" xref="S3.E1.m1.4.5"><eq id="S3.E1.m1.4.5.1.cmml" xref="S3.E1.m1.4.5.1"></eq><ci id="S3.E1.m1.4.5.2.cmml" xref="S3.E1.m1.4.5.2">ℓ</ci><apply id="S3.E1.m1.4.5.3.cmml" xref="S3.E1.m1.4.5.3"><minus id="S3.E1.m1.4.5.3.1.cmml" xref="S3.E1.m1.4.5.3"></minus><apply id="S3.E1.m1.4.5.3.2.cmml" xref="S3.E1.m1.4.5.3.2"><log id="S3.E1.m1.4.5.3.2.1.cmml" xref="S3.E1.m1.4.5.3.2.1"></log><apply id="S3.E1.m1.4.4.cmml" xref="S3.E1.m1.4.4"><divide id="S3.E1.m1.4.4.5.cmml" xref="S3.E1.m1.4.4"></divide><apply id="S3.E1.m1.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2"><exp id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1"></exp><apply id="S3.E1.m1.2.2.2.2.1.1.cmml" xref="S3.E1.m1.2.2.2.2.1.1"><divide id="S3.E1.m1.2.2.2.2.1.1.1.cmml" xref="S3.E1.m1.2.2.2.2.1.1.1"></divide><apply id="S3.E1.m1.2.2.2.2.1.1.2.cmml" xref="S3.E1.m1.2.2.2.2.1.1.2"><ci id="S3.E1.m1.2.2.2.2.1.1.2.1.cmml" xref="S3.E1.m1.2.2.2.2.1.1.2.1">⋅</ci><ci id="S3.E1.m1.2.2.2.2.1.1.2.2.cmml" xref="S3.E1.m1.2.2.2.2.1.1.2.2">𝑸</ci><apply id="S3.E1.m1.2.2.2.2.1.1.2.3.cmml" xref="S3.E1.m1.2.2.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.1.1.2.3.1.cmml" xref="S3.E1.m1.2.2.2.2.1.1.2.3">subscript</csymbol><ci id="S3.E1.m1.2.2.2.2.1.1.2.3.2.cmml" xref="S3.E1.m1.2.2.2.2.1.1.2.3.2">𝑫</ci><apply id="S3.E1.m1.2.2.2.2.1.1.2.3.3.cmml" xref="S3.E1.m1.2.2.2.2.1.1.2.3.3"><times id="S3.E1.m1.2.2.2.2.1.1.2.3.3.1.cmml" xref="S3.E1.m1.2.2.2.2.1.1.2.3.3.1"></times><ci id="S3.E1.m1.2.2.2.2.1.1.2.3.3.2.cmml" xref="S3.E1.m1.2.2.2.2.1.1.2.3.3.2">𝑝</ci><ci id="S3.E1.m1.2.2.2.2.1.1.2.3.3.3.cmml" xref="S3.E1.m1.2.2.2.2.1.1.2.3.3.3">𝑜</ci><ci id="S3.E1.m1.2.2.2.2.1.1.2.3.3.4.cmml" xref="S3.E1.m1.2.2.2.2.1.1.2.3.3.4">𝑠</ci></apply></apply></apply><ci id="S3.E1.m1.2.2.2.2.1.1.3.cmml" xref="S3.E1.m1.2.2.2.2.1.1.3">𝜏</ci></apply></apply><apply id="S3.E1.m1.4.4.4.cmml" xref="S3.E1.m1.4.4.4"><sum id="S3.E1.m1.4.4.4.3.cmml" xref="S3.E1.m1.4.4.4.3"></sum><apply id="S3.E1.m1.4.4.4.2.2.cmml" xref="S3.E1.m1.4.4.4.2.1"><exp id="S3.E1.m1.3.3.3.1.cmml" xref="S3.E1.m1.3.3.3.1"></exp><apply id="S3.E1.m1.4.4.4.2.1.1.1.cmml" xref="S3.E1.m1.4.4.4.2.1.1.1"><divide id="S3.E1.m1.4.4.4.2.1.1.1.1.cmml" xref="S3.E1.m1.4.4.4.2.1.1.1.1"></divide><apply id="S3.E1.m1.4.4.4.2.1.1.1.2.cmml" xref="S3.E1.m1.4.4.4.2.1.1.1.2"><ci id="S3.E1.m1.4.4.4.2.1.1.1.2.1.cmml" xref="S3.E1.m1.4.4.4.2.1.1.1.2.1">⋅</ci><ci id="S3.E1.m1.4.4.4.2.1.1.1.2.2.cmml" xref="S3.E1.m1.4.4.4.2.1.1.1.2.2">𝑸</ci><ci id="S3.E1.m1.4.4.4.2.1.1.1.2.3.cmml" xref="S3.E1.m1.4.4.4.2.1.1.1.2.3">𝑫</ci></apply><ci id="S3.E1.m1.4.4.4.2.1.1.1.3.cmml" xref="S3.E1.m1.4.4.4.2.1.1.1.3">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.4c">\ell=-\log\frac{\exp\left(\boldsymbol{Q}\cdot\boldsymbol{D}_{pos}/\tau\right)}%
{\sum\exp\left(\boldsymbol{Q}\cdot\boldsymbol{D}/\tau\right)}</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.4d">roman_ℓ = - roman_log divide start_ARG roman_exp ( bold_italic_Q ⋅ bold_italic_D start_POSTSUBSCRIPT italic_p italic_o italic_s end_POSTSUBSCRIPT / italic_τ ) end_ARG start_ARG ∑ roman_exp ( bold_italic_Q ⋅ bold_italic_D / italic_τ ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Multimodal Knowledge Distillation</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.3">Knowledge distillation transfers knowledge from a high-performance model (teacher) to a simpler model (student), enhancing the student’s performance while reducing complexity <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib45" title="">2024</a>)</cite>. In LLMs, this technique effectively passes capabilities from larger models to smaller ones <cite class="ltx_cite ltx_citemacro_citep">(Jin et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib13" title="">2024</a>; Gu et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib7" title="">2024</a>; Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib19" title="">2023</a>)</cite>. We use <span class="ltx_text ltx_font_bold" id="S3.SS3.p1.3.1">GPT</span> <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1"><semantics id="S3.SS3.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.1d">caligraphic_G</annotation></semantics></math> to generate instruction-tuning data that improves our local model <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m2.1"><semantics id="S3.SS3.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><ci id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.2.m2.1d">caligraphic_M</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Peng et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib30" title="">2023</a>)</cite>, refining its reasoning and generation skills. By leveraging chain-of-thought reasoning <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib38" title="">2022</a>)</cite>, we retain inference processes of <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S3.SS3.p1.3.m3.1"><semantics id="S3.SS3.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><ci id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.3.m3.1d">caligraphic_G</annotation></semantics></math> for effective model distillation.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.11">The data preparation for model distillation proceeds as follows. First, query-specific captions <math alttext="\boldsymbol{D}_{sc}" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.1"><semantics id="S3.SS3.p2.1.m1.1a"><msub id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><mi id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml">𝑫</mi><mrow id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml"><mi id="S3.SS3.p2.1.m1.1.1.3.2" xref="S3.SS3.p2.1.m1.1.1.3.2.cmml">s</mi><mo id="S3.SS3.p2.1.m1.1.1.3.1" xref="S3.SS3.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.1.m1.1.1.3.3" xref="S3.SS3.p2.1.m1.1.1.3.3.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2">𝑫</ci><apply id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3"><times id="S3.SS3.p2.1.m1.1.1.3.1.cmml" xref="S3.SS3.p2.1.m1.1.1.3.1"></times><ci id="S3.SS3.p2.1.m1.1.1.3.2.cmml" xref="S3.SS3.p2.1.m1.1.1.3.2">𝑠</ci><ci id="S3.SS3.p2.1.m1.1.1.3.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">\boldsymbol{D}_{sc}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.1d">bold_italic_D start_POSTSUBSCRIPT italic_s italic_c end_POSTSUBSCRIPT</annotation></semantics></math> are generated by <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.1"><semantics id="S3.SS3.p2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><ci id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m2.1d">caligraphic_G</annotation></semantics></math> for query-image pairs <math alttext="\{\boldsymbol{q},\boldsymbol{d}_{pos}\}" class="ltx_Math" display="inline" id="S3.SS3.p2.3.m3.2"><semantics id="S3.SS3.p2.3.m3.2a"><mrow id="S3.SS3.p2.3.m3.2.2.1" xref="S3.SS3.p2.3.m3.2.2.2.cmml"><mo id="S3.SS3.p2.3.m3.2.2.1.2" stretchy="false" xref="S3.SS3.p2.3.m3.2.2.2.cmml">{</mo><mi id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml">𝒒</mi><mo id="S3.SS3.p2.3.m3.2.2.1.3" xref="S3.SS3.p2.3.m3.2.2.2.cmml">,</mo><msub id="S3.SS3.p2.3.m3.2.2.1.1" xref="S3.SS3.p2.3.m3.2.2.1.1.cmml"><mi id="S3.SS3.p2.3.m3.2.2.1.1.2" xref="S3.SS3.p2.3.m3.2.2.1.1.2.cmml">𝒅</mi><mrow id="S3.SS3.p2.3.m3.2.2.1.1.3" xref="S3.SS3.p2.3.m3.2.2.1.1.3.cmml"><mi id="S3.SS3.p2.3.m3.2.2.1.1.3.2" xref="S3.SS3.p2.3.m3.2.2.1.1.3.2.cmml">p</mi><mo id="S3.SS3.p2.3.m3.2.2.1.1.3.1" xref="S3.SS3.p2.3.m3.2.2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.3.m3.2.2.1.1.3.3" xref="S3.SS3.p2.3.m3.2.2.1.1.3.3.cmml">o</mi><mo id="S3.SS3.p2.3.m3.2.2.1.1.3.1a" xref="S3.SS3.p2.3.m3.2.2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.3.m3.2.2.1.1.3.4" xref="S3.SS3.p2.3.m3.2.2.1.1.3.4.cmml">s</mi></mrow></msub><mo id="S3.SS3.p2.3.m3.2.2.1.4" stretchy="false" xref="S3.SS3.p2.3.m3.2.2.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.2b"><set id="S3.SS3.p2.3.m3.2.2.2.cmml" xref="S3.SS3.p2.3.m3.2.2.1"><ci id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1">𝒒</ci><apply id="S3.SS3.p2.3.m3.2.2.1.1.cmml" xref="S3.SS3.p2.3.m3.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.2.2.1.1.1.cmml" xref="S3.SS3.p2.3.m3.2.2.1.1">subscript</csymbol><ci id="S3.SS3.p2.3.m3.2.2.1.1.2.cmml" xref="S3.SS3.p2.3.m3.2.2.1.1.2">𝒅</ci><apply id="S3.SS3.p2.3.m3.2.2.1.1.3.cmml" xref="S3.SS3.p2.3.m3.2.2.1.1.3"><times id="S3.SS3.p2.3.m3.2.2.1.1.3.1.cmml" xref="S3.SS3.p2.3.m3.2.2.1.1.3.1"></times><ci id="S3.SS3.p2.3.m3.2.2.1.1.3.2.cmml" xref="S3.SS3.p2.3.m3.2.2.1.1.3.2">𝑝</ci><ci id="S3.SS3.p2.3.m3.2.2.1.1.3.3.cmml" xref="S3.SS3.p2.3.m3.2.2.1.1.3.3">𝑜</ci><ci id="S3.SS3.p2.3.m3.2.2.1.1.3.4.cmml" xref="S3.SS3.p2.3.m3.2.2.1.1.3.4">𝑠</ci></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.2c">\{\boldsymbol{q},\boldsymbol{d}_{pos}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.3.m3.2d">{ bold_italic_q , bold_italic_d start_POSTSUBSCRIPT italic_p italic_o italic_s end_POSTSUBSCRIPT }</annotation></semantics></math>, and only the reasoning processes where the generated answers <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS3.p2.4.m4.1"><semantics id="S3.SS3.p2.4.m4.1a"><mi id="S3.SS3.p2.4.m4.1.1" xref="S3.SS3.p2.4.m4.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m4.1b"><ci id="S3.SS3.p2.4.m4.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m4.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.4.m4.1d">bold_italic_A</annotation></semantics></math> match the standard answers are retained. Next, <span class="ltx_text ltx_markedasmath ltx_font_bold" id="S3.SS3.p2.11.1"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="S3.SS3.p2.11.1.1" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span></span> is inferred using query-document pairs <math alttext="\{\boldsymbol{q},\boldsymbol{d}\mid\boldsymbol{d}\in{\boldsymbol{D}_{sc},%
\boldsymbol{D}_{t}}\}" class="ltx_Math" display="inline" id="S3.SS3.p2.6.m6.4"><semantics id="S3.SS3.p2.6.m6.4a"><mrow id="S3.SS3.p2.6.m6.4.4.2" xref="S3.SS3.p2.6.m6.4.4.3.cmml"><mo id="S3.SS3.p2.6.m6.4.4.2.3" stretchy="false" xref="S3.SS3.p2.6.m6.4.4.3.1.cmml">{</mo><mrow id="S3.SS3.p2.6.m6.3.3.1.1.2" xref="S3.SS3.p2.6.m6.3.3.1.1.1.cmml"><mi id="S3.SS3.p2.6.m6.1.1" xref="S3.SS3.p2.6.m6.1.1.cmml">𝒒</mi><mo id="S3.SS3.p2.6.m6.3.3.1.1.2.1" xref="S3.SS3.p2.6.m6.3.3.1.1.1.cmml">,</mo><mi id="S3.SS3.p2.6.m6.2.2" xref="S3.SS3.p2.6.m6.2.2.cmml">𝒅</mi></mrow><mo fence="true" id="S3.SS3.p2.6.m6.4.4.2.4" lspace="0em" rspace="0em" xref="S3.SS3.p2.6.m6.4.4.3.1.cmml">∣</mo><mrow id="S3.SS3.p2.6.m6.4.4.2.2" xref="S3.SS3.p2.6.m6.4.4.2.2.cmml"><mi id="S3.SS3.p2.6.m6.4.4.2.2.4" xref="S3.SS3.p2.6.m6.4.4.2.2.4.cmml">𝒅</mi><mo id="S3.SS3.p2.6.m6.4.4.2.2.3" xref="S3.SS3.p2.6.m6.4.4.2.2.3.cmml">∈</mo><mrow id="S3.SS3.p2.6.m6.4.4.2.2.2.2" xref="S3.SS3.p2.6.m6.4.4.2.2.2.3.cmml"><msub id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.cmml"><mi id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.2" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.2.cmml">𝑫</mi><mrow id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.cmml"><mi id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.2" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.2.cmml">s</mi><mo id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.1" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.3" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.3.cmml">c</mi></mrow></msub><mo id="S3.SS3.p2.6.m6.4.4.2.2.2.2.3" xref="S3.SS3.p2.6.m6.4.4.2.2.2.3.cmml">,</mo><msub id="S3.SS3.p2.6.m6.4.4.2.2.2.2.2" xref="S3.SS3.p2.6.m6.4.4.2.2.2.2.2.cmml"><mi id="S3.SS3.p2.6.m6.4.4.2.2.2.2.2.2" xref="S3.SS3.p2.6.m6.4.4.2.2.2.2.2.2.cmml">𝑫</mi><mi id="S3.SS3.p2.6.m6.4.4.2.2.2.2.2.3" xref="S3.SS3.p2.6.m6.4.4.2.2.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="S3.SS3.p2.6.m6.4.4.2.5" stretchy="false" xref="S3.SS3.p2.6.m6.4.4.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.6.m6.4b"><apply id="S3.SS3.p2.6.m6.4.4.3.cmml" xref="S3.SS3.p2.6.m6.4.4.2"><csymbol cd="latexml" id="S3.SS3.p2.6.m6.4.4.3.1.cmml" xref="S3.SS3.p2.6.m6.4.4.2.3">conditional-set</csymbol><list id="S3.SS3.p2.6.m6.3.3.1.1.1.cmml" xref="S3.SS3.p2.6.m6.3.3.1.1.2"><ci id="S3.SS3.p2.6.m6.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1">𝒒</ci><ci id="S3.SS3.p2.6.m6.2.2.cmml" xref="S3.SS3.p2.6.m6.2.2">𝒅</ci></list><apply id="S3.SS3.p2.6.m6.4.4.2.2.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2"><in id="S3.SS3.p2.6.m6.4.4.2.2.3.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.3"></in><ci id="S3.SS3.p2.6.m6.4.4.2.2.4.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.4">𝒅</ci><list id="S3.SS3.p2.6.m6.4.4.2.2.2.3.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.2.2"><apply id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.1.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.2.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.2">𝑫</ci><apply id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3"><times id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.1.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.1"></times><ci id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.2.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.2">𝑠</ci><ci id="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.3.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.1.1.1.3.3">𝑐</ci></apply></apply><apply id="S3.SS3.p2.6.m6.4.4.2.2.2.2.2.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p2.6.m6.4.4.2.2.2.2.2.1.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.2.2.2">subscript</csymbol><ci id="S3.SS3.p2.6.m6.4.4.2.2.2.2.2.2.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.2.2.2.2">𝑫</ci><ci id="S3.SS3.p2.6.m6.4.4.2.2.2.2.2.3.cmml" xref="S3.SS3.p2.6.m6.4.4.2.2.2.2.2.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.6.m6.4c">\{\boldsymbol{q},\boldsymbol{d}\mid\boldsymbol{d}\in{\boldsymbol{D}_{sc},%
\boldsymbol{D}_{t}}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.6.m6.4d">{ bold_italic_q , bold_italic_d ∣ bold_italic_d ∈ bold_italic_D start_POSTSUBSCRIPT italic_s italic_c end_POSTSUBSCRIPT , bold_italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT }</annotation></semantics></math>, keeping reasoning processes with <span class="ltx_text ltx_markedasmath ltx_font_bold" id="S3.SS3.p2.11.2"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="S3.SS3.p2.11.2.1" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span></span><span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S3.SS3.p2.11.3">=True</span>. To improve efficiency, the negative set <math alttext="\boldsymbol{D}_{neg}" class="ltx_Math" display="inline" id="S3.SS3.p2.8.m8.1"><semantics id="S3.SS3.p2.8.m8.1a"><msub id="S3.SS3.p2.8.m8.1.1" xref="S3.SS3.p2.8.m8.1.1.cmml"><mi id="S3.SS3.p2.8.m8.1.1.2" xref="S3.SS3.p2.8.m8.1.1.2.cmml">𝑫</mi><mrow id="S3.SS3.p2.8.m8.1.1.3" xref="S3.SS3.p2.8.m8.1.1.3.cmml"><mi id="S3.SS3.p2.8.m8.1.1.3.2" xref="S3.SS3.p2.8.m8.1.1.3.2.cmml">n</mi><mo id="S3.SS3.p2.8.m8.1.1.3.1" xref="S3.SS3.p2.8.m8.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.8.m8.1.1.3.3" xref="S3.SS3.p2.8.m8.1.1.3.3.cmml">e</mi><mo id="S3.SS3.p2.8.m8.1.1.3.1a" xref="S3.SS3.p2.8.m8.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.8.m8.1.1.3.4" xref="S3.SS3.p2.8.m8.1.1.3.4.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.8.m8.1b"><apply id="S3.SS3.p2.8.m8.1.1.cmml" xref="S3.SS3.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m8.1.1.1.cmml" xref="S3.SS3.p2.8.m8.1.1">subscript</csymbol><ci id="S3.SS3.p2.8.m8.1.1.2.cmml" xref="S3.SS3.p2.8.m8.1.1.2">𝑫</ci><apply id="S3.SS3.p2.8.m8.1.1.3.cmml" xref="S3.SS3.p2.8.m8.1.1.3"><times id="S3.SS3.p2.8.m8.1.1.3.1.cmml" xref="S3.SS3.p2.8.m8.1.1.3.1"></times><ci id="S3.SS3.p2.8.m8.1.1.3.2.cmml" xref="S3.SS3.p2.8.m8.1.1.3.2">𝑛</ci><ci id="S3.SS3.p2.8.m8.1.1.3.3.cmml" xref="S3.SS3.p2.8.m8.1.1.3.3">𝑒</ci><ci id="S3.SS3.p2.8.m8.1.1.3.4.cmml" xref="S3.SS3.p2.8.m8.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.8.m8.1c">\boldsymbol{D}_{neg}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.8.m8.1d">bold_italic_D start_POSTSUBSCRIPT italic_n italic_e italic_g end_POSTSUBSCRIPT</annotation></semantics></math> is ranked using DPR, and documents equal in number to the positive samples are randomly selected and inferenced from the top 10 ranked by similarity. The reasoning processes where <span class="ltx_text ltx_markedasmath ltx_font_bold" id="S3.SS3.p2.11.4"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="S3.SS3.p2.11.4.1" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span></span><span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S3.SS3.p2.11.5">=False</span> are retained. Coarse answers <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS3.p2.10.m10.1"><semantics id="S3.SS3.p2.10.m10.1a"><mi id="S3.SS3.p2.10.m10.1.1" xref="S3.SS3.p2.10.m10.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.10.m10.1b"><ci id="S3.SS3.p2.10.m10.1.1.cmml" xref="S3.SS3.p2.10.m10.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.10.m10.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.10.m10.1d">bold_italic_A</annotation></semantics></math> are then generated from the filtered <math alttext="\boldsymbol{D}_{pos}" class="ltx_Math" display="inline" id="S3.SS3.p2.11.m11.1"><semantics id="S3.SS3.p2.11.m11.1a"><msub id="S3.SS3.p2.11.m11.1.1" xref="S3.SS3.p2.11.m11.1.1.cmml"><mi id="S3.SS3.p2.11.m11.1.1.2" xref="S3.SS3.p2.11.m11.1.1.2.cmml">𝑫</mi><mrow id="S3.SS3.p2.11.m11.1.1.3" xref="S3.SS3.p2.11.m11.1.1.3.cmml"><mi id="S3.SS3.p2.11.m11.1.1.3.2" xref="S3.SS3.p2.11.m11.1.1.3.2.cmml">p</mi><mo id="S3.SS3.p2.11.m11.1.1.3.1" xref="S3.SS3.p2.11.m11.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.11.m11.1.1.3.3" xref="S3.SS3.p2.11.m11.1.1.3.3.cmml">o</mi><mo id="S3.SS3.p2.11.m11.1.1.3.1a" xref="S3.SS3.p2.11.m11.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.11.m11.1.1.3.4" xref="S3.SS3.p2.11.m11.1.1.3.4.cmml">s</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.11.m11.1b"><apply id="S3.SS3.p2.11.m11.1.1.cmml" xref="S3.SS3.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.11.m11.1.1.1.cmml" xref="S3.SS3.p2.11.m11.1.1">subscript</csymbol><ci id="S3.SS3.p2.11.m11.1.1.2.cmml" xref="S3.SS3.p2.11.m11.1.1.2">𝑫</ci><apply id="S3.SS3.p2.11.m11.1.1.3.cmml" xref="S3.SS3.p2.11.m11.1.1.3"><times id="S3.SS3.p2.11.m11.1.1.3.1.cmml" xref="S3.SS3.p2.11.m11.1.1.3.1"></times><ci id="S3.SS3.p2.11.m11.1.1.3.2.cmml" xref="S3.SS3.p2.11.m11.1.1.3.2">𝑝</ci><ci id="S3.SS3.p2.11.m11.1.1.3.3.cmml" xref="S3.SS3.p2.11.m11.1.1.3.3">𝑜</ci><ci id="S3.SS3.p2.11.m11.1.1.3.4.cmml" xref="S3.SS3.p2.11.m11.1.1.3.4">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.11.m11.1c">\boldsymbol{D}_{pos}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.11.m11.1d">bold_italic_D start_POSTSUBSCRIPT italic_p italic_o italic_s end_POSTSUBSCRIPT</annotation></semantics></math>, retaining reasoning processes where the conclusions align with the standard answers.</p>
</div>
<div class="ltx_para" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.7">After generating <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS3.p3.1.m1.1"><semantics id="S3.SS3.p3.1.m1.1a"><mi id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><ci id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.1.m1.1d">bold_italic_A</annotation></semantics></math>, <span class="ltx_text ltx_markedasmath ltx_font_bold" id="S3.SS3.p3.7.1"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="S3.SS3.p3.7.1.1" style="color:#00008C;background-color:#FFFFFF;border-color: #00008C;">isUse</span></span><span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S3.SS3.p3.7.2">=?</span> is inferred based on the set <math alttext="\{\boldsymbol{q},\boldsymbol{d},\boldsymbol{A}\mid\boldsymbol{d}\in\{%
\boldsymbol{D}_{sc},\boldsymbol{D}_{t}\}\}" class="ltx_Math" display="inline" id="S3.SS3.p3.3.m3.5"><semantics id="S3.SS3.p3.3.m3.5a"><mrow id="S3.SS3.p3.3.m3.5.5.2" xref="S3.SS3.p3.3.m3.5.5.3.cmml"><mo id="S3.SS3.p3.3.m3.5.5.2.3" stretchy="false" xref="S3.SS3.p3.3.m3.5.5.3.1.cmml">{</mo><mrow id="S3.SS3.p3.3.m3.4.4.1.1.2" xref="S3.SS3.p3.3.m3.4.4.1.1.1.cmml"><mi id="S3.SS3.p3.3.m3.1.1" xref="S3.SS3.p3.3.m3.1.1.cmml">𝒒</mi><mo id="S3.SS3.p3.3.m3.4.4.1.1.2.1" xref="S3.SS3.p3.3.m3.4.4.1.1.1.cmml">,</mo><mi id="S3.SS3.p3.3.m3.2.2" xref="S3.SS3.p3.3.m3.2.2.cmml">𝒅</mi><mo id="S3.SS3.p3.3.m3.4.4.1.1.2.2" xref="S3.SS3.p3.3.m3.4.4.1.1.1.cmml">,</mo><mi id="S3.SS3.p3.3.m3.3.3" xref="S3.SS3.p3.3.m3.3.3.cmml">𝑨</mi></mrow><mo fence="true" id="S3.SS3.p3.3.m3.5.5.2.4" lspace="0em" rspace="0em" xref="S3.SS3.p3.3.m3.5.5.3.1.cmml">∣</mo><mrow id="S3.SS3.p3.3.m3.5.5.2.2" xref="S3.SS3.p3.3.m3.5.5.2.2.cmml"><mi id="S3.SS3.p3.3.m3.5.5.2.2.4" xref="S3.SS3.p3.3.m3.5.5.2.2.4.cmml">𝒅</mi><mo id="S3.SS3.p3.3.m3.5.5.2.2.3" xref="S3.SS3.p3.3.m3.5.5.2.2.3.cmml">∈</mo><mrow id="S3.SS3.p3.3.m3.5.5.2.2.2.2" xref="S3.SS3.p3.3.m3.5.5.2.2.2.3.cmml"><mo id="S3.SS3.p3.3.m3.5.5.2.2.2.2.3" stretchy="false" xref="S3.SS3.p3.3.m3.5.5.2.2.2.3.cmml">{</mo><msub id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.cmml"><mi id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.2" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.2.cmml">𝑫</mi><mrow id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.cmml"><mi id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.2" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.2.cmml">s</mi><mo id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.1" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.3" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.3.cmml">c</mi></mrow></msub><mo id="S3.SS3.p3.3.m3.5.5.2.2.2.2.4" xref="S3.SS3.p3.3.m3.5.5.2.2.2.3.cmml">,</mo><msub id="S3.SS3.p3.3.m3.5.5.2.2.2.2.2" xref="S3.SS3.p3.3.m3.5.5.2.2.2.2.2.cmml"><mi id="S3.SS3.p3.3.m3.5.5.2.2.2.2.2.2" xref="S3.SS3.p3.3.m3.5.5.2.2.2.2.2.2.cmml">𝑫</mi><mi id="S3.SS3.p3.3.m3.5.5.2.2.2.2.2.3" xref="S3.SS3.p3.3.m3.5.5.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S3.SS3.p3.3.m3.5.5.2.2.2.2.5" stretchy="false" xref="S3.SS3.p3.3.m3.5.5.2.2.2.3.cmml">}</mo></mrow></mrow><mo id="S3.SS3.p3.3.m3.5.5.2.5" stretchy="false" xref="S3.SS3.p3.3.m3.5.5.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.3.m3.5b"><apply id="S3.SS3.p3.3.m3.5.5.3.cmml" xref="S3.SS3.p3.3.m3.5.5.2"><csymbol cd="latexml" id="S3.SS3.p3.3.m3.5.5.3.1.cmml" xref="S3.SS3.p3.3.m3.5.5.2.3">conditional-set</csymbol><list id="S3.SS3.p3.3.m3.4.4.1.1.1.cmml" xref="S3.SS3.p3.3.m3.4.4.1.1.2"><ci id="S3.SS3.p3.3.m3.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1">𝒒</ci><ci id="S3.SS3.p3.3.m3.2.2.cmml" xref="S3.SS3.p3.3.m3.2.2">𝒅</ci><ci id="S3.SS3.p3.3.m3.3.3.cmml" xref="S3.SS3.p3.3.m3.3.3">𝑨</ci></list><apply id="S3.SS3.p3.3.m3.5.5.2.2.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2"><in id="S3.SS3.p3.3.m3.5.5.2.2.3.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.3"></in><ci id="S3.SS3.p3.3.m3.5.5.2.2.4.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.4">𝒅</ci><set id="S3.SS3.p3.3.m3.5.5.2.2.2.3.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.2.2"><apply id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.1.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1">subscript</csymbol><ci id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.2.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.2">𝑫</ci><apply id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3"><times id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.1.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.1"></times><ci id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.2.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.2">𝑠</ci><ci id="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.3.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.1.1.1.3.3">𝑐</ci></apply></apply><apply id="S3.SS3.p3.3.m3.5.5.2.2.2.2.2.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p3.3.m3.5.5.2.2.2.2.2.1.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.2.2.2">subscript</csymbol><ci id="S3.SS3.p3.3.m3.5.5.2.2.2.2.2.2.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.2.2.2.2">𝑫</ci><ci id="S3.SS3.p3.3.m3.5.5.2.2.2.2.2.3.cmml" xref="S3.SS3.p3.3.m3.5.5.2.2.2.2.2.3">𝑡</ci></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.3.m3.5c">\{\boldsymbol{q},\boldsymbol{d},\boldsymbol{A}\mid\boldsymbol{d}\in\{%
\boldsymbol{D}_{sc},\boldsymbol{D}_{t}\}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.3.m3.5d">{ bold_italic_q , bold_italic_d , bold_italic_A ∣ bold_italic_d ∈ { bold_italic_D start_POSTSUBSCRIPT italic_s italic_c end_POSTSUBSCRIPT , bold_italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT } }</annotation></semantics></math>. Using the same method as for <span class="ltx_text ltx_markedasmath ltx_font_bold" id="S3.SS3.p3.7.3"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="S3.SS3.p3.7.3.1" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span></span>, positive and negative samples with consistent inference results are retained. Finally, <span class="ltx_text ltx_markedasmath ltx_font_bold" id="S3.SS3.p3.7.4"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="S3.SS3.p3.7.4.1" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span></span><span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S3.SS3.p3.7.5">=?</span> is inferred. Similar to <span class="ltx_text ltx_markedasmath ltx_font_bold" id="S3.SS3.p3.7.6"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="S3.SS3.p3.7.6.1" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span></span>, for negative samples, reasoning processes where <span class="ltx_text ltx_markedasmath ltx_font_bold" id="S3.SS3.p3.7.7"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="S3.SS3.p3.7.7.1" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span></span><span class="ltx_text ltx_markedasmath ltx_font_typewriter" id="S3.SS3.p3.7.8">=False</span> are kept. While for positive samples, those with inference results of either <span class="ltx_text ltx_font_typewriter" id="S3.SS3.p3.7.9">True</span> or <span class="ltx_text ltx_font_typewriter" id="S3.SS3.p3.7.10">Partial</span> are retained.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>SAM-RAG</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">The components of the SAM-RAG framework, as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S2.F2" title="Figure 2 ‣ 2.3 Adaptive Retrieval-Augmented Generation ‣ 2 Related Works ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>, are described. The overall process of executing multimodal RAG tasks is divided into five steps: <span class="ltx_text ltx_font_bold" id="S3.SS4.p1.1.1">modality alignment</span>, <span class="ltx_text ltx_font_bold" id="S3.SS4.p1.1.2">document retrieval</span>, <span class="ltx_text ltx_font_bold" id="S3.SS4.p1.1.3">relevance verification</span>, <span class="ltx_text ltx_font_bold" id="S3.SS4.p1.1.4">answer generation</span>, and <span class="ltx_text ltx_font_bold" id="S3.SS4.p1.1.5">answer verification</span>. Image information from the entire document corpus is first aligned with the text modality. Upon receiving a query, document retrieval is performed. The retrieved results are then ranked by similarity, and each is assessed for relevance to the query, with only the relevant results being retained. Based on the relevant documents, the framework generates <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS4.p1.1.m1.1"><semantics id="S3.SS4.p1.1.m1.1a"><mi id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.1b"><ci id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p1.1.m1.1d">bold_italic_A</annotation></semantics></math>. The validity of the generated answer is subsequently verified, and if confirmed, the answer is returned, concluding the retrieval process. The core innovation of this method lies in the introduction of three key verification mechanisms, as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.T1" title="Table 1 ‣ 3.4.4 Answer Generation ‣ 3.4 SAM-RAG ‣ 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>. Prompts are listed in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A2" title="Appendix B Prompt template ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
<section class="ltx_subsubsection" id="S3.SS4.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.1 </span>Modality Alignment</h4>
<div class="ltx_para" id="S3.SS4.SSS1.p1">
<p class="ltx_p" id="S3.SS4.SSS1.p1.7">Raw captions <math alttext="\boldsymbol{d}_{rc}" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.1.m1.1"><semantics id="S3.SS4.SSS1.p1.1.m1.1a"><msub id="S3.SS4.SSS1.p1.1.m1.1.1" xref="S3.SS4.SSS1.p1.1.m1.1.1.cmml"><mi id="S3.SS4.SSS1.p1.1.m1.1.1.2" xref="S3.SS4.SSS1.p1.1.m1.1.1.2.cmml">𝒅</mi><mrow id="S3.SS4.SSS1.p1.1.m1.1.1.3" xref="S3.SS4.SSS1.p1.1.m1.1.1.3.cmml"><mi id="S3.SS4.SSS1.p1.1.m1.1.1.3.2" xref="S3.SS4.SSS1.p1.1.m1.1.1.3.2.cmml">r</mi><mo id="S3.SS4.SSS1.p1.1.m1.1.1.3.1" xref="S3.SS4.SSS1.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS1.p1.1.m1.1.1.3.3" xref="S3.SS4.SSS1.p1.1.m1.1.1.3.3.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.1.m1.1b"><apply id="S3.SS4.SSS1.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.1.m1.1.1.1.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.SSS1.p1.1.m1.1.1.2.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.1.2">𝒅</ci><apply id="S3.SS4.SSS1.p1.1.m1.1.1.3.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.1.3"><times id="S3.SS4.SSS1.p1.1.m1.1.1.3.1.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.1.3.1"></times><ci id="S3.SS4.SSS1.p1.1.m1.1.1.3.2.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.1.3.2">𝑟</ci><ci id="S3.SS4.SSS1.p1.1.m1.1.1.3.3.cmml" xref="S3.SS4.SSS1.p1.1.m1.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.1.m1.1c">\boldsymbol{d}_{rc}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.1.m1.1d">bold_italic_d start_POSTSUBSCRIPT italic_r italic_c end_POSTSUBSCRIPT</annotation></semantics></math> are first generated using <span class="ltx_text ltx_font_bold" id="S3.SS4.SSS1.p1.7.1">GPT</span>, referred to as <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.2.m2.1"><semantics id="S3.SS4.SSS1.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS1.p1.2.m2.1.1" xref="S3.SS4.SSS1.p1.2.m2.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.2.m2.1b"><ci id="S3.SS4.SSS1.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS1.p1.2.m2.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.2.m2.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.2.m2.1d">caligraphic_G</annotation></semantics></math>, without being tailored to specific queries. These captions are produced under constraints based on image titles. Since the raw captions are not specific to the queries, <math alttext="\boldsymbol{d}_{rc}" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.3.m3.1"><semantics id="S3.SS4.SSS1.p1.3.m3.1a"><msub id="S3.SS4.SSS1.p1.3.m3.1.1" xref="S3.SS4.SSS1.p1.3.m3.1.1.cmml"><mi id="S3.SS4.SSS1.p1.3.m3.1.1.2" xref="S3.SS4.SSS1.p1.3.m3.1.1.2.cmml">𝒅</mi><mrow id="S3.SS4.SSS1.p1.3.m3.1.1.3" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.cmml"><mi id="S3.SS4.SSS1.p1.3.m3.1.1.3.2" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.2.cmml">r</mi><mo id="S3.SS4.SSS1.p1.3.m3.1.1.3.1" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS1.p1.3.m3.1.1.3.3" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.3.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.3.m3.1b"><apply id="S3.SS4.SSS1.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.3.m3.1.1.1.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS4.SSS1.p1.3.m3.1.1.2.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1.2">𝒅</ci><apply id="S3.SS4.SSS1.p1.3.m3.1.1.3.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1.3"><times id="S3.SS4.SSS1.p1.3.m3.1.1.3.1.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.1"></times><ci id="S3.SS4.SSS1.p1.3.m3.1.1.3.2.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.2">𝑟</ci><ci id="S3.SS4.SSS1.p1.3.m3.1.1.3.3.cmml" xref="S3.SS4.SSS1.p1.3.m3.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.3.m3.1c">\boldsymbol{d}_{rc}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.3.m3.1d">bold_italic_d start_POSTSUBSCRIPT italic_r italic_c end_POSTSUBSCRIPT</annotation></semantics></math> may omit key information relevant to the queries. Therefore, <math alttext="\boldsymbol{d}_{rc}" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.4.m4.1"><semantics id="S3.SS4.SSS1.p1.4.m4.1a"><msub id="S3.SS4.SSS1.p1.4.m4.1.1" xref="S3.SS4.SSS1.p1.4.m4.1.1.cmml"><mi id="S3.SS4.SSS1.p1.4.m4.1.1.2" xref="S3.SS4.SSS1.p1.4.m4.1.1.2.cmml">𝒅</mi><mrow id="S3.SS4.SSS1.p1.4.m4.1.1.3" xref="S3.SS4.SSS1.p1.4.m4.1.1.3.cmml"><mi id="S3.SS4.SSS1.p1.4.m4.1.1.3.2" xref="S3.SS4.SSS1.p1.4.m4.1.1.3.2.cmml">r</mi><mo id="S3.SS4.SSS1.p1.4.m4.1.1.3.1" xref="S3.SS4.SSS1.p1.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS1.p1.4.m4.1.1.3.3" xref="S3.SS4.SSS1.p1.4.m4.1.1.3.3.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.4.m4.1b"><apply id="S3.SS4.SSS1.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.4.m4.1.1.1.cmml" xref="S3.SS4.SSS1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.SSS1.p1.4.m4.1.1.2.cmml" xref="S3.SS4.SSS1.p1.4.m4.1.1.2">𝒅</ci><apply id="S3.SS4.SSS1.p1.4.m4.1.1.3.cmml" xref="S3.SS4.SSS1.p1.4.m4.1.1.3"><times id="S3.SS4.SSS1.p1.4.m4.1.1.3.1.cmml" xref="S3.SS4.SSS1.p1.4.m4.1.1.3.1"></times><ci id="S3.SS4.SSS1.p1.4.m4.1.1.3.2.cmml" xref="S3.SS4.SSS1.p1.4.m4.1.1.3.2">𝑟</ci><ci id="S3.SS4.SSS1.p1.4.m4.1.1.3.3.cmml" xref="S3.SS4.SSS1.p1.4.m4.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.4.m4.1c">\boldsymbol{d}_{rc}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.4.m4.1d">bold_italic_d start_POSTSUBSCRIPT italic_r italic_c end_POSTSUBSCRIPT</annotation></semantics></math> is used exclusively for indexing and similarity calculations. The generated <math alttext="\boldsymbol{D}_{rc}" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.5.m5.1"><semantics id="S3.SS4.SSS1.p1.5.m5.1a"><msub id="S3.SS4.SSS1.p1.5.m5.1.1" xref="S3.SS4.SSS1.p1.5.m5.1.1.cmml"><mi id="S3.SS4.SSS1.p1.5.m5.1.1.2" xref="S3.SS4.SSS1.p1.5.m5.1.1.2.cmml">𝑫</mi><mrow id="S3.SS4.SSS1.p1.5.m5.1.1.3" xref="S3.SS4.SSS1.p1.5.m5.1.1.3.cmml"><mi id="S3.SS4.SSS1.p1.5.m5.1.1.3.2" xref="S3.SS4.SSS1.p1.5.m5.1.1.3.2.cmml">r</mi><mo id="S3.SS4.SSS1.p1.5.m5.1.1.3.1" xref="S3.SS4.SSS1.p1.5.m5.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS1.p1.5.m5.1.1.3.3" xref="S3.SS4.SSS1.p1.5.m5.1.1.3.3.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.5.m5.1b"><apply id="S3.SS4.SSS1.p1.5.m5.1.1.cmml" xref="S3.SS4.SSS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.5.m5.1.1.1.cmml" xref="S3.SS4.SSS1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS4.SSS1.p1.5.m5.1.1.2.cmml" xref="S3.SS4.SSS1.p1.5.m5.1.1.2">𝑫</ci><apply id="S3.SS4.SSS1.p1.5.m5.1.1.3.cmml" xref="S3.SS4.SSS1.p1.5.m5.1.1.3"><times id="S3.SS4.SSS1.p1.5.m5.1.1.3.1.cmml" xref="S3.SS4.SSS1.p1.5.m5.1.1.3.1"></times><ci id="S3.SS4.SSS1.p1.5.m5.1.1.3.2.cmml" xref="S3.SS4.SSS1.p1.5.m5.1.1.3.2">𝑟</ci><ci id="S3.SS4.SSS1.p1.5.m5.1.1.3.3.cmml" xref="S3.SS4.SSS1.p1.5.m5.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.5.m5.1c">\boldsymbol{D}_{rc}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.5.m5.1d">bold_italic_D start_POSTSUBSCRIPT italic_r italic_c end_POSTSUBSCRIPT</annotation></semantics></math>, along with the original textual documents <math alttext="\boldsymbol{D}_{t}" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.6.m6.1"><semantics id="S3.SS4.SSS1.p1.6.m6.1a"><msub id="S3.SS4.SSS1.p1.6.m6.1.1" xref="S3.SS4.SSS1.p1.6.m6.1.1.cmml"><mi id="S3.SS4.SSS1.p1.6.m6.1.1.2" xref="S3.SS4.SSS1.p1.6.m6.1.1.2.cmml">𝑫</mi><mi id="S3.SS4.SSS1.p1.6.m6.1.1.3" xref="S3.SS4.SSS1.p1.6.m6.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.6.m6.1b"><apply id="S3.SS4.SSS1.p1.6.m6.1.1.cmml" xref="S3.SS4.SSS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS1.p1.6.m6.1.1.1.cmml" xref="S3.SS4.SSS1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS4.SSS1.p1.6.m6.1.1.2.cmml" xref="S3.SS4.SSS1.p1.6.m6.1.1.2">𝑫</ci><ci id="S3.SS4.SSS1.p1.6.m6.1.1.3.cmml" xref="S3.SS4.SSS1.p1.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.6.m6.1c">\boldsymbol{D}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.6.m6.1d">bold_italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, is then input into the embedding model <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S3.SS4.SSS1.p1.7.m7.1"><semantics id="S3.SS4.SSS1.p1.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS1.p1.7.m7.1.1" xref="S3.SS4.SSS1.p1.7.m7.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS1.p1.7.m7.1b"><ci id="S3.SS4.SSS1.p1.7.m7.1.1.cmml" xref="S3.SS4.SSS1.p1.7.m7.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS1.p1.7.m7.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS1.p1.7.m7.1d">caligraphic_R</annotation></semantics></math> for vectorization, preparing for query retrieval.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS4.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.2 </span>Document Retrieval</h4>
<div class="ltx_para" id="S3.SS4.SSS2.p1">
<p class="ltx_p" id="S3.SS4.SSS2.p1.2">For a given query <math alttext="\boldsymbol{q}" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p1.1.m1.1"><semantics id="S3.SS4.SSS2.p1.1.m1.1a"><mi id="S3.SS4.SSS2.p1.1.m1.1.1" xref="S3.SS4.SSS2.p1.1.m1.1.1.cmml">𝒒</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p1.1.m1.1b"><ci id="S3.SS4.SSS2.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS2.p1.1.m1.1.1">𝒒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p1.1.m1.1c">\boldsymbol{q}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p1.1.m1.1d">bold_italic_q</annotation></semantics></math>, scores for the document corpus <math alttext="\boldsymbol{D}" class="ltx_Math" display="inline" id="S3.SS4.SSS2.p1.2.m2.1"><semantics id="S3.SS4.SSS2.p1.2.m2.1a"><mi id="S3.SS4.SSS2.p1.2.m2.1.1" xref="S3.SS4.SSS2.p1.2.m2.1.1.cmml">𝑫</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS2.p1.2.m2.1b"><ci id="S3.SS4.SSS2.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS2.p1.2.m2.1.1">𝑫</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS2.p1.2.m2.1c">\boldsymbol{D}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS2.p1.2.m2.1d">bold_italic_D</annotation></semantics></math> are obtained using DPR <cite class="ltx_cite ltx_citemacro_citep">(Karpukhin et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib14" title="">2020</a>)</cite>, and the results are sorted in descending order of similarity scores for the next step.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS4.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.3 </span>Relevance Verification</h4>
<div class="ltx_para" id="S3.SS4.SSS3.p1">
<p class="ltx_p" id="S3.SS4.SSS3.p1.10">To track the retrieval status, a flag <math alttext="\mathcal{F}" class="ltx_Math" display="inline" id="S3.SS4.SSS3.p1.1.m1.1"><semantics id="S3.SS4.SSS3.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS3.p1.1.m1.1.1" xref="S3.SS4.SSS3.p1.1.m1.1.1.cmml">ℱ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS3.p1.1.m1.1b"><ci id="S3.SS4.SSS3.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS3.p1.1.m1.1.1">ℱ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS3.p1.1.m1.1c">\mathcal{F}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS3.p1.1.m1.1d">caligraphic_F</annotation></semantics></math> is initialized to <span class="ltx_text ltx_markedasmath" id="S3.SS4.SSS3.p1.10.1">False</span>, and a storage space <math alttext="\boldsymbol{C}" class="ltx_Math" display="inline" id="S3.SS4.SSS3.p1.3.m3.1"><semantics id="S3.SS4.SSS3.p1.3.m3.1a"><mi id="S3.SS4.SSS3.p1.3.m3.1.1" xref="S3.SS4.SSS3.p1.3.m3.1.1.cmml">𝑪</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS3.p1.3.m3.1b"><ci id="S3.SS4.SSS3.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS3.p1.3.m3.1.1">𝑪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS3.p1.3.m3.1c">\boldsymbol{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS3.p1.3.m3.1d">bold_italic_C</annotation></semantics></math> is created to hold relevant information. The retrieved documents are processed in batches, where the relevance of each retrieved text document <math alttext="\boldsymbol{d}_{t}" class="ltx_Math" display="inline" id="S3.SS4.SSS3.p1.4.m4.1"><semantics id="S3.SS4.SSS3.p1.4.m4.1a"><msub id="S3.SS4.SSS3.p1.4.m4.1.1" xref="S3.SS4.SSS3.p1.4.m4.1.1.cmml"><mi id="S3.SS4.SSS3.p1.4.m4.1.1.2" xref="S3.SS4.SSS3.p1.4.m4.1.1.2.cmml">𝒅</mi><mi id="S3.SS4.SSS3.p1.4.m4.1.1.3" xref="S3.SS4.SSS3.p1.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS3.p1.4.m4.1b"><apply id="S3.SS4.SSS3.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS3.p1.4.m4.1.1.1.cmml" xref="S3.SS4.SSS3.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.SSS3.p1.4.m4.1.1.2.cmml" xref="S3.SS4.SSS3.p1.4.m4.1.1.2">𝒅</ci><ci id="S3.SS4.SSS3.p1.4.m4.1.1.3.cmml" xref="S3.SS4.SSS3.p1.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS3.p1.4.m4.1c">\boldsymbol{d}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS3.p1.4.m4.1d">bold_italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> to the query is directly assessed using the relevance verification <span class="ltx_text ltx_markedasmath ltx_font_bold" id="S3.SS4.SSS3.p1.10.2"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="S3.SS4.SSS3.p1.10.2.1" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span></span> (refer to Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S2.F2" title="Figure 2 ‣ 2.3 Adaptive Retrieval-Augmented Generation ‣ 2 Related Works ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> and Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.T1" title="Table 1 ‣ 3.4.4 Answer Generation ‣ 3.4 SAM-RAG ‣ 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>, top row). If an image <math alttext="\boldsymbol{d}_{i}" class="ltx_Math" display="inline" id="S3.SS4.SSS3.p1.6.m6.1"><semantics id="S3.SS4.SSS3.p1.6.m6.1a"><msub id="S3.SS4.SSS3.p1.6.m6.1.1" xref="S3.SS4.SSS3.p1.6.m6.1.1.cmml"><mi id="S3.SS4.SSS3.p1.6.m6.1.1.2" xref="S3.SS4.SSS3.p1.6.m6.1.1.2.cmml">𝒅</mi><mi id="S3.SS4.SSS3.p1.6.m6.1.1.3" xref="S3.SS4.SSS3.p1.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS3.p1.6.m6.1b"><apply id="S3.SS4.SSS3.p1.6.m6.1.1.cmml" xref="S3.SS4.SSS3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS3.p1.6.m6.1.1.1.cmml" xref="S3.SS4.SSS3.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS4.SSS3.p1.6.m6.1.1.2.cmml" xref="S3.SS4.SSS3.p1.6.m6.1.1.2">𝒅</ci><ci id="S3.SS4.SSS3.p1.6.m6.1.1.3.cmml" xref="S3.SS4.SSS3.p1.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS3.p1.6.m6.1c">\boldsymbol{d}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS3.p1.6.m6.1d">bold_italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is retrieved instead, a question-specific caption <math alttext="\boldsymbol{d}_{sc}" class="ltx_Math" display="inline" id="S3.SS4.SSS3.p1.7.m7.1"><semantics id="S3.SS4.SSS3.p1.7.m7.1a"><msub id="S3.SS4.SSS3.p1.7.m7.1.1" xref="S3.SS4.SSS3.p1.7.m7.1.1.cmml"><mi id="S3.SS4.SSS3.p1.7.m7.1.1.2" xref="S3.SS4.SSS3.p1.7.m7.1.1.2.cmml">𝒅</mi><mrow id="S3.SS4.SSS3.p1.7.m7.1.1.3" xref="S3.SS4.SSS3.p1.7.m7.1.1.3.cmml"><mi id="S3.SS4.SSS3.p1.7.m7.1.1.3.2" xref="S3.SS4.SSS3.p1.7.m7.1.1.3.2.cmml">s</mi><mo id="S3.SS4.SSS3.p1.7.m7.1.1.3.1" xref="S3.SS4.SSS3.p1.7.m7.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS3.p1.7.m7.1.1.3.3" xref="S3.SS4.SSS3.p1.7.m7.1.1.3.3.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS3.p1.7.m7.1b"><apply id="S3.SS4.SSS3.p1.7.m7.1.1.cmml" xref="S3.SS4.SSS3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS3.p1.7.m7.1.1.1.cmml" xref="S3.SS4.SSS3.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS4.SSS3.p1.7.m7.1.1.2.cmml" xref="S3.SS4.SSS3.p1.7.m7.1.1.2">𝒅</ci><apply id="S3.SS4.SSS3.p1.7.m7.1.1.3.cmml" xref="S3.SS4.SSS3.p1.7.m7.1.1.3"><times id="S3.SS4.SSS3.p1.7.m7.1.1.3.1.cmml" xref="S3.SS4.SSS3.p1.7.m7.1.1.3.1"></times><ci id="S3.SS4.SSS3.p1.7.m7.1.1.3.2.cmml" xref="S3.SS4.SSS3.p1.7.m7.1.1.3.2">𝑠</ci><ci id="S3.SS4.SSS3.p1.7.m7.1.1.3.3.cmml" xref="S3.SS4.SSS3.p1.7.m7.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS3.p1.7.m7.1c">\boldsymbol{d}_{sc}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS3.p1.7.m7.1d">bold_italic_d start_POSTSUBSCRIPT italic_s italic_c end_POSTSUBSCRIPT</annotation></semantics></math> is generated based on the query, and its relevance is evaluated accordingly. When <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.SS4.SSS3.p1.10.3" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span><span class="ltx_text ltx_font_typewriter" id="S3.SS4.SSS3.p1.10.4">=True</span>, the relevant information is stored in <math alttext="\boldsymbol{C}" class="ltx_Math" display="inline" id="S3.SS4.SSS3.p1.8.m8.1"><semantics id="S3.SS4.SSS3.p1.8.m8.1a"><mi id="S3.SS4.SSS3.p1.8.m8.1.1" xref="S3.SS4.SSS3.p1.8.m8.1.1.cmml">𝑪</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS3.p1.8.m8.1b"><ci id="S3.SS4.SSS3.p1.8.m8.1.1.cmml" xref="S3.SS4.SSS3.p1.8.m8.1.1">𝑪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS3.p1.8.m8.1c">\boldsymbol{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS3.p1.8.m8.1d">bold_italic_C</annotation></semantics></math>, and <math alttext="\mathcal{F}" class="ltx_Math" display="inline" id="S3.SS4.SSS3.p1.9.m9.1"><semantics id="S3.SS4.SSS3.p1.9.m9.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS3.p1.9.m9.1.1" xref="S3.SS4.SSS3.p1.9.m9.1.1.cmml">ℱ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS3.p1.9.m9.1b"><ci id="S3.SS4.SSS3.p1.9.m9.1.1.cmml" xref="S3.SS4.SSS3.p1.9.m9.1.1">ℱ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS3.p1.9.m9.1c">\mathcal{F}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS3.p1.9.m9.1d">caligraphic_F</annotation></semantics></math> is updated to <span class="ltx_text ltx_markedasmath" id="S3.SS4.SSS3.p1.10.5">True</span>. After processing a batch, if <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.SS4.SSS3.p1.10.6" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span><span class="ltx_text ltx_font_typewriter" id="S3.SS4.SSS3.p1.10.7">=False</span>, the next batch is processed; otherwise, the retrieval process is paused, and the next stage is initiated.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS4.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.4 </span>Answer Generation</h4>
<div class="ltx_para" id="S3.SS4.SSS4.p1">
<p class="ltx_p" id="S3.SS4.SSS4.p1.5">The context <math alttext="\boldsymbol{C}" class="ltx_Math" display="inline" id="S3.SS4.SSS4.p1.1.m1.1"><semantics id="S3.SS4.SSS4.p1.1.m1.1a"><mi id="S3.SS4.SSS4.p1.1.m1.1.1" xref="S3.SS4.SSS4.p1.1.m1.1.1.cmml">𝑪</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS4.p1.1.m1.1b"><ci id="S3.SS4.SSS4.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS4.p1.1.m1.1.1">𝑪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS4.p1.1.m1.1c">\boldsymbol{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS4.p1.1.m1.1d">bold_italic_C</annotation></semantics></math> generated in the previous stage, along with the query <math alttext="\boldsymbol{q}" class="ltx_Math" display="inline" id="S3.SS4.SSS4.p1.2.m2.1"><semantics id="S3.SS4.SSS4.p1.2.m2.1a"><mi id="S3.SS4.SSS4.p1.2.m2.1.1" xref="S3.SS4.SSS4.p1.2.m2.1.1.cmml">𝒒</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS4.p1.2.m2.1b"><ci id="S3.SS4.SSS4.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS4.p1.2.m2.1.1">𝒒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS4.p1.2.m2.1c">\boldsymbol{q}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS4.p1.2.m2.1d">bold_italic_q</annotation></semantics></math>, is utilized by the model <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S3.SS4.SSS4.p1.3.m3.1"><semantics id="S3.SS4.SSS4.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS4.p1.3.m3.1.1" xref="S3.SS4.SSS4.p1.3.m3.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS4.p1.3.m3.1b"><ci id="S3.SS4.SSS4.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS4.p1.3.m3.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS4.p1.3.m3.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS4.p1.3.m3.1d">caligraphic_M</annotation></semantics></math> to produce a coarse answer <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS4.SSS4.p1.4.m4.1"><semantics id="S3.SS4.SSS4.p1.4.m4.1a"><mi id="S3.SS4.SSS4.p1.4.m4.1.1" xref="S3.SS4.SSS4.p1.4.m4.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS4.p1.4.m4.1b"><ci id="S3.SS4.SSS4.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS4.p1.4.m4.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS4.p1.4.m4.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS4.p1.4.m4.1d">bold_italic_A</annotation></semantics></math> through an autoregressive generation method. Subsequently, the generated answer <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS4.SSS4.p1.5.m5.1"><semantics id="S3.SS4.SSS4.p1.5.m5.1a"><mi id="S3.SS4.SSS4.p1.5.m5.1.1" xref="S3.SS4.SSS4.p1.5.m5.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS4.p1.5.m5.1b"><ci id="S3.SS4.SSS4.p1.5.m5.1.1.cmml" xref="S3.SS4.SSS4.p1.5.m5.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS4.p1.5.m5.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS4.p1.5.m5.1d">bold_italic_A</annotation></semantics></math> undergoes a verification process to evaluate its relevance and support.</p>
</div>
<figure class="ltx_table" id="S3.T1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S3.T1.19" style="width:346.9pt;height:113pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-74.0pt,24.0pt) scale(0.700907907916055,0.700907907916055) ;">
<table class="ltx_tabular ltx_align_middle" id="S3.T1.19.19">
<tr class="ltx_tr" id="S3.T1.19.19.20">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.19.19.20.1"><span class="ltx_text ltx_font_bold" id="S3.T1.19.19.20.1.1">Verification</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.19.19.20.2"><span class="ltx_text ltx_font_bold" id="S3.T1.19.19.20.2.1">Definition</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.19.19.20.3"><span class="ltx_text ltx_font_bold" id="S3.T1.19.19.20.3.1">Input</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.19.19.20.4"><span class="ltx_text ltx_font_bold" id="S3.T1.19.19.20.4.1">Output</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.19.19.20.5"><span class="ltx_text ltx_font_bold" id="S3.T1.19.19.20.5.1">Action</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.5.5">
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.5.5.5.6"><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.T1.5.5.5.6.1" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.2.2.2.2">If <math alttext="\boldsymbol{d}" class="ltx_Math" display="inline" id="S3.T1.1.1.1.1.m1.1"><semantics id="S3.T1.1.1.1.1.m1.1a"><mi id="S3.T1.1.1.1.1.m1.1.1" xref="S3.T1.1.1.1.1.m1.1.1.cmml">𝒅</mi><annotation-xml encoding="MathML-Content" id="S3.T1.1.1.1.1.m1.1b"><ci id="S3.T1.1.1.1.1.m1.1.1.cmml" xref="S3.T1.1.1.1.1.m1.1.1">𝒅</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.1.1.1.1.m1.1c">\boldsymbol{d}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.1.1.1.1.m1.1d">bold_italic_d</annotation></semantics></math> is related to <math alttext="\boldsymbol{q}" class="ltx_Math" display="inline" id="S3.T1.2.2.2.2.m2.1"><semantics id="S3.T1.2.2.2.2.m2.1a"><mi id="S3.T1.2.2.2.2.m2.1.1" xref="S3.T1.2.2.2.2.m2.1.1.cmml">𝒒</mi><annotation-xml encoding="MathML-Content" id="S3.T1.2.2.2.2.m2.1b"><ci id="S3.T1.2.2.2.2.m2.1.1.cmml" xref="S3.T1.2.2.2.2.m2.1.1">𝒒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.2.2.2.2.m2.1c">\boldsymbol{q}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.2.2.2.2.m2.1d">bold_italic_q</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.4.4.4.4">
<math alttext="\boldsymbol{q}" class="ltx_Math" display="inline" id="S3.T1.3.3.3.3.m1.1"><semantics id="S3.T1.3.3.3.3.m1.1a"><mi id="S3.T1.3.3.3.3.m1.1.1" xref="S3.T1.3.3.3.3.m1.1.1.cmml">𝒒</mi><annotation-xml encoding="MathML-Content" id="S3.T1.3.3.3.3.m1.1b"><ci id="S3.T1.3.3.3.3.m1.1.1.cmml" xref="S3.T1.3.3.3.3.m1.1.1">𝒒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.3.3.3.3.m1.1c">\boldsymbol{q}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.3.3.3.3.m1.1d">bold_italic_q</annotation></semantics></math>, <math alttext="\boldsymbol{d}" class="ltx_Math" display="inline" id="S3.T1.4.4.4.4.m2.1"><semantics id="S3.T1.4.4.4.4.m2.1a"><mi id="S3.T1.4.4.4.4.m2.1.1" xref="S3.T1.4.4.4.4.m2.1.1.cmml">𝒅</mi><annotation-xml encoding="MathML-Content" id="S3.T1.4.4.4.4.m2.1b"><ci id="S3.T1.4.4.4.4.m2.1.1.cmml" xref="S3.T1.4.4.4.4.m2.1.1">𝒅</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.4.4.4.4.m2.1c">\boldsymbol{d}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.4.4.4.4.m2.1d">bold_italic_d</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.5.5.5.7">
<span class="ltx_text" id="S3.T1.5.5.5.7.1"></span><span class="ltx_text" id="S3.T1.5.5.5.7.2">
<span class="ltx_tabular ltx_align_middle" id="S3.T1.5.5.5.7.2.1">
<span class="ltx_tr" id="S3.T1.5.5.5.7.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.5.5.5.7.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.5.5.5.7.2.1.1.1.1">TRUE</span></span></span>
<span class="ltx_tr" id="S3.T1.5.5.5.7.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.5.5.5.7.2.1.2.1"><span class="ltx_text ltx_font_bold" id="S3.T1.5.5.5.7.2.1.2.1.1">FALSE</span></span></span>
</span></span><span class="ltx_text" id="S3.T1.5.5.5.7.3"></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T1.5.5.5.5">
<span class="ltx_text" id="S3.T1.5.5.5.5.2"></span><span class="ltx_text" id="S3.T1.5.5.5.5.1">
<span class="ltx_tabular ltx_align_middle" id="S3.T1.5.5.5.5.1.1">
<span class="ltx_tr" id="S3.T1.5.5.5.5.1.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.5.5.5.5.1.1.1.1"><math alttext="\mathcal{F}\leftarrow\text{TRUE},\boldsymbol{C}\leftarrow\boldsymbol{C}\cup\{d\}" class="ltx_Math" display="inline" id="S3.T1.5.5.5.5.1.1.1.1.m1.3"><semantics id="S3.T1.5.5.5.5.1.1.1.1.m1.3a"><mrow id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.3.cmml"><mrow id="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1" xref="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.2" xref="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.2.cmml">ℱ</mi><mo id="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.1" stretchy="false" xref="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.1.cmml">←</mo><mtext id="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.3" xref="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.3a.cmml">TRUE</mtext></mrow><mo id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.3" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.3a.cmml">,</mo><mrow id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.cmml"><mi id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.2" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.2.cmml">𝑪</mi><mo id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.1" stretchy="false" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.1.cmml">←</mo><mrow id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.cmml"><mi id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.2" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.2.cmml">𝑪</mi><mo id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.1" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.1.cmml">∪</mo><mrow id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.3.2" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.3.1.cmml"><mo id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.3.2.1" stretchy="false" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.3.1.cmml">{</mo><mi id="S3.T1.5.5.5.5.1.1.1.1.m1.1.1" xref="S3.T1.5.5.5.5.1.1.1.1.m1.1.1.cmml">d</mi><mo id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.3.2.2" stretchy="false" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.3.1.cmml">}</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.5.5.5.5.1.1.1.1.m1.3b"><apply id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.3.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2"><csymbol cd="ambiguous" id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.3a.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.3">formulae-sequence</csymbol><apply id="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1"><ci id="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.1.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.1">←</ci><ci id="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.2.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.2">ℱ</ci><ci id="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.3a.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.3"><mtext id="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.3.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.2.2.1.1.3">TRUE</mtext></ci></apply><apply id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2"><ci id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.1.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.1">←</ci><ci id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.2.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.2">𝑪</ci><apply id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3"><union id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.1.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.1"></union><ci id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.2.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.2">𝑪</ci><set id="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.3.1.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.3.3.2.2.3.3.2"><ci id="S3.T1.5.5.5.5.1.1.1.1.m1.1.1.cmml" xref="S3.T1.5.5.5.5.1.1.1.1.m1.1.1">𝑑</ci></set></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.5.5.5.5.1.1.1.1.m1.3c">\mathcal{F}\leftarrow\text{TRUE},\boldsymbol{C}\leftarrow\boldsymbol{C}\cup\{d\}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.5.5.5.5.1.1.1.1.m1.3d">caligraphic_F ← TRUE , bold_italic_C ← bold_italic_C ∪ { italic_d }</annotation></semantics></math></span></span>
<span class="ltx_tr" id="S3.T1.5.5.5.5.1.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.5.5.5.5.1.1.2.1">continueed</span></span>
</span></span><span class="ltx_text" id="S3.T1.5.5.5.5.3"></span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.10.10.10">
<td class="ltx_td ltx_align_left" id="S3.T1.10.10.10.6">
<span class="ltx_ERROR undefined" id="S3.T1.10.10.10.6.1">\hdashline</span><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.T1.10.10.10.6.2" style="color:#00008C;background-color:#FFFFFF;border-color: #00008C;">isUse</span>
</td>
<td class="ltx_td ltx_align_left" id="S3.T1.7.7.7.2">If <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.T1.6.6.6.1.m1.1"><semantics id="S3.T1.6.6.6.1.m1.1a"><mi id="S3.T1.6.6.6.1.m1.1.1" xref="S3.T1.6.6.6.1.m1.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.T1.6.6.6.1.m1.1b"><ci id="S3.T1.6.6.6.1.m1.1.1.cmml" xref="S3.T1.6.6.6.1.m1.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.6.6.6.1.m1.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.6.6.6.1.m1.1d">bold_italic_A</annotation></semantics></math> accurately responded query <math alttext="\boldsymbol{q}" class="ltx_Math" display="inline" id="S3.T1.7.7.7.2.m2.1"><semantics id="S3.T1.7.7.7.2.m2.1a"><mi id="S3.T1.7.7.7.2.m2.1.1" xref="S3.T1.7.7.7.2.m2.1.1.cmml">𝒒</mi><annotation-xml encoding="MathML-Content" id="S3.T1.7.7.7.2.m2.1b"><ci id="S3.T1.7.7.7.2.m2.1.1.cmml" xref="S3.T1.7.7.7.2.m2.1.1">𝒒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.7.7.7.2.m2.1c">\boldsymbol{q}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.7.7.7.2.m2.1d">bold_italic_q</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left" id="S3.T1.9.9.9.4">
<math alttext="\boldsymbol{q}" class="ltx_Math" display="inline" id="S3.T1.8.8.8.3.m1.1"><semantics id="S3.T1.8.8.8.3.m1.1a"><mi id="S3.T1.8.8.8.3.m1.1.1" xref="S3.T1.8.8.8.3.m1.1.1.cmml">𝒒</mi><annotation-xml encoding="MathML-Content" id="S3.T1.8.8.8.3.m1.1b"><ci id="S3.T1.8.8.8.3.m1.1.1.cmml" xref="S3.T1.8.8.8.3.m1.1.1">𝒒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.8.8.8.3.m1.1c">\boldsymbol{q}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.8.8.8.3.m1.1d">bold_italic_q</annotation></semantics></math>, <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.T1.9.9.9.4.m2.1"><semantics id="S3.T1.9.9.9.4.m2.1a"><mi id="S3.T1.9.9.9.4.m2.1.1" xref="S3.T1.9.9.9.4.m2.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.T1.9.9.9.4.m2.1b"><ci id="S3.T1.9.9.9.4.m2.1.1.cmml" xref="S3.T1.9.9.9.4.m2.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.9.9.9.4.m2.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.9.9.9.4.m2.1d">bold_italic_A</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left" id="S3.T1.10.10.10.7">
<span class="ltx_text" id="S3.T1.10.10.10.7.1"></span><span class="ltx_text" id="S3.T1.10.10.10.7.2">
<span class="ltx_tabular ltx_align_middle" id="S3.T1.10.10.10.7.2.1">
<span class="ltx_tr" id="S3.T1.10.10.10.7.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.10.10.10.7.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.10.10.10.7.2.1.1.1.1">TRUE</span></span></span>
<span class="ltx_tr" id="S3.T1.10.10.10.7.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.10.10.10.7.2.1.2.1"><span class="ltx_text ltx_font_bold" id="S3.T1.10.10.10.7.2.1.2.1.1">FALSE</span></span></span>
</span></span><span class="ltx_text" id="S3.T1.10.10.10.7.3"></span></td>
<td class="ltx_td ltx_align_left" id="S3.T1.10.10.10.5">
<span class="ltx_text" id="S3.T1.10.10.10.5.2"></span><span class="ltx_text" id="S3.T1.10.10.10.5.1">
<span class="ltx_tabular ltx_align_middle" id="S3.T1.10.10.10.5.1.1">
<span class="ltx_tr" id="S3.T1.10.10.10.5.1.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.10.10.10.5.1.1.2.1">proceeded to <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.T1.10.10.10.5.1.1.2.1.1" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span></span></span>
<span class="ltx_tr" id="S3.T1.10.10.10.5.1.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.10.10.10.5.1.1.1.1">regenerated <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.T1.10.10.10.5.1.1.1.1.m1.1"><semantics id="S3.T1.10.10.10.5.1.1.1.1.m1.1a"><mi id="S3.T1.10.10.10.5.1.1.1.1.m1.1.1" xref="S3.T1.10.10.10.5.1.1.1.1.m1.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.T1.10.10.10.5.1.1.1.1.m1.1b"><ci id="S3.T1.10.10.10.5.1.1.1.1.m1.1.1.cmml" xref="S3.T1.10.10.10.5.1.1.1.1.m1.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.10.10.10.5.1.1.1.1.m1.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.10.10.10.5.1.1.1.1.m1.1d">bold_italic_A</annotation></semantics></math></span></span>
</span></span><span class="ltx_text" id="S3.T1.10.10.10.5.3"></span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.19.19.19">
<td class="ltx_td ltx_align_left ltx_border_b" id="S3.T1.19.19.19.10">
<span class="ltx_ERROR undefined" id="S3.T1.19.19.19.10.1">\hdashline</span><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.T1.19.19.19.10.2" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span>
</td>
<td class="ltx_td ltx_align_left ltx_border_b" id="S3.T1.12.12.12.2">If <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.T1.11.11.11.1.m1.1"><semantics id="S3.T1.11.11.11.1.m1.1a"><mi id="S3.T1.11.11.11.1.m1.1.1" xref="S3.T1.11.11.11.1.m1.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.T1.11.11.11.1.m1.1b"><ci id="S3.T1.11.11.11.1.m1.1.1.cmml" xref="S3.T1.11.11.11.1.m1.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.11.11.11.1.m1.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.11.11.11.1.m1.1d">bold_italic_A</annotation></semantics></math> supported by <math alttext="\boldsymbol{C}" class="ltx_Math" display="inline" id="S3.T1.12.12.12.2.m2.1"><semantics id="S3.T1.12.12.12.2.m2.1a"><mi id="S3.T1.12.12.12.2.m2.1.1" xref="S3.T1.12.12.12.2.m2.1.1.cmml">𝑪</mi><annotation-xml encoding="MathML-Content" id="S3.T1.12.12.12.2.m2.1b"><ci id="S3.T1.12.12.12.2.m2.1.1.cmml" xref="S3.T1.12.12.12.2.m2.1.1">𝑪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.12.12.12.2.m2.1c">\boldsymbol{C}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.12.12.12.2.m2.1d">bold_italic_C</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left ltx_border_b" id="S3.T1.15.15.15.5">
<math alttext="\boldsymbol{q}" class="ltx_Math" display="inline" id="S3.T1.13.13.13.3.m1.1"><semantics id="S3.T1.13.13.13.3.m1.1a"><mi id="S3.T1.13.13.13.3.m1.1.1" xref="S3.T1.13.13.13.3.m1.1.1.cmml">𝒒</mi><annotation-xml encoding="MathML-Content" id="S3.T1.13.13.13.3.m1.1b"><ci id="S3.T1.13.13.13.3.m1.1.1.cmml" xref="S3.T1.13.13.13.3.m1.1.1">𝒒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.13.13.13.3.m1.1c">\boldsymbol{q}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.13.13.13.3.m1.1d">bold_italic_q</annotation></semantics></math>, <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.T1.14.14.14.4.m2.1"><semantics id="S3.T1.14.14.14.4.m2.1a"><mi id="S3.T1.14.14.14.4.m2.1.1" xref="S3.T1.14.14.14.4.m2.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.T1.14.14.14.4.m2.1b"><ci id="S3.T1.14.14.14.4.m2.1.1.cmml" xref="S3.T1.14.14.14.4.m2.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.14.14.14.4.m2.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.14.14.14.4.m2.1d">bold_italic_A</annotation></semantics></math>, <math alttext="\boldsymbol{C}" class="ltx_Math" display="inline" id="S3.T1.15.15.15.5.m3.1"><semantics id="S3.T1.15.15.15.5.m3.1a"><mi id="S3.T1.15.15.15.5.m3.1.1" xref="S3.T1.15.15.15.5.m3.1.1.cmml">𝑪</mi><annotation-xml encoding="MathML-Content" id="S3.T1.15.15.15.5.m3.1b"><ci id="S3.T1.15.15.15.5.m3.1.1.cmml" xref="S3.T1.15.15.15.5.m3.1.1">𝑪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.15.15.15.5.m3.1c">\boldsymbol{C}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.15.15.15.5.m3.1d">bold_italic_C</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_left ltx_border_b" id="S3.T1.19.19.19.11">
<span class="ltx_text" id="S3.T1.19.19.19.11.1"></span><span class="ltx_text" id="S3.T1.19.19.19.11.2">
<span class="ltx_tabular ltx_align_middle" id="S3.T1.19.19.19.11.2.1">
<span class="ltx_tr" id="S3.T1.19.19.19.11.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.19.19.19.11.2.1.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.19.19.19.11.2.1.1.1.1">TRUE</span></span></span>
<span class="ltx_tr" id="S3.T1.19.19.19.11.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.19.19.19.11.2.1.2.1"><span class="ltx_text ltx_font_bold" id="S3.T1.19.19.19.11.2.1.2.1.1">Partial</span></span></span>
<span class="ltx_tr" id="S3.T1.19.19.19.11.2.1.3">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.19.19.19.11.2.1.3.1"><span class="ltx_text ltx_font_bold" id="S3.T1.19.19.19.11.2.1.3.1.1">FALSE</span></span></span>
</span></span><span class="ltx_text" id="S3.T1.19.19.19.11.3"></span></td>
<td class="ltx_td ltx_align_left ltx_border_b" id="S3.T1.19.19.19.9">
<span class="ltx_text" id="S3.T1.19.19.19.9.5"></span><span class="ltx_text" id="S3.T1.19.19.19.9.4">
<span class="ltx_tabular ltx_align_middle" id="S3.T1.19.19.19.9.4.4">
<span class="ltx_tr" id="S3.T1.16.16.16.6.1.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.16.16.16.6.1.1.1.1">returned <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.T1.16.16.16.6.1.1.1.1.m1.1"><semantics id="S3.T1.16.16.16.6.1.1.1.1.m1.1a"><mi id="S3.T1.16.16.16.6.1.1.1.1.m1.1.1" xref="S3.T1.16.16.16.6.1.1.1.1.m1.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.T1.16.16.16.6.1.1.1.1.m1.1b"><ci id="S3.T1.16.16.16.6.1.1.1.1.m1.1.1.cmml" xref="S3.T1.16.16.16.6.1.1.1.1.m1.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.16.16.16.6.1.1.1.1.m1.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.16.16.16.6.1.1.1.1.m1.1d">bold_italic_A</annotation></semantics></math></span></span>
<span class="ltx_tr" id="S3.T1.17.17.17.7.2.2.2">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.17.17.17.7.2.2.2.1"><math alttext="\mathcal{F}\leftarrow\text{FALSE}" class="ltx_Math" display="inline" id="S3.T1.17.17.17.7.2.2.2.1.m1.1"><semantics id="S3.T1.17.17.17.7.2.2.2.1.m1.1a"><mrow id="S3.T1.17.17.17.7.2.2.2.1.m1.1.1" xref="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.2" xref="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.2.cmml">ℱ</mi><mo id="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.1" stretchy="false" xref="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.1.cmml">←</mo><mtext id="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.3" xref="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.3a.cmml">FALSE</mtext></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.17.17.17.7.2.2.2.1.m1.1b"><apply id="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.cmml" xref="S3.T1.17.17.17.7.2.2.2.1.m1.1.1"><ci id="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.1.cmml" xref="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.1">←</ci><ci id="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.2.cmml" xref="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.2">ℱ</ci><ci id="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.3a.cmml" xref="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.3"><mtext id="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.3.cmml" xref="S3.T1.17.17.17.7.2.2.2.1.m1.1.1.3">FALSE</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.17.17.17.7.2.2.2.1.m1.1c">\mathcal{F}\leftarrow\text{FALSE}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.17.17.17.7.2.2.2.1.m1.1d">caligraphic_F ← FALSE</annotation></semantics></math></span></span>
<span class="ltx_tr" id="S3.T1.19.19.19.9.4.4.4">
<span class="ltx_td ltx_nopad_r ltx_align_left" id="S3.T1.19.19.19.9.4.4.4.2"><math alttext="\mathcal{F}\leftarrow\text{FALSE}" class="ltx_Math" display="inline" id="S3.T1.18.18.18.8.3.3.3.1.m1.1"><semantics id="S3.T1.18.18.18.8.3.3.3.1.m1.1a"><mrow id="S3.T1.18.18.18.8.3.3.3.1.m1.1.1" xref="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.2" xref="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.2.cmml">ℱ</mi><mo id="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.1" stretchy="false" xref="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.1.cmml">←</mo><mtext id="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.3" xref="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.3a.cmml">FALSE</mtext></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.18.18.18.8.3.3.3.1.m1.1b"><apply id="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.cmml" xref="S3.T1.18.18.18.8.3.3.3.1.m1.1.1"><ci id="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.1.cmml" xref="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.1">←</ci><ci id="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.2.cmml" xref="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.2">ℱ</ci><ci id="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.3a.cmml" xref="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.3"><mtext id="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.3.cmml" xref="S3.T1.18.18.18.8.3.3.3.1.m1.1.1.3">FALSE</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.18.18.18.8.3.3.3.1.m1.1c">\mathcal{F}\leftarrow\text{FALSE}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.18.18.18.8.3.3.3.1.m1.1d">caligraphic_F ← FALSE</annotation></semantics></math>, clear <math alttext="\boldsymbol{C}" class="ltx_Math" display="inline" id="S3.T1.19.19.19.9.4.4.4.2.m2.1"><semantics id="S3.T1.19.19.19.9.4.4.4.2.m2.1a"><mi id="S3.T1.19.19.19.9.4.4.4.2.m2.1.1" xref="S3.T1.19.19.19.9.4.4.4.2.m2.1.1.cmml">𝑪</mi><annotation-xml encoding="MathML-Content" id="S3.T1.19.19.19.9.4.4.4.2.m2.1b"><ci id="S3.T1.19.19.19.9.4.4.4.2.m2.1.1.cmml" xref="S3.T1.19.19.19.9.4.4.4.2.m2.1.1">𝑪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.19.19.19.9.4.4.4.2.m2.1c">\boldsymbol{C}</annotation><annotation encoding="application/x-llamapun" id="S3.T1.19.19.19.9.4.4.4.2.m2.1d">bold_italic_C</annotation></semantics></math></span></span>
</span></span><span class="ltx_text" id="S3.T1.19.19.19.9.6"></span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>
Explanation of each verification, its definition, inputs, outputs and corresponding actions.
</figcaption>
</figure>
</section>
<section class="ltx_subsubsection" id="S3.SS4.SSS5">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.5 </span>Answer Verification</h4>
<div class="ltx_para" id="S3.SS4.SSS5.p1">
<p class="ltx_p" id="S3.SS4.SSS5.p1.16">In this stage, <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.SS4.SSS5.p1.16.1" style="color:#00008C;background-color:#FFFFFF;border-color: #00008C;">isUse</span> verification process (refer to Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S2.F2" title="Figure 2 ‣ 2.3 Adaptive Retrieval-Augmented Generation ‣ 2 Related Works ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> and Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.T1" title="Table 1 ‣ 3.4.4 Answer Generation ‣ 3.4 SAM-RAG ‣ 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>, second row), is introduced to determine whether the generated answer <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.1.m1.1"><semantics id="S3.SS4.SSS5.p1.1.m1.1a"><mi id="S3.SS4.SSS5.p1.1.m1.1.1" xref="S3.SS4.SSS5.p1.1.m1.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.1.m1.1b"><ci id="S3.SS4.SSS5.p1.1.m1.1.1.cmml" xref="S3.SS4.SSS5.p1.1.m1.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.1.m1.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.1.m1.1d">bold_italic_A</annotation></semantics></math> effectively addresses the query. If <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.SS4.SSS5.p1.16.2" style="color:#00008C;background-color:#FFFFFF;border-color: #00008C;">isUse</span><span class="ltx_text ltx_font_typewriter" id="S3.SS4.SSS5.p1.16.3">=True</span>, the next step will involve evaluating the support of <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.2.m2.1"><semantics id="S3.SS4.SSS5.p1.2.m2.1a"><mi id="S3.SS4.SSS5.p1.2.m2.1.1" xref="S3.SS4.SSS5.p1.2.m2.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.2.m2.1b"><ci id="S3.SS4.SSS5.p1.2.m2.1.1.cmml" xref="S3.SS4.SSS5.p1.2.m2.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.2.m2.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.2.m2.1d">bold_italic_A</annotation></semantics></math> using <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.SS4.SSS5.p1.16.4" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span> (refer to Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S2.F2" title="Figure 2 ‣ 2.3 Adaptive Retrieval-Augmented Generation ‣ 2 Related Works ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> and Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S3.T1" title="Table 1 ‣ 3.4.4 Answer Generation ‣ 3.4 SAM-RAG ‣ 3 Method ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">1</span></a>, third row); otherwise, <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.3.m3.1"><semantics id="S3.SS4.SSS5.p1.3.m3.1a"><mi id="S3.SS4.SSS5.p1.3.m3.1.1" xref="S3.SS4.SSS5.p1.3.m3.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.3.m3.1b"><ci id="S3.SS4.SSS5.p1.3.m3.1.1.cmml" xref="S3.SS4.SSS5.p1.3.m3.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.3.m3.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.3.m3.1d">bold_italic_A</annotation></semantics></math> is regenerated based on <math alttext="\boldsymbol{C}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.4.m4.1"><semantics id="S3.SS4.SSS5.p1.4.m4.1a"><mi id="S3.SS4.SSS5.p1.4.m4.1.1" xref="S3.SS4.SSS5.p1.4.m4.1.1.cmml">𝑪</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.4.m4.1b"><ci id="S3.SS4.SSS5.p1.4.m4.1.1.cmml" xref="S3.SS4.SSS5.p1.4.m4.1.1">𝑪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.4.m4.1c">\boldsymbol{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.4.m4.1d">bold_italic_C</annotation></semantics></math>. The purpose of <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.SS4.SSS5.p1.16.5" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span> is to confirm that <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.5.m5.1"><semantics id="S3.SS4.SSS5.p1.5.m5.1a"><mi id="S3.SS4.SSS5.p1.5.m5.1.1" xref="S3.SS4.SSS5.p1.5.m5.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.5.m5.1b"><ci id="S3.SS4.SSS5.p1.5.m5.1.1.cmml" xref="S3.SS4.SSS5.p1.5.m5.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.5.m5.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.5.m5.1d">bold_italic_A</annotation></semantics></math> is adequately supported by <math alttext="\boldsymbol{C}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.6.m6.1"><semantics id="S3.SS4.SSS5.p1.6.m6.1a"><mi id="S3.SS4.SSS5.p1.6.m6.1.1" xref="S3.SS4.SSS5.p1.6.m6.1.1.cmml">𝑪</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.6.m6.1b"><ci id="S3.SS4.SSS5.p1.6.m6.1.1.cmml" xref="S3.SS4.SSS5.p1.6.m6.1.1">𝑪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.6.m6.1c">\boldsymbol{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.6.m6.1d">bold_italic_C</annotation></semantics></math>, thereby preventing situations where <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.7.m7.1"><semantics id="S3.SS4.SSS5.p1.7.m7.1a"><mi id="S3.SS4.SSS5.p1.7.m7.1.1" xref="S3.SS4.SSS5.p1.7.m7.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.7.m7.1b"><ci id="S3.SS4.SSS5.p1.7.m7.1.1.cmml" xref="S3.SS4.SSS5.p1.7.m7.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.7.m7.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.7.m7.1d">bold_italic_A</annotation></semantics></math> lacks support from <math alttext="\boldsymbol{D}_{rel}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.8.m8.1"><semantics id="S3.SS4.SSS5.p1.8.m8.1a"><msub id="S3.SS4.SSS5.p1.8.m8.1.1" xref="S3.SS4.SSS5.p1.8.m8.1.1.cmml"><mi id="S3.SS4.SSS5.p1.8.m8.1.1.2" xref="S3.SS4.SSS5.p1.8.m8.1.1.2.cmml">𝑫</mi><mrow id="S3.SS4.SSS5.p1.8.m8.1.1.3" xref="S3.SS4.SSS5.p1.8.m8.1.1.3.cmml"><mi id="S3.SS4.SSS5.p1.8.m8.1.1.3.2" xref="S3.SS4.SSS5.p1.8.m8.1.1.3.2.cmml">r</mi><mo id="S3.SS4.SSS5.p1.8.m8.1.1.3.1" xref="S3.SS4.SSS5.p1.8.m8.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS5.p1.8.m8.1.1.3.3" xref="S3.SS4.SSS5.p1.8.m8.1.1.3.3.cmml">e</mi><mo id="S3.SS4.SSS5.p1.8.m8.1.1.3.1a" xref="S3.SS4.SSS5.p1.8.m8.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.SSS5.p1.8.m8.1.1.3.4" xref="S3.SS4.SSS5.p1.8.m8.1.1.3.4.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.8.m8.1b"><apply id="S3.SS4.SSS5.p1.8.m8.1.1.cmml" xref="S3.SS4.SSS5.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS4.SSS5.p1.8.m8.1.1.1.cmml" xref="S3.SS4.SSS5.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS4.SSS5.p1.8.m8.1.1.2.cmml" xref="S3.SS4.SSS5.p1.8.m8.1.1.2">𝑫</ci><apply id="S3.SS4.SSS5.p1.8.m8.1.1.3.cmml" xref="S3.SS4.SSS5.p1.8.m8.1.1.3"><times id="S3.SS4.SSS5.p1.8.m8.1.1.3.1.cmml" xref="S3.SS4.SSS5.p1.8.m8.1.1.3.1"></times><ci id="S3.SS4.SSS5.p1.8.m8.1.1.3.2.cmml" xref="S3.SS4.SSS5.p1.8.m8.1.1.3.2">𝑟</ci><ci id="S3.SS4.SSS5.p1.8.m8.1.1.3.3.cmml" xref="S3.SS4.SSS5.p1.8.m8.1.1.3.3">𝑒</ci><ci id="S3.SS4.SSS5.p1.8.m8.1.1.3.4.cmml" xref="S3.SS4.SSS5.p1.8.m8.1.1.3.4">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.8.m8.1c">\boldsymbol{D}_{rel}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.8.m8.1d">bold_italic_D start_POSTSUBSCRIPT italic_r italic_e italic_l end_POSTSUBSCRIPT</annotation></semantics></math>. If <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.SS4.SSS5.p1.16.6" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span><span class="ltx_text ltx_font_typewriter" id="S3.SS4.SSS5.p1.16.7">=True</span>, it is indicated that <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.9.m9.1"><semantics id="S3.SS4.SSS5.p1.9.m9.1a"><mi id="S3.SS4.SSS5.p1.9.m9.1.1" xref="S3.SS4.SSS5.p1.9.m9.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.9.m9.1b"><ci id="S3.SS4.SSS5.p1.9.m9.1.1.cmml" xref="S3.SS4.SSS5.p1.9.m9.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.9.m9.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.9.m9.1d">bold_italic_A</annotation></semantics></math> fulfills the task requirements, and <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.10.m10.1"><semantics id="S3.SS4.SSS5.p1.10.m10.1a"><mi id="S3.SS4.SSS5.p1.10.m10.1.1" xref="S3.SS4.SSS5.p1.10.m10.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.10.m10.1b"><ci id="S3.SS4.SSS5.p1.10.m10.1.1.cmml" xref="S3.SS4.SSS5.p1.10.m10.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.10.m10.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.10.m10.1d">bold_italic_A</annotation></semantics></math> is returned, concluding the retrieval process. If <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.SS4.SSS5.p1.16.8" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span><span class="ltx_text ltx_font_typewriter" id="S3.SS4.SSS5.p1.16.9">=False</span>, it signifies that <math alttext="\boldsymbol{A}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.11.m11.1"><semantics id="S3.SS4.SSS5.p1.11.m11.1a"><mi id="S3.SS4.SSS5.p1.11.m11.1.1" xref="S3.SS4.SSS5.p1.11.m11.1.1.cmml">𝑨</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.11.m11.1b"><ci id="S3.SS4.SSS5.p1.11.m11.1.1.cmml" xref="S3.SS4.SSS5.p1.11.m11.1.1">𝑨</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.11.m11.1c">\boldsymbol{A}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.11.m11.1d">bold_italic_A</annotation></semantics></math> is unsupported by <math alttext="\boldsymbol{C}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.12.m12.1"><semantics id="S3.SS4.SSS5.p1.12.m12.1a"><mi id="S3.SS4.SSS5.p1.12.m12.1.1" xref="S3.SS4.SSS5.p1.12.m12.1.1.cmml">𝑪</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.12.m12.1b"><ci id="S3.SS4.SSS5.p1.12.m12.1.1.cmml" xref="S3.SS4.SSS5.p1.12.m12.1.1">𝑪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.12.m12.1c">\boldsymbol{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.12.m12.1d">bold_italic_C</annotation></semantics></math>, prompting a reset of both <math alttext="\boldsymbol{C}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.13.m13.1"><semantics id="S3.SS4.SSS5.p1.13.m13.1a"><mi id="S3.SS4.SSS5.p1.13.m13.1.1" xref="S3.SS4.SSS5.p1.13.m13.1.1.cmml">𝑪</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.13.m13.1b"><ci id="S3.SS4.SSS5.p1.13.m13.1.1.cmml" xref="S3.SS4.SSS5.p1.13.m13.1.1">𝑪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.13.m13.1c">\boldsymbol{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.13.m13.1d">bold_italic_C</annotation></semantics></math> and <math alttext="\mathcal{F}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.14.m14.1"><semantics id="S3.SS4.SSS5.p1.14.m14.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS5.p1.14.m14.1.1" xref="S3.SS4.SSS5.p1.14.m14.1.1.cmml">ℱ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.14.m14.1b"><ci id="S3.SS4.SSS5.p1.14.m14.1.1.cmml" xref="S3.SS4.SSS5.p1.14.m14.1.1">ℱ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.14.m14.1c">\mathcal{F}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.14.m14.1d">caligraphic_F</annotation></semantics></math> to return to the first stage for further retrieval. If <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S3.SS4.SSS5.p1.16.10" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span><span class="ltx_text ltx_font_typewriter" id="S3.SS4.SSS5.p1.16.11">=Partial</span>, it suggests incomplete support information, leading to the retention of <math alttext="\boldsymbol{C}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.15.m15.1"><semantics id="S3.SS4.SSS5.p1.15.m15.1a"><mi id="S3.SS4.SSS5.p1.15.m15.1.1" xref="S3.SS4.SSS5.p1.15.m15.1.1.cmml">𝑪</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.15.m15.1b"><ci id="S3.SS4.SSS5.p1.15.m15.1.1.cmml" xref="S3.SS4.SSS5.p1.15.m15.1.1">𝑪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.15.m15.1c">\boldsymbol{C}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.15.m15.1d">bold_italic_C</annotation></semantics></math> while resetting <math alttext="\mathcal{F}" class="ltx_Math" display="inline" id="S3.SS4.SSS5.p1.16.m16.1"><semantics id="S3.SS4.SSS5.p1.16.m16.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.SSS5.p1.16.m16.1.1" xref="S3.SS4.SSS5.p1.16.m16.1.1.cmml">ℱ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.SSS5.p1.16.m16.1b"><ci id="S3.SS4.SSS5.p1.16.m16.1.1.cmml" xref="S3.SS4.SSS5.p1.16.m16.1.1">ℱ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.SSS5.p1.16.m16.1c">\mathcal{F}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.SSS5.p1.16.m16.1d">caligraphic_F</annotation></semantics></math>, and returning to the first stage to continue the retrieval. The objective of this stage is to ensure that the final output aligns with task requirements and minimizes the risk of potential hallucinations.</p>
</div>
<div class="ltx_para" id="S3.SS4.SSS5.p2">
<p class="ltx_p" id="S3.SS4.SSS5.p2.1">Through the aforementioned design, the SAM-RAG method ensures effective retrieval while minimizing the risk of generating misleading answers, thereby safeguarding the quality of the final output. To enhance the model’s stability and the reliability of the results, we incorporate the Chain-of-Thought method <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib38" title="">2022</a>)</cite> into each verification process and the answer generation step. Furthermore, we can implement the self-consistency strategy <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib36" title="">2023</a>)</cite> to further bolster robustness.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Dataset</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">In this study, the MultimodalQA dataset <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib33" title="">Talmor et al., </a>)</cite> is used as a benchmark to evaluate the performance of the SAM-RAG framework. This dataset comprises multimodal question-answering inputs, including texts, images, and tables. To facilitate a fair comparison with the leading multimodal RAG model, MuRAG <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib3" title="">2022</a>)</cite>, the experiments focus exclusively on the TextQ and ImageQ categories of questions within the MultimodalQA dataset.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Metrics</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">F1 score and exact match (<span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.1">EM</span>) metrics <cite class="ltx_cite ltx_citemacro_citep">(Rajpurkar et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib31" title="">2016</a>)</cite> are employed to evaluate the quality of the generated answers. Additionally, two metrics are used to evaluate retrieval performance: Recall@N (as defined in Equation <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.E2" title="In 4.2 Metrics ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>) and a newly introduced metric, the average retrieval number (<span class="ltx_text ltx_font_bold" id="S4.SS2.p1.1.2">ARN</span>), which measures the average number of documents retrieved to generate the final answer, providing a more nuanced assessment of retrieval efficiency in SAM-RAG.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<table class="ltx_equation ltx_eqn_table" id="S4.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{recall@N}=\begin{cases}1,&amp;\text{if }\boldsymbol{D}_{pos}\subseteq%
\mathcal{R}_{q_{i}}(\boldsymbol{D})\\
0,&amp;\text{otherwise}\end{cases}" class="ltx_Math" display="block" id="S4.E2.m1.4"><semantics id="S4.E2.m1.4a"><mrow id="S4.E2.m1.4.5" xref="S4.E2.m1.4.5.cmml"><mtext id="S4.E2.m1.4.5.2" xref="S4.E2.m1.4.5.2a.cmml">recall@N</mtext><mo id="S4.E2.m1.4.5.1" xref="S4.E2.m1.4.5.1.cmml">=</mo><mrow id="S4.E2.m1.4.4" xref="S4.E2.m1.4.5.3.1.cmml"><mo id="S4.E2.m1.4.4.5" xref="S4.E2.m1.4.5.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" id="S4.E2.m1.4.4.4" rowspacing="0pt" xref="S4.E2.m1.4.5.3.1.cmml"><mtr id="S4.E2.m1.4.4.4a" xref="S4.E2.m1.4.5.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S4.E2.m1.4.4.4b" xref="S4.E2.m1.4.5.3.1.cmml"><mrow id="S4.E2.m1.1.1.1.1.1.1.3" xref="S4.E2.m1.4.5.3.1.cmml"><mn id="S4.E2.m1.1.1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.1.1.1.cmml">1</mn><mo id="S4.E2.m1.1.1.1.1.1.1.3.1" xref="S4.E2.m1.4.5.3.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E2.m1.4.4.4c" xref="S4.E2.m1.4.5.3.1.cmml"><mrow id="S4.E2.m1.2.2.2.2.2.1" xref="S4.E2.m1.2.2.2.2.2.1.cmml"><mrow id="S4.E2.m1.2.2.2.2.2.1.3" xref="S4.E2.m1.2.2.2.2.2.1.3.cmml"><mtext id="S4.E2.m1.2.2.2.2.2.1.3.2" xref="S4.E2.m1.2.2.2.2.2.1.3.2a.cmml">if </mtext><mo id="S4.E2.m1.2.2.2.2.2.1.3.1" xref="S4.E2.m1.2.2.2.2.2.1.3.1.cmml">⁢</mo><msub id="S4.E2.m1.2.2.2.2.2.1.3.3" xref="S4.E2.m1.2.2.2.2.2.1.3.3.cmml"><mi id="S4.E2.m1.2.2.2.2.2.1.3.3.2" xref="S4.E2.m1.2.2.2.2.2.1.3.3.2.cmml">𝑫</mi><mrow id="S4.E2.m1.2.2.2.2.2.1.3.3.3" xref="S4.E2.m1.2.2.2.2.2.1.3.3.3.cmml"><mi id="S4.E2.m1.2.2.2.2.2.1.3.3.3.2" xref="S4.E2.m1.2.2.2.2.2.1.3.3.3.2.cmml">p</mi><mo id="S4.E2.m1.2.2.2.2.2.1.3.3.3.1" xref="S4.E2.m1.2.2.2.2.2.1.3.3.3.1.cmml">⁢</mo><mi id="S4.E2.m1.2.2.2.2.2.1.3.3.3.3" xref="S4.E2.m1.2.2.2.2.2.1.3.3.3.3.cmml">o</mi><mo id="S4.E2.m1.2.2.2.2.2.1.3.3.3.1a" xref="S4.E2.m1.2.2.2.2.2.1.3.3.3.1.cmml">⁢</mo><mi id="S4.E2.m1.2.2.2.2.2.1.3.3.3.4" xref="S4.E2.m1.2.2.2.2.2.1.3.3.3.4.cmml">s</mi></mrow></msub></mrow><mo id="S4.E2.m1.2.2.2.2.2.1.2" xref="S4.E2.m1.2.2.2.2.2.1.2.cmml">⊆</mo><mrow id="S4.E2.m1.2.2.2.2.2.1.4" xref="S4.E2.m1.2.2.2.2.2.1.4.cmml"><msub id="S4.E2.m1.2.2.2.2.2.1.4.2" xref="S4.E2.m1.2.2.2.2.2.1.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E2.m1.2.2.2.2.2.1.4.2.2" xref="S4.E2.m1.2.2.2.2.2.1.4.2.2.cmml">ℛ</mi><msub id="S4.E2.m1.2.2.2.2.2.1.4.2.3" xref="S4.E2.m1.2.2.2.2.2.1.4.2.3.cmml"><mi id="S4.E2.m1.2.2.2.2.2.1.4.2.3.2" xref="S4.E2.m1.2.2.2.2.2.1.4.2.3.2.cmml">q</mi><mi id="S4.E2.m1.2.2.2.2.2.1.4.2.3.3" xref="S4.E2.m1.2.2.2.2.2.1.4.2.3.3.cmml">i</mi></msub></msub><mo id="S4.E2.m1.2.2.2.2.2.1.4.1" xref="S4.E2.m1.2.2.2.2.2.1.4.1.cmml">⁢</mo><mrow id="S4.E2.m1.2.2.2.2.2.1.4.3.2" xref="S4.E2.m1.2.2.2.2.2.1.4.cmml"><mo id="S4.E2.m1.2.2.2.2.2.1.4.3.2.1" stretchy="false" xref="S4.E2.m1.2.2.2.2.2.1.4.cmml">(</mo><mi id="S4.E2.m1.2.2.2.2.2.1.1" xref="S4.E2.m1.2.2.2.2.2.1.1.cmml">𝑫</mi><mo id="S4.E2.m1.2.2.2.2.2.1.4.3.2.2" stretchy="false" xref="S4.E2.m1.2.2.2.2.2.1.4.cmml">)</mo></mrow></mrow></mrow></mtd></mtr><mtr id="S4.E2.m1.4.4.4d" xref="S4.E2.m1.4.5.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S4.E2.m1.4.4.4e" xref="S4.E2.m1.4.5.3.1.cmml"><mrow id="S4.E2.m1.3.3.3.3.1.1.3" xref="S4.E2.m1.4.5.3.1.cmml"><mn id="S4.E2.m1.3.3.3.3.1.1.1" xref="S4.E2.m1.3.3.3.3.1.1.1.cmml">0</mn><mo id="S4.E2.m1.3.3.3.3.1.1.3.1" xref="S4.E2.m1.4.5.3.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E2.m1.4.4.4f" xref="S4.E2.m1.4.5.3.1.cmml"><mtext id="S4.E2.m1.4.4.4.4.2.1" xref="S4.E2.m1.4.4.4.4.2.1a.cmml">otherwise</mtext></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E2.m1.4b"><apply id="S4.E2.m1.4.5.cmml" xref="S4.E2.m1.4.5"><eq id="S4.E2.m1.4.5.1.cmml" xref="S4.E2.m1.4.5.1"></eq><ci id="S4.E2.m1.4.5.2a.cmml" xref="S4.E2.m1.4.5.2"><mtext id="S4.E2.m1.4.5.2.cmml" xref="S4.E2.m1.4.5.2">recall@N</mtext></ci><apply id="S4.E2.m1.4.5.3.1.cmml" xref="S4.E2.m1.4.4"><csymbol cd="latexml" id="S4.E2.m1.4.5.3.1.1.cmml" xref="S4.E2.m1.4.4.5">cases</csymbol><cn id="S4.E2.m1.1.1.1.1.1.1.1.cmml" type="integer" xref="S4.E2.m1.1.1.1.1.1.1.1">1</cn><apply id="S4.E2.m1.2.2.2.2.2.1.cmml" xref="S4.E2.m1.2.2.2.2.2.1"><subset id="S4.E2.m1.2.2.2.2.2.1.2.cmml" xref="S4.E2.m1.2.2.2.2.2.1.2"></subset><apply id="S4.E2.m1.2.2.2.2.2.1.3.cmml" xref="S4.E2.m1.2.2.2.2.2.1.3"><times id="S4.E2.m1.2.2.2.2.2.1.3.1.cmml" xref="S4.E2.m1.2.2.2.2.2.1.3.1"></times><ci id="S4.E2.m1.2.2.2.2.2.1.3.2a.cmml" xref="S4.E2.m1.2.2.2.2.2.1.3.2"><mtext id="S4.E2.m1.2.2.2.2.2.1.3.2.cmml" xref="S4.E2.m1.2.2.2.2.2.1.3.2">if </mtext></ci><apply id="S4.E2.m1.2.2.2.2.2.1.3.3.cmml" xref="S4.E2.m1.2.2.2.2.2.1.3.3"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.2.2.2.1.3.3.1.cmml" xref="S4.E2.m1.2.2.2.2.2.1.3.3">subscript</csymbol><ci id="S4.E2.m1.2.2.2.2.2.1.3.3.2.cmml" xref="S4.E2.m1.2.2.2.2.2.1.3.3.2">𝑫</ci><apply id="S4.E2.m1.2.2.2.2.2.1.3.3.3.cmml" xref="S4.E2.m1.2.2.2.2.2.1.3.3.3"><times id="S4.E2.m1.2.2.2.2.2.1.3.3.3.1.cmml" xref="S4.E2.m1.2.2.2.2.2.1.3.3.3.1"></times><ci id="S4.E2.m1.2.2.2.2.2.1.3.3.3.2.cmml" xref="S4.E2.m1.2.2.2.2.2.1.3.3.3.2">𝑝</ci><ci id="S4.E2.m1.2.2.2.2.2.1.3.3.3.3.cmml" xref="S4.E2.m1.2.2.2.2.2.1.3.3.3.3">𝑜</ci><ci id="S4.E2.m1.2.2.2.2.2.1.3.3.3.4.cmml" xref="S4.E2.m1.2.2.2.2.2.1.3.3.3.4">𝑠</ci></apply></apply></apply><apply id="S4.E2.m1.2.2.2.2.2.1.4.cmml" xref="S4.E2.m1.2.2.2.2.2.1.4"><times id="S4.E2.m1.2.2.2.2.2.1.4.1.cmml" xref="S4.E2.m1.2.2.2.2.2.1.4.1"></times><apply id="S4.E2.m1.2.2.2.2.2.1.4.2.cmml" xref="S4.E2.m1.2.2.2.2.2.1.4.2"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.2.2.2.1.4.2.1.cmml" xref="S4.E2.m1.2.2.2.2.2.1.4.2">subscript</csymbol><ci id="S4.E2.m1.2.2.2.2.2.1.4.2.2.cmml" xref="S4.E2.m1.2.2.2.2.2.1.4.2.2">ℛ</ci><apply id="S4.E2.m1.2.2.2.2.2.1.4.2.3.cmml" xref="S4.E2.m1.2.2.2.2.2.1.4.2.3"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.2.2.2.1.4.2.3.1.cmml" xref="S4.E2.m1.2.2.2.2.2.1.4.2.3">subscript</csymbol><ci id="S4.E2.m1.2.2.2.2.2.1.4.2.3.2.cmml" xref="S4.E2.m1.2.2.2.2.2.1.4.2.3.2">𝑞</ci><ci id="S4.E2.m1.2.2.2.2.2.1.4.2.3.3.cmml" xref="S4.E2.m1.2.2.2.2.2.1.4.2.3.3">𝑖</ci></apply></apply><ci id="S4.E2.m1.2.2.2.2.2.1.1.cmml" xref="S4.E2.m1.2.2.2.2.2.1.1">𝑫</ci></apply></apply><cn id="S4.E2.m1.3.3.3.3.1.1.1.cmml" type="integer" xref="S4.E2.m1.3.3.3.3.1.1.1">0</cn><ci id="S4.E2.m1.4.4.4.4.2.1a.cmml" xref="S4.E2.m1.4.4.4.4.2.1"><mtext id="S4.E2.m1.4.4.4.4.2.1.cmml" xref="S4.E2.m1.4.4.4.4.2.1">otherwise</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E2.m1.4c">\text{recall@N}=\begin{cases}1,&amp;\text{if }\boldsymbol{D}_{pos}\subseteq%
\mathcal{R}_{q_{i}}(\boldsymbol{D})\\
0,&amp;\text{otherwise}\end{cases}</annotation><annotation encoding="application/x-llamapun" id="S4.E2.m1.4d">recall@N = { start_ROW start_CELL 1 , end_CELL start_CELL if bold_italic_D start_POSTSUBSCRIPT italic_p italic_o italic_s end_POSTSUBSCRIPT ⊆ caligraphic_R start_POSTSUBSCRIPT italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( bold_italic_D ) end_CELL end_ROW start_ROW start_CELL 0 , end_CELL start_CELL otherwise end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Experimental Settings</h3>
<figure class="ltx_table" id="S4.T2">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_4">
<table class="ltx_tabular ltx_centering ltx_figure_panel ltx_align_middle" id="S4.T2.18">
<tr class="ltx_tr" id="S4.T2.18.19">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.18.19.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.18.19.1.1">Evaluation</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.18.20">
<td class="ltx_td ltx_align_left" id="S4.T2.18.20.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.18.20.1.1">Metrics</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.18.21">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.18.21.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.18.21.1.1">MuRAG</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.2.2.2.2">RAG(<math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.T2.1.1.1.1.m1.1"><semantics id="S4.T2.1.1.1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.T2.1.1.1.1.m1.1.1" xref="S4.T2.1.1.1.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.1.m1.1b"><ci id="S4.T2.1.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.1.m1.1d">caligraphic_R</annotation></semantics></math> + <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.T2.2.2.2.2.m2.1"><semantics id="S4.T2.2.2.2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.T2.2.2.2.2.m2.1.1" xref="S4.T2.2.2.2.2.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.2.m2.1b"><ci id="S4.T2.2.2.2.2.m2.1.1.cmml" xref="S4.T2.2.2.2.2.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.2.m2.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.2.2.2.m2.1d">caligraphic_M</annotation></semantics></math>)</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.4">
<td class="ltx_td ltx_align_left" id="S4.T2.4.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.4.4.2.2">RAG(<math alttext="\mathcal{R}^{*}" class="ltx_Math" display="inline" id="S4.T2.3.3.1.1.m1.1"><semantics id="S4.T2.3.3.1.1.m1.1a"><msup id="S4.T2.3.3.1.1.m1.1.1" xref="S4.T2.3.3.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.3.3.1.1.m1.1.1.2" xref="S4.T2.3.3.1.1.m1.1.1.2.cmml">ℛ</mi><mo id="S4.T2.3.3.1.1.m1.1.1.3" xref="S4.T2.3.3.1.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.1.1.m1.1b"><apply id="S4.T2.3.3.1.1.m1.1.1.cmml" xref="S4.T2.3.3.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.3.3.1.1.m1.1.1.1.cmml" xref="S4.T2.3.3.1.1.m1.1.1">superscript</csymbol><ci id="S4.T2.3.3.1.1.m1.1.1.2.cmml" xref="S4.T2.3.3.1.1.m1.1.1.2">ℛ</ci><times id="S4.T2.3.3.1.1.m1.1.1.3.cmml" xref="S4.T2.3.3.1.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.1.1.m1.1c">\mathcal{R}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.3.1.1.m1.1d">caligraphic_R start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> + <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.T2.4.4.2.2.m2.1"><semantics id="S4.T2.4.4.2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.T2.4.4.2.2.m2.1.1" xref="S4.T2.4.4.2.2.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.2.2.m2.1b"><ci id="S4.T2.4.4.2.2.m2.1.1.cmml" xref="S4.T2.4.4.2.2.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.2.2.m2.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.4.2.2.m2.1d">caligraphic_M</annotation></semantics></math>)</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.6">
<td class="ltx_td ltx_align_left" id="S4.T2.6.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.6.6.2.2">RAG(<math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.T2.5.5.1.1.m1.1"><semantics id="S4.T2.5.5.1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.T2.5.5.1.1.m1.1.1" xref="S4.T2.5.5.1.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.1.1.m1.1b"><ci id="S4.T2.5.5.1.1.m1.1.1.cmml" xref="S4.T2.5.5.1.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.1.1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.5.5.1.1.m1.1d">caligraphic_R</annotation></semantics></math> + <math alttext="\mathcal{M}^{*}" class="ltx_Math" display="inline" id="S4.T2.6.6.2.2.m2.1"><semantics id="S4.T2.6.6.2.2.m2.1a"><msup id="S4.T2.6.6.2.2.m2.1.1" xref="S4.T2.6.6.2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.6.6.2.2.m2.1.1.2" xref="S4.T2.6.6.2.2.m2.1.1.2.cmml">ℳ</mi><mo id="S4.T2.6.6.2.2.m2.1.1.3" xref="S4.T2.6.6.2.2.m2.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.2.2.m2.1b"><apply id="S4.T2.6.6.2.2.m2.1.1.cmml" xref="S4.T2.6.6.2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.T2.6.6.2.2.m2.1.1.1.cmml" xref="S4.T2.6.6.2.2.m2.1.1">superscript</csymbol><ci id="S4.T2.6.6.2.2.m2.1.1.2.cmml" xref="S4.T2.6.6.2.2.m2.1.1.2">ℳ</ci><times id="S4.T2.6.6.2.2.m2.1.1.3.cmml" xref="S4.T2.6.6.2.2.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.2.2.m2.1c">\mathcal{M}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.6.6.2.2.m2.1d">caligraphic_M start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math>)</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.8">
<td class="ltx_td ltx_align_left" id="S4.T2.8.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.2.2">RAG(<math alttext="\mathcal{R}^{*}" class="ltx_Math" display="inline" id="S4.T2.7.7.1.1.m1.1"><semantics id="S4.T2.7.7.1.1.m1.1a"><msup id="S4.T2.7.7.1.1.m1.1.1" xref="S4.T2.7.7.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.7.7.1.1.m1.1.1.2" xref="S4.T2.7.7.1.1.m1.1.1.2.cmml">ℛ</mi><mo id="S4.T2.7.7.1.1.m1.1.1.3" xref="S4.T2.7.7.1.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T2.7.7.1.1.m1.1b"><apply id="S4.T2.7.7.1.1.m1.1.1.cmml" xref="S4.T2.7.7.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.7.7.1.1.m1.1.1.1.cmml" xref="S4.T2.7.7.1.1.m1.1.1">superscript</csymbol><ci id="S4.T2.7.7.1.1.m1.1.1.2.cmml" xref="S4.T2.7.7.1.1.m1.1.1.2">ℛ</ci><times id="S4.T2.7.7.1.1.m1.1.1.3.cmml" xref="S4.T2.7.7.1.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.7.7.1.1.m1.1c">\mathcal{R}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.7.7.1.1.m1.1d">caligraphic_R start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> + <math alttext="\mathcal{M}^{*}" class="ltx_Math" display="inline" id="S4.T2.8.8.2.2.m2.1"><semantics id="S4.T2.8.8.2.2.m2.1a"><msup id="S4.T2.8.8.2.2.m2.1.1" xref="S4.T2.8.8.2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.8.8.2.2.m2.1.1.2" xref="S4.T2.8.8.2.2.m2.1.1.2.cmml">ℳ</mi><mo id="S4.T2.8.8.2.2.m2.1.1.3" xref="S4.T2.8.8.2.2.m2.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T2.8.8.2.2.m2.1b"><apply id="S4.T2.8.8.2.2.m2.1.1.cmml" xref="S4.T2.8.8.2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.T2.8.8.2.2.m2.1.1.1.cmml" xref="S4.T2.8.8.2.2.m2.1.1">superscript</csymbol><ci id="S4.T2.8.8.2.2.m2.1.1.2.cmml" xref="S4.T2.8.8.2.2.m2.1.1.2">ℳ</ci><times id="S4.T2.8.8.2.2.m2.1.1.3.cmml" xref="S4.T2.8.8.2.2.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.8.8.2.2.m2.1c">\mathcal{M}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.8.8.2.2.m2.1d">caligraphic_M start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math>)</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.10">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.10.10.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.10.10.2.2">SAM-RAG(<math alttext="\mathcal{R}^{*}" class="ltx_Math" display="inline" id="S4.T2.9.9.1.1.m1.1"><semantics id="S4.T2.9.9.1.1.m1.1a"><msup id="S4.T2.9.9.1.1.m1.1.1" xref="S4.T2.9.9.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.9.9.1.1.m1.1.1.2" xref="S4.T2.9.9.1.1.m1.1.1.2.cmml">ℛ</mi><mo id="S4.T2.9.9.1.1.m1.1.1.3" xref="S4.T2.9.9.1.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T2.9.9.1.1.m1.1b"><apply id="S4.T2.9.9.1.1.m1.1.1.cmml" xref="S4.T2.9.9.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.9.9.1.1.m1.1.1.1.cmml" xref="S4.T2.9.9.1.1.m1.1.1">superscript</csymbol><ci id="S4.T2.9.9.1.1.m1.1.1.2.cmml" xref="S4.T2.9.9.1.1.m1.1.1.2">ℛ</ci><times id="S4.T2.9.9.1.1.m1.1.1.3.cmml" xref="S4.T2.9.9.1.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.9.9.1.1.m1.1c">\mathcal{R}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.9.9.1.1.m1.1d">caligraphic_R start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> + <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.T2.10.10.2.2.m2.1"><semantics id="S4.T2.10.10.2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.T2.10.10.2.2.m2.1.1" xref="S4.T2.10.10.2.2.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.T2.10.10.2.2.m2.1b"><ci id="S4.T2.10.10.2.2.m2.1.1.cmml" xref="S4.T2.10.10.2.2.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.10.10.2.2.m2.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.10.10.2.2.m2.1d">caligraphic_M</annotation></semantics></math>)</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.12.12">
<td class="ltx_td ltx_align_left" id="S4.T2.12.12.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.12.12.2.2">SAM-RAG(<math alttext="\mathcal{R}^{*}" class="ltx_Math" display="inline" id="S4.T2.11.11.1.1.m1.1"><semantics id="S4.T2.11.11.1.1.m1.1a"><msup id="S4.T2.11.11.1.1.m1.1.1" xref="S4.T2.11.11.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.11.11.1.1.m1.1.1.2" xref="S4.T2.11.11.1.1.m1.1.1.2.cmml">ℛ</mi><mo id="S4.T2.11.11.1.1.m1.1.1.3" xref="S4.T2.11.11.1.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T2.11.11.1.1.m1.1b"><apply id="S4.T2.11.11.1.1.m1.1.1.cmml" xref="S4.T2.11.11.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.11.11.1.1.m1.1.1.1.cmml" xref="S4.T2.11.11.1.1.m1.1.1">superscript</csymbol><ci id="S4.T2.11.11.1.1.m1.1.1.2.cmml" xref="S4.T2.11.11.1.1.m1.1.1.2">ℛ</ci><times id="S4.T2.11.11.1.1.m1.1.1.3.cmml" xref="S4.T2.11.11.1.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.11.11.1.1.m1.1c">\mathcal{R}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.11.11.1.1.m1.1d">caligraphic_R start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> + <math alttext="\mathcal{M}^{*}" class="ltx_Math" display="inline" id="S4.T2.12.12.2.2.m2.1"><semantics id="S4.T2.12.12.2.2.m2.1a"><msup id="S4.T2.12.12.2.2.m2.1.1" xref="S4.T2.12.12.2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.12.12.2.2.m2.1.1.2" xref="S4.T2.12.12.2.2.m2.1.1.2.cmml">ℳ</mi><mo id="S4.T2.12.12.2.2.m2.1.1.3" xref="S4.T2.12.12.2.2.m2.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T2.12.12.2.2.m2.1b"><apply id="S4.T2.12.12.2.2.m2.1.1.cmml" xref="S4.T2.12.12.2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.T2.12.12.2.2.m2.1.1.1.cmml" xref="S4.T2.12.12.2.2.m2.1.1">superscript</csymbol><ci id="S4.T2.12.12.2.2.m2.1.1.2.cmml" xref="S4.T2.12.12.2.2.m2.1.1.2">ℳ</ci><times id="S4.T2.12.12.2.2.m2.1.1.3.cmml" xref="S4.T2.12.12.2.2.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.12.12.2.2.m2.1c">\mathcal{M}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.12.12.2.2.m2.1d">caligraphic_M start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math>)</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.14.14">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.14.14.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.14.14.2.2">RAG(<math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.T2.13.13.1.1.m1.1"><semantics id="S4.T2.13.13.1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.T2.13.13.1.1.m1.1.1" xref="S4.T2.13.13.1.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.T2.13.13.1.1.m1.1b"><ci id="S4.T2.13.13.1.1.m1.1.1.cmml" xref="S4.T2.13.13.1.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.13.13.1.1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.13.13.1.1.m1.1d">caligraphic_R</annotation></semantics></math> + <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.T2.14.14.2.2.m2.1"><semantics id="S4.T2.14.14.2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.T2.14.14.2.2.m2.1.1" xref="S4.T2.14.14.2.2.m2.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.T2.14.14.2.2.m2.1b"><ci id="S4.T2.14.14.2.2.m2.1.1.cmml" xref="S4.T2.14.14.2.2.m2.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.14.14.2.2.m2.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.14.14.2.2.m2.1d">caligraphic_G</annotation></semantics></math>)</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.16.16">
<td class="ltx_td ltx_align_left" id="S4.T2.16.16.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.16.16.2.2">RAG(<math alttext="\mathcal{R}^{*}" class="ltx_Math" display="inline" id="S4.T2.15.15.1.1.m1.1"><semantics id="S4.T2.15.15.1.1.m1.1a"><msup id="S4.T2.15.15.1.1.m1.1.1" xref="S4.T2.15.15.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.15.15.1.1.m1.1.1.2" xref="S4.T2.15.15.1.1.m1.1.1.2.cmml">ℛ</mi><mo id="S4.T2.15.15.1.1.m1.1.1.3" xref="S4.T2.15.15.1.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T2.15.15.1.1.m1.1b"><apply id="S4.T2.15.15.1.1.m1.1.1.cmml" xref="S4.T2.15.15.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.15.15.1.1.m1.1.1.1.cmml" xref="S4.T2.15.15.1.1.m1.1.1">superscript</csymbol><ci id="S4.T2.15.15.1.1.m1.1.1.2.cmml" xref="S4.T2.15.15.1.1.m1.1.1.2">ℛ</ci><times id="S4.T2.15.15.1.1.m1.1.1.3.cmml" xref="S4.T2.15.15.1.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.15.15.1.1.m1.1c">\mathcal{R}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.15.15.1.1.m1.1d">caligraphic_R start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> + <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.T2.16.16.2.2.m2.1"><semantics id="S4.T2.16.16.2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.T2.16.16.2.2.m2.1.1" xref="S4.T2.16.16.2.2.m2.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.T2.16.16.2.2.m2.1b"><ci id="S4.T2.16.16.2.2.m2.1.1.cmml" xref="S4.T2.16.16.2.2.m2.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.16.16.2.2.m2.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.16.16.2.2.m2.1d">caligraphic_G</annotation></semantics></math>)</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.18.18">
<td class="ltx_td ltx_align_left ltx_border_b" id="S4.T2.18.18.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.18.18.2.2">SAM-RAG(<math alttext="\mathcal{R}^{*}" class="ltx_Math" display="inline" id="S4.T2.17.17.1.1.m1.1"><semantics id="S4.T2.17.17.1.1.m1.1a"><msup id="S4.T2.17.17.1.1.m1.1.1" xref="S4.T2.17.17.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.17.17.1.1.m1.1.1.2" xref="S4.T2.17.17.1.1.m1.1.1.2.cmml">ℛ</mi><mo id="S4.T2.17.17.1.1.m1.1.1.3" xref="S4.T2.17.17.1.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T2.17.17.1.1.m1.1b"><apply id="S4.T2.17.17.1.1.m1.1.1.cmml" xref="S4.T2.17.17.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.17.17.1.1.m1.1.1.1.cmml" xref="S4.T2.17.17.1.1.m1.1.1">superscript</csymbol><ci id="S4.T2.17.17.1.1.m1.1.1.2.cmml" xref="S4.T2.17.17.1.1.m1.1.1.2">ℛ</ci><times id="S4.T2.17.17.1.1.m1.1.1.3.cmml" xref="S4.T2.17.17.1.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.17.17.1.1.m1.1c">\mathcal{R}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.17.17.1.1.m1.1d">caligraphic_R start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> + <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.T2.18.18.2.2.m2.1"><semantics id="S4.T2.18.18.2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.T2.18.18.2.2.m2.1.1" xref="S4.T2.18.18.2.2.m2.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.T2.18.18.2.2.m2.1b"><ci id="S4.T2.18.18.2.2.m2.1.1.cmml" xref="S4.T2.18.18.2.2.m2.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.18.18.2.2.m2.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.18.18.2.2.m2.1d">caligraphic_G</annotation></semantics></math>)</span></td>
</tr>
</table>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<table class="ltx_tabular ltx_centering ltx_figure_panel ltx_align_middle" id="S4.T2.29">
<tr class="ltx_tr" id="S4.T2.29.1">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="2" id="S4.T2.29.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.29.1.1.1">Text</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.29.2">
<td class="ltx_td ltx_align_center" id="S4.T2.29.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.29.2.1.1">F1</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.29.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.29.2.2.1">EM</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.29.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.29.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">56.10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.29.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">49.70</td>
</tr>
<tr class="ltx_tr" id="S4.T2.29.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.29.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">35.47</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.29.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">32.44</td>
</tr>
<tr class="ltx_tr" id="S4.T2.29.5">
<td class="ltx_td ltx_align_center" id="S4.T2.29.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.82</td>
<td class="ltx_td ltx_align_center" id="S4.T2.29.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">38.85</td>
</tr>
<tr class="ltx_tr" id="S4.T2.29.6">
<td class="ltx_td ltx_align_center" id="S4.T2.29.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">42.86</td>
<td class="ltx_td ltx_align_center" id="S4.T2.29.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">41.66</td>
</tr>
<tr class="ltx_tr" id="S4.T2.29.7">
<td class="ltx_td ltx_align_center" id="S4.T2.29.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.31</td>
<td class="ltx_td ltx_align_center" id="S4.T2.29.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">51.18</td>
</tr>
<tr class="ltx_tr" id="S4.T2.29.8">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.29.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.49</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.29.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">39.25</td>
</tr>
<tr class="ltx_tr" id="S4.T2.29.9">
<td class="ltx_td ltx_align_center" id="S4.T2.29.9.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.35</td>
<td class="ltx_td ltx_align_center" id="S4.T2.29.9.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.74</td>
</tr>
<tr class="ltx_tr" id="S4.T2.29.10">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.29.10.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">60.92</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.29.10.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">58.88</td>
</tr>
<tr class="ltx_tr" id="S4.T2.29.11">
<td class="ltx_td ltx_align_center" id="S4.T2.29.11.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">66.64</td>
<td class="ltx_td ltx_align_center" id="S4.T2.29.11.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">65.49</td>
</tr>
<tr class="ltx_tr" id="S4.T2.29.12">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.29.12.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.29.12.1.1">71.03</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.29.12.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.29.12.2.1">70.10</span></td>
</tr>
</table>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<table class="ltx_tabular ltx_centering ltx_figure_panel ltx_align_middle" id="S4.T2.30">
<tr class="ltx_tr" id="S4.T2.30.1">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="2" id="S4.T2.30.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.30.1.1.1">Image</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.30.2">
<td class="ltx_td ltx_align_center" id="S4.T2.30.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.30.2.1.1">F1</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.30.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.30.2.2.1">EM</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.30.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.30.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">56.50</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.30.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">56.50</td>
</tr>
<tr class="ltx_tr" id="S4.T2.30.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.30.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">33.56</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.30.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">30.95</td>
</tr>
<tr class="ltx_tr" id="S4.T2.30.5">
<td class="ltx_td ltx_align_center" id="S4.T2.30.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">36.20</td>
<td class="ltx_td ltx_align_center" id="S4.T2.30.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">33.81</td>
</tr>
<tr class="ltx_tr" id="S4.T2.30.6">
<td class="ltx_td ltx_align_center" id="S4.T2.30.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">39.26</td>
<td class="ltx_td ltx_align_center" id="S4.T2.30.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">37.62</td>
</tr>
<tr class="ltx_tr" id="S4.T2.30.7">
<td class="ltx_td ltx_align_center" id="S4.T2.30.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">46.20</td>
<td class="ltx_td ltx_align_center" id="S4.T2.30.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">44.29</td>
</tr>
<tr class="ltx_tr" id="S4.T2.30.8">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.30.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">39.54</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.30.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">38.57</td>
</tr>
<tr class="ltx_tr" id="S4.T2.30.9">
<td class="ltx_td ltx_align_center" id="S4.T2.30.9.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.13</td>
<td class="ltx_td ltx_align_center" id="S4.T2.30.9.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.38</td>
</tr>
<tr class="ltx_tr" id="S4.T2.30.10">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.30.10.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.11</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.30.10.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.47</td>
</tr>
<tr class="ltx_tr" id="S4.T2.30.11">
<td class="ltx_td ltx_align_center" id="S4.T2.30.11.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">59.09</td>
<td class="ltx_td ltx_align_center" id="S4.T2.30.11.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.62</td>
</tr>
<tr class="ltx_tr" id="S4.T2.30.12">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.30.12.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.30.12.1.1">80.51</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.30.12.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.30.12.2.1">79.98</span></td>
</tr>
</table>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<table class="ltx_tabular ltx_centering ltx_figure_panel ltx_align_middle" id="S4.T2.31">
<tr class="ltx_tr" id="S4.T2.31.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.31.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.31.1.1.1">All</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.31.2">
<td class="ltx_td ltx_align_center" id="S4.T2.31.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.31.2.1.1">EM</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.31.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.31.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">51.40</td>
</tr>
<tr class="ltx_tr" id="S4.T2.31.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.31.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">32.12</td>
</tr>
<tr class="ltx_tr" id="S4.T2.31.5">
<td class="ltx_td ltx_align_center" id="S4.T2.31.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">37.75</td>
</tr>
<tr class="ltx_tr" id="S4.T2.31.6">
<td class="ltx_td ltx_align_center" id="S4.T2.31.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.77</td>
</tr>
<tr class="ltx_tr" id="S4.T2.31.7">
<td class="ltx_td ltx_align_center" id="S4.T2.31.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">47.97</td>
</tr>
<tr class="ltx_tr" id="S4.T2.31.8">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.31.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">39.10</td>
</tr>
<tr class="ltx_tr" id="S4.T2.31.9">
<td class="ltx_td ltx_align_center" id="S4.T2.31.9.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.66</td>
</tr>
<tr class="ltx_tr" id="S4.T2.31.10">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.31.10.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.04</td>
</tr>
<tr class="ltx_tr" id="S4.T2.31.11">
<td class="ltx_td ltx_align_center" id="S4.T2.31.11.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.92</td>
</tr>
<tr class="ltx_tr" id="S4.T2.31.12">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T2.31.12.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.31.12.1.1">72.26</span></td>
</tr>
</table>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Multimodal test-set synthesis evaluation results. "RAG" means conventional RAG with retrieval top k as 8. <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.T2.24.m1.1"><semantics id="S4.T2.24.m1.1b"><mi class="ltx_font_mathcaligraphic" id="S4.T2.24.m1.1.1" xref="S4.T2.24.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.T2.24.m1.1c"><ci id="S4.T2.24.m1.1.1.cmml" xref="S4.T2.24.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.24.m1.1d">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.24.m1.1e">caligraphic_R</annotation></semantics></math> and <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.T2.25.m2.1"><semantics id="S4.T2.25.m2.1b"><mi class="ltx_font_mathcaligraphic" id="S4.T2.25.m2.1.1" xref="S4.T2.25.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.T2.25.m2.1c"><ci id="S4.T2.25.m2.1.1.cmml" xref="S4.T2.25.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.25.m2.1d">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.25.m2.1e">caligraphic_M</annotation></semantics></math> indicate model is not finetuned; <math alttext="\mathcal{R}^{*}" class="ltx_Math" display="inline" id="S4.T2.26.m3.1"><semantics id="S4.T2.26.m3.1b"><msup id="S4.T2.26.m3.1.1" xref="S4.T2.26.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.26.m3.1.1.2" xref="S4.T2.26.m3.1.1.2.cmml">ℛ</mi><mo id="S4.T2.26.m3.1.1.3" xref="S4.T2.26.m3.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T2.26.m3.1c"><apply id="S4.T2.26.m3.1.1.cmml" xref="S4.T2.26.m3.1.1"><csymbol cd="ambiguous" id="S4.T2.26.m3.1.1.1.cmml" xref="S4.T2.26.m3.1.1">superscript</csymbol><ci id="S4.T2.26.m3.1.1.2.cmml" xref="S4.T2.26.m3.1.1.2">ℛ</ci><times id="S4.T2.26.m3.1.1.3.cmml" xref="S4.T2.26.m3.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.26.m3.1d">\mathcal{R}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.26.m3.1e">caligraphic_R start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{M}^{*}" class="ltx_Math" display="inline" id="S4.T2.27.m4.1"><semantics id="S4.T2.27.m4.1b"><msup id="S4.T2.27.m4.1.1" xref="S4.T2.27.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.27.m4.1.1.2" xref="S4.T2.27.m4.1.1.2.cmml">ℳ</mi><mo id="S4.T2.27.m4.1.1.3" xref="S4.T2.27.m4.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T2.27.m4.1c"><apply id="S4.T2.27.m4.1.1.cmml" xref="S4.T2.27.m4.1.1"><csymbol cd="ambiguous" id="S4.T2.27.m4.1.1.1.cmml" xref="S4.T2.27.m4.1.1">superscript</csymbol><ci id="S4.T2.27.m4.1.1.2.cmml" xref="S4.T2.27.m4.1.1.2">ℳ</ci><times id="S4.T2.27.m4.1.1.3.cmml" xref="S4.T2.27.m4.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.27.m4.1d">\mathcal{M}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.27.m4.1e">caligraphic_M start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> indicate model is finetuned; <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.T2.28.m5.1"><semantics id="S4.T2.28.m5.1b"><mi class="ltx_font_mathcaligraphic" id="S4.T2.28.m5.1.1" xref="S4.T2.28.m5.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.T2.28.m5.1c"><ci id="S4.T2.28.m5.1.1.cmml" xref="S4.T2.28.m5.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.28.m5.1d">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.28.m5.1e">caligraphic_G</annotation></semantics></math> indicates model is <span class="ltx_text ltx_font_bold" id="S4.T2.33.1">GPT</span>.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.4">The experimental setup involves the finetuning of both the embedding model <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.SS3.p1.1.m1.1"><semantics id="S4.SS3.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.1.m1.1d">caligraphic_R</annotation></semantics></math> and the vision-language model <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.SS3.p1.2.m2.1"><semantics id="S4.SS3.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><ci id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.2.m2.1d">caligraphic_M</annotation></semantics></math>, alongside generation and inference tasks using either <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.SS3.p1.3.m3.1"><semantics id="S4.SS3.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p1.3.m3.1.1" xref="S4.SS3.p1.3.m3.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.3.m3.1b"><ci id="S4.SS3.p1.3.m3.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.3.m3.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.3.m3.1d">caligraphic_M</annotation></semantics></math> or <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.SS3.p1.4.m4.1"><semantics id="S4.SS3.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p1.4.m4.1.1" xref="S4.SS3.p1.4.m4.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.4.m4.1b"><ci id="S4.SS3.p1.4.m4.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.4.m4.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.4.m4.1d">caligraphic_G</annotation></semantics></math>. Finetuning is performed on a single NVIDIA A100 80GB GPU, with the server running Ubuntu Server 20.04 LTS.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">For the embedding model, <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p2.1.1">bge-base-en-v1.5<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_serif" id="footnote1.1.1.1">1</span></span><span class="ltx_text ltx_font_serif" id="footnote1.5">https://huggingface.co/BAAI/bge-base-en-v1.5</span></span></span></span></span> <cite class="ltx_cite ltx_citemacro_citep">(Xiao et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib43" title="">2024</a>)</cite> is used, finetuned using the FlagEmbedding framework<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>https://github.com/FlagOpen/FlagEmbedding</span></span></span> <cite class="ltx_cite ltx_citemacro_citep">(Xiao et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib42" title="">2023</a>)</cite>. Key hyperparameters include a learning rate of 1e-5, 5 training epochs, and a batch size of 64. The vision-language model <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.SS3.p2.1.m1.1"><semantics id="S4.SS3.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><ci id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.1.m1.1d">caligraphic_M</annotation></semantics></math>, <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p2.1.2">LLaVA-v1.5-7b<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_serif" id="footnote3.1.1.1">3</span></span><span class="ltx_text ltx_font_serif" id="footnote3.5">https://huggingface.co/llava-hf/llava-1.5-7b-hf</span></span></span></span></span> <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib21" title="">2024</a>)</cite>, is finetuned via the LLaMA-Factory framework<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>https://github.com/hiyouga/LLaMA-Factory</span></span></span> <cite class="ltx_cite ltx_citemacro_citep">(Zheng et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib49" title="">2024</a>)</cite> using LoRA <cite class="ltx_cite ltx_citemacro_citep">(Hu et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib9" title="">2022</a>)</cite>. The setup includes a learning rate of 1e-4, 5 epochs, a batch size of 1, and 8 gradient accumulation steps, with AdamW <cite class="ltx_cite ltx_citemacro_citep">(Loshchilov, <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#bib.bib23" title="">2017</a>)</cite> as the optimizer.</p>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.2">During data generation and inference, <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.SS3.p3.1.m1.1"><semantics id="S4.SS3.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><ci id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.1.m1.1d">caligraphic_G</annotation></semantics></math><span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span><span class="ltx_text ltx_font_bold" id="footnote5.1">GPT</span> version: GPT-4o-2024-05-13</span></span></span> is utilized, with a temperature parameter set to 1.2 to ensure response diversity, and is further used to finetune <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.SS3.p3.2.m2.1"><semantics id="S4.SS3.p3.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p3.2.m2.1.1" xref="S4.SS3.p3.2.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.2.m2.1b"><ci id="S4.SS3.p3.2.m2.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.2.m2.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.2.m2.1d">caligraphic_M</annotation></semantics></math> and conduct inference tasks.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Main Results</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">The experimental results, summarized in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.T2" title="Table 2 ‣ 4.3 Experimental Settings ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a>, demonstrate that SAM-RAG achieves superior performance across all evaluated tasks, significantly outperforming baseline models, including the state-of-the-art MuRAG. Below, we provide a detailed analysis of the performance improvements and insights gained from the comparisons.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<ol class="ltx_enumerate" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i1.p1.1.1">Overall Performance</span>: Across both text and image tasks, SAM-RAG delivers higher F1 and EM scores compared to baseline methods. These improvements underscore the effectiveness of the dynamic retrieval and generation mechanisms of SAM-RAG. The roles of key components, <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.I1.i1.p1.1.2" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span>, <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.I1.i1.p1.1.3" style="color:#00008C;background-color:#FFFFFF;border-color: #00008C;">isUse</span> and <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.I1.i1.p1.1.4" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span>, are further analyzed in the ablation study (<a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.SS5" title="4.5 Ablation Study ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">4.5</span></a>) and illustrated through case studies (<a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.SS7" title="4.7 Case Study ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">4.7</span></a>, Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.F4" title="Figure 4 ‣ 4.7 Case Study ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">4</span></a>). Additional case examples are provided in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1" title="Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.7"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.7.3">Performance Comparison with Baselines</span>: Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.T2" title="Table 2 ‣ 4.3 Experimental Settings ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> (top) demonstrates that fine-tuning the retrieval model <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.1.m1.1"><semantics id="S4.I1.i2.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i2.p1.1.m1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.1.m1.1b"><ci id="S4.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.1.m1.1d">caligraphic_R</annotation></semantics></math> or the VLM <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.2.m2.1"><semantics id="S4.I1.i2.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i2.p1.2.m2.1.1" xref="S4.I1.i2.p1.2.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.2.m2.1b"><ci id="S4.I1.i2.p1.2.m2.1.1.cmml" xref="S4.I1.i2.p1.2.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.2.m2.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.2.m2.1d">caligraphic_M</annotation></semantics></math> improves multimodal RAG performance. However, fine-tuning <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.3.m3.1"><semantics id="S4.I1.i2.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i2.p1.3.m3.1.1" xref="S4.I1.i2.p1.3.m3.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.3.m3.1b"><ci id="S4.I1.i2.p1.3.m3.1.1.cmml" xref="S4.I1.i2.p1.3.m3.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.3.m3.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.3.m3.1d">caligraphic_M</annotation></semantics></math> provides more substantial gains. This suggests that the baseline retrieval model <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.4.m4.1"><semantics id="S4.I1.i2.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i2.p1.4.m4.1.1" xref="S4.I1.i2.p1.4.m4.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.4.m4.1b"><ci id="S4.I1.i2.p1.4.m4.1.1.cmml" xref="S4.I1.i2.p1.4.m4.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.4.m4.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.4.m4.1d">caligraphic_R</annotation></semantics></math> is already sufficiently optimized, leading to smaller performance improvements from fine-tuning. In contrast, optimizing <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.5.m5.1"><semantics id="S4.I1.i2.p1.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i2.p1.5.m5.1.1" xref="S4.I1.i2.p1.5.m5.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.5.m5.1b"><ci id="S4.I1.i2.p1.5.m5.1.1.cmml" xref="S4.I1.i2.p1.5.m5.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.5.m5.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.5.m5.1d">caligraphic_M</annotation></semantics></math> directly enhances the model’s ability to process multimodal data. Notably, the fine-tuned <span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.7.2">RAG(<math alttext="\mathcal{R}^{*}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.6.1.m1.1"><semantics id="S4.I1.i2.p1.6.1.m1.1a"><msup id="S4.I1.i2.p1.6.1.m1.1.1" xref="S4.I1.i2.p1.6.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i2.p1.6.1.m1.1.1.2" xref="S4.I1.i2.p1.6.1.m1.1.1.2.cmml">ℛ</mi><mo id="S4.I1.i2.p1.6.1.m1.1.1.3" xref="S4.I1.i2.p1.6.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.6.1.m1.1b"><apply id="S4.I1.i2.p1.6.1.m1.1.1.cmml" xref="S4.I1.i2.p1.6.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.i2.p1.6.1.m1.1.1.1.cmml" xref="S4.I1.i2.p1.6.1.m1.1.1">superscript</csymbol><ci id="S4.I1.i2.p1.6.1.m1.1.1.2.cmml" xref="S4.I1.i2.p1.6.1.m1.1.1.2">ℛ</ci><times id="S4.I1.i2.p1.6.1.m1.1.1.3.cmml" xref="S4.I1.i2.p1.6.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.6.1.m1.1c">\mathcal{R}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.6.1.m1.1d">caligraphic_R start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> + <math alttext="\mathcal{M}^{*}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.7.2.m2.1"><semantics id="S4.I1.i2.p1.7.2.m2.1a"><msup id="S4.I1.i2.p1.7.2.m2.1.1" xref="S4.I1.i2.p1.7.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i2.p1.7.2.m2.1.1.2" xref="S4.I1.i2.p1.7.2.m2.1.1.2.cmml">ℳ</mi><mo id="S4.I1.i2.p1.7.2.m2.1.1.3" xref="S4.I1.i2.p1.7.2.m2.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.7.2.m2.1b"><apply id="S4.I1.i2.p1.7.2.m2.1.1.cmml" xref="S4.I1.i2.p1.7.2.m2.1.1"><csymbol cd="ambiguous" id="S4.I1.i2.p1.7.2.m2.1.1.1.cmml" xref="S4.I1.i2.p1.7.2.m2.1.1">superscript</csymbol><ci id="S4.I1.i2.p1.7.2.m2.1.1.2.cmml" xref="S4.I1.i2.p1.7.2.m2.1.1.2">ℳ</ci><times id="S4.I1.i2.p1.7.2.m2.1.1.3.cmml" xref="S4.I1.i2.p1.7.2.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.7.2.m2.1c">\mathcal{M}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.7.2.m2.1d">caligraphic_M start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math>)</span> shows slightly lower performance than MuRAG, despite differences in the volume of training data.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span>
<div class="ltx_para" id="S4.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i3.p1.3"><span class="ltx_text ltx_font_bold" id="S4.I1.i3.p1.3.1">SAM-RAG vs. Conventional RAG</span>: As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.T2" title="Table 2 ‣ 4.3 Experimental Settings ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> (middle), SAM-RAG consistently outperforms conventional RAG methods. By dynamically retrieving documents until relevant information is found, SAM-RAG avoids the limitations of fixed retrieval strategies. Fine-tuning the retrieval model <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.I1.i3.p1.1.m1.1"><semantics id="S4.I1.i3.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i3.p1.1.m1.1.1" xref="S4.I1.i3.p1.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.1.m1.1b"><ci id="S4.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.1.m1.1d">caligraphic_R</annotation></semantics></math> speeds up document retrieval but does not significantly impact overall performance, as the strength of SAM-RAG lies in leveraging the fine-tuned <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.I1.i3.p1.2.m2.1"><semantics id="S4.I1.i3.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i3.p1.2.m2.1.1" xref="S4.I1.i3.p1.2.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.2.m2.1b"><ci id="S4.I1.i3.p1.2.m2.1.1.cmml" xref="S4.I1.i3.p1.2.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.2.m2.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.2.m2.1d">caligraphic_M</annotation></semantics></math>. The results indicate that fine-tuning <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.I1.i3.p1.3.m3.1"><semantics id="S4.I1.i3.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i3.p1.3.m3.1.1" xref="S4.I1.i3.p1.3.m3.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.3.m3.1b"><ci id="S4.I1.i3.p1.3.m3.1.1.cmml" xref="S4.I1.i3.p1.3.m3.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.3.m3.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.3.m3.1d">caligraphic_M</annotation></semantics></math> leads to the most notable performance improvements in SAM-RAG, especially for multimodal tasks.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span>
<div class="ltx_para" id="S4.I1.i4.p1">
<p class="ltx_p" id="S4.I1.i4.p1.5"><span class="ltx_text ltx_font_bold" id="S4.I1.i4.p1.5.1">Effect of GPT Integration</span>: Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.T2" title="Table 2 ‣ 4.3 Experimental Settings ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> (bottom) highlights the substantial performance gains from integration of <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.I1.i4.p1.1.m1.1"><semantics id="S4.I1.i4.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i4.p1.1.m1.1.1" xref="S4.I1.i4.p1.1.m1.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.1.m1.1b"><ci id="S4.I1.i4.p1.1.m1.1.1.cmml" xref="S4.I1.i4.p1.1.m1.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i4.p1.1.m1.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i4.p1.1.m1.1d">caligraphic_G</annotation></semantics></math> into the SAM-RAG and conventional RAG frameworks. Models incorporating <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.I1.i4.p1.2.m2.1"><semantics id="S4.I1.i4.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i4.p1.2.m2.1.1" xref="S4.I1.i4.p1.2.m2.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.2.m2.1b"><ci id="S4.I1.i4.p1.2.m2.1.1.cmml" xref="S4.I1.i4.p1.2.m2.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i4.p1.2.m2.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i4.p1.2.m2.1d">caligraphic_G</annotation></semantics></math> outperform all other configurations, underscoring <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.I1.i4.p1.3.m3.1"><semantics id="S4.I1.i4.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i4.p1.3.m3.1.1" xref="S4.I1.i4.p1.3.m3.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.3.m3.1b"><ci id="S4.I1.i4.p1.3.m3.1.1.cmml" xref="S4.I1.i4.p1.3.m3.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i4.p1.3.m3.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i4.p1.3.m3.1d">caligraphic_G</annotation></semantics></math>’s advanced reasoning and understanding abilities. SAM-RAG combined with <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.I1.i4.p1.4.m4.1"><semantics id="S4.I1.i4.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i4.p1.4.m4.1.1" xref="S4.I1.i4.p1.4.m4.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.4.m4.1b"><ci id="S4.I1.i4.p1.4.m4.1.1.cmml" xref="S4.I1.i4.p1.4.m4.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i4.p1.4.m4.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i4.p1.4.m4.1d">caligraphic_G</annotation></semantics></math> shows the most significant improvements, particularly in visual tasks, where it exceeds textual performance. This suggests that the SAM-RAG framework, when paired with <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S4.I1.i4.p1.5.m5.1"><semantics id="S4.I1.i4.p1.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S4.I1.i4.p1.5.m5.1.1" xref="S4.I1.i4.p1.5.m5.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.5.m5.1b"><ci id="S4.I1.i4.p1.5.m5.1.1.cmml" xref="S4.I1.i4.p1.5.m5.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i4.p1.5.m5.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i4.p1.5.m5.1d">caligraphic_G</annotation></semantics></math>, achieves a deeper understanding of visual content than other approaches.</p>
</div>
</li>
</ol>
</div>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5 </span>Ablation Study</h3>
<figure class="ltx_table" id="S4.T3">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T3.2" style="width:433.6pt;height:205.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(84.0pt,-39.8pt) scale(1.63253464847365,1.63253464847365) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T3.2.3">
<tr class="ltx_tr" id="S4.T3.2.3.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.2.3.1.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.2.3.1.1.1">Experiment</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.3.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.2.3.2.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.2.3.2.1.1">MuRAG</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.3.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.2.3.3.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.2.3.3.1.1">RAG</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.3.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T3.2.3.4.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.2.3.4.1.1">W/ <span class="ltx_text ltx_framed ltx_framed_rectangle" id="S4.T3.2.3.4.1.1.1" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span></span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.3.5">
<td class="ltx_td ltx_align_left" id="S4.T3.2.3.5.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.2.3.5.1.1">WO/ <span class="ltx_text ltx_framed ltx_framed_rectangle" id="S4.T3.2.3.5.1.1.1" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span></span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.3.6">
<td class="ltx_td ltx_align_left" id="S4.T3.2.3.6.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.2.3.6.1.1">WO/ <span class="ltx_text ltx_framed ltx_framed_rectangle" id="S4.T3.2.3.6.1.1.1" style="color:#00008C;background-color:#FFFFFF;border-color: #00008C;">isUse</span></span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.3.7">
<td class="ltx_td ltx_align_left ltx_border_b" id="S4.T3.2.3.7.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.2.3.7.1.1">W/ all</span></td>
</tr>
</table>
<table class="ltx_tabular ltx_align_middle" id="S4.T3.2.4">
<tr class="ltx_tr" id="S4.T3.2.4.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.4.1.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.2.4.1.1.1">F1</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.4.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.4.2.1" style="padding-top:1pt;padding-bottom:1pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.4.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.4.3.1" style="padding-top:1pt;padding-bottom:1pt;">64.99</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.4.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.4.4.1" style="padding-top:1pt;padding-bottom:1pt;">65.62</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.4.5">
<td class="ltx_td ltx_align_center" id="S4.T3.2.4.5.1" style="padding-top:1pt;padding-bottom:1pt;">68.56</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.4.6">
<td class="ltx_td ltx_align_center" id="S4.T3.2.4.6.1" style="padding-top:1pt;padding-bottom:1pt;">69.05</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.4.7">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T3.2.4.7.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.2.4.7.1.1">73.19</span></td>
</tr>
</table>
<table class="ltx_tabular ltx_align_middle" id="S4.T3.1.1">
<tr class="ltx_tr" id="S4.T3.1.1.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.1.1" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="{\color[rgb]{0.6,0,0}\Delta{\textbf{F1}}}" class="ltx_Math" display="inline" id="S4.T3.1.1.1.1.m1.1"><semantics id="S4.T3.1.1.1.1.m1.1a"><mrow id="S4.T3.1.1.1.1.m1.1.1" xref="S4.T3.1.1.1.1.m1.1.1.cmml"><mi id="S4.T3.1.1.1.1.m1.1.1.2" mathcolor="#990000" mathvariant="normal" xref="S4.T3.1.1.1.1.m1.1.1.2.cmml">Δ</mi><mo id="S4.T3.1.1.1.1.m1.1.1.1" xref="S4.T3.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mtext class="ltx_mathvariant_bold" id="S4.T3.1.1.1.1.m1.1.1.3" mathcolor="#990000" xref="S4.T3.1.1.1.1.m1.1.1.3a.cmml">F1</mtext></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.1.1.1.1.m1.1b"><apply id="S4.T3.1.1.1.1.m1.1.1.cmml" xref="S4.T3.1.1.1.1.m1.1.1"><times id="S4.T3.1.1.1.1.m1.1.1.1.cmml" xref="S4.T3.1.1.1.1.m1.1.1.1"></times><ci id="S4.T3.1.1.1.1.m1.1.1.2.cmml" xref="S4.T3.1.1.1.1.m1.1.1.2">Δ</ci><ci id="S4.T3.1.1.1.1.m1.1.1.3a.cmml" xref="S4.T3.1.1.1.1.m1.1.1.3"><mtext class="ltx_mathvariant_bold" id="S4.T3.1.1.1.1.m1.1.1.3.cmml" mathcolor="#990000" xref="S4.T3.1.1.1.1.m1.1.1.3">F1</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.1.1.1.1.m1.1c">{\color[rgb]{0.6,0,0}\Delta{\textbf{F1}}}</annotation><annotation encoding="application/x-llamapun" id="S4.T3.1.1.1.1.m1.1d">roman_Δ F1</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.2.1" style="padding-top:1pt;padding-bottom:1pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S4.T3.1.1.3.1.1" style="color:#990000;">-8.20</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.4.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S4.T3.1.1.4.1.1" style="color:#990000;">-7.57</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.5">
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S4.T3.1.1.5.1.1" style="color:#990000;">-4.63</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.6">
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S4.T3.1.1.6.1.1" style="color:#990000;">-4.14</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.7">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T3.1.1.7.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S4.T3.1.1.7.1.1" style="color:#990000;">-</span></td>
</tr>
</table>
<table class="ltx_tabular ltx_align_middle" id="S4.T3.2.5">
<tr class="ltx_tr" id="S4.T3.2.5.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.5.1.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.2.5.1.1.1">EM</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.5.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.5.2.1" style="padding-top:1pt;padding-bottom:1pt;">51.40</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.5.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.5.3.1" style="padding-top:1pt;padding-bottom:1pt;">63.92</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.5.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.5.4.1" style="padding-top:1pt;padding-bottom:1pt;">64.96</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.5.5">
<td class="ltx_td ltx_align_center" id="S4.T3.2.5.5.1" style="padding-top:1pt;padding-bottom:1pt;">67.07</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.5.6">
<td class="ltx_td ltx_align_center" id="S4.T3.2.5.6.1" style="padding-top:1pt;padding-bottom:1pt;">67.99</td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.5.7">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T3.2.5.7.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.2.5.7.1.1">72.26</span></td>
</tr>
</table>
<table class="ltx_tabular ltx_align_middle" id="S4.T3.2.2">
<tr class="ltx_tr" id="S4.T3.2.2.1">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.2.1.1" style="padding-top:1pt;padding-bottom:1pt;"><math alttext="{\color[rgb]{0.6,0,0}\Delta{\textbf{EM}}}" class="ltx_Math" display="inline" id="S4.T3.2.2.1.1.m1.1"><semantics id="S4.T3.2.2.1.1.m1.1a"><mrow id="S4.T3.2.2.1.1.m1.1.1" xref="S4.T3.2.2.1.1.m1.1.1.cmml"><mi id="S4.T3.2.2.1.1.m1.1.1.2" mathcolor="#990000" mathvariant="normal" xref="S4.T3.2.2.1.1.m1.1.1.2.cmml">Δ</mi><mo id="S4.T3.2.2.1.1.m1.1.1.1" xref="S4.T3.2.2.1.1.m1.1.1.1.cmml">⁢</mo><mtext class="ltx_mathvariant_bold" id="S4.T3.2.2.1.1.m1.1.1.3" mathcolor="#990000" xref="S4.T3.2.2.1.1.m1.1.1.3a.cmml">EM</mtext></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.2.2.1.1.m1.1b"><apply id="S4.T3.2.2.1.1.m1.1.1.cmml" xref="S4.T3.2.2.1.1.m1.1.1"><times id="S4.T3.2.2.1.1.m1.1.1.1.cmml" xref="S4.T3.2.2.1.1.m1.1.1.1"></times><ci id="S4.T3.2.2.1.1.m1.1.1.2.cmml" xref="S4.T3.2.2.1.1.m1.1.1.2">Δ</ci><ci id="S4.T3.2.2.1.1.m1.1.1.3a.cmml" xref="S4.T3.2.2.1.1.m1.1.1.3"><mtext class="ltx_mathvariant_bold" id="S4.T3.2.2.1.1.m1.1.1.3.cmml" mathcolor="#990000" xref="S4.T3.2.2.1.1.m1.1.1.3">EM</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.2.1.1.m1.1c">{\color[rgb]{0.6,0,0}\Delta{\textbf{EM}}}</annotation><annotation encoding="application/x-llamapun" id="S4.T3.2.2.1.1.m1.1d">roman_Δ EM</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.2.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.2.2.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S4.T3.2.2.2.1.1" style="color:#990000;">-20.86</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.2.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.2.3.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S4.T3.2.2.3.1.1" style="color:#990000;">-8.84</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.2.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.2.2.4.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S4.T3.2.2.4.1.1" style="color:#990000;">-7.30</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.2.5">
<td class="ltx_td ltx_align_center" id="S4.T3.2.2.5.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S4.T3.2.2.5.1.1" style="color:#990000;">-5.69</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.2.6">
<td class="ltx_td ltx_align_center" id="S4.T3.2.2.6.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S4.T3.2.2.6.1.1" style="color:#990000;">-4.27</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.2.2.7">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T3.2.2.7.1" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text" id="S4.T3.2.2.7.1.1" style="color:#990000;">-</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>
Effect of different verification combinations.
<br class="ltx_break"/>"RAG" indicates conventional RAG pipeline. 
<br class="ltx_break"/><math alttext="\Delta" class="ltx_Math" display="inline" id="S4.T3.4.m1.1"><semantics id="S4.T3.4.m1.1b"><mi id="S4.T3.4.m1.1.1" mathcolor="#990000" mathvariant="normal" xref="S4.T3.4.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S4.T3.4.m1.1c"><ci id="S4.T3.4.m1.1.1.cmml" xref="S4.T3.4.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.4.m1.1d">\Delta</annotation><annotation encoding="application/x-llamapun" id="S4.T3.4.m1.1e">roman_Δ</annotation></semantics></math>: The difference is between the best value and the corresponding value.
</figcaption>
</figure>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">To validate the effectiveness of each component of SAM-RAG, a series of ablation studies are performed that check the performance of the framework after removing each component, as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.T3" title="Table 3 ‣ 4.5 Ablation Study ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3</span></a>. The results indicate that, compared to conventional RAG, the introduction of distinct verification, particularly <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.SS5.p1.1.1" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span> and <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.SS5.p1.1.2" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span>, leads to notable improvements in both F1 and EM scores. Specifically, although introducing <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.SS5.p1.1.3" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span> only brings minimal improvement, the subsequent introduction of <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.SS5.p1.1.4" style="color:#00008C;background-color:#FFFFFF;border-color: #00008C;">isUse</span> and <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.SS5.p1.1.5" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span> makes a greater impact. When all verifications are combined (labeled "with all"), the EM score rises to the maximum value, reflecting an improvement of more than 20% compared to the performance of MuRAG. This finding suggests that simultaneous consideration of relevance (<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.SS5.p1.1.6" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span>), support (<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.SS5.p1.1.7" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span>), and usability (<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.SS5.p1.1.8" style="color:#00008C;background-color:#FFFFFF;border-color: #00008C;">isUse</span>) allows the model to effectively filter the most valuable information for the generation of answers, significantly improving the quality of the output.</p>
</div>
<div class="ltx_para" id="S4.SS5.p2">
<p class="ltx_p" id="S4.SS5.p2.1">The introduction of even a single verification leads to an increase in the model’s EM score, demonstrating that each criterion contributes uniquely to optimization. However, the results indicate that the most substantial improvements occur when multiple verifications are employed in combination. This suggests that integrating various verification mechanisms can comprehensively optimize information retrieval and generation processes, thereby minimizing the impact of irrelevant or low-quality information.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.6 </span>Analysis of Retrieval Effectiveness</h3>
<figure class="ltx_figure" id="S4.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="359" id="S4.F3.g1" src="extracted/5922567/ablation.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Effect of the Different Retrieval Numbers on Recall@N and EM.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS6.p1">
<p class="ltx_p" id="S4.SS6.p1.8">To assess retrieval effectiveness, we analyzed the top-performing SAM-RAG and conventional RAG models, as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.F3" title="Figure 3 ‣ 4.6 Analysis of Retrieval Effectiveness ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">3</span></a> and Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.T4" title="Table 4 ‣ 4.6 Analysis of Retrieval Effectiveness ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">4</span></a>. The results indicate that <math alttext="\mathcal{R}^{*}" class="ltx_Math" display="inline" id="S4.SS6.p1.1.m1.1"><semantics id="S4.SS6.p1.1.m1.1a"><msup id="S4.SS6.p1.1.m1.1.1" xref="S4.SS6.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS6.p1.1.m1.1.1.2" xref="S4.SS6.p1.1.m1.1.1.2.cmml">ℛ</mi><mo id="S4.SS6.p1.1.m1.1.1.3" xref="S4.SS6.p1.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.1.m1.1b"><apply id="S4.SS6.p1.1.m1.1.1.cmml" xref="S4.SS6.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS6.p1.1.m1.1.1.1.cmml" xref="S4.SS6.p1.1.m1.1.1">superscript</csymbol><ci id="S4.SS6.p1.1.m1.1.1.2.cmml" xref="S4.SS6.p1.1.m1.1.1.2">ℛ</ci><times id="S4.SS6.p1.1.m1.1.1.3.cmml" xref="S4.SS6.p1.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.1.m1.1c">\mathcal{R}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.1.m1.1d">caligraphic_R start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> consistently outperforms <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.SS6.p1.2.m2.1"><semantics id="S4.SS6.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS6.p1.2.m2.1.1" xref="S4.SS6.p1.2.m2.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.2.m2.1b"><ci id="S4.SS6.p1.2.m2.1.1.cmml" xref="S4.SS6.p1.2.m2.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.2.m2.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.2.m2.1d">caligraphic_R</annotation></semantics></math> in Recall@N across all top <math alttext="k" class="ltx_Math" display="inline" id="S4.SS6.p1.3.m3.1"><semantics id="S4.SS6.p1.3.m3.1a"><mi id="S4.SS6.p1.3.m3.1.1" xref="S4.SS6.p1.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.3.m3.1b"><ci id="S4.SS6.p1.3.m3.1.1.cmml" xref="S4.SS6.p1.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.3.m3.1d">italic_k</annotation></semantics></math> values, suggesting that fine-tuning the embeddings improves relevant context retrieval. Table <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.T2" title="Table 2 ‣ 4.3 Experimental Settings ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">2</span></a> further shows that the EM scores for <math alttext="\mathcal{R}^{*}" class="ltx_Math" display="inline" id="S4.SS6.p1.4.m4.1"><semantics id="S4.SS6.p1.4.m4.1a"><msup id="S4.SS6.p1.4.m4.1.1" xref="S4.SS6.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS6.p1.4.m4.1.1.2" xref="S4.SS6.p1.4.m4.1.1.2.cmml">ℛ</mi><mo id="S4.SS6.p1.4.m4.1.1.3" xref="S4.SS6.p1.4.m4.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.4.m4.1b"><apply id="S4.SS6.p1.4.m4.1.1.cmml" xref="S4.SS6.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS6.p1.4.m4.1.1.1.cmml" xref="S4.SS6.p1.4.m4.1.1">superscript</csymbol><ci id="S4.SS6.p1.4.m4.1.1.2.cmml" xref="S4.SS6.p1.4.m4.1.1.2">ℛ</ci><times id="S4.SS6.p1.4.m4.1.1.3.cmml" xref="S4.SS6.p1.4.m4.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.4.m4.1c">\mathcal{R}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.4.m4.1d">caligraphic_R start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> are generally higher than for <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.SS6.p1.5.m5.1"><semantics id="S4.SS6.p1.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS6.p1.5.m5.1.1" xref="S4.SS6.p1.5.m5.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.5.m5.1b"><ci id="S4.SS6.p1.5.m5.1.1.cmml" xref="S4.SS6.p1.5.m5.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.5.m5.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.5.m5.1d">caligraphic_R</annotation></semantics></math>. Notably, at a top <math alttext="k" class="ltx_Math" display="inline" id="S4.SS6.p1.6.m6.1"><semantics id="S4.SS6.p1.6.m6.1a"><mi id="S4.SS6.p1.6.m6.1.1" xref="S4.SS6.p1.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.6.m6.1b"><ci id="S4.SS6.p1.6.m6.1.1.cmml" xref="S4.SS6.p1.6.m6.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.6.m6.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.6.m6.1d">italic_k</annotation></semantics></math> of 8, the EM score surpasses all scores of <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.SS6.p1.7.m7.1"><semantics id="S4.SS6.p1.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS6.p1.7.m7.1.1" xref="S4.SS6.p1.7.m7.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.7.m7.1b"><ci id="S4.SS6.p1.7.m7.1.1.cmml" xref="S4.SS6.p1.7.m7.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.7.m7.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.7.m7.1d">caligraphic_R</annotation></semantics></math> by nearly 20%, suggesting that fine-tuning <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.SS6.p1.8.m8.1"><semantics id="S4.SS6.p1.8.m8.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS6.p1.8.m8.1.1" xref="S4.SS6.p1.8.m8.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.8.m8.1b"><ci id="S4.SS6.p1.8.m8.1.1.cmml" xref="S4.SS6.p1.8.m8.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.8.m8.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.8.m8.1d">caligraphic_R</annotation></semantics></math> benefits more from a moderate number of retrievals, while too many retrievals may introduce noise. Unlike conventional RAG, which often retrieves more documents than needed thus introduces irrelevant content, SAM-RAG’s recall numbers closely match the "Gold Reference" values and yield higher EM scores for both text and image retrieval. This suggests that SAM-RAG effectively retrieves relevant information while reducing noise, resulting in more accurate and higher-quality outputs.</p>
</div>
<figure class="ltx_table" id="S4.T4">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T4.1" style="width:433.6pt;height:160.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(94.9pt,-35.0pt) scale(1.77844482110614,1.77844482110614) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T4.1.1">
<tr class="ltx_tr" id="S4.T4.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T4.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.1.1.1">Evaluation</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.2">
<td class="ltx_td ltx_align_left" id="S4.T4.1.1.2.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.2.1.1">Metrics</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T4.1.1.3.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.3.1.1">Gold Reference</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T4.1.1.4.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.4.1.1">conventional RAG</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.5">
<td class="ltx_td ltx_align_left ltx_border_b" id="S4.T4.1.1.5.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.5.1.1">SAM-RAG</span></td>
</tr>
</table>
<table class="ltx_tabular ltx_align_middle" id="S4.T4.1.2">
<tr class="ltx_tr" id="S4.T4.1.2.1">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="2" id="S4.T4.1.2.1.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.2.1.1.1">Text</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.2.2">
<td class="ltx_td ltx_align_center" id="S4.T4.1.2.2.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.2.2.1.1">EM</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.2.2.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.2.2.2.1">ARN</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.2.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.2.3.1">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.2.3.2">1.55</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.2.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.2.4.1">65.69</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.2.4.2">7</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.2.5">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T4.1.2.5.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.2.5.1.1">70.01</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T4.1.2.5.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.2.5.2.1">1.77</span></td>
</tr>
</table>
<table class="ltx_tabular ltx_align_middle" id="S4.T4.1.3">
<tr class="ltx_tr" id="S4.T4.1.3.1">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="2" id="S4.T4.1.3.1.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.1.1.1">Image</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.3.2">
<td class="ltx_td ltx_align_center" id="S4.T4.1.3.2.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.2.1.1">EM</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.3.2.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.2.2.1">ARN</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.3.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.3.3.1">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.3.3.2">1.00</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.3.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.3.4.1">57.62</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.3.4.2">7</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.3.5">
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T4.1.3.5.1"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.5.1.1">80.00</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T4.1.3.5.2"><span class="ltx_text ltx_font_bold" id="S4.T4.1.3.5.2.1">1.24</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Multimodal test-set synthesis evaluation results and recall@N analysis. 
<br class="ltx_break"/>"<span class="ltx_text ltx_font_bold" id="S4.T4.4.1">Gold Reference</span>" means the texts and images which are labeled as "supporting context"; "<span class="ltx_text ltx_font_bold" id="S4.T4.5.2">ARN</span>" means the average number of retrieved documents for the answers.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS7">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.7 </span>Case Study</h3>
<figure class="ltx_figure" id="S4.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="315" id="S4.F4.g1" src="extracted/5922567/case.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Complete real cases. (1) is a comparison between (a) convntional RAG and (b) SAM-RAG. (2) is a case where <span class="ltx_text ltx_markedasmath ltx_font_bold" id="S4.F4.9.1"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="S4.F4.9.1.1" style="color:#00008C;background-color:#FFFFFF;border-color: #00008C;">isUse</span></span> is <span class="ltx_text ltx_font_typewriter" id="S4.F4.10.2">False</span>. (3) is a case where <span class="ltx_text ltx_markedasmath ltx_font_bold" id="S4.F4.11.3"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="S4.F4.11.3.1" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span></span> is <span class="ltx_text ltx_font_typewriter" id="S4.F4.12.4">Partial</span>. For simplicity, only two visual documents are displayed.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS7.p1">
<p class="ltx_p" id="S4.SS7.p1.4">To intuitively illustrate the effectiveness of SAM-RAG, we present selected examples in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#S4.F4" title="Figure 4 ‣ 4.7 Case Study ‣ 4 Experiments ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">4</span></a>. The left panel contrasts the standard RAG pipeline with SAM-RAG. In (a), the conventional RAG retriever <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.SS7.p1.1.m1.1"><semantics id="S4.SS7.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS7.p1.1.m1.1.1" xref="S4.SS7.p1.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.p1.1.m1.1b"><ci id="S4.SS7.p1.1.m1.1.1.cmml" xref="S4.SS7.p1.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.p1.1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.p1.1.m1.1d">caligraphic_R</annotation></semantics></math> retrieves multiple documents, but despite including relevant content (e.g., the Sheffield United F.C. logo), <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.SS7.p1.2.m2.1"><semantics id="S4.SS7.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS7.p1.2.m2.1.1" xref="S4.SS7.p1.2.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.p1.2.m2.1b"><ci id="S4.SS7.p1.2.m2.1.1.cmml" xref="S4.SS7.p1.2.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.p1.2.m2.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.p1.2.m2.1d">caligraphic_M</annotation></semantics></math> is misled by irrelevant information, resulting in incorrect generation. In (b), SAM-RAG mitigates this problem by filtering irrelevant documents through <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.SS7.p1.4.1" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span>, ensuring that <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.SS7.p1.3.m3.1"><semantics id="S4.SS7.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS7.p1.3.m3.1.1" xref="S4.SS7.p1.3.m3.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.p1.3.m3.1b"><ci id="S4.SS7.p1.3.m3.1.1.cmml" xref="S4.SS7.p1.3.m3.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.p1.3.m3.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.p1.3.m3.1d">caligraphic_M</annotation></semantics></math> focuses only on relevant information, leading to accurate generation based on essential content like <math alttext="\boldsymbol{d}_{sc}" class="ltx_Math" display="inline" id="S4.SS7.p1.4.m4.1"><semantics id="S4.SS7.p1.4.m4.1a"><msub id="S4.SS7.p1.4.m4.1.1" xref="S4.SS7.p1.4.m4.1.1.cmml"><mi id="S4.SS7.p1.4.m4.1.1.2" xref="S4.SS7.p1.4.m4.1.1.2.cmml">𝒅</mi><mrow id="S4.SS7.p1.4.m4.1.1.3" xref="S4.SS7.p1.4.m4.1.1.3.cmml"><mi id="S4.SS7.p1.4.m4.1.1.3.2" xref="S4.SS7.p1.4.m4.1.1.3.2.cmml">s</mi><mo id="S4.SS7.p1.4.m4.1.1.3.1" xref="S4.SS7.p1.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S4.SS7.p1.4.m4.1.1.3.3" xref="S4.SS7.p1.4.m4.1.1.3.3.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.p1.4.m4.1b"><apply id="S4.SS7.p1.4.m4.1.1.cmml" xref="S4.SS7.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS7.p1.4.m4.1.1.1.cmml" xref="S4.SS7.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS7.p1.4.m4.1.1.2.cmml" xref="S4.SS7.p1.4.m4.1.1.2">𝒅</ci><apply id="S4.SS7.p1.4.m4.1.1.3.cmml" xref="S4.SS7.p1.4.m4.1.1.3"><times id="S4.SS7.p1.4.m4.1.1.3.1.cmml" xref="S4.SS7.p1.4.m4.1.1.3.1"></times><ci id="S4.SS7.p1.4.m4.1.1.3.2.cmml" xref="S4.SS7.p1.4.m4.1.1.3.2">𝑠</ci><ci id="S4.SS7.p1.4.m4.1.1.3.3.cmml" xref="S4.SS7.p1.4.m4.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.p1.4.m4.1c">\boldsymbol{d}_{sc}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.p1.4.m4.1d">bold_italic_d start_POSTSUBSCRIPT italic_s italic_c end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S4.SS7.p2">
<p class="ltx_p" id="S4.SS7.p2.2">The middle panel highlights how <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.SS7.p2.1.m1.1"><semantics id="S4.SS7.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS7.p2.1.m1.1.1" xref="S4.SS7.p2.1.m1.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.p2.1.m1.1b"><ci id="S4.SS7.p2.1.m1.1.1.cmml" xref="S4.SS7.p2.1.m1.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.p2.1.m1.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.p2.1.m1.1d">caligraphic_M</annotation></semantics></math> uses the <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.SS7.p2.2.1" style="color:#00008C;background-color:#FFFFFF;border-color: #00008C;">isUse</span> to review its generated answer. Initially, <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S4.SS7.p2.2.m2.1"><semantics id="S4.SS7.p2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS7.p2.2.m2.1.1" xref="S4.SS7.p2.2.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.p2.2.m2.1b"><ci id="S4.SS7.p2.2.m2.1.1.cmml" xref="S4.SS7.p2.2.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.p2.2.m2.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.p2.2.m2.1d">caligraphic_M</annotation></semantics></math> produces an incorrect response but recognizes the error and self-corrects, generating the correct answer.</p>
</div>
<div class="ltx_para" id="S4.SS7.p3">
<p class="ltx_p" id="S4.SS7.p3.1">In the right panel, after initial verifications, the <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="S4.SS7.p3.1.1" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span> identifies a gap between the content and the generated answer. This prompts <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S4.SS7.p3.1.m1.1"><semantics id="S4.SS7.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS7.p3.1.m1.1.1" xref="S4.SS7.p3.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S4.SS7.p3.1.m1.1b"><ci id="S4.SS7.p3.1.m1.1.1.cmml" xref="S4.SS7.p3.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.p3.1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.p3.1.m1.1d">caligraphic_R</annotation></semantics></math> to retrieve additional information, enabling a more complete and accurate response.</p>
</div>
<div class="ltx_para" id="S4.SS7.p4">
<p class="ltx_p" id="S4.SS7.p4.1">This work presents SAM-RAG, a novel multimodal RAG framework that filters and analyzes retrieved content. SAM-RAG converts image documents into text, then assesses their relevance to the query. Once relevant documents are identified, it generates initial answers and evaluates how these documents contribute to the answer generation, determining if they fully support it. Experimental results show that SAM-RAG outperforms current state-of-the-art models on benchmark datasets.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Limitations</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">The SAM-RAG framework, while innovative in its approach to multimodal retrieval-augmented generation, is not without limitations.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">One notable limitation is the potential for biased outputs, which can arise from the training data used for the underlying models. If the data contains historical biases or unrepresentative samples, the SAM-RAG system may inadvertently generate responses that unfair narratives, impacting its effectiveness and fairness.</p>
</div>
<div class="ltx_para" id="S5.p3">
<p class="ltx_p" id="S5.p3.1">Additionally, the reliance on large language models poses significant data privacy challenges. Given that these models are trained on extensive datasets, there is a risk that sensitive or personally identifiable information could be inadvertently incorporated into the responses. If not properly managed, this could lead to privacy breaches or the dissemination of confidential information, raising ethical concerns about data handling and user trust.</p>
</div>
<div class="ltx_para" id="S5.p4">
<p class="ltx_p" id="S5.p4.1">Moreover, the framework’s complexity can also introduce safety issues. The multi-step processes involved in retrieval, relevance verification, and answer generation may not always guarantee that the final output aligns perfectly with task requirements, potentially leading to misleading or hallucinated information. This underscores the need for rigorous validation mechanisms to ensure the reliability of generated answers.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anil et al. (2023)</span>
<span class="ltx_bibblock">
Rohan Anil, Andrew M. Dai, Orhan Firat, Melvin Johnson, Dmitry Lepikhin, Alexandre Passos, Siamak Shakeri, Emanuel Taropa, Paige Bailey, Zhifeng Chen, Eric Chu, Jonathan H. Clark, Laurent El Shafey, Yanping Huang, Kathy Meier-Hellstern, Gaurav Mishra, Erica Moreira, Mark Omernick, Kevin Robinson, Sebastian Ruder, Yi Tay, Kefan Xiao, Yuanzhong Xu, Yujing Zhang, Gustavo Hernandez Abrego, Junwhan Ahn, Jacob Austin, Paul Barham, Jan Botha, James Bradbury, Siddhartha Brahma, Kevin Brooks, Michele Catasta, Yong Cheng, Colin Cherry, Christopher A. Choquette-Choo, Aakanksha Chowdhery, Clément Crepy, Shachi Dave, Mostafa Dehghani, Sunipa Dev, Jacob Devlin, Mark Díaz, Nan Du, Ethan Dyer, Vlad Feinberg, Fangxiaoyu Feng, Vlad Fienber, Markus Freitag, Xavier Garcia, Sebastian Gehrmann, Lucas Gonzalez, Guy Gur-Ari, Steven Hand, Hadi Hashemi, Le Hou, Joshua Howland, Andrea Hu, Jeffrey Hui, Jeremy Hurwitz, Michael Isard, Abe Ittycheriah, Matthew Jagielski, Wenhao Jia, Kathleen Kenealy, Maxim Krikun, Sneha Kudugunta, Chang
Lan, Katherine Lee, Benjamin Lee, Eric Li, Music Li, Wei Li, YaGuang Li, Jian Li, Hyeontaek Lim, Hanzhao Lin, Zhongtao Liu, Frederick Liu, Marcello Maggioni, Aroma Mahendru, Joshua Maynez, Vedant Misra, Maysam Moussalem, Zachary Nado, John Nham, Eric Ni, Andrew Nystrom, Alicia Parrish, Marie Pellat, Martin Polacek, Alex Polozov, Reiner Pope, Siyuan Qiao, Emily Reif, Bryan Richter, Parker Riley, Alex Castro Ros, Aurko Roy, Brennan Saeta, Rajkumar Samuel, Renee Shelby, Ambrose Slone, Daniel Smilkov, David R. So, Daniel Sohn, Simon Tokumine, Dasha Valter, Vijay Vasudevan, Kiran Vodrahalli, Xuezhi Wang, Pidong Wang, Zirui Wang, Tao Wang, John Wieting, Yuhuai Wu, Kelvin Xu, Yunhan Xu, Linting Xue, Pengcheng Yin, Jiahui Yu, Qiao Zhang, Steven Zheng, Ce Zheng, Weikang Zhou, Denny Zhou, Slav Petrov, and Yonghui Wu. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2305.10403" title="">Palm 2 technical report</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">Preprint</em>, arXiv:2305.10403.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Asai et al. (2024)</span>
<span class="ltx_bibblock">
Akari Asai, Zeqiu Wu, Yizhong Wang, Avirup Sil, and Hannaneh Hajishirzi. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=hSyW5go0v8" title="">Self-RAG: Learning to retrieve, generate, and critique through self-reflection</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">The Twelfth International Conference on Learning Representations</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2022)</span>
<span class="ltx_bibblock">
Wenhu Chen, Hexiang Hu, Xi Chen, Pat Verga, and William Cohen. 2022.

</span>
<span class="ltx_bibblock">Murag: Multimodal retrieval-augmented generator for open question answering over images and text.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing</em>, pages 5558–5570.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cheng et al. (2023)</span>
<span class="ltx_bibblock">
Daixuan Cheng, Shaohan Huang, Junyu Bi, Yuefeng Zhan, Jianfeng Liu, Yujing Wang, Hao Sun, Furu Wei, Weiwei Deng, and Qi Zhang. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2023.emnlp-main.758" title="">UPRISE: Universal prompt retrieval for improving zero-shot evaluation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pages 12318–12337, Singapore. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong et al. (2024)</span>
<span class="ltx_bibblock">
Haoyu Dong, Haochen Wang, Anda Zhou, and Yue Hu. 2024.

</span>
<span class="ltx_bibblock">Ttc-quali: A text-table-chart dataset for multimodal quantity alignment.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">Proceedings of the 17th ACM International Conference on Web Search and Data Mining</em>, pages 181–189.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Glass et al. (2022)</span>
<span class="ltx_bibblock">
Michael Glass, Gaetano Rossiello, Md Faisal Mahbub Chowdhury, Ankita Naik, Pengshan Cai, and Alfio Gliozzo. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2022.naacl-main.194" title="">Re2G: Retrieve, rerank, generate</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Proceedings of the 2022 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies</em>, pages 2701–2715, Seattle, United States. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gu et al. (2024)</span>
<span class="ltx_bibblock">
Yuxian Gu, Li Dong, Furu Wei, and Minlie Huang. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=5h0qf7IBZZ" title="">MiniLLM: Knowledge distillation of large language models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">The Twelfth International Conference on Learning Representations</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2020)</span>
<span class="ltx_bibblock">
Kaiming He, Haoqi Fan, Yuxin Wu, Saining Xie, and Ross Girshick. 2020.

</span>
<span class="ltx_bibblock">Momentum contrast for unsupervised visual representation learning.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">Proceedings of the IEEE/CVF conference on computer vision and pattern recognition</em>, pages 9729–9738.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al. (2022)</span>
<span class="ltx_bibblock">
Edward J Hu, yelong shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu Wang, and Weizhu Chen. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=nZeVKeeFYf9" title="">LoRA: Low-rank adaptation of large language models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">International Conference on Learning Representations</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2023a)</span>
<span class="ltx_bibblock">
Jiaxin Huang, Shixiang Gu, Le Hou, Yuexin Wu, Xuezhi Wang, Hongkun Yu, and Jiawei Han. 2023a.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2023.emnlp-main.67" title="">Large language models can self-improve</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pages 1051–1068, Singapore. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2023b)</span>
<span class="ltx_bibblock">
Lei Huang, Weijiang Yu, Weitao Ma, Weihong Zhong, Zhangyin Feng, Haotian Wang, Qianglong Chen, Weihua Peng, Xiaocheng Feng, Bing Qin, et al. 2023b.

</span>
<span class="ltx_bibblock">A survey on hallucination in large language models: Principles, taxonomy, challenges, and open questions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:2311.05232</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ishmam et al. (2024)</span>
<span class="ltx_bibblock">
Md Farhan Ishmam, Md Sakib Hossain Shovon, Muhammad Firoz Mridha, and Nilanjan Dey. 2024.

</span>
<span class="ltx_bibblock">From image to language: A critical analysis of visual question answering (vqa) approaches, challenges, and opportunities.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">Information Fusion</em>, page 102270.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et al. (2024)</span>
<span class="ltx_bibblock">
Yizhang Jin, Jian Li, Yexin Liu, Tianjun Gu, Kai Wu, Zhengkai Jiang, Muyang He, Bo Zhao, Xin Tan, Zhenye Gan, Yabiao Wang, Chengjie Wang, and Lizhuang Ma. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2405.10739" title="">Efficient multimodal large language models: A survey</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">Preprint</em>, arXiv:2405.10739.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karpukhin et al. (2020)</span>
<span class="ltx_bibblock">
Vladimir Karpukhin, Barlas Oguz, Sewon Min, Patrick Lewis, Ledell Wu, Sergey Edunov, Danqi Chen, and Wen-tau Yih. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2020.emnlp-main.550" title="">Dense passage retrieval for open-domain question answering</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing (EMNLP)</em>, pages 6769–6781, Online. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koo et al. (2024)</span>
<span class="ltx_bibblock">
Hamin Koo, Minseon Kim, and Sung Ju Hwang. 2024.

</span>
<span class="ltx_bibblock">Optimizing query generation for enhanced document retrieval in rag.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:2407.12325</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, Sebastian Riedel, and Douwe Kiela. 2020.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://proceedings.neurips.cc/paper_files/paper/2020/file/6b493230205f780e1bc26945df7481e5-Paper.pdf" title="">Retrieval-augmented generation for knowledge-intensive nlp tasks</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">Advances in Neural Information Processing Systems</em>, volume 33, pages 9459–9474. Curran Associates, Inc.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2022)</span>
<span class="ltx_bibblock">
Huayang Li, Yixuan Su, Deng Cai, Yan Wang, and Lemao Liu. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2202.01110" title="">A survey on retrieval-augmented text generation</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">Preprint</em>, arXiv:2202.01110.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2024)</span>
<span class="ltx_bibblock">
Jiarui Li, Ye Yuan, and Zehua Zhang. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://api.semanticscholar.org/CorpusID:268510182" title="">Enhancing llm factual accuracy with rag to counter hallucinations: A case study on domain-specific queries in private knowledge-bases</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">ArXiv</em>, abs/2403.10446.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023)</span>
<span class="ltx_bibblock">
Lei Li, Yongfeng Zhang, and Li Chen. 2023.

</span>
<span class="ltx_bibblock">Prompt distillation for efficient llm-based recommendation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">Proceedings of the 32nd ACM International Conference on Information and Knowledge Management</em>, pages 1348–1357.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin and Byrne (2022)</span>
<span class="ltx_bibblock">
Weizhe Lin and Bill Byrne. 2022.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2022.emnlp-main.772" title="">Retrieval augmented visual question answering with outside knowledge</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing</em>, pages 11238–11254, Abu Dhabi, United Arab Emirates. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2024)</span>
<span class="ltx_bibblock">
Haotian Liu, Chunyuan Li, Qingyang Wu, and Yong Jae Lee. 2024.

</span>
<span class="ltx_bibblock">Visual instruction tuning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Advances in neural information processing systems</em>, 36.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023)</span>
<span class="ltx_bibblock">
Weihao Liu, Fangyu Lei, Tongxu Luo, Jiahe Lei, Shizhu He, Jun Zhao, and Kang Liu. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2309.04790" title="">Mmhqa-icl: Multimodal in-context learning for hybrid question answering over text, tables and images</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Preprint</em>, arXiv:2309.04790.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Loshchilov (2017)</span>
<span class="ltx_bibblock">
I Loshchilov. 2017.

</span>
<span class="ltx_bibblock">Decoupled weight decay regularization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">arXiv preprint arXiv:1711.05101</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et al. (2023)</span>
<span class="ltx_bibblock">
Haohao Luo, Ying Shen, and Yang Deng. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2023.findings-emnlp.626" title="">Unifying text, tables, and images for multimodal question answering</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">Findings of the Association for Computational Linguistics: EMNLP 2023</em>, pages 9355–9367, Singapore. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Madaan et al. (2023)</span>
<span class="ltx_bibblock">
Aman Madaan, Niket Tandon, Prakhar Gupta, Skyler Hallinan, Luyu Gao, Sarah Wiegreffe, Uri Alon, Nouha Dziri, Shrimai Prabhumoye, Yiming Yang, Shashank Gupta, Bodhisattwa Prasad Majumder, Katherine Hermann, Sean Welleck, Amir Yazdanbakhsh, and Peter Clark. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://proceedings.neurips.cc/paper_files/paper/2023/file/91edff07232fb1b55a505a9e9f6c0ff3-Paper-Conference.pdf" title="">Self-refine: Iterative refinement with self-feedback</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">Advances in Neural Information Processing Systems</em>, volume 36, pages 46534–46594. Curran Associates, Inc.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Manikandan et al. (2023)</span>
<span class="ltx_bibblock">
Hariharan Manikandan, Yiding Jiang, and J Zico Kolter. 2023.

</span>
<span class="ltx_bibblock">Language models are weak learners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">Advances in Neural Information Processing Systems</em>, 36:50907–50931.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI et al. (2024)</span>
<span class="ltx_bibblock">
OpenAI, Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad, Ilge Akkaya, Florencia Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman, Shyamal Anadkat, Red Avila, Igor Babuschkin, Suchir Balaji, Valerie Balcom, Paul Baltescu, Haiming Bao, Mohammad Bavarian, Jeff Belgum, Irwan Bello, Jake Berdine, Gabriel Bernadett-Shapiro, Christopher Berner, Lenny Bogdonoff, Oleg Boiko, Madelaine Boyd, Anna-Luisa Brakman, Greg Brockman, Tim Brooks, Miles Brundage, Kevin Button, Trevor Cai, Rosie Campbell, Andrew Cann, Brittany Carey, Chelsea Carlson, Rory Carmichael, Brooke Chan, Che Chang, Fotis Chantzis, Derek Chen, Sully Chen, Ruby Chen, Jason Chen, Mark Chen, Ben Chess, Chester Cho, Casey Chu, Hyung Won Chung, Dave Cummings, Jeremiah Currier, Yunxing Dai, Cory Decareaux, Thomas Degry, Noah Deutsch, Damien Deville, Arka Dhar, David Dohan, Steve Dowling, Sheila Dunning, Adrien Ecoffet, Atty Eleti, Tyna Eloundou, David Farhi, Liam Fedus, Niko Felix, Simón Posada Fishman, Juston Forte, Isabella Fulford, Leo
Gao, Elie Georges, Christian Gibson, Vik Goel, Tarun Gogineni, Gabriel Goh, Rapha Gontijo-Lopes, Jonathan Gordon, Morgan Grafstein, Scott Gray, Ryan Greene, Joshua Gross, Shixiang Shane Gu, Yufei Guo, Chris Hallacy, Jesse Han, Jeff Harris, Yuchen He, Mike Heaton, Johannes Heidecke, Chris Hesse, Alan Hickey, Wade Hickey, Peter Hoeschele, Brandon Houghton, Kenny Hsu, Shengli Hu, Xin Hu, Joost Huizinga, Shantanu Jain, Shawn Jain, Joanne Jang, Angela Jiang, Roger Jiang, Haozhun Jin, Denny Jin, Shino Jomoto, Billie Jonn, Heewoo Jun, Tomer Kaftan, Łukasz Kaiser, Ali Kamali, Ingmar Kanitscheider, Nitish Shirish Keskar, Tabarak Khan, Logan Kilpatrick, Jong Wook Kim, Christina Kim, Yongjik Kim, Jan Hendrik Kirchner, Jamie Kiros, Matt Knight, Daniel Kokotajlo, Łukasz Kondraciuk, Andrew Kondrich, Aris Konstantinidis, Kyle Kosic, Gretchen Krueger, Vishal Kuo, Michael Lampe, Ikai Lan, Teddy Lee, Jan Leike, Jade Leung, Daniel Levy, Chak Ming Li, Rachel Lim, Molly Lin, Stephanie Lin, Mateusz Litwin, Theresa Lopez, Ryan
Lowe, Patricia Lue, Anna Makanju, Kim Malfacini, Sam Manning, Todor Markov, Yaniv Markovski, Bianca Martin, Katie Mayer, Andrew Mayne, Bob McGrew, Scott Mayer McKinney, Christine McLeavey, Paul McMillan, Jake McNeil, David Medina, Aalok Mehta, Jacob Menick, Luke Metz, Andrey Mishchenko, Pamela Mishkin, Vinnie Monaco, Evan Morikawa, Daniel Mossing, Tong Mu, Mira Murati, Oleg Murk, David Mély, Ashvin Nair, Reiichiro Nakano, Rajeev Nayak, Arvind Neelakantan, Richard Ngo, Hyeonwoo Noh, Long Ouyang, Cullen O’Keefe, Jakub Pachocki, Alex Paino, Joe Palermo, Ashley Pantuliano, Giambattista Parascandolo, Joel Parish, Emy Parparita, Alex Passos, Mikhail Pavlov, Andrew Peng, Adam Perelman, Filipe de Avila Belbute Peres, Michael Petrov, Henrique Ponde de Oliveira Pinto, Michael, Pokorny, Michelle Pokrass, Vitchyr H. Pong, Tolly Powell, Alethea Power, Boris Power, Elizabeth Proehl, Raul Puri, Alec Radford, Jack Rae, Aditya Ramesh, Cameron Raymond, Francis Real, Kendra Rimbach, Carl Ross, Bob Rotsted, Henri Roussez,
Nick Ryder, Mario Saltarelli, Ted Sanders, Shibani Santurkar, Girish Sastry, Heather Schmidt, David Schnurr, John Schulman, Daniel Selsam, Kyla Sheppard, Toki Sherbakov, Jessica Shieh, Sarah Shoker, Pranav Shyam, Szymon Sidor, Eric Sigler, Maddie Simens, Jordan Sitkin, Katarina Slama, Ian Sohl, Benjamin Sokolowsky, Yang Song, Natalie Staudacher, Felipe Petroski Such, Natalie Summers, Ilya Sutskever, Jie Tang, Nikolas Tezak, Madeleine B. Thompson, Phil Tillet, Amin Tootoonchian, Elizabeth Tseng, Preston Tuggle, Nick Turley, Jerry Tworek, Juan Felipe Cerón Uribe, Andrea Vallone, Arun Vijayvergiya, Chelsea Voss, Carroll Wainwright, Justin Jay Wang, Alvin Wang, Ben Wang, Jonathan Ward, Jason Wei, CJ Weinmann, Akila Welihinda, Peter Welinder, Jiayi Weng, Lilian Weng, Matt Wiethoff, Dave Willner, Clemens Winter, Samuel Wolrich, Hannah Wong, Lauren Workman, Sherwin Wu, Jeff Wu, Michael Wu, Kai Xiao, Tao Xu, Sarah Yoo, Kevin Yu, Qiming Yuan, Wojciech Zaremba, Rowan Zellers, Chong Zhang, Marvin Zhang, Shengjia
Zhao, Tianhao Zheng, Juntang Zhuang, William Zhuk, and Barret Zoph. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2303.08774" title="">Gpt-4 technical report</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">Preprint</em>, arXiv:2303.08774.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ouyang et al. (2022)</span>
<span class="ltx_bibblock">
Long Ouyang, Jeffrey Wu, Xu Jiang, Diogo Almeida, Carroll Wainwright, Pamela Mishkin, Chong Zhang, Sandhini Agarwal, Katarina Slama, Alex Ray, et al. 2022.

</span>
<span class="ltx_bibblock">Training language models to follow instructions with human feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">Advances in neural information processing systems</em>, 35:27730–27744.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pan et al. (2022)</span>
<span class="ltx_bibblock">
Haiwei Pan, Shuning He, Kejia Zhang, Bo Qu, Chunling Chen, and Kun Shi. 2022.

</span>
<span class="ltx_bibblock">Amam: an attention-based multimodal alignment model for medical visual question answering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">Knowledge-Based Systems</em>, 255:109763.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Peng et al. (2023)</span>
<span class="ltx_bibblock">
Baolin Peng, Chunyuan Li, Pengcheng He, Michel Galley, and Jianfeng Gao. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2304.03277" title="">Instruction tuning with gpt-4</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Preprint</em>, arXiv:2304.03277.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rajpurkar et al. (2016)</span>
<span class="ltx_bibblock">
Pranav Rajpurkar, Jian Zhang, Konstantin Lopyrev, and Percy Liang. 2016.

</span>
<span class="ltx_bibblock">Squad: 100,000+ questions for machine comprehension of text.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">Proceedings of the 2016 Conference on Empirical Methods in Natural Language Processing</em>, pages 2383–2392.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Salemi and Zamani (2024)</span>
<span class="ltx_bibblock">
Alireza Salemi and Hamed Zamani. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.1145/3626772.3657957" title="">Evaluating retrieval quality in retrieval-augmented generation</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">Proceedings of the 47th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>, SIGIR ’24, page 2395–2400, New York, NY, USA. Association for Computing Machinery.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(33)</span>
<span class="ltx_bibblock">
Alon Talmor, Ori Yoran, Amnon Catav, Dan Lahav, Yizhong Wang, Akari Asai, Gabriel Ilharco, Hannaneh Hajishirzi, and Jonathan Berant.

</span>
<span class="ltx_bibblock">Multimodalqa: complex question answering over text, tables and images.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">International Conference on Learning Representations</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tan et al. (2023)</span>
<span class="ltx_bibblock">
Yiming Tan, Dehai Min, Yu Li, Wenbo Li, Nan Hu, Yongrui Chen, and Guilin Qi. 2023.

</span>
<span class="ltx_bibblock">Can chatgpt replace traditional kbqa models? an in-depth analysis of the question answering performance of the gpt llm family.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">International Semantic Web Conference</em>, pages 348–367. Springer.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al. 2023.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">arXiv preprint arXiv:2307.09288</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023)</span>
<span class="ltx_bibblock">
Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc V Le, Ed H. Chi, Sharan Narang, Aakanksha Chowdhery, and Denny Zhou. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=1PL1NIMMrw" title="">Self-consistency improves chain of thought reasoning in language models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">The Eleventh International Conference on Learning Representations</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2024)</span>
<span class="ltx_bibblock">
Zora Zhiruo Wang, Akari Asai, Xinyan Velocity Yu, Frank F. Xu, Yiqing Xie, Graham Neubig, and Daniel Fried. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2406.14497" title="">Coderag-bench: Can retrieval augment code generation?</a>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">Preprint</em>, arXiv:2406.14497.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al. 2022.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">Advances in neural information processing systems</em>, 35:24824–24837.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Welleck et al. (2023)</span>
<span class="ltx_bibblock">
Sean Welleck, Ximing Lu, Peter West, Faeze Brahman, Tianxiao Shen, Daniel Khashabi, and Yejin Choi. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://openreview.net/forum?id=hH36JeQZDaO" title="">Generating sequences by learning to self-correct</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">The Eleventh International Conference on Learning Representations</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. (2024)</span>
<span class="ltx_bibblock">
Shangyu Wu, Ying Xiong, Yufei Cui, Haolun Wu, Can Chen, Ye Yuan, Lianming Huang, Xue Liu, Tei-Wei Kuo, Nan Guan, et al. 2024.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for natural language processing: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">arXiv preprint arXiv:2407.13193</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xia et al. (2024)</span>
<span class="ltx_bibblock">
Yuan Xia, Jingbo Zhou, Zhenhui Shi, Jun Chen, and Haifeng Huang. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2407.19813" title="">Improving retrieval augmented language model with self-reasoning</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">Preprint</em>, arXiv:2407.19813.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao et al. (2023)</span>
<span class="ltx_bibblock">
Shitao Xiao, Zheng Liu, Peitian Zhang, and Niklas Muennighoff. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2309.07597" title="">C-pack: Packaged resources to advance general chinese embedding</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">Preprint</em>, arXiv:2309.07597.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao et al. (2024)</span>
<span class="ltx_bibblock">
Shitao Xiao, Zheng Liu, Peitian Zhang, Niklas Muennighoff, Defu Lian, and Jian-Yun Nie. 2024.

</span>
<span class="ltx_bibblock">C-pack: Packed resources for general chinese embeddings.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">Proceedings of the 47th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>, pages 641–649.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2019)</span>
<span class="ltx_bibblock">
Haiyang Xu, Hui Zhang, Kun Han, Yun Wang, Yiping Peng, and Xiangang Li. 2019.

</span>
<span class="ltx_bibblock">Learning alignment for multimodal emotion recognition from speech.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2024)</span>
<span class="ltx_bibblock">
Chuanpeng Yang, Wang Lu, Yao Zhu, Yidong Wang, Qian Chen, Chenlong Gao, Bingjie Yan, and Yiqiang Chen. 2024.

</span>
<span class="ltx_bibblock">Survey on knowledge distillation for large language models: Methods, evaluation, and application.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">arXiv preprint arXiv:2407.01885</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2023)</span>
<span class="ltx_bibblock">
Zihan Zhang, Meng Fang, Ling Chen, Mohammad-Reza Namazi-Rad, and Jun Wang. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2023.emnlp-main.516" title="">How do large language models capture the ever-changing world knowledge? a review of recent advances</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pages 8289–8311, Singapore. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al. (2024)</span>
<span class="ltx_bibblock">
Penghao Zhao, Hailin Zhang, Qinhan Yu, Zhengren Wang, Yunteng Geng, Fangcheng Fu, Ling Yang, Wentao Zhang, Jie Jiang, and Bin Cui. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://arxiv.org/abs/2402.19473" title="">Retrieval-augmented generation for ai-generated content: A survey</a>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">Preprint</em>, arXiv:2402.19473.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al. (2023)</span>
<span class="ltx_bibblock">
Ruochen Zhao, Hailin Chen, Weishi Wang, Fangkai Jiao, Xuan Long Do, Chengwei Qin, Bosheng Ding, Xiaobao Guo, Minzhi Li, Xingxuan Li, and Shafiq Joty. 2023.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="https://doi.org/10.18653/v1/2023.findings-emnlp.314" title="">Retrieving multimodal information for augmented generation: A survey</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">Findings of the Association for Computational Linguistics: EMNLP 2023</em>, pages 4736–4756, Singapore. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al. (2024)</span>
<span class="ltx_bibblock">
Yaowei Zheng, Richong Zhang, Junhao Zhang, Yanhan Ye, Zheyan Luo, Zhangchi Feng, and Yongqiang Ma. 2024.

</span>
<span class="ltx_bibblock"><a class="ltx_ref ltx_href" href="http://arxiv.org/abs/2403.13372" title="">Llamafactory: Unified efficient fine-tuning of 100+ language models</a>.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 3: System Demonstrations)</em>, Bangkok, Thailand. Association for Computational Linguistics.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_para" id="p2">
<p class="ltx_p" id="p2.1"><span class="ltx_text ltx_font_bold" id="p2.1.1">Appendix</span></p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Typical Cases</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">Due to the black box nature of an LLM, here the typical cases are not analytic or explanatory.</p>
</div>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span><span class="ltx_text ltx_markedasmath ltx_font_bold" id="A1.SS1.2.1">isRel</span>
</h3>
<section class="ltx_subsubsection" id="A1.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">A.1.1 </span>Positive</h4>
<div class="ltx_para" id="A1.SS1.SSS1.p1">
<p class="ltx_p" id="A1.SS1.SSS1.p1.1">Retrieved image: (Figure. <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1.F1" title="Figure A1 ‣ A.1.1 Positive ‣ A.1 isRel ‣ Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A1</span></a>)</p>
</div>
<figure class="ltx_figure" id="A1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="180" id="A1.F1.g1" src="extracted/5922567/5588a1833b8fa95fe1b0ed520e447d64.jpg" width="240"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure A1: </span>
Image title: Kentucky Derby
</figcaption>
</figure>
<div class="ltx_para" id="A1.SS1.SSS1.p2">
<blockquote class="ltx_quote" id="A1.SS1.SSS1.p2.1">
<p class="ltx_p" id="A1.SS1.SSS1.p2.1.1"><span class="ltx_text ltx_font_bold" id="A1.SS1.SSS1.p2.1.1.1">Question</span>: What animals race in the Kentucky Derby? 
<br class="ltx_break"/><span class="ltx_text ltx_markedasmath ltx_font_bold" id="A1.SS1.SSS1.p2.1.1.2"><span class="ltx_text ltx_framed ltx_framed_rectangle" id="A1.SS1.SSS1.p2.1.1.2.1" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span></span><span class="ltx_text ltx_font_bold" id="A1.SS1.SSS1.p2.1.1.3"> Response</span>: {’Reasoning’: ’The image of the Kentucky Derby prominently features horses racing on a track with a crowd watching from the stands. The Kentucky Derby is a well-known horse racing event, which is explicitly illustrated by the horses visible in the image. This visual directly connects to the question by showcasing the animals, horses, that race in the Kentucky Derby. Therefore, the image content answers the question satisfactorily.’, ’Response’: ’True’}</p>
</blockquote>
<p class="ltx_p" id="A1.SS1.SSS1.p2.2"><math alttext="\texttt{found}\to{True}" class="ltx_Math" display="inline" id="A1.SS1.SSS1.p2.2.m1.1"><semantics id="A1.SS1.SSS1.p2.2.m1.1a"><mrow id="A1.SS1.SSS1.p2.2.m1.1.1" xref="A1.SS1.SSS1.p2.2.m1.1.1.cmml"><mtext class="ltx_mathvariant_monospace" id="A1.SS1.SSS1.p2.2.m1.1.1.2" xref="A1.SS1.SSS1.p2.2.m1.1.1.2a.cmml">found</mtext><mo id="A1.SS1.SSS1.p2.2.m1.1.1.1" stretchy="false" xref="A1.SS1.SSS1.p2.2.m1.1.1.1.cmml">→</mo><mrow id="A1.SS1.SSS1.p2.2.m1.1.1.3" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.cmml"><mi id="A1.SS1.SSS1.p2.2.m1.1.1.3.2" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.2.cmml">T</mi><mo id="A1.SS1.SSS1.p2.2.m1.1.1.3.1" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.1.cmml">⁢</mo><mi id="A1.SS1.SSS1.p2.2.m1.1.1.3.3" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.3.cmml">r</mi><mo id="A1.SS1.SSS1.p2.2.m1.1.1.3.1a" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.1.cmml">⁢</mo><mi id="A1.SS1.SSS1.p2.2.m1.1.1.3.4" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.4.cmml">u</mi><mo id="A1.SS1.SSS1.p2.2.m1.1.1.3.1b" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.1.cmml">⁢</mo><mi id="A1.SS1.SSS1.p2.2.m1.1.1.3.5" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.5.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.SSS1.p2.2.m1.1b"><apply id="A1.SS1.SSS1.p2.2.m1.1.1.cmml" xref="A1.SS1.SSS1.p2.2.m1.1.1"><ci id="A1.SS1.SSS1.p2.2.m1.1.1.1.cmml" xref="A1.SS1.SSS1.p2.2.m1.1.1.1">→</ci><ci id="A1.SS1.SSS1.p2.2.m1.1.1.2a.cmml" xref="A1.SS1.SSS1.p2.2.m1.1.1.2"><mtext class="ltx_mathvariant_monospace" id="A1.SS1.SSS1.p2.2.m1.1.1.2.cmml" xref="A1.SS1.SSS1.p2.2.m1.1.1.2">found</mtext></ci><apply id="A1.SS1.SSS1.p2.2.m1.1.1.3.cmml" xref="A1.SS1.SSS1.p2.2.m1.1.1.3"><times id="A1.SS1.SSS1.p2.2.m1.1.1.3.1.cmml" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.1"></times><ci id="A1.SS1.SSS1.p2.2.m1.1.1.3.2.cmml" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.2">𝑇</ci><ci id="A1.SS1.SSS1.p2.2.m1.1.1.3.3.cmml" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.3">𝑟</ci><ci id="A1.SS1.SSS1.p2.2.m1.1.1.3.4.cmml" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.4">𝑢</ci><ci id="A1.SS1.SSS1.p2.2.m1.1.1.3.5.cmml" xref="A1.SS1.SSS1.p2.2.m1.1.1.3.5">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.SSS1.p2.2.m1.1c">\texttt{found}\to{True}</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.SSS1.p2.2.m1.1d">found → italic_T italic_r italic_u italic_e</annotation></semantics></math>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS1.SSS1.p2.2.1">Continue searching until the end of current batch…</span></p>
</div>
</section>
<section class="ltx_subsubsection" id="A1.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">A.1.2 </span>Negative</h4>
<div class="ltx_para" id="A1.SS1.SSS2.p1">
<p class="ltx_p" id="A1.SS1.SSS2.p1.1">Retrieved image: (Figure. <a class="ltx_ref" href="https://arxiv.org/html/2410.11321v1#A1.F2" title="Figure A2 ‣ A.1.2 Negative ‣ A.1 isRel ‣ Appendix A Typical Cases ‣ Self-adaptive Multimodal Retrieval-Augmented Generation"><span class="ltx_text ltx_ref_tag">A2</span></a>)</p>
</div>
<figure class="ltx_figure" id="A1.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="119" id="A1.F2.g1" src="extracted/5922567/782c76a4f9dcaa5dd4f9f1ecbdc6a681.jpg" width="120"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure A2: </span>
Image title: Daria
</figcaption>
</figure>
<div class="ltx_para" id="A1.SS1.SSS2.p2">
<blockquote class="ltx_quote" id="A1.SS1.SSS2.p2.1">
<p class="ltx_p" id="A1.SS1.SSS2.p2.1.1"><span class="ltx_text ltx_font_bold" id="A1.SS1.SSS2.p2.1.1.1">Question</span>: What object is in front of Felicia Day’s face? 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="A1.SS1.SSS2.p2.1.1.2" style="color:#990000;background-color:#FFFFFF;border-color: #990000;">isRel</span> <span class="ltx_text ltx_font_bold" id="A1.SS1.SSS2.p2.1.1.3">Response</span>: {’Reasoning’: "The image title is ’Daria,’ which refers to a character from an animated series, and it visually features a character with glasses. The question asks about an object in front of Felicia Day’s face which is unrelated to either the ’Daria’ series or its content. The image does not depict Felicia Day, and there is no visible object in front of a character’s face named Felicia Day here. Therefore, there is no relation between the image titled ’Daria’ and the question about Felicia Day.", ’Response’: ’False’}</p>
</blockquote>
<p class="ltx_p" id="A1.SS1.SSS2.p2.2"><span class="ltx_text ltx_font_bold" id="A1.SS1.SSS2.p2.2.1">Continue searching…</span></p>
</div>
</section>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>isUse</h3>
<section class="ltx_subsubsection" id="A1.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">A.2.1 </span>Positive</h4>
<div class="ltx_para" id="A1.SS2.SSS1.p1">
<blockquote class="ltx_quote" id="A1.SS2.SSS1.p1.1">
<p class="ltx_p" id="A1.SS2.SSS1.p1.1.1"><span class="ltx_text ltx_font_bold" id="A1.SS2.SSS1.p1.1.1.1">Question</span>: What is the name of the final album released by the Christian rock band that formed in the mid 1980s at Kentucky Christian University in Grayson, Kentucky? 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS2.SSS1.p1.1.1.2">Supporting Context</span>: Adios: The Greatest Hits is the final album released by Christian rock band Audio Adrenaline, and their second Greatest Hits album.
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS2.SSS1.p1.1.1.3">Draft answer</span>: Adios: The Greatest Hits 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="A1.SS2.SSS1.p1.1.1.4" style="color:#00008C;background-color:#FFFFFF;border-color: #00008C;">isUse</span> <span class="ltx_text ltx_font_bold" id="A1.SS2.SSS1.p1.1.1.5">Response</span>: {’Reasoning’: "The answer ’Adios: The Greatest Hits’ correctly identifies the name of the final album released by the Christian rock band Audio Adrenaline, as mentioned in the source content. The content specifies that ’Adios: The Greatest Hits’ is the final album, aligning logically with the requirement to name the final album in the question. Additionally, the band, although not explicitly mentioned in the answer, is implicitly known from the context of the content and relevant to the question. Both the format and logical consistency criteria are met.", ’Response’: ’True’}</p>
</blockquote>
<p class="ltx_p" id="A1.SS2.SSS1.p1.2"><span class="ltx_text ltx_font_bold" id="A1.SS2.SSS1.p1.2.1">Proceed to isSup…</span></p>
</div>
</section>
<section class="ltx_subsubsection" id="A1.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">A.2.2 </span>Negative</h4>
<div class="ltx_para" id="A1.SS2.SSS2.p1">
<blockquote class="ltx_quote" id="A1.SS2.SSS2.p1.1">
<p class="ltx_p" id="A1.SS2.SSS2.p1.1.1"><span class="ltx_text ltx_font_bold" id="A1.SS2.SSS2.p1.1.1.1">Question</span>: are all of the songs in mamma mia here we go again by abba 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS2.SSS2.p1.1.1.2">Supporting Context</span>: Mamma Mia! Here We Go Again was announced on May 19, 2017, with a release date of July 20, 2018. It was written and directed by Ol Parker. On September 27, 2017, Benny Andersson confirmed 3 ABBA songs that would be featured in the film: "When I Kissed the Teacher," "I Wonder (Departure)," and "Angeleyes." "I Wonder (Departure)" was cut from the film, but is included on the soundtrack album.
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS2.SSS2.p1.1.1.3">Draft answer</span>: No 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="A1.SS2.SSS2.p1.1.1.4" style="color:#00008C;background-color:#FFFFFF;border-color: #00008C;">isUse</span> <span class="ltx_text ltx_font_bold" id="A1.SS2.SSS2.p1.1.1.5">Response</span>: {’Reasoning’: "The answer ’No’ implies that not all songs in ’Mamma Mia! Here We Go Again’ are by ABBA, but the content does not explicitly affirm this, nor does it list songs by artists other than ABBA. Although it mentions some ABBA songs included in the film, it lacks specific information about non-ABBA songs. Thus, without specific supporting content to verify that not all songs are by ABBA, the answer cannot be logically consistent with the provided information.", ’Response’: ’False’}</p>
</blockquote>
<p class="ltx_p" id="A1.SS2.SSS2.p1.2"><span class="ltx_text ltx_font_bold" id="A1.SS2.SSS2.p1.2.1">Regenerate answer…</span></p>
</div>
</section>
</section>
<section class="ltx_subsection" id="A1.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>isSup</h3>
<section class="ltx_subsubsection" id="A1.SS3.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">A.3.1 </span>Postive</h4>
<div class="ltx_para" id="A1.SS3.SSS1.p1">
<blockquote class="ltx_quote" id="A1.SS3.SSS1.p1.1">
<p class="ltx_p" id="A1.SS3.SSS1.p1.1.1"><span class="ltx_text ltx_font_bold" id="A1.SS3.SSS1.p1.1.1.1">Question</span>: what are flying monkeys in wizard of oz called 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS3.SSS1.p1.1.1.2">Supporting Context</span>: Winged monkeys (often referred to in adaptations and popular culture as flying monkeys) are fictional characters created by American author L. Frank Baum in his classic children’s novel The Wonderful Wizard of Oz (1900). The winged monkeys are exactly what the name implies: jungle monkeys with powerful bird-like feathered wings attached to their shoulders which allow them to fly. They are most notable from the famous 1939 musical movie by MGM. Ever since, they have taken their own place in popular culture, regularly referenced in comedic or ironic situations as a source of evil or fear.
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS3.SSS1.p1.1.1.3">Draft answer</span>: winged monkeys 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="A1.SS3.SSS1.p1.1.1.4" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span> <span class="ltx_text ltx_font_bold" id="A1.SS3.SSS1.p1.1.1.5">Response</span>: {’Reasoning’: "The content specifies that the characters in ’The Wonderful Wizard of Oz’ referred to as flying monkeys in adaptations and popular culture, are originally called ’winged monkeys’ in the novel. Hence, the given answer aligns correctly with the content.", ’Response’: ’True’}</p>
</blockquote>
<p class="ltx_p" id="A1.SS3.SSS1.p1.2"><span class="ltx_text ltx_font_bold" id="A1.SS3.SSS1.p1.2.1">Return the answer</span></p>
</div>
</section>
<section class="ltx_subsubsection" id="A1.SS3.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">A.3.2 </span>Partial</h4>
<div class="ltx_para" id="A1.SS3.SSS2.p1">
<blockquote class="ltx_quote" id="A1.SS3.SSS2.p1.1">
<p class="ltx_p" id="A1.SS3.SSS2.p1.1.1"><span class="ltx_text ltx_font_bold" id="A1.SS3.SSS2.p1.1.1.1">Question</span>: who was first offered the part of columbo 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS3.SSS2.p1.1.1.2">Supporting Context</span>: In 1968, the same play was made into a two-hour television movie that aired on NBC. The writers suggested Lee J. Cobb and Bing Crosby for the role of Columbo, but Cobb was unavailable and Crosby turned it down because he felt it would take too much time away from the golf links. Director Richard Irving convinced Levinson and Link that Falk, who wanted the role, could pull it off even though he was much younger than the writers had in mind.
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS3.SSS2.p1.1.1.3">Draft answer</span>: Lee J. Cobb 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="A1.SS3.SSS2.p1.1.1.4" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span> <span class="ltx_text ltx_font_bold" id="A1.SS3.SSS2.p1.1.1.5">Response</span>: {’Reasoning’: "The content mentions that Lee J. Cobb was suggested by the writers for the role of Columbo, indicating that he was among the first choices for the role. However, it doesn’t clearly state he was formally offered the part, as Bert Freed was the first actor to portray Columbo. Since it’s indicated Freed already played the role and Lee J. Cobb was just suggested later, the interpretation of ’offered’ here could be nuanced. Given this ambiguity but based on the information that Cobb was suggested, the content supports that proposition within this context.", ’Response’: ’Partial’}</p>
</blockquote>
<p class="ltx_p" id="A1.SS3.SSS2.p1.2"><span class="ltx_text ltx_font_bold" id="A1.SS3.SSS2.p1.2.1">Reset draft answer and restart searching on next batch…</span></p>
</div>
</section>
<section class="ltx_subsubsection" id="A1.SS3.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">A.3.3 </span>Negative</h4>
<div class="ltx_para" id="A1.SS3.SSS3.p1">
<blockquote class="ltx_quote" id="A1.SS3.SSS3.p1.2">
<p class="ltx_p" id="A1.SS3.SSS3.p1.2.1"><span class="ltx_text ltx_font_bold" id="A1.SS3.SSS3.p1.2.1.1">Question</span>: who was considered the father of the blues 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS3.SSS3.p1.2.1.2">Supporting Context</span>: McKinley Morganfield (April 4, 1913 April 30, 1983), known professionally as Muddy Waters, was an American blues singer-songwriter and musician who is often cited as the "father of modern Chicago blues", and an important figure on the post-war blues scene. His style of playing has been described as "raining down Delta beatitude".
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS3.SSS3.p1.2.1.3">Draft answer</span>: McKinley Morganfield 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold ltx_framed ltx_framed_rectangle" id="A1.SS3.SSS3.p1.2.1.4" style="color:#006400;background-color:#FFFFFF;border-color: #006400;">isSup</span> <span class="ltx_text ltx_font_bold" id="A1.SS3.SSS3.p1.2.1.5">Response</span>: {’Reasoning’: "The content states that McKinley Morganfield, known as Muddy Waters, is "often cited as the ’father of modern Chicago blues’," which specifically refers to his influence on the Chicago blues subgenre. However, the question asks who is considered the "father of the blues" in a general sense, which typically implies a foundational figure for the entire blues genre, not just a subgenre. Therefore, while Muddy Waters is a significant figure in blues, the content does not fully support the answer that he is the "father of the blues" overall; it only supports his title within the context of "modern Chicago blues." Thus, the answer "McKinley Morganfield" is not supported by the content for the broader question.", ’Response’: ’False’}</p>
</blockquote>
<p class="ltx_p" id="A1.SS3.SSS3.p1.1"><span class="ltx_text ltx_font_bold" id="A1.SS3.SSS3.p1.1.1">Reset content storage <math alttext="\boldsymbol{C}" class="ltx_Math" display="inline" id="A1.SS3.SSS3.p1.1.1.m1.1"><semantics id="A1.SS3.SSS3.p1.1.1.m1.1a"><mi id="A1.SS3.SSS3.p1.1.1.m1.1.1" xref="A1.SS3.SSS3.p1.1.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A1.SS3.SSS3.p1.1.1.m1.1b"><ci id="A1.SS3.SSS3.p1.1.1.m1.1.1.cmml" xref="A1.SS3.SSS3.p1.1.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.SSS3.p1.1.1.m1.1c">\boldsymbol{C}</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.SSS3.p1.1.1.m1.1d">bold_italic_C</annotation></semantics></math> and restart searching on next batch…</span></p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Prompt template</h2>
<section class="ltx_subsection" id="A2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>isRel</h3>
<div class="ltx_para" id="A2.SS1.p1">
<blockquote class="ltx_quote" id="A2.SS1.p1.1">
<p class="ltx_p" id="A2.SS1.p1.1.1">"""
You are an expert in reading comprehension and logical reasoning. Your task is to determine whether a given piece of text is related to a specific question.
<br class="ltx_break"/>
<br class="ltx_break"/>Consider the following inputs:
<br class="ltx_break"/>1. Content: {A piece of text provided to you.}
<br class="ltx_break"/>2. Title: {The title relevant to the text.}
<br class="ltx_break"/>3. Question: {A specific question that may or may not be related to the text.}
<br class="ltx_break"/>
<br class="ltx_break"/>Your response should include:
<br class="ltx_break"/>1. Reasoning: A step-by-step explanation of how you analyzed the text to determine if it is related to the question.
<br class="ltx_break"/>2. Response: A value (‘True‘ or ‘False‘) indicating whether the text is related to the question.
<br class="ltx_break"/>
<br class="ltx_break"/>- **True**: The text is related and can help answer the question.
<br class="ltx_break"/>- **False**: The text is not related to the question.
<br class="ltx_break"/>
<br class="ltx_break"/>Format your output as a JSON object:
<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>Schema
<br class="ltx_break"/>—–
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "Step-by-step reasoning explaining why the text is or isn’t related to the question.",
<br class="ltx_break"/>"Response": "True"/"False"
<br class="ltx_break"/>}
<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>Example:
<br class="ltx_break"/>—–
<br class="ltx_break"/>
<br class="ltx_break"/>1. Content: ’Photosynthesis is the process by which darkblue plants and some other organisms use sunlight to synthesize foods with the help of chlorophyll. The process converts carbon dioxide and water into glucose and oxygen.’
<br class="ltx_break"/>2. Title: ’Photosynthesis’
<br class="ltx_break"/>3. Question: ’What is the main product of cellular respiration?’
<br class="ltx_break"/>
<br class="ltx_break"/>Output:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "The question asks about the main product of cellular respiration, which is a process that converts glucose into energy, carbon dioxide, and water. The text provided discusses photosynthesis, a different process that converts carbon dioxide and water into glucose and oxygen. Since the text does not address cellular respiration, it is not related to the question.", "Response": "False"
<br class="ltx_break"/>}
<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>
<br class="ltx_break"/>1. Content: ’Cellular respiration is a set of metabolic reactions and processes that take place in the cells of organisms to convert biochemical energy from nutrients into adenosine triphosphate (ATP), and then release waste products.’
<br class="ltx_break"/>2. Title: ’Cellular Respiration’
<br class="ltx_break"/>3. Question: ’What is the main product of cellular respiration?’
<br class="ltx_break"/>
<br class="ltx_break"/>Output:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "The question asks about the main product of cellular respiration. The text directly discusses cellular respiration and mentions that it converts nutrients into ATP, which is the main product of the process. Therefore, the text is related to the question.", "Response": "True"
<br class="ltx_break"/>}
<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>
<br class="ltx_break"/>"""</p>
</blockquote>
</div>
</section>
<section class="ltx_subsection" id="A2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>QA prompt</h3>
<div class="ltx_para" id="A2.SS2.p1">
<blockquote class="ltx_quote" id="A2.SS2.p1.1">
<p class="ltx_p" id="A2.SS2.p1.1.1">”’You are an expert in knowledge extraction, problem-solving, and reading comprehension. 
<br class="ltx_break"/>You excel at identifying key information and providing concise answers.

<br class="ltx_break"/>
<br class="ltx_break"/>Given the following inputs:
<br class="ltx_break"/>1. Content: {Relevant content that may contain the answer to the question.}
<br class="ltx_break"/>2. Question: {A specific question related to the content.}

<br class="ltx_break"/>
<br class="ltx_break"/>Your task is to answer the question based on the provided content. The answer should be as simple as possible, typically an entity or a timestamp.

<br class="ltx_break"/>
<br class="ltx_break"/>Your response should only contain the answer itself. Do not explain, provide notes, or include any additional text, punctuation, or preposition (e.g., ’on’, ’at’), or articles (e.g., ’a’, ’an’, ’the’) unless absolutely necessary.

<br class="ltx_break"/>
<br class="ltx_break"/>Output should be in the following JSON format:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "A step-by-step solution trace explaining the reasoning behind the answer.",
<br class="ltx_break"/>"Response": "The answer itself, as simple as possible."
<br class="ltx_break"/>}

<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>Example:
<br class="ltx_break"/>—–

<br class="ltx_break"/>
<br class="ltx_break"/>1. Content: ’The capital of France, known for its art, culture, and history, is Paris.’
2. Question: ’What is the capital of France?’

<br class="ltx_break"/>
<br class="ltx_break"/>Output:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "The content directly states that the capital of France is Paris.",
"Response": "Paris"
<br class="ltx_break"/>}

<br class="ltx_break"/>
<br class="ltx_break"/>—–

<br class="ltx_break"/>
<br class="ltx_break"/>1. Content: ’The American Civil War ended on April 9, 1865, when General Robert E. Lee surrendered to General Ulysses S. Grant.’
<br class="ltx_break"/>2. Question: ’When did the American Civil War end?’

<br class="ltx_break"/>
<br class="ltx_break"/>Output:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "The content provides a specific date for the end of the American Civil War.",
"Response": "April 9 1865"
<br class="ltx_break"/>}

<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>
<br class="ltx_break"/>"""</p>
</blockquote>
</div>
</section>
<section class="ltx_subsection" id="A2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>isSup</h3>
<div class="ltx_para" id="A2.SS3.p1">
<blockquote class="ltx_quote" id="A2.SS3.p1.1">
<p class="ltx_p" id="A2.SS3.p1.1.1">"""You are an expert in critical analysis, problem-solving, and comprehension. You excel at evaluating the relationship between content and answers.

<br class="ltx_break"/>
<br class="ltx_break"/>Given the following inputs:
<br class="ltx_break"/>1. Content: {A content specific to the question, describing the content of the image or text.}
<br class="ltx_break"/>2. Question: {A specific question.}
<br class="ltx_break"/>3. Answer: {The provided answer to the question.}
<br class="ltx_break"/>
<br class="ltx_break"/>Your task is to assess whether the content supports the given answer based on the question.
<br class="ltx_break"/>
<br class="ltx_break"/>Please evaluate the support level of the content for the answer according to the following levels:
<br class="ltx_break"/>1. True: The answer is fully supported by the content.
<br class="ltx_break"/>2. Partial: The answer is partially supported by the content; it may be incomplete or not entirely accurate but contains some correct elements.
<br class="ltx_break"/>3. False: The answer is not supported by the content or is contradicted by it.
<br class="ltx_break"/>
<br class="ltx_break"/>After evaluating, provide your verification and an explanation for your choice.
<br class="ltx_break"/>
<br class="ltx_break"/>Output should be in the following JSON format:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "A brief explanation of why the content fully, partially, or does not support the answer.",
<br class="ltx_break"/>"Response": "True" / "Partial" / "False"
<br class="ltx_break"/>}
<br class="ltx_break"/>
<br class="ltx_break"/>Example:
<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>
<br class="ltx_break"/>1. Content: "Tokyo is one of the most populous cities in the world and serves as the political, economic, and cultural center of Japan. The city is home to the Japanese government and the Imperial Palace."
<br class="ltx_break"/>2. Question: "What is the capital of Japan?"
<br class="ltx_break"/>3. Answer: "Tokyo."
<br class="ltx_break"/>
<br class="ltx_break"/>Output:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "The content clearly states that Tokyo is the political center of Japan and houses the government, fully supporting the answer that Tokyo is the capital of Japan.",
"Response": "True"
<br class="ltx_break"/>}
<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>
<br class="ltx_break"/>1. Content: "World War II, which began in 1939, was a global conflict that involved most of the world’s nations. The war saw the rise and fall of major powers and resulted in significant geopolitical changes. The conflict formally ended with the unconditional surrender of Germany in May 1945, followed by the surrender of Japan in September 1945."
<br class="ltx_break"/>2. Question: "What year did World War II end?"
<br class="ltx_break"/>3. Answer: "1944."
<br class="ltx_break"/>
<br class="ltx_break"/>Output:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "The content provides information that World War II ended in 1945, contradicting the given answer of 1944. Therefore, the content does not support the answer.",
"Response": "False"
<br class="ltx_break"/>}
<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>
<br class="ltx_break"/>1. Content: "The Amazon Rainforest, covering approximately 5.5 million square kilometers, is often referred to as the ’lungs of the Earth.’ It plays a critical role in regulating the global climate by absorbing large amounts of carbon dioxide. The rainforest is home to an incredible diversity of flora and fauna, many of which are endemic to the region."
<br class="ltx_break"/>2. Question: "How much area does the Amazon Rainforest cover?"
<br class="ltx_break"/>3. Answer: "The Amazon Rainforest plays a crucial role in regulating the global climate."
<br class="ltx_break"/>
<br class="ltx_break"/>Output:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "The answer correctly mentions the role of the Amazon Rainforest in climate regulation, but it does not address the specific question about the area it covers. Therefore, the answer is only partially supported by the content.",
<br class="ltx_break"/>"Response": "Partial"
<br class="ltx_break"/>}
<br class="ltx_break"/>—–

<br class="ltx_break"/>
<br class="ltx_break"/>"""</p>
</blockquote>
</div>
</section>
<section class="ltx_subsection" id="A2.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.4 </span>isUse</h3>
<div class="ltx_para" id="A2.SS4.p1">
<blockquote class="ltx_quote" id="A2.SS4.p1.1">
<p class="ltx_p" id="A2.SS4.p1.1.1">"""You are an expert in critical analysis, problem-solving, and comprehension. 
<br class="ltx_break"/>Your task is to evaluate whether a given answer appropriately addresses a specific question based on the provided content.
<br class="ltx_break"/>
<br class="ltx_break"/>Given the following inputs:
<br class="ltx_break"/>1. Content: {The source material from which the answer is derived.}
<br class="ltx_break"/>2. Question: {A specific question that needs to be answered.}
<br class="ltx_break"/>3. Answer: {The provided answer in response to the question.}
<br class="ltx_break"/>
<br class="ltx_break"/>Your goal is to determine whether the answer is appropriate by considering the following criteria:
<br class="ltx_break"/>
<br class="ltx_break"/>1. **Format Accuracy**: The answer should be in the expected format. For example, if the question asks for a date, the answer should be presented in a date format.
<br class="ltx_break"/>2. **Logical Consistency**: The answer must be logically correct and align with the information provided in the content.
<br class="ltx_break"/>
<br class="ltx_break"/>After your evaluation, provide a detailed explanation of your reasoning, breaking it down step by step, and offer a clear conclusion.
<br class="ltx_break"/>
<br class="ltx_break"/>Your output should be in the following JSON format:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "A comprehensive explanation of whether the answer meets the expected format and logical criteria, supported by specific references to the content.",
<br class="ltx_break"/>"Response": "True" / "False"
<br class="ltx_break"/>}
<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>Examples:
<br class="ltx_break"/>—–
<br class="ltx_break"/>
<br class="ltx_break"/>1. Content: ’Mount Everest, located in the Himalayas on the border between Nepal and the Tibet Autonomous Region of China, is the highest mountain in the world, with a peak that reaches 8,848 meters (29,029 feet) above sea level.’
<br class="ltx_break"/>2. Question: What is the height of the highest mountain in the world?
<br class="ltx_break"/>3. Answer: 8,848 meters
<br class="ltx_break"/>
<br class="ltx_break"/>Output:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "The answer correctly identifies the height of Mount Everest as 8,848 meters, which is both in the expected numerical format and logically consistent with the provided content.",
<br class="ltx_break"/>"Response": "True"
<br class="ltx_break"/>}
<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>
<br class="ltx_break"/>1. Content: ’The Nile River, which flows through northeastern Africa, is considered one of the longest rivers in the world, with a length of approximately 6,650 kilometers (4,130 miles). The river is a major waterway for countries such as Egypt and Sudan.’
<br class="ltx_break"/>2. Question: How many countries does the Nile River flow through?
<br class="ltx_break"/>3. Answer: The Nile River is 6,650 kilometers long.
<br class="ltx_break"/>
<br class="ltx_break"/>Output:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "The answer mentions the length of the Nile River but fails to address the question, which asks for the number of countries the river flows through. The answer is neither in the expected format nor logically consistent with the question.",
<br class="ltx_break"/>"Response": "False"
<br class="ltx_break"/>}
<br class="ltx_break"/>
<br class="ltx_break"/>——

<br class="ltx_break"/>
<br class="ltx_break"/>"""</p>
</blockquote>
</div>
</section>
<section class="ltx_subsection" id="A2.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.5 </span>Image inference prompt</h3>
<div class="ltx_para" id="A2.SS5.p1">
<blockquote class="ltx_quote" id="A2.SS5.p1.1">
<p class="ltx_p" id="A2.SS5.p1.1.1">"""You are an expert at problem solving, knowledge extraction, and reading comprehension.
<br class="ltx_break"/>You excel at identifying requirements, breaking tasks down, and solving problems step-by-step.
<br class="ltx_break"/>
<br class="ltx_break"/>Given the following inputs:
<br class="ltx_break"/>1. Title: {Title of the context}
<br class="ltx_break"/>2. Question: {A given question}
<br class="ltx_break"/>
<br class="ltx_break"/>Your objective is to determine whether the image content is directly related to answering the question. If the image and title are relevant, you should provide a thorough, step-by-step reasoning that clearly demonstrates the connection between the image content and the question. If the image is not relevant, explain why there is no connection.
<br class="ltx_break"/>
<br class="ltx_break"/>Please follow these steps:
<br class="ltx_break"/>1. **Analyze the Title and Image**: Assess the image content based on the title and determine its relevance to the question.
<br class="ltx_break"/>2. **Develop Reasoning**: If the image is relevant, provide a detailed and logical explanation of how the image content answers the question. If irrelevant, explain the lack of connection between the image and the question.
<br class="ltx_break"/>3. **Conclude with a Response**: Clearly state whether the image is relevant (‘True‘) or irrelevant (‘False‘) to the question.
<br class="ltx_break"/>
<br class="ltx_break"/>Your output should adhere to the following JSON schema:
<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>Schema
<br class="ltx_break"/>—–
<br class="ltx_break"/>
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "A detailed and logical step-by-step explanation of why the image content is or is not related to the question.",
<br class="ltx_break"/>"Response": "True" / "False"
<br class="ltx_break"/>}
<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>Examples
<br class="ltx_break"/>—–
<br class="ltx_break"/>
<br class="ltx_break"/>1. Title: ’The Cosby Show’
<br class="ltx_break"/>2. Question: ’What color is the inside of the text in The Cosby Show?’
<br class="ltx_break"/>
<br class="ltx_break"/>Output:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "The image titled ’The Cosby Show’ prominently displays the show’s title. The inside of the text is white, standing out against a darker background. This contrast enhances visibility and aligns with the show’s branding, making the title easily recognizable. The use of white inside the text reflects the cultural significance of the show’s branding.",
<br class="ltx_break"/>"Response": "True"
<br class="ltx_break"/>}
<br class="ltx_break"/>
<br class="ltx_break"/>—–
<br class="ltx_break"/>
<br class="ltx_break"/>1. Title: ’Mercy (TV series)’
<br class="ltx_break"/>2. Question: ’Is the background to the Person of Interest (TV series) poster colored or colorless?’
<br class="ltx_break"/>
<br class="ltx_break"/>Output:
<br class="ltx_break"/>{
<br class="ltx_break"/>"Reasoning": "The image titled ’Mercy (TV series)’ features a grayscale background, depicting a cityscape or a map-like layout. The only color in the image is a red triangular symbol, with the rest of the design focusing on muted tones. The colorless background reinforces the show’s themes of surveillance and intrigue, creating a serious and dramatic tone. Therefore, the background is predominantly colorless. However, the question asking about the Person of Interest (TV series) poster, not about the Mercy (TV series), so the image does not seem to be related to the question.",
<br class="ltx_break"/>"Response": "False"
<br class="ltx_break"/>}
<br class="ltx_break"/>
<br class="ltx_break"/>—–

<br class="ltx_break"/>
<br class="ltx_break"/>"""</p>
</blockquote>
</div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Tue Oct 15 06:35:20 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
